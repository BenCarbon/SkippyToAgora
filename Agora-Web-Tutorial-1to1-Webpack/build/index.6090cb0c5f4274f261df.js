/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return resolutions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Toast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return validator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return serializeFormData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return removeView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return requestPermission; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return getDevices; });
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(materialize_css__WEBPACK_IMPORTED_MODULE_1__);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


 // import { replaceSearchString, stringify } from './searchParam'

var resolutions = [{
  name: 'default',
  value: 'default'
}, {
  name: '480p',
  value: '480p'
}, {
  name: '720p',
  value: '720p'
}, {
  name: '1080p',
  value: '1080p'
}];

function Toastify(options) {
  materialize_css__WEBPACK_IMPORTED_MODULE_1__["toast"]({
    html: options.text,
    classes: options.classes
  });
}

var Toast = {
  info: function info(msg) {
    Toastify({
      text: msg,
      classes: 'info-toast'
    });
  },
  notice: function notice(msg) {
    Toastify({
      text: msg,
      classes: 'notice-toast'
    });
  },
  error: function error(msg) {
    Toastify({
      text: msg,
      classes: 'error-toast'
    });
  }
};
function validator(formData, fields) {
  var keys = Object.keys(formData);

  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {
    var key = _keys[_i];

    if (fields.indexOf(key) != -1) {
      if (!formData[key]) {
        Toast.error('Please Enter ' + key);
        return false;
      }
    }
  }

  return true;
}
function serializeFormData() {
  var formData = $('#form').serializeArray();
  var obj = {};

  var _iterator = _createForOfIteratorHelper(formData),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var item = _step.value;
      var key = item.name;
      var val = item.value;
      obj[key] = val;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  if (obj.uid != undefined && !Number.isNaN(+obj.uid)) {
    obj.uid = +obj.uid;
  }

  return obj;
}
function addView(id, show) {
  if (!$('#' + id)[0]) {
    $('<div/>', {
      id: 'remote_video_panel_' + id,
      "class": 'video-view'
    }).appendTo('#video');
    $('<div/>', {
      id: 'remote_video_' + id,
      "class": 'video-placeholder'
    }).appendTo('#remote_video_panel_' + id);
    $('<div/>', {
      id: 'remote_video_info_' + id,
      "class": 'video-profile ' + (show ? '' : 'hide')
    }).appendTo('#remote_video_panel_' + id);
    $('<div/>', {
      id: 'video_autoplay_' + id,
      "class": 'autoplay-fallback hide'
    }).appendTo('#remote_video_panel_' + id);
  }
}
function removeView(id) {
  if ($('#remote_video_panel_' + id)[0]) {
    $('#remote_video_panel_' + id).remove();
  }
}
function requestPermission(next) {
  var tempAudioVideoStream = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.createStream({
    audio: true,
    video: true
  });

  var callback = function callback(hasPermission) {
    tempAudioVideoStream.close();
    next(hasPermission);
  };

  tempAudioVideoStream.init(function () {
    callback(true);
  }, function () {
    callback(false);
  });
}
function getDevices(next) {
  agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.getDevices(function (items) {
    items.filter(function (item) {
      return ['audioinput', 'videoinput'].indexOf(item.kind) !== -1;
    }).map(function (item) {
      return {
        name: item.label,
        value: item.deviceId,
        kind: item.kind
      };
    });
    var videos = [];
    var audios = [];

    for (var i = 0; i < items.length; i++) {
      var item = items[i];

      if ('videoinput' == item.kind) {
        var name = item.label;
        var value = item.deviceId;

        if (!name) {
          name = 'camera-' + videos.length;
        }

        videos.push({
          name: name,
          value: value,
          kind: item.kind
        });
      }

      if ('audioinput' == item.kind) {
        var _name = item.label;
        var _value = item.deviceId;

        if (!_name) {
          _name = 'microphone-' + audios.length;
        }

        audios.push({
          name: _name,
          value: _value,
          kind: item.kind
        });
      }
    }

    next({
      videos: videos,
      audios: audios
    });
  });
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

/*! AgoraRTC|BUILD v3.6.9-0-g3107120 */
!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}([function(e,t,n){"use strict";n.r(t);var r,i=n(11),o=n.n(i),a=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},s=n(14),c=n(2),d=n(1),u=n(48),l=n.n(u),f=n(49),p=n.n(f),g=new Array(32).fill(void 0);function m(e){return g[e]}g.push(void 0,null,!0,!1);var h=g.length;function v(e){var t=m(e);return function(e){e<36||(g[e]=h,h=e)}(e),t}var E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});E.decode();var S=null;function _(){return null!==S&&S.buffer===r.memory.buffer||(S=new Uint8Array(r.memory.buffer)),S}function y(e,t){return E.decode(_().subarray(e,e+t))}function R(e){h===g.length&&g.push(g.length+1);var t=h;return h=g[t],g[t]=e,t}var T=0,I=new TextEncoder("utf-8"),b="function"==typeof I.encodeInto?function(e,t){return I.encodeInto(e,t)}:function(e,t){var n=I.encode(e);return t.set(n),{read:e.length,written:n.length}};var A=null;function O(){return null!==A&&A.buffer===r.memory.buffer||(A=new Int32Array(r.memory.buffer)),A}var C=function(){function e(){l()(this,e)}return p()(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,r.__wbg_signmanager_free(e)}},{key:"get_digest",value:function(e){return v(r.signmanager_get_digest(this.ptr,R(e)))}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}},{key:"new",value:function(){var t=r.signmanager_new();return e.__wrap(t)}}]),e}(),N=!1,w=null;var L,D=0,k="free",M=[],P=[],x=0;(w?Promise.resolve(w):new Promise((function(e){N||r||function e(){var t={wbg:{}};t.wbg.__wbindgen_object_drop_ref=function(e){v(e)},t.wbg.__wbindgen_string_new=function(e,t){return R(y(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var n=m(t),i="string"==typeof n?n:void 0,o=null==i?0:function(e,t,n){if(void 0===n){var r=I.encode(e),i=t(r.length);return _().subarray(i,i+r.length).set(r),T=r.length,i}for(var o=e.length,a=(i=t(o),_()),s=0;s<o;s++){var c=e.charCodeAt(s);if(c>127)break;a[i+s]=c}if(s!==o){0!==s&&(e=e.slice(s)),i=n(i,o,o=s+3*e.length);var d=_().subarray(i+s,i+o);s+=b(e,d).written}return T=s,i}(i,r.__wbindgen_malloc,r.__wbindgen_realloc),a=T;O()[e/4+1]=a,O()[e/4+0]=o},t.wbg.__wbindgen_throw=function(e,t){throw new Error(y(e,t))};for(var n=Uint8Array.from(atob("55ZBgM/2Bzm2JGhNn//ljJsSorhWUYE66a1Hf8O7pfQGR2zfol8qRP6CDhsi3iG7nFZu9stSyPq/qu2Rr2w8QkTGP6Gm2cg3J5qsQgq5bcHA9mDpGv/b24uEwsixZVl1eGkdV4SB/6ayw2v48hLmNA+w5UlnTCiWwerzESQPidpSUMbamXL3pU815EQm12GhhZ9aWzo568gdZvXevBc/WHfFKQSuTgWva4e4eSmW7UxpH8sY4HlDsCTMu0WwEB8B95XsZwOp3GLgfOQmJBw036DgIKU+XGn4KpIEq77WE/h6R7sZKsFUp+u+2cDnW7IPNe7xfd9areFo0EUh0/9K9CqxUkLqMB5hlgS1fwQHRzKPhQ7gALyc6HwMCPooS0M1NrzjdfH3vUn0PeQ1GBlnrnXgiu8TunfHg5TcbBfPEbxbyiiow1Np+VEBlHNh00PiAWyu024NHaPbDGfMtzu4WF02fgkh8Pxb7bCSpCZndjTytQgAzfZxk2bbe6NoHHFnsviqYzHVpxoPEk7icHRWcZC28d2muthq673KCMQay1fJcPqSTuYhWUZS5eylIguT33lP+TBbOWQI8KtCzBN5FzqILfKzRkzrJ3L192BUF8SILdwmriv10HU9ZlQAyQA1VdegnzOl/dYk2GGsB3724y7w/7aJLHJzEfwrfIzFd5CoAft7ct+zQW2G4Wm2kpoz6uJfgrNyykQgwCO6pkPy1ADrBUuJon9ySjhgcFru6AKa99wTlIhzBw3FKFt9Aa1/1KWWy7W1wAIGzRTs/7rLXRkKFjNqGVXBdoVNTpHFtfEFsuX0X98ISr0Bennlx0h2Yl/CGNb5Kc7i3bio1XJHX24avcMsEAwfdfskCki4/dkStn7QC97YJC3z+7gD84IiEEeGcnn7gHJyeALr0ssbqDUcKqxEyheyFs9FToJziLB+eYw6nMQLmYTrQyrg3b+3YBdgx7pzNEDSyz3tmaPaikwcLSyB/Igo6U/oP/fS2TZLtmN03m4iS76YrDJAgI+2W1GboabuixVcLdxm6SQ4CzUnHSPl1knhcGhW/+OcKa53tB5j5C4wEpiENv6T9PUu4K0YwtEAqFbd/eN2wVAYCKn/nlVA8uiESxCfgs0411mRFk4i1pixJLPP5AFPG9QFZnj6X19TqmhmIhl8D6Q1rOvPCqPZV/z04HjayX4qPzPzP/5NVilN/sHhQe7ulriGmU/3rj5QEuiOymsL7EdCQMc/4mXDPdVrDBfbt6dnv11oLYGmqOP1oSBj02FtsmYrMn9pRg7HJoCh86jAnzuOYn4tGnQ4gw/89sb64NAXcoIbTIjyiHBAQCCK2Yn4I/fNF10rkQlvSvkpqLG2eYpJmpWrcouNDEUtJFR607oNraLdmUKyLc1g7SNpS+ofp1FL6rua/HFSrb5kTF2Vcy2gl+6MACbFRChKoP/un7IbYJuOima/JWFZcs/MXokIx+ijuqjMtVKaYRTzNI5ncPa2y/EXTNdUUFpMhbE7sa39Uoh6Hci/viXy2KFTNbiw+BkWOPnyOr04LjIYKlJ8ud/KvjuvNUGQOHJvj6tpZJxj97tr0OrgZCAxSHGU5JQfqEd/U0QfzGM8Wh3zdsnd9LhoIIRJAtyA2PmjwJk4zTxeYlgwPqAVTU3+9bA1QD+jLZZ3Ffk3MRq+Ar2RT8YN6ASR4bItt3omBj0LJe0zeGY3OzfhljL6LA1m4+IUp+CzeWo0aEjnvRk3iCJeajgdC+NUGB5qh8PWKtBeC58woavnRjvRNphXS4b9M7Aymcfq26B2YY2lS+wLf763OnGJlVdV/srgyAUJJZjarxom4zrYy23kLFB8zFzWuwSMue5Xm1YWape91JGDuRLIctrJWU47/XfLm6Zgei4xOwq1RcjikGuaZtDwcFg9aKtO+JOGJsCjy9AiPnmt+rmdX83GsT3KtTETnLv6ZQcnGtmt4H8AjFgGYePdQc40cj8VAOV8NCLspyW5w63b3g37GXJrzjm9Fym3fh27psjo5RuTs7XCSrNENxKm9jCcXPqWxyuXJSn6dhdWnw5SAnUjixXviWS4HsnYjw4Xt4cSwkqCB9naLstVXt5D2HgG4fzHFNHvnETft0mrhU81IBDTSyNFdDvFEX8cifoc6FcNq7pzXlotl2ZS1FIzNXddZrdXpBNYZPV52gtCok6ePpUR/Y8jyJpE9P3q8dmFVivVGgmKTcBKMDDbzeOfl4MpOGBtBX/Lab/kzqG42sTyOyGUyOoFXYGMUWJ33GPI2KNa/mW8zVl+imshfbj7PiK1qRUn74KjAkH4wjKnu50AONYUaiveSdwnEc1zCjZSJ3dmBKSxhWAcO2PdHBg5m9+JCiPGCVfK9dzoM8Bm7xx9noJiqt4hNiVa5di1Fd1JRN4rnd1DbKglKpAVSoqvJPxmuyH56TFE4BQjhfKbDMZezQJqx+KXDiW1JWGeDYaPVBWPYeZX6STIzC/DjS7UFlqoKgGGAGP17x8wmMRE6O/axG5jDzloCGxCmrymT0ZGCh4g54O1iDYUtmJr7Bo1d+H9RQj2Y10BxcMkLFTIZVjm9e3vtIbeRx0OdXE1Ou37J/WeJZyPXn1fszvp/KonCqVnt862LrxfoB/0sF5gk4Y/f6LVneU5hun9/V1OVre9XrnDBhcVaQa9Ye6gs8sHW9HCNchaFbkUpxSiyxVEFZIlbejbjSPFlkYOLhtQHduwZWRHWA9akqykJNG3PKvOZAaJG5nWQq8+e4K0JF/AXTKIIr4J7zDt8ZR4xb9T2gxjl1nfqzidMRIY5B4rkw0oetta+j8rqkFpTEGA+hU/tw7bDtpkPYvCguwncnCjwULNFT9I9jXx3H4Ws3WWMCit29F7kGq2Ka+rU/MjnuP0lsXkoB1rr8LawHH5gaf8rajq/BhKrGTIfjDiZG5qz+L7SZBZsMSZZ9pM1QhKju+GTD9iC+9HlhfXMtj94gz8U4h7eGXziEO7lo7LwLL6/DVMrGbkv68JYUYhGz2yBm/8cbQEh5vhakbhmpv1K6XYM9rzdsd9bwYcYt3cfKE3m+/NrUa42+RpJBdFg7cAmxsZ7/0TMyVw6Aqu2gzldb2ag4iLrPNEyW1ywaJ2DXMgPi/sjnDzhuo+vIUrc86j4ZLhT4GAN6uqwbnXq5UDzX7TfuB48oMvvE1sK5q6owkdWfklgnC6pSBpK7wl+e3kuvaYnGRGJJMBQuVgWL1awHrVtfOTsSE1vc0ZdG+a/Jbza6pHbyfi5L7FXJAGdQTk0EP3VT54+F7RZ/MJ9fj56aMxzhJRwQJ6df3cM26qSc5bW/zP3PFXypTOBwzCvVtwGQzkGvDW7XGwgLbTNHDpQXOd2BQ5Zd9bjQqGg+S+kIqWZVZCqVLfyFPF9bEOHfPepL6nRDJUD2l5uRnXqeTvidaSIoqS1Fbc6mLPtYnbp6uuts6Qo8TbMzFuI7NuaPuKnQIyVu7vUGJ8jg1uVOjlMNKdVtLPr9/ZEKVZVj7lsFA+nm3zRjjr1DRKhr/wY1CI1iXKVTeQZ0i2PSnN99j4iVTSwNAYQLWWD+KyZ/xRLVxmZQPuSkLeKBRAkavxjWnIFQb1dn72wMSUdcB9cNCNJNdyTkrl44MRR+pUuiVrTAnTlzL33X32eEYwT+vn564yxFJLUDyIMNjJ0nx+GreKSOglI2et0kAwRHKYFclH9GVTiVlB0TWeUJGD+7JYogF7BizjTGyPOUEWQCguIEmtC4fHD5461T80Z3Mp7rhNTI+Cswuknr9hrIZmpRyFSrSrP8R4S1Cf34Tu4RNrDxpofVK9nGTklZPsYM6eiP29Lx264fsX9oLdYhq7vCwcrRMJ1a5d0QHXUYRV5IqTFBoUSpxkQ6IHHL8ckM4NCzwk8K0CA3pj5Jp2a9wZjfKq7R/eukzQFuhMxV2qgHf2E3t7/SA8N7sMvsmF0p3J96QRE3rA85ekH1q8nrBVujlIqahmL0Qto3+JxdqAfnKMCblQGSKVWZgWLMm82MG/9pjhdkMzG7C2GRLGMty2y8NhX1pZWHNbLOmvaC424LNz/Nl5tkPv7fVbCT2ItB+/dx3ZhVhmgSLd1zL+2PsNFmj7VGBruTttezlo1mDKErjY27nTswjf2fY/Uq8lPcVAgRpJM+m7jS/8dk8cdl7fkY7Tuj4TfiSe0tiNSoJgZwom4+9haoBQ65AifaB7pUiTc0MAXCvG+nDydkRIbKx5fL6gAlyMAnBbQf+Qh1naLfzzwLVTP0EEyoenW2W1zKqfMql5rwGlyCB9mSa2s25yHf4SDSBlgEVMJtplpRgegZvDakpWDKgx3UR4W7yKW+RD7bd7rEa/GQmA/q0RYAOIaXfO/2CgEUPtNhPS2uqy29lBYFPPv5SHQ0t/jRxQLBpe09ateAWKypt9TWS7Z5gynOePS5M2NC16AhF0Xz6s7DUjtI0xNho9Y6GK16J5V8HqHypV/OAz7+VBzTaiR57XGH4r62GoAiJqfWOM7okzKCeeSBnOIKPHtwgM0SQbvCvv7rmS6ZAacu4BbXZ5R9gOhdR9H3bi7lWLBNnqqLPIy0k6m4XBhtl40B6z/5AcJxjtKfwvIExl7VsQRqbW8gpPMsmJZfSp3uC35g1AkP+BJlju3RVoFZNo3JR18A5uc60NGD4zvzIdGTAOth4ZAZx0ZGQItHuNcLz/0CiavJdkjD65h4avf1vf7LFZ1uogJz6vLK3uDisXIBIGkXOlIpxTdjjjTQt6Khy50bYbXsG9JBrSUGhsBWpeRUnq2cZWOifhfueY95gFIDAu37oKR3FQ1YxGMg3UMq+L2VN2rtqodelSHof8SyYZVQWs7L0bjtgolId1tAAjHI7J1/+JIRXeUBjjaGGQAU+az9XFfiqn+VRAGG8JDdP/WmEqjhYpcy00LIBIBzCF9I9mbXCv8IX9fhPlI5NqWGO/v0ikpfn+hb5U16FcPYsx+xLb4la6nSbvrTDP5MthPyeLIIY7ZE/rNU4ajgPmI0/3RvD7WtEbo8UGPjnev55N2ELuFpEPzkNu9MzXqq8K0cWxk4lT2DQPi3rDO8x8i5jX7wWQi8e0neCMb0SUO67zRfaekZONGfaFl47LByciUuy5dhqxMPokhTE2WbzxqCyt/s2TqG66R0ocYHmzv9f7tJ+TES8NFyzL3fhNoZoW5IxWNE+stYWutd3LPwa7HKhhRAbl5uCEbEGjrUzTXwbzG0qvpmNtpnYnmKjzTaSAFNCxfw9edcjaxCiRKKIDd6GS/eDsGBgTvJexDfwGmVWm9jadZhee9jRFiZFtL6m7sY1oQa8F9ycxSuPANXCqWkApcaEfQLkt1yyfeRs5yC5O/6XGJ4TEtJmCTPJFRr95au20STIPgkoEF1mzZ+5ZRtWKUYuWJVZDwcA/lTy6oYp0/d0LGPRUXnXRm0qtIXQVdnoVhKZPeWACt9rujRL57MEDi2kHtfV/ucu+k03bN0fQlbalUJ0faY99GC6L8MO8MXTSmqDAxNSpqpIFPhgHgAg0YK/GZhlQjbQXE4tMDEDO9obNfp4W6m8fdznMesSSRINBG5FDf//DkT9pSRQsIdSg4VK7W7j2d2jsQUIyjJmbd/2zCTaqh0Yq0cH6mS/5g/cq3eGOiJbaCNo6oVwGURzXVAeVaGIfJFhd2A59sVp+rVfe1f8B6bVbCLIKgGUgpUokO0vTg6ouAxXGQKtveMhhBT83ukPIRZ02+qF1kvM+nNCVy8uzrB0+W9QIKbMio2m/7zW78xd5Tf9itocpLbRuNC5cuS/GyRGXw6fzFzjM1UITlQ5dlvoyYxuvb7ol4S1MyhkfMNZbif6/xic0wB3uSScez3oFTRbCHBd0cbJL3cLwfQjCBpGBrRVC7174qW4XWnw0eYGSSzTVSEDOlMaTUIGJO+s7/z8JxaZprcEsoB4+vt9/+uwtM/iyqLVPidu8ZTh+F1rsEWKwZhDAg/giVc6VzRq+DJCrhn81b/LYlLJOdgoAjID2VnwgU+mQhCL6KhgIqqiVraD25UIYEqxMcZ1aRcZvHa8x5gh5onPtsVcl53Xek9BOYqkyj64acX921zwqoY0lmNA81NE7BzVts3cwWDZ4Dk6uuzwtfJuJc7vVS+fdVDEg3ATwC9oG5/Vb1swTyzTsl2V4m+93bSQo5STFG5AruTDWTym6Lxtt4OrAeIVgdoyTJL+keHiHTNiL0/nO5oYwftSQK1aYBuA0e12t/FVN+LsCk0L/hfCCcke89LuP4d46qnFo3NLpHb+NFrvekXVT4GiZgMW2H0orIY0TpS15wlxVUaGCUo7YSN0yWDRU5+p41dCOs5/vXq1do7K+Byjj35/mPlQ+VEDqqF7OIBQrXfHgCXYPy8ye3Ih3io+tYA6nK0/2clIERrpA0AMHKLTGEO7q/IzIcOCwYN9W/ISH4v4uk9MhzNu7Fg2IPCq5CQF1GLuzQu+wNv2h94NIA2UJydawv5X2bHkZjv+kB/WQCYjxUNEU8ssUdxDZstpv2qNAHmI6BMD84olxMiwFdK5J80zc9x7de/cz3ZNIkkGIpMCZJqKKkaLVo1MLnR/h/hQeUvfqJmvkPeIre3EjnliNkKJKL0KNaupHzY7Eoztaj0cNOhJ5dxIRB2is3kLcSK1FZswRJR0B5OXX+Q4UlFIrhR10lIge3Fg5DnaGoZoOyFaaHztrdF251JubDsCZRDSWA0y6ysykO+h4jhXtuWF7D5Wp7B4Hx3EQvKsmPPZYcLevowjlWghHbRBEhwPI3bzjhNWXlqtym5ObYAeYxuHyvyYue2X4651f7Om3+m8KT7Y/JqLWXwgayCdzxHuJidti1ITuf/oXzeCfTRbG5ytXlDk/epX061W6BO074jI7nV518OkYtRJDnPqdDFAf0uWcATfk0h17+gP7GHjy0Rc0Ive9XmvA6gCkoMjNjMEA7GQ3xy7e12DzfNpIfND7GKKojMifTrvkDXrfa3o4wNYktY6/VlBdHtrcH9F7uMWICej/BjZXVX83WFGcVHx3nOXxSL59kE9bSmHc3Xp8iDbPuSG5GIRp3fTFHnmTzzGedl6al2gUbGFKtkC0jFNtKTk2rr8LEObiGgfCoSpTWknvAYDQBoj93s0KiRNPOqgY++Xka2cQiDwqUsLl8/i57YC/V6sy5/NvhViRRZgCzcyjNHGzZsYA5YMtUntyfC1gNFP7cL3AwVA+326NJI7MQJoxTqcHL/YhntsnYTR5R6GVVvFYIlW8Nv9qn3daoGXMz0MoAsXpCzbiHZ0XWkfw2qlJkmZjgQtMAEhHXNgokGRPfOprmtlvNZaNlGB1EjQTVX1Y4tCyJFZhdhID4CowB23uQF16NifyxH+DGnQrnxeklnG7UQV2BRVdr6ZEKZYv7Gj+PbpojzAskvbdtaFsataqPrLDoejjc6ZfPA5zA0iYcCvcNjzuy9SuT0uG8NWMTLv2OsImL++PQV1sifUENAwi4O3yBvzTy4J77B7mMBpjCYGXAyjFGFZL4eAazSmvZ8thJ0FFW+keLHL+ft1dQBKmXY6JatelGebcIC/PyLBHdfX9bRcauGg4xEO7mMl8AjlcPMczkPniNQpiQFqcDJYrFGoxMV2hskxMn0bRQT8Ajc6w6sQYkGl0CQUImPrGfie9dsk4mrCLMIFOqcm0WT8O8AiREEGmooBTO7WI0qk506NsV7ffvc0rVJERJKcyRyCmFZdTSn/SrBfjV7SXT3pQlgluoY4FBUCDDkzwBgjkrE1oFUA3ls+xVP10w5jjBIMwKBSQqRVAEDXw+Dyj+jH3ila8czULWsCKhWd4qGsMFN7++OGBAz9eXHjAO9m++mTXF6qiyG35Q+61yjYQKsBrjR4NNexrwVGqBwAZA6cr5mp8AhoyzPomJ6TLfWEJjEeRI3QsX5oQkNuyF7u650QFka+VjFeNRY6ALklleTW9I0v4ABKDCXTGkjv80vqVNk+FTL0bJK7ndSjjMJD7OBFIEywBPJFrxTdyzocmxEgG0zu1VDgsQuXITYCx1RRty89A/F+CdSAlbMlIkptCC0GrF/jFS8PAU+6TNV1eBqJrCr9BgH1mth8FtdfE7druR+xyZKn5idfUKzGW6ACGF4M61IRoSs9o6xmaj3dnAVQvFWUsMcR6MI3xTKJNyMxkhXhhvT0IxialnG7i/BBzXfMXYh5jl4BXzCSNlxU4+aboEgIDr48/+pfj8J3WcNccFfzV6eiX05qkNktmafoBcxrEsrM8WQV0VVSRybQyXPOqJ1yndwBI6BOGO9oGxGDAd+HcKaZlptCMJsR1Cp3m7F9HpBFSu/NYVj+WSDY7jWSFBlTBSCFyyPEUn8S9NmBVa+mwGVsz0Q+fxe23w1w6wVO7sVnZqRpmXJeXg72QFkl7Qda1lBzn/FW+rRwLvFxCsuad67Wmzab1RJdzPGsuq8AzW6tL+JiwW/VPUSBbBmV1+EjqQ28x1u9W5Eoy7zhsU8NT87CtNbZ0lPEpsoWMewxC80kPanfWPrQXmixWDXXz7uf1kBTr1J/iYuls7fUsyAChXjKcKOaCF4ySqkhMTGmjNqYiG5joBUi/SZpWvgxk28pyIPhf28YULINiqmbWPBKuTCLFruV7JfRgGM87XfNEFc7tgnYx503k/0UXJfpmjx6wKbKcvV5fqrctx+OrIn++TxRxSKlTScEIwd2vG5mg/p5wsQDpiD+X91XbkReKLB25Jvp/IJaJh715RXqBzwCwlY3URonyy+oZoTD8Ym8XMMv/dMllh0LCFZkZFn2gYcLG9iO+I5S/GyxwjajQLQtwH7o+n50vimC+ES8ePOpPDwlu4oG8KhS7NL/OTdIWPIHbSa6/9DfjOq9W66EpaK57R78PpEzVNLkTP2L6lllqDT6SDhIDIvQS3SQbxG96khXgvW/rME+tiXFXi+BC0udi9keyGlc3sLBN3CP3QXzswhBGTxvz2LmRMkU3rLuSkYR1Gzr7vj1VxTN1y1iciA0DswsPZ38eB6X10Uzk6HZqjzBK+EJ5osJJJ/s3b0MFRIWYlM15TPm1uzeOk1zQ96quClQLEZbpxmV/eAduIotXUYQZjWAkTulBJt7kw9uEnLo7OpZrf8k+0ZQP0agcOTLbfrekHji86Mxr7rTwve82mePKoAkkEthE45VI+f1VqpyWNW1kbBbVVfuatKt6MEKqyTUyxSFGHk81kY7CxkgMNexiikN0+IeiUNsfuktjfOAiMfDhbTe4rtxSEPvO4CCUGaktA58TGnSO8rHdCicmGkNrwWsnXgUWjhp8bllNcnQN10TbwxYPAwQKW/JJiYQadr4THXO+vWudiq3I47vqmEM/Ab3Dlq11Q7RmRWntYOEyESbTI8PZYwbtsmjcSwBtTAIHQ5h3I633h3FpOkT2c0PlMjzj0Q/OuqaTVt639fowVppqvSlNcK5KupBnrxfKHQK+SoKSuaO8PNMkYkbcEAc9F0I4uzPfRVP/q5QkvJVsVoJ8BEWW/q1+kivHEMQfb+J2NfJjSTG+WhjHjL8eqi7FgfVewxwmqG9IOnTkwDjAHUaJMIyhVkadW/+GQjLyNP4zyHcLAdWcB5zQ2kc/blAx2RKfG+ON3RfC+iQ5Th7V2i5abkoy0pjfyOwTjIvaq9slSCtoNGBZggBDOiWwau0CX4NAIThFyqu9VWCLr8TsqhQZvQP+xrywovGs6A079U7YBjhEXyQw4Q3rbQY1EQnxTPXNlHfn9vQnuhsJnzx6PZrCqry8fidPz2U1scmAMVPHxa/injIf+hDziEU02xWm9ou67OgebktON9V6wwVotoNOzVNJhiDBlHbktBwOjX1BlJHybLox5y/7NhR7uc8f85O6xdxueabhwtJjYcBzac56v6RbuI9IRvPzOnNbltj8Hh0ftwwhWyHAyiEat0oDSEVZ925jmxJKAqTo4/uHnkozgMDsnkzXPXBDJ1sDTawXy23mXuTJOYV6ZVWrervMaGGGQpgQjAnfP7KPZro+OKt/MpnoM0NeGQgIFAiH7dU7Nl1QbcMiwO6/5nIosJtrFB8w1kpqb6OjI9BgZHG1nzTMGA++HNrl4WQNcq3SajD4C9utQYAu/fETPFMMJeCDwHRCnPuRAlqJ5t0E5h3Wlh1Nw57LQ36kDjC3lS9w0a89eI8ym6BzEA25Cdz3LQAyz94Fvjqp7MyHrpm3PzmsV/tbSLF9NJBjFmzWPQ8Tfgvj3fi8dg78tXvEatqtUhLxsNp2VCU6IzSqafxWw93+Wk47skJv5qxM+tv7CrpYKvWLEylJNEXlh7GHm9UenNf2/szZOl+54P4ZWksh1r6+rphL68QYhmqW7DqKVrc2rjzPYcvFDmKtCGL/F62i3riMV9z+LoLnuVaMn4dtpNNFmQEQ4uEhDfLYU4x8G2OHCz7gnxLCa4zE4CFo9m/+ECmdzziVumHM/P00/BESH2rxUYMBL8/9NRG5fiskFJr4AO0qNUKUCgTRgEiFsTbGXtP4DTTzc8ZAmfNJuJQE5Kp7W7U7QZnBXKepfSHkYTEqgOhqo95Jw9i56kYGt4BWwX50mC27CCW92SVMl4tbUEhBDSB36zgztz5Zts0563Kjc34B+6ZUnMIk+BiQNvqSkZHnk3rHNSaYthO72IWLIxij0hcv7n228yc82FsQLK9jmptjY6estDfH3OSMaAj+poCLKwRFXvXWb6jwM9mG4nu1yug0Cc4L89w4EYek6dnV17VBfIxB2dmFFQdp0kqx3BM9gdMAr0KS7WLOSf3cn5eDItDLP2UW7MWaIR+GJ0EGcEL3ejBdu0to6vDh04JcRMNU55usmSn3jp74myzWE3azMIT96wr39F62c3G/ldGskbqTIMTk3gMg61vNBQ0cJSIxVdcgNb3xFDowwVyIqYz54F8Rqg0uQE4FIiUGZxJhND/AWhkukqIqLLZEpxj07kPBN6Zb2pWht/X5JrC8yJzPlvFhfJndQ4jcgjFyhvymr/a17uxTKHpKNWDEoL4nNa9/Prf7TYRw6Gyo6vcwYcUHk17SMb9aEdVnx24msNCDEKbj0OVzRaA3gFJeXZPObqJKvWqFlavGpxXnP+4ZYTl0Dmcri6vMdwX687ApG+ygiGHZDwNzU68F4JMPQ9JB45vLkCsE2w50QNP1kJZlI56dVGzfK1MyRqP4J6VshesfOT4hzR6MYq373IoONlLvENdYXN6pTxo5eRzQkwk2tZ1zmZqczCytqTEhpweKcBCCZ/FhizgLm8/x5ScBlO0wEXHZm90mpmL1gR/J2CUnz3wDU99YFFKqm01AZ8q2S5Fnh81CbD687c7K2OjWlZgdvEJA9M0JT3eKdIRd9GCx6g1TO5PWTE8OOphUDKdazyYnmMqFhFxfJ//cWJTsgYbol2a7Ob/Q69Fy3kb9K7aZLzH+Kl/uCzWnqTOrQonVL7LTFPr7wbTaepfAl5zSgMInjrGXY+Gspw+fCNgEU1zyC0Suum6VFyHBjdKWft7strrOXqOSQwxsYXp4F013mN9gZyu4Hc84A4dzIHN5UNXmxNn+vPjS82JM6klySWB9pLCzLBUgXiMDllaG6fT2PSBv/b+yaruyWBVcpsOKuEaQ37W3A3t9YFRcgB5rFMDjwOn3c0lfsg+5V+dBX2EmWLTSelNZkeq67CFnxaKtnlsAJRPBqYvoWVZcJKn0zSelrO2TwnailO7zgAHaMRmQYbXo9beBs16JWf7V8LjYGS/DYUKTTE1zKECC/pK1EKf6mxIgmV+mJ+Mc8h04qep+okIIEXaN351J3N0VUk7cEEaOLE1rFF3W4vqRcodPfbLqINF6QtTsfny1+O46J5ahlamZEyxglZtpjEkKd9yKDsgwnzqoAPN5o76IsI+FRaBc8u1qLBWxpKU615chTVegNFR5V4o1T2JGwVkueD6CjAhOplPnRyv8sauMnMy2wEMARR6AmCQ8S5ebL0nCEqjSztMoUyAEjQ6FDYqkGweu48DkBR5HjwlBloKVawYcDezxKBH8WWnMpJKZj1Ol+OHMmg5iq9xDswLx0iTNkujgatOkeRU0c/GmSSH+7GTTMLQJdj51l3EkojjEwWOjw8XBOm88GqC4bWPEE+U/5XYtZNJG/X4FYjgIvVd69RYVbMEMfPSKJ825e3XQ6RBesp/G+lkMk4VIxRakyUBPLO1u0UYnNG9ExAnPdOO0OfFvcPOL9rBJO8bR+q9Lp9/i+fH32KkaNR2WgoxQY3FY+rS2NUvtCOgZAaF9vny16WG/3zeUtRP9V28PcGivAHAwwCcRk0D0iohjAfgL/EKXJkr8gIFqbNq7lXUFRKqMbpBa182ol77SqJq1M5setGUJuSBKqYBYKdDZv3XdT/u6J5aKKkLvA5ez6PuWX0RT7kELSKDKfg9w9nwSmMmJHjbnr0blM2WvpiirR/nLid6SRN9+5KoLUb+pLw3QzD8JlS3X2q0m4BNRxfltr5KWqryOuuGDt6IOHSE8/zqGXMiTqgrUOfDH58NoWe0te4mFc1GxswvhZXWJZmaWaMJo2SBnuXa7+jIfFbnhNH74Z6jygwcqXsldYfI/Zh8BZbqTh2I7Hu44dilfbX8Uh18NVB3phRnTwpUonKquUs/iZXRnDFjtEmKg2YRQm2CP1FWRb/B92HqJlHT7Hs/Tpl3RrlxvkoskpNlW53/6Ujse0fkHLNeUm97TlDsaRXpfZkR1uWMTwhPv4oYM2Bv941R+c7nQ0yBdFNVQpZRkpejmIfjFrdQUA7DPwR69aq6Pzmk3IXarIMKG6R4MBdkB3j3HWxohnZLWpaNy/BMxS+84e4vPPfO/7+nLWVZsdpUY/nGDkQts0NGnRpZK/lW60tmncMoTepY5fMbow1GyKhqSXLbOZkz59l8DG9v9ZHPwA1roKz3MW/j2tN/U+lPQVYXTa6h1ePQkSWR2bp9OHmCCvT6s8v9PVG2ufK7dkbpY500gNx7fdArzH3yCjY33Fa5TbOuybLNdW8juJyJtikDn+5jMnMzIWP/+v12XkaXj195xk6eOKuvA5zeKk1i1PrSnmWA46Ca2ldgNqJ0rvLqM9X2EPn/QuMjLnLg0iVJ4H4r5S2PgpGdSdfVoiX/rBAq6yVDc30v8DOUae4oquSM0YDCIafLQ+hvEmB5b/f+QsTFtAR0zIVWeLyYbmrx3g9gHhVRfelCz9/exh19AGsyXcwuSaBiCzQIoctYvyhhkdCsC/cdZDce/1Fav35JQt+RJFAjiMRQhCdE4eS3SmfsREHe9LZa0ElOLhxxvs5uS/SnMYssyK9FxiucRjjOqfaIp2N8CmuNJqg3WvtMk+MlbAYeji9K94rx6U7nj9L1TGhVcAyz+Gb4sib21AW94HRzWbTrRKEkx5+KLE69Vc+8Cj1Vu2GkZ1AA2E4kaJ2aTjsEL2C0srAINXRAjnxwI3p5ED0NRYn9sT1iY9GPBJwhhd6WXEJ/Z44D0rufaDOA8dUj1SIqywRs2b7SjYcCYS8eefkwdWlpN0DvnecdwHVc3TqyCcUy7K2PMS2l2KZHzZfLCTCPaPq/NVc/Nlc5hVJoFvnNUpKWZcTsxVeHfH1mnELREECq9YES9v6FcvONCxXLQmf0k3S2dyNmsxbvlXM0u7lSqkx81md0rad3E33PPuPpDGM9UiBhSeJn3Sejmx+LdLCiZYcVxow59nCqrUmXGAbsR4O7wVQzyHdL6DX5s8k5BjHXlONz0PaIqS89xMhkYetMw6w7JZ5c/oJBH2jdZPbS6KbR0RpEe16BATLzU4QiHybxArrjBM8MKKP8Zz6MVbg/d8yb76U8nQzCK4Eqa5ombBm7/6xo2dR9O/ByfcU6qDu+efdLFAP4LiCr6C3aihDPjigUYuy0voLuX3Flevl7xXRtRZ4Vc48j2tgA7tK0wqv4OjLwCzZJn9lYIQuScQBEFMBjA6Vj8FTp4h3OphB6g0uA13nTnVLmKQ+zfELl+6znWX5nCWvbwak0t3q4qwWK3MAPKE2vqDEeCsFKvmJ2Ws+VOqnrA+ekCk9jaszBsZd71InADWijT4SHnyVmc55dv5ivXl1fED4vwNrxbiZHWeGinS3ImcoDAT1vGiLpP/D3NaiIPq9A2h5DT5SgaCVCh0JKu7DKsHjW9ZAACRxHgTSo5jrVWUJfGKweg2auQuittVidB+JaCdwYd0x9oJ4jyI5UygrB9Nzi2gbLVcCnpu+1ytsiWCbJb1Xxas8FhG/EX86taG6flZZauhaGnpRyfBB5ojGdsdPBVHEtb8R951oaNTvKXK7CddSeWaeOi2FIDPEhWhAk19RzuR9wSKEwvvi8nQFz649+fUlBMuDL7VmUBSsC1ExWwqY+uSdNKowEkpsBb+/KpWl6oGxymyR/e4uKjipBJrVPXg0nE2j6HL2JbCHNh01lV+/+6FUglhV8GTypzdvdfhYc7t0ZYtkyH/17wDakU7r1GAdUIXXmtxamhK2FdelBa4BPryblCC9gJG9htJue9LMrNS7mM6gbRA1xSFnWNsziDuGZeS3Dcu4bjsWaIebrgNnxpl/pLGxV5EtkFwDeh8fPyfPU8CZAM/Ljk3+Vi7jUtNZmZM8+f7d4wlUIkTHiAULRUKu0ODFIeyk20BiqLB7vvAT342SIDP+z5FPaa6Tjyqh/AsX2jFhbeIXKxDMb8fid0jHAWk6JKhswbtvtP6bDz+lYjvXIPwV1Y+nyft2uM8c1aUxmDHAUmZnJBvZXT43mxjXDHP05R1/dKfoExcgcYzv3wO5mazi7ugS01z6oUmByKtfQ6fA2+MQynPCoDHcp1eDtag/E3HQpHMWAgGkNh9wWR5Y48YG0W4CgvOrngI111j/x+MIuH5xFlVkxqptSjW+hnVbt9qxtXndEH5RtnxWfd9eP+kli/x3LU1WGsZVAkVElXD274LBGK0bMveEUbj/6EpnocEnvRSlglpE4GiAO5S4JdYb4uYd6oeK8vuZvTQaWMS3dEIJ2ssCxWz8DqYmc/b38ynz0DWCCeF1gCyipaLG2Kq9wqfHz3S6m7CS+H42nmDYAz2dYcx77M8purGOS5tQ4aykJXIDQBwHjIGSU+52M+1OV53rp4B3JbIXecQWEjfk9gkVoz8T6HJbIhFgm3quNMk+cIyRHlj/BdURXY8o7H7dBQfsdpLJhAsxS/1JtMkY8JoP4YdyOxzJY5x/+A9scOTXvPVoQAMqgmP899s6GvRtzNFGXLX7VHSnUj7VPO8K1qxaS/a/6v/YhRlUtNgnqnth3Jo/DKbdhdPn6HgB9YjU5GuN1uPyUXZJDZYfFwMfdqNPVoI8d1csoHMK5tquGoK060mIwBHMk3pFGqBosajr9g/5kBPrrtuIIEPFZnaAKSCQqLdeQq2B6Bs8WxD8+DfzGJ2nu0Xeb58spPoiHZAVV+I5lRUseUE0IA4E844UzFYADNYcLBW3zsP7aWzLnUZoQPuIDR3FX3bkM5mCunvXaPSi4PRkKnItEv8/OYiq8RSKQcaTwxX9YgdNbgPuXLwb5ARofv0Zj3WpHhNnlTq2Qu/lwvM3PUaqv8L7kpFqQR9aRaXfFanbLgbyxJ2kAx9oA1kRMyH3JXI06oQhRiZQ1LtWz+QKKxme0zAgI2q6/dmYApsA7WGeBae5+Y3eqkqDjXyS7Q+LzYgrM3EiqGHsibaKZKgFecxpGiMLXY5+kkuDKBdMkj2Bd8uTKI+aTWpu97gNp78fm891zYuT68sIEzE5JggpWjlWFSpzYayxvnOxJ3JYK/q8WbCy14KhtCFhdLOxCEAvyqXN3K+oP52ZzdxHiCAac5LX2TO5CTmkxp6zCT5JZDIBgnnmQU8GBowEvogfPni17fE1sljd55P2C4mWCNDr8l3hMH+4zpyZqp3iFbJx20nGtU+9LJozl0OxNrk/c0C9chEe+k4vUECnUaXbS8JqdnymqbZ1SCI+4+1BYMW4nzYKDLaqL3Nm08C/Ug7zNg2BuwhWepXrkqaRX58LCWLPDQyUzn369E1drtekeuNcI4SgdmyQZ/7xhXZ6sOKg9G/HEiJQsriRQThvHz4BhaFaXic4nlrz4LhUthGBLbnnB6tufJizYx4c6b2rY1E63pLDA8QdZsTOD7euNMku1a0T2nNQ9rOPBYPDyksaP+EmKTvqcgRycKMtzhHh37mAqVERuzIIMs/zXE9jGBpJBBWb8KCPZne6Sxw0+UFlY6/VeXJUHunHXY1csfc40Tw95XrkpLzxqX/LrsaYM7Y0UQ/Qe6PTjMQUXDseSMhYwHTXCohySQ+1fIjz/yjZWRFI1/a4d9eQzWLoGjz8O8ldPhzhpWFwwlaR0T1gpMP3VeHvDOx4RJocHJOSRQ+H4/nHJsiuXWDKowYZZW8Jk9vUiw2jExedn7glAsC/bgN1NrgIp1y+y3tmLd2V9x7yKVC+QK6MOFq19dlQflj350qUavBULMCTn0BvCRQY4q6VjniU6XHISUsaApCVoQeevAOuCUFcnwWfK+44XDo1qSpPF1wcnbH7N9aO+AzD212PgFlGkXlaQ3Gbfz9XIUMjulgGUREelr6IX+tR2K9H/yep959z5WLXlZ81Z8HCIV8CyU0JKYzkIeFqf6o2ywb2O73oRi7i8F6Vcn2zU1VWZpLfSXgTNkRtqM7r5s13UimLWtAVZs97rLcMRlwXzYp98ZnKvQLj/dpKn8nfNnU9V2Bp90frlQedeKt6zd4mPR53FKQ1J4r95n1G8ph0XG37DC9b185sWbnoyC4Q1iUvyy5IOxBrIqbqn/JSUWzdrlOiZGDJrU5IGuzUl5TaupUTIgFeLfT6uh0gIEJ5nZQ/8XjB0mmEZxTvocrU/BFoOaUvV/N48W3W/aQu5nR3KwsSByfSDAEq6qBqTVTkZtkaAd/1Rie2jkdRlZvxFMu0MGnLc0SHPII8eOz/bjfIhSQhAb38dSRcFmfRb+fpDrDHeazED6EHNayy0kESoRG+XFbJa6xWB6OlbwHVDwdO9Ka7bIOqLRHpZjwXmv/2DR9nu+2xwxE39cBHq/7Vv99HcvH8ZJeGmgHr8mBKQmOCTkvLkxf5k4FrqZuNpaRNhCB3puFuF5d2nnQbhgAaANLMCYAiGsJhX2bFM/r3BGhR/dkGPXeBQUJ4tTARQnVqA07mW/42Dv2k7Wa7hWU/wv7FTIWLwWyHX0Vqdg4BHrlJ7zh+b+T6fH+W3d53LS5rkXK5GIctMIttK+osfGYIvOD0BkkXBJR0EYUmteToIxpoaMVKZmCRC2BbmBLdUTIZiI1kVYKYnq9Q5xMGODu+6vCT2ofvYE0pmGbQ9Ln6wnBDYZUD/BL9rmiPn3n28Zs33OsHUQcLp2vjUEV5sOBLO2ScyescGu0N58y1q1NSNJuXCzI4fu4RWJtSIn3P3+9eAsMo/2NupFeaf70/usLGd2Z0F27EjLoIj+nmJ4/Q5edPFhVNpPURQrUzPALNNzEvx3e82rDtPpbZjugv7Abm2q2vMGwz5W+hGH0hkCzXdZhPFbLk0sR5vVhScLgAPdZIVZIjTuzwIKVuWmvpMr7Gwxgiglpy8ecfOAZcCpXRzG6lNuRB64D4G9AWD9vQi/crWV4Xq5VjJnRjQc3g4bJe+MmksjEctghn27n5i5PHZvW/gM0BsXzo8Pou6yOLnp49dGXpK/oLAbOdOel9h+kDqEtZunvsXa9EFomdl0QbDvk+H58SjszCVqVOXSgDpOdZjXWfZpFL6S/fd1Lq8FQS3LklgiNhdvE5GzgSO8uq3gtj8I2o+JzucnrUSrtoxa6IejmVQLGzF3rSCy3fdhBPhZnDdgctC89dRJ+PTfW4ga5WWAyaWspzFg5251FoByB8LUbD3AxhvV6M1ARNXRJ4NhPe2j9WOlu5I2KmCMGvGP5CbHAyZk3YhiuIdtDgOvre9Cz0yOWvHH5FpZQzqzyHE5XkTTFMU2JhG1nvne9SCi9zNvPnGj9h/bQXgpue78rpogXJl8oDSfMwz9fp4ocyOxEV1JCEslSsRvodEzPbUsMUYWDERNzR6f45Ku6EmW3qdD48dcFQtc9rr2wF3o85edZ/2SY0BSkOdQX1ahwPVBP554Q1Z4lbd0d/vrRCO5k3QBWOb3iML0vI4MRkiKwqt735Q2fkq0Xl1pI3nk4ll51cSEHOrFTctkxwLOiQl6HJh2q3iqHFmtOCSo0A4YLl+mllolm7FLpe/79gMoe7A5cbFPCbX9Z3GhI43FgBbWoq8pwaIoDlklRimVauOx355pv7v26P0MLrgiqWTOxJaIGO/UhHf7GSOm0r1O5m1sPYYn1bathmEkYfrQLiEWQ2/3IjunsIxgAmi6t4JsxalYxE4YyvD59EpzvswOjZUvSgkHwPZonVtaiMTLXnV3p0dKpCSSz38Kv8QbNFzqLbwbBBRUHw/nHSxNipNm5vtjfkuf06jWRwkctgu8wZqKwS/7IcGnFtmwnbJFPhpGcyV9GVFzCCG+TOeNgAWxOUPgmtLdD8JawVVDV+e3iR8kHuaZXIknncI/3uFnblTd2P/OdWvxl+9CXbqJb1CS8osg2fg/qaA9KvM3FQoZQ79JRZC/Upm90ABPCGzksTWJ7Xy9VHpnPZCgGzAVbJhmurq8tm24BjBvnm1GOKfotvCqXyIXFE1bYTRS1WtzgZrGWgR/oOUDnNgDPXqUfTmyFPfNCD9MX22hvuBans/Kl1DustiTunl9Kravj0NG1Ds5nkTqlQSYOfhgvRIowimmWAYWma55eqvaQL9GvHmuH/hIVB/tiN6s7yOW2iahReL8dNddIbMJ6BLVguJ4n1dnquV3ZNqi6V0H/Vn00j0cE80ERsZTgsHPJ0eUjxYik+eDtaEHnyAsYeR2AjRcGw=="),(function(e){return e.charCodeAt(0)})),i=new Uint8Array([177,156,215,89,13,111,230,1]),o=new Uint8Array(n.length),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;var c,d=0;for(s=0;s<256;s++){d=(d+a[s]+i[s%i.length])%256;var u=[a[d],a[s]];a[s]=u[0],a[d]=u[1]}s=0,d=0;for(var l=0;l<0+n.length;l++){d=(d+a[s=(s+1)%256])%256;var f=[a[d],a[s]];a[s]=f[0],a[d]=f[1],c=a[(a[s]+a[d])%256],l>=0&&(o[l-0]=n[l-0]^c)}return N=!0,new Promise((function(n){(function(e,t){return WebAssembly.instantiate(e,t)})(o.buffer,t).then((function(t){N=!1,r=t.instance.exports,e.__wbindgen_wasm_module=t.module,n()}))}))}().then((function(){w=C.new(),e(w)}))}))).then((function(e){L=e}));var U=!0;setInterval((function(){Object(c.getParameter)("UPLOAD_LOG")&&j.info("console log upload")}),9e5);var j=function(){var e,t,n,r,i,u,l=null,f=["DEBUG","INFO","WARNING","ERROR","NONE"],p=0,g=function(e,t,n){var r={};Array.isArray(e)||(e=[e]),e=e.map((function(e){return{log_item_id:D++,log_level:e.log_level,payload_str:e.payload}})),r={timestamp:Date.now(),sdk_version:c.VERSION,process_id:Object(d.getProcessId)(),payload:JSON.stringify(e)},L?r.hash=L.get_digest("".concat(r.payload).concat(r.process_id).concat(r.timestamp)):n&&n();try{var i=l,o=l||"https://".concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2");Object(s.post)(o,r,(function(e){"OK"===e?t&&t(e):n&&n(e)}),(function(e){n&&n(e)}),i?{withCredentials:!0}:{withCredentials:!0,"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}catch(e){n&&n(e)}},m=function(e,t){if(Object(c.getParameter)("UPLOAD_LOG"))try{t=Array.prototype.slice.call(t);var n="";if(t.forEach((function(e){"object"===o()(e)&&(e=JSON.stringify(e)),n=n+e+" "})),M.push({payload:n,log_level:e}),U)return;"free"===k&&function e(t){k="uploading",setTimeout((function(){g(t,(function(){x=0,0!==M.length?(P=M.length<10?M.splice(0,M.length):M.splice(0,10),e(P)):k="free"}),(function(){setTimeout((function(){e(P)}),x++<2?200:1e4)}))}),3e3)}(P=M.length<10?M.splice(0,M.length):M.splice(0,10))}catch(e){}};t=function(){for(var t=[0],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},n=function(){for(var t=[1],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},r=function(){for(var t=[2],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},i=function(){for(var t=[3],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)};var h={};return u=function(e){h[e]||(r.apply(void 0,arguments),h[e]=!0)},{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4,stopWaitJoin:function(){U=!1},enableLogUpload:function(){Object(c.setParameter)("UPLOAD_LOG",!0)},disableLogUpload:function(){Object(c.setParameter)("UPLOAD_LOG",!1)},setProxyServer:function(e){l=e?"https://".concat(e,"/ls/?h=").concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v2"):"https://".concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2")},setLogLevel:function(e){e>4?e=4:e<0&&(e=0),p=e},log:e=function(){var e=arguments[0],t=arguments;if(t[0]=a()+" Agora-SDK ["+(f[e]||"DEFAULT")+"]:",m(e,t),!(e<p))switch(e){case 0:case 1:console.log.apply(console,t);break;case 2:console.warn.apply(console,t);break;case 3:console.log.apply(console,t);break;default:return void console.log.apply(console,t)}},debug:t,info:n,warning:r,deprecate:u,error:i}}();t.default=j},function(e,t,n){"use strict";n.r(t),n.d(t,"report",(function(){return A})),n.d(t,"SESSION_INIT",(function(){return v})),n.d(t,"JOIN_CHOOSE_SERVER",(function(){return E})),n.d(t,"JOIN_GATEWAY",(function(){return S})),n.d(t,"PUBLISH",(function(){return _})),n.d(t,"SUBSCRIBE",(function(){return y})),n.d(t,"getProcessId",(function(){return b}));var r=n(46),i=n.n(r),o=n(7),a=n.n(o),s=n(2),c=n(0),d=n(14),u=n(28),l=n.n(u),f=n(47);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,h,v="session_init",E="join_choose_server",S="join_gateway",_="publish",y="subscribe",R=new(n.n(f).a),T={eventType:null,sid:null,lts:null,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},I=null,b=function(){return I||(I="process-"+l()(),c.default.info("processId: "+I)),I},A=(h=0,(m={list:{},setProxyServer:function(e){R.setProxy(e),m.proxyServerURL=e},getUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),":6443/events/message")},getBackUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),":6443/events/message")},getSessionStartTime:function(e){return m.list[e]?m.list[e].startTime:(c.default.DEBUG("[getSessionStartTime]: session ".concat(e," no exit")),0)},sessionInit:function(e,t){var n=a()({},T);n.startTime=+new Date,n.sid=e,n.cname=t.cname,m.list[e]=n;var r=a()({},{willUploadConsoleLog:Object(s.getParameter)("UPLOAD_LOG"),areaVersion:"global"},t.extend),i=a()({},n);i.eventType=v,i.appid=t.appid,i.browser=navigator.userAgent,i.build=s.BUILD,i.lts=+new Date,i.elapse=i.lts-i.startTime,i.extend=JSON.stringify(r),i.mode=t.mode,i.process=b(),i.success=t.succ,i.version=s.VERSION,delete i.startTime,m.send({type:"Session",data:i}),m._flushInvokeReport(e)},joinChooseServer2:function(e,t,n){if(m.list[e]){m.list[e].uid||(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=a()({},m.list[e]);r.eventType=E;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},joinChooseServer:function(e,t,n){if(m.list[e]){n&&(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=a()({},m.list[e]);r.eventType=E;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},reqUserAccount:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid));var n=a()({},m.list[e]),r=t.lts;n.eventType="req_user_account",n.lts=Date.now(),n.success=t.success,n.serverAddress=t.serverAddress,n.stringUid=t.stringUid,n.uid=t.uid,n.errorCode=t.errorCode,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,n.extend="string"==typeof t.extend?t.extend:JSON.stringify(t.extend),delete n.startTime,m.send({type:"ReqUserAccount",data:n})},joinGateway:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid)),t.uid&&(m.list[e].uid=parseInt(t.uid));var n=a()({},m.list[e]),r=t.lts;n.eventType=S,n.firstSuccess=t.firstSuccess,n.lts=Date.now(),n.gatewayAddr=t.addr,n.success=t.succ,n.errorCode=t.ec,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,delete n.startTime,m.send({type:"JoinGateway",data:n})},publish:function(e,t){var n=a()({},m.list[e]);n.eventType=_;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.success=t.succ,n.errorCode=t.ec,n.audio=t.audio,n.video=t.video,n.screenshare=t.screenshare,n.publishRequestid=t.publishRequestid,n.p2pid=t.p2pid,t.videoName&&(n.videoName=t.videoName),t.audioName&&(n.audioName=t.audioName),t.screenName&&(n.screenName=t.screenName),delete n.startTime,m.send({type:"Publish",data:n}),m._flushInvokeReport(e)},subscribe:function(e,t){var n=a()({},m.list[e]);n.eventType=y;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.errorCode=t.ec,n.success=t.succ,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,"boolean"==typeof t.video&&(n.video=t.video),"boolean"==typeof t.audio&&(n.audio=t.audio),delete n.startTime,m.send({type:"Subscribe",data:n}),m._flushInvokeReport(e)},firstRemoteFrame:function(e,t){var n=a()({},m.list[e]);n.eventType="first_remote_frame";var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.width=t.width,n.height=t.height,n.success=t.succ,n.errorCode=t.ec,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,delete n.startTime,m.send({type:"FirstFrame",data:n})},firstVideoReceived:function(e,t){var n=a()({},m.list[e]);n.eventType="first_video_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoReceived",data:n})},firstAudioReceived:function(e,t){var n=a()({},m.list[e]);n.eventType="first_audio_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioReceived",data:n})},firstVideoDecode:function(e,t){var n=a()({},m.list[e]);n.eventType="first_video_decode",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.videowidth=t.width,n.videoheight=t.height,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoDecode",data:n})},firstAudioDecode:function(e,t){var n=a()({},m.list[e]);n.eventType="first_audio_decode",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioDecode",data:n})},onAddAudioStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_add_audio_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddAudioStream",data:n})},onAddVideoStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_add_video_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddVideoStream",data:n})},onUpdateStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_update_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.audio=t.audio,n.video=t.video,m.send({type:"OnUpdateStream",data:n})},onRemoveStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_remove_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnRemoveStream",data:n})},streamSwitch:function(e,t){var n=a()({},m.list[e]);n.eventType="stream_switch",n.lts=Date.now(),n.isDual=t.isdual,n.elapse=n.lts-n.startTime,n.success=n.succ,delete n.startTime,m.send({type:"StreamSwitch",data:n})},audioSendingStopped:function(e,t){var n=a()({},m.list[e]);n.eventType="audio_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reason=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"AudioSendingStopped",data:n})},videoSendingStopped:function(e,t){var n=a()({},m.list[e]);n.eventType="video_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reson=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"VideoSendingStopped",data:n})},requestProxyAppCenter:function(e,t){var n=a()({},m.list[e]),r=t.lts;n.eventType="request_proxy_appcenter",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend+"",n.APAddr=t.APAddr,n.workerManagerList=t.workerManagerList,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyAppCenter",data:n})},requestProxyWorkerManager:function(e,t){var n=a()({},m.list[e]),r=t.lts;n.eventType="request_proxy_worker_manager",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend,n.workerManagerAddr=t.workerManagerAddr,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyWorkerManager",data:n})},requestWorkerEvent:function(e,t){var n=a()({},m.list[e]),r=n.startTime,i=Date.now();delete(n=g({},n,{},t,{elapse:i-r,lts:i,productType:"WebRTC"})).startTime,m.send({type:"WorkerEvent",data:n})},requestApWorkerEvent:function(e,t){var n=a()({},m.list[e]),r=n.startTime,i=Date.now();n=g({},n,{},t,{elapse:i-r,lts:i}),m.send({type:"APWorkerEvent",data:n})},sendCustomReportMessage:function(e,t,n){var r={type:"UserAnalytics",data:g({sid:e},t)},i=m.getUrl(),o=!!m.proxyServerURL;Object(d.post)(i,r,(function(e){n&&n()}),(function(e){var t=m.getBackUrl();Object(d.post)(t,r,(function(e){n&&n()}),(function(e){n&&n("Failed")}),o?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}),o?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})},joinChannelTimeOut:function(e){m.send({type:"JoinChannelTimeout",data:g({},e)})},peerPublishStatus:function(e){m.send({type:"PeerPublishStatus",data:g({},e)})},joinWebProxyAP:function(e){m.send({type:"JoinWebProxyAP",data:g({},e)})},webSocketQuit:function(e){m.send({type:"WebSocketQuit",data:g({},e)})}}).reportApiInvoke=function(e,t){var n=t.tag,r=t.name,i=t.getStates,o=t.options,a=t.timeout,d=void 0===a?6e4:a,u=t.callback,l=t.reportResult,f=void 0===l||l,p=Date.now(),m=0,v=h++,E=function(){return g({tag:n,invokeId:v,sid:e,name:r,apiInvokeTime:p,options:o},i&&{states:(t=i(),Object.keys(t).reduce((function(e,n){var r=e;return null!=t[n]&&(r[n]=t[n]),r}),{}))});var t},S=!!Object(s.getParameter)("SHOW_REPORT_INVOKER_LOG");S&&c.default.info("".concat(r," start"));var _=setTimeout((function(){A._sendApiInvoke(g({},E(),{error:"API_INVOKE_TIMEOUT",success:!1}))}),d);return function(e,t){if(clearTimeout(_),++m>1&&(e="EXECUTOR_INVOKE_".concat(m)),e)return A._sendApiInvoke(g({},E(),{success:!1,error:e},i&&{states:i()})),S&&c.default.info("".concat(r," onFailure"),e),u&&u(e);A._sendApiInvoke(g({},E(),{success:!0},f&&{result:t},{},i&&{states:i()})),S&&c.default.info("".concat(r," onSuccess")),u&&u(null,t)}},m._cachedItems=[],m._cacheInvokeReport=function(e){e.lts||(e.lts=Date.now()),m._cachedItems.push(e),m._cachedItems.length>50&&m._cachedItems.shift()},m._flushInvokeReport=function(e){if(m._cachedItems.length){var t=m._cachedItems;m._cachedItems=[],c.default.debug("Flush cached event reporting:",t.length),t.forEach((function(t,n){t.sid=e,setTimeout((function(){m._sendApiInvoke(t)}),5e3+500*n)}))}},m._sendApiInvoke=function(e){var t=e.tag,n=e.invokeId,r=e.sid,i=e.name,o=e.result,a=e.states,c=e.options,d=e.error,u=e.success,l=e.apiInvokeTime,f=e.lts,p=Object(s.getParameter)("NOT_REPORT_EVENT");if(!(t&&p instanceof Array&&-1!==p.indexOf(t)))if(m.list[r]){var h=m.list[r],v=h.startTime,E=h.cname,S=h.uid,_=h.cid,y=(f=f||Date.now())-v,R=f-l,T="";if(c)try{T=JSON.stringify(c)}catch(e){T=c.toString()}var I=g({invokeId:n,sid:r,cname:E,cid:_,lts:f,uid:S,success:u,elapse:y,apiName:i,execElapse:R},void 0!==c&&{options:T},{},void 0!==a&&{execStates:JSON.stringify(a)},{},void 0!==d&&{errorCode:JSON.stringify(d)},{},void 0!==o&&{execResult:JSON.stringify(o)});m.send({type:"ApiInvoke",data:I})}else m._cacheInvokeReport(arguments[0])},m.sendCache=[],m.sendTimer=null,m.send=function(e){if(e.data){var t=e.data;m._lastLts&&m._lastLts>=t.lts&&(t.lts=m._lastLts+1),m._lastLts=t.lts}if(m.sendCache.push(e),null===m.sendTimer)return function e(){m.sendTimer=setTimeout((function(){if(0!==m.sendCache.length){var t=m.sendCache.length<10?m.sendCache.splice(0,m.sendCache.length):m.sendCache.splice(0,10),n=m.list[t[0].data.sid].vid;return R.sendReportList(t,n),e()}m.sendTimer=null}),Object(s.getParameter)("EVENT_REPORT_SEND_INTERVAL"))}()},m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD="v3.6.9-0-g3107120";t.VERSION="3.6.9";var r=0*Date.now()+11499+86604+5615+6547+846;t.SUPPORT_RESOLUTION_LIST={"90p_1":[160,90,null,null,null,null],"120p_1":[160,120,15,15,30,65],"120p_3":[120,120,15,15,30,50],"120p_4":[212,120,null,null,null,null],"180p_1":[320,180,15,15,30,140],"180p_3":[180,180,15,15,30,100],"180p_4":[240,180,15,15,30,120],"240p_1":[320,240,15,15,40,200],"240p_3":[240,240,15,15,40,140],"240p_4":[424,240,15,15,40,220],"360p_1":[640,360,15,15,80,400],"360p_3":[360,360,15,15,80,260],"360p_4":[640,360,30,30,80,600],"360p_6":[360,360,30,30,80,400],"360p_7":[480,360,15,15,80,320],"360p_8":[480,360,30,30,80,490],"360p_9":[640,360,15,15,80,800],"360p_10":[640,360,24,24,80,800],"360p_11":[640,360,24,24,80,1e3],"480p_1":[640,480,15,15,100,500,1,5],"480p_2":[640,480,30,30,100,1e3,25,30],"480p_3":[480,480,15,15,100,400],"480p_4":[640,480,30,30,100,750],"480p_6":[480,480,30,30,100,600],"480p_8":[848,480,15,15,100,610],"480p_9":[848,480,30,30,100,930],"480p_10":[640,480,10,10,100,400],"720p_1":[1280,720,15,15,120,1130,1,5],"720p_2":[1280,720,30,30,120,2e3,25,30],"720p_3":[1280,720,30,30,120,1710],"720p_5":[960,720,15,15,120,910],"720p_6":[960,720,30,30,120,1380],"1080p_1":[1920,1080,15,15,120,2080,1,5],"1080p_2":[1920,1080,30,30,120,3e3,25,30],"1080p_3":[1920,1080,30,30,120,3150],"1080p_5":[1920,1080,60,60,120,4780],"1440p_1":[2560,1440,30,30,120,4850],"1440p_2":[2560,1440,60,60,120,7350],"4k_1":[3840,2160,30,30,120,8910],"4k_3":[3840,2160,60,60,120,13500]};t.AUDIO_PROFILE_SETTINGS={speech_low_quality:[!1,!1,!0,!0],speech_standard:[!1,!1,!0,!1],music_standard:[!1,!1,!1,!1],standard_stereo:[!1,!0,!1,!1],high_quality:[!0,!1,!1,!1],high_quality_stereo:[!0,!0,!1,!1],default:[!1,!1,!1,!1]};var i={AREA_SETTING:["NORTH_AMERICA","OVERSEA"],WEBCS_DOMAIN:["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],LOG_UPLOAD_SERVER:"logservice-oversea.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1-oversea.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"statscollector-2-oversea.agora.io",ENABLE_LIVE_SERVER_LIST:!1,LIVE_SERVER_LIST:[],ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,GATEWAY_DOMAINS:["edge.agora.io"],WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,LIVESTREAMING_ALIGN:!0,HTTP_CONNECT_TIMEOUT:5e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_TIMEOUT:1e7,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,REPORT_STATS:!0,REPORT_STATS_TIMEOUT:3e3,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],FILEPATH_LENMAX:255,SUBSCRIBE_TCC:!1,PING_PONG_TIME_OUT:10,DUALSTREAM_OPERATION_CHECK:!0,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:1e3,MEDIA_ELEMENT_EXISTS_DEPTH:3,CANDIDATE_TIMEOUT:2e3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,TICKET_RENEW_TIMEOUT:828e5,LIVE_STREAMING_TIMEOUT:12e4,SHOW_REPORT_INVOKER_LOG:!1,STATS_FILTER:{transportId:!0,googTrackId:!0},FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,FORCE_CHANGED_GATEWAY_FLAG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",CHROME_NEW_STATS:!1,AP_BACKOFF_MAX_TIME:8,SET_DEFAULT_TURNSERVER:!0,TURN_SERVER_PASSWORD:r.toString(),PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",NGINX:"webrtc-cloud-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CR:!0,CRL:10,CRI:6,CUSTOMER_REPORT_TIMEOUT:5e3,LIVE_STREAMING_ADDRESS:"",CHOOSE_SERVER_FRAGEMENT_LENGTH:4,PLAN:"plan-b"};i.AREA_SETTING=["CHINA","GLOBAL"],i.WEBCS_DOMAIN=["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],i.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],i.PROXY_CS=["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],i.CDS_AP=["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],i.ACCOUNT_REGISTER=["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],i.UAP_AP=["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],i.LOG_UPLOAD_SERVER="logservice.agora.io",i.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",i.EVENT_REPORT_BACKUP_DOMAIN="web-3.statscollector.sd-rtn.com",i.GATEWAY_DOMAINS=["edge.agora.io","edge.sd-rtn.com"],i.NGINX="webrtc-cloud-proxy.sd-rtn.com",i.PROXY_SERVER_TYPE3=["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"];t.setParameter=function(e,t){return void 0!==i[e]&&(i[e]=t,!0)};t.getParameter=function(e){return void 0!==i[e]?i[e]:null}},function(e,t,n){"use strict";n.r(t),n.d(t,"checkValidObject",(function(){return c})),n.d(t,"checkValidString",(function(){return d})),n.d(t,"checkValidNumber",(function(){return u})),n.d(t,"checkValidArray",(function(){return l})),n.d(t,"checkValidFloatNumber",(function(){return f})),n.d(t,"checkValidBoolean",(function(){return p})),n.d(t,"checkValidEnum",(function(){return s})),n.d(t,"checkValidUID",(function(){return g})),n.d(t,"isValidString",(function(){return m})),n.d(t,"isValidNumber",(function(){return h})),n.d(t,"isValidBoolean",(function(){return E})),n.d(t,"isASCII",(function(){return y})),n.d(t,"isInteger",(function(){return R})),n.d(t,"isNumber",(function(){return T})),n.d(t,"isString",(function(){return I})),n.d(t,"isArray",(function(){return b})),n.d(t,"isEmpty",(function(){return A})),n.d(t,"isValidToken",(function(){return S})),n.d(t,"isValidChannelName",(function(){return _}));var r=n(11),i=n.n(r),o=n(10),a=n(0),s=function(e,t,n){for(var r=0;r<n.length;r++)if(e===n[r])return!0;throw new Error("".concat(t," can only be set as ").concat(JSON.stringify(n)))},c=function(e,t){if(!e)throw new Error("Invalid param: ".concat(t||"param"," cannot be empty"));if("object"!==i()(e))throw new Error("".concat(t||"This paramter"," is of the object type"));return!0},d=function(e,t,n,r,i){if(A(n)&&(n=1),r=r||255,A(i)&&(i=!0),A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!m(e,n,r,i))throw new Error("Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))},u=function(e,t,n,r){if(A(n)&&(n=1),r=r||1e4,A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!h(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]. integer only"))},l=function(e,t){if(!Array.isArray(e))throw new Error("".concat(t," should be an array"))},f=function(e,t,n,r){if(null==e)throw new Error("".concat(t||"param"," cannot be null"));if(A(n)&&(n=0),r=r||1e4,A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!v(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]."))},p=function(e,t){if(A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!E(e))throw new Error("Invalid ".concat(t||"boolean param",": The value is of the boolean type."))},g=function(e){if(!Object(o.is32Uint)(e)&&!m(e,1,255))throw a.default.error("Invalid UID ".concat(e," ").concat(i()(e))),new Error("[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")},m=function(e,t,n,r){return t||(t=0),n||(n=Number.MAX_SAFE_INTEGER),A(r)&&(r=!0),I(e)&&(!r||y(e))&&e.length>=t&&e.length<=n},h=function(e,t,n){return R(e)&&e>=t&&e<=n},v=function(e,t,n){return T(e)&&e>=t&&e<=n},E=function(e){return"boolean"==typeof e},S=function(e){return m(e,1,2047)},_=function(e){return I(e)&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e)},y=function(e){if("string"==typeof e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}},R=function(e){return"number"==typeof e&&e%1==0},T=function(e){return"number"==typeof e},I=function(e){return"string"==typeof e},b=function(e){return e instanceof Array},A=function(e){return null==e}},function(e,t,n){"use strict";n.r(t),n.d(t,"APErrorCode",(function(){return r})),n.d(t,"GatewayErrorCode",(function(){return i})),n.d(t,"StringUidErrorCode",(function(){return o})),n.d(t,"JOIN_GS_TRYNEXT_LIST",(function(){return a})),n.d(t,"JOIN_CS_RETRY_LIST",(function(){return s})),n.d(t,"JOIN_PROXY_RETRY_LIST",(function(){return c})),n.d(t,"INJECT_STREAM_STATUS",(function(){return d})),n.d(t,"WEBSOCKET_CLOSE_REASON",(function(){return u}));var r={1010100:"NO_FLAG_SET",1010101:"FLAG_SET_BUT_EMPTY",1010102:"INVALID_FALG_SET",2010005:"INVALID_VENDOR_KEY",2010007:"INVALID_CHANNEL_NAME",2010008:"INTERNAL_ERROR",2010009:"NO_AUTHORIZED",2010010:"DYNAMIC_KEY_TIMEOUT",2010011:"NO_ACTIVE_STATUS",2010013:"DYNAMIC_KEY_EXPIRED",2010014:"STATIC_USE_DYANMIC_KEY",2010015:"DYNAMIC_USE_STATIC_KEY",2010016:"USER_OVERLOAD",2010018:"FORBIDDEN_REGION",2010019:"CANNOT_MEET_AREA_DEMAND"},i={2e3:"ERR_NO_VOCS_AVAILABLE",2001:"ERR_NO_VOS_AVAILABLE",2002:"ERR_JOIN_CHANNEL_TIMEOUT",2003:"WARN_REPEAT_JOIN",2004:"ERR_JOIN_BY_MULTI_IP",2011:"ERR_NOT_JOINED",2012:"WARN_REPEAT_JOIN",2013:"ERR_INVALID_VENDOR_KEY",2014:"ERR_INVALID_CHANNEL_NAME",2015:"ERR_INVALID_STRINGUID",2016:"ERR_TOO_MANY_USERS",2017:"ERR_SET_CLIENT_ROLE_TIMEOUT",2018:"ERR_SET_CLIENT_ROLE_NO_PERMISSION",2019:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",2020:"ERR_PUBLISH_REQUEST_INVALID",2021:"ERR_SUBSCRIBE_REQUEST_INVALID",2022:"ERR_NOT_SUPPORTED_MESSAGE",2023:"ERR_ILLEAGAL_PLUGIN",2028:"ILLEGAL_AES_PASSWORD",101:"ERR_INVALID_VENDOR_KEY",102:"ERR_INVALID_CHANNEL_NAME",103:"WARN_NO_AVAILABLE_CHANNEL",104:"WARN_LOOKUP_CHANNEL_TIMEOUT",105:"WARN_LOOKUP_CHANNEL_REJECTED",106:"WARN_OPEN_CHANNEL_TIMEOUT",107:"WARN_OPEN_CHANNEL_REJECTED",108:"WARN_REQUEST_DEFERRED",109:"ERR_DYNAMIC_KEY_TIMEOUT",110:"ERR_NO_AUTHORIZED",111:"ERR_VOM_SERVICE_UNAVAILABLE",112:"ERR_NO_CHANNEL_AVAILABLE_CODE",113:"ERR_TOO_MANY_USERS",114:"ERR_MASTER_VOCS_UNAVAILABLE",115:"ERR_INTERNAL_ERROR",116:"ERR_NO_ACTIVE_STATUS",117:"ERR_INVALID_UID",118:"ERR_DYNAMIC_KEY_EXPIRED",119:"ERR_STATIC_USE_DYANMIC_KE",120:"ERR_DYNAMIC_USE_STATIC_KE",2:"K_TIMESTAMP_EXPIRED",3:"K_CHANNEL_PERMISSION_INVALID",4:"K_CERTIFICATE_INVALID",5:"K_CHANNEL_NAME_EMPTY",6:"K_CHANNEL_NOT_FOUND",7:"K_TICKET_INVALID",8:"K_CHANNEL_CONFLICTED",9:"K_SERVICE_NOT_READY",10:"K_SERVICE_TOO_HEAVY",14:"K_UID_BANNED",15:"K_IP_BANNED",16:"K_CHANNEL_BANNED"},o={1:"ERROR_ILLEAGAL_APPID",2:"ERROR_ILLEAGAL_UID",3:"INTERNAL_SERVER_ERROR"},a=["ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_TIMEOUT","ERR_VOM_SERVICE_UNAVAILABLE","ERR_TOO_MANY_USERS","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR"],s=["NO_SERVICE_AVAILABLE"],c=["NO_SERVICE_AVAILABLE","REQUEST_PROXY_SERVER_FAILED","REQUEST_PROXY_SERVER_TIME_OUT"],d={INJECT_STREAM_STATUS_START_SUCCESS:0,INJECT_STREAM_STATUS_START_ALREADY_EXISTS:1,INJECT_STREAM_STATUS_START_UNAUTHORIZED:2,INJECT_STREAM_STATUS_START_TIMEDOUT:3,INJECT_STREAM_STATUS_START_FAILED:4,INJECT_STREAM_STATUS_STOP_SUCCESS:5,INJECT_STREAM_STATUS_STOP_NOT_FOUND:6,INJECT_STREAM_STATUS_STOP_UNAUTHORIZED:7,INJECT_STREAM_STATUS_STOP_TIMEDOUT:8,INJECT_STREAM_STATUS_STOP_FAILED:9,INJECT_STREAM_STATUS_BROKEN:10},u={WS_DISCONNECT:"WS_DISCONNECT"};t.default={FAILED:"FAILED",INVALID_KEY:"INVALID_KEY",INVALID_CLIENT_MODE:"INVALID_CLIENT_MODE",INVALID_CLIENT_CODEC:"INVALID_CLIENT_CODEC",CLIENT_MODE_CODEC_MISMATCH:"CLIENT_MODE_CODEC_MISMATCH",WEB_API_NOT_SUPPORTED:"WEB_API_NOT_SUPPORTED",INVALID_PARAMETER:"INVALID_PARAMETER",NO_TRACK_IN_STREAM:"NO_TRACK_IN_STREAM",INVALID_OPERATION:"INVALID_OPERATION",INVALID_LOCAL_STREAM:"INVALID_LOCAL_STREAM",INVALID_REMOTE_STREAM:"INVALID_REMOTE_STREAM",INVALID_DYNAMIC_KEY:"INVALID_DYNAMIC_KEY",DYNAMIC_KEY_TIMEOUT:"DYNAMIC_KEY_TIMEOUT",NO_VOCS_AVAILABLE:"NO_VOCS_AVAILABLE",NO_VOS_AVAILABLE:"ERR_NO_VOS_AVAILABLE",JOIN_CHANNEL_TIMEOUT:"ERR_JOIN_CHANNEL_TIMEOUT",NO_AVAILABLE_CHANNEL:"NO_AVAILABLE_CHANNEL",LOOKUP_CHANNEL_TIMEOUT:"LOOKUP_CHANNEL_TIMEOUT",LOOKUP_CHANNEL_REJECTED:"LOOKUP_CHANNEL_REJECTED",OPEN_CHANNEL_TIMEOUT:"OPEN_CHANNEL_TIMEOUT",OPEN_CHANNEL_REJECTED:"OPEN_CHANNEL_REJECTED",REQUEST_DEFERRED:"REQUEST_DEFERRED",STREAM_ALREADY_PUBLISHED:"STREAM_ALREADY_PUBLISHED",STREAM_NOT_YET_PUBLISHED:"STREAM_NOT_YET_PUBLISHED",JOIN_TOO_FREQUENT:"JOIN_TOO_FREQUENT",SOCKET_ERROR:"SOCKET_ERROR",SOCKET_DISCONNECTED:"SOCKET_DISCONNECTED",PEERCONNECTION_FAILED:"PEERCONNECTION_FAILED",CONNECT_GATEWAY_ERROR:"CONNECT_GATEWAY_ERROR",SERVICE_NOT_AVAILABLE:"SERVICE_NOT_AVAILABLE",JOIN_CHANNEL_FAILED:"JOIN_CHANNEL_FAILED",PUBLISH_STREAM_FAILED:"PUBLISH_STREAM_FAILED",UNPUBLISH_STREAM_FAILED:"UNPUBLISH_STREAM_FAILED",SUBSCRIBE_STREAM_FAILED:"SUBSCRIBE_STREAM_FAILED",UNSUBSCRIBE_STREAM_FAILED:"UNSUBSCRIBE_STREAM_FAILED",NO_SUCH_REMOTE_STREAM:"NO_SUCH_REMOTE_STREAM",ERR_FAILED:"1",ERR_INVALID_VENDOR_KEY:"101",ERR_INVALID_CHANNEL_NAME:"102",WARN_NO_AVAILABLE_CHANNEL:"103",WARN_LOOKUP_CHANNEL_TIMEOUT:"104",WARN_LOOKUP_CHANNEL_REJECTED:"105",WARN_OPEN_CHANNEL_TIMEOUT:"106",WARN_OPEN_CHANNEL_REJECTED:"107",WARN_REQUEST_DEFERRED:"108",ERR_DYNAMIC_KEY_TIMEOUT:"109",ERR_INVALID_DYNAMIC_KEY:"110",ERR_NO_VOCS_AVAILABLE:"2000",ERR_NO_VOS_AVAILABLE:"2001",ERR_JOIN_CHANNEL_TIMEOUT:"2002",IOS_NOT_SUPPORT:"IOS_NOT_SUPPORT",WECHAT_NOT_SUPPORT:"WECHAT_NOT_SUPPORT",SHARING_SCREEN_NOT_SUPPORT:"SHARING_SCREEN_NOT_SUPPORT",STILL_ON_PUBLISHING:"STILL_ON_PUBLISHING",LOW_STREAM_ALREADY_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",LOW_STREAM_NOT_YET_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",HIGH_STREAM_NOT_VIDEO_TRACE:"HIGH_STREAM_NOT_VIDEO_TRACE",NOT_FIND_DEVICE_BY_LABEL:"NOT_FIND_DEVICE_BY_LABEL",ENABLE_DUALSTREAM_FAILED:"ENABLE_DUALSTREAM_FAILED",DISABLE_DUALSTREAM_FAILED:"DISABLE_DUALSTREAM_FAILED",PLAYER_NOT_FOUND:"PLAYER_NOT_FOUND",ELECTRON_NOT_SUPPORT_SHARING_SCREEN:"ELECTRON_NOT_SUPPORT_SHARING_SCREEN",BAD_ENVIRONMENT:"BAD_ENVIRONMENT",LOAD_AUDIO_FAILED:"LOAD_AUDIO_FAILED"}},function(e,t,n){"use strict";n.r(t),n.d(t,"getBrowserInfo",(function(){return E})),n.d(t,"getBrowserVersion",(function(){return f})),n.d(t,"getBrowserOS",(function(){return p})),n.d(t,"isChrome",(function(){return r})),n.d(t,"isSafari",(function(){return i})),n.d(t,"isFireFox",(function(){return a})),n.d(t,"isOpera",(function(){return s})),n.d(t,"isEdge",(function(){return o})),n.d(t,"isQQBrowser",(function(){return c})),n.d(t,"isWeChatBrowser",(function(){return d})),n.d(t,"isLegacyChrome",(function(){return m})),n.d(t,"isSupportedPC",(function(){return u})),n.d(t,"isSupportedMobile",(function(){return l})),n.d(t,"getChromeKernelVersion",(function(){return v})),n.d(t,"isChromeKernel",(function(){return g}));var r=function(){var e=E();return e.name&&"Chrome"===e.name},i=function(){var e=E();return e.name&&"Safari"===e.name},o=function(){var e=E();return e.name&&"Edge"===e.name},a=function(){var e=E();return e.name&&"Firefox"===e.name},s=function(){var e=E();return e.name&&"OPR"===e.name},c=function(){var e=E();return e.name&&"QQBrowser"===e.name},d=function(){var e=E();return e.name&&"MicroMessenger"===e.name},u=function(){var e=p();return"Linux"===e||"Mac OS X"===e||"Mac OS"===e||-1!==e.indexOf("Windows")},l=function(){var e=p();return"Android"===e||"iOS"===e},f=function(){return E().version},p=function(){return E().os},g=function(){return!!navigator.userAgent.match(/chrome\/[\d]+/i)};function m(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}var h,v=function(){var e=navigator.userAgent.match(/chrome\/[\d]+/i);return e&&e[0]&&e[0].split("/")[1]},E=(h=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];"Chrome"===n[1]&&null!=(e=t.match(/(OPR(?=\/))\/?(\d+)/i))&&(n=e),"Safari"===n[1]&&null!=(e=t.match(/version\/(\d+)/i))&&(n[2]=e[1]),~t.toLowerCase().indexOf("qqbrowser")&&null!=(e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("micromessenger")&&null!=(e=t.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("edge")&&null!=(e=t.match(/(edge(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("trident")&&null!=(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&(n=[null,"IE",e[1]]);var r=void 0,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in i){var a=i[o];if(a.r.test(navigator.userAgent)){r=a.s;break}}return{name:n[1],version:n[2],os:r}}(),function(){return h})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));n(0);var r=function(e,t,n){if(["End2EndDelay","TransportDelay","PacketLossRate","RecvLevel","RecvBitrate","CodecType","MuteState","TotalFreezeTime","TotalPlayDuration","RecordingLevel","SendLevel","SamplingRate","SendBitrate","CodecType","MuteState","End2EndDelay","TransportDelay","PacketLossRate","RecvBitrate","RecvResolutionWidth","RecvResolutionHeight","RenderResolutionHeight","RenderResolutionWidth","RenderFrameRate","TotalFreezeTime","TotalPlayDuration","TargetSendBitrate","SendFrameRate","SendFrameRate","SendBitrate","SendResolutionWidth","SendResolutionHeight","CaptureResolutionHeight","CaptureResolutionWidth","EncodeDelay","MuteState","TotalFreezeTime","TotalDuration","CaptureFrameRate","RTT","OutgoingAvailableBandwidth","Duration","UserCount","SendBytes","RecvBytes","SendBitrate","RecvBitrate","accessDelay","audioSendBytes","audioSendPackets","videoSendBytes","videoSendPackets","videoSendPacketsLost","videoSendFrameRate","audioSendPacketsLost","videoSendResolutionWidth","videoSendResolutionHeight","accessDelay","audioReceiveBytes","audioReceivePackets","audioReceivePacketsLost","videoReceiveBytes","videoReceivePackets","videoReceivePacketsLost","videoReceiveFrameRate","videoReceiveDecodeFrameRate","videoReceiveResolutionWidth","videoReceiveResolutionHeight","endToEndDelay","videoReceiveDelay","audioReceiveDelay","FirstFrameTime","VideoFreezeRate","AudioFreezeRate","RenderResolutionWidth","RenderResolutionHeight","VideoPublishDuration","AudioPublishDuration"].indexOf(t)>-1&&("string"==typeof n||isFinite(n)))return e[t]=""+n},i=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("send")&&-1===e.type.toLowerCase().indexOf("outbound")&&-1===e.id.indexOf("outbound_rtp")&&-1===e.id.indexOf("OutboundRTP")||("audio"===e.mediaType?(r(t,"audioSendBytes",e.bytesSent),r(t,"audioSendPackets",e.packetsSent),r(t,"audioSendPacketsLost",e.packetsLost)):(r(t,"videoSendBytes",e.bytesSent),r(t,"videoSendPackets",e.packetsSent),r(t,"videoSendPacketsLost",e.packetsLost),r(t,"videoSendFrameRate",e.googFrameRateSent),r(t,"videoSendResolutionWidth",e.googFrameWidthSent),r(t,"videoSendResolutionHeight",e.googFrameHeightSent))))})),t},o=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("recv")&&-1===e.type.toLowerCase().indexOf("inbound")&&-1===e.id.indexOf("inbound_rtp")&&-1===e.id.indexOf("inbound-rtp")&&-1===e.id.indexOf("InboundRTP")||("audio"===e.mediaType?(r(t,"audioReceiveBytes",e.bytesReceived),r(t,"audioReceivePackets",e.packetsReceived),r(t,"audioReceivePacketsLost",e.packetsLost)):(r(t,"videoReceiveBytes",e.bytesReceived),r(t,"videoReceivePacketsLost",e.packetsLost),r(t,"videoReceivePackets",e.packetsReceived),r(t,"videoReceiveFrameRate",e.googFrameRateReceived),r(t,"videoReceiveDecodeFrameRate",e.googFrameRateDecoded),r(t,"videoReceiveResolutionWidth",e.googFrameWidthReceived),r(t,"videoReceiveResolutionHeight",e.googFrameHeightReceived))))})),t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(0),i=function(){var e={dispatcher:{}};return e.dispatcher.eventListeners={},e.addEventListener=function(t,n){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(n)},e.hasListeners=function(t){return!(!e.dispatcher.eventListeners[t]||!e.dispatcher.eventListeners[t].length)},e.on=e.addEventListener,e.removeEventListener=function(t,n){var r;e.dispatcher.eventListeners[t]&&-1!==(r=e.dispatcher.eventListeners[t].indexOf(n))&&e.dispatcher.eventListeners[t].splice(r,1)},e.dispatchEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])if(e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n])try{e.dispatcher.eventListeners[t.type][n](t)}catch(n){r.default.debug("[".concat(e.clientId,"] Error in ").concat(t.type," event"),n)}},e.dispatchSocketEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n]&&e.dispatcher.eventListeners[t.type][n](t.msg)},e},o=function(e){var t={};return t.type=e.type,t},a=function(e){var t=o(e);return t.stream=e.stream,t.reason=e.reason,t.msg=e.msg,t},s=function(e){var t=o(e);return t.uid=e.uid,t.attr=e.attr,t.stream=e.stream,t},c=function(e){var t=o(e);return t.msg=e.msg,t},d=function(e){var t=o(e);return t.url=e.url,t.uid=e.uid,t.status=e.status,t.reason=e.reason,t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(69)),d=n(2),u=s(n(0)),l=n(3),f=n(14),p=n(10),g=function(e){function t(t,n){var r=e.call(this)||this;return r._state=S.RELAY_STATE_IDLE,r._onStatus=function(e){u.default.debug("["+r.clientId+"] ChannelMediaStatus: "+JSON.stringify(e)),e&&e.command&&("onAudioPacketReceived"===e.command&&r.emit("event",E.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&r.emit("event",E.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(r._state=S.RELAY_STATE_FAILURE,r.emit("state",S.RELAY_STATE_FAILURE,_.SRC_TOKEN_EXPIRED)),"onDestTokenPrivilegeDidExpire"===e.command&&(r._state=S.RELAY_STATE_FAILURE,r.emit("state",S.RELAY_STATE_FAILURE,_.DEST_TOKEN_EXPIRED,e.channelName?{came:e.channelName}:null)))},r._onClose=function(){return o(r,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(u.default.debug("["+this.clientId+"] ChannelMediaSocket onClose"),this.emit("event",E.NETWORK_DISCONNECTED),this.state=S.RELAY_STATE_IDLE,!this._prevChannelMediaConfig)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startChannelMediaRelay(this._prevChannelMediaConfig)];case 2:return t.sent(),[3,4];case 3:return(e=t.sent())instanceof R&&(e.message===h.WS_ABORT||e.message===h.AP_REQUEST_ABORT)?[2]:(this.emit("state",S.RELAY_STATE_FAILURE,_.SERVER_CONNECTION_LOST),[3,4]);case 4:return[2]}}))}))},r.token=t.appId,r.appId=t.appId,r.cname=t.cname,r.uid=t.uid,r.sid=t.sid,r.clientId=n,r}return i(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var t=this._state;this._state=e,t!==e&&this.emit("state",e)},enumerable:!0,configurable:!0}),t.prototype.startChannelMediaRelay=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(this.state!==S.RELAY_STATE_IDLE)throw new R(h.BAD_STATE);return this.state=S.RELAY_STATE_CONNECTING,[4,this._connect()];case 1:return t.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: connect success"),[4,this._sendStartRelayMessage(e)];case 2:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.updateChannelMediaRelay=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(this.state!==S.RELAY_STATE_RUNNING)throw new R(h.BAD_STATE);return[4,this._sendUpdateMessage(e)];case 1:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.stopChannelMediaRelay=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._sendStopRelayMessage()];case 1:return e.sent(),u.default.debug("["+this.clientId+"] stopChannelMediaRelay: send stop message success"),this.state=S.RELAY_STATE_IDLE,this.dispose(),[2]}}))}))},t.prototype.dispose=function(){u.default.debug("["+this.clientId+"] disposeChannelMediaRelay"),this.state=S.RELAY_STATE_IDLE,this.emit("dispose"),this._signal&&this._signal.dispose(),this._prevChannelMediaConfig=null,this.removeEvent()},t.prototype._requestOneAP=function(e){var t=this;return new Promise((function(n,r){var i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:"",ts:+new Date,version:d.VERSION,cname:t.cname,uid:t.uid+"",seq:1,requestId:1},o={service_name:"tele_channel",json_body:JSON.stringify(i)},a="https://"+e;f.post(a,o,(function(e){var t=null,i=null;try{t=JSON.parse(e)}catch(e){r(new R(h.AP_JSON_PARSE_ERROR,e))}0!==t.code&&r(new R(h.AP_REQUEST_ERROR,t));try{i=JSON.parse(t.json_body)}catch(e){r(new R(h.AP_JSON_PARSE_ERROR,e))}200!==i.code&&r(new R(h.AP_REQUEST_ERROR,i)),i.servers?n(i.servers):r(new R(h.AP_JSON_PARSE_ERROR,i))}),(function(e){return r(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})}))},t.prototype._requestAP=function(){var e=this,t=d.getParameter("UAP_AP");return new Promise((function(n,r){setTimeout((function(){r(new R(h.AP_REQUEST_TIMEOUT))}),5e3),e.on("dispose",(function(){r(new R(h.AP_REQUEST_ABORT))})),t.forEach((function(t){t+="/api/v1",e._requestOneAP(t).then((function(r){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" success: "+JSON.stringify(r));var i=r[0],o="wss://"+i.address.replace(/\./g,"-")+".edge.agora.io:"+i.wss;n(o)})).catch((function(n){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" failed: "+JSON.stringify(n))}))}))}))},t.prototype._connectWebsocket=function(e){return this._signal=new y(this.appId,this.cname,this.uid,this.sid),this._signal.connect(e)},t.prototype._connect=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._requestAP()];case 1:return e=t.sent(),[4,this._connectWebsocket(e)];case 2:return t.sent(),this._signal.on("close",this._onClose.bind(this)),this._signal.on("status",this._onStatus.bind(this)),this.emit("event",E.NETWORK_CONNECTED),[2]}}))}))},t.prototype._sendStartRelayMessage=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return this._checkSignal(),t=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(t)];case 1:return a.sent(),[4,this._signal.waitStatus("Normal Quit")];case 2:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: StopPacketTransfer success"),n=this._genMessage(v.SetSdkProfile,e),[4,this._signal.request(n)];case 3:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSdkProfile success"),r=this._genMessage(v.SetSourceChannel,e),[4,this._signal.request(r)];case 4:return a.sent(),[4,this._signal.waitStatus("SetSourceChannelStatus")];case 5:return a.sent(),this.emit("event",E.PACKET_JOINED_SRC_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceChannel success"),i=this._genMessage(v.SetSourceUserId,e),[4,this._signal.request(i)];case 6:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceUserId success"),o=this._genMessage(v.SetDestChannel,e),[4,this._signal.request(o)];case 7:return a.sent(),[4,this._signal.waitStatus("SetDestChannelStatus")];case 8:return a.sent(),this.emit("event",E.PACKET_JOINED_DEST_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetDestChannel success"),s=this._genMessage(v.StartPacketTransfer,e),[4,this._signal.request(s)];case 9:return a.sent(),this.emit("event",E.PACKET_SENT_TO_DEST_CHANNEL),this.state=S.RELAY_STATE_RUNNING,u.default.debug("["+this.clientId+"] startChannelMediaRelay: StartPacketTransfer success"),[2]}}))}))},t.prototype._sendReconnectMessage=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(v.Reconnect,e),[4,this._signal.request(t)];case 1:return n.sent(),[2]}}))}))},t.prototype._sendUpdateMessage=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(v.UpdateDestChannel,e),[4,this._signal.request(t)];case 1:return n.sent(),this.emit("event",E.PACKET_UPDATE_DEST_CHANNEL),u.default.debug("["+this.clientId+"] sendUpdateMessage: UpdateDestChannel success"),[2]}}))}))},t.prototype._sendStopRelayMessage=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return this._checkSignal(),e=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(e)];case 1:return t.sent(),u.default.debug("["+this.clientId+"] sendStopRelayMessage: StopPacketTransfer success"),[2]}}))}))},t.prototype._genMessage=function(e,t){var n=this,r=[],i=[],o=[],a={appId:this.appId,cname:this.cname,uid:this.uid+"",sdkVersion:d.VERSION,sid:this.sid,ts:+new Date,requestId:0,seq:0,allocate:!0,clientRequest:{}},s=null;switch(e){case v.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case v.SetSourceChannel:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceChannel",uid:s.uid+"",channelName:s.channelName,token:s.token||this.appId},a;case v.SetSourceUserId:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceUserId",uid:this.uid+""},a;case v.SetDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.appId)})),a.clientRequest={command:"SetDestChannel",channelName:r,uid:i,token:o},a;case v.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case v.Reconnect:return a.clientRequest={command:"Reconnect"},a;case v.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case v.UpdateDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.appId)})),a.clientRequest={command:"UpdateDestChannel",channelName:r,uid:i,token:o},a}},t.prototype._checkSignal=function(){if(!this._signal||!this._signal.isConnect())throw new R(h.WS_DISCONNECTED)},t}(c.default);t.default=g;var m=function(){function e(){this.destChannelMediaInfos=new Map}return e.prototype.setSrcChannelInfo=function(e){l.checkValidObject(e,"srcInfo");var t=e.uid,n=e.channelName,r=e.token;if(r&&!l.isValidToken(r))throw new Error("Invalid token in SrcChannelInfo");if(!l.isValidChannelName(n))throw new Error("Invalid channelName in SrcChannelInfo");if(!p.is32Uint(t))throw new Error("Invalid uid in SrcChannelInfo");this.srcChannelMediaInfo=e},e.prototype.setDestChannelInfo=function(e,t){if(!l.isValidChannelName(e))throw new Error("Invalid channelName in DestChannelInfo");l.checkValidObject(t,"destInfo");var n=t.uid,r=t.token,i=t.channelName;if(r&&!l.isValidToken(r))throw new Error("Invalid token in DestChannelInfo");if(!l.isValidChannelName(i))throw new Error("Invalid channelName in DestChannelInfo");if(!p.is32Uint(n))throw new Error("Invalid uid in DestChannelInfo");this.destChannelMediaInfos.set(e,t)},e.prototype.removeDestChannelInfo=function(e){if(!l.isValidChannelName(e))throw new Error("Invalid channelName when invoke removeDestChannelInfo");this.destChannelMediaInfos.delete(e)},e.prototype.getSrcChannelMediaInfo=function(){return this.srcChannelMediaInfo},e.prototype.getDestChannelMediaInfos=function(){return this.destChannelMediaInfos},e}();t.ChannelMediaRelayConfiguration=m;var h,v,E,S,_,y=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o._onOpen=function(){o.emit("open")},o._onClose=function(e){o.emit("close"),o.dispose()},o._onMessage=function(e){var t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(o.emit("status",t.serverStatus),void o.emit(t.serverStatus.command,t.serverStatus)):void 0;o.emit("req_"+t.requestId,t)},o._requestId=1,o.appId=t,o.cname=n,o.uid=r,o.sid=i,o}return i(t,e),t.prototype.isConnect=function(){return this._ws&&this._ws.readyState===WebSocket.OPEN},t.prototype.sendMessage=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new R(h.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,e.seq=t,this._ws.send(JSON.stringify(e)),t},t.prototype.waitStatus=function(e){var t=this;return new Promise((function(n,r){var i=window.setTimeout((function(){r(new R(h.WAIT_STATUS_TIMEOUT,e))}),5e3);t.once(e,(function(t){clearTimeout(i),t.state&&0!==t.state?r(new R(h.WAIT_STATUS_ERROR,e)):n()})),t.once("dispose",(function(){clearTimeout(i),r(new R(h.WS_ABORT))}))}))},t.prototype.request=function(e){var t=this;return new Promise((function(n,r){var i=t.sendMessage(e),o=window.setTimeout((function(){t.removeAllListeners("req_"+i),r(new R(h.REQUEST_TIMEOUT))}),3e3);t.once("req_"+i,(function(e){clearTimeout(o),e&&200===e.code?n(e):r(new R(h.REQUEST_FAILED,e))})),t.once("dispose",(function(){clearTimeout(o),r(new R(h.WS_ABORT))}))}))},t.prototype.connect=function(e){var t=this;return new Promise((function(n,r){t._ws=new WebSocket(e),t._ws.onopen=function(){t._onOpen(),t._prvUrl=e,t._ws.onmessage=t._onMessage,t._ws.onclose=t._onClose,t._startHeartBeatCheck(),n()},t._ws.onclose=function(e){t._ws=null,r(new R(h.CONNECT_FAILED,"websocket error code: "+e.code))},setTimeout((function(){t._ws&&t._ws.readyState!==WebSocket.OPEN&&(t._ws.onopen=null,t._ws.onclose=null,t._ws.close(),t._ws=null,r(new R(h.CONNECT_TIMEOUT)))}),5e3),t.once("dispose",(function(){r(new R(h.WS_ABORT))}))}))},t.prototype.dispose=function(){this._clearHeartBeatCheck(),this.emit("dispose"),this.removeEvent(),this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.close()),this._ws=null},t.prototype._sendPing=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new R(h.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,this._ws.send(JSON.stringify(e)),t},t.prototype._startHeartBeatCheck=function(){var e=this;this._heartBeatTimer=window.setInterval((function(){e._sendPing({command:"ping",appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid,ts:+new Date,requestId:0})}),3e3)},t.prototype._clearHeartBeatCheck=function(){window.clearInterval(this._heartBeatTimer)},t}(c.default),R=function(e,t,n){void 0===e&&(e=""),this.code=n,this.data=t,this.message=e};t.ChannelMediaError=R,function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(h=t.CHANNEL_MEDIA_ERROR||(t.CHANNEL_MEDIA_ERROR={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(v||(v={})),function(e){e[e.NETWORK_DISCONNECTED=0]="NETWORK_DISCONNECTED",e[e.NETWORK_CONNECTED=1]="NETWORK_CONNECTED",e[e.PACKET_JOINED_SRC_CHANNEL=2]="PACKET_JOINED_SRC_CHANNEL",e[e.PACKET_JOINED_DEST_CHANNEL=3]="PACKET_JOINED_DEST_CHANNEL",e[e.PACKET_SENT_TO_DEST_CHANNEL=4]="PACKET_SENT_TO_DEST_CHANNEL",e[e.PACKET_RECEIVED_VIDEO_FROM_SRC=5]="PACKET_RECEIVED_VIDEO_FROM_SRC",e[e.PACKET_RECEIVED_AUDIO_FROM_SRC=6]="PACKET_RECEIVED_AUDIO_FROM_SRC",e[e.PACKET_UPDATE_DEST_CHANNEL=7]="PACKET_UPDATE_DEST_CHANNEL",e[e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=8]="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e[e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=9]="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(E=t.CHANNEL_MEDIA_RELAY_EVENT||(t.CHANNEL_MEDIA_RELAY_EVENT={})),function(e){e[e.RELAY_STATE_IDLE=0]="RELAY_STATE_IDLE",e[e.RELAY_STATE_CONNECTING=1]="RELAY_STATE_CONNECTING",e[e.RELAY_STATE_RUNNING=2]="RELAY_STATE_RUNNING",e[e.RELAY_STATE_FAILURE=3]="RELAY_STATE_FAILURE"}(S=t.CHANNEL_MEDIA_RELAY_STATE||(t.CHANNEL_MEDIA_RELAY_STATE={})),function(e){e[e.RELAY_OK=0]="RELAY_OK",e[e.SERVER_ERROR_RESPONSE=1]="SERVER_ERROR_RESPONSE",e[e.SERVER_NO_RESPONSE=2]="SERVER_NO_RESPONSE",e[e.NO_RESOURCE_AVAILABLE=3]="NO_RESOURCE_AVAILABLE",e[e.FAILED_JOIN_SRC=4]="FAILED_JOIN_SRC",e[e.FAILED_JOIN_DEST=5]="FAILED_JOIN_DEST",e[e.FAILED_PACKET_RECEIVED_FROM_SRC=6]="FAILED_PACKET_RECEIVED_FROM_SRC",e[e.FAILED_PACKET_SENT_TO_DEST=7]="FAILED_PACKET_SENT_TO_DEST",e[e.SERVER_CONNECTION_LOST=8]="SERVER_CONNECTION_LOST",e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR",e[e.SRC_TOKEN_EXPIRED=10]="SRC_TOKEN_EXPIRED",e[e.DEST_TOKEN_EXPIRED=11]="DEST_TOKEN_EXPIRED",e[e.RELAY_ALREADY_START=12]="RELAY_ALREADY_START",e[e.RELAY_NOT_START=13]="RELAY_NOT_START",e[e.OPERATION_ABORT=14]="OPERATION_ABORT"}(_=t.CHANNEL_MEDIA_RELAY_ERROR||(t.CHANNEL_MEDIA_RELAY_ERROR={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isLiveTranscodingValid",(function(){return _})),n.d(t,"generateSessionId",(function(){return v})),n.d(t,"audioLevelHelper",(function(){return g})),n.d(t,"vsResHack",(function(){return E})),n.d(t,"is32Uint",(function(){return S})),n.d(t,"safeCall",(function(){return l})),n.d(t,"random",(function(){return R})),n.d(t,"popBanTip",(function(){return b})),n.d(t,"lengthInUtf8Bytes",(function(){return T})),n.d(t,"audioTimerLoop",(function(){return I})),n.d(t,"generateId",(function(){return h})),n.d(t,"uint8ArrayToBase64",(function(){return f})),n.d(t,"base64ToUint8Array",(function(){return p}));var r=n(11),i=n.n(r),o=n(5),a=n(0),s=n(28),c=n.n(s),d=n(25),u=n(15),l=function(){var e=arguments[0];if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}},f=function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)},p=function(e){for(var t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},g=function(e){return this.audioContext=Object(d.a)(),this.sourceNode=e.otWebkitAudioSource||this.audioContext.createMediaStreamSource(e),this.analyser=this.audioContext.createAnalyser(),this.timeDomainData=new Uint8Array(this.analyser.frequencyBinCount),this.sourceNode.connect(this.analyser),this.getAudioLevel=function(){if(this.analyser){this.analyser.getByteTimeDomainData(this.timeDomainData);for(var e=0,t=0;t<this.timeDomainData.length;t++)e=Math.max(e,Math.abs(this.timeDomainData[t]-128));return e/128}return a.default.warning("can't find analyser in audioLevelHelper"),0},this},m=1e4;function h(){return++m}function v(){return c()().replace(/-/g,"").toUpperCase()}var E=function(e,t,n){try{a.default.debug("start vsResHack",e);var r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: absolute; top: 0; left: 0; width:1px; high:1px;"),document.body.appendChild(r);var i=!1;r.addEventListener("playing",(function(n){o.isFireFox()?r.videoWidth&&(i=!0,a.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove()):(i=!0,a.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())})),Object(u.setSrcObject)(r,e),r.play().catch((function(){})),setTimeout((function(){!i&&r&&(t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())}),4e3)}catch(e){n(e)}},S=function(e){return"number"==typeof e&&0<=e&&e<=4294967295},_=function(e){var t=["lowLatency","userConfigExtraInfo","transcodingUsers"];for(var n in e)if("lowLatency"===n&&"boolean"!=typeof e[n]||"userConfigExtraInfo"===n&&"object"!==i()(e[n])||"transcodingUsers"===n&&!y(e[n])||!~t.indexOf(n)&&"number"!=typeof e[n])throw new Error("Param ["+n+"] is inValid");return!0},y=function(e){for(var t=0;t<e.length;t++)for(var n in e[t])if("number"!=typeof e[t][n])throw new Error("Param user["+t+"] - ["+n+"] is inValid");return!0},R=function(e){isNaN(e)&&(e=1e3);var t=+new Date,n=(t=(9301*t+49297)%233280)/233280;return Math.ceil(n*e)},T=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},I=function(e,t){var n=1/t,r=Object(d.a)(),i=r.createGain();i.gain.value=0,i.connect(r.destination);var o=!1;return function t(){var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime),o&&(a.onended=function(){})}(),function(){o=!0}},b=function(){if(!document.getElementById("agora-ban-tip")){var e=document.createElement("div");e.id="agora-ban-tip",e.style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; color: #fff;",document.querySelector("body").prepend(e);var t=document.createElement("div");t.style="background: #000; width: 346px; height: 116px; z-index: 100000; opacity: 0.6; border-radius: 10px; box-shadow: 0 2px 4px #000;",e.append(t);var n=document.createElement("div");n.style="height: 76px; display: flex; justify-content: center; align-items: center;";var r=document.createElement("span");r.style="height: 28px; width: 28px; color: #000; text-align: center; line-height: 30px; background: #fff; border-radius: 50%; font-weight: 600; font-size: 20px;margin-right: 5px;",r.innerText="!";var i=document.createElement("span");i.innerText="This browser does not support webRTC",n.append(r),n.append(i);var o=document.createElement("div");o.style="height: 38px; display: flex; border-top: #fff 1px solid; justify-content: center; align-items: center;",o.innerText="OK",t.append(n),t.append(o),o.onclick=function(){var e=document.getElementById("agora-ban-tip");e.parentNode.removeChild(e)}}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){e.exports=n(64)},function(t,n,r){"use strict";var i=r(12),o=r.n(i),a=r(17),s=r.n(a),c=r(11),d=r.n(c),u=r(32),l=r.n(u),f=r(7),p=r.n(f),g=r(22),m=r(8),h=function(e){e&&e.apply(this,[].slice.call(arguments,1))},v=r(0),E=r(1),S=r(10),_=r(14),y=r(2),R=function(e){var t=Object(m.b)(e);t.needReconnect=!0,t.isTimeout=!1,t.isInit=!0,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),t.lastMsgTime=null,t.clientId=e.clientId,t.hostIndex=0,t.requestID=0,e.host instanceof Array?t.host=e.host:t.host=[e.host],t.getSendBytes=function(){return t.sendbytes},t.getRecvBytes=function(){return t.recvbytes},t.getDuration=function(){return Math.ceil((Date.now()-t.startTime)/1e3)},t.getURL=function(){return t.connection.url},t.reconnect=function(){t.isInit=!0,t.creatConnection()},t.connectNext=function(){t.isInit=!0,++t.hostIndex,v.default.debug("["+t.clientId+"] Gateway length:"+t.host.length+" current index:"+t.hostIndex),t.hostIndex>=t.host.length?t.dispatchEvent(Object(m.d)({type:"recover"})):t.creatConnection()},t.replaceHost=function(e){t.host=e||t.host,t.hostIndex=0,t.creatConnection()},t.creatConnection=function(){t.needReconnect=!0,t.lts=(new Date).getTime(),t.connection=new WebSocket("wss://"+t.host[t.hostIndex]),t.connection.binaryType="arraybuffer",t.turnConfig={};var n=e.proxyServerType;if(t.connection.url&&3!==n&&4!==n&&5!==n){var r=t.connection.url.match(/wss\:\/\/([^:]+):(\d+)/),i=t.host[t.hostIndex].split(":"),o=t.connection.url.match(/h=([^:]+)&p=(\d+)/);r?(t.turnConfig.url=r[1],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(r[2])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(r[2])+30)):o?(t.turnConfig.url=o[1],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(o[2])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(o[2])+30)):i&&(t.turnConfig.url=i[0],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(i[1])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(i[1])+30))}t.connection.onopen=function(e){t.needReconnect=!0,t.isTimeout=!1,t.isInit=!1,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),Object(_.resetHTTPByetsCount)(),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"onopen",event:e,socket:t}))},t.connection.onmessage=function(e){if(e.data instanceof ArrayBuffer)t.dispatchEvent({type:"onBinaryData",data:e.data});else{t.recvbytes+=Object(S.lengthInUtf8Bytes)(e.data);var n=JSON.parse(e.data);t.lastMsgTime=Date.now(),n.hasOwnProperty("_id")?t.dispatchEvent(Object(m.d)({type:n._id,msg:n})):n.hasOwnProperty("_type")&&t.dispatchSocketEvent(Object(m.d)({type:n._type,msg:n._message}))}},t.connection.onclose=function(n){t.needReconnect?t.isTimeout||t.isInit?(v.default.debug("["+t.clientId+"] websockect connect timeout"),E.report.joinGateway(e.sid,{lts:t.lts,succ:!1,ec:"timeout",addr:t.connection.url}),t.connectNext()):(t.dispatchEvent(Object(m.d)({type:"disconnect",event:n})),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])):(v.default.debug("["+t.clientId+"] websockect closeed"),h(e.onFailure,n),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"close",event:n})),t.connection.onopen=void 0,t.connection.onclose=void 0,t.connection.onerror=void 0,t.connection.onmessage=void 0,t.connection=void 0)},t.connection.onerror=function(e){};setTimeout((function(){t.connection&&t.connection.readyState!=WebSocket.OPEN&&(t.isTimeout=!0,t.connection.close())}),5e3)},t.creatConnection(),t.sendMessage=function(e,n){if(t.connection&&t.connection.readyState==WebSocket.OPEN){var r=JSON.stringify(e);t.sendbytes+=Object(S.lengthInUtf8Bytes)(r),t.connection.send(r)}else n({error:"Gateway not connected"})},t.disconnect=function(){t.needReconnect=!0,t.connection.close()},t.close=function(){t.needReconnect=!1,t.connection.onclose=void 0,t.connection.close(),clearInterval(t.requestTimer),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])},t.sendSignalCommand=function(e,n){e._id="_request_"+t.requestID,t.requestID+=1,"publish_stats"!==e._type&&"subscribe_stats"!==e._type&&"publish_stats_low"!==e._type&&t.on(e._id,(function(r){r.msg&&n&&n(r.msg._result,r.msg.message),delete t.dispatcher.eventListeners[e._id]})),t.sendMessage(e,(function(e){e.reason="NOT_CONNECTED",n&&n(e.reason,e)}))},t.requests=[];var n=function(e){var n=t.requests.findIndex((function(t){return t.id===e.type}));if(n>=0)var r=t.requests.splice(n,1)[0];r&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.msg&&r.callback&&r.callback(e.msg._result,e.msg._message)):v.default.warning("Detached Response",e.type,e.msg)},r=function(e){var n=this,r=t.requests.findIndex((function(e){return e.id===n.id}));r>=0&&(n=t.requests.splice(r,1)[0]),n&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.reason="NOT_CONNECTED",n.callback&&n.callback(e.reason,e)):v.default.warning("handleSendError",n)};return t.sendRequest=function(e,i){e=p()({_id:"_request_"+t.requestID},e),t.requestID+=1;var o={id:e._id,timeoutCounter:0,stalledAt:Date.now(),message:e,callback:i};t.requests.push(o),t.addEventListener(e._id,n),t.sendMessage(e,r.bind(o))},t.checkRequestTimeout=function(){for(var e=Math.ceil(Object(y.getParameter)("SIGNAL_REQUEST_TIMEOUT")/Object(y.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),n=t.requests.length-1;n>=0;n--){var r=t.requests[n];r.timeoutCounter>=e?(t.requests.splice(n,1),v.default.error("Request Timeout",r.timeoutCounter,r.message),r.callback&&r.callback("TIMEOUT")):r.timeoutCounter++}},clearInterval(t.requestTimer),t.requestTimer=setInterval(t.checkRequestTimeout,Object(y.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),t.sendReport=function(e){t.sendMessage(e,(function(){}))},t},T=function(e,t){var n={connect:function(){t.host=e,n.signal=R(t),n.on=n.signal.on,n.dispatchEvent=n.signal.dispatchEvent,n.signal.on("onopen",(function(e){n.signal.onEvent=function(e){n.dispatchEvent(Object(m.d)({type:e.event,msg:e}))},n.dispatchEvent(Object(m.d)({type:"connect",msg:e}))})),n.signal.on("onError",(function(e){var t=e.msg;onError(t.code,"error")}))},getLastMsgTime:function(){return n.signal&&n.signal.lastMsgTime},getSendBytes:function(){return n.signal.getSendBytes()},getRecvBytes:function(){return n.signal.getRecvBytes()},getDuration:function(){return n.signal.getDuration()},disconnect:function(){n.signal.disconnect()},close:function(){n.signal.close()},getURL:function(){return n.signal.getURL()},reconnect:function(){n.signal.reconnect()},connectNext:function(){n.signal.connectNext()},replaceHost:function(e){n.signal.replaceHost(e)},emitSimpleMessage:function(e,t){n.signal.sendSignalCommand(e,t)},emitRequest:function(e,t){n.signal.sendRequest(e,t)},emitReport:function(e){n.signal.sendReport(e)}};return n.connect(),n},I=r(23),b=r(4),A=r(20),O=r(5),C={ERR_NO_VOCS_AVAILABLE:"tryNext",ERR_NO_VOS_AVAILABLE:"tryNext",ERR_JOIN_CHANNEL_TIMEOUT:"tryNext",WARN_REPEAT_JOIN:"quit",ERR_JOIN_BY_MULTI_IP:"recover",WARN_LOOKUP_CHANNEL_TIMEOUT:"tryNext",WARN_OPEN_CHANNEL_TIMEOUT:"tryNext",ERR_VOM_SERVICE_UNAVAILABLE:"tryNext",ERR_TOO_MANY_USERS:"tryNext",ERR_MASTER_VOCS_UNAVAILABLE:"tryNext",ERR_INTERNAL_ERROR:"tryNext",K_SERVICE_NOT_READY:"tryNext",K_SERVICE_TOO_HEAVY:"tryNext",notification_test_recover:"recover",notification_test_tryNext:"tryNext",notification_test_retry:"retry"},N={googActualEncBitrate:"A_aeb",googAvailableSendBandwidth:"A_asb",googRetransmitBitrate:"A_rb",googAvailableReceiveBandwidth:"A_arb",googTargetEncBitrate:"A_teb",googBucketDelay:"A_bd",googTransmitBitrate:"A_tb",googCodecName:"A_cn",bytesSent:"bytesSent",packetsLost:"packetsLost",packetsSent:"packetsSent",googAdaptationChanges:"A_ac",googAvgEncodeMs:"A_aem",googEncodeUsagePercent:"A_eup",googFirsReceived:"A_fr",googFrameHeightInput:"A_fhi",googFrameHeightSent:"A_fhs",googFrameRateInput:"A_fri",googFrameRateSent:"A_frs",googFrameWidthInput:"A_fwi",googFrameWidthSent:"A_fws",googNacksReceived:"A_nr",googPlisReceived:"A_pr",googRtt:"A_rtt",aecDivergentFilterFraction:"A_adff",audioInputLevel:"A_ail",googEchoCancellationReturnLoss:"A_ecrl",googEchoCancellationReturnLossEnhancement:"A_ecrle",googResidualEchoLikelihood:"A_rel",googResidualEchoLikelihoodRecentMax:"A_relrm",googTargetDelayMs:"A_tdm",bytesReceived:"bytesReceived",packetsReceived:"packetsReceived",googDecodeMs:"A_dm",googMaxDecodeMs:"A_mdm",googRenderDelayMs:"A_rdm",googFrameWidthReceived:"A_fwr",googFrameHeightReceived:"A_fhr",googFrameRateReceived:"A_frr",googFrameRateDecoded:"A_frd",googFrameRateOutput:"A_fro",googJitterBufferMs:"A_jbm",googCurrentDelayMs:"A_cdm",googMinPlayoutDelayMs:"A_mpdm",googNacksSent:"A_ns",googPlisSent:"A_ps",googFirsSent:"A_fs",audioOutputLevel:"A_aol",googAccelerateRate:"A_ar",googDecodingCNG:"A_dcng",googDecodingCTN:"A_dctn",googDecodingCTSG:"A_dctsg",googDecodingNormal:"A_dn",googDecodingPLC:"A_dplc",googDecodingPLCCNG:"A_dplccng",googExpandRate:"A_er",googJitterReceived:"A_jr",googPreemptiveExpandRate:"A_per",googPreferredJitterBufferMs:"A_pjbm",googSecondaryDecodedRate:"A_sdr",googSpeechExpandRate:"A_ser",uplink_fraction_lost:"B_ufl",uplink_cumulative_lost:"B_ucl",uplink_available_bandwidth:"B_uab",period_fir:"B_fir",access_delay:"B_acd",uplink_network_quality:"B_unq",downlink_network_quality:"B_dnq",pub_audio_lost_ratio_400ms:"B_palr4",pub_video_lost_ratio_400ms:"B_pvlr4",e2e_delay:"B_ed",audio_delay:"B_ad",video_delay:"B_vd",stream_type:"B_st",e2e_audio_lost_ratio_400ms:"B_ealr4",e2e_video_lost_ratio_400ms:"B_evlr4",downlink_estimate_bandwidth:"B_deb",peer_publish_audio_duration:"B_ppad",peer_publish_video_duration:"B_ppvd"},w={};for(var L in N){var D=N[L];w[D]&&v.default.error("Key Conflict: ".concat(D,": ").concat(N[D],"| ").concat(L)),w[D]=L}var k=function(e){return N[e]||e},M=function(e){return w[e]||e};var P=r(9),x=r.n(P),U=r(54),j=function t(n){var r=!1,i=function(e){return{_type:"control",_message:e}},a=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(n[k(e)]=t[e])})),{_type:"subscribe_related_stats",_message:{stream_type:"high",stream_id:e,stats:n}}},c=function(e){return{_type:"publish",_message:e}},u=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(n[k(e)]=t[e])})),{_type:"subscribe_stats",_message:{stream_id:e,stats:n}}},f=t.DISCONNECTED,_=t.CONNECTING,R=t.CONNECTED,N=t.DISCONNECTING,w=f,L=Object(m.b)(n);Object.defineProperty(L,"state",{set:function(e){var n=w;w=e,Object(A._setClientConnectionStateRecord)(L.clientId,e),e!==t.CONNECTED&&e!==t.DISCONNECTING&&(L.hasJoined=!1),n!==e&&L.dispatchEvent({type:"connection-state-change",prevState:t.connetionStateMap[n],curState:t.connetionStateMap[e]})},get:function(){return w}}),L.socket=void 0,L.state=f,L.mode=n.mode,L.role=n.role,L.codec=n.codec,L.config={},L.timers={},L.timer_counter={},L.localStreams={},L.remoteStreams={},L.remoteMuteState={},L.attemps=1,L.p2p_attemps=1,L.audioLevel={},L.activeSpeaker=void 0,L.reconnectMode="tryNext",L.rejoinAttempt=0,L.hasChangeBGPAddress=!1,L.traffic_stats={},L.clientId=n.clientId,L.pingpongCounter=0,L.hasInvokeLeave=!1,L.p2ps=new Map,L.liveStreams=new Map,L.injectLiveStreams=new Map,L.remoteStreamsInChannel=new Set,L.subscribeRequestId=new Map,L.publishRequestId=0,L.hasJoined=!1,L.isFirstSuccess=!0,L.peerPublishDurationMap=new Map,function(e){var t=h;e.makeRequest=function(n,r,i){if(void 0===e.socket)return v.default.debug("[".concat(e.clientId,"] No socket available")),void t(i,b.default.INVALID_OPERATION);try{e.socket.emitRequest(n,(function(e,t){var n;"success"===e?"function"==typeof r&&r(t):"function"==typeof i&&(n=t&&t.error_code&&b.GatewayErrorCode[t.error_code]?b.GatewayErrorCode[t.error_code]:t&&t.error_str?t.error_str:t&&t.error_code?"UNKNOW_ERROR_".concat(t.error_code):e,i(n,t))}))}catch(r){v.default.debug("[".concat(e.clientId,"] Socket emit message failed ").concat(JSON.stringify(n))),v.default.debug("[".concat(e.clientId,"] "),r),t(i,b.default.SOCKET_ERROR)}},e.makeReport=function(t){void 0===e.socket&&v.default.debug("[".concat(e.clientId,"] No socket available"));try{e.socket.emitReport(t)}catch(n){v.default.debug("[".concat(e.clientId,"] Socket emit report failed ").concat(JSON.stringify(t)))}}}(L),L.inChannelInfo={joinAt:null,duration:0},L._sendMessage=function(e,t){switch(e){case"SubscribeStats":L.makeReport(u.apply(void 0,l()(t)));break;case"SubscribeRelatedStats":L.makeReport(a.apply(void 0,l()(t)))}};var D=h;L.p2pCounter=Object(S.random)(1e5),L.generateP2PId=function(){return++L.p2pCounter},L.audioVolumeIndication={enabled:!1,sortedAudioVolumes:[],smooth:3,interval:2e3},L.remoteVideoStreamTypes={REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2},L.streamFallbackTypes={STREAM_FALLBACK_OPTION_DISABLED:0,STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:1,STREAM_FALLBACK_OPTION_AUDIO_ONLY:2},L.configPublisher=function(e){L.config=e},L.getGatewayInfo=function(e,t){L.makeRequest({_type:"gateway_info"},e,t)},L.setClientRole=function(e,t){v.default.debug("[".concat(L.clientId,"] setClientRole to ").concat(e));var n=E.report.reportApiInvoke(L.joinInfo.sid,{name:"_setClientRole",callback:t});L.makeRequest({_type:"set_client_role",_message:{role:e}},(function(){L.role=e,L.dispatchEvent({type:"client-role-changed",role:e}),n&&n(null,{role:e})}),(function(t,r){if(r&&r.code&&(t=b.GatewayErrorCode[r.code]||"UNKNOW_ERROR_"+r.code),"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE"===t)return n&&n(null);v.default.error("set Client role error to "+e+": "+t),n&&n(t)}))},L.join=function(e,t,r,i){L.hasInvokeLeave=!1,e.useProxyServer&&(L.hasChangeBGPAddress=!0);var o=(new Date).getTime(),a=e.uid;if(L.inChannelInfo.joinAt&&(L.inChannelInfo.duration+=o-L.inChannelInfo.joinAt),L.inChannelInfo.joinAt=o,L.state!==_)return v.default.error("[".concat(L.clientId,"] GatewayClient.join Failed: state "),L.state),i&&i(b.default.INVALID_OPERATION),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:b.default.INVALID_OPERATION,addr:null});if(null!=a&&parseInt(a)!==a)return v.default.error("[".concat(L.clientId,"] Input uid is invalid")),L.state=f,i&&i(b.default.INVALID_PARAMETER),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:b.default.INVALID_PARAMETER,addr:null});var s=V.register(L,{uid:a,cname:e&&e.cname});if(s)return L.state=f,i&&i(s),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:s,addr:null});L.joinInfo=p()({},e),L.uid=a,L.key=t,L.pingpongCounter=0,W(e,(function(t){if(e.useLocalAccessPoint)try{var s=L.socket.signal.connection.url.match(/wss\:\/\/([^:]+):(\d+)/)[1];Object(y.setParameter)("EVENT_REPORT_DOMAIN",s),Object(y.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",s),Object(y.setParameter)("LOG_UPLOAD_SERVER","".concat(s,":6444"))}catch(e){v.default.debug("[".concat(L.clientId,"] LocalAccessPoint error: ").concat(e))}if(L.state===N||L.state===f)return i&&i("LEAVE_BEFORE_JOIN_SUCCESS");L.state=R,v.default.debug("[".concat(L.clientId,"] Connected to gateway server")),clearInterval(L.pingTimer),L.pingTimer=setInterval((function(){var e=Object(y.getParameter)("PING_PONG_TIME_OUT");if(++L.pingpongCounter>=e){var t=Date.now();L.socket&&v.default.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-L.socket.getLastMsgTime(),"ms")),L.socket&&L.socket.getLastMsgTime()&&t-L.socket.getLastMsgTime()>Object(y.getParameter)("WEBSOCKET_TIMEOUT_MIN")&&(L.pingpongCounter=0,L.socket.close(),L.socket.dispatchEvent(Object(m.d)({type:"disconnect",event:{msg:"PING_PONG_TIME_OUT"}})))}var n=Date.now();L.makeRequest({_type:"ping"},(function(){L.pingpongCounter=0;var e=Date.now()-n;Object(y.getParameter)("REPORT_STATS")&&L.makeRequest({_type:"ping_back",_message:{pingpongElapse:e}})}),(function(e,t){"TIMEOUT"!==e&&(v.default.error("Ping Error ".concat(e," ").concat(JSON.stringify(t))),t&&t.error_code&&L.socket&&L.socket.signal&&L.socket.signal.connection&&L.socket.signal.connection.readyState===WebSocket.OPEN&&(v.default.info("Disconnecting websocket connection"),L.socket.signal.connection.close()))}))}),3e3),function(e,t){var r=e.role,i=p()({},L.joinInfo.apResponse),o={session_id:L.joinInfo.sid,app_id:n.appId,channel_key:L.key,channel_name:L.joinInfo.cname,sdk_version:y.VERSION,browser:navigator.userAgent,process_id:Object(E.getProcessId)(),mode:L.mode,codec:L.codec,role:r,has_changed_gateway:Object(y.getParameter)("FORCE_CHANGED_GATEWAY_FLAG")||L.hasChangeBGPAddress,ap_response:i,optionalInfo:L.joinInfo.optionalInfo,extend:Object(y.getParameter)("JOIN_EXTEND"),details:{}};if(L.joinInfo.hasOwnProperty("stringUid")&&(o.string_uid=L.joinInfo.stringUid),L.socket&&L.socket.signal&&L.socket.signal&&(i.addresses&&i.addresses[L.socket.signal.hostIndex]&&(o.ap_response.ticket=i.addresses[L.socket.signal.hostIndex].ticket,delete i.addresses),Object(y.getParameter)("SET_DEFAULT_TURNSERVER")&&L.socket.signal.turnConfig)){var a={username:L.joinInfo.uid.toString(),credential:L.joinInfo.token,forceturn:Object(y.getParameter)("FORCE_TURN")};a.url=L.socket.signal.turnConfig.url,L.socket.signal.turnConfig.tcpport&&(a.tcpport=""+L.socket.signal.turnConfig.tcpport),L.socket.signal.turnConfig.udpport&&(a.udpport=""+L.socket.signal.turnConfig.udpport),!!L.joinInfo.turnServers.find((function(e){if(e.url===a.url)return!0}))||L.joinInfo.turnServers.push(a)}3===L.joinInfo.proxyServerType&&(o.plugin="web_cloud_proxy",o.details.cservice_map="1"),L.joinInfo.aesmode&&L.joinInfo.aespassword?(o.aes_mode=L.joinInfo.aesmode,o.aes_encrypt=!0,L.joinInfo.aes_salt&&(o.aes_salt=L.joinInfo.aes_salt),Object(U.encryptRSA)(L.joinInfo.aespassword).then((function(e){o.aes_secret=e,L.dispatchEvent({type:"join-message-hook",joinMessage:o}),t(null,{_type:"join",_message:o})})).catch((function(e){v.default.error("[".concat(L.clientId,"] encrypt password failed "),e),t("ENCRYPT_PASSWORD_FAILED")}))):(L.dispatchEvent({type:"join-message-hook",joinMessage:o}),t(null,{_type:"join",_message:o}))}({role:L.role},(function(t,n){if(t)return i&&i(t);L.makeRequest(n,(function(t){if(E.report.joinGateway(e.sid,{lts:o,succ:!0,ec:null,vid:e.vid,uid:e.uid,addr:L.socket.getURL(),firstSuccess:L.isFirstSuccess}),L.joinSuccessLts=Date.now(),L.isFirstSuccess=!1,L.rejoinAttempt=0,L.hasJoined=!0,r&&r(t.uid),!0===t.return_vosip||!0===Object(y.getParameter)("ENABLE_LIVE_SERVER_LIST")){var n=null;try{n=L.socket.signal.connection.url}catch(e){v.default.debug("[".concat(L.clientId,"] Can not get gateway ip: ").concat(e))}n?Object(y.setParameter)("LIVE_SERVER_LIST",[n]):Object(y.setParameter)("LIVE_SERVER_LIST",[])}L.dispatchEvent({type:"join"}),clearInterval(L.timers.trafficStats),L.timers.trafficStats=setInterval((function(){L.makeRequest({_type:"traffic_stats"},(function(e){var t={};for(var n in e)t[M(n)]=e[n];if(t.peer_delay&&t.peer_delay.length){var r=[];t.peer_delay.forEach((function(e){var t={};for(var n in e)t[M(n)]=e[n];r.push(t)})),t.peer_delay=r}L.traffic_stats=t,L.traffic_stats.timestamp=Date.now();var i=L.joinInfo.stringUid,o=L.localStreams[a]||L.localStreams[i];o&&(o.traffic_stats={access_delay:t.access_delay}),t.peer_delay&&t.peer_delay.forEach((function(e){var n=L.remoteStreams[e.peer_uid];n&&(n.traffic_stats={access_delay:t.access_delay,e2e_delay:e.e2e_delay,audio_delay:e.audio_delay,video_delay:e.video_delay})})),L.dispatchEvent({type:"after-getTrafficStats",trafficStats:t})}))}),3e3)}),(function(t,n){if(v.default.error("[".concat(L.clientId,"] User join failed [").concat(t,"]")),"ERR_JOIN_BY_MULTI_IP"===t){try{E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:"ERR_JOIN_BY_MULTI_IP",addr:L.socket.getURL()})}catch(e){}return L.dispatchEvent({type:"onMultiIP",option:n.option})}C[t]&&L.rejoinAttempt<4?L._doWithAction(C[t],r,i):i&&i(t),E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:L.socket&&L.socket.getURL()})}))}))}),(function(t){v.default.error("[".concat(L.clientId,"] User join failed [").concat(t,"]")),i&&i(t),E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:L.socket.getURL()})})),this.remoteMuteState={},L.resetAudioVolumeIndication()},L.leave=function(e,t){var n=V.unregister(L);switch(n&&v.default.debug("[".concat(L.clientId,"] "),n),L.p2ps.clear(),L.state){case f:return v.default.debug("[".concat(L.clientId,"] Client Already in DISCONNECTED status")),void D(e);case N:return v.default.debug("[".concat(L.clientId,"] Client Already in DISCONNECTING status")),void D(t,b.default.INVALID_OPERATION);case _:return L.socket&&L.socket.close(),L.socket=void 0,v.default.info("[".concat(L.clientId,"] Client connecting, Leave channel success")),L.state=f,e&&e()}for(var r in L.state=N,L.channelMediaConfig&&(L.channelMediaRelayController&&L.channelMediaRelayController.dispose(),L.channelMediaConfig,L.channelMediaRelayController=null),clearInterval(L.pingTimer),L.timers)L.timers.hasOwnProperty(r)&&clearInterval(L.timers[r]);for(var r in L.inChannelInfo.joinAt&&(L.inChannelInfo.duration+=Date.now()-L.inChannelInfo.joinAt,L.inChannelInfo.joinAt=null),L.hasJoined?L.makeRequest({_type:"leave"},(function(t){L.socket.close(),L.socket=void 0,v.default.info("[".concat(L.clientId,"] Leave channel success")),L.state=f,e&&e(t)}),(function(e){"TIMEOUT"!==e&&"REQUEST_ABORT"!==e&&(v.default.error("[".concat(L.clientId,"] Leave Channel Failed"),e),L.state=R,t&&t(e))})):(L.socket&&(L.socket.close(),L.socket=void 0),v.default.info("[".concat(L.clientId,"] Leave channel before joined")),L.state=f,e&&e()),L.localStreams)if(L.localStreams.hasOwnProperty(r)){var i=L.localStreams[r];delete L.localStreams[r],void 0!==i.pc&&(i.pc.close(),i.pc=void 0)}q()},L.publish=function(e,t,n,r){var o=(new Date).getTime(),a=!1;if(e.publishLTS=o,"object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid local stream")),r&&r(b.default.INVALID_LOCAL_STREAM),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:b.default.INVALID_LOCAL_STREAM});if(!e.stream&&void 0===e.url)return v.default.error("[".concat(L.clientId,"] Invalid local media stream")),r&&r(b.default.INVALID_LOCAL_STREAM),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:b.default.INVALID_LOCAL_STREAM});if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User is not in the session")),r&&r(b.default.INVALID_OPERATION),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:b.default.INVALID_OPERATION});var s=e.getAttributes()||{};if(e.local&&void 0===L.localStreams[e.getId()]&&(e.hasAudio()||e.hasVideo()||e.hasScreen())){var u=L.generateP2PId();if(L.p2ps.set(u,e),e.p2pId=u,void 0!==e.url)G(c({state:"url",audio:e.hasAudio(),video:e.hasVideo(),attributes:e.getAttributes()},e.url),(function(t,n){"success"===t?(e.getUserId()!==n&&e.setUserId(n),L.localStreams[n]=e,e.onClose=function(){L.unpublish(e)}):v.default.error("[".concat(L.clientId,"] Publish local stream failed"),t)}));else{L.localStreams[e.getId()]=e,e.connectionSpec={callback:function(s){s||r&&r("CANNOT_GET_OFFER"),"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution"),L.makeRequest(c({state:"offer",stream_type:1==t.streamType?"low":"high",p2p_id:u,sdp:s,audio:e.audio||e.screenAudio,video:e.screen||e.video,screen:e.screen,attributes:e.getAttributes(),dtx:e.DTX,hq:e.highQuality,lq:e.lowQuality,stereo:e.stereo,speech:e.speech,codec:L.codec,extend:Object(y.getParameter)("PUB_EXTEND")}),(function(t){e.getUserId()!==t.uid&&e.setUserId(t.uid),v.default.info("[".concat(L.clientId,"] Local stream published with uid"),t.uid),e.onClose=function(){L.unpublish(e)},e._onAudioUnmute=function(){L.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()}))},e._onVideoUnmute=function(){L.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))},e._onAudioMute=function(){L.makeReport(i({action:"mute_local_audio",stream_id:e.getId()}))},e._onVideoMute=function(){L.makeReport(i({action:"mute_local_video",stream_id:e.getId()}))},e.getId()===e.getUserId()&&(e.isAudioOn()||e.hasAudio()&&(v.default.debug("[".concat(L.clientId,"] local stream audio mute")),e._onAudioMute()),e.isVideoOn()||(e.hasVideo()||e.hasScreen())&&(v.default.debug("[".concat(L.clientId,"] local stream video mute")),e._onVideoMute())),e.pc.oniceconnectionstatechange=function(t){if("failed"===t){if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"_RelatedStats")),v.default.error("[".concat(L.clientId,"] Publisher connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(u)),L.p2ps.delete(u),v.default.debug("[".concat(L.clientId,"] publish p2p failed: "),L.p2ps),!a)return a=!0,E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:b.default.PEERCONNECTION_FAILED,publishRequestid:L.publishRequestId||0,p2pid:u}),L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e})),r&&r(b.default.PEERCONNECTION_FAILED);L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e}))}else if("connected"===t&&(v.default.debug("[".concat(L.clientId,"] publish p2p connected: "),L.p2ps),e.getId()===e.getUserId()&&(e._isAudioMuted()?L.makeReport(i({action:"mute_local_audio",stream_id:e.getId()})):L.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()})),e._isVideoMuted()?L.makeReport(i({action:"mute_local_video",stream_id:e.getId()})):L.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))),!a))return a=!0,E.report.publish(L.joinInfo.sid,{lts:o,succ:!0,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:null,publishRequestid:L.publishRequestId||0,p2pid:u}),n&&n()},e.pc.processSignalingMessage(t.sdp)}),(function(t,n){v.default.error("Publish Failed: ".concat(t)),E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:t,publishRequestid:L.publishRequestId||0,p2pid:u}),"TIMEOUT"!=t&&(L.processPublishFailure(e),r&&r(t))}))},audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),optimizationMode:e.optimizationMode,isSubscriber:!1,stunServerUrl:L.stunServerUrl,turnServers:L.joinInfo.turnServers,maxAudioBW:s.maxAudioBW,minVideoBW:s.minVideoBW,maxVideoBW:s.maxVideoBW,mode:L.mode,codec:L.codec,isVideoMute:e.userMuteVideo||e.peerMuteVideo,isAudioMute:e.userMuteAudio||e.peerMuteAudio,maxFrameRate:e.attributes.maxFrameRate,agoraStream:e,clientId:L.clientId,isCloudProxy3:3===L.joinInfo.proxyServerType,onNoIceCandidate:function(){L.dispatchEvent({type:"no_ice_candidate",stream:e})}},e.pc=Object(I.a)(e.connectionSpec),e.pc.addStream(e.stream),v.default.debug("[".concat(L.clientId,"] PeerConnection add stream :"),e.stream),e.pc.onnegotiationneeded=function(n){"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution");var r={state:"negotiation",stream_type:1===t.streamType?"low":"high",p2p_id:u,sdp:n};L.makeRequest(c(r),(function(t){v.default.debug("Negotating Stream ".concat(e.getId())),e.pc.processSignalingMessage(t.sdp)}),(function(e,t){v.default.error("Negotiation failed ".concat(e),t,r)}))},clearInterval(L.timers[e.getId()]),L.timers[e.getId()]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id&&!(/_recv$/.test(n.id)||/^time$/.test(n.id)||~n.type.toLowerCase().indexOf("inbound"))&&e.getUserId()){if(-1===n.id.indexOf("outbound_rtp")&&-1===n.id.indexOf("OutboundRTP")&&-1===n.type.toLowerCase().indexOf("outbound")||"video"!==n.mediaType||(n.googFrameWidthSent=e.videoWidth+"",n.googFrameHeightSent=e.videoHeight+""),"video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vstd=r.enabled?"0":"1"}catch(e){}if("audio"===n.mediaType)try{var i=e.stream.getAudioTracks()[0];n.A_astd=i.enabled?"0":"1"}catch(e){}if(e.getId()==e.getUserId()){var o=200*t;t++,setTimeout((function(){var e=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();e>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStats report blocked by REPORT_STATS_TIMEOUT ".concat(e)):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"high",stats:t}}}(n))}),o)}else{o=200*t;t++,setTimeout((function(){var e=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();e>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStatsLow report blocked by REPORT_STATS_TIMEOUT ".concat(e)):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"low",stats:t}}}(n))}),o)}}}))}))}}),3e3);var l=function(){Object(y.getParameter)("REPORT_STATS")&&e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){var n,r,i=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();i>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(i)):e.getId()===e.getUserId()?L.makeReport((n=t,r={},Object.keys(n).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(r[k(e)]=n[e])})),{_type:"publish_related_stats",_message:{stream_type:"high",stats:r}})):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_related_stats",_message:{stream_type:"low",stats:t}}}(t))}))};l(),clearInterval(L.timers[e.getId()+"_RelatedStats"]),L.timers[e.getId()+"_RelatedStats"]=setInterval(l,1e3)}}},L.unpublish=function(e,t,n,r){if("object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid local stream")),void D(r,b.default.INVALID_LOCAL_STREAM);if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User not in the session")),void D(r,b.default.INVALID_OPERATION);if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()+"_RelatedStats"])),void 0!==L.socket)if(e.local&&void 0!==L.localStreams[e.getId()]){delete L.localStreams[e.getId()];var i={stream_id:e.getUserId(),stream_type:1===t.streamType?"low":"high"};L.makeRequest({_type:"unpublish",_message:i}),(e.hasAudio()||e.hasVideo()||e.hasScreen())&&void 0===e.url&&void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,L.p2ps.delete(e.p2pId),n&&n()}else v.default.error("[".concat(L.clientId,"] Invalid local stream")),D(r,b.default.INVALID_LOCAL_STREAM);else v.default.error("[".concat(L.clientId,"] User not in the session")),D(r,b.default.INVALID_OPERATION)},L.subscribe=function(e,t,n){var r=(new Date).getTime();e.subscribeLTS=r;var o=!1;if(v.default.info("[".concat(L.clientId,"] Gatewayclient ").concat(L.uid," Subscribe ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),"object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),n&&n(b.default.INVALID_REMOTE_STREAM),void E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_REMOTE_STREAM});if(L.state!==R&&(v.default.error("[".concat(L.clientId,"] User is not in the session")),!o))return o=!0,E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_OPERATION}),n&&n(b.default.INVALID_OPERATION);if(!e.local&&L.remoteStreams.hasOwnProperty(e.getId()))if(e.hasAudio()||e.hasVideo()||e.hasScreen()){var s=L.generateP2PId();L.p2ps.set(s,e),e.p2pId=s,e.pc=Object(I.a)({callback:function(t){t||n&&n("CANNOT_GET_OFFER");var i={stream_id:e.getId(),audio:!e.subscribeOptions||e.subscribeOptions.audio,video:!e.subscribeOptions||e.subscribeOptions.video,codec:L.codec,p2p_id:s,sdp:t,tcc:Object(y.getParameter)("SUBSCRIBE_TCC"),extend:Object(y.getParameter)("SUB_EXTEND")};L.makeRequest({_type:"subscribe",_message:i},(function(t){e.pc.processSignalingMessage(t.sdp)}),(function(t,i){v.default.error("[".concat(L.clientId,"] Subscribe remote stream Failed: ").concat(t,", closing stream "),e.getId(),i),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:t}),"TIMEOUT"!=t&&(L.processSubscribeFailure(e),n&&n(t))}))},nop2p:!0,audio:!0,video:!0,screen:e.hasScreen(),isSubscriber:!0,stunServerUrl:L.stunServerUrl,turnServers:L.joinInfo.turnServers,isVideoMute:e.userMuteVideo,isAudioMute:e.userMuteAudio,uid:e.getId(),agoraStream:e,clientId:L.clientId}),e.pc.onaddstream=function(t,n){if(e._onAudioUnmute=function(){L.makeReport(i({action:"unmute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onAudioMute=function(){L.makeReport(i({action:"mute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoUnmute=function(){L.makeReport(i({action:"unmute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoMute=function(){L.makeReport(i({action:"mute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},"ontrack"===n&&"video"===t.track.kind||"onaddstream"===n){v.default.info("[".concat(L.clientId,"] Remote stream subscribed with uid "),e.getId());var r=L.remoteStreams[e.getId()];if(L.remoteStreams[e.getId()].stream="onaddstream"===n?t.stream:t.streams[0],L.remoteStreams[e.getId()].hasVideo()){if(Object(O.isFireFox)()||Object(O.isSafari)()){var o=L.remoteStreams[e.getId()].stream;Object(S.vsResHack)(o,(function(t,n){e.videoWidth=t,e.videoHeight=n}),(function(e){return v.default.warning("[".concat(L.clientId,"] vsResHack failed: ")+e)}))}}else{var a=L.remoteStreams[e.getId()];a.peerMuteVideo=!0,L._adjustPCMuteStatus(a)}r&&r.isPlaying()&&r.elementID&&(v.default.debug("[".concat(L.clientId,"] Reload Player ").concat(r.elementID," StreamId ").concat(r.getId())),e.audioOutput=r.audioOutput,r.stop(),e.play(r.elementID,r.playOptions)),delete e.audioLevelHelper;var s=Object(m.e)({type:"stream-subscribed",stream:L.remoteStreams[e.getId()]});L.dispatchEvent(s)}},clearInterval(L.timers[e.getId()]),L.timers[e.getId()]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id){if(/_send$/.test(n.id)||/^time$/.test(n.id)||/^bweforvideo$/.test(n.id))return;-1===n.id.indexOf("inbound_rtp")&&-1===n.id.indexOf("inbound-rtp")&&-1===n.type.toLowerCase().indexOf("inbound")||"video"!==n.mediaType||(n.googFrameWidthReceived=e.videoWidth+"",n.googFrameHeightReceived=e.videoHeight+"");var r=200*t;t++;var i=e.getId();setTimeout((function(){var t=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();if(t>Object(y.getParameter)("REPORT_STATS_TIMEOUT"))v.default.debug("SubscribeStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));else{if("video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vrtd=r.enabled?"0":"1",e.player&&e.player.freezeTimeCounterList.length>0&&(n.A_vrft=e.player.freezeTimeCounterList.splice(0,1)[0].toString())}catch(e){}if("audio"===n.mediaType)try{var o=e.stream.getAudioTracks()[0];n.A_artd=o.enabled?"0":"1"}catch(e){}L.makeReport(u(i,n))}}),r)}else;}))}))}}),3e3),clearInterval(L.timers[e.getId()+"_RelatedStats"]),L.timers[e.getId()+"_RelatedStats"]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")&&e&&e.pc){var t=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();if(t>Object(y.getParameter)("REPORT_STATS_TIMEOUT"))return void v.default.debug("SubscribeRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){e.player&&(e.hasVideo()&&!e.peerMuteVideo&&(t.isFreeze=e.player.freezeCount>e.player.lastFreezeCount),e.player.lastFreezeCount=e.player.freezeCount),L.makeReport(a(e.getId(),t))})),e.pc.getAudioRelatedStats&&e.pc.getAudioRelatedStats((function(t){L.makeReport(a(e.getId(),t))}))}}),1e3),L.audioLevel[e.getId()]=0,clearInterval(L.timers[e.getId()+"audio"]),L.timers[e.getId()+"audio"]=setInterval((function(){L.hasListeners("active-speaker")&&e&&e.pc&&"established"===e.pc.state&&e.pc.getStats&&e.pc.getStats((function(t){t.forEach((function(t){if("audio"===t.mediaType){if(t.audioOutputLevel>5e3)for(var n in L.audioLevel[e.getId()]<20&&(L.audioLevel[e.getId()]+=1),L.audioLevel)n!==""+e.getId()&&L.audioLevel[n]>0&&(L.audioLevel[n]-=1);var r=Object.keys(L.audioLevel).sort((function(e,t){return L.audioLevel[t]-L.audioLevel[e]}));if(L.activeSpeaker!==r[0]){var i=Object(m.a)({type:"active-speaker",uid:r[0]});L.dispatchEvent(i),L.activeSpeaker=r[0],v.default.debug("[".concat(L.clientId,"] Update active speaker: ").concat(L.activeSpeaker))}}}))}),50)}),50),e.pc.oniceconnectionstatechange=function(i){if("failed"===i)null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"audio")),v.default.error("[".concat(L.clientId,"] Subscriber connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(s)),v.default.debug("[".concat(L.clientId,"] subscribe p2p failed: "),L.p2ps),o||(o=!0,n&&n(b.default.PEERCONNECTION_FAILED),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.PEERCONNECTION_FAILED,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})),L.remoteStreams[e.getId()]&&L.p2ps.has(s)&&(L.p2ps.delete(s),L.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:e})));else if("connected"===i&&(v.default.debug("[".concat(L.clientId,"] subscribe p2p connected: "),L.p2ps),!o)){o=!0,E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s}),L._adjustPCMuteStatus(e);var a=!1,c=!1,d=!1,u=setInterval((function(){a&&c||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"audio"===t.mediaType){if((t.googDecodingNormal>0||t.audioOutputLevel>0)&&!a){a=!0,L.dispatchEvent({type:"first-audio-frame-decode",stream:e}),a&&c&&clearInterval(u);var n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstAudioDecode(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}if(parseInt(t.packetsReceived)>0&&!c){c=!0,L.dispatchEvent({type:"first-audio-packet-received",stream:e}),a&&c&&clearInterval(u);n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstAudioReceived(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}}}))}),100):clearInterval(u))}),100),l=!1,f=!1,p=setInterval((function(){l&&f||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"video"===t.mediaType){if((t.framesDecoded>0||t.googFramesDecoded>0)&&!l){l=!0,L.dispatchEvent({type:"first-video-frame-decode",stream:e}),l&&f&&clearInterval(p);var n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);e.firstFrameTime=(new Date).getTime()-e.subscribeLTS,E.report.firstVideoDecode(L.joinInfo.sid,{peerid:e.uintId,width:parseInt(t.googFrameWidthReceived)||0,height:parseInt(t.googFrameHeightReceived)||0,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}if(t.packetsReceived>0&&!f){f=!0,L.dispatchEvent({type:"first-video-packet-received",stream:e}),l&&f&&clearInterval(p);n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstVideoReceived(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}}}))}),100):clearInterval(p))}),100),g=setInterval((function(){if(!d){var t=e.getId(),n=L.traffic_stats;if(n&&n.peer_delay){var r=n.peer_delay.find((function(e){return e.peer_uid==t}));if(r){if(d=!0,L.peerPublishDurationMap.get(e.getId()))return void clearInterval(g);var i=r.peer_publish_audio_duration,o=r.peer_publish_video_duration;if(void 0===i||void 0===o)return;L.peerPublishDurationMap.set(e.getId(),!0);var a=E.report.getSessionStartTime(L.joinInfo.sid),s=(i||o)+(Date.now()-n.timestamp),c=Date.now();E.report.peerPublishStatus({audiotag:i?1:-1,videotag:o?1:-1,lts:c,sid:L.joinInfo.sid,cname:L.joinInfo.cname,cid:L.joinInfo.cid,uid:L.joinInfo.uid,elapse:c-a,peer:e.uintId,peerPublishDuration:s,joinChannelSuccessElapse:c-L.joinSuccessLts,subscribeElapse:c-e.subscribeLTS}),clearInterval(g)}}}}),1e3);return e.sid=L.joinInfo.sid,t&&t()}}}else v.default.error("[".concat(L.clientId,"] Invalid remote stream")),o||(o=!0,n&&n(b.default.INVALID_REMOTE_STREAM),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_REMOTE_STREAM}));else v.default.error("[".concat(L.clientId,"] No such remote stream")),o||(o=!0,n&&n(b.default.NO_SUCH_REMOTE_STREAM),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.NO_SUCH_REMOTE_STREAM}))},L.subscribeChange=function(e,t,n){var r=Date.now();v.default.info("[".concat(L.clientId,"] Gatewayclient ").concat(L.uid," SubscribeChange ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),L._adjustPCMuteStatus(e);var i={stream_id:e.getId(),audio:e.subscribeOptions.audio,video:e.subscribeOptions.video};L.makeRequest({_type:"subscribe_change",_message:i},(function(n){var i=Object(m.e)({type:"stream-subscribe-changed",stream:L.remoteStreams[e.getId()]});E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:L.p2ps.get(e.getId())}),L.dispatchEvent(i),t&&t()}),(function(t,r){v.default.error("[".concat(L.clientId,"] Subscribe Change Failed ").concat(e.getId()),t,r),n&&n(t,r)}))},L.processPublishFailure=function(e){e.publishLTS=null,e.p2pId&&L.p2ps.get(e.p2pId)===e&&L.p2ps.delete(e.p2pId),L.localStreams[e.getUserId()]===e&&delete L.localStreams[e.getUserId()],L.localStreams[e.getId()]===e&&delete L.localStreams[e.getId()],e.pc&&(e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},L.processSubscribeFailure=function(e){e.p2pId&&L.p2ps.get(e.p2pId)===e&&L.p2ps.delete(e.p2pId),e.pc&&(e.pc.onaddstream=function(){},e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},L._adjustPCMuteStatus=function(e){(v.default.debug("[".concat(L.clientId,"]: use _adjustPCMuteStatus: ").concat(e.getId())),v.default.debug("[".concat(L.clientId,"]: video: ").concat(e.video,", audio: ").concat(e.audio,", suboption: ").concat(JSON.stringify(e.subscribeOptions),",userMuteVideo: ").concat(e.userMuteVideo,", peerMuteVideo: ").concat(e.peerMuteVideo,", userMuteAudio: ").concat(e.userMuteAudio,", peerMuteAudio: ").concat(e.peerMuteAudio)),!e.local&&e.pc&&e.pc.peerConnection.getReceivers)&&e.pc.peerConnection.getReceivers().forEach((function(t){if(t&&t.track&&"audio"===t.track.kind){var n=!e.userMuteAudio&&!e.peerMuteAudio;e.subscribeOptions&&!e.subscribeOptions.audio&&(n=!1),v.default.debug("[".concat(L.clientId,"]: set receiver audio track: ").concat(n)),t.track.enabled=!!n}else if(t&&t.track&&"video"===t.track.kind){var r=!e.userMuteVideo&&!e.peerMuteVideo;e.subscribeOptions&&!e.subscribeOptions.video&&(r=!1),v.default.debug("[".concat(L.clientId,"]: set receiver video track: ").concat(r)),t.track.enabled=!!r}}))},L.unsubscribe=function(e,t,n){if("object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),void D(n,b.default.INVALID_REMOTE_STREAM);if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User is not in the session")),void D(n,b.default.INVALID_OPERATION);if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"audio")),null!=L.audioLevel[e.getId()]&&delete L.audioLevel[e.getId()],null!=L.timer_counter[e.getId()]&&delete L.timer_counter[e.getId()],L.remoteStreams.hasOwnProperty(e.getId())){if(!L.socket)return v.default.error("[".concat(L.clientId,"] User is not in the session")),void D(n,b.default.INVALID_OPERATION);if(e.local)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),void D(n,b.default.INVALID_REMOTE_STREAM);e.close(),e.stop();var r={stream_id:e.getId()};L.makeRequest({_type:"unsubscribe",_message:r}),void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,delete e.subscribeOptions,L.p2ps.delete(e.p2pId),v.default.info("[".concat(L.clientId,"] Unsubscribe stream success")),t&&t()}else D(n,b.default.NO_SUCH_REMOTE_STREAM)},L.setRemoteVideoStreamType=function(e,t){if(v.default.debug("[".concat(L.clientId,"] Switching remote video stream ").concat(e.getId()," to ").concat(t)),"object"===d()(e)&&null!==e)if(L.state===R){if(!e.local){switch(t){case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_HIGH:case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_LOW:case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_MEDIUM:break;default:return}var n={stream_id:e.getId(),stream_type:t};L.makeRequest({_type:"switch_video_stream",_message:n},(function(){v.default.debug("SwitchVideoStream Success ".concat(n.stream_id," ").concat(n.stream_type))}),(function(e,t){v.default.error("SwitchVideoStream Error ".concat(e," ").concat(n.stream_id," ").concat(n.stream_type),t)}))}}else v.default.error("[".concat(L.clientId,"] User is not in the session"));else v.default.error("[".concat(L.clientId,"] Invalid remote stream"))},L.renewToken=function(e,t,n){e?L.key?L.state!==R?(v.default.debug("[".concat(L.clientId,"] Client is not connected. Trying to rejoin")),L.key=e,L.rejoin(),t&&t()):(v.default.debug("[".concat(L.clientId,"] renewToken from ").concat(L.key," to ").concat(e)),L.key=e,L.makeRequest({_type:"renew_token",_message:{token:e}},t,n)):(v.default.error("[".concat(L.clientId,"] Client is previously joined without token")),n&&n(b.default.INVALID_PARAMETER)):(v.default.error("[".concat(L.clientId,"] Invalid Token ").concat(e)),n&&n(b.default.INVALID_PARAMETER))},L.setStreamFallbackOption=function(e,t){if(v.default.debug("[".concat(L.clientId,"] Set stream fallback option ").concat(e.getId()," to ").concat(t)),"object"===d()(e)&&null!==e)if(L.state===R){if(!e.local){switch(t){case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_DISABLED:case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_AUDIO_ONLY:break;default:return}var n={stream_id:e.getId(),fallback_type:t};L.makeRequest({_type:"set_fallback_option",_message:n},(function(){v.default.debug("SetStreamFallbackOption success ".concat(n.stream_id," ").concat(t))}),(function(e,r){v.default.error("Failed to SetStreamFallbackOption ".concat(n.stream_id," ").concat(t," ").concat(e),r)}))}}else v.default.error("[".concat(L.clientId,"] User is not in the session"));else v.default.error("[".concat(L.clientId,"] Invalid remote stream"))},L.enableAudioVolumeIndicator=function(e,t){L.audioVolumeIndication.enabled=!0,L.audioVolumeIndication.interval=e,L.audioVolumeIndication.smooth=t,L.resetAudioVolumeIndication()},L.resetAudioVolumeIndication=function(){if(clearInterval(L.timers.audioVolumeIndication),clearInterval(L.timers.audioVolumeSampling),L.audioVolumeIndication.enabled&&L.audioVolumeIndication.interval){var e=Math.floor(1e3*L.audioVolumeIndication.smooth/100);clearInterval(L.timers.audioVolumeSampling),L.timers.audioVolumeSampling=setInterval((function(){L.audioVolumeSampling||(L.audioVolumeSampling={});var t={};for(var n in L.remoteStreams){var r=L.remoteStreams[n];if(r.stream&&r.hasAudio()){var i=r.getAudioLevel();i>0&&i<1&&(i*=100);var o=L.audioVolumeSampling[n]||[];for(o.push(i);o.length>e;)o.shift();t[n]=o}}L.audioVolumeSampling=t}),100),clearInterval(L.timers.audioVolumeIndication),L.timers.audioVolumeIndication=setInterval((function(){if(L.socket&&L.socket.signal&&L.socket.signal.connection&&L.socket.signal.connection.readyState===WebSocket.OPEN){var e=[];for(var t in L.remoteStreams)if(L.audioVolumeSampling&&L.audioVolumeSampling[t]){var n=L.audioVolumeSampling[t],r=0;n.forEach((function(e){r+=e}));var i={uid:t,level:Math.floor(r/n.length)};i.level&&e.push(i)}var o=e.sort((function(e,t){return e.level-t.level}));v.default.debug("[".concat(L.clientId,"] volume-indicator "),JSON.stringify(o)),L.audioVolumeIndication.sortedAudioVolumes=o;var a=Object(m.a)({type:"volume-indicator",attr:o});L.dispatchEvent(a)}}),L.audioVolumeIndication.interval)}},L.closeGateway=function(){v.default.debug("[".concat(L.clientId,"] close gateway")),L.state=f,L.socket.close(),B()},L.startChannelMediaRelay=function(){var e=s()(o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L.channelMediaRelayController){e.next=2;break}throw new P.ChannelMediaError("RELAY_ALREADY_START","",P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_ALREADY_START);case 2:return n=function(e){L.dispatchEvent({type:"channel-media-relay-event",code:e})},r=function(e,t,n){e===P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE&&t===P.CHANNEL_MEDIA_RELAY_ERROR.SERVER_CONNECTION_LOST&&(L.channelMediaRelayController.dispose(),L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:e,code:t,data:n})},L.channelMediaRelayController=new x.a(L.joinInfo,L.clientId),L.channelMediaRelayController.on("event",n),L.channelMediaRelayController.on("state",r),e.prev=7,e.next=10,L.channelMediaRelayController.startChannelMediaRelay(t);case 10:e.next=22;break;case 12:throw e.prev=12,e.t0=e.catch(7),v.default.debug("[".concat(L.clientId,"] startChannelMediaRelay exception: ").concat(JSON.stringify(e.t0))),i=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,a="",a=e.t0 instanceof P.ChannelMediaError?"SetSourceChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetSourceChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_SRC":"SetDestChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetDestChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_DEST":e.t0.data&&e.t0.data.serverResponse&&"StartPacketTransfer"===e.t0.data.serverResponse.command?"FAILED_PACKET_SENT_TO_DEST":e.t0.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.t0.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.t0.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.t0.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.t0.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_TIMEOUT?"NO_RESOURCE_AVAILABLE":e.t0.message===P.CHANNEL_MEDIA_ERROR.WS_ABORT||e.t0.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-state",state:i,code:P.CHANNEL_MEDIA_RELAY_ERROR[a]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(a,null,P.CHANNEL_MEDIA_RELAY_ERROR[a]);case 22:L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_RUNNING,code:P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_OK}),L.channelMediaConfig=t;case 24:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}(),L.updateChannelMediaRelay=function(){var t=s()(o.a.mark((function t(n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.channelMediaRelayController){t.next=2;break}throw new P.ChannelMediaError("RELAY_NOT_START",null,P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,L.channelMediaRelayController.updateChannelMediaRelay(n);case 5:t.next=18;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(L.clientId,"] updateChannelMediaRelay exception: ").concat(JSON.stringify(e))),r=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,i="",i=e instanceof P.ChannelMediaError?e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.WS_ABORT||e.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-event",code:P.CHANNEL_MEDIA_RELAY_EVENT.PACKET_UPDATE_DEST_CHANNEL_REFUSED}),L.dispatchEvent({type:"channel-media-relay-state",state:r,code:P.CHANNEL_MEDIA_RELAY_ERROR[i]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(i,null,P.CHANNEL_MEDIA_RELAY_ERROR[i]);case 18:L.channelMediaConfig=n;case 19:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),L.stopChannelMediaRelay=s()(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.channelMediaRelayController){t.next=2;break}throw new P.ChannelMediaError("RELAY_NOT_START",null,P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,L.channelMediaRelayController.stopChannelMediaRelay();case 5:t.next=17;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(L.clientId,"] stopChannelMediaRelay exception: ").concat(JSON.stringify(e))),n=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,r="",r=e instanceof P.ChannelMediaError?e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-state",state:n,code:P.CHANNEL_MEDIA_RELAY_ERROR[r]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(r,null,P.CHANNEL_MEDIA_RELAY_ERROR[r]);case 17:L.channelMediaConfig=null,L.channelMediaRelayController=null;case 19:case"end":return t.stop()}}),t,null,[[2,7]])}))),L.sendMetadata=function(e,t){L.makeRequest(function(e){return{_type:"send_metadata",_message:{session_id:L.joinInfo.sid,metadata:window.btoa(unescape(encodeURIComponent(e)))}}}(e),(function(){v.default.debug("[".concat(L.clientId,'] send metadata "').concat(e,'" success')),t&&t(null)}),(function(n){v.default.error("[".concat(L.clientId,'] send metadata "').concat(e,'" failed'),n),t&&t(n)}))},L._reportWebsocketCloseEvent=function(e,t){try{var n=E.report.getSessionStartTime(L.joinInfo.sid),r=Date.now();E.report.webSocketQuit({lts:r,sid:L.joinInfo.sid,cname:L.joinInfo.cname,cid:L.joinInfo.cid,uid:L.joinInfo.uid,elapse:r-n,succ:e,errorCode:t,ip:null})}catch(e){v.default.debug("[".concat(L.clientId,"]: _reportWebsocketCloseEvent exception, ").concat(e))}};var j=function(){v.default.debug("[".concat(L.clientId,"] Reconnect gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="recover",L.state=_,F()};L.recover=j;var B=function(){for(var e in L.dispatchEvent({type:"before-clear-connection"}),L.timers)L.timers.hasOwnProperty(e)&&clearInterval(L.timers[e]);for(var e in L.remoteStreams)if(L.remoteStreams.hasOwnProperty(e)){var t=L.remoteStreams[e],n=Object(m.a)({type:"stream-removed",uid:t.getId(),stream:t});L.dispatchEvent(n)}L.p2ps.clear(),q(),H(),clearInterval(L.pingTimer)};L.rejoin=function(){L.socket&&(clearInterval(L.pingTimer),L.socket.close(),L.socket=void 0),L.state=_,F()};var F=function(e,t){L.dispatchEvent(Object(m.a)({type:"rejoin-start"})),e=e||function(e){v.default.info("[".concat(L.clientId,"] User ").concat(e," is re-joined to ").concat(L.joinInfo.cname)),L.dispatchEvent(Object(m.a)({type:"rejoin"})),L.channelMediaConfig&&L.startChannelMediaRelay(L.channelMediaConfig).then((function(){v.default.debug("[".concat(L.clientId,"] restartChannelMediaRelay success"))})).catch((function(e){v.default.debug("[".concat(L.clientId,"] restartChannelMediaRelay failed: ").concat(JSON.stringify(e)))})),L.liveStreams&&L.liveStreams.size&&L.liveStreams.forEach((function(e,t){e&&L.setLiveTranscoding(L.transcoding),L.startLiveStreaming(t,e)})),L.injectLiveStreams&&L.injectLiveStreams.size&&L.injectLiveStreams.forEach((function(e,t){L.addInjectStreamUrl(t,e)}))},t=t||function(e){v.default.error("[".concat(L.clientId,"] Re-join to channel failed "),e),L.dispatchEvent(Object(m.e)({type:"error",reason:e}))},L.key?(++L.rejoinAttempt,L.join(L.joinInfo,L.key,e,t)):v.default.error("[".concat(L.clientId,"] Connection recover failed [Invalid channel key]"))},W=function(e,t,n){if(L.onConnect=t,L.socket){if(L.dispatchEvent({type:"reconnect"}),"retry"===L.reconnectMode)v.default.debug("[".concat(L.clientId,"] Retry current gateway")),L.socket.reconnect();else if("tryNext"===L.reconnectMode)v.default.debug("[".concat(L.clientId,"] Try next gateway")),L.socket.connectNext();else if("recover"===L.reconnectMode){v.default.debug("[".concat(L.clientId,"] Recover gateway")),v.default.debug("[".concat(L.clientId,"] Try to reconnect choose server and get gateway list again ")),L.reconnectingCS=!0;var i=L.joinInfo&&L.joinInfo.sid;0,Object(A.getGatewayList)(L.joinInfo,(function(e){v.default.debug("[".concat(L.clientId,"] session:  ").concat(i," get gateway list success")),L.joinInfo.apResponse=e.res,L.reconnectingCS?L.socket.replaceHost(e.gateway_addr):v.default.debug("[".concat(L.clientId,"] session:  ").concat(i," already leave"))}))}}else o=e.gatewayAddr,L.socket=T(o,{sid:L.joinInfo.sid,clientId:L.clientId,proxyServerType:L.joinInfo.proxyServerType}),L.socket.on("start-connection",(function(e){L.ticket=e&&e.msg&&e.msg.ticket})),L.socket.on("on_uplink_stats",(function(e){var t={};for(var n in e)t[M(n)]=e[n];if(L.OutgoingAvailableBandwidth=t.uplink_available_bandwidth,L.localStreams[L.uid]){var r=L.localStreams[L.uid].uplinkStats;r&&r.period_fir===t.period_fir||v.default.debug("[".concat(L.clientId,"]: Period fir change to: ").concat(t.period_fir)),L.localStreams[L.uid].uplinkStats=t}})),L.socket.on("connect",(function(){L.dispatchEvent({type:"connected"}),L.attemps=1,L.onConnect()})),L.socket.on("recover",(function(){L.state=_,v.default.debug("[".concat(L.clientId,"] Try to reconnect choose server and get gateway list again ")),L.reconnectingCS=!0;var e=L.joinInfo&&L.joinInfo.sid;Object(A.getGatewayList)(L.joinInfo,(function(t){v.default.debug("[".concat(L.clientId,"] session:  ").concat(e," get gateway list success")),L.reconnectingCS?L.socket.replaceHost(t.gateway_addr):v.default.debug("[".concat(L.clientId,"] session:  ").concat(e," already leave"))}))})),L.socket.on("disconnect",(function(e){if(v.default.debug("[".concat(L.clientId,"] Receive disconnect message")),L.state!==f){L.state=f,L._reportWebsocketCloseEvent(-1,b.WEBSOCKET_CLOSE_REASON.WS_DISCONNECT);var t=Object(m.e)({type:"error",reason:b.default.SOCKET_DISCONNECTED});if(L.dispatchEvent(t),0===L.p2ps.size?L.reconnectMode="tryNext":L.reconnectMode="retry",B(),L.channelMediaRelayController&&L.channelMediaRelayController.dispose(),L.channelMediaRelayController=null,1!=r){var n,i=(n=L.attemps,1e3*Math.min(30,Math.pow(2,n)-1));if(v.default.error("[".concat(L.clientId,"] Disconnect from server [").concat(JSON.stringify(e),"], attempt to recover [#").concat(L.attemps,"] after ").concat(i/1e3," seconds")),L.hasInvokeLeave)return v.default.debug("[".concat(L.clientId,"] No reconnection because Client.leave has been invoked")),void(L.hasInvokeLeave=!1);setTimeout((function(){L.attemps++,L.state=_,L.inChannelInfo&&Date.now()-L.inChannelInfo.joinAt>Object(y.getParameter)("TICKET_RENEW_TIMEOUT")?(v.default.debug("Recovering to renew ticket"),j()):F()}),i)}else{var o=V.unregister(L);o&&v.default.debug("[".concat(L.clientId,"] "),o)}}})),L.socket.on("on_add_audio_stream",(function(e){if(v.default.info("[".concat(L.clientId,"] Newly added audio stream with uid ").concat(e.uid)),L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.remoteStreamsInChannel.has(e.uid)||L.remoteStreamsInChannel.add(e.uid),void 0===L.remoteStreams[e.uid]){var t=Object(g.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});t.peerMuteVideo=!0,L.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});L.dispatchEvent(n);var r=L.remoteMuteState[e.uid];if(r&&r.audio){n=Object(m.a)({type:"mute-audio",uid:e.uid});L.dispatchEvent(n)}if(r&&r.video){n=Object(m.a)({type:"mute-video",uid:e.uid});L.dispatchEvent(n)}}E.report.onAddAudioStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})})),L.socket.on("on_update_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_update_stream:"),e);var t=L.remoteStreams[e.uid];if(L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),t){t.audio=e.audio,t.video=e.video,t.screen=e.screen,t.pc&&L._adjustPCMuteStatus(t);var n=Object(m.e)({type:"stream-updated",stream:t});L.dispatchEvent(n)}else v.default.debug("[".concat(L.clientId,"] Ignoring onUpdateStream event before onAddStream for uid ").concat(e.uid));E.report.onUpdateStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,audio:e.audio,video:e.video,uid:L.uid})})),L.socket.on("on_add_video_stream",(function(e){if(v.default.info("[".concat(L.clientId,"] Newly added remote stream with uid ").concat(e.uid,".")),L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.remoteStreamsInChannel.has(e.uid)||L.remoteStreamsInChannel.add(e.uid),void 0===L.remoteStreams[e.uid]){var t=Object(g.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});L.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});L.dispatchEvent(n);var r=L.remoteMuteState[e.uid];if(r&&r.audio){n=Object(m.a)({type:"mute-audio",uid:e.uid});L.dispatchEvent(n)}if(r&&r.video){n=Object(m.a)({type:"mute-video",uid:e.uid});L.dispatchEvent(n)}}else{var i=L.remoteStreams[e.uid];if(i.video=!0,i.peerMuteVideo=!1,i.pc&&L._adjustPCMuteStatus(i),v.default.info("[".concat(L.clientId,"] Stream changed: enable video ").concat(e.uid)),void 0!==i.stream&&i.isPlaying()){var o=i.player.elementID;i.stop(),i.play(o,i.playOptions)}}E.report.onAddVideoStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})})),L.socket.on("on_remove_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_remove_stream:"),e),L.remoteStreamsInChannel.has(e.uid)&&L.remoteStreamsInChannel.delete(e.uid);var t=L.remoteStreams[e.uid];if(t){delete L.remoteStreams[e.uid],delete L.remoteMuteState[e.uid];var n=Object(m.e)({type:"stream-removed",stream:t});L.dispatchEvent(n),t.close(),void 0!==t.pc&&(t.pc.close(),t.pc=void 0,L.p2ps.delete(t.p2pId)),E.report.onRemoveStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})}else v.default.error("ERROR stream ",e.uid," not found onRemoveStream ",e)})),L.socket.on("on_publish_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_publish_stream:"),e);var t=L.localStreams[e.uid];L.dispatchEvent({type:"streamPublished",stream:t,proxy:e.proxy}),E.report.reportApiInvoke(L.joinInfo.sid,{name:"on_publish_stream",options:{proxy:e.proxy}})()})),L.socket.on("mute_audio",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer mute audio: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].audio=!0;var t=Object(m.a)({type:"mute-audio",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteAudio=!0,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("unmute_audio",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer unmute audio: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].audio=!1;var t=Object(m.a)({type:"unmute-audio",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteAudio=!1,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("mute_video",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer mute video: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].video=!0;var t=Object(m.a)({type:"mute-video",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteVideo=!0,n.player&&(n.player.peerVideoReady=!1),n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("unmute_video",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer unmute video: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].video=!1;var t=Object(m.a)({type:"unmute-video",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteVideo=!1,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("on_crypt_error",(function(e){v.default.warning("[".concat(L.clientId,"] stream crypt error"));var t=Object(m.a)({type:"crypt-error",cryptType:e.crypt_type});L.dispatchEvent(t)})),L.socket.on("on_user_banned",(function(e){v.default.info("[".concat(L.clientId,"] user banned uid: ").concat(e.uid," error: ").concat(e.error_code));var t=Object(m.a)({type:"client-banned",uid:e.uid,attr:e.error_code});L.dispatchEvent(t),r=!0})),L.socket.on("on_stream_fallback_update",(function(e){v.default.info("[".concat(L.clientId,"] stream fallback peerId: ").concat(e.stream_id," type: ").concat(e.stream_type));var t=Object(m.a)({type:"stream-fallback",uid:e.stream_id,stream:e.stream_id,attr:e.stream_type});L.dispatchEvent(t)})),L.socket.on("stream_recover",(function(e){v.default.info("[".concat(L.clientId,"] stream recover uid: ").concat(e.id," peerId: ").concat(e.peerid," type: ").concat(e.type));var t=Object(m.a)({type:"stream-recover",uid:e.id,stream:e.peerid,attr:e.type});L.dispatchEvent(t)})),L.socket.on("on_p2p_lost",(function(e){v.default.debug("[".concat(L.clientId,"] p2plost: "),e,"p2ps:",L.p2ps);var t,n="DTLS failed";(t=L.localStreams[e.uid]||L.remoteStreams[e.uid])?(t.pc&&t.pc.offerCandidates&&0===t.pc.offerCandidates.length&&(n="NO_CANDIDATES_IN_OFFER"),"publish"===e.event&&E.report.publish(L.joinInfo.sid,{lts:t.publishLTS,succ:!1,audio:t.hasAudio(),video:t.hasVideo(),screenshare:t.hasScreen(),audioName:t.hasAudio()&&t.audioName,videoName:t.hasVideo()&&t.videoName,screenName:t.hasScreen()&&t.screenName,ec:n,publishRequestid:L.publishRequestId||0,p2pid:L.p2ps.get(t.getId())}),"subscribe"===e.event&&E.report.subscribe(L.joinInfo.sid,{lts:t.subscribeLTS,succ:!1,video:t.subscribeOptions&&t.subscribeOptions.video,audio:t.subscribeOptions&&t.subscribeOptions.audio,peerid:e.uid+"",ec:n,subscribeRequestid:L.subscribeRequestId.get(t.getId())||0,p2pid:L.p2ps.get(t.getId())})):v.default.warning("P2PLost Stream Not found",e),v.default.debug("[".concat(L.clientId,"] p2plost:"),e.p2pid),(t=L.p2ps.get(e.p2pid))&&(L.p2ps.delete(e.p2pid),t.local?L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:t,attr:n})):L.remoteStreams[t.getId()]&&L.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:t,attr:n})))})),L.socket.on("on_token_privilege_will_expire",(function(e){v.default.debug("[".concat(L.clientId,"] Received Message onTokenPrivilegeWillExpire")),L.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeWillExpire"}))})),L.socket.on("on_token_privilege_did_expire",(function(){v.default.warning("[".concat(L.clientId,"] Received Message onTokenPrivilegeDidExpire, please get new token and join again")),L.closeGateway(),L.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeDidExpire"}))})),L.socket.on("enable_local_video",(function(e){v.default.info("[".concat(L.clientId,"] enable_local_video:"),e),L.dispatchEvent(Object(m.a)({type:"enable-local-video",uid:e.uid}))})),L.socket.on("disable_local_video",(function(e){v.default.info("[".concat(L.clientId,"] disable_local_video:"),e),L.dispatchEvent(Object(m.a)({type:"disable-local-video",uid:e.uid}))})),L._doWithAction=function(e,t,n){"tryNext"===e?function(e,t){v.default.debug("[".concat(L.clientId,"] Connect next gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="tryNext",L.state=_,F(e,t)}(t,n):"retry"===e?function(e,t){v.default.debug("[".concat(L.clientId,"] Reconnect gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="retry",L.state=_,F(e,t)}(t,n):"quit"===e?(v.default.debug("[".concat(L.clientId,"] quit gateway")),L.state=f,L.socket.close(),B()):"recover"===e&&j()},L.socket.on("on_notification",(function(e){if(v.default.debug("[".concat(L.clientId,"] Receive notification: "),e),"ERR_JOIN_BY_MULTI_IP"===b.GatewayErrorCode[e.code])return L.dispatchEvent({type:"onMultiIP",option:e.option});e.detail?L._doWithAction(C[b.GatewayErrorCode[e.code]]):e.action&&L._doWithAction(e.action)})),L.socket.on("on_user_offline",(function(e){v.default.info("[".concat(L.clientId,"] on_user_offline:"),e);var t=Object(m.a)({type:"peer-leave",uid:e.uid});if(L.remoteStreamsInChannel.has(e.uid)&&L.remoteStreamsInChannel.delete(e.uid),L.remoteStreams.hasOwnProperty(e.uid)&&(t.stream=L.remoteStreams[e.uid]),t.reason=e.reason,L.dispatchEvent(t),v.default.info("[".concat(L.clientId,"] remove remoteMuteState "),e.uid),delete L.remoteMuteState[e.uid],L.remoteStreams.hasOwnProperty(e.uid)){v.default.info("[".concat(L.clientId,"] closing stream on peer leave"),e.uid);var n=L.remoteStreams[e.uid];n.close(),delete L.remoteStreams[e.uid],E.report.onRemoveStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid}),void 0!==n.pc&&(n.pc.close(),n.pc=void 0,L.p2ps.delete(n.p2pId))}L.timers.hasOwnProperty(e.uid)&&(clearInterval(L.timers[e.uid]),clearInterval(L.timers[e.uid]+"_RelatedStats"),delete L.timers[e.uid]),null!=L.audioLevel[e.uid]&&delete L.audioLevel[e.uid],null!=L.timer_counter[e.uid]&&delete L.timer_counter[e.uid]})),L.socket.on("onUplinkStats",(function(e){})),L.socket.on("liveStreamingStarted",(function(e){var t=Object(m.c)({type:"liveStreamingStarted",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveStreamingFailed",(function(e){var t=Object(m.c)({type:"liveStreamingFailed",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveStreamingStopped",(function(e){var t=Object(m.c)({type:"liveStreamingStopped",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveTranscodingUpdated",(function(e){var t=Object(m.c)({type:"liveTranscodingUpdated",reason:e.reason});L.dispatchEvent(t)})),L.socket.on("streamInjectedStatus",(function(e){var t=Object(m.c)({type:"streamInjectedStatus",url:e.url,uid:e.uid,status:e.status});L.dispatchEvent(t)})),L.socket.on("on_user_online",(function(e){L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.dispatchEvent({type:"peer-online",uid:e.uid})})),L.socket.on("receive_metadata",(function(e){L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID");var t=decodeURIComponent(escape(window.atob(e.metadata)));v.default.debug("[".concat(L.clientId,"] received ").concat(e.uid," metadata: ").concat(t)),L.dispatchEvent({type:"receive-metadata",uid:e.uid,metadata:t})}));var o},G=function(e,t){if(void 0!==L.socket)try{L.socket.emitSimpleMessage(e,(function(e,n){t&&t(e,n)}))}catch(e){v.default.error("[".concat(L.clientId,"] Error in sendSimpleSdp [").concat(e,"]"))}else v.default.error("[".concat(L.clientId,"] Error in sendSimpleSdp [socket not ready]"))},H=function(){for(var e in L.localStreams)if(void 0!==L.localStreams[e]){var t=L.localStreams[e];delete L.localStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}},q=function(){for(var e in L.remoteStreamsInChannel.clear(),L.remoteStreams)if(L.remoteStreams.hasOwnProperty(e)){var t=L.remoteStreams[e];t.isPlaying()&&t.stop(),t.close(),delete L.remoteStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}};return L},V={_gatewayClients:{},register:function(e,t){if(!t.uid){var n="NO_UID_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),n,t),n}if(t.cname){if(this._gatewayClients[t.cname]&&this._gatewayClients[t.cname][t.uid]&&this._gatewayClients[t.cname][t.uid]!==e){n="UID_CONFLICT";return v.default.error("[".concat(e.clientId,"] "),n,t),n}return v.default.debug("[".concat(e.clientId,"] register client Channel"),t.cname,"Uid",t.uid),this._gatewayClients[t.cname]||(this._gatewayClients[t.cname]={}),this._gatewayClients[t.cname][t.uid]=e,null}var n="NO_CHANNEL_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),n,t),n},unregister:function(e){var t=e&&e.uid,n=e.joinInfo&&e.joinInfo.cname;if(!t||!n){var r="INVALID_GATEWAYCLIENT";return v.default.error("[".concat(e.clientId,"] "),r),r}if(this._gatewayClients[n]&&this._gatewayClients[n][t]){if(this._gatewayClients[n][t]!==e){r="GATEWAYCLIENT_UID_CONFLICT";return v.default.error("[".concat(e.clientId,"] "),r),r}return v.default.debug("[".concat(e.clientId,"] unregister client "),e.uid),delete this._gatewayClients[n][t],null}var r="GATEWEAY_CLIENT_UNREGISTERED";v.default.error("[".concat(e.clientId,"] "),r)}};j.DISCONNECTED=0,j.CONNECTING=1,j.CONNECTED=2,j.DISCONNECTING=3,j.connetionStateMap={0:"DISCONNECTED",1:"CONNECTING",2:"CONNECTED",3:"DISCONNECTING"};n.a=j},function(e,t,n){"use strict";n.r(t),n.d(t,"post",(function(){return l})),n.d(t,"postFormData",(function(){return u})),n.d(t,"shouldUseHttps",(function(){return f})),n.d(t,"getHTTPSendBytes",(function(){return s})),n.d(t,"getHTTPRecvBytes",(function(){return c})),n.d(t,"resetHTTPByetsCount",(function(){return d}));var r=n(2),i=n(10),o=0,a=0,s=function(){return o},c=function(){return a},d=function(){o=0,a=0},u=function(e,t,n,s,c){var d=new XMLHttpRequest;if(d.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),d.open("POST",e,!0),c)for(var u in c)"withCredentials"==u?d.withCredentials=!0:d.setRequestHeader(u,c[u]);d.onload=function(t){a+=Object(i.lengthInUtf8Bytes)(d.responseText),200!==d.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(d.responseText)},d.onerror=function(t){s&&s(t,e)},d.ontimeout=function(t){s&&s(t,e)};var l=JSON.stringify(t);o+=Object(i.lengthInUtf8Bytes)(l);var f=new FormData;f.append("request",l),d.send(f)},l=function(e,t,n,s,c){var d=new XMLHttpRequest;if(d.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),d.open("POST",e,!0),d.setRequestHeader("Content-type","application/json; charset=utf-8"),c)for(var u in c)"withCredentials"==u?d.withCredentials=!0:d.setRequestHeader(u,c[u]);d.onload=function(t){a+=Object(i.lengthInUtf8Bytes)(d.responseText),200!==d.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(d.responseText)},d.onerror=function(t){s&&s(t,e)},d.ontimeout=function(t){s&&s(t,e)};var l=JSON.stringify(t);o+=Object(i.lengthInUtf8Bytes)(l),d.send(l)},f=function(){return"https:"==document.location.protocol}},function(e,t,n){"use strict";n.r(t),n.d(t,"RTCPeerConnection",(function(){return T})),n.d(t,"getUserMedia",(function(){return a})),n.d(t,"attachMediaStream",(function(){return s})),n.d(t,"reattachMediaStream",(function(){return c})),n.d(t,"setSrcObject",(function(){return p})),n.d(t,"getSrcObject",(function(){return g})),n.d(t,"webrtcDetectedBrowser",(function(){return d})),n.d(t,"webrtcDetectedVersion",(function(){return u})),n.d(t,"webrtcMinimumVersion",(function(){return l})),n.d(t,"webrtcTesting",(function(){return I})),n.d(t,"webrtcUtils",(function(){return v}));var r=n(11),i=n.n(r),o=n(5),a=null,s=null,c=null,d=null,u=null,l=null,f=null,p=null,g=null,m=null,h={addStream:null},v={log:function(){},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n])}};if("object"==("undefined"==typeof window?"undefined":i()(window))?(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)?(p=function(e,t){"mozSrcObject"in e?e.mozSrcObject=t:(e._srcObject=t,e.src=t?URL.createObjectURL(t):null)},g=function(e){return"mozSrcObject"in e?e.mozSrcObject:e._srcObject}):(p=function(e,t){e.srcObject=t},g=function(e){return e.srcObject}),a=window.navigator&&window.navigator.getUserMedia):(p=function(e,t){e.srcObject=t},g=function(e){return e.srcObject}),s=function(e,t){p(e,t)},c=function(e,t){p(e,g(t))},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){for(var E in v.log("This appears to be Firefox"),d="firefox",u=v.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),l=31,m=mozRTCPeerConnection,h)h[E]=m.prototype[E];if(f=function(e,t){if(u<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];if(i.hasOwnProperty("urls"))for(var o=0;o<i.urls.length;o++){var a={url:i.urls[o]};0===i.urls[o].indexOf("turn")&&(a.username=i.username,a.credential=i.credential),n.push(a)}else n.push(e.iceServers[r])}e.iceServers=n}var s=new m(e,t);for(var c in h)s[c]=h[c];return s},window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),a=function(e,t,n){var r=function(e){if("object"!==i()(e)||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===i()(e[n])?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var o={};"number"==typeof r.ideal?o[n]={min:r.ideal,max:r.ideal}:o[n]=r.ideal,e.advanced.push(o),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return u<38&&(v.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=r(e.audio)),e.video&&(e.video=r(e.video)),v.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)},navigator.getUserMedia=a,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:R,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},u<41){var S=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return S().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){for(var E in v.log("This appears to be Chrome"),d="chrome",u=v.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),l=38,m=webkitRTCPeerConnection,h)h[E]=m.prototype[E];f=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new m(e,t);for(var r in h)n[r]=h[r];var i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=arguments;r.length>0&&"function"==typeof e&&(t?(n=t,t=e,r=[e=null,t,n]):(t=e,r=[e=null,t]));var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t};if(r.length>=2){var a=function(e){r[1](o(e))};return i.apply(this,[a,r[0]])}return i()},n},["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===i()(arguments[0])){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this;return new Promise((function(r,i){t.apply(n,[e[0],function(){r(),e.length>=2&&e[1].apply(null,[])},function(t){i(t),e.length>=3&&e[2].apply(null,[t])}])}))}}));var _=function(e){if("object"!==i()(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i()(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[o("min",n)]=r.ideal,t.optional.push(a),(a={})[o("max",n)]=r.ideal,t.optional.push(a)):(a[o("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(a=function(e,t,n){return e.audio&&(e.audio=_(e.audio)),e.video&&(e.video=_(e.video)),v.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,n)},navigator.getUserMedia=a,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:R,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){if((Object(o.getBrowserVersion)()?Number(Object(o.getBrowserVersion)().split(".")[0]):void 0)<46){var y=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return v.log("spec:   "+JSON.stringify(e)),e.audio=_(e.audio),e.video=_(e.video),v.log("chrome: "+JSON.stringify(e)),y(e)}}}else navigator.mediaDevices.getUserMedia=function(e){return R(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){v.log("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){v.log("Dummy mediaDevices.removeEventListener called.")}),s=function(e,t){u>=43?p(e,t):void 0!==e.src?e.src=t?URL.createObjectURL(t):null:v.log("Error attaching stream to element.")},c=function(e,t){u>=43?p(e,g(t)):e.src=t.src}}else navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(v.log("This appears to be Edge"),d="edge",u=v.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),l=12):v.log("Browser does not appear to be WebRTC-capable");else v.log("This does not appear to be a browser"),d="not a browser";function R(e){return new Promise((function(t,n){a(e,t,n)}))}var T,I={};try{Object.defineProperty(I,"version",{set:function(e){u=e}})}catch(e){}f?T=f:"undefined"!=typeof window&&(T=window.RTCPeerConnection)},function(e,t,n){"use strict";var r=n(12),i=n.n(r),o=n(17),a=n.n(o),s=n(51),c=n.n(s),d=n(5),u=n(1),l=n(3),f=n(0),p=(n(25),n(2),n(4),n(52)),g=n.n(p),m=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function h(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,o=new Uint8Array(i),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;for(var c=0,d=0;d<256;d++){var u=[a[c=(c+a[d]+t[d%n])%256],a[d]];a[d]=u[0],a[c]=u[1]}var l,f=0;c=0;for(var p=0;p<0+i;p++){var g=[a[c=(c+a[f=(f+1)%256])%256],a[f]];a[f]=g[0],a[c]=g[1],l=a[(a[f]+a[c])%256],p>=0&&(o[p-0]=r[p-0]^l)}var m=String.fromCharCode.apply(null,o);return Function("var winSize = 5; return `"+m+"`")()}function v(e,t){var n=h(t),r=g.a.createProgramFromSources(e,[h(m),n]),i=e.getAttribLocation(r,"a_position"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(i);var a=2,s=e.FLOAT,c=!1,d=0,u=0;e.vertexAttribPointer(i,a,s,c,d,u);var l=e.getAttribLocation(r,"a_texCoord"),f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(l);a=2,s=e.FLOAT,c=!1,d=0,u=0;return e.vertexAttribPointer(l,a,s,c,d,u),r}var E=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];function S(e,t,n){var r=e.gl;this.program=v(r,E),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY");r.uniform1f(e,1)}}var _=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];function y(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,_),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var R=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];function T(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,R),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var I=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];function b(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,I),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var A=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144];function O(e,t,n){var r=e.gl,i=5,o=.1,a=.5,s=175/180*3.141593,c=115/180*3.141593,d=173/180*3.141593,u=116/180*3.141593,l=2.04203545,f=0,p=0,g=0,m=[],h=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],S=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];this.program=v(r,A),this.setUniforms=function(){var t=r.getUniformLocation(this.program,"u_flipY"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform1f(n,i),r.uniform1f(t,1);var h=r.getUniformLocation(this.program,"light");r.uniform1f(h,o);var v=r.getUniformLocation(this.program,"redness");r.uniform1f(v,a);var E=r.getUniformLocation(this.program,"skin_he_max"),S=r.getUniformLocation(this.program,"skin_he_min"),_=r.getUniformLocation(this.program,"skin_hc_max"),y=r.getUniformLocation(this.program,"skin_hc_min"),R=r.getUniformLocation(this.program,"skin_hc_axis"),T=r.getUniformLocation(this.program,"facts_rotate_c"),I=r.getUniformLocation(this.program,"facts_rotate_le"),b=r.getUniformLocation(this.program,"facts_rotate_ge");r.uniform1f(E,s),r.uniform1f(S,c),r.uniform1f(_,d),r.uniform1f(y,u),r.uniform1f(R,l),r.uniform1f(T,f),r.uniform1f(I,p),r.uniform1f(b,g);var A=r.getUniformLocation(this.program,"u_originImage");r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,e.inputTexture),r.uniform1i(A,2);for(var O=["lighten_lut"],C=[r.TEXTURE3],N=0;N<O.length;N++){var w=r.getUniformLocation(this.program,O[N]);r.activeTexture(C[N]),r.bindTexture(r.TEXTURE_2D,m[N]),r.uniform1i(w,N+3)}},this.setParameters=function(e){void 0!==e.denoiseLevel&&(i=e.denoiseLevel),void 0!==e.lightLevel&&(o=e.lightLevel),void 0!==e.rednessLevel&&(a=e.rednessLevel,this._updateRedness(a)),void 0!==e.lighteningContrastLevel&&this._updateLut(e.lighteningContrastLevel)},this._updateRedness=function(e){var t,n,r=3.141593,i=e,o=i;i>1&&(i=1),i<0&&(i=0),o>1&&(o=1),o<0&&(o=0),f=.8*i,o<.8&&(o=0),(l=(117-4*o)/180*r)<(u=(116-4*o)/180*r)&&(l=u),u<r/2&&(u=r/2),l<r/2&&(l=r/2),(c=(115-4*o)/180*r)<r/2&&(c=r/2),(d=173/180*r)>r&&(d=r),l>r&&(l=r),(s=175/180*r)>r&&(s=r),n=d-l,g=(t=s-d)>.01?f*n/t:f,n=l-u,p=(t=u-c)>.01?f*n/t:f},this._updateLut=function(e){var t=null;0==e&&(t=E),1==e&&(t=S),2==e&&(t=h);for(var n=[new Uint8Array(t)],i=[256],o=[1],a=0;a<n.length;a++)r.bindTexture(r.TEXTURE_2D,m[a]),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,i[a],o[a],0,r.LUMINANCE,r.UNSIGNED_BYTE,n[a])},this._init=function(){var e=null;e=E;for(var t=[new Uint8Array(e)],n=[256],i=[1],o=0;o<t.length;o++){var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,n[o],i[o],0,r.LUMINANCE,r.UNSIGNED_BYTE,t[o]),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),m.push(a)}},this._init()}var C=!1;function N(){this.programs=[];var e=this,t=null,n=null;e.gl=null,e.inputTexture=null;var r=[],i=[],o=0,a=0;e._initGl=function(n,s){e.inputTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR);for(var c=0;c<4;c++){var d=t.createTexture();t.bindTexture(t.TEXTURE_2D,d),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),c<2?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,s,0,t.RGBA,t.UNSIGNED_BYTE,null):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,s,n,0,t.RGBA,t.UNSIGNED_BYTE,null);var u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,d,0),r.push(d),i.push(u)}t.viewport(0,0,n,s),o=n,a=s},e.render=function(s){if(t){var c=0;a==s.videoWidth&&o===s.videoHeight&&(c=2),t.viewport(0,0,s.videoWidth,s.videoHeight),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s);for(var d=C?e.programs.length-1:0,u=0;u<=d;u++){var l=e.programs[u].program;t.useProgram(l);var f=t.getUniformLocation(l,"u_image");e.programs[u].setUniforms(),t.bindFramebuffer(t.FRAMEBUFFER,i[c+u%2]),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r[c+u%2]),t.uniform1i(f,0)}t.useProgram(n);var p=t.getUniformLocation(n,"u_flipY");t.uniform1f(p,-1),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)}},e.setEnableBeauty=function(e){C=e},e.init=function(r,i,o){if("undefined"==typeof WebGLRenderingContext)throw new Error("NOT_SUPPORT");t=o.getContext("webgl"),e.gl=t,e._initGl(r,i),e.programs.push(new S(this,r,i)),e.programs.push(new y(this,r,i)),e.programs.push(new T(this,r,i)),e.programs.push(new b(this,r,i)),e.programs.push(new O(this,r,i)),n=e.programs[0].program},e.release=function(){e.gl=null,t=null,n=null,e.inputTexture=null,e.programs=[],r=[],i=[]},e.setDenoiseLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({denoiseLevel:t})}))},e.setLightLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lightLevel:t})}))},e.setRednessLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({rednessLevel:t})}))},e.setContrastLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lighteningContrastLevel:t})}))},e.setSize=function(t,n){e.programs.forEach((function(e){e.setSize&&e.setSize(t,n)}))}}N._instance=null,N.getInstance=function(){return N._instance||(N._instance=new N),N._instance};t.a={addVideoEffectCapability:function(e){e.videoEffect={canvas:null,video:null,fps:30,stopChromeBackgroundLoop:null,enableBeauty:!1,denoiseLevel:5,lightLevel:.35,rednessLevel:.5,lighteningContrastLevel:1,videoContextInited:!1,originVideoTrack:null,canvasVideoTrack:null,ctx:null},e._initVideoContext=function(){if(e.videoEffect.videoContextInited)throw new Error("Failed to init video context. Already inited");if(!e.stream)throw new Error("Failed to init video context. Local Stream not initialized");e.videoEffect.originVideoTrack=e.stream.getVideoTracks()[0],e.attributes&&e.attributes.maxFrameRate&&(e.videoEffect.fps=e.attributes.maxFrameRate),e.videoEffect.videoContextInited=!0},e._renderWithWebGL=function(t){return new Promise((function(n){e.videoEffect.canvas||(e.videoEffect.canvas=document.createElement("canvas")),e.videoEffect.video||(e.videoEffect.video=document.createElement("video")),e.videoEffect.video.setAttribute("autoplay",""),e.videoEffect.video.setAttribute("muted",""),e.videoEffect.video.muted=!0,e.videoEffect.video.setAttribute("playsinline",""),e.videoEffect.video.setAttribute("style","display:none"),e.videoEffect.video.srcObject=t;var r=t.getVideoTracks()[0].getSettings(),i=r.width,o=r.height;console.log("Width: ".concat(i,", Height: ").concat(o)),e.videoEffect.canvas.setAttribute("width",i),e.videoEffect.canvas.setAttribute("height",o),e.videoEffect.video.setAttribute("width",i),e.videoEffect.video.setAttribute("height",o);var a=N.getInstance();a.init(e.videoEffect.video.width,e.videoEffect.video.height,e.videoEffect.canvas),a.setDenoiseLevel(e.videoEffect.denoiseLevel),a.setLightLevel(e.videoEffect.lightLevel),a.setRednessLevel(e.videoEffect.rednessLevel),a.setContrastLevel(e.videoEffect.lighteningContrastLevel);e.videoEffect.video.addEventListener("playing",(function t(){var r=e.videoEffect.canvas.captureStream(e.videoEffect.fps);e.videoEffect.video.removeEventListener("playing",t,!0),n([r.getVideoTracks()[0],e.videoEffect.video])}),!0),e.videoEffect.video.play()}))},e._disableEffect=function(){e.videoEffect.videoContextInited||e._initVideoContext();var t=e.videoEffect.originVideoTrack;if(!t)return f.default.warning("Video track is null, fail to disable video effect!"),Promise.resolve();if(e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind}));if(n&&n.replaceTrack&&t)return n.replaceTrack(t)}return Promise.resolve()},e._releaseEffect=function(){var t;return t=e.videoEffect.enableBeauty?e._disableEffect():Promise.resolve(),N.getInstance().release(),e.videoEffect.videoContextInited=!1,e.videoEffect.canvasVideoTrack=null,t},e._enableEffect=function(){return e.videoEffect.videoContextInited||e._initVideoContext(),e.videoEffect.originVideoTrack?e.videoEffect.canvasVideoTrack?(e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()):e._renderWithWebGL(e.stream).then((function(t){var n=c()(t,2),r=n[0],i=n[1];e.videoEffect.canvasVideoTrack=r;var o=N.getInstance();return requestAnimationFrame((function t(){e.videoEffect.enableBeauty&&o.render(i),e.videoEffect.videoContextInited&&requestAnimationFrame(t)})),d.isChrome()&&document.addEventListener("visibilitychange",(function(){document.hidden;document.hidden?e.videoEffect.stopChromeBackgroundLoop=function(e,t){var n=1/t,r=new AudioContext,i=r.createGain();i.gain.value=0,i.connect(r.destination),function t(){var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime),o&&(a.onended=function(){r.close()})}();var o=!1;return function(){o=!0}}((function(){e.videoEffect.enableBeauty&&o.render(i)}),e.videoEffect.fps):e.videoEffect.stopChromeBackgroundLoop&&(e.videoEffect.stopChromeBackgroundLoop(),e.videoEffect.stopChromeBackgroundLoop=null)}),!1),e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()})):(f.default.warning("Video track is null, fail to enable video effect!"),Promise.resolve())},e._showEffectInLocalPlayer=function(){if(e.player){var t=e.player.div.children[0];if("none"!==t.style.display&&(e.player.div.appendChild(e.videoEffect.canvas),"video"===t.tagName.toLowerCase())){var n=t.getAttribute("style");e.videoEffect.canvas.setAttribute("style",n),"none"!==t.style.display&&(t.style.display="none")}}},e._removeEffectFromLocalPlayer=function(){if(e.player&&e.player.div&&e.videoEffect.enableBeauty&&e.videoEffect.canvas){e.player.div.removeChild(e.videoEffect.canvas);var t=e.player.div.children[0];"video"===t.tagName.toLowerCase()&&(e.videoEffect.canvas.style.display="none",t.style.display="block")}},e._replaceWithCanvasTrack=function(){var t=null;e.pc&&e.pc.peerConnection&&e.pc.peerConnection&&(t=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind})));return t&&t.replaceTrack&&e.videoEffect.canvasVideoTrack?t.replaceTrack(e.videoEffect.canvasVideoTrack):Promise.resolve()},e.setBeautyEffectOptions=function(){var t=a()(i.a.mark((function t(n,r){var o,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(l.checkValidBoolean)(n,"enabled"),o=N.getInstance(),e.videoEffect.enableBeauty==n){t.next=14;break}if(o.setEnableBeauty(n),!n){t.next=9;break}return t.next=7,e._enableEffect();case 7:t.next=12;break;case 9:return e._removeEffectFromLocalPlayer(),t.next=12,e._releaseEffect();case 12:e.videoEffect.enableBeauty=n,u.report.reportApiInvoke(e.sid,{callback:null,options:a,name:"Stream.setBeautyEffectOptions",tag:"tracer"});case 14:if(n){t.next=16;break}return t.abrupt("return");case 16:if(!r){t.next=20;break}Object(l.checkValidObject)(r,"options"),t.next=21;break;case 20:return t.abrupt("return");case 21:if(void 0!==r.smoothnessLevel&&(Object(l.checkValidFloatNumber)(r.smoothnessLevel,"smoothnessLevel",0,1),e.videoEffect.denoiseLevel=10*r.smoothnessLevel,e.videoEffect.denoiseLevel<.1&&(e.videoEffect.denoiseLevel=.1),o.setDenoiseLevel(e.videoEffect.denoiseLevel)),void 0!==r.lighteningLevel&&(Object(l.checkValidFloatNumber)(r.lighteningLevel,"lighteningLevel",0,1),e.videoEffect.lightLevel=r.lighteningLevel/2,e.videoEffect.lightLevel<.01&&(e.videoEffect.lightLevel=.01),o.setLightLevel(e.videoEffect.lightLevel)),void 0!==r.rednessLevel&&(Object(l.checkValidFloatNumber)(r.rednessLevel,"rednessLevel",0,1),e.videoEffect.rednessLevel=r.rednessLevel,e.videoEffect.rednessLevel<.01&&(e.videoEffect.rednessLevel=.01),o.setRednessLevel(e.videoEffect.rednessLevel)),void 0===r.lighteningContrastLevel){t.next=29;break}if(0===r.lighteningContrastLevel||1===r.lighteningContrastLevel||2===r.lighteningContrastLevel){t.next=27;break}throw new Error("Invalid lighteningContrastLevel: The value should be 0, 1 or 2.");case 27:e.videoEffect.lighteningContrastLevel=parseFloat(r.lighteningContrastLevel),o.setContrastLevel(e.videoEffect.lighteningContrastLevel);case 29:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},restoreVideoEffect:function(e){return e.videoEffect.enableBeauty?e._enableEffect():Promise.resolve()},disableVideoEffect:function(e){return e._releaseEffect?e._releaseEffect():Promise.resolve()},applyEffectInPlayer:function(e){e.videoEffect.enableBeauty&&e.videoEffect.canvas&&e._showEffectInLocalPlayer()},removeEffectFromLocalPlayer:function(e){e._removeEffectFromLocalPlayer()},replaceWithCanvasTrack:function(e){return e.videoEffect.enableBeauty?e._replaceWithCanvasTrack():Promise.resolve()},checkVideoEffectEnabled:function(e){if(e.videoEffect.enableBeauty&&e.videoEffect&&e.videoEffect.videoContextInited){return f.default.error("Operation not permitted: ".concat("VIDEO_EFFECT_ENABLED")),"VIDEO_EFFECT_ENABLED"}return!1}}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";var r=n(38),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),i=n.n(r),o=n(8),a=n(0),s=n(4);function c(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=new function(){var e=Object(o.b)();return e.devicesHistory={},e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.deviceStates={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},e.deviceReloadTimer=null,e._init=function(t,n){e.state=e.states.INITING,e.devicesHistory={},e._reloadDevicesInfo((function(){e.state=e.states.INITED,e.dispatchEvent({type:"inited"}),t&&t()}),(function(t){a.default.warning("Device Detection functionality cannot start properly."),e.state=e.states.UNINIT,n&&n(t)}))},e._enumerateDevices=function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a.default.warning("enumerateDevices() not supported."),t&&t("enumerateDevices() not supported");navigator.mediaDevices.enumerateDevices().then((function(t){e&&setTimeout((function(){e(t)}),0)})).catch((function(e){t&&t(e)}))},e._reloadDevicesInfo=function(t,n){var r=[];e._enumerateDevices((function(n){var o=Date.now();for(var s in n.forEach((function(t){var n=e.devicesHistory[t.deviceId];if((n?n.state:e.deviceStates.INACTIVE)!=e.deviceStates.ACTIVE){var i=n||{initAt:o};i.device=t,i.state=e.deviceStates.ACTIVE,r.push(i),e.devicesHistory[t.deviceId]=i}e.devicesHistory[t.deviceId].lastReloadAt=o})),e.devicesHistory){var c=e.devicesHistory[s];c&&c.state==e.deviceStates.ACTIVE&&c.lastReloadAt!==o&&(c.state=e.deviceStates.INACTIVE,r.push(c)),c.lastReloadAt=o}e.state==e.states.INITED&&r.forEach((function(t){var n=i()({},t);switch(t.device.kind){case"audioinput":n.type="recordingDeviceChanged";break;case"audiooutput":n.type="playoutDeviceChanged";break;case"videoinput":n.type="cameraChanged";break;default:a.default.warning("Unknown device change",n),n.type="unknownDeviceChanged"}e.dispatchEvent(n)})),t&&t()}),n)},e.getDeviceById=function(t,n,r){e.getDevices((function(e){for(var i=0;i<e.length;i++){var o=e[i];if(o&&o.deviceId===t)return n&&n(o)}return r&&r()}))},e.searchDeviceNameById=function(t){var n=e.devicesHistory[t];return n?n.device.label||n.device.deviceId:null},e.getDevices=function(t,n){e._enumerateDevices(t,(function(e){n&&n(e.name+": "+e.message)}))},e.getVideoCameraIdByLabel=function(t,n,r){e.getCameras((function(e){var i,o=c(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.label===t)return n&&n(a.deviceId)}}catch(e){o.e(e)}finally{o.f()}return r&&r(s.default.NOT_FIND_DEVICE_BY_LABEL)}),r)},e.getRecordingDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audioinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getPlayoutDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audiooutput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getCameras=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"videoinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e._init((function(){navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",(function(){e._reloadDevicesInfo()})),e.deviceReloadTimer=setInterval(e._reloadDevicesInfo,5e3)})),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"_getReconnectCSTimer",(function(){return A})),n.d(t,"_setClientConnectionStateRecord",(function(){return O})),n.d(t,"getGatewayList",(function(){return N})),n.d(t,"getUserAccount",(function(){return L}));var r=n(11),i=n.n(r),o=n(12),a=n.n(o),s=n(17),c=n.n(s),d=n(2),u=(n(5),n(0)),l=n(14),f=n(1),p=n(4),g=function(e,t){var n=!1,r=0,i=Object(d.getParameter)("PROXY_CS"),o=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),a=0,s={command:"convergeAllocateEdge",sid:e.sid,appId:e.appId,token:e.token,uid:e.uid,cname:e.cname,ts:Math.floor(Date.now()/1e3),version:d.VERSION,seq:0,requestId:1},c=function(c){var d=(new Date).getTime();m("https://"+c+"/api/v1",s,(function(s,p){if(s)return u.default.debug("["+e.clientId+"] Request proxy server failed: ",s),r++,f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:JSON.stringify(s),response:JSON.stringify({err:s,res:p})}),r>=i.length&&t&&t("Get proxy server failed: request all failed"),void(!(r%o)&&r<i.length&&(a++,l()));if(!n)if((p=JSON.parse(p)).json_body){var g=JSON.parse(p.json_body);if(u.default.debug("["+e.clientId+"] App return:",g.servers),200!==g.code){s="Get proxy server failed: response code ["+g.code+"], reason [ "+g.reason+"]";r++,u.default.debug("["+e.clientId+"] "+s),f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:s,response:JSON.stringify({err:s,res:p})}),r>=i.length&&t&&t(s),!(r%o)&&r<i.length&&(a++,l())}else{n=!0;var m=v(g.servers);f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!0,APAddr:c,workerManagerList:JSON.stringify(m),ec:null,response:JSON.stringify({res:p})}),t&&t(null,m)}}else u.default.debug("["+e.clientId+"] Get proxy server failed: no json_body"),f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:"Get proxy server failed: no json_body",response:JSON.stringify({res:p})})}))},l=function(){for(var e=a*o,t=e;t<Math.min(i.length,e+o);t++){var n=i[t];c(n)}};l()},m=function(e,t,n){var r={service_name:"webrtc_proxy",json_body:JSON.stringify(t)};Object(l.post)(e,r,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})},h=function(e,t,n){var r=!1,i=0,o={command:"request",gatewayType:"http",appId:e.appId,cname:e.cname,uid:e.uid+"",sdkVersion:"2.3.1",sid:e.sid,seq:1,ts:+new Date,requestId:3,clientRequest:{appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid}};t.map((function(a){var s=(new Date).getTime();!function(e,t,n){Object(l.post)(e,t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))}("https://"+a+":4000/v2/machine",o,(function(o,c){if(o)return u.default.debug("["+e.clientId+"] Request worker manager failed: ",o),i++,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!1,workerManagerAddr:a,ec:JSON.stringify(o),response:JSON.stringify({res:c})}),void(i>=t.length&&n&&n("requeet worker manager server failed: request failed"));if(!r){if(!(c=JSON.parse(c)).serverResponse)return n&&n("requeet worker manager server failed: serverResponse is undefined");r=!0,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!0,workerManagerAddr:a,ec:JSON.stringify(o),response:JSON.stringify({res:c})}),n&&n(null,{address:a,serverResponse:c.serverResponse})}}))}))},v=function(e){if(!e||[]instanceof Array==!1)return[];var t=[];return e.forEach((function(e){var n;e.address&&e.tcp?(e.address.match(/^[\.\:\d]+$/)?n="".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(u.default.info("["+joinInfo.clientId+"] "+"Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),n="".concat(e.address,":").concat(e.tcp)),t.push(n)):u.default.error("["+joinInfo.clientId+"] Invalid address format ",e)})),t},E=n(21),S=function(e,t,n,r){var i=Object(d.getParameter)("WEBCS_DOMAIN").concat(Object(d.getParameter)("WEBCS_DOMAIN_BACKUP_LIST")),o=Object(d.getParameter)("PROXY_SERVER_TYPE3");i=i.map((function(e,t){return"".concat(o[(t+1)%o.length],"/ap/?url=").concat(e)}));var a,s=0,c=!0,g=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),m=0,h=function(h){!function(e,t,n,r,i){var o=Date.now(),a=function(e,r){try{f.report.joinChooseServer2(n.sid,{lts:o,succ:!e,csAddr:t,serverList:r&&r.gateway_addr,cid:r&&r.cid+"",uid:r&&r.uid+"",ec:e,chooseServerIp:r&&r.detail&&r.detail[502]})}catch(e){}},s=function(r,i){var a=Date.now();try{f.report.joinWebProxyAP({lts:a,sid:n.sid,cname:n.cname,cid:n.cid,uid:n.uid,sucess:r?-1:1,elapse:a-o,eventType:e,apServerAddr:t,turnServerAddrList:JSON.stringify(i),errorCode:r||"0"})}catch(e){}},c=Object(d.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(E.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),g={appid:n.token,client_ts:Date.now(),opid:133,sid:n.sid,request_bodies:[{uri:22,buffer:{cname:n.cname,detail:{11:c,6:n.stringUid},key:n.token,service_ids:[11,i?20:18],uid:n.uid||0}}]};t="https://".concat(t,"/api/v2/transpond/webrtc?v=2"),Object(l.postFormData)(t,g,(function(e){var o=function(e){return new RegExp(/10102\d{2}$/).test(e)?"NO_SERVICE_AVAILABLE":p.APErrorCode[e]||e};try{var c,l,f=JSON.parse(e);if(30===(f=f.response_body)[0].uri&&0!==f[0].buffer.code){var g=o(f[0].buffer.code);return s(g,f),r(g)}if(4096===f[0].buffer.flag?(l=f[0].buffer,c=f[1].buffer):(l=f[1].buffer,c=f[0].buffer),0!==c.code){g=o(c.code);return u.default.error("[".concat(n.clientId,"] requestProxyServer failed: ").concat(g)),s(g,c),r(g)}if(!c.edges_services||!c.edges_services instanceof Array)return s("UNEXPECTED_ERROR",c),r("UNEXPECTED_ERROR");var m=Object(d.getParameter)("GATEWAY_DOMAINS"),h=0;if(t.indexOf(m[1])>-1&&(h=1),0===c.edges_services.length)return s("EMPTY_PROXY_LIST",c),r("EMPTY_PROXY_LIST");var v=c.edges_services.map((function(e){if(e.ip)return e.ip=i?"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[h++%m.length]):"".concat(e.ip),e}));if(s(null,v),0!==l.code){g=o(l.code);return u.default.error("[".concat(n.clientId,"] requestChooseServer failed: ").concat(g)),a(g),r(g)}var E=[];m=Object(d.getParameter)("GATEWAY_DOMAINS"),h=0;if(t.indexOf(m[1])>-1&&(h=1),l.edges_services.forEach((function(e){var r;if(e.ip&&e.port){if(!e.ip.match(/^[\.\:\d]+$/))return u.default.info("["+n.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),void a("UNEXPECTED_IP");r="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[h++%m.length]);var i=Object(d.getParameter)("PROXY_SERVER_TYPE3");r=/sd-rtn/.test(t)?"".concat(i[0],"/ws/?h=").concat(r,"&p=").concat(e.port):"".concat(i[1],"/ws/?h=").concat(r,"&p=").concat(e.port),E.push(r)}else u.default.error("["+n.clientId+"] Invalid address format ",e)})),!E.length)return u.default.error("["+n.clientId+"] Empty Address response",f),a("EMPTY_ADDRESS_RESPONSE"),r("EMPTY_ADDRESS_RESPONSE");l.ticket=l.cert;var S={gateway_addr:E,uid:l.uid,cid:l.cid,vid:l.detail&&l.detail[8],res:l,detail:f.detail};a(null,S),r(null,{gatewayServers:S,turnServers:v})}catch(e){return u.default.error("[".concat(n.clientId,"] requestProxyServer failed with unexpected body "),e),s("UNEXPECTED_ERROR"),r("UNEXPECTED_ERROR")}}),(function(e,t){"timeout"===e.type?(s("REQUEST_PROXY_SERVER_TIME_OUT"),r("REQUEST_PROXY_SERVER_TIME_OUT")):(s("REQUEST_PROXY_SERVER_FAILED"),r("REQUEST_PROXY_SERVER_FAILED"))}))}(e,h,t,(function(e,r){e?(s++,u.default.error("[".concat(t.clientId,"] request ").concat(h," failed: ").concat(e)),e&&-1===p.JOIN_PROXY_RETRY_LIST.indexOf(e)&&(a=e),s===i.length&&(a||(a="RETRYABLE_ERROR"),n(a)),!(s%g)&&s<i.length&&(m++,v())):c&&(/sd-rtn/.test(r.gatewayServers.gateway_addr[0])?Object(d.setParameter)("NGINX",o[0]):Object(d.setParameter)("NGINX",o[1]),c=!1,n(null,r))}),r)},v=function(){for(var e=m*g,t=e;t<Math.min(i.length,e+g);t++){var n=i[t];h(n)}};v()},_=n(13),y=n(29),R=n.n(y),T=n(30),I={},b={},A=function(e){return I[e]},O=function(e,t){b[e]=t},C=function(e,t,n,r,i,o){var a=(new Date).getTime(),s=t,c="";t.multiIP&&t.multiIP.gateway_ip&&(c={vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]});var g=Object(d.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(E.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),m={appid:t.token,opid:133,client_ts:+new Date,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:{5:c?JSON.stringify(c):void 0,6:t.stringUid,11:g},key:t.token,service_ids:[11],uid:t.uid||0}}]};Object(l.postFormData)(e,m,(function(i){try{var c=JSON.parse(i),l=(c=c.response_body[0].buffer).code}catch(e){var g="requestChooseServer failed with unexpected body "+i;return u.default.error("["+s.clientId+"]",g),r(g,void 0,void 0,o)}if(l)return E=new RegExp(/10102\d{2}$/).test(l)?"NO_SERVICE_AVAILABLE":p.APErrorCode[c.code]||l,f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:e,serverList:null,ec:E,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+E+"]",e,E,o);var m=[],h=Object(d.getParameter)("GATEWAY_DOMAINS"),v=0;if(e.indexOf(h[1])>-1&&(v=1),c.edges_services.forEach((function(e){var t;e.ip&&e.port?(e.ip.match(/^[\.\:\d]+$/)?t="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(h[v++%h.length],":").concat(e.port):(u.default.info("["+s.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),t="".concat(e.ip,":").concat(e.port)),m.push(t)):u.default.error("["+s.clientId+"] Invalid address format ",e)})),!m.length){u.default.error("["+s.clientId+"] Empty Address response",c);var E="EMPTY_ADDRESS_RESPONSE";return f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:e,serverList:null,ec:E,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+E+"]",e,E,o)}c.ticket=c.cert;var S={gateway_addr:m,uid:c.uid,cid:c.cid,vid:c.detail&&c.detail[8],res:c,uni_lbs_ip:c.detail};return n(S,e)}),(function(e,n){"timeout"===e.type?(f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:n,serverList:null,ec:"timeout"}),r("Connect choose server timeout",n,void 0,o)):(f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:n,serverList:null,ec:e.httpErrorCode||"server_wrong"}),r("Connect choose server error",n,void 0,o))}))},N=function(e,t,n){var r=!1,i=null,o=1,a=1,s=e.clientId,c=function t(a,c){if(!r){var l=[];!function(e,t,n){var r,i=(new Date).getTime(),o=!1,a=0,s=0,c=Object(d.getParameter)("WEBCS_DOMAIN"),l=c.length,g=Object(d.getParameter)("WEBCS_DOMAIN_BACKUP_LIST"),m=g.length,h=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),v=0,S=0,_=function(n,r){var a;try{a=n.res.detail[8]}catch(t){u.default.debug("["+e.clientId+"] get vid failed",t)}if(o)f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:a,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!1);else{if(clearTimeout(I),o=!0,e.proxyServer)for(var s=n.gateway_addr,c=0;c<s.length;c++){var d=s[c].split(":");n.gateway_addr[c]=e.proxyServer+"/ws/?h="+d[0]+"&p="+d[1]}t(n),f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:a,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!0)}},y=function(t,i,o,c){"domain"===c&&a++,"backup"===c&&s++,u.default.error("["+e.clientId+"]",t,i,o),o&&-1===p.JOIN_CS_RETRY_LIST.indexOf(o)&&(r=o),a===l&&s===m&&n(r),"domain"===c&&!(a%h)&&a<l&&(v++,R()),"backup"===c&&!(s%h)&&s<m&&(S++,T())},R=function t(){for(var n=v*h,r=n;r<Math.min(l,n+h);++r){var i;if("string"==typeof c[r]){var o=c[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(o+"/api/v2/transpond/webrtc?v=2"):"https://".concat(o,"/api/v2/transpond/webrtc?v=2");var s=Object(E.getAreaCodeByWebCS)(o);u.default.debug("["+e.clientId+"] "+"Connect to choose_server: ".concat(i,", ").concat(s)),C(i,e,_,y,0,"domain")}else a++,u.default.error("["+e.clientId+"] Invalid Host",c[r]),r===n+h-1&&r<l-1-1&&(v++,t())}};R();var T=function t(){if(!o)for(var n=S*h,r=n;r<Math.min(m,n+h);r++){var i;if("string"==typeof g[r]){var a=g[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(a+"/api/v2/transpond/webrtc?v=2"):"https://".concat(a,"/api/v2/transpond/webrtc?v=2");var c=Object(E.getAreaCodeByWebCS)(a);u.default.debug("["+e.clientId+"] "+"Connect to backup_choose_server: ".concat(i,", ").concat(c)),C(i,e,_,y,0,"backup")}else s++,u.default.error("["+e.clientId+"] Invalid Host",g[r]),r===n+h-1&&r<g-1-1&&(v++,t())}},I=setTimeout(T,1e3)}(e,(function(t){r=!0,!0,l=t,clearTimeout(i),b[s]!==_.a.DISCONNECTED&&b[s]!==_.a.DISCONNECTING?c&&c(l,null):u.default.debug("[".concat(e.clientId,"] Request gateway list success when connection state is ").concat(b[s]))}),(function(r){if(r)return u.default.info("["+e.clientId+"] Join failed: "+r),void(n&&n(r));if(b[s]===_.a.DISCONNECTED||b[s]===_.a.DISCONNECTING)return u.default.debug("[".concat(e.clientId,"] Request gateway list falied when connection state is ").concat(b[s])),void(n&&n("OPERATION_ABORT"));u.default.debug("["+e.clientId+"] Request gateway list will be restart in "+o+"s"),i=setTimeout((function(){t(a,c)}),1e3*o),I[s]=i;var l=Object(d.getParameter)("AP_BACKOFF_MAX_TIME");o=o>=l?l:2*o}))}},l=function n(){!function(e,t){g(e,(function(n,r){if(n)return t&&t(n);u.default.debug("["+e.clientId+"] getProxyServerList: ",r),h(e,r,t)}))}(e,(function(r,o){if(r){u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){n()}),1e3*a),I[s]=i;var l=Object(d.getParameter)("AP_BACKOFF_MAX_TIME");a=a>=l?l:2*a}else{clearTimeout(i);var p=o.address;e.proxyServer=p;var g={mode:"manual",url:o.address,tcpport:o.serverResponse.tcpport||"3433",udpport:o.serverResponse.udpport||"3478",username:o.serverResponse.username||"test",credential:o.serverResponse.password||Object(d.getParameter)("TURN_SERVER_PASSWORD"),forceturn:!0};g.tcpport+="",g.udpport+="",e.turnServers=[],e.turnServers.push(g),f.report.setProxyServer(p),u.default.setProxyServer(p),c(p,t)}}))};e.useProxyServer?1==e.proxyServerType?l():2==e.proxyServerType?function n(){!function(e,t){g(e,(function(n,r){return n?t&&t(n):(u.default.debug("["+e.clientId+"] getProxyServerList: ",r),t&&t(null,{address:r[0],serverResponse:{tcpport:"443",udpport:"3478",username:"test",password:"111111"}}))}))}(e,(function(r,o){if(r)return u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){n()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a);clearTimeout(i);var l=Object(d.getParameter)("PROXY_SERVER_TYPE2");e.proxyServer=l;var p={mode:"manual",url:o.address,tcpport:o.serverResponse.tcpport||"3433",udpport:o.serverResponse.udpport||"3478",username:o.serverResponse.username||"test",credential:o.serverResponse.password||"111111",forceturn:!0};p.tcpport+="",p.udpport+="",e.turnServers=[],e.turnServers.push(p),f.report.setProxyServer(l),u.default.setProxyServer(l),c(l,t)}))}():3==e.proxyServerType?function r(){S("proxy3",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:"",udpport:t.port||"3478",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}))}():4==e.proxyServerType?function r(){S("proxy4",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!1};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}))}():5==e.proxyServerType?function r(){S("proxy5",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!1,useTurns:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}),!0)}():l():c(null,t)},w=function(e,t,n,r,i){var o=Date.now();r=r||t.stringUid;var a={sid:t.sid,opid:10,appid:t.appId,string_uid:r};return new Promise((function(i,s){Object(l.post)(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),a,(function(c){try{var d=JSON.parse(c),l=d.code}catch(i){var g="requestUserAccount failed with unexpected body "+c;return u.default.error("["+t.clientId+"]",g),s({retryable:!0,info:g,url:e,error:"UNEXPECTED_ERROR"}),n&&n.dispatchEvent({type:"error",reason:"USER_ACCOUNT_BODY_NOT_JSON"}),void f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,extend:c,errorCode:"USER_ACCOUNT_BODY_NOT_JSON"})}if(l){var m=!1;return"INTERNAL_SERVER_ERROR"===(v=p.StringUidErrorCode[d.code%1e4]||"REQ_ACCOUNT_ERR_".concat(l))&&(m=!0),n&&n.dispatchEvent({type:"error",reason:v}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:v,extend:a}),s({retryable:m,info:g="Get String Uid Failed ["+v+"]",url:e,error:v})}var h=d.uid;if(!(h>0&&h<Math.pow(2,32))){u.default.error("["+t.clientId+"] "+"Invalid Uint Uid ".concat(r," => ").concat(h),d);var v="INVALID_UINT_UID_".concat(h);return n&&n.dispatchEvent({type:"error",reason:v}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:v,extend:a}),s({retryable:!0,error:v,info:"Get String Uid failed ["+v+"]",url:e})}i({uid:h,url:e}),f.report.reqUserAccount(a.sid,{lts:o,success:!0,serverAddress:e,stringUid:r,uid:h,errorCode:null,extend:a})}),(function(e,t){if("timeout"===e.type){var i="USER_ACCOUNT_TIMEOUT";n&&n.dispatchEvent({type:"error",reason:i}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:i,extend:a}),s({retryable:!0,info:i,url:t,error:i})}else{var c="USER_ACCOUNT_SERVER_WRONG_".concat(e.type);n&&n.dispatchEvent({type:"error",reason:c}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:c,extend:a}),s({retryable:!0,info:c,url:t,error:c})}}),{"X-Packet-Service-Type":0,"X-Packet-URI":72})}))},L=function(e,t,n){Date.now();var r,o=Object(d.getParameter)("ACCOUNT_REGISTER"),s=!1,l=Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT"),f=null,p=null,g=new Promise(function(){var g=c()(a.a.mark((function c(g,m){var h,v,E;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:f=g,p=m,r=0;case 3:if(!(r<Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_COUNT_MAX"))){c.next=33;break}if(!s){c.next=6;break}return c.abrupt("return");case 6:return h=o[r%o.length],v=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(h+"/api/v1"):"https://".concat(h,"/api/v1"),c.prev=8,c.delegateYield(a.a.mark((function r(){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.proxyServer,r.next=3,w(v,e,t,n);case 3:if(i=r.sent,!s){r.next=6;break}return r.abrupt("return",{v:void 0});case 6:s=!0,setTimeout((function(){u.default.debug("Get UserAccount Successfully",i),f(i)}),0);case 8:case"end":return r.stop()}}),r)}))(),"t0",10);case 10:if(E=c.t0,"object"!==i()(E)){c.next=13;break}return c.abrupt("return",E.v);case 13:c.next=30;break;case 15:if(c.prev=15,c.t1=c.catch(8),!s){c.next=19;break}return c.abrupt("return");case 19:if(!c.t1.retryable){c.next=27;break}return(l=Math.ceil(l*Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_RATIO")))>Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")&&(l=Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")),u.default.error("".concat(c.t1.info," ").concat(c.t1.url," Will Fetch User Account in ").concat(l/1e3," seconds")),c.next=25,new Promise((function(e){setTimeout(e,l)}));case 25:c.next=30;break;case 27:u.default.error("Get UserAccount Error: ".concat(c.t1.info," ").concat(c.t1.url),c.t1.error),s=!0,p(c.t1.error);case 30:r++,c.next=3;break;case 33:case"end":return c.stop()}}),c,null,[[8,15]])})));return function(e,t){return g.apply(this,arguments)}}());return g.cancel=function(){s||(s=!0,p({info:"Request Cancelled",retryable:!1}))},g.isFinished=function(){return s},g}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=i(n(0));!function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(o||(o={})),t.AREAS=o,function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(a||(a={}));var c={ASIA:{CODE:a.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:a.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:a.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:a.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:a.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:a.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],NGINX:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:a.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],NGINX:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:a.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:a.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:a.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};t.AREA_DOMAIN_MAP=c;var d={GLOBAL:{ASIA:[o.CHINA,o.JAPAN,o.INDIA],EUROPE:[],NORTH_AMERICA:[],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},u=Object.keys(d[o.GLOBAL]),l=[o.CHINA,o.NORTH_AMERICA,o.EUROPE,o.ASIA,o.JAPAN,o.INDIA,o.OCEANIA,o.SOUTH_AMERICA,o.AFRICA],f=function(e,t){var n,i=[];if("string"==typeof e&&(e=[e]),t&&!e.includes(o.GLOBAL)&&(i=e),t||(i=e),t&&e.includes(o.GLOBAL)){var a=[o.GLOBAL,o.OVERSEA],s=Object.keys(c);if(t===o.GLOBAL)throw new Error("Can not set excludedArea to 'GLOBAL'");if(t===o.CHINA)i=[o.OVERSEA];else if(n=t,u.includes(n)){var f=function(e){return void 0===e&&(e=""),d[o.GLOBAL][e]||[]}(t),p=r(a,[t],f);i=s.filter((function(e){return!p.includes(e)}))}else if(function(e){var t=!1;return u.forEach((function(n){d.GLOBAL[n].includes(e)&&(t=!0)})),t}(t)){var g=function(e){void 0===e&&(e="");var t="";return u.forEach((function(n){d.GLOBAL[n].includes(e)&&(t=n)})),t}(t),m=r(a,[g,t]);i=s.filter((function(e){return!m.includes(e)}))}else i=e;i=function(e){var t=[];return l.forEach((function(n){e.includes(n)&&t.push(n)})),t.concat(e.filter((function(e){return!l.includes(e)})))}(i)}return console.log("getAreaCodeAfterCalculation result",i),i};t.getAreaCodeByConfig=function(e){var t=e.areaCode,n=e.excludedArea;return n?f(t,n):t},c.CHINA={CODE:a.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]};t.getAreaCodeByWebCS=function(e){for(var t=Object.keys(c),n=0;n<t.length;n++){var r=t[n],i=c[r];if(i.WEBCS_DOMAIN.includes(e)||i.WEBCS_DOMAIN_BACKUP_LIST.includes(e))return i.CODE===a.OVERSEA?a.ASIA+","+a.EUROPE+","+a.AFRICA+","+a.NORTH_AMERICA+","+a.SOUTH_AMERICA+","+a.OCEANIA:i.CODE}};t.getAreaCodeByArea=function(e){return e===o.OVERSEA?a.ASIA+","+a.EUROPE+","+a.AFRICA+","+a.NORTH_AMERICA+","+a.SOUTH_AMERICA+","+a.OCEANIA:a[e]};t.getAreaDomainConfig=function(e){var t={WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],NGINX:[]};return e.map((function(e){var n=c[e];if(n){var r=Object.keys(n);r?r.map((function(e){"CODE"!==e&&(t[e]=t[e].concat(n[e]))})):s.default.info(e+" is not exist")}else s.default.info(e+" is not exist")})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return C}));var r=n(7),i=n.n(r),o=n(5),a=n(8),s=function(e){var t=Object(a.b)(e);return t.url=".",t},c=n(0),d=n(15),u=n(4),l=n(2),f=n(1),p=0,g=function(e){var t=s({});t.id=e.id,t.playerId=p++,t.destroyed=!1,t.fit=e.options&&e.options.fit,"contain"!==t.fit&&"cover"!==t.fit&&(t.fit=null),t.url=e.url,t.stream=e.stream.stream,t.peerVideoReady=!1,t.isFreeze=!1,t.freezeTimeCounterList=[],t.freezeCount=0,t.lastFreezeCount=0,t.lastTimeupdateTime=0,t.elementID=e.elementID,t.setAudioOutput=function(e,n,r){var i=t.video||t.audio;return i?i.setSinkId?void i.setSinkId(e).then((function(){return c.default.debug("["+t.id+"] "+"video ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),i==t.video&&t.audio?t.audio.setSinkId(e):Promise.resolve()})).then((function(){return c.default.debug("["+t.id+"] "+"audio ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),n&&n()})).catch((function(e){return c.default.error("["+t.id+"] VideoPlayer.setAudioOutput",e),r&&r(e)})):(c.default.error("["+t.id+"] ",u.default.WEB_API_NOT_SUPPORTED),r&&r(u.default.WEB_API_NOT_SUPPORTED)):(c.default.error("["+t.id+"] ",u.default.PLAYER_NOT_FOUND),r&&r(u.default.PLAYER_NOT_FOUND))},t.destroy=function(){c.default.debug("[".concat(t.id,"] destroy ").concat(e.stream.local?"local":"remote"," Player ").concat(t.id)),Object(d.setSrcObject)(t.video,null),Object(d.setSrcObject)(t.audio,null),t.video.load(),t.audio.load(),t.video.pause(),t.video.remove(),t.audio.remove(),t.freezeCheckInterval&&clearInterval(t.freezeCheckInterval),t.destroyed=!0,delete t.resizer,document.getElementById(t.div.id)&&t.parentNode.contains(t.div)&&t.div.remove()&&t.parentNode.removeChild(t.div),["video","audio"].forEach((function(n){t[n];var r=a[n];clearTimeout(r.playDeferTimeout),r.formerMediaState=null;var i={playerId:t.playerId,stateId:r.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"stop",updatedAt:Date.now()};a[n]=i;var o={type:"player-status-change",playerId:t.playerId,mediaType:n,status:i.status,reason:i.reason,isErrorState:!1,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change Triggered by destroy()"),o),e.stream.dispatchEvent(o),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:o,tag:"tracer"})()}))},t.div=document.createElement("div"),t.div.setAttribute("id","player_"+t.id),e.stream.video?t.div.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"):t.div.setAttribute("style","width: 100%; height: 100%; position: relative; overflow: hidden;"),t.video=document.createElement("video"),t.video.setAttribute("id","video"+t.id),e.stream.local&&!e.stream.screen?e.stream.mirror?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; transform: rotateY(180deg); object-fit: ".concat(t.fit||"cover",";")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.video?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.screen?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"contain")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; display: none; object-fit: ".concat(t.fit||"cover"));var n={autoplay:!0,muted:!!e.stream.local||!(!o.isSafari()&&"iOS"!==o.getBrowserOS())&&"video_element_muted",playsinline:!0,controls:!1,volume:null},r=i()({},n,e.options);!0!==r.muted||r.volume||(r.volume=0),t.video.setAttribute("autoplay",""),t.video.setAttribute("muted",""),t.video.muted=!0,t.video.autoplay=!0,r.playsinline&&t.video.setAttribute("playsinline",""),r.controls&&t.video.setAttribute("controls",""),r.contains&&(t.video.controls=!0),Number.isFinite(r.volume)&&(t.video.volume=r.volume),t.audio=document.createElement("audio"),t.audio.setAttribute("id","audio"+t.id),!0===r.muted&&t.audio.setAttribute("muted",""),!0===r.muted&&(t.audio.muted=!0),r.playsinline&&t.audio.setAttribute("playsinline",""),Number.isFinite(r.volume)&&(t.audio.volume=r.volume),void 0!==t.elementID?(document.getElementById(t.elementID).appendChild(t.div),t.container=document.getElementById(t.elementID)):(document.body.appendChild(t.div),t.container=document.body),t.parentNode=t.div.parentNode;var a={video:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()},audio:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()}};t.mediaElemExists=function(e){for(var t=e,n=0;n<Object(l.getParameter)("MEDIA_ELEMENT_EXISTS_DEPTH")&&t;n++)t=t.parentNode;return!!t};var g=function(e){return t.mediaElemExists(e)?e.paused?"paused":"play":"aborted"},m=function(e,t,n){var r=g(e),i=!0;return"paused"===r?("audio"===t&&!0===n.muted&&(i=!1),n.autoplay||(i=!1)):"play"===r?"video"===t?i=!1:!0===n.muted?e.muted&&(i=!1):e.muted||(i=!1):"aborted"===r&&(i=!1),i},h=function(n){var i,o=this;if(o===t.video?i="video":o===t.audio&&(i="audio"),i){if(n.type||c.default.error("[".concat(t.id,"] Unexpected evt"),n),"video"===i&&o.muted&&o.paused)return c.default.debug("[".concat(t.id,"] auto resume video element")),void o.play();var s=g(o);clearTimeout(a[i].playDeferTimeout),a[i].playDeferTimeout=setTimeout((function(){a[i].playDeferTimeout=null;var d=a[i],u=g(o);if(s===u){var l={playerId:t.playerId,stateId:d.stateId+1,playDeferTimeout:null,error:m(o,i,r),status:g(o),reason:n.type,updatedAt:Date.now()};if(d.status!==l.status){a[i]=l;var p={type:"player-status-change",playerId:t.playerId,mediaType:i,status:l.status,reason:l.reason,isErrorState:l.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),p),e.stream.dispatchEvent(p),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:p,tag:"tracer"})()}}else c.default.debug("[".concat(t.id,"] Status Change after event Triggered.")+"Stream ".concat(t.id," PlayerId ").concat(t.playerId," mediaType ").concat(i," Status ").concat(s,"=>").concat(u))}),Object(l.getParameter)("PLAYER_STATE_DEFER"))}else c.default.error("[".concat(t.id,"] Unknown media element"),o)};t.video.addEventListener("playing",(function(e){!function e(){t.video.videoWidth*t.video.videoHeight>4?c.default.debug("["+t.id+"] video dimensions:",t.video.videoWidth,t.video.videoHeight):setTimeout(e,50)}()}));var v=0,E=0,S=0;t.freezeCheckInterval=setInterval((function(){Date.now()-t.lastTimeupdateTime>500&&t.peerVideoReady?(t.isFreeze=!0,t.freezeCount+=1):t.isFreeze=!1}),500),t.video.addEventListener("playing",h),t.video.addEventListener("canplay",h),t.video.addEventListener("abort",h),t.video.addEventListener("onerror",h),t.video.addEventListener("suspend",h),t.video.addEventListener("stalled",h),t.video.addEventListener("pause",h),t.audio.addEventListener("playing",h),t.audio.addEventListener("canplay",h),t.audio.addEventListener("abort",h),t.audio.addEventListener("onerror",h),t.audio.addEventListener("suspend",h),t.audio.addEventListener("stalled",h),t.audio.addEventListener("pause",h);var _=t.audio,y="audio";if(e.stream.hasVideo()||e.stream.hasScreen())t.div.appendChild(t.video),t.div.appendChild(t.audio),o.isEdge()?t.video.srcObject=e.stream.stream:(Object(d.attachMediaStream)(t.video,e.stream.stream),Object(d.attachMediaStream)(t.audio,e.stream.stream)),t.video.addEventListener("timeupdate",(function(){var e=Date.now();if((v+=1)<10)t.lastTimeupdateTime=e;else for(e-t.lastTimeupdateTime>500&&(t.peerVideoReady?E+=e-t.lastTimeupdateTime:t.peerVideoReady=!0),S+=e-t.lastTimeupdateTime,t.lastTimeupdateTime=e;S>=6e3;)S-=6e3,t.freezeTimeCounterList.push(Math.min(6e3,E)),E-=6e3,E=Math.max(E,0)}));else{!1!==r.muted&&"video_element_muted"!==r.muted||(t.video.removeAttribute("muted"),t.video.muted=!1),t.video.removeAttribute("autoplay"),t.video.autoplay=!1,t.div.appendChild(t.video),_=t.video,y="video";var R=a.audio,T={playerId:t.playerId,stateId:R.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"audioonly",updatedAt:Date.now()};a.audio=T;var I={type:"player-status-change",playerId:t.playerId,mediaType:"audio",status:T.status,reason:T.reason,isErrorState:T.error,streamId:t.id};if(c.default.debug("[".concat(t.id,"] Media Player Status Change"),I),Promise.resolve().then((function(){return e.stream.dispatchEvent(I)})),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:I,tag:"tracer"})(),window.MediaStream&&(o.isSafari()||"iOS"===o.getBrowserOS())){var b=new MediaStream(e.stream.stream.getAudioTracks());Object(d.setSrcObject)(t.video,b)}else Object(d.setSrcObject)(t.video,e.stream.stream)}if(r.autoplay&&_){var A=_.play();A&&A.catch&&A.catch((function(n){if(!t.destroyed&&_){var i=a[y],o={playerId:t.playerId,stateId:i.stateId+1,playDeferTimeout:null,error:m(_,y,r),status:g(_),reason:"error",updatedAt:Date.now()};if(i.status!==o.status){c.default.debug("[".concat(t.id,"] Player ").concat(t.playerId," Status Changed Detected by promise error: ").concat(i.status,"=>").concat(o.status),n),a[y]=o;var s={type:"player-status-change",playerId:t.playerId,mediaType:y,status:o.status,reason:o.reason,isErrorState:o.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),s),e.stream.dispatchEvent(s),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:s,tag:"tracer"})()}}}))}return t.setAudioVolume=function(e){var n=parseInt(e)/100;isFinite(n)&&(n<0?n=0:n>1&&(n=1),t.video&&(t.video.volume=n),t.audio&&(t.audio.volume=n))},t},m=n(23),h=n(10),v=n(6),E=n(19),S=n(3),_=n(25);var y=n(16),R=n(11),T=n.n(R),I=function(e){Object(S.checkValidString)(e,"profileName"),-1===(e=e.toLowerCase()).indexOf("_")&&(e+="_1"),Object(S.checkValidEnum)(e,"profileName",Object.keys(l.SUPPORT_RESOLUTION_LIST));var t=l.SUPPORT_RESOLUTION_LIST[e];t||(e=Object(l.getParameter)("DEFAULT_PROFILE"),t=l.SUPPORT_RESOLUTION_LIST[e]);var n={profileName:e,video:{width:t[0],height:t[1]},attributes:{resolution:"".concat(t[0],"x").concat(t[1]),minFrameRate:t[2],maxFrameRate:t[3],minVideoBW:t[4],maxVideoBW:t[5]}};return t[2]&&(n.video.frameRate=t[2]),t[6]&&t[7]&&(n.screen={width:t[0],height:t[1],frameRate:{min:t[6],max:t[7]}}),n},b=function(e){return Object.keys(l.SUPPORT_RESOLUTION_LIST).filter((function(t){var n=l.SUPPORT_RESOLUTION_LIST[t],r=["width","height","frameRate"];for(var i in r){var o=r[i];if(e[o]&&n[i]){if("number"==typeof e[o].max&&e[o].max<n[i])return!1;if("number"==typeof e[o].min&&e[o].min>n[i])return!1}}return!0})).reverse()},A=function(e){var t=l.AUDIO_PROFILE_SETTINGS[e]||l.AUDIO_PROFILE_SETTINGS.default;return{highQuality:t[0],stereo:t[1],speech:t[2],lowQuality:t[3]}};var O=function(e){var t=Object(a.b)();if(t.params=i()({},e),t.stream=e.stream,t.url=e.url,t.onClose=void 0,t.local=!1,t.videoSource=e.videoSource,t.audioSource=e.audioSource,e.video=!(!e.videoSource&&!e.video),t.video=e.video,e.audio=!(!e.audioSource&&!e.audio),t.audio=e.audio,t.screen=!!e.screen,t.screenAudio=!!e.screenAudio,t.screenAttributes={width:1920,height:1080,maxFr:5,minFr:1},t.videoSize=e.videoSize,t.player=void 0,t.audioLevelHelper=null,e.attributes=e.attributes||{},t.attributes=e.attributes,t.microphoneId=e.microphoneId,t.cameraId=e.cameraId,t.facingMode=e.facingMode,t.inSwitchDevice=!1,t.userMuteVideo=!1,t.userMuteAudio=!1,t.peerMuteVideo=!1,t.peerMuteAudio=!1,t.lowStream=null,t.videoWidth=0,t.videoHeight=0,t.streamId=e.streamID,t.userId=null,t.uintId=e.uintUID||null,t.mirror=!1!==e.mirror,t.DTX=e.audioProcessing&&e.audioProcessing.DTX,t.audioProcessing=e.audioProcessing,t.optimizationMode=e.optimizationMode,t.highQuality=!1,t.stereo=!1,t.speech=!1,t.screen||delete t.screen,!(void 0===t.videoSize||t.videoSize instanceof Array&&4===t.videoSize.length))throw Error("Invalid Video Size");function n(){var e={};t.getVideoTrack()===this?(c.default.debug("Video Track Ended"),e.type="videoTrackEnded",e.track=this):t.getAudioTrack()===this?(c.default.debug("Audio Track Ended"),e.type="audioTrackEnded",e.track=this):c.default.debug("Detached Track ended",this.kind,this.label,this),e.type&&t.dispatchEvent(e)}return t.videoSize=[640,480,640,480],void 0!==e.local&&!0!==e.local||(t.local=!0),t.initialized=!t.local,t._streamInitID=null,function(e){e.audioMixing={audioContextInited:!1,defaultVolume:100,inEarMonitoring:"FILE",sounds:{},states:{IDLE:"IDLE",STARTING:"STARTING",BUSY:"BUSY",PAUSED:"PAUSED"},inEarMonitoringModes:{NONE:"NONE",FILE:"FILE",MICROPHONE:"MOCROPHONE",ALL:"ALL"},ctx:null,mediaStreamSource:null,mediaStreamDest:null,buffer:{}},e._initSoundIfNotExists=function(t,n){e.audioMixing.sounds[t]||(e.audioMixing.sounds[t]={soundId:t,state:"IDLE",muted:e.userMuteAudio,filePath:n,volume:e.audioMixing.defaultVolume,startAt:null,startOffset:null,pauseAt:null,pauseOffset:null,resumeAt:null,resumeOffset:null,stopAt:null,options:null,source:null})},e._initSoundIfNotExists(-1),e.loadAudioBuffer=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,name:"Stream.loadAudioBuffer",options:arguments,tag:"tracer"});Object(S.checkValidString)(n,"url",1,1024,!1),Object(S.checkValidString)(t,"id",1,1024,!1);var o=function(t){c.default.error("[".concat(e.streamId,"] loadAudioBuffer Failed: ")+t),i(u.default.LOAD_AUDIO_FAILED)},a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>400)o("".concat(a.status," ").concat(a.statusText));else{var n=a.response;e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.ctx.decodeAudioData(n,(function(n){e.audioMixing.buffer[t]=n,i(null)}),(function(t){c.default.error("[".concat(e.streamId,"] decodeAudioData Failed: "),t),i(t)}))}},a.onerror=function(){return o("load error")},a.ontimeout=function(){return o("timeout")},a.send()},e.createAudioBufferSource=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.createAudioBufferSource",options:arguments,tag:"tracer"});if(e.audioMixing.buffer[t.id]){var r=e.audioMixing.buffer[t.id],i=e.audioMixing.ctx.createBufferSource();i.buffer=r;var a=e.audioMixing.ctx.createGain();if(i.connect(a),a.connect(e.audioMixing.mediaStreamDest),i.gainNode=a,t.loop)i.loop=!0,i.start(0,t.playTime/1e3);else if(t.cycle>1)if(Object(o.isChrome)()){i.loop=!0;var s=t.cycle*r.duration*1e3-(t.playTime||0);i.start(0,t.playTime/1e3,s/1e3)}else c.default.warning("[".concat(e.streamId,"] Cycle Param is ignored by current browser")),i.start(0,t.playTime/1e3);else i.start(0,t.playTime/1e3);var d=e.audioMixing.sounds[t.soundId];return d.source=i,e._flushAudioMixingMuteStatus(),i.addEventListener("ended",(function(){i===d.source&&e.dispatchEvent({type:"audioSourceEnded",soundId:t.soundId,source:i,sound:d})})),n(),i}var u="AUDIOBUFFER_NOT_FOUND";return c.default.error("[".concat(e.streamId,"] "),u,t.id),n(!1),!1},e.on("audioSourceEnded",(function(t){var n=t.source,r=t.sound;r&&r.state===e.audioMixing.states.BUSY&&!r.pauseAt&&(r.state=e.audioMixing.states.IDLE,r.startAt=null,r.startOffset=null,r.resumeAt=null,r.resumeOffset=null,n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest))})),e.clearAudioBufferSource=function(){e.audioBufferSource.forEach((function(e){e.stop()}))},e._isSoundExists=function(t){return!!e.audioMixing.sounds[t.soundId]||(c.default.error("SoundId not exists. #".concat(t.soundId)),!1)},e._initAudioContext=function(){if(e.audioMixing.audioContextInited)throw new Error("Failed to init audio context. Already inited");if(!e.stream)throw new Error("Failed to init audio context. Local Stream not initialized");e.audioMixing.ctx=Object(_.a)(),e.audioMixing.mediaStreamSource=e.audioMixing.ctx.createMediaStreamSource(e.stream),e.audioMixing.mediaStreamDest=e.audioMixing.ctx.createMediaStreamDestination(),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest);var t=e.stream.getVideoTracks()[0];if(t&&e.audioMixing.mediaStreamDest.stream.addTrack(t),e._originStream=e.stream,e._isAudioMuted()?(e._unmuteAudio(),e.stream=e.audioMixing.mediaStreamDest.stream,e._muteAudio()):e.stream=e.audioMixing.mediaStreamDest.stream,e.audioLevelHelper=null,e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"audio"==e.track.kind})),r=e.audioMixing.mediaStreamDest.stream.getAudioTracks()[0];n&&n.replaceTrack&&r&&n.replaceTrack(r)}e.audioMixing.audioContextInited=!0},e._cleanupAudioMixing=function(){if(e.audioMixing.audioContextInited){for(var t in e.audioMixing.sounds){var n=e.audioMixing.sounds[t];n.state!==e.audioMixing.states.BUSY&&n.state!==e.audioMixing.states.PAUSED||e._stopOneEffect({soundId:t})}e.audioLevelHelper=null,e.audioMixing.audioContextInited=!1}},e._reloadInEarMonitoringMode=function(t){if(t){if(!e.audioMixing.inEarMonitoringModes[t])return c.default.error("[".concat(e.streamId,"] Invalid InEarMonitoringMode ").concat(t));e.audioMixing.inEarMonitoring=t}switch(e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.FILE:e.audioMixing.mediaStreamSource.connectedToDestination&&(e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!1);case e.audioMixing.inEarMonitoringModes.ALL:for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&r.source&&!r.source.connectedToDestination&&(r.source.gainNode.connect(e.audioMixing.ctx.destination),r.source.connectedToDestination=!0)}}switch(e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.MICROPHONE:e.audioMixing.source.forEach((function(t){t.connectedToDestination&&(t.gainNode.disconnect(e.audioMixing.ctx.destination),t.connectedToDestination=!1)}));case e.audioMixing.inEarMonitoringModes.ALL:e.audioMixing.mediaStreamSource.connectedToDestination||(e.audioMixing.mediaStreamSource.connect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!0)}},e._startAudioMixingBufferSource=function(t){e.audioMixing.audioContextInited||e._initAudioContext();var n={soundId:t.soundId,id:t.filePath,loop:t.loop,cycle:t.cycle,playTime:t.playTime||0},r=t.replace,i=e.createAudioBufferSource(n);return i.sound=e.audioMixing.sounds[t.soundId],i?(i.addEventListener("ended",e._audioMixingFinishedListener,{once:!0}),e._reloadInEarMonitoringMode(),r&&e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.mediaStreamDest),i):null},e._stopAudioMixingBufferSource=function(t){var n=e.audioMixing.sounds[t.soundId].source;return n?(n.removeEventListener("ended",e._audioMixingFinishedListener),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest),n.stop(),n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,n):null},e._flushAudioMixingMuteStatus=function(t){for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&(void 0!==t&&(r.muted=!!t),r.source&&(r.muted?r.source.gainNode.gain.value=0:r.source.gainNode.gain.value=r.volume/100))}},e._handleAudioMixingInvalidStateError=function(t,n,r){var i=e.audioMixing.sounds[n.soundId],o=-1===n.soundId?"INVALID_AUDIO_MIXING_STATE":"INVALID_PLAY_EFFECT_STATE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(o,", state is ").concat(i.state)),r&&r(o)},e._handleAudioMixingNoSourceError=function(t,n,r){e.audioMixing.sounds[n.soundId].state=e.audioMixing.states.IDLE;var i=-1===n.soundId?"NO_AUDIO_MIXING_SOURCE":"NO_EFFECT_SOURCE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(i)),r&&r(i)},e._getOneEffectStates=function(t){var n=e.audioMixing.sounds[t.soundId];return function(){return n?{state:n.state,startAt:n.startAt,resumeAt:n.resumeAt,pauseOffset:n.pauseOffset,pauseAt:n.pauseAt,resumeOffset:n.resumeOffset,stopAt:n.stopAt,duration:e._getOneEffectDuration(t),position:e._getOneEffectCurrentPosition(t)}:{}}},e._audioMixingFinishedListener=function(){var t=this.sound;t.state===e.audioMixing.states.IDLE&&e.audioMixing.buffer[t.options.filePath]&&!t.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(t.options.filePath)),delete e.audioMixing.buffer[t.options.filePath]),-1===t.soundId&&e.dispatchEvent({type:"audioMixingFinished"})},e._playOneEffect=function(t,n){Object(S.checkValidObject)(t,"options");var r=t.soundId,i=(t.filePath,t.cacheResource);t.cycle,t.loop,t.playTime,t.replace;if(Object(o.isSafari)()&&Object(o.getBrowserVersion)()<12){var a="BROWSER_NOT_SUPPORT";return c.default.error("[".concat(e.streamId,"] Cannot _playOneEffect: "),a),n(a)}e.audioMixing.audioContextInited||e._initAudioContext(),e._initSoundIfNotExists(r);var s=e.audioMixing.sounds[r];if(s.state===e.audioMixing.states.IDLE){if(void 0!==t.cycle&&!t.cycle>0){a="Invalid Parmeter cycle: "+t.cycle;return c.default.error("[".concat(e.streamId,"] ").concat(r),a),n(a)}if(Object(S.isEmpty)(i)&&(t.cacheResource=!0),s.state=e.audioMixing.states.STARTING,s.options=t,e.audioMixing.buffer[t.filePath]){var d=e._startAudioMixingBufferSource(t);if(d)return s.source=d,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);s.state=e.audioMixing.states.IDLE;var u="CREATE_BUFFERSOURCE_FAILED";if(n)return n(u);c.default.error("[".concat(e.streamId,"] "),u)}else e.loadAudioBuffer(t.filePath,t.filePath,(function(r){if(r)s.state=e.audioMixing.states.IDLE,n?n(r):c.default.error("[".concat(e.streamId,"] "),r);else{var i=e._startAudioMixingBufferSource(t);if(i)return s.source=i,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);s.state=e.audioMixing.states.IDLE;r="CREATE_BUFFERSOURCE_FAILED";if(n)return n(r);c.default.error("[".concat(e.streamId,"] "),r)}}))}else e._handleAudioMixingInvalidStateError("_playEffect",t,n)},e._stopOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];return e._isSoundExists(t)?r.state===e.audioMixing.states.BUSY||r.state===e.audioMixing.states.PAUSED?(e._stopAudioMixingBufferSource(t),r.stopAt=Date.now(),r.state=e.audioMixing.states.IDLE,e.audioMixing.buffer[r.options.filePath]&&!r.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(r.options.filePath)),delete e.audioMixing.buffer[r.options.filePath]),void(n&&n(null))):void e._handleAudioMixingInvalidStateError("_stopOneEffect",t,n):n("SOUND_NOT_EXISTS")},e._pauseOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.BUSY)return e._stopAudioMixingBufferSource(t)?(r.pauseAt=Date.now(),r.state=e.audioMixing.states.PAUSED,r.resumeAt?r.pauseOffset=r.pauseAt-r.resumeAt+r.resumeOffset:r.pauseOffset=r.pauseAt-r.startAt+r.startOffset,n&&n(null)):void e._handleAudioMixingNoSourceError("_pauseOneEffect",t,n);e._handleAudioMixingInvalidStateError("_pauseOneEffect",t,n)},e._resumeOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.PAUSED){var i={soundId:t.soundId,filePath:r.options.filePath,cycle:r.options.cycle,loop:r.options.loop,playTime:r.pauseOffset,replace:r.options.replace},o=e._startAudioMixingBufferSource(i);if(!o){var a="CREATE_BUFFERSOURCE_FAILED";return n(a),void c.default.error("[".concat(e.streamId,"] "),a)}r.source=o,r.resumeAt=Date.now(),r.resumeOffset=r.pauseOffset,r.state=e.audioMixing.states.BUSY,r.pauseAt=null,r.pauseOffset=null,n(null)}else e._handleAudioMixingInvalidStateError("_resumeOneEffect",t,n)},e._getOneEffectDuration=function(t){var n=e.audioMixing.sounds[t.soundId];return n.options&&n.options.filePath&&e.audioMixing.buffer[n.options.filePath]?1e3*e.audioMixing.buffer[n.options.filePath].duration:null},e._getOneEffectCurrentPosition=function(t,n){var r=e.audioMixing.sounds[t.soundId];return r.state===e.audioMixing.states.PAUSED?r.pauseOffset%e._getOneEffectDuration(t):r.state===e.audioMixing.states.BUSY?r.resumeAt?(Date.now()-r.resumeAt+r.resumeOffset)%e._getOneEffectDuration(t):(Date.now()-r.startAt+r.startOffset)%e._getOneEffectDuration(t):void(n&&e._handleAudioMixingInvalidStateError("_getOneEffectCurrentPosition",t))},e._setOneEffectPosition=function(t,n,r){var i=e.audioMixing.sounds[t.soundId];if(i.state===e.audioMixing.states.BUSY){if(!e._stopAudioMixingBufferSource(t))return void e._handleAudioMixingNoSourceError("_setOneEffectPosition",t,r);var o={soundId:t.soundId,filePath:i.options.filePath,loop:i.options.loop,cycle:i.options.cycle,playTime:n},a=e._startAudioMixingBufferSource(o);if(!a){var s="CREATE_BUFFERSOURCE_FAILED";return r&&r(s),void c.default.error("[".concat(e.streamId,"] "),s)}i.source=a,i.startAt=Date.now(),i.startOffset=n,i.resumeAt=null,i.resumeOffset=null,i.pauseOffset=null,i.pauseAt=null}else{if(i.state!==e.audioMixing.states.PAUSED)return void e._handleAudioMixingInvalidStateError("_setOneEffectPosition",t,r);i.pauseOffset=n}r&&r(null)},e.startAudioMixing=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"audioMixingPlayed"}),n&&n(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.startAudioMixing",options:t});Object(S.checkValidObject)(t,"options");var o=t.filePath,a=t.cacheResource,s=t.cycle,c=t.loop,d=t.playTime,u=t.replace;Object(S.checkValidString)(o,"filePath",1,Object(l.getParameter)("FILEPATH_LENMAX"),!1),Object(S.checkValidNumber)(d,"playTime",0,1e8),!Object(S.isEmpty)(s)&&Object(S.checkValidNumber)(s,"cycle"),!Object(S.isEmpty)(c)&&Object(S.checkValidBoolean)(c,"loop"),!Object(S.isEmpty)(u)&&Object(S.checkValidBoolean)(u,"replace"),!Object(S.isEmpty)(a)&&Object(S.checkValidBoolean)(a,"cacheResource");var p=i()({soundId:-1},t);e._playOneEffect(p,r)},e.stopAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.stopAudioMixing"});e._stopOneEffect({soundId:-1},n)},e.pauseAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.pauseAudioMixing"});return e._pauseOneEffect({soundId:-1},n)},e.resumeAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:function(n,r){if(n)return t&&t(n);e.dispatchEvent({type:"audioMixingPlayed"}),t&&t(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.resumeAudioMixing"});e._resumeOneEffect({soundId:-1},n)},e.adjustAudioMixingVolume=function(t){var n=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.adjustAudioMixingVolume",options:arguments,tag:"tracer"});Object(S.checkValidNumber)(t,"volume",0,100),e.audioMixing.sounds[-1].volume=t,e._flushAudioMixingMuteStatus(),n()},e.getAudioMixingDuration=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingDuration"}),n=e._getOneEffectDuration({soundId:-1});return t(null,n),n},e.getAudioMixingCurrentPosition=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingCurrentPosition"}),n=e._getOneEffectCurrentPosition({soundId:-1},!0);return t(null,n),n},e.setAudioMixingPosition=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.setAudioMixingPosition"});Object(S.checkValidNumber)(t,"position",0,1e8),e._setOneEffectPosition({soundId:-1},t,r)},e.playEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"effectPlayed"}),n&&n(null)},name:"Stream.playEffect",options:t});Object(S.checkValidObject)(t,"options");var i=t.soundId,o=t.filePath,a=t.cycle;Object(S.checkValidNumber)(i,"soundId",1,1e4),Object(S.checkValidString)(o,"filePath",0,Object(l.getParameter)("FILEPATH_LENMAX"),!1),!Object(S.isEmpty)(a)&&Object(S.checkValidNumber)(a,"cycle"),e._playOneEffect(t,r)},e.stopEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,getStates:e._getOneEffectStates({soundId:t}),name:"Stream.stopEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4),e._stopOneEffect({soundId:t},r)},e.stopAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.stopAllEffect"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds){var c=e.audioMixing.sounds[s];-1!==c.soundId&&(c.state!==e.audioMixing.states.BUSY&&c.state!==e.audioMixing.states.PAUSED||(o++,e._stopOneEffect({soundId:s},a)))}o||n(null)},e.preloadEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.preloadEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4),Object(S.checkValidString)(n,"filePath",1,Object(l.getParameter)("FILEPATH_LENMAX"),!1),e._initSoundIfNotExists(t,n),e.audioMixing.buffer[n]?i(null):e.loadAudioBuffer(n,n,i)},e.unloadEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.unloadEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4);var i=e.audioMixing.sounds[t];if(!i){var o="SOUND_NOT_EXISTS";return c.default.error(o,t),void r(o)}var a=i.options?i.options.filePath:i.filePath;if(a)delete e.audioMixing.buffer[a],delete e.audioMixing.sounds[t],r(null);else{var s="SOUND_BUFFER_NOT_FOUND";c.default.error(s,t),r(s)}},e.pauseEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.pauseEffect"});return e._pauseOneEffect({soundId:t},r)},e.pauseAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.pauseAllEffects"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.BUSY&&(o++,e._pauseOneEffect({soundId:s},a));o||n(null)},e.resumeEffect=function(t,n){Object(S.checkValidNumber)(t,"soundId",1,1e4);var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.resumeEffect"});return e._resumeOneEffect({soundId:t},r)},e.resumeAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.resumeAllEffects"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.PAUSED&&(o++,e._resumeOneEffect({soundId:s},a));o||n(null)},e.getEffectsVolume=function(){var t=[];for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&"-1"!==n&&t.push({soundId:parseInt(n),volume:r.volume})}return t},e.setEffectsVolume=function(t,n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setEffectsVolume",options:arguments,tag:"tracer",callback:n});for(var i in Object(S.checkValidNumber)(t,"volume",0,100),e.audioMixing.defaultVolume=t,e.audioMixing.sounds){var o=e.audioMixing.sounds[i];"-1"!==i&&(o.volume=t)}e._flushAudioMixingMuteStatus(),r(null)},e.setVolumeOfEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{name:"Stream.setVolumeOfEffect",options:arguments,tag:"tracer",callback:r});Object(S.checkValidNumber)(t,"soundId",0,1e4),Object(S.checkValidNumber)(n,"volume",0,100),e._initSoundIfNotExists(t);var o=e.audioMixing.sounds[t];o.volume=n,e._flushAudioMixingMuteStatus(),i(null)}}(t),y.a.addVideoEffectCapability(t),function(e,t){e.videoConstraint={},t.cameraId&&(e.videoConstraint.deviceId={exact:t.cameraId}),t.facingMode&&(e.videoConstraint.facingMode=t.facingMode),e.videoSize&&(e.videoConstraint.width=e.videoSize[0],e.videoConstraint.height=e.videoSize[1]),Object(o.isLegacyChrome)()||(e.videoConstraint.frameRate=30),e.audioConstraint={},t.microphoneId&&(e.audioConstraint.deviceId={exact:t.microphoneId}),Object(o.isLegacyChrome)()||e.audioProcessing&&(void 0!==e.audioProcessing.AGC&&(Object(o.isFireFox)()?e.audioConstraint.autoGainControl=e.audioProcessing.AGC:Object(o.isChrome)()&&(e.audioConstraint.googAutoGainControl=e.audioProcessing.AGC,e.audioConstraint.googAutoGainControl2=e.audioProcessing.AGC)),void 0!==e.audioProcessing.AEC&&(e.audioConstraint.echoCancellation=e.audioProcessing.AEC),void 0!==e.audioProcessing.ANS&&(Object(o.isFireFox)()?e.audioConstraint.noiseSuppression=e.audioProcessing.ANS:Object(o.isChrome)()&&(e.audioConstraint.googNoiseSuppression=e.audioProcessing.ANS))),e.screenConstraint={},t.sourceId&&(e.screenConstraint.sourceId=t.sourceId),t.extensionId&&Object(o.isChrome)()?(e.screenConstraint.extensionId=t.extensionId,e.screenConstraint.mandatory={chromeMediaSource:"desktop",maxWidth:e.screenAttributes.width,maxHeight:e.screenAttributes.height,maxFrameRate:e.screenAttributes.maxFr,minFrameRate:e.screenAttributes.minFr}):(e.screenConstraint.mediaSource="screen",e.screenConstraint.width=e.screenAttributes.width,e.screenConstraint.height=e.screenAttributes.height,e.screenConstraint.frameRate={ideal:e.screenAttributes.maxFr,max:e.screenAttributes.maxFr}),t.mediaSource&&(e.screenConstraint.mediaSource=t.mediaSource),e.setVideoResolution=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoResolution",options:arguments,tag:"tracer"});if(!(n instanceof Array)){var o=I(n+="");return o&&o.video?(e.videoConstraint=i()(e.videoConstraint,{width:{ideal:o.video.width},height:{ideal:o.video.height}}),t.attributes.resolution=o.attributes.resolution,(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),a.applyConstraints(e.videoConstraint).then(r).catch(r)):r(),!0):(r("NO_PROFILE_".concat(n)),!1)}var a,s=n[0],d=n[1];e.videoConstraint=i()(e.videoConstraint,{width:{ideal:s},height:{ideal:d}}),t.attributes.resolution="".concat(s,"x").concat(d),(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),y.a.disableVideoEffect(e).then((function(){return a.applyConstraints(e.videoConstraint).then(r).catch(r)})).then((function(){return y.a.restoreVideoEffect(e)}))):r()},e.setVideoFrameRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoFrameRate",options:arguments,tag:"tracer"});if(Object(o.isFireFox)())return n("FIREFOX_NOT_SUPPORTED"),!1;if("object"===T()(t)&&t instanceof Array&&t.length>1){e.videoConstraint=i()(e.videoConstraint,{frameRate:t[0]}),e.attributes.minFrameRate=t[0],e.attributes.maxFrameRate=t[1];var r=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return r&&r.applyConstraints?(c.default.debug("setVideoFrameRate applyConstraints",e.videoConstraint),r.applyConstraints(e.videoConstraint).then(n).catch(n)):n(),!0}return n("INVALID_PARAM_".concat(JSON.stringify(t))),!1},e.setVideoBitRate=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoBitRate",options:arguments,tag:"tracer"});return"object"===T()(n)&&n instanceof Array&&n.length>1?(t.attributes.minVideoBW=n[0],t.attributes.maxVideoBW=n[1],e.connectionSpec&&(e.connectionSpec.minVideoBW=n[0],e.connectionSpec.maxVideoBW=n[1]),e.pc&&e.pc.renegotiate&&e.pc.renegotiate(),r(),!0):(r("INVALID_PARAM_".concat(JSON.stringify(n))),!1)},e.setScreenBitRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenBitRate",options:arguments,tag:"tracer"});return"object"===T()(t)&&t instanceof Array&&t.length>1?(e.screenAttributes.minVideoBW=t[0],e.screenAttributes.maxVideoBW=t[1],n(),!0):(n("INVALID_PARAM_".concat(JSON.stringify(t))),!1)},e.setScreenProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenProfile",options:arguments,tag:"tracer"});Object(S.checkValidEnum)(t,"profile",["480p_1","480p_2","720p_1","720p_2","1080p_1","1080p_2"]);var r=I(t);return r&&r.screen?(e.screenConstraint.mandatory?(e.screenConstraint.mandatory.maxWidth=r.screen.width,e.screenConstraint.mandatory.maxHeight=r.screen.height,r.screen.frameRate&&r.screen.frameRate.min&&r.screen.frameRate.max&&(e.screenConstraint.mandatory.minFrameRate=r.screen.frameRate.min,e.screenConstraint.mandatory.maxFrameRate=r.screen.frameRate.max)):e.screenConstraint=i()(e.screenConstraint,r.screen),e.screenAttributes.width=r.screen.width,e.screenAttributes.height=r.screen.height,e.screenAttributes.minFr=r.screen.frameRate.min,e.screenAttributes.maxFr=r.screen.frameRate.max,n(),!0):(n("NO_SCREEN_PROFILE_".concat(JSON.stringify(t))),!1)},e.setVideoProfileCustom=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution(t[0]),e.setVideoFrameRate([t[1],t[1]]),e.setVideoBitRate([t[2],t[2]]),n()},e.setVideoProfileCustomPlus=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution([n.width,n.height]),t.attributes.resolution="".concat(n.width,"x").concat(n.height),e.setVideoFrameRate([n.framerate,n.framerate]),e.setVideoBitRate([n.bitrate,n.bitrate]),r()},e.setVideoProfile=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfile",options:arguments,tag:"tracer"}),a=I(n);if(!a){var s="Invalid Profile ".concat(n);throw new Error(s)}if(e.profile=n,a&&a.video){e.profile=a.profileName,e.videoConstraint=i()(e.videoConstraint,a.video),e.connectionSpec&&a.attributes.maxVideoBW&&(e.connectionSpec.minVideoBW=a.attributes.minVideoBW,e.connectionSpec.maxVideoBW=a.attributes.maxVideoBW),Object(o.isEdge)()&&(e.videoConstraint.frameRate.max=60),Object(o.isFireFox)()&&(e.videoConstraint.frameRate=30),t.attributes=i()(t.attributes,a.attributes),e.pc&&e.pc.renegotiate&&e.pc.renegotiate();var d=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return d&&d.applyConstraints?(c.default.debug("setVideoProfile applyConstraints",e.videoConstraint),y.a.disableVideoEffect(e).then((function(){return d.applyConstraints(e.videoConstraint)})).then((function(){return y.a.restoreVideoEffect(e)})).then((function(t){return new Promise((function(n,i){r(t),setTimeout((function(){Object(h.vsResHack)(e.stream,(function(t,r){e.videoWidth=t,e.videoHeight=r,n()}),(function(t){c.default.warning("[".concat(e.streamId,"] vsResHack failed: "),t),i()}))}),2500)}))})).catch(r)):r(),!0}return r("INVALID_VIDEO_PROFILE_".concat(n)),!1},e.setAudioProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setAudioProfile",options:arguments,tag:"tracer"});Object(S.checkValidEnum)(t,"profile",["speech_low_quality","speech_standard","music_standard","standard_stereo","high_quality","high_quality_stereo"]),e.audioProfile=t;var r=A(t);return e.highQuality=r.highQuality,e.stereo=r.stereo,e.speech=r.speech,e.lowQuality=r.lowQuality,e.stereo&&Object(o.isChrome)()&&(e.audioConstraint.googAutoGainControl=!1,e.audioConstraint.googAutoGainControl2=!1,e.audioConstraint.echoCancellation=!1,e.audioConstraint.googNoiseSuppression=!1),n(),!0},e.setVideoEncoderConfiguration=function(t){Object(S.checkValidObject)(t,"config");var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoEncoderConfiguration",options:t,tag:"tracer"});t.resolution&&(Object(S.checkValidNumber)(t.resolution.width,"config.resolution.width"),Object(S.checkValidNumber)(t.resolution.height,"config.resolution.height"),e.setVideoResolution([t.resolution.width,t.resolution.height])),t.frameRate&&(Object(S.checkValidNumber)(t.frameRate.min,"config.frameRate.min"),Object(S.checkValidNumber)(t.frameRate.max,"config.frameRate.max"),e.setVideoFrameRate([t.frameRate.min,t.frameRate.max])),t.bitrate&&(Object(S.checkValidNumber)(t.bitrate.min,"config.bitrate.min",1,1e7),Object(S.checkValidNumber)(t.bitrate.max,"config.bitrate.max",1,1e7),e.setVideoBitRate([t.bitrate.min,t.bitrate.max])),n()},e.getSupportedProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.getSupportedProfile",options:arguments,tag:"tracer",callback:t});if(!e.local){var r="ONLY_LOCAL_STREAM_SUPPORTED";return c.default.error(r),n(r)}if(!e.stream){r="STREAM_NOT_INIT";return c.default.error(r),n(r)}if(!e.stream.getVideoTracks){r="TRACK_NOT_SUPPORT";return c.default.error(r),n(r)}var i=e.stream.getVideoTracks()[0];if(!i){r="NO_VIDEO_TRACK_FOUND";return c.default.error(r),n(r)}if(!i.getCapabilities){r="GETCAPABILITY_NOT_SUPPORT";return c.default.error(r),n(r)}var o=i.getCapabilities(),a=b(o);return n(null,a)}}(t,e),t.getId=function(){return t.streamId},t.getUserId=function(){return t.userId},t.checkDualStreamEnabled=function(){if(Object(l.getParameter)("DUALSTREAM_OPERATION_CHECK")&&t.isDualStream){return c.default.error("Operation not permitted: ".concat("DUAL_STREAM_ENABLED")),"DUAL_STREAM_ENABLED"}return!1},t.setUserId=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setUserId",options:arguments,tag:"tracer"});t.userId&&c.default.warning("[".concat(t.streamId,"] Stream.userId ").concat(t.userId," => ").concat(e)),t.userId=e,n()},t.getAttributes=function(){return e.screen?t.screenAttributes:e.attributes},t.hasAudio=function(){return!!t.audio},t.hasVideo=function(){return!!t.video},t.hasScreen=function(){return!!t.screen},t.hasScreenAudio=function(){return!!t.screenAudio},t.isVideoOn=function(){return(t.hasVideo()||t.hasScreen())&&!t.userMuteVideo},t.isAudioOn=function(){return t.hasAudio()&&!t.userMuteAudio},t.init=function(r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.init",options:arguments,tag:"tracer"}),a=((new Date).getTime(),arguments[2]);if(void 0===a&&(a=2),!0===t.initialized)return o({type:"warning",msg:"STREAM_ALREADY_INITIALIZED"});if(!0!==t.local)return o({type:"warning",msg:"STREAM_NOT_LOCAL"});var s=Math.random().toString().slice(3);t._streamInitID=s,t.videoSource?t.videoName="videoSource":t.video&&(t.videoName=E.a.searchDeviceNameById(e.cameraId)||"default"),t.audioSource?t.audioName="audioSource":t.audio&&(t.audioName=E.a.searchDeviceNameById(e.microphoneId)||"default"),t.screen&&(t.screenName=e.extensionId||"default");try{if(e.audio||e.video||e.screen||e.screenAudio||e.videoSource||e.audioSource){c.default.debug("[".concat(t.streamId,"] Requested access to local media"));var d={streamId:t.streamId};e.videoSource?d.videoSource=e.videoSource:e.screen?d.screen=t.screenConstraint:e.video&&(d.video=t.videoConstraint),e.audioSource?d.audioSource=e.audioSource:e.screenAudio?d.screenAudio=e.screenAudio:e.audio&&(d.audio=t.audioConstraint),Object(m.b)(d,(function(r){if(d.screenAudio&&!r.getAudioTracks()[0]&&c.default.warning("[".concat(t.streamId,"] Audio sharing is not selected")),d.screen&&c.default.debug("[".concat(t.streamId,"] User has granted access to screen sharing")),(d.video||d.audio)&&c.default.debug("[".concat(t.streamId,"] User has granted access to local media")),null===t._streamInitID){r.getTracks().forEach((function(e){e.stop()}));var i={type:"error",msg:"STREAM_IS_CLOSED",info:"stream is closed and cannot be initialized"};return c.default.error(t.streamId,i.info),void o(i)}if(t._streamInitID!==s){r.getTracks().forEach((function(e){e.stop()}));i={type:"error",msg:"ABORT_OTHER_INIT",info:"stream initialization is aborted because of another stream.init"};return c.default.error(t.streamId,i.info),void o(i)}t.dispatchEvent({type:"accessAllowed"}),t.stream=r,t.initialized=!0,t.reloadDeviceName(),t.hasVideo()&&Object(h.vsResHack)(r,(function(e,n){t.videoWidth=e,t.videoHeight=n}),(function(e){c.default.warning("[".concat(t.streamId,"] vsResHack failed: "),e)})),e.screen&&t.stream&&t.stream.getVideoTracks()[0]&&(t.stream.getVideoTracks()[0].onended=function(){t.dispatchEvent({type:"stopScreenSharing"})}),t.stream&&t.stream.getTracks&&t.stream.getTracks().forEach((function(r){r&&!r.onended&&(r.onended=n),"video"===r.kind&&e.optimizationMode&&(r.contentHint=e.optimizationMode,r.contentHint===e.optimizationMode&&c.default.debug("[".concat(t.streamId,"] set content hint to"),e.optimizationMode))})),o()}),(function(e){var n={type:"error",info:null};switch(e&&(n.msg=e.name||e.code||e,e.message&&(n.info=e.message),e.code&&(n.info?n.info+=". "+e.code:n.info=" "+e.code),e.constraint&&(n.info?n.info+=". Constraint: "+e.constraint:n.info="constraint: "+e.constraint)),n.msg){case"Starting video failed":case"TrackStartError":if(t.videoConstraint&&(delete t.videoConstraint.width,delete t.videoConstraint.height),a>0)return void setTimeout((function(){t.init((function(e){return o(e)}),o,a-1)}),1);n.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":n.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":n.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":case"InvalidStateError":n.msg="PERMISSION_DENIED",t.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":case"NotAllowedError":t.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":n.msg="CONSTRAINT_NOT_SATISFIED";break;default:n.msg||(n.msg="UNDEFINED")}var r="Media access ".concat(n.msg).concat(n.info?": "+n.info:"");c.default.error("[".concat(t.streamId,"] "),r),o(n)}))}else o({type:"warning",msg:"STREAM_HAS_NO_MEDIA_ATTRIBUTES"})}catch(e){c.default.error("[".concat(t.streamId,"] Stream init: "),e),o({type:"error",msg:e.message||e})}},t.reloadDeviceName=function(){if(t.stream){if(t.stream.getVideoTracks){var e=t.stream.getVideoTracks()[0];e&&e.label&&(t.videoName=e.label)}if(t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];n&&n.label&&(t.audioName=n.label)}}},t.close=function(){var e=f.report.reportApiInvoke(null,{name:"Stream.close",options:arguments,tag:"tracer"});if(c.default.debug("[".concat(t.streamId,"] Close stream with id"),t.streamId),t._originStream)try{t._originStream.getTracks().map((function(e){return e.stop()}))}catch(e){}if(void 0!==t.stream){var n=t.stream.getTracks();for(var r in n)n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null);!t.isLowStream&&t.local?y.a.disableVideoEffect(t).then((function(){t.stream=void 0})):(t.stream&&t.stream.clean&&t.stream.clean(),t.stream=void 0)}if(t._originStream){console.log("clear _originStream");n=t._originStream.getTracks();for(var r in n)n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null,console.log("clear onended"));!t.isLowStream&&t.local?y.a.disableVideoEffect(t).then((function(){t._originStream=void 0})):(t._originStream&&t._originStream.clean&&t._originStream.clean(),t._originStream=void 0)}if(Object(o.isSafari)()&&t.pc&&t.pc.peerConnection&&t.pc.peerConnection.removeTrack&&t.pc.peerConnection.getSenders){var i=t.pc.peerConnection.getSenders();i.forEach((function(e){e&&(c.default.debug("[".concat(t.streamId,"] Remove Track"),e),t.pc.peerConnection.removeTrack(e))}))}t.local&&(t.initialized=!1),t._streamInitID=null,t._onAudioMute=void 0,t._onAudioUnmute=void 0,t._onVideoMute=void 0,t._onVideoUnmute=void 0,t.lowStream&&t.lowStream.close(),t.player&&t.player.video&&t.player.video.srcObject&&(t.player.video.srcObject=null),t.player&&t.player.audio&&t.player.audio.srcObject&&(t.player.audio.srcObject=null),e()},t.enableAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableAudio",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableAudio is deprecated and will be removed in the future. Use Stream.unmuteAudio instead")),t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already enableAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.disableAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableAudio",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableAudio is deprecated and will be removed in the future. Use Stream.muteAudio instead")),t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already disableAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.enableVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableVideo",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableVideo is deprecated and will be removed in the future. Use Stream.unmuteVideo instead")),t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already enableVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.disableVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableVideo",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableVideo is deprecated and will be removed in the future. Use Stream.muteVideo instead")),t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already disableVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t.unmuteAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteAudio",options:arguments,tag:"tracer"});return t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already unmuteAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.muteAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteAudio",options:arguments,tag:"tracer"});t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already muteAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.unmuteVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteVideo",options:arguments,tag:"tracer"});return t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already unmuteVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.muteVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteVideo",options:arguments,tag:"tracer"});t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already muteVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t._unmuteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!1),!(!t.hasAudio()||!t.initialized||void 0===t.stream||!0===t.stream.getAudioTracks()[0].enabled)&&(t._onAudioUnmute&&t._onAudioUnmute(),t.pc&&(t.pc.isAudioMute=!1),t.stream.getAudioTracks()[0].enabled=!0,!0)},t._isAudioMuted=function(){if(t.stream&&t.hasAudio()){var e=t.stream.getAudioTracks();return e.length>0&&!e[0].enabled}return!1},t._isVideoMuted=function(){if(t.stream&&t.hasVideo()){var e=t.stream.getVideoTracks();return e.length>0&&!e[0].enabled}return!1},t._muteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Muted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!0),!!(t.hasAudio()&&t.initialized&&void 0!==t.stream&&t.stream.getAudioTracks()[0].enabled)&&(t._onAudioMute&&t._onAudioMute(),t.pc&&(t.pc.isAudioMute=!0),t.stream.getAudioTracks()[0].enabled=!1,t.sid&&f.report.audioSendingStopped(t.sid,{succ:!0,reason:"muteAudio"}),!0)},t._unmuteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted video stream with id"),t.streamId),!(!t.initialized||void 0===t.stream||!t.stream.getVideoTracks().length||!0===t.stream.getVideoTracks()[0].enabled)&&(t._onVideoUnmute&&t._onVideoUnmute(),t.pc&&(t.pc.isVideoMute=!1),t.stream.getVideoTracks()[0].enabled=!0,t.lowStream&&t.lowStream._unmuteVideo(),!0)},t._muteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Muted video stream with id"),t.streamId),!!(t.initialized&&void 0!==t.stream&&t.stream.getVideoTracks().length&&t.stream.getVideoTracks()[0].enabled)&&(t._onVideoMute&&t._onVideoMute(),t.pc&&(t.pc.isVideoMute=!0),t.stream.getVideoTracks()[0].enabled=!1,t.lowStream&&t.lowStream._muteVideo(),t.sid&&f.report.videoSendingStopped(t.sid,{succ:!0,reason:"muteVideo"}),!0)},t.addTrack=function(r){if(t.audio&&"audio"===r.kind)c.default.warning("already added audio track");else if(t.video&&"video"===r.kind)c.default.warning("already added video track");else{var i=f.report.reportApiInvoke(t.sid,{name:"Stream.addTrack",options:arguments,tag:"tracer"});if(t.pc&&t.pc.addTrack(r,t.stream),"audio"==r.kind){t._cleanupAudioMixing();var o=new MediaStream;t.userMuteAudio&&(r.enabled=!1),o.addTrack(r);var a=t.stream.getVideoTracks()[0];a&&o.addTrack(a),t.audio=!0,e.audio=!0,t.stream=o,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream)}else t.userMuteVideo&&(r.enabled=!1),t.stream.addTrack(r),t.video=!0,e.video=!0;r.onended||(r.onended=n),i()}},t.removeTrack=function(n){if(n)if(t.audio||"audio"!==n.kind)if(t.video||"video"!==n.kind){var r=f.report.reportApiInvoke(t.sid,{name:"Stream.removeTrack",options:arguments,tag:"tracer"});t.pc&&t.pc.removeTrack(n,t.stream),t.stream.removeTrack(n),t._cleanupAudioMixing(),"audio"===n.kind?(t.audio=!1,e.audio=!1):(t.video=!1,e.video=!1),t.audioLevelHelper=null,"live"==n.readyState&&(n.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(n.kind," Stopped"))),r()}else c.default.warning("already removed video track");else c.default.warning("already removed audio track");else c.default.warning("track doesn't exist.")},t.setAudioOutput=function(e,n,r){var i=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Stream.setAudioOutput",options:arguments,tag:"tracer"});return Object(S.isValidString)(e,1,255)?(t.audioOutput=e,t.player?void t.player.setAudioOutput(e,(function(){return i()}),i):i()):(c.default.error("[".concat(t.streamId,"] setAudioOutput Invalid Parameter"),e),i(u.default.INVALID_PARAMETER))},t.play=function(e,n,r){"function"==typeof n&&(r=n,n=null),c.default.debug("[".concat(t.streamId,"] play()."),e,n);var i=f.report.reportApiInvoke(t.sid,{name:"Stream.play",options:arguments,tag:"tracer",callback:r});if(Object(S.checkValidString)(e,"elementID"),Object(S.isEmpty)(n)||(Object(S.isEmpty)(n.fit)||Object(S.checkValidEnum)(n.fit,"fit",["cover","contain"]),Object(S.isEmpty)(n.muted)||Object(S.checkValidBoolean)(n.muted,"muted")),t.player)c.default.warning("[".concat(t.streamId,"] Stream.play(): Stream is already playing. Fallback to resume stream")),t.resume().then((function(){i(null)})).catch(i);else{t.elementID=e,t.playOptions=n,!t.local||t.video||t.screen?(t.player=new g({id:t.getId(),stream:t,elementID:e,options:n}),t.local&&y.a.applyEffectInPlayer(t)):t.hasAudio()&&(t.player=new g({id:t.getId(),stream:t,elementID:e,options:n}));var o={video:null,audio:null},a=function e(n){if(o[n.mediaType]=n,o.video&&o.audio)if(t.removeEventListener("player-status-change",e),o.video.isErrorState||o.audio.isErrorState){var r=o.video.isErrorState?o.video:o.audio;i({isErrorState:!0,status:r.status,reason:r.reason,video:o.video,audio:o.audio})}else"aborted"===o.video.status&&"aborted"===o.audio.status?i({status:"aborted",reason:"stop",video:o.video,audio:o.audio}):i(null)};t.on("player-status-change",a),t.audioOutput&&t.player.setAudioOutput(t.audioOutput),void 0!==t.audioLevel&&t.player.setAudioVolume(t.audioLevel),t._flushAudioMixingMuteStatus(!1)}},t.stop=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.stop",options:arguments,tag:"tracer"});c.default.debug("[".concat(t.streamId,"] Stop stream player with id "),t.streamId),t.player?(y.a.removeEffectFromLocalPlayer(t),t.player.destroy(),delete t.player):c.default.error("[".concat(t.streamId,"] Stream.stop(): Stream is not playing")),t._flushAudioMixingMuteStatus(!0),e()},t.isPlaying=function(){return!!t.player},t.isPaused=function(){return!!t.player&&(!!(t.player.video&&t.player.video.paused&&t.player.mediaElemExists(t.player.video))||!!(t.player.audio&&t.player.audio.paused&&t.player.mediaElemExists(t.player.audio)))},t.resume=function(){var e,n;return t.player?(t.player.video&&t.player.video.play&&(e=t.player.video.play()),e=e||Promise.resolve(),t.player.audio&&t.player.audio.play&&(n=t.player.audio.play()),n=n||Promise.resolve(),Promise.all([e,n])):Promise.reject("NO_PLAYER_FOUND")},t.getVideoTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getVideoTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getVideoTracks){var n=t.stream.getVideoTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getVideoTrack"),n),e(),n}c.default.info("[".concat(t.streamId,"] getVideoTrack None")),e(null,"getVideoTrack None")},t.getAudioTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getAudioTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getAudioTracks"),n),e(),n}c.default.info("[".concat(t.streamId,"] getAudioTracks None")),e(null,"getAudioTracks None")},t._hasVideoTracks=function(){return!!(t.stream&&t.stream.getVideoTracks&&t.stream.getVideoTracks()[0])},t._hasAudioTracks=function(){return!!(t.stream&&t.stream.getAudioTracks&&t.stream.getAudioTracks()[0])},t._replaceMediaStreamTrack=function(e,n,r){if(t.stream){if("video"==e.kind){if(o=t.stream.getVideoTracks()[0])return t.userMuteVideo&&(e.enabled=!1),t.stream.removeTrack(o),t.stream.addTrack(e),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(e.kind," SUCCESS")),"live"==o.readyState&&(o.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(o.kind," Stopped"))),n&&n();var i="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}if("audio"==e.kind){var o;if(o=t.stream.getAudioTracks()[0]){t.userMuteAudio&&(e.enabled=!1);var a=new MediaStream;a.addTrack(e);var s=t.stream&&t.stream.getVideoTracks()[0];return s&&a.addTrack(s),t.stream=a,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack SUCCESS")),"live"==o.readyState&&(o.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(o.kind," Stopped"))),n&&n()}i="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}i="INVALID_TRACK_TYPE";return c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i," ").concat(e.kind)),r&&r(i)}i="NO_STREAM_FOUND";return c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i)),r&&r(i)},t.replaceTrack=function(e,r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.replaceTrack",options:arguments,tag:"tracer"});return e&&e.kind?(t._cleanupAudioMixing(),e.onended||(e.onended=n),t.pc&&t.pc.hasSender&&t.pc.hasSender(e.kind)?void t.pc.replaceTrack(e,(function(){return c.default.debug("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," SUCCESS")),t._replaceMediaStreamTrack(e,(function(e){return o(null,e)}),o)}),(function(n){return c.default.error("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," Failed ").concat(n)),o(n)})):t._replaceMediaStreamTrack(e,(function(e){return o(null,e)}),o)):o("INVALID_TRACK")},t.setAudioVolume=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setAudioVolume",options:arguments,tag:"tracer"});Object(S.checkValidNumber)(e,"level",0,100),t.audioLevel=e,t.player&&t.player.setAudioVolume(e),n()},t.getStats=function(e,n,r){var a=[];a.push(t._getPCStats(r)),a.push(new Promise((function(e){var n={};t.pc&&t.pc.isSubscriber?null!==window.navigator.userAgent.match("Firefox")&&(Object(v.b)(n,"videoReceiveResolutionHeight",t.videoHeight),Object(v.b)(n,"videoReceiveResolutionWidth",t.videoWidth)):t.pc&&!t.pc.isSubscriber&&((Object(o.isSafari)()||Object(o.isFireFox)())&&(Object(v.b)(n,"videoSendResolutionHeight",t.videoHeight),Object(v.b)(n,"videoSendResolutionWidth",t.videoWidth)),(Object(o.isSafari)()||Object(o.isFireFox)())&&t.uplinkStats&&Object(v.b)(n,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),e(n)}))),a.push(new Promise((function(e){var n={};return t.traffic_stats&&t.pc&&t.pc.isSubscriber?(Object(v.b)(n,"accessDelay",t.traffic_stats.access_delay),Object(v.b)(n,"endToEndDelay",t.traffic_stats.e2e_delay),Object(v.b)(n,"videoReceiveDelay",t.traffic_stats.video_delay),Object(v.b)(n,"audioReceiveDelay",t.traffic_stats.audio_delay)):t.traffic_stats&&t.pc&&!t.pc.isSubscriber&&Object(v.b)(n,"accessDelay",t.traffic_stats.access_delay),e(n)}))),Promise.all(a).then((function(n){for(var r={},o=n.length-1;o>=0;o--){var a=n[o];i()(r,a)}e&&setTimeout(e.bind(t,r),0)})).catch((function(e){n&&setTimeout(n.bind(t,e),0)}))},t._getPCStats=function(e){return new Promise((function(n,r){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats){return r("PEER_CONNECTION_NOT_ESTABLISHED")}t.pc.getStats((function(e){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats){return r("PEER_CONNECTION_STATE_CHANGE")}var i=t.pc.isSubscriber?Object(v.c)(e):Object(v.a)(e);return n(i)}),e)})).then((function(e){return t.pc.isSubscriber?(Object(o.isFireFox)()||Object(o.isSafari)())&&(e.videoReceiveResolutionHeight&&"0"!==e.videoReceiveResolutionHeight||e.videoReceiveResolutionWidth&&"0"!==e.videoReceiveResolutionWidth||(Object(v.b)(e,"videoReceiveResolutionHeight",t.videoHeight),Object(v.b)(e,"videoReceiveResolutionWidth",t.videoWidth))):((Object(o.isSafari)()||Object(o.isFireFox)())&&(e.videoSendResolutionHeight&&"0"!==e.videoSendResolutionHeight||e.videoSendResolutionWidth&&"0"!==e.videoSendResolutionWidth||(Object(v.b)(e,"videoSendResolutionHeight",t.videoHeight),Object(v.b)(e,"videoSendResolutionWidth",t.videoWidth))),(Object(o.isSafari)()||Object(o.isFireFox)())&&t.uplinkStats&&Object(v.b)(e,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),Promise.resolve(e)}))},t.getAudioLevel=function(){if(t.audioLevelHelper)return t.audioLevelHelper.getAudioLevel();if(t.stream){if(0!==t.stream.getAudioTracks().length)return t.audioLevelHelper=new h.audioLevelHelper(t.stream),t.audioLevelHelper.getAudioLevel();c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no audio trace in stream"))}else c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no stream exist"))},t.setVideoProfile("480p_1"),t._switchVideoDevice=function(e,n,r){if(e===t.cameraId)return n&&n();var o={video:i()({},t.videoConstraint,{deviceId:{exact:e}}),audio:!1};c.default.debug("[".concat(t.streamId,"] ").concat(o)),Object(m.b)(o,(function(i){try{var o=function(){t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.cameraId=e,t.videoConstraint.deviceId={exact:e},t.userMuteVideo&&(t.stream.getVideoTracks()[0].enabled=!1),y.a.restoreVideoEffect(t).then((function(){n&&n()}))};y.a.disableVideoEffect(t).then((function(){var e=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(e=!0),e?t.replaceTrack(i.getVideoTracks()[0],o,r):(t.removeTrack(t.stream.getVideoTracks()[0]),t.addTrack(i.getVideoTracks()[0]),o())}))}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t._switchAudioDevice=function(e,n,r){if(e===t.microphoneId)return n&&n();var o={video:!1,audio:i()({},t.audioConstraint,{deviceId:{exact:e}})};c.default.debug("[".concat(t.streamId,"] "),o);var a=t.stream.getAudioTracks()[0];a&&a.stop(),Object(m.b)(o,(function(i){var o=function(){t._cleanupAudioMixing(),t.userMuteAudio&&(t.stream.getAudioTracks()[0].enabled=!1),t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.microphoneId=e,t.audioConstraint.deviceId={exact:e},n&&n()};try{var a=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(a=!0),a?t.replaceTrack(i.getAudioTracks()[0],o,r):(t.removeTrack(t.stream.getAudioTracks()[0]),t.addTrack(i.getAudioTracks()[0]),o())}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t.switchDevice=function(e,n,r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.switchDevice",options:arguments,tag:"tracer"});Object(S.checkValidString)(n,"deviceId");var a=function(){return t.inSwitchDevice=!1,o()},s=function(e){t.inSwitchDevice=!1,c.default.error("[".concat(t.streamId,"] "),e),o(e)};if(t.inSwitchDevice)return o("Device switch is in process.");if(t.inSwitchDevice=!0,!t.local)return s("Only the local stream can switch the device.");if(t.screen&&"video"===e)return s("The device cannot be switched during screen-sharing.");if(!t.video&&"video"===e)return s("Video track not exist.");if(!t.audio&&"audio"===e)return s("Audio track not exist.");if(t.videoSource||t.audioSource)return s("The device cannot be switched when using videoSource or audioSource.");var d=!1;for(var u in t.audioMixing.sounds){var l=t.audioMixing.sounds[u];if(l.state!==t.audioMixing.states.IDLE){d=!0;break}}var p=t.audioMixing.audioContextInited;if(p&&d)return s("The device cannot be switched when using audio Mixing.");E.a.getDeviceById(n,(function(){if("video"===e)t._switchVideoDevice(n,a,s);else{if("audio"!==e)return s("Invalid type.");t._switchAudioDevice(n,a,s)}}),(function(){return s("The device does not exist.")}))},t},C=function(e){var t=f.report.reportApiInvoke(null,{name:"createStream",options:arguments,tag:"tracer",getStates:function(){return{audioTrackEnable:e&&e.audioSource?e.audioSource.enabled:null,videoTrackEnable:e&&e.videoSource?e.videoSource.enabled:null}}});Object(S.checkValidObject)(e,"StreamSpec");var n=e.streamID,r=e.audio,i=e.video,o=e.screen,a=e.screenAudio,s=(e.audioSource,e.videoSource,e.cameraId),d=e.facingMode,u=e.microphoneId,l=e.mirror,p=e.extensionId,g=e.mediaSource,m=e.audioProcessing,v=e.optimizationMode;if(!Object(S.isEmpty)(n)&&!Object(h.is32Uint)(n)&&!Object(S.isValidString)(n,1,255))throw new Error("[String streamID] Length of the string: [1,255]. ASCII characters only. [Number streamID] The value range is Uint32");if(Object(S.checkValidBoolean)(r,"audio"),Object(S.checkValidBoolean)(i,"video"),Object(S.isEmpty)(o)||Object(S.checkValidBoolean)(o,"screen"),Object(S.isEmpty)(a)||Object(S.checkValidBoolean)(a,"screenAudio"),Object(S.isEmpty)(s)||Object(S.checkValidString)(s,"cameraId",0,255,!1),Object(S.isEmpty)(d)||Object(S.checkValidEnum)(d,"facingMode",["user","environment","left","right"]),Object(S.isEmpty)(u)||Object(S.checkValidString)(u,"microphoneId",0,255,!1),Object(S.isEmpty)(p)||Object(S.checkValidString)(p,"extensionId"),Object(S.isEmpty)(g)||Object(S.checkValidEnum)(g,"mediaSource",["screen","application","window"]),Object(S.isEmpty)(l)||Object(S.checkValidBoolean)(l,"mirror"),!Object(S.isEmpty)(m)){var E=m.AGC,_=m.AEC,y=m.ANS;Object(S.isEmpty)(E)||Object(S.checkValidBoolean)(E,"AGC"),Object(S.isEmpty)(_)||Object(S.checkValidBoolean)(_,"AEC"),Object(S.isEmpty)(y)||Object(S.checkValidBoolean)(y,"ANS")}Object(S.isEmpty)(v)||Object(S.checkValidEnum)(v,"optimizationMode",["detail","motion"]),c.default.debug("Create stream"),!0===a&&!0===r&&c.default.warning("Do not set both 'screenAudio' and 'audio' to true at the same time"),e.screen&&!v&&(e.optimizationMode="detail");var R=O(e);return t(),R}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return b}));var r=n(5),i=n(7),o=n.n(i),a=n(12),s=n.n(a),c=n(17),d=n.n(c),u=n(0),l=n(15),f=n(2);function p(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t={},n=l.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]};var i={id:"outbound_audio_ssrc_send",type:"ssrc",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"outbound_video_ssrc_send",type:"ssrc",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},c={id:"inbound_audio_ssrc_recv",type:"ssrc",mediaType:"",googCodecName:"opus",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},g={id:"inbound_video_ssrc_recv",type:"ssrc",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesReceived:"0",googFramesDecoded:"0"},m={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"};t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con);var h=t.peerConnection.getConfiguration();h.sdpSemantics&&Object(f.setParameter)("PLAN",h.sdpSemantics)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var v=function(e){return e=e.replace("a=x-google-flag:conference\r\n","")},E=function(n){var r,i;if((r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW){i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n";var o=0,a=0;"h264"===e.codec?(o=n.search(/a=rtpmap:(\d+) H264\/90000\r\n/),a=n.search(/H264\/90000\r\n/)):"vp8"===e.codec?(o=n.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),a=n.search(/VP8\/90000\r\n/)):"vp9"===e.codec&&(o=n.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),a=n.search(/VP9\/90000\r\n/)),-1!==o&&-1!==a&&a-o>10&&(i=i+"a=fmtp:"+n.slice(o+9,a-1)+" x-google-min-bitrate="+e.minVideoBW+"\r\n"),n=(n=n.replace(r[0],i)).replace(/42001f/g,"42e01f"),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)}return(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var r,i=JSON.parse(n);t.incomingMessage=i,"new"===t.state?"OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=v(r.sdp),r.sdp=E(r.sdp),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),r.sdp=r.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),e.isSubscriber&&(r.sdp=r.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="established"):"pr-answer"===i.messageType?(r={sdp:i.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):"offer"===i.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=v(r.sdp),r.sdp=E(r.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),console.log("senders",r),i=r.find((function(e){return"video"===e.track.kind}))){e.next=5;break}return e.abrupt("return");case 5:return(o=i.getParameters()).degradationPreference=n,e.prev=7,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=11,i.setParameters(o);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();var S=0,_=0;return t.getVideoRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){if(t.isSubscriber){if("video"===n.mediaType&&n.id&&~n.id.indexOf("recv")){if(r.isChromeKernel()&&+r.getBrowserVersion()>=76){var i=+n.googFramesReceived-S,o=+n.googFramesDecoded-_;t._setStat(g,"googFrameRateReceived",i),t._setStat(g,"googFrameRateDecoded",o),t._setStat(g,"googFrameRateOutput",o),S=+n.googFramesReceived,_=+n.googFramesDecoded}e&&e({mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:n.googFrameRateReceived,frameRateDecoded:n.googFrameRateDecoded,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}}else"video"===n.mediaType&&n.id&&~n.id.indexOf("send")&&e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:n.googFrameRateInput,frameRateSent:n.googFrameRateSent,googRtt:n.googRtt})}))}))},t.getAudioRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){t.isSubscriber&&"audio"===n.mediaType&&n.id&&~n.id.indexOf("recv")&&e&&e({mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:parseInt(n.googDecodingPLC)+parseInt(n.googDecodingPLCCNG)+"",frameReceived:n.googDecodingCTN,googJitterReceived:n.googJitterReceived,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}))}))},t.getStatsRate=function(e){t.getStats((function(t){e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):(t.lastTimeGetStats=Date.now(),this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,e&&e(n,r)})))},t._setStat=function(e,t,n){e.hasOwnProperty(t)&&(null!=n&&n!==1/0&&n==n||(n=0),e[t]=n+"")},t._processGetStatsAfterChrome76=function(e){var n=this;t.lastStats||(t.lastStats=new Map),t.peerConnection.getStats().then((function(r){var s,d=[],u=[],l=new Map,f=new Date,h=p(r.values());try{for(h.s();!(s=h.n()).done;){var v=s.value;"codec"!=v.type?"candidate-pair"!=v.type?("inbound-rtp"===v.type&&"video"===v.mediaType&&l.set("inbound-video",v),"inbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("inbound-audio",v),"outbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("outbound-audio",v),"outbound-rtp"===v.type&&"video"===v.mediaType&&l.set("outbound-video",v),"track"===v.type&&"video"===v.kind&&v.remoteSource&&l.set("remote-video-track",v),"track"===v.type&&"audio"===v.kind&&v.remoteSource&&l.set("remote-audio-track",v),"remote-inbound-rtp"===v.type&&"video"===v.mediaType&&l.set("remote-inbound-video",v),"remote-inbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("remote-inbound-audio",v),"track"!==v.type||"video"!==v.kind||v.remoteSource||l.set("local-video-track",v),"track"!==v.type||"audio"!==v.kind||v.remoteSource||l.set("local-audio-track",v),"media-source"===v.type&&"video"===v.kind&&l.set("media-source-video",v),"media-source"===v.type&&"audio"===v.kind&&l.set("media-source-audio",v)):u.push(v):d.push(v)}}catch(e){h.e(e)}finally{h.f()}l.set("codec",d),l.set("candidatePairs",u),l.set("timestamp",+f);var E=null,S=null;if(g.timestamp=f,c.timestamp=f,i.timestamp=f,i.timestamp=f,m.timestamp=f,n.isSubscriber)(E=l.get("inbound-video"))&&(t._setStat(g,"id","inbound_video_ssrc_recv"),t._setStat(g,"mediaType",E.mediaType),t._setStat(g,"packetsLost",E.packetsLost),t._setStat(g,"googDecodeMs",null),t._setStat(g,"googMaxDecodeMs",null),t._setStat(g,"googRenderDelayMs",null),t._setStat(g,"googMinPlayoutDelayMs",null),t._setStat(g,"googNacksSent",E.nackCount),t._setStat(g,"googPlisSent",E.pliCount),t._setStat(g,"googFirsSent",E.firCount),t._setStat(g,"bytesReceived",E.bytesReceived),t._setStat(g,"packetsReceived",E.packetsReceived)),(E=l.get("inbound-audio"))&&(t._setStat(c,"id","inbound_audio_ssrc_recv"),t._setStat(c,"mediaType",E.mediaType),t._setStat(c,"bytesReceived",E.bytesReceived),t._setStat(c,"packetsLost",E.packetsLost),t._setStat(c,"packetsReceived",E.packetsReceived),t._setStat(c,"googAccelerateRate",E.removedSamplesForAcceleration),t._setStat(c,"googCurrentDelayMs",E.jitterBufferDelay),t._setStat(c,"googDecodingCNG",null),t._setStat(c,"googDecodingCTN",null),t._setStat(c,"googDecodingCTSG",null),t._setStat(c,"googDecodingNormal",null),t._setStat(c,"googDecodingPLC",null),t._setStat(c,"googDecodingPLCCNG",null),t._setStat(c,"googJitterReceived",E.jitter),t._setStat(c,"googPreferredJitterBufferMs",null),t._setStat(c,"googSecondaryDecodedRate",null)),(E=l.get("remote-video-track"))&&(t._setStat(g,"googTargetDelayMs",E.jitterBufferDelay),t._setStat(g,"googFrameWidthReceived",E.frameWidth),t._setStat(g,"googFrameHeightReceived",E.frameHeight),t._setStat(g,"googJitterBufferMs",E.jitterBufferDelay/E.jitterBufferEmittedCount*1e3),t._setStat(g,"googCurrentDelayMs",E.jitterBufferDelay),t._setStat(g,"googFramesDecoded",E.framesDecoded),t._setStat(g,"googFramesReceived",E.framesReceived)),(E=l.get("remote-audio-track"))&&(t._setStat(c,"audioOutputLevel",32767*E.audioLevel),t._setStat(c,"googJitterBufferMs",E.jitterBufferDelay/E.jitterBufferEmittedCount*1e3),t._setStat(c,"googExpandRate",E.concealedSamples),t._setStat(c,"googPreemptiveExpandRate",E.insertedSamplesForDeceleration),t._setStat(c,"googSpeechExpandRate",E.silentConcealedSamples));else{var _=t.lastStats.get("timestamp"),y=t.lastStats.get("outbound-video");if((E=l.get("outbound-audio"))&&(t._setStat(i,"id","outbound_audio_ssrc_send"),t._setStat(i,"mediaType",E.mediaType),t._setStat(i,"aecDivergentFilterFraction",null),t._setStat(i,"bytesSent",E.bytesSent),t._setStat(i,"packetsSent",E.packetsSent),S=E.transportId),E=l.get("outbound-video")){if(t._setStat(a,"id","outbound_video_ssrc_send"),t._setStat(a,"mediaType",E.mediaType),t._setStat(a,"bytesSent",E.bytesSent),t._setStat(a,"packetsSent",E.packetsSent),t._setStat(a,"googAdaptationChanges",E.qualityLimitationDurations),t._setStat(a,"googAvgEncodeMs",null),t._setStat(a,"googEncodeUsagePercent",null),S=E.transportId,E.totalEncodedBytesTarget&&y&&y.totalEncodedBytesTarget){var R=(E.totalEncodedBytesTarget-y.totalEncodedBytesTarget)/(+new Date-_);t._setStat(m,"googTargetEncBitrate",Math.floor(8*R*1e3))}if(E.retransmittedBytesSent&&y&&y.retransmittedBytesSent){var T=(E.retransmittedBytesSent-y.retransmittedBytesSent)/(+new Date-_);t._setStat(m,"googRetransmitBitrate",Math.floor(8*T*1e3))}if(E.bytesSent&&y&&y.bytesSent){var I=(E.bytesSent-y.bytesSent)/(+new Date-_);t._setStat(m,"googTransmitBitrate",Math.floor(8*I*1e3)),t._setStat(m,"googActualEncBitrate",Math.floor(8*I*1e3))}if(E.totalPacketSendDelay&&y&&y.totalPacketSendDelay){var b=(E.totalPacketSendDelay-y.totalPacketSendDelay)/(+new Date-_);t._setStat(m,"googBucketDelay",Math.floor(1e3*b))}}if((E=l.get("remote-inbound-video"))&&(t._setStat(a,"packetsLost",E.packetsLost),t._setStat(a,"googRtt",E.roundTripTime)),(E=l.get("local-video-track"))&&(t._setStat(a,"googFrameHeightSent",E.frameHeight),t._setStat(a,"googFrameWidthSent",E.frameWidth),void 0!==E.framesPerSecond&&t._setStat(a,"googFrameRateSent",E.framesPerSecond)),(E=l.get("local-audio-track"))&&(t._setStat(i,"googEchoCancellationReturnLoss",E.echoReturnLoss),t._setStat(i,"googEchoCancellationReturnLossEnhancement",E.echoReturnLossEnhancement)),(E=l.get("media-source-video"))&&(t._setStat(a,"googFrameHeightInput",E.height),t._setStat(a,"googFrameWidthInput",E.width),t._setStat(a,"googFrameRateInput",E.framesPerSecond)),(E=l.get("media-source-audio"))&&t._setStat(i,"audioInputLevel",32767*E.totalAudioEnergy),(E=l.get("inbound-video"))&&(t._setStat(a,"googFirsReceived",E.firCount),t._setStat(a,"googNacksReceived",E.nackCount),t._setStat(a,"googPlisReceived",E.pliCount)),S)l.get("candidatePairs").map((function(e){S==e.transportId&&t._setStat(m,"googAvailableSendBandwidth",e.availableOutgoingBitrate)}));else{var A=l.get("candidatePairs")[0];A&&t._setStat(m,"googAvailableSendBandwidth",A.availableOutgoingBitrate)}}t.lastStats=l;var O=[o()({},a),o()({},i),o()({},g),o()({},c),o()({},m)];O.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(O)}))},t._processGetStatsBeforeChrome76=function(e){t.peerConnection.getStats((function(n){var r=[],s=[],d=null;Object.keys(n).forEach((function(e){var t=n[e];t&&(s.push(t),d=t.timestamp,"VideoBwe"===t.type?m=t:t.id.indexOf("_send")>-1&&"video"===t.mediaType?a=t:t.id.indexOf("_send")>-1&&"audio"===t.mediaType?i=t:t.id.indexOf("_recv")>-1&&"video"===t.mediaType?g=t:t.id.indexOf("_recv")>-1&&"audio"===t.mediaType&&(c=t))})),(r=[o()({},a),o()({},i),o()({},g),o()({},c),o()({},m)]).push({id:"time",startTime:t.connectedTime,timestamp:d||new Date}),e(r,s)}))},t._getStats=function(e){Object(f.getParameter)("CHROME_NEW_STATS")&&r.isChromeKernel()&&+r.getBrowserVersion()>=76?t._processGetStatsAfterChrome76(e):t._processGetStatsBeforeChrome76(e)},t.addTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r="audio"===e.kind?t._audioSender:t._videoSender;if(r){var i=t.peerConnection.getTransceivers().find((function(e){return e.sender===r}));r.replaceTrack(e).then((function(){i.direction="sendrecv",t.renegotiate()}))}else r=t.peerConnection.addTrack(e,n),"audio"===e.kind?t._audioSender=r:t._videoSender=r}else t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r=t.peerConnection.getTransceivers().find((function(t){return t.sender.track===e}));r&&(r.direction="inactive",t.peerConnection.removeTrack(r.sender))}else t.peerConnection.removeTrack(t.peerConnection.getSenders().find((function(t){return t.track==e})))},t.addStream=function(e){"unified-plan"===Object(f.getParameter)("PLAN")?e.getTracks().forEach((function(n){var r=t.peerConnection.addTrack(n,e);"audio"===n.kind?t._audioSender=r:t._videoSender=r})):(t.peerConnection.addStream(e),t.markActionNeeded())},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(t.mediaConstraints).then((function(n){return n?n.sdp!==t.prevOffer?(e.isSubscriber&&(n.sdp=n.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded()):void u.default.debug("["+t.clientId+"]Not sending a new offer"):(u.default.debug("["+t.clientId+"]sessionDescription is null"),void t.onsignalingmessage(null))})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}));else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else u.default.debug("[".concat(t.clientId,"] Dazed and confused in state ").concat(t.state,", stopping here'"));t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&(t.onaddstream(e,"ontrack"),t.peerConnection.onaddstream=null)},t.peerConnection.onaddstream=function(e){t.onaddstream&&(t.onaddstream(e,"onaddstream"),t.peerConnection.ontrack=null)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){console.log(e),console.log(t.peerConnection.iceConnectionState),"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return"unified-plan"!==Object(f.getParameter)("PLAN")&&(e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")),e.sdp=v(e.sdp),e.sdp=E(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){console.log("createOffer error: ",e)}))},t.peerConnection.onnegotiationneeded=t.renegotiate,t.onaddstream=null,t.onremovestream=null,t.onnegotiationneeded=null,t.state="new",t.markActionNeeded(),t},h=function(e){var t={},n=l.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[],bundlePolicy:"max-bundle"},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout((function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),1e3)),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var r=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},i=function(n){var r,i;return(r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW&&(i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n",n=n.replace(r[0],i),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var o,a=JSON.parse(n);t.incomingMessage=a,"new"===t.state?"OFFER"===a.messageType?(o={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===a.messageType?((o={sdp:a.sdp,type:"answer"}).sdp=r(o.sdp),o.sdp=i(o.sdp),o.sdp=o.sdp.replace(/a=x-google-flag:conference\r\n/g,""),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),o.sdp=o.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="established"):"pr-answer"===a.messageType?(o={sdp:a.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o))):"offer"===a.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===a.messageType?(o={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===a.messageType?((o={sdp:a.sdp,type:"answer"}).sdp=r(o.sdp),o.sdp=i(o.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(o))):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.degradation=n;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return e&&e.track&&"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(o=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=10,i.setParameters(o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var o={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},c={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},p={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"},g={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"},m=0,h=0,v=0;return t.isRemoteVideoStats=function(e){return!!(e.frameHeight&&e.frameWidth&&e.remoteSource)},t.getVideoRelatedStats=function(n){t.peerConnection.getStats().then((function(r){r.forEach((function(r){if(t.isSubscriber){var i={peerId:t.uid,mediaType:"video",isVideoMute:t.isVideoMute};if("track"===r.type&&(~r.id.indexOf("video")||~r.trackIdentifier.indexOf("v")||t.isRemoteVideoStats(r))){if(!t.lastReport)return void(t.lastReport=r);i.frameRateReceived=r.framesReceived-t.lastReport.framesReceived+"",i.frameRateDecoded=r.framesDecoded-t.lastReport.framesDecoded+"",t.lastReport=r}"inbound-rtp"===r.type&&~r.id.indexOf("Video")&&(i.bytesReceived=r.bytesReceived+"",i.packetsReceived=r.packetsReceived+"",i.packetsLost=r.packetsLost+""),n&&n(i)}else if("outbound-rtp"===r.type&&~r.id.indexOf("Video")){if(!t.lastReport)return void(t.lastReport=r);n&&n({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:e.maxFrameRate+"",frameRateSent:r.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=r}}))}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){n.forEach((function(n){t.isSubscriber&&"inbound-rtp"===n.type&&~n.id.indexOf("Audio")&&e&&e({peerId:t.uid,mediaType:"audio",isAudioMute:t.isAudioMute,frameDropped:n.packetsLost+"",frameReceived:n.packetsReceived+"",googJitterReceived:n.jitter+"",bytesReceived:n.bytesReceived+"",packetsReceived:n.packetsReceived+"",packetsLost:n.packetsLost+""})}))}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&e.googFramesEncoded&&(e.googFrameRateSent=Math.ceil((e.googFramesEncoded-m)/3).toString(),m=e.googFramesEncoded),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(e.googFrameRateReceived&&(e.googFrameRateReceived=Math.ceil((e.googFrameReceived-v)/3).toString(),v=e.googFrameReceived),e.googFrameRateDecoded&&(e.googFrameRateDecoded=Math.ceil((e.googFramesDecoded-h)/3).toString(),h=e.googFramesDecoded))})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){var r=[];t.peerConnection.getStats().then((function(i){i.forEach((function(t){var n;(r.push(t),"outbound-rtp"===t.type&&"audio"===t.mediaType&&(o.id=t.id,o.type=t.type,o.mediaType=t.mediaType,o.bytesSent=t.bytesSent?t.bytesSent+"":"0",o.packetsSent=t.packetsSent?t.packetsSent+"":"0",e.agoraStream.local&&(o.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"outbound-rtp"===t.type&&"video"===t.mediaType)&&(a.id=t.id,a.type=t.type,a.mediaType=t.mediaType,a.bytesSent=t.bytesSent?t.bytesSent+"":"0",a.packetsSent=t.packetsSent?t.packetsSent+"":"0",a.googPlisReceived=t.pliCount?t.pliCount+"":"0",a.googNacksReceived=t.nackCount?t.nackCount+"":"0",a.googFirsReceived=t.firCount?t.firCount+"":"0",a.googFramesEncoded=t.framesEncoded?t.framesEncoded+"":"0",(n=i.get(t.trackId))&&(a.googFrameHeightSent=n.frameHeight&&n.frameHeight.toString(),a.googFrameWidthSent=n.frameWidth&&n.frameWidth.toString()));"inbound-rtp"!==t.type||-1==t.id.indexOf("44444")&&"audio"!==t.mediaType||(c.id=t.id,c.type=t.type,c.mediaType="audio",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",c.packetsLost=t.packetsLost?t.packetsLost+"":"0",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.googJitterReceived=t.jitter?t.jitter+"":"0",(n=i.get(t.trackId))&&(c.audioOutputLevel=n.audioLevel&&Math.round(32767*n.audioLevel).toString()),e.agoraStream.local||c.audioOutputLevel||(c.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString()));"inbound-rtp"!==t.type||-1==t.id.indexOf("55543")&&"video"!==t.mediaType||(p.id=t.id,p.type=t.type,p.mediaType="video",p.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",p.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",p.packetsLost=t.packetsLost?t.packetsLost+"":"0",p.googJitterBufferMs=t.jitter?t.jitter+"":"0",p.googNacksSent=t.nackCount?t.nackCount+"":"0",p.googPlisSent=t.pliCount?t.pliCount+"":"0",p.googFirsSent=t.firCount?t.firCount+"":"0",(n=i.get(t.trackId))&&(p.googFrameHeightReceived=n.frameHeight&&n.frameHeight.toString(),p.googFrameWidthReceived=n.frameWidth&&n.frameWidth.toString(),p.googFrameReceived=n.framesReceived&&n.framesReceived.toString(),p.googFramesDecoded=n.framesDecoded&&n.framesDecoded.toString()));"candidate-pair"===t.type&&(0==t.availableIncomingBitrate?g.googAvailableSendBandwidth=t.availableOutgoingBitrate+"":g.googAvailableReceiveBandwidth=t.availableIncomingBitrate+"")}));var s=[g,o,a,c,p];s.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(s,r)})).catch((function(e){u.default.error("["+t.clientId+"] ",e)}))},t.addTrack=function(e,n){t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){var r=t.peerConnection.getSenders().find((function(t){return t.track==e}));r.replaceTrack(null),t.peerConnection.removeTrack(r)},t.addStream=function(e){window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?e.getTracks().forEach((function(n){return t.peerConnection.addTrack(n,e)})):t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state){if(e.isSubscriber)t.peerConnection.addTransceiver("audio",{direction:"recvonly"}),t.peerConnection.addTransceiver("video",{direction:"recvonly"});t.peerConnection.createOffer(t.mediaConstraints).then((function(n){if(n.sdp=i(n.sdp),e.isSubscriber||(n.sdp=n.sdp.replace(/a=.*video-orientation\r\n/g,"")),n.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}))}else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){console.log("!!! ontrack, ",e.track.kind,e.track),t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date,t._setRtpSenderParameters(t.degradation)),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){t.isSubscriber||(u.default.debug("[".concat(t.uid,"]"),"renegotiating"),void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),e.sdp=r(e.sdp),e.sdp=i(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){console.log("createOffer error: ",e)})))},t.isSubscriber||(t.peerConnection.onnegotiationneeded=t.renegotiate),t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t};function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t={},n=(mozRTCPeerConnection,mozRTCSessionDescription),r=!1;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]},e.iceServers instanceof Array?e.iceServers.map((function(e){0===e.url.indexOf("stun:")&&t.pc_config.iceServers.push({url:e.url})})):(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={offerToReceiveAudio:e.audio,offerToReceiveVideo:e.video,mozDontOfferDataChannel:!0},t.roapSessionId=103,t.peerConnection=new l.RTCPeerConnection(t.pc_config),t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},t.checkMLineReverseInSDP=function(e){return!(!~e.indexOf("m=audio")||!~e.indexOf("m=video"))&&e.indexOf("m=audio")>e.indexOf("m=video")},t.reverseMLineInSDP=function(e){var t=e.split("m=audio"),n=t[1].split("m=video"),r="m=video"+n[1],i="m=audio"+n[0];return e=t[0]+r+i},t.processSignalingMessage=function(r){var i,o=JSON.parse(r);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(o.sdp=h(o.sdp),i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?(o.sdp=h(o.sdp),o.sdp=o.sdp.replace(/ generation 0/g,""),o.sdp=o.sdp.replace(/ udp /g," UDP "),-1!==o.sdp.indexOf("a=group:BUNDLE")?(o.sdp=o.sdp.replace(/a=group:BUNDLE audio video/,"a=group:BUNDLE sdparta_0 sdparta_1"),o.sdp=o.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),o.sdp=o.sdp.replace(/a=mid:video/,"a=mid:sdparta_1")):(o.sdp=o.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),o.sdp=o.sdp.replace(/a=mid:video/,"a=mid:sdparta_0")),i={sdp:o.sdp,type:"answer"},e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),o.sdp=E(i.sdp)),t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e)})),t.state="established"):"pr-answer"===o.messageType?(i={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)}))):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(o=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=10,i.setParameters(o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var i={id:"",type:"",mediaType:"opus",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},o={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},a={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesDecoded:"0"},p=0,g=0,m=0;t.getVideoRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=v(n.values());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.isSubscriber){if(("inbound-rtp"===o.type||"inboundrtp"===o.type)&&"video"===o.mediaType){if(!t.lastReport)return void(t.lastReport=o);e&&e({browser:"firefox",mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:Math.round(o.framerateMean)+"",frameRateDecoded:o.framesDecoded-t.lastReport.framesDecoded+"",bytesReceived:o.bytesReceived+"",packetsReceived:o.packetsReceived+"",packetsLost:o.packetsLost+""}),t.lastReport=o}}else if(("outbound-rtp"===o.type||"outboundrtp"===o.type)&&"video"===o.mediaType){if(!t.lastReport)return void(t.lastReport=o);e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:Math.round(o.framerateMean)+"",frameRateSent:o.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=o}}}catch(e){i.e(e)}finally{i.f()}}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=v(n.values());try{for(i.s();!(r=i.n()).done;){var o=r.value;t.isSubscriber&&("inbound-rtp"!==o.type&&"inboundrtp"!==o.type||"audio"!==o.mediaType||e&&e({browser:"firefox",mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:o.packetsLost+"",frameReceived:o.packetsReceived+"",googJitterReceived:o.jitter+"",bytesReceived:o.bytesReceived+"",packetsReceived:o.packetsReceived+"",packetsLost:o.packetsLost+""}))}}catch(e){i.e(e)}finally{i.f()}}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){t.peerConnection.getStats().then((function(r){var s,d=[],u=v(r.values());try{for(u.s();!(s=u.n()).done;){var l=s.value;d.push(l),"outbound-rtp"!==l.type&&"outboundrtp"!==l.type||"video"!==l.mediaType||-1!==l.id.indexOf("rtcp")||(o.id=l.id,o.type=l.type,o.mediaType=l.mediaType,o.bytesSent=l.bytesSent?l.bytesSent+"":"0",o.packetsSent=l.packetsSent?l.packetsSent+"":"0",o.googPlisReceived=l.pliCount?l.pliCount+"":"0",o.googNacksReceived=l.nackCount?l.nackCount+"":"0",o.googFirsReceived=l.firCount?l.firCount+"":"0",o.googFrameRateSent=l.framerateMean?Math.round(l.framerateMean)+"":"0"),"outbound-rtp"!==l.type&&"outboundrtp"!==l.type||"audio"!==l.mediaType||-1!==l.id.indexOf("rtcp")||(i.id=l.id,i.type=l.type,i.mediaType=l.mediaType,i.bytesSent=l.bytesSent?l.bytesSent+"":"0",i.packetsSent=l.packetsSent?l.packetsSent+"":"0",e.agoraStream.local&&(i.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==l.type&&"inboundrtp"!==l.type||"audio"!==l.mediaType||l.isRemote||-1!==l.id.indexOf("rtcp")||(a.id=l.id,a.type=l.type,a.mediaType=l.mediaType,a.bytesReceived=l.bytesReceived?l.bytesReceived+"":"0",a.packetsLost=l.packetsLost?l.packetsLost+"":"0",a.packetsReceived=l.packetsReceived?l.packetsReceived+"":"0",a.googJitterReceived=l.jitter?l.jitter+"":"0",e.agoraStream.local||(a.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==l.type&&"inboundrtp"!==l.type||"video"!==l.mediaType||l.isRemote||-1!==l.id.indexOf("rtcp")||(c.id=l.id,c.type=l.type,c.mediaType=l.mediaType,c.bytesReceived=l.bytesReceived?l.bytesReceived+"":"0",c.googFrameRateReceived=l.framerateMean?Math.round(l.framerateMean)+"":"0",c.googFramesDecoded=l.framesDecoded?l.framesDecoded+"":"0",Date.now()-m>=1e3?(c.googFrameRateDecoded=(l.framesDecoded-p)/((Date.now()-m)/1e3),c.googFrameRateDecoded=Math.round(Math.max(0,c.googFrameRateDecoded)),m=Date.now(),g=c.googFrameRateDecoded,p=l.framesDecoded,c.googFrameRateDecoded=c.googFrameRateDecoded.toString()):c.googFrameRateDecoded=g.toString(),c.packetsLost=l.packetsLost?l.packetsLost+"":"0",c.packetsReceived=l.packetsReceived?l.packetsReceived+"":"0",c.googJitterBufferMs=l.jitter?l.jitter+"":"0",c.googNacksSent=l.nackCount?l.nackCount+"":"0",c.googPlisSent=l.pliCount?l.pliCount+"":"0",c.googFirsSent=l.firCount?l.firCount+"":"0"),-1!==l.id.indexOf("outbound_rtcp_video")&&(o.packetsLost=l.packetsLost?l.packetsLost+"":"0")}}catch(e){u.e(e)}finally{u.f()}var f=[o,i,a,c];f.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(f,d)}),(function(e){u.default.error("["+t.clientId+"]"+e)}))},t.addStream=function(e){r=!0,t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){if(t.actionNeeded){if("new"===t.state||"established"===t.state){r&&(t.mediaConstraints=void 0),t.peerConnection.createOffer((function(e){if(e.sdp=h(e.sdp),e.sdp=e.sdp.replace(/a=extmap:1 http:\/\/www.webrtc.org\/experiments\/rtp-hdrext\/abs-send-time/,"a=extmap:3 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")}),(function(e){u.default.debug("["+t.clientId+"]Ups! create offer failed ",e)}),t.mediaConstraints)}else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(){u.default.debug("["+t.clientId+"]Ups! Something went wrong")}));else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;var n=t.peerConnection.localDescription.sdp;t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)};var h=function(t){var n;if(e.video&&e.maxVideoBW&&(null==(n=t.match(/m=video.*\r\n/))&&(n=t.match(/m=video.*\n/)),n&&n.length>0)){var r=n[0]+"b=TIAS:"+1e3*e.maxVideoBW+"\r\n";t=t.replace(n[0],r)}if(e.audio&&e.maxAudioBW&&(null==(n=t.match(/m=audio.*\r\n/))&&(n=t.match(/m=audio.*\n/)),n&&n.length>0)){r=n[0]+"b=TIAS:"+1e3*e.maxAudioBW+"\r\n";t=t.replace(n[0],r)}return t},E=function(e){return(e=e.replace(/a=.*abs-send-time\r\n/g,"")).replace(/a=.*goog-remb\r\n/g,"")};return t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t},_=n(50),y=n.n(_),R=n(26),T=(n(4),103),I=function(e){var t={};if(t.clientId=e.clientId,e.session_id=T+=1,"undefined"==typeof window||!window.navigator)throw u.default.error("["+t.streamId+"]["+t.clientId+"]Publish/subscribe video/audio streams not supported yet"),new Error("NON_BROWSER_ENV_DETECTED");return null!==window.navigator.userAgent.match("Firefox")?(t.browser="mozilla",t=S(e)):"iOS"===r.getBrowserOS()||r.isSafari()?(u.default.debug("["+t.streamId+"]["+t.clientId+"]Safari"),(t=h(e)).browser="safari"):~window.navigator.userAgent.indexOf("Edge")?t=new y.a(e):(t=m(e)).browser="chrome-stable",t},b=function(e,t,n){var i={};i.config=e,i.streamId=e.streamId,delete e.streamId,navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var o=0,a=1,s=!1,c=null,d=function(e){if(o++,c)if(c===e)u.default.debug("Using Video Source/ Audio Source");else{var n=c.getVideoTracks()[0],r=c.getAudioTracks()[0],i=e.getVideoTracks()[0],d=e.getAudioTracks()[0];i&&(n&&c.removeTrack(n),c.addTrack(i)),d&&(r&&c.removeTrack(r),c.addTrack(d))}else c=e;o!==a||s||(s=!0,setTimeout((function(){t(c)}),0))},l=function(e){u.default.error("Failed to GetUserMedia",e.name,e.code,e.message,e),o++,s||(s=!0,setTimeout((function(){n&&n(e)}),0))},f=function(){var t={video:e.video,audio:e.audio};if(u.default.debug("GetUserMedia",JSON.stringify(t)),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(t).then(d).catch(l);else if("undefined"!=typeof navigator&&navigator.getMedia)navigator.getMedia(e,d,l);else{var r={name:"MEDIA_NOT_SUPPORT",message:"Video/audio streams not supported yet"};u.default.error("["+i.streamId+"]"+r.message),n&&n(r)}};if((e.videoSource||e.audioSource)&&(c=new MediaStream,e.videoSource&&c.addTrack(e.videoSource),e.audioSource&&c.addTrack(e.audioSource)),e.video||e.audio||e.screen||e.screenAudio){if(!e.screen&&e.screenAudio)return n&&n({code:"Set screen to true before sharing the audio"});if(e.screen){if(R.a.isElectron())return e.screen.sourceId?R.a.getScreenStream(e.screen.sourceId,e.screen,(function(t,n){t?l(t):(e.audio&&(a++,f()),d(n))})):R.a.shareScreen(e.screen,(function(t,n){t?l(t):(e.audio&&(a++,f()),d(n))}));if(r.isFireFox()){u.default.debug("["+i.streamId+"]Screen access requested");if(!~["screen","window","application"].indexOf(e.screen.mediaSource))return n&&n({code:"Invalid mediaSource, mediaSource should be one of [screen, window, application]"});navigator.getMedia({video:e.screen},(function(t){e.audio&&(a++,f()),d(t)}),l)}else if(r.isChromeKernel()&&e.screen.extensionId){if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<34)return void n({code:"This browser does not support screen sharing"});u.default.debug("["+i.streamId+"]Screen access on chrome stable, looking for extension");try{chrome.runtime.sendMessage(e.screen.extensionId,{getStream:!0},(function(t){if(void 0===t){u.default.error("["+i.streamId+"]No response from Chrome Plugin. Plugin not installed properly");l({name:"PluginNotInstalledProperly",message:"No response from Chrome Plugin. Plugin not installed properly."})}else e.screen.mandatory.chromeMediaSourceId=t.streamId,navigator.getMedia({video:e.screen},(function(t){e.audio&&(a++,f()),d(t)}),l)}))}catch(e){u.default.debug("["+i.streamId+"]AgoraRTC screensharing plugin is not accessible");return void n({code:"no_plugin_present"})}}else{if(window.navigator.mediaDevices.getDisplayMedia){var p={};return"number"==typeof e.screen.width&&"number"==typeof e.screen.height?p.video={width:{ideal:e.screen.width},height:{ideal:e.screen.height}}:p.video={width:e.screen.width,height:e.screen.height},e.screen.frameRate&&e.screen.frameRate.min?p.video.frameRate={ideal:e.screen.frameRate.max,max:e.screen.frameRate.max}:p.video.frameRate=e.screen.frameRate,e.screenAudio&&(p.audio=e.screenAudio),u.default.debug("use getDisplayMedia, constraints:",p),window.navigator.mediaDevices.getDisplayMedia(p).then((function(t){!e.screenAudio&&e.audio&&(a++,f()),d(t)})).catch(l)}u.default.error("["+i.streamId+"]This browser does not support screenSharing"),n({code:"This browser does not support screen sharing"})}}else f()}else d(c)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=function(){function e(e,t,n){void 0===t&&(t=""),this.name="AgoraRTCException",this.code=e,this.message="AgoraRTCError "+this.code+": "+t,this.data=n}return e.prototype.toString=function(){return this.data?this.message+" data: "+JSON.stringify(this.data):this.message},e.prototype.throw=function(){throw i.default.error(this.toString()),this},e}();t.AgoraRTCError=o,function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_SUPPORT="NOT_SUPPORT",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORT="OPERATION_ABORT",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.STREAM_ALREADY_INITIALIZED="STREAM_ALREADY_INITIALIZED",e.STREAM_IS_CLOSED="STREAM_IS_CLOSED",e.ABORT_OTHER_INIT="ABORT_OTHER_INIT",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.CAN_NOT_AUTOPLAY="CAN_NOT_AUTOPLAY",e.HIGH_STREAM_NO_VIDEO_TRACK="HIGH_STREAM_NO_VIDEO_TRACK",e.SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM="SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.TOKEN_GENERATOR_FUNCTION_ERROR="TOKEN_GENERATOR_FUNCTION_ERROR",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.SUBSCRIPTION_IS_IN_PROGRESS="SUBSCRIPTION_IS_IN_PROGRESS",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.EFFECT_ID_CONFLICTED="EFFECT_ID_CONFLICTED",e.EFFECT_SOUND_ID_NOT_FOUND="EFFECT_SOUND_ID_NOT_FOUND",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER="CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT="LIVE_STREAMING_TRANSCODING_NOT_SUPPORT",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE"}(t.AgoraRTCErrorCode||(t.AgoraRTCErrorCode={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=window.AudioContext||window.webkitAudioContext,o=n(2),a=o.getParameter,s=o.setParameter,c=function(){return a("AUDIO_CONTEXT")||(console.log("Creating Audio Context"),s("AUDIO_CONTEXT",function(){if(i){var e=new i;return window.ctx=e,new Promise((function(e){document.body?e():window.addEventListener("load",e)})).then((function(){var t=function t(){"suspended"==e.state?(r.default.debug("AudioContext is suspended, auto resume"),e.resume().then((function(){r.default.debug("AudioContext resume success"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0)}))):(r.default.debug("AudioContext is running"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0))};r.default.debug(">>> add event listener >>>>"),document.body.addEventListener("touchend",t,!0),document.body.addEventListener("mousedown",t,!0)})),e}throw new Error("AUDIO_CONTEXT_NOT_SUPPORTED")}())),a("AUDIO_CONTEXT")};c()},function(e,t,n){"use strict";var r=n(1),i=null;var o=function(){try{i=window.require("electron")}catch(e){}return i},a=function(e){var t=r.report.reportApiInvoke(null,{callback:e,name:"getScreenSources",options:arguments,tag:"tracer"}),n=o();if(!n)return t&&t("electron is null");try{var i=n.desktopCapturer.getSources({types:["window","screen"]})}catch(e){console.log(e)}if(i instanceof Promise)console.log("electron.desktopCapturer.getSources return type is Promise"),i.then((function(e){return t&&t(null,e)})).catch((function(e){return t&&t(e)}));else i=n.desktopCapturer.getSources({types:["window","screen"]},(function(e,n){console.log("electron.desktopCapturer.getSources return type is callback"),t&&t(null,n)}))},s=function(e,t,n){var r=t.width;t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:t.height,maxWidth:r,maxFrameRate:t.frameRate&&t.frameRate.max,minFrameRate:t.frameRate&&t.frameRate.min}}};navigator.webkitGetUserMedia(t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))};t.a={isElectron:function(){return!!o()},getElectronInstance:o,getScreenSources:a,getScreenStream:s,shareScreen:function(e,t){a((function(n,r){if(n)return t&&t(n);!function(e,t){var n=document.createElement("div");n.innerText="share screen",n.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var r=document.createElement("div");r.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var i=document.createElement("div");i.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",i.setAttribute("style","height: 12%;");var o=document.createElement("div");o.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var a=document.createElement("div");a.setAttribute("style","text-align: right; padding: 16px 0;");var s=document.createElement("button");s.innerHTML="cancel",s.setAttribute("style","width: 85px;"),s.onclick=function(){document.body.removeChild(c),t&&t("NotAllowedError")},a.appendChild(s),r.appendChild(i),r.appendChild(o),r.appendChild(a);var c=document.createElement("div");c.setAttribute("style","position: absolute; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),c.appendChild(n),c.appendChild(r),document.body.appendChild(c),e.map((function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var r=e.thumbnail;r.getSize().width>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=function(){document.body.removeChild(c),t&&t(null,e.id)},o.appendChild(n)}}))}(r,(function(n,r){if(n)return t&&t(n);s(r,e,t)}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(t.LiveStreamingServiceMode||(t.LiveStreamingServiceMode={})),t.DEFAULT_LIVE_STREAMING_TRANSCODING_USER={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},t.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},t.isLiveStreamingTranscodingConfig=function(e){return r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e6),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate"),r.isEmpty(e.lowLatency)||r.checkValidBoolean(e.lowLatency,"config.lowLatency"),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,128),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop"),r.isEmpty(e.videoCodecProfile)||r.checkValidEnum(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),r.isEmpty(e.userCount)||r.checkValidNumber(e.userCount,"config.userCount",0,17),r.isEmpty(e.backgroundColor)||r.checkValidNumber(e.backgroundColor,"config.backgroundColor",0,16777215),e.transcodingUsers&&!r.isEmpty(e.transcodingUsers)&&(r.checkValidArray(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach((function(e,t){r.checkValidUID(e.uid),r.isEmpty(e.x)||r.checkValidNumber(e.x,"transcodingUser["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"transcodingUser["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"transcodingUser["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"transcodingUser["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder-1,"transcodingUser["+t+"].zOrder",0,100),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"transcodingUser["+t+"].alpha",0,1)}))),e.images&&!r.isEmpty(e.images)&&(r.checkValidArray(e.images,"config.images"),e.images.forEach((function(e,t){r.checkValidString(e.url,"images["+t+"].url",1,1e3,!1),r.isEmpty(e.x)||r.checkValidNumber(e.x,"images["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"images["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"images["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"images["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder,"images["+t+"].zOrder",0,255),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"images["+t+"].alpha",0,1)}))),!0},t.DEFAULT_TRANSCODING_CONFIG={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFramerate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},t.isInjectStreamConfig=function(e){return r.isEmpty(e.audioVolume)||r.checkValidNumber(e.audioVolume,"config.audioVolume",0,1e3),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,1e4),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2]),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0,1e4),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e4),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate",1,1e4),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop",1,1e4),!0},t.DEFAULT_INJECT_CONFIG={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30},function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(t.LiveStreamingUapSignalEvents||(t.LiveStreamingUapSignalEvents={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(t.LiveStreamingInternalEvents||(t.LiveStreamingInternalEvents={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE=505]="LIVE_STREAM_RESPONSE_INGNORE_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(t.LIVE_STREAM_ERROR_CODE||(t.LIVE_STREAM_ERROR_CODE={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls"}(t.WebSocketManagerEvents||(t.WebSocketManagerEvents={}))},function(e,t,n){var r=n(57),i=n(58);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){var r;e.exports=(r=n(73),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var d=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],f=n[7],p=0;p<64;p++){if(p<16)d[p]=0|e[t+p];else{var g=d[p-15],m=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,h=d[p-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;d[p]=m+d[p-7]+v+d[p-16]}var E=r&i^r&o^i&o,S=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&l)+c[p]+d[p];f=l,l=u,u=s,s=a+_|0,a=o,o=i,i=r,r=_+(S+E)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomString=function(e){void 0===e&&(e=8);for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=a(n(37)),d=n(24),u=a(n(0)),l=n(1);function f(e){return new Promise((function(t){window.setTimeout(t,e)}))}function p(e,t){return new Promise((function(n,r){t.timeout=t.timeout||s.getParameter("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&(t.data=JSON.stringify(t.data)),t.headers=t.headers||{},t.headers["Content-Type"]="application/json",t.method="POST",t.url=e,c.default.request(t).then((function(e){n(e.data)})).catch((function(e){c.default.isCancel(e)?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.OPERATION_ABORT,"cancel token canceled")):"ECONNABORTED"===e.code?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_TIMEOUT,e.message)):e.response?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR,e.response.status)):r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_ERROR,e.message))}))}))}function g(e,n,r,a){var s=this,c=Object.assign({},t.DEFAULT_RETRY_CONFIG,a),u=c.timeout,l=function(){return i(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,f(u)];case 1:return e.sent(),u*=c.timeoutFactor,u=Math.min(c.maxRetryTimeout,u),[2]}}))}))},p=!1,g=new Promise((function(t,a){return i(s,void 0,void 0,(function(){var i,s,u;return o(this,(function(o){switch(o.label){case 0:n=n||function(){return!1},r=r||function(){return!0},i=0,o.label=1;case 1:if(!(i<c.maxRetryCount))return[3,12];if(p)return[2,a(new d.AgoraRTCError(d.AgoraRTCErrorCode.OPERATION_ABORT))];o.label=2;case 2:return o.trys.push([2,7,,11]),[4,e()];case 3:return s=o.sent(),n(s,i)?i+1===c.maxRetryCount?[2,t(s)]:[4,l()]:[3,5];case 4:return o.sent(),[3,6];case 5:return[2,t(s)];case 6:return[3,11];case 7:return u=o.sent(),r(u,i)?i+1===c.maxRetryCount?[2,a(u)]:[4,l()]:[3,9];case 8:return o.sent(),[3,10];case 9:return[2,a(u)];case 10:return[3,11];case 11:return i+=1,[3,1];case 12:return[2]}}))}))}));return g.cancel=function(){return p=!0},g}function m(e,t){return{addressList:e.servers.map((function(e,n){return"wss://"+e.address.replace(/\./g,"-")+".edge.agora.io:"+e.wss+"?serviceName="+encodeURIComponent(t)})),workerToken:e.workerToken,vid:e.vid}}t.wait=f,t.post=p,t.DEFAULT_RETRY_CONFIG={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},t.getRetryWaitTime=function(e,t){var n=t.timeout*Math.pow(t.timeoutFactor,e);return Math.min(t.maxRetryTimeout,n)},t.retryable=g,t.liveStreamingServerResponseToResult=m;var h=1;function v(e,n,a,c,f){var v=this;void 0===f&&(f=t.DEFAULT_RETRY_CONFIG),h+=1;var E,S,_={sid:a.sid,command:"convergeAllocateEdge",uid:"666",appId:a.appId,ts:Math.floor(Date.now()/1e3),seq:h,requestId:h,version:s.VERSION,cname:a.cname},y={service_name:n,json_body:JSON.stringify(_)},R=e[0];return g((function(){return i(v,void 0,void 0,(function(){var e,t,i,a,l;return o(this,(function(o){switch(o.label){case 0:return E=Date.now(),[4,p(R,{data:y,cancelToken:c,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}})];case 1:if(e=o.sent(),S=Date.now()-E,0!==e.code)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0}),u.default.error(i.toString()),i;if(200!==(t=JSON.parse(e.json_body)).code)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center error, code: "+t.code+", reason: "+t.reason),u.default.error(i.toString()),i;if(!t.servers||0===t.servers.length)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center empty server"),u.default.error(i.toString()),i;if(a=m(t,n),s.getParameter("LIVE_STREAMING_ADDRESS"))try{l=JSON.parse(s.getParameter("LIVE_STREAMING_ADDRESS")),a.addressList=l}catch(e){a.addressList=[s.getParameter("LIVE_STREAMING_ADDRESS")]}return[2,r(r({},a),{responseTime:S})]}}))}))}),(function(t,r){return l.report.requestApWorkerEvent(a.sid,{success:!0,sc:200,serviceName:n,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===r,responseTime:S,serverIp:e[r%e.length]}),!1}),(function(t,r){return l.report.requestApWorkerEvent(a.sid,{success:!1,sc:t.data&&t.data.code||200,serviceName:n,responseTime:S,serverIp:e[r%e.length]}),!!(t.code!==d.AgoraRTCErrorCode.OPERATION_ABORT&&t.code!==d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(R=e[(r+1)%e.length],!0)}),f)}t.requestLiveStreamingWorkerManager=v,t.getLiveStreamingWorkerMangerResult=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:r=s.getParameter("UAP_AP").map((function(e){return t.proxyServer?"https://"+t.proxyServer+"/ap/?url="+e+"/api/v1?action=uap":"https://"+e+"/api/v1?action=uap"})),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,v(r,e,t,n)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),l.report.requestApWorkerEvent(t.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:e,responseTime:i.data&&i.data.responseTime}),i;case 4:return[2]}}))}))}},function(e,t,n){var r=n(70),i=n(71),o=n(34),a=n(72);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(35);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=function(){function e(){this._events={},this.addListener=this.on}return e.prototype.getListeners=function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]},e.prototype.on=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})},e.prototype.once=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})},e.prototype.off=function(e,t){if(this._events[e]){var n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}},e.prototype.removeAllListeners=function(e){e?delete this._events[e]:this._events={}},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._events[e]||(this._events[e]=[]);for(var r=this._events[e].map((function(e){return e})),i=0;i<r.length;i+=1){var o=r[i];o.once&&this.off(e,o.listener),o.listener.apply(this,t||[])}},e.prototype._indexOfListener=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1},e}();function a(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=null,s=null;if(e.emit.apply(e,r([t],n,[function(e){a=e},function(e){s=e}])),null!==s)throw s;if(null===a)throw new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"handler is not sync");return a}t.EventEmitter=o,t.emitAsPromise=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return 0===e.getListeners(t).length?Promise.reject(new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not emit promise")):new Promise((function(i,o){e.emit.apply(e,r([t],n,[i,o]))}))},t.emitAsInvokerNoResponse=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return 0===e.getListeners(t).length?null:a.apply(void 0,r([e,t],n))},t.emitAsInvoker=a},function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(18);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(18),i=n(84),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(42)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(83))},function(e,t,n){"use strict";var r=n(18),i=n(85),o=n(39),a=n(87),s=n(90),c=n(91),d=n(43);e.exports=function(e){return new Promise((function(t,u){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(g+":"+m)}var h=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(h,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,u,r),p=null}},p.onabort=function(){p&&(u(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(d(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(92),E=(e.withCredentials||c(h))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;E&&(f[e.xsrfHeaderName]=E)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===l&&(l=null),p.send(l)}))}},function(e,t,n){"use strict";var r=n(86);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(o).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(59)),c=a(n(62)),d=a(n(63)),u=o(n(0)),l=n(2),f=s.default.Root.fromJSON(d),p=function(){function e(){this.requestArray=[],this.retryBackoffCount=0,this.state=0}return e.prototype.setProxy=function(e){this.proxyServer=e},e.prototype.sendReportList=function(e,t){var n=this,r=this._dataConvert("ProtoRaws",{vid:t,sendTs:Math.round(Date.now()/1e3),payloads:e.map((function(e){return{id:c[e.type],msg:n._dataConvert(e.type,e.data)}}))});this.send(r)},e.prototype._dataConvert=function(e,t){var n;try{n=f.lookupType("protobuf."+e)}catch(t){u.default.error("[send-proto] invalid proto name "+e)}var r=n.create(t);return n.encode(r).finish()},e.prototype.send=function(e){0==this.state?this._send(e):this.requestArray.push(e)},e.prototype._send=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),this.state=1,[4,this.request(e)];case 1:return t.sent(),this.retryBackoffCount=0,0!==this.requestArray.length?this._send(this.requestArray.shift()):this.state=0,[3,4];case 2:return t.sent(),[4,g(this.retryBackoffCount++<2?200:1e4)];case 3:return t.sent(),this._send(e),[3,4];case 4:return[2]}}))}))},e.prototype.request=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:t=this._getAddress(),n=this._getBackupAddress(),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._request(t,e)];case 2:return r.sent(),[3,5];case 3:return r.sent(),[4,this._request(n,e)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))},e.prototype._request=function(e,t){return this._post(e,t)},e.prototype._post=function(e,t){var n=this;return new Promise((function(r,i){var o=new XMLHttpRequest;o.timeout=l.getParameter("HTTP_CONNECT_TIMEOUT"),o.open("POST",e,!0),o.setRequestHeader("Content-type","application/octet-stream"),n.proxyServer||(o.setRequestHeader("Cache-Control","no-cache, no-store"),o.setRequestHeader("Pragma","no-cache"),o.setRequestHeader("Expires","0")),o.onload=function(e){r(o.responseText)},o.onerror=function(e){i(e)},o.ontimeout=function(e){i(e)},o.send(t)}))},e.prototype._getAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+l.getParameter("EVENT_REPORT_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+l.getParameter("EVENT_REPORT_DOMAIN")+":6443/events/proto-raws"},e.prototype._getBackupAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+l.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+l.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+":6443/events/proto-raws"},e}();t.default=p;var g=function(e){return new Promise((function(t){window.setTimeout(t,e)}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=o(n(0)),c=n(15);!function(e){e.NEW="new",e.PREPARING_OFFER="preparing-offer",e.OFFER_SENT="offer-sent",e.ESTABLISHED="established",e.CLOSED="closed"}(a||(a={}));var d=function(){function e(e){this.candidate=null,this.state=a.NEW,this.config=e,this.isSubscriber=this.config.isSubscriber,this.peerConnection=this.initPeecConnection(e),this.peerConnection.onicecandidate=this._onicecandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this._oniceconnectionstatechange.bind(this),this.peerConnection.onaddstream=this._onaddstream.bind(this),this.peerConnection.ontrack=this._ontrack.bind(this),this.processSignalingMessage=this.setAnswer.bind(this),this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.setLocalSDP.bind(this)),this.sendVideoStats={id:"",type:"",mediaType:"",googCodecName:this.config.codec.toUpperCase(),bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},this.sendAudioStats={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},this.receiveAudioStats={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},this.receiveVideoStats={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"}}return e.prototype.addStream=function(e){this.peerConnection.addStream(e)},e.prototype.setRtpSenderParameters=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))},e.prototype.setAnswer=function(e){var t=JSON.parse(e);this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:t.sdp,type:"answer"})),this.onsignalingmessage&&this.onsignalingmessage("")},e.prototype.close=function(){this.peerConnection.close()},e.prototype.getStats=function(e,t){if(void 0===t&&(t=500),t=t>500?500:t,Date.now()-this.lastTimeGetStats<t){var n=[];this.config.isSubscriber?(n.push(this.receiveVideoStats),n.push(this.receiveAudioStats)):(n.push(this.sendAudioStats),n.push(this.sendVideoStats)),n.push({id:"time",startTime:this.connectedTime,timestamp:Date.now()}),e&&e(n)}else this._getStats(e)},e.prototype._getStats=function(e){var t=this,n=[];this.peerConnection.getStats(null).then((function(r){t.lastTimeGetStats=Date.now(),Object.keys(r).map((function(e){var n=r[e];t.config.isSubscriber?n.type&&"inboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.receiveAudioStats.id=n.id+"recv",t.receiveAudioStats.type=n.type+"",t.receiveAudioStats.mediaType=n.mediaType+"",t.receiveAudioStats.packetsReceived=n.packetsReceived+"",t.receiveAudioStats.bytesReceived=n.bytesReceived+"",t.receiveAudioStats.packetsLost=n.packetsLost+"",t.receiveAudioStats.googJitterReceived=n.jitter+""):n.type&&"inboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.receiveVideoStats.id=n.id+"recv",t.receiveVideoStats.type=n.type+"",t.receiveVideoStats.mediaType=n.mediaType+"",t.receiveVideoStats.packetsReceived=n.packetsReceived+"",t.receiveVideoStats.bytesReceived=n.bytesReceived+"",t.receiveVideoStats.packetsLost=n.packetsLost+"",t.receiveVideoStats.googJitterBufferMs=n.jitter+"",t.receiveVideoStats.googPlisSent=n.pliCount+"",t.receiveVideoStats.googFirsSent=n.firCount+"",t.receiveVideoStats.googNacksSent=n.nackCount+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("v")?(t.receiveVideoStats.googFrameHeightReceived=n.frameHeight+"",t.receiveVideoStats.googFrameWidthReceived=n.frameWidth+"",t.receiveVideoStats.googFrameRateDecoded=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateOutput=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateReceived=n.framesPerSecond+"",t.receiveVideoStats.googFramesDecoded=n.framesDecoded+"",t.receiveVideoStats.googFrameReceived=n.framesReceived+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("a")&&(t.receiveAudioStats.audioOutputLevel=n.audioLevel+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.sendAudioStats.id=n.id+"send",t.sendAudioStats.type=n.type+"",t.sendAudioStats.mediaType=n.mediaType+"",t.sendAudioStats.packetsSent=n.packetsSent+"",t.sendAudioStats.bytesSent=n.bytesSent+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.sendVideoStats.id=n.id+"send",t.sendVideoStats.type=n.type+"",t.sendVideoStats.mediaType=n.mediaType+"",t.sendVideoStats.packetsSent=n.packetsSent+"",t.sendVideoStats.bytesSent=n.bytesSent+"",t.sendVideoStats.googRtt=n.roundTripTime+"",t.sendVideoStats.googPlisReceived=n.pliCount+"",t.sendVideoStats.googFirsReceived=n.firCount+"",t.sendVideoStats.googNacksReceived=n.nackCount+""):!n.remoteSource&&n.type&&"track"===n.type&&n.framesSent&&0!==n.framesSent&&(t.sendVideoStats.googFrameHeightSent=n.frameHeight+"",t.sendVideoStats.googFrameHeightInput=n.frameHeight+"",t.sendVideoStats.googFrameWidthSent=n.frameWidth+"",t.sendVideoStats.googFrameWidthInput=n.frameWidth+"",t.sendVideoStats.googFramesEncoded=n.framesSent+"",t.sendVideoStats.googFrameRateSent=n.framesPerSecond+"")})),t.config.isSubscriber?(n.push(t.receiveVideoStats),n.push(t.receiveAudioStats)):(n.push(t.sendAudioStats),n.push(t.sendVideoStats)),n.push({id:"time",startTime:t.connectedTime,timestamp:Date.now()}),e&&e(n)}))},e.prototype.getStatsRate=function(e){this.getStats(e)},e.prototype.initPeecConnection=function(e){var t=e.stunServerUrl,n=e.turnServer,r=e.iceServers;return this.pcConfig={iceServers:[]},r instanceof Array?this.pcConfig.iceServers=e.iceServers:t&&(t instanceof Array?t.map((function(e){"string"==typeof e&&""!==e&&this.pcConfig.iceServers.push({urls:e})})):"string"==typeof t&&""!==t&&this.pcConfig.iceServers.push({urls:t})),n&&(n instanceof Array?n.map((function(e){"string"==typeof e.url&&""!==e.url&&this.pcConfig.iceServers.push({username:e.username,credential:e.credential,url:e.url})})):"auto"!==n.mode&&"manual"!==n.mode||(n.udpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.udpport+"?transport=udp"}),"string"==typeof n.tcpport&&""!==n.tcpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.tcpport+"?transport=tcp"}),!0===n.forceturn&&(this.pcConfig.iceTransportPolicy="relay"))),new c.RTCPeerConnection(this.pcConfig)},e.prototype._ontrack=function(e){this.onaddstream&&this.onaddstream(e,"ontrack")},e.prototype._onaddstream=function(e){this.onaddstream&&this.onaddstream(e,"onaddstream")},e.prototype._oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(this.state=a.ESTABLISHED,this.connectedTime=Date.now()),this.oniceconnectionstatechange&&this.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},e.prototype._onicecandidate=function(e){!this.candidate&&e&&(this.candidate=e.candidate,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.editLocalSDP.bind(this)).then(this.setLocalSDP.bind(this)).then(this.sendOffer.bind(this)).catch())},e.prototype.setLocalSDP=function(e){return this.peerConnection.setLocalDescription(new RTCSessionDescription({sdp:e.sdp,type:"offer"})),this.state=a.PREPARING_OFFER,e},e.prototype.editLocalSDP=function(e){return e.sdp=this.setBandWidth(e.sdp),e.sdp=this.reviseOpus(e.sdp),e.sdp=this.addCandidate(e.sdp),e},e.prototype.setSendRecv=function(e){return e=(e=(e=e.replace(/a=recvonly\r\n/g,"a=sendrecv\r\n")).replace(/a=sendonly\r\n/g,"a=sendrecv\r\n")).replace(/a=inactive\r\n/g,"a=sendrecv\r\n")},e.prototype.setBandWidth=function(e){var t,n,r=this.config,i=r.codec,o=r.minVideoBW,a=r.maxVideoBW,c=r.maxAudioBW,d=r.clientId;if((t=e.match(/m=video.*\r\n/))&&o&&a){n=t[0]+"b=AS:"+a+"\r\n";var u=0,l=0;"h264"===i?(u=e.search(/a=rtpmap:(\d+) H264\/90000\r\n/),l=e.search(/H264\/90000\r\n/)):"vp8"===i?(u=e.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),l=e.search(/VP8\/90000\r\n/)):"vp9"===i&&(u=e.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),l=e.search(/VP9\/90000\r\n/)),-1!==u&&-1!==l&&l-u>10&&(n=n+"a=fmtp:"+e.slice(u+9,l-1)+" x-google-min-bitrate="+o+"\r\n"),e=e.replace(t[0],n),s.default.debug("["+d+"]Set Video Bitrate - min:"+o+" max:"+a)}return(t=e.match(/m=audio.*\r\n/))&&c&&(n=t[0]+"b=AS:"+c+"\r\n",e=e.replace(t[0],n)),e},e.prototype.reviseOpus=function(e){return e=(e=e.replace(/a=rtpmap:102 opus\/48000\/2/g,"a=rtpmap:111 opus/48000/2")).replace(/m=audio 9 UDP\/TLS\/RTP\/SAVPF 102 0 8 97 13 118 101/g,"m=audio 9 UDP/TLS/RTP/SAVPF 111 0 8 97 13 118 101")},e.prototype.addCandidate=function(e){return e+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"},e.prototype.sendOffer=function(e){this.config.callback(JSON.stringify({sdp:e.sdp,messageType:"OFFER",tiebreaker:Math.floor(429496723*Math.random()+1)})),this.state=a.OFFER_SENT},e}();t.default=d},function(e,t,n){var r=n(65),i=n(66),o=n(34),a=n(67);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){var r,i,o;i=this,o=function(){"use strict";var e,t=this;function n(e){t.console&&(t.console.error?t.console.error(e):t.console.log&&t.console.log(e))}function r(e,t,r,i){var o=i||n,a=e.createShader(r);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(o("*** Error compiling shader '"+a+"':"+e.getShaderInfoLog(a)),e.deleteShader(a),null)}function i(e,t,r,i,o){var a=o||n,s=e.createProgram();return t.forEach((function(t){e.attachShader(s,t)})),r&&r.forEach((function(t,n){e.bindAttribLocation(s,i?i[n]:n,t)})),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)?s:(a("Error in program linking:"+e.getProgramInfoLog(s)),e.deleteProgram(s),null)}(e=e||t)===e.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html"));var o,a=["VERTEX_SHADER","FRAGMENT_SHADER"];return!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(o=HTMLCanvasElement.prototype.getContext,function(){var e=arguments,t=e[0];return"webgl"===t&&((e=[].slice.call(arguments))[0]="experimental-webgl"),o.apply(this,e)})),{createProgram:i,createProgramFromSources:function(e,t,n,o,s){for(var c=[],d=0;d<t.length;++d)c.push(r(e,t[d],e[a[d]],s));return i(e,c,n,o,s)}}},void 0===(r=function(){return o.call(i)}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(68),s=n(5),c=o(n(0));t.getSupportedCodec=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,o,u;return i(this,(function(i){switch(i.label){case 0:return t={video:[],audio:[]},"undefined"!=typeof window?[3,1]:("NOT_BROWSER_ENV",c.default.error("getSupportedCodec: NOT_BROWSER_ENV"),[2,Promise.reject("NOT_BROWSER_ENV")]);case 1:try{n=a.createRTCPeerConnection({iceServers:[]})}catch(e){return c.default.error("Failed to init RTCPeerConnection",e),[2,Promise.reject(e)]}return n?[3,2]:(c.default.warning("getSupportedCodec: no RTCPeerConnection constructor is detected"),[2,Promise.resolve(t)]);case 2:return e&&e.stream?[3,7]:(r={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},o=void 0,(s.isSafari()||s.isFireFox()||s.isWeChatBrowser())&&n.addTransceiver?(n.addTransceiver("audio"),n.addTransceiver("video"),[4,n.createOffer()]):[3,4]);case 3:return o=i.sent(),[3,6];case 4:return[4,new Promise((function(e,t){var i=setTimeout((function(){t("CREATEOFFER_TIMEOUT")}),3e3);n.createOffer((function(t){clearTimeout(i),e(t)}),(function(e){clearTimeout(i),t(e)}),r)}))];case 5:o=i.sent(),i.label=6;case 6:return n.close(),u=o.sdp,[2,d(u)];case 7:return e.stream.getTracks&&n.addTrack?e.stream.getTracks().forEach((function(t){n.addTrack(t,e.stream)})):n.addStream(e.stream),o=void 0,s.isSafari()||s.isFireFox()?[4,n.createOffer()]:[3,9];case 8:return o=i.sent(),[3,11];case 9:return[4,new Promise((function(e,t){n.createOffer(e,t)}))];case 10:o=i.sent(),i.label=11;case 11:return n.close(),u=o.sdp,[2,d(u)]}}))}))};var d=function(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),Promise.resolve(t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);function a(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}t.encryptRSA=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,s;return i(this,(function(i){switch(i.label){case 0:return t=o.base64ToUint8Array("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),[4,window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])];case 1:return n=i.sent(),c=e,r=(new TextEncoder).encode(c),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r)];case 2:return s=i.sent(),[2,a(new Uint8Array(s))]}var c}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(75),c=n(24),d=n(1),u=n(27);t.addLiveStreamingCapability=function(e,t){var n=this,o=function(t){var n=t.type;if(!e.joinInfo)return new c.AgoraRTCError(c.AgoraRTCErrorCode.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();switch(n){case u.LiveStreamingServiceMode.INJECT:return e._injectStreamingClient||(e._injectStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._injectStreamingClient.onInjectStatusChange=function(t,n,r){e.gatewayClient.dispatchEvent({type:"streamInjectedStatus",url:r,status:t})}),e._injectStreamingClient;case u.LiveStreamingServiceMode.RAW:return e._liveRawStreamingClient||(e._liveRawStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveRawStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveRawStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask()})),e._liveRawStreamingClient.onLiveStreamError=function(t,n){a.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveRawStreamingClient.onLiveStreamWarning=function(t,n){a.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n.code})}),e._liveRawStreamingClient;case u.LiveStreamingServiceMode.TRANSCODE:return e._liveTranscodeStreamingClient||(e._liveTranscodeStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveTranscodeStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveTranscodeStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask()})),e._liveTranscodeStreamingClient.onLiveStreamError=function(t,n){a.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveTranscodeStreamingClient.onLiveStreamWarning=function(t,n){a.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n})}),e._liveTranscodeStreamingClient}};e.gatewayClient.addEventListener("join",(function(t){e._injectStreamingClient&&e._injectStreamingClient.resetAllTask()})),e.gatewayClient.addEventListener("stream-unpublished",(function(t){t.options&&0===t.options.streamType&&(e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask(),e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask())})),e.gatewayClient.addEventListener("stream-published",(function(e){})),e.startLiveStreaming=function(n,r){a.default.debug("startLiveStreaming");var i=d.report.reportApiInvoke(t.sessionId,{name:"Client.startLiveStreaming",options:arguments,tag:"tracer"});if(e.gatewayClient&&"audience"===e.gatewayClient.role){var o={code:403,reason:"AUDIENCE_STREAMING_FORBIDDEN"};throw i(o),o}var s=e._startLiveStreaming(n,r);return s.then((function(e){i(null,e)})).catch((function(t){a.default.error("LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),i(t)})),s},e._startLiveStreaming=function(s,d){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return d||("vp8"===t.codec&&a.default.warning("VP8 is not supported by raw_streaming. Subscriber side will suffer"),"vp9"===t.codec&&a.default.warning("VP9 is not supported by raw_streaming. Subscriber side will suffer"),"rtc"===t.mode&&a.default.warning("RTC mode is not supported by raw_streaming. Subscriber side will suffer")),(e._liveRawStreamingClient&&e._liveRawStreamingClient.haveUrl(s)||e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.haveUrl(s))&&new c.AgoraRTCError(c.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw(),n=d?u.LiveStreamingServiceMode.TRANSCODE:u.LiveStreamingServiceMode.RAW,[4,o({type:n}).startLiveStreamingTask(s,n)];case 1:return r.sent(),e.gatewayClient.dispatchEvent({type:"liveStreamingStarted",url:s}),[2]}}))}))},e.setLiveTranscoding=function(n){a.default.debug("setLiveTranscoding: "+JSON.stringify(n));var r=d.report.reportApiInvoke(t.sessionId,{name:"Client.setLiveTranscoding",options:arguments,tag:"tracer"}),i=o({type:u.LiveStreamingServiceMode.TRANSCODE});return i.setTranscodingConfig(n).then((function(){e.gatewayClient.dispatchEvent({type:"liveTranscodingUpdated"}),r(null)})).catch((function(t){a.default.error("SET_LIVE_TRANSCODING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",reason:t.code}),r(t)}))},e.stopLiveStreaming=function(n){var r=d.report.reportApiInvoke(t.sessionId,{name:"Client.stopLiveStreaming",options:arguments,tag:"tracer"}),i=e._stopLiveStreaming(n);return i.then((function(e){r(null,e)})).catch((function(t){a.default.error("STOP_LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),r(t)})),i},e._stopLiveStreaming=function(t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return a.default.debug("stopLiveStreaming: "+JSON.stringify(t)),n=[e._liveRawStreamingClient,e._liveTranscodeStreamingClient],[4,Promise.all(n.map((function(e){return e&&e.haveUrl(t)&&e.stopLiveStreamingTask(t)})))];case 1:return r.sent(),a.default.debug("stopLiveStreaming sucess: "+JSON.stringify(t)),e.gatewayClient.dispatchEvent({type:"liveStreamingStopped",url:t}),[2]}}))}))},e.addInjectStreamUrl=function(n,r){var i=d.report.reportApiInvoke(t.sessionId,{name:"Client.addInjectStreamUrl",options:[n,r],tag:"tracer"});if("audience"===e.gatewayClient.role){var o={code:403,reason:"AUDIENCE_INJECTING_FORBIDDEN"};throw i(o),o}var s=e._addInjectStreamUrl(n,r);return s.then((function(e){i(null,e)})).catch((function(e){a.default.error("ADD_INJECT_STREAM_ERROR",e.toString()),i(e)})),s},e._addInjectStreamUrl=function(e,t){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=o({type:u.LiveStreamingServiceMode.INJECT})).setInjectStreamConfig(t,0),[4,n.startLiveStreamingTask(e,u.LiveStreamingServiceMode.INJECT)];case 1:return r.sent(),[2]}}))}))},e.removeInjectStreamUrl=function(n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){return r=d.report.reportApiInvoke(t.sessionId,{name:"Client.removeInjectStreamUrl",options:[n],tag:"tracer"}),(o=e._removeInjectStreamUrl(n)).then((function(e){r(null,e)})).catch((function(e){a.default.error("REMOVE_INJECT_STREAM_ERROR",e.toString()),r(e)})),[2,o]}))}))},e._removeInjectStreamUrl=function(e){return r(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o({type:u.LiveStreamingServiceMode.INJECT}).stopLiveStreamingTask(e)];case 1:return t.sent(),[2]}}))}))},e._terminateLiveStreaming=function(){return r(n,void 0,void 0,(function(){return i(this,(function(t){return[e._injectStreamingClient,e._liveRawStreamingClient,e._liveTranscodeStreamingClient].forEach((function(e){e&&e.terminate()})),[2]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(0)),a=n(10);t.default=function(e,t){void 0===t&&(t={width:160,height:120,framerate:15});var n=t.width,r=t.height,s=t.framerate,c=e.stream;if(!c)throw i.default.INVALID_LOCAL_STREAM;if(!c.getVideoTracks()[0])throw i.default.HIGH_STREAM_NOT_VIDEO_TRACE;var d=c.getVideoTracks()[0];o.default.debug("Start getLowStream");var u=document.createElement("video"),l=document.createElement("canvas");u.setAttribute("style","display:none"),u.setAttribute("muted",""),u.muted=!0,u.setAttribute("autoplay",""),u.autoplay=!0,u.setAttribute("playsinline",""),l.setAttribute("style","display:none"),l.setAttribute("width",n.toString()),l.setAttribute("height",r.toString());var f=l.getContext("2d");if(!f)throw new Error("not get canvas context");u.srcObject=c,document.body.append(u),document.body.append(l),u.play(),o.default.debug("Start render lowStream");var p=a.audioTimerLoop((function(){return function(){if(u.paused&&u.play(),u.videoHeight>2&&u.videoWidth>2){var t=u.videoWidth,n=u.videoHeight/t,r=l.width*n;Math.abs(r-l.height)>=2&&(o.default.debug("adjust low stream resolution",l.width+"x"+l.height+" -> "+l.width+"x"+r),l.height=r)}f.drawImage(u,0,0,l.width,l.height);var i=e.stream;if(i){var a=i.getVideoTracks()[0];d!==a&&(o.default.debug("adjust low stream track"),u.srcObject=i,d=a)}}()}),s),g=l.captureStream(s),m=g.getVideoTracks()[0];return m.requestFrame&&m.requestFrame(),g.clean=function(){o.default.debug("Start clean lowStream"),p(),(u||u.parentNode||u.parentNode.removeChild)&&u.parentNode.removeChild(u),(l||l.parentNode||l.parentNode.removeChild)&&l.parentNode.removeChild(l),o.default.debug("Clean lowStream")},g}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * protobuf.js v6.10.0 (c) 2016, daniel wirtz
 * compiled wed, 15 jul 2020 23:34:13 utc
 * licensed under the bsd-3-clause license
 * see: https://github.com/dcodeio/protobuf.js for details
 */!function(undefined){"use strict";!function(e,t,n){var r=function n(r){var i=t[r];return i||e[r][0].call(i=t[r]={exports:{}},n,i,i.exports),i.exports}(n[0]);r.util.global.protobuf=r,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(61)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(r.util.Long=e,r.configure()),r}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=r)}({1:[function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},{}],2:[function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,c=0;t<n;){var d=e[t++];switch(c){case 0:a[s++]=i[d>>2],r=(3&d)<<4,c=1;break;case 1:a[s++]=i[r|d>>4],r=(15&d)<<2,c=2;break;case 2:a[s++]=i[r|d>>6],a[s++]=i[63&d],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,n){for(var r,i=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if((c=o[c])===undefined)throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),d=0;d<a.length;)s[d]=a[d],c[d]=e[a[d++]];return s[d]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),l=0;l<u.length;)u[l]=arguments[++l];if(l=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[l++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),l!==u.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1},{}],4:[function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=o;var r=e(1),i=e(7)("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},{1:1,7:7}],6:[function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,d=4294967296*(1048575&a)+o;return 2047===c?d?NaN:s*(1/0):0===c?5e-324*s*d:s*Math.pow(2,c-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},{}],10:[function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},{}],11:[function(e,t,n){var r=n,i=e(14),o=e(33);function a(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,a=Object.keys(o),s=0;s<a.length;++s)t.repeated&&o[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",o[a[s]])("m%s=%j",r,o[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,o?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),c=o.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,s,r,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,s,r,c+"[i]")("}")("}")):(s.resolvedType instanceof i||n("if(d%s!=null){",c),a(n,s,r,c),s.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var n=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],d=0;d<t.length;++d)t[d].partOf||(t[d].resolve().repeated?r:t[d].map?a:c).push(t[d]);if(r.length){for(n("if(o.arrays||o.defaults){"),d=0;d<r.length;++d)n("d%s=[]",o.safeProp(r[d].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),d=0;d<a.length;++d)n("d%s={}",o.safeProp(a[d].name));n("}")}if(c.length){for(n("if(o.defaults){"),d=0;d<c.length;++d){var u=c[d],l=o.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,u.typeDefault)}n("}")}var p=!1;for(d=0;d<t.length;++d){u=t[d];var g=e._fieldsArray.indexOf(u);l=o.safeProp(u.name);u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),s(n,u,g,l+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),s(n,u,g,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),s(n,u,g,l),u.partOf&&n("if(o.oneofs)")("d%s=%j",o.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},{14:14,33:33}],12:[function(e,t,n){t.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof r?"int32":s.type,d="m"+o.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",d)("%s={}",d)("var c2 = r.uint32()+r.pos"),i.defaults[s.keyType]!==undefined?t("k=%j",i.defaults[s.keyType]):t("k=null"),i.defaults[c]!==undefined?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),i.basic[c]===undefined?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),i.long[s.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',d):t("%s[k]=value",d)):s.repeated?(t("if(!(%s&&%s.length))",d,d)("%s=[]",d),i.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",d,c)("}else"),i.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",d,n):t("%s.push(r.%s())",d,c)):i.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",d,n):t("%s=r.%s()",d,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var r=e(14),i=e(32),o=e(33);function a(e){return"missing required '"+e.name+"'"}},{14:14,32:32,33:33}],13:[function(e,t,n){t.exports=function(e){for(var t,n=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<s.length;++c){var d=s[c].resolve(),u=e._fieldsArray.indexOf(d),l=d.resolvedType instanceof r?"int32":d.type,f=i.basic[l];t="m"+o.safeProp(d.name),d.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,d.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(d.id<<3|2)>>>0,8|i.mapKey[d.keyType],d.keyType),f===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,l,t),n("}")("}")):d.repeated?(n("if(%s!=null&&%s.length){",t,t),d.packed&&i.packed[l]!==undefined?n("w.uint32(%i).fork()",(d.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",l,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),f===undefined?a(n,d,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(d.id<<3|f)>>>0,l,t)),n("}")):(d.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,d.name),f===undefined?a(n,d,u,t):n("w.uint32(%i).%s(%s)",(d.id<<3|f)>>>0,l,t))}return n("return w")};var r=e(14),i=e(32),o=e(33);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},{14:14,32:32,33:33}],14:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var i=e(21),o=e(33);function a(e,t,n,i,o){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=undefined,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},a.prototype.add=function(e,t,n){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{21:21,22:22,33:33}],15:[function(e,t,n){t.exports=d;var r=e(22);((d.prototype=Object.create(r.prototype)).constructor=d).className="Field";var i,o=e(14),a=e(32),s=e(33),c=/^required|optional|repeated$/;function d(e,t,n,i,o,d,u){if(s.isObject(i)?(u=o,d=i,i=o=undefined):s.isObject(o)&&(u=d,d=o,o=undefined),r.call(this,e,d),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(o!==undefined&&!s.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:undefined,this.type=n,this.id=t,this.extend=o||undefined,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&a.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}d.fromJSON=function(e,t){return new d(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(d.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),d.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},d.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},d.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=a.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},d.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new d(o,e,t,n,{default:r}))}},d._configure=function(e){i=e}},{14:14,22:22,32:32,33:33}],16:[function(e,t,n){var r=t.exports=e(17);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=e(13),r.decoder=e(12),r.verifier=e(36),r.converter=e(11),r.ReflectionObject=e(22),r.Namespace=e(21),r.Root=e(26),r.Enum=e(14),r.Type=e(31),r.Field=e(15),r.OneOf=e(23),r.MapField=e(18),r.Service=e(30),r.Method=e(20),r.Message=e(19),r.wrappers=e(37),r.types=e(32),r.util=e(33),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},{11:11,12:12,13:13,14:14,15:15,17:17,18:18,19:19,20:20,21:21,22:22,23:23,26:26,30:30,31:31,32:32,33:33,36:36,37:37}],17:[function(e,t,n){var r=n;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(38),r.BufferWriter=e(39),r.Reader=e(24),r.BufferReader=e(25),r.util=e(35),r.rpc=e(28),r.roots=e(27),r.configure=i,i()},{24:24,25:25,27:27,28:28,35:35,38:38,39:39}],18:[function(e,t,n){t.exports=a;var r=e(15);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var i=e(32),o=e(33);function a(e,t,n,i,a,s){if(r.call(this,e,t,i,undefined,undefined,a,s),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},a.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=o.decorateType(n).name:n&&"object"==typeof n&&(n=o.decorateEnum(n).name),function(r,i){o.decorateType(r.constructor).add(new a(i,e,t,n))}}},{15:15,32:32,33:33}],19:[function(e,t,n){t.exports=i;var r=e(35);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},{35:35}],20:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var i=e(33);function o(e,t,n,o,a,s,c,d){if(i.isObject(a)?(c=a,a=s=undefined):i.isObject(s)&&(c=s,s=undefined),t!==undefined&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||undefined,this.responseType=o,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=d}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},{22:22,33:33}],21:[function(e,t,n){t.exports=u;var r=e(22);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,o,a,s=e(15),c=e(33);function d(e,t){if(!e||!e.length)return undefined;for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}function u(e,t){r.call(this,e,t),this.nested=undefined,this._nestedArray=null}function l(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=d,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",d(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((t.fields!==undefined?i.fromJSON:t.values!==undefined?a.fromJSON:t.methods!==undefined?o.fromJSON:t.id!==undefined?s.fromJSON:u.fromJSON)(n[r],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&e.extend!==undefined||e instanceof i||e instanceof a||e instanceof o||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),l(this)},u.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),l(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,o=t,a=n}},{15:15,22:22,33:33}],22:[function(e,t,n){t.exports=o,o.className="ReflectionObject";var r,i=e(33);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},o.prototype.getOption=function(e){return this.options?this.options[e]:undefined},o.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},o.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var o=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(o){var a=o[e];i.setProperty(a,n,t)}else(o={})[e]=i.setProperty({},n,t),r.push(o)}else{var s={};s[e]=t,r.push(s)}return this},o.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){r=e}},{33:33}],23:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var i=e(15),o=e(33);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=undefined),r.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){o.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},{15:15,22:22,33:33}],24:[function(e,t,n){t.exports=c;var r,i=e(35),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var d,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function f(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return d}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},{35:35}],25:[function(e,t,n){t.exports=o;var r=e(24);(o.prototype=Object.create(r.prototype)).constructor=o;var i=e(35);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},{24:24,35:35}],26:[function(e,t,n){t.exports=l;var r=e(21);((l.prototype=Object.create(r.prototype)).constructor=l).className="Root";var i,o,a,s=e(15),c=e(14),d=e(23),u=e(33);function l(e){r.call(this,"",e),this.deferred=[],this.files=[]}function f(){}l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=u.path.resolve,l.prototype.fetch=u.fetch,l.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=undefined);var i=this;if(!r)return u.asPromise(e,i,t,n);var s=r===f;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function d(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in a)return n}return null}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){o.filename=e;var r,a=o(t,i,n),l=0;if(a.imports)for(;l<a.imports.length;++l)(r=d(a.imports[l])||i.resolvePath(e,a.imports[l]))&&p(r);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(r=d(a.weakImports[l])||i.resolvePath(e,a.weakImports[l]))&&p(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||g||c(null,i)}function p(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?l(e,a[e]):(++g,setTimeout((function(){--g,l(e,a[e])})));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}l(e,n)}else++g,i.fetch(e,(function(n,o){--g,r&&(n?t?g||c(null,i):c(n):l(e,o))}))}var g=0;u.isString(t)&&(t=[t]);for(var m,h=0;h<t.length;++h)(m=i.resolvePath("",t[h]))&&p(m);return s?i:(g||c(null,i),undefined)},l.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,f)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function g(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,undefined,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}l.prototype._handleAdd=function(e){if(e instanceof s)e.extend===undefined||e.extensionField||g(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof d)){if(e instanceof i)for(var t=0;t<this.deferred.length;)g(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},l.prototype._handleRemove=function(e){if(e instanceof s){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},l._configure=function(e,t,n){i=e,o=t,a=n}},{14:14,15:15,21:21,23:23,33:33}],27:[function(e,t,n){t.exports={}},{}],28:[function(e,t,n){n.Service=e(29)},{29:29}],29:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(!s.rpcImpl)return setTimeout((function(){a(Error("already ended"))}),0),undefined;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null===n)return s.end(!0),undefined;if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}))}catch(e){return s.emit("error",e,t),setTimeout((function(){a(e)}),0),undefined}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{35:35}],30:[function(e,t,n){t.exports=s;var r=e(21);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=e(20),o=e(33),a=e(28);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),o=0;o<r.length;++o)n.add(i.fromJSON(r[o],t.methods[r[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||undefined,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=o.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},{20:20,21:21,28:28,33:33}],31:[function(e,t,n){t.exports=E;var r=e(21);((E.prototype=Object.create(r.prototype)).constructor=E).className="Type";var i=e(14),o=e(23),a=e(15),s=e(18),c=e(30),d=e(19),u=e(24),l=e(38),f=e(33),p=e(13),g=e(12),m=e(36),h=e(11),v=e(37);function E(e,t){r.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function S(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(E.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=E.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof d||((e.prototype=new d).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,d,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),E.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},E.fromJSON=function(e,t){var n=new E(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var d=Object.keys(t.fields),u=0;u<d.length;++u)n.add((void 0!==t.fields[d[u]].keyType?s.fromJSON:a.fromJSON)(d[u],t.fields[d[u]]));if(t.oneofs)for(d=Object.keys(t.oneofs),u=0;u<d.length;++u)n.add(o.fromJSON(d[u],t.oneofs[d[u]]));if(t.nested)for(d=Object.keys(t.nested),u=0;u<d.length;++u){var l=t.nested[d[u]];n.add((l.id!==undefined?a.fromJSON:l.fields!==undefined?E.fromJSON:l.values!==undefined?i.fromJSON:l.methods!==undefined?c.fromJSON:r.fromJSON)(d[u],l))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},E.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||undefined,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},E.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},E.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},E.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),S(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),S(this)):r.prototype.add.call(this,e)},E.prototype.remove=function(e){if(e instanceof a&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),S(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),S(this)}return r.prototype.remove.call(this,e)},E.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},E.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},E.prototype.create=function(e){return new this.ctor(e)},E.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:l,types:t,util:f}),this.decode=g(this)({Reader:u,types:t,util:f}),this.verify=m(this)({types:t,util:f}),this.fromObject=h.fromObject(this)({types:t,util:f}),this.toObject=h.toObject(this)({types:t,util:f});var r=v[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},E.prototype.encode=function(e,t){return this.setup().encode(e,t)},E.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},E.prototype.decode=function(e,t){return this.setup().decode(e,t)},E.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},E.prototype.verify=function(e){return this.setup().verify(e)},E.prototype.fromObject=function(e){return this.setup().fromObject(e)},E.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},E.d=function(e){return function(t){f.decorateType(t,e)}}},{11:11,12:12,13:13,14:14,15:15,18:18,19:19,21:21,23:23,24:24,30:30,33:33,36:36,37:37,38:38}],32:[function(e,t,n){var r=n,i=e(33),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[o[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},{33:33}],33:[function(e,t,n){var r,i,o=t.exports=e(35),a=e(27);o.codegen=e(3),o.fetch=e(5),o.path=e(8),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},o.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];i!==undefined&&(t[r]=i)}return t};var s=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var d=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(d,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(o.decorateRoot.remove(t.$type),t.$type.name=n,o.decorateRoot.add(t.$type)),t.$type;r||(r=e(31));var i=new r(n||t.name);return o.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;o.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=e(14));var n=new i("Enum"+u++,t);return o.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},o.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if(n.length>0)t[i]=e(t[i]||{},n,r);else{var o=t[i];o&&(r=[].concat(o).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(o,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e(26)))}})},{14:14,26:26,27:27,3:3,31:31,35:35,5:5,8:8}],34:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{35:35}],35:[function(e,t,n){var r=n;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)e[r[i]]!==undefined&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=e(1),r.base64=e(2),r.EventEmitter=e(4),r.float=e(6),r.inquire=e(7),r.utf8=e(10),r.pool=e(9),r.LongBits=e(34),r.isNode=Boolean(void 0!==global&&global&&global.process&&global.process.versions&&global.process.versions.node),r.global=r.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&this[e[n]]!==undefined&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,34:34,4:4,6:6,7:7,9:9}],36:[function(e,t,n){t.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,r={};n.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var d=e._fieldsArray[c].resolve(),u="m"+i.safeProp(d.name);if(d.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,d.name),d.map)t("if(!util.isObject(%s))",u)("return%j",o(d,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),s(t,d,"k[i]"),a(t,d,c,u+"[k[i]]")("}");else if(d.repeated)t("if(!Array.isArray(%s))",u)("return%j",o(d,"array"))("for(var i=0;i<%s.length;++i){",u),a(t,d,c,u+"[i]")("}");else{if(d.partOf){var l=i.safeProp(d.partOf.name);1===r[d.partOf.name]&&t("if(p%s===1)",l)("return%j",d.partOf.name+": multiple values"),r[d.partOf.name]=1,t("p%s=1",l)}a(t,d,c,u)}d.optional&&t("}")}return t("return null")};var r=e(14),i=e(33);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",o(t,"boolean key"))}return e}},{14:14,33:33}],37:[function(e,t,n){var r=n,i=e(19);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(r);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=r,a}return this.toObject(e,t)}}},{19:19}],38:[function(e,t,n){t.exports=l;var r,i=e(35),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function d(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(d,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function p(e,t,n){t[n]=255&e}function g(e,t){this.len=e,this.next=undefined,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function h(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=f(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},g.prototype=Object.create(c.prototype),g.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(p,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(h,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(h,4,t.lo)._push(h,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=l.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},l.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(d,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(d,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=f(),r._configure()}},{35:35}],39:[function(e,t,n){t.exports=o;var r=e(38);(o.prototype=Object.create(r.prototype)).constructor=o;var i=e(35);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},{35:35,38:38}]},{},[16])}()}).call(this,__webpack_require__(33),__webpack_require__(60)(module))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},a={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=d(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=d(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function c(e,t){if(isNaN(e))return t?E:v;if(t){if(e<0)return E;if(e>=g)return T}else{if(e<=-m)return I;if(e+1>=m)return R}return e<0?c(-e,t).neg():d(e%p|0,e/p|0,t)}function d(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=d;var u=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=c(u(n,8)),o=v,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+s),n);if(s<8){var f=c(u(n,s));o=o.mul(f).add(c(d))}else o=(o=o.mul(i)).add(c(d))}return o.unsigned=t,o}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?l(e,t):d(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=f;var p=4294967296,g=p*p,m=g/2,h=s(1<<24),v=s(0);r.ZERO=v;var E=s(0,!0);r.UZERO=E;var S=s(1);r.ONE=S;var _=s(1,!0);r.UONE=_;var y=s(-1);r.NEG_ONE=y;var R=d(-1,2147483647,!1);r.MAX_VALUE=R;var T=d(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var I=d(0,-2147483648,!1);r.MIN_VALUE=I;var b=r.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(u(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),d=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return d+a;for(;d.length<6;)d="0"+d;a=""+d+a}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return 1==(1&this.low)},b.isEven=function(){return 0==(1&this.low)},b.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(S)},b.neg=b.negate,b.add=function(e){i(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,l=0,p=0,g=0;return p+=(g+=o+(65535&e.low))>>>16,l+=(p+=r+c)>>>16,u+=(l+=n+s)>>>16,u+=t+a,d((p&=65535)<<16|(g&=65535),(u&=65535)<<16|(l&=65535),this.unsigned)},b.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=f(e)),n)return d(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(I))return e.isOdd()?I:v;if(e.eq(I))return this.isOdd()?I:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,u=65535&e.high,l=e.low>>>16,p=65535&e.low,g=0,m=0,E=0,S=0;return E+=(S+=a*p)>>>16,m+=(E+=o*p)>>>16,E&=65535,m+=(E+=a*l)>>>16,g+=(m+=r*p)>>>16,m&=65535,g+=(m+=o*l)>>>16,m&=65535,g+=(m+=a*u)>>>16,g+=t*p+r*l+o*u+a*s,d((E&=65535)<<16|(S&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?d((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?E:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return E;if(e.gt(this.shru(1)))return _;o=E}else{if(this.eq(I))return e.eq(S)||e.eq(y)?I:e.eq(I)?S:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?S:y:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(I))return this.unsigned?E:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:u(2,a-48),l=c(t),p=l.mul(e);p.isNegative()||p.gt(r);)p=(l=c(t-=s,this.unsigned)).mul(e);l.isZero()&&(l=S),o=o.add(l),r=r.sub(p)}return o},b.div=b.divide,b.modulo=function(e){return i(e)||(e=f(e)),n?d((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return d(~this.low,~this.high,this.unsigned)},b.and=function(e){return i(e)||(e=f(e)),d(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return i(e)||(e=f(e)),d(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return i(e)||(e=f(e)),d(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):d(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):d(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?d(this.low>>>e|t<<32-e,t>>>e,this.unsigned):d(32===e?t:t>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.toSigned=function(){return this.unsigned?d(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:d(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e){e.exports=JSON.parse('{"PeerPublishStatus":408,"JoinChannelTimeout":407,"OnUpdateStream":356,"OnRemoveStream":355,"OnAddVideoStream":353,"OnAddAudioStream":352,"FirstAudioDecode":351,"FirstVideoDecode":350,"FirstAudioReceived":349,"FirstVideoReceived":348,"ReqUserAccount":196,"ApiInvoke":41,"RequestProxyWorkerManager":36,"RequestProxyAppCenter":35,"VideoSendingStopped":34,"AudioSendingStopped":33,"StreamSwitch":32,"FirstFrame":31,"Publish":30,"Subscribe":29,"JoinGateway":28,"JoinChooseServer":27,"Session":26,"APWorkerEvent":160,"WorkerEvent":156,"JoinWebProxyAP":700,"WebSocketQuit":671}')},function(e){e.exports=JSON.parse('{"nested":{"protobuf":{"nested":{"Session":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"version":{"type":"string","id":11},"browser":{"type":"string","id":12},"appid":{"type":"string","id":13},"mode":{"type":"string","id":14},"extend":{"type":"string","id":15},"process":{"type":"string","id":16},"build":{"type":"string","id":17},"ipv6":{"type":"string","id":18},"sourceHost":{"type":"string","id":19},"sourcePath":{"type":"string","id":20},"collectorHost":{"type":"string","id":21},"collectorName":{"type":"string","id":22}}},"JoinChooseServer":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"chooseServerAddr":{"type":"string","id":11},"chooseServerAddrList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"chooseServerIp":{"type":"string","id":15}}},"JoinGateway":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"gatewayAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"firstSuccess":{"type":"bool","id":14}}},"Subscribe":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"video":{"type":"bool","id":16},"audio":{"type":"bool","id":17},"subscribeRequestid":{"type":"int32","id":18},"p2pid":{"type":"int32","id":19}}},"Publish":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"videoName":{"type":"string","id":16},"audioName":{"type":"string","id":17},"screenName":{"type":"string","id":18},"video":{"type":"bool","id":19},"audio":{"type":"bool","id":20},"publishRequestid":{"type":"int32","id":21},"p2pid":{"type":"int32","id":22},"screenshare":{"type":"bool","id":23}}},"FirstFrame":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"extend":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"width":{"type":"int64","id":13},"height":{"type":"int64","id":14}}},"StreamSwitch":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"isDual":{"type":"bool","id":11}}},"AudioSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"VideoSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"RequestProxyAppCenter":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"APAddr":{"type":"string","id":11},"workerManagerList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"extend":{"type":"string","id":15},"response":{"type":"string","id":16}}},"RequestProxyWorkerManager":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"workerManagerAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"extend":{"type":"string","id":14},"response":{"type":"string","id":15}}},"ApiInvoke":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"apiName":{"type":"string","id":9},"errorCode":{"type":"string","id":10},"options":{"type":"string","id":11},"execElapse":{"type":"int64","id":12},"execStates":{"type":"string","id":13},"execResult":{"type":"string","id":14},"invokeId":{"type":"int64","id":15}}},"ReqUserAccount":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"serverAddress":{"type":"string","id":10},"stringUid":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"extend":{"type":"string","id":13}}},"FirstVideoReceived":{"fields":{"lts":{"type":"int64","id":1},"peer":{"type":"int64","id":2},"elapse":{"type":"int64","id":3},"sid":{"type":"string","id":4},"cname":{"type":"string","id":5},"cid":{"type":"int64","id":6},"uid":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstAudioReceived":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstVideoDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"videowidth":{"type":"int32","id":9},"videoheight":{"type":"int32","id":10},"subscribeRequestid":{"type":"int32","id":11},"p2pid":{"type":"int32","id":12},"subscribeElapse":{"type":"int64","id":13}}},"FirstAudioDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"OnAddAudioStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnAddVideoStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnRemoveStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnUpdateStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"audio":{"type":"bool","id":8},"video":{"type":"bool","id":9}}},"JoinChannelTimeout":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"timeout":{"type":"int32","id":7}}},"PeerPublishStatus":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"peer":{"type":"int64","id":6},"elapse":{"type":"int64","id":7},"peerPublishDuration":{"type":"int64","id":8},"joinChannelSuccessElapse":{"type":"int64","id":9},"subscribeElapse":{"type":"int64","id":10},"audiotag":{"type":"int32","id":11},"videotag":{"type":"int32","id":12},"screensharetag":{"type":"int32","id":13},"firsttimetag":{"type":"int32","id":14}}},"WebSocketQuit":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"succ":{"type":"int32","id":7},"errorCode":{"type":"string","id":8},"ip":{"type":"string","id":9}}},"Message":{"fields":{"id":{"type":"int64","id":1},"msg":{"type":"bytes","id":2}}},"ProtoRaws":{"fields":{"sendTs":{"type":"int64","id":1},"payloads":{"rule":"repeated","type":"Message","id":2},"vid":{"type":"int32","id":3}}},"APWorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"ec":{"type":"int32","id":10},"sc":{"type":"int32","id":11},"serverIp":{"type":"string","id":12},"firstSuccess":{"type":"bool","id":13},"responseTime":{"type":"int32","id":14},"serviceName":{"type":"string","id":15},"responseDetail":{"type":"string","id":16}}},"WorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"command":{"type":"string","id":10},"actionType":{"type":"string","id":11},"url":{"type":"string","id":12},"payload":{"type":"string","id":13},"serverCode":{"type":"int32","id":14},"code":{"type":"int32","id":15},"traceId":{"type":"string","id":16},"workerType":{"type":"int32","id":17},"responseTime":{"type":"int32","id":18},"requestId":{"type":"int64","id":19},"packIndex":{"type":"int32","id":20},"requestByUser":{"type":"bool","id":21},"tid":{"type":"string","id":22}}},"JoinWebProxyAP":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"sucess":{"type":"int32","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"apServerAddr":{"type":"string","id":10},"turnServerAddrList":{"type":"string","id":11},"errorCode":{"type":"string","id":12}}}}}}}')},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function u(){}function l(){}function f(){}var p={};p[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==t&&n.call(m,i)&&(p=m);var h=f.prototype=u.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var d=c(e[i],e,o);if("throw"!==d.type){var u=d.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(d.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return l.prototype=h.constructor=f,f.constructor=l,f[a]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(h),h[a]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;y(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof window&&window.RTCPeerConnection,i="object"==typeof window&&window.webkitRTCPeerConnection,o="object"==typeof window&&window.mozRTCPeerConnection;t.createRTCPeerConnection=function(e){var t=r||i||o;return t?new t(e):null}},function(e,t,n){var r;
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function i(){}var o=i.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],t))&&i[r].splice(n,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=a,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){var r=n(35);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){(function(t){var r;e.exports=(r=r||function(e,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(74)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},d=c.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=d.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=d.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new u.init(t,e)}}),l=s.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},p=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},g=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,d=e.min(4*c,o);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(i,l);n=i.splice(0,c),r.sigBytes-=d}return new u.init(n,d)},clone:function(){var e=d.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(c.Hasher=m.extend({cfg:d.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)}).call(this,n(33))},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(76),c=n(27),d=n(95),u=n(20),l=n(24),f=n(31),p=a(n(0)),g=a(n(37)),m=function(){function e(e){this.retryTimeout=1e4,this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.taskMutex=new d.PromiseMutex("LS"),this.cancelToken=g.default.CancelToken.source(),this.injectConfig=r({},c.DEFAULT_INJECT_CONFIG),this.injectLoopTimes=0,this.lastTaskId=1,this.statusError=new Map,this.spec=e}return Object.defineProperty(e.prototype,"isNeedReset",{get:function(){for(var e=this,t=0,n=Array.from(this.streamingTasks.values());t<n.length;t++){var r=n[t];if(r.mode===c.LiveStreamingServiceMode.INJECT)return!0;if(r.mode===c.LiveStreamingServiceMode.TRANSCODE)if((this.transcodingConfig&&(this.transcodingConfig.userConfigs||this.transcodingConfig.transcodingUsers)||[]).find((function(t){return t.uid===e.spec.uid})))return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.setTranscodingConfig=function(e){return i(this,void 0,void 0,(function(){var t,n,i,a,s,d=this;return o(this,(function(o){switch(o.label){case 0:(t=r(r({},c.DEFAULT_TRANSCODING_CONFIG),e)).transcodingUsers||(t.transcodingUsers=t.userConfigs),66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(p.default.debug("["+this.spec.clientId+"] set transcoding config, fix video codec profile: "+t.videoCodecProfile+" -> 100"),t.videoCodecProfile=100),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((function(e){return r(r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_USER),e),{zOrder:e.zOrder?e.zOrder+1:1})}))),t.images&&(t.images=t.images.map((function(e){return r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK),e)})));try{c.isLiveStreamingTranscodingConfig(t)}catch(e){throw e}return t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((function(e){return r({},e)})),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers),n=(t.userConfigs||[]).map((function(e){return"number"==typeof e.uid?Promise.resolve(e.uid):u.getUserAccount(d.spec,null,e.uid)})),[4,this.taskMutex.lock()];case 1:return i=o.sent(),[4,Promise.all(n)];case 2:if(o.sent().forEach((function(e,n){t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e&&e.uid||e)})),this.transcodingConfig=t,!this.connection)return i(),[2];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(this.streamingTasks.values()).map((function(e){return e.taskId})).join("#")})];case 4:return a=o.sent(),i(),p.default.debug("["+this.spec.clientId+"] update live transcoding config success, code: "+a.code+", config:",JSON.stringify(this.transcodingConfig)),[3,6];case 5:if(s=o.sent(),i(),!s.data||!s.data.retry)throw s;return s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((function(e){p.default.warning("["+d.spec.clientId+"] live streaming receive error",s.toString(),"try to republish",e.url),d.startLiveStreamingTask(e.url,e.mode,s).then((function(){p.default.debug("["+d.spec.clientId+"] live streaming republish "+e.url+" success")})).catch((function(t){p.default.error("["+d.spec.clientId+"] live streaming republish failed",e.url,t.toString()),d.onLiveStreamError&&d.onLiveStreamError(e.url,t)}))})),[3,6];case 6:return[2]}}))}))},e.prototype.setInjectStreamConfig=function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t},e.prototype.startLiveStreamingTask=function(e,t,n){return i(this,void 0,void 0,(function(){var i,a,s,d,u,g,m,h,v=this;return o(this,(function(o){switch(o.label){case 0:return Array.from(this.streamingTasks.values()).find((function(e){return e.mode===c.LiveStreamingServiceMode.INJECT}))&&t===c.LiveStreamingServiceMode.INJECT?[2,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw()]:(i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:30},p.default.debug("["+this.spec.clientId+"] start live streaming "+e+", mode: "+t),[4,this.taskMutex.lock()]);case 1:if(a=o.sent(),!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");if(!this.connection&&n)return a(),[2];if(this.streamingTasks.get(e)&&!n)return a(),[2,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw()];if(!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");o.label=2;case 2:return o.trys.push([2,5,,6]),this.connection?[3,4]:(s=this,[4,this.connect(t)]);case 3:s.connection=o.sent(),o.label=4;case 4:return[3,6];case 5:throw d=o.sent(),a(),d;case 6:switch(t){case c.LiveStreamingServiceMode.TRANSCODE:i.transcodingConfig=r({},this.transcodingConfig);break;case c.LiveStreamingServiceMode.RAW:break;case c.LiveStreamingServiceMode.INJECT:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,u=this.lastTaskId++,o.label=7;case 7:return o.trys.push([7,9,,14]),g=new Promise((function(t,r){f.wait(v.retryTimeout).then((function(){if(n)return r(n);var t=v.statusError.get(e);return t?(v.statusError.delete(e),r(t)):void 0}))})),[4,Promise.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!n,tid:u.toString()}),g])];case 8:return m=o.sent(),this.isStartingStreamingTask=!1,p.default.debug("["+this.spec.clientId+"] live streaming started, code: "+m.code),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:u}),a(),[3,14];case 9:if(h=o.sent(),a(),this.isStartingStreamingTask=!1,!h.data||!h.data.retry||n)throw h;return h.data.changeAddress?[3,11]:[4,this.startLiveStreamingTask(e,t,h)];case 10:return[2,o.sent()];case 11:return this.connection.tryNextAddress(),[4,this.startLiveStreamingTask(e,t,h)];case 12:return[2,o.sent()];case 13:return[3,14];case 14:return[2]}}))}))},e.prototype.stopLiveStreamingTask=function(e){var t=this;return new Promise((function(n,r){var i=t.streamingTasks.get(e);if(!i||!t.connection)return new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var o=i.mode;i.abortTask=function(){p.default.debug("["+t.spec.clientId+"] stop live streaming success(worker exception)"),t.streamingTasks.delete(e),n()},p.default.debug("stop live streaming task request: "+JSON.stringify(e)),t.connection.request("request",{clientRequest:{command:o===c.LiveStreamingServiceMode.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:o===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(r){p.default.debug("["+t.spec.clientId+"] stop live streaming success, code: "+r.code),t.streamingTasks.delete(e),0===t.streamingTasks.size&&o!==c.LiveStreamingServiceMode.INJECT&&(t.connection.close(),t.connection=void 0),n()})).catch(r)}))},e.prototype.controlInjectStream=function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:if(!(i=this.streamingTasks.get(e))||!this.connection||i.mode!==c.LiveStreamingServiceMode.INJECT)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"can not find inject stream task to control");return[4,this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})];case 1:return[2,o.sent().serverResponse]}}))}))},e.prototype.resetAllTask=function(){var e=this,t=Array.from(this.streamingTasks.values());this.terminate();for(var n=function(t){r.startLiveStreamingTask(t.url,t.mode).catch((function(n){e.onLiveStreamError&&e.onLiveStreamError(t.url,n)}))},r=this,i=0,o=t;i<o.length;i++){n(o[i])}},e.prototype.setGatewayConnectionState=function(e){this.connection&&(this.connection.gatewayConnectionState=e)},e.prototype.terminate=function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=g.default.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0},e.prototype.connect=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){switch(r.label){case 0:if(this.connection)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"live streaming connection has already connected");return[4,f.getLiveStreamingWorkerMangerResult(e,this.spec,this.cancelToken.token)];case 1:return t=r.sent(),this.uapResponse=t,this.connection=new s.AgoraLiveStreamingUapSignal(t.workerToken,this.spec,e),this.connection.on(c.LiveStreamingUapSignalEvents.WARNING,(function(e,t){return n.onLiveStreamWarning&&n.onLiveStreamWarning(t,e)})),this.connection.on(c.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,(function(e){return n.handlePublishStreamServer(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,(function(e){return n.handleInjectStreamServerStatus(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS,(function(t,r){if(!n.connection)return r(new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not get new live streaming address list"));f.getLiveStreamingWorkerMangerResult(e,n.spec,n.cancelToken.token).then((function(e){n.uapResponse=e,t(e.addressList)})).catch(r)})),[4,this.connection.init(t.addressList)];case 2:return r.sent(),[2,this.connection]}}))}))},e.prototype.handlePublishStreamServer=function(e){var t=this,n=e.serverStatus&&e.serverStatus.url;if(!n)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"empty url",{code:e.code});var r=this.streamingTasks.get(n);switch(e.code){case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var i=new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(r)return p.default.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,i);if(!this.isStartingStreamingTask)return;this.statusError.set(n,i);case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(!this.connection||0===this.streamingTasks.size)return;this.connection.tryNextAddress();for(var o=Array.from(this.streamingTasks.values()),a=function(n){if(n.abortTask)return n.abortTask(),"continue";p.default.warning("["+s.spec.clientId+"] publish stream status code",e.code,"try to republish",n.url),s.startLiveStreamingTask(n.url,n.mode,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){p.default.debug("["+t.spec.clientId+"] republish live stream success",n.url)})).catch((function(e){p.default.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)}))},s=this,d=0,u=o;d<u.length;d++){a(u[d])}return}},e.prototype.handleInjectStreamServerStatus=function(e){var t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(0,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(1,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(2,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(10,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(3,t,n),void this.streamingTasks.delete(n);default:return void p.default.debug("inject stream server status",e)}},e.prototype.haveUrl=function(e){return this.streamingTasks.has(e)||void 0},e}();t.AgoraRTCLiveStreamingClient=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(27),u=n(77),l=n(36),f=n(24),p=n(2),g=c(n(0)),m=n(1),h=n(31),v=function(e){function t(t,n,r){var i=e.call(this)||this;return i._gatewayConnectionState="CONNECTED",i.reconnectMode="retry",i.reqId=0,i.commandReqId=0,i.waitingResponseList=[],i.handleWebSocketOpen=function(){i.reconnectMode="retry",i.startPingPong()},i.handleWebSocketMessage=function(e){if(e.data){var t=JSON.parse(e.data);if(t.requestId)i.emit("@"+t.requestId,t);else if(i.serviceMode===d.LiveStreamingServiceMode.INJECT)i.emit(d.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,t);else{m.report.requestWorkerEvent(i.spec.sid,{actionType:"status",serverCode:t.code,workerType:i.serviceMode===d.LiveStreamingServiceMode.TRANSCODE?1:2});var n=t.serverStatus&&t.serverStatus.url;n&&i.waitingResponseList.includes(n)&&200===t.code&&i.emit(n),i.emit(d.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,t)}}},i.spec=n,i.token=t,i.serviceMode=r,i.websocket=new u.AgoraWebSocketManager("live-streaming"),i.websocket.on(d.WebSocketManagerEvents.CONNECTED,i.handleWebSocketOpen),i.websocket.on(d.WebSocketManagerEvents.ON_MESSAGE,i.handleWebSocketMessage),i.websocket.on(d.WebSocketManagerEvents.REQUEST_NEW_URLS,(function(e,t){l.emitAsPromise(i,d.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS).then(e).catch(t)})),i.websocket.on(d.WebSocketManagerEvents.RECONNECTING,(function(){i.websocket.reconnectMode=i.reconnectMode})),i}return i(t,e),Object.defineProperty(t.prototype,"gatewayConnectionState",{get:function(){return this._gatewayConnectionState},set:function(e){this._gatewayConnectionState=e,"CONNECTED"===e&&this.emit("gateway-connected",e)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){return this.websocket.init(e)},t.prototype.request=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,a,c,u,l,g,v,E,S,_,y=this;return s(this,(function(s){switch(s.label){case 0:if(this.reqId+=1,i=this.reqId,"request"===e&&(this.commandReqId+=1),a=this.commandReqId,!i||!this.websocket)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_ERROR);if(c=p.VERSION,"closed"===this.websocket.state)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_DISCONNECT);return u=function(){return new Promise((function(e,t){var n=function(){"CONNECTED"===y.gatewayConnectionState&&"connected"===y.websocket.state&&(y.off("gateway-connected",n),y.websocket.off(d.WebSocketManagerEvents.CONNECTED,n),e(void 0))};y.on("gateway-connected",n),y.websocket.once(d.WebSocketManagerEvents.CLOSED,(function(){return t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))})),y.websocket.on(d.WebSocketManagerEvents.CONNECTED,n)}))},"connected"===this.websocket.state&&"CONNECTED"===this.gatewayConnectionState?[3,2]:[4,u()];case 1:s.sent(),s.label=2;case 2:l=Promise.race([new Promise((function(e,t){var n=function(){t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))};y.websocket.once(d.WebSocketManagerEvents.RECONNECTING,n),y.websocket.once(d.WebSocketManagerEvents.CLOSED,n),y.once("@"+i,(function(t){e(t)}))})),h.wait(p.getParameter("LIVE_STREAMING_TIMEOUT")).then((function(){return!1}))]),(g=o({command:e,sdkVersion:c,seq:i,requestId:i,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t)).clientRequest&&(g.clientRequest.workerToken=this.token),r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0})),v=Date.now(),this.websocket.sendMessage(g),E=null,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,l];case 4:return E=s.sent(),[3,8];case 5:if(S=s.sent(),"closed"===this.websocket.state)throw S;return[4,u()];case 6:return s.sent(),[4,this.request(e,t,n,r)];case 7:return[2,s.sent()];case 8:if(!1===E)throw _=new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_TIMEOUT,(t&&t.clientRequest&&t.clientRequest.command)+" timeout",{changeAddress:!0,retry:!0}),this.emit(d.LiveStreamingUapSignalEvents.WARNING,_,r&&r.url||"unknown url"),r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"response",payload:"TIMEOUT",serverCode:0,success:0,responseTime:Date.now()-v})),_;return r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"response",payload:JSON.stringify(E.serverResponse),serverCode:E.code,success:200===E.code,responseTime:Date.now()-v})),200===E.code?[3,10]:[4,this.handleResponseError(E)];case 9:s.sent(),s.label=10;case 10:return[2,E]}}))}))},t.prototype.tryNextAddress=function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")},t.prototype.close=function(){var e="__VERSION__"===p.VERSION?"0.0.1":p.VERSION;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)},t.prototype.handleResponseError=function(e){return a(this,void 0,void 0,(function(){var t,n,r,i,o=this;return s(this,(function(a){switch(g.default.debug("[live-streaming] receive response error "+e.code),e.code){case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return g.default.warning("live stream response already exists stream"),t=e.serverResponse.url,this.emit(d.LiveStreamingUapSignalEvents.WARNING,"live stream response already exists stream, code 454",t),this.waitingResponseList.includes(t)||this.waitingResponseList.push(t),[2,new Promise((function(n,r){o.once(t,(function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(t),1),n()})),setTimeout((function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(t),1),r(new f.AgoraRTCError(f.AgoraRTCErrorCode.TIMEOUT,"live stream timeout waiting 454",{code:e.code}))}),1e4)}))];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_BAD_STREAM:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw()];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return r=e.serverResponse.url,this.waitingResponseList.includes(r)||this.waitingResponseList.push(r),i=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}),this.emit(d.LiveStreamingUapSignalEvents.WARNING,i,r),[2,new Promise((function(e,t){o.once(r,(function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(r),1),e()})),setTimeout((function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(r),1),t(i)}),1e4)}))]}return[2]}))}))},t.prototype.startPingPong=function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch((function(){}))}),6e3)},t}(l.EventEmitter);t.AgoraLiveStreamingUapSignal=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(24),d=n(36),u=n(31),l=n(27),f=s(n(0)),p=function(e){function t(t){var n=e.call(this)||this;return n.connectionID=0,n.currentURLIndex=0,n.reconnectMode="tryNext",n._state="closed",n.retryConfig=u.DEFAULT_RETRY_CONFIG,n.reconnectCount=0,n.name=t,n}return i(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this.websocket?this.websocket.url:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(l.WebSocketManagerEvents.RECONNECTING,this.reconnectMode):"connected"===this._state?this.emit(l.WebSocketManagerEvents.CONNECTED):"closed"===this._state?this.emit(l.WebSocketManagerEvents.CLOSED):"failed"===this._state&&this.emit(l.WebSocketManagerEvents.FAILED))},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;return new Promise((function(n,r){t.urls=e;var i=t.urls[t.currentURLIndex];t.state="connecting",t.createWebSocketConnection(i).then(n).catch(r),t.once(l.WebSocketManagerEvents.CLOSED,(function(){return r(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT))})),t.once(l.WebSocketManagerEvents.CONNECTED,(function(){return n()}))}))},t.prototype.close=function(e,t){if(this.currentURLIndex=0,this.reconnectCount=0,this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var n=this.websocket;t?setTimeout((function(){return n.close()}),500):n.close(),this.websocket=void 0}this.state=e?"failed":"closed"},t.prototype.reconnect=function(e){if(this.websocket){void 0!==e&&(this.reconnectMode=e);var t=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),t&&t.bind(this.websocket)({code:9999})}else f.default.warning("["+this.name+"] can not reconnect, no websocket")},t.prototype.sendMessage=function(e){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ABORT,"websocket is not ready");var t=JSON.stringify(e);try{this.websocket.send(t)}catch(e){throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"send websocket message error"+e.toString())}},t.prototype.createWebSocketConnection=function(e){return o(this,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){return this.connectionID+=1,t=this.connectionID,[2,new Promise((function(r,i){n.websocket&&(n.websocket.onclose=null,n.websocket.close()),f.default.debug("["+n.name+"] start connect, url: "+e);try{n.websocket=new WebSocket(e),n.websocket.binaryType="arraybuffer"}catch(e){var s=new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"init websocket failed! Error: "+e.toString());return f.default.error("["+n.name+"]"+s),void i(s)}u.wait(5e3).then((function(){t===n.connectionID&&n.websocket&&n.websocket.readyState!==WebSocket.OPEN&&n.websocket&&n.websocket.close()})),n.websocket.onopen=function(){f.default.debug("["+n.name+"] websockect opened:",e),n.reconnectMode="retry",n.state="connected",n.reconnectCount=0,r()},n.websocket.onclose=function(e){return o(n,void 0,void 0,(function(){var t,n;return a(this,(function(o){switch(o.label){case 0:return f.default.debug("["+this.name+"] websocket close "+(this.websocket&&this.websocket.url)+", code: "+e.code+", reason: "+e.reason+", current mode: "+this.reconnectMode),this.reconnectCount<this.retryConfig.maxRetryCount?("connected"===this.state&&(this.state="reconnecting"),t=d.emitAsInvokerNoResponse(this,l.WebSocketManagerEvents.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,[4,this.reconnectWithAction(t)]):[3,2];case 1:return n=o.sent(),"closed"===this.state?(f.default.debug("["+this.connectionID+"] ws is closed, no need to reconnect"),[2]):n?(r(),[3,3]):(i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket reconnect failed: "+e.code)),this.close(!0),[2]);case 2:i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket close: "+e.code)),this.close(),o.label=3;case 3:return[2]}}))}))},n.websocket.onmessage=function(e){n.emit(l.WebSocketManagerEvents.ON_MESSAGE,e)}}))]}))}))},t.prototype.reconnectWithAction=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return!t&&this.reconnectCount>=this.retryConfig.maxRetryCount?[2,!1]:this.urls?"closed"===this.state?[2,!1]:(n=u.getRetryWaitTime(this.reconnectCount,this.retryConfig),f.default.debug("["+this.name+"] wait "+n+"ms to reconnect websocket, mode: "+e),[4,u.wait(n)]):[2,!1];case 1:if(a.sent(),"closed"===this.state)return[2,!1];this.reconnectCount+=1,a.label=2;case 2:return a.trys.push([2,12,,14]),"retry"!==e?[3,4]:(i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)]);case 3:return a.sent(),[3,11];case 4:return"tryNext"!==e?[3,8]:(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length?[4,this.reconnectWithAction("recover")]:[3,6]);case 5:return[2,a.sent()];case 6:return f.default.debug("["+this.name+"] websocket url length: "+this.urls.length+" current index: "+this.currentURLIndex),i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 7:return a.sent(),[3,11];case 8:return"recover"!==e?[3,11]:(f.default.debug("["+this.name+"] request new urls"),r=this,[4,d.emitAsPromise(this,l.WebSocketManagerEvents.REQUEST_NEW_URLS)]);case 9:return r.urls=a.sent(),this.currentURLIndex=0,i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 10:a.sent(),a.label=11;case 11:return[2,!0];case 12:return o=a.sent(),f.default.error("["+this.name+"] reconnect failed",o.toString()),[4,this.reconnectWithAction(e)];case 13:return[2,a.sent()];case 14:return[2]}}))}))},t}(d.EventEmitter);t.AgoraWebSocketManager=p},function(e,t,n){"use strict";var r=n(18),i=n(38),o=n(79),a=n(44);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(41));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(45),c.CancelToken=n(93),c.isCancel=n(40),c.all=function(e){return Promise.all(e)},c.spread=n(94),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(18),i=n(39),o=n(80),a=n(81),s=n(44);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(18);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(18),i=n(82),o=n(40),a=n(41);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,d=[],u=!1,l=-1;function f(){u&&c&&(u=!1,c.length?d=c.concat(d):l=-1,d.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=d.length;t;){for(c=d,d=[];++l<t;)c&&c[l].run();l=-1,t=d.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(88),i=n(89);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(45);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=1,a=function(){function e(e){this.lockingPromise=Promise.resolve(),this.locks=0,this.name="",this.lockId=o++,e&&(this.name=e),i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is created.")}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.locks>0},enumerable:!0,configurable:!0}),e.prototype.lock=function(){var e,t=this;this.locks+=1,i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is locked, current queue "+this.locks+".");var n=new Promise((function(n){e=function(){t.locks-=1,i.default.debug("[lock-"+t.name+"-"+t.lockId+"] is not locked, current queue "+t.locks+"."),n()}})),r=this.lockingPromise.then((function(){return e}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r},e}();t.PromiseMutex=a},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(1),a=n(8),s=n(5),c=function(){};c.prototype.set=function(e,t){["BatteryLevel"].indexOf(e)>-1&&(this[e]=t)};var d=new function(){var e=Object(a.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.batteryManager=null,e._init=function(t,n){e.state=e.states.INITING,navigator.getBattery?navigator.getBattery().then((function(n){e.batteryManager=n,t&&setTimeout((function(){t()}),0)})).catch((function(e){i.default.debug("navigator.getBattery is disabled",e),t&&t()})):(e.state=e.states.INITED,t&&t())},e._getBatteryStats=function(){var t={};return e.batteryManager&&e.batteryManager.level?t.BatteryLevel=Math.floor(100*e.batteryManager.level):t.BatteryLevel="UNSUPPORTED",t},e.getStats=function(t,n){var r=new c,i=e._getBatteryStats();i&&i.BatteryLevel&&r.set("BatteryLevel",i.BatteryLevel),t&&t(r)},e._init(),e},u=n(22),l=n(19),f=n(26),p=n(53),g=n(9),m=["live","rtc","web","interop","h264_interop","web-only"],h=["vp8","vp9","h264"],v=["aes-128-gcm","aes-256-gcm","aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-256-gcm2","aes-128-gcm2"],E=n(11),S=n.n(E),_=n(7),y=n.n(_),R=n(13),T=n(4),I=n(10),b=n(20),A=n(6),O=n(14),C={1001:"FRAMERATE_INPUT_TOO_LOW",1002:"FRAMERATE_SENT_TOO_LOW",1003:"SEND_VIDEO_BITRATE_TOO_LOW",1005:"RECV_VIDEO_DECODE_FAILED",2001:"AUDIO_INPUT_LEVEL_TOO_LOW",2002:"AUDIO_OUTPUT_LEVEL_TOO_LOW",2003:"SEND_AUDIO_BITRATE_TOO_LOW",2005:"RECV_AUDIO_DECODE_FAILED",3001:"FRAMERATE_INPUT_TOO_LOW_RECOVER",3002:"FRAMERATE_SENT_TOO_LOW_RECOVER",3003:"SEND_VIDEO_BITRATE_TOO_LOW_RECOVER",3005:"RECV_VIDEO_DECODE_FAILED_RECOVER",4001:"AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",4002:"AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",4003:"SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",4005:"RECV_AUDIO_DECODE_FAILED_RECOVER"},N={FramerateInput:1001,FramerateSent:1002,SendVideoBitrate:1003,VideoDecode:1005,AudioIntputLevel:2001,AudioOutputLevel:2002,SendAudioBitrate:2003,AudioDecode:2005},w=function(e){var t={remoteStreamStorage:{},localStreamStorage:{}};return t.gatewayClient=e,t.checkAudioOutputLevel=function(e){return!(e&&parseInt(e.audioRecvBytesDelta)>0&&parseInt(e.audioDecodingNormalDelta)>0&&0===parseInt(e.audioOutputLevel))},t.checkAudioIntputLevel=function(e){return!e||0!==parseInt(e.audioInputLevel)},t.checkFramerateInput=function(e,t){if(!e||!t.attributes)return!0;var n=parseInt(t.attributes.maxFrameRate),r=parseInt(e.googFrameRateInput);return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)},t.checkFramerateSent=function(e){return!(e&&parseInt(e.googFrameRateInput)>5&&parseInt(e.googFrameRateSent)<=1)},t.checkSendVideoBitrate=function(e){return!e||0!==parseInt(e.videoSendBytesDelta)},t.checkSendAudioBitrate=function(e){return!e||0!==parseInt(e.audioSendBytesDelta)},t.checkVideoDecode=function(e){return!e||0===parseInt(e.videoRecvBytesDelta)||0!==parseInt(e.googFrameRateDecoded)},t.checkAudioDecode=function(e){return!e||0===parseInt(e.audioRecvBytesDelta)||0!==parseInt(e.audioDecodingNormalDelta)},t.record=function(e,n,r,i,o){r[e]||(r[e]={isPrevNormal:!0,record:[]});var a=r[e],s=t["check"+e](n,o);if(a.record.push(s),a.record.length>=5){a.isCurNormal=-1!==a.record.indexOf(!0);var c=N[e];a.isPrevNormal&&!a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c,msg:C[c],uid:i}),!a.isPrevNormal&&a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c+2e3,msg:C[c+2e3],uid:i}),a.isPrevNormal=a.isCurNormal,a.record=[]}},t.setLocalStats=function(e){var n={};Object.keys(e).map((function(r){var i=e[r],o=t.gatewayClient.localStreams[parseInt(r)],a=t.localStreamStorage[r]||{};o&&o.hasVideo()&&(t.record("SendVideoBitrate",i.videoStats,a,r),t.record("FramerateInput",i.videoStats,a,r,o),t.record("FramerateSent",i.videoStats,a,r)),o&&o.hasAudio()&&(t.record("AudioIntputLevel",i.audioStats,a,r),t.record("SendAudioBitrate",i.audioStats,a,r)),n[r]=a})),t.localStreamStorage=n},t.setRemoteStats=function(n){var r={};Object.keys(n).map((function(i){var o=n[i],a=e.remoteStreams[i],s=t.remoteStreamStorage[i]||{};a&&a.hasVideo()&&a.isPlaying()&&t.record("VideoDecode",o.videoStats,s,i),a&&a.hasAudio()&&a.isPlaying()&&(t.record("AudioOutputLevel",o.audioStats,s,i),t.record("AudioDecode",o.audioStats,s,i)),r[i]=s})),t.remoteStreamStorage=r},t};function L(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k,M=n(3),P=new function(){var e=Object(a.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.type=null,e.lastConnectedAt=null,e.lastDisconnectedAt=null,e.lastTypeChangedAt=null,e.networkChangeTimer=null,e._init=function(t,n){if(e.state=e.states.INITING,navigator.connection&&navigator.connection.addEventListener){var r=e._getNetworkInfo();e.type=r&&r.type,e.state=e.states.INITED,t&&t()}else e.state=e.states.UNINIT,n&&n("DO_NOT_SUPPORT")},e._getNetworkInfo=function(){return navigator.connection},e._reloadNetworkInfo=function(){var t=e._getNetworkInfo(),n=t&&t.type||"UNSUPPORTED",r=Date.now();if(n!==e.type){e.lastTypeChangedAt=r,"none"==n?e.lastDisconnectedAt=r:"none"==e.type&&(e.lastConnectedAt=r),e.type=n;var i={type:"networkTypeChanged",networkType:n};e.dispatchEvent(i)}},e.getStats=function(t,n){var r={},i=e._getNetworkInfo();i&&(r.NetworkType=i.type||"UNSUPPORTED"),setTimeout((function(){t(r)}),0)},e._init((function(){navigator.connection.addEventListener("change",(function(){e._reloadNetworkInfo()})),e.networkChangeTimer=setInterval((function(){e._reloadNetworkInfo()}),5e3)}),(function(e){})),e},x=n(55),U=n(16),j=n(56),V=n.n(j),B=n(21),F=function(){return"HTTPS"===(k||k||(k=(window.location.protocol.split(":")[0]||"").toUpperCase()))},W=function(){return void 0!==window.isSecureContext},G="host",H=function(e){var t={key:void 0,highStream:null,lowStream:null,lowStreamParameter:null,isDualStream:!1,highStreamState:2,lowStreamState:2,proxyServer:null,turnServers:[],useProxyServer:!1,useLocalAccessPoint:!1};t.mode=e.mode,t.codec=e.codec,t.clientId=Object(I.generateSessionId)().slice(0,5),t.uintUid=null,t.customReportCount=0;e=y()({},e);if(t.aespassword=null,t.aesmode="none",t.hasPublished=!1,t.getSessionId=function(){return e.sessionId},t.startChannelMediaRelay=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.startChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof g.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var a=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(M.isEmpty)(a))throw"srcChannelMediaInfo should not be empty";if(Object(M.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(a.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(M.isValidChannelName)(a.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(a.token&&!Object(M.isValidToken)(a.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(M.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(M.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==R.a.CONNECTED)throw"startChannelMediaRelay should be used after join";t.gatewayClient.startChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.updateChannelMediaRelay=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.updateChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof g.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var a=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(M.isEmpty)(a))throw"srcChannelMediaInfo should not be empty";if(Object(M.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(a.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(M.isValidChannelName)(a.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(a.token&&!Object(M.isValidToken)(a.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(M.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(M.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==R.a.CONNECTED)throw"updateChannelMediaRelay should be used after join";t.gatewayClient.updateChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.stopChannelMediaRelay=function(n){var r=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return n&&n(e);n&&n()},name:"Client.stopChannelMediaRelay",options:arguments,tag:"tracer"});t.gatewayClient.stopChannelMediaRelay().then((function(){r&&r()})).catch((function(e){r&&r(e)}))},t.getConnectionState=function(){var n=o.report.reportApiInvoke(e.sessionId,{name:"Client.getConnectionState",options:arguments,tag:"tracer"}),r=R.a.connetionStateMap[t.gatewayClient.state];return n(),r},t.setClientRole=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:r,name:"Client.setClientRole",options:arguments,tag:"tracer"});if(Object(M.checkValidEnum)(n,"setClientRole",[G,"audience"]),"rtc"===t.mode){var s="RTC mode can not use setClientRole";return i.default.warning("[".concat(t.clientId,"] ").concat(s)),a&&a(s)}t.gatewayClient&&t.gatewayClient.state===R.a.CONNECTED?("audience"===n&&(0===this.highStreamState?this._unpublish(this.highStream,(function(){a&&a(null,{role:n})}),(function(e){a&&a(e)})):t.gatewayClient.setClientRole("audience",a)),n===G&&t.gatewayClient.setClientRole(G,a)):(t.gatewayClient.role=n,a&&a(null,{role:n}))},t.getGatewayInfo=function(e){if(t.gatewayClient.state!==R.a.CONNECTED){var n="Client is not in connected state";return i.default.error("[".concat(t.clientId,"] ").concat(n)),void e(n)}t.gatewayClient.getGatewayInfo((function(t){e(null,t)}),e)},t.renewToken=function(n,r,a){var s=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return i.default.error("Failed to renew token ".concat(e),t),a&&a(e);r&&r(t)},name:"Client.renewToken",options:arguments,tag:"tracer"});if(!Object(M.isValidToken)(n))throw new Error("Invalid token: Token is of the string type .Length of the string: [1,255]. ASCII characters only.");return t.gatewayClient?t.key?(t.key=n,void t.gatewayClient.renewToken(n,(function(e){return s(null,e)}),s)):(i.default.error("[".concat(t.clientId,"] renewToken should not be called before user join")),s(T.default.INVALID_OPERATION)):(i.default.error("[".concat(t.clientId,"] renewToken Failed. GatewayClient not Exist")),s(T.default.INVALID_OPERATION))},t.setLowStreamParameter=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setLowStreamParameter",options:arguments,tag:"tracer"});Object(M.checkValidObject)(n,"param");var a=n.width,s=n.height,c=n.framerate,d=n.bitrate;Object(M.isEmpty)(a)||Object(M.checkValidNumber)(a,"width"),Object(M.isEmpty)(s)||Object(M.checkValidNumber)(s,"height"),Object(M.isEmpty)(c)||Object(M.checkValidNumber)(c,"framerate"),Object(M.isEmpty)(d)||Object(M.checkValidNumber)(d,"bitrate",1,1e7),(!a&&s||a&&!s)&&i.default.warning("[".concat(t.clientId,"] The width and height parameters take effect only when both are set")),t.lowStreamParameter=n,r()},t.init=function(t,n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.init",options:arguments,tag:"tracer"});Object(M.checkValidString)(t),Object(s.isChromeKernel)()&&Object(s.getChromeKernelVersion)()<=48?r?i(T.default.BAD_ENVIRONMENT):Object(I.popBanTip)():(e.appId=t,e.sessionId=Object(I.generateSessionId)(),i())},t.setTurnServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setTurnServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Set turn server before join channel");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");n instanceof Array||(n=[n]);var a=[];n.map((function(e,n){Object(M.checkValidObject)(e,"turnServer");var r=e.turnServerURL,o=e.username,s=e.password,c=e.udpport,d=e.forceturn,u=e.tcpport;if(Object(M.checkValidString)(r,"turnServerURL"),Object(M.checkValidString)(o,"username"),Object(M.checkValidString)(s,"password"),Object(M.checkValidString)(c,"udpport"),0===parseInt(c))throw new Error("udpport should not be ".concat(c));Object(M.isEmpty)(d)||Object(M.checkValidBoolean)(d,"forceturn");var l={mode:"manual"};if(l.url=r,l.udpport=c,l.username=o,l.credential=s,l.forceturn=d||!1,!Object(M.isEmpty)(u)){if(Object(M.checkValidString)(u,"tcpport"),0===parseInt(u))throw new Error("tcpport should not be ".concat(u));l.tcpport=u,i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] tcpurl. ").concat(l.url,":").concat(l.tcpport))}i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] udpurl. ").concat(l.url,":").concat(l.udpport,",username: ").concat(l.username)),a.push(l)})),t.turnServers=a,r()},t.setProxyServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Set proxy server before join channel");if(!n)throw new Error("Do not set the proxyServer parameter as empty");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");Object(M.checkValidString)(n,"proxyServer"),t.proxyServer=n,o.report.setProxyServer(n),i.default.setProxyServer(n),r()},t.startProxyServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.startProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Start proxy server before join channel");if(t.proxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");t.useProxyServer=!0,t.proxyServerType=n||1,r()},t.stopProxyServer=function(){var n=o.report.reportApiInvoke(e.sessionId,{name:"Client.stopProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Stop proxy server after leave channel");o.report.setProxyServer(),i.default.setProxyServer(),t.turnServers=[],t.proxyServer=null,t.useProxyServer=!1,t.proxyServerType=null,n()},t.setEncryptionSecret=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionSecret",options:arguments,tag:"tracer"});Object(M.checkValidString)(n,"password");var i=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");i.test(n)||console.warn("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer,\n      "),t.aespassword=n,r()},t.setEncryptionMode=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionMode",options:arguments,tag:"tracer"});if(Object(M.checkValidString)(n,"encryptionMode"),-1===v.indexOf(n))throw new Error('Invalid encryptionMode: encryptionMode should be "aes-128-xts" | "aes-256-xts" | "aes-128-ecb" | "sm4-128-ecb" | "aes-128-gcm" | "aes-256-gcm" | "aes-128-gcm2" | "aes-256-gcm2"');var a=["aes-128-gcm2","aes-256-gcm2"];if(-1!==a.indexOf(n)){if(!r||!(r instanceof Uint8Array&&32===r.length))throw Error("salt must be an Uint8Array and exactly equal to 32 bytes")}else if(r)throw new Error("Only ".concat("aes-128-gcm2"," and ").concat("aes-256-gcm2"," support use salt"));r&&(t.aesSalt=Object(I.uint8ArrayToBase64)(r)),t.aesmode=n,i()},t.configPublisher=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.configPublisher",options:arguments,tag:"tracer"});Object(M.checkValidObject)(n,"config");var i=n.width,a=n.height,s=n.framerate,c=n.bitrate,d=n.publisherUrl;Object(M.checkValidNumber)(i,"width"),Object(M.checkValidNumber)(a,"height"),Object(M.checkValidNumber)(s,"framerate"),Object(M.checkValidNumber)(c,"bitrate",1,1e7),d&&Object(M.checkValidString)(d,"publisherUrl"),t.gatewayClient.configPublisher(n),r()},t.enableDualStream=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.enableDualStream",options:arguments,tag:"tracer"});return"iOS"===Object(s.getBrowserOS)()?(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),a(T.default.IOS_NOT_SUPPORT)):Object(s.isWeChatBrowser)()?(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),a(T.default.WECHAT_NOT_SUPPORT)):(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!0}),t.isDualStream=!0,t.highStream&&(t.highStream.isDualStream=!0),void(0===t.highStreamState?t._publishLowStream((function(e){return a(null,e)}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),a(T.default.ENABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?a(T.default.STILL_ON_PUBLISHING):a(null)))},t.disableDualStream=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.disableDualStream",options:arguments,tag:"tracer"});o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!1,succ:!0}),t.isDualStream=!1,t.highStream&&(t.highStream.isDualStream=!1),0===t.highStreamState?t._unpublishLowStream((function(){t.highStream.lowStream=null,a()}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),a(T.default.DISABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?a(T.default.STILL_ON_PUBLISHING):a()},t._getLowStream=function(e,n){t.lowStream?e(t.lowStream):t._createLowStream((function(n){t.lowStream=n,e(t.lowStream)}),n)},t._createLowStream=function(e,n){if(t.highStream&&t.highStream.stream){var r=y()({},t.highStream.params);if(r.streamID+=1,r.audio=!1,r.video)if(t.highStream.stream.getVideoTracks()[0]){var i=new u.a(r);i.isLowStream=!0,i.streamId=t.highStream.getId()+1;var o={};t.lowStreamParameter&&(o=y()({},t.lowStreamParameter)),o.width&&o.height||(o.width=160,o.height=120),o.framerate=o.framerate||15,o.bitrate=o.bitrate||50,i.setVideoProfileCustomPlus(o);try{var a=V()(t.highStream,{width:i.videoConstraint.width.ideal,height:i.videoConstraint.height.ideal,framerate:i.videoConstraint.frameRate});return i.stream=a,t.highStream.lowStream=i,t.highStream.userMuteVideo&&i.muteVideo(),e&&e(i)}catch(e){return n&&n(e)}}else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE);else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE)},t._publishLowStream=function(e,n){return 2!==t.lowStreamState?n&&n(T.default.LOW_STREAM_ALREADY_PUBLISHED):t.highStream&&t.highStream.hasScreen()?n&&n(T.default.SHARING_SCREEN_NOT_SUPPORT):void t._getLowStream((function(r){t.lowStreamState=1,t.gatewayClient.publish(r,{streamType:1},(function(){t.lowStreamState=0,e&&e()}),(function(e){1===t.lowStreamState&&(t.lowStreamState=2),i.default.debug("[".concat(t.clientId,"] publish low stream failed")),n&&n(e)}))}),n)},t._unpublishLowStream=function(e,n){if(0!==t.lowStreamState)return n&&n(T.default.LOW_STREAM_NOT_YET_PUBLISHED);t.lowStream&&(t.gatewayClient.unpublish(t.lowStream,{streamType:1},(function(){}),(function(e){i.default.debug("[".concat(t.clientId,"] unpublish low stream failed")),n&&n(e)})),t.lowStream.close(),t.lowStream=null,t.lowStreamState=2,e&&e())},t.join=function(n,r,a,s,c,d){s&&"function"==typeof s&&(d=c,c=s,s=null);var u=F(),l="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser",f=W()?window.isSecureContext:"Browser Not Support",p=function(){i.default.warning(l)};W()?window.isSecureContext||p():u||p();var g=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return d&&d(e);c&&c(t)},name:"Client.join",options:arguments,getStates:function(){return{isHttps:u,isSecureContext:f}},tag:"tracer"});if(n&&!Object(M.isValidToken)(n))return i.default.warning("[".concat(t.clientId,"] Param channelKey should be string")),g(T.default.INVALID_PARAMETER);if(!Object(M.isValidChannelName)(r))return i.default.error("Invalid Channel Name ".concat(r)),i.default.warning("[".concat(t.clientId,"] The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")),g(T.default.INVALID_PARAMETER);if("string"==typeof r&&""===r)return i.default.warning("[".concat(t.clientId,"] Param channel should not be empty")),g(T.default.INVALID_PARAMETER);if(s&&!Object(M.isValidString)(s))return i.default.warning("[".concat(t.clientId,"] optionalInfo should be string")),g(T.default.INVALID_PARAMETER);if(a&&!Object(I.is32Uint)(a)&&!Object(M.isValidString)(a,1,255))return i.default.error("Invalid UID ".concat(a," ").concat(S()(a))),i.default.warning("[".concat(t.clientId,"] [String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is 32Uint")),g(T.default.INVALID_PARAMETER);if("string"==typeof a&&0==a.length)return i.default.warning("[".concat(t.clientId,"] String uid should not be empty")),g(T.default.INVALID_PARAMETER);if("string"==typeof a&&a.length>256)return i.default.warning("[".concat(t.clientId,"] Length of string uid should be less than 255")),g(T.default.INVALID_PARAMETER);i.default.stopWaitJoin(),t.highStream=null,t.lowStream=null,t.lowStreamParameter=null,t.isDualStream=!1,t.highStreamState=2,t.lowStreamState=2;var m=Date.now(),h=setTimeout((function(){if(1!=t.gatewayClient.hasJoined){i.default.debug("[".concat(t.clientId,"] The time to join the channel is greater than 5 seconds "));var n=Date.now();o.report.joinChannelTimeOut({lts:n,sid:e.sessionId,cname:r,cid:v&&v.cid,uid:v.uid||("string"==typeof a?void 0:a),elapse:n-m,timeout:5})}}),5e3),v={clientId:t.clientId,appId:e.appId,sid:e.sessionId,cname:r,uid:a,turnServers:t.turnServers.concat(),proxyServer:t.proxyServer,token:n||e.appId,useProxyServer:t.useProxyServer,useLocalAccessPoint:t.useLocalAccessPoint,proxyServerType:t.proxyServerType,optionalInfo:s};if("string"==typeof a&&(v.stringUid=a,t.uintUid?(v.uid=t.uintUid,delete t.uintUid):v.uid=0),t.aespassword&&"none"!==t.aesmode&&y()(v,{aespassword:t.aespassword,aesmode:t.aesmode}),t.aesSalt&&(v.aes_salt=t.aesSalt),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),cname:r,appid:e.appId,mode:e.mode,succ:!0}),t.onSuccess=function(e){clearTimeout(h),t.rtcStatsCollector.startNetworkQualityTimer(),t.onSuccess=null,g(null,e)},t.onFailure=function(e){return g(e)},t.channel=r,t.gatewayClient.state!==R.a.DISCONNECTED)return i.default.error("[".concat(t.clientId,"] Client already in connecting/connected state")),g(T.default.INVALID_OPERATION),void o.report.joinGateway(e.sessionId,{lts:Date.now(),succ:!1,ec:T.default.INVALID_OPERATION,addr:null});t.gatewayClient.state=R.a.CONNECTING;var E=function(o,a){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(r)),t.gatewayClient.dispatchEvent({type:"config-distribute",config:a,joinInfo:v}),t.key=n||e.appId,v.cid=o.cid,v.uid||(v.uid=o.uid),v.vid=o.vid,v.clientId=t.clientId,v.apResponse=o.res,o.uni_lbs_ip&&o.uni_lbs_ip[1]&&(v.uni_lbs_ip=o.uni_lbs_ip[1]),v.gatewayAddr=o.gateway_addr,t.joinInfo=v,t.gatewayClient.join(v,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(r," success, join with uid: ").concat(e,".")),t.onSuccess=null,t.rtcStatsCollector.startNetworkQualityTimer(),g(null,e)}),(function(e){return g(e)}))};v.stringUid&&!v.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(b.getUserAccount)(v,t.gatewayClient),t.userAccountReq.then((function(e){i.default.debug("getUserAccount Success ".concat(e.url," ").concat(v.stringUid," => ").concat(e.uid)),v.uid=e.uid,Object(b.getGatewayList)(v,E,(function(e){return g(e)}))})).catch((function(e){i.default.error("getUserAccount rejected",e),g(e)}))):Object(b.getGatewayList)(v,E,(function(e){return g(e)}))},t.renewChannelKey=function(n,r,a){var s=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return a&&a(e);r&&r(t)},name:"Client.renewChannelKey",options:arguments,tag:"tracer"});Object(M.checkValidString)(n,"key",1,2047),void 0===t.key?(i.default.error("[".concat(t.clientId,"] renewChannelKey should not be called before user join")),s(T.default.INVALID_OPERATION)):(t.key=n,t.gatewayClient.joinInfo.token=n,t.gatewayClient.key=n,t.gatewayClient.recover(),s())},t.leave=function(n,a){t.gatewayClient.isFirstSuccess=!0,t.gatewayClient.hasInvokeLeave=!0;var s=!1,c=o.report.reportApiInvoke(e.sessionId,{callback:function(e,r){if(e)return a&&a(e);t.gatewayClient.reconnectingCS=!1,t.gatewayClient.state=R.a.DISCONNECTED,clearTimeout(Object(b._getReconnectCSTimer)(t.clientId)),t._renewSession(),t.rtcStatsCollector.clearNetworkQualityTimer(),n&&n(r)},name:"Client.leave",options:arguments,tag:"tracer"});i.default.info("[".concat(t.clientId,"] Leaving channel")),t.userAccountReq&&!t.userAccountReq.isFinished()&&(t.userAccountReq.cancel(),t.gatewayClient.state===R.a.CONNECTING&&(t.gatewayClient.state=R.a.DISCONNECTED)),t._terminateLiveStreaming(),t.gatewayClient.leave((function(e){s=!0,c(null,e)}),c),setTimeout((function(){s||(t.gatewayClient.socket&&(t.gatewayClient.socket.close(),t.gatewayClient.socket=null),t.gatewayClient.state=R.a.DISCONNECTED,c(null,"LEAVE_MSG_TIMEOUT"))}),Object(r.getParameter)("LEAVE_MSG_TIMEOUT"))},t._renewSession=function(){var n=Object(I.generateSessionId)();if(i.default.debug("renewSession ".concat(e.sessionId," => ").concat(n)),e.sessionId=n,t.gatewayClient.peerPublishDurationMap.clear(),t.joinInfo&&(t.joinInfo.sid=n),t.gatewayClient&&(t.gatewayClient.joinInfo&&(t.gatewayClient.joinInfo.sid=n),t.gatewayClient.localStreams))for(var r in t.gatewayClient.localStreams){var o=t.gatewayClient.localStreams[r];o&&(o.sid=n)}},t._publish=function(n,o,a,s){if(2!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't publish stream when stream already publish ").concat(n.getId())),a&&a(T.default.STREAM_ALREADY_PUBLISHED);if(0===t.turnServers.length&&Object(r.getParameter)("FORCE_TURN")&&!Object(r.getParameter)("TURN_ENABLE_TCP")&&!Object(r.getParameter)("TURN_ENABLE_UDP"))throw new Error("force TURN With No TURN Configuration");i.default.info("[".concat(t.clientId,"] Publishing stream, uid ").concat(n.getId())),t.highStream=n,t.highStreamState=1,t.highStream.streamId=t.joinInfo.stringUid||t.joinInfo.uid,t.hasPublished=!1;var c=function(n,r,o){t.gatewayClient.publish(n,{streamType:0},(function(){n.sid=e.sessionId,t.highStreamState=0,i.default.info("[".concat(t.clientId,"] Publish success, uid: ").concat(n.getId())),t.highStream&&(t.highStream.isDualStream=t.isDualStream),t.isDualStream?t._publishLowStream((function(){r&&r()}),(function(e){i.default.warning("[".concat(t.clientId,"] "),e),U.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))})):U.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))}),o)};"audience"!==t.gatewayClient.role||"live"!==t.mode||s?c(n,o,a):t.gatewayClient.setClientRole(G,(function(e){if(e)return a&&a(e);c(n,o,a)}))},t._unpublish=function(e,n,r,o){if(0!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't unpublish stream when stream not publish")),r&&r(T.default.STREAM_NOT_YET_PUBLISHED);i.default.info("[".concat(t.clientId,"] Unpublish stream, uid ").concat(e.getId()));var a=function(e,n,r){t.isDualStream&&t.lowStream&&t._unpublishLowStream(null,r),t.gatewayClient.unpublish(e,{streamType:0},(function(){t.highStreamState=2,i.default.info("[".concat(t.clientId,"] Unpublish stream success, uid: ").concat(e.getId())),t.gatewayClient.dispatchEvent({type:"stream-unpublished",stream:e}),n&&n()}),(function(n){i.default.info("[".concat(t.clientId,"] Unpublish stream fail, uid: ").concat(e.getId())),r&&r(n)}))};t.gatewayClient.role!==G||"live"!==t.mode||o?a(e,n,r):t.gatewayClient.setClientRole("audience",(function(t){if(t)return r&&r(t);a(e,n,r)}))},t.publish=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e,n){if(e)return 1===t.highStreamState&&"REQUEST_ABORT"!==e&&(t.highStreamState=2),r&&r(e)},name:"Client.publish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});2===t.highStreamState?n._hasVideoTracks()||n._hasAudioTracks()?(t.gatewayClient.publishRequestId=Object(I.generateId)(),t._publish(n,(function(e){return i(null,e)}),(function(e){return i(e)}))):i(T.default.NO_TRACK_IN_STREAM):i(T.default.STREAM_ALREADY_PUBLISHED)},t.unpublish=function(n,r,i){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);i&&i(t)},name:"Client.unpublish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});0===t.highStreamState?(t.gatewayClient.publishRequestId=null,t._unpublish(n,(function(e){return a(null,e)}),(function(e){return a(e)}))):a(T.default.STREAM_NOT_YET_PUBLISHED)},t.subscribe=function(n,r,a){var c=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return a&&a(e)},name:"Client.subscribe",tag:"tracer",options:{stream:"too long to show",options:r,onFailure:!!a}});"function"==typeof r&&(a=r,r=null),Object(M.checkValidObject)(n,"stream"),Object(M.isEmpty)(r)||(Object(M.checkValidObject)(r,"options"),Object(M.isEmpty)(r.video)||Object(M.checkValidBoolean)(r.video,"options.video"),Object(M.isEmpty)(r.audio)||Object(M.checkValidBoolean)(r.audio,"options.audio"));var d={video:!0,audio:!0};if(!Object(M.isEmpty)(r)){if(Object(s.isSafari)()&&(!r.video||!r.audio)){var u="SAFARI_NOT_SUPPORTED_FOR_TRACK_SUBSCRIPTION";return i.default.error("[".concat(t.clientId,"] "),u),void c(u)}if(!Object(M.isEmpty)(r.video)&&!Object(M.isValidBoolean)(r.video)||!Object(M.isEmpty)(r.audio)&&!Object(M.isValidBoolean)(r.audio)||!1===r.audio&&!1===r.video){u="INVALID_PARAMETER ".concat(JSON.stringify(r));return i.default.error("[".concat(t.clientId,"] "),u),void c(u)}}n.subscribeOptions?(y()(n.subscribeOptions,d,r),t.gatewayClient.subscribeChange(n,(function(e){return c(null,e)}),c)):(t.gatewayClient.subscribeRequestId.set(n.getId(),Object(I.generateId)()),n.subscribeOptions=y()({},d,r),t.gatewayClient.subscribe(n,(function(e){return c(null,e)}),c))},t.unsubscribe=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e)},name:"Client.unsubscribe",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});i.default.info("[".concat(t.clientId,"] Unsubscribe stream, uid: ").concat(n.getId())),t.gatewayClient.subscribeRequestId.delete(n.getId()),t.gatewayClient.unsubscribe(n,(function(e){return a(null,e)}),a)},t.setRemoteVideoStreamType=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setRemoteVideoStreamType",tag:"tracer",options:{stream:"too long to show",streamType:r}});Object(M.checkValidEnum)(r,"streamType",[0,1]),t.gatewayClient.setRemoteVideoStreamType(n,r),i()},t.setStreamFallbackOption=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setStreamFallbackOption",tag:"tracer",options:{stream:"too long to show",fallbackType:r}});Object(M.checkValidEnum)(r,"fallbackType",[0,1,2]),t.gatewayClient.setStreamFallbackOption(n,r),i()},t.enableAudioVolumeIndicator=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{name:"Client.enableAudioVolumeIndicator",options:arguments,tag:"tracer"});n=n||2e3,r=r||3,Object(M.checkValidNumber)(r,"smooth",1,100),Object(M.checkValidNumber)(n,"interval",50,1e5),t.audioVolumeIndication=t.audioVolumeIndication||{enabled:!0},t.audioVolumeIndication.interval=n,t.audioVolumeIndication.smooth=r,t.audioVolumeIndication={interval:n,smooth:r},i.default.info("[".concat(t.clientId,"] enableAudioVolumeIndicator interval ").concat(n," smooth ").concat(r)),t.gatewayClient.enableAudioVolumeIndicator(n,r),a()},t.getNetworkStats=function(e,n){return i.default.deprecate("[".concat(t.clientId,"] client.getNetworkStats is deprecated. Use client.getTransportStats instead.")),P.getStats(e,n)},t.getSystemStats=function(e,t){return d.getStats(e,t)},t.getRecordingDevices=function(e,t){return l.a.getRecordingDevices(e,t)},t.getPlayoutDevices=function(e,t){return l.a.getPlayoutDevices(e,t)},t.getCameras=function(e,t){return l.a.getCameras(e,t)},t.getRemoteAudioStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioStats(e,n)},t.getLocalAudioStats=function(e,n){return t.rtcStatsCollector.getLocalAudioStats(e,n)},t.getRemoteVideoStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoStats(e,n)},t.getLocalVideoStats=function(e,n){return t.rtcStatsCollector.getLocalVideoStats(e,n)},t._getRemoteVideoQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoQualityStats(e,n)},t._getRemoteAudioQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioQualityStats(e,n)},t.getTransportStats=function(e,n){return t.rtcStatsCollector.getTransportStats((function(t){return P.getStats((function(n){var r=y()({},t,n);e&&e(r)}),n)}),n)},t.getSessionStats=function(e,n){return t.rtcStatsCollector.getSessionStats(e,n)},t.onNetworkQuality=function(){return t.rtcStatsCollector.onNetworkQuality(onSuccess,onFailure)},t.sendMetadata=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.sendMetadata",tag:"tracer",callback:function(e){if(e)return r&&r(e);r&&r()}});t.gatewayClient.sendMetadata(n,i)},t.sendCustomReportMessage=function(n,a,s,c,d,u){Object(r.getParameter)("CR")?t.customReportCount>Object(r.getParameter)("CRL")?u&&u("REPORT_LIMITED"):(t.gatewayClient.hasJoined||(i.default.WARNING("Should invoke Client.sendCustomReportMessage after join"),u&&u("REPORT_BEFORE_JOINED")),t.customReportTimer||(t.customReportTimer=setInterval((function(){t.customReportCount=0}),Object(r.getParameter)("CRI"))),Object(M.checkValidString)(n,"reportId",0,100,!1),Object(M.checkValidString)(a,"category",0,100,!1),Object(M.checkValidString)(s,"event",0,100,!1),Object(M.checkValidString)(c,"label",0,100,!1),Object(M.checkValidNumber)(d,"value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.customReportCount++,o.report.sendCustomReportMessage(e.sessionId,{reportId:n,category:a,event:s,label:c,value:d,lts:Date.now()},(function(e){e?u&&u("REPORT_FAILED"):u&&u()}))):u&&u("REPORT_FORBIDDEN")},t.setLocalAccessPoints=function(n,i){var a=o.report.reportApiInvoke(e.sessionId,{name:"Client.setLocalAccessPoints",tag:"tracer"});if(Object(M.checkValidArray)(n,"serverList"),Object(M.checkValidString)(i,"domain"),t.useProxyServer)throw new Error("You have already set the proxy");var s=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;n=n.map((function(e){return s.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(i):e})),t.useLocalAccessPoint=!0,Object(r.setParameter)("WEBCS_DOMAIN",n),Object(r.setParameter)("WEBCS_DOMAIN_BACKUP_LIST",n),Object(r.setParameter)("GATEWAY_DOMAINS",[i]),Object(r.setParameter)("EVENT_REPORT_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("LOG_UPLOAD_SERVER","".concat(n[Math.floor(Math.random()*n.length)],":6444")),a()},e.clientId=t.clientId,t.gatewayClient=Object(R.a)(e),t.listenerLoggerTimer=null,t.listenerLoggerCache=[],t.on=function(e,n){t.gatewayClient.on(e,n),t.listenerLoggerCache.push("".concat(e).concat(n.name?":"+n.name:"")),t.listenerLoggerTimer?clearTimeout(t.listenerLoggerTimer):i.default.info("[".concat(t.clientId,"] Adding event handler on ").concat(e)),t.listenerLoggerTimer=setTimeout((function(){t.listenerLoggerCache.length&&(t.listenerLoggerTimer=null,i.default.info("[".concat(t.clientId,"] Added event handler on ").concat(t.listenerLoggerCache.join(", "))),t.listenerLoggerCache=[])}),0)},t.off=function(e,n){i.default.info("remove event handler from [".concat(e,"]")),t.gatewayClient.removeEventListener(e,n)},t.rtcStatsCollector=function(e){var t=Object(a.b)();return t.gatewayClient=e,t.exceptionMonitor=new w(e),t.localStats={},t.remoteStats={},t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0},t.getRemoteAudioStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];if(Object(A.b)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.audio_delay),Object(A.b)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(A.b)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_audio_lost_ratio_400ms),Object(A.b)(o,"RecvLevel",a.audioStats&&a.audioStats.audioOutputLevel),Object(A.b)(o,"RecvBitrate",a.audioRecvBitrate),Object(A.b)(o,"CodecType",a.audioStats&&a.audioStats.googCodecName),Object(A.b)(o,"MuteState",a.audioDisabled),Object(A.b)(o,"TotalFreezeTime",a.audioStats&&a.audioStats.audioTotalFreezeTime),Object(A.b)(o,"TotalPlayDuration",a.audioStats&&a.audioStats.audioTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_audio_duration+(Date.now()-n.timestamp);Object(A.b)(o,"AudioPublishDuration",c)}else Object(A.b)(o,"AudioPublishDuration",-1)}r[i]=o}e&&e(r)},t.getLocalAudioStats=function(e){var n={};for(var r in t.localStats){var i={},o=t.localStats[r];Object(A.b)(i,"RecordingLevel",o.audioStats&&o.audioStats.audioInputLevel),Object(A.b)(i,"SendLevel",o.audioStats&&o.audioStats.totalAudioEnergy),Object(A.b)(i,"SamplingRate",o.audioStats&&o.audioStats.totalSamplesDuration),Object(A.b)(i,"SendBitrate",o.audioSendBitrate),Object(A.b)(i,"CodecType",o.audioStats&&o.audioStats.googCodecName),Object(A.b)(i,"MuteState",o.audioDisabled),Object(A.b)(i,"audioSendPacketsLost",o.audioStats&&o.audioStats.packetsLost);var a=t.gatewayClient.localStreams[r];a&&a.isPlaying()&&Object(A.b)(i,"MuteState",a.userMuteAudio?"1":"0"),n[r]=i}e&&e(n)},t.getRemoteVideoStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];if(Object(A.b)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.video_delay),Object(A.b)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(A.b)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_video_lost_ratio_400ms),Object(A.b)(o,"RecvBitrate",a.videoRecvBitrate),Object(A.b)(o,"RecvResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthReceived),Object(A.b)(o,"RecvResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightReceived),Object(A.b)(o,"RenderResolutionWidth",a.videoStats&&a.videoStats.renderRemoteWidth),Object(A.b)(o,"RenderResolutionHeight",a.videoStats&&a.videoStats.renderRemoteHeight),Object(A.b)(o,"RenderFrameRate",a.videoStats&&a.videoStats.googFrameRateOutput),Object(A.b)(o,"MuteState",a.videoDisabled),Object(A.b)(o,"TotalFreezeTime",a.videoStats&&a.videoStats.videoTotalFreezeTime),Object(A.b)(o,"TotalPlayDuration",a.videoStats&&a.videoStats.videoTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_video_duration+(Date.now()-n.timestamp);Object(A.b)(o,"VideoPublishDuration",c)}else Object(A.b)(o,"VideoPublishDuration",-1)}r[i]=o}e&&e(r)},t.getLocalVideoStats=function(e){var n={};for(var r in t.localStats){var i={},o=t.localStats[r];Object(A.b)(i,"TargetSendBitrate",o.videoTargetSendBitrate),Object(A.b)(i,"SendFrameRate",o.videoStats&&o.videoStats.googFrameRateSent),Object(A.b)(i,"SendBitrate",o.videoSendBitrate),Object(A.b)(i,"SendResolutionWidth",o.videoStats&&o.videoStats.googFrameWidthSent),Object(A.b)(i,"SendResolutionHeight",o.videoStats&&o.videoStats.googFrameHeightSent),Object(A.b)(i,"CaptureResolutionWidth",o.videoStats&&o.videoStats.googFrameWidthInput),Object(A.b)(i,"CaptureResolutionHeight",o.videoStats&&o.videoStats.googFrameHeightInput),Object(A.b)(i,"EncodeDelay",o.videoStats&&o.videoStats.googAvgEncodeMs),Object(A.b)(i,"MuteState",o.videoDisabled),Object(A.b)(i,"TotalFreezeTime",o.videoStats&&o.videoStats.videoTotalFreezeTime),Object(A.b)(i,"TotalDuration",o.videoStats&&o.videoStats.videoTotalPlayDuration),Object(A.b)(i,"CaptureFrameRate",o.videoStats&&o.videoStats.googFrameRateSent),Object(A.b)(i,"videoSendPacketsLost",o.videoStats&&o.videoStats.packetsLost),o.videoStats&&!o.videoStats.googFrameWidthInput&&Object(A.b)(i,"CaptureResolutionWidth",o.videoStats&&o.videoStats.renderLocalWidth),o.videoStats&&!o.videoStats.googFrameHeightInput&&Object(A.b)(i,"CaptureResolutionHeight",o.videoStats&&o.videoStats.renderLocalHeight),n[r]=i}e&&e(n)},t.getRemoteVideoQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},o=t.remoteStats[r];Object(A.b)(i,"videoReceiveDelay",o.videoStats&&o.videoStats.googCurrentDelayMs),Object(A.b)(i,"VideoFreezeRate",o.videoStats&&o.videoStats.videoFreezeRate),Object(A.b)(i,"FirstFrameTime",o.firstFrameTime),n[r]=i}e&&e(n)},t.getRemoteAudioQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},o=t.remoteStats[r];Object(A.b)(i,"audioReceiveDelay",o.audioStats&&o.audioStats.googCurrentDelayMs),Object(A.b)(i,"AudioFreezeRate",o.videoStats&&o.videoStats.videoFreezeRate),n[r]=i}e&&e(n)},t.getTransportStats=function(e){var n={},r={},i=t.gatewayClient.traffic_stats,o=i.peer_delay;if(Object(A.b)(n,"OutgoingAvailableBandwidth",t.gatewayClient.OutgoingAvailableBandwidth/1e3),Object(A.b)(n,"RTT",i&&2*i.access_delay),o){var a,s=L(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.downlink_estimate_bandwidth&&(r[c.peer_uid]=c.downlink_estimate_bandwidth/1e3+"")}}catch(e){s.e(e)}finally{s.f()}}n.IncomingAvailableBandwidth=r,e&&e(n)},t.getSessionStats=function(e){var n={},r=t.gatewayClient.traffic_stats,i=t.gatewayClient.socket,o=0,a=0;for(var s in t.remoteStats){(c=t.remoteStats[s])&&c.videoStats&&c.videoStats.videoRecvBytesDelta&&(a+=parseInt(c.videoStats.videoRecvBytesDelta)),c&&c.audioStats&&c.audioStats.audioRecvBytesDelta&&(a+=parseInt(c.audioStats.audioRecvBytesDelta))}for(var s in t.localStats){var c;(c=t.localStats[s])&&c.videoStats&&c.videoStats.videoSendBytesDelta&&(o+=parseInt(c.videoStats.videoSendBytesDelta)),c&&c.audioStats&&c.audioStats.audioSendBytesDelta&&(o+=parseInt(c.audioStats.audioSendBytesDelta))}var d=o+t.session.WSSendBytesDelta+t.session.HTTPSendBytesDelta,u=a+t.session.WSRecvBytesDelta+t.session.HTTPRecvBytesDelta,l=t.session.sendBytes+Object(O.getHTTPSendBytes)(),f=t.session.recvBytes+Object(O.getHTTPRecvBytes)();t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED&&(l+=i.getSendBytes(),f+=i.getRecvBytes());var p=1;r.peer_delay&&(p=r.peer_delay.length,p+=1),i?Object(A.b)(n,"Duration",i.getDuration()):Object(A.b)(n,"Duration",0),Object(A.b)(n,"UserCount",p),Object(A.b)(n,"SendBytes",l),Object(A.b)(n,"RecvBytes",f),Object(A.b)(n,"SendBitrate",8*d/1e3),Object(A.b)(n,"RecvBitrate",8*u/1e3),e&&e(n)},t.isLocalVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateInput,r=e.googFrameRateSent;else if(Object(s.isSafari)())n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded)}return n>5&&r<3},t.isRemoteVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateReceived,r=e.googFrameRateDecoded;else if(Object(s.isSafari)())n=e.framerateMean,r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framesReceived)-parseInt(t.framesReceived),r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded)}return n>5&&n<10&&r<3||(n>10&&n<20&&r<4||n>20&&r<5)},t.isAudioFreeze=function(e){if(Object(s.isChrome)()&&e){if(e.googDecodingPLC&&e.googDecodingPLCCNG&&e.googDecodingCTN)return(parseInt(e.googDecodingPLC)+parseInt(e.googDecodingPLCCNG))/parseInt(e.googDecodingCTN)>.2}else if((Object(s.isSafari)()||Object(s.isFireFox)())&&e.packetsLost&&e.packetsReceived)return parseInt(e.packetsLost)/(parseInt(e.packetsLost)+parseInt(e.packetsReceived))>.2;return!1},t.isAudioDecodeFailed=function(e){return!!((Object(s.isChrome)()||Object(s.isOpera)())&&e&&parseInt(e.bytesReceived)>0&&0===parseInt(e.googDecodingNormal))},t.startNetworkQualityTimer=function(){t.clearNetworkQualityTimer(),t.networkQualityTimer=setInterval((function(){if(t.gatewayClient.state===R.a.CONNECTED&&navigator.onLine){var e=t.gatewayClient.traffic_stats;t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:t.networkQualityTrans(e.uplink_network_quality),downlinkNetworkQuality:t.networkQualityTrans(e.downlink_network_quality)})}else t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3)},t.clearNetworkQualityTimer=function(){t.networkQualityTimer&&clearInterval(t.networkQualityTimer)},t.networkQualityTrans=function(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0},t.getStatsTimer=setInterval((function(){var e=t.gatewayClient.traffic_stats,n=Date.now();t.gatewayClient.dispatchEvent({type:"_testException"}),Object.keys(t.localStats).length&&t.exceptionMonitor.setLocalStats(t.localStats),Object.keys(t.remoteStats).length&&t.exceptionMonitor.setRemoteStats(t.remoteStats);var r={};Object.keys(t.gatewayClient.remoteStreams).forEach((function(i){var o=t.gatewayClient.remoteStreams[i],a=t.remoteStats[i],s={id:i,updatedAt:n};r[i]=s,s.firstFrameTime=o.firstFrameTime,a?(s.audioTotalPlayDuration=a.audioTotalPlayDuration+1,s.audioTotalFreezeTime=a.audioTotalFreezeTime,s.isAudioFreeze=!1,s.isAudioDecodeFailed=!1,s.videoTotalPlayDuration=a.videoTotalPlayDuration+1,s.videoTotalFreezeTime=a.videoTotalFreezeTime,s.isVideoFreeze=!1):(s.audioTotalPlayDuration=1,s.audioTotalFreezeTime=0,s.videoTotalPlayDuration=1,s.videoTotalFreezeTime=0);var c=e&&e.peer_delay&&e.peer_delay.find((function(e){return e.peer_uid==i}));c&&(s.peer_delay=c),o&&(o.isPlaying()&&(s.audioDisabled=o.userMuteAudio||o.peerMuteAudio?"1":"0",s.videoDisabled=o.userMuteVideo||o.peerMuteVideo?"1":"0"),a&&a.peer_delay&&c&&a.peer_delay.stream_type!==c.stream_type&&t.gatewayClient.dispatchEvent({type:"streamTypeChange",uid:i,streamType:c.stream_type}),o.pc&&"established"==o.pc.state&&o.pc.getStats((function(e){if(s.pcStats=e,s.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),s.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),a&&a.audioStats&&s.audioStats){var n=parseInt(s.audioStats.bytesReceived)-parseInt(a.audioStats.bytesReceived),r=parseInt(s.audioStats.googDecodingNormal)-parseInt(a.audioStats.googDecodingNormal);if(s.audioStats.audioRecvBytesDelta=n,s.audioStats.audioDecodingNormalDelta=r,t.session.recvBytes+=n,isFinite(n)&&s.audioStats.timestamp){var i=s.audioStats.timestamp.getTime()-a.audioStats.timestamp.getTime();s.audioRecvBitrate=Math.floor(8*n/i)}t.isAudioFreeze(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.audioTotalFreezeTime++,s.isAudioFreeze=!0),t.isAudioDecodeFailed(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.isAudioDecodeFailed=!0),s.audioStats.audioTotalFreezeTime=s.audioTotalFreezeTime,s.audioStats.audioTotalPlayDuration=s.audioTotalPlayDuration,s.audioStats.audioFreezeRate=Math.ceil(100*s.audioTotalFreezeTime/s.audioTotalPlayDuration)}if(a&&a.videoStats&&s.videoStats){var c=parseInt(s.videoStats.bytesReceived)-parseInt(a.videoStats.bytesReceived);if(s.videoStats.videoRecvBytesDelta=c,t.session.recvBytes+=c,isFinite(c)&&s.videoStats.timestamp){i=s.videoStats.timestamp.getTime()-a.videoStats.timestamp.getTime();s.videoRecvBitrate=Math.floor(8*c/i)}t.isRemoteVideoFreeze(s.videoStats,a.videoStats)&&(s.videoTotalFreezeTime++,s.isVideoFreeze=!0),s.videoStats.videoTotalFreezeTime=s.videoTotalFreezeTime,s.videoStats.videoTotalPlayDuration=s.videoTotalPlayDuration,s.videoStats.videoFreezeRate=Math.ceil(100*s.videoTotalFreezeTime/s.videoTotalPlayDuration),o.player&&o.player.video&&o.player.video.videoWidth&&o.player.video.videoHeight?(s.videoStats.renderRemoteWidth=o.player.video.videoWidth,s.videoStats.renderRemoteHeight=o.player.video.videoHeight):(s.videoStats.renderRemoteWidth=o.videoWidth||s.videoStats.googFrameWidthReceived,s.videoStats.renderRemoteHeight=o.videoHeight||s.videoStats.googFrameHeightReceived)}})))})),t.remoteStats=r;var i={};if(Object.keys(t.gatewayClient.localStreams).forEach((function(e){var r=t.gatewayClient.localStreams[e],o=t.localStats[e],a={id:e,updatedAt:n};i[e]=a,o?(a.videoTotalPlayDuration=o.videoTotalPlayDuration+1,a.videoTotalFreezeTime=o.videoTotalFreezeTime,a.isVideoFreeze=!1):(a.videoTotalPlayDuration=1,a.videoTotalFreezeTime=0),r&&(r.isPlaying()&&(a.audioDisabled=r.userMuteAudio?"1":"0",a.videoDisabled=r.userMuteVideo?"1":"0"),r.video&&r.attributes.maxVideoBW?a.videoTargetSendBitrate=r.attributes.maxVideoBW:r.video&&r.screenAttributes&&(a.videoTargetSendBitrate=r.screenAttributes.maxVideoBW),r.pc&&"established"==r.pc.state&&r.pc.getStats((function(e){if(a.pcStats=e.reverse(),a.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),a.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),a.audioStats&&o&&o.audioStats){var n=parseInt(a.audioStats.bytesSent)-parseInt(o.audioStats.bytesSent);if(a.audioStats.audioSendBytesDelta=n,t.session.sendBytes+=n,isFinite(n)&&a.audioStats.timestamp){var i=a.audioStats.timestamp.getTime()-o.audioStats.timestamp.getTime();a.audioSendBitrate=Math.floor(8*n/i)}}if(a.videoStats&&o&&o.videoStats){var s=parseInt(a.videoStats.bytesSent)-parseInt(o.videoStats.bytesSent);if(a.videoStats.videoSendBytesDelta=s,t.session.sendBytes+=s,isFinite(s)&&a.videoStats.timestamp){i=a.videoStats.timestamp.getTime()-o.videoStats.timestamp.getTime();a.videoSendBitrate=Math.floor(8*s/i)}t.isLocalVideoFreeze(a.videoStats,o.videoStats)&&(a.videoTotalFreezeTime++,a.isVideoFreeze=!0),a.videoStats.videoTotalFreezeTime=a.videoTotalFreezeTime,a.videoStats.videoTotalPlayDuration=a.videoTotalPlayDuration,a.videoStats.videoFreezeRate=Math.ceil(100*a.videoTotalFreezeTime/a.videoTotalPlayDuration),a.videoStats.renderLocalWidth=r.videoWidth||a.videoStats.googFrameWidthSent,a.videoStats.renderLocalHeight=r.videoHeight||a.videoStats.googFrameHeightSent}})))})),t.localStats=i,t.session.HTTPSendBytesDelta=Object(O.getHTTPSendBytes)()-t.session.HTTPSendBytes,t.session.HTTPSendBytes=Object(O.getHTTPSendBytes)(),t.session.HTTPRecvBytesDelta=Object(O.getHTTPRecvBytes)()-t.session.HTTPRecvBytes,t.session.HTTPRecvBytes=Object(O.getHTTPRecvBytes)(),t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED){var o=t.gatewayClient.socket;t.session.WSSendBytesDelta=o.getSendBytes()-t.session.WSSendBytes,t.session.WSSendBytes=o.getSendBytes(),t.session.WSRecvBytesDelta=o.getRecvBytes()-t.session.WSRecvBytes,t.session.WSRecvBytes=o.getRecvBytes()}}),1e3),t.gatewayClient.on("join",(function(){t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0}})),t}(t.gatewayClient),t.configDistributManager=function(e){var t={};return t.client=e,t.client.gatewayClient&&t.client.gatewayClient.on("config-distribute",(function(n){var a=n.joinInfo,s=n.config;if(s){Object(M.isEmpty)(s.uploadLog)||(Object(r.setParameter)("UPLOAD_LOG",s.uploadLog),o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"uploadLog",value:s.uploadLog}})()),Object(M.isEmpty)(s.dualStream)||(e.isDualStream=s.dualStream,o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"dualStream",value:s.dualStream}})()),Object(M.isEmpty)(s.streamFallbackOption)||t.client.gatewayClient&&t.client.gatewayClient.on("stream-subscribed",(function(e){var n=e.stream;n?(t.client.gatewayClient.setStreamFallbackOption(n,s.streamFallbackOption),o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId()}})()):o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId(),err:"invalid stream"}})()}));try{i.default.debug("[".concat(e.clientId,"] setParameter in distribution: ").concat(JSON.stringify(s))),Object.keys(s).map((function(e){return Object(r.setParameter)(e,s[e])}))}catch(t){i.default.debug("[".concat(e.clientId,"] setParameter in distribution failed: ").concat(JSON.stringify(s)))}}})),t}(t),Object(x.addLiveStreamingCapability)(t,e),e.areaCode){var n=e,c=n.areaCode,f=n.excludedArea,p=Object(B.getAreaCodeByConfig)({areaCode:c,excludedArea:f});Object(r.setParameter)("AREA_SETTING",p);var m=Object(B.getAreaDomainConfig)(p);Object.keys(m).map((function(e){var t=m[e];"LOG_UPLOAD_SERVER"==e||"EVENT_REPORT_DOMAIN"==e||"EVENT_REPORT_BACKUP_DOMAIN"==e||"NGINX"==e?Object(r.setParameter)(e,t[0]):Object(r.setParameter)(e,t)}))}return Object(M.isEmpty)(e.turnServer)||t.setTurnServer(e.turnServer),Object(M.isEmpty)(e.proxyServer)||t.setProxyServer(e.proxyServer),"live"===t.mode&&(t.gatewayClient.role="audience"),"rtc"===t.mode&&(t.gatewayClient.role=G),t.gatewayClient.on("onMultiIP",(function(e){t.gatewayClient.closeGateway(),t.gatewayClient.socket=void 0,t.gatewayClient.hasChangeBGPAddress=!0,t.joinInfo.multiIP=e.option,t.gatewayClient.state=R.a.CONNECTING;var n=function(e){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(t.channel)),t.joinInfo.cid=e.cid,t.joinInfo.uid||(t.joinInfo.uid=e.uid),t.joinInfo.uni_lbs_ip=e.uni_lbs_ip,t.joinInfo.gatewayAddr=e.gateway_addr,t.onSuccess?t.gatewayClient.join(t.joinInfo,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(t.channel," success"));var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(e)}),t.onFailure):(t.gatewayClient.joinInfo=y()({},t.joinInfo),t.gatewayClient.rejoin())};t.joinInfo.stringUid&&!t.joinInfo.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(b.getUserAccount)(joinInfo,t.gatewayClient),t.userAccountReq.then((function(e){i.default.error("getUserAccount Success ".concat(e.url," ").concat(joinInfo.stringUid," => ").concat(e.uid)),t.joinInfo.uid=e.uid,Object(b.getGatewayList)(t.joinInfo,n,t.onFailure)})).catch((function(e){i.default.error("getUserAccount rejected",e),t.onFailure(e)}))):Object(b.getGatewayList)(t.joinInfo,n,t.onFailure)})),t.gatewayClient.on("rejoin-start",(function(){t._renewSession(),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{rejoin:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("recover",(function(){t._renewSession(),console.log("recover",e.sessionId),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{recover:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("rejoin",(function(){var e=t.highStreamState;if(i.default.debug("[".concat(t.clientId,"] Client local stream preState: ").concat(e)),t.onSuccess){var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(t.joinInfo.uid)}!t.highStream||0!==e&&1!==e||(i.default.info("[".concat(t.clientId,"] publish after rejoin")),t.highStreamState=2,t.lowStreamState=2,t.publish(t.highStream,(function(e){e&&i.default.info("[".concat(t.clientId,"] "),e)})))})),t.gatewayClient.on("streamPublished",(function(e){t.hasPublished||(t.hasPublished=!0,t.gatewayClient.dispatchEvent({type:"stream-published",stream:e.stream,proxy:e.proxy}))})),t.gatewayClient.on("pubP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect local peerConnection: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:t.highStream.getId()}),1===t.highStreamState&&(t.highStreamState=0,t.lowStreamState=0),t._unpublish(t.highStream,(function(){t._publish(t.highStream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection success: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!0,reason:""})}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)})),t.gatewayClient.on("subP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect remote peerConnection: ").concat(e.stream.getId()," ").concat(e.stream.subscribeOptions)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:e.stream.getId()});var n=e.stream.subscribeOptions;console.log("Re-subscribe stream",n,e.stream),t.gatewayClient.unsubscribe(e.stream,(function(){e.stream.subscribeOptions=n,t.gatewayClient.subscribe(e.stream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection success: ").concat(e.stream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!0,reason:""})}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))})),P.on("networkTypeChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"network-type-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("recordingDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"recording-device-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("playoutDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"playout-device-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("cameraChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"camera-changed"});t.gatewayClient.dispatchEvent(n)})),t.gatewayClient.on("streamTypeChange",(function(n){var r=y()({},n,{type:"stream-type-changed"});t.gatewayClient.dispatchEvent(r),o.report.reportApiInvoke(e.sessionId,{name:"streamTypeChange"})(null,JSON.stringify(n))})),t},q={width:640,height:360,videoBitrate:400,videoFramerate:15,lowLatency:!1,audioSampleRate:48e3,audioBitrate:48,audioChannels:1,videoGop:30,videoCodecProfile:100,userCount:0,userConfigExtraInfo:{},backgroundColor:0,transcodingUsers:[]},J=function(e){switch(e){case"h264_interop":return"h264";default:return"vp8"}},Y=function(e){return-1===m.indexOf(e.mode)?T.default.INVALID_CLIENT_MODE:-1===h.indexOf(e.codec)?T.default.INVALID_CLIENT_CODEC:"h264_interop"==e.mode&&"h264"!==e.codec&&T.default.CLIENT_MODE_CODEC_MISMATCH},K=function(e){switch(e.mode){case"interop":case"h264_interop":e.mode="live";break;case"web-only":e.mode="rtc"}},z=l.a.getDevices,X=f.a.getScreenSources,Q=JSON.parse(JSON.stringify(r.SUPPORT_RESOLUTION_LIST));t.default={TranscodingUser:{uid:0,x:0,y:0,width:0,height:0,zOrder:0,alpha:1},LiveTranscoding:q,createClient:function(e){var t=o.report.reportApiInvoke(null,{name:"createClient",options:arguments,tag:"tracer"});(e=y()({},e||{})).codec||(e.codec=J(e.mode));var n=Y(e);if(n)throw i.default.error("Invalid parameter setting MODE: ".concat(e.mode," CODEC: ").concat(e.codec," ERROR ").concat(n)),t(n),new Error(n);return i.default.info("Creating client, MODE: ".concat(e.mode," CODEC: ").concat(e.codec)),K(e),t(null,e),H(e)},createStream:u.b,Logger:i.default,report:o.report,getDevices:z,getScreenSources:X,getParameter:r.getParameter,setParameter:r.setParameter,checkSystemRequirements:function(){var e=o.report.reportApiInvoke(null,{name:"checkSystemRequirements",options:arguments,tag:"tracer"}),t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket,a=!!t&&!!n&&!!r,c=!1;s.isChrome()&&s.getBrowserVersion()>=58&&"iOS"!==s.getBrowserOS()&&(c=!0),s.isFireFox()&&s.getBrowserVersion()>=56&&(c=!0),s.isOpera()&&s.getBrowserVersion()>=45&&(c=!0),s.isSafari()&&s.getBrowserVersion()>=11&&(c=!0),s.isEdge()&&(c=!0),(s.isWeChatBrowser()||s.isQQBrowser())&&"iOS"!==s.getBrowserOS()&&(c=!0),s.isSupportedPC()||s.isSupportedMobile()||(c=!1),i.default.debug(s.getBrowserInfo(),"isAPISupport: "+a+", isVendorAndVersionSupport: "+c);var d=a&&c;return e(null,d),d},getSupportedCodec:p.getSupportedCodec,ChannelMediaRelayConfiguration:g.ChannelMediaRelayConfiguration,VERSION:r.VERSION,BUILD:r.BUILD,PROFILE_TABLE:Q,AUDIO_SAMPLE_RATE_32000:32e3,AUDIO_SAMPLE_RATE_44100:44100,AUDIO_SAMPLE_RATE_48000:48e3,VIDEO_CODEC_PROFILE_BASELINE:66,VIDEO_CODEC_PROFILE_MAIN:77,VIDEO_CODEC_PROFILE_HIGH:100,REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2,AREAS:B.AREAS,AREA_VERSION:"global"}}]).default}));

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

		// Support: Chrome <=57, Firefox <=52
		// In some browsers, typeof returns "function" for HTML <object> elements
		// (i.e., `typeof document.createElement( "object" ) === "function"`).
		// We don't want to classify *any* DOM node as a function.
		// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5
		// Plus for old WebKit, typeof returns "function" for HTML collections
		// (e.g., `typeof document.getElementsByTagName("div") === "function"`). (gh-4756)
		return typeof obj === "function" && typeof obj.nodeType !== "number" &&
			typeof obj.item !== "function";
	};


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.6.0",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a provided context; falls back to the global one
	// if not specified.
	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
						[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return flat( ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
	function( _i, name ) {
		class2type[ "[object " + name + "]" ] = name.toLowerCase();
	} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
( function( window ) {
var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ( {} ).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	pushNative = arr.push,
	push = arr.push,
	slice = arr.slice,

	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[ i ] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +
		"ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +

		// "Attribute values must be CSS identifiers [capture 5]
		// or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +
		whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +
		"*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
			whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
			whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),

		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		return nonHex ?

			// Strip the backslash prefix from a non-hex escape sequence
			nonHex :

			// Replace a hexadecimal escape sequence with the encoded Unicode code point
			// Support: IE <=11+
			// For values outside the Basic Multilingual Plane (BMP), manually construct a
			// surrogate pair
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" +
				ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	// Support: Android<4.0
	// Detect silently failing push.apply
	// eslint-disable-next-line no-unused-expressions
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;

			// Can't trust NodeList.length
			while ( ( target[ j++ ] = els[ i++ ] ) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				// ID selector
				if ( ( m = match[ 1 ] ) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&

				// Support: IE 8 only
				// Exclude object elements
				( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// The technique has to be used as well when a leading combinator is used
				// as such selectors are not recognized by querySelectorAll.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					// We can use :scope instead of the ID hack if the browser
					// supports it & if we're not changing the context.
					if ( newContext !== context || !support.scope ) {

						// Capture the context ID, setting it first if necessary
						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = nid.replace( rcssescape, fcssescape );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {

		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split( "|" ),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[ i ] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( ( cur = cur.nextSibling ) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return ( name === "input" || name === "button" ) && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
					inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem && elem.namespaceURI,
		docElem = elem && ( elem.ownerDocument || elem ).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9 - 11+, Edge 12 - 18+
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
	// Safari 4 - 5 only, Opera <=11.6 - 12.x only
	// IE/Edge & older browsers don't support the :scope pseudo-class.
	// Support: Safari 6.0 only
	// Safari 6.0 supports :scope but it's an alias of :root there.
	support.scope = assert( function( el ) {
		docElem.appendChild( el ).appendChild( document.createElement( "div" ) );
		return typeof el.querySelectorAll !== "undefined" &&
			!el.querySelectorAll( ":scope fieldset div" ).length;
	} );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert( function( el ) {
		el.className = "i";
		return !el.getAttribute( "className" );
	} );

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert( function( el ) {
		el.appendChild( document.createComment( "" ) );
		return !el.getElementsByTagName( "*" ).length;
	} );

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert( function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	} );

	// ID filter and find
	if ( support.getById ) {
		Expr.filter[ "ID" ] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter[ "ID" ] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find[ "TAG" ] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,

				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( ( elem = results[ i++ ] ) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert( function( el ) {

			var input;

			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll( "[selected]" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push( "~=" );
			}

			// Support: IE 11+, Edge 15 - 18+
			// IE 11/Edge don't find elements on a `[name='']` query in some cases.
			// Adding a temporary attribute to the document before the selection works
			// around the issue.
			// Interestingly, IE 10 & older don't seem to have the issue.
			input = document.createElement( "input" );
			input.setAttribute( "name", "" );
			el.appendChild( input );
			if ( !el.querySelectorAll( "[name='']" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
					whitespace + "*(?:''|\"\")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll( ":checked" ).length ) {
				rbuggyQSA.push( ":checked" );
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push( ".#.+[+~]" );
			}

			// Support: Firefox <=3.6 - 5 only
			// Old Firefox doesn't throw on a badly-escaped identifier.
			el.querySelectorAll( "\\\f" );
			rbuggyQSA.push( "[\\r\\n\\f]" );
		} );

		assert( function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement( "input" );
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll( "[name=d]" ).length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll( ":enabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: Opera 10 - 11 only
			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll( "*,:x" );
			rbuggyQSA.push( ",.*:" );
		} );
	}

	if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector ) ) ) ) {

		assert( function( el ) {

			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		} );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			) );
		} :
		function( a, b ) {
			if ( b ) {
				while ( ( b = b.parentNode ) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		// Support: IE 11+, Edge 17 - 18+
		// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
		// two documents; shallow comparisons work.
		// eslint-disable-next-line eqeqeq
		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			// Choose the first element that is related to our preferred document
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( a == document || a.ownerDocument == preferredDoc &&
				contains( preferredDoc, a ) ) {
				return -1;
			}

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( b == document || b.ownerDocument == preferredDoc &&
				contains( preferredDoc, b ) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			return a == document ? -1 :
				b == document ? 1 :
				/* eslint-enable eqeqeq */
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( ( cur = cur.parentNode ) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( ( cur = cur.parentNode ) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[ i ] === bp[ i ] ) {
			i++;
		}

		return i ?

			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[ i ], bp[ i ] ) :

			// Otherwise nodes in our document sort first
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			ap[ i ] == preferredDoc ? -1 :
			bp[ i ] == preferredDoc ? 1 :
			/* eslint-enable eqeqeq */
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||

				// As well, disconnected nodes are said to be in a document
				// fragment in IE 9
				elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			( val = elem.getAttributeNode( name ) ) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {

		// If no nodeType, this is expected to be an array
		while ( ( node = elem[ i++ ] ) ) {

			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {

			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}

	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[ 3 ] = ( match[ 3 ] || match[ 4 ] ||
				match[ 5 ] || "" ).replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {

			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				// nth-* requires argument
				if ( !match[ 3 ] ) {
					Sizzle.error( match[ 0 ] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

				// other types prohibit arguments
			} else if ( match[ 3 ] ) {
				Sizzle.error( match[ 0 ] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&

				// Get excess from tokenize (recursively)
				( excess = tokenize( unquoted, true ) ) &&

				// advance to the next closing parenthesis
				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				// excess is a negative index
				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace +
					")" + className + "(" + whitespace + "|$)" ) ) && classCache(
						className, function( elem ) {
							return pattern.test(
								typeof elem.className === "string" && elem.className ||
								typeof elem.getAttribute !== "undefined" &&
									elem.getAttribute( "class" ) ||
								""
							);
				} );
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				/* eslint-disable max-len */

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
				/* eslint-enable max-len */

			};
		},

		"CHILD": function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}

								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || ( node[ expando ] = {} );

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								( outerCache[ node.uniqueID ] = {} );

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							// Use previously-cached element index if available
							if ( useCache ) {

								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || ( node[ expando ] = {} );

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									( outerCache[ node.uniqueID ] = {} );

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {

								// Use the same loop as above to seek `elem` from the start
								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												( outerCache[ node.uniqueID ] = {} );

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {

			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		// Potentially complex pseudos
		"not": markFunction( function( selector ) {

			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					// Don't keep the element (issue #299)
					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		"has": markFunction( function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		} ),

		"contains": markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		} ),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {

			// lang value must be a valid identifier
			if ( !ridentifier.test( lang || "" ) ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement &&
				( !document.hasFocus || document.hasFocus() ) &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {

			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return ( nodeName === "input" && !!elem.checked ) ||
				( nodeName === "option" && !!elem.selected );
		},

		"selected": function( elem ) {

			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				// eslint-disable-next-line no-unused-expressions
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {

			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos[ "empty" ]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		"last": createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		"even": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"odd": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		// Combinators
		if ( ( match = rcombinators.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				// Cast descendant combinators to space
				type: match[ 0 ].replace( rtrim, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :

			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] ||
							( outerCache[ elem.uniqueID ] = {} );

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = uniqueCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts(
				selector || "*",
				context.nodeType ? [ context ] : context,
				[]
			),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?

				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							// Restore matcherIn since elem is not yet a final match
							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {

				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

					// If the preceding token was a descendant combinator, insert an implicit any-element `*`
					tokens
						.slice( 0, i - 1 )
						.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),

				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				// Support: IE 11+, Edge 17 - 18+
				// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
				// two documents; shallow comparisons work.
				// eslint-disable-next-line eqeqeq
				outermostContext = context == document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					// Support: IE 11+, Edge 17 - 18+
					// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
					// two documents; shallow comparisons work.
					// eslint-disable-next-line eqeqeq
					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {

					// They will have gone through all possible matchers
					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache(
			selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers )
		);

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
			context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find[ "ID" ]( token.matches[ 0 ]
				.replace( runescape, funescape ), context ) || [] )[ 0 ];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			// Abort if we hit a combinator
			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				// Search, expanding context for leading sibling combinators
				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||
						context
				) ) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert( function( el ) {

	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert( function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute( "href" ) === "#";
} ) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	} );
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert( function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
} ) ) {
	addHandle( "value", function( elem, _name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	} );
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert( function( el ) {
	return el.getAttribute( "disabled" ) == null;
} ) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
				( val = elem.getAttributeNode( name ) ) && val.specified ?
					val.value :
					null;
		}
	} );
}

return Sizzle;

} )( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

	return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

}
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			// Support: IE 11+
			// <object> elements with no `data` attribute has an object
			// `contentDocument` with a `null` prototype.
			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the primary Deferred
			primary = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						primary.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( primary.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return primary.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );
		}

		return primary.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
						value :
						value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// Support: IE <=9 only
	// IE <=9 replaces <option> tags with their contents when inserted outside of
	// the select element.
	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: IE <=9 only
if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Only attach events to objects that accept data
		if ( !acceptData( elem ) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( nativeEvent ),

			handlers = (
				dataPriv.get( this, "events" ) || Object.create( null )
			)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
						return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
						return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();

						// Support: Chrome 86+
						// In Chrome, if an element having a focusout handler is blurred by
						// clicking outside of it, it invokes the handler synchronously. If
						// that handler calls `.remove()` on the element, the data is cleared,
						// leaving `result` undefined. We need to guard against this.
						return result && result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,
	which: true
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		// Suppress native focus or blur as it's already being fired
		// in leverageNative.
		_default: function() {
			return true;
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		// Support: IE 9 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Behavior in IE 9 is more subtle than in newer versions & it passes
		// some versions of this test; make sure not to make it pass there!
		//
		// Support: Firefox 70+
		// Only Firefox includes border widths
		// in computed dimensions. (gh-4529)
		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";
				tr.style.cssText = "border:1px solid";

				// Support: Chrome 86+
				// Height set through cssText does not get applied.
				// Computed height then comes back as 0.
				tr.style.height = "1px";
				trChild.style.height = "9px";

				// Support: Android 8 Chrome 86+
				// In our bodyBackground.html iframe,
				// display for all div elements is set to "inline",
				// which causes a problem only in Android 8 Chrome 86.
				// Ensuring the div is display: block
				// gets around this issue.
				trChild.style.display = "block";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +
					parseInt( trStyle.borderTopWidth, 10 ) +
					parseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Support: IE 9 - 11 only
	// Use offsetWidth/offsetHeight for when box sizing is unreliable.
	// In those cases, the computed value can be trusted to be border-box.
	if ( ( !support.boxSizingReliable() && isBorderBox ||

		// Support: IE 10 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Interestingly, in some cases IE 9 doesn't suffer from this issue.
		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		// Fall back to offsetWidth/offsetHeight when value is "auto"
		// This happens for inline elements with no explicit setting (gh-3571)
		val === "auto" ||

		// Support: Android <=4.1 - 4.3 only
		// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		// Make sure the element is visible & connected
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
					swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, dimension, extra );
					} ) :
					getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
			) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
				jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

				/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
					animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};

		doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
							"" :
							dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || Object.create( null ) )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {

				// Handle: regular nodes (via `this.ownerDocument`), window
				// (via `this.document`) & document (via `this`).
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, parserErrorElem;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {}

	parserErrorElem = xml && xml.getElementsByTagName( "parsererror" )[ 0 ];
	if ( !xml || parserErrorElem ) {
		jQuery.error( "Invalid XML: " + (
			parserErrorElem ?
				jQuery.map( parserErrorElem.childNodes, function( el ) {
					return el.textContent;
				} ).join( "\n" ) :
				data
		) );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} ).filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} ).map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );

originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Use a noop converter for missing script but not if jsonp
			if ( !isSuccess &&
				jQuery.inArray( "script", s.dataTypes ) > -1 &&
				jQuery.inArray( "json", s.dataTypes ) < 0 ) {
				s.converters[ "text script" ] = function() {};
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( {
		padding: "inner" + name,
		content: type,
		"": "outer" + name
	}, function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );

jQuery.each(
	( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	}
);




// Support: Android <=4.0 only
// Make sure we trim BOM and NBSP
var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "" );
};



// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery, $, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */
var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */
(function (factory) {
  window.cash = factory();
})(function () {
  var doc = document,
      win = window,
      ArrayProto = Array.prototype,
      slice = ArrayProto.slice,
      filter = ArrayProto.filter,
      push = ArrayProto.push;

  var noop = function () {},
      isFunction = function (item) {
    // @see https://crbug.com/568448
    return typeof item === typeof noop && item.call;
  },
      isString = function (item) {
    return typeof item === typeof "";
  };

  var idMatch = /^#[\w-]*$/,
      classMatch = /^\.[\w-]*$/,
      htmlMatch = /<.+>/,
      singlet = /^\w+$/;

  function find(selector, context) {
    context = context || doc;
    var elems = classMatch.test(selector) ? context.getElementsByClassName(selector.slice(1)) : singlet.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);
    return elems;
  }

  var frag;
  function parseHTML(str) {
    if (!frag) {
      frag = doc.implementation.createHTMLDocument(null);
      var base = frag.createElement("base");
      base.href = doc.location.href;
      frag.head.appendChild(base);
    }

    frag.body.innerHTML = str;

    return frag.body.childNodes;
  }

  function onReady(fn) {
    if (doc.readyState !== "loading") {
      fn();
    } else {
      doc.addEventListener("DOMContentLoaded", fn);
    }
  }

  function Init(selector, context) {
    if (!selector) {
      return this;
    }

    // If already a cash collection, don't do any further processing
    if (selector.cash && selector !== win) {
      return selector;
    }

    var elems = selector,
        i = 0,
        length;

    if (isString(selector)) {
      elems = idMatch.test(selector) ?
      // If an ID use the faster getElementById check
      doc.getElementById(selector.slice(1)) : htmlMatch.test(selector) ?
      // If HTML, parse it into real elements
      parseHTML(selector) :
      // else use `find`
      find(selector, context);

      // If function, use as shortcut for DOM ready
    } else if (isFunction(selector)) {
      onReady(selector);return this;
    }

    if (!elems) {
      return this;
    }

    // If a single DOM element is passed in or received via ID, return the single element
    if (elems.nodeType || elems === win) {
      this[0] = elems;
      this.length = 1;
    } else {
      // Treat like an array and loop through each item.
      length = this.length = elems.length;
      for (; i < length; i++) {
        this[i] = elems[i];
      }
    }

    return this;
  }

  function cash(selector, context) {
    return new Init(selector, context);
  }

  var fn = cash.fn = cash.prototype = Init.prototype = { // jshint ignore:line
    cash: true,
    length: 0,
    push: push,
    splice: ArrayProto.splice,
    map: ArrayProto.map,
    init: Init
  };

  Object.defineProperty(fn, "constructor", { value: cash });

  cash.parseHTML = parseHTML;
  cash.noop = noop;
  cash.isFunction = isFunction;
  cash.isString = isString;

  cash.extend = fn.extend = function (target) {
    target = target || {};

    var args = slice.call(arguments),
        length = args.length,
        i = 1;

    if (args.length === 1) {
      target = this;
      i = 0;
    }

    for (; i < length; i++) {
      if (!args[i]) {
        continue;
      }
      for (var key in args[i]) {
        if (args[i].hasOwnProperty(key)) {
          target[key] = args[i][key];
        }
      }
    }

    return target;
  };

  function each(collection, callback) {
    var l = collection.length,
        i = 0;

    for (; i < l; i++) {
      if (callback.call(collection[i], collection[i], i, collection) === false) {
        break;
      }
    }
  }

  function matches(el, selector) {
    var m = el && (el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector || el.oMatchesSelector);
    return !!m && m.call(el, selector);
  }

  function getCompareFunction(selector) {
    return (
      /* Use browser's `matches` function if string */
      isString(selector) ? matches :
      /* Match a cash element */
      selector.cash ? function (el) {
        return selector.is(el);
      } :
      /* Direct comparison */
      function (el, selector) {
        return el === selector;
      }
    );
  }

  function unique(collection) {
    return cash(slice.call(collection).filter(function (item, index, self) {
      return self.indexOf(item) === index;
    }));
  }

  cash.extend({
    merge: function (first, second) {
      var len = +second.length,
          i = first.length,
          j = 0;

      for (; j < len; i++, j++) {
        first[i] = second[j];
      }

      first.length = i;
      return first;
    },

    each: each,
    matches: matches,
    unique: unique,
    isArray: Array.isArray,
    isNumeric: function (n) {
      return !isNaN(parseFloat(n)) && isFinite(n);
    }

  });

  var uid = cash.uid = "_cash" + Date.now();

  function getDataCache(node) {
    return node[uid] = node[uid] || {};
  }

  function setData(node, key, value) {
    return getDataCache(node)[key] = value;
  }

  function getData(node, key) {
    var c = getDataCache(node);
    if (c[key] === undefined) {
      c[key] = node.dataset ? node.dataset[key] : cash(node).attr("data-" + key);
    }
    return c[key];
  }

  function removeData(node, key) {
    var c = getDataCache(node);
    if (c) {
      delete c[key];
    } else if (node.dataset) {
      delete node.dataset[key];
    } else {
      cash(node).removeAttr("data-" + name);
    }
  }

  fn.extend({
    data: function (name, value) {
      if (isString(name)) {
        return value === undefined ? getData(this[0], name) : this.each(function (v) {
          return setData(v, name, value);
        });
      }

      for (var key in name) {
        this.data(key, name[key]);
      }

      return this;
    },

    removeData: function (key) {
      return this.each(function (v) {
        return removeData(v, key);
      });
    }

  });

  var notWhiteMatch = /\S+/g;

  function getClasses(c) {
    return isString(c) && c.match(notWhiteMatch);
  }

  function hasClass(v, c) {
    return v.classList ? v.classList.contains(c) : new RegExp("(^| )" + c + "( |$)", "gi").test(v.className);
  }

  function addClass(v, c, spacedName) {
    if (v.classList) {
      v.classList.add(c);
    } else if (spacedName.indexOf(" " + c + " ")) {
      v.className += " " + c;
    }
  }

  function removeClass(v, c) {
    if (v.classList) {
      v.classList.remove(c);
    } else {
      v.className = v.className.replace(c, "");
    }
  }

  fn.extend({
    addClass: function (c) {
      var classes = getClasses(c);

      return classes ? this.each(function (v) {
        var spacedName = " " + v.className + " ";
        each(classes, function (c) {
          addClass(v, c, spacedName);
        });
      }) : this;
    },

    attr: function (name, value) {
      if (!name) {
        return undefined;
      }

      if (isString(name)) {
        if (value === undefined) {
          return this[0] ? this[0].getAttribute ? this[0].getAttribute(name) : this[0][name] : undefined;
        }

        return this.each(function (v) {
          if (v.setAttribute) {
            v.setAttribute(name, value);
          } else {
            v[name] = value;
          }
        });
      }

      for (var key in name) {
        this.attr(key, name[key]);
      }

      return this;
    },

    hasClass: function (c) {
      var check = false,
          classes = getClasses(c);
      if (classes && classes.length) {
        this.each(function (v) {
          check = hasClass(v, classes[0]);
          return !check;
        });
      }
      return check;
    },

    prop: function (name, value) {
      if (isString(name)) {
        return value === undefined ? this[0][name] : this.each(function (v) {
          v[name] = value;
        });
      }

      for (var key in name) {
        this.prop(key, name[key]);
      }

      return this;
    },

    removeAttr: function (name) {
      return this.each(function (v) {
        if (v.removeAttribute) {
          v.removeAttribute(name);
        } else {
          delete v[name];
        }
      });
    },

    removeClass: function (c) {
      if (!arguments.length) {
        return this.attr("class", "");
      }
      var classes = getClasses(c);
      return classes ? this.each(function (v) {
        each(classes, function (c) {
          removeClass(v, c);
        });
      }) : this;
    },

    removeProp: function (name) {
      return this.each(function (v) {
        delete v[name];
      });
    },

    toggleClass: function (c, state) {
      if (state !== undefined) {
        return this[state ? "addClass" : "removeClass"](c);
      }
      var classes = getClasses(c);
      return classes ? this.each(function (v) {
        var spacedName = " " + v.className + " ";
        each(classes, function (c) {
          if (hasClass(v, c)) {
            removeClass(v, c);
          } else {
            addClass(v, c, spacedName);
          }
        });
      }) : this;
    } });

  fn.extend({
    add: function (selector, context) {
      return unique(cash.merge(this, cash(selector, context)));
    },

    each: function (callback) {
      each(this, callback);
      return this;
    },

    eq: function (index) {
      return cash(this.get(index));
    },

    filter: function (selector) {
      if (!selector) {
        return this;
      }

      var comparator = isFunction(selector) ? selector : getCompareFunction(selector);

      return cash(filter.call(this, function (e) {
        return comparator(e, selector);
      }));
    },

    first: function () {
      return this.eq(0);
    },

    get: function (index) {
      if (index === undefined) {
        return slice.call(this);
      }
      return index < 0 ? this[index + this.length] : this[index];
    },

    index: function (elem) {
      var child = elem ? cash(elem)[0] : this[0],
          collection = elem ? this : cash(child).parent().children();
      return slice.call(collection).indexOf(child);
    },

    last: function () {
      return this.eq(-1);
    }

  });

  var camelCase = function () {
    var camelRegex = /(?:^\w|[A-Z]|\b\w)/g,
        whiteSpace = /[\s-_]+/g;
    return function (str) {
      return str.replace(camelRegex, function (letter, index) {
        return letter[index === 0 ? "toLowerCase" : "toUpperCase"]();
      }).replace(whiteSpace, "");
    };
  }();

  var getPrefixedProp = function () {
    var cache = {},
        doc = document,
        div = doc.createElement("div"),
        style = div.style;

    return function (prop) {
      prop = camelCase(prop);
      if (cache[prop]) {
        return cache[prop];
      }

      var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),
          prefixes = ["webkit", "moz", "ms", "o"],
          props = (prop + " " + prefixes.join(ucProp + " ") + ucProp).split(" ");

      each(props, function (p) {
        if (p in style) {
          cache[p] = prop = cache[prop] = p;
          return false;
        }
      });

      return cache[prop];
    };
  }();

  cash.prefixedProp = getPrefixedProp;
  cash.camelCase = camelCase;

  fn.extend({
    css: function (prop, value) {
      if (isString(prop)) {
        prop = getPrefixedProp(prop);
        return arguments.length > 1 ? this.each(function (v) {
          return v.style[prop] = value;
        }) : win.getComputedStyle(this[0])[prop];
      }

      for (var key in prop) {
        this.css(key, prop[key]);
      }

      return this;
    }

  });

  function compute(el, prop) {
    return parseInt(win.getComputedStyle(el[0], null)[prop], 10) || 0;
  }

  each(["Width", "Height"], function (v) {
    var lower = v.toLowerCase();

    fn[lower] = function () {
      return this[0].getBoundingClientRect()[lower];
    };

    fn["inner" + v] = function () {
      return this[0]["client" + v];
    };

    fn["outer" + v] = function (margins) {
      return this[0]["offset" + v] + (margins ? compute(this, "margin" + (v === "Width" ? "Left" : "Top")) + compute(this, "margin" + (v === "Width" ? "Right" : "Bottom")) : 0);
    };
  });

  function registerEvent(node, eventName, callback) {
    var eventCache = getData(node, "_cashEvents") || setData(node, "_cashEvents", {});
    eventCache[eventName] = eventCache[eventName] || [];
    eventCache[eventName].push(callback);
    node.addEventListener(eventName, callback);
  }

  function removeEvent(node, eventName, callback) {
    var events = getData(node, "_cashEvents"),
        eventCache = events && events[eventName],
        index;

    if (!eventCache) {
      return;
    }

    if (callback) {
      node.removeEventListener(eventName, callback);
      index = eventCache.indexOf(callback);
      if (index >= 0) {
        eventCache.splice(index, 1);
      }
    } else {
      each(eventCache, function (event) {
        node.removeEventListener(eventName, event);
      });
      eventCache = [];
    }
  }

  fn.extend({
    off: function (eventName, callback) {
      return this.each(function (v) {
        return removeEvent(v, eventName, callback);
      });
    },

    on: function (eventName, delegate, callback, runOnce) {
      // jshint ignore:line
      var originalCallback;
      if (!isString(eventName)) {
        for (var key in eventName) {
          this.on(key, delegate, eventName[key]);
        }
        return this;
      }

      if (isFunction(delegate)) {
        callback = delegate;
        delegate = null;
      }

      if (eventName === "ready") {
        onReady(callback);
        return this;
      }

      if (delegate) {
        originalCallback = callback;
        callback = function (e) {
          var t = e.target;
          while (!matches(t, delegate)) {
            if (t === this || t === null) {
              return t = false;
            }

            t = t.parentNode;
          }

          if (t) {
            originalCallback.call(t, e);
          }
        };
      }

      return this.each(function (v) {
        var finalCallback = callback;
        if (runOnce) {
          finalCallback = function () {
            callback.apply(this, arguments);
            removeEvent(v, eventName, finalCallback);
          };
        }
        registerEvent(v, eventName, finalCallback);
      });
    },

    one: function (eventName, delegate, callback) {
      return this.on(eventName, delegate, callback, true);
    },

    ready: onReady,

    /**
     * Modified
     * Triggers browser event
     * @param String eventName
     * @param Object data - Add properties to event object
     */
    trigger: function (eventName, data) {
      if (document.createEvent) {
        var evt = document.createEvent('HTMLEvents');
        evt.initEvent(eventName, true, false);
        evt = this.extend(evt, data);
        return this.each(function (v) {
          return v.dispatchEvent(evt);
        });
      }
    }

  });

  function encode(name, value) {
    return "&" + encodeURIComponent(name) + "=" + encodeURIComponent(value).replace(/%20/g, "+");
  }

  function getSelectMultiple_(el) {
    var values = [];
    each(el.options, function (o) {
      if (o.selected) {
        values.push(o.value);
      }
    });
    return values.length ? values : null;
  }

  function getSelectSingle_(el) {
    var selectedIndex = el.selectedIndex;
    return selectedIndex >= 0 ? el.options[selectedIndex].value : null;
  }

  function getValue(el) {
    var type = el.type;
    if (!type) {
      return null;
    }
    switch (type.toLowerCase()) {
      case "select-one":
        return getSelectSingle_(el);
      case "select-multiple":
        return getSelectMultiple_(el);
      case "radio":
        return el.checked ? el.value : null;
      case "checkbox":
        return el.checked ? el.value : null;
      default:
        return el.value ? el.value : null;
    }
  }

  fn.extend({
    serialize: function () {
      var query = "";

      each(this[0].elements || this, function (el) {
        if (el.disabled || el.tagName === "FIELDSET") {
          return;
        }
        var name = el.name;
        switch (el.type.toLowerCase()) {
          case "file":
          case "reset":
          case "submit":
          case "button":
            break;
          case "select-multiple":
            var values = getValue(el);
            if (values !== null) {
              each(values, function (value) {
                query += encode(name, value);
              });
            }
            break;
          default:
            var value = getValue(el);
            if (value !== null) {
              query += encode(name, value);
            }
        }
      });

      return query.substr(1);
    },

    val: function (value) {
      if (value === undefined) {
        return getValue(this[0]);
      }

      return this.each(function (v) {
        return v.value = value;
      });
    }

  });

  function insertElement(el, child, prepend) {
    if (prepend) {
      var first = el.childNodes[0];
      el.insertBefore(child, first);
    } else {
      el.appendChild(child);
    }
  }

  function insertContent(parent, child, prepend) {
    var str = isString(child);

    if (!str && child.length) {
      each(child, function (v) {
        return insertContent(parent, v, prepend);
      });
      return;
    }

    each(parent, str ? function (v) {
      return v.insertAdjacentHTML(prepend ? "afterbegin" : "beforeend", child);
    } : function (v, i) {
      return insertElement(v, i === 0 ? child : child.cloneNode(true), prepend);
    });
  }

  fn.extend({
    after: function (selector) {
      cash(selector).insertAfter(this);
      return this;
    },

    append: function (content) {
      insertContent(this, content);
      return this;
    },

    appendTo: function (parent) {
      insertContent(cash(parent), this);
      return this;
    },

    before: function (selector) {
      cash(selector).insertBefore(this);
      return this;
    },

    clone: function () {
      return cash(this.map(function (v) {
        return v.cloneNode(true);
      }));
    },

    empty: function () {
      this.html("");
      return this;
    },

    html: function (content) {
      if (content === undefined) {
        return this[0].innerHTML;
      }
      var source = content.nodeType ? content[0].outerHTML : content;
      return this.each(function (v) {
        return v.innerHTML = source;
      });
    },

    insertAfter: function (selector) {
      var _this = this;

      cash(selector).each(function (el, i) {
        var parent = el.parentNode,
            sibling = el.nextSibling;
        _this.each(function (v) {
          parent.insertBefore(i === 0 ? v : v.cloneNode(true), sibling);
        });
      });

      return this;
    },

    insertBefore: function (selector) {
      var _this2 = this;
      cash(selector).each(function (el, i) {
        var parent = el.parentNode;
        _this2.each(function (v) {
          parent.insertBefore(i === 0 ? v : v.cloneNode(true), el);
        });
      });
      return this;
    },

    prepend: function (content) {
      insertContent(this, content, true);
      return this;
    },

    prependTo: function (parent) {
      insertContent(cash(parent), this, true);
      return this;
    },

    remove: function () {
      return this.each(function (v) {
        if (!!v.parentNode) {
          return v.parentNode.removeChild(v);
        }
      });
    },

    text: function (content) {
      if (content === undefined) {
        return this[0].textContent;
      }
      return this.each(function (v) {
        return v.textContent = content;
      });
    }

  });

  var docEl = doc.documentElement;

  fn.extend({
    position: function () {
      var el = this[0];
      return {
        left: el.offsetLeft,
        top: el.offsetTop
      };
    },

    offset: function () {
      var rect = this[0].getBoundingClientRect();
      return {
        top: rect.top + win.pageYOffset - docEl.clientTop,
        left: rect.left + win.pageXOffset - docEl.clientLeft
      };
    },

    offsetParent: function () {
      return cash(this[0].offsetParent);
    }

  });

  fn.extend({
    children: function (selector) {
      var elems = [];
      this.each(function (el) {
        push.apply(elems, el.children);
      });
      elems = unique(elems);

      return !selector ? elems : elems.filter(function (v) {
        return matches(v, selector);
      });
    },

    closest: function (selector) {
      if (!selector || this.length < 1) {
        return cash();
      }
      if (this.is(selector)) {
        return this.filter(selector);
      }
      return this.parent().closest(selector);
    },

    is: function (selector) {
      if (!selector) {
        return false;
      }

      var match = false,
          comparator = getCompareFunction(selector);

      this.each(function (el) {
        match = comparator(el, selector);
        return !match;
      });

      return match;
    },

    find: function (selector) {
      if (!selector || selector.nodeType) {
        return cash(selector && this.has(selector).length ? selector : null);
      }

      var elems = [];
      this.each(function (el) {
        push.apply(elems, find(selector, el));
      });

      return unique(elems);
    },

    has: function (selector) {
      var comparator = isString(selector) ? function (el) {
        return find(selector, el).length !== 0;
      } : function (el) {
        return el.contains(selector);
      };

      return this.filter(comparator);
    },

    next: function () {
      return cash(this[0].nextElementSibling);
    },

    not: function (selector) {
      if (!selector) {
        return this;
      }

      var comparator = getCompareFunction(selector);

      return this.filter(function (el) {
        return !comparator(el, selector);
      });
    },

    parent: function () {
      var result = [];

      this.each(function (item) {
        if (item && item.parentNode) {
          result.push(item.parentNode);
        }
      });

      return unique(result);
    },

    parents: function (selector) {
      var last,
          result = [];

      this.each(function (item) {
        last = item;

        while (last && last.parentNode && last !== doc.body.parentNode) {
          last = last.parentNode;

          if (!selector || selector && matches(last, selector)) {
            result.push(last);
          }
        }
      });

      return unique(result);
    },

    prev: function () {
      return cash(this[0].previousElementSibling);
    },

    siblings: function (selector) {
      var collection = this.parent().children(selector),
          el = this[0];

      return collection.filter(function (i) {
        return i !== el;
      });
    }

  });

  return cash;
});
;
var Component = function () {
  /**
   * Generic constructor for all components
   * @constructor
   * @param {Element} el
   * @param {Object} options
   */
  function Component(classDef, el, options) {
    _classCallCheck(this, Component);

    // Display error if el is valid HTML Element
    if (!(el instanceof Element)) {
      console.error(Error(el + ' is not an HTML Element'));
    }

    // If exists, destroy and reinitialize in child
    var ins = classDef.getInstance(el);
    if (!!ins) {
      ins.destroy();
    }

    this.el = el;
    this.$el = cash(el);
  }

  /**
   * Initializes components
   * @param {class} classDef
   * @param {Element | NodeList | jQuery} els
   * @param {Object} options
   */


  _createClass(Component, null, [{
    key: "init",
    value: function init(classDef, els, options) {
      var instances = null;
      if (els instanceof Element) {
        instances = new classDef(els, options);
      } else if (!!els && (els.jquery || els.cash || els instanceof NodeList)) {
        var instancesArr = [];
        for (var i = 0; i < els.length; i++) {
          instancesArr.push(new classDef(els[i], options));
        }
        instances = instancesArr;
      }

      return instances;
    }
  }]);

  return Component;
}();

; // Required for Meteor package, the use of window prevents export by Meteor
(function (window) {
  if (window.Package) {
    M = {};
  } else {
    window.M = {};
  }

  // Check for jQuery
  M.jQueryLoaded = !!window.jQuery;
})(window);

// AMD
if (true) {
  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
    return M;
  }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

  // Common JS
} else {}

M.version = '1.0.0';

M.keys = {
  TAB: 9,
  ENTER: 13,
  ESC: 27,
  ARROW_UP: 38,
  ARROW_DOWN: 40
};

/**
 * TabPress Keydown handler
 */
M.tabPressed = false;
M.keyDown = false;
var docHandleKeydown = function (e) {
  M.keyDown = true;
  if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {
    M.tabPressed = true;
  }
};
var docHandleKeyup = function (e) {
  M.keyDown = false;
  if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {
    M.tabPressed = false;
  }
};
var docHandleFocus = function (e) {
  if (M.keyDown) {
    document.body.classList.add('keyboard-focused');
  }
};
var docHandleBlur = function (e) {
  document.body.classList.remove('keyboard-focused');
};
document.addEventListener('keydown', docHandleKeydown, true);
document.addEventListener('keyup', docHandleKeyup, true);
document.addEventListener('focus', docHandleFocus, true);
document.addEventListener('blur', docHandleBlur, true);

/**
 * Initialize jQuery wrapper for plugin
 * @param {Class} plugin  javascript class
 * @param {string} pluginName  jQuery plugin name
 * @param {string} classRef  Class reference name
 */
M.initializeJqueryWrapper = function (plugin, pluginName, classRef) {
  jQuery.fn[pluginName] = function (methodOrOptions) {
    // Call plugin method if valid method name is passed in
    if (plugin.prototype[methodOrOptions]) {
      var params = Array.prototype.slice.call(arguments, 1);

      // Getter methods
      if (methodOrOptions.slice(0, 3) === 'get') {
        var instance = this.first()[0][classRef];
        return instance[methodOrOptions].apply(instance, params);
      }

      // Void methods
      return this.each(function () {
        var instance = this[classRef];
        instance[methodOrOptions].apply(instance, params);
      });

      // Initialize plugin if options or no argument is passed in
    } else if (typeof methodOrOptions === 'object' || !methodOrOptions) {
      plugin.init(this, arguments[0]);
      return this;
    }

    // Return error if an unrecognized  method name is passed in
    jQuery.error("Method " + methodOrOptions + " does not exist on jQuery." + pluginName);
  };
};

/**
 * Automatically initialize components
 * @param {Element} context  DOM Element to search within for components
 */
M.AutoInit = function (context) {
  // Use document.body if no context is given
  var root = !!context ? context : document.body;

  var registry = {
    Autocomplete: root.querySelectorAll('.autocomplete:not(.no-autoinit)'),
    Carousel: root.querySelectorAll('.carousel:not(.no-autoinit)'),
    Chips: root.querySelectorAll('.chips:not(.no-autoinit)'),
    Collapsible: root.querySelectorAll('.collapsible:not(.no-autoinit)'),
    Datepicker: root.querySelectorAll('.datepicker:not(.no-autoinit)'),
    Dropdown: root.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),
    Materialbox: root.querySelectorAll('.materialboxed:not(.no-autoinit)'),
    Modal: root.querySelectorAll('.modal:not(.no-autoinit)'),
    Parallax: root.querySelectorAll('.parallax:not(.no-autoinit)'),
    Pushpin: root.querySelectorAll('.pushpin:not(.no-autoinit)'),
    ScrollSpy: root.querySelectorAll('.scrollspy:not(.no-autoinit)'),
    FormSelect: root.querySelectorAll('select:not(.no-autoinit)'),
    Sidenav: root.querySelectorAll('.sidenav:not(.no-autoinit)'),
    Tabs: root.querySelectorAll('.tabs:not(.no-autoinit)'),
    TapTarget: root.querySelectorAll('.tap-target:not(.no-autoinit)'),
    Timepicker: root.querySelectorAll('.timepicker:not(.no-autoinit)'),
    Tooltip: root.querySelectorAll('.tooltipped:not(.no-autoinit)'),
    FloatingActionButton: root.querySelectorAll('.fixed-action-btn:not(.no-autoinit)')
  };

  for (var pluginName in registry) {
    var plugin = M[pluginName];
    plugin.init(registry[pluginName]);
  }
};

/**
 * Generate approximated selector string for a jQuery object
 * @param {jQuery} obj  jQuery object to be parsed
 * @returns {string}
 */
M.objectSelectorString = function (obj) {
  var tagStr = obj.prop('tagName') || '';
  var idStr = obj.attr('id') || '';
  var classStr = obj.attr('class') || '';
  return (tagStr + idStr + classStr).replace(/\s/g, '');
};

// Unique Random ID
M.guid = function () {
  function s4() {
    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
  }
  return function () {
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
  };
}();

/**
 * Escapes hash from special characters
 * @param {string} hash  String returned from this.hash
 * @returns {string}
 */
M.escapeHash = function (hash) {
  return hash.replace(/(:|\.|\[|\]|,|=|\/)/g, '\\$1');
};

M.elementOrParentIsFixed = function (element) {
  var $element = $(element);
  var $checkElements = $element.add($element.parents());
  var isFixed = false;
  $checkElements.each(function () {
    if ($(this).css('position') === 'fixed') {
      isFixed = true;
      return false;
    }
  });
  return isFixed;
};

/**
 * @typedef {Object} Edges
 * @property {Boolean} top  If the top edge was exceeded
 * @property {Boolean} right  If the right edge was exceeded
 * @property {Boolean} bottom  If the bottom edge was exceeded
 * @property {Boolean} left  If the left edge was exceeded
 */

/**
 * @typedef {Object} Bounding
 * @property {Number} left  left offset coordinate
 * @property {Number} top  top offset coordinate
 * @property {Number} width
 * @property {Number} height
 */

/**
 * Escapes hash from special characters
 * @param {Element} container  Container element that acts as the boundary
 * @param {Bounding} bounding  element bounding that is being checked
 * @param {Number} offset  offset from edge that counts as exceeding
 * @returns {Edges}
 */
M.checkWithinContainer = function (container, bounding, offset) {
  var edges = {
    top: false,
    right: false,
    bottom: false,
    left: false
  };

  var containerRect = container.getBoundingClientRect();
  // If body element is smaller than viewport, use viewport height instead.
  var containerBottom = container === document.body ? Math.max(containerRect.bottom, window.innerHeight) : containerRect.bottom;

  var scrollLeft = container.scrollLeft;
  var scrollTop = container.scrollTop;

  var scrolledX = bounding.left - scrollLeft;
  var scrolledY = bounding.top - scrollTop;

  // Check for container and viewport for each edge
  if (scrolledX < containerRect.left + offset || scrolledX < offset) {
    edges.left = true;
  }

  if (scrolledX + bounding.width > containerRect.right - offset || scrolledX + bounding.width > window.innerWidth - offset) {
    edges.right = true;
  }

  if (scrolledY < containerRect.top + offset || scrolledY < offset) {
    edges.top = true;
  }

  if (scrolledY + bounding.height > containerBottom - offset || scrolledY + bounding.height > window.innerHeight - offset) {
    edges.bottom = true;
  }

  return edges;
};

M.checkPossibleAlignments = function (el, container, bounding, offset) {
  var canAlign = {
    top: true,
    right: true,
    bottom: true,
    left: true,
    spaceOnTop: null,
    spaceOnRight: null,
    spaceOnBottom: null,
    spaceOnLeft: null
  };

  var containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';
  var containerRect = container.getBoundingClientRect();
  var containerHeight = Math.min(containerRect.height, window.innerHeight);
  var containerWidth = Math.min(containerRect.width, window.innerWidth);
  var elOffsetRect = el.getBoundingClientRect();

  var scrollLeft = container.scrollLeft;
  var scrollTop = container.scrollTop;

  var scrolledX = bounding.left - scrollLeft;
  var scrolledYTopEdge = bounding.top - scrollTop;
  var scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;

  // Check for container and viewport for left
  canAlign.spaceOnRight = !containerAllowsOverflow ? containerWidth - (scrolledX + bounding.width) : window.innerWidth - (elOffsetRect.left + bounding.width);
  if (canAlign.spaceOnRight < 0) {
    canAlign.left = false;
  }

  // Check for container and viewport for Right
  canAlign.spaceOnLeft = !containerAllowsOverflow ? scrolledX - bounding.width + elOffsetRect.width : elOffsetRect.right - bounding.width;
  if (canAlign.spaceOnLeft < 0) {
    canAlign.right = false;
  }

  // Check for container and viewport for Top
  canAlign.spaceOnBottom = !containerAllowsOverflow ? containerHeight - (scrolledYTopEdge + bounding.height + offset) : window.innerHeight - (elOffsetRect.top + bounding.height + offset);
  if (canAlign.spaceOnBottom < 0) {
    canAlign.top = false;
  }

  // Check for container and viewport for Bottom
  canAlign.spaceOnTop = !containerAllowsOverflow ? scrolledYBottomEdge - (bounding.height - offset) : elOffsetRect.bottom - (bounding.height + offset);
  if (canAlign.spaceOnTop < 0) {
    canAlign.bottom = false;
  }

  return canAlign;
};

M.getOverflowParent = function (element) {
  if (element == null) {
    return null;
  }

  if (element === document.body || getComputedStyle(element).overflow !== 'visible') {
    return element;
  }

  return M.getOverflowParent(element.parentElement);
};

/**
 * Gets id of component from a trigger
 * @param {Element} trigger  trigger
 * @returns {string}
 */
M.getIdFromTrigger = function (trigger) {
  var id = trigger.getAttribute('data-target');
  if (!id) {
    id = trigger.getAttribute('href');
    if (id) {
      id = id.slice(1);
    } else {
      id = '';
    }
  }
  return id;
};

/**
 * Multi browser support for document scroll top
 * @returns {Number}
 */
M.getDocumentScrollTop = function () {
  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
};

/**
 * Multi browser support for document scroll left
 * @returns {Number}
 */
M.getDocumentScrollLeft = function () {
  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
};

/**
 * @typedef {Object} Edges
 * @property {Boolean} top  If the top edge was exceeded
 * @property {Boolean} right  If the right edge was exceeded
 * @property {Boolean} bottom  If the bottom edge was exceeded
 * @property {Boolean} left  If the left edge was exceeded
 */

/**
 * @typedef {Object} Bounding
 * @property {Number} left  left offset coordinate
 * @property {Number} top  top offset coordinate
 * @property {Number} width
 * @property {Number} height
 */

/**
 * Get time in ms
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @type {function}
 * @return {number}
 */
var getTime = Date.now || function () {
  return new Date().getTime();
};

/**
 * Returns a function, that, when invoked, will only be triggered at most once
 * during a given window of time. Normally, the throttled function will run
 * as much as it can, without ever going more than once per `wait` duration;
 * but if you'd like to disable the execution on the leading edge, pass
 * `{leading: false}`. To disable execution on the trailing edge, ditto.
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @param {function} func
 * @param {number} wait
 * @param {Object=} options
 * @returns {Function}
 */
M.throttle = function (func, wait, options) {
  var context = void 0,
      args = void 0,
      result = void 0;
  var timeout = null;
  var previous = 0;
  options || (options = {});
  var later = function () {
    previous = options.leading === false ? 0 : getTime();
    timeout = null;
    result = func.apply(context, args);
    context = args = null;
  };
  return function () {
    var now = getTime();
    if (!previous && options.leading === false) previous = now;
    var remaining = wait - (now - previous);
    context = this;
    args = arguments;
    if (remaining <= 0) {
      clearTimeout(timeout);
      timeout = null;
      previous = now;
      result = func.apply(context, args);
      context = args = null;
    } else if (!timeout && options.trailing !== false) {
      timeout = setTimeout(later, remaining);
    }
    return result;
  };
};
; /*
  v2.2.0
  2017 Julian Garnier
  Released under the MIT license
  */
var $jscomp = { scope: {} };$jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function (e, r, p) {
  if (p.get || p.set) throw new TypeError("ES3 does not support getters and setters.");e != Array.prototype && e != Object.prototype && (e[r] = p.value);
};$jscomp.getGlobal = function (e) {
  return "undefined" != typeof window && window === e ? e : "undefined" != typeof global && null != global ? global : e;
};$jscomp.global = $jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function () {
  $jscomp.initSymbol = function () {};$jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol);
};$jscomp.symbolCounter_ = 0;$jscomp.Symbol = function (e) {
  return $jscomp.SYMBOL_PREFIX + (e || "") + $jscomp.symbolCounter_++;
};
$jscomp.initSymbolIterator = function () {
  $jscomp.initSymbol();var e = $jscomp.global.Symbol.iterator;e || (e = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));"function" != typeof Array.prototype[e] && $jscomp.defineProperty(Array.prototype, e, { configurable: !0, writable: !0, value: function () {
      return $jscomp.arrayIterator(this);
    } });$jscomp.initSymbolIterator = function () {};
};$jscomp.arrayIterator = function (e) {
  var r = 0;return $jscomp.iteratorPrototype(function () {
    return r < e.length ? { done: !1, value: e[r++] } : { done: !0 };
  });
};
$jscomp.iteratorPrototype = function (e) {
  $jscomp.initSymbolIterator();e = { next: e };e[$jscomp.global.Symbol.iterator] = function () {
    return this;
  };return e;
};$jscomp.array = $jscomp.array || {};$jscomp.iteratorFromArray = function (e, r) {
  $jscomp.initSymbolIterator();e instanceof String && (e += "");var p = 0,
      m = { next: function () {
      if (p < e.length) {
        var u = p++;return { value: r(u, e[u]), done: !1 };
      }m.next = function () {
        return { done: !0, value: void 0 };
      };return m.next();
    } };m[Symbol.iterator] = function () {
    return m;
  };return m;
};
$jscomp.polyfill = function (e, r, p, m) {
  if (r) {
    p = $jscomp.global;e = e.split(".");for (m = 0; m < e.length - 1; m++) {
      var u = e[m];u in p || (p[u] = {});p = p[u];
    }e = e[e.length - 1];m = p[e];r = r(m);r != m && null != r && $jscomp.defineProperty(p, e, { configurable: !0, writable: !0, value: r });
  }
};$jscomp.polyfill("Array.prototype.keys", function (e) {
  return e ? e : function () {
    return $jscomp.iteratorFromArray(this, function (e) {
      return e;
    });
  };
}, "es6-impl", "es3");var $jscomp$this = this;
(function (r) {
  M.anime = r();
})(function () {
  function e(a) {
    if (!h.col(a)) try {
      return document.querySelectorAll(a);
    } catch (c) {}
  }function r(a, c) {
    for (var d = a.length, b = 2 <= arguments.length ? arguments[1] : void 0, f = [], n = 0; n < d; n++) {
      if (n in a) {
        var k = a[n];c.call(b, k, n, a) && f.push(k);
      }
    }return f;
  }function p(a) {
    return a.reduce(function (a, d) {
      return a.concat(h.arr(d) ? p(d) : d);
    }, []);
  }function m(a) {
    if (h.arr(a)) return a;
    h.str(a) && (a = e(a) || a);return a instanceof NodeList || a instanceof HTMLCollection ? [].slice.call(a) : [a];
  }function u(a, c) {
    return a.some(function (a) {
      return a === c;
    });
  }function C(a) {
    var c = {},
        d;for (d in a) {
      c[d] = a[d];
    }return c;
  }function D(a, c) {
    var d = C(a),
        b;for (b in a) {
      d[b] = c.hasOwnProperty(b) ? c[b] : a[b];
    }return d;
  }function z(a, c) {
    var d = C(a),
        b;for (b in c) {
      d[b] = h.und(a[b]) ? c[b] : a[b];
    }return d;
  }function T(a) {
    a = a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (a, c, d, k) {
      return c + c + d + d + k + k;
    });var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
    a = parseInt(c[1], 16);var d = parseInt(c[2], 16),
        c = parseInt(c[3], 16);return "rgba(" + a + "," + d + "," + c + ",1)";
  }function U(a) {
    function c(a, c, b) {
      0 > b && (b += 1);1 < b && --b;return b < 1 / 6 ? a + 6 * (c - a) * b : .5 > b ? c : b < 2 / 3 ? a + (c - a) * (2 / 3 - b) * 6 : a;
    }var d = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(a);a = parseInt(d[1]) / 360;var b = parseInt(d[2]) / 100,
        f = parseInt(d[3]) / 100,
        d = d[4] || 1;if (0 == b) f = b = a = f;else {
      var n = .5 > f ? f * (1 + b) : f + b - f * b,
          k = 2 * f - n,
          f = c(k, n, a + 1 / 3),
          b = c(k, n, a);a = c(k, n, a - 1 / 3);
    }return "rgba(" + 255 * f + "," + 255 * b + "," + 255 * a + "," + d + ")";
  }function y(a) {
    if (a = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a)) return a[2];
  }function V(a) {
    if (-1 < a.indexOf("translate") || "perspective" === a) return "px";if (-1 < a.indexOf("rotate") || -1 < a.indexOf("skew")) return "deg";
  }function I(a, c) {
    return h.fnc(a) ? a(c.target, c.id, c.total) : a;
  }function E(a, c) {
    if (c in a.style) return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0";
  }function J(a, c) {
    if (h.dom(a) && u(W, c)) return "transform";if (h.dom(a) && (a.getAttribute(c) || h.svg(a) && a[c])) return "attribute";if (h.dom(a) && "transform" !== c && E(a, c)) return "css";if (null != a[c]) return "object";
  }function X(a, c) {
    var d = V(c),
        d = -1 < c.indexOf("scale") ? 1 : 0 + d;a = a.style.transform;if (!a) return d;for (var b = [], f = [], n = [], k = /(\w+)\((.+?)\)/g; b = k.exec(a);) {
      f.push(b[1]), n.push(b[2]);
    }a = r(n, function (a, b) {
      return f[b] === c;
    });return a.length ? a[0] : d;
  }function K(a, c) {
    switch (J(a, c)) {case "transform":
        return X(a, c);case "css":
        return E(a, c);case "attribute":
        return a.getAttribute(c);}return a[c] || 0;
  }function L(a, c) {
    var d = /^(\*=|\+=|-=)/.exec(a);if (!d) return a;var b = y(a) || 0;c = parseFloat(c);a = parseFloat(a.replace(d[0], ""));switch (d[0][0]) {case "+":
        return c + a + b;case "-":
        return c - a + b;case "*":
        return c * a + b;}
  }function F(a, c) {
    return Math.sqrt(Math.pow(c.x - a.x, 2) + Math.pow(c.y - a.y, 2));
  }function M(a) {
    a = a.points;for (var c = 0, d, b = 0; b < a.numberOfItems; b++) {
      var f = a.getItem(b);0 < b && (c += F(d, f));d = f;
    }return c;
  }function N(a) {
    if (a.getTotalLength) return a.getTotalLength();switch (a.tagName.toLowerCase()) {case "circle":
        return 2 * Math.PI * a.getAttribute("r");case "rect":
        return 2 * a.getAttribute("width") + 2 * a.getAttribute("height");case "line":
        return F({ x: a.getAttribute("x1"), y: a.getAttribute("y1") }, { x: a.getAttribute("x2"), y: a.getAttribute("y2") });case "polyline":
        return M(a);case "polygon":
        var c = a.points;return M(a) + F(c.getItem(c.numberOfItems - 1), c.getItem(0));}
  }function Y(a, c) {
    function d(b) {
      b = void 0 === b ? 0 : b;return a.el.getPointAtLength(1 <= c + b ? c + b : 0);
    }var b = d(),
        f = d(-1),
        n = d(1);switch (a.property) {case "x":
        return b.x;case "y":
        return b.y;
      case "angle":
        return 180 * Math.atan2(n.y - f.y, n.x - f.x) / Math.PI;}
  }function O(a, c) {
    var d = /-?\d*\.?\d+/g,
        b;b = h.pth(a) ? a.totalLength : a;if (h.col(b)) {
      if (h.rgb(b)) {
        var f = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(b);b = f ? "rgba(" + f[1] + ",1)" : b;
      } else b = h.hex(b) ? T(b) : h.hsl(b) ? U(b) : void 0;
    } else f = (f = y(b)) ? b.substr(0, b.length - f.length) : b, b = c && !/\s/g.test(b) ? f + c : f;b += "";return { original: b, numbers: b.match(d) ? b.match(d).map(Number) : [0], strings: h.str(a) || c ? b.split(d) : [] };
  }function P(a) {
    a = a ? p(h.arr(a) ? a.map(m) : m(a)) : [];return r(a, function (a, d, b) {
      return b.indexOf(a) === d;
    });
  }function Z(a) {
    var c = P(a);return c.map(function (a, b) {
      return { target: a, id: b, total: c.length };
    });
  }function aa(a, c) {
    var d = C(c);if (h.arr(a)) {
      var b = a.length;2 !== b || h.obj(a[0]) ? h.fnc(c.duration) || (d.duration = c.duration / b) : a = { value: a };
    }return m(a).map(function (a, b) {
      b = b ? 0 : c.delay;a = h.obj(a) && !h.pth(a) ? a : { value: a };h.und(a.delay) && (a.delay = b);return a;
    }).map(function (a) {
      return z(a, d);
    });
  }function ba(a, c) {
    var d = {},
        b;for (b in a) {
      var f = I(a[b], c);h.arr(f) && (f = f.map(function (a) {
        return I(a, c);
      }), 1 === f.length && (f = f[0]));d[b] = f;
    }d.duration = parseFloat(d.duration);d.delay = parseFloat(d.delay);return d;
  }function ca(a) {
    return h.arr(a) ? A.apply(this, a) : Q[a];
  }function da(a, c) {
    var d;return a.tweens.map(function (b) {
      b = ba(b, c);var f = b.value,
          e = K(c.target, a.name),
          k = d ? d.to.original : e,
          k = h.arr(f) ? f[0] : k,
          w = L(h.arr(f) ? f[1] : f, k),
          e = y(w) || y(k) || y(e);b.from = O(k, e);b.to = O(w, e);b.start = d ? d.end : a.offset;b.end = b.start + b.delay + b.duration;b.easing = ca(b.easing);b.elasticity = (1E3 - Math.min(Math.max(b.elasticity, 1), 999)) / 1E3;b.isPath = h.pth(f);b.isColor = h.col(b.from.original);b.isColor && (b.round = 1);return d = b;
    });
  }function ea(a, c) {
    return r(p(a.map(function (a) {
      return c.map(function (b) {
        var c = J(a.target, b.name);if (c) {
          var d = da(b, a);b = { type: c, property: b.name, animatable: a, tweens: d, duration: d[d.length - 1].end, delay: d[0].delay };
        } else b = void 0;return b;
      });
    })), function (a) {
      return !h.und(a);
    });
  }function R(a, c, d, b) {
    var f = "delay" === a;return c.length ? (f ? Math.min : Math.max).apply(Math, c.map(function (b) {
      return b[a];
    })) : f ? b.delay : d.offset + b.delay + b.duration;
  }function fa(a) {
    var c = D(ga, a),
        d = D(S, a),
        b = Z(a.targets),
        f = [],
        e = z(c, d),
        k;for (k in a) {
      e.hasOwnProperty(k) || "targets" === k || f.push({ name: k, offset: e.offset, tweens: aa(a[k], d) });
    }a = ea(b, f);return z(c, { children: [], animatables: b, animations: a, duration: R("duration", a, c, d), delay: R("delay", a, c, d) });
  }function q(a) {
    function c() {
      return window.Promise && new Promise(function (a) {
        return p = a;
      });
    }function d(a) {
      return g.reversed ? g.duration - a : a;
    }function b(a) {
      for (var b = 0, c = {}, d = g.animations, f = d.length; b < f;) {
        var e = d[b],
            k = e.animatable,
            h = e.tweens,
            n = h.length - 1,
            l = h[n];n && (l = r(h, function (b) {
          return a < b.end;
        })[0] || l);for (var h = Math.min(Math.max(a - l.start - l.delay, 0), l.duration) / l.duration, w = isNaN(h) ? 1 : l.easing(h, l.elasticity), h = l.to.strings, p = l.round, n = [], m = void 0, m = l.to.numbers.length, t = 0; t < m; t++) {
          var x = void 0,
              x = l.to.numbers[t],
              q = l.from.numbers[t],
              x = l.isPath ? Y(l.value, w * x) : q + w * (x - q);p && (l.isColor && 2 < t || (x = Math.round(x * p) / p));n.push(x);
        }if (l = h.length) for (m = h[0], w = 0; w < l; w++) {
          p = h[w + 1], t = n[w], isNaN(t) || (m = p ? m + (t + p) : m + (t + " "));
        } else m = n[0];ha[e.type](k.target, e.property, m, c, k.id);e.currentValue = m;b++;
      }if (b = Object.keys(c).length) for (d = 0; d < b; d++) {
        H || (H = E(document.body, "transform") ? "transform" : "-webkit-transform"), g.animatables[d].target.style[H] = c[d].join(" ");
      }g.currentTime = a;g.progress = a / g.duration * 100;
    }function f(a) {
      if (g[a]) g[a](g);
    }function e() {
      g.remaining && !0 !== g.remaining && g.remaining--;
    }function k(a) {
      var k = g.duration,
          n = g.offset,
          w = n + g.delay,
          r = g.currentTime,
          x = g.reversed,
          q = d(a);if (g.children.length) {
        var u = g.children,
            v = u.length;
        if (q >= g.currentTime) for (var G = 0; G < v; G++) {
          u[G].seek(q);
        } else for (; v--;) {
          u[v].seek(q);
        }
      }if (q >= w || !k) g.began || (g.began = !0, f("begin")), f("run");if (q > n && q < k) b(q);else if (q <= n && 0 !== r && (b(0), x && e()), q >= k && r !== k || !k) b(k), x || e();f("update");a >= k && (g.remaining ? (t = h, "alternate" === g.direction && (g.reversed = !g.reversed)) : (g.pause(), g.completed || (g.completed = !0, f("complete"), "Promise" in window && (p(), m = c()))), l = 0);
    }a = void 0 === a ? {} : a;var h,
        t,
        l = 0,
        p = null,
        m = c(),
        g = fa(a);g.reset = function () {
      var a = g.direction,
          c = g.loop;g.currentTime = 0;g.progress = 0;g.paused = !0;g.began = !1;g.completed = !1;g.reversed = "reverse" === a;g.remaining = "alternate" === a && 1 === c ? 2 : c;b(0);for (a = g.children.length; a--;) {
        g.children[a].reset();
      }
    };g.tick = function (a) {
      h = a;t || (t = h);k((l + h - t) * q.speed);
    };g.seek = function (a) {
      k(d(a));
    };g.pause = function () {
      var a = v.indexOf(g);-1 < a && v.splice(a, 1);g.paused = !0;
    };g.play = function () {
      g.paused && (g.paused = !1, t = 0, l = d(g.currentTime), v.push(g), B || ia());
    };g.reverse = function () {
      g.reversed = !g.reversed;t = 0;l = d(g.currentTime);
    };g.restart = function () {
      g.pause();
      g.reset();g.play();
    };g.finished = m;g.reset();g.autoplay && g.play();return g;
  }var ga = { update: void 0, begin: void 0, run: void 0, complete: void 0, loop: 1, direction: "normal", autoplay: !0, offset: 0 },
      S = { duration: 1E3, delay: 0, easing: "easeOutElastic", elasticity: 500, round: 0 },
      W = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),
      H,
      h = { arr: function (a) {
      return Array.isArray(a);
    }, obj: function (a) {
      return -1 < Object.prototype.toString.call(a).indexOf("Object");
    },
    pth: function (a) {
      return h.obj(a) && a.hasOwnProperty("totalLength");
    }, svg: function (a) {
      return a instanceof SVGElement;
    }, dom: function (a) {
      return a.nodeType || h.svg(a);
    }, str: function (a) {
      return "string" === typeof a;
    }, fnc: function (a) {
      return "function" === typeof a;
    }, und: function (a) {
      return "undefined" === typeof a;
    }, hex: function (a) {
      return (/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)
      );
    }, rgb: function (a) {
      return (/^rgb/.test(a)
      );
    }, hsl: function (a) {
      return (/^hsl/.test(a)
      );
    }, col: function (a) {
      return h.hex(a) || h.rgb(a) || h.hsl(a);
    } },
      A = function () {
    function a(a, d, b) {
      return (((1 - 3 * b + 3 * d) * a + (3 * b - 6 * d)) * a + 3 * d) * a;
    }return function (c, d, b, f) {
      if (0 <= c && 1 >= c && 0 <= b && 1 >= b) {
        var e = new Float32Array(11);if (c !== d || b !== f) for (var k = 0; 11 > k; ++k) {
          e[k] = a(.1 * k, c, b);
        }return function (k) {
          if (c === d && b === f) return k;if (0 === k) return 0;if (1 === k) return 1;for (var h = 0, l = 1; 10 !== l && e[l] <= k; ++l) {
            h += .1;
          }--l;var l = h + (k - e[l]) / (e[l + 1] - e[l]) * .1,
              n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;if (.001 <= n) {
            for (h = 0; 4 > h; ++h) {
              n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;if (0 === n) break;var m = a(l, c, b) - k,
                  l = l - m / n;
            }k = l;
          } else if (0 === n) k = l;else {
            var l = h,
                h = h + .1,
                g = 0;do {
              m = l + (h - l) / 2, n = a(m, c, b) - k, 0 < n ? h = m : l = m;
            } while (1e-7 < Math.abs(n) && 10 > ++g);k = m;
          }return a(k, d, f);
        };
      }
    };
  }(),
      Q = function () {
    function a(a, b) {
      return 0 === a || 1 === a ? a : -Math.pow(2, 10 * (a - 1)) * Math.sin(2 * (a - 1 - b / (2 * Math.PI) * Math.asin(1)) * Math.PI / b);
    }var c = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),
        d = { In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], a], Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (b, c) {
        return 1 - a(1 - b, c);
      }], InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (b, c) {
        return .5 > b ? a(2 * b, c) / 2 : 1 - a(-2 * b + 2, c) / 2;
      }] },
        b = { linear: A(.25, .25, .75, .75) },
        f = {},
        e;for (e in d) {
      f.type = e, d[f.type].forEach(function (a) {
        return function (d, f) {
          b["ease" + a.type + c[f]] = h.fnc(d) ? d : A.apply($jscomp$this, d);
        };
      }(f)), f = { type: f.type };
    }return b;
  }(),
      ha = { css: function (a, c, d) {
      return a.style[c] = d;
    }, attribute: function (a, c, d) {
      return a.setAttribute(c, d);
    }, object: function (a, c, d) {
      return a[c] = d;
    }, transform: function (a, c, d, b, f) {
      b[f] || (b[f] = []);b[f].push(c + "(" + d + ")");
    } },
      v = [],
      B = 0,
      ia = function () {
    function a() {
      B = requestAnimationFrame(c);
    }function c(c) {
      var b = v.length;if (b) {
        for (var d = 0; d < b;) {
          v[d] && v[d].tick(c), d++;
        }a();
      } else cancelAnimationFrame(B), B = 0;
    }return a;
  }();q.version = "2.2.0";q.speed = 1;q.running = v;q.remove = function (a) {
    a = P(a);for (var c = v.length; c--;) {
      for (var d = v[c], b = d.animations, f = b.length; f--;) {
        u(a, b[f].animatable.target) && (b.splice(f, 1), b.length || d.pause());
      }
    }
  };q.getValue = K;q.path = function (a, c) {
    var d = h.str(a) ? e(a)[0] : a,
        b = c || 100;return function (a) {
      return { el: d, property: a, totalLength: N(d) * (b / 100) };
    };
  };q.setDashoffset = function (a) {
    var c = N(a);a.setAttribute("stroke-dasharray", c);return c;
  };q.bezier = A;q.easings = Q;q.timeline = function (a) {
    var c = q(a);c.pause();c.duration = 0;c.add = function (d) {
      c.children.forEach(function (a) {
        a.began = !0;a.completed = !0;
      });m(d).forEach(function (b) {
        var d = z(b, D(S, a || {}));d.targets = d.targets || a.targets;b = c.duration;var e = d.offset;d.autoplay = !1;d.direction = c.direction;d.offset = h.und(e) ? b : L(e, b);c.began = !0;c.completed = !0;c.seek(d.offset);d = q(d);d.began = !0;d.completed = !0;d.duration > b && (c.duration = d.duration);c.children.push(d);
      });c.seek(0);c.reset();c.autoplay && c.restart();return c;
    };return c;
  };q.random = function (a, c) {
    return Math.floor(Math.random() * (c - a + 1)) + a;
  };return q;
});
;(function ($, anim) {
  'use strict';

  var _defaults = {
    accordion: true,
    onOpenStart: undefined,
    onOpenEnd: undefined,
    onCloseStart: undefined,
    onCloseEnd: undefined,
    inDuration: 300,
    outDuration: 300
  };

  /**
   * @class
   *
   */

  var Collapsible = function (_Component) {
    _inherits(Collapsible, _Component);

    /**
     * Construct Collapsible instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Collapsible(el, options) {
      _classCallCheck(this, Collapsible);

      var _this3 = _possibleConstructorReturn(this, (Collapsible.__proto__ || Object.getPrototypeOf(Collapsible)).call(this, Collapsible, el, options));

      _this3.el.M_Collapsible = _this3;

      /**
       * Options for the collapsible
       * @member Collapsible#options
       * @prop {Boolean} [accordion=false] - Type of the collapsible
       * @prop {Function} onOpenStart - Callback function called before collapsible is opened
       * @prop {Function} onOpenEnd - Callback function called after collapsible is opened
       * @prop {Function} onCloseStart - Callback function called before collapsible is closed
       * @prop {Function} onCloseEnd - Callback function called after collapsible is closed
       * @prop {Number} inDuration - Transition in duration in milliseconds.
       * @prop {Number} outDuration - Transition duration in milliseconds.
       */
      _this3.options = $.extend({}, Collapsible.defaults, options);

      // Setup tab indices
      _this3.$headers = _this3.$el.children('li').children('.collapsible-header');
      _this3.$headers.attr('tabindex', 0);

      _this3._setupEventHandlers();

      // Open first active
      var $activeBodies = _this3.$el.children('li.active').children('.collapsible-body');
      if (_this3.options.accordion) {
        // Handle Accordion
        $activeBodies.first().css('display', 'block');
      } else {
        // Handle Expandables
        $activeBodies.css('display', 'block');
      }
      return _this3;
    }

    _createClass(Collapsible, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Collapsible = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this4 = this;

        this._handleCollapsibleClickBound = this._handleCollapsibleClick.bind(this);
        this._handleCollapsibleKeydownBound = this._handleCollapsibleKeydown.bind(this);
        this.el.addEventListener('click', this._handleCollapsibleClickBound);
        this.$headers.each(function (header) {
          header.addEventListener('keydown', _this4._handleCollapsibleKeydownBound);
        });
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this5 = this;

        this.el.removeEventListener('click', this._handleCollapsibleClickBound);
        this.$headers.each(function (header) {
          header.removeEventListener('keydown', _this5._handleCollapsibleKeydownBound);
        });
      }

      /**
       * Handle Collapsible Click
       * @param {Event} e
       */

    }, {
      key: "_handleCollapsibleClick",
      value: function _handleCollapsibleClick(e) {
        var $header = $(e.target).closest('.collapsible-header');
        if (e.target && $header.length) {
          var $collapsible = $header.closest('.collapsible');
          if ($collapsible[0] === this.el) {
            var $collapsibleLi = $header.closest('li');
            var $collapsibleLis = $collapsible.children('li');
            var isActive = $collapsibleLi[0].classList.contains('active');
            var index = $collapsibleLis.index($collapsibleLi);

            if (isActive) {
              this.close(index);
            } else {
              this.open(index);
            }
          }
        }
      }

      /**
       * Handle Collapsible Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleCollapsibleKeydown",
      value: function _handleCollapsibleKeydown(e) {
        if (e.keyCode === 13) {
          this._handleCollapsibleClickBound(e);
        }
      }

      /**
       * Animate in collapsible slide
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "_animateIn",
      value: function _animateIn(index) {
        var _this6 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length) {
          var $body = $collapsibleLi.children('.collapsible-body');

          anim.remove($body[0]);
          $body.css({
            display: 'block',
            overflow: 'hidden',
            height: 0,
            paddingTop: '',
            paddingBottom: ''
          });

          var pTop = $body.css('padding-top');
          var pBottom = $body.css('padding-bottom');
          var finalHeight = $body[0].scrollHeight;
          $body.css({
            paddingTop: 0,
            paddingBottom: 0
          });

          anim({
            targets: $body[0],
            height: finalHeight,
            paddingTop: pTop,
            paddingBottom: pBottom,
            duration: this.options.inDuration,
            easing: 'easeInOutCubic',
            complete: function (anim) {
              $body.css({
                overflow: '',
                paddingTop: '',
                paddingBottom: '',
                height: ''
              });

              // onOpenEnd callback
              if (typeof _this6.options.onOpenEnd === 'function') {
                _this6.options.onOpenEnd.call(_this6, $collapsibleLi[0]);
              }
            }
          });
        }
      }

      /**
       * Animate out collapsible slide
       * @param {Number} index - 0th index of slide to open
       */

    }, {
      key: "_animateOut",
      value: function _animateOut(index) {
        var _this7 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length) {
          var $body = $collapsibleLi.children('.collapsible-body');
          anim.remove($body[0]);
          $body.css('overflow', 'hidden');
          anim({
            targets: $body[0],
            height: 0,
            paddingTop: 0,
            paddingBottom: 0,
            duration: this.options.outDuration,
            easing: 'easeInOutCubic',
            complete: function () {
              $body.css({
                height: '',
                overflow: '',
                padding: '',
                display: ''
              });

              // onCloseEnd callback
              if (typeof _this7.options.onCloseEnd === 'function') {
                _this7.options.onCloseEnd.call(_this7, $collapsibleLi[0]);
              }
            }
          });
        }
      }

      /**
       * Open Collapsible
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "open",
      value: function open(index) {
        var _this8 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length && !$collapsibleLi[0].classList.contains('active')) {
          // onOpenStart callback
          if (typeof this.options.onOpenStart === 'function') {
            this.options.onOpenStart.call(this, $collapsibleLi[0]);
          }

          // Handle accordion behavior
          if (this.options.accordion) {
            var $collapsibleLis = this.$el.children('li');
            var $activeLis = this.$el.children('li.active');
            $activeLis.each(function (el) {
              var index = $collapsibleLis.index($(el));
              _this8.close(index);
            });
          }

          // Animate in
          $collapsibleLi[0].classList.add('active');
          this._animateIn(index);
        }
      }

      /**
       * Close Collapsible
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "close",
      value: function close(index) {
        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length && $collapsibleLi[0].classList.contains('active')) {
          // onCloseStart callback
          if (typeof this.options.onCloseStart === 'function') {
            this.options.onCloseStart.call(this, $collapsibleLi[0]);
          }

          // Animate out
          $collapsibleLi[0].classList.remove('active');
          this._animateOut(index);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Collapsible.__proto__ || Object.getPrototypeOf(Collapsible), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Collapsible;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Collapsible;
  }(Component);

  M.Collapsible = Collapsible;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Collapsible, 'collapsible', 'M_Collapsible');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    alignment: 'left',
    autoFocus: true,
    constrainWidth: true,
    container: null,
    coverTrigger: true,
    closeOnClick: true,
    hover: false,
    inDuration: 150,
    outDuration: 250,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    onItemClick: null
  };

  /**
   * @class
   */

  var Dropdown = function (_Component2) {
    _inherits(Dropdown, _Component2);

    function Dropdown(el, options) {
      _classCallCheck(this, Dropdown);

      var _this9 = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, Dropdown, el, options));

      _this9.el.M_Dropdown = _this9;
      Dropdown._dropdowns.push(_this9);

      _this9.id = M.getIdFromTrigger(el);
      _this9.dropdownEl = document.getElementById(_this9.id);
      _this9.$dropdownEl = $(_this9.dropdownEl);

      /**
       * Options for the dropdown
       * @member Dropdown#options
       * @prop {String} [alignment='left'] - Edge which the dropdown is aligned to
       * @prop {Boolean} [autoFocus=true] - Automatically focus dropdown el for keyboard
       * @prop {Boolean} [constrainWidth=true] - Constrain width to width of the button
       * @prop {Element} container - Container element to attach dropdown to (optional)
       * @prop {Boolean} [coverTrigger=true] - Place dropdown over trigger
       * @prop {Boolean} [closeOnClick=true] - Close on click of dropdown item
       * @prop {Boolean} [hover=false] - Open dropdown on hover
       * @prop {Number} [inDuration=150] - Duration of open animation in ms
       * @prop {Number} [outDuration=250] - Duration of close animation in ms
       * @prop {Function} onOpenStart - Function called when dropdown starts opening
       * @prop {Function} onOpenEnd - Function called when dropdown finishes opening
       * @prop {Function} onCloseStart - Function called when dropdown starts closing
       * @prop {Function} onCloseEnd - Function called when dropdown finishes closing
       */
      _this9.options = $.extend({}, Dropdown.defaults, options);

      /**
       * Describes open/close state of dropdown
       * @type {Boolean}
       */
      _this9.isOpen = false;

      /**
       * Describes if dropdown content is scrollable
       * @type {Boolean}
       */
      _this9.isScrollable = false;

      /**
       * Describes if touch moving on dropdown content
       * @type {Boolean}
       */
      _this9.isTouchMoving = false;

      _this9.focusedIndex = -1;
      _this9.filterQuery = [];

      // Move dropdown-content after dropdown-trigger
      if (!!_this9.options.container) {
        $(_this9.options.container).append(_this9.dropdownEl);
      } else {
        _this9.$el.after(_this9.dropdownEl);
      }

      _this9._makeDropdownFocusable();
      _this9._resetFilterQueryBound = _this9._resetFilterQuery.bind(_this9);
      _this9._handleDocumentClickBound = _this9._handleDocumentClick.bind(_this9);
      _this9._handleDocumentTouchmoveBound = _this9._handleDocumentTouchmove.bind(_this9);
      _this9._handleDropdownClickBound = _this9._handleDropdownClick.bind(_this9);
      _this9._handleDropdownKeydownBound = _this9._handleDropdownKeydown.bind(_this9);
      _this9._handleTriggerKeydownBound = _this9._handleTriggerKeydown.bind(_this9);
      _this9._setupEventHandlers();
      return _this9;
    }

    _createClass(Dropdown, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._resetDropdownStyles();
        this._removeEventHandlers();
        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);
        this.el.M_Dropdown = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        // Trigger keydown handler
        this.el.addEventListener('keydown', this._handleTriggerKeydownBound);

        // Item click handler
        this.dropdownEl.addEventListener('click', this._handleDropdownClickBound);

        // Hover event handlers
        if (this.options.hover) {
          this._handleMouseEnterBound = this._handleMouseEnter.bind(this);
          this.el.addEventListener('mouseenter', this._handleMouseEnterBound);
          this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);
          this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);
          this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeaveBound);

          // Click event handlers
        } else {
          this._handleClickBound = this._handleClick.bind(this);
          this.el.addEventListener('click', this._handleClickBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('keydown', this._handleTriggerKeydownBound);
        this.dropdownEl.removeEventListener('click', this._handleDropdownClickBound);

        if (this.options.hover) {
          this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);
          this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);
          this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeaveBound);
        } else {
          this.el.removeEventListener('click', this._handleClickBound);
        }
      }
    }, {
      key: "_setupTemporaryEventHandlers",
      value: function _setupTemporaryEventHandlers() {
        // Use capture phase event handler to prevent click
        document.body.addEventListener('click', this._handleDocumentClickBound, true);
        document.body.addEventListener('touchend', this._handleDocumentClickBound);
        document.body.addEventListener('touchmove', this._handleDocumentTouchmoveBound);
        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydownBound);
      }
    }, {
      key: "_removeTemporaryEventHandlers",
      value: function _removeTemporaryEventHandlers() {
        // Use capture phase event handler to prevent click
        document.body.removeEventListener('click', this._handleDocumentClickBound, true);
        document.body.removeEventListener('touchend', this._handleDocumentClickBound);
        document.body.removeEventListener('touchmove', this._handleDocumentTouchmoveBound);
        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydownBound);
      }
    }, {
      key: "_handleClick",
      value: function _handleClick(e) {
        e.preventDefault();
        this.open();
      }
    }, {
      key: "_handleMouseEnter",
      value: function _handleMouseEnter() {
        this.open();
      }
    }, {
      key: "_handleMouseLeave",
      value: function _handleMouseLeave(e) {
        var toEl = e.toElement || e.relatedTarget;
        var leaveToDropdownContent = !!$(toEl).closest('.dropdown-content').length;
        var leaveToActiveDropdownTrigger = false;

        var $closestTrigger = $(toEl).closest('.dropdown-trigger');
        if ($closestTrigger.length && !!$closestTrigger[0].M_Dropdown && $closestTrigger[0].M_Dropdown.isOpen) {
          leaveToActiveDropdownTrigger = true;
        }

        // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content
        if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {
          this.close();
        }
      }
    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        var _this10 = this;

        var $target = $(e.target);
        if (this.options.closeOnClick && $target.closest('.dropdown-content').length && !this.isTouchMoving) {
          // isTouchMoving to check if scrolling on mobile.
          setTimeout(function () {
            _this10.close();
          }, 0);
        } else if ($target.closest('.dropdown-trigger').length || !$target.closest('.dropdown-content').length) {
          setTimeout(function () {
            _this10.close();
          }, 0);
        }
        this.isTouchMoving = false;
      }
    }, {
      key: "_handleTriggerKeydown",
      value: function _handleTriggerKeydown(e) {
        // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown
        if ((e.which === M.keys.ARROW_DOWN || e.which === M.keys.ENTER) && !this.isOpen) {
          e.preventDefault();
          this.open();
        }
      }

      /**
       * Handle Document Touchmove
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentTouchmove",
      value: function _handleDocumentTouchmove(e) {
        var $target = $(e.target);
        if ($target.closest('.dropdown-content').length) {
          this.isTouchMoving = true;
        }
      }

      /**
       * Handle Dropdown Click
       * @param {Event} e
       */

    }, {
      key: "_handleDropdownClick",
      value: function _handleDropdownClick(e) {
        // onItemClick callback
        if (typeof this.options.onItemClick === 'function') {
          var itemEl = $(e.target).closest('li')[0];
          this.options.onItemClick.call(this, itemEl);
        }
      }

      /**
       * Handle Dropdown Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleDropdownKeydown",
      value: function _handleDropdownKeydown(e) {
        if (e.which === M.keys.TAB) {
          e.preventDefault();
          this.close();

          // Navigate down dropdown list
        } else if ((e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) && this.isOpen) {
          e.preventDefault();
          var direction = e.which === M.keys.ARROW_DOWN ? 1 : -1;
          var newFocusedIndex = this.focusedIndex;
          var foundNewIndex = false;
          do {
            newFocusedIndex = newFocusedIndex + direction;

            if (!!this.dropdownEl.children[newFocusedIndex] && this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {
              foundNewIndex = true;
              break;
            }
          } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);

          if (foundNewIndex) {
            this.focusedIndex = newFocusedIndex;
            this._focusFocusedItem();
          }

          // ENTER selects choice on focused item
        } else if (e.which === M.keys.ENTER && this.isOpen) {
          // Search for <a> and <button>
          var focusedElement = this.dropdownEl.children[this.focusedIndex];
          var $activatableElement = $(focusedElement).find('a, button').first();

          // Click a or button tag if exists, otherwise click li tag
          if (!!$activatableElement.length) {
            $activatableElement[0].click();
          } else if (!!focusedElement) {
            focusedElement.click();
          }

          // Close dropdown on ESC
        } else if (e.which === M.keys.ESC && this.isOpen) {
          e.preventDefault();
          this.close();
        }

        // CASE WHEN USER TYPE LETTERS
        var letter = String.fromCharCode(e.which).toLowerCase(),
            nonLetters = [9, 13, 27, 38, 40];
        if (letter && nonLetters.indexOf(e.which) === -1) {
          this.filterQuery.push(letter);

          var string = this.filterQuery.join(''),
              newOptionEl = $(this.dropdownEl).find('li').filter(function (el) {
            return $(el).text().toLowerCase().indexOf(string) === 0;
          })[0];

          if (newOptionEl) {
            this.focusedIndex = $(newOptionEl).index();
            this._focusFocusedItem();
          }
        }

        this.filterTimeout = setTimeout(this._resetFilterQueryBound, 1000);
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_resetFilterQuery",
      value: function _resetFilterQuery() {
        this.filterQuery = [];
      }
    }, {
      key: "_resetDropdownStyles",
      value: function _resetDropdownStyles() {
        this.$dropdownEl.css({
          display: '',
          width: '',
          height: '',
          left: '',
          top: '',
          'transform-origin': '',
          transform: '',
          opacity: ''
        });
      }
    }, {
      key: "_makeDropdownFocusable",
      value: function _makeDropdownFocusable() {
        // Needed for arrow key navigation
        this.dropdownEl.tabIndex = 0;

        // Only set tabindex if it hasn't been set by user
        $(this.dropdownEl).children().each(function (el) {
          if (!el.getAttribute('tabindex')) {
            el.setAttribute('tabindex', 0);
          }
        });
      }
    }, {
      key: "_focusFocusedItem",
      value: function _focusFocusedItem() {
        if (this.focusedIndex >= 0 && this.focusedIndex < this.dropdownEl.children.length && this.options.autoFocus) {
          this.dropdownEl.children[this.focusedIndex].focus();
        }
      }
    }, {
      key: "_getDropdownPosition",
      value: function _getDropdownPosition() {
        var offsetParentBRect = this.el.offsetParent.getBoundingClientRect();
        var triggerBRect = this.el.getBoundingClientRect();
        var dropdownBRect = this.dropdownEl.getBoundingClientRect();

        var idealHeight = dropdownBRect.height;
        var idealWidth = dropdownBRect.width;
        var idealXPos = triggerBRect.left - dropdownBRect.left;
        var idealYPos = triggerBRect.top - dropdownBRect.top;

        var dropdownBounds = {
          left: idealXPos,
          top: idealYPos,
          height: idealHeight,
          width: idealWidth
        };

        // Countainer here will be closest ancestor with overflow: hidden
        var closestOverflowParent = !!this.dropdownEl.offsetParent ? this.dropdownEl.offsetParent : this.dropdownEl.parentNode;

        var alignments = M.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);

        var verticalAlignment = 'top';
        var horizontalAlignment = this.options.alignment;
        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;

        // Reset isScrollable
        this.isScrollable = false;

        if (!alignments.top) {
          if (alignments.bottom) {
            verticalAlignment = 'bottom';
          } else {
            this.isScrollable = true;

            // Determine which side has most space and cutoff at correct height
            if (alignments.spaceOnTop > alignments.spaceOnBottom) {
              verticalAlignment = 'bottom';
              idealHeight += alignments.spaceOnTop;
              idealYPos -= alignments.spaceOnTop;
            } else {
              idealHeight += alignments.spaceOnBottom;
            }
          }
        }

        // If preferred horizontal alignment is possible
        if (!alignments[horizontalAlignment]) {
          var oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';
          if (alignments[oppositeAlignment]) {
            horizontalAlignment = oppositeAlignment;
          } else {
            // Determine which side has most space and cutoff at correct height
            if (alignments.spaceOnLeft > alignments.spaceOnRight) {
              horizontalAlignment = 'right';
              idealWidth += alignments.spaceOnLeft;
              idealXPos -= alignments.spaceOnLeft;
            } else {
              horizontalAlignment = 'left';
              idealWidth += alignments.spaceOnRight;
            }
          }
        }

        if (verticalAlignment === 'bottom') {
          idealYPos = idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);
        }
        if (horizontalAlignment === 'right') {
          idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;
        }
        return {
          x: idealXPos,
          y: idealYPos,
          verticalAlignment: verticalAlignment,
          horizontalAlignment: horizontalAlignment,
          height: idealHeight,
          width: idealWidth
        };
      }

      /**
       * Animate in dropdown
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        var _this11 = this;

        anim.remove(this.dropdownEl);
        anim({
          targets: this.dropdownEl,
          opacity: {
            value: [0, 1],
            easing: 'easeOutQuad'
          },
          scaleX: [0.3, 1],
          scaleY: [0.3, 1],
          duration: this.options.inDuration,
          easing: 'easeOutQuint',
          complete: function (anim) {
            if (_this11.options.autoFocus) {
              _this11.dropdownEl.focus();
            }

            // onOpenEnd callback
            if (typeof _this11.options.onOpenEnd === 'function') {
              _this11.options.onOpenEnd.call(_this11, _this11.el);
            }
          }
        });
      }

      /**
       * Animate out dropdown
       */

    }, {
      key: "_animateOut",
      value: function _animateOut() {
        var _this12 = this;

        anim.remove(this.dropdownEl);
        anim({
          targets: this.dropdownEl,
          opacity: {
            value: 0,
            easing: 'easeOutQuint'
          },
          scaleX: 0.3,
          scaleY: 0.3,
          duration: this.options.outDuration,
          easing: 'easeOutQuint',
          complete: function (anim) {
            _this12._resetDropdownStyles();

            // onCloseEnd callback
            if (typeof _this12.options.onCloseEnd === 'function') {
              _this12.options.onCloseEnd.call(_this12, _this12.el);
            }
          }
        });
      }

      /**
       * Place dropdown
       */

    }, {
      key: "_placeDropdown",
      value: function _placeDropdown() {
        // Set width before calculating positionInfo
        var idealWidth = this.options.constrainWidth ? this.el.getBoundingClientRect().width : this.dropdownEl.getBoundingClientRect().width;
        this.dropdownEl.style.width = idealWidth + 'px';

        var positionInfo = this._getDropdownPosition();
        this.dropdownEl.style.left = positionInfo.x + 'px';
        this.dropdownEl.style.top = positionInfo.y + 'px';
        this.dropdownEl.style.height = positionInfo.height + 'px';
        this.dropdownEl.style.width = positionInfo.width + 'px';
        this.dropdownEl.style.transformOrigin = (positionInfo.horizontalAlignment === 'left' ? '0' : '100%') + " " + (positionInfo.verticalAlignment === 'top' ? '0' : '100%');
      }

      /**
       * Open Dropdown
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }
        this.isOpen = true;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Reset styles
        this._resetDropdownStyles();
        this.dropdownEl.style.display = 'block';

        this._placeDropdown();
        this._animateIn();
        this._setupTemporaryEventHandlers();
      }

      /**
       * Close Dropdown
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }
        this.isOpen = false;
        this.focusedIndex = -1;

        // onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        this._animateOut();
        this._removeTemporaryEventHandlers();

        if (this.options.autoFocus) {
          this.el.focus();
        }
      }

      /**
       * Recalculate dimensions
       */

    }, {
      key: "recalculateDimensions",
      value: function recalculateDimensions() {
        if (this.isOpen) {
          this.$dropdownEl.css({
            width: '',
            height: '',
            left: '',
            top: '',
            'transform-origin': ''
          });
          this._placeDropdown();
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Dropdown.__proto__ || Object.getPrototypeOf(Dropdown), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Dropdown;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Dropdown;
  }(Component);

  /**
   * @static
   * @memberof Dropdown
   */


  Dropdown._dropdowns = [];

  M.Dropdown = Dropdown;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Dropdown, 'dropdown', 'M_Dropdown');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    opacity: 0.5,
    inDuration: 250,
    outDuration: 250,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    preventScrolling: true,
    dismissible: true,
    startingTop: '4%',
    endingTop: '10%'
  };

  /**
   * @class
   *
   */

  var Modal = function (_Component3) {
    _inherits(Modal, _Component3);

    /**
     * Construct Modal instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Modal(el, options) {
      _classCallCheck(this, Modal);

      var _this13 = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, Modal, el, options));

      _this13.el.M_Modal = _this13;

      /**
       * Options for the modal
       * @member Modal#options
       * @prop {Number} [opacity=0.5] - Opacity of the modal overlay
       * @prop {Number} [inDuration=250] - Length in ms of enter transition
       * @prop {Number} [outDuration=250] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Callback function called before modal is opened
       * @prop {Function} onOpenEnd - Callback function called after modal is opened
       * @prop {Function} onCloseStart - Callback function called before modal is closed
       * @prop {Function} onCloseEnd - Callback function called after modal is closed
       * @prop {Boolean} [dismissible=true] - Allow modal to be dismissed by keyboard or overlay click
       * @prop {String} [startingTop='4%'] - startingTop
       * @prop {String} [endingTop='10%'] - endingTop
       */
      _this13.options = $.extend({}, Modal.defaults, options);

      /**
       * Describes open/close state of modal
       * @type {Boolean}
       */
      _this13.isOpen = false;

      _this13.id = _this13.$el.attr('id');
      _this13._openingTrigger = undefined;
      _this13.$overlay = $('<div class="modal-overlay"></div>');
      _this13.el.tabIndex = 0;
      _this13._nthModalOpened = 0;

      Modal._count++;
      _this13._setupEventHandlers();
      return _this13;
    }

    _createClass(Modal, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        Modal._count--;
        this._removeEventHandlers();
        this.el.removeAttribute('style');
        this.$overlay.remove();
        this.el.M_Modal = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleOverlayClickBound = this._handleOverlayClick.bind(this);
        this._handleModalCloseClickBound = this._handleModalCloseClick.bind(this);

        if (Modal._count === 1) {
          document.body.addEventListener('click', this._handleTriggerClick);
        }
        this.$overlay[0].addEventListener('click', this._handleOverlayClickBound);
        this.el.addEventListener('click', this._handleModalCloseClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (Modal._count === 0) {
          document.body.removeEventListener('click', this._handleTriggerClick);
        }
        this.$overlay[0].removeEventListener('click', this._handleOverlayClickBound);
        this.el.removeEventListener('click', this._handleModalCloseClickBound);
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target).closest('.modal-trigger');
        if ($trigger.length) {
          var modalId = M.getIdFromTrigger($trigger[0]);
          var modalInstance = document.getElementById(modalId).M_Modal;
          if (modalInstance) {
            modalInstance.open($trigger);
          }
          e.preventDefault();
        }
      }

      /**
       * Handle Overlay Click
       */

    }, {
      key: "_handleOverlayClick",
      value: function _handleOverlayClick() {
        if (this.options.dismissible) {
          this.close();
        }
      }

      /**
       * Handle Modal Close Click
       * @param {Event} e
       */

    }, {
      key: "_handleModalCloseClick",
      value: function _handleModalCloseClick(e) {
        var $closeTrigger = $(e.target).closest('.modal-close');
        if ($closeTrigger.length) {
          this.close();
        }
      }

      /**
       * Handle Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleKeydown",
      value: function _handleKeydown(e) {
        // ESC key
        if (e.keyCode === 27 && this.options.dismissible) {
          this.close();
        }
      }

      /**
       * Handle Focus
       * @param {Event} e
       */

    }, {
      key: "_handleFocus",
      value: function _handleFocus(e) {
        // Only trap focus if this modal is the last model opened (prevents loops in nested modals).
        if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {
          this.el.focus();
        }
      }

      /**
       * Animate in modal
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        var _this14 = this;

        // Set initial styles
        $.extend(this.el.style, {
          display: 'block',
          opacity: 0
        });
        $.extend(this.$overlay[0].style, {
          display: 'block',
          opacity: 0
        });

        // Animate overlay
        anim({
          targets: this.$overlay[0],
          opacity: this.options.opacity,
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });

        // Define modal animation options
        var enterAnimOptions = {
          targets: this.el,
          duration: this.options.inDuration,
          easing: 'easeOutCubic',
          // Handle modal onOpenEnd callback
          complete: function () {
            if (typeof _this14.options.onOpenEnd === 'function') {
              _this14.options.onOpenEnd.call(_this14, _this14.el, _this14._openingTrigger);
            }
          }
        };

        // Bottom sheet animation
        if (this.el.classList.contains('bottom-sheet')) {
          $.extend(enterAnimOptions, {
            bottom: 0,
            opacity: 1
          });
          anim(enterAnimOptions);

          // Normal modal animation
        } else {
          $.extend(enterAnimOptions, {
            top: [this.options.startingTop, this.options.endingTop],
            opacity: 1,
            scaleX: [0.8, 1],
            scaleY: [0.8, 1]
          });
          anim(enterAnimOptions);
        }
      }

      /**
       * Animate out modal
       */

    }, {
      key: "_animateOut",
      value: function _animateOut() {
        var _this15 = this;

        // Animate overlay
        anim({
          targets: this.$overlay[0],
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuart'
        });

        // Define modal animation options
        var exitAnimOptions = {
          targets: this.el,
          duration: this.options.outDuration,
          easing: 'easeOutCubic',
          // Handle modal ready callback
          complete: function () {
            _this15.el.style.display = 'none';
            _this15.$overlay.remove();

            // Call onCloseEnd callback
            if (typeof _this15.options.onCloseEnd === 'function') {
              _this15.options.onCloseEnd.call(_this15, _this15.el);
            }
          }
        };

        // Bottom sheet animation
        if (this.el.classList.contains('bottom-sheet')) {
          $.extend(exitAnimOptions, {
            bottom: '-100%',
            opacity: 0
          });
          anim(exitAnimOptions);

          // Normal modal animation
        } else {
          $.extend(exitAnimOptions, {
            top: [this.options.endingTop, this.options.startingTop],
            opacity: 0,
            scaleX: 0.8,
            scaleY: 0.8
          });
          anim(exitAnimOptions);
        }
      }

      /**
       * Open Modal
       * @param {cash} [$trigger]
       */

    }, {
      key: "open",
      value: function open($trigger) {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        Modal._modalsOpen++;
        this._nthModalOpened = Modal._modalsOpen;

        // Set Z-Index based on number of currently open modals
        this.$overlay[0].style.zIndex = 1000 + Modal._modalsOpen * 2;
        this.el.style.zIndex = 1000 + Modal._modalsOpen * 2 + 1;

        // Set opening trigger, undefined indicates modal was opened by javascript
        this._openingTrigger = !!$trigger ? $trigger[0] : undefined;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el, this._openingTrigger);
        }

        if (this.options.preventScrolling) {
          document.body.style.overflow = 'hidden';
        }

        this.el.classList.add('open');
        this.el.insertAdjacentElement('afterend', this.$overlay[0]);

        if (this.options.dismissible) {
          this._handleKeydownBound = this._handleKeydown.bind(this);
          this._handleFocusBound = this._handleFocus.bind(this);
          document.addEventListener('keydown', this._handleKeydownBound);
          document.addEventListener('focus', this._handleFocusBound, true);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);
        this._animateIn();

        // Focus modal
        this.el.focus();

        return this;
      }

      /**
       * Close Modal
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        Modal._modalsOpen--;
        this._nthModalOpened = 0;

        // Call onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        this.el.classList.remove('open');

        // Enable body scrolling only if there are no more modals open.
        if (Modal._modalsOpen === 0) {
          document.body.style.overflow = '';
        }

        if (this.options.dismissible) {
          document.removeEventListener('keydown', this._handleKeydownBound);
          document.removeEventListener('focus', this._handleFocusBound, true);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);
        this._animateOut();
        return this;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Modal.__proto__ || Object.getPrototypeOf(Modal), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Modal;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Modal;
  }(Component);

  /**
   * @static
   * @memberof Modal
   */


  Modal._modalsOpen = 0;

  /**
   * @static
   * @memberof Modal
   */
  Modal._count = 0;

  M.Modal = Modal;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Modal, 'modal', 'M_Modal');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    inDuration: 275,
    outDuration: 200,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null
  };

  /**
   * @class
   *
   */

  var Materialbox = function (_Component4) {
    _inherits(Materialbox, _Component4);

    /**
     * Construct Materialbox instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Materialbox(el, options) {
      _classCallCheck(this, Materialbox);

      var _this16 = _possibleConstructorReturn(this, (Materialbox.__proto__ || Object.getPrototypeOf(Materialbox)).call(this, Materialbox, el, options));

      _this16.el.M_Materialbox = _this16;

      /**
       * Options for the modal
       * @member Materialbox#options
       * @prop {Number} [inDuration=275] - Length in ms of enter transition
       * @prop {Number} [outDuration=200] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Callback function called before materialbox is opened
       * @prop {Function} onOpenEnd - Callback function called after materialbox is opened
       * @prop {Function} onCloseStart - Callback function called before materialbox is closed
       * @prop {Function} onCloseEnd - Callback function called after materialbox is closed
       */
      _this16.options = $.extend({}, Materialbox.defaults, options);

      _this16.overlayActive = false;
      _this16.doneAnimating = true;
      _this16.placeholder = $('<div></div>').addClass('material-placeholder');
      _this16.originalWidth = 0;
      _this16.originalHeight = 0;
      _this16.originInlineStyles = _this16.$el.attr('style');
      _this16.caption = _this16.el.getAttribute('data-caption') || '';

      // Wrap
      _this16.$el.before(_this16.placeholder);
      _this16.placeholder.append(_this16.$el);

      _this16._setupEventHandlers();
      return _this16;
    }

    _createClass(Materialbox, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Materialbox = undefined;

        // Unwrap image
        $(this.placeholder).after(this.el).remove();

        this.$el.removeAttr('style');
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleMaterialboxClickBound = this._handleMaterialboxClick.bind(this);
        this.el.addEventListener('click', this._handleMaterialboxClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleMaterialboxClickBound);
      }

      /**
       * Handle Materialbox Click
       * @param {Event} e
       */

    }, {
      key: "_handleMaterialboxClick",
      value: function _handleMaterialboxClick(e) {
        // If already modal, return to original
        if (this.doneAnimating === false || this.overlayActive && this.doneAnimating) {
          this.close();
        } else {
          this.open();
        }
      }

      /**
       * Handle Window Scroll
       */

    }, {
      key: "_handleWindowScroll",
      value: function _handleWindowScroll() {
        if (this.overlayActive) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        if (this.overlayActive) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       * @param {Event} e
       */

    }, {
      key: "_handleWindowEscape",
      value: function _handleWindowEscape(e) {
        // ESC key
        if (e.keyCode === 27 && this.doneAnimating && this.overlayActive) {
          this.close();
        }
      }

      /**
       * Find ancestors with overflow: hidden; and make visible
       */

    }, {
      key: "_makeAncestorsOverflowVisible",
      value: function _makeAncestorsOverflowVisible() {
        this.ancestorsChanged = $();
        var ancestor = this.placeholder[0].parentNode;
        while (ancestor !== null && !$(ancestor).is(document)) {
          var curr = $(ancestor);
          if (curr.css('overflow') !== 'visible') {
            curr.css('overflow', 'visible');
            if (this.ancestorsChanged === undefined) {
              this.ancestorsChanged = curr;
            } else {
              this.ancestorsChanged = this.ancestorsChanged.add(curr);
            }
          }
          ancestor = ancestor.parentNode;
        }
      }

      /**
       * Animate image in
       */

    }, {
      key: "_animateImageIn",
      value: function _animateImageIn() {
        var _this17 = this;

        var animOptions = {
          targets: this.el,
          height: [this.originalHeight, this.newHeight],
          width: [this.originalWidth, this.newWidth],
          left: M.getDocumentScrollLeft() + this.windowWidth / 2 - this.placeholder.offset().left - this.newWidth / 2,
          top: M.getDocumentScrollTop() + this.windowHeight / 2 - this.placeholder.offset().top - this.newHeight / 2,
          duration: this.options.inDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this17.doneAnimating = true;

            // onOpenEnd callback
            if (typeof _this17.options.onOpenEnd === 'function') {
              _this17.options.onOpenEnd.call(_this17, _this17.el);
            }
          }
        };

        // Override max-width or max-height if needed
        this.maxWidth = this.$el.css('max-width');
        this.maxHeight = this.$el.css('max-height');
        if (this.maxWidth !== 'none') {
          animOptions.maxWidth = this.newWidth;
        }
        if (this.maxHeight !== 'none') {
          animOptions.maxHeight = this.newHeight;
        }

        anim(animOptions);
      }

      /**
       * Animate image out
       */

    }, {
      key: "_animateImageOut",
      value: function _animateImageOut() {
        var _this18 = this;

        var animOptions = {
          targets: this.el,
          width: this.originalWidth,
          height: this.originalHeight,
          left: 0,
          top: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this18.placeholder.css({
              height: '',
              width: '',
              position: '',
              top: '',
              left: ''
            });

            // Revert to width or height attribute
            if (_this18.attrWidth) {
              _this18.$el.attr('width', _this18.attrWidth);
            }
            if (_this18.attrHeight) {
              _this18.$el.attr('height', _this18.attrHeight);
            }

            _this18.$el.removeAttr('style');
            _this18.originInlineStyles && _this18.$el.attr('style', _this18.originInlineStyles);

            // Remove class
            _this18.$el.removeClass('active');
            _this18.doneAnimating = true;

            // Remove overflow overrides on ancestors
            if (_this18.ancestorsChanged.length) {
              _this18.ancestorsChanged.css('overflow', '');
            }

            // onCloseEnd callback
            if (typeof _this18.options.onCloseEnd === 'function') {
              _this18.options.onCloseEnd.call(_this18, _this18.el);
            }
          }
        };

        anim(animOptions);
      }

      /**
       * Update open and close vars
       */

    }, {
      key: "_updateVars",
      value: function _updateVars() {
        this.windowWidth = window.innerWidth;
        this.windowHeight = window.innerHeight;
        this.caption = this.el.getAttribute('data-caption') || '';
      }

      /**
       * Open Materialbox
       */

    }, {
      key: "open",
      value: function open() {
        var _this19 = this;

        this._updateVars();
        this.originalWidth = this.el.getBoundingClientRect().width;
        this.originalHeight = this.el.getBoundingClientRect().height;

        // Set states
        this.doneAnimating = false;
        this.$el.addClass('active');
        this.overlayActive = true;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Set positioning for placeholder
        this.placeholder.css({
          width: this.placeholder[0].getBoundingClientRect().width + 'px',
          height: this.placeholder[0].getBoundingClientRect().height + 'px',
          position: 'relative',
          top: 0,
          left: 0
        });

        this._makeAncestorsOverflowVisible();

        // Set css on origin
        this.$el.css({
          position: 'absolute',
          'z-index': 1000,
          'will-change': 'left, top, width, height'
        });

        // Change from width or height attribute to css
        this.attrWidth = this.$el.attr('width');
        this.attrHeight = this.$el.attr('height');
        if (this.attrWidth) {
          this.$el.css('width', this.attrWidth + 'px');
          this.$el.removeAttr('width');
        }
        if (this.attrHeight) {
          this.$el.css('width', this.attrHeight + 'px');
          this.$el.removeAttr('height');
        }

        // Add overlay
        this.$overlay = $('<div id="materialbox-overlay"></div>').css({
          opacity: 0
        }).one('click', function () {
          if (_this19.doneAnimating) {
            _this19.close();
          }
        });

        // Put before in origin image to preserve z-index layering.
        this.$el.before(this.$overlay);

        // Set dimensions if needed
        var overlayOffset = this.$overlay[0].getBoundingClientRect();
        this.$overlay.css({
          width: this.windowWidth + 'px',
          height: this.windowHeight + 'px',
          left: -1 * overlayOffset.left + 'px',
          top: -1 * overlayOffset.top + 'px'
        });

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);

        // Animate Overlay
        anim({
          targets: this.$overlay[0],
          opacity: 1,
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });

        // Add and animate caption if it exists
        if (this.caption !== '') {
          if (this.$photocaption) {
            anim.remove(this.$photoCaption[0]);
          }
          this.$photoCaption = $('<div class="materialbox-caption"></div>');
          this.$photoCaption.text(this.caption);
          $('body').append(this.$photoCaption);
          this.$photoCaption.css({ display: 'inline' });

          anim({
            targets: this.$photoCaption[0],
            opacity: 1,
            duration: this.options.inDuration,
            easing: 'easeOutQuad'
          });
        }

        // Resize Image
        var ratio = 0;
        var widthPercent = this.originalWidth / this.windowWidth;
        var heightPercent = this.originalHeight / this.windowHeight;
        this.newWidth = 0;
        this.newHeight = 0;

        if (widthPercent > heightPercent) {
          ratio = this.originalHeight / this.originalWidth;
          this.newWidth = this.windowWidth * 0.9;
          this.newHeight = this.windowWidth * 0.9 * ratio;
        } else {
          ratio = this.originalWidth / this.originalHeight;
          this.newWidth = this.windowHeight * 0.9 * ratio;
          this.newHeight = this.windowHeight * 0.9;
        }

        this._animateImageIn();

        // Handle Exit triggers
        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);
        this._handleWindowResizeBound = this._handleWindowResize.bind(this);
        this._handleWindowEscapeBound = this._handleWindowEscape.bind(this);

        window.addEventListener('scroll', this._handleWindowScrollBound);
        window.addEventListener('resize', this._handleWindowResizeBound);
        window.addEventListener('keyup', this._handleWindowEscapeBound);
      }

      /**
       * Close Materialbox
       */

    }, {
      key: "close",
      value: function close() {
        var _this20 = this;

        this._updateVars();
        this.doneAnimating = false;

        // onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);

        if (this.caption !== '') {
          anim.remove(this.$photoCaption[0]);
        }

        // disable exit handlers
        window.removeEventListener('scroll', this._handleWindowScrollBound);
        window.removeEventListener('resize', this._handleWindowResizeBound);
        window.removeEventListener('keyup', this._handleWindowEscapeBound);

        anim({
          targets: this.$overlay[0],
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this20.overlayActive = false;
            _this20.$overlay.remove();
          }
        });

        this._animateImageOut();

        // Remove Caption + reset css settings on image
        if (this.caption !== '') {
          anim({
            targets: this.$photoCaption[0],
            opacity: 0,
            duration: this.options.outDuration,
            easing: 'easeOutQuad',
            complete: function () {
              _this20.$photoCaption.remove();
            }
          });
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Materialbox.__proto__ || Object.getPrototypeOf(Materialbox), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Materialbox;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Materialbox;
  }(Component);

  M.Materialbox = Materialbox;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Materialbox, 'materialbox', 'M_Materialbox');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    responsiveThreshold: 0 // breakpoint for swipeable
  };

  var Parallax = function (_Component5) {
    _inherits(Parallax, _Component5);

    function Parallax(el, options) {
      _classCallCheck(this, Parallax);

      var _this21 = _possibleConstructorReturn(this, (Parallax.__proto__ || Object.getPrototypeOf(Parallax)).call(this, Parallax, el, options));

      _this21.el.M_Parallax = _this21;

      /**
       * Options for the Parallax
       * @member Parallax#options
       * @prop {Number} responsiveThreshold
       */
      _this21.options = $.extend({}, Parallax.defaults, options);
      _this21._enabled = window.innerWidth > _this21.options.responsiveThreshold;

      _this21.$img = _this21.$el.find('img').first();
      _this21.$img.each(function () {
        var el = this;
        if (el.complete) $(el).trigger('load');
      });

      _this21._updateParallax();
      _this21._setupEventHandlers();
      _this21._setupStyles();

      Parallax._parallaxes.push(_this21);
      return _this21;
    }

    _createClass(Parallax, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);
        this.$img[0].style.transform = '';
        this._removeEventHandlers();

        this.$el[0].M_Parallax = undefined;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleImageLoadBound = this._handleImageLoad.bind(this);
        this.$img[0].addEventListener('load', this._handleImageLoadBound);

        if (Parallax._parallaxes.length === 0) {
          Parallax._handleScrollThrottled = M.throttle(Parallax._handleScroll, 5);
          window.addEventListener('scroll', Parallax._handleScrollThrottled);

          Parallax._handleWindowResizeThrottled = M.throttle(Parallax._handleWindowResize, 5);
          window.addEventListener('resize', Parallax._handleWindowResizeThrottled);
        }
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.$img[0].removeEventListener('load', this._handleImageLoadBound);

        if (Parallax._parallaxes.length === 0) {
          window.removeEventListener('scroll', Parallax._handleScrollThrottled);
          window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);
        }
      }
    }, {
      key: "_setupStyles",
      value: function _setupStyles() {
        this.$img[0].style.opacity = 1;
      }
    }, {
      key: "_handleImageLoad",
      value: function _handleImageLoad() {
        this._updateParallax();
      }
    }, {
      key: "_updateParallax",
      value: function _updateParallax() {
        var containerHeight = this.$el.height() > 0 ? this.el.parentNode.offsetHeight : 500;
        var imgHeight = this.$img[0].offsetHeight;
        var parallaxDist = imgHeight - containerHeight;
        var bottom = this.$el.offset().top + containerHeight;
        var top = this.$el.offset().top;
        var scrollTop = M.getDocumentScrollTop();
        var windowHeight = window.innerHeight;
        var windowBottom = scrollTop + windowHeight;
        var percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);
        var parallax = parallaxDist * percentScrolled;

        if (!this._enabled) {
          this.$img[0].style.transform = '';
        } else if (bottom > scrollTop && top < scrollTop + windowHeight) {
          this.$img[0].style.transform = "translate3D(-50%, " + parallax + "px, 0)";
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Parallax.__proto__ || Object.getPrototypeOf(Parallax), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Parallax;
      }
    }, {
      key: "_handleScroll",
      value: function _handleScroll() {
        for (var i = 0; i < Parallax._parallaxes.length; i++) {
          var parallaxInstance = Parallax._parallaxes[i];
          parallaxInstance._updateParallax.call(parallaxInstance);
        }
      }
    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        for (var i = 0; i < Parallax._parallaxes.length; i++) {
          var parallaxInstance = Parallax._parallaxes[i];
          parallaxInstance._enabled = window.innerWidth > parallaxInstance.options.responsiveThreshold;
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Parallax;
  }(Component);

  /**
   * @static
   * @memberof Parallax
   */


  Parallax._parallaxes = [];

  M.Parallax = Parallax;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Parallax, 'parallax', 'M_Parallax');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    duration: 300,
    onShow: null,
    swipeable: false,
    responsiveThreshold: Infinity // breakpoint for swipeable
  };

  /**
   * @class
   *
   */

  var Tabs = function (_Component6) {
    _inherits(Tabs, _Component6);

    /**
     * Construct Tabs instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Tabs(el, options) {
      _classCallCheck(this, Tabs);

      var _this22 = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, Tabs, el, options));

      _this22.el.M_Tabs = _this22;

      /**
       * Options for the Tabs
       * @member Tabs#options
       * @prop {Number} duration
       * @prop {Function} onShow
       * @prop {Boolean} swipeable
       * @prop {Number} responsiveThreshold
       */
      _this22.options = $.extend({}, Tabs.defaults, options);

      // Setup
      _this22.$tabLinks = _this22.$el.children('li.tab').children('a');
      _this22.index = 0;
      _this22._setupActiveTabLink();

      // Setup tabs content
      if (_this22.options.swipeable) {
        _this22._setupSwipeableTabs();
      } else {
        _this22._setupNormalTabs();
      }

      // Setup tabs indicator after content to ensure accurate widths
      _this22._setTabsAndTabWidth();
      _this22._createIndicator();

      _this22._setupEventHandlers();
      return _this22;
    }

    _createClass(Tabs, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._indicator.parentNode.removeChild(this._indicator);

        if (this.options.swipeable) {
          this._teardownSwipeableTabs();
        } else {
          this._teardownNormalTabs();
        }

        this.$el[0].M_Tabs = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleWindowResizeBound = this._handleWindowResize.bind(this);
        window.addEventListener('resize', this._handleWindowResizeBound);

        this._handleTabClickBound = this._handleTabClick.bind(this);
        this.el.addEventListener('click', this._handleTabClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        window.removeEventListener('resize', this._handleWindowResizeBound);
        this.el.removeEventListener('click', this._handleTabClickBound);
      }

      /**
       * Handle window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        this._setTabsAndTabWidth();

        if (this.tabWidth !== 0 && this.tabsWidth !== 0) {
          this._indicator.style.left = this._calcLeftPos(this.$activeTabLink) + 'px';
          this._indicator.style.right = this._calcRightPos(this.$activeTabLink) + 'px';
        }
      }

      /**
       * Handle tab click
       * @param {Event} e
       */

    }, {
      key: "_handleTabClick",
      value: function _handleTabClick(e) {
        var _this23 = this;

        var tab = $(e.target).closest('li.tab');
        var tabLink = $(e.target).closest('a');

        // Handle click on tab link only
        if (!tabLink.length || !tabLink.parent().hasClass('tab')) {
          return;
        }

        if (tab.hasClass('disabled')) {
          e.preventDefault();
          return;
        }

        // Act as regular link if target attribute is specified.
        if (!!tabLink.attr('target')) {
          return;
        }

        // Make the old tab inactive.
        this.$activeTabLink.removeClass('active');
        var $oldContent = this.$content;

        // Update the variables with the new link and content
        this.$activeTabLink = tabLink;
        this.$content = $(M.escapeHash(tabLink[0].hash));
        this.$tabLinks = this.$el.children('li.tab').children('a');

        // Make the tab active.
        this.$activeTabLink.addClass('active');
        var prevIndex = this.index;
        this.index = Math.max(this.$tabLinks.index(tabLink), 0);

        // Swap content
        if (this.options.swipeable) {
          if (this._tabsCarousel) {
            this._tabsCarousel.set(this.index, function () {
              if (typeof _this23.options.onShow === 'function') {
                _this23.options.onShow.call(_this23, _this23.$content[0]);
              }
            });
          }
        } else {
          if (this.$content.length) {
            this.$content[0].style.display = 'block';
            this.$content.addClass('active');
            if (typeof this.options.onShow === 'function') {
              this.options.onShow.call(this, this.$content[0]);
            }

            if ($oldContent.length && !$oldContent.is(this.$content)) {
              $oldContent[0].style.display = 'none';
              $oldContent.removeClass('active');
            }
          }
        }

        // Update widths after content is swapped (scrollbar bugfix)
        this._setTabsAndTabWidth();

        // Update indicator
        this._animateIndicator(prevIndex);

        // Prevent the anchor's default click action
        e.preventDefault();
      }

      /**
       * Generate elements for tab indicator.
       */

    }, {
      key: "_createIndicator",
      value: function _createIndicator() {
        var _this24 = this;

        var indicator = document.createElement('li');
        indicator.classList.add('indicator');

        this.el.appendChild(indicator);
        this._indicator = indicator;

        setTimeout(function () {
          _this24._indicator.style.left = _this24._calcLeftPos(_this24.$activeTabLink) + 'px';
          _this24._indicator.style.right = _this24._calcRightPos(_this24.$activeTabLink) + 'px';
        }, 0);
      }

      /**
       * Setup first active tab link.
       */

    }, {
      key: "_setupActiveTabLink",
      value: function _setupActiveTabLink() {
        // If the location.hash matches one of the links, use that as the active tab.
        this.$activeTabLink = $(this.$tabLinks.filter('[href="' + location.hash + '"]'));

        // If no match is found, use the first link or any with class 'active' as the initial active tab.
        if (this.$activeTabLink.length === 0) {
          this.$activeTabLink = this.$el.children('li.tab').children('a.active').first();
        }
        if (this.$activeTabLink.length === 0) {
          this.$activeTabLink = this.$el.children('li.tab').children('a').first();
        }

        this.$tabLinks.removeClass('active');
        this.$activeTabLink[0].classList.add('active');

        this.index = Math.max(this.$tabLinks.index(this.$activeTabLink), 0);

        if (this.$activeTabLink.length) {
          this.$content = $(M.escapeHash(this.$activeTabLink[0].hash));
          this.$content.addClass('active');
        }
      }

      /**
       * Setup swipeable tabs
       */

    }, {
      key: "_setupSwipeableTabs",
      value: function _setupSwipeableTabs() {
        var _this25 = this;

        // Change swipeable according to responsive threshold
        if (window.innerWidth > this.options.responsiveThreshold) {
          this.options.swipeable = false;
        }

        var $tabsContent = $();
        this.$tabLinks.each(function (link) {
          var $currContent = $(M.escapeHash(link.hash));
          $currContent.addClass('carousel-item');
          $tabsContent = $tabsContent.add($currContent);
        });

        var $tabsWrapper = $('<div class="tabs-content carousel carousel-slider"></div>');
        $tabsContent.first().before($tabsWrapper);
        $tabsWrapper.append($tabsContent);
        $tabsContent[0].style.display = '';

        // Keep active tab index to set initial carousel slide
        var activeTabIndex = this.$activeTabLink.closest('.tab').index();

        this._tabsCarousel = M.Carousel.init($tabsWrapper[0], {
          fullWidth: true,
          noWrap: true,
          onCycleTo: function (item) {
            var prevIndex = _this25.index;
            _this25.index = $(item).index();
            _this25.$activeTabLink.removeClass('active');
            _this25.$activeTabLink = _this25.$tabLinks.eq(_this25.index);
            _this25.$activeTabLink.addClass('active');
            _this25._animateIndicator(prevIndex);
            if (typeof _this25.options.onShow === 'function') {
              _this25.options.onShow.call(_this25, _this25.$content[0]);
            }
          }
        });

        // Set initial carousel slide to active tab
        this._tabsCarousel.set(activeTabIndex);
      }

      /**
       * Teardown normal tabs.
       */

    }, {
      key: "_teardownSwipeableTabs",
      value: function _teardownSwipeableTabs() {
        var $tabsWrapper = this._tabsCarousel.$el;
        this._tabsCarousel.destroy();

        // Unwrap
        $tabsWrapper.after($tabsWrapper.children());
        $tabsWrapper.remove();
      }

      /**
       * Setup normal tabs.
       */

    }, {
      key: "_setupNormalTabs",
      value: function _setupNormalTabs() {
        // Hide Tabs Content
        this.$tabLinks.not(this.$activeTabLink).each(function (link) {
          if (!!link.hash) {
            var $currContent = $(M.escapeHash(link.hash));
            if ($currContent.length) {
              $currContent[0].style.display = 'none';
            }
          }
        });
      }

      /**
       * Teardown normal tabs.
       */

    }, {
      key: "_teardownNormalTabs",
      value: function _teardownNormalTabs() {
        // show Tabs Content
        this.$tabLinks.each(function (link) {
          if (!!link.hash) {
            var $currContent = $(M.escapeHash(link.hash));
            if ($currContent.length) {
              $currContent[0].style.display = '';
            }
          }
        });
      }

      /**
       * set tabs and tab width
       */

    }, {
      key: "_setTabsAndTabWidth",
      value: function _setTabsAndTabWidth() {
        this.tabsWidth = this.$el.width();
        this.tabWidth = Math.max(this.tabsWidth, this.el.scrollWidth) / this.$tabLinks.length;
      }

      /**
       * Finds right attribute for indicator based on active tab.
       * @param {cash} el
       */

    }, {
      key: "_calcRightPos",
      value: function _calcRightPos(el) {
        return Math.ceil(this.tabsWidth - el.position().left - el[0].getBoundingClientRect().width);
      }

      /**
       * Finds left attribute for indicator based on active tab.
       * @param {cash} el
       */

    }, {
      key: "_calcLeftPos",
      value: function _calcLeftPos(el) {
        return Math.floor(el.position().left);
      }
    }, {
      key: "updateTabIndicator",
      value: function updateTabIndicator() {
        this._setTabsAndTabWidth();
        this._animateIndicator(this.index);
      }

      /**
       * Animates Indicator to active tab.
       * @param {Number} prevIndex
       */

    }, {
      key: "_animateIndicator",
      value: function _animateIndicator(prevIndex) {
        var leftDelay = 0,
            rightDelay = 0;

        if (this.index - prevIndex >= 0) {
          leftDelay = 90;
        } else {
          rightDelay = 90;
        }

        // Animate
        var animOptions = {
          targets: this._indicator,
          left: {
            value: this._calcLeftPos(this.$activeTabLink),
            delay: leftDelay
          },
          right: {
            value: this._calcRightPos(this.$activeTabLink),
            delay: rightDelay
          },
          duration: this.options.duration,
          easing: 'easeOutQuad'
        };
        anim.remove(this._indicator);
        anim(animOptions);
      }

      /**
       * Select tab.
       * @param {String} tabId
       */

    }, {
      key: "select",
      value: function select(tabId) {
        var tab = this.$tabLinks.filter('[href="#' + tabId + '"]');
        if (tab.length) {
          tab.trigger('click');
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Tabs.__proto__ || Object.getPrototypeOf(Tabs), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Tabs;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Tabs;
  }(Component);

  M.Tabs = Tabs;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Tabs, 'tabs', 'M_Tabs');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    exitDelay: 200,
    enterDelay: 0,
    html: null,
    margin: 5,
    inDuration: 250,
    outDuration: 200,
    position: 'bottom',
    transitionMovement: 10
  };

  /**
   * @class
   *
   */

  var Tooltip = function (_Component7) {
    _inherits(Tooltip, _Component7);

    /**
     * Construct Tooltip instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Tooltip(el, options) {
      _classCallCheck(this, Tooltip);

      var _this26 = _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, Tooltip, el, options));

      _this26.el.M_Tooltip = _this26;
      _this26.options = $.extend({}, Tooltip.defaults, options);

      _this26.isOpen = false;
      _this26.isHovered = false;
      _this26.isFocused = false;
      _this26._appendTooltipEl();
      _this26._setupEventHandlers();
      return _this26;
    }

    _createClass(Tooltip, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        $(this.tooltipEl).remove();
        this._removeEventHandlers();
        this.el.M_Tooltip = undefined;
      }
    }, {
      key: "_appendTooltipEl",
      value: function _appendTooltipEl() {
        var tooltipEl = document.createElement('div');
        tooltipEl.classList.add('material-tooltip');
        this.tooltipEl = tooltipEl;

        var tooltipContentEl = document.createElement('div');
        tooltipContentEl.classList.add('tooltip-content');
        tooltipContentEl.innerHTML = this.options.html;
        tooltipEl.appendChild(tooltipContentEl);
        document.body.appendChild(tooltipEl);
      }
    }, {
      key: "_updateTooltipContent",
      value: function _updateTooltipContent() {
        this.tooltipEl.querySelector('.tooltip-content').innerHTML = this.options.html;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleMouseEnterBound = this._handleMouseEnter.bind(this);
        this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);
        this._handleFocusBound = this._handleFocus.bind(this);
        this._handleBlurBound = this._handleBlur.bind(this);
        this.el.addEventListener('mouseenter', this._handleMouseEnterBound);
        this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);
        this.el.addEventListener('focus', this._handleFocusBound, true);
        this.el.addEventListener('blur', this._handleBlurBound, true);
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);
        this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);
        this.el.removeEventListener('focus', this._handleFocusBound, true);
        this.el.removeEventListener('blur', this._handleBlurBound, true);
      }
    }, {
      key: "open",
      value: function open(isManual) {
        if (this.isOpen) {
          return;
        }
        isManual = isManual === undefined ? true : undefined; // Default value true
        this.isOpen = true;
        // Update tooltip content with HTML attribute options
        this.options = $.extend({}, this.options, this._getAttributeOptions());
        this._updateTooltipContent();
        this._setEnterDelayTimeout(isManual);
      }
    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isHovered = false;
        this.isFocused = false;
        this.isOpen = false;
        this._setExitDelayTimeout();
      }

      /**
       * Create timeout which delays when the tooltip closes
       */

    }, {
      key: "_setExitDelayTimeout",
      value: function _setExitDelayTimeout() {
        var _this27 = this;

        clearTimeout(this._exitDelayTimeout);

        this._exitDelayTimeout = setTimeout(function () {
          if (_this27.isHovered || _this27.isFocused) {
            return;
          }

          _this27._animateOut();
        }, this.options.exitDelay);
      }

      /**
       * Create timeout which delays when the toast closes
       */

    }, {
      key: "_setEnterDelayTimeout",
      value: function _setEnterDelayTimeout(isManual) {
        var _this28 = this;

        clearTimeout(this._enterDelayTimeout);

        this._enterDelayTimeout = setTimeout(function () {
          if (!_this28.isHovered && !_this28.isFocused && !isManual) {
            return;
          }

          _this28._animateIn();
        }, this.options.enterDelay);
      }
    }, {
      key: "_positionTooltip",
      value: function _positionTooltip() {
        var origin = this.el,
            tooltip = this.tooltipEl,
            originHeight = origin.offsetHeight,
            originWidth = origin.offsetWidth,
            tooltipHeight = tooltip.offsetHeight,
            tooltipWidth = tooltip.offsetWidth,
            newCoordinates = void 0,
            margin = this.options.margin,
            targetTop = void 0,
            targetLeft = void 0;

        this.xMovement = 0, this.yMovement = 0;

        targetTop = origin.getBoundingClientRect().top + M.getDocumentScrollTop();
        targetLeft = origin.getBoundingClientRect().left + M.getDocumentScrollLeft();

        if (this.options.position === 'top') {
          targetTop += -tooltipHeight - margin;
          targetLeft += originWidth / 2 - tooltipWidth / 2;
          this.yMovement = -this.options.transitionMovement;
        } else if (this.options.position === 'right') {
          targetTop += originHeight / 2 - tooltipHeight / 2;
          targetLeft += originWidth + margin;
          this.xMovement = this.options.transitionMovement;
        } else if (this.options.position === 'left') {
          targetTop += originHeight / 2 - tooltipHeight / 2;
          targetLeft += -tooltipWidth - margin;
          this.xMovement = -this.options.transitionMovement;
        } else {
          targetTop += originHeight + margin;
          targetLeft += originWidth / 2 - tooltipWidth / 2;
          this.yMovement = this.options.transitionMovement;
        }

        newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);
        $(tooltip).css({
          top: newCoordinates.y + 'px',
          left: newCoordinates.x + 'px'
        });
      }
    }, {
      key: "_repositionWithinScreen",
      value: function _repositionWithinScreen(x, y, width, height) {
        var scrollLeft = M.getDocumentScrollLeft();
        var scrollTop = M.getDocumentScrollTop();
        var newX = x - scrollLeft;
        var newY = y - scrollTop;

        var bounding = {
          left: newX,
          top: newY,
          width: width,
          height: height
        };

        var offset = this.options.margin + this.options.transitionMovement;
        var edges = M.checkWithinContainer(document.body, bounding, offset);

        if (edges.left) {
          newX = offset;
        } else if (edges.right) {
          newX -= newX + width - window.innerWidth;
        }

        if (edges.top) {
          newY = offset;
        } else if (edges.bottom) {
          newY -= newY + height - window.innerHeight;
        }

        return {
          x: newX + scrollLeft,
          y: newY + scrollTop
        };
      }
    }, {
      key: "_animateIn",
      value: function _animateIn() {
        this._positionTooltip();
        this.tooltipEl.style.visibility = 'visible';
        anim.remove(this.tooltipEl);
        anim({
          targets: this.tooltipEl,
          opacity: 1,
          translateX: this.xMovement,
          translateY: this.yMovement,
          duration: this.options.inDuration,
          easing: 'easeOutCubic'
        });
      }
    }, {
      key: "_animateOut",
      value: function _animateOut() {
        anim.remove(this.tooltipEl);
        anim({
          targets: this.tooltipEl,
          opacity: 0,
          translateX: 0,
          translateY: 0,
          duration: this.options.outDuration,
          easing: 'easeOutCubic'
        });
      }
    }, {
      key: "_handleMouseEnter",
      value: function _handleMouseEnter() {
        this.isHovered = true;
        this.isFocused = false; // Allows close of tooltip when opened by focus.
        this.open(false);
      }
    }, {
      key: "_handleMouseLeave",
      value: function _handleMouseLeave() {
        this.isHovered = false;
        this.isFocused = false; // Allows close of tooltip when opened by focus.
        this.close();
      }
    }, {
      key: "_handleFocus",
      value: function _handleFocus() {
        if (M.tabPressed) {
          this.isFocused = true;
          this.open(false);
        }
      }
    }, {
      key: "_handleBlur",
      value: function _handleBlur() {
        this.isFocused = false;
        this.close();
      }
    }, {
      key: "_getAttributeOptions",
      value: function _getAttributeOptions() {
        var attributeOptions = {};
        var tooltipTextOption = this.el.getAttribute('data-tooltip');
        var positionOption = this.el.getAttribute('data-position');

        if (tooltipTextOption) {
          attributeOptions.html = tooltipTextOption;
        }

        if (positionOption) {
          attributeOptions.position = positionOption;
        }
        return attributeOptions;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Tooltip.__proto__ || Object.getPrototypeOf(Tooltip), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Tooltip;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Tooltip;
  }(Component);

  M.Tooltip = Tooltip;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Tooltip, 'tooltip', 'M_Tooltip');
  }
})(cash, M.anime);
; /*!
  * Waves v0.6.4
  * http://fian.my.id/Waves
  *
  * Copyright 2014 Alfiana E. Sibuea and other contributors
  * Released under the MIT license
  * https://github.com/fians/Waves/blob/master/LICENSE
  */

;(function (window) {
  'use strict';

  var Waves = Waves || {};
  var $$ = document.querySelectorAll.bind(document);

  // Find exact position of element
  function isWindow(obj) {
    return obj !== null && obj === obj.window;
  }

  function getWindow(elem) {
    return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;
  }

  function offset(elem) {
    var docElem,
        win,
        box = { top: 0, left: 0 },
        doc = elem && elem.ownerDocument;

    docElem = doc.documentElement;

    if (typeof elem.getBoundingClientRect !== typeof undefined) {
      box = elem.getBoundingClientRect();
    }
    win = getWindow(doc);
    return {
      top: box.top + win.pageYOffset - docElem.clientTop,
      left: box.left + win.pageXOffset - docElem.clientLeft
    };
  }

  function convertStyle(obj) {
    var style = '';

    for (var a in obj) {
      if (obj.hasOwnProperty(a)) {
        style += a + ':' + obj[a] + ';';
      }
    }

    return style;
  }

  var Effect = {

    // Effect delay
    duration: 750,

    show: function (e, element) {

      // Disable right click
      if (e.button === 2) {
        return false;
      }

      var el = element || this;

      // Create ripple
      var ripple = document.createElement('div');
      ripple.className = 'waves-ripple';
      el.appendChild(ripple);

      // Get click coordinate and element witdh
      var pos = offset(el);
      var relativeY = e.pageY - pos.top;
      var relativeX = e.pageX - pos.left;
      var scale = 'scale(' + el.clientWidth / 100 * 10 + ')';

      // Support for touch devices
      if ('touches' in e) {
        relativeY = e.touches[0].pageY - pos.top;
        relativeX = e.touches[0].pageX - pos.left;
      }

      // Attach data to element
      ripple.setAttribute('data-hold', Date.now());
      ripple.setAttribute('data-scale', scale);
      ripple.setAttribute('data-x', relativeX);
      ripple.setAttribute('data-y', relativeY);

      // Set ripple position
      var rippleStyle = {
        'top': relativeY + 'px',
        'left': relativeX + 'px'
      };

      ripple.className = ripple.className + ' waves-notransition';
      ripple.setAttribute('style', convertStyle(rippleStyle));
      ripple.className = ripple.className.replace('waves-notransition', '');

      // Scale the ripple
      rippleStyle['-webkit-transform'] = scale;
      rippleStyle['-moz-transform'] = scale;
      rippleStyle['-ms-transform'] = scale;
      rippleStyle['-o-transform'] = scale;
      rippleStyle.transform = scale;
      rippleStyle.opacity = '1';

      rippleStyle['-webkit-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['-moz-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['-o-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['transition-duration'] = Effect.duration + 'ms';

      rippleStyle['-webkit-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['-moz-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['-o-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';

      ripple.setAttribute('style', convertStyle(rippleStyle));
    },

    hide: function (e) {
      TouchHandler.touchup(e);

      var el = this;
      var width = el.clientWidth * 1.4;

      // Get first ripple
      var ripple = null;
      var ripples = el.getElementsByClassName('waves-ripple');
      if (ripples.length > 0) {
        ripple = ripples[ripples.length - 1];
      } else {
        return false;
      }

      var relativeX = ripple.getAttribute('data-x');
      var relativeY = ripple.getAttribute('data-y');
      var scale = ripple.getAttribute('data-scale');

      // Get delay beetween mousedown and mouse leave
      var diff = Date.now() - Number(ripple.getAttribute('data-hold'));
      var delay = 350 - diff;

      if (delay < 0) {
        delay = 0;
      }

      // Fade out ripple after delay
      setTimeout(function () {
        var style = {
          'top': relativeY + 'px',
          'left': relativeX + 'px',
          'opacity': '0',

          // Duration
          '-webkit-transition-duration': Effect.duration + 'ms',
          '-moz-transition-duration': Effect.duration + 'ms',
          '-o-transition-duration': Effect.duration + 'ms',
          'transition-duration': Effect.duration + 'ms',
          '-webkit-transform': scale,
          '-moz-transform': scale,
          '-ms-transform': scale,
          '-o-transform': scale,
          'transform': scale
        };

        ripple.setAttribute('style', convertStyle(style));

        setTimeout(function () {
          try {
            el.removeChild(ripple);
          } catch (e) {
            return false;
          }
        }, Effect.duration);
      }, delay);
    },

    // Little hack to make <input> can perform waves effect
    wrapInput: function (elements) {
      for (var a = 0; a < elements.length; a++) {
        var el = elements[a];

        if (el.tagName.toLowerCase() === 'input') {
          var parent = el.parentNode;

          // If input already have parent just pass through
          if (parent.tagName.toLowerCase() === 'i' && parent.className.indexOf('waves-effect') !== -1) {
            continue;
          }

          // Put element class and style to the specified parent
          var wrapper = document.createElement('i');
          wrapper.className = el.className + ' waves-input-wrapper';

          var elementStyle = el.getAttribute('style');

          if (!elementStyle) {
            elementStyle = '';
          }

          wrapper.setAttribute('style', elementStyle);

          el.className = 'waves-button-input';
          el.removeAttribute('style');

          // Put element as child
          parent.replaceChild(wrapper, el);
          wrapper.appendChild(el);
        }
      }
    }
  };

  /**
   * Disable mousedown event for 500ms during and after touch
   */
  var TouchHandler = {
    /* uses an integer rather than bool so there's no issues with
     * needing to clear timeouts if another touch event occurred
     * within the 500ms. Cannot mouseup between touchstart and
     * touchend, nor in the 500ms after touchend. */
    touches: 0,
    allowEvent: function (e) {
      var allow = true;

      if (e.type === 'touchstart') {
        TouchHandler.touches += 1; //push
      } else if (e.type === 'touchend' || e.type === 'touchcancel') {
        setTimeout(function () {
          if (TouchHandler.touches > 0) {
            TouchHandler.touches -= 1; //pop after 500ms
          }
        }, 500);
      } else if (e.type === 'mousedown' && TouchHandler.touches > 0) {
        allow = false;
      }

      return allow;
    },
    touchup: function (e) {
      TouchHandler.allowEvent(e);
    }
  };

  /**
   * Delegated click handler for .waves-effect element.
   * returns null when .waves-effect element not in "click tree"
   */
  function getWavesEffectElement(e) {
    if (TouchHandler.allowEvent(e) === false) {
      return null;
    }

    var element = null;
    var target = e.target || e.srcElement;

    while (target.parentNode !== null) {
      if (!(target instanceof SVGElement) && target.className.indexOf('waves-effect') !== -1) {
        element = target;
        break;
      }
      target = target.parentNode;
    }
    return element;
  }

  /**
   * Bubble the click and show effect if .waves-effect elem was found
   */
  function showEffect(e) {
    var element = getWavesEffectElement(e);

    if (element !== null) {
      Effect.show(e, element);

      if ('ontouchstart' in window) {
        element.addEventListener('touchend', Effect.hide, false);
        element.addEventListener('touchcancel', Effect.hide, false);
      }

      element.addEventListener('mouseup', Effect.hide, false);
      element.addEventListener('mouseleave', Effect.hide, false);
      element.addEventListener('dragend', Effect.hide, false);
    }
  }

  Waves.displayEffect = function (options) {
    options = options || {};

    if ('duration' in options) {
      Effect.duration = options.duration;
    }

    //Wrap input inside <i> tag
    Effect.wrapInput($$('.waves-effect'));

    if ('ontouchstart' in window) {
      document.body.addEventListener('touchstart', showEffect, false);
    }

    document.body.addEventListener('mousedown', showEffect, false);
  };

  /**
   * Attach Waves to an input element (or any element which doesn't
   * bubble mouseup/mousedown events).
   *   Intended to be used with dynamically loaded forms/inputs, or
   * where the user doesn't want a delegated click handler.
   */
  Waves.attach = function (element) {
    //FUTURE: automatically add waves classes and allow users
    // to specify them with an options param? Eg. light/classic/button
    if (element.tagName.toLowerCase() === 'input') {
      Effect.wrapInput([element]);
      element = element.parentNode;
    }

    if ('ontouchstart' in window) {
      element.addEventListener('touchstart', showEffect, false);
    }

    element.addEventListener('mousedown', showEffect, false);
  };

  window.Waves = Waves;

  document.addEventListener('DOMContentLoaded', function () {
    Waves.displayEffect();
  }, false);
})(window);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    html: '',
    displayLength: 4000,
    inDuration: 300,
    outDuration: 375,
    classes: '',
    completeCallback: null,
    activationPercent: 0.8
  };

  var Toast = function () {
    function Toast(options) {
      _classCallCheck(this, Toast);

      /**
       * Options for the toast
       * @member Toast#options
       */
      this.options = $.extend({}, Toast.defaults, options);
      this.message = this.options.html;

      /**
       * Describes current pan state toast
       * @type {Boolean}
       */
      this.panning = false;

      /**
       * Time remaining until toast is removed
       */
      this.timeRemaining = this.options.displayLength;

      if (Toast._toasts.length === 0) {
        Toast._createContainer();
      }

      // Create new toast
      Toast._toasts.push(this);
      var toastElement = this._createToast();
      toastElement.M_Toast = this;
      this.el = toastElement;
      this.$el = $(toastElement);
      this._animateIn();
      this._setTimer();
    }

    _createClass(Toast, [{
      key: "_createToast",


      /**
       * Create toast and append it to toast container
       */
      value: function _createToast() {
        var toast = document.createElement('div');
        toast.classList.add('toast');

        // Add custom classes onto toast
        if (!!this.options.classes.length) {
          $(toast).addClass(this.options.classes);
        }

        // Set content
        if (typeof HTMLElement === 'object' ? this.message instanceof HTMLElement : this.message && typeof this.message === 'object' && this.message !== null && this.message.nodeType === 1 && typeof this.message.nodeName === 'string') {
          toast.appendChild(this.message);

          // Check if it is jQuery object
        } else if (!!this.message.jquery) {
          $(toast).append(this.message[0]);

          // Insert as html;
        } else {
          toast.innerHTML = this.message;
        }

        // Append toasft
        Toast._container.appendChild(toast);
        return toast;
      }

      /**
       * Animate in toast
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        // Animate toast in
        anim({
          targets: this.el,
          top: 0,
          opacity: 1,
          duration: this.options.inDuration,
          easing: 'easeOutCubic'
        });
      }

      /**
       * Create setInterval which automatically removes toast when timeRemaining >= 0
       * has been reached
       */

    }, {
      key: "_setTimer",
      value: function _setTimer() {
        var _this29 = this;

        if (this.timeRemaining !== Infinity) {
          this.counterInterval = setInterval(function () {
            // If toast is not being dragged, decrease its time remaining
            if (!_this29.panning) {
              _this29.timeRemaining -= 20;
            }

            // Animate toast out
            if (_this29.timeRemaining <= 0) {
              _this29.dismiss();
            }
          }, 20);
        }
      }

      /**
       * Dismiss toast with animation
       */

    }, {
      key: "dismiss",
      value: function dismiss() {
        var _this30 = this;

        window.clearInterval(this.counterInterval);
        var activationDistance = this.el.offsetWidth * this.options.activationPercent;

        if (this.wasSwiped) {
          this.el.style.transition = 'transform .05s, opacity .05s';
          this.el.style.transform = "translateX(" + activationDistance + "px)";
          this.el.style.opacity = 0;
        }

        anim({
          targets: this.el,
          opacity: 0,
          marginTop: -40,
          duration: this.options.outDuration,
          easing: 'easeOutExpo',
          complete: function () {
            // Call the optional callback
            if (typeof _this30.options.completeCallback === 'function') {
              _this30.options.completeCallback();
            }
            // Remove toast from DOM
            _this30.$el.remove();
            Toast._toasts.splice(Toast._toasts.indexOf(_this30), 1);
            if (Toast._toasts.length === 0) {
              Toast._removeContainer();
            }
          }
        });
      }
    }], [{
      key: "getInstance",


      /**
       * Get Instance
       */
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Toast;
      }

      /**
       * Append toast container and add event handlers
       */

    }, {
      key: "_createContainer",
      value: function _createContainer() {
        var container = document.createElement('div');
        container.setAttribute('id', 'toast-container');

        // Add event handler
        container.addEventListener('touchstart', Toast._onDragStart);
        container.addEventListener('touchmove', Toast._onDragMove);
        container.addEventListener('touchend', Toast._onDragEnd);

        container.addEventListener('mousedown', Toast._onDragStart);
        document.addEventListener('mousemove', Toast._onDragMove);
        document.addEventListener('mouseup', Toast._onDragEnd);

        document.body.appendChild(container);
        Toast._container = container;
      }

      /**
       * Remove toast container and event handlers
       */

    }, {
      key: "_removeContainer",
      value: function _removeContainer() {
        // Add event handler
        document.removeEventListener('mousemove', Toast._onDragMove);
        document.removeEventListener('mouseup', Toast._onDragEnd);

        $(Toast._container).remove();
        Toast._container = null;
      }

      /**
       * Begin drag handler
       * @param {Event} e
       */

    }, {
      key: "_onDragStart",
      value: function _onDragStart(e) {
        if (e.target && $(e.target).closest('.toast').length) {
          var $toast = $(e.target).closest('.toast');
          var toast = $toast[0].M_Toast;
          toast.panning = true;
          Toast._draggedToast = toast;
          toast.el.classList.add('panning');
          toast.el.style.transition = '';
          toast.startingXPos = Toast._xPos(e);
          toast.time = Date.now();
          toast.xPos = Toast._xPos(e);
        }
      }

      /**
       * Drag move handler
       * @param {Event} e
       */

    }, {
      key: "_onDragMove",
      value: function _onDragMove(e) {
        if (!!Toast._draggedToast) {
          e.preventDefault();
          var toast = Toast._draggedToast;
          toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));
          toast.xPos = Toast._xPos(e);
          toast.velocityX = toast.deltaX / (Date.now() - toast.time);
          toast.time = Date.now();

          var totalDeltaX = toast.xPos - toast.startingXPos;
          var activationDistance = toast.el.offsetWidth * toast.options.activationPercent;
          toast.el.style.transform = "translateX(" + totalDeltaX + "px)";
          toast.el.style.opacity = 1 - Math.abs(totalDeltaX / activationDistance);
        }
      }

      /**
       * End drag handler
       */

    }, {
      key: "_onDragEnd",
      value: function _onDragEnd() {
        if (!!Toast._draggedToast) {
          var toast = Toast._draggedToast;
          toast.panning = false;
          toast.el.classList.remove('panning');

          var totalDeltaX = toast.xPos - toast.startingXPos;
          var activationDistance = toast.el.offsetWidth * toast.options.activationPercent;
          var shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;

          // Remove toast
          if (shouldBeDismissed) {
            toast.wasSwiped = true;
            toast.dismiss();

            // Animate toast back to original position
          } else {
            toast.el.style.transition = 'transform .2s, opacity .2s';
            toast.el.style.transform = '';
            toast.el.style.opacity = '';
          }
          Toast._draggedToast = null;
        }
      }

      /**
       * Get x position of mouse or touch event
       * @param {Event} e
       */

    }, {
      key: "_xPos",
      value: function _xPos(e) {
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientX;
        }
        // mouse event
        return e.clientX;
      }

      /**
       * Remove all toasts
       */

    }, {
      key: "dismissAll",
      value: function dismissAll() {
        for (var toastIndex in Toast._toasts) {
          Toast._toasts[toastIndex].dismiss();
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Toast;
  }();

  /**
   * @static
   * @memberof Toast
   * @type {Array.<Toast>}
   */


  Toast._toasts = [];

  /**
   * @static
   * @memberof Toast
   */
  Toast._container = null;

  /**
   * @static
   * @memberof Toast
   * @type {Toast}
   */
  Toast._draggedToast = null;

  M.Toast = Toast;
  M.toast = function (options) {
    return new Toast(options);
  };
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    edge: 'left',
    draggable: true,
    inDuration: 250,
    outDuration: 200,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    preventScrolling: true
  };

  /**
   * @class
   */

  var Sidenav = function (_Component8) {
    _inherits(Sidenav, _Component8);

    /**
     * Construct Sidenav instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Sidenav(el, options) {
      _classCallCheck(this, Sidenav);

      var _this31 = _possibleConstructorReturn(this, (Sidenav.__proto__ || Object.getPrototypeOf(Sidenav)).call(this, Sidenav, el, options));

      _this31.el.M_Sidenav = _this31;
      _this31.id = _this31.$el.attr('id');

      /**
       * Options for the Sidenav
       * @member Sidenav#options
       * @prop {String} [edge='left'] - Side of screen on which Sidenav appears
       * @prop {Boolean} [draggable=true] - Allow swipe gestures to open/close Sidenav
       * @prop {Number} [inDuration=250] - Length in ms of enter transition
       * @prop {Number} [outDuration=200] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Function called when sidenav starts entering
       * @prop {Function} onOpenEnd - Function called when sidenav finishes entering
       * @prop {Function} onCloseStart - Function called when sidenav starts exiting
       * @prop {Function} onCloseEnd - Function called when sidenav finishes exiting
       */
      _this31.options = $.extend({}, Sidenav.defaults, options);

      /**
       * Describes open/close state of Sidenav
       * @type {Boolean}
       */
      _this31.isOpen = false;

      /**
       * Describes if Sidenav is fixed
       * @type {Boolean}
       */
      _this31.isFixed = _this31.el.classList.contains('sidenav-fixed');

      /**
       * Describes if Sidenav is being draggeed
       * @type {Boolean}
       */
      _this31.isDragged = false;

      // Window size variables for window resize checks
      _this31.lastWindowWidth = window.innerWidth;
      _this31.lastWindowHeight = window.innerHeight;

      _this31._createOverlay();
      _this31._createDragTarget();
      _this31._setupEventHandlers();
      _this31._setupClasses();
      _this31._setupFixed();

      Sidenav._sidenavs.push(_this31);
      return _this31;
    }

    _createClass(Sidenav, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._enableBodyScrolling();
        this._overlay.parentNode.removeChild(this._overlay);
        this.dragTarget.parentNode.removeChild(this.dragTarget);
        this.el.M_Sidenav = undefined;
        this.el.style.transform = '';

        var index = Sidenav._sidenavs.indexOf(this);
        if (index >= 0) {
          Sidenav._sidenavs.splice(index, 1);
        }
      }
    }, {
      key: "_createOverlay",
      value: function _createOverlay() {
        var overlay = document.createElement('div');
        this._closeBound = this.close.bind(this);
        overlay.classList.add('sidenav-overlay');

        overlay.addEventListener('click', this._closeBound);

        document.body.appendChild(overlay);
        this._overlay = overlay;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        if (Sidenav._sidenavs.length === 0) {
          document.body.addEventListener('click', this._handleTriggerClick);
        }

        this._handleDragTargetDragBound = this._handleDragTargetDrag.bind(this);
        this._handleDragTargetReleaseBound = this._handleDragTargetRelease.bind(this);
        this._handleCloseDragBound = this._handleCloseDrag.bind(this);
        this._handleCloseReleaseBound = this._handleCloseRelease.bind(this);
        this._handleCloseTriggerClickBound = this._handleCloseTriggerClick.bind(this);

        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDragBound);
        this.dragTarget.addEventListener('touchend', this._handleDragTargetReleaseBound);
        this._overlay.addEventListener('touchmove', this._handleCloseDragBound);
        this._overlay.addEventListener('touchend', this._handleCloseReleaseBound);
        this.el.addEventListener('touchmove', this._handleCloseDragBound);
        this.el.addEventListener('touchend', this._handleCloseReleaseBound);
        this.el.addEventListener('click', this._handleCloseTriggerClickBound);

        // Add resize for side nav fixed
        if (this.isFixed) {
          this._handleWindowResizeBound = this._handleWindowResize.bind(this);
          window.addEventListener('resize', this._handleWindowResizeBound);
        }
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (Sidenav._sidenavs.length === 1) {
          document.body.removeEventListener('click', this._handleTriggerClick);
        }

        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDragBound);
        this.dragTarget.removeEventListener('touchend', this._handleDragTargetReleaseBound);
        this._overlay.removeEventListener('touchmove', this._handleCloseDragBound);
        this._overlay.removeEventListener('touchend', this._handleCloseReleaseBound);
        this.el.removeEventListener('touchmove', this._handleCloseDragBound);
        this.el.removeEventListener('touchend', this._handleCloseReleaseBound);
        this.el.removeEventListener('click', this._handleCloseTriggerClickBound);

        // Remove resize for side nav fixed
        if (this.isFixed) {
          window.removeEventListener('resize', this._handleWindowResizeBound);
        }
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target).closest('.sidenav-trigger');
        if (e.target && $trigger.length) {
          var sidenavId = M.getIdFromTrigger($trigger[0]);

          var sidenavInstance = document.getElementById(sidenavId).M_Sidenav;
          if (sidenavInstance) {
            sidenavInstance.open($trigger);
          }
          e.preventDefault();
        }
      }

      /**
       * Set variables needed at the beggining of drag
       * and stop any current transition.
       * @param {Event} e
       */

    }, {
      key: "_startDrag",
      value: function _startDrag(e) {
        var clientX = e.targetTouches[0].clientX;
        this.isDragged = true;
        this._startingXpos = clientX;
        this._xPos = this._startingXpos;
        this._time = Date.now();
        this._width = this.el.getBoundingClientRect().width;
        this._overlay.style.display = 'block';
        this._initialScrollTop = this.isOpen ? this.el.scrollTop : M.getDocumentScrollTop();
        this._verticallyScrolling = false;
        anim.remove(this.el);
        anim.remove(this._overlay);
      }

      /**
       * Set variables needed at each drag move update tick
       * @param {Event} e
       */

    }, {
      key: "_dragMoveUpdate",
      value: function _dragMoveUpdate(e) {
        var clientX = e.targetTouches[0].clientX;
        var currentScrollTop = this.isOpen ? this.el.scrollTop : M.getDocumentScrollTop();
        this.deltaX = Math.abs(this._xPos - clientX);
        this._xPos = clientX;
        this.velocityX = this.deltaX / (Date.now() - this._time);
        this._time = Date.now();
        if (this._initialScrollTop !== currentScrollTop) {
          this._verticallyScrolling = true;
        }
      }

      /**
       * Handles Dragging of Sidenav
       * @param {Event} e
       */

    }, {
      key: "_handleDragTargetDrag",
      value: function _handleDragTargetDrag(e) {
        // Check if draggable
        if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {
          return;
        }

        // If not being dragged, set initial drag start variables
        if (!this.isDragged) {
          this._startDrag(e);
        }

        // Run touchmove updates
        this._dragMoveUpdate(e);

        // Calculate raw deltaX
        var totalDeltaX = this._xPos - this._startingXpos;

        // dragDirection is the attempted user drag direction
        var dragDirection = totalDeltaX > 0 ? 'right' : 'left';

        // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction
        totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));
        if (this.options.edge === dragDirection) {
          totalDeltaX = 0;
        }

        /**
         * transformX is the drag displacement
         * transformPrefix is the initial transform placement
         * Invert values if Sidenav is right edge
         */
        var transformX = totalDeltaX;
        var transformPrefix = 'translateX(-100%)';
        if (this.options.edge === 'right') {
          transformPrefix = 'translateX(100%)';
          transformX = -transformX;
        }

        // Calculate open/close percentage of sidenav, with open = 1 and close = 0
        this.percentOpen = Math.min(1, totalDeltaX / this._width);

        // Set transform and opacity styles
        this.el.style.transform = transformPrefix + " translateX(" + transformX + "px)";
        this._overlay.style.opacity = this.percentOpen;
      }

      /**
       * Handle Drag Target Release
       */

    }, {
      key: "_handleDragTargetRelease",
      value: function _handleDragTargetRelease() {
        if (this.isDragged) {
          if (this.percentOpen > 0.2) {
            this.open();
          } else {
            this._animateOut();
          }

          this.isDragged = false;
          this._verticallyScrolling = false;
        }
      }

      /**
       * Handle Close Drag
       * @param {Event} e
       */

    }, {
      key: "_handleCloseDrag",
      value: function _handleCloseDrag(e) {
        if (this.isOpen) {
          // Check if draggable
          if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {
            return;
          }

          // If not being dragged, set initial drag start variables
          if (!this.isDragged) {
            this._startDrag(e);
          }

          // Run touchmove updates
          this._dragMoveUpdate(e);

          // Calculate raw deltaX
          var totalDeltaX = this._xPos - this._startingXpos;

          // dragDirection is the attempted user drag direction
          var dragDirection = totalDeltaX > 0 ? 'right' : 'left';

          // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction
          totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));
          if (this.options.edge !== dragDirection) {
            totalDeltaX = 0;
          }

          var transformX = -totalDeltaX;
          if (this.options.edge === 'right') {
            transformX = -transformX;
          }

          // Calculate open/close percentage of sidenav, with open = 1 and close = 0
          this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);

          // Set transform and opacity styles
          this.el.style.transform = "translateX(" + transformX + "px)";
          this._overlay.style.opacity = this.percentOpen;
        }
      }

      /**
       * Handle Close Release
       */

    }, {
      key: "_handleCloseRelease",
      value: function _handleCloseRelease() {
        if (this.isOpen && this.isDragged) {
          if (this.percentOpen > 0.8) {
            this._animateIn();
          } else {
            this.close();
          }

          this.isDragged = false;
          this._verticallyScrolling = false;
        }
      }

      /**
       * Handles closing of Sidenav when element with class .sidenav-close
       */

    }, {
      key: "_handleCloseTriggerClick",
      value: function _handleCloseTriggerClick(e) {
        var $closeTrigger = $(e.target).closest('.sidenav-close');
        if ($closeTrigger.length && !this._isCurrentlyFixed()) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        // Only handle horizontal resizes
        if (this.lastWindowWidth !== window.innerWidth) {
          if (window.innerWidth > 992) {
            this.open();
          } else {
            this.close();
          }
        }

        this.lastWindowWidth = window.innerWidth;
        this.lastWindowHeight = window.innerHeight;
      }
    }, {
      key: "_setupClasses",
      value: function _setupClasses() {
        if (this.options.edge === 'right') {
          this.el.classList.add('right-aligned');
          this.dragTarget.classList.add('right-aligned');
        }
      }
    }, {
      key: "_removeClasses",
      value: function _removeClasses() {
        this.el.classList.remove('right-aligned');
        this.dragTarget.classList.remove('right-aligned');
      }
    }, {
      key: "_setupFixed",
      value: function _setupFixed() {
        if (this._isCurrentlyFixed()) {
          this.open();
        }
      }
    }, {
      key: "_isCurrentlyFixed",
      value: function _isCurrentlyFixed() {
        return this.isFixed && window.innerWidth > 992;
      }
    }, {
      key: "_createDragTarget",
      value: function _createDragTarget() {
        var dragTarget = document.createElement('div');
        dragTarget.classList.add('drag-target');
        document.body.appendChild(dragTarget);
        this.dragTarget = dragTarget;
      }
    }, {
      key: "_preventBodyScrolling",
      value: function _preventBodyScrolling() {
        var body = document.body;
        body.style.overflow = 'hidden';
      }
    }, {
      key: "_enableBodyScrolling",
      value: function _enableBodyScrolling() {
        var body = document.body;
        body.style.overflow = '';
      }
    }, {
      key: "open",
      value: function open() {
        if (this.isOpen === true) {
          return;
        }

        this.isOpen = true;

        // Run onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Handle fixed Sidenav
        if (this._isCurrentlyFixed()) {
          anim.remove(this.el);
          anim({
            targets: this.el,
            translateX: 0,
            duration: 0,
            easing: 'easeOutQuad'
          });
          this._enableBodyScrolling();
          this._overlay.style.display = 'none';

          // Handle non-fixed Sidenav
        } else {
          if (this.options.preventScrolling) {
            this._preventBodyScrolling();
          }

          if (!this.isDragged || this.percentOpen != 1) {
            this._animateIn();
          }
        }
      }
    }, {
      key: "close",
      value: function close() {
        if (this.isOpen === false) {
          return;
        }

        this.isOpen = false;

        // Run onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        // Handle fixed Sidenav
        if (this._isCurrentlyFixed()) {
          var transformX = this.options.edge === 'left' ? '-105%' : '105%';
          this.el.style.transform = "translateX(" + transformX + ")";

          // Handle non-fixed Sidenav
        } else {
          this._enableBodyScrolling();

          if (!this.isDragged || this.percentOpen != 0) {
            this._animateOut();
          } else {
            this._overlay.style.display = 'none';
          }
        }
      }
    }, {
      key: "_animateIn",
      value: function _animateIn() {
        this._animateSidenavIn();
        this._animateOverlayIn();
      }
    }, {
      key: "_animateSidenavIn",
      value: function _animateSidenavIn() {
        var _this32 = this;

        var slideOutPercent = this.options.edge === 'left' ? -1 : 1;
        if (this.isDragged) {
          slideOutPercent = this.options.edge === 'left' ? slideOutPercent + this.percentOpen : slideOutPercent - this.percentOpen;
        }

        anim.remove(this.el);
        anim({
          targets: this.el,
          translateX: [slideOutPercent * 100 + "%", 0],
          duration: this.options.inDuration,
          easing: 'easeOutQuad',
          complete: function () {
            // Run onOpenEnd callback
            if (typeof _this32.options.onOpenEnd === 'function') {
              _this32.options.onOpenEnd.call(_this32, _this32.el);
            }
          }
        });
      }
    }, {
      key: "_animateOverlayIn",
      value: function _animateOverlayIn() {
        var start = 0;
        if (this.isDragged) {
          start = this.percentOpen;
        } else {
          $(this._overlay).css({
            display: 'block'
          });
        }

        anim.remove(this._overlay);
        anim({
          targets: this._overlay,
          opacity: [start, 1],
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });
      }
    }, {
      key: "_animateOut",
      value: function _animateOut() {
        this._animateSidenavOut();
        this._animateOverlayOut();
      }
    }, {
      key: "_animateSidenavOut",
      value: function _animateSidenavOut() {
        var _this33 = this;

        var endPercent = this.options.edge === 'left' ? -1 : 1;
        var slideOutPercent = 0;
        if (this.isDragged) {
          slideOutPercent = this.options.edge === 'left' ? endPercent + this.percentOpen : endPercent - this.percentOpen;
        }

        anim.remove(this.el);
        anim({
          targets: this.el,
          translateX: [slideOutPercent * 100 + "%", endPercent * 105 + "%"],
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            // Run onOpenEnd callback
            if (typeof _this33.options.onCloseEnd === 'function') {
              _this33.options.onCloseEnd.call(_this33, _this33.el);
            }
          }
        });
      }
    }, {
      key: "_animateOverlayOut",
      value: function _animateOverlayOut() {
        var _this34 = this;

        anim.remove(this._overlay);
        anim({
          targets: this._overlay,
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            $(_this34._overlay).css('display', 'none');
          }
        });
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Sidenav.__proto__ || Object.getPrototypeOf(Sidenav), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Sidenav;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Sidenav;
  }(Component);

  /**
   * @static
   * @memberof Sidenav
   * @type {Array.<Sidenav>}
   */


  Sidenav._sidenavs = [];

  M.Sidenav = Sidenav;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Sidenav, 'sidenav', 'M_Sidenav');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    throttle: 100,
    scrollOffset: 200, // offset - 200 allows elements near bottom of page to scroll
    activeClass: 'active',
    getActiveElement: function (id) {
      return 'a[href="#' + id + '"]';
    }
  };

  /**
   * @class
   *
   */

  var ScrollSpy = function (_Component9) {
    _inherits(ScrollSpy, _Component9);

    /**
     * Construct ScrollSpy instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function ScrollSpy(el, options) {
      _classCallCheck(this, ScrollSpy);

      var _this35 = _possibleConstructorReturn(this, (ScrollSpy.__proto__ || Object.getPrototypeOf(ScrollSpy)).call(this, ScrollSpy, el, options));

      _this35.el.M_ScrollSpy = _this35;

      /**
       * Options for the modal
       * @member Modal#options
       * @prop {Number} [throttle=100] - Throttle of scroll handler
       * @prop {Number} [scrollOffset=200] - Offset for centering element when scrolled to
       * @prop {String} [activeClass='active'] - Class applied to active elements
       * @prop {Function} [getActiveElement] - Used to find active element
       */
      _this35.options = $.extend({}, ScrollSpy.defaults, options);

      // setup
      ScrollSpy._elements.push(_this35);
      ScrollSpy._count++;
      ScrollSpy._increment++;
      _this35.tickId = -1;
      _this35.id = ScrollSpy._increment;
      _this35._setupEventHandlers();
      _this35._handleWindowScroll();
      return _this35;
    }

    _createClass(ScrollSpy, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);
        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);
        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.$el), 1);
        ScrollSpy._count--;
        this._removeEventHandlers();
        $(this.options.getActiveElement(this.$el.attr('id'))).removeClass(this.options.activeClass);
        this.el.M_ScrollSpy = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var throttledResize = M.throttle(this._handleWindowScroll, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);
        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);
        if (ScrollSpy._count === 1) {
          window.addEventListener('scroll', this._handleWindowScrollBound);
          window.addEventListener('resize', this._handleThrottledResizeBound);
          document.body.addEventListener('click', this._handleTriggerClick);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (ScrollSpy._count === 0) {
          window.removeEventListener('scroll', this._handleWindowScrollBound);
          window.removeEventListener('resize', this._handleThrottledResizeBound);
          document.body.removeEventListener('click', this._handleTriggerClick);
        }
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target);
        for (var i = ScrollSpy._elements.length - 1; i >= 0; i--) {
          var scrollspy = ScrollSpy._elements[i];
          if ($trigger.is('a[href="#' + scrollspy.$el.attr('id') + '"]')) {
            e.preventDefault();
            var offset = scrollspy.$el.offset().top + 1;

            anim({
              targets: [document.documentElement, document.body],
              scrollTop: offset - scrollspy.options.scrollOffset,
              duration: 400,
              easing: 'easeOutCubic'
            });
            break;
          }
        }
      }

      /**
       * Handle Window Scroll
       */

    }, {
      key: "_handleWindowScroll",
      value: function _handleWindowScroll() {
        // unique tick id
        ScrollSpy._ticks++;

        // viewport rectangle
        var top = M.getDocumentScrollTop(),
            left = M.getDocumentScrollLeft(),
            right = left + window.innerWidth,
            bottom = top + window.innerHeight;

        // determine which elements are in view
        var intersections = ScrollSpy._findElements(top, right, bottom, left);
        for (var i = 0; i < intersections.length; i++) {
          var scrollspy = intersections[i];
          var lastTick = scrollspy.tickId;
          if (lastTick < 0) {
            // entered into view
            scrollspy._enter();
          }

          // update tick id
          scrollspy.tickId = ScrollSpy._ticks;
        }

        for (var _i = 0; _i < ScrollSpy._elementsInView.length; _i++) {
          var _scrollspy = ScrollSpy._elementsInView[_i];
          var _lastTick = _scrollspy.tickId;
          if (_lastTick >= 0 && _lastTick !== ScrollSpy._ticks) {
            // exited from view
            _scrollspy._exit();
            _scrollspy.tickId = -1;
          }
        }

        // remember elements in view for next tick
        ScrollSpy._elementsInView = intersections;
      }

      /**
       * Find elements that are within the boundary
       * @param {number} top
       * @param {number} right
       * @param {number} bottom
       * @param {number} left
       * @return {Array.<ScrollSpy>}   A collection of elements
       */

    }, {
      key: "_enter",
      value: function _enter() {
        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {
          return value.height() != 0;
        });

        if (ScrollSpy._visibleElements[0]) {
          $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);
          if (ScrollSpy._visibleElements[0][0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0][0].M_ScrollSpy.id) {
            ScrollSpy._visibleElements.unshift(this.$el);
          } else {
            ScrollSpy._visibleElements.push(this.$el);
          }
        } else {
          ScrollSpy._visibleElements.push(this.$el);
        }

        $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);
      }
    }, {
      key: "_exit",
      value: function _exit() {
        var _this36 = this;

        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {
          return value.height() != 0;
        });

        if (ScrollSpy._visibleElements[0]) {
          $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);

          ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (el) {
            return el.attr('id') != _this36.$el.attr('id');
          });
          if (ScrollSpy._visibleElements[0]) {
            // Check if empty
            $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);
          }
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(ScrollSpy.__proto__ || Object.getPrototypeOf(ScrollSpy), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_ScrollSpy;
      }
    }, {
      key: "_findElements",
      value: function _findElements(top, right, bottom, left) {
        var hits = [];
        for (var i = 0; i < ScrollSpy._elements.length; i++) {
          var scrollspy = ScrollSpy._elements[i];
          var currTop = top + scrollspy.options.scrollOffset || 200;

          if (scrollspy.$el.height() > 0) {
            var elTop = scrollspy.$el.offset().top,
                elLeft = scrollspy.$el.offset().left,
                elRight = elLeft + scrollspy.$el.width(),
                elBottom = elTop + scrollspy.$el.height();

            var isIntersect = !(elLeft > right || elRight < left || elTop > bottom || elBottom < currTop);

            if (isIntersect) {
              hits.push(scrollspy);
            }
          }
        }
        return hits;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return ScrollSpy;
  }(Component);

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<ScrollSpy>}
   */


  ScrollSpy._elements = [];

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<ScrollSpy>}
   */
  ScrollSpy._elementsInView = [];

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<cash>}
   */
  ScrollSpy._visibleElements = [];

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._count = 0;

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._increment = 0;

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._ticks = 0;

  M.ScrollSpy = ScrollSpy;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(ScrollSpy, 'scrollSpy', 'M_ScrollSpy');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    data: {}, // Autocomplete data set
    limit: Infinity, // Limit of results the autocomplete shows
    onAutocomplete: null, // Callback for when autocompleted
    minLength: 1, // Min characters before autocomplete starts
    sortFunction: function (a, b, inputString) {
      // Sort function for sorting autocomplete results
      return a.indexOf(inputString) - b.indexOf(inputString);
    }
  };

  /**
   * @class
   *
   */

  var Autocomplete = function (_Component10) {
    _inherits(Autocomplete, _Component10);

    /**
     * Construct Autocomplete instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Autocomplete(el, options) {
      _classCallCheck(this, Autocomplete);

      var _this37 = _possibleConstructorReturn(this, (Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call(this, Autocomplete, el, options));

      _this37.el.M_Autocomplete = _this37;

      /**
       * Options for the autocomplete
       * @member Autocomplete#options
       * @prop {Number} duration
       * @prop {Number} dist
       * @prop {number} shift
       * @prop {number} padding
       * @prop {Boolean} fullWidth
       * @prop {Boolean} indicators
       * @prop {Boolean} noWrap
       * @prop {Function} onCycleTo
       */
      _this37.options = $.extend({}, Autocomplete.defaults, options);

      // Setup
      _this37.isOpen = false;
      _this37.count = 0;
      _this37.activeIndex = -1;
      _this37.oldVal;
      _this37.$inputField = _this37.$el.closest('.input-field');
      _this37.$active = $();
      _this37._mousedown = false;
      _this37._setupDropdown();

      _this37._setupEventHandlers();
      return _this37;
    }

    _createClass(Autocomplete, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeDropdown();
        this.el.M_Autocomplete = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputBlurBound = this._handleInputBlur.bind(this);
        this._handleInputKeyupAndFocusBound = this._handleInputKeyupAndFocus.bind(this);
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleContainerMousedownAndTouchstartBound = this._handleContainerMousedownAndTouchstart.bind(this);
        this._handleContainerMouseupAndTouchendBound = this._handleContainerMouseupAndTouchend.bind(this);

        this.el.addEventListener('blur', this._handleInputBlurBound);
        this.el.addEventListener('keyup', this._handleInputKeyupAndFocusBound);
        this.el.addEventListener('focus', this._handleInputKeyupAndFocusBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.el.addEventListener('click', this._handleInputClickBound);
        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);
        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);

        if (typeof window.ontouchstart !== 'undefined') {
          this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);
          this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchendBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('blur', this._handleInputBlurBound);
        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocusBound);
        this.el.removeEventListener('focus', this._handleInputKeyupAndFocusBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);
        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);

        if (typeof window.ontouchstart !== 'undefined') {
          this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);
          this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchendBound);
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupDropdown",
      value: function _setupDropdown() {
        var _this38 = this;

        this.container = document.createElement('ul');
        this.container.id = "autocomplete-options-" + M.guid();
        $(this.container).addClass('autocomplete-content dropdown-content');
        this.$inputField.append(this.container);
        this.el.setAttribute('data-target', this.container.id);

        this.dropdown = M.Dropdown.init(this.el, {
          autoFocus: false,
          closeOnClick: false,
          coverTrigger: false,
          onItemClick: function (itemEl) {
            _this38.selectOption($(itemEl));
          }
        });

        // Sketchy removal of dropdown click handler
        this.el.removeEventListener('click', this.dropdown._handleClickBound);
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeDropdown",
      value: function _removeDropdown() {
        this.container.parentNode.removeChild(this.container);
      }

      /**
       * Handle Input Blur
       */

    }, {
      key: "_handleInputBlur",
      value: function _handleInputBlur() {
        if (!this._mousedown) {
          this.close();
          this._resetAutocomplete();
        }
      }

      /**
       * Handle Input Keyup and Focus
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeyupAndFocus",
      value: function _handleInputKeyupAndFocus(e) {
        if (e.type === 'keyup') {
          Autocomplete._keydown = false;
        }

        this.count = 0;
        var val = this.el.value.toLowerCase();

        // Don't capture enter or arrow key usage.
        if (e.keyCode === 13 || e.keyCode === 38 || e.keyCode === 40) {
          return;
        }

        // Check if the input isn't empty
        // Check if focus triggered by tab
        if (this.oldVal !== val && (M.tabPressed || e.type !== 'focus')) {
          this.open();
        }

        // Update oldVal
        this.oldVal = val;
      }

      /**
       * Handle Input Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        Autocomplete._keydown = true;

        // Arrow keys and enter key usage
        var keyCode = e.keyCode,
            liElement = void 0,
            numItems = $(this.container).children('li').length;

        // select element on Enter
        if (keyCode === M.keys.ENTER && this.activeIndex >= 0) {
          liElement = $(this.container).children('li').eq(this.activeIndex);
          if (liElement.length) {
            this.selectOption(liElement);
            e.preventDefault();
          }
          return;
        }

        // Capture up and down key
        if (keyCode === M.keys.ARROW_UP || keyCode === M.keys.ARROW_DOWN) {
          e.preventDefault();

          if (keyCode === M.keys.ARROW_UP && this.activeIndex > 0) {
            this.activeIndex--;
          }

          if (keyCode === M.keys.ARROW_DOWN && this.activeIndex < numItems - 1) {
            this.activeIndex++;
          }

          this.$active.removeClass('active');
          if (this.activeIndex >= 0) {
            this.$active = $(this.container).children('li').eq(this.activeIndex);
            this.$active.addClass('active');
          }
        }
      }

      /**
       * Handle Input Click
       * @param {Event} e
       */

    }, {
      key: "_handleInputClick",
      value: function _handleInputClick(e) {
        this.open();
      }

      /**
       * Handle Container Mousedown and Touchstart
       * @param {Event} e
       */

    }, {
      key: "_handleContainerMousedownAndTouchstart",
      value: function _handleContainerMousedownAndTouchstart(e) {
        this._mousedown = true;
      }

      /**
       * Handle Container Mouseup and Touchend
       * @param {Event} e
       */

    }, {
      key: "_handleContainerMouseupAndTouchend",
      value: function _handleContainerMouseupAndTouchend(e) {
        this._mousedown = false;
      }

      /**
       * Highlight partial match
       */

    }, {
      key: "_highlight",
      value: function _highlight(string, $el) {
        var img = $el.find('img');
        var matchStart = $el.text().toLowerCase().indexOf('' + string.toLowerCase() + ''),
            matchEnd = matchStart + string.length - 1,
            beforeMatch = $el.text().slice(0, matchStart),
            matchText = $el.text().slice(matchStart, matchEnd + 1),
            afterMatch = $el.text().slice(matchEnd + 1);
        $el.html("<span>" + beforeMatch + "<span class='highlight'>" + matchText + "</span>" + afterMatch + "</span>");
        if (img.length) {
          $el.prepend(img);
        }
      }

      /**
       * Reset current element position
       */

    }, {
      key: "_resetCurrentElement",
      value: function _resetCurrentElement() {
        this.activeIndex = -1;
        this.$active.removeClass('active');
      }

      /**
       * Reset autocomplete elements
       */

    }, {
      key: "_resetAutocomplete",
      value: function _resetAutocomplete() {
        $(this.container).empty();
        this._resetCurrentElement();
        this.oldVal = null;
        this.isOpen = false;
        this._mousedown = false;
      }

      /**
       * Select autocomplete option
       * @param {Element} el  Autocomplete option list item element
       */

    }, {
      key: "selectOption",
      value: function selectOption(el) {
        var text = el.text().trim();
        this.el.value = text;
        this.$el.trigger('change');
        this._resetAutocomplete();
        this.close();

        // Handle onAutocomplete callback.
        if (typeof this.options.onAutocomplete === 'function') {
          this.options.onAutocomplete.call(this, text);
        }
      }

      /**
       * Render dropdown content
       * @param {Object} data  data set
       * @param {String} val  current input value
       */

    }, {
      key: "_renderDropdown",
      value: function _renderDropdown(data, val) {
        var _this39 = this;

        this._resetAutocomplete();

        var matchingData = [];

        // Gather all matching data
        for (var key in data) {
          if (data.hasOwnProperty(key) && key.toLowerCase().indexOf(val) !== -1) {
            // Break if past limit
            if (this.count >= this.options.limit) {
              break;
            }

            var entry = {
              data: data[key],
              key: key
            };
            matchingData.push(entry);

            this.count++;
          }
        }

        // Sort
        if (this.options.sortFunction) {
          var sortFunctionBound = function (a, b) {
            return _this39.options.sortFunction(a.key.toLowerCase(), b.key.toLowerCase(), val.toLowerCase());
          };
          matchingData.sort(sortFunctionBound);
        }

        // Render
        for (var i = 0; i < matchingData.length; i++) {
          var _entry = matchingData[i];
          var $autocompleteOption = $('<li></li>');
          if (!!_entry.data) {
            $autocompleteOption.append("<img src=\"" + _entry.data + "\" class=\"right circle\"><span>" + _entry.key + "</span>");
          } else {
            $autocompleteOption.append('<span>' + _entry.key + '</span>');
          }

          $(this.container).append($autocompleteOption);
          this._highlight(val, $autocompleteOption);
        }
      }

      /**
       * Open Autocomplete Dropdown
       */

    }, {
      key: "open",
      value: function open() {
        var val = this.el.value.toLowerCase();

        this._resetAutocomplete();

        if (val.length >= this.options.minLength) {
          this.isOpen = true;
          this._renderDropdown(this.options.data, val);
        }

        // Open dropdown
        if (!this.dropdown.isOpen) {
          this.dropdown.open();
        } else {
          // Recalculate dropdown when its already open
          this.dropdown.recalculateDimensions();
        }
      }

      /**
       * Close Autocomplete Dropdown
       */

    }, {
      key: "close",
      value: function close() {
        this.dropdown.close();
      }

      /**
       * Update Data
       * @param {Object} data
       */

    }, {
      key: "updateData",
      value: function updateData(data) {
        var val = this.el.value.toLowerCase();
        this.options.data = data;

        if (this.isOpen) {
          this._renderDropdown(data, val);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Autocomplete;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Autocomplete;
  }(Component);

  /**
   * @static
   * @memberof Autocomplete
   */


  Autocomplete._keydown = false;

  M.Autocomplete = Autocomplete;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Autocomplete, 'autocomplete', 'M_Autocomplete');
  }
})(cash);
;(function ($) {
  // Function to update labels of text fields
  M.updateTextFields = function () {
    var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea';
    $(input_selector).each(function (element, index) {
      var $this = $(this);
      if (element.value.length > 0 || $(element).is(':focus') || element.autofocus || $this.attr('placeholder') !== null) {
        $this.siblings('label').addClass('active');
      } else if (element.validity) {
        $this.siblings('label').toggleClass('active', element.validity.badInput === true);
      } else {
        $this.siblings('label').removeClass('active');
      }
    });
  };

  M.validate_field = function (object) {
    var hasLength = object.attr('data-length') !== null;
    var lenAttr = parseInt(object.attr('data-length'));
    var len = object[0].value.length;

    if (len === 0 && object[0].validity.badInput === false && !object.is(':required')) {
      if (object.hasClass('validate')) {
        object.removeClass('valid');
        object.removeClass('invalid');
      }
    } else {
      if (object.hasClass('validate')) {
        // Check for character counter attributes
        if (object.is(':valid') && hasLength && len <= lenAttr || object.is(':valid') && !hasLength) {
          object.removeClass('invalid');
          object.addClass('valid');
        } else {
          object.removeClass('valid');
          object.addClass('invalid');
        }
      }
    }
  };

  M.textareaAutoResize = function ($textarea) {
    // Wrap if native element
    if ($textarea instanceof Element) {
      $textarea = $($textarea);
    }

    if (!$textarea.length) {
      console.error('No textarea element found');
      return;
    }

    // Textarea Auto Resize
    var hiddenDiv = $('.hiddendiv').first();
    if (!hiddenDiv.length) {
      hiddenDiv = $('<div class="hiddendiv common"></div>');
      $('body').append(hiddenDiv);
    }

    // Set font properties of hiddenDiv
    var fontFamily = $textarea.css('font-family');
    var fontSize = $textarea.css('font-size');
    var lineHeight = $textarea.css('line-height');

    // Firefox can't handle padding shorthand.
    var paddingTop = $textarea.css('padding-top');
    var paddingRight = $textarea.css('padding-right');
    var paddingBottom = $textarea.css('padding-bottom');
    var paddingLeft = $textarea.css('padding-left');

    if (fontSize) {
      hiddenDiv.css('font-size', fontSize);
    }
    if (fontFamily) {
      hiddenDiv.css('font-family', fontFamily);
    }
    if (lineHeight) {
      hiddenDiv.css('line-height', lineHeight);
    }
    if (paddingTop) {
      hiddenDiv.css('padding-top', paddingTop);
    }
    if (paddingRight) {
      hiddenDiv.css('padding-right', paddingRight);
    }
    if (paddingBottom) {
      hiddenDiv.css('padding-bottom', paddingBottom);
    }
    if (paddingLeft) {
      hiddenDiv.css('padding-left', paddingLeft);
    }

    // Set original-height, if none
    if (!$textarea.data('original-height')) {
      $textarea.data('original-height', $textarea.height());
    }

    if ($textarea.attr('wrap') === 'off') {
      hiddenDiv.css('overflow-wrap', 'normal').css('white-space', 'pre');
    }

    hiddenDiv.text($textarea[0].value + '\n');
    var content = hiddenDiv.html().replace(/\n/g, '<br>');
    hiddenDiv.html(content);

    // When textarea is hidden, width goes crazy.
    // Approximate with half of window size

    if ($textarea[0].offsetWidth > 0 && $textarea[0].offsetHeight > 0) {
      hiddenDiv.css('width', $textarea.width() + 'px');
    } else {
      hiddenDiv.css('width', window.innerWidth / 2 + 'px');
    }

    /**
     * Resize if the new height is greater than the
     * original height of the textarea
     */
    if ($textarea.data('original-height') <= hiddenDiv.innerHeight()) {
      $textarea.css('height', hiddenDiv.innerHeight() + 'px');
    } else if ($textarea[0].value.length < $textarea.data('previous-length')) {
      /**
       * In case the new height is less than original height, it
       * means the textarea has less text than before
       * So we set the height to the original one
       */
      $textarea.css('height', $textarea.data('original-height') + 'px');
    }
    $textarea.data('previous-length', $textarea[0].value.length);
  };

  $(document).ready(function () {
    // Text based inputs
    var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea';

    // Add active if form auto complete
    $(document).on('change', input_selector, function () {
      if (this.value.length !== 0 || $(this).attr('placeholder') !== null) {
        $(this).siblings('label').addClass('active');
      }
      M.validate_field($(this));
    });

    // Add active if input element has been pre-populated on document ready
    $(document).ready(function () {
      M.updateTextFields();
    });

    // HTML DOM FORM RESET handling
    $(document).on('reset', function (e) {
      var formReset = $(e.target);
      if (formReset.is('form')) {
        formReset.find(input_selector).removeClass('valid').removeClass('invalid');
        formReset.find(input_selector).each(function (e) {
          if (this.value.length) {
            $(this).siblings('label').removeClass('active');
          }
        });

        // Reset select (after native reset)
        setTimeout(function () {
          formReset.find('select').each(function () {
            // check if initialized
            if (this.M_FormSelect) {
              $(this).trigger('change');
            }
          });
        }, 0);
      }
    });

    /**
     * Add active when element has focus
     * @param {Event} e
     */
    document.addEventListener('focus', function (e) {
      if ($(e.target).is(input_selector)) {
        $(e.target).siblings('label, .prefix').addClass('active');
      }
    }, true);

    /**
     * Remove active when element is blurred
     * @param {Event} e
     */
    document.addEventListener('blur', function (e) {
      var $inputElement = $(e.target);
      if ($inputElement.is(input_selector)) {
        var selector = '.prefix';

        if ($inputElement[0].value.length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') === null) {
          selector += ', label';
        }
        $inputElement.siblings(selector).removeClass('active');
        M.validate_field($inputElement);
      }
    }, true);

    // Radio and Checkbox focus class
    var radio_checkbox = 'input[type=radio], input[type=checkbox]';
    $(document).on('keyup', radio_checkbox, function (e) {
      // TAB, check if tabbing to radio or checkbox.
      if (e.which === M.keys.TAB) {
        $(this).addClass('tabbed');
        var $this = $(this);
        $this.one('blur', function (e) {
          $(this).removeClass('tabbed');
        });
        return;
      }
    });

    var text_area_selector = '.materialize-textarea';
    $(text_area_selector).each(function () {
      var $textarea = $(this);
      /**
       * Resize textarea on document load after storing
       * the original height and the original length
       */
      $textarea.data('original-height', $textarea.height());
      $textarea.data('previous-length', this.value.length);
      M.textareaAutoResize($textarea);
    });

    $(document).on('keyup', text_area_selector, function () {
      M.textareaAutoResize($(this));
    });
    $(document).on('keydown', text_area_selector, function () {
      M.textareaAutoResize($(this));
    });

    // File Input Path
    $(document).on('change', '.file-field input[type="file"]', function () {
      var file_field = $(this).closest('.file-field');
      var path_input = file_field.find('input.file-path');
      var files = $(this)[0].files;
      var file_names = [];
      for (var i = 0; i < files.length; i++) {
        file_names.push(files[i].name);
      }
      path_input[0].value = file_names.join(', ');
      path_input.trigger('change');
    });
  }); // End of $(document).ready
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    indicators: true,
    height: 400,
    duration: 500,
    interval: 6000
  };

  /**
   * @class
   *
   */

  var Slider = function (_Component11) {
    _inherits(Slider, _Component11);

    /**
     * Construct Slider instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Slider(el, options) {
      _classCallCheck(this, Slider);

      var _this40 = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, Slider, el, options));

      _this40.el.M_Slider = _this40;

      /**
       * Options for the modal
       * @member Slider#options
       * @prop {Boolean} [indicators=true] - Show indicators
       * @prop {Number} [height=400] - height of slider
       * @prop {Number} [duration=500] - Length in ms of slide transition
       * @prop {Number} [interval=6000] - Length in ms of slide interval
       */
      _this40.options = $.extend({}, Slider.defaults, options);

      // setup
      _this40.$slider = _this40.$el.find('.slides');
      _this40.$slides = _this40.$slider.children('li');
      _this40.activeIndex = _this40.$slides.filter(function (item) {
        return $(item).hasClass('active');
      }).first().index();
      if (_this40.activeIndex != -1) {
        _this40.$active = _this40.$slides.eq(_this40.activeIndex);
      }

      _this40._setSliderHeight();

      // Set initial positions of captions
      _this40.$slides.find('.caption').each(function (el) {
        _this40._animateCaptionIn(el, 0);
      });

      // Move img src into background-image
      _this40.$slides.find('img').each(function (el) {
        var placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
        if ($(el).attr('src') !== placeholderBase64) {
          $(el).css('background-image', 'url("' + $(el).attr('src') + '")');
          $(el).attr('src', placeholderBase64);
        }
      });

      _this40._setupIndicators();

      // Show active slide
      if (_this40.$active) {
        _this40.$active.css('display', 'block');
      } else {
        _this40.$slides.first().addClass('active');
        anim({
          targets: _this40.$slides.first()[0],
          opacity: 1,
          duration: _this40.options.duration,
          easing: 'easeOutQuad'
        });

        _this40.activeIndex = 0;
        _this40.$active = _this40.$slides.eq(_this40.activeIndex);

        // Update indicators
        if (_this40.options.indicators) {
          _this40.$indicators.eq(_this40.activeIndex).addClass('active');
        }
      }

      // Adjust height to current slide
      _this40.$active.find('img').each(function (el) {
        anim({
          targets: _this40.$active.find('.caption')[0],
          opacity: 1,
          translateX: 0,
          translateY: 0,
          duration: _this40.options.duration,
          easing: 'easeOutQuad'
        });
      });

      _this40._setupEventHandlers();

      // auto scroll
      _this40.start();
      return _this40;
    }

    _createClass(Slider, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this.pause();
        this._removeIndicators();
        this._removeEventHandlers();
        this.el.M_Slider = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this41 = this;

        this._handleIntervalBound = this._handleInterval.bind(this);
        this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);

        if (this.options.indicators) {
          this.$indicators.each(function (el) {
            el.addEventListener('click', _this41._handleIndicatorClickBound);
          });
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this42 = this;

        if (this.options.indicators) {
          this.$indicators.each(function (el) {
            el.removeEventListener('click', _this42._handleIndicatorClickBound);
          });
        }
      }

      /**
       * Handle indicator click
       * @param {Event} e
       */

    }, {
      key: "_handleIndicatorClick",
      value: function _handleIndicatorClick(e) {
        var currIndex = $(e.target).index();
        this.set(currIndex);
      }

      /**
       * Handle Interval
       */

    }, {
      key: "_handleInterval",
      value: function _handleInterval() {
        var newActiveIndex = this.$slider.find('.active').index();
        if (this.$slides.length === newActiveIndex + 1) newActiveIndex = 0;
        // loop to start
        else newActiveIndex += 1;

        this.set(newActiveIndex);
      }

      /**
       * Animate in caption
       * @param {Element} caption
       * @param {Number} duration
       */

    }, {
      key: "_animateCaptionIn",
      value: function _animateCaptionIn(caption, duration) {
        var animOptions = {
          targets: caption,
          opacity: 0,
          duration: duration,
          easing: 'easeOutQuad'
        };

        if ($(caption).hasClass('center-align')) {
          animOptions.translateY = -100;
        } else if ($(caption).hasClass('right-align')) {
          animOptions.translateX = 100;
        } else if ($(caption).hasClass('left-align')) {
          animOptions.translateX = -100;
        }

        anim(animOptions);
      }

      /**
       * Set height of slider
       */

    }, {
      key: "_setSliderHeight",
      value: function _setSliderHeight() {
        // If fullscreen, do nothing
        if (!this.$el.hasClass('fullscreen')) {
          if (this.options.indicators) {
            // Add height if indicators are present
            this.$el.css('height', this.options.height + 40 + 'px');
          } else {
            this.$el.css('height', this.options.height + 'px');
          }
          this.$slider.css('height', this.options.height + 'px');
        }
      }

      /**
       * Setup indicators
       */

    }, {
      key: "_setupIndicators",
      value: function _setupIndicators() {
        var _this43 = this;

        if (this.options.indicators) {
          this.$indicators = $('<ul class="indicators"></ul>');
          this.$slides.each(function (el, index) {
            var $indicator = $('<li class="indicator-item"></li>');
            _this43.$indicators.append($indicator[0]);
          });
          this.$el.append(this.$indicators[0]);
          this.$indicators = this.$indicators.children('li.indicator-item');
        }
      }

      /**
       * Remove indicators
       */

    }, {
      key: "_removeIndicators",
      value: function _removeIndicators() {
        this.$el.find('ul.indicators').remove();
      }

      /**
       * Cycle to nth item
       * @param {Number} index
       */

    }, {
      key: "set",
      value: function set(index) {
        var _this44 = this;

        // Wrap around indices.
        if (index >= this.$slides.length) index = 0;else if (index < 0) index = this.$slides.length - 1;

        // Only do if index changes
        if (this.activeIndex != index) {
          this.$active = this.$slides.eq(this.activeIndex);
          var $caption = this.$active.find('.caption');
          this.$active.removeClass('active');

          anim({
            targets: this.$active[0],
            opacity: 0,
            duration: this.options.duration,
            easing: 'easeOutQuad',
            complete: function () {
              _this44.$slides.not('.active').each(function (el) {
                anim({
                  targets: el,
                  opacity: 0,
                  translateX: 0,
                  translateY: 0,
                  duration: 0,
                  easing: 'easeOutQuad'
                });
              });
            }
          });

          this._animateCaptionIn($caption[0], this.options.duration);

          // Update indicators
          if (this.options.indicators) {
            this.$indicators.eq(this.activeIndex).removeClass('active');
            this.$indicators.eq(index).addClass('active');
          }

          anim({
            targets: this.$slides.eq(index)[0],
            opacity: 1,
            duration: this.options.duration,
            easing: 'easeOutQuad'
          });

          anim({
            targets: this.$slides.eq(index).find('.caption')[0],
            opacity: 1,
            translateX: 0,
            translateY: 0,
            duration: this.options.duration,
            delay: this.options.duration,
            easing: 'easeOutQuad'
          });

          this.$slides.eq(index).addClass('active');
          this.activeIndex = index;

          // Reset interval
          this.start();
        }
      }

      /**
       * Pause slider interval
       */

    }, {
      key: "pause",
      value: function pause() {
        clearInterval(this.interval);
      }

      /**
       * Start slider interval
       */

    }, {
      key: "start",
      value: function start() {
        clearInterval(this.interval);
        this.interval = setInterval(this._handleIntervalBound, this.options.duration + this.options.interval);
      }

      /**
       * Move to next slide
       */

    }, {
      key: "next",
      value: function next() {
        var newIndex = this.activeIndex + 1;

        // Wrap around indices.
        if (newIndex >= this.$slides.length) newIndex = 0;else if (newIndex < 0) newIndex = this.$slides.length - 1;

        this.set(newIndex);
      }

      /**
       * Move to previous slide
       */

    }, {
      key: "prev",
      value: function prev() {
        var newIndex = this.activeIndex - 1;

        // Wrap around indices.
        if (newIndex >= this.$slides.length) newIndex = 0;else if (newIndex < 0) newIndex = this.$slides.length - 1;

        this.set(newIndex);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Slider.__proto__ || Object.getPrototypeOf(Slider), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Slider;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Slider;
  }(Component);

  M.Slider = Slider;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Slider, 'slider', 'M_Slider');
  }
})(cash, M.anime);
;(function ($, anim) {
  $(document).on('click', '.card', function (e) {
    if ($(this).children('.card-reveal').length) {
      var $card = $(e.target).closest('.card');
      if ($card.data('initialOverflow') === undefined) {
        $card.data('initialOverflow', $card.css('overflow') === undefined ? '' : $card.css('overflow'));
      }
      var $cardReveal = $(this).find('.card-reveal');
      if ($(e.target).is($('.card-reveal .card-title')) || $(e.target).is($('.card-reveal .card-title i'))) {
        // Make Reveal animate down and display none
        anim({
          targets: $cardReveal[0],
          translateY: 0,
          duration: 225,
          easing: 'easeInOutQuad',
          complete: function (anim) {
            var el = anim.animatables[0].target;
            $(el).css({ display: 'none' });
            $card.css('overflow', $card.data('initialOverflow'));
          }
        });
      } else if ($(e.target).is($('.card .activator')) || $(e.target).is($('.card .activator i'))) {
        $card.css('overflow', 'hidden');
        $cardReveal.css({ display: 'block' });
        anim({
          targets: $cardReveal[0],
          translateY: '-100%',
          duration: 300,
          easing: 'easeInOutQuad'
        });
      }
    }
  });
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    data: [],
    placeholder: '',
    secondaryPlaceholder: '',
    autocompleteOptions: {},
    limit: Infinity,
    onChipAdd: null,
    onChipSelect: null,
    onChipDelete: null
  };

  /**
   * @typedef {Object} chip
   * @property {String} tag  chip tag string
   * @property {String} [image]  chip avatar image string
   */

  /**
   * @class
   *
   */

  var Chips = function (_Component12) {
    _inherits(Chips, _Component12);

    /**
     * Construct Chips instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Chips(el, options) {
      _classCallCheck(this, Chips);

      var _this45 = _possibleConstructorReturn(this, (Chips.__proto__ || Object.getPrototypeOf(Chips)).call(this, Chips, el, options));

      _this45.el.M_Chips = _this45;

      /**
       * Options for the modal
       * @member Chips#options
       * @prop {Array} data
       * @prop {String} placeholder
       * @prop {String} secondaryPlaceholder
       * @prop {Object} autocompleteOptions
       */
      _this45.options = $.extend({}, Chips.defaults, options);

      _this45.$el.addClass('chips input-field');
      _this45.chipsData = [];
      _this45.$chips = $();
      _this45._setupInput();
      _this45.hasAutocomplete = Object.keys(_this45.options.autocompleteOptions).length > 0;

      // Set input id
      if (!_this45.$input.attr('id')) {
        _this45.$input.attr('id', M.guid());
      }

      // Render initial chips
      if (_this45.options.data.length) {
        _this45.chipsData = _this45.options.data;
        _this45._renderChips(_this45.chipsData);
      }

      // Setup autocomplete if needed
      if (_this45.hasAutocomplete) {
        _this45._setupAutocomplete();
      }

      _this45._setPlaceholder();
      _this45._setupLabel();
      _this45._setupEventHandlers();
      return _this45;
    }

    _createClass(Chips, [{
      key: "getData",


      /**
       * Get Chips Data
       */
      value: function getData() {
        return this.chipsData;
      }

      /**
       * Teardown component
       */

    }, {
      key: "destroy",
      value: function destroy() {
        this._removeEventHandlers();
        this.$chips.remove();
        this.el.M_Chips = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleChipClickBound = this._handleChipClick.bind(this);
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputFocusBound = this._handleInputFocus.bind(this);
        this._handleInputBlurBound = this._handleInputBlur.bind(this);

        this.el.addEventListener('click', this._handleChipClickBound);
        document.addEventListener('keydown', Chips._handleChipsKeydown);
        document.addEventListener('keyup', Chips._handleChipsKeyup);
        this.el.addEventListener('blur', Chips._handleChipsBlur, true);
        this.$input[0].addEventListener('focus', this._handleInputFocusBound);
        this.$input[0].addEventListener('blur', this._handleInputBlurBound);
        this.$input[0].addEventListener('keydown', this._handleInputKeydownBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleChipClickBound);
        document.removeEventListener('keydown', Chips._handleChipsKeydown);
        document.removeEventListener('keyup', Chips._handleChipsKeyup);
        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);
        this.$input[0].removeEventListener('focus', this._handleInputFocusBound);
        this.$input[0].removeEventListener('blur', this._handleInputBlurBound);
        this.$input[0].removeEventListener('keydown', this._handleInputKeydownBound);
      }

      /**
       * Handle Chip Click
       * @param {Event} e
       */

    }, {
      key: "_handleChipClick",
      value: function _handleChipClick(e) {
        var $chip = $(e.target).closest('.chip');
        var clickedClose = $(e.target).is('.close');
        if ($chip.length) {
          var index = $chip.index();
          if (clickedClose) {
            // delete chip
            this.deleteChip(index);
            this.$input[0].focus();
          } else {
            // select chip
            this.selectChip(index);
          }

          // Default handle click to focus on input
        } else {
          this.$input[0].focus();
        }
      }

      /**
       * Handle Chips Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputFocus",


      /**
       * Handle Input Focus
       */
      value: function _handleInputFocus() {
        this.$el.addClass('focus');
      }

      /**
       * Handle Input Blur
       */

    }, {
      key: "_handleInputBlur",
      value: function _handleInputBlur() {
        this.$el.removeClass('focus');
      }

      /**
       * Handle Input Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        Chips._keydown = true;

        // enter
        if (e.keyCode === 13) {
          // Override enter if autocompleting.
          if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {
            return;
          }

          e.preventDefault();
          this.addChip({
            tag: this.$input[0].value
          });
          this.$input[0].value = '';

          // delete or left
        } else if ((e.keyCode === 8 || e.keyCode === 37) && this.$input[0].value === '' && this.chipsData.length) {
          e.preventDefault();
          this.selectChip(this.chipsData.length - 1);
        }
      }

      /**
       * Render Chip
       * @param {chip} chip
       * @return {Element}
       */

    }, {
      key: "_renderChip",
      value: function _renderChip(chip) {
        if (!chip.tag) {
          return;
        }

        var renderedChip = document.createElement('div');
        var closeIcon = document.createElement('i');
        renderedChip.classList.add('chip');
        renderedChip.textContent = chip.tag;
        renderedChip.setAttribute('tabindex', 0);
        $(closeIcon).addClass('material-icons close');
        closeIcon.textContent = 'close';

        // attach image if needed
        if (chip.image) {
          var img = document.createElement('img');
          img.setAttribute('src', chip.image);
          renderedChip.insertBefore(img, renderedChip.firstChild);
        }

        renderedChip.appendChild(closeIcon);
        return renderedChip;
      }

      /**
       * Render Chips
       */

    }, {
      key: "_renderChips",
      value: function _renderChips() {
        this.$chips.remove();
        for (var i = 0; i < this.chipsData.length; i++) {
          var chipEl = this._renderChip(this.chipsData[i]);
          this.$el.append(chipEl);
          this.$chips.add(chipEl);
        }

        // move input to end
        this.$el.append(this.$input[0]);
      }

      /**
       * Setup Autocomplete
       */

    }, {
      key: "_setupAutocomplete",
      value: function _setupAutocomplete() {
        var _this46 = this;

        this.options.autocompleteOptions.onAutocomplete = function (val) {
          _this46.addChip({
            tag: val
          });
          _this46.$input[0].value = '';
          _this46.$input[0].focus();
        };

        this.autocomplete = M.Autocomplete.init(this.$input[0], this.options.autocompleteOptions);
      }

      /**
       * Setup Input
       */

    }, {
      key: "_setupInput",
      value: function _setupInput() {
        this.$input = this.$el.find('input');
        if (!this.$input.length) {
          this.$input = $('<input></input>');
          this.$el.append(this.$input);
        }

        this.$input.addClass('input');
      }

      /**
       * Setup Label
       */

    }, {
      key: "_setupLabel",
      value: function _setupLabel() {
        this.$label = this.$el.find('label');
        if (this.$label.length) {
          this.$label.setAttribute('for', this.$input.attr('id'));
        }
      }

      /**
       * Set placeholder
       */

    }, {
      key: "_setPlaceholder",
      value: function _setPlaceholder() {
        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {
          $(this.$input).prop('placeholder', this.options.placeholder);
        } else if ((this.chipsData === undefined || !!this.chipsData.length) && this.options.secondaryPlaceholder) {
          $(this.$input).prop('placeholder', this.options.secondaryPlaceholder);
        }
      }

      /**
       * Check if chip is valid
       * @param {chip} chip
       */

    }, {
      key: "_isValid",
      value: function _isValid(chip) {
        if (chip.hasOwnProperty('tag') && chip.tag !== '') {
          var exists = false;
          for (var i = 0; i < this.chipsData.length; i++) {
            if (this.chipsData[i].tag === chip.tag) {
              exists = true;
              break;
            }
          }
          return !exists;
        }

        return false;
      }

      /**
       * Add chip
       * @param {chip} chip
       */

    }, {
      key: "addChip",
      value: function addChip(chip) {
        if (!this._isValid(chip) || this.chipsData.length >= this.options.limit) {
          return;
        }

        var renderedChip = this._renderChip(chip);
        this.$chips.add(renderedChip);
        this.chipsData.push(chip);
        $(this.$input).before(renderedChip);
        this._setPlaceholder();

        // fire chipAdd callback
        if (typeof this.options.onChipAdd === 'function') {
          this.options.onChipAdd.call(this, this.$el, renderedChip);
        }
      }

      /**
       * Delete chip
       * @param {Number} chip
       */

    }, {
      key: "deleteChip",
      value: function deleteChip(chipIndex) {
        var $chip = this.$chips.eq(chipIndex);
        this.$chips.eq(chipIndex).remove();
        this.$chips = this.$chips.filter(function (el) {
          return $(el).index() >= 0;
        });
        this.chipsData.splice(chipIndex, 1);
        this._setPlaceholder();

        // fire chipDelete callback
        if (typeof this.options.onChipDelete === 'function') {
          this.options.onChipDelete.call(this, this.$el, $chip[0]);
        }
      }

      /**
       * Select chip
       * @param {Number} chip
       */

    }, {
      key: "selectChip",
      value: function selectChip(chipIndex) {
        var $chip = this.$chips.eq(chipIndex);
        this._selectedChip = $chip;
        $chip[0].focus();

        // fire chipSelect callback
        if (typeof this.options.onChipSelect === 'function') {
          this.options.onChipSelect.call(this, this.$el, $chip[0]);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Chips.__proto__ || Object.getPrototypeOf(Chips), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Chips;
      }
    }, {
      key: "_handleChipsKeydown",
      value: function _handleChipsKeydown(e) {
        Chips._keydown = true;

        var $chips = $(e.target).closest('.chips');
        var chipsKeydown = e.target && $chips.length;

        // Don't handle keydown inputs on input and textarea
        if ($(e.target).is('input, textarea') || !chipsKeydown) {
          return;
        }

        var currChips = $chips[0].M_Chips;

        // backspace and delete
        if (e.keyCode === 8 || e.keyCode === 46) {
          e.preventDefault();

          var selectIndex = currChips.chipsData.length;
          if (currChips._selectedChip) {
            var index = currChips._selectedChip.index();
            currChips.deleteChip(index);
            currChips._selectedChip = null;

            // Make sure selectIndex doesn't go negative
            selectIndex = Math.max(index - 1, 0);
          }

          if (currChips.chipsData.length) {
            currChips.selectChip(selectIndex);
          }

          // left arrow key
        } else if (e.keyCode === 37) {
          if (currChips._selectedChip) {
            var _selectIndex = currChips._selectedChip.index() - 1;
            if (_selectIndex < 0) {
              return;
            }
            currChips.selectChip(_selectIndex);
          }

          // right arrow key
        } else if (e.keyCode === 39) {
          if (currChips._selectedChip) {
            var _selectIndex2 = currChips._selectedChip.index() + 1;

            if (_selectIndex2 >= currChips.chipsData.length) {
              currChips.$input[0].focus();
            } else {
              currChips.selectChip(_selectIndex2);
            }
          }
        }
      }

      /**
       * Handle Chips Keyup
       * @param {Event} e
       */

    }, {
      key: "_handleChipsKeyup",
      value: function _handleChipsKeyup(e) {
        Chips._keydown = false;
      }

      /**
       * Handle Chips Blur
       * @param {Event} e
       */

    }, {
      key: "_handleChipsBlur",
      value: function _handleChipsBlur(e) {
        if (!Chips._keydown) {
          var $chips = $(e.target).closest('.chips');
          var currChips = $chips[0].M_Chips;

          currChips._selectedChip = null;
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Chips;
  }(Component);

  /**
   * @static
   * @memberof Chips
   */


  Chips._keydown = false;

  M.Chips = Chips;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Chips, 'chips', 'M_Chips');
  }

  $(document).ready(function () {
    // Handle removal of static chips.
    $(document.body).on('click', '.chip .close', function () {
      var $chips = $(this).closest('.chips');
      if ($chips.length && $chips[0].M_Chips) {
        return;
      }
      $(this).closest('.chip').remove();
    });
  });
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    top: 0,
    bottom: Infinity,
    offset: 0,
    onPositionChange: null
  };

  /**
   * @class
   *
   */

  var Pushpin = function (_Component13) {
    _inherits(Pushpin, _Component13);

    /**
     * Construct Pushpin instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Pushpin(el, options) {
      _classCallCheck(this, Pushpin);

      var _this47 = _possibleConstructorReturn(this, (Pushpin.__proto__ || Object.getPrototypeOf(Pushpin)).call(this, Pushpin, el, options));

      _this47.el.M_Pushpin = _this47;

      /**
       * Options for the modal
       * @member Pushpin#options
       */
      _this47.options = $.extend({}, Pushpin.defaults, options);

      _this47.originalOffset = _this47.el.offsetTop;
      Pushpin._pushpins.push(_this47);
      _this47._setupEventHandlers();
      _this47._updatePosition();
      return _this47;
    }

    _createClass(Pushpin, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this.el.style.top = null;
        this._removePinClasses();
        this._removeEventHandlers();

        // Remove pushpin Inst
        var index = Pushpin._pushpins.indexOf(this);
        Pushpin._pushpins.splice(index, 1);
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        document.addEventListener('scroll', Pushpin._updateElements);
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        document.removeEventListener('scroll', Pushpin._updateElements);
      }
    }, {
      key: "_updatePosition",
      value: function _updatePosition() {
        var scrolled = M.getDocumentScrollTop() + this.options.offset;

        if (this.options.top <= scrolled && this.options.bottom >= scrolled && !this.el.classList.contains('pinned')) {
          this._removePinClasses();
          this.el.style.top = this.options.offset + "px";
          this.el.classList.add('pinned');

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pinned');
          }
        }

        // Add pin-top (when scrolled position is above top)
        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {
          this._removePinClasses();
          this.el.style.top = 0;
          this.el.classList.add('pin-top');

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pin-top');
          }
        }

        // Add pin-bottom (when scrolled position is below bottom)
        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {
          this._removePinClasses();
          this.el.classList.add('pin-bottom');
          this.el.style.top = this.options.bottom - this.originalOffset + "px";

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pin-bottom');
          }
        }
      }
    }, {
      key: "_removePinClasses",
      value: function _removePinClasses() {
        // IE 11 bug (can't remove multiple classes in one line)
        this.el.classList.remove('pin-top');
        this.el.classList.remove('pinned');
        this.el.classList.remove('pin-bottom');
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Pushpin.__proto__ || Object.getPrototypeOf(Pushpin), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Pushpin;
      }
    }, {
      key: "_updateElements",
      value: function _updateElements() {
        for (var elIndex in Pushpin._pushpins) {
          var pInstance = Pushpin._pushpins[elIndex];
          pInstance._updatePosition();
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Pushpin;
  }(Component);

  /**
   * @static
   * @memberof Pushpin
   */


  Pushpin._pushpins = [];

  M.Pushpin = Pushpin;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Pushpin, 'pushpin', 'M_Pushpin');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    direction: 'top',
    hoverEnabled: true,
    toolbarEnabled: false
  };

  $.fn.reverse = [].reverse;

  /**
   * @class
   *
   */

  var FloatingActionButton = function (_Component14) {
    _inherits(FloatingActionButton, _Component14);

    /**
     * Construct FloatingActionButton instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function FloatingActionButton(el, options) {
      _classCallCheck(this, FloatingActionButton);

      var _this48 = _possibleConstructorReturn(this, (FloatingActionButton.__proto__ || Object.getPrototypeOf(FloatingActionButton)).call(this, FloatingActionButton, el, options));

      _this48.el.M_FloatingActionButton = _this48;

      /**
       * Options for the fab
       * @member FloatingActionButton#options
       * @prop {Boolean} [direction] - Direction fab menu opens
       * @prop {Boolean} [hoverEnabled=true] - Enable hover vs click
       * @prop {Boolean} [toolbarEnabled=false] - Enable toolbar transition
       */
      _this48.options = $.extend({}, FloatingActionButton.defaults, options);

      _this48.isOpen = false;
      _this48.$anchor = _this48.$el.children('a').first();
      _this48.$menu = _this48.$el.children('ul').first();
      _this48.$floatingBtns = _this48.$el.find('ul .btn-floating');
      _this48.$floatingBtnsReverse = _this48.$el.find('ul .btn-floating').reverse();
      _this48.offsetY = 0;
      _this48.offsetX = 0;

      _this48.$el.addClass("direction-" + _this48.options.direction);
      if (_this48.options.direction === 'top') {
        _this48.offsetY = 40;
      } else if (_this48.options.direction === 'right') {
        _this48.offsetX = -40;
      } else if (_this48.options.direction === 'bottom') {
        _this48.offsetY = -40;
      } else {
        _this48.offsetX = 40;
      }
      _this48._setupEventHandlers();
      return _this48;
    }

    _createClass(FloatingActionButton, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_FloatingActionButton = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleFABClickBound = this._handleFABClick.bind(this);
        this._handleOpenBound = this.open.bind(this);
        this._handleCloseBound = this.close.bind(this);

        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {
          this.el.addEventListener('mouseenter', this._handleOpenBound);
          this.el.addEventListener('mouseleave', this._handleCloseBound);
        } else {
          this.el.addEventListener('click', this._handleFABClickBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {
          this.el.removeEventListener('mouseenter', this._handleOpenBound);
          this.el.removeEventListener('mouseleave', this._handleCloseBound);
        } else {
          this.el.removeEventListener('click', this._handleFABClickBound);
        }
      }

      /**
       * Handle FAB Click
       */

    }, {
      key: "_handleFABClick",
      value: function _handleFABClick() {
        if (this.isOpen) {
          this.close();
        } else {
          this.open();
        }
      }

      /**
       * Handle Document Click
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        if (!$(e.target).closest(this.$menu).length) {
          this.close();
        }
      }

      /**
       * Open FAB
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        if (this.options.toolbarEnabled) {
          this._animateInToolbar();
        } else {
          this._animateInFAB();
        }
        this.isOpen = true;
      }

      /**
       * Close FAB
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        if (this.options.toolbarEnabled) {
          window.removeEventListener('scroll', this._handleCloseBound, true);
          document.body.removeEventListener('click', this._handleDocumentClickBound, true);
          this._animateOutToolbar();
        } else {
          this._animateOutFAB();
        }
        this.isOpen = false;
      }

      /**
       * Classic FAB Menu open
       */

    }, {
      key: "_animateInFAB",
      value: function _animateInFAB() {
        var _this49 = this;

        this.$el.addClass('active');

        var time = 0;
        this.$floatingBtnsReverse.each(function (el) {
          anim({
            targets: el,
            opacity: 1,
            scale: [0.4, 1],
            translateY: [_this49.offsetY, 0],
            translateX: [_this49.offsetX, 0],
            duration: 275,
            delay: time,
            easing: 'easeInOutQuad'
          });
          time += 40;
        });
      }

      /**
       * Classic FAB Menu close
       */

    }, {
      key: "_animateOutFAB",
      value: function _animateOutFAB() {
        var _this50 = this;

        this.$floatingBtnsReverse.each(function (el) {
          anim.remove(el);
          anim({
            targets: el,
            opacity: 0,
            scale: 0.4,
            translateY: _this50.offsetY,
            translateX: _this50.offsetX,
            duration: 175,
            easing: 'easeOutQuad',
            complete: function () {
              _this50.$el.removeClass('active');
            }
          });
        });
      }

      /**
       * Toolbar transition Menu open
       */

    }, {
      key: "_animateInToolbar",
      value: function _animateInToolbar() {
        var _this51 = this;

        var scaleFactor = void 0;
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var btnRect = this.el.getBoundingClientRect();
        var backdrop = $('<div class="fab-backdrop"></div>');
        var fabColor = this.$anchor.css('background-color');
        this.$anchor.append(backdrop);

        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;
        this.offsetY = windowHeight - btnRect.bottom;
        scaleFactor = windowWidth / backdrop[0].clientWidth;
        this.btnBottom = btnRect.bottom;
        this.btnLeft = btnRect.left;
        this.btnWidth = btnRect.width;

        // Set initial state
        this.$el.addClass('active');
        this.$el.css({
          'text-align': 'center',
          width: '100%',
          bottom: 0,
          left: 0,
          transform: 'translateX(' + this.offsetX + 'px)',
          transition: 'none'
        });
        this.$anchor.css({
          transform: 'translateY(' + -this.offsetY + 'px)',
          transition: 'none'
        });
        backdrop.css({
          'background-color': fabColor
        });

        setTimeout(function () {
          _this51.$el.css({
            transform: '',
            transition: 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s'
          });
          _this51.$anchor.css({
            overflow: 'visible',
            transform: '',
            transition: 'transform .2s'
          });

          setTimeout(function () {
            _this51.$el.css({
              overflow: 'hidden',
              'background-color': fabColor
            });
            backdrop.css({
              transform: 'scale(' + scaleFactor + ')',
              transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'
            });
            _this51.$menu.children('li').children('a').css({
              opacity: 1
            });

            // Scroll to close.
            _this51._handleDocumentClickBound = _this51._handleDocumentClick.bind(_this51);
            window.addEventListener('scroll', _this51._handleCloseBound, true);
            document.body.addEventListener('click', _this51._handleDocumentClickBound, true);
          }, 100);
        }, 0);
      }

      /**
       * Toolbar transition Menu close
       */

    }, {
      key: "_animateOutToolbar",
      value: function _animateOutToolbar() {
        var _this52 = this;

        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var backdrop = this.$el.find('.fab-backdrop');
        var fabColor = this.$anchor.css('background-color');

        this.offsetX = this.btnLeft - windowWidth / 2 + this.btnWidth / 2;
        this.offsetY = windowHeight - this.btnBottom;

        // Hide backdrop
        this.$el.removeClass('active');
        this.$el.css({
          'background-color': 'transparent',
          transition: 'none'
        });
        this.$anchor.css({
          transition: 'none'
        });
        backdrop.css({
          transform: 'scale(0)',
          'background-color': fabColor
        });
        this.$menu.children('li').children('a').css({
          opacity: ''
        });

        setTimeout(function () {
          backdrop.remove();

          // Set initial state.
          _this52.$el.css({
            'text-align': '',
            width: '',
            bottom: '',
            left: '',
            overflow: '',
            'background-color': '',
            transform: 'translate3d(' + -_this52.offsetX + 'px,0,0)'
          });
          _this52.$anchor.css({
            overflow: '',
            transform: 'translate3d(0,' + _this52.offsetY + 'px,0)'
          });

          setTimeout(function () {
            _this52.$el.css({
              transform: 'translate3d(0,0,0)',
              transition: 'transform .2s'
            });
            _this52.$anchor.css({
              transform: 'translate3d(0,0,0)',
              transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'
            });
          }, 20);
        }, 200);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(FloatingActionButton.__proto__ || Object.getPrototypeOf(FloatingActionButton), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_FloatingActionButton;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return FloatingActionButton;
  }(Component);

  M.FloatingActionButton = FloatingActionButton;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(FloatingActionButton, 'floatingActionButton', 'M_FloatingActionButton');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    // Close when date is selected
    autoClose: false,

    // the default output format for the input field value
    format: 'mmm dd, yyyy',

    // Used to create date object from current input string
    parse: null,

    // The initial date to view when first opened
    defaultDate: null,

    // Make the `defaultDate` the initial selected value
    setDefaultDate: false,

    disableWeekends: false,

    disableDayFn: null,

    // First day of week (0: Sunday, 1: Monday etc)
    firstDay: 0,

    // The earliest date that can be selected
    minDate: null,
    // Thelatest date that can be selected
    maxDate: null,

    // Number of years either side, or array of upper/lower range
    yearRange: 10,

    // used internally (don't config outside)
    minYear: 0,
    maxYear: 9999,
    minMonth: undefined,
    maxMonth: undefined,

    startRange: null,
    endRange: null,

    isRTL: false,

    // Render the month after year in the calendar title
    showMonthAfterYear: false,

    // Render days of the calendar grid that fall in the next or previous month
    showDaysInNextAndPreviousMonths: false,

    // Specify a DOM element to render the calendar in
    container: null,

    // Show clear button
    showClearBtn: false,

    // internationalization
    i18n: {
      cancel: 'Cancel',
      clear: 'Clear',
      done: 'Ok',
      previousMonth: '‹',
      nextMonth: '›',
      months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
      weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']
    },

    // events array
    events: [],

    // callback function
    onSelect: null,
    onOpen: null,
    onClose: null,
    onDraw: null
  };

  /**
   * @class
   *
   */

  var Datepicker = function (_Component15) {
    _inherits(Datepicker, _Component15);

    /**
     * Construct Datepicker instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Datepicker(el, options) {
      _classCallCheck(this, Datepicker);

      var _this53 = _possibleConstructorReturn(this, (Datepicker.__proto__ || Object.getPrototypeOf(Datepicker)).call(this, Datepicker, el, options));

      _this53.el.M_Datepicker = _this53;

      _this53.options = $.extend({}, Datepicker.defaults, options);

      // make sure i18n defaults are not lost when only few i18n option properties are passed
      if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {
        _this53.options.i18n = $.extend({}, Datepicker.defaults.i18n, options.i18n);
      }

      // Remove time component from minDate and maxDate options
      if (_this53.options.minDate) _this53.options.minDate.setHours(0, 0, 0, 0);
      if (_this53.options.maxDate) _this53.options.maxDate.setHours(0, 0, 0, 0);

      _this53.id = M.guid();

      _this53._setupVariables();
      _this53._insertHTMLIntoDOM();
      _this53._setupModal();

      _this53._setupEventHandlers();

      if (!_this53.options.defaultDate) {
        _this53.options.defaultDate = new Date(Date.parse(_this53.el.value));
      }

      var defDate = _this53.options.defaultDate;
      if (Datepicker._isDate(defDate)) {
        if (_this53.options.setDefaultDate) {
          _this53.setDate(defDate, true);
          _this53.setInputValue();
        } else {
          _this53.gotoDate(defDate);
        }
      } else {
        _this53.gotoDate(new Date());
      }

      /**
       * Describes open/close state of datepicker
       * @type {Boolean}
       */
      _this53.isOpen = false;
      return _this53;
    }

    _createClass(Datepicker, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.modal.destroy();
        $(this.modalEl).remove();
        this.destroySelects();
        this.el.M_Datepicker = undefined;
      }
    }, {
      key: "destroySelects",
      value: function destroySelects() {
        var oldYearSelect = this.calendarEl.querySelector('.orig-select-year');
        if (oldYearSelect) {
          M.FormSelect.getInstance(oldYearSelect).destroy();
        }
        var oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');
        if (oldMonthSelect) {
          M.FormSelect.getInstance(oldMonthSelect).destroy();
        }
      }
    }, {
      key: "_insertHTMLIntoDOM",
      value: function _insertHTMLIntoDOM() {
        if (this.options.showClearBtn) {
          $(this.clearBtn).css({ visibility: '' });
          this.clearBtn.innerHTML = this.options.i18n.clear;
        }

        this.doneBtn.innerHTML = this.options.i18n.done;
        this.cancelBtn.innerHTML = this.options.i18n.cancel;

        if (this.options.container) {
          this.$modalEl.appendTo(this.options.container);
        } else {
          this.$modalEl.insertBefore(this.el);
        }
      }
    }, {
      key: "_setupModal",
      value: function _setupModal() {
        var _this54 = this;

        this.modalEl.id = 'modal-' + this.id;
        this.modal = M.Modal.init(this.modalEl, {
          onCloseEnd: function () {
            _this54.isOpen = false;
          }
        });
      }
    }, {
      key: "toString",
      value: function toString(format) {
        var _this55 = this;

        format = format || this.options.format;
        if (!Datepicker._isDate(this.date)) {
          return '';
        }

        var formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);
        var formattedDate = formatArray.map(function (label) {
          if (_this55.formats[label]) {
            return _this55.formats[label]();
          }

          return label;
        }).join('');
        return formattedDate;
      }
    }, {
      key: "setDate",
      value: function setDate(date, preventOnSelect) {
        if (!date) {
          this.date = null;
          this._renderDateDisplay();
          return this.draw();
        }
        if (typeof date === 'string') {
          date = new Date(Date.parse(date));
        }
        if (!Datepicker._isDate(date)) {
          return;
        }

        var min = this.options.minDate,
            max = this.options.maxDate;

        if (Datepicker._isDate(min) && date < min) {
          date = min;
        } else if (Datepicker._isDate(max) && date > max) {
          date = max;
        }

        this.date = new Date(date.getTime());

        this._renderDateDisplay();

        Datepicker._setToStartOfDay(this.date);
        this.gotoDate(this.date);

        if (!preventOnSelect && typeof this.options.onSelect === 'function') {
          this.options.onSelect.call(this, this.date);
        }
      }
    }, {
      key: "setInputValue",
      value: function setInputValue() {
        this.el.value = this.toString();
        this.$el.trigger('change', { firedBy: this });
      }
    }, {
      key: "_renderDateDisplay",
      value: function _renderDateDisplay() {
        var displayDate = Datepicker._isDate(this.date) ? this.date : new Date();
        var i18n = this.options.i18n;
        var day = i18n.weekdaysShort[displayDate.getDay()];
        var month = i18n.monthsShort[displayDate.getMonth()];
        var date = displayDate.getDate();
        this.yearTextEl.innerHTML = displayDate.getFullYear();
        this.dateTextEl.innerHTML = day + ", " + month + " " + date;
      }

      /**
       * change view to a specific date
       */

    }, {
      key: "gotoDate",
      value: function gotoDate(date) {
        var newCalendar = true;

        if (!Datepicker._isDate(date)) {
          return;
        }

        if (this.calendars) {
          var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
              lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1),
              visibleDate = date.getTime();
          // get the end of the month
          lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);
          lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);
          newCalendar = visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;
        }

        if (newCalendar) {
          this.calendars = [{
            month: date.getMonth(),
            year: date.getFullYear()
          }];
        }

        this.adjustCalendars();
      }
    }, {
      key: "adjustCalendars",
      value: function adjustCalendars() {
        this.calendars[0] = this.adjustCalendar(this.calendars[0]);
        this.draw();
      }
    }, {
      key: "adjustCalendar",
      value: function adjustCalendar(calendar) {
        if (calendar.month < 0) {
          calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);
          calendar.month += 12;
        }
        if (calendar.month > 11) {
          calendar.year += Math.floor(Math.abs(calendar.month) / 12);
          calendar.month -= 12;
        }
        return calendar;
      }
    }, {
      key: "nextMonth",
      value: function nextMonth() {
        this.calendars[0].month++;
        this.adjustCalendars();
      }
    }, {
      key: "prevMonth",
      value: function prevMonth() {
        this.calendars[0].month--;
        this.adjustCalendars();
      }
    }, {
      key: "render",
      value: function render(year, month, randId) {
        var opts = this.options,
            now = new Date(),
            days = Datepicker._getDaysInMonth(year, month),
            before = new Date(year, month, 1).getDay(),
            data = [],
            row = [];
        Datepicker._setToStartOfDay(now);
        if (opts.firstDay > 0) {
          before -= opts.firstDay;
          if (before < 0) {
            before += 7;
          }
        }
        var previousMonth = month === 0 ? 11 : month - 1,
            nextMonth = month === 11 ? 0 : month + 1,
            yearOfPreviousMonth = month === 0 ? year - 1 : year,
            yearOfNextMonth = month === 11 ? year + 1 : year,
            daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);
        var cells = days + before,
            after = cells;
        while (after > 7) {
          after -= 7;
        }
        cells += 7 - after;
        var isWeekSelected = false;
        for (var i = 0, r = 0; i < cells; i++) {
          var day = new Date(year, month, 1 + (i - before)),
              isSelected = Datepicker._isDate(this.date) ? Datepicker._compareDates(day, this.date) : false,
              isToday = Datepicker._compareDates(day, now),
              hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
              isEmpty = i < before || i >= days + before,
              dayNumber = 1 + (i - before),
              monthNumber = month,
              yearNumber = year,
              isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day),
              isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day),
              isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
              isDisabled = opts.minDate && day < opts.minDate || opts.maxDate && day > opts.maxDate || opts.disableWeekends && Datepicker._isWeekend(day) || opts.disableDayFn && opts.disableDayFn(day);

          if (isEmpty) {
            if (i < before) {
              dayNumber = daysInPreviousMonth + dayNumber;
              monthNumber = previousMonth;
              yearNumber = yearOfPreviousMonth;
            } else {
              dayNumber = dayNumber - days;
              monthNumber = nextMonth;
              yearNumber = yearOfNextMonth;
            }
          }

          var dayConfig = {
            day: dayNumber,
            month: monthNumber,
            year: yearNumber,
            hasEvent: hasEvent,
            isSelected: isSelected,
            isToday: isToday,
            isDisabled: isDisabled,
            isEmpty: isEmpty,
            isStartRange: isStartRange,
            isEndRange: isEndRange,
            isInRange: isInRange,
            showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths
          };

          row.push(this.renderDay(dayConfig));

          if (++r === 7) {
            data.push(this.renderRow(row, opts.isRTL, isWeekSelected));
            row = [];
            r = 0;
            isWeekSelected = false;
          }
        }
        return this.renderTable(opts, data, randId);
      }
    }, {
      key: "renderDay",
      value: function renderDay(opts) {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
          if (opts.showDaysInNextAndPreviousMonths) {
            arr.push('is-outside-current-month');
            arr.push('is-selection-disabled');
          } else {
            return '<td class="is-empty"></td>';
          }
        }
        if (opts.isDisabled) {
          arr.push('is-disabled');
        }

        if (opts.isToday) {
          arr.push('is-today');
        }
        if (opts.isSelected) {
          arr.push('is-selected');
          ariaSelected = 'true';
        }
        if (opts.hasEvent) {
          arr.push('has-event');
        }
        if (opts.isInRange) {
          arr.push('is-inrange');
        }
        if (opts.isStartRange) {
          arr.push('is-startrange');
        }
        if (opts.isEndRange) {
          arr.push('is-endrange');
        }
        return "<td data-day=\"" + opts.day + "\" class=\"" + arr.join(' ') + "\" aria-selected=\"" + ariaSelected + "\">" + ("<button class=\"datepicker-day-button\" type=\"button\" data-year=\"" + opts.year + "\" data-month=\"" + opts.month + "\" data-day=\"" + opts.day + "\">" + opts.day + "</button>") + '</td>';
      }
    }, {
      key: "renderRow",
      value: function renderRow(days, isRTL, isRowSelected) {
        return '<tr class="datepicker-row' + (isRowSelected ? ' is-selected' : '') + '">' + (isRTL ? days.reverse() : days).join('') + '</tr>';
      }
    }, {
      key: "renderTable",
      value: function renderTable(opts, data, randId) {
        return '<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="' + randId + '">' + this.renderHead(opts) + this.renderBody(data) + '</table></div>';
      }
    }, {
      key: "renderHead",
      value: function renderHead(opts) {
        var i = void 0,
            arr = [];
        for (i = 0; i < 7; i++) {
          arr.push("<th scope=\"col\"><abbr title=\"" + this.renderDayName(opts, i) + "\">" + this.renderDayName(opts, i, true) + "</abbr></th>");
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
      }
    }, {
      key: "renderBody",
      value: function renderBody(rows) {
        return '<tbody>' + rows.join('') + '</tbody>';
      }
    }, {
      key: "renderTitle",
      value: function renderTitle(instance, c, year, month, refYear, randId) {
        var i = void 0,
            j = void 0,
            arr = void 0,
            opts = this.options,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="datepicker-controls" role="heading" aria-live="assertive">',
            monthHtml = void 0,
            yearHtml = void 0,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
          arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' + (i === month ? ' selected="selected"' : '') + (isMinYear && i < opts.minMonth || isMaxYear && i > opts.maxMonth ? 'disabled="disabled"' : '') + '>' + opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<select class="datepicker-select orig-select-month" tabindex="-1">' + arr.join('') + '</select>';

        if ($.isArray(opts.yearRange)) {
          i = opts.yearRange[0];
          j = opts.yearRange[1] + 1;
        } else {
          i = year - opts.yearRange;
          j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
          if (i >= opts.minYear) {
            arr.push("<option value=\"" + i + "\" " + (i === year ? 'selected="selected"' : '') + ">" + i + "</option>");
          }
        }

        yearHtml = "<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">" + arr.join('') + "</select>";

        var leftArrow = '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>';
        html += "<button class=\"month-prev" + (prev ? '' : ' is-disabled') + "\" type=\"button\">" + leftArrow + "</button>";

        html += '<div class="selects-container">';
        if (opts.showMonthAfterYear) {
          html += yearHtml + monthHtml;
        } else {
          html += monthHtml + yearHtml;
        }
        html += '</div>';

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
          prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
          next = false;
        }

        var rightArrow = '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>';
        html += "<button class=\"month-next" + (next ? '' : ' is-disabled') + "\" type=\"button\">" + rightArrow + "</button>";

        return html += '</div>';
      }

      /**
       * refresh the HTML
       */

    }, {
      key: "draw",
      value: function draw(force) {
        if (!this.isOpen && !force) {
          return;
        }
        var opts = this.options,
            minYear = opts.minYear,
            maxYear = opts.maxYear,
            minMonth = opts.minMonth,
            maxMonth = opts.maxMonth,
            html = '',
            randId = void 0;

        if (this._y <= minYear) {
          this._y = minYear;
          if (!isNaN(minMonth) && this._m < minMonth) {
            this._m = minMonth;
          }
        }
        if (this._y >= maxYear) {
          this._y = maxYear;
          if (!isNaN(maxMonth) && this._m > maxMonth) {
            this._m = maxMonth;
          }
        }

        randId = 'datepicker-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);

        for (var c = 0; c < 1; c++) {
          this._renderDateDisplay();
          html += this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);
        }

        this.destroySelects();

        this.calendarEl.innerHTML = html;

        // Init Materialize Select
        var yearSelect = this.calendarEl.querySelector('.orig-select-year');
        var monthSelect = this.calendarEl.querySelector('.orig-select-month');
        M.FormSelect.init(yearSelect, {
          classes: 'select-year',
          dropdownOptions: { container: document.body, constrainWidth: false }
        });
        M.FormSelect.init(monthSelect, {
          classes: 'select-month',
          dropdownOptions: { container: document.body, constrainWidth: false }
        });

        // Add change handlers for select
        yearSelect.addEventListener('change', this._handleYearChange.bind(this));
        monthSelect.addEventListener('change', this._handleMonthChange.bind(this));

        if (typeof this.options.onDraw === 'function') {
          this.options.onDraw(this);
        }
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleInputChangeBound = this._handleInputChange.bind(this);
        this._handleCalendarClickBound = this._handleCalendarClick.bind(this);
        this._finishSelectionBound = this._finishSelection.bind(this);
        this._handleMonthChange = this._handleMonthChange.bind(this);
        this._closeBound = this.close.bind(this);

        this.el.addEventListener('click', this._handleInputClickBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.el.addEventListener('change', this._handleInputChangeBound);
        this.calendarEl.addEventListener('click', this._handleCalendarClickBound);
        this.doneBtn.addEventListener('click', this._finishSelectionBound);
        this.cancelBtn.addEventListener('click', this._closeBound);

        if (this.options.showClearBtn) {
          this._handleClearClickBound = this._handleClearClick.bind(this);
          this.clearBtn.addEventListener('click', this._handleClearClickBound);
        }
      }
    }, {
      key: "_setupVariables",
      value: function _setupVariables() {
        var _this56 = this;

        this.$modalEl = $(Datepicker._template);
        this.modalEl = this.$modalEl[0];

        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');

        this.yearTextEl = this.modalEl.querySelector('.year-text');
        this.dateTextEl = this.modalEl.querySelector('.date-text');
        if (this.options.showClearBtn) {
          this.clearBtn = this.modalEl.querySelector('.datepicker-clear');
        }
        this.doneBtn = this.modalEl.querySelector('.datepicker-done');
        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');

        this.formats = {
          d: function () {
            return _this56.date.getDate();
          },
          dd: function () {
            var d = _this56.date.getDate();
            return (d < 10 ? '0' : '') + d;
          },
          ddd: function () {
            return _this56.options.i18n.weekdaysShort[_this56.date.getDay()];
          },
          dddd: function () {
            return _this56.options.i18n.weekdays[_this56.date.getDay()];
          },
          m: function () {
            return _this56.date.getMonth() + 1;
          },
          mm: function () {
            var m = _this56.date.getMonth() + 1;
            return (m < 10 ? '0' : '') + m;
          },
          mmm: function () {
            return _this56.options.i18n.monthsShort[_this56.date.getMonth()];
          },
          mmmm: function () {
            return _this56.options.i18n.months[_this56.date.getMonth()];
          },
          yy: function () {
            return ('' + _this56.date.getFullYear()).slice(2);
          },
          yyyy: function () {
            return _this56.date.getFullYear();
          }
        };
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
        this.el.removeEventListener('change', this._handleInputChangeBound);
        this.calendarEl.removeEventListener('click', this._handleCalendarClickBound);
      }
    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        this.open();
      }
    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        if (e.which === M.keys.ENTER) {
          e.preventDefault();
          this.open();
        }
      }
    }, {
      key: "_handleCalendarClick",
      value: function _handleCalendarClick(e) {
        if (!this.isOpen) {
          return;
        }

        var $target = $(e.target);
        if (!$target.hasClass('is-disabled')) {
          if ($target.hasClass('datepicker-day-button') && !$target.hasClass('is-empty') && !$target.parent().hasClass('is-disabled')) {
            this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));
            if (this.options.autoClose) {
              this._finishSelection();
            }
          } else if ($target.closest('.month-prev').length) {
            this.prevMonth();
          } else if ($target.closest('.month-next').length) {
            this.nextMonth();
          }
        }
      }
    }, {
      key: "_handleClearClick",
      value: function _handleClearClick() {
        this.date = null;
        this.setInputValue();
        this.close();
      }
    }, {
      key: "_handleMonthChange",
      value: function _handleMonthChange(e) {
        this.gotoMonth(e.target.value);
      }
    }, {
      key: "_handleYearChange",
      value: function _handleYearChange(e) {
        this.gotoYear(e.target.value);
      }

      /**
       * change view to a specific month (zero-index, e.g. 0: January)
       */

    }, {
      key: "gotoMonth",
      value: function gotoMonth(month) {
        if (!isNaN(month)) {
          this.calendars[0].month = parseInt(month, 10);
          this.adjustCalendars();
        }
      }

      /**
       * change view to a specific full year (e.g. "2012")
       */

    }, {
      key: "gotoYear",
      value: function gotoYear(year) {
        if (!isNaN(year)) {
          this.calendars[0].year = parseInt(year, 10);
          this.adjustCalendars();
        }
      }
    }, {
      key: "_handleInputChange",
      value: function _handleInputChange(e) {
        var date = void 0;

        // Prevent change event from being fired when triggered by the plugin
        if (e.firedBy === this) {
          return;
        }
        if (this.options.parse) {
          date = this.options.parse(this.el.value, this.options.format);
        } else {
          date = new Date(Date.parse(this.el.value));
        }

        if (Datepicker._isDate(date)) {
          this.setDate(date);
        }
      }
    }, {
      key: "renderDayName",
      value: function renderDayName(opts, day, abbr) {
        day += opts.firstDay;
        while (day >= 7) {
          day -= 7;
        }
        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];
      }

      /**
       * Set input value to the selected date and close Datepicker
       */

    }, {
      key: "_finishSelection",
      value: function _finishSelection() {
        this.setInputValue();
        this.close();
      }

      /**
       * Open Datepicker
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        if (typeof this.options.onOpen === 'function') {
          this.options.onOpen.call(this);
        }
        this.draw();
        this.modal.open();
        return this;
      }

      /**
       * Close Datepicker
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        if (typeof this.options.onClose === 'function') {
          this.options.onClose.call(this);
        }
        this.modal.close();
        return this;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Datepicker.__proto__ || Object.getPrototypeOf(Datepicker), "init", this).call(this, this, els, options);
      }
    }, {
      key: "_isDate",
      value: function _isDate(obj) {
        return (/Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime())
        );
      }
    }, {
      key: "_isWeekend",
      value: function _isWeekend(date) {
        var day = date.getDay();
        return day === 0 || day === 6;
      }
    }, {
      key: "_setToStartOfDay",
      value: function _setToStartOfDay(date) {
        if (Datepicker._isDate(date)) date.setHours(0, 0, 0, 0);
      }
    }, {
      key: "_getDaysInMonth",
      value: function _getDaysInMonth(year, month) {
        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
      }
    }, {
      key: "_isLeapYear",
      value: function _isLeapYear(year) {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
      }
    }, {
      key: "_compareDates",
      value: function _compareDates(a, b) {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
      }
    }, {
      key: "_setToStartOfDay",
      value: function _setToStartOfDay(date) {
        if (Datepicker._isDate(date)) date.setHours(0, 0, 0, 0);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Datepicker;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Datepicker;
  }(Component);

  Datepicker._template = ['<div class= "modal datepicker-modal">', '<div class="modal-content datepicker-container">', '<div class="datepicker-date-display">', '<span class="year-text"></span>', '<span class="date-text"></span>', '</div>', '<div class="datepicker-calendar-container">', '<div class="datepicker-calendar"></div>', '<div class="datepicker-footer">', '<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>', '<div class="confirmation-btns">', '<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>', '<button class="btn-flat datepicker-done waves-effect" type="button"></button>', '</div>', '</div>', '</div>', '</div>', '</div>'].join('');

  M.Datepicker = Datepicker;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Datepicker, 'datepicker', 'M_Datepicker');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    dialRadius: 135,
    outerRadius: 105,
    innerRadius: 70,
    tickRadius: 20,
    duration: 350,
    container: null,
    defaultTime: 'now', // default time, 'now' or '13:14' e.g.
    fromNow: 0, // Millisecond offset from the defaultTime
    showClearBtn: false,

    // internationalization
    i18n: {
      cancel: 'Cancel',
      clear: 'Clear',
      done: 'Ok'
    },

    autoClose: false, // auto close when minute is selected
    twelveHour: true, // change to 12 hour AM/PM clock from 24 hour
    vibrate: true, // vibrate the device when dragging clock hand

    // Callbacks
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    onSelect: null
  };

  /**
   * @class
   *
   */

  var Timepicker = function (_Component16) {
    _inherits(Timepicker, _Component16);

    function Timepicker(el, options) {
      _classCallCheck(this, Timepicker);

      var _this57 = _possibleConstructorReturn(this, (Timepicker.__proto__ || Object.getPrototypeOf(Timepicker)).call(this, Timepicker, el, options));

      _this57.el.M_Timepicker = _this57;

      _this57.options = $.extend({}, Timepicker.defaults, options);

      _this57.id = M.guid();
      _this57._insertHTMLIntoDOM();
      _this57._setupModal();
      _this57._setupVariables();
      _this57._setupEventHandlers();

      _this57._clockSetup();
      _this57._pickerSetup();
      return _this57;
    }

    _createClass(Timepicker, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.modal.destroy();
        $(this.modalEl).remove();
        this.el.M_Timepicker = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleClockClickStartBound = this._handleClockClickStart.bind(this);
        this._handleDocumentClickMoveBound = this._handleDocumentClickMove.bind(this);
        this._handleDocumentClickEndBound = this._handleDocumentClickEnd.bind(this);

        this.el.addEventListener('click', this._handleInputClickBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.plate.addEventListener('mousedown', this._handleClockClickStartBound);
        this.plate.addEventListener('touchstart', this._handleClockClickStartBound);

        $(this.spanHours).on('click', this.showView.bind(this, 'hours'));
        $(this.spanMinutes).on('click', this.showView.bind(this, 'minutes'));
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
      }
    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        this.open();
      }
    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        if (e.which === M.keys.ENTER) {
          e.preventDefault();
          this.open();
        }
      }
    }, {
      key: "_handleClockClickStart",
      value: function _handleClockClickStart(e) {
        e.preventDefault();
        var clockPlateBR = this.plate.getBoundingClientRect();
        var offset = { x: clockPlateBR.left, y: clockPlateBR.top };

        this.x0 = offset.x + this.options.dialRadius;
        this.y0 = offset.y + this.options.dialRadius;
        this.moved = false;
        var clickPos = Timepicker._Pos(e);
        this.dx = clickPos.x - this.x0;
        this.dy = clickPos.y - this.y0;

        // Set clock hands
        this.setHand(this.dx, this.dy, false);

        // Mousemove on document
        document.addEventListener('mousemove', this._handleDocumentClickMoveBound);
        document.addEventListener('touchmove', this._handleDocumentClickMoveBound);

        // Mouseup on document
        document.addEventListener('mouseup', this._handleDocumentClickEndBound);
        document.addEventListener('touchend', this._handleDocumentClickEndBound);
      }
    }, {
      key: "_handleDocumentClickMove",
      value: function _handleDocumentClickMove(e) {
        e.preventDefault();
        var clickPos = Timepicker._Pos(e);
        var x = clickPos.x - this.x0;
        var y = clickPos.y - this.y0;
        this.moved = true;
        this.setHand(x, y, false, true);
      }
    }, {
      key: "_handleDocumentClickEnd",
      value: function _handleDocumentClickEnd(e) {
        var _this58 = this;

        e.preventDefault();
        document.removeEventListener('mouseup', this._handleDocumentClickEndBound);
        document.removeEventListener('touchend', this._handleDocumentClickEndBound);
        var clickPos = Timepicker._Pos(e);
        var x = clickPos.x - this.x0;
        var y = clickPos.y - this.y0;
        if (this.moved && x === this.dx && y === this.dy) {
          this.setHand(x, y);
        }

        if (this.currentView === 'hours') {
          this.showView('minutes', this.options.duration / 2);
        } else if (this.options.autoClose) {
          $(this.minutesView).addClass('timepicker-dial-out');
          setTimeout(function () {
            _this58.done();
          }, this.options.duration / 2);
        }

        if (typeof this.options.onSelect === 'function') {
          this.options.onSelect.call(this, this.hours, this.minutes);
        }

        // Unbind mousemove event
        document.removeEventListener('mousemove', this._handleDocumentClickMoveBound);
        document.removeEventListener('touchmove', this._handleDocumentClickMoveBound);
      }
    }, {
      key: "_insertHTMLIntoDOM",
      value: function _insertHTMLIntoDOM() {
        this.$modalEl = $(Timepicker._template);
        this.modalEl = this.$modalEl[0];
        this.modalEl.id = 'modal-' + this.id;

        // Append popover to input by default
        var containerEl = document.querySelector(this.options.container);
        if (this.options.container && !!containerEl) {
          this.$modalEl.appendTo(containerEl);
        } else {
          this.$modalEl.insertBefore(this.el);
        }
      }
    }, {
      key: "_setupModal",
      value: function _setupModal() {
        var _this59 = this;

        this.modal = M.Modal.init(this.modalEl, {
          onOpenStart: this.options.onOpenStart,
          onOpenEnd: this.options.onOpenEnd,
          onCloseStart: this.options.onCloseStart,
          onCloseEnd: function () {
            if (typeof _this59.options.onCloseEnd === 'function') {
              _this59.options.onCloseEnd.call(_this59);
            }
            _this59.isOpen = false;
          }
        });
      }
    }, {
      key: "_setupVariables",
      value: function _setupVariables() {
        this.currentView = 'hours';
        this.vibrate = navigator.vibrate ? 'vibrate' : navigator.webkitVibrate ? 'webkitVibrate' : null;

        this._canvas = this.modalEl.querySelector('.timepicker-canvas');
        this.plate = this.modalEl.querySelector('.timepicker-plate');

        this.hoursView = this.modalEl.querySelector('.timepicker-hours');
        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');
        this.spanHours = this.modalEl.querySelector('.timepicker-span-hours');
        this.spanMinutes = this.modalEl.querySelector('.timepicker-span-minutes');
        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');
        this.footer = this.modalEl.querySelector('.timepicker-footer');
        this.amOrPm = 'PM';
      }
    }, {
      key: "_pickerSetup",
      value: function _pickerSetup() {
        var $clearBtn = $("<button class=\"btn-flat timepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\" tabindex=\"" + (this.options.twelveHour ? '3' : '1') + "\">" + this.options.i18n.clear + "</button>").appendTo(this.footer).on('click', this.clear.bind(this));
        if (this.options.showClearBtn) {
          $clearBtn.css({ visibility: '' });
        }

        var confirmationBtnsContainer = $('<div class="confirmation-btns"></div>');
        $('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="' + (this.options.twelveHour ? '3' : '1') + '">' + this.options.i18n.cancel + '</button>').appendTo(confirmationBtnsContainer).on('click', this.close.bind(this));
        $('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="' + (this.options.twelveHour ? '3' : '1') + '">' + this.options.i18n.done + '</button>').appendTo(confirmationBtnsContainer).on('click', this.done.bind(this));
        confirmationBtnsContainer.appendTo(this.footer);
      }
    }, {
      key: "_clockSetup",
      value: function _clockSetup() {
        if (this.options.twelveHour) {
          this.$amBtn = $('<div class="am-btn">AM</div>');
          this.$pmBtn = $('<div class="pm-btn">PM</div>');
          this.$amBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);
          this.$pmBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);
        }

        this._buildHoursView();
        this._buildMinutesView();
        this._buildSVGClock();
      }
    }, {
      key: "_buildSVGClock",
      value: function _buildSVGClock() {
        // Draw clock hands and others
        var dialRadius = this.options.dialRadius;
        var tickRadius = this.options.tickRadius;
        var diameter = dialRadius * 2;

        var svg = Timepicker._createSVGEl('svg');
        svg.setAttribute('class', 'timepicker-svg');
        svg.setAttribute('width', diameter);
        svg.setAttribute('height', diameter);
        var g = Timepicker._createSVGEl('g');
        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');
        var bearing = Timepicker._createSVGEl('circle');
        bearing.setAttribute('class', 'timepicker-canvas-bearing');
        bearing.setAttribute('cx', 0);
        bearing.setAttribute('cy', 0);
        bearing.setAttribute('r', 4);
        var hand = Timepicker._createSVGEl('line');
        hand.setAttribute('x1', 0);
        hand.setAttribute('y1', 0);
        var bg = Timepicker._createSVGEl('circle');
        bg.setAttribute('class', 'timepicker-canvas-bg');
        bg.setAttribute('r', tickRadius);
        g.appendChild(hand);
        g.appendChild(bg);
        g.appendChild(bearing);
        svg.appendChild(g);
        this._canvas.appendChild(svg);

        this.hand = hand;
        this.bg = bg;
        this.bearing = bearing;
        this.g = g;
      }
    }, {
      key: "_buildHoursView",
      value: function _buildHoursView() {
        var $tick = $('<div class="timepicker-tick"></div>');
        // Hours view
        if (this.options.twelveHour) {
          for (var i = 1; i < 13; i += 1) {
            var tick = $tick.clone();
            var radian = i / 6 * Math.PI;
            var radius = this.options.outerRadius;
            tick.css({
              left: this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px',
              top: this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px'
            });
            tick.html(i === 0 ? '00' : i);
            this.hoursView.appendChild(tick[0]);
            // tick.on(mousedownEvent, mousedown);
          }
        } else {
          for (var _i2 = 0; _i2 < 24; _i2 += 1) {
            var _tick = $tick.clone();
            var _radian = _i2 / 6 * Math.PI;
            var inner = _i2 > 0 && _i2 < 13;
            var _radius = inner ? this.options.innerRadius : this.options.outerRadius;
            _tick.css({
              left: this.options.dialRadius + Math.sin(_radian) * _radius - this.options.tickRadius + 'px',
              top: this.options.dialRadius - Math.cos(_radian) * _radius - this.options.tickRadius + 'px'
            });
            _tick.html(_i2 === 0 ? '00' : _i2);
            this.hoursView.appendChild(_tick[0]);
            // tick.on(mousedownEvent, mousedown);
          }
        }
      }
    }, {
      key: "_buildMinutesView",
      value: function _buildMinutesView() {
        var $tick = $('<div class="timepicker-tick"></div>');
        // Minutes view
        for (var i = 0; i < 60; i += 5) {
          var tick = $tick.clone();
          var radian = i / 30 * Math.PI;
          tick.css({
            left: this.options.dialRadius + Math.sin(radian) * this.options.outerRadius - this.options.tickRadius + 'px',
            top: this.options.dialRadius - Math.cos(radian) * this.options.outerRadius - this.options.tickRadius + 'px'
          });
          tick.html(Timepicker._addLeadingZero(i));
          this.minutesView.appendChild(tick[0]);
        }
      }
    }, {
      key: "_handleAmPmClick",
      value: function _handleAmPmClick(e) {
        var $btnClicked = $(e.target);
        this.amOrPm = $btnClicked.hasClass('am-btn') ? 'AM' : 'PM';
        this._updateAmPmView();
      }
    }, {
      key: "_updateAmPmView",
      value: function _updateAmPmView() {
        if (this.options.twelveHour) {
          this.$amBtn.toggleClass('text-primary', this.amOrPm === 'AM');
          this.$pmBtn.toggleClass('text-primary', this.amOrPm === 'PM');
        }
      }
    }, {
      key: "_updateTimeFromInput",
      value: function _updateTimeFromInput() {
        // Get the time
        var value = ((this.el.value || this.options.defaultTime || '') + '').split(':');
        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {
          if (value[1].toUpperCase().indexOf('AM') > 0) {
            this.amOrPm = 'AM';
          } else {
            this.amOrPm = 'PM';
          }
          value[1] = value[1].replace('AM', '').replace('PM', '');
        }
        if (value[0] === 'now') {
          var now = new Date(+new Date() + this.options.fromNow);
          value = [now.getHours(), now.getMinutes()];
          if (this.options.twelveHour) {
            this.amOrPm = value[0] >= 12 && value[0] < 24 ? 'PM' : 'AM';
          }
        }
        this.hours = +value[0] || 0;
        this.minutes = +value[1] || 0;
        this.spanHours.innerHTML = this.hours;
        this.spanMinutes.innerHTML = Timepicker._addLeadingZero(this.minutes);

        this._updateAmPmView();
      }
    }, {
      key: "showView",
      value: function showView(view, delay) {
        if (view === 'minutes' && $(this.hoursView).css('visibility') === 'visible') {
          // raiseCallback(this.options.beforeHourSelect);
        }
        var isHours = view === 'hours',
            nextView = isHours ? this.hoursView : this.minutesView,
            hideView = isHours ? this.minutesView : this.hoursView;
        this.currentView = view;

        $(this.spanHours).toggleClass('text-primary', isHours);
        $(this.spanMinutes).toggleClass('text-primary', !isHours);

        // Transition view
        hideView.classList.add('timepicker-dial-out');
        $(nextView).css('visibility', 'visible').removeClass('timepicker-dial-out');

        // Reset clock hand
        this.resetClock(delay);

        // After transitions ended
        clearTimeout(this.toggleViewTimer);
        this.toggleViewTimer = setTimeout(function () {
          $(hideView).css('visibility', 'hidden');
        }, this.options.duration);
      }
    }, {
      key: "resetClock",
      value: function resetClock(delay) {
        var view = this.currentView,
            value = this[view],
            isHours = view === 'hours',
            unit = Math.PI / (isHours ? 6 : 30),
            radian = value * unit,
            radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius,
            x = Math.sin(radian) * radius,
            y = -Math.cos(radian) * radius,
            self = this;

        if (delay) {
          $(this.canvas).addClass('timepicker-canvas-out');
          setTimeout(function () {
            $(self.canvas).removeClass('timepicker-canvas-out');
            self.setHand(x, y);
          }, delay);
        } else {
          this.setHand(x, y);
        }
      }
    }, {
      key: "setHand",
      value: function setHand(x, y, roundBy5) {
        var _this60 = this;

        var radian = Math.atan2(x, -y),
            isHours = this.currentView === 'hours',
            unit = Math.PI / (isHours || roundBy5 ? 6 : 30),
            z = Math.sqrt(x * x + y * y),
            inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2,
            radius = inner ? this.options.innerRadius : this.options.outerRadius;

        if (this.options.twelveHour) {
          radius = this.options.outerRadius;
        }

        // Radian should in range [0, 2PI]
        if (radian < 0) {
          radian = Math.PI * 2 + radian;
        }

        // Get the round value
        var value = Math.round(radian / unit);

        // Get the round radian
        radian = value * unit;

        // Correct the hours or minutes
        if (this.options.twelveHour) {
          if (isHours) {
            if (value === 0) value = 12;
          } else {
            if (roundBy5) value *= 5;
            if (value === 60) value = 0;
          }
        } else {
          if (isHours) {
            if (value === 12) {
              value = 0;
            }
            value = inner ? value === 0 ? 12 : value : value === 0 ? 0 : value + 12;
          } else {
            if (roundBy5) {
              value *= 5;
            }
            if (value === 60) {
              value = 0;
            }
          }
        }

        // Once hours or minutes changed, vibrate the device
        if (this[this.currentView] !== value) {
          if (this.vibrate && this.options.vibrate) {
            // Do not vibrate too frequently
            if (!this.vibrateTimer) {
              navigator[this.vibrate](10);
              this.vibrateTimer = setTimeout(function () {
                _this60.vibrateTimer = null;
              }, 100);
            }
          }
        }

        this[this.currentView] = value;
        if (isHours) {
          this['spanHours'].innerHTML = value;
        } else {
          this['spanMinutes'].innerHTML = Timepicker._addLeadingZero(value);
        }

        // Set clock hand and others' position
        var cx1 = Math.sin(radian) * (radius - this.options.tickRadius),
            cy1 = -Math.cos(radian) * (radius - this.options.tickRadius),
            cx2 = Math.sin(radian) * radius,
            cy2 = -Math.cos(radian) * radius;
        this.hand.setAttribute('x2', cx1);
        this.hand.setAttribute('y2', cy1);
        this.bg.setAttribute('cx', cx2);
        this.bg.setAttribute('cy', cy2);
      }
    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        this._updateTimeFromInput();
        this.showView('hours');

        this.modal.open();
      }
    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        this.modal.close();
      }

      /**
       * Finish timepicker selection.
       */

    }, {
      key: "done",
      value: function done(e, clearValue) {
        // Set input value
        var last = this.el.value;
        var value = clearValue ? '' : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);
        this.time = value;
        if (!clearValue && this.options.twelveHour) {
          value = value + " " + this.amOrPm;
        }
        this.el.value = value;

        // Trigger change event
        if (value !== last) {
          this.$el.trigger('change');
        }

        this.close();
        this.el.focus();
      }
    }, {
      key: "clear",
      value: function clear() {
        this.done(null, true);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Timepicker.__proto__ || Object.getPrototypeOf(Timepicker), "init", this).call(this, this, els, options);
      }
    }, {
      key: "_addLeadingZero",
      value: function _addLeadingZero(num) {
        return (num < 10 ? '0' : '') + num;
      }
    }, {
      key: "_createSVGEl",
      value: function _createSVGEl(name) {
        var svgNS = 'http://www.w3.org/2000/svg';
        return document.createElementNS(svgNS, name);
      }

      /**
       * @typedef {Object} Point
       * @property {number} x The X Coordinate
       * @property {number} y The Y Coordinate
       */

      /**
       * Get x position of mouse or touch event
       * @param {Event} e
       * @return {Point} x and y location
       */

    }, {
      key: "_Pos",
      value: function _Pos(e) {
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };
        }
        // mouse event
        return { x: e.clientX, y: e.clientY };
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Timepicker;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Timepicker;
  }(Component);

  Timepicker._template = ['<div class= "modal timepicker-modal">', '<div class="modal-content timepicker-container">', '<div class="timepicker-digital-display">', '<div class="timepicker-text-container">', '<div class="timepicker-display-column">', '<span class="timepicker-span-hours text-primary"></span>', ':', '<span class="timepicker-span-minutes"></span>', '</div>', '<div class="timepicker-display-column timepicker-display-am-pm">', '<div class="timepicker-span-am-pm"></div>', '</div>', '</div>', '</div>', '<div class="timepicker-analog-display">', '<div class="timepicker-plate">', '<div class="timepicker-canvas"></div>', '<div class="timepicker-dial timepicker-hours"></div>', '<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>', '</div>', '<div class="timepicker-footer"></div>', '</div>', '</div>', '</div>'].join('');

  M.Timepicker = Timepicker;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Timepicker, 'timepicker', 'M_Timepicker');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {};

  /**
   * @class
   *
   */

  var CharacterCounter = function (_Component17) {
    _inherits(CharacterCounter, _Component17);

    /**
     * Construct CharacterCounter instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function CharacterCounter(el, options) {
      _classCallCheck(this, CharacterCounter);

      var _this61 = _possibleConstructorReturn(this, (CharacterCounter.__proto__ || Object.getPrototypeOf(CharacterCounter)).call(this, CharacterCounter, el, options));

      _this61.el.M_CharacterCounter = _this61;

      /**
       * Options for the character counter
       */
      _this61.options = $.extend({}, CharacterCounter.defaults, options);

      _this61.isInvalid = false;
      _this61.isValidLength = false;
      _this61._setupCounter();
      _this61._setupEventHandlers();
      return _this61;
    }

    _createClass(CharacterCounter, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.CharacterCounter = undefined;
        this._removeCounter();
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleUpdateCounterBound = this.updateCounter.bind(this);

        this.el.addEventListener('focus', this._handleUpdateCounterBound, true);
        this.el.addEventListener('input', this._handleUpdateCounterBound, true);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('focus', this._handleUpdateCounterBound, true);
        this.el.removeEventListener('input', this._handleUpdateCounterBound, true);
      }

      /**
       * Setup counter element
       */

    }, {
      key: "_setupCounter",
      value: function _setupCounter() {
        this.counterEl = document.createElement('span');
        $(this.counterEl).addClass('character-counter').css({
          float: 'right',
          'font-size': '12px',
          height: 1
        });

        this.$el.parent().append(this.counterEl);
      }

      /**
       * Remove counter element
       */

    }, {
      key: "_removeCounter",
      value: function _removeCounter() {
        $(this.counterEl).remove();
      }

      /**
       * Update counter
       */

    }, {
      key: "updateCounter",
      value: function updateCounter() {
        var maxLength = +this.$el.attr('data-length'),
            actualLength = this.el.value.length;
        this.isValidLength = actualLength <= maxLength;
        var counterString = actualLength;

        if (maxLength) {
          counterString += '/' + maxLength;
          this._validateInput();
        }

        $(this.counterEl).html(counterString);
      }

      /**
       * Add validation classes
       */

    }, {
      key: "_validateInput",
      value: function _validateInput() {
        if (this.isValidLength && this.isInvalid) {
          this.isInvalid = false;
          this.$el.removeClass('invalid');
        } else if (!this.isValidLength && !this.isInvalid) {
          this.isInvalid = true;
          this.$el.removeClass('valid');
          this.$el.addClass('invalid');
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(CharacterCounter.__proto__ || Object.getPrototypeOf(CharacterCounter), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_CharacterCounter;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return CharacterCounter;
  }(Component);

  M.CharacterCounter = CharacterCounter;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(CharacterCounter, 'characterCounter', 'M_CharacterCounter');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    duration: 200, // ms
    dist: -100, // zoom scale TODO: make this more intuitive as an option
    shift: 0, // spacing for center image
    padding: 0, // Padding between non center items
    numVisible: 5, // Number of visible items in carousel
    fullWidth: false, // Change to full width styles
    indicators: false, // Toggle indicators
    noWrap: false, // Don't wrap around and cycle through items.
    onCycleTo: null // Callback for when a new slide is cycled to.
  };

  /**
   * @class
   *
   */

  var Carousel = function (_Component18) {
    _inherits(Carousel, _Component18);

    /**
     * Construct Carousel instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Carousel(el, options) {
      _classCallCheck(this, Carousel);

      var _this62 = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, Carousel, el, options));

      _this62.el.M_Carousel = _this62;

      /**
       * Options for the carousel
       * @member Carousel#options
       * @prop {Number} duration
       * @prop {Number} dist
       * @prop {Number} shift
       * @prop {Number} padding
       * @prop {Number} numVisible
       * @prop {Boolean} fullWidth
       * @prop {Boolean} indicators
       * @prop {Boolean} noWrap
       * @prop {Function} onCycleTo
       */
      _this62.options = $.extend({}, Carousel.defaults, options);

      // Setup
      _this62.hasMultipleSlides = _this62.$el.find('.carousel-item').length > 1;
      _this62.showIndicators = _this62.options.indicators && _this62.hasMultipleSlides;
      _this62.noWrap = _this62.options.noWrap || !_this62.hasMultipleSlides;
      _this62.pressed = false;
      _this62.dragged = false;
      _this62.offset = _this62.target = 0;
      _this62.images = [];
      _this62.itemWidth = _this62.$el.find('.carousel-item').first().innerWidth();
      _this62.itemHeight = _this62.$el.find('.carousel-item').first().innerHeight();
      _this62.dim = _this62.itemWidth * 2 + _this62.options.padding || 1; // Make sure dim is non zero for divisions.
      _this62._autoScrollBound = _this62._autoScroll.bind(_this62);
      _this62._trackBound = _this62._track.bind(_this62);

      // Full Width carousel setup
      if (_this62.options.fullWidth) {
        _this62.options.dist = 0;
        _this62._setCarouselHeight();

        // Offset fixed items when indicators.
        if (_this62.showIndicators) {
          _this62.$el.find('.carousel-fixed-item').addClass('with-indicators');
        }
      }

      // Iterate through slides
      _this62.$indicators = $('<ul class="indicators"></ul>');
      _this62.$el.find('.carousel-item').each(function (el, i) {
        _this62.images.push(el);
        if (_this62.showIndicators) {
          var $indicator = $('<li class="indicator-item"></li>');

          // Add active to first by default.
          if (i === 0) {
            $indicator[0].classList.add('active');
          }

          _this62.$indicators.append($indicator);
        }
      });
      if (_this62.showIndicators) {
        _this62.$el.append(_this62.$indicators);
      }
      _this62.count = _this62.images.length;

      // Cap numVisible at count
      _this62.options.numVisible = Math.min(_this62.count, _this62.options.numVisible);

      // Setup cross browser string
      _this62.xform = 'transform';
      ['webkit', 'Moz', 'O', 'ms'].every(function (prefix) {
        var e = prefix + 'Transform';
        if (typeof document.body.style[e] !== 'undefined') {
          _this62.xform = e;
          return false;
        }
        return true;
      });

      _this62._setupEventHandlers();
      _this62._scroll(_this62.offset);
      return _this62;
    }

    _createClass(Carousel, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Carousel = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this63 = this;

        this._handleCarouselTapBound = this._handleCarouselTap.bind(this);
        this._handleCarouselDragBound = this._handleCarouselDrag.bind(this);
        this._handleCarouselReleaseBound = this._handleCarouselRelease.bind(this);
        this._handleCarouselClickBound = this._handleCarouselClick.bind(this);

        if (typeof window.ontouchstart !== 'undefined') {
          this.el.addEventListener('touchstart', this._handleCarouselTapBound);
          this.el.addEventListener('touchmove', this._handleCarouselDragBound);
          this.el.addEventListener('touchend', this._handleCarouselReleaseBound);
        }

        this.el.addEventListener('mousedown', this._handleCarouselTapBound);
        this.el.addEventListener('mousemove', this._handleCarouselDragBound);
        this.el.addEventListener('mouseup', this._handleCarouselReleaseBound);
        this.el.addEventListener('mouseleave', this._handleCarouselReleaseBound);
        this.el.addEventListener('click', this._handleCarouselClickBound);

        if (this.showIndicators && this.$indicators) {
          this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);
          this.$indicators.find('.indicator-item').each(function (el, i) {
            el.addEventListener('click', _this63._handleIndicatorClickBound);
          });
        }

        // Resize
        var throttledResize = M.throttle(this._handleResize, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);

        window.addEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this64 = this;

        if (typeof window.ontouchstart !== 'undefined') {
          this.el.removeEventListener('touchstart', this._handleCarouselTapBound);
          this.el.removeEventListener('touchmove', this._handleCarouselDragBound);
          this.el.removeEventListener('touchend', this._handleCarouselReleaseBound);
        }
        this.el.removeEventListener('mousedown', this._handleCarouselTapBound);
        this.el.removeEventListener('mousemove', this._handleCarouselDragBound);
        this.el.removeEventListener('mouseup', this._handleCarouselReleaseBound);
        this.el.removeEventListener('mouseleave', this._handleCarouselReleaseBound);
        this.el.removeEventListener('click', this._handleCarouselClickBound);

        if (this.showIndicators && this.$indicators) {
          this.$indicators.find('.indicator-item').each(function (el, i) {
            el.removeEventListener('click', _this64._handleIndicatorClickBound);
          });
        }

        window.removeEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Handle Carousel Tap
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselTap",
      value: function _handleCarouselTap(e) {
        // Fixes firefox draggable image bug
        if (e.type === 'mousedown' && $(e.target).is('img')) {
          e.preventDefault();
        }
        this.pressed = true;
        this.dragged = false;
        this.verticalDragged = false;
        this.reference = this._xpos(e);
        this.referenceY = this._ypos(e);

        this.velocity = this.amplitude = 0;
        this.frame = this.offset;
        this.timestamp = Date.now();
        clearInterval(this.ticker);
        this.ticker = setInterval(this._trackBound, 100);
      }

      /**
       * Handle Carousel Drag
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselDrag",
      value: function _handleCarouselDrag(e) {
        var x = void 0,
            y = void 0,
            delta = void 0,
            deltaY = void 0;
        if (this.pressed) {
          x = this._xpos(e);
          y = this._ypos(e);
          delta = this.reference - x;
          deltaY = Math.abs(this.referenceY - y);
          if (deltaY < 30 && !this.verticalDragged) {
            // If vertical scrolling don't allow dragging.
            if (delta > 2 || delta < -2) {
              this.dragged = true;
              this.reference = x;
              this._scroll(this.offset + delta);
            }
          } else if (this.dragged) {
            // If dragging don't allow vertical scroll.
            e.preventDefault();
            e.stopPropagation();
            return false;
          } else {
            // Vertical scrolling.
            this.verticalDragged = true;
          }
        }

        if (this.dragged) {
          // If dragging don't allow vertical scroll.
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      }

      /**
       * Handle Carousel Release
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselRelease",
      value: function _handleCarouselRelease(e) {
        if (this.pressed) {
          this.pressed = false;
        } else {
          return;
        }

        clearInterval(this.ticker);
        this.target = this.offset;
        if (this.velocity > 10 || this.velocity < -10) {
          this.amplitude = 0.9 * this.velocity;
          this.target = this.offset + this.amplitude;
        }
        this.target = Math.round(this.target / this.dim) * this.dim;

        // No wrap of items.
        if (this.noWrap) {
          if (this.target >= this.dim * (this.count - 1)) {
            this.target = this.dim * (this.count - 1);
          } else if (this.target < 0) {
            this.target = 0;
          }
        }
        this.amplitude = this.target - this.offset;
        this.timestamp = Date.now();
        requestAnimationFrame(this._autoScrollBound);

        if (this.dragged) {
          e.preventDefault();
          e.stopPropagation();
        }
        return false;
      }

      /**
       * Handle Carousel CLick
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselClick",
      value: function _handleCarouselClick(e) {
        // Disable clicks if carousel was dragged.
        if (this.dragged) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        } else if (!this.options.fullWidth) {
          var clickedIndex = $(e.target).closest('.carousel-item').index();
          var diff = this._wrap(this.center) - clickedIndex;

          // Disable clicks if carousel was shifted by click
          if (diff !== 0) {
            e.preventDefault();
            e.stopPropagation();
          }
          this._cycleTo(clickedIndex);
        }
      }

      /**
       * Handle Indicator CLick
       * @param {Event} e
       */

    }, {
      key: "_handleIndicatorClick",
      value: function _handleIndicatorClick(e) {
        e.stopPropagation();

        var indicator = $(e.target).closest('.indicator-item');
        if (indicator.length) {
          this._cycleTo(indicator.index());
        }
      }

      /**
       * Handle Throttle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleResize",
      value: function _handleResize(e) {
        if (this.options.fullWidth) {
          this.itemWidth = this.$el.find('.carousel-item').first().innerWidth();
          this.imageHeight = this.$el.find('.carousel-item.active').height();
          this.dim = this.itemWidth * 2 + this.options.padding;
          this.offset = this.center * 2 * this.itemWidth;
          this.target = this.offset;
          this._setCarouselHeight(true);
        } else {
          this._scroll();
        }
      }

      /**
       * Set carousel height based on first slide
       * @param {Booleam} imageOnly - true for image slides
       */

    }, {
      key: "_setCarouselHeight",
      value: function _setCarouselHeight(imageOnly) {
        var _this65 = this;

        var firstSlide = this.$el.find('.carousel-item.active').length ? this.$el.find('.carousel-item.active').first() : this.$el.find('.carousel-item').first();
        var firstImage = firstSlide.find('img').first();
        if (firstImage.length) {
          if (firstImage[0].complete) {
            // If image won't trigger the load event
            var imageHeight = firstImage.height();
            if (imageHeight > 0) {
              this.$el.css('height', imageHeight + 'px');
            } else {
              // If image still has no height, use the natural dimensions to calculate
              var naturalWidth = firstImage[0].naturalWidth;
              var naturalHeight = firstImage[0].naturalHeight;
              var adjustedHeight = this.$el.width() / naturalWidth * naturalHeight;
              this.$el.css('height', adjustedHeight + 'px');
            }
          } else {
            // Get height when image is loaded normally
            firstImage.one('load', function (el, i) {
              _this65.$el.css('height', el.offsetHeight + 'px');
            });
          }
        } else if (!imageOnly) {
          var slideHeight = firstSlide.height();
          this.$el.css('height', slideHeight + 'px');
        }
      }

      /**
       * Get x position from event
       * @param {Event} e
       */

    }, {
      key: "_xpos",
      value: function _xpos(e) {
        // touch event
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientX;
        }

        // mouse event
        return e.clientX;
      }

      /**
       * Get y position from event
       * @param {Event} e
       */

    }, {
      key: "_ypos",
      value: function _ypos(e) {
        // touch event
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientY;
        }

        // mouse event
        return e.clientY;
      }

      /**
       * Wrap index
       * @param {Number} x
       */

    }, {
      key: "_wrap",
      value: function _wrap(x) {
        return x >= this.count ? x % this.count : x < 0 ? this._wrap(this.count + x % this.count) : x;
      }

      /**
       * Tracks scrolling information
       */

    }, {
      key: "_track",
      value: function _track() {
        var now = void 0,
            elapsed = void 0,
            delta = void 0,
            v = void 0;

        now = Date.now();
        elapsed = now - this.timestamp;
        this.timestamp = now;
        delta = this.offset - this.frame;
        this.frame = this.offset;

        v = 1000 * delta / (1 + elapsed);
        this.velocity = 0.8 * v + 0.2 * this.velocity;
      }

      /**
       * Auto scrolls to nearest carousel item.
       */

    }, {
      key: "_autoScroll",
      value: function _autoScroll() {
        var elapsed = void 0,
            delta = void 0;

        if (this.amplitude) {
          elapsed = Date.now() - this.timestamp;
          delta = this.amplitude * Math.exp(-elapsed / this.options.duration);
          if (delta > 2 || delta < -2) {
            this._scroll(this.target - delta);
            requestAnimationFrame(this._autoScrollBound);
          } else {
            this._scroll(this.target);
          }
        }
      }

      /**
       * Scroll to target
       * @param {Number} x
       */

    }, {
      key: "_scroll",
      value: function _scroll(x) {
        var _this66 = this;

        // Track scrolling state
        if (!this.$el.hasClass('scrolling')) {
          this.el.classList.add('scrolling');
        }
        if (this.scrollingTimeout != null) {
          window.clearTimeout(this.scrollingTimeout);
        }
        this.scrollingTimeout = window.setTimeout(function () {
          _this66.$el.removeClass('scrolling');
        }, this.options.duration);

        // Start actual scroll
        var i = void 0,
            half = void 0,
            delta = void 0,
            dir = void 0,
            tween = void 0,
            el = void 0,
            alignment = void 0,
            zTranslation = void 0,
            tweenedOpacity = void 0,
            centerTweenedOpacity = void 0;
        var lastCenter = this.center;
        var numVisibleOffset = 1 / this.options.numVisible;

        this.offset = typeof x === 'number' ? x : this.offset;
        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);
        delta = this.offset - this.center * this.dim;
        dir = delta < 0 ? 1 : -1;
        tween = -dir * delta * 2 / this.dim;
        half = this.count >> 1;

        if (this.options.fullWidth) {
          alignment = 'translateX(0)';
          centerTweenedOpacity = 1;
        } else {
          alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';
          alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';
          centerTweenedOpacity = 1 - numVisibleOffset * tween;
        }

        // Set indicator active
        if (this.showIndicators) {
          var diff = this.center % this.count;
          var activeIndicator = this.$indicators.find('.indicator-item.active');
          if (activeIndicator.index() !== diff) {
            activeIndicator.removeClass('active');
            this.$indicators.find('.indicator-item').eq(diff)[0].classList.add('active');
          }
        }

        // center
        // Don't show wrapped items.
        if (!this.noWrap || this.center >= 0 && this.center < this.count) {
          el = this.images[this._wrap(this.center)];

          // Add active class to center item.
          if (!$(el).hasClass('active')) {
            this.$el.find('.carousel-item').removeClass('active');
            el.classList.add('active');
          }
          var transformString = alignment + " translateX(" + -delta / 2 + "px) translateX(" + dir * this.options.shift * tween * i + "px) translateZ(" + this.options.dist * tween + "px)";
          this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);
        }

        for (i = 1; i <= half; ++i) {
          // right side
          if (this.options.fullWidth) {
            zTranslation = this.options.dist;
            tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;
          } else {
            zTranslation = this.options.dist * (i * 2 + tween * dir);
            tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);
          }
          // Don't show wrapped items.
          if (!this.noWrap || this.center + i < this.count) {
            el = this.images[this._wrap(this.center + i)];
            var _transformString = alignment + " translateX(" + (this.options.shift + (this.dim * i - delta) / 2) + "px) translateZ(" + zTranslation + "px)";
            this._updateItemStyle(el, tweenedOpacity, -i, _transformString);
          }

          // left side
          if (this.options.fullWidth) {
            zTranslation = this.options.dist;
            tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;
          } else {
            zTranslation = this.options.dist * (i * 2 - tween * dir);
            tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);
          }
          // Don't show wrapped items.
          if (!this.noWrap || this.center - i >= 0) {
            el = this.images[this._wrap(this.center - i)];
            var _transformString2 = alignment + " translateX(" + (-this.options.shift + (-this.dim * i - delta) / 2) + "px) translateZ(" + zTranslation + "px)";
            this._updateItemStyle(el, tweenedOpacity, -i, _transformString2);
          }
        }

        // center
        // Don't show wrapped items.
        if (!this.noWrap || this.center >= 0 && this.center < this.count) {
          el = this.images[this._wrap(this.center)];
          var _transformString3 = alignment + " translateX(" + -delta / 2 + "px) translateX(" + dir * this.options.shift * tween + "px) translateZ(" + this.options.dist * tween + "px)";
          this._updateItemStyle(el, centerTweenedOpacity, 0, _transformString3);
        }

        // onCycleTo callback
        var $currItem = this.$el.find('.carousel-item').eq(this._wrap(this.center));
        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {
          this.options.onCycleTo.call(this, $currItem[0], this.dragged);
        }

        // One time callback
        if (typeof this.oneTimeCallback === 'function') {
          this.oneTimeCallback.call(this, $currItem[0], this.dragged);
          this.oneTimeCallback = null;
        }
      }

      /**
       * Cycle to target
       * @param {Element} el
       * @param {Number} opacity
       * @param {Number} zIndex
       * @param {String} transform
       */

    }, {
      key: "_updateItemStyle",
      value: function _updateItemStyle(el, opacity, zIndex, transform) {
        el.style[this.xform] = transform;
        el.style.zIndex = zIndex;
        el.style.opacity = opacity;
        el.style.visibility = 'visible';
      }

      /**
       * Cycle to target
       * @param {Number} n
       * @param {Function} callback
       */

    }, {
      key: "_cycleTo",
      value: function _cycleTo(n, callback) {
        var diff = this.center % this.count - n;

        // Account for wraparound.
        if (!this.noWrap) {
          if (diff < 0) {
            if (Math.abs(diff + this.count) < Math.abs(diff)) {
              diff += this.count;
            }
          } else if (diff > 0) {
            if (Math.abs(diff - this.count) < diff) {
              diff -= this.count;
            }
          }
        }

        this.target = this.dim * Math.round(this.offset / this.dim);
        // Next
        if (diff < 0) {
          this.target += this.dim * Math.abs(diff);

          // Prev
        } else if (diff > 0) {
          this.target -= this.dim * diff;
        }

        // Set one time callback
        if (typeof callback === 'function') {
          this.oneTimeCallback = callback;
        }

        // Scroll
        if (this.offset !== this.target) {
          this.amplitude = this.target - this.offset;
          this.timestamp = Date.now();
          requestAnimationFrame(this._autoScrollBound);
        }
      }

      /**
       * Cycle to next item
       * @param {Number} [n]
       */

    }, {
      key: "next",
      value: function next(n) {
        if (n === undefined || isNaN(n)) {
          n = 1;
        }

        var index = this.center + n;
        if (index >= this.count || index < 0) {
          if (this.noWrap) {
            return;
          }

          index = this._wrap(index);
        }
        this._cycleTo(index);
      }

      /**
       * Cycle to previous item
       * @param {Number} [n]
       */

    }, {
      key: "prev",
      value: function prev(n) {
        if (n === undefined || isNaN(n)) {
          n = 1;
        }

        var index = this.center - n;
        if (index >= this.count || index < 0) {
          if (this.noWrap) {
            return;
          }

          index = this._wrap(index);
        }

        this._cycleTo(index);
      }

      /**
       * Cycle to nth item
       * @param {Number} [n]
       * @param {Function} callback
       */

    }, {
      key: "set",
      value: function set(n, callback) {
        if (n === undefined || isNaN(n)) {
          n = 0;
        }

        if (n > this.count || n < 0) {
          if (this.noWrap) {
            return;
          }

          n = this._wrap(n);
        }

        this._cycleTo(n, callback);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Carousel.__proto__ || Object.getPrototypeOf(Carousel), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Carousel;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Carousel;
  }(Component);

  M.Carousel = Carousel;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Carousel, 'carousel', 'M_Carousel');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    onOpen: undefined,
    onClose: undefined
  };

  /**
   * @class
   *
   */

  var TapTarget = function (_Component19) {
    _inherits(TapTarget, _Component19);

    /**
     * Construct TapTarget instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function TapTarget(el, options) {
      _classCallCheck(this, TapTarget);

      var _this67 = _possibleConstructorReturn(this, (TapTarget.__proto__ || Object.getPrototypeOf(TapTarget)).call(this, TapTarget, el, options));

      _this67.el.M_TapTarget = _this67;

      /**
       * Options for the select
       * @member TapTarget#options
       * @prop {Function} onOpen - Callback function called when feature discovery is opened
       * @prop {Function} onClose - Callback function called when feature discovery is closed
       */
      _this67.options = $.extend({}, TapTarget.defaults, options);

      _this67.isOpen = false;

      // setup
      _this67.$origin = $('#' + _this67.$el.attr('data-target'));
      _this67._setup();

      _this67._calculatePositioning();
      _this67._setupEventHandlers();
      return _this67;
    }

    _createClass(TapTarget, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.TapTarget = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);
        this._handleTargetClickBound = this._handleTargetClick.bind(this);
        this._handleOriginClickBound = this._handleOriginClick.bind(this);

        this.el.addEventListener('click', this._handleTargetClickBound);
        this.originEl.addEventListener('click', this._handleOriginClickBound);

        // Resize
        var throttledResize = M.throttle(this._handleResize, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);

        window.addEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleTargetClickBound);
        this.originEl.removeEventListener('click', this._handleOriginClickBound);
        window.removeEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Handle Target Click
       * @param {Event} e
       */

    }, {
      key: "_handleTargetClick",
      value: function _handleTargetClick(e) {
        this.open();
      }

      /**
       * Handle Origin Click
       * @param {Event} e
       */

    }, {
      key: "_handleOriginClick",
      value: function _handleOriginClick(e) {
        this.close();
      }

      /**
       * Handle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleResize",
      value: function _handleResize(e) {
        this._calculatePositioning();
      }

      /**
       * Handle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        if (!$(e.target).closest('.tap-target-wrapper').length) {
          this.close();
          e.preventDefault();
          e.stopPropagation();
        }
      }

      /**
       * Setup Tap Target
       */

    }, {
      key: "_setup",
      value: function _setup() {
        // Creating tap target
        this.wrapper = this.$el.parent()[0];
        this.waveEl = $(this.wrapper).find('.tap-target-wave')[0];
        this.originEl = $(this.wrapper).find('.tap-target-origin')[0];
        this.contentEl = this.$el.find('.tap-target-content')[0];

        // Creating wrapper
        if (!$(this.wrapper).hasClass('.tap-target-wrapper')) {
          this.wrapper = document.createElement('div');
          this.wrapper.classList.add('tap-target-wrapper');
          this.$el.before($(this.wrapper));
          this.wrapper.append(this.el);
        }

        // Creating content
        if (!this.contentEl) {
          this.contentEl = document.createElement('div');
          this.contentEl.classList.add('tap-target-content');
          this.$el.append(this.contentEl);
        }

        // Creating foreground wave
        if (!this.waveEl) {
          this.waveEl = document.createElement('div');
          this.waveEl.classList.add('tap-target-wave');

          // Creating origin
          if (!this.originEl) {
            this.originEl = this.$origin.clone(true, true);
            this.originEl.addClass('tap-target-origin');
            this.originEl.removeAttr('id');
            this.originEl.removeAttr('style');
            this.originEl = this.originEl[0];
            this.waveEl.append(this.originEl);
          }

          this.wrapper.append(this.waveEl);
        }
      }

      /**
       * Calculate positioning
       */

    }, {
      key: "_calculatePositioning",
      value: function _calculatePositioning() {
        // Element or parent is fixed position?
        var isFixed = this.$origin.css('position') === 'fixed';
        if (!isFixed) {
          var parents = this.$origin.parents();
          for (var i = 0; i < parents.length; i++) {
            isFixed = $(parents[i]).css('position') == 'fixed';
            if (isFixed) {
              break;
            }
          }
        }

        // Calculating origin
        var originWidth = this.$origin.outerWidth();
        var originHeight = this.$origin.outerHeight();
        var originTop = isFixed ? this.$origin.offset().top - M.getDocumentScrollTop() : this.$origin.offset().top;
        var originLeft = isFixed ? this.$origin.offset().left - M.getDocumentScrollLeft() : this.$origin.offset().left;

        // Calculating screen
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var centerX = windowWidth / 2;
        var centerY = windowHeight / 2;
        var isLeft = originLeft <= centerX;
        var isRight = originLeft > centerX;
        var isTop = originTop <= centerY;
        var isBottom = originTop > centerY;
        var isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;

        // Calculating tap target
        var tapTargetWidth = this.$el.outerWidth();
        var tapTargetHeight = this.$el.outerHeight();
        var tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;
        var tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;
        var tapTargetPosition = isFixed ? 'fixed' : 'absolute';

        // Calculating content
        var tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;
        var tapTargetTextHeight = tapTargetHeight / 2;
        var tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;
        var tapTargetTextBottom = 0;
        var tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;
        var tapTargetTextRight = 0;
        var tapTargetTextPadding = originWidth;
        var tapTargetTextAlign = isBottom ? 'bottom' : 'top';

        // Calculating wave
        var tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;
        var tapTargetWaveHeight = tapTargetWaveWidth;
        var tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;
        var tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;

        // Setting tap target
        var tapTargetWrapperCssObj = {};
        tapTargetWrapperCssObj.top = isTop ? tapTargetTop + 'px' : '';
        tapTargetWrapperCssObj.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth + 'px' : '';
        tapTargetWrapperCssObj.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';
        tapTargetWrapperCssObj.left = isLeft ? tapTargetLeft + 'px' : '';
        tapTargetWrapperCssObj.position = tapTargetPosition;
        $(this.wrapper).css(tapTargetWrapperCssObj);

        // Setting content
        $(this.contentEl).css({
          width: tapTargetTextWidth + 'px',
          height: tapTargetTextHeight + 'px',
          top: tapTargetTextTop + 'px',
          right: tapTargetTextRight + 'px',
          bottom: tapTargetTextBottom + 'px',
          left: tapTargetTextLeft + 'px',
          padding: tapTargetTextPadding + 'px',
          verticalAlign: tapTargetTextAlign
        });

        // Setting wave
        $(this.waveEl).css({
          top: tapTargetWaveTop + 'px',
          left: tapTargetWaveLeft + 'px',
          width: tapTargetWaveWidth + 'px',
          height: tapTargetWaveHeight + 'px'
        });
      }

      /**
       * Open TapTarget
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        // onOpen callback
        if (typeof this.options.onOpen === 'function') {
          this.options.onOpen.call(this, this.$origin[0]);
        }

        this.isOpen = true;
        this.wrapper.classList.add('open');

        document.body.addEventListener('click', this._handleDocumentClickBound, true);
        document.body.addEventListener('touchend', this._handleDocumentClickBound);
      }

      /**
       * Close Tap Target
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        // onClose callback
        if (typeof this.options.onClose === 'function') {
          this.options.onClose.call(this, this.$origin[0]);
        }

        this.isOpen = false;
        this.wrapper.classList.remove('open');

        document.body.removeEventListener('click', this._handleDocumentClickBound, true);
        document.body.removeEventListener('touchend', this._handleDocumentClickBound);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(TapTarget.__proto__ || Object.getPrototypeOf(TapTarget), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_TapTarget;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return TapTarget;
  }(Component);

  M.TapTarget = TapTarget;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(TapTarget, 'tapTarget', 'M_TapTarget');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    classes: '',
    dropdownOptions: {}
  };

  /**
   * @class
   *
   */

  var FormSelect = function (_Component20) {
    _inherits(FormSelect, _Component20);

    /**
     * Construct FormSelect instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function FormSelect(el, options) {
      _classCallCheck(this, FormSelect);

      // Don't init if browser default version
      var _this68 = _possibleConstructorReturn(this, (FormSelect.__proto__ || Object.getPrototypeOf(FormSelect)).call(this, FormSelect, el, options));

      if (_this68.$el.hasClass('browser-default')) {
        return _possibleConstructorReturn(_this68);
      }

      _this68.el.M_FormSelect = _this68;

      /**
       * Options for the select
       * @member FormSelect#options
       */
      _this68.options = $.extend({}, FormSelect.defaults, options);

      _this68.isMultiple = _this68.$el.prop('multiple');

      // Setup
      _this68.el.tabIndex = -1;
      _this68._keysSelected = {};
      _this68._valueDict = {}; // Maps key to original and generated option element.
      _this68._setupDropdown();

      _this68._setupEventHandlers();
      return _this68;
    }

    _createClass(FormSelect, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeDropdown();
        this.el.M_FormSelect = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this69 = this;

        this._handleSelectChangeBound = this._handleSelectChange.bind(this);
        this._handleOptionClickBound = this._handleOptionClick.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);

        $(this.dropdownOptions).find('li:not(.optgroup)').each(function (el) {
          el.addEventListener('click', _this69._handleOptionClickBound);
        });
        this.el.addEventListener('change', this._handleSelectChangeBound);
        this.input.addEventListener('click', this._handleInputClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this70 = this;

        $(this.dropdownOptions).find('li:not(.optgroup)').each(function (el) {
          el.removeEventListener('click', _this70._handleOptionClickBound);
        });
        this.el.removeEventListener('change', this._handleSelectChangeBound);
        this.input.removeEventListener('click', this._handleInputClickBound);
      }

      /**
       * Handle Select Change
       * @param {Event} e
       */

    }, {
      key: "_handleSelectChange",
      value: function _handleSelectChange(e) {
        this._setValueToInput();
      }

      /**
       * Handle Option Click
       * @param {Event} e
       */

    }, {
      key: "_handleOptionClick",
      value: function _handleOptionClick(e) {
        e.preventDefault();
        var option = $(e.target).closest('li')[0];
        var key = option.id;
        if (!$(option).hasClass('disabled') && !$(option).hasClass('optgroup') && key.length) {
          var selected = true;

          if (this.isMultiple) {
            // Deselect placeholder option if still selected.
            var placeholderOption = $(this.dropdownOptions).find('li.disabled.selected');
            if (placeholderOption.length) {
              placeholderOption.removeClass('selected');
              placeholderOption.find('input[type="checkbox"]').prop('checked', false);
              this._toggleEntryFromArray(placeholderOption[0].id);
            }
            selected = this._toggleEntryFromArray(key);
          } else {
            $(this.dropdownOptions).find('li').removeClass('selected');
            $(option).toggleClass('selected', selected);
          }

          // Set selected on original select option
          // Only trigger if selected state changed
          var prevSelected = $(this._valueDict[key].el).prop('selected');
          if (prevSelected !== selected) {
            $(this._valueDict[key].el).prop('selected', selected);
            this.$el.trigger('change');
          }
        }

        e.stopPropagation();
      }

      /**
       * Handle Input Click
       */

    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        if (this.dropdown && this.dropdown.isOpen) {
          this._setValueToInput();
          this._setSelectedStates();
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupDropdown",
      value: function _setupDropdown() {
        var _this71 = this;

        this.wrapper = document.createElement('div');
        $(this.wrapper).addClass('select-wrapper ' + this.options.classes);
        this.$el.before($(this.wrapper));
        this.wrapper.appendChild(this.el);

        if (this.el.disabled) {
          this.wrapper.classList.add('disabled');
        }

        // Create dropdown
        this.$selectOptions = this.$el.children('option, optgroup');
        this.dropdownOptions = document.createElement('ul');
        this.dropdownOptions.id = "select-options-" + M.guid();
        $(this.dropdownOptions).addClass('dropdown-content select-dropdown ' + (this.isMultiple ? 'multiple-select-dropdown' : ''));

        // Create dropdown structure.
        if (this.$selectOptions.length) {
          this.$selectOptions.each(function (el) {
            if ($(el).is('option')) {
              // Direct descendant option.
              var optionEl = void 0;
              if (_this71.isMultiple) {
                optionEl = _this71._appendOptionWithIcon(_this71.$el, el, 'multiple');
              } else {
                optionEl = _this71._appendOptionWithIcon(_this71.$el, el);
              }

              _this71._addOptionToValueDict(el, optionEl);
            } else if ($(el).is('optgroup')) {
              // Optgroup.
              var selectOptions = $(el).children('option');
              $(_this71.dropdownOptions).append($('<li class="optgroup"><span>' + el.getAttribute('label') + '</span></li>')[0]);

              selectOptions.each(function (el) {
                var optionEl = _this71._appendOptionWithIcon(_this71.$el, el, 'optgroup-option');
                _this71._addOptionToValueDict(el, optionEl);
              });
            }
          });
        }

        this.$el.after(this.dropdownOptions);

        // Add input dropdown
        this.input = document.createElement('input');
        $(this.input).addClass('select-dropdown dropdown-trigger');
        this.input.setAttribute('type', 'text');
        this.input.setAttribute('readonly', 'true');
        this.input.setAttribute('data-target', this.dropdownOptions.id);
        if (this.el.disabled) {
          $(this.input).prop('disabled', 'true');
        }

        this.$el.before(this.input);
        this._setValueToInput();

        // Add caret
        var dropdownIcon = $('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
        this.$el.before(dropdownIcon[0]);

        // Initialize dropdown
        if (!this.el.disabled) {
          var dropdownOptions = $.extend({}, this.options.dropdownOptions);

          // Add callback for centering selected option when dropdown content is scrollable
          dropdownOptions.onOpenEnd = function (el) {
            var selectedOption = $(_this71.dropdownOptions).find('.selected').first();

            if (selectedOption.length) {
              // Focus selected option in dropdown
              M.keyDown = true;
              _this71.dropdown.focusedIndex = selectedOption.index();
              _this71.dropdown._focusFocusedItem();
              M.keyDown = false;

              // Handle scrolling to selected option
              if (_this71.dropdown.isScrollable) {
                var scrollOffset = selectedOption[0].getBoundingClientRect().top - _this71.dropdownOptions.getBoundingClientRect().top; // scroll to selected option
                scrollOffset -= _this71.dropdownOptions.clientHeight / 2; // center in dropdown
                _this71.dropdownOptions.scrollTop = scrollOffset;
              }
            }
          };

          if (this.isMultiple) {
            dropdownOptions.closeOnClick = false;
          }
          this.dropdown = M.Dropdown.init(this.input, dropdownOptions);
        }

        // Add initial selections
        this._setSelectedStates();
      }

      /**
       * Add option to value dict
       * @param {Element} el  original option element
       * @param {Element} optionEl  generated option element
       */

    }, {
      key: "_addOptionToValueDict",
      value: function _addOptionToValueDict(el, optionEl) {
        var index = Object.keys(this._valueDict).length;
        var key = this.dropdownOptions.id + index;
        var obj = {};
        optionEl.id = key;

        obj.el = el;
        obj.optionEl = optionEl;
        this._valueDict[key] = obj;
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeDropdown",
      value: function _removeDropdown() {
        $(this.wrapper).find('.caret').remove();
        $(this.input).remove();
        $(this.dropdownOptions).remove();
        $(this.wrapper).before(this.$el);
        $(this.wrapper).remove();
      }

      /**
       * Setup dropdown
       * @param {Element} select  select element
       * @param {Element} option  option element from select
       * @param {String} type
       * @return {Element}  option element added
       */

    }, {
      key: "_appendOptionWithIcon",
      value: function _appendOptionWithIcon(select, option, type) {
        // Add disabled attr if disabled
        var disabledClass = option.disabled ? 'disabled ' : '';
        var optgroupClass = type === 'optgroup-option' ? 'optgroup-option ' : '';
        var multipleCheckbox = this.isMultiple ? "<label><input type=\"checkbox\"" + disabledClass + "\"/><span>" + option.innerHTML + "</span></label>" : option.innerHTML;
        var liEl = $('<li></li>');
        var spanEl = $('<span></span>');
        spanEl.html(multipleCheckbox);
        liEl.addClass(disabledClass + " " + optgroupClass);
        liEl.append(spanEl);

        // add icons
        var iconUrl = option.getAttribute('data-icon');
        if (!!iconUrl) {
          var imgEl = $("<img alt=\"\" src=\"" + iconUrl + "\">");
          liEl.prepend(imgEl);
        }

        // Check for multiple type.
        $(this.dropdownOptions).append(liEl[0]);
        return liEl[0];
      }

      /**
       * Toggle entry from option
       * @param {String} key  Option key
       * @return {Boolean}  if entry was added or removed
       */

    }, {
      key: "_toggleEntryFromArray",
      value: function _toggleEntryFromArray(key) {
        var notAdded = !this._keysSelected.hasOwnProperty(key);
        var $optionLi = $(this._valueDict[key].optionEl);

        if (notAdded) {
          this._keysSelected[key] = true;
        } else {
          delete this._keysSelected[key];
        }

        $optionLi.toggleClass('selected', notAdded);

        // Set checkbox checked value
        $optionLi.find('input[type="checkbox"]').prop('checked', notAdded);

        // use notAdded instead of true (to detect if the option is selected or not)
        $optionLi.prop('selected', notAdded);

        return notAdded;
      }

      /**
       * Set text value to input
       */

    }, {
      key: "_setValueToInput",
      value: function _setValueToInput() {
        var values = [];
        var options = this.$el.find('option');

        options.each(function (el) {
          if ($(el).prop('selected')) {
            var text = $(el).text();
            values.push(text);
          }
        });

        if (!values.length) {
          var firstDisabled = this.$el.find('option:disabled').eq(0);
          if (firstDisabled.length && firstDisabled[0].value === '') {
            values.push(firstDisabled.text());
          }
        }

        this.input.value = values.join(', ');
      }

      /**
       * Set selected state of dropdown to match actual select element
       */

    }, {
      key: "_setSelectedStates",
      value: function _setSelectedStates() {
        this._keysSelected = {};

        for (var key in this._valueDict) {
          var option = this._valueDict[key];
          var optionIsSelected = $(option.el).prop('selected');
          $(option.optionEl).find('input[type="checkbox"]').prop('checked', optionIsSelected);
          if (optionIsSelected) {
            this._activateOption($(this.dropdownOptions), $(option.optionEl));
            this._keysSelected[key] = true;
          } else {
            $(option.optionEl).removeClass('selected');
          }
        }
      }

      /**
       * Make option as selected and scroll to selected position
       * @param {jQuery} collection  Select options jQuery element
       * @param {Element} newOption  element of the new option
       */

    }, {
      key: "_activateOption",
      value: function _activateOption(collection, newOption) {
        if (newOption) {
          if (!this.isMultiple) {
            collection.find('li.selected').removeClass('selected');
          }
          var option = $(newOption);
          option.addClass('selected');
        }
      }

      /**
       * Get Selected Values
       * @return {Array}  Array of selected values
       */

    }, {
      key: "getSelectedValues",
      value: function getSelectedValues() {
        var selectedValues = [];
        for (var key in this._keysSelected) {
          selectedValues.push(this._valueDict[key].el.value);
        }
        return selectedValues;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(FormSelect.__proto__ || Object.getPrototypeOf(FormSelect), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_FormSelect;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return FormSelect;
  }(Component);

  M.FormSelect = FormSelect;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(FormSelect, 'formSelect', 'M_FormSelect');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {};

  /**
   * @class
   *
   */

  var Range = function (_Component21) {
    _inherits(Range, _Component21);

    /**
     * Construct Range instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Range(el, options) {
      _classCallCheck(this, Range);

      var _this72 = _possibleConstructorReturn(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, Range, el, options));

      _this72.el.M_Range = _this72;

      /**
       * Options for the range
       * @member Range#options
       */
      _this72.options = $.extend({}, Range.defaults, options);

      _this72._mousedown = false;

      // Setup
      _this72._setupThumb();

      _this72._setupEventHandlers();
      return _this72;
    }

    _createClass(Range, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeThumb();
        this.el.M_Range = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleRangeChangeBound = this._handleRangeChange.bind(this);
        this._handleRangeMousedownTouchstartBound = this._handleRangeMousedownTouchstart.bind(this);
        this._handleRangeInputMousemoveTouchmoveBound = this._handleRangeInputMousemoveTouchmove.bind(this);
        this._handleRangeMouseupTouchendBound = this._handleRangeMouseupTouchend.bind(this);
        this._handleRangeBlurMouseoutTouchleaveBound = this._handleRangeBlurMouseoutTouchleave.bind(this);

        this.el.addEventListener('change', this._handleRangeChangeBound);

        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstartBound);
        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstartBound);

        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);

        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchendBound);
        this.el.addEventListener('touchend', this._handleRangeMouseupTouchendBound);

        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('change', this._handleRangeChangeBound);

        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstartBound);
        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstartBound);

        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);

        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchendBound);
        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchendBound);

        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);
      }

      /**
       * Handle Range Change
       * @param {Event} e
       */

    }, {
      key: "_handleRangeChange",
      value: function _handleRangeChange() {
        $(this.value).html(this.$el.val());

        if (!$(this.thumb).hasClass('active')) {
          this._showRangeBubble();
        }

        var offsetLeft = this._calcRangeOffset();
        $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
      }

      /**
       * Handle Range Mousedown and Touchstart
       * @param {Event} e
       */

    }, {
      key: "_handleRangeMousedownTouchstart",
      value: function _handleRangeMousedownTouchstart(e) {
        // Set indicator value
        $(this.value).html(this.$el.val());

        this._mousedown = true;
        this.$el.addClass('active');

        if (!$(this.thumb).hasClass('active')) {
          this._showRangeBubble();
        }

        if (e.type !== 'input') {
          var offsetLeft = this._calcRangeOffset();
          $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
        }
      }

      /**
       * Handle Range Input, Mousemove and Touchmove
       */

    }, {
      key: "_handleRangeInputMousemoveTouchmove",
      value: function _handleRangeInputMousemoveTouchmove() {
        if (this._mousedown) {
          if (!$(this.thumb).hasClass('active')) {
            this._showRangeBubble();
          }

          var offsetLeft = this._calcRangeOffset();
          $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
          $(this.value).html(this.$el.val());
        }
      }

      /**
       * Handle Range Mouseup and Touchend
       */

    }, {
      key: "_handleRangeMouseupTouchend",
      value: function _handleRangeMouseupTouchend() {
        this._mousedown = false;
        this.$el.removeClass('active');
      }

      /**
       * Handle Range Blur, Mouseout and Touchleave
       */

    }, {
      key: "_handleRangeBlurMouseoutTouchleave",
      value: function _handleRangeBlurMouseoutTouchleave() {
        if (!this._mousedown) {
          var paddingLeft = parseInt(this.$el.css('padding-left'));
          var marginLeft = 7 + paddingLeft + 'px';

          if ($(this.thumb).hasClass('active')) {
            anim.remove(this.thumb);
            anim({
              targets: this.thumb,
              height: 0,
              width: 0,
              top: 10,
              easing: 'easeOutQuad',
              marginLeft: marginLeft,
              duration: 100
            });
          }
          $(this.thumb).removeClass('active');
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupThumb",
      value: function _setupThumb() {
        this.thumb = document.createElement('span');
        this.value = document.createElement('span');
        $(this.thumb).addClass('thumb');
        $(this.value).addClass('value');
        $(this.thumb).append(this.value);
        this.$el.after(this.thumb);
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeThumb",
      value: function _removeThumb() {
        $(this.thumb).remove();
      }

      /**
       * morph thumb into bubble
       */

    }, {
      key: "_showRangeBubble",
      value: function _showRangeBubble() {
        var paddingLeft = parseInt($(this.thumb).parent().css('padding-left'));
        var marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?
        anim.remove(this.thumb);
        anim({
          targets: this.thumb,
          height: 30,
          width: 30,
          top: -30,
          marginLeft: marginLeft,
          duration: 300,
          easing: 'easeOutQuint'
        });
      }

      /**
       * Calculate the offset of the thumb
       * @return {Number}  offset in pixels
       */

    }, {
      key: "_calcRangeOffset",
      value: function _calcRangeOffset() {
        var width = this.$el.width() - 15;
        var max = parseFloat(this.$el.attr('max')) || 100; // Range default max
        var min = parseFloat(this.$el.attr('min')) || 0; // Range default min
        var percent = (parseFloat(this.$el.val()) - min) / (max - min);
        return percent * width;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Range.__proto__ || Object.getPrototypeOf(Range), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Range;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Range;
  }(Component);

  M.Range = Range;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Range, 'range', 'M_Range');
  }

  Range.init($('input[type=range]'));
})(cash, M.anime);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2), __webpack_require__(2), __webpack_require__(6)))

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RTCClient; });
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }



console.log('agora sdk version: ' + agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.VERSION + ' compatible: ' + agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.checkSystemRequirements());

var RTCClient = /*#__PURE__*/function () {
  function RTCClient() {
    _classCallCheck(this, RTCClient);

    this._client = null;
    this._joined = false;
    this._published = false;
    this._localStream = null;
    this._remoteStreams = [];
    this._params = {};
    this._showProfile = false;
  }

  _createClass(RTCClient, [{
    key: "handleEvents",
    value: function handleEvents() {
      var _this = this;

      this._client.on('error', function (err) {
        console.log(err);
      }); // Occurs when the peer user leaves the channel; for example, the peer user calls Client.leave.


      this._client.on('peer-leave', function (evt) {
        var id = evt.uid;

        var streams = _this._remoteStreams.filter(function (e) {
          return id !== e.getId();
        });

        var peerStream = _this._remoteStreams.find(function (e) {
          return id === e.getId();
        });

        peerStream && peerStream.stop();
        _this._remoteStreams = streams;

        if (id !== _this._params.uid) {
          Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        }

        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('peer leave');
        console.log('peer-leave', id);
      }); // Occurs when the local stream is _published.


      this._client.on('stream-published', function () {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('stream published success');
        console.log('stream-published');
      }); // Occurs when the remote stream is added.


      this._client.on('stream-added', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-added uid: ' + id);

        if (id !== _this._params.uid) {// this._client.subscribe(remoteStream, (err) => {
          //   console.log('stream subscribe failed', err)
          // })
        }

        console.log('stream-added remote-uid: ', id);
      }); // Occurs when a user subscribes to a remote stream.


      this._client.on('stream-subscribed', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();

        _this._remoteStreams.push(remoteStream);

        Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* addView */ "b"])(id, _this._showProfile);
        remoteStream.play('remote_video_' + id, {
          fit: 'cover'
        });
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-subscribed remote-uid: ' + id);
        console.log('stream-subscribed remote-uid: ', id);
      }); // Occurs when the remote stream is removed; for example, a peer user calls Client.unpublish.


      this._client.on('stream-removed', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-removed uid: ' + id);
        remoteStream.stop();
        _this._remoteStreams = _this._remoteStreams.filter(function (stream) {
          return stream.getId() !== id;
        });
        Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        console.log('stream-removed remote-uid: ', id);
      });

      this._client.on('onTokenPrivilegeWillExpire', function () {
        // After requesting a new token
        // this._client.renewToken(token);
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('onTokenPrivilegeWillExpire');
        console.log('onTokenPrivilegeWillExpire');
      });

      this._client.on('onTokenPrivilegeDidExpire', function () {
        // After requesting a new token
        // client.renewToken(token);
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('onTokenPrivilegeDidExpire');
        console.log('onTokenPrivilegeDidExpire');
      });
    }
  }, {
    key: "join",
    value: function join(data) {
      var _this2 = this;

      return new Promise(function (resolve) {
        if (_this2._joined) {
          _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your already joined');
          return;
        }
        /**
         * A class defining the properties of the config parameter in the createClient method.
         * Note:
         *    Ensure that you do not leave mode and codec as empty.
         *    Ensure that you set these properties before calling Client.join.
         *  You could find more detail here. https://docs.agora.io/en/Video/API%20Reference/web/interfaces/agorartc.clientconfig.html
        **/


        _this2._client = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.createClient({
          mode: data.mode,
          codec: data.codec
        });
        _this2._params = data; // handle AgoraRTC client event

        _this2.handleEvents(); // init client


        _this2._client.init(data.appID, function () {
          console.log('init success');
          /**
           * Joins an AgoraRTC Channel
           * This method joins an AgoraRTC channel.
           * Parameters
           * tokenOrKey: string | null
           *    Low security requirements: Pass null as the parameter value.
           *    High security requirements: Pass the string of the Token or Channel Key as the parameter value. See Use Security Keys for details.
           *  channel: string
           *    A string that provides a unique channel name for the Agora session. The length must be within 64 bytes. Supported character scopes:
           *    26 lowercase English letters a-z
           *    26 uppercase English letters A-Z
           *    10 numbers 0-9
           *    Space
           *    "!", "#", "$", "%", "&", "(", ")", "+", "-", ":", ";", "<", "=", ".", ">", "?", "@", "[", "]", "^", "_", "{", "}", "|", "~", ","
           *  uid: number | null
           *    The user ID, an integer. Ensure this ID is unique. If you set the uid to null, the server assigns one and returns it in the onSuccess callback.
           *   Note:
           *      All users in the same channel should have the same type (number) of uid.
           *      If you use a number as the user ID, it should be a 32-bit unsigned integer with a value ranging from 0 to (232-1).
          **/

          _this2._client.join(data.token ? data.token : null, data.channel, data.uid ? +data.uid : null, function (uid) {
            _this2._params.uid = uid;
            _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('join channel: ' + data.channel + ' success, uid: ' + uid);
            console.log('join channel: ' + data.channel + ' success, uid: ' + uid);
            _this2._joined = true; // start stream interval stats
            // if you don't need show stream profile you can comment this

            if (!_this2._interval) {
              _this2._interval = setInterval(function () {
                _this2._updateVideoInfo();
              }, 0);
            } // create local stream
            //   this._localStream = AgoraRTC.createStream({
            //     streamID: this._params.uid,
            //     audio: false,
            //     video: true,
            //     screen: false,
            //     microphoneId: data.microphoneId,
            //     cameraId: data.cameraId
            //   })


            _this2._localStream.on('player-status-change', function (evt) {
              console.log('player status change', evt);
            });

            if (data.cameraResolution && data.cameraResolution != 'default') {
              // set local video resolution
              _this2._localStream.setVideoProfile(data.cameraResolution);
            } // init local stream


            _this2._localStream.init(function () {
              console.log('init local stream success'); // play stream with html element id "local_stream"

              _this2._localStream.play('local_stream', {
                fit: 'cover'
              }); // run callback


              resolve();
            }, function (err) {
              _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('stream init failed, please open console see more detail');
              console.error(err);
            });
          }, function (err) {
            _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('client join failed, please open console see more detail');
            console.error(err);
          });
        }, function (err) {
          _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('client init failed, please open console see more detail');
          console.error(err);
        });
      });
    }
  }, {
    key: "publish",
    value: function publish() {
      var _this3 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First');
        return;
      }

      if (this._published) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your already published');
        return;
      }

      var oldState = this._published; // publish localStream

      this._client.publish(this._localStream, function (err) {
        _this3._published = oldState;
        console.log('publish failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('publish failed');
        console.error(err);
      });

      _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('publish');
      this._published = true;
    }
  }, {
    key: "unpublish",
    value: function unpublish() {
      var _this4 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First');
        return;
      }

      if (!this._published) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your didn\'t publish');
        return;
      }

      var oldState = this._published;

      this._client.unpublish(this._localStream, function (err) {
        _this4._published = oldState;
        console.log('unpublish failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('unpublish failed');
        console.error(err);
      });

      _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('unpublish');
      this._published = false;
    }
  }, {
    key: "leave",
    value: function leave() {
      var _this5 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First!');
        return;
      }

      if (!this._joined) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('You are not in channel');
        return;
      } // leave channel


      this._client.leave(function () {
        // close stream
        _this5._localStream.close();

        $('#local_video_info').addClass('hide'); // stop stream

        _this5._localStream.stop();

        for (var i = 0; i < _this5._remoteStreams.length; i++) {
          var stream = _this5._remoteStreams.shift();

          var id = stream.getId();
          stream.stop();
          Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        }

        _this5._localStream = null;
        _this5._remoteStreams = [];
        _this5._client = null;
        console.log('client leaves channel success');
        _this5._published = false;
        _this5._joined = false;
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('leave success');
      }, function (err) {
        console.log('channel leave failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('leave success');
        console.error(err);
      });
    }
  }, {
    key: "_getLostRate",
    value: function _getLostRate(lostPackets, arrivedPackets) {
      var lost = lostPackets ? +lostPackets : 0;
      var arrived = arrivedPackets ? +arrivedPackets : 0;
      if (arrived == 0) return 0;
      var result = (lost / (lost + arrived)).toFixed(2) * 100;
      return result;
    }
  }, {
    key: "_updateVideoInfo",
    value: function _updateVideoInfo() {
      var _this6 = this;

      this._localStream && this._localStream.getStats(function (stats) {
        var localStreamProfile = [['Uid: ', _this6._localStream && _this6._localStream.getId()].join(''), ['SDN access delay: ', stats.accessDelay, 'ms'].join(''), ['Video send: ', stats.videoSendFrameRate, 'fps ', stats.videoSendResolutionWidth + 'x' + stats.videoSendResolutionHeight].join('')].join('<br/>');
        $('#local_video_info')[0].innerHTML = localStreamProfile;
      });

      if (this._remoteStreams.length > 0) {
        var _iterator = _createForOfIteratorHelper(this._remoteStreams),
            _step;

        try {
          var _loop = function _loop() {
            var remoteStream = _step.value;
            remoteStream.getStats(function (stats) {
              var remoteStreamProfile = [['Uid: ', remoteStream.getId()].join(''), ['SDN access delay: ', stats.accessDelay, 'ms'].join(''), ['End to end delay: ', stats.endToEndDelay, 'ms'].join(''), ['Video recv: ', stats.videoReceiveFrameRate, 'fps ', stats.videoReceiveResolutionWidth + 'x' + stats.videoReceiveResolutionHeight].join('')].join('<br/>');

              if ($('#remote_video_info_' + remoteStream.getId())[0]) {
                $('#remote_video_info_' + remoteStream.getId())[0].innerHTML = remoteStreamProfile;
              }
            });
          };

          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            _loop();
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
    }
  }, {
    key: "setNetworkQualityAndStreamStats",
    value: function setNetworkQualityAndStreamStats(enable) {
      this._showProfile = enable;
      this._showProfile ? $('.video-profile').removeClass('hide') : $('.video-profile').addClass('hide');
    }
  }]);

  return RTCClient;
}();


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _rtc_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);
/* harmony import */ var _assets_style_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var _assets_style_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_style_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(materialize_css__WEBPACK_IMPORTED_MODULE_4__);




 // import {setFormData, parseFromSearch} from './searchParam';

$(function () {
  Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* requestPermission */ "e"])(function (hasPermission) {
    if (!hasPermission) {
      _common__WEBPACK_IMPORTED_MODULE_2__[/* Toast */ "a"].error('no camera or microphone permission!');
    }

    Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* getDevices */ "c"])(function (devices) {
      devices.audios.forEach(function (audio) {
        $('<option/>', {
          value: audio.value,
          text: audio.name
        }).appendTo('#microphoneId');
      });
      devices.videos.forEach(function (video) {
        $('<option/>', {
          value: video.value,
          text: video.name
        }).appendTo('#cameraId');
      });
      _common__WEBPACK_IMPORTED_MODULE_2__[/* resolutions */ "f"].forEach(function (resolution) {
        $('<option/>', {
          value: resolution.value,
          text: resolution.name
        }).appendTo('#cameraResolution');
      });
      materialize_css__WEBPACK_IMPORTED_MODULE_4__["AutoInit"]();
    });
  });
  var fields = ['appID', 'channel'];
  var rtc = new _rtc_client__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]();
  $('.autoplay-fallback').on('click', function (e) {
    e.preventDefault();
    var id = e.target.getAttribute('id').split('video_autoplay_')[1];
    console.log('autoplay fallback');

    if (id === 'local') {
      rtc._localStream.resume().then(function () {
        _common__WEBPACK_IMPORTED_MODULE_2__[/* Toast */ "a"].notice('local resume');
        $(e.target).addClass('hide');
      })["catch"](function (err) {
        _common__WEBPACK_IMPORTED_MODULE_2__[/* Toast */ "a"].error('resume failed, please open console see more details');
        console.error(err);
      });

      return;
    }

    var remoteStream = rtc._remoteStreams.find(function (item) {
      return "".concat(item.getId()) == id;
    });

    if (remoteStream) {
      remoteStream.resume().then(function () {
        _common__WEBPACK_IMPORTED_MODULE_2__[/* Toast */ "a"].notice('remote resume');
        $(e.target).addClass('hide');
      })["catch"](function (err) {
        _common__WEBPACK_IMPORTED_MODULE_2__[/* Toast */ "a"].error('resume failed, please open console see more details');
        console.error(err);
      });
    }
  });
  $('#show_profile').on('change', function (e) {
    e.preventDefault();
    rtc.setNetworkQualityAndStreamStats(this.checked);
  });
  $('#join').on('click', function (e) {
    e.preventDefault();
    console.log('join');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* serializeFormData */ "g"])();
    console.log(params);

    if (Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* validator */ "h"])(params, fields)) {
      rtc._localStream = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.createStream({
        streamID: params.uid,
        audio: false,
        video: true,
        screen: false,
        cameraId: params.cameraId
      });
      rtc.join(params).then(function () {
        rtc.publish();
      });
    }
  });
  $('#joinAudio').on('click', function (e) {
    e.preventDefault();
    console.log('joinAudio');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* validator */ "h"])(params, fields)) {
      rtc._localStream = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_1___default.a.createStream({
        streamID: params.uid,
        audio: true,
        video: true,
        screen: false,
        microphoneId: params.microphoneId,
        cameraId: params.cameraId
      });
      rtc.join(params).then(function () {
        rtc.publish();
      });
    }
  });
  $('#publish').on('click', function (e) {
    e.preventDefault();
    console.log('startLiveStreaming');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* validator */ "h"])(params, fields)) {
      rtc.publish();
    }
  });
  $('#unpublish').on('click', function (e) {
    e.preventDefault();
    console.log('stopLiveStreaming');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* validator */ "h"])(params, fields)) {
      rtc.unpublish();
    }
  });
  $('#leave').on('click', function (e) {
    e.preventDefault();
    console.log('leave');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_2__[/* validator */ "h"])(params, fields)) {
      rtc.leave();
    }
  });
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 6 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXNkay9BZ29yYVJUQ1NESy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWxpemUtY3NzL2Rpc3QvanMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3J0Yy1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zdHlsZS5jc3M/ZWY1MCJdLCJuYW1lcyI6WyJyZXNvbHV0aW9ucyIsIm5hbWUiLCJ2YWx1ZSIsIlRvYXN0aWZ5Iiwib3B0aW9ucyIsIk0iLCJodG1sIiwidGV4dCIsImNsYXNzZXMiLCJUb2FzdCIsImluZm8iLCJtc2ciLCJub3RpY2UiLCJlcnJvciIsInZhbGlkYXRvciIsImZvcm1EYXRhIiwiZmllbGRzIiwia2V5cyIsIk9iamVjdCIsImtleSIsImluZGV4T2YiLCJzZXJpYWxpemVGb3JtRGF0YSIsIiQiLCJzZXJpYWxpemVBcnJheSIsIm9iaiIsIml0ZW0iLCJ2YWwiLCJ1aWQiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc05hTiIsImFkZFZpZXciLCJpZCIsInNob3ciLCJhcHBlbmRUbyIsInJlbW92ZVZpZXciLCJyZW1vdmUiLCJyZXF1ZXN0UGVybWlzc2lvbiIsIm5leHQiLCJ0ZW1wQXVkaW9WaWRlb1N0cmVhbSIsIkFnb3JhUlRDIiwiY3JlYXRlU3RyZWFtIiwiYXVkaW8iLCJ2aWRlbyIsImNhbGxiYWNrIiwiaGFzUGVybWlzc2lvbiIsImNsb3NlIiwiaW5pdCIsImdldERldmljZXMiLCJpdGVtcyIsImZpbHRlciIsImtpbmQiLCJtYXAiLCJsYWJlbCIsImRldmljZUlkIiwidmlkZW9zIiwiYXVkaW9zIiwiaSIsImxlbmd0aCIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiVkVSU0lPTiIsImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzIiwiUlRDQ2xpZW50IiwiX2NsaWVudCIsIl9qb2luZWQiLCJfcHVibGlzaGVkIiwiX2xvY2FsU3RyZWFtIiwiX3JlbW90ZVN0cmVhbXMiLCJfcGFyYW1zIiwiX3Nob3dQcm9maWxlIiwib24iLCJlcnIiLCJldnQiLCJzdHJlYW1zIiwiZSIsImdldElkIiwicGVlclN0cmVhbSIsImZpbmQiLCJzdG9wIiwicmVtb3RlU3RyZWFtIiwic3RyZWFtIiwicGxheSIsImZpdCIsImRhdGEiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNyZWF0ZUNsaWVudCIsIm1vZGUiLCJjb2RlYyIsImhhbmRsZUV2ZW50cyIsImFwcElEIiwiam9pbiIsInRva2VuIiwiY2hhbm5lbCIsIl9pbnRlcnZhbCIsInNldEludGVydmFsIiwiX3VwZGF0ZVZpZGVvSW5mbyIsImNhbWVyYVJlc29sdXRpb24iLCJzZXRWaWRlb1Byb2ZpbGUiLCJvbGRTdGF0ZSIsInB1Ymxpc2giLCJ1bnB1Ymxpc2giLCJsZWF2ZSIsImFkZENsYXNzIiwic2hpZnQiLCJsb3N0UGFja2V0cyIsImFycml2ZWRQYWNrZXRzIiwibG9zdCIsImFycml2ZWQiLCJyZXN1bHQiLCJ0b0ZpeGVkIiwiZ2V0U3RhdHMiLCJzdGF0cyIsImxvY2FsU3RyZWFtUHJvZmlsZSIsImFjY2Vzc0RlbGF5IiwidmlkZW9TZW5kRnJhbWVSYXRlIiwidmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoIiwidmlkZW9TZW5kUmVzb2x1dGlvbkhlaWdodCIsImlubmVySFRNTCIsInJlbW90ZVN0cmVhbVByb2ZpbGUiLCJlbmRUb0VuZERlbGF5IiwidmlkZW9SZWNlaXZlRnJhbWVSYXRlIiwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoIiwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbkhlaWdodCIsImVuYWJsZSIsInJlbW92ZUNsYXNzIiwiZGV2aWNlcyIsImZvckVhY2giLCJyZXNvbHV0aW9uIiwicnRjIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsInJlc3VtZSIsInRoZW4iLCJzZXROZXR3b3JrUXVhbGl0eUFuZFN0cmVhbVN0YXRzIiwiY2hlY2tlZCIsInBhcmFtcyIsInN0cmVhbUlEIiwic2NyZWVuIiwiY2FtZXJhSWQiLCJtaWNyb3Bob25lSWQiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEZBO0NBRUE7O0FBRU8sSUFBTUEsV0FBVyxHQUFHLENBQ3pCO0FBQ0VDLE1BQUksRUFBRSxTQURSO0FBRUVDLE9BQUssRUFBRTtBQUZULENBRHlCLEVBS3pCO0FBQ0VELE1BQUksRUFBRSxNQURSO0FBRUVDLE9BQUssRUFBRTtBQUZULENBTHlCLEVB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dUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLGFBQWEsd0JBQXdCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLGNBQWMsd0JBQXdCLGdCQUFnQix1QkFBdUIsVUFBVSxzQkFBc0IsVUFBVSxzQkFBc0IsdUJBQXVCLHVCQUF1QixVQUFVLHlCQUF5QixZQUFZLFVBQVUsT0FBTyx1QkFBdUIsVUFBVSx1QkFBdUIsUUFBUSxzQkFBc0IsUUFBUSxzQkFBc0IsT0FBTyx1QkFBdUIsUUFBUSxzQkFBc0IsWUFBWSxxQkFBcUIsV0FBVyxzQkFBc0IsU0FBUyxzQkFBc0IsY0FBYyx3QkFBd0IsYUFBYSx3QkFBd0IsY0FBYyx3QkFBd0IsV0FBVyx3QkFBd0IsY0FBYyx3QkFBd0IsZ0JBQWdCLHVCQUF1QixjQUFjLHdCQUF3QixjQUFjLHdCQUF3QixlQUFlLHdCQUF3QixVQUFVLHNCQUFzQixVQUFVLHNCQUFzQixxQkFBcUIsdUJBQXVCLFVBQVUsdUJBQXVCLGdCQUFnQix3QkFBd0IsZUFBZSxVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLGNBQWMsd0JBQXdCLFVBQVUsdUJBQXVCLFdBQVcseUJBQXlCLGlCQUFpQixVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLHdCQUF3QixVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNC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RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE1BQU0sS0FBMEI7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFlBQVk7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixvQkFBb0I7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLDZDQUE2QztBQUM3QztBQUNBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxZQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsSUFBSTtBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLElBQUk7O0FBRXBCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxJQUFJO0FBQzlDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRLDZCQUE2QjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGVBQWU7O0FBRWYsU0FBUzs7QUFFVDtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDLFFBQVEsb0JBQW9CO0FBQzVCLFFBQVEsc0NBQXNDO0FBQzlDLFFBQVE7QUFDUixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDZEQUE2RDs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhEQUE4RDs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsOENBQThDOztBQUU5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSxpRUFBaUUsVUFBVTtBQUMzRSxzQ0FBc0MsMkJBQTJCO0FBQ2pFO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFlBQVksdUVBQXVFO0FBQ25GO0FBQ0E7QUFDQSxZQUFZLDRCQUE0QjtBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsNERBQTREOztBQUU1RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFpRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsVUFBVSw0Q0FBNEM7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBLENBQUM7Ozs7QUFJRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQSxRQUFRLEdBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7OztBQUlBOztBQUVBOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQiwwQkFBMEIsd0JBQXdCOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSwwQ0FBMEM7QUFDMUMsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0NBQXdDLHNDQUFzQztBQUM5RSxvQ0FBb0MsdUNBQXVDO0FBQzNFLG9DQUFvQyxzQ0FBc0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQztBQUNwQyxxQ0FBcUM7QUFDckMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7O0FBS0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsYUFBYTtBQUNwQyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixTQUFTO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7QUFHQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGOztBQUVBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLCtEQUErRDtBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsY0FBYzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1Q0FBdUM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUF1RDtBQUM5RTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtDQUErQztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsY0FBYyxxQ0FBcUM7QUFDbkQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FB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QUMxRSxnQkFBZ0IsV0FBVyxZQUFZO0FBQ3ZDLGNBQWM7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxjQUFjO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpREFBaUQsMEJBQTBCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTs7QUFFQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLFFBQVEsZ0JBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxnQkFBZ0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsY0FBYztBQUNsQyxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUIsV0FBVyxrQkFBa0I7QUFDN0IsY0FBYztBQUNkLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxtQkFBbUI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxpQ0FBaUM7QUFDakM7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOzs7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQUs7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQ0FBcUM7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQSxhQUFhOztBQUViOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLHNEQUFzRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSyxJQUEwQztBQUMvQyxDQUFDLGlDQUFrQixFQUFFLG1DQUFFO0FBQ3ZCO0FBQ0EsRUFBRTtBQUFBLG9HQUFFO0FBQ0o7Ozs7O0FBS0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBLENBQUM7Ozs7Ozs7QUNob1ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsa0RBQWtELDhEQUE4RCwwQkFBMEIsNENBQTRDLHVCQUF1QixrQkFBa0IsRUFBRSxPQUFPLHdDQUF3QyxFQUFFLEVBQUUsNEJBQTRCLG1CQUFtQixFQUFFLE9BQU8sdUJBQXVCLDRCQUE0QixrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRTs7QUFFeGUsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRDQUE0QyxjQUFjOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUssRUFBRTs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTzs7QUFFUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QztBQUM5Qzs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLG1DQUFtQztBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1QkFBdUIsaUNBQWlDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1QkFBdUIsaUNBQWlDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsS0FBSztBQUN0Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQyxPQUFPO0FBQ1A7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNE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O0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHlCQUF5QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0JBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsRUFBRTtBQUNMLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0RBQW9EOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGdCQUFnQjtBQUNwRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixXQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw0QkFBNEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSCwrYkFBK2I7O0FBRS9iOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0dBQStHO0FBQy9HO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkIsVUFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsT0FBTztBQUMxQixvQkFBb0IsT0FBTztBQUMzQixvQkFBb0IsT0FBTztBQUMzQjs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkIsa0JBQWtCLE1BQU07QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQzs7QUFFbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCOztB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LE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FB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VUFBVUksQ0FBVixFQUFhO0FBQ3ZDQSxLQUFDLENBQUN3RCxjQUFGO0FBQ0F4RSxXQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWjtBQUNBLFFBQU0rRSxNQUFNLEdBQUd2SCx5RUFBaUIsRUFBaEM7O0FBQ0EsUUFBSVAsaUVBQVMsQ0FBQzhILE1BQUQsRUFBUzVILE1BQVQsQ0FBYixFQUErQjtBQUM3Qm1ILFNBQUcsQ0FBQzVCLFNBQUo7QUFDRDtBQUNGLEdBUEQ7QUFTQWpGLEdBQUMsQ0FBQyxRQUFELENBQUQsQ0FBWWtELEVBQVosQ0FBZSxPQUFmLEVBQXdCLFVBQVVJLENBQVYsRUFBYTtBQUNuQ0EsS0FBQyxDQUFDd0QsY0FBRjtBQUNBeEUsV0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWjtBQUNBLFFBQU0rRSxNQUFNLEdBQUd2SCx5RUFBaUIsRUFBaEM7O0FBQ0EsUUFBSVAsaUVBQVMsQ0FBQzhILE1BQUQsRUFBUzVILE1BQVQsQ0FBYixFQUErQjtBQUM3Qm1ILFNBQUcsQ0FBQzNCLEtBQUo7QUFDRDtBQUNGLEdBUEQ7QUFRRCxDQS9IQSxDQUFELEM7Ozs7Ozs7QUNQQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7Ozs7Ozs7QUNuQkEsdUMiLCJmaWxlIjoiaW5kZXguNjA5MGNiMGM1ZjQyNzRmMjYxZGYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJpbXBvcnQgQWdvcmFSVEMgZnJvbSAnYWdvcmEtcnRjLXNkaydcbmltcG9ydCAqIGFzIE0gZnJvbSAnbWF0ZXJpYWxpemUtY3NzJ1xuLy8gaW1wb3J0IHsgcmVwbGFjZVNlYXJjaFN0cmluZywgc3RyaW5naWZ5IH0gZnJvbSAnLi9zZWFyY2hQYXJhbSdcblxuZXhwb3J0IGNvbnN0IHJlc29sdXRpb25zID0gW1xuICB7XG4gICAgbmFtZTogJ2RlZmF1bHQnLFxuICAgIHZhbHVlOiAnZGVmYXVsdCcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnNDgwcCcsXG4gICAgdmFsdWU6ICc0ODBwJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICc3MjBwJyxcbiAgICB2YWx1ZTogJzcyMHAnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJzEwODBwJyxcbiAgICB2YWx1ZTogJzEwODBwJ1xuICB9XG5dXG5cbmZ1bmN0aW9uIFRvYXN0aWZ5IChvcHRpb25zKSB7XG4gIE0udG9hc3Qoe2h0bWw6IG9wdGlvbnMudGV4dCwgY2xhc3Nlczogb3B0aW9ucy5jbGFzc2VzfSlcbn1cblxuZXhwb3J0IGNvbnN0IFRvYXN0ID0ge1xuICBpbmZvOiAobXNnKSA9PiB7XG4gICAgVG9hc3RpZnkoe1xuICAgICAgdGV4dDogbXNnLFxuICAgICAgY2xhc3NlczogJ2luZm8tdG9hc3QnXG4gICAgfSlcbiAgfSxcbiAgbm90aWNlOiAobXNnKSA9PiB7XG4gICAgVG9hc3RpZnkoe1xuICAgICAgdGV4dDogbXNnLFxuICAgICAgY2xhc3NlczogJ25vdGljZS10b2FzdCdcbiAgICB9KVxuICB9LFxuICBlcnJvcjogKG1zZykgPT4ge1xuICAgIFRvYXN0aWZ5KHtcbiAgICAgIHRleHQ6IG1zZyxcbiAgICAgIGNsYXNzZXM6ICdlcnJvci10b2FzdCdcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0b3IoZm9ybURhdGEsIGZpZWxkcykge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZm9ybURhdGEpXG4gIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYgKGZpZWxkcy5pbmRleE9mKGtleSkgIT0gLTEpIHtcbiAgICAgIGlmICghZm9ybURhdGFba2V5XSkge1xuICAgICAgICBUb2FzdC5lcnJvcignUGxlYXNlIEVudGVyICcgKyBrZXkpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRm9ybURhdGEoKSB7XG4gIGNvbnN0IGZvcm1EYXRhID0gJCgnI2Zvcm0nKS5zZXJpYWxpemVBcnJheSgpXG4gIGNvbnN0IG9iaiA9IHt9XG4gIGZvciAodmFyIGl0ZW0gb2YgZm9ybURhdGEpIHtcbiAgICB2YXIga2V5ID0gaXRlbS5uYW1lXG4gICAgdmFyIHZhbCA9IGl0ZW0udmFsdWVcbiAgICBvYmpba2V5XSA9IHZhbFxuICB9XG4gIGlmIChvYmoudWlkICE9IHVuZGVmaW5lZFxuICAgICYmICFOdW1iZXIuaXNOYU4oK29iai51aWQpKSB7XG4gICAgb2JqLnVpZCA9ICtvYmoudWlkXG4gIH1cbiAgcmV0dXJuIG9ialxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVmlldyAoaWQsIHNob3cpIHtcbiAgaWYgKCEkKCcjJyArIGlkKVswXSkge1xuICAgICQoJzxkaXYvPicsIHtcbiAgICAgIGlkOiAncmVtb3RlX3ZpZGVvX3BhbmVsXycgKyBpZCxcbiAgICAgIGNsYXNzOiAndmlkZW8tdmlldycsXG4gICAgfSkuYXBwZW5kVG8oJyN2aWRlbycpXG5cbiAgICAkKCc8ZGl2Lz4nLCB7XG4gICAgICBpZDogJ3JlbW90ZV92aWRlb18nICsgaWQsXG4gICAgICBjbGFzczogJ3ZpZGVvLXBsYWNlaG9sZGVyJyxcbiAgICB9KS5hcHBlbmRUbygnI3JlbW90ZV92aWRlb19wYW5lbF8nICsgaWQpXG5cbiAgICAkKCc8ZGl2Lz4nLCB7XG4gICAgICBpZDogJ3JlbW90ZV92aWRlb19pbmZvXycgKyBpZCxcbiAgICAgIGNsYXNzOiAndmlkZW8tcHJvZmlsZSAnICsgKHNob3cgPyAnJyA6ICAnaGlkZScpLFxuICAgIH0pLmFwcGVuZFRvKCcjcmVtb3RlX3ZpZGVvX3BhbmVsXycgKyBpZClcblxuICAgICQoJzxkaXYvPicsIHtcbiAgICAgIGlkOiAndmlkZW9fYXV0b3BsYXlfJysgaWQsXG4gICAgICBjbGFzczogJ2F1dG9wbGF5LWZhbGxiYWNrIGhpZGUnLFxuICAgIH0pLmFwcGVuZFRvKCcjcmVtb3RlX3ZpZGVvX3BhbmVsXycgKyBpZClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVmlldyAoaWQpIHtcbiAgaWYgKCQoJyNyZW1vdGVfdmlkZW9fcGFuZWxfJyArIGlkKVswXSkge1xuICAgICQoJyNyZW1vdGVfdmlkZW9fcGFuZWxfJytpZCkucmVtb3ZlKClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdFBlcm1pc3Npb24obmV4dCkge1xuICBjb25zdCB0ZW1wQXVkaW9WaWRlb1N0cmVhbSA9IEFnb3JhUlRDLmNyZWF0ZVN0cmVhbSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogdHJ1ZSB9KVxuICBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uIChoYXNQZXJtaXNzaW9uKSB7XG4gICAgdGVtcEF1ZGlvVmlkZW9TdHJlYW0uY2xvc2UoKVxuICAgIG5leHQoaGFzUGVybWlzc2lvbilcbiAgfVxuICB0ZW1wQXVkaW9WaWRlb1N0cmVhbS5pbml0KGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayh0cnVlKVxuICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2soZmFsc2UpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXZpY2VzIChuZXh0KSB7XG4gIEFnb3JhUlRDLmdldERldmljZXMoZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gWydhdWRpb2lucHV0JywgJ3ZpZGVvaW5wdXQnXS5pbmRleE9mKGl0ZW0ua2luZCkgIT09IC0xXG4gICAgfSlcbiAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBpdGVtLmxhYmVsLFxuICAgICAgICAgIHZhbHVlOiBpdGVtLmRldmljZUlkLFxuICAgICAgICAgIGtpbmQ6IGl0ZW0ua2luZCxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB2YXIgdmlkZW9zID0gW11cbiAgICB2YXIgYXVkaW9zID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldXG4gICAgICBpZiAoJ3ZpZGVvaW5wdXQnID09IGl0ZW0ua2luZCkge1xuICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubGFiZWxcbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbS5kZXZpY2VJZFxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICBuYW1lID0gJ2NhbWVyYS0nICsgdmlkZW9zLmxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIHZpZGVvcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBraW5kOiBpdGVtLmtpbmRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmICgnYXVkaW9pbnB1dCcgPT0gaXRlbS5raW5kKSB7XG4gICAgICAgIGxldCBuYW1lID0gaXRlbS5sYWJlbFxuICAgICAgICBsZXQgdmFsdWUgPSBpdGVtLmRldmljZUlkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgIG5hbWUgPSAnbWljcm9waG9uZS0nICsgYXVkaW9zLmxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIGF1ZGlvcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBraW5kOiBpdGVtLmtpbmRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dCh7dmlkZW9zOiB2aWRlb3MsIGF1ZGlvczogYXVkaW9zfSlcbiAgfSlcbn0iLCIvKiEgQWdvcmFSVEN8QlVJTEQgdjMuNi45LTAtZzMxMDcxMjAgKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiQWdvcmFSVENcIixbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkFnb3JhUlRDPXQoKTplLkFnb3JhUlRDPXQoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpbi5kKHIsaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTk2KX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCk7dmFyIHIsaT1uKDExKSxvPW4ubihpKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7cmV0dXJuIGUudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdK1wiOlwiK2UuZ2V0TWlsbGlzZWNvbmRzKCl9LHM9bigxNCksYz1uKDIpLGQ9bigxKSx1PW4oNDgpLGw9bi5uKHUpLGY9big0OSkscD1uLm4oZiksZz1uZXcgQXJyYXkoMzIpLmZpbGwodm9pZCAwKTtmdW5jdGlvbiBtKGUpe3JldHVybiBnW2VdfWcucHVzaCh2b2lkIDAsbnVsbCwhMCwhMSk7dmFyIGg9Zy5sZW5ndGg7ZnVuY3Rpb24gdihlKXt2YXIgdD1tKGUpO3JldHVybiBmdW5jdGlvbihlKXtlPDM2fHwoZ1tlXT1oLGg9ZSl9KGUpLHR9dmFyIEU9bmV3IFRleHREZWNvZGVyKFwidXRmLThcIix7aWdub3JlQk9NOiEwLGZhdGFsOiEwfSk7RS5kZWNvZGUoKTt2YXIgUz1udWxsO2Z1bmN0aW9uIF8oKXtyZXR1cm4gbnVsbCE9PVMmJlMuYnVmZmVyPT09ci5tZW1vcnkuYnVmZmVyfHwoUz1uZXcgVWludDhBcnJheShyLm1lbW9yeS5idWZmZXIpKSxTfWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gRS5kZWNvZGUoXygpLnN1YmFycmF5KGUsZSt0KSl9ZnVuY3Rpb24gUihlKXtoPT09Zy5sZW5ndGgmJmcucHVzaChnLmxlbmd0aCsxKTt2YXIgdD1oO3JldHVybiBoPWdbdF0sZ1t0XT1lLHR9dmFyIFQ9MCxJPW5ldyBUZXh0RW5jb2RlcihcInV0Zi04XCIpLGI9XCJmdW5jdGlvblwiPT10eXBlb2YgSS5lbmNvZGVJbnRvP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIEkuZW5jb2RlSW50byhlLHQpfTpmdW5jdGlvbihlLHQpe3ZhciBuPUkuZW5jb2RlKGUpO3JldHVybiB0LnNldChuKSx7cmVhZDplLmxlbmd0aCx3cml0dGVuOm4ubGVuZ3RofX07dmFyIEE9bnVsbDtmdW5jdGlvbiBPKCl7cmV0dXJuIG51bGwhPT1BJiZBLmJ1ZmZlcj09PXIubWVtb3J5LmJ1ZmZlcnx8KEE9bmV3IEludDMyQXJyYXkoci5tZW1vcnkuYnVmZmVyKSksQX12YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtsKCkodGhpcyxlKX1yZXR1cm4gcCgpKGUsW3trZXk6XCJmcmVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnB0cjt0aGlzLnB0cj0wLHIuX193Ymdfc2lnbm1hbmFnZXJfZnJlZShlKX19LHtrZXk6XCJnZXRfZGlnZXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHYoci5zaWdubWFuYWdlcl9nZXRfZGlnZXN0KHRoaXMucHRyLFIoZSkpKX19XSxbe2tleTpcIl9fd3JhcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpO3JldHVybiBuLnB0cj10LG59fSx7a2V5OlwibmV3XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1yLnNpZ25tYW5hZ2VyX25ldygpO3JldHVybiBlLl9fd3JhcCh0KX19XSksZX0oKSxOPSExLHc9bnVsbDt2YXIgTCxEPTAsaz1cImZyZWVcIixNPVtdLFA9W10seD0wOyh3P1Byb21pc2UucmVzb2x2ZSh3KTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7Tnx8cnx8ZnVuY3Rpb24gZSgpe3ZhciB0PXt3Ymc6e319O3Qud2JnLl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmPWZ1bmN0aW9uKGUpe3YoZSl9LHQud2JnLl9fd2JpbmRnZW5fc3RyaW5nX25ldz1mdW5jdGlvbihlLHQpe3JldHVybiBSKHkoZSx0KSl9LHQud2JnLl9fd2JpbmRnZW5fc3RyaW5nX2dldD1mdW5jdGlvbihlLHQpe3ZhciBuPW0odCksaT1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOnZvaWQgMCxvPW51bGw9PWk/MDpmdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09bil7dmFyIHI9SS5lbmNvZGUoZSksaT10KHIubGVuZ3RoKTtyZXR1cm4gXygpLnN1YmFycmF5KGksaStyLmxlbmd0aCkuc2V0KHIpLFQ9ci5sZW5ndGgsaX1mb3IodmFyIG89ZS5sZW5ndGgsYT0oaT10KG8pLF8oKSkscz0wO3M8bztzKyspe3ZhciBjPWUuY2hhckNvZGVBdChzKTtpZihjPjEyNylicmVhazthW2krc109Y31pZihzIT09byl7MCE9PXMmJihlPWUuc2xpY2UocykpLGk9bihpLG8sbz1zKzMqZS5sZW5ndGgpO3ZhciBkPV8oKS5zdWJhcnJheShpK3MsaStvKTtzKz1iKGUsZCkud3JpdHRlbn1yZXR1cm4gVD1zLGl9KGksci5fX3diaW5kZ2VuX21hbGxvYyxyLl9fd2JpbmRnZW5fcmVhbGxvYyksYT1UO08oKVtlLzQrMV09YSxPKClbZS80KzBdPW99LHQud2JnLl9fd2JpbmRnZW5fdGhyb3c9ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoeShlLHQpKX07Zm9yKHZhciBuPVVpbnQ4QXJyYXkuZnJvbShhdG9iKFwiNTVaQmdNLzJCem0ySkdoTm4vL2xqSnNTb3JoV1VZRTY2YTFIZjhPN3BmUUdSMnpmb2w4cVJQNkNEaHNpM2lHN25GWnU5c3RTeVBxL3F1MlJyMnc4UWtUR1A2R20yY2czSjVxc1FncTViY0hBOW1EcEd2L2IyNHVFd3NpeFpWbDFlR2tkVjRTQi82YXl3MnY0OGhMbU5BK3c1VWxuVENpV3dlcnpFU1FQaWRwU1VNYmFtWEwzcFU4MTVFUW0xMkdoaFo5YVd6bzU2OGdkWnZYZXZCYy9XSGZGS1FTdVRnV3ZhNGU0ZVNtVzdVeHBIOHNZNEhsRHNDVE11MFd3RUI4Qjk1WHNad09wM0dMZ2ZPUW1KQncwMzZEZ0lLVStYR240S3BJRXE3N1dFL2g2UjdzWktzRlVwK3UrMmNEblc3SVBOZTd4ZmQ5YXJlRm8wRVVoMC85SzlDcXhVa0xxTUI1aGxnUzFmd1FIUnpLUGhRN2dBTHljNkh3TUNQb29TME0xTnJ6amRmSDN2VW4wUGVRMUdCbG5yblhnaXU4VHVuZkhnNVRjYkJmUEVieGJ5aWlvdzFOcCtWRUJsSE5oMDBQaUFXeXUwMjROSGFQYkRHZk10enU0V0YwMmZna2g4UHhiN2JDU3BDWm5kalR5dFFnQXpmWnhrMmJiZTZOb0hIRm5zdmlxWXpIVnB4b1BFazdpY0hSV2NaQzI4ZDJtdXRocTY3M0tDTVFheTFmSmNQcVNUdVloV1VaUzVleWxJZ3VUMzNsUCtUQmJPV1FJOEt0Q3pCTjVGenFJTGZLelJrenJKM0wxOTJCVUY4U0lMZHdtcml2MTBIVTlabFFBeVFBMVZkZWduek9sL2RZazJHR3NCMzcyNHk3dy83YUpMSEp6RWZ3cmZJekZkNUNvQWZ0N2N0K3pRVzJHNFdtMmtwb3o2dUpmZ3JOeXlrUWd3Q082cGtQeTFBRHJCVXVKb245eVNqaGdjRnJ1NkFLYTk5d1RsSWh6QnczRktGdDlBYTEvMUtXV3k3VzF3QUlHelJUcy83ckxYUmtLRmpOcUdWWEJkb1ZOVHBIRnRmRUZzdVgwWDk4SVNyMEJlbm5seDBoMllsL0NHTmI1S2M3aTNiaW8xWEpIWDI0YXZjTXNFQXdmZGZza0NraTQvZGtTdG43UUM5N1lKQzN6KzdnRDg0SWlFRWVHY25uN2dISnllQUxyMHNzYnFEVWNLcXhFeWhleUZzOUZUb0p6aUxCK2VZdzZuTVFMbVlUclF5cmczYiszWUJkZ3g3cHpORURTeXozdG1hUGFpa3djTFN5Qi9JZ282VS9vUC9mUzJUWkx0bU4wM200aVM3NllyREpBZ0krMlcxR2JvYWJ1aXhWY0xkeG02U1E0Q3pVbkhTUGwxa25oY0doVy8rT2NLYTUzdEI1ajVDNHdFcGlFTnY2VDlQVXU0SzBZd3RFQXFGYmQvZU4yd1ZBWUNLbi9ubFZBOHVpRVN4Q2ZnczA0MTFtUkZrNGkxcGl4SkxQUDVBRlBHOVFGWm5qNlgxOVRxbWhtSWhsOEQ2UTFyT3ZQQ3FQWlYvejA0SGpheVg0cVB6UHpQLzVOVmlsTi9zSGhRZTd1bHJpR21VLzNyajVRRXVpT3ltc0w3RWRDUU1jLzRtWERQZFZyREJmYnQ2ZG52MTFvTFlHbXFPUDFvU0JqMDJGdHNtWXJNbjlwUmc3SEpvQ2g4NmpBbnp1T1luNHRHblE0Z3cvODlzYjY0TkFYY29JYlRJanlpSEJBUUNDSzJZbjRJL2ZORjEwcmtRbHZTdmtwcUxHMmVZcEptcFdyY291TkRFVXRKRlI2MDdvTnJhTGRtVUt5TGMxZzdTTnBTK29mcDFGTDZydWEvSEZTcmI1a1RGMlZjeTJnbCs2TUFDYkZSQ2hLb1AvdW43SWJZSnVPaW1hL0pXRlpjcy9NWG9rSXgraWp1cWpNdFZLYVlSVHpOSTVuY1BhMnkvRVhUTmRVVUZwTWhiRTdzYTM5VW9oNkhjaS92aVh5MktGVE5iaXcrQmtXT1BueU9yMDRMaklZS2xKOHVkL0t2anV2TlVHUU9ISnZqNnRwWkp4ajk3dHIwT3JnWkNBeFNIR1U1SlFmcUVkL1UwUWZ6R004V2gzemRzbmQ5TGhvSUlSSkF0eUEyUG1qd0prNHpUeGVZbGd3UHFBVlRVMys5YkExUUQrakxaWjNGZmszTVJxK0FyMlJUOFlONkFTUjRiSXR0M29tQmowTEplMHplR1kzT3pmaGxqTDZMQTFtNCtJVXArQ3plV28wYUVqbnZSazNpQ0plYWpnZEMrTlVHQjVxaDhQV0t0QmVDNTh3b2F2blJqdlJOcGhYUzRiOU03QXltY2ZxMjZCMllZMmxTK3dMZjc2M09uR0psVmRWL3NyZ3lBVUpKWmphcnhvbTR6cll5MjNrTEZCOHpGeld1d1NNdWU1WG0xWVdhcGU5MUpHRHVSTEljdHJKV1U0Ny9YZkxtNlpnZWk0eE93cTFSY2ppa0d1YVp0RHdjRmc5YUt0TytKT0dKc0NqeTlBaVBubXQrcm1kWDgzR3NUM0t0VEVUbkx2NlpRY25HdG10NEg4QWpGZ0dZZVBkUWM0MGNqOFZBT1Y4TkNMc3B5VzV3NjNiM2czN0dYSnJ6am05RnltM2ZoMjdwc2pvNVJ1VHM3WENTck5FTnhLbTlqQ2NYUHFXeHl1WEpTbjZkaGRXbnc1U0FuVWppeFh2aVdTNEhzbllqdzRYdDRjU3drcUNCOW5hTHN0Vlh0NUQySGdHNGZ6SEZOSHZuRVRmdDBtcmhVODFJQkRUU3lORmREdkZFWDhjaWZvYzZGY05xN3B6WGxvdGwyWlMxRkl6TlhkZFpyZFhwQk5ZWlBWNTJndENvazZlUHBVUi9ZOGp5SnBFOVAzcThkbUZWaXZWR2dtS1RjQktNRERiemVPZmw0TXBPR0J0QlgvTGFiL2t6cUc0MnNUeU95R1V5T29GWFlHTVVXSjMzR1BJMktOYS9tVzh6VmwraW1zaGZiajdQaUsxcVJVbjc0S2pBa0g0d2pLbnU1MEFPTllVYWl2ZVNkd25FYzF6Q2paU0ozZG1CS1N4aFdBY08yUGRIQmc1bTkrSkNpUEdDVmZLOWR6b004Qm03eHg5bm9KaXF0NGhOaVZhNWRpMUZkMUpSTjRybmQxRGJLZ2xLcEFWU29xdkpQeG11eUg1NlRGRTRCUWpoZktiRE1aZXpRSnF4K0tYRGlXMUpXR2VEWWFQVkJXUFllWlg2U1RJekMvRGpTN1VGbHFvS2dHR0FHUDE3eDh3bU1SRTZPL2F4RzVqRHpsb0NHeENtcnltVDBaR0NoNGc1NE8xaURZVXRtSnI3Qm8xZCtIOVJRajJZMTBCeGNNa0xGVElaVmptOWUzdnRJYmVSeDBPZFhFMU91MzdKL1dlSlp5UFhuMWZzenZwL0tvbkNxVm50ODYyTHJ4Zm9CLzBzRjVnazRZL2Y2TFZuZVU1aHVuOS9WMU9WcmU5WHJuREJoY1ZhUWE5WWU2Z3M4c0hXOUhDTmNoYUZia1VweFNpeXhWRUZaSWxiZWpialNQRmxrWU9MaHRRSGR1d1pXUkhXQTlha3F5a0pORzNQS3ZPWkFhSkc1bldRcTgrZTRLMEpGL0FYVEtJSXI0Sjd6RHQ4WlI0eGI5VDJneGpsMW5mcXppZE1SSVk1QjRya3cwb2V0dGErajhycWtGcFRFR0EraFUvdHc3YkR0cGtQWXZDZ3V3bmNuQ2p3VUxORlQ5STlqWHgzSDRXczNXV01DaXQyOUY3a0dxMkthK3JVL01qbnVQMGxzWGtvQjFycjhMYXdISDVnYWY4cmFqcS9CaEtyR1RJZmpEaVpHNXF6K0w3U1pCWnNNU1paOXBNMVFoS2p1K0dURDlpQys5SGxoZlhNdGo5NGd6OFU0aDdlR1h6aUVPN2xvN0x3TEw2L0RWTXJHYmt2NjhKWVVZaEd6MnlCbS84Y2JRRWg1dmhha2JobXB2MUs2WFlNOXJ6ZHNkOWJ3WWNZdDNjZktFM20rL05yVWE0MitScEpCZEZnN2NBbXhzWjcvMFRNeVZ3NkFxdTJnemxkYjJhZzRpTHJQTkV5VzF5d2FKMkRYTWdQaS9zam5Eemh1byt2SVVyYzg2ajRaTGhUNEdBTjZ1cXdiblhxNVVEelg3VGZ1QjQ4b012dkUxc0s1cTZvd2tkV2ZrbGduQzZwU0JwSzd3bCtlM2t1dmFZbkdSR0pKTUJRdVZnV0wxYXdIclZ0Zk9Uc1NFMXZjMFpkRythL0piemE2cEhieWZpNUw3RlhKQUdkUVRrMEVQM1ZUNTQrRjdSWi9NSjlmajU2YU14emhKUndRSjZkZjNjTTI2cVNjNWJXL3pQM1BGWHlwVE9Cd3pDdlZ0d0dRemtHdkRXN1hHd2dMYlROSERwUVhPZDJCUTVaZDlialFxR2crUytrSXFXWlZaQ3FWTGZ5RlBGOWJFT0hmUGVwTDZuUkRKVUQybDV1Um5YcWVUdmlkYVNJb3FTMUZiYzZtTFB0WW5icDZ1dXRzNlFvOFRiTXpGdUk3TnVhUHVLblFJeVZ1N3ZVR0o4amcxdVZPamxNTktkVnRMUHI5L1pFS1ZaVmo3bHNGQStubTN6UmpqcjFEUktoci93WTFDSTFpWEtWVGVRWjBpMlBTbk45OWo0aVZUU3dOQVlRTFdXRCtLeVoveFJMVnhtWlFQdVNrTGVLQlJBa2F2eGpXbklGUWIxZG43MndNU1VkY0I5Y05DTkpOZHlUa3JsNDRNUlIrcFV1aVZyVEFuVGx6TDMzWDMyZUVZd1Qrdm41NjR5eEZKTFVEeUlNTmpKMG54K0dyZUtTT2dsSTJldDBrQXdSSEtZRmNsSDlHVlRpVmxCMFRXZVVKR0QrN0pZb2dGN0JpempUR3lQT1VFV1FDZ3VJRW10QzRmSEQ1NDYxVDgwWjNNcDdyaE5USStDc3d1a25yOWhySVptcFJ5RlNyU3JQOFI0UzFDZjM0VHU0Uk5yRHhwb2ZWSzluR1RrbFpQc1lNNmVpUDI5THgyNjRmc1g5b0xkWWhxN3ZDd2NyUk1KMWE1ZDBRSFhVWVJWNUlxVEZCb1VTcHhrUTZJSEhMOGNrTTROQ3p3azhLMENBM3BqNUpwMmE5d1pqZktxN1IvZXVrelFGdWhNeFYycWdIZjJFM3Q3L1NBOE43c012c21GMHAzSjk2UVJFM3JBODVla0gxcThuckJWdWpsSXFhaG1MMFF0bzMrSnhkcUFmbktNQ2JsUUdTS1ZXWmdXTE1tODJNRy85cGpoZGtNekc3QzJHUkxHTXR5Mnk4TmhYMXBaV0hOYkxPbXZhQzQyNExOei9ObDV0a1B2N2ZWYkNUMkl0QisvZHgzWmhWaG1nU0xkMXpMKzJQc05GbWo3VkdCcnVUdHRlemxvMW1ES0VyalkyN25Uc3dqZjJmWS9VcThsUGNWQWdScEpNK203alMvOGRrOGNkbDdma1k3VHVqNFRmaVNlMHRpTlNvSmdad29tNCs5aGFvQlE2NUFpZmFCN3BVaVRjME1BWEN2RytuRHlka1JJYkt4NWZMNmdBbHlNQW5CYlFmK1FoMW5hTGZ6endMVlRQMEVFeW9lblcyVzF6S3FmTXFsNXJ3R2x5Q0I5bVNhMnMyNXlIZjRTRFNCbGdFVk1KdHBscFJnZWdadkRha3BXREtneDNVUjRXN3lLVytSRDdiZDdyRWEvR1FtQS9xMFJZQU9JYVhmTy8yQ2dFVVB0TmhQUzJ1cXkyOWxCWUZQUHY1U0hRMHQvalJ4UUxCcGUwOWF0ZUFXS3lwdDlUV1M3WjVneW5PZVBTNU0yTkMxNkFoRjBYejZzN0RVanRJMHhOaG85WTZHSzE2SjVWOEhxSHlwVi9PQXo3K1ZCelRhaVI1N1hHSDRyNjJHb0FpSnFmV09NN29rektDZWVTQm5PSUtQSHR3Z00wU1FidkN2djdybVM2WkFhY3U0QmJYWjVSOWdPaGRSOUgzYmk3bFdMQk5ucXFMUEl5MGs2bTRYQmh0bDQwQjZ6LzVBY0p4anRLZnd2SUV4bDdWc1FScWJXOGdwUE1zbUpaZlNwM3VDMzVnMUFrUCtCSmxqdTNSVm9GWk5vM0pSMThBNXVjNjBOR0Q0enZ6SWRHVEFPdGg0WkFaeDBaR1FJdEh1TmNMei8wQ2lhdkpka2pENjVoNGF2ZjF2ZjdMRloxdW9nSno2dkxLM3VEaXNYSUJJR2tYT2xJcHhUZGpqalRRdDZLaHk1MGJZYlhzRzlKQnJTVUdoc0JXcGVSVW5xMmNaV09pZmhmdWVZOTVnRklEQXUzN29LUjNGUTFZeEdNZzNVTXErTDJWTjJydHFvZGVsU0hvZjhTeVlaVlFXczdMMGJqdGdvbElkMXRBQWpISTdKMS8rSklSWGVVQmpqYUdHUUFVK2F6OVhGZmlxbitWUkFHRzhKRGRQL1dtRXFqaFlwY3kwMExJQklCekNGOUk5bWJYQ3Y4SVg5ZmhQbEk1TnFXR08vdjBpa3BmbitoYjVVMTZGY1BZc3greExiNGxhNm5TYnZyVERQNU10aFB5ZUxJSVk3WkUvck5VNGFqZ1BtSTAvM1J2RDdXdEVibzhVR1BqbmV2NTVOMkVMdUZwRVB6a051OU16WHFxOEswY1d4azRsVDJEUVBpM3JETzh4OGk1alg3d1dRaThlMG5lQ01iMFNVTzY3elJmYWVrWk9OR2ZhRmw0N0xCeWNpVXV5NWRocXhNUG9raFRFMldienhxQ3l0L3MyVHFHNjZSMG9jWUhtenY5Zjd0SitURVM4TkZ5ekwzZmhOb1pvVzVJeFdORStzdFlXdXRkM0xQd2E3SEtoaFJBYmw1dUNFYkVHanJVelRYd2J6RzBxdnBtTnRwbllubUtqelRhU0FGTkN4Znc5ZWRjamF4Q2lSS0tJRGQ2R1MvZURzR0JnVHZKZXhEZndHbVZXbTlqYWRaaGVlOWpSRmlaRnRMNm03c1kxb1FhOEY5eWN4U3VQQU5YQ3FXa0FwY2FFZlFMa3QxeXlmZVJzNXlDNU8vNlhHSjRURXRKbUNUUEpGUnI5NWF1MjBTVElQZ2tvRUYxbXpaKzVaUnRXS1VZdVdKVlpEd2NBL2xUeTZvWXAwL2QwTEdQUlVYblhSbTBxdElYUVZkbm9WaEtaUGVXQUN0OXJ1alJMNTdNRURpMmtIdGZWL3VjdStrMDNiTjBmUWxiYWxVSjBmYVk5OUdDNkw4TU84TVhUU21xREF4TlNwcXBJRlBoZ0hnQWcwWUsvR1pobFFqYlFYRTR0TURFRE85b2JOZnA0VzZtOGZkem5NZXNTU1JJTkJHNUZEZi8vRGtUOXBTUlFzSWRTZzRWSzdXN2oyZDJqc1FVSXlqSm1iZC8yekNUYXFoMFlxMGNINm1TLzVnL2NxM2VHT2lKYmFDTm82b1Z3R1VSelhWQWVWYUdJZkpGaGQyQTU5c1ZwK3JWZmUxZjhCNmJWYkNMSUtnR1VncFVva08wdlRnNm91QXhYR1FLdHZlTWhoQlQ4M3VrUElSWjAyK3FGMWt2TStuTkNWeTh1enJCMCtXOVFJS2JNaW8ybS83elc3OHhkNVRmOWl0b2NwTGJSdU5DNWN1Uy9HeVJHWHc2ZnpGempNMVVJVGxRNWRsdm95WXh1dmI3b2w0UzFNeWhrZk1OWmJpZjYveGljMHdCM3VTU2NlejNvRlRSYkNIQmQwY2JKTDNjTHdmUWpDQnBHQnJSVkM3MTc0cVc0WFdudzBlWUdTU3pUVlNFRE9sTWFUVUlHSk8rczcvejhKeGFacHJjRXNvQjQrdnQ5Lyt1d3RNL2l5cUxWUGlkdThaVGgrRjFyc0VXS3daaERBZy9naVZjNlZ6UnErREpDcmhuODFiL0xZbExKT2Rnb0FqSUQyVm53Z1UrbVFoQ0w2S2hnSXFxaVZyYUQyNVVJWUVxeE1jWjFhUmNadkhhOHg1Z2g1b25QdHNWY2w1M1hlazlCT1lxa3lqNjRhY1g5MjF6d3FvWTBsbU5BODFORTdCelZ0czNjd1dEWjREazZ1dXp3dGZKdUpjN3ZWUytmZFZERWczQVR3QzlvRzUvVmIxc3dUeXpUc2wyVjRtKzkzYlNRbzVTVEZHNUFydVREV1R5bTZMeHR0NE9yQWVJVmdkb3lUSkwra2VIaUhUTmlMMC9uTzVvWXdmdFNRSzFhWUJ1QTBlMTJ0L0ZWTitMc0NrMEwvaGZDQ2NrZTg5THVQNGQ0NnFuRm8zTkxwSGIrTkZydmVrWFZUNEdpWmdNVzJIMG9ySVkwVHBTMTV3bHhWVWFHQ1VvN1lTTjB5V0RSVTUrcDQxZENPczUvdlhxMWRvN0srQnlqajM1L21QbFErVkVEcXFGN09JQlFyWGZIZ0NYWVB5OHllM0loM2lvK3RZQTZuSzAvMmNsSUVScnBBMEFNSEtMVEdFTzdxL0l6SWNPQ3dZTjlXL0lTSDR2NHVrOU1oek51N0ZnMklQQ3E1Q1FGMUdMdXpRdSt3TnYyaDk0TklBMlVKeWRhd3Y1WDJiSGtaanYra0IvV1FDWWp4VU5FVThzc1VkeERac3RwdjJxTkFIbUk2Qk1EODRvbHhNaXdGZEs1SjgwemM5eDdkZS9jejNaTklra0dJcE1DWkpxS0trYUxWbzFNTG5SL2gvaFFlVXZmcUptdmtQZUlyZTNFam5saU5rS0pLTDBLTmF1cEh6WTdFb3p0YWowY05PaEo1ZHhJUkIyaXMza0xjU0sxRlpzd1JKUjBCNU9YWCtRNFVsRklyaFIxMGxJZ2UzRmc1RG5hR29ab095RmFhSHp0cmRGMjUxSnViRHNDWlJEU1dBMHk2eXN5a08raDRqaFh0dVdGN0Q1V3A3QjRIeDNFUXZLc21QUFpZY0xldm93amxXZ2hIYlJCRWh3UEkzYnpqaE5XWGxxdHltNU9iWUFlWXh1SHl2eVl1ZTJYNDY1MWY3T20zK204S1Q3WS9KcUxXWHdnYXlDZHp4SHVKaWR0aTFJVHVmL29YemVDZlRSYkc1eXRYbERrL2VwWDA2MVc2Qk8wNzRqSTduVjUxOE9rWXRSSkRuUHFkREZBZjB1V2NBVGZrMGgxNytnUDdHSGp5MFJjMEl2ZTlYbXZBNmdDa29Nak5qTUVBN0dRM3h5N2UxMkR6Zk5wSWZORDdHS0tvak1pZlRydmtEWHJmYTNvNHdOWWt0WTYvVmxCZEh0cmNIOUY3dU1XSUNlai9CalpYVlg4M1dGR2NWSHgzbk9YeFNMNTlrRTliU21IYzNYcDhpRGJQdVNHNUdJUnAzZlRGSG5tVHp6R2VkbDZhbDJnVWJHRkt0a0MwakZOdEtUazJycjhMRU9iaUdnZkNvU3BUV2tudkFZRFFCb2o5M3MwS2lSTlBPcWdZKytYa2EyY1FpRHdxVXNMbDgvaTU3WUMvVjZzeTUvTnZoVmlSUlpnQ3pjeWpOSEd6WnNZQTVZTXRVbnR5ZkMxZ05GUDdjTDNBd1ZBKzMyNk5KSTdNUUpveFRxY0hML1lobnRzbllUUjVSNkdWVnZGWUlsVzhOdjlxbjNkYW9HWE16ME1vQXNYcEN6YmlIWjBYV2tmdzJxbEprbVpqZ1F0TUFFaEhYTmdva0dSUGZPcHJtdGx2TlphTmxHQjFFalFUVlgxWTR0Q3lKRlpoZGhJRDRDb3dCMjN1UUYxNk5pZnl4SCtER25Rcm54ZWtsbkc3VVFWMkJSVmRyNlpFS1pZdjdHaitQYnBvanpBc2t2YmR0YUZzYXRhcVByTERvZWpqYzZaZlBBNXpBMGlZY0N2Y05qenV5OVN1VDB1RzhOV01UTHYyT3NJbUwrK1BRVjFzaWZVRU5Bd2k0TzN5QnZ6VHk0Sjc3QjdtTUJwakNZR1hBeWpGR0ZaTDRlQWF6U212Wjh0aEowRkZXK2tlTEhMK2Z0MWRRQkttWFk2SmF0ZWxHZWJjSUMvUHlMQkhkZlg5YlJjYXVHZzR4RU83bU1sOEFqbGNQTWN6a1BuaU5RcGlRRnFjREpZckZHb3hNVjJoc2t4TW4wYlJRVDhBamM2dzZzUVlrR2wwQ1FVSW1QckdmaWU5ZHNrNG1yQ0xNSUZPcWNtMFdUOE84QWlSRUVHbW9vQlRPN1dJMHFrNTA2TnNWN2ZmdmMwclZKRVJKS2N5UnlDbUZaZFRTbi9TckJmalY3U1hUM3BRbGdsdW9ZNEZCVUNERGt6d0JnamtyRTFvRlVBM2xzK3hWUDEwdzVqakJJTXdLQlNRcVJWQUVEWHcrRHlqK2pIM2lsYThjelVMV3NDS2hXZDRxR3NNRk43KytPR0JBejllWEhqQU85bSsrbVRYRjZxaXlHMzVRKzYxeWpZUUtzQnJqUjROTmV4cndWR3FCd0FaQTZjcjVtcDhBaG95elBvbUo2VExmV0VKakVlUkkzUXNYNW9Ra051eUY3dTY1MFFGa2ErVmpGZU5SWTZBTGtsbGVUVzlJMHY0QUJLRENYVEdranY4MHZxVk5rK0ZUTDBiSks3bmRTampNSkQ3T0JGSUV5d0JQSkZyeFRkeXpvY214RWdHMHp1MVZEZ3NRdVhJVFlDeDFSUnR5ODlBL0YrQ2RTQWxiTWxJa3B0Q0MwR3JGL2pGUzhQQVUrNlROVjFlQnFKckNyOUJnSDFtdGg4RnRkZkU3ZHJ1Uit4eVpLbjVpZGZVS3pHVzZBQ0dGNE02MUlSb1NzOW82eG1hajNkbkFWUXZGV1VzTWNSNk1JM3hUS0pOeU14a2hYaGh2VDBJeGlhbG5HN2kvQkJ6WGZNWFloNWpsNEJYekNTTmx4VTQrYWJvRWdJRHI0OC8rcGZqOEozV2NOY2NGZnpWNmVpWDA1cWtOa3RtYWZvQmN4ckVzck04V1FWMFZWU1J5YlF5WFBPcUoxeW5kd0JJNkJPR085b0d4R0RBZCtIY0thWmxwdENNSnNSMUNwM203RjlIcEJGU3UvTllWaitXU0RZN2pXU0ZCbFRCU0NGeXlQRVVuOFM5Tm1CVmErbXdHVnN6MFErZnhlMjN3MXc2d1ZPN3NWblpxUnBtWEplWGc3MlFGa2w3UWRhMWxCem4vRlcrclJ3THZGeENzdWFkNjdXbXphYjFSSmR6UEdzdXE4QXpXNnRMK0ppd1cvVlBVU0JiQm1WMStFanFRMjh4MXU5VzVFb3k3emhzVThOVDg3Q3ROYlowbFBFcHNvV01ld3hDODBrUGFuZldQclFYbWl4V0RYWHo3dWYxa0JUcjFKL2lZdWxzN2ZVc3lBQ2hYaktjS09hQ0Y0eVNxa2hNVEdtak5xWWlHNWpvQlVpL1NacFd2Z3hrMjhweUlQaGYyOFlVTElOaXFtYldQQkt1VENMRnJ1VjdKZlJnR004N1hmTkVGYzd0Z25ZeDUwM2svMFVYSmZwbWp4NndLYktjdlY1ZnFyY3R4K09ySW4rK1R4UnhTS2xUU2NFSXdkMnZHNW1nL3A1d3NRRHBpRCtYOTFYYmtSZUtMQjI1SnZwL0lKYUpoNzE1UlhxQnp3Q3dsWTNVUm9ueXkrb1pvVEQ4WW04WE1Ndi9kTWxsaDBMQ0Zaa1pGbjJnWWNMRzlpTytJNVMvR3l4d2phalFMUXR3SDdvK241MHZpbUMrRVM4ZVBPcFBEd2x1NG9HOEtoUzdOTC9PVGRJV1BJSGJTYTYvOURmak9xOVc2NkVwYUs1N1I3OFBwRXpWTkxrVFAyTDZsbGxxRFQ2U0RoSURJdlFTM1NRYnhHOTZraFhndlcvck1FK3RpWEZYaStCQzB1ZGk5a2V5R2xjM3NMQk4zQ1AzUVh6c3doQkdUeHZ6MkxtUk1rVTNyTHVTa1lSMUd6cjd2ajFWeFROMXkxaWNpQTBEc3dzUFozOGVCNlgxMFV6azZIWnFqekJLK0VKNW9zSkpKL3MzYjBNRlJJV1lsTTE1VFBtMXV6ZU9rMXpROTZxdUNsUUxFWmJweG1WL2VBZHVJb3RYVVlRWmpXQWtUdWxCSnQ3a3c5dUVuTG83T3BacmY4ayswWlFQMGFnY09UTGJmcmVrSGppODZNeHI3clR3dmU4Mm1lUEtvQWtrRXRoRTQ1VkkrZjFWcXB5V05XMWtiQmJWVmZ1YXRLdDZNRUtxeVRVeXhTRkdIazgxa1k3Q3hrZ01OZXhpaWtOMCtJZWlVTnNmdWt0amZPQWlNZkRoYlRlNHJ0eFNFUHZPNENDVUdha3RBNThUR25TTzhySGRDaWNtR2tOcndXc25YZ1VXamhwOGJsbE5jblFOMTBUYnd4WVBBd1FLVy9KSmlZUWFkcjRUSFhPK3ZXdWRpcTNJNDd2cW1FTS9BYjNEbHExMVE3Um1SV250WU9FeUVTYlRJOFBaWXdidHNtamNTd0J0VEFJSFE1aDNJNjMzaDNGcE9rVDJjMFBsTWp6ajBRL091cWFUVnQ2Mzlmb3dWcHBxdlNsTmNLNUt1cEJucnhmS0hRSytTb0tTdWFPOFBOTWtZa2JjRUFjOUYwSTR1elBmUlZQL3E1UWt2SlZzVm9KOEJFV1cvcTEra2l2SEVNUWZiK0oyTmZKalNURytXaGpIakw4ZXFpN0ZnZlZld3h3bXFHOUlPblRrd0RqQUhVYUpNSXloVmthZFcvK0dRakx5TlA0enlIY0xBZFdjQjV6UTJrYy9ibEF4MlJLZkcrT04zUmZDK2lRNVRoN1YyaTVhYmtveTBwamZ5T3dUakl2YXE5c2xTQ3RvTkdCWmdnQkRPaVd3YXUwQ1g0TkFJVGhGeXF1OVZXQ0xyOFRzcWhRWnZRUCt4cnl3b3ZHczZBMDc5VTdZQmpoRVh5UXc0UTNyYlFZMUVRbnhUUFhObEhmbjl2UW51aHNKbnp4NlBackNxcnk4ZmlkUHoyVTFzY21BTVZQSHhhL2luaklmK2hEemlFVTAyeFdtOW91NjdPZ2Via3RPTjlWNnd3Vm90b05PelZOSmhpREJsSGJrdEJ3T2pYMUJsSkh5YkxveDV5LzdOaFI3dWM4Zjg1TzZ4ZHh1ZWFiaHd0SmpZY0J6YWM1NnY2UmJ1STlJUnZQek9uTmJsdGo4SGgwZnR3d2hXeUhBeWlFYXQwb0RTRVZaOTI1am14SktBcVRvNC91SG5rb3pnTURzbmt6WFBYQkRKMXNEVGF3WHkyM21YdVRKT1lWNlpWV3JlcnZNYUdHR1FwZ1FqQW5mUDdLUFpybytPS3QvTXBub00wTmVHUWdJRkFpSDdkVTdObDFRYmNNaXdPNi81bklvc0p0ckZCOHcxa3BxYjZPakk5QmdaSEcxbnpUTUdBKytITnJsNFdRTmNxM1NhakQ0Qzl1dFFZQXUvZkVUUEZNTUplQ0R3SFJDblB1UkFscUo1dDBFNWgzV2xoMU53NTdMUTM2a0RqQzNsUzl3MGE4OWVJOHltNkJ6RUEyNUNkejNMUUF5ejk0RnZqcXA3TXlIcnBtM1B6bXNWL3RiU0xGOU5KQmpGbXpXUFE4VGZndmozZmk4ZGc3OHRYdkVhdHF0VWhMeHNOcDJWQ1U2SXpTcWFmeFd3OTMrV2s0N3NrSnY1cXhNK3R2N0NycFlLdldMRXlsSk5FWGxoN0dIbTlVZW5OZjIvc3paT2wrNTRQNFpXa3NoMXI2K3JwaEw2OFFZaG1xVzdEcUtWcmMycmp6UFljdkZEbUt0Q0dML0Y2MmkzcmlNVjl6K0xvTG51VmFNbjRkdHBOTkZtUUVRNHVFaERmTFlVNHg4RzJPSEN6N2dueExDYTR6RTRDRm85bS8rRUNtZHp6aVZ1bUhNL1AwMC9CRVNIMnJ4VVlNQkw4LzlOUkc1Zmlza0ZKcjRBTzBxTlVLVUNnVFJnRWlGc1RiR1h0UDREVFR6YzhaQW1mTkp1SlFFNUtwN1c3VTdRWm5CWEtlcGZTSGtZVEVxZ09ocW85NUp3OWk1NmtZR3Q0Qld3WDUwbUMyN0NDVzkyU1ZNbDR0YlVFaEJEU0IzNnpnenR6NVp0czA1NjNLamMzNEIrNlpVbk1JaytCaVFOdnFTa1pIbmszckhOU2FZdGhPNzJJV0xJeGlqMGhjdjduMjI4eWM4MkZzUUxLOWptcHRqWTZlc3REZkgzT1NNYUFqK3BvQ0xLd1JGWHZYV2I2andNOW1HNG51MXl1ZzBDYzRMODl3NEVZZWs2ZG5WMTdWQmZJeEIyZG1GRlFkcDBrcXgzQk05Z2RNQXIwS1M3V0xPU2YzY241ZURJdERMUDJVVzdNV2FJUitHSjBFR2NFTDNlakJkdTB0bzZ2RGgwNEpjUk1OVTU1dXNtU24zanA3NG15eldFM2F6TUlUOTZ3cjM5RjYyYzNHL2xkR3NrYnFUSU1UazNnTWc2MXZOQlEwY0pTSXhWZGNnTmIzeEZEb3d3VnlJcVl6NTRGOFJxZzB1UUU0RklpVUdaeEpoTkQvQVdoa3VrcUlxTExaRXB4ajA3a1BCTjZaYjJwV2h0L1g1SnJDOHlKelBsdkZoZkpuZFE0amNnakZ5aHZ5bXIvYTE3dXhUS0hwS05XREVvTDRuTmE5L1ByZjdUWVJ3Nkd5bzZ2Y3dZY1VIazE3U01iOWFFZFZueDI0bXNOQ0RFS2JqME9WelJhQTNnRkplWFpQT2JxSkt2V3FGbGF2R3B4WG5QKzRaWVRsMERtY3JpNnZNZHdYNjg3QXBHK3lnaUdIWkR3TnpVNjhGNEpNUFE5SkI0NXZMa0NzRTJ3NTBRTlAxa0pabEk1NmRWR3pmSzFNeVJxUDRKNlZzaGVzZk9UNGh6UjZNWXEzNzNJb09ObEx2RU5kWVhONnBUeG81ZVJ6UWt3azJ0WjF6bVpxY3pDeXRxVEVocHdlS2NCQ0NaL0ZoaXpnTG04L3g1U2NCbE8wd0VYSFptOTBtcG1MMWdSL0oyQ1VuejN3RFU5OVlGRktxbTAxQVo4cTJTNUZuaDgxQ2JENjg3YzdLMk9qV2xaZ2R2RUpBOU0wSlQzZUtkSVJkOUdDeDZnMVRPNVBXVEU4T09waFVES2RhenlZbm1NcUZoRnhmSi8vY1dKVHNnWWJvbDJhN09iL1E2OUZ5M2tiOUs3YVpMekgrS2wvdUN6V25xVE9yUW9uVkw3TFRGUHI3d2JUYWVwZkFsNXpTZ01JbmpyR1hZK0dzcHcrZkNOZ0VVMXp5QzBTdXVtNlZGeUhCamRLV2Z0N3N0cnJPWHFPU1F3eHNZWHA0RjAxM21OOWdaeXU0SGM4NEE0ZHpJSE41VU5YbXhObit2UGpTODJKTTZrbHlTV0I5cExDekxCVWdYaU1EbGxhRzZmVDJQU0J2L2IreWFydXlXQlZjcHNPS3VFYVEzN1czQTN0OVlGUmNnQjVyRk1EandPbjNjMGxmc2crNVYrZEJYMkVtV0xUU2VsTlprZXE2N0NGbnhhS3RubHNBSlJQQnFZdm9XVlpjSktuMHpTZWxyTzJUd25haWxPN3pnQUhhTVJtUVliWG85YmVCczE2SldmN1Y4TGpZR1MvRFlVS1RURTF6S0VDQy9wSzFFS2Y2bXhJZ21WK21KK01jOGgwNHFlcCtva0lJRVhhTjM1MUozTjBWVWs3Y0VFYU9MRTFyRkYzVzR2cVJjb2RQZmJMcUlORjZRdFRzZm55MStPNDZKNWFobGFtWkV5eGdsWnRwakVrS2Q5eUtEc2d3bnpxb0FQTjVvNzZJc0krRlJhQmM4dTFxTEJXeHBLVTYxNWNoVFZlZ05GUjVWNG8xVDJKR3dWa3VlRDZDakFoT3BsUG5SeXY4c2F1TW5NeTJ3RU1BUlI2QW1DUThTNWViTDBuQ0VxalN6dE1vVXlBRWpRNkZEWXFrR3dldTQ4RGtCUjVIandsQmxvS1Zhd1ljRGV6eEtCSDhXV25NcEpLWmoxT2wrT0hNbWc1aXE5eERzd0x4MGlUTmt1amdhdE9rZVJVMGMvR21TU0grN0dUVE1MUUpkajUxbDNFa29qakV3V09qdzhYQk9tODhHcUM0YldQRUUrVS81WFl0Wk5KRy9YNEZZamdJdlZkNjlSWVZiTUVNZlBTS0o4MjVlM1hRNlJCZXNwL0crbGtNazRWSXhSYWt5VUJQTE8xdTBVWW5ORzlFeEFuUGRPTzBPZkZ2Y1BPTDlyQkpPOGJSK3E5THA5L2krZkgzMktrYU5SMldnb3hRWTNGWStyUzJOVXZ0Q09nWkFhRjl2bnkxNldHLzN6ZVV0UlA5VjI4UGNHaXZBSEF3d0NjUmswRDBpb2hqQWZnTC9FS1hKa3I4Z0lGcWJOcTdsWFVGUktxTWJwQmExODJvbDc3U3FKcTFNNXNldEdVSnVTQktxWUJZS2REWnYzWGRUL3U2SjVhS0trTHZBNWV6NlB1V1gwUlQ3a0VMU0tES2ZnOXc5bndTbU1tSkhqYm5yMGJsTTJXdnBpaXJSL25MaWQ2U1JOOSs1S29MVWIrcEx3M1F6RDhKbFMzWDJxMG00Qk5SeGZsdHI1S1dxcnlPdXVHRHQ2SU9IU0U4L3pxR1hNaVRxZ3JVT2ZESDU4Tm9XZTB0ZTRtRmMxR3hzd3ZoWlhXSlptYVdhTUpvMlNCbnVYYTcraklmRmJuaE5INzRaNmp5Z3djcVhzbGRZZkkvWmg4QlpicVRoMkk3SHU0NGRpbGZiWDhVaDE4TlZCM3BoUm5Ud3BVb25LcXVVcy9pWlhSbkRGanRFbUtnMllSUW0yQ1AxRldSYi9COTJIcUpsSFQ3SHMvVHBsM1JybHh2a29za3BObFc1My82VWpzZTBma0hMTmVVbTk3VGxEc2FSWHBmWmtSMXVXTVR3aFB2NG9ZTTJCdjk0MVIrYzduUTB5QmRGTlZRcFpSa3Blam1JZmpGcmRRVUE3RFB3UjY5YXE2UHptazNJWGFySU1LRzZSNE1CZGtCM2ozSFd4b2huWkxXcGFOeS9CTXhTKzg0ZTR2UFBmTy83K25MV1Zac2RwVVkvbkdEa1F0czBOR25ScFpLL2xXNjB0bW5jTW9UZXBZNWZNYm93MUd5S2hxU1hMYk9aa3o1OWw4REc5djlaSFB3QTFyb0t6M01XL2oydE4vVStsUFFWWVhUYTZoMWVQUWtTV1IyYnA5T0htQ0N2VDZzOHY5UFZHMnVmSzdka2JwWTUwMGdOeDdmZEFyekgzeUNqWTMzRmE1VGJPdXliTE5kVzhqdUp5SnRpa0RuKzVqTW5NeklXUC8rdjEyWGthWGoxOTV4azZlT0t1dkE1emVLazFpMVByU25tV0E0NkNhMmxkZ05xSjBydkxxTTlYMkVQbi9RdU1qTG5MZzBpVko0SDRyNVMyUGdwR2RTZGZWb2lYL3JCQXE2eVZEYzMwdjhET1VhZTRvcXVTTTBZRENJYWZMUStodkVtQjViL2YrUXNURnRBUjB6SVZXZUx5WWJtcngzZzlnSGhWUmZlbEN6OS9leGgxOUFHc3lYY3d1U2FCaUN6UUlvY3RZdnloaGtkQ3NDL2NkWkRjZS8xRmF2MzVKUXQrUkpGQWppTVJRaENkRTRlUzNTbWZzUkVIZTlMWmEwRWxPTGh4eHZzNXVTL1NuTVlzc3lLOUZ4aXVjUmpqT3FmYUlwMk44Q211TkpxZzNXdnRNaytNbGJBWWVqaTlLOTRyeDZVN25qOUwxVEdoVmNBeXorR2I0c2liMjFBVzk0SFJ6V2JUclJLRWt4NStLTEU2OVZjKzhDajFWdTJHa1oxQUEyRTRrYUoyYVRqc0VMMkMwc3JBSU5YUkFqbnh3STNwNUVEME5SWW45c1QxaVk5R1BCSndoaGQ2V1hFSi9aNDREMHJ1ZmFET0E4ZFVqMVNJcXl3UnMyYjdTalljQ1lTOGVlZmt3ZFdscE4wRHZuZWNkd0hWYzNUcXlDY1V5N0syUE1TMmwyS1pIelpmTENUQ1BhUHEvTlZjL05sYzVoVkpvRnZuTlVwS1daY1RzeFZlSGZIMW1uRUxSRUVDcTlZRVM5djZGY3ZPTkN4WExRbWYwazNTMmR5Tm1zeGJ2bFhNMHU3bFNxa3g4MW1kMHJhZDNFMzNQUHVQcERHTTlVaUJoU2VKbjNTZWpteCtMZExDaVpZY1Z4b3c1OW5DcXJVbVhHQWJzUjRPN3dWUXp5SGRMNkRYNXM4azVCakhYbE9OejBQYUlxUzg5eE1oa1lldE13Nnc3Slo1Yy9vSkJIMmpkWlBiUzZLYlIwUnBFZTE2QkFUTHpVNFFpSHlieEFycmpCTThNS0tQOFp6Nk1WYmcvZDh5Yjc2VThuUXpDSzRFcWE1b21iQm03LzZ4bzJkUjlPL0J5ZmNVNnFEdStlZmRMRkFQNExpQ3I2QzNhaWhEUGppZ1VZdXkwdm9MdVgzRmxldmw3eFhSdFJaNFZjNDhqMnRnQTd0SzB3cXY0T2pMd0N6WkpuOWxZSVF1U2NRQkVGTUJqQTZWajhGVHA0aDNPcGhCNmcwdUExM25UblZMbUtRK3pmRUxsKzZ6bldYNW5DV3Zid2FrMHQzcTRxd1dLM01BUEtFMnZxREVlQ3NGS3ZtSjJXcytWT3FuckErZWtDazlqYXN6QnNaZDcxSW5BRFdpalQ0U0hueVZtYzU1ZHY1aXZYbDFmRUQ0dndOcnhiaVpIV2VHaW5TM0ltY29EQVQxdkdpTHBQL0QzTmFpSVBxOUEyaDVEVDVTZ2FDVkNoMEpLdTdES3NIalc5WkFBQ1J4SGdUU281anJWV1VKZkdLd2VnMmF1UXVpdHRWaWRCK0phQ2R3WWQweDlvSjRqeUk1VXlnckI5TnppMmdiTFZjQ25wdSsxeXRzaVdDYkpiMVh4YXM4RmhHL0VYODZ0YUc2ZmxaWmF1aGFHbnBSeWZCQjVvakdkc2RQQlZIRXRiOFI5NTFvYU5UdktYSzdDZGRTZVdhZU9pMkZJRFBFaFdoQWsxOVJ6dVI5d1NLRXd2dmk4blFGejY0OStmVWxCTXVETDdWbVVCU3NDMUV4V3dxWSt1U2ROS293RWtwc0JiKy9LcFdsNm9HeHlteVIvZTR1S2ppcEJKclZQWGcwbkUyajZITDJKYkNITmgwMWxWKy8rNkZVZ2xoVjhHVHlwemR2ZGZoWWM3dDBaWXRreUgvMTd3RGFrVTdyMUdBZFVJWFhtdHhhbWhLMkZkZWxCYTRCUHJ5YmxDQzlnSkc5aHRKdWU5TE1yTlM3bU02Z2JSQTF4U0ZuV05zemlEdUdaZVMzRGN1NGJqc1dhSWVicmdObnhwbC9wTEd4VjVFdGtGd0RlaDhmUHlmUFU4Q1pBTS9MamszK1ZpN2pVdE5abVpNOCtmN2Q0d2xVSWtUSGlBVUxSVUt1ME9ERklleWsyMEJpcUxCN3Z2QVQzNDJTSURQK3o1RlBhYTZUanlxaC9Bc1gyakZoYmVJWEt4RE1iOGZpZDBqSEFXazZKS2hzd2J0dnRQNmJEeitsWWp2WElQd1YxWStueWZ0MnVNOGMxYVV4bURIQVVtWm5KQnZaWFQ0M214alhESFAwNVIxL2RLZm9FeGNnY1l6djN3TzVtYXppN3VnUzAxejZvVW1CeUt0ZlE2ZkEyK01ReW5QQ29ESGNwMWVEdGFnL0UzSFFwSE1XQWdHa05oOXdXUjVZNDhZRzBXNENndk9ybmdJMTExai94K01JdUg1eEZsVmt4cXB0U2pXK2huVmJ0OXF4dFhuZEVINVJ0bnhXZmQ5ZVAra2xpL3gzTFUxV0dzWlZBa1ZFbFhEMjc0TEJHSzBiTXZlRVViai82RXBub2NFbnZSU2xnbHBFNEdpQU81UzRKZFliNHVZZDZvZUs4dnVadlRRYVdNUzNkRUlKMnNzQ3hXejhEcVltYy9iMzh5bnowRFdDQ2VGMWdDeWlwYUxHMktxOXdxZkh6M1M2bTdDUytINDJubURZQXoyZFljeDc3TThwdXJHT1M1dFE0YXlrSlhJRFFCd0hqSUdTVSs1Mk0rMU9WNTNycDRCM0piSVhlY1FXRWpmazlna1ZvejhUNkhKYkloRmdtM3F1Tk1rK2NJeVJIbGovQmRVUlhZOG83SDdkQlFmc2RwTEpoQXN4Uy8xSnRNa1k4Sm9QNFlkeU94ekpZNXgvK0E5c2NPVFh2UFZvUUFNcWdtUDg5OXM2R3ZSdHpORkdYTFg3VkhTblVqN1ZQTzhLMXF4YVMvYS82di9ZaFJsVXROZ25xbnRoM0pvL0RLYmRoZFBuNkhnQjlZalU1R3VOMXVQeVVYWkpEWllmRndNZmRxTlBWb0k4ZDFjc29ITUs1dHF1R29LMDYwbUl3QkhNazNwRkdxQm9zYWpyOWcvNWtCUHJydHVJSUVQRlpuYUFLU0NRcUxkZVFxMkI2QnM4V3hEOCtEZnpHSjJudTBYZWI1OHNwUG9pSFpBVlYrSTVsUlVzZVVFMElBNEU4NDRVekZZQUROWWNMQlczenNQN2FXekxuVVpvUVB1SURSM0ZYM2JrTTVtQ3VudlhhUFNpNFBSa0tuSXRFdjgvT1lpcThSU0tRY2FUd3hYOVlnZE5iZ1B1WEx3YjVBUm9mdjBaajNXcEhoTm5sVHEyUXUvbHd2TTNQVWFxdjhMN2twRnFRUjlhUmFYZkZhbmJMZ2J5eEoya0F4OW9BMWtSTXlIM0pYSTA2b1FoUmlaUTFMdFd6K1FLS3htZTB6QWdJMnE2L2RtWUFwc0E3V0dlQmFlNStZM2Vxa3FEalh5UzdRK0x6WWdyTTNFaXFHSHNpYmFLWktnRmVjeHBHaU1MWFk1K2trdURLQmRNa2oyQmQ4dVRLSSthVFdwdTk3Z05wNzhmbTg5MXpZdVQ2OHNJRXpFNUpnZ3BXamxXRlNwellheXh2bk94SjNKWUsvcThXYkN5MTRLaHRDRmhkTE94Q0VBdnlxWE4zSytvUDUyWnpkeEhpQ0FhYzVMWDJUTzVDVG1reHA2ekNUNUpaRElCZ25ubVFVOEdCb3dFdm9nZlBuaTE3ZkUxc2xqZDU1UDJDNG1XQ05EcjhsM2hNSCs0enB5WnFwM2lGYkp4MjBuR3RVKzlMSm96bDBPeE5yay9jMEM5Y2hFZStrNHZVRUNuVWFYYlM4SnFkbnltcWJaMVNDSSs0KzFCWU1XNG56WUtETGFxTDNObTA4Qy9VZzd6TmcyQnV3aFdlcFhya3FhUlg1OExDV0xQRFF5VXpuMzY5RTFkcnRla2V1TmNJNFNnZG15UVovN3hoWFo2c09LZzlHL0hFaUpRc3JpUlFUaHZIejRCaGFGYVhpYzRubHJ6NExoVXRoR0JMYm5uQjZ0dWZKaXpZeDRjNmIyclkxRTYzcExEQThRZFpzVE9EN2V1Tk1rdTFhMFQybk5ROXJPUEJZUER5a3NhUCtFbUtUdnFjZ1J5Y0tNdHpoSGgzN21BcVZFUnV6SUlNcy96WEU5akdCcEpCQldiOEtDUFpuZTZTeHcwK1VGbFk2L1ZlWEpVSHVuSFhZMWNzZmM0MFR3OTVYcmtwTHp4cVgvTHJzYVlNN1kwVVEvUWU2UFRqTVFVWERzZVNNaFl3SFRYQ29oeVNRKzFmSWp6L3lqWldSRkkxL2E0ZDllUXpXTG9Hano4TzhsZFBoemhwV0Z3d2xhUjBUMWdwTVAzVmVIdkRPeDRSSm9jSEpPU1JRK0g0L25ISnNpdVhXREtvd1laWlc4Sms5dlVpdzJqRXhlZG43Z2xBc0MvYmdOMU5yZ0lwMXkreTN0bUxkMlY5eDd5S1ZDK1FLNk1PRnExOWRsUWZsajM1MHFVYXZCVUxNQ1RuMEJ2Q1JRWTRxNlZqbmlVNlhISVNVc2FBcENWb1FlZXZBT3VDVUZjbndXZksrNDRYRG8xcVNwUEYxd2NuYkg3TjlhTytBekQyMTJQZ0ZsR2tYbGFRM0diZno5WElVTWp1bGdHVVJFZWxyNklYK3RSMks5SC95ZXA5NTl6NVdMWGxaODFaOEhDSVY4Q3lVMEpLWXprSWVGcWY2bzJ5d2IyTzczb1JpN2k4RjZWY24yelUxVldacExmU1hnVE5rUnRxTTdyNXMxM1VpbUxXdEFWWnM5N3JMY01SbHdYellwOThabkt2UUxqL2RwS244bmZOblU5VjJCcDkwZnJsUWVkZUt0NnpkNG1QUjUzRktRMUo0cjk1bjFHOHBoMFhHMzdEQzliMTg1c1dibm95QzRRMWlVdnl5NUlPeEJySXFicW4vSlNVV3pkcmxPaVpHREpyVTVJR3V6VWw1VGF1cFVUSWdGZUxmVDZ1aDBnSUVKNW5aUS84WGpCMG1tRVp4VHZvY3JVL0JGb09hVXZWL040OFczVy9hUXU1blIzS3dzU0J5ZlNEQUVxNnFCcVRWVGtadGthQWQvMVJpZTJqa2RSbFp2eEZNdTBNR25MYzBTSFBJSThlT3ovYmpmSWhTUWhBYjM4ZFNSY0ZtZlJiK2ZwRHJESGVhekVENkVITmF5eTBrRVNvUkcrWEZiSmE2eFdCNk9sYndIVkR3ZE85S2E3YklPcUxSSHBaandYbXYvMkRSOW51KzJ4d3hFMzljQkhxLzdWdjk5SGN2SDhaSmVHbWdIcjhtQktRbU9DVGt2TGt4ZjVrNEZycVp1TnBhUk5oQ0IzcHVGdUY1ZDJublFiaGdBYUFOTE1DWUFpR3NKaFgyYkZNL3IzQkdoUi9ka0dQWGVCUVVKNHRUQVJRblZxQTA3bVcvNDJEdjJrN1dhN2hXVS93djdGVElXTHdXeUhYMFZxZGc0QkhybEo3emgrYitUNmZIK1czZDUzTFM1cmtYSzVHSWN0TUl0dEsrb3NmR1lJdk9EMEJra1hCSlIwRVlVbXRlVG9JeHBvYU1WS1ptQ1JDMkJibUJMZFVUSVppSTFrVllLWW5xOVE1eE1HT0R1KzZ2Q1Qyb2Z2WUUwcG1HYlE5TG42d25CRFlaVUQvQkw5cm1pUG4zbjI4WnMzM09zSFVRY0xwMnZqVUVWNXNPQkxPMlNjeWVzY0d1ME41OHkxcTFOU05KdVhDekk0ZnU0UldKdFNJbjNQMys5ZUFzTW8vMk51cEZlYWY3MC91c0xHZDJaMEYyN0VqTG9JaitubUo0L1E1ZWRQRmhWTnBQVVJRclV6UEFMTk56RXZ4M2U4MnJEdFBwYlpqdWd2N0FibTJxMnZNR3d6NVcraEdIMGhrQ3pYZFpoUEZiTGswc1I1dlZoU2NMZ0FQZFpJVlpJalR1endJS1Z1V212cE1yN0d3eGdpZ2xweThlY2ZPQVpjQ3BYUnpHNmxOdVJCNjRENEc5QVdEOXZRaS9jcldWNFhxNVZqSm5SalFjM2c0YkplK01ta3NqRWN0Z2huMjduNWk1UEhadlcvZ00wQnNYem84UG91NnlPTG5wNDlkR1hwSy9vTEFiT2RPZWw5aCtrRHFFdFp1bnZzWGE5RUZvbWRsMFFiRHZrK0g1OFNqc3pDVnFWT1hTZ0RwT2RaalhXZlpwRkw2Uy9mZDFMcThGUVMzTGtsZ2lOaGR2RTVHemdTTzh1cTNndGo4STJvK0p6dWNuclVTcnRveGE2SWVqbVZRTEd6RjNyU0N5M2ZkaEJQaFpuRGRnY3RDODlkUkorUFRmVzRnYTVXV0F5YVdzcHpGZzUyNTFGb0J5QjhMVWJEM0F4aHZWNk0xQVJOWFJKNE5oUGUyajlXT2x1NUkyS21DTUd2R1A1Q2JIQXlaazNZaGl1SWR0RGdPdnJlOUN6MHlPV3ZISDVGcFpRenF6eUhFNVhrVFRGTVUySmhHMW52bmU5U0NpOXpOdlBuR2o5aC9iUVhncHVlNzhycG9nWEpsOG9EU2ZNd3o5ZnA0b2N5T3hFVjFKQ0VzbFNzUnZvZEV6UGJVc01VWVdERVJOelI2ZjQ1S3U2RW1XM3FkRDQ4ZGNGUXRjOXJyMndGM284NWVkWi8yU1kwQlNrT2RRWDFhaHdQVkJQNTU0UTFaNGxiZDBkL3ZyUkNPNWszUUJXT2IzaU1MMHZJNE1Sa2lLd3F0NzM1UTJma3EwWGwxcEkzbms0bGw1MWNTRUhPckZUY3RreHdMT2lRbDZISmgycTNpcUhGbXRPQ1NvMEE0WUxsK21sbG9sbTdGTHBlLzc5Z01vZTdBNWNiRlBDYlg5WjNHaEk0M0ZnQmJXb3E4cHdhSW9EbGtsUmltVmF1T3gzNTVwdjd2MjZQME1McmdpcVdUT3hKYUlHTy9VaEhmN0dTT20wcjFPNW0xc1BZWW4xYmF0aG1Fa1lmclFMaUVXUTIvM0lqdW5zSXhnQW1pNnQ0SnN4YWxZeEU0WXl2RDU5RXB6dnN3T2paVXZTZ2tId1Bab25WdGFpTVRMWG5WM3AwZEtwQ1NTejM4S3Y4UWJORnpxTGJ3YkJCUlVIdy9uSFN4TmlwTm01dnRqZmt1ZjA2aldSd2tjdGd1OHdacUt3Uy83SWNHbkZ0bXduYkpGUGhwR2N5VjlHVkZ6Q0NHK1RPZU5nQVd4T1VQZ210TGREOEphd1ZWRFYrZTNpUjhrSHVhWlhJa25uY0kvM3VGbmJsVGQyUC9PZFd2eGwrOUNYYnFKYjFDUzhvc2cyZmcvcWFBOUt2TTNGUW9aUTc5SlJaQy9VcG05MEFCUENHemtzVFdKN1h5OVZIcG5QWkNnR3pBVmJKaG11cnE4dG0yNEJqQnZubTFHT0tmb3R2Q3FYeUlYRkUxYllUUlMxV3R6Z1pyR1dnUi9vT1VEbk5nRFBYcVVmVG15RlBmTkNEOU1YMjJodnVCYW5zL0tsMUR1c3RpVHVubDlLcmF2ajBORzFEczVua1RxbFFTWU9maGd2Uklvd2ltbVdBWVdtYTU1ZXF2YVFMOUd2SG11SC9oSVZCL3RpTjZzN3lPVzJpYWhSZUw4ZE5kZEliTUo2QkxWZ3VKNG4xZG5xdVYzWk5xaTZWMEgvVm4wMGowY0U4MEVSc1pUZ3NIUEowZVVqeFlpaytlRHRhRUhueUFzWWVSMkFqUmNHdz09XCIpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApfSkpLGk9bmV3IFVpbnQ4QXJyYXkoWzE3NywxNTYsMjE1LDg5LDEzLDExMSwyMzAsMV0pLG89bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgpLGE9bmV3IFVpbnQ4QXJyYXkoMjU2KSxzPTA7czwyNTY7cysrKWFbc109czt2YXIgYyxkPTA7Zm9yKHM9MDtzPDI1NjtzKyspe2Q9KGQrYVtzXStpW3MlaS5sZW5ndGhdKSUyNTY7dmFyIHU9W2FbZF0sYVtzXV07YVtzXT11WzBdLGFbZF09dVsxXX1zPTAsZD0wO2Zvcih2YXIgbD0wO2w8MCtuLmxlbmd0aDtsKyspe2Q9KGQrYVtzPShzKzEpJTI1Nl0pJTI1Njt2YXIgZj1bYVtkXSxhW3NdXTthW3NdPWZbMF0sYVtkXT1mWzFdLGM9YVsoYVtzXSthW2RdKSUyNTZdLGw+PTAmJihvW2wtMF09bltsLTBdXmMpfXJldHVybiBOPSEwLG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXsoZnVuY3Rpb24oZSx0KXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZSx0KX0pKG8uYnVmZmVyLHQpLnRoZW4oKGZ1bmN0aW9uKHQpe049ITEscj10Lmluc3RhbmNlLmV4cG9ydHMsZS5fX3diaW5kZ2VuX3dhc21fbW9kdWxlPXQubW9kdWxlLG4oKX0pKX0pKX0oKS50aGVuKChmdW5jdGlvbigpe3c9Qy5uZXcoKSxlKHcpfSkpfSkpKS50aGVuKChmdW5jdGlvbihlKXtMPWV9KSk7dmFyIFU9ITA7c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7T2JqZWN0KGMuZ2V0UGFyYW1ldGVyKShcIlVQTE9BRF9MT0dcIikmJmouaW5mbyhcImNvbnNvbGUgbG9nIHVwbG9hZFwiKX0pLDllNSk7dmFyIGo9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHUsbD1udWxsLGY9W1wiREVCVUdcIixcIklORk9cIixcIldBUk5JTkdcIixcIkVSUk9SXCIsXCJOT05FXCJdLHA9MCxnPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGU9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntsb2dfaXRlbV9pZDpEKyssbG9nX2xldmVsOmUubG9nX2xldmVsLHBheWxvYWRfc3RyOmUucGF5bG9hZH19KSkscj17dGltZXN0YW1wOkRhdGUubm93KCksc2RrX3ZlcnNpb246Yy5WRVJTSU9OLHByb2Nlc3NfaWQ6T2JqZWN0KGQuZ2V0UHJvY2Vzc0lkKSgpLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkoZSl9LEw/ci5oYXNoPUwuZ2V0X2RpZ2VzdChcIlwiLmNvbmNhdChyLnBheWxvYWQpLmNvbmNhdChyLnByb2Nlc3NfaWQpLmNvbmNhdChyLnRpbWVzdGFtcCkpOm4mJm4oKTt0cnl7dmFyIGk9bCxvPWx8fFwiaHR0cHM6Ly9cIi5jb25jYXQoT2JqZWN0KGMuZ2V0UGFyYW1ldGVyKShcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiL3VwbG9hZC92MlwiKTtPYmplY3Qocy5wb3N0KShvLHIsKGZ1bmN0aW9uKGUpe1wiT0tcIj09PWU/dCYmdChlKTpuJiZuKGUpfSksKGZ1bmN0aW9uKGUpe24mJm4oZSl9KSxpP3t3aXRoQ3JlZGVudGlhbHM6ITB9Ont3aXRoQ3JlZGVudGlhbHM6ITAsXCJDYWNoZS1Db250cm9sXCI6XCJuby1jYWNoZSwgbm8tc3RvcmVcIixQcmFnbWE6XCJuby1jYWNoZVwiLEV4cGlyZXM6XCIwXCJ9KX1jYXRjaChlKXtuJiZuKGUpfX0sbT1mdW5jdGlvbihlLHQpe2lmKE9iamVjdChjLmdldFBhcmFtZXRlcikoXCJVUExPQURfTE9HXCIpKXRyeXt0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpO3ZhciBuPVwiXCI7aWYodC5mb3JFYWNoKChmdW5jdGlvbihlKXtcIm9iamVjdFwiPT09bygpKGUpJiYoZT1KU09OLnN0cmluZ2lmeShlKSksbj1uK2UrXCIgXCJ9KSksTS5wdXNoKHtwYXlsb2FkOm4sbG9nX2xldmVsOmV9KSxVKXJldHVybjtcImZyZWVcIj09PWsmJmZ1bmN0aW9uIGUodCl7az1cInVwbG9hZGluZ1wiLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Zyh0LChmdW5jdGlvbigpe3g9MCwwIT09TS5sZW5ndGg/KFA9TS5sZW5ndGg8MTA/TS5zcGxpY2UoMCxNLmxlbmd0aCk6TS5zcGxpY2UoMCwxMCksZShQKSk6az1cImZyZWVcIn0pLChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZShQKX0pLHgrKzwyPzIwMDoxZTQpfSkpfSksM2UzKX0oUD1NLmxlbmd0aDwxMD9NLnNwbGljZSgwLE0ubGVuZ3RoKTpNLnNwbGljZSgwLDEwKSl9Y2F0Y2goZSl7fX07dD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bMF0sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7ZS5hcHBseSh0aGlzLHQpfSxuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVsxXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTtlLmFwcGx5KHRoaXMsdCl9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WzJdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO2UuYXBwbHkodGhpcyx0KX0saT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bM10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7ZS5hcHBseSh0aGlzLHQpfTt2YXIgaD17fTtyZXR1cm4gdT1mdW5jdGlvbihlKXtoW2VdfHwoci5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSxoW2VdPSEwKX0se0RFQlVHOjAsSU5GTzoxLFdBUk5JTkc6MixFUlJPUjozLE5PTkU6NCxzdG9wV2FpdEpvaW46ZnVuY3Rpb24oKXtVPSExfSxlbmFibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXtPYmplY3QoYy5zZXRQYXJhbWV0ZXIpKFwiVVBMT0FEX0xPR1wiLCEwKX0sZGlzYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe09iamVjdChjLnNldFBhcmFtZXRlcikoXCJVUExPQURfTE9HXCIsITEpfSxzZXRQcm94eVNlcnZlcjpmdW5jdGlvbihlKXtsPWU/XCJodHRwczovL1wiLmNvbmNhdChlLFwiL2xzLz9oPVwiKS5jb25jYXQoT2JqZWN0KGMuZ2V0UGFyYW1ldGVyKShcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiJnA9NDQzJmQ9dXBsb2FkL3YyXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoT2JqZWN0KGMuZ2V0UGFyYW1ldGVyKShcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiL3VwbG9hZC92MlwiKX0sc2V0TG9nTGV2ZWw6ZnVuY3Rpb24oZSl7ZT40P2U9NDplPDAmJihlPTApLHA9ZX0sbG9nOmU9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHNbMF0sdD1hcmd1bWVudHM7aWYodFswXT1hKCkrXCIgQWdvcmEtU0RLIFtcIisoZltlXXx8XCJERUZBVUxUXCIpK1wiXTpcIixtKGUsdCksIShlPHApKXN3aXRjaChlKXtjYXNlIDA6Y2FzZSAxOmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsdCk7YnJlYWs7Y2FzZSAyOmNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLHQpO2JyZWFrO2Nhc2UgMzpjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLHQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSx0KX19LGRlYnVnOnQsaW5mbzpuLHdhcm5pbmc6cixkZXByZWNhdGU6dSxlcnJvcjppfX0oKTt0LmRlZmF1bHQ9an0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcInJlcG9ydFwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LFwiU0VTU0lPTl9JTklUXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKHQsXCJKT0lOX0NIT09TRV9TRVJWRVJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCxcIkpPSU5fR0FURVdBWVwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLG4uZCh0LFwiUFVCTElTSFwiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZCh0LFwiU1VCU0NSSUJFXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKHQsXCJnZXRQcm9jZXNzSWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDQ2KSxpPW4ubihyKSxvPW4oNyksYT1uLm4obykscz1uKDIpLGM9bigwKSxkPW4oMTQpLHU9bigyOCksbD1uLm4odSksZj1uKDQ3KTtmdW5jdGlvbiBwKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBnKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIG0saCx2PVwic2Vzc2lvbl9pbml0XCIsRT1cImpvaW5fY2hvb3NlX3NlcnZlclwiLFM9XCJqb2luX2dhdGV3YXlcIixfPVwicHVibGlzaFwiLHk9XCJzdWJzY3JpYmVcIixSPW5ldyhuLm4oZikuYSksVD17ZXZlbnRUeXBlOm51bGwsc2lkOm51bGwsbHRzOm51bGwsc3VjY2VzczpudWxsLGNuYW1lOm51bGwsdWlkOm51bGwscGVlcjpudWxsLGNpZDpudWxsLGVsYXBzZTpudWxsLGV4dGVuZDpudWxsLHZpZDowfSxJPW51bGwsYj1mdW5jdGlvbigpe3JldHVybiBJfHwoST1cInByb2Nlc3MtXCIrbCgpKCksYy5kZWZhdWx0LmluZm8oXCJwcm9jZXNzSWQ6IFwiK0kpKSxJfSxBPShoPTAsKG09e2xpc3Q6e30sc2V0UHJveHlTZXJ2ZXI6ZnVuY3Rpb24oZSl7Ui5zZXRQcm94eShlKSxtLnByb3h5U2VydmVyVVJMPWV9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiBtLnByb3h5U2VydmVyVVJMP1wiaHR0cHM6Ly9cIi5jb25jYXQobS5wcm94eVNlcnZlclVSTCxcIi9ycy8/aD1cIikuY29uY2F0KE9iamVjdChzLmdldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpLFwiJnA9NjQ0MyZkPWV2ZW50cy9tZXNzYWdlXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoT2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCI6NjQ0My9ldmVudHMvbWVzc2FnZVwiKX0sZ2V0QmFja1VybDpmdW5jdGlvbigpe3JldHVybiBtLnByb3h5U2VydmVyVVJMP1wiaHR0cHM6Ly9cIi5jb25jYXQobS5wcm94eVNlcnZlclVSTCxcIi9ycy8/aD1cIikuY29uY2F0KE9iamVjdChzLmdldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIiZwPTY0NDMmZD1ldmVudHMvbWVzc2FnZVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KE9iamVjdChzLmdldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIjo2NDQzL2V2ZW50cy9tZXNzYWdlXCIpfSxnZXRTZXNzaW9uU3RhcnRUaW1lOmZ1bmN0aW9uKGUpe3JldHVybiBtLmxpc3RbZV0/bS5saXN0W2VdLnN0YXJ0VGltZTooYy5kZWZhdWx0LkRFQlVHKFwiW2dldFNlc3Npb25TdGFydFRpbWVdOiBzZXNzaW9uIFwiLmNvbmNhdChlLFwiIG5vIGV4aXRcIikpLDApfSxzZXNzaW9uSW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxUKTtuLnN0YXJ0VGltZT0rbmV3IERhdGUsbi5zaWQ9ZSxuLmNuYW1lPXQuY25hbWUsbS5saXN0W2VdPW47dmFyIHI9YSgpKHt9LHt3aWxsVXBsb2FkQ29uc29sZUxvZzpPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiVVBMT0FEX0xPR1wiKSxhcmVhVmVyc2lvbjpcImdsb2JhbFwifSx0LmV4dGVuZCksaT1hKCkoe30sbik7aS5ldmVudFR5cGU9dixpLmFwcGlkPXQuYXBwaWQsaS5icm93c2VyPW5hdmlnYXRvci51c2VyQWdlbnQsaS5idWlsZD1zLkJVSUxELGkubHRzPStuZXcgRGF0ZSxpLmVsYXBzZT1pLmx0cy1pLnN0YXJ0VGltZSxpLmV4dGVuZD1KU09OLnN0cmluZ2lmeShyKSxpLm1vZGU9dC5tb2RlLGkucHJvY2Vzcz1iKCksaS5zdWNjZXNzPXQuc3VjYyxpLnZlcnNpb249cy5WRVJTSU9OLGRlbGV0ZSBpLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJTZXNzaW9uXCIsZGF0YTppfSksbS5fZmx1c2hJbnZva2VSZXBvcnQoZSl9LGpvaW5DaG9vc2VTZXJ2ZXIyOmZ1bmN0aW9uKGUsdCxuKXtpZihtLmxpc3RbZV0pe20ubGlzdFtlXS51aWR8fCh0LnVpZCYmKG0ubGlzdFtlXS51aWQ9cGFyc2VJbnQodC51aWQpKSx0LmNpZCYmKG0ubGlzdFtlXS5jaWQ9cGFyc2VJbnQodC5jaWQpKSx0LnZpZCYmKG0ubGlzdFtlXS52aWQ9cGFyc2VJbnQodC52aWQpKSk7dmFyIHI9YSgpKHt9LG0ubGlzdFtlXSk7ci5ldmVudFR5cGU9RTt2YXIgaT10Lmx0cztyLmx0cz1EYXRlLm5vdygpLHIuZXZlbnRFbGFwc2U9ci5sdHMtaSxyLmNob29zZVNlcnZlckFkZHI9dC5jc0FkZHIsci5lcnJvckNvZGU9dC5lYyxyLmVsYXBzZT1yLmx0cy1yLnN0YXJ0VGltZSxyLnN1Y2Nlc3M9dC5zdWNjLHIuY2hvb3NlU2VydmVySXA9dC5jaG9vc2VTZXJ2ZXJJcHx8XCJcIixyLmNob29zZVNlcnZlckFkZHJMaXN0PUpTT04uc3RyaW5naWZ5KHQuc2VydmVyTGlzdCksZGVsZXRlIHIuc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIkpvaW5DaG9vc2VTZXJ2ZXJcIixkYXRhOnJ9KX19LGpvaW5DaG9vc2VTZXJ2ZXI6ZnVuY3Rpb24oZSx0LG4pe2lmKG0ubGlzdFtlXSl7biYmKHQudWlkJiYobS5saXN0W2VdLnVpZD1wYXJzZUludCh0LnVpZCkpLHQuY2lkJiYobS5saXN0W2VdLmNpZD1wYXJzZUludCh0LmNpZCkpLHQudmlkJiYobS5saXN0W2VdLnZpZD1wYXJzZUludCh0LnZpZCkpKTt2YXIgcj1hKCkoe30sbS5saXN0W2VdKTtyLmV2ZW50VHlwZT1FO3ZhciBpPXQubHRzO3IubHRzPURhdGUubm93KCksci5ldmVudEVsYXBzZT1yLmx0cy1pLHIuY2hvb3NlU2VydmVyQWRkcj10LmNzQWRkcixyLmVycm9yQ29kZT10LmVjLHIuZWxhcHNlPXIubHRzLXIuc3RhcnRUaW1lLHIuc3VjY2Vzcz10LnN1Y2Msci5jaG9vc2VTZXJ2ZXJJcD10LmNob29zZVNlcnZlcklwfHxcIlwiLHIuY2hvb3NlU2VydmVyQWRkckxpc3Q9SlNPTi5zdHJpbmdpZnkodC5zZXJ2ZXJMaXN0KSxkZWxldGUgci5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiSm9pbkNob29zZVNlcnZlclwiLGRhdGE6cn0pfX0scmVxVXNlckFjY291bnQ6ZnVuY3Rpb24oZSx0KXt0LnZpZCYmKG0ubGlzdFtlXS52aWQ9cGFyc2VJbnQodC52aWQpKTt2YXIgbj1hKCkoe30sbS5saXN0W2VdKSxyPXQubHRzO24uZXZlbnRUeXBlPVwicmVxX3VzZXJfYWNjb3VudFwiLG4ubHRzPURhdGUubm93KCksbi5zdWNjZXNzPXQuc3VjY2VzcyxuLnNlcnZlckFkZHJlc3M9dC5zZXJ2ZXJBZGRyZXNzLG4uc3RyaW5nVWlkPXQuc3RyaW5nVWlkLG4udWlkPXQudWlkLG4uZXJyb3JDb2RlPXQuZXJyb3JDb2RlLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4uZXZlbnRFbGFwc2U9bi5sdHMtcixuLmV4dGVuZD1cInN0cmluZ1wiPT10eXBlb2YgdC5leHRlbmQ/dC5leHRlbmQ6SlNPTi5zdHJpbmdpZnkodC5leHRlbmQpLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJSZXFVc2VyQWNjb3VudFwiLGRhdGE6bn0pfSxqb2luR2F0ZXdheTpmdW5jdGlvbihlLHQpe3QudmlkJiYobS5saXN0W2VdLnZpZD1wYXJzZUludCh0LnZpZCkpLHQudWlkJiYobS5saXN0W2VdLnVpZD1wYXJzZUludCh0LnVpZCkpO3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pLHI9dC5sdHM7bi5ldmVudFR5cGU9UyxuLmZpcnN0U3VjY2Vzcz10LmZpcnN0U3VjY2VzcyxuLmx0cz1EYXRlLm5vdygpLG4uZ2F0ZXdheUFkZHI9dC5hZGRyLG4uc3VjY2Vzcz10LnN1Y2Msbi5lcnJvckNvZGU9dC5lYyxuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLmV2ZW50RWxhcHNlPW4ubHRzLXIsZGVsZXRlIG4uc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIkpvaW5HYXRld2F5XCIsZGF0YTpufSl9LHB1Ymxpc2g6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1fO3ZhciByPXQubHRzO24ubHRzPURhdGUubm93KCksbi5ldmVudEVsYXBzZT1uLmx0cy1yLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4uc3VjY2Vzcz10LnN1Y2Msbi5lcnJvckNvZGU9dC5lYyxuLmF1ZGlvPXQuYXVkaW8sbi52aWRlbz10LnZpZGVvLG4uc2NyZWVuc2hhcmU9dC5zY3JlZW5zaGFyZSxuLnB1Ymxpc2hSZXF1ZXN0aWQ9dC5wdWJsaXNoUmVxdWVzdGlkLG4ucDJwaWQ9dC5wMnBpZCx0LnZpZGVvTmFtZSYmKG4udmlkZW9OYW1lPXQudmlkZW9OYW1lKSx0LmF1ZGlvTmFtZSYmKG4uYXVkaW9OYW1lPXQuYXVkaW9OYW1lKSx0LnNjcmVlbk5hbWUmJihuLnNjcmVlbk5hbWU9dC5zY3JlZW5OYW1lKSxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiUHVibGlzaFwiLGRhdGE6bn0pLG0uX2ZsdXNoSW52b2tlUmVwb3J0KGUpfSxzdWJzY3JpYmU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT15O3ZhciByPXQubHRzO24ubHRzPURhdGUubm93KCksbi5ldmVudEVsYXBzZT1uLmx0cy1yLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4uZXJyb3JDb2RlPXQuZWMsbi5zdWNjZXNzPXQuc3VjYyxuLnN1YnNjcmliZVJlcXVlc3RpZD10LnN1YnNjcmliZVJlcXVlc3RpZCxuLnAycGlkPXQucDJwaWQsaXNGaW5pdGUodC5wZWVyaWQpP24ucGVlcj10LnBlZXJpZDpuLnBlZXJTdWlkPVwiXCIrdC5wZWVyaWQsXCJib29sZWFuXCI9PXR5cGVvZiB0LnZpZGVvJiYobi52aWRlbz10LnZpZGVvKSxcImJvb2xlYW5cIj09dHlwZW9mIHQuYXVkaW8mJihuLmF1ZGlvPXQuYXVkaW8pLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJTdWJzY3JpYmVcIixkYXRhOm59KSxtLl9mbHVzaEludm9rZVJlcG9ydChlKX0sZmlyc3RSZW1vdGVGcmFtZTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwiZmlyc3RfcmVtb3RlX2ZyYW1lXCI7dmFyIHI9dC5sdHM7bi5sdHM9RGF0ZS5ub3coKSxuLmV2ZW50RWxhcHNlPW4ubHRzLXIsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi53aWR0aD10LndpZHRoLG4uaGVpZ2h0PXQuaGVpZ2h0LG4uc3VjY2Vzcz10LnN1Y2Msbi5lcnJvckNvZGU9dC5lYyxpc0Zpbml0ZSh0LnBlZXJpZCk/bi5wZWVyPXQucGVlcmlkOm4ucGVlclN1aWQ9XCJcIit0LnBlZXJpZCxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiRmlyc3RGcmFtZVwiLGRhdGE6bn0pfSxmaXJzdFZpZGVvUmVjZWl2ZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cImZpcnN0X3ZpZGVvX3JlY2VpdmVkXCIsbi5sdHM9RGF0ZS5ub3coKSxuLnBlZXI9dC5wZWVyaWQsbi51aWQ9dC51aWQsbi5lbGFwc2U9dC5lbGFwc2Usbi5zdWJzY3JpYmVFbGFwc2U9dC5zdWJzY3JpYmVFbGFwc2Usbi5zdWJzY3JpYmVSZXF1ZXN0aWQ9dC5zdWJzY3JpYmVSZXF1ZXN0aWQsbi5wMnBpZD10LnAycGlkLG0uc2VuZCh7dHlwZTpcIkZpcnN0VmlkZW9SZWNlaXZlZFwiLGRhdGE6bn0pfSxmaXJzdEF1ZGlvUmVjZWl2ZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cImZpcnN0X2F1ZGlvX3JlY2VpdmVkXCIsbi5sdHM9RGF0ZS5ub3coKSxuLnBlZXI9dC5wZWVyaWQsbi51aWQ9dC51aWQsbi5lbGFwc2U9dC5lbGFwc2Usbi5zdWJzY3JpYmVFbGFwc2U9dC5zdWJzY3JpYmVFbGFwc2Usbi5zdWJzY3JpYmVSZXF1ZXN0aWQ9dC5zdWJzY3JpYmVSZXF1ZXN0aWQsbi5wMnBpZD10LnAycGlkLG0uc2VuZCh7dHlwZTpcIkZpcnN0QXVkaW9SZWNlaXZlZFwiLGRhdGE6bn0pfSxmaXJzdFZpZGVvRGVjb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJmaXJzdF92aWRlb19kZWNvZGVcIixuLmx0cz1EYXRlLm5vdygpLG4ucGVlcj10LnBlZXJpZCxuLnVpZD10LnVpZCxuLmVsYXBzZT10LmVsYXBzZSxuLnZpZGVvd2lkdGg9dC53aWR0aCxuLnZpZGVvaGVpZ2h0PXQuaGVpZ2h0LG4uc3Vic2NyaWJlRWxhcHNlPXQuc3Vic2NyaWJlRWxhcHNlLG4uc3Vic2NyaWJlUmVxdWVzdGlkPXQuc3Vic2NyaWJlUmVxdWVzdGlkLG4ucDJwaWQ9dC5wMnBpZCxtLnNlbmQoe3R5cGU6XCJGaXJzdFZpZGVvRGVjb2RlXCIsZGF0YTpufSl9LGZpcnN0QXVkaW9EZWNvZGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cImZpcnN0X2F1ZGlvX2RlY29kZVwiLG4ubHRzPURhdGUubm93KCksbi51aWQ9dC51aWQsbi5wZWVyPXQucGVlcmlkLG4uZWxhcHNlPXQuZWxhcHNlLG4uc3Vic2NyaWJlRWxhcHNlPXQuc3Vic2NyaWJlRWxhcHNlLG4uc3Vic2NyaWJlUmVxdWVzdGlkPXQuc3Vic2NyaWJlUmVxdWVzdGlkLG4ucDJwaWQ9dC5wMnBpZCxtLnNlbmQoe3R5cGU6XCJGaXJzdEF1ZGlvRGVjb2RlXCIsZGF0YTpufSl9LG9uQWRkQXVkaW9TdHJlYW06ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cIm9uX2FkZF9hdWRpb19zdHJlYW1cIixuLmx0cz1EYXRlLm5vdygpLG4udWlkPXQudWlkLG4ucGVlcj10LnBlZXJpZCxtLnNlbmQoe3R5cGU6XCJPbkFkZEF1ZGlvU3RyZWFtXCIsZGF0YTpufSl9LG9uQWRkVmlkZW9TdHJlYW06ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cIm9uX2FkZF92aWRlb19zdHJlYW1cIixuLmx0cz1EYXRlLm5vdygpLG4udWlkPXQudWlkLG4ucGVlcj10LnBlZXJpZCxtLnNlbmQoe3R5cGU6XCJPbkFkZFZpZGVvU3RyZWFtXCIsZGF0YTpufSl9LG9uVXBkYXRlU3RyZWFtOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJvbl91cGRhdGVfc3RyZWFtXCIsbi5sdHM9RGF0ZS5ub3coKSxuLnVpZD10LnVpZCxuLnBlZXI9dC5wZWVyaWQsbi5hdWRpbz10LmF1ZGlvLG4udmlkZW89dC52aWRlbyxtLnNlbmQoe3R5cGU6XCJPblVwZGF0ZVN0cmVhbVwiLGRhdGE6bn0pfSxvblJlbW92ZVN0cmVhbTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwib25fcmVtb3ZlX3N0cmVhbVwiLG4ubHRzPURhdGUubm93KCksbi51aWQ9dC51aWQsbi5wZWVyPXQucGVlcmlkLG0uc2VuZCh7dHlwZTpcIk9uUmVtb3ZlU3RyZWFtXCIsZGF0YTpufSl9LHN0cmVhbVN3aXRjaDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwic3RyZWFtX3N3aXRjaFwiLG4ubHRzPURhdGUubm93KCksbi5pc0R1YWw9dC5pc2R1YWwsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5zdWNjZXNzPW4uc3VjYyxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiU3RyZWFtU3dpdGNoXCIsZGF0YTpufSl9LGF1ZGlvU2VuZGluZ1N0b3BwZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cImF1ZGlvX3NlbmRpbmdfc3RvcHBlZFwiLG4ubHRzPURhdGUubm93KCksbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5yZWFzb249dC5yZWFzb24sbi5zdWNjZXNzPXQuc3VjYyxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiQXVkaW9TZW5kaW5nU3RvcHBlZFwiLGRhdGE6bn0pfSx2aWRlb1NlbmRpbmdTdG9wcGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJ2aWRlb19zZW5kaW5nX3N0b3BwZWRcIixuLmx0cz1EYXRlLm5vdygpLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4ucmVzb249dC5yZWFzb24sbi5zdWNjZXNzPXQuc3VjYyxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiVmlkZW9TZW5kaW5nU3RvcHBlZFwiLGRhdGE6bn0pfSxyZXF1ZXN0UHJveHlBcHBDZW50ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKSxyPXQubHRzO24uZXZlbnRUeXBlPVwicmVxdWVzdF9wcm94eV9hcHBjZW50ZXJcIixuLmx0cz1EYXRlLm5vdygpLG4uZXZlbnRFbGFwc2U9bi5sdHMtcixuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLmV4dGVuZD10LmV4dGVuZCtcIlwiLG4uQVBBZGRyPXQuQVBBZGRyLG4ud29ya2VyTWFuYWdlckxpc3Q9dC53b3JrZXJNYW5hZ2VyTGlzdCxuLnJlc3BvbnNlPXQucmVzcG9uc2Usbi5lcnJvckNvZGU9dC5lYyxuLnN1Y2Nlc3M9dC5zdWNjLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJSZXF1ZXN0UHJveHlBcHBDZW50ZXJcIixkYXRhOm59KX0scmVxdWVzdFByb3h5V29ya2VyTWFuYWdlcjpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pLHI9dC5sdHM7bi5ldmVudFR5cGU9XCJyZXF1ZXN0X3Byb3h5X3dvcmtlcl9tYW5hZ2VyXCIsbi5sdHM9RGF0ZS5ub3coKSxuLmV2ZW50RWxhcHNlPW4ubHRzLXIsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5leHRlbmQ9dC5leHRlbmQsbi53b3JrZXJNYW5hZ2VyQWRkcj10Lndvcmtlck1hbmFnZXJBZGRyLG4ucmVzcG9uc2U9dC5yZXNwb25zZSxuLmVycm9yQ29kZT10LmVjLG4uc3VjY2Vzcz10LnN1Y2MsZGVsZXRlIG4uc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIlJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXJcIixkYXRhOm59KX0scmVxdWVzdFdvcmtlckV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSkscj1uLnN0YXJ0VGltZSxpPURhdGUubm93KCk7ZGVsZXRlKG49Zyh7fSxuLHt9LHQse2VsYXBzZTppLXIsbHRzOmkscHJvZHVjdFR5cGU6XCJXZWJSVENcIn0pKS5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiV29ya2VyRXZlbnRcIixkYXRhOm59KX0scmVxdWVzdEFwV29ya2VyRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKSxyPW4uc3RhcnRUaW1lLGk9RGF0ZS5ub3coKTtuPWcoe30sbix7fSx0LHtlbGFwc2U6aS1yLGx0czppfSksbS5zZW5kKHt0eXBlOlwiQVBXb3JrZXJFdmVudFwiLGRhdGE6bn0pfSxzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e3R5cGU6XCJVc2VyQW5hbHl0aWNzXCIsZGF0YTpnKHtzaWQ6ZX0sdCl9LGk9bS5nZXRVcmwoKSxvPSEhbS5wcm94eVNlcnZlclVSTDtPYmplY3QoZC5wb3N0KShpLHIsKGZ1bmN0aW9uKGUpe24mJm4oKX0pLChmdW5jdGlvbihlKXt2YXIgdD1tLmdldEJhY2tVcmwoKTtPYmplY3QoZC5wb3N0KSh0LHIsKGZ1bmN0aW9uKGUpe24mJm4oKX0pLChmdW5jdGlvbihlKXtuJiZuKFwiRmFpbGVkXCIpfSksbz97dGltZW91dDpPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiQ1VTVE9NRVJfUkVQT1JUX1RJTUVPVVRcIil9Ont0aW1lb3V0Ok9iamVjdChzLmdldFBhcmFtZXRlcikoXCJDVVNUT01FUl9SRVBPUlRfVElNRU9VVFwiKSxcIkNhY2hlLUNvbnRyb2xcIjpcIm5vLWNhY2hlLCBuby1zdG9yZVwiLFByYWdtYTpcIm5vLWNhY2hlXCIsRXhwaXJlczpcIjBcIn0pfSksbz97dGltZW91dDpPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiQ1VTVE9NRVJfUkVQT1JUX1RJTUVPVVRcIil9Ont0aW1lb3V0Ok9iamVjdChzLmdldFBhcmFtZXRlcikoXCJDVVNUT01FUl9SRVBPUlRfVElNRU9VVFwiKSxcIkNhY2hlLUNvbnRyb2xcIjpcIm5vLWNhY2hlLCBuby1zdG9yZVwiLFByYWdtYTpcIm5vLWNhY2hlXCIsRXhwaXJlczpcIjBcIn0pfSxqb2luQ2hhbm5lbFRpbWVPdXQ6ZnVuY3Rpb24oZSl7bS5zZW5kKHt0eXBlOlwiSm9pbkNoYW5uZWxUaW1lb3V0XCIsZGF0YTpnKHt9LGUpfSl9LHBlZXJQdWJsaXNoU3RhdHVzOmZ1bmN0aW9uKGUpe20uc2VuZCh7dHlwZTpcIlBlZXJQdWJsaXNoU3RhdHVzXCIsZGF0YTpnKHt9LGUpfSl9LGpvaW5XZWJQcm94eUFQOmZ1bmN0aW9uKGUpe20uc2VuZCh7dHlwZTpcIkpvaW5XZWJQcm94eUFQXCIsZGF0YTpnKHt9LGUpfSl9LHdlYlNvY2tldFF1aXQ6ZnVuY3Rpb24oZSl7bS5zZW5kKHt0eXBlOlwiV2ViU29ja2V0UXVpdFwiLGRhdGE6Zyh7fSxlKX0pfX0pLnJlcG9ydEFwaUludm9rZT1mdW5jdGlvbihlLHQpe3ZhciBuPXQudGFnLHI9dC5uYW1lLGk9dC5nZXRTdGF0ZXMsbz10Lm9wdGlvbnMsYT10LnRpbWVvdXQsZD12b2lkIDA9PT1hPzZlNDphLHU9dC5jYWxsYmFjayxsPXQucmVwb3J0UmVzdWx0LGY9dm9pZCAwPT09bHx8bCxwPURhdGUubm93KCksbT0wLHY9aCsrLEU9ZnVuY3Rpb24oKXtyZXR1cm4gZyh7dGFnOm4saW52b2tlSWQ6dixzaWQ6ZSxuYW1lOnIsYXBpSW52b2tlVGltZTpwLG9wdGlvbnM6b30saSYme3N0YXRlczoodD1pKCksT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3ZhciByPWU7cmV0dXJuIG51bGwhPXRbbl0mJihyW25dPXRbbl0pLHJ9KSx7fSkpfSk7dmFyIHR9LFM9ISFPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiU0hPV19SRVBPUlRfSU5WT0tFUl9MT0dcIik7UyYmYy5kZWZhdWx0LmluZm8oXCJcIi5jb25jYXQocixcIiBzdGFydFwiKSk7dmFyIF89c2V0VGltZW91dCgoZnVuY3Rpb24oKXtBLl9zZW5kQXBpSW52b2tlKGcoe30sRSgpLHtlcnJvcjpcIkFQSV9JTlZPS0VfVElNRU9VVFwiLHN1Y2Nlc3M6ITF9KSl9KSxkKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihjbGVhclRpbWVvdXQoXyksKyttPjEmJihlPVwiRVhFQ1VUT1JfSU5WT0tFX1wiLmNvbmNhdChtKSksZSlyZXR1cm4gQS5fc2VuZEFwaUludm9rZShnKHt9LEUoKSx7c3VjY2VzczohMSxlcnJvcjplfSxpJiZ7c3RhdGVzOmkoKX0pKSxTJiZjLmRlZmF1bHQuaW5mbyhcIlwiLmNvbmNhdChyLFwiIG9uRmFpbHVyZVwiKSxlKSx1JiZ1KGUpO0EuX3NlbmRBcGlJbnZva2UoZyh7fSxFKCkse3N1Y2Nlc3M6ITB9LGYmJntyZXN1bHQ6dH0se30saSYme3N0YXRlczppKCl9KSksUyYmYy5kZWZhdWx0LmluZm8oXCJcIi5jb25jYXQocixcIiBvblN1Y2Nlc3NcIikpLHUmJnUobnVsbCx0KX19LG0uX2NhY2hlZEl0ZW1zPVtdLG0uX2NhY2hlSW52b2tlUmVwb3J0PWZ1bmN0aW9uKGUpe2UubHRzfHwoZS5sdHM9RGF0ZS5ub3coKSksbS5fY2FjaGVkSXRlbXMucHVzaChlKSxtLl9jYWNoZWRJdGVtcy5sZW5ndGg+NTAmJm0uX2NhY2hlZEl0ZW1zLnNoaWZ0KCl9LG0uX2ZsdXNoSW52b2tlUmVwb3J0PWZ1bmN0aW9uKGUpe2lmKG0uX2NhY2hlZEl0ZW1zLmxlbmd0aCl7dmFyIHQ9bS5fY2FjaGVkSXRlbXM7bS5fY2FjaGVkSXRlbXM9W10sYy5kZWZhdWx0LmRlYnVnKFwiRmx1c2ggY2FjaGVkIGV2ZW50IHJlcG9ydGluZzpcIix0Lmxlbmd0aCksdC5mb3JFYWNoKChmdW5jdGlvbih0LG4pe3Quc2lkPWUsc2V0VGltZW91dCgoZnVuY3Rpb24oKXttLl9zZW5kQXBpSW52b2tlKHQpfSksNWUzKzUwMCpuKX0pKX19LG0uX3NlbmRBcGlJbnZva2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YWcsbj1lLmludm9rZUlkLHI9ZS5zaWQsaT1lLm5hbWUsbz1lLnJlc3VsdCxhPWUuc3RhdGVzLGM9ZS5vcHRpb25zLGQ9ZS5lcnJvcix1PWUuc3VjY2VzcyxsPWUuYXBpSW52b2tlVGltZSxmPWUubHRzLHA9T2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIk5PVF9SRVBPUlRfRVZFTlRcIik7aWYoISh0JiZwIGluc3RhbmNlb2YgQXJyYXkmJi0xIT09cC5pbmRleE9mKHQpKSlpZihtLmxpc3Rbcl0pe3ZhciBoPW0ubGlzdFtyXSx2PWguc3RhcnRUaW1lLEU9aC5jbmFtZSxTPWgudWlkLF89aC5jaWQseT0oZj1mfHxEYXRlLm5vdygpKS12LFI9Zi1sLFQ9XCJcIjtpZihjKXRyeXtUPUpTT04uc3RyaW5naWZ5KGMpfWNhdGNoKGUpe1Q9Yy50b1N0cmluZygpfXZhciBJPWcoe2ludm9rZUlkOm4sc2lkOnIsY25hbWU6RSxjaWQ6XyxsdHM6Zix1aWQ6UyxzdWNjZXNzOnUsZWxhcHNlOnksYXBpTmFtZTppLGV4ZWNFbGFwc2U6Un0sdm9pZCAwIT09YyYme29wdGlvbnM6VH0se30sdm9pZCAwIT09YSYme2V4ZWNTdGF0ZXM6SlNPTi5zdHJpbmdpZnkoYSl9LHt9LHZvaWQgMCE9PWQmJntlcnJvckNvZGU6SlNPTi5zdHJpbmdpZnkoZCl9LHt9LHZvaWQgMCE9PW8mJntleGVjUmVzdWx0OkpTT04uc3RyaW5naWZ5KG8pfSk7bS5zZW5kKHt0eXBlOlwiQXBpSW52b2tlXCIsZGF0YTpJfSl9ZWxzZSBtLl9jYWNoZUludm9rZVJlcG9ydChhcmd1bWVudHNbMF0pfSxtLnNlbmRDYWNoZT1bXSxtLnNlbmRUaW1lcj1udWxsLG0uc2VuZD1mdW5jdGlvbihlKXtpZihlLmRhdGEpe3ZhciB0PWUuZGF0YTttLl9sYXN0THRzJiZtLl9sYXN0THRzPj10Lmx0cyYmKHQubHRzPW0uX2xhc3RMdHMrMSksbS5fbGFzdEx0cz10Lmx0c31pZihtLnNlbmRDYWNoZS5wdXNoKGUpLG51bGw9PT1tLnNlbmRUaW1lcilyZXR1cm4gZnVuY3Rpb24gZSgpe20uc2VuZFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYoMCE9PW0uc2VuZENhY2hlLmxlbmd0aCl7dmFyIHQ9bS5zZW5kQ2FjaGUubGVuZ3RoPDEwP20uc2VuZENhY2hlLnNwbGljZSgwLG0uc2VuZENhY2hlLmxlbmd0aCk6bS5zZW5kQ2FjaGUuc3BsaWNlKDAsMTApLG49bS5saXN0W3RbMF0uZGF0YS5zaWRdLnZpZDtyZXR1cm4gUi5zZW5kUmVwb3J0TGlzdCh0LG4pLGUoKX1tLnNlbmRUaW1lcj1udWxsfSksT2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMXCIpKX0oKX0sbSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt0LkJVSUxEPVwidjMuNi45LTAtZzMxMDcxMjBcIjt0LlZFUlNJT049XCIzLjYuOVwiO3ZhciByPTAqRGF0ZS5ub3coKSsxMTQ5OSs4NjYwNCs1NjE1KzY1NDcrODQ2O3QuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1Q9e1wiOTBwXzFcIjpbMTYwLDkwLG51bGwsbnVsbCxudWxsLG51bGxdLFwiMTIwcF8xXCI6WzE2MCwxMjAsMTUsMTUsMzAsNjVdLFwiMTIwcF8zXCI6WzEyMCwxMjAsMTUsMTUsMzAsNTBdLFwiMTIwcF80XCI6WzIxMiwxMjAsbnVsbCxudWxsLG51bGwsbnVsbF0sXCIxODBwXzFcIjpbMzIwLDE4MCwxNSwxNSwzMCwxNDBdLFwiMTgwcF8zXCI6WzE4MCwxODAsMTUsMTUsMzAsMTAwXSxcIjE4MHBfNFwiOlsyNDAsMTgwLDE1LDE1LDMwLDEyMF0sXCIyNDBwXzFcIjpbMzIwLDI0MCwxNSwxNSw0MCwyMDBdLFwiMjQwcF8zXCI6WzI0MCwyNDAsMTUsMTUsNDAsMTQwXSxcIjI0MHBfNFwiOls0MjQsMjQwLDE1LDE1LDQwLDIyMF0sXCIzNjBwXzFcIjpbNjQwLDM2MCwxNSwxNSw4MCw0MDBdLFwiMzYwcF8zXCI6WzM2MCwzNjAsMTUsMTUsODAsMjYwXSxcIjM2MHBfNFwiOls2NDAsMzYwLDMwLDMwLDgwLDYwMF0sXCIzNjBwXzZcIjpbMzYwLDM2MCwzMCwzMCw4MCw0MDBdLFwiMzYwcF83XCI6WzQ4MCwzNjAsMTUsMTUsODAsMzIwXSxcIjM2MHBfOFwiOls0ODAsMzYwLDMwLDMwLDgwLDQ5MF0sXCIzNjBwXzlcIjpbNjQwLDM2MCwxNSwxNSw4MCw4MDBdLFwiMzYwcF8xMFwiOls2NDAsMzYwLDI0LDI0LDgwLDgwMF0sXCIzNjBwXzExXCI6WzY0MCwzNjAsMjQsMjQsODAsMWUzXSxcIjQ4MHBfMVwiOls2NDAsNDgwLDE1LDE1LDEwMCw1MDAsMSw1XSxcIjQ4MHBfMlwiOls2NDAsNDgwLDMwLDMwLDEwMCwxZTMsMjUsMzBdLFwiNDgwcF8zXCI6WzQ4MCw0ODAsMTUsMTUsMTAwLDQwMF0sXCI0ODBwXzRcIjpbNjQwLDQ4MCwzMCwzMCwxMDAsNzUwXSxcIjQ4MHBfNlwiOls0ODAsNDgwLDMwLDMwLDEwMCw2MDBdLFwiNDgwcF84XCI6Wzg0OCw0ODAsMTUsMTUsMTAwLDYxMF0sXCI0ODBwXzlcIjpbODQ4LDQ4MCwzMCwzMCwxMDAsOTMwXSxcIjQ4MHBfMTBcIjpbNjQwLDQ4MCwxMCwxMCwxMDAsNDAwXSxcIjcyMHBfMVwiOlsxMjgwLDcyMCwxNSwxNSwxMjAsMTEzMCwxLDVdLFwiNzIwcF8yXCI6WzEyODAsNzIwLDMwLDMwLDEyMCwyZTMsMjUsMzBdLFwiNzIwcF8zXCI6WzEyODAsNzIwLDMwLDMwLDEyMCwxNzEwXSxcIjcyMHBfNVwiOls5NjAsNzIwLDE1LDE1LDEyMCw5MTBdLFwiNzIwcF82XCI6Wzk2MCw3MjAsMzAsMzAsMTIwLDEzODBdLFwiMTA4MHBfMVwiOlsxOTIwLDEwODAsMTUsMTUsMTIwLDIwODAsMSw1XSxcIjEwODBwXzJcIjpbMTkyMCwxMDgwLDMwLDMwLDEyMCwzZTMsMjUsMzBdLFwiMTA4MHBfM1wiOlsxOTIwLDEwODAsMzAsMzAsMTIwLDMxNTBdLFwiMTA4MHBfNVwiOlsxOTIwLDEwODAsNjAsNjAsMTIwLDQ3ODBdLFwiMTQ0MHBfMVwiOlsyNTYwLDE0NDAsMzAsMzAsMTIwLDQ4NTBdLFwiMTQ0MHBfMlwiOlsyNTYwLDE0NDAsNjAsNjAsMTIwLDczNTBdLFwiNGtfMVwiOlszODQwLDIxNjAsMzAsMzAsMTIwLDg5MTBdLFwiNGtfM1wiOlszODQwLDIxNjAsNjAsNjAsMTIwLDEzNTAwXX07dC5BVURJT19QUk9GSUxFX1NFVFRJTkdTPXtzcGVlY2hfbG93X3F1YWxpdHk6WyExLCExLCEwLCEwXSxzcGVlY2hfc3RhbmRhcmQ6WyExLCExLCEwLCExXSxtdXNpY19zdGFuZGFyZDpbITEsITEsITEsITFdLHN0YW5kYXJkX3N0ZXJlbzpbITEsITAsITEsITFdLGhpZ2hfcXVhbGl0eTpbITAsITEsITEsITFdLGhpZ2hfcXVhbGl0eV9zdGVyZW86WyEwLCEwLCExLCExXSxkZWZhdWx0OlshMSwhMSwhMSwhMV19O3ZhciBpPXtBUkVBX1NFVFRJTkc6W1wiTk9SVEhfQU1FUklDQVwiLFwiT1ZFUlNFQVwiXSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwicHJveHktYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOlwibG9nc2VydmljZS1vdmVyc2VhLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0RPTUFJTjpcInN0YXRzY29sbGVjdG9yLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOlwic3RhdHNjb2xsZWN0b3ItMi1vdmVyc2VhLmFnb3JhLmlvXCIsRU5BQkxFX0xJVkVfU0VSVkVSX0xJU1Q6ITEsTElWRV9TRVJWRVJfTElTVDpbXSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVQ6MSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1JBVElPOjIsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUX01BWDo2ZTQsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9DT1VOVF9NQVg6MWU1LEFVRElPX0NPTlRFWFQ6bnVsbCxHQVRFV0FZX0RPTUFJTlM6W1wiZWRnZS5hZ29yYS5pb1wiXSxXRUJDU19CQUNLVVBfQ09OTkVDVF9USU1FT1VUOjZlMyxMSVZFU1RSRUFNSU5HX0FMSUdOOiEwLEhUVFBfQ09OTkVDVF9USU1FT1VUOjVlMyxQTEFZRVJfU1RBVEVfREVGRVI6MmUzLFNJR05BTF9SRVFVRVNUX1RJTUVPVVQ6MWU3LFNJR05BTF9SRVFVRVNUX1dBVENIX0lOVEVSVkFMOjFlMyxSRVBPUlRfU1RBVFM6ITAsUkVQT1JUX1NUQVRTX1RJTUVPVVQ6M2UzLFVQTE9BRF9MT0c6ITEsTk9UX1JFUE9SVF9FVkVOVDpbXSxGSUxFUEFUSF9MRU5NQVg6MjU1LFNVQlNDUklCRV9UQ0M6ITEsUElOR19QT05HX1RJTUVfT1VUOjEwLERVQUxTVFJFQU1fT1BFUkFUSU9OX0NIRUNLOiEwLFdFQlNPQ0tFVF9USU1FT1VUX01JTjoxZTQsRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUw6MWUzLE1FRElBX0VMRU1FTlRfRVhJU1RTX0RFUFRIOjMsQ0FORElEQVRFX1RJTUVPVVQ6MmUzLFNISU1fQ0FORElEQVRFOiExLExFQVZFX01TR19USU1FT1VUOjJlMyxUSUNLRVRfUkVORVdfVElNRU9VVDo4MjhlNSxMSVZFX1NUUkVBTUlOR19USU1FT1VUOjEyZTQsU0hPV19SRVBPUlRfSU5WT0tFUl9MT0c6ITEsU1RBVFNfRklMVEVSOnt0cmFuc3BvcnRJZDohMCxnb29nVHJhY2tJZDohMH0sRk9SQ0VfVFVSTjohMSxUVVJOX0VOQUJMRV9UQ1A6ITAsVFVSTl9FTkFCTEVfVURQOiEwLEZPUkNFX0NIQU5HRURfR0FURVdBWV9GTEFHOiExLEpPSU5fRVhURU5EOlwiXCIsUFVCX0VYVEVORDpcIlwiLFNVQl9FWFRFTkQ6XCJcIixDSFJPTUVfTkVXX1NUQVRTOiExLEFQX0JBQ0tPRkZfTUFYX1RJTUU6OCxTRVRfREVGQVVMVF9UVVJOU0VSVkVSOiEwLFRVUk5fU0VSVkVSX1BBU1NXT1JEOnIudG9TdHJpbmcoKSxQUk9YWV9TRVJWRVJfVFlQRTI6XCJ3ZWJuZ2lueC1wcm94eS5hZ29yYS5pb1wiLE5HSU5YOlwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCIsUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCIsXCJ3ZWJydGMtY2xvdWQtcHJveHkuYWdvcmEuaW9cIl0sQ1I6ITAsQ1JMOjEwLENSSTo2LENVU1RPTUVSX1JFUE9SVF9USU1FT1VUOjVlMyxMSVZFX1NUUkVBTUlOR19BRERSRVNTOlwiXCIsQ0hPT1NFX1NFUlZFUl9GUkFHRU1FTlRfTEVOR1RIOjQsUExBTjpcInBsYW4tYlwifTtpLkFSRUFfU0VUVElORz1bXCJDSElOQVwiLFwiR0xPQkFMXCJdLGkuV0VCQ1NfRE9NQUlOPVtcIndlYnJ0YzItYXAtd2ViLTEuYWdvcmEuaW9cIixcIndlYnJ0YzItMi5hcC5zZC1ydG4uY29tXCJdLGkuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcIndlYnJ0YzItYXAtd2ViLTMuYWdvcmEuaW9cIixcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLGkuUFJPWFlfQ1M9W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxpLkNEU19BUD1bXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJjZHMtYXAtd2ViLTMuYWdvcmEuaW9cIixcImNkcy13ZWItNC5hcC5zZC1ydG4uY29tXCJdLGkuQUNDT1VOVF9SRUdJU1RFUj1bXCJzdWEtYXAtd2ViLTEuYWdvcmEuaW9cIixcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtYXAtd2ViLTMuYWdvcmEuaW9cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLGkuVUFQX0FQPVtcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiLFwidWFwLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0saS5MT0dfVVBMT0FEX1NFUlZFUj1cImxvZ3NlcnZpY2UuYWdvcmEuaW9cIixpLkVWRU5UX1JFUE9SVF9ET01BSU49XCJ3ZWItMi5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsaS5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cIndlYi0zLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixpLkdBVEVXQVlfRE9NQUlOUz1bXCJlZGdlLmFnb3JhLmlvXCIsXCJlZGdlLnNkLXJ0bi5jb21cIl0saS5OR0lOWD1cIndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCIsaS5QUk9YWV9TRVJWRVJfVFlQRTM9W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIixcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXTt0LnNldFBhcmFtZXRlcj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT1pW2VdJiYoaVtlXT10LCEwKX07dC5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWlbZV0/aVtlXTpudWxsfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcImNoZWNrVmFsaWRPYmplY3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCxcImNoZWNrVmFsaWRTdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCxcImNoZWNrVmFsaWROdW1iZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCxcImNoZWNrVmFsaWRBcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LFwiY2hlY2tWYWxpZEZsb2F0TnVtYmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsXCJjaGVja1ZhbGlkQm9vbGVhblwiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LFwiY2hlY2tWYWxpZEVudW1cIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCxcImNoZWNrVmFsaWRVSURcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQodCxcImlzVmFsaWRTdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxuLmQodCxcImlzVmFsaWROdW1iZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQodCxcImlzVmFsaWRCb29sZWFuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsXCJpc0FTQ0lJXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKHQsXCJpc0ludGVnZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSxuLmQodCxcImlzTnVtYmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKHQsXCJpc1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LFwiaXNBcnJheVwiLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZCh0LFwiaXNFbXB0eVwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LFwiaXNWYWxpZFRva2VuXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKHQsXCJpc1ZhbGlkQ2hhbm5lbE5hbWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMTApLGE9bigwKSxzPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKylpZihlPT09bltyXSlyZXR1cm4hMDt0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodCxcIiBjYW4gb25seSBiZSBzZXQgYXMgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpfSxjPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbTogXCIuY29uY2F0KHR8fFwicGFyYW1cIixcIiBjYW5ub3QgYmUgZW1wdHlcIikpO2lmKFwib2JqZWN0XCIhPT1pKCkoZSkpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHR8fFwiVGhpcyBwYXJhbXRlclwiLFwiIGlzIG9mIHRoZSBvYmplY3QgdHlwZVwiKSk7cmV0dXJuITB9LGQ9ZnVuY3Rpb24oZSx0LG4scixpKXtpZihBKG4pJiYobj0xKSxyPXJ8fDI1NSxBKGkpJiYoaT0hMCksQShlKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodHx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBlbXB0eVwiKSk7aWYoIW0oZSxuLHIsaSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJzdHJpbmcgcGFyYW1cIixcIjogTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFtcIikuY29uY2F0KG4sXCIsXCIpLmNvbmNhdChyLFwiXS5cIikuY29uY2F0KGk/XCIgQVNDSUkgY2hhcmFjdGVycyBvbmx5LlwiOlwiXCIpKX0sdT1mdW5jdGlvbihlLHQsbixyKXtpZihBKG4pJiYobj0xKSxyPXJ8fDFlNCxBKGUpKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighaChlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJudW1iZXIgcGFyYW1cIixcIjogVGhlIHZhbHVlIHJhbmdlIGlzIFtcIikuY29uY2F0KG4sXCIsXCIpLmNvbmNhdChyLFwiXS4gaW50ZWdlciBvbmx5XCIpKX0sbD1mdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0LFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9LGY9ZnVuY3Rpb24oZSx0LG4scil7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodHx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBudWxsXCIpKTtpZihBKG4pJiYobj0wKSxyPXJ8fDFlNCxBKGUpKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighdihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJudW1iZXIgcGFyYW1cIixcIjogVGhlIHZhbHVlIHJhbmdlIGlzIFtcIikuY29uY2F0KG4sXCIsXCIpLmNvbmNhdChyLFwiXS5cIikpfSxwPWZ1bmN0aW9uKGUsdCl7aWYoQShlKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodHx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBlbXB0eVwiKSk7aWYoIUUoZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJib29sZWFuIHBhcmFtXCIsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9LGc9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChvLmlzMzJVaW50KShlKSYmIW0oZSwxLDI1NSkpdGhyb3cgYS5kZWZhdWx0LmVycm9yKFwiSW52YWxpZCBVSUQgXCIuY29uY2F0KGUsXCIgXCIpLmNvbmNhdChpKCkoZSkpKSxuZXcgRXJyb3IoXCJbU3RyaW5nIHVpZF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciB1aWRdIFRoZSB2YWx1ZSByYW5nZSBpcyBbMCwxMDAwMF1cIil9LG09ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHR8fCh0PTApLG58fChuPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSxBKHIpJiYocj0hMCksSShlKSYmKCFyfHx5KGUpKSYmZS5sZW5ndGg+PXQmJmUubGVuZ3RoPD1ufSxoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUihlKSYmZT49dCYmZTw9bn0sdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFQoZSkmJmU+PXQmJmU8PW59LEU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfSxTPWZ1bmN0aW9uKGUpe3JldHVybiBtKGUsMSwyMDQ3KX0sXz1mdW5jdGlvbihlKXtyZXR1cm4gSShlKSYmL15bYS16QS1aMC05IFxcIVxcI1xcJFxcJVxcJlxcKFxcKVxcK1xcLVxcOlxcO1xcPFxcPVxcLlxcPlxcP1xcQFxcW1xcXVxcXlxcX1xce1xcfVxcfFxcflxcLF17MSw2NH0kLy50ZXN0KGUpfSx5PWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZS5jaGFyQ29kZUF0KHQpO2lmKG48MHx8bj4yNTUpcmV0dXJuITF9cmV0dXJuITB9fSxSPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlJTE9PTB9LFQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9LEk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheX0sQT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJBUEVycm9yQ29kZVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LFwiR2F0ZXdheUVycm9yQ29kZVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LFwiU3RyaW5nVWlkRXJyb3JDb2RlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsXCJKT0lOX0dTX1RSWU5FWFRfTElTVFwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LFwiSk9JTl9DU19SRVRSWV9MSVNUXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJKT0lOX1BST1hZX1JFVFJZX0xJU1RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCxcIklOSkVDVF9TVFJFQU1fU1RBVFVTXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsXCJXRUJTT0NLRVRfQ0xPU0VfUkVBU09OXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9ezEwMTAxMDA6XCJOT19GTEFHX1NFVFwiLDEwMTAxMDE6XCJGTEFHX1NFVF9CVVRfRU1QVFlcIiwxMDEwMTAyOlwiSU5WQUxJRF9GQUxHX1NFVFwiLDIwMTAwMDU6XCJJTlZBTElEX1ZFTkRPUl9LRVlcIiwyMDEwMDA3OlwiSU5WQUxJRF9DSEFOTkVMX05BTUVcIiwyMDEwMDA4OlwiSU5URVJOQUxfRVJST1JcIiwyMDEwMDA5OlwiTk9fQVVUSE9SSVpFRFwiLDIwMTAwMTA6XCJEWU5BTUlDX0tFWV9USU1FT1VUXCIsMjAxMDAxMTpcIk5PX0FDVElWRV9TVEFUVVNcIiwyMDEwMDEzOlwiRFlOQU1JQ19LRVlfRVhQSVJFRFwiLDIwMTAwMTQ6XCJTVEFUSUNfVVNFX0RZQU5NSUNfS0VZXCIsMjAxMDAxNTpcIkRZTkFNSUNfVVNFX1NUQVRJQ19LRVlcIiwyMDEwMDE2OlwiVVNFUl9PVkVSTE9BRFwiLDIwMTAwMTg6XCJGT1JCSURERU5fUkVHSU9OXCIsMjAxMDAxOTpcIkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EXCJ9LGk9ezJlMzpcIkVSUl9OT19WT0NTX0FWQUlMQUJMRVwiLDIwMDE6XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLDIwMDI6XCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIiwyMDAzOlwiV0FSTl9SRVBFQVRfSk9JTlwiLDIwMDQ6XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLDIwMTE6XCJFUlJfTk9UX0pPSU5FRFwiLDIwMTI6XCJXQVJOX1JFUEVBVF9KT0lOXCIsMjAxMzpcIkVSUl9JTlZBTElEX1ZFTkRPUl9LRVlcIiwyMDE0OlwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsMjAxNTpcIkVSUl9JTlZBTElEX1NUUklOR1VJRFwiLDIwMTY6XCJFUlJfVE9PX01BTllfVVNFUlNcIiwyMDE3OlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsMjAxODpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTlwiLDIwMTk6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsMjAyMDpcIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLDIwMjE6XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLDIwMjI6XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsMjAyMzpcIkVSUl9JTExFQUdBTF9QTFVHSU5cIiwyMDI4OlwiSUxMRUdBTF9BRVNfUEFTU1dPUkRcIiwxMDE6XCJFUlJfSU5WQUxJRF9WRU5ET1JfS0VZXCIsMTAyOlwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsMTAzOlwiV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTFwiLDEwNDpcIldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVFwiLDEwNTpcIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIiwxMDY6XCJXQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXCIsMTA3OlwiV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURURcIiwxMDg6XCJXQVJOX1JFUVVFU1RfREVGRVJSRURcIiwxMDk6XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLDExMDpcIkVSUl9OT19BVVRIT1JJWkVEXCIsMTExOlwiRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFXCIsMTEyOlwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIiwxMTM6XCJFUlJfVE9PX01BTllfVVNFUlNcIiwxMTQ6XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIiwxMTU6XCJFUlJfSU5URVJOQUxfRVJST1JcIiwxMTY6XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLDExNzpcIkVSUl9JTlZBTElEX1VJRFwiLDExODpcIkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEXCIsMTE5OlwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLDEyMDpcIkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VcIiwyOlwiS19USU1FU1RBTVBfRVhQSVJFRFwiLDM6XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsNDpcIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLDU6XCJLX0NIQU5ORUxfTkFNRV9FTVBUWVwiLDY6XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsNzpcIktfVElDS0VUX0lOVkFMSURcIiw4OlwiS19DSEFOTkVMX0NPTkZMSUNURURcIiw5OlwiS19TRVJWSUNFX05PVF9SRUFEWVwiLDEwOlwiS19TRVJWSUNFX1RPT19IRUFWWVwiLDE0OlwiS19VSURfQkFOTkVEXCIsMTU6XCJLX0lQX0JBTk5FRFwiLDE2OlwiS19DSEFOTkVMX0JBTk5FRFwifSxvPXsxOlwiRVJST1JfSUxMRUFHQUxfQVBQSURcIiwyOlwiRVJST1JfSUxMRUFHQUxfVUlEXCIsMzpcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwifSxhPVtcIkVSUl9OT19WT0NTX0FWQUlMQUJMRVwiLFwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIixcIkVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVFwiLFwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsXCJXQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXCIsXCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixcIkVSUl9UT09fTUFOWV9VU0VSU1wiLFwiRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXCIsXCJFUlJfSU5URVJOQUxfRVJST1JcIl0scz1bXCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiXSxjPVtcIk5PX1NFUlZJQ0VfQVZBSUxBQkxFXCIsXCJSRVFVRVNUX1BST1hZX1NFUlZFUl9GQUlMRURcIixcIlJFUVVFU1RfUFJPWFlfU0VSVkVSX1RJTUVfT1VUXCJdLGQ9e0lOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1NVQ0NFU1M6MCxJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9BTFJFQURZX0VYSVNUUzoxLElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1VOQVVUSE9SSVpFRDoyLElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1RJTUVET1VUOjMsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfRkFJTEVEOjQsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9TVUNDRVNTOjUsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9OT1RfRk9VTkQ6NixJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1VOQVVUSE9SSVpFRDo3LElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfVElNRURPVVQ6OCxJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX0ZBSUxFRDo5LElOSkVDVF9TVFJFQU1fU1RBVFVTX0JST0tFTjoxMH0sdT17V1NfRElTQ09OTkVDVDpcIldTX0RJU0NPTk5FQ1RcIn07dC5kZWZhdWx0PXtGQUlMRUQ6XCJGQUlMRURcIixJTlZBTElEX0tFWTpcIklOVkFMSURfS0VZXCIsSU5WQUxJRF9DTElFTlRfTU9ERTpcIklOVkFMSURfQ0xJRU5UX01PREVcIixJTlZBTElEX0NMSUVOVF9DT0RFQzpcIklOVkFMSURfQ0xJRU5UX0NPREVDXCIsQ0xJRU5UX01PREVfQ09ERUNfTUlTTUFUQ0g6XCJDTElFTlRfTU9ERV9DT0RFQ19NSVNNQVRDSFwiLFdFQl9BUElfTk9UX1NVUFBPUlRFRDpcIldFQl9BUElfTk9UX1NVUFBPUlRFRFwiLElOVkFMSURfUEFSQU1FVEVSOlwiSU5WQUxJRF9QQVJBTUVURVJcIixOT19UUkFDS19JTl9TVFJFQU06XCJOT19UUkFDS19JTl9TVFJFQU1cIixJTlZBTElEX09QRVJBVElPTjpcIklOVkFMSURfT1BFUkFUSU9OXCIsSU5WQUxJRF9MT0NBTF9TVFJFQU06XCJJTlZBTElEX0xPQ0FMX1NUUkVBTVwiLElOVkFMSURfUkVNT1RFX1NUUkVBTTpcIklOVkFMSURfUkVNT1RFX1NUUkVBTVwiLElOVkFMSURfRFlOQU1JQ19LRVk6XCJJTlZBTElEX0RZTkFNSUNfS0VZXCIsRFlOQU1JQ19LRVlfVElNRU9VVDpcIkRZTkFNSUNfS0VZX1RJTUVPVVRcIixOT19WT0NTX0FWQUlMQUJMRTpcIk5PX1ZPQ1NfQVZBSUxBQkxFXCIsTk9fVk9TX0FWQUlMQUJMRTpcIkVSUl9OT19WT1NfQVZBSUxBQkxFXCIsSk9JTl9DSEFOTkVMX1RJTUVPVVQ6XCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIixOT19BVkFJTEFCTEVfQ0hBTk5FTDpcIk5PX0FWQUlMQUJMRV9DSEFOTkVMXCIsTE9PS1VQX0NIQU5ORUxfVElNRU9VVDpcIkxPT0tVUF9DSEFOTkVMX1RJTUVPVVRcIixMT09LVVBfQ0hBTk5FTF9SRUpFQ1RFRDpcIkxPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsT1BFTl9DSEFOTkVMX1RJTUVPVVQ6XCJPUEVOX0NIQU5ORUxfVElNRU9VVFwiLE9QRU5fQ0hBTk5FTF9SRUpFQ1RFRDpcIk9QRU5fQ0hBTk5FTF9SRUpFQ1RFRFwiLFJFUVVFU1RfREVGRVJSRUQ6XCJSRVFVRVNUX0RFRkVSUkVEXCIsU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEOlwiU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEXCIsU1RSRUFNX05PVF9ZRVRfUFVCTElTSEVEOlwiU1RSRUFNX05PVF9ZRVRfUFVCTElTSEVEXCIsSk9JTl9UT09fRlJFUVVFTlQ6XCJKT0lOX1RPT19GUkVRVUVOVFwiLFNPQ0tFVF9FUlJPUjpcIlNPQ0tFVF9FUlJPUlwiLFNPQ0tFVF9ESVNDT05ORUNURUQ6XCJTT0NLRVRfRElTQ09OTkVDVEVEXCIsUEVFUkNPTk5FQ1RJT05fRkFJTEVEOlwiUEVFUkNPTk5FQ1RJT05fRkFJTEVEXCIsQ09OTkVDVF9HQVRFV0FZX0VSUk9SOlwiQ09OTkVDVF9HQVRFV0FZX0VSUk9SXCIsU0VSVklDRV9OT1RfQVZBSUxBQkxFOlwiU0VSVklDRV9OT1RfQVZBSUxBQkxFXCIsSk9JTl9DSEFOTkVMX0ZBSUxFRDpcIkpPSU5fQ0hBTk5FTF9GQUlMRURcIixQVUJMSVNIX1NUUkVBTV9GQUlMRUQ6XCJQVUJMSVNIX1NUUkVBTV9GQUlMRURcIixVTlBVQkxJU0hfU1RSRUFNX0ZBSUxFRDpcIlVOUFVCTElTSF9TVFJFQU1fRkFJTEVEXCIsU1VCU0NSSUJFX1NUUkVBTV9GQUlMRUQ6XCJTVUJTQ1JJQkVfU1RSRUFNX0ZBSUxFRFwiLFVOU1VCU0NSSUJFX1NUUkVBTV9GQUlMRUQ6XCJVTlNVQlNDUklCRV9TVFJFQU1fRkFJTEVEXCIsTk9fU1VDSF9SRU1PVEVfU1RSRUFNOlwiTk9fU1VDSF9SRU1PVEVfU1RSRUFNXCIsRVJSX0ZBSUxFRDpcIjFcIixFUlJfSU5WQUxJRF9WRU5ET1JfS0VZOlwiMTAxXCIsRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FOlwiMTAyXCIsV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTDpcIjEwM1wiLFdBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVDpcIjEwNFwiLFdBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURUQ6XCIxMDVcIixXQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUOlwiMTA2XCIsV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURUQ6XCIxMDdcIixXQVJOX1JFUVVFU1RfREVGRVJSRUQ6XCIxMDhcIixFUlJfRFlOQU1JQ19LRVlfVElNRU9VVDpcIjEwOVwiLEVSUl9JTlZBTElEX0RZTkFNSUNfS0VZOlwiMTEwXCIsRVJSX05PX1ZPQ1NfQVZBSUxBQkxFOlwiMjAwMFwiLEVSUl9OT19WT1NfQVZBSUxBQkxFOlwiMjAwMVwiLEVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVDpcIjIwMDJcIixJT1NfTk9UX1NVUFBPUlQ6XCJJT1NfTk9UX1NVUFBPUlRcIixXRUNIQVRfTk9UX1NVUFBPUlQ6XCJXRUNIQVRfTk9UX1NVUFBPUlRcIixTSEFSSU5HX1NDUkVFTl9OT1RfU1VQUE9SVDpcIlNIQVJJTkdfU0NSRUVOX05PVF9TVVBQT1JUXCIsU1RJTExfT05fUFVCTElTSElORzpcIlNUSUxMX09OX1BVQkxJU0hJTkdcIixMT1dfU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEOlwiTE9XX1NUUkVBTV9BTFJFQURZX1BVQkxJU0hFRFwiLExPV19TVFJFQU1fTk9UX1lFVF9QVUJMSVNIRUQ6XCJMT1dfU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEXCIsSElHSF9TVFJFQU1fTk9UX1ZJREVPX1RSQUNFOlwiSElHSF9TVFJFQU1fTk9UX1ZJREVPX1RSQUNFXCIsTk9UX0ZJTkRfREVWSUNFX0JZX0xBQkVMOlwiTk9UX0ZJTkRfREVWSUNFX0JZX0xBQkVMXCIsRU5BQkxFX0RVQUxTVFJFQU1fRkFJTEVEOlwiRU5BQkxFX0RVQUxTVFJFQU1fRkFJTEVEXCIsRElTQUJMRV9EVUFMU1RSRUFNX0ZBSUxFRDpcIkRJU0FCTEVfRFVBTFNUUkVBTV9GQUlMRURcIixQTEFZRVJfTk9UX0ZPVU5EOlwiUExBWUVSX05PVF9GT1VORFwiLEVMRUNUUk9OX05PVF9TVVBQT1JUX1NIQVJJTkdfU0NSRUVOOlwiRUxFQ1RST05fTk9UX1NVUFBPUlRfU0hBUklOR19TQ1JFRU5cIixCQURfRU5WSVJPTk1FTlQ6XCJCQURfRU5WSVJPTk1FTlRcIixMT0FEX0FVRElPX0ZBSUxFRDpcIkxPQURfQVVESU9fRkFJTEVEXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiZ2V0QnJvd3NlckluZm9cIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCxcImdldEJyb3dzZXJWZXJzaW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsXCJnZXRCcm93c2VyT1NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQodCxcImlzQ2hyb21lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKHQsXCJpc1NhZmFyaVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LFwiaXNGaXJlRm94XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsXCJpc09wZXJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJpc0VkZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCxcImlzUVFCcm93c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsXCJpc1dlQ2hhdEJyb3dzZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCxcImlzTGVnYWN5Q2hyb21lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKHQsXCJpc1N1cHBvcnRlZFBDXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsXCJpc1N1cHBvcnRlZE1vYmlsZVwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LFwiZ2V0Q2hyb21lS2VybmVsVmVyc2lvblwiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LFwiaXNDaHJvbWVLZXJuZWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPUUoKTtyZXR1cm4gZS5uYW1lJiZcIkNocm9tZVwiPT09ZS5uYW1lfSxpPWZ1bmN0aW9uKCl7dmFyIGU9RSgpO3JldHVybiBlLm5hbWUmJlwiU2FmYXJpXCI9PT1lLm5hbWV9LG89ZnVuY3Rpb24oKXt2YXIgZT1FKCk7cmV0dXJuIGUubmFtZSYmXCJFZGdlXCI9PT1lLm5hbWV9LGE9ZnVuY3Rpb24oKXt2YXIgZT1FKCk7cmV0dXJuIGUubmFtZSYmXCJGaXJlZm94XCI9PT1lLm5hbWV9LHM9ZnVuY3Rpb24oKXt2YXIgZT1FKCk7cmV0dXJuIGUubmFtZSYmXCJPUFJcIj09PWUubmFtZX0sYz1mdW5jdGlvbigpe3ZhciBlPUUoKTtyZXR1cm4gZS5uYW1lJiZcIlFRQnJvd3NlclwiPT09ZS5uYW1lfSxkPWZ1bmN0aW9uKCl7dmFyIGU9RSgpO3JldHVybiBlLm5hbWUmJlwiTWljcm9NZXNzZW5nZXJcIj09PWUubmFtZX0sdT1mdW5jdGlvbigpe3ZhciBlPXAoKTtyZXR1cm5cIkxpbnV4XCI9PT1lfHxcIk1hYyBPUyBYXCI9PT1lfHxcIk1hYyBPU1wiPT09ZXx8LTEhPT1lLmluZGV4T2YoXCJXaW5kb3dzXCIpfSxsPWZ1bmN0aW9uKCl7dmFyIGU9cCgpO3JldHVyblwiQW5kcm9pZFwiPT09ZXx8XCJpT1NcIj09PWV9LGY9ZnVuY3Rpb24oKXtyZXR1cm4gRSgpLnZlcnNpb259LHA9ZnVuY3Rpb24oKXtyZXR1cm4gRSgpLm9zfSxnPWZ1bmN0aW9uKCl7cmV0dXJuISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9jaHJvbWVcXC9bXFxkXSsvaSl9O2Z1bmN0aW9uIG0oKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uJiZudWxsIT09d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKSYmd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKVsxXTw9MzV9dmFyIGgsdj1mdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2Nocm9tZVxcL1tcXGRdKy9pKTtyZXR1cm4gZSYmZVswXSYmZVswXS5zcGxpdChcIi9cIilbMV19LEU9KGg9ZnVuY3Rpb24oKXt2YXIgZSx0PW5hdmlnYXRvci51c2VyQWdlbnQsbj10Lm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVxcLykpXFwvP1xccyooXFxkKykvaSl8fFtdO1wiQ2hyb21lXCI9PT1uWzFdJiZudWxsIT0oZT10Lm1hdGNoKC8oT1BSKD89XFwvKSlcXC8/KFxcZCspL2kpKSYmKG49ZSksXCJTYWZhcmlcIj09PW5bMV0mJm51bGwhPShlPXQubWF0Y2goL3ZlcnNpb25cXC8oXFxkKykvaSkpJiYoblsyXT1lWzFdKSx+dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJxcWJyb3dzZXJcIikmJm51bGwhPShlPXQubWF0Y2goLyhxcWJyb3dzZXIoPz1cXC8pKVxcLz8oXFxkKykvaSkpJiYobj1lKSx+dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtaWNyb21lc3NlbmdlclwiKSYmbnVsbCE9KGU9dC5tYXRjaCgvKG1pY3JvbWVzc2VuZ2VyKD89XFwvKSlcXC8/KFxcZCspL2kpKSYmKG49ZSksfnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZWRnZVwiKSYmbnVsbCE9KGU9dC5tYXRjaCgvKGVkZ2UoPz1cXC8pKVxcLz8oXFxkKykvaSkpJiYobj1lKSx+dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ0cmlkZW50XCIpJiZudWxsIT0oZT0vXFxicnZbIDpdKyhcXGQrKS9nLmV4ZWModCl8fFtdKSYmKG49W251bGwsXCJJRVwiLGVbMV1dKTt2YXIgcj12b2lkIDAsaT1be3M6XCJXaW5kb3dzIDEwXCIscjovKFdpbmRvd3MgMTAuMHxXaW5kb3dzIE5UIDEwLjApL30se3M6XCJXaW5kb3dzIDguMVwiLHI6LyhXaW5kb3dzIDguMXxXaW5kb3dzIE5UIDYuMykvfSx7czpcIldpbmRvd3MgOFwiLHI6LyhXaW5kb3dzIDh8V2luZG93cyBOVCA2LjIpL30se3M6XCJXaW5kb3dzIDdcIixyOi8oV2luZG93cyA3fFdpbmRvd3MgTlQgNi4xKS99LHtzOlwiV2luZG93cyBWaXN0YVwiLHI6L1dpbmRvd3MgTlQgNi4wL30se3M6XCJXaW5kb3dzIFNlcnZlciAyMDAzXCIscjovV2luZG93cyBOVCA1LjIvfSx7czpcIldpbmRvd3MgWFBcIixyOi8oV2luZG93cyBOVCA1LjF8V2luZG93cyBYUCkvfSx7czpcIldpbmRvd3MgMjAwMFwiLHI6LyhXaW5kb3dzIE5UIDUuMHxXaW5kb3dzIDIwMDApL30se3M6XCJXaW5kb3dzIE1FXCIscjovKFdpbiA5eCA0LjkwfFdpbmRvd3MgTUUpL30se3M6XCJXaW5kb3dzIDk4XCIscjovKFdpbmRvd3MgOTh8V2luOTgpL30se3M6XCJXaW5kb3dzIDk1XCIscjovKFdpbmRvd3MgOTV8V2luOTV8V2luZG93c185NSkvfSx7czpcIldpbmRvd3MgTlQgNC4wXCIscjovKFdpbmRvd3MgTlQgNC4wfFdpbk5UNC4wfFdpbk5UfFdpbmRvd3MgTlQpL30se3M6XCJXaW5kb3dzIENFXCIscjovV2luZG93cyBDRS99LHtzOlwiV2luZG93cyAzLjExXCIscjovV2luMTYvfSx7czpcIkFuZHJvaWRcIixyOi9BbmRyb2lkL30se3M6XCJPcGVuIEJTRFwiLHI6L09wZW5CU0QvfSx7czpcIlN1biBPU1wiLHI6L1N1bk9TL30se3M6XCJMaW51eFwiLHI6LyhMaW51eHxYMTEpL30se3M6XCJpT1NcIixyOi8oaVBob25lfGlQYWR8aVBvZCkvfSx7czpcIk1hYyBPUyBYXCIscjovTWFjIE9TIFgvfSx7czpcIk1hYyBPU1wiLHI6LyhNYWNQUEN8TWFjSW50ZWx8TWFjX1Bvd2VyUEN8TWFjaW50b3NoKS99LHtzOlwiUU5YXCIscjovUU5YL30se3M6XCJVTklYXCIscjovVU5JWC99LHtzOlwiQmVPU1wiLHI6L0JlT1MvfSx7czpcIk9TLzJcIixyOi9PU1xcLzIvfSx7czpcIlNlYXJjaCBCb3RcIixyOi8obnVoa3xHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrIEplZXZlc1xcL1Rlb21hfGlhX2FyY2hpdmVyKS99XTtmb3IodmFyIG8gaW4gaSl7dmFyIGE9aVtvXTtpZihhLnIudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7cj1hLnM7YnJlYWt9fXJldHVybntuYW1lOm5bMV0sdmVyc2lvbjpuWzJdLG9zOnJ9fSgpLGZ1bmN0aW9uKCl7cmV0dXJuIGh9KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24uZCh0LFwiYlwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LFwiY1wiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO24oMCk7dmFyIHI9ZnVuY3Rpb24oZSx0LG4pe2lmKFtcIkVuZDJFbmREZWxheVwiLFwiVHJhbnNwb3J0RGVsYXlcIixcIlBhY2tldExvc3NSYXRlXCIsXCJSZWN2TGV2ZWxcIixcIlJlY3ZCaXRyYXRlXCIsXCJDb2RlY1R5cGVcIixcIk11dGVTdGF0ZVwiLFwiVG90YWxGcmVlemVUaW1lXCIsXCJUb3RhbFBsYXlEdXJhdGlvblwiLFwiUmVjb3JkaW5nTGV2ZWxcIixcIlNlbmRMZXZlbFwiLFwiU2FtcGxpbmdSYXRlXCIsXCJTZW5kQml0cmF0ZVwiLFwiQ29kZWNUeXBlXCIsXCJNdXRlU3RhdGVcIixcIkVuZDJFbmREZWxheVwiLFwiVHJhbnNwb3J0RGVsYXlcIixcIlBhY2tldExvc3NSYXRlXCIsXCJSZWN2Qml0cmF0ZVwiLFwiUmVjdlJlc29sdXRpb25XaWR0aFwiLFwiUmVjdlJlc29sdXRpb25IZWlnaHRcIixcIlJlbmRlclJlc29sdXRpb25IZWlnaHRcIixcIlJlbmRlclJlc29sdXRpb25XaWR0aFwiLFwiUmVuZGVyRnJhbWVSYXRlXCIsXCJUb3RhbEZyZWV6ZVRpbWVcIixcIlRvdGFsUGxheUR1cmF0aW9uXCIsXCJUYXJnZXRTZW5kQml0cmF0ZVwiLFwiU2VuZEZyYW1lUmF0ZVwiLFwiU2VuZEZyYW1lUmF0ZVwiLFwiU2VuZEJpdHJhdGVcIixcIlNlbmRSZXNvbHV0aW9uV2lkdGhcIixcIlNlbmRSZXNvbHV0aW9uSGVpZ2h0XCIsXCJDYXB0dXJlUmVzb2x1dGlvbkhlaWdodFwiLFwiQ2FwdHVyZVJlc29sdXRpb25XaWR0aFwiLFwiRW5jb2RlRGVsYXlcIixcIk11dGVTdGF0ZVwiLFwiVG90YWxGcmVlemVUaW1lXCIsXCJUb3RhbER1cmF0aW9uXCIsXCJDYXB0dXJlRnJhbWVSYXRlXCIsXCJSVFRcIixcIk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoXCIsXCJEdXJhdGlvblwiLFwiVXNlckNvdW50XCIsXCJTZW5kQnl0ZXNcIixcIlJlY3ZCeXRlc1wiLFwiU2VuZEJpdHJhdGVcIixcIlJlY3ZCaXRyYXRlXCIsXCJhY2Nlc3NEZWxheVwiLFwiYXVkaW9TZW5kQnl0ZXNcIixcImF1ZGlvU2VuZFBhY2tldHNcIixcInZpZGVvU2VuZEJ5dGVzXCIsXCJ2aWRlb1NlbmRQYWNrZXRzXCIsXCJ2aWRlb1NlbmRQYWNrZXRzTG9zdFwiLFwidmlkZW9TZW5kRnJhbWVSYXRlXCIsXCJhdWRpb1NlbmRQYWNrZXRzTG9zdFwiLFwidmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoXCIsXCJ2aWRlb1NlbmRSZXNvbHV0aW9uSGVpZ2h0XCIsXCJhY2Nlc3NEZWxheVwiLFwiYXVkaW9SZWNlaXZlQnl0ZXNcIixcImF1ZGlvUmVjZWl2ZVBhY2tldHNcIixcImF1ZGlvUmVjZWl2ZVBhY2tldHNMb3N0XCIsXCJ2aWRlb1JlY2VpdmVCeXRlc1wiLFwidmlkZW9SZWNlaXZlUGFja2V0c1wiLFwidmlkZW9SZWNlaXZlUGFja2V0c0xvc3RcIixcInZpZGVvUmVjZWl2ZUZyYW1lUmF0ZVwiLFwidmlkZW9SZWNlaXZlRGVjb2RlRnJhbWVSYXRlXCIsXCJ2aWRlb1JlY2VpdmVSZXNvbHV0aW9uV2lkdGhcIixcInZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHRcIixcImVuZFRvRW5kRGVsYXlcIixcInZpZGVvUmVjZWl2ZURlbGF5XCIsXCJhdWRpb1JlY2VpdmVEZWxheVwiLFwiRmlyc3RGcmFtZVRpbWVcIixcIlZpZGVvRnJlZXplUmF0ZVwiLFwiQXVkaW9GcmVlemVSYXRlXCIsXCJSZW5kZXJSZXNvbHV0aW9uV2lkdGhcIixcIlJlbmRlclJlc29sdXRpb25IZWlnaHRcIixcIlZpZGVvUHVibGlzaER1cmF0aW9uXCIsXCJBdWRpb1B1Ymxpc2hEdXJhdGlvblwiXS5pbmRleE9mKHQpPi0xJiYoXCJzdHJpbmdcIj09dHlwZW9mIG58fGlzRmluaXRlKG4pKSlyZXR1cm4gZVt0XT1cIlwiK259LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5pZCYmZS50eXBlJiYoLTE9PT1lLmlkLmluZGV4T2YoXCJzZW5kXCIpJiYtMT09PWUudHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJvdXRib3VuZFwiKSYmLTE9PT1lLmlkLmluZGV4T2YoXCJvdXRib3VuZF9ydHBcIikmJi0xPT09ZS5pZC5pbmRleE9mKFwiT3V0Ym91bmRSVFBcIil8fChcImF1ZGlvXCI9PT1lLm1lZGlhVHlwZT8ocih0LFwiYXVkaW9TZW5kQnl0ZXNcIixlLmJ5dGVzU2VudCkscih0LFwiYXVkaW9TZW5kUGFja2V0c1wiLGUucGFja2V0c1NlbnQpLHIodCxcImF1ZGlvU2VuZFBhY2tldHNMb3N0XCIsZS5wYWNrZXRzTG9zdCkpOihyKHQsXCJ2aWRlb1NlbmRCeXRlc1wiLGUuYnl0ZXNTZW50KSxyKHQsXCJ2aWRlb1NlbmRQYWNrZXRzXCIsZS5wYWNrZXRzU2VudCkscih0LFwidmlkZW9TZW5kUGFja2V0c0xvc3RcIixlLnBhY2tldHNMb3N0KSxyKHQsXCJ2aWRlb1NlbmRGcmFtZVJhdGVcIixlLmdvb2dGcmFtZVJhdGVTZW50KSxyKHQsXCJ2aWRlb1NlbmRSZXNvbHV0aW9uV2lkdGhcIixlLmdvb2dGcmFtZVdpZHRoU2VudCkscih0LFwidmlkZW9TZW5kUmVzb2x1dGlvbkhlaWdodFwiLGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCkpKSl9KSksdH0sbz1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlkJiZlLnR5cGUmJigtMT09PWUuaWQuaW5kZXhPZihcInJlY3ZcIikmJi0xPT09ZS50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImluYm91bmRcIikmJi0xPT09ZS5pZC5pbmRleE9mKFwiaW5ib3VuZF9ydHBcIikmJi0xPT09ZS5pZC5pbmRleE9mKFwiaW5ib3VuZC1ydHBcIikmJi0xPT09ZS5pZC5pbmRleE9mKFwiSW5ib3VuZFJUUFwiKXx8KFwiYXVkaW9cIj09PWUubWVkaWFUeXBlPyhyKHQsXCJhdWRpb1JlY2VpdmVCeXRlc1wiLGUuYnl0ZXNSZWNlaXZlZCkscih0LFwiYXVkaW9SZWNlaXZlUGFja2V0c1wiLGUucGFja2V0c1JlY2VpdmVkKSxyKHQsXCJhdWRpb1JlY2VpdmVQYWNrZXRzTG9zdFwiLGUucGFja2V0c0xvc3QpKToocih0LFwidmlkZW9SZWNlaXZlQnl0ZXNcIixlLmJ5dGVzUmVjZWl2ZWQpLHIodCxcInZpZGVvUmVjZWl2ZVBhY2tldHNMb3N0XCIsZS5wYWNrZXRzTG9zdCkscih0LFwidmlkZW9SZWNlaXZlUGFja2V0c1wiLGUucGFja2V0c1JlY2VpdmVkKSxyKHQsXCJ2aWRlb1JlY2VpdmVGcmFtZVJhdGVcIixlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCkscih0LFwidmlkZW9SZWNlaXZlRGVjb2RlRnJhbWVSYXRlXCIsZS5nb29nRnJhbWVSYXRlRGVjb2RlZCkscih0LFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoXCIsZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxyKHQsXCJ2aWRlb1JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0XCIsZS5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCkpKSl9KSksdH19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24uZCh0LFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LFwiZVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LFwiZFwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LFwiY1wiLChmdW5jdGlvbigpe3JldHVybiBkfSkpO3ZhciByPW4oMCksaT1mdW5jdGlvbigpe3ZhciBlPXtkaXNwYXRjaGVyOnt9fTtyZXR1cm4gZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzPXt9LGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LG4pe3ZvaWQgMD09PWUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XSYmKGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XT1bXSksZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3RdLnB1c2gobil9LGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEoIWUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XXx8IWUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XS5sZW5ndGgpfSxlLm9uPWUuYWRkRXZlbnRMaXN0ZW5lcixlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxuKXt2YXIgcjtlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF0mJi0xIT09KHI9ZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3RdLmluZGV4T2YobikpJiZlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF0uc3BsaWNlKHIsMSl9LGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0KXt2YXIgbjtmb3IobiBpbiBlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXSlpZihlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXSYmZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV0uaGFzT3duUHJvcGVydHkobikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdW25dKXRyeXtlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXVtuXSh0KX1jYXRjaChuKXtyLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIEVycm9yIGluIFwiKS5jb25jYXQodC50eXBlLFwiIGV2ZW50XCIpLG4pfX0sZS5kaXNwYXRjaFNvY2tldEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBuO2ZvcihuIGluIGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdKWUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdJiZlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXS5oYXNPd25Qcm9wZXJ0eShuKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV1bbl0mJmUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdW25dKHQubXNnKX0sZX0sbz1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC50eXBlPWUudHlwZSx0fSxhPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQuc3RyZWFtPWUuc3RyZWFtLHQucmVhc29uPWUucmVhc29uLHQubXNnPWUubXNnLHR9LHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC51aWQ9ZS51aWQsdC5hdHRyPWUuYXR0cix0LnN0cmVhbT1lLnN0cmVhbSx0fSxjPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQubXNnPWUubXNnLHR9LGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm4gdC51cmw9ZS51cmwsdC51aWQ9ZS51aWQsdC5zdGF0dXM9ZS5zdGF0dXMsdC5yZWFzb249ZS5yZWFzb24sdH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KSxvPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sYT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPXMobig2OSkpLGQ9bigyKSx1PXMobigwKSksbD1uKDMpLGY9bigxNCkscD1uKDEwKSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX3N0YXRlPVMuUkVMQVlfU1RBVEVfSURMRSxyLl9vblN0YXR1cz1mdW5jdGlvbihlKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrci5jbGllbnRJZCtcIl0gQ2hhbm5lbE1lZGlhU3RhdHVzOiBcIitKU09OLnN0cmluZ2lmeShlKSksZSYmZS5jb21tYW5kJiYoXCJvbkF1ZGlvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmci5lbWl0KFwiZXZlbnRcIixFLlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQyksXCJvblZpZGVvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmci5lbWl0KFwiZXZlbnRcIixFLlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQyksXCJvblNyY1Rva2VuUHJpdmlsZWdlRGlkRXhwaXJlXCI9PT1lLmNvbW1hbmQmJihyLl9zdGF0ZT1TLlJFTEFZX1NUQVRFX0ZBSUxVUkUsci5lbWl0KFwic3RhdGVcIixTLlJFTEFZX1NUQVRFX0ZBSUxVUkUsXy5TUkNfVE9LRU5fRVhQSVJFRCkpLFwib25EZXN0VG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmVcIj09PWUuY29tbWFuZCYmKHIuX3N0YXRlPVMuUkVMQVlfU1RBVEVfRkFJTFVSRSxyLmVtaXQoXCJzdGF0ZVwiLFMuUkVMQVlfU1RBVEVfRkFJTFVSRSxfLkRFU1RfVE9LRU5fRVhQSVJFRCxlLmNoYW5uZWxOYW1lP3tjYW1lOmUuY2hhbm5lbE5hbWV9Om51bGwpKSl9LHIuX29uQ2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gQ2hhbm5lbE1lZGlhU29ja2V0IG9uQ2xvc2VcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixFLk5FVFdPUktfRElTQ09OTkVDVEVEKSx0aGlzLnN0YXRlPVMuUkVMQVlfU1RBVEVfSURMRSwhdGhpcy5fcHJldkNoYW5uZWxNZWRpYUNvbmZpZylyZXR1cm5bMyw0XTt0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSwzLCw0XSksWzQsdGhpcy5zdGFydENoYW5uZWxNZWRpYVJlbGF5KHRoaXMuX3ByZXZDaGFubmVsTWVkaWFDb25maWcpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4oZT10LnNlbnQoKSlpbnN0YW5jZW9mIFImJihlLm1lc3NhZ2U9PT1oLldTX0FCT1JUfHxlLm1lc3NhZ2U9PT1oLkFQX1JFUVVFU1RfQUJPUlQpP1syXToodGhpcy5lbWl0KFwic3RhdGVcIixTLlJFTEFZX1NUQVRFX0ZBSUxVUkUsXy5TRVJWRVJfQ09OTkVDVElPTl9MT1NUKSxbMyw0XSk7Y2FzZSA0OnJldHVyblsyXX19KSl9KSl9LHIudG9rZW49dC5hcHBJZCxyLmFwcElkPXQuYXBwSWQsci5jbmFtZT10LmNuYW1lLHIudWlkPXQudWlkLHIuc2lkPXQuc2lkLHIuY2xpZW50SWQ9bixyfXJldHVybiBpKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9ZSx0IT09ZSYmdGhpcy5lbWl0KFwic3RhdGVcIixlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5zdGFydENoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuc3RhdGUhPT1TLlJFTEFZX1NUQVRFX0lETEUpdGhyb3cgbmV3IFIoaC5CQURfU1RBVEUpO3JldHVybiB0aGlzLnN0YXRlPVMuUkVMQVlfU1RBVEVfQ09OTkVDVElORyxbNCx0aGlzLl9jb25uZWN0KCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IGNvbm5lY3Qgc3VjY2Vzc1wiKSxbNCx0aGlzLl9zZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksdGhpcy5fcHJldkNoYW5uZWxNZWRpYUNvbmZpZz1lLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuc3RhdGUhPT1TLlJFTEFZX1NUQVRFX1JVTk5JTkcpdGhyb3cgbmV3IFIoaC5CQURfU1RBVEUpO3JldHVybls0LHRoaXMuX3NlbmRVcGRhdGVNZXNzYWdlKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMuX3ByZXZDaGFubmVsTWVkaWFDb25maWc9ZSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5zdG9wQ2hhbm5lbE1lZGlhUmVsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9zZW5kU3RvcFJlbGF5TWVzc2FnZSgpXTtjYXNlIDE6cmV0dXJuIGUuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdG9wQ2hhbm5lbE1lZGlhUmVsYXk6IHNlbmQgc3RvcCBtZXNzYWdlIHN1Y2Nlc3NcIiksdGhpcy5zdGF0ZT1TLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5kaXNwb3NlKCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBkaXNwb3NlQ2hhbm5lbE1lZGlhUmVsYXlcIiksdGhpcy5zdGF0ZT1TLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLl9zaWduYWwmJnRoaXMuX3NpZ25hbC5kaXNwb3NlKCksdGhpcy5fcHJldkNoYW5uZWxNZWRpYUNvbmZpZz1udWxsLHRoaXMucmVtb3ZlRXZlbnQoKX0sdC5wcm90b3R5cGUuX3JlcXVlc3RPbmVBUD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT17Y29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsc2lkOnQuc2lkLGFwcElkOnQuYXBwSWQsdG9rZW46XCJcIix0czorbmV3IERhdGUsdmVyc2lvbjpkLlZFUlNJT04sY25hbWU6dC5jbmFtZSx1aWQ6dC51aWQrXCJcIixzZXE6MSxyZXF1ZXN0SWQ6MX0sbz17c2VydmljZV9uYW1lOlwidGVsZV9jaGFubmVsXCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KGkpfSxhPVwiaHR0cHM6Ly9cIitlO2YucG9zdChhLG8sKGZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsaT1udWxsO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cihuZXcgUihoLkFQX0pTT05fUEFSU0VfRVJST1IsZSkpfTAhPT10LmNvZGUmJnIobmV3IFIoaC5BUF9SRVFVRVNUX0VSUk9SLHQpKTt0cnl7aT1KU09OLnBhcnNlKHQuanNvbl9ib2R5KX1jYXRjaChlKXtyKG5ldyBSKGguQVBfSlNPTl9QQVJTRV9FUlJPUixlKSl9MjAwIT09aS5jb2RlJiZyKG5ldyBSKGguQVBfUkVRVUVTVF9FUlJPUixpKSksaS5zZXJ2ZXJzP24oaS5zZXJ2ZXJzKTpyKG5ldyBSKGguQVBfSlNPTl9QQVJTRV9FUlJPUixpKSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9KSx7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NjF9KX0pKX0sdC5wcm90b3R5cGUuX3JlcXVlc3RBUD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1kLmdldFBhcmFtZXRlcihcIlVBUF9BUFwiKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKG5ldyBSKGguQVBfUkVRVUVTVF9USU1FT1VUKSl9KSw1ZTMpLGUub24oXCJkaXNwb3NlXCIsKGZ1bmN0aW9uKCl7cihuZXcgUihoLkFQX1JFUVVFU1RfQUJPUlQpKX0pKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QrPVwiL2FwaS92MVwiLGUuX3JlcXVlc3RPbmVBUCh0KS50aGVuKChmdW5jdGlvbihyKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheSByZXF1ZXN0IEFQIFwiK3QrXCIgc3VjY2VzczogXCIrSlNPTi5zdHJpbmdpZnkocikpO3ZhciBpPXJbMF0sbz1cIndzczovL1wiK2kuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIikrXCIuZWRnZS5hZ29yYS5pbzpcIitpLndzcztuKG8pfSkpLmNhdGNoKChmdW5jdGlvbihuKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheSByZXF1ZXN0IEFQIFwiK3QrXCIgZmFpbGVkOiBcIitKU09OLnN0cmluZ2lmeShuKSl9KSl9KSl9KSl9LHQucHJvdG90eXBlLl9jb25uZWN0V2Vic29ja2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaWduYWw9bmV3IHkodGhpcy5hcHBJZCx0aGlzLmNuYW1lLHRoaXMudWlkLHRoaXMuc2lkKSx0aGlzLl9zaWduYWwuY29ubmVjdChlKX0sdC5wcm90b3R5cGUuX2Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLl9yZXF1ZXN0QVAoKV07Y2FzZSAxOnJldHVybiBlPXQuc2VudCgpLFs0LHRoaXMuX2Nvbm5lY3RXZWJzb2NrZXQoZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksdGhpcy5fc2lnbmFsLm9uKFwiY2xvc2VcIix0aGlzLl9vbkNsb3NlLmJpbmQodGhpcykpLHRoaXMuX3NpZ25hbC5vbihcInN0YXR1c1wiLHRoaXMuX29uU3RhdHVzLmJpbmQodGhpcykpLHRoaXMuZW1pdChcImV2ZW50XCIsRS5ORVRXT1JLX0NPTk5FQ1RFRCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3NlbmRTdGFydFJlbGF5TWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixyLGksbyxzO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2NoZWNrU2lnbmFsKCksdD10aGlzLl9nZW5NZXNzYWdlKHYuU3RvcFBhY2tldFRyYW5zZmVyKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdCh0KV07Y2FzZSAxOnJldHVybiBhLnNlbnQoKSxbNCx0aGlzLl9zaWduYWwud2FpdFN0YXR1cyhcIk5vcm1hbCBRdWl0XCIpXTtjYXNlIDI6cmV0dXJuIGEuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSxuPXRoaXMuX2dlbk1lc3NhZ2Uodi5TZXRTZGtQcm9maWxlLGUpLFs0LHRoaXMuX3NpZ25hbC5yZXF1ZXN0KG4pXTtjYXNlIDM6cmV0dXJuIGEuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTZGtQcm9maWxlIHN1Y2Nlc3NcIikscj10aGlzLl9nZW5NZXNzYWdlKHYuU2V0U291cmNlQ2hhbm5lbCxlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdChyKV07Y2FzZSA0OnJldHVybiBhLnNlbnQoKSxbNCx0aGlzLl9zaWduYWwud2FpdFN0YXR1cyhcIlNldFNvdXJjZUNoYW5uZWxTdGF0dXNcIildO2Nhc2UgNTpyZXR1cm4gYS5zZW50KCksdGhpcy5lbWl0KFwiZXZlbnRcIixFLlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUwpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VDaGFubmVsIHN1Y2Nlc3NcIiksaT10aGlzLl9nZW5NZXNzYWdlKHYuU2V0U291cmNlVXNlcklkLGUpLFs0LHRoaXMuX3NpZ25hbC5yZXF1ZXN0KGkpXTtjYXNlIDY6cmV0dXJuIGEuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VVc2VySWQgc3VjY2Vzc1wiKSxvPXRoaXMuX2dlbk1lc3NhZ2Uodi5TZXREZXN0Q2hhbm5lbCxlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdChvKV07Y2FzZSA3OnJldHVybiBhLnNlbnQoKSxbNCx0aGlzLl9zaWduYWwud2FpdFN0YXR1cyhcIlNldERlc3RDaGFubmVsU3RhdHVzXCIpXTtjYXNlIDg6cmV0dXJuIGEuc2VudCgpLHRoaXMuZW1pdChcImV2ZW50XCIsRS5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTCksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldERlc3RDaGFubmVsIHN1Y2Nlc3NcIikscz10aGlzLl9nZW5NZXNzYWdlKHYuU3RhcnRQYWNrZXRUcmFuc2ZlcixlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdChzKV07Y2FzZSA5OnJldHVybiBhLnNlbnQoKSx0aGlzLmVtaXQoXCJldmVudFwiLEUuUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMKSx0aGlzLnN0YXRlPVMuUkVMQVlfU1RBVEVfUlVOTklORyx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RhcnRQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9zZW5kUmVjb25uZWN0TWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fY2hlY2tTaWduYWwoKSx0PXRoaXMuX2dlbk1lc3NhZ2Uodi5SZWNvbm5lY3QsZSksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QodCldO2Nhc2UgMTpyZXR1cm4gbi5zZW50KCksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX3NlbmRVcGRhdGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9jaGVja1NpZ25hbCgpLHQ9dGhpcy5fZ2VuTWVzc2FnZSh2LlVwZGF0ZURlc3RDaGFubmVsLGUpLFs0LHRoaXMuX3NpZ25hbC5yZXF1ZXN0KHQpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLHRoaXMuZW1pdChcImV2ZW50XCIsRS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTCksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIHNlbmRVcGRhdGVNZXNzYWdlOiBVcGRhdGVEZXN0Q2hhbm5lbCBzdWNjZXNzXCIpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9zZW5kU3RvcFJlbGF5TWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9jaGVja1NpZ25hbCgpLGU9dGhpcy5fZ2VuTWVzc2FnZSh2LlN0b3BQYWNrZXRUcmFuc2ZlciksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QoZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIHNlbmRTdG9wUmVsYXlNZXNzYWdlOiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fZ2VuTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1bXSxpPVtdLG89W10sYT17YXBwSWQ6dGhpcy5hcHBJZCxjbmFtZTp0aGlzLmNuYW1lLHVpZDp0aGlzLnVpZCtcIlwiLHNka1ZlcnNpb246ZC5WRVJTSU9OLHNpZDp0aGlzLnNpZCx0czorbmV3IERhdGUscmVxdWVzdElkOjAsc2VxOjAsYWxsb2NhdGU6ITAsY2xpZW50UmVxdWVzdDp7fX0scz1udWxsO3N3aXRjaChlKXtjYXNlIHYuU2V0U2RrUHJvZmlsZTpyZXR1cm4gYS5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U2RrUHJvZmlsZVwiLHR5cGU6XCJtdWx0aV9jaGFubmVsXCJ9LGE7Y2FzZSB2LlNldFNvdXJjZUNoYW5uZWw6cmV0dXJuIHM9dC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksYS5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U291cmNlQ2hhbm5lbFwiLHVpZDpzLnVpZCtcIlwiLGNoYW5uZWxOYW1lOnMuY2hhbm5lbE5hbWUsdG9rZW46cy50b2tlbnx8dGhpcy5hcHBJZH0sYTtjYXNlIHYuU2V0U291cmNlVXNlcklkOnJldHVybiBzPXQuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZVVzZXJJZFwiLHVpZDp0aGlzLnVpZCtcIlwifSxhO2Nhc2Ugdi5TZXREZXN0Q2hhbm5lbDpyZXR1cm4gdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mb3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyLnB1c2goZS5jaGFubmVsTmFtZSksaS5wdXNoKGUudWlkK1wiXCIpLG8ucHVzaChlLnRva2VufHxuLmFwcElkKX0pKSxhLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXREZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOnIsdWlkOmksdG9rZW46b30sYTtjYXNlIHYuU3RhcnRQYWNrZXRUcmFuc2ZlcjpyZXR1cm4gYS5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU3RhcnRQYWNrZXRUcmFuc2ZlclwifSxhO2Nhc2Ugdi5SZWNvbm5lY3Q6cmV0dXJuIGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlJlY29ubmVjdFwifSxhO2Nhc2Ugdi5TdG9wUGFja2V0VHJhbnNmZXI6cmV0dXJuIGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0b3BQYWNrZXRUcmFuc2ZlclwifSxhO2Nhc2Ugdi5VcGRhdGVEZXN0Q2hhbm5lbDpyZXR1cm4gdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mb3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyLnB1c2goZS5jaGFubmVsTmFtZSksaS5wdXNoKGUudWlkK1wiXCIpLG8ucHVzaChlLnRva2VufHxuLmFwcElkKX0pKSxhLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJVcGRhdGVEZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOnIsdWlkOmksdG9rZW46b30sYX19LHQucHJvdG90eXBlLl9jaGVja1NpZ25hbD1mdW5jdGlvbigpe2lmKCF0aGlzLl9zaWduYWx8fCF0aGlzLl9zaWduYWwuaXNDb25uZWN0KCkpdGhyb3cgbmV3IFIoaC5XU19ESVNDT05ORUNURUQpfSx0fShjLmRlZmF1bHQpO3QuZGVmYXVsdD1nO3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zPW5ldyBNYXB9cmV0dXJuIGUucHJvdG90eXBlLnNldFNyY0NoYW5uZWxJbmZvPWZ1bmN0aW9uKGUpe2wuY2hlY2tWYWxpZE9iamVjdChlLFwic3JjSW5mb1wiKTt2YXIgdD1lLnVpZCxuPWUuY2hhbm5lbE5hbWUscj1lLnRva2VuO2lmKHImJiFsLmlzVmFsaWRUb2tlbihyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRva2VuIGluIFNyY0NoYW5uZWxJbmZvXCIpO2lmKCFsLmlzVmFsaWRDaGFubmVsTmFtZShuKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYW5uZWxOYW1lIGluIFNyY0NoYW5uZWxJbmZvXCIpO2lmKCFwLmlzMzJVaW50KHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdWlkIGluIFNyY0NoYW5uZWxJbmZvXCIpO3RoaXMuc3JjQ2hhbm5lbE1lZGlhSW5mbz1lfSxlLnByb3RvdHlwZS5zZXREZXN0Q2hhbm5lbEluZm89ZnVuY3Rpb24oZSx0KXtpZighbC5pc1ZhbGlkQ2hhbm5lbE5hbWUoZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBEZXN0Q2hhbm5lbEluZm9cIik7bC5jaGVja1ZhbGlkT2JqZWN0KHQsXCJkZXN0SW5mb1wiKTt2YXIgbj10LnVpZCxyPXQudG9rZW4saT10LmNoYW5uZWxOYW1lO2lmKHImJiFsLmlzVmFsaWRUb2tlbihyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRva2VuIGluIERlc3RDaGFubmVsSW5mb1wiKTtpZighbC5pc1ZhbGlkQ2hhbm5lbE5hbWUoaSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBEZXN0Q2hhbm5lbEluZm9cIik7aWYoIXAuaXMzMlVpbnQobikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1aWQgaW4gRGVzdENoYW5uZWxJbmZvXCIpO3RoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLnNldChlLHQpfSxlLnByb3RvdHlwZS5yZW1vdmVEZXN0Q2hhbm5lbEluZm89ZnVuY3Rpb24oZSl7aWYoIWwuaXNWYWxpZENoYW5uZWxOYW1lKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2hhbm5lbE5hbWUgd2hlbiBpbnZva2UgcmVtb3ZlRGVzdENoYW5uZWxJbmZvXCIpO3RoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm99LGUucHJvdG90eXBlLmdldERlc3RDaGFubmVsTWVkaWFJbmZvcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvc30sZX0oKTt0LkNoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbj1tO3ZhciBoLHYsRSxTLF8seT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLGkpe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5fb25PcGVuPWZ1bmN0aW9uKCl7by5lbWl0KFwib3BlblwiKX0sby5fb25DbG9zZT1mdW5jdGlvbihlKXtvLmVtaXQoXCJjbG9zZVwiKSxvLmRpc3Bvc2UoKX0sby5fb25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZighdHx8XCJzZXJ2ZXJSZXNwb25zZVwiIT09dC5jb21tYW5kfHwhdC5yZXF1ZXN0SWQpcmV0dXJuIHQmJlwic2VydmVyU3RhdHVzXCI9PT10LmNvbW1hbmQmJnQuc2VydmVyU3RhdHVzJiZ0LnNlcnZlclN0YXR1cy5jb21tYW5kPyhvLmVtaXQoXCJzdGF0dXNcIix0LnNlcnZlclN0YXR1cyksdm9pZCBvLmVtaXQodC5zZXJ2ZXJTdGF0dXMuY29tbWFuZCx0LnNlcnZlclN0YXR1cykpOnZvaWQgMDtvLmVtaXQoXCJyZXFfXCIrdC5yZXF1ZXN0SWQsdCl9LG8uX3JlcXVlc3RJZD0xLG8uYXBwSWQ9dCxvLmNuYW1lPW4sby51aWQ9cixvLnNpZD1pLG99cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5pc0Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3MmJnRoaXMuX3dzLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTn0sdC5wcm90b3R5cGUuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX3dzfHx0aGlzLl93cy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4pdGhyb3cgbmV3IFIoaC5XU19ESVNDT05ORUNURUQpO3ZhciB0PXRoaXMuX3JlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD10LGUuc2VxPXQsdGhpcy5fd3Muc2VuZChKU09OLnN0cmluZ2lmeShlKSksdH0sdC5wcm90b3R5cGUud2FpdFN0YXR1cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKG5ldyBSKGguV0FJVF9TVEFUVVNfVElNRU9VVCxlKSl9KSw1ZTMpO3Qub25jZShlLChmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQoaSksdC5zdGF0ZSYmMCE9PXQuc3RhdGU/cihuZXcgUihoLldBSVRfU1RBVFVTX0VSUk9SLGUpKTpuKCl9KSksdC5vbmNlKFwiZGlzcG9zZVwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChpKSxyKG5ldyBSKGguV1NfQUJPUlQpKX0pKX0pKX0sdC5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT10LnNlbmRNZXNzYWdlKGUpLG89d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZXFfXCIraSkscihuZXcgUihoLlJFUVVFU1RfVElNRU9VVCkpfSksM2UzKTt0Lm9uY2UoXCJyZXFfXCIraSwoZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KG8pLGUmJjIwMD09PWUuY29kZT9uKGUpOnIobmV3IFIoaC5SRVFVRVNUX0ZBSUxFRCxlKSl9KSksdC5vbmNlKFwiZGlzcG9zZVwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChvKSxyKG5ldyBSKGguV1NfQUJPUlQpKX0pKX0pKX0sdC5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0Ll93cz1uZXcgV2ViU29ja2V0KGUpLHQuX3dzLm9ub3Blbj1mdW5jdGlvbigpe3QuX29uT3BlbigpLHQuX3BydlVybD1lLHQuX3dzLm9ubWVzc2FnZT10Ll9vbk1lc3NhZ2UsdC5fd3Mub25jbG9zZT10Ll9vbkNsb3NlLHQuX3N0YXJ0SGVhcnRCZWF0Q2hlY2soKSxuKCl9LHQuX3dzLm9uY2xvc2U9ZnVuY3Rpb24oZSl7dC5fd3M9bnVsbCxyKG5ldyBSKGguQ09OTkVDVF9GQUlMRUQsXCJ3ZWJzb2NrZXQgZXJyb3IgY29kZTogXCIrZS5jb2RlKSl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fd3MmJnQuX3dzLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmKHQuX3dzLm9ub3Blbj1udWxsLHQuX3dzLm9uY2xvc2U9bnVsbCx0Ll93cy5jbG9zZSgpLHQuX3dzPW51bGwscihuZXcgUihoLkNPTk5FQ1RfVElNRU9VVCkpKX0pLDVlMyksdC5vbmNlKFwiZGlzcG9zZVwiLChmdW5jdGlvbigpe3IobmV3IFIoaC5XU19BQk9SVCkpfSkpfSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIZWFydEJlYXRDaGVjaygpLHRoaXMuZW1pdChcImRpc3Bvc2VcIiksdGhpcy5yZW1vdmVFdmVudCgpLHRoaXMuX3dzJiYodGhpcy5fd3Mub25vcGVuPW51bGwsdGhpcy5fd3Mub25jbG9zZT1udWxsLHRoaXMuX3dzLm9ubWVzc2FnZT1udWxsLHRoaXMuX3dzLmNsb3NlKCkpLHRoaXMuX3dzPW51bGx9LHQucHJvdG90eXBlLl9zZW5kUGluZz1mdW5jdGlvbihlKXtpZighdGhpcy5fd3N8fHRoaXMuX3dzLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTil0aHJvdyBuZXcgUihoLldTX0RJU0NPTk5FQ1RFRCk7dmFyIHQ9dGhpcy5fcmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPXQsdGhpcy5fd3Muc2VuZChKU09OLnN0cmluZ2lmeShlKSksdH0sdC5wcm90b3R5cGUuX3N0YXJ0SGVhcnRCZWF0Q2hlY2s9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2hlYXJ0QmVhdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLl9zZW5kUGluZyh7Y29tbWFuZDpcInBpbmdcIixhcHBJZDplLmFwcElkLGNuYW1lOmUuY25hbWUsdWlkOmUudWlkK1wiXCIsc2lkOmUuc2lkLHRzOituZXcgRGF0ZSxyZXF1ZXN0SWQ6MH0pfSksM2UzKX0sdC5wcm90b3R5cGUuX2NsZWFySGVhcnRCZWF0Q2hlY2s9ZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9oZWFydEJlYXRUaW1lcil9LHR9KGMuZGVmYXVsdCksUj1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5jb2RlPW4sdGhpcy5kYXRhPXQsdGhpcy5tZXNzYWdlPWV9O3QuQ2hhbm5lbE1lZGlhRXJyb3I9UixmdW5jdGlvbihlKXtlLkNPTk5FQ1RfRkFJTEVEPVwiY29ubmVjdCBmYWlsZWRcIixlLkNPTk5FQ1RfVElNRU9VVD1cImNvbm5lY3QgdGltZW91dFwiLGUuV1NfRElTQ09OTkVDVEVEPVwid2Vic29ja2V0IGRpc2Nvbm5lY3RlZFwiLGUuUkVRVUVTVF9USU1FT1VUPVwicmVxdWVzdCB0aW1lb3V0XCIsZS5SRVFVRVNUX0ZBSUxFRD1cInJlcXVlc3QgZmFpbGVkXCIsZS5XQUlUX1NUQVRVU19USU1FT1VUPVwid2FpdCBzdGF0dXMgdGltZW91dFwiLGUuV0FJVF9TVEFUVVNfRVJST1I9XCJ3YWl0IHN0YXR1cyBlcnJvclwiLGUuQkFEX1NUQVRFPVwiYmFkIHN0YXRlXCIsZS5XU19BQk9SVD1cIndzIGFib3J0XCIsZS5BUF9SRVFVRVNUX1RJTUVPVVQ9XCJBUCByZXF1ZXN0IHRpbWVvdXRcIixlLkFQX0pTT05fUEFSU0VfRVJST1I9XCJBUCBqc29uIHBhcnNlIGVycm9yXCIsZS5BUF9SRVFVRVNUX0VSUk9SPVwiQVAgcmVxdWVzdCBlcnJvclwiLGUuQVBfUkVRVUVTVF9BQk9SVD1cIkFQIHJlcXVlc3QgYWJvcnRcIn0oaD10LkNIQU5ORUxfTUVESUFfRVJST1J8fCh0LkNIQU5ORUxfTUVESUFfRVJST1I9e30pKSxmdW5jdGlvbihlKXtlW2UuU2V0U2RrUHJvZmlsZT0wXT1cIlNldFNka1Byb2ZpbGVcIixlW2UuU2V0U291cmNlQ2hhbm5lbD0xXT1cIlNldFNvdXJjZUNoYW5uZWxcIixlW2UuU2V0U291cmNlVXNlcklkPTJdPVwiU2V0U291cmNlVXNlcklkXCIsZVtlLlNldERlc3RDaGFubmVsPTNdPVwiU2V0RGVzdENoYW5uZWxcIixlW2UuU3RhcnRQYWNrZXRUcmFuc2Zlcj00XT1cIlN0YXJ0UGFja2V0VHJhbnNmZXJcIixlW2UuU3RvcFBhY2tldFRyYW5zZmVyPTVdPVwiU3RvcFBhY2tldFRyYW5zZmVyXCIsZVtlLlVwZGF0ZURlc3RDaGFubmVsPTZdPVwiVXBkYXRlRGVzdENoYW5uZWxcIixlW2UuUmVjb25uZWN0PTddPVwiUmVjb25uZWN0XCIsZVtlLlNldFZpZGVvUHJvZmlsZT04XT1cIlNldFZpZGVvUHJvZmlsZVwifSh2fHwodj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5ORVRXT1JLX0RJU0NPTk5FQ1RFRD0wXT1cIk5FVFdPUktfRElTQ09OTkVDVEVEXCIsZVtlLk5FVFdPUktfQ09OTkVDVEVEPTFdPVwiTkVUV09SS19DT05ORUNURURcIixlW2UuUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTD0yXT1cIlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUxcIixlW2UuUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUw9M109XCJQQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTFwiLGVbZS5QQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUw9NF09XCJQQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUxcIixlW2UuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDPTVdPVwiUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDXCIsZVtlLlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQz02XT1cIlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQ1wiLGVbZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTD03XT1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMXCIsZVtlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRUQ9OF09XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEXCIsZVtlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX05PVF9DSEFOR0U9OV09XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFXCJ9KEU9dC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5UfHwodC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5UPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlJFTEFZX1NUQVRFX0lETEU9MF09XCJSRUxBWV9TVEFURV9JRExFXCIsZVtlLlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkc9MV09XCJSRUxBWV9TVEFURV9DT05ORUNUSU5HXCIsZVtlLlJFTEFZX1NUQVRFX1JVTk5JTkc9Ml09XCJSRUxBWV9TVEFURV9SVU5OSU5HXCIsZVtlLlJFTEFZX1NUQVRFX0ZBSUxVUkU9M109XCJSRUxBWV9TVEFURV9GQUlMVVJFXCJ9KFM9dC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFfHwodC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlJFTEFZX09LPTBdPVwiUkVMQVlfT0tcIixlW2UuU0VSVkVSX0VSUk9SX1JFU1BPTlNFPTFdPVwiU0VSVkVSX0VSUk9SX1JFU1BPTlNFXCIsZVtlLlNFUlZFUl9OT19SRVNQT05TRT0yXT1cIlNFUlZFUl9OT19SRVNQT05TRVwiLGVbZS5OT19SRVNPVVJDRV9BVkFJTEFCTEU9M109XCJOT19SRVNPVVJDRV9BVkFJTEFCTEVcIixlW2UuRkFJTEVEX0pPSU5fU1JDPTRdPVwiRkFJTEVEX0pPSU5fU1JDXCIsZVtlLkZBSUxFRF9KT0lOX0RFU1Q9NV09XCJGQUlMRURfSk9JTl9ERVNUXCIsZVtlLkZBSUxFRF9QQUNLRVRfUkVDRUlWRURfRlJPTV9TUkM9Nl09XCJGQUlMRURfUEFDS0VUX1JFQ0VJVkVEX0ZST01fU1JDXCIsZVtlLkZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUPTddPVwiRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1RcIixlW2UuU0VSVkVSX0NPTk5FQ1RJT05fTE9TVD04XT1cIlNFUlZFUl9DT05ORUNUSU9OX0xPU1RcIixlW2UuSU5URVJOQUxfRVJST1I9OV09XCJJTlRFUk5BTF9FUlJPUlwiLGVbZS5TUkNfVE9LRU5fRVhQSVJFRD0xMF09XCJTUkNfVE9LRU5fRVhQSVJFRFwiLGVbZS5ERVNUX1RPS0VOX0VYUElSRUQ9MTFdPVwiREVTVF9UT0tFTl9FWFBJUkVEXCIsZVtlLlJFTEFZX0FMUkVBRFlfU1RBUlQ9MTJdPVwiUkVMQVlfQUxSRUFEWV9TVEFSVFwiLGVbZS5SRUxBWV9OT1RfU1RBUlQ9MTNdPVwiUkVMQVlfTk9UX1NUQVJUXCIsZVtlLk9QRVJBVElPTl9BQk9SVD0xNF09XCJPUEVSQVRJT05fQUJPUlRcIn0oXz10LkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1J8fCh0LkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1I9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcImlzTGl2ZVRyYW5zY29kaW5nVmFsaWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCxcImdlbmVyYXRlU2Vzc2lvbklkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKHQsXCJhdWRpb0xldmVsSGVscGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKHQsXCJ2c1Jlc0hhY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCxcImlzMzJVaW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKHQsXCJzYWZlQ2FsbFwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LFwicmFuZG9tXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKHQsXCJwb3BCYW5UaXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCxcImxlbmd0aEluVXRmOEJ5dGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKHQsXCJhdWRpb1RpbWVyTG9vcFwiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LFwiZ2VuZXJhdGVJZFwiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LFwidWludDhBcnJheVRvQmFzZTY0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsXCJiYXNlNjRUb1VpbnQ4QXJyYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oNSksYT1uKDApLHM9bigyOCksYz1uLm4ocyksZD1uKDI1KSx1PW4oMTUpLGw9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHNbMF07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2UuYXBwbHkobnVsbCx0KX19LGY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIsbj0wO248ZS5sZW5ndGg7bis9MSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiB3aW5kb3cuYnRvYSh0KX0scD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9d2luZG93LmF0b2IoZSksbj1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodC5sZW5ndGgpKSxyPTA7cjx0Lmxlbmd0aDtyKz0xKW5bcl09dC5jaGFyQ29kZUF0KHIpO3JldHVybiBufSxnPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF1ZGlvQ29udGV4dD1PYmplY3QoZC5hKSgpLHRoaXMuc291cmNlTm9kZT1lLm90V2Via2l0QXVkaW9Tb3VyY2V8fHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLHRoaXMuYW5hbHlzZXI9dGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLnRpbWVEb21haW5EYXRhPW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpLHRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpLHRoaXMuZ2V0QXVkaW9MZXZlbD1mdW5jdGlvbigpe2lmKHRoaXMuYW5hbHlzZXIpe3RoaXMuYW5hbHlzZXIuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHRoaXMudGltZURvbWFpbkRhdGEpO2Zvcih2YXIgZT0wLHQ9MDt0PHRoaXMudGltZURvbWFpbkRhdGEubGVuZ3RoO3QrKyllPU1hdGgubWF4KGUsTWF0aC5hYnModGhpcy50aW1lRG9tYWluRGF0YVt0XS0xMjgpKTtyZXR1cm4gZS8xMjh9cmV0dXJuIGEuZGVmYXVsdC53YXJuaW5nKFwiY2FuJ3QgZmluZCBhbmFseXNlciBpbiBhdWRpb0xldmVsSGVscGVyXCIpLDB9LHRoaXN9LG09MWU0O2Z1bmN0aW9uIGgoKXtyZXR1cm4rK219ZnVuY3Rpb24gdigpe3JldHVybiBjKCkoKS5yZXBsYWNlKC8tL2csXCJcIikudG9VcHBlckNhc2UoKX12YXIgRT1mdW5jdGlvbihlLHQsbil7dHJ5e2EuZGVmYXVsdC5kZWJ1ZyhcInN0YXJ0IHZzUmVzSGFja1wiLGUpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHIubXV0ZWQ9ITAsci5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDoxcHg7IGhpZ2g6MXB4O1wiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpO3ZhciBpPSExO3IuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwoZnVuY3Rpb24obil7by5pc0ZpcmVGb3goKT9yLnZpZGVvV2lkdGgmJihpPSEwLGEuZGVmYXVsdC5kZWJ1ZyhcIlt2c1Jlc0hhY2tdIGdldCBzdHJlYW0gcmVzb2x1dGlvbjogXCIsXCJcIi5jb25jYXQoci52aWRlb1dpZHRoLFwiIHggXCIpLmNvbmNhdChyLnZpZGVvSGVpZ2h0KSxlKSx0KHIudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0KSxyLnNyY09iamVjdD1udWxsLHIucmVtb3ZlKCkpOihpPSEwLGEuZGVmYXVsdC5kZWJ1ZyhcIlt2c1Jlc0hhY2tdIGdldCBzdHJlYW0gcmVzb2x1dGlvbjogXCIsXCJcIi5jb25jYXQoci52aWRlb1dpZHRoLFwiIHggXCIpLmNvbmNhdChyLnZpZGVvSGVpZ2h0KSxlKSx0KHIudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0KSxyLnNyY09iamVjdD1udWxsLHIucmVtb3ZlKCkpfSkpLE9iamVjdCh1LnNldFNyY09iamVjdCkocixlKSxyLnBsYXkoKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXshaSYmciYmKHQoci52aWRlb1dpZHRoLHIudmlkZW9IZWlnaHQpLHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSl9KSw0ZTMpfWNhdGNoKGUpe24oZSl9fSxTPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiYwPD1lJiZlPD00Mjk0OTY3Mjk1fSxfPWZ1bmN0aW9uKGUpe3ZhciB0PVtcImxvd0xhdGVuY3lcIixcInVzZXJDb25maWdFeHRyYUluZm9cIixcInRyYW5zY29kaW5nVXNlcnNcIl07Zm9yKHZhciBuIGluIGUpaWYoXCJsb3dMYXRlbmN5XCI9PT1uJiZcImJvb2xlYW5cIiE9dHlwZW9mIGVbbl18fFwidXNlckNvbmZpZ0V4dHJhSW5mb1wiPT09biYmXCJvYmplY3RcIiE9PWkoKShlW25dKXx8XCJ0cmFuc2NvZGluZ1VzZXJzXCI9PT1uJiYheShlW25dKXx8IX50LmluZGV4T2YobikmJlwibnVtYmVyXCIhPXR5cGVvZiBlW25dKXRocm93IG5ldyBFcnJvcihcIlBhcmFtIFtcIituK1wiXSBpcyBpblZhbGlkXCIpO3JldHVybiEwfSx5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWZvcih2YXIgbiBpbiBlW3RdKWlmKFwibnVtYmVyXCIhPXR5cGVvZiBlW3RdW25dKXRocm93IG5ldyBFcnJvcihcIlBhcmFtIHVzZXJbXCIrdCtcIl0gLSBbXCIrbitcIl0gaXMgaW5WYWxpZFwiKTtyZXR1cm4hMH0sUj1mdW5jdGlvbihlKXtpc05hTihlKSYmKGU9MWUzKTt2YXIgdD0rbmV3IERhdGUsbj0odD0oOTMwMSp0KzQ5Mjk3KSUyMzMyODApLzIzMzI4MDtyZXR1cm4gTWF0aC5jZWlsKG4qZSl9LFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGUpLm1hdGNoKC8lWzg5QUJhYl0vZyk7cmV0dXJuIGUubGVuZ3RoKyh0P3QubGVuZ3RoOjApfSxJPWZ1bmN0aW9uKGUsdCl7dmFyIG49MS90LHI9T2JqZWN0KGQuYSkoKSxpPXIuY3JlYXRlR2FpbigpO2kuZ2Fpbi52YWx1ZT0wLGkuY29ubmVjdChyLmRlc3RpbmF0aW9uKTt2YXIgbz0hMTtyZXR1cm4gZnVuY3Rpb24gdCgpe3ZhciBhPXIuY3JlYXRlT3NjaWxsYXRvcigpO2Eub25lbmRlZD10LGEuY29ubmVjdChpKSxhLnN0YXJ0KDApLGEuc3RvcChyLmN1cnJlbnRUaW1lK24pLGUoci5jdXJyZW50VGltZSksbyYmKGEub25lbmRlZD1mdW5jdGlvbigpe30pfSgpLGZ1bmN0aW9uKCl7bz0hMH19LGI9ZnVuY3Rpb24oKXtpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZ29yYS1iYW4tdGlwXCIpKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuaWQ9XCJhZ29yYS1iYW4tdGlwXCIsZS5zdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGNvbG9yOiAjZmZmO1wiLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnByZXBlbmQoZSk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnN0eWxlPVwiYmFja2dyb3VuZDogIzAwMDsgd2lkdGg6IDM0NnB4OyBoZWlnaHQ6IDExNnB4OyB6LWluZGV4OiAxMDAwMDA7IG9wYWNpdHk6IDAuNjsgYm9yZGVyLXJhZGl1czogMTBweDsgYm94LXNoYWRvdzogMCAycHggNHB4ICMwMDA7XCIsZS5hcHBlbmQodCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLnN0eWxlPVwiaGVpZ2h0OiA3NnB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIjt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLnN0eWxlPVwiaGVpZ2h0OiAyOHB4OyB3aWR0aDogMjhweDsgY29sb3I6ICMwMDA7IHRleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDMwcHg7IGJhY2tncm91bmQ6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDUwJTsgZm9udC13ZWlnaHQ6IDYwMDsgZm9udC1zaXplOiAyMHB4O21hcmdpbi1yaWdodDogNXB4O1wiLHIuaW5uZXJUZXh0PVwiIVwiO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2kuaW5uZXJUZXh0PVwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViUlRDXCIsbi5hcHBlbmQociksbi5hcHBlbmQoaSk7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLnN0eWxlPVwiaGVpZ2h0OiAzOHB4OyBkaXNwbGF5OiBmbGV4OyBib3JkZXItdG9wOiAjZmZmIDFweCBzb2xpZDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCIsby5pbm5lclRleHQ9XCJPS1wiLHQuYXBwZW5kKG4pLHQuYXBwZW5kKG8pLG8ub25jbGljaz1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWdvcmEtYmFuLXRpcFwiKTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9fX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZS5leHBvcnRzPW49ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTplLmV4cG9ydHM9bj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxuKHQpfWUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjQpfSxmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxMiksbz1yLm4oaSksYT1yKDE3KSxzPXIubihhKSxjPXIoMTEpLGQ9ci5uKGMpLHU9cigzMiksbD1yLm4odSksZj1yKDcpLHA9ci5uKGYpLGc9cigyMiksbT1yKDgpLGg9ZnVuY3Rpb24oZSl7ZSYmZS5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sdj1yKDApLEU9cigxKSxTPXIoMTApLF89cigxNCkseT1yKDIpLFI9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYikoZSk7dC5uZWVkUmVjb25uZWN0PSEwLHQuaXNUaW1lb3V0PSExLHQuaXNJbml0PSEwLHQuc2VuZGJ5dGVzPTAsdC5yZWN2Ynl0ZXM9MCx0LnN0YXJ0VGltZT1EYXRlLm5vdygpLHQubGFzdE1zZ1RpbWU9bnVsbCx0LmNsaWVudElkPWUuY2xpZW50SWQsdC5ob3N0SW5kZXg9MCx0LnJlcXVlc3RJRD0wLGUuaG9zdCBpbnN0YW5jZW9mIEFycmF5P3QuaG9zdD1lLmhvc3Q6dC5ob3N0PVtlLmhvc3RdLHQuZ2V0U2VuZEJ5dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc2VuZGJ5dGVzfSx0LmdldFJlY3ZCeXRlcz1mdW5jdGlvbigpe3JldHVybiB0LnJlY3ZieXRlc30sdC5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiBNYXRoLmNlaWwoKERhdGUubm93KCktdC5zdGFydFRpbWUpLzFlMyl9LHQuZ2V0VVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29ubmVjdGlvbi51cmx9LHQucmVjb25uZWN0PWZ1bmN0aW9uKCl7dC5pc0luaXQ9ITAsdC5jcmVhdENvbm5lY3Rpb24oKX0sdC5jb25uZWN0TmV4dD1mdW5jdGlvbigpe3QuaXNJbml0PSEwLCsrdC5ob3N0SW5kZXgsdi5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdIEdhdGV3YXkgbGVuZ3RoOlwiK3QuaG9zdC5sZW5ndGgrXCIgY3VycmVudCBpbmRleDpcIit0Lmhvc3RJbmRleCksdC5ob3N0SW5kZXg+PXQuaG9zdC5sZW5ndGg/dC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmQpKHt0eXBlOlwicmVjb3ZlclwifSkpOnQuY3JlYXRDb25uZWN0aW9uKCl9LHQucmVwbGFjZUhvc3Q9ZnVuY3Rpb24oZSl7dC5ob3N0PWV8fHQuaG9zdCx0Lmhvc3RJbmRleD0wLHQuY3JlYXRDb25uZWN0aW9uKCl9LHQuY3JlYXRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7dC5uZWVkUmVjb25uZWN0PSEwLHQubHRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQuY29ubmVjdGlvbj1uZXcgV2ViU29ja2V0KFwid3NzOi8vXCIrdC5ob3N0W3QuaG9zdEluZGV4XSksdC5jb25uZWN0aW9uLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHQudHVybkNvbmZpZz17fTt2YXIgbj1lLnByb3h5U2VydmVyVHlwZTtpZih0LmNvbm5lY3Rpb24udXJsJiYzIT09biYmNCE9PW4mJjUhPT1uKXt2YXIgcj10LmNvbm5lY3Rpb24udXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pLGk9dC5ob3N0W3QuaG9zdEluZGV4XS5zcGxpdChcIjpcIiksbz10LmNvbm5lY3Rpb24udXJsLm1hdGNoKC9oPShbXjpdKykmcD0oXFxkKykvKTtyPyh0LnR1cm5Db25maWcudXJsPXJbMV0sT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1RDUFwiKSYmKHQudHVybkNvbmZpZy50Y3Bwb3J0PXBhcnNlSW50KHJbMl0pKzMwKSxPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiVFVSTl9FTkFCTEVfVURQXCIpJiYodC50dXJuQ29uZmlnLnVkcHBvcnQ9cGFyc2VJbnQoclsyXSkrMzApKTpvPyh0LnR1cm5Db25maWcudXJsPW9bMV0sT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1RDUFwiKSYmKHQudHVybkNvbmZpZy50Y3Bwb3J0PXBhcnNlSW50KG9bMl0pKzMwKSxPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiVFVSTl9FTkFCTEVfVURQXCIpJiYodC50dXJuQ29uZmlnLnVkcHBvcnQ9cGFyc2VJbnQob1syXSkrMzApKTppJiYodC50dXJuQ29uZmlnLnVybD1pWzBdLE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJih0LnR1cm5Db25maWcudGNwcG9ydD1wYXJzZUludChpWzFdKSszMCksT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1VEUFwiKSYmKHQudHVybkNvbmZpZy51ZHBwb3J0PXBhcnNlSW50KGlbMV0pKzMwKSl9dC5jb25uZWN0aW9uLm9ub3Blbj1mdW5jdGlvbihlKXt0Lm5lZWRSZWNvbm5lY3Q9ITAsdC5pc1RpbWVvdXQ9ITEsdC5pc0luaXQ9ITEsdC5zZW5kYnl0ZXM9MCx0LnJlY3ZieXRlcz0wLHQuc3RhcnRUaW1lPURhdGUubm93KCksT2JqZWN0KF8ucmVzZXRIVFRQQnlldHNDb3VudCkoKSxjbGVhclRpbWVvdXQodC50aW1lb3V0Q2hlY2spLHQuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcIm9ub3BlblwiLGV2ZW50OmUsc29ja2V0OnR9KSl9LHQuY29ubmVjdGlvbi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpdC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwib25CaW5hcnlEYXRhXCIsZGF0YTplLmRhdGF9KTtlbHNle3QucmVjdmJ5dGVzKz1PYmplY3QoUy5sZW5ndGhJblV0ZjhCeXRlcykoZS5kYXRhKTt2YXIgbj1KU09OLnBhcnNlKGUuZGF0YSk7dC5sYXN0TXNnVGltZT1EYXRlLm5vdygpLG4uaGFzT3duUHJvcGVydHkoXCJfaWRcIik/dC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmQpKHt0eXBlOm4uX2lkLG1zZzpufSkpOm4uaGFzT3duUHJvcGVydHkoXCJfdHlwZVwiKSYmdC5kaXNwYXRjaFNvY2tldEV2ZW50KE9iamVjdChtLmQpKHt0eXBlOm4uX3R5cGUsbXNnOm4uX21lc3NhZ2V9KSl9fSx0LmNvbm5lY3Rpb24ub25jbG9zZT1mdW5jdGlvbihuKXt0Lm5lZWRSZWNvbm5lY3Q/dC5pc1RpbWVvdXR8fHQuaXNJbml0Pyh2LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl0gd2Vic29ja2VjdCBjb25uZWN0IHRpbWVvdXRcIiksRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czp0Lmx0cyxzdWNjOiExLGVjOlwidGltZW91dFwiLGFkZHI6dC5jb25uZWN0aW9uLnVybH0pLHQuY29ubmVjdE5leHQoKSk6KHQuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcImRpc2Nvbm5lY3RcIixldmVudDpufSkpLHQucmVxdWVzdHMmJnQucmVxdWVzdHMgaW5zdGFuY2VvZiBBcnJheSYmKHQucmVxdWVzdHMubWFwKChmdW5jdGlvbihlKXtlLmNhbGxiYWNrKFwiUkVRVUVTVF9BQk9SVFwiKX0pKSx0LnJlcXVlc3RzPVtdKSk6KHYuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXSB3ZWJzb2NrZWN0IGNsb3NlZWRcIiksaChlLm9uRmFpbHVyZSxuKSxjbGVhclRpbWVvdXQodC50aW1lb3V0Q2hlY2spLHQuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcImNsb3NlXCIsZXZlbnQ6bn0pKSx0LmNvbm5lY3Rpb24ub25vcGVuPXZvaWQgMCx0LmNvbm5lY3Rpb24ub25jbG9zZT12b2lkIDAsdC5jb25uZWN0aW9uLm9uZXJyb3I9dm9pZCAwLHQuY29ubmVjdGlvbi5vbm1lc3NhZ2U9dm9pZCAwLHQuY29ubmVjdGlvbj12b2lkIDApfSx0LmNvbm5lY3Rpb24ub25lcnJvcj1mdW5jdGlvbihlKXt9O3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jb25uZWN0aW9uJiZ0LmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSE9V2ViU29ja2V0Lk9QRU4mJih0LmlzVGltZW91dD0hMCx0LmNvbm5lY3Rpb24uY2xvc2UoKSl9KSw1ZTMpfSx0LmNyZWF0Q29ubmVjdGlvbigpLHQuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSxuKXtpZih0LmNvbm5lY3Rpb24mJnQuY29ubmVjdGlvbi5yZWFkeVN0YXRlPT1XZWJTb2NrZXQuT1BFTil7dmFyIHI9SlNPTi5zdHJpbmdpZnkoZSk7dC5zZW5kYnl0ZXMrPU9iamVjdChTLmxlbmd0aEluVXRmOEJ5dGVzKShyKSx0LmNvbm5lY3Rpb24uc2VuZChyKX1lbHNlIG4oe2Vycm9yOlwiR2F0ZXdheSBub3QgY29ubmVjdGVkXCJ9KX0sdC5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dC5uZWVkUmVjb25uZWN0PSEwLHQuY29ubmVjdGlvbi5jbG9zZSgpfSx0LmNsb3NlPWZ1bmN0aW9uKCl7dC5uZWVkUmVjb25uZWN0PSExLHQuY29ubmVjdGlvbi5vbmNsb3NlPXZvaWQgMCx0LmNvbm5lY3Rpb24uY2xvc2UoKSxjbGVhckludGVydmFsKHQucmVxdWVzdFRpbWVyKSx0LnJlcXVlc3RzJiZ0LnJlcXVlc3RzIGluc3RhbmNlb2YgQXJyYXkmJih0LnJlcXVlc3RzLm1hcCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayhcIlJFUVVFU1RfQUJPUlRcIil9KSksdC5yZXF1ZXN0cz1bXSl9LHQuc2VuZFNpZ25hbENvbW1hbmQ9ZnVuY3Rpb24oZSxuKXtlLl9pZD1cIl9yZXF1ZXN0X1wiK3QucmVxdWVzdElELHQucmVxdWVzdElEKz0xLFwicHVibGlzaF9zdGF0c1wiIT09ZS5fdHlwZSYmXCJzdWJzY3JpYmVfc3RhdHNcIiE9PWUuX3R5cGUmJlwicHVibGlzaF9zdGF0c19sb3dcIiE9PWUuX3R5cGUmJnQub24oZS5faWQsKGZ1bmN0aW9uKHIpe3IubXNnJiZuJiZuKHIubXNnLl9yZXN1bHQsci5tc2cubWVzc2FnZSksZGVsZXRlIHQuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1tlLl9pZF19KSksdC5zZW5kTWVzc2FnZShlLChmdW5jdGlvbihlKXtlLnJlYXNvbj1cIk5PVF9DT05ORUNURURcIixuJiZuKGUucmVhc29uLGUpfSkpfSx0LnJlcXVlc3RzPVtdO3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciBuPXQucmVxdWVzdHMuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWUudHlwZX0pKTtpZihuPj0wKXZhciByPXQucmVxdWVzdHMuc3BsaWNlKG4sMSlbMF07ciYmdC5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW2UudHlwZV0/KGRlbGV0ZSB0LmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbZS50eXBlXSxlLm1zZyYmci5jYWxsYmFjayYmci5jYWxsYmFjayhlLm1zZy5fcmVzdWx0LGUubXNnLl9tZXNzYWdlKSk6di5kZWZhdWx0Lndhcm5pbmcoXCJEZXRhY2hlZCBSZXNwb25zZVwiLGUudHlwZSxlLm1zZyl9LHI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcyxyPXQucmVxdWVzdHMuZmluZEluZGV4KChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PW4uaWR9KSk7cj49MCYmKG49dC5yZXF1ZXN0cy5zcGxpY2UociwxKVswXSksbiYmdC5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW2UudHlwZV0/KGRlbGV0ZSB0LmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbZS50eXBlXSxlLnJlYXNvbj1cIk5PVF9DT05ORUNURURcIixuLmNhbGxiYWNrJiZuLmNhbGxiYWNrKGUucmVhc29uLGUpKTp2LmRlZmF1bHQud2FybmluZyhcImhhbmRsZVNlbmRFcnJvclwiLG4pfTtyZXR1cm4gdC5zZW5kUmVxdWVzdD1mdW5jdGlvbihlLGkpe2U9cCgpKHtfaWQ6XCJfcmVxdWVzdF9cIit0LnJlcXVlc3RJRH0sZSksdC5yZXF1ZXN0SUQrPTE7dmFyIG89e2lkOmUuX2lkLHRpbWVvdXRDb3VudGVyOjAsc3RhbGxlZEF0OkRhdGUubm93KCksbWVzc2FnZTplLGNhbGxiYWNrOml9O3QucmVxdWVzdHMucHVzaChvKSx0LmFkZEV2ZW50TGlzdGVuZXIoZS5faWQsbiksdC5zZW5kTWVzc2FnZShlLHIuYmluZChvKSl9LHQuY2hlY2tSZXF1ZXN0VGltZW91dD1mdW5jdGlvbigpe2Zvcih2YXIgZT1NYXRoLmNlaWwoT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikvT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNJR05BTF9SRVFVRVNUX1dBVENIX0lOVEVSVkFMXCIpKSxuPXQucmVxdWVzdHMubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciByPXQucmVxdWVzdHNbbl07ci50aW1lb3V0Q291bnRlcj49ZT8odC5yZXF1ZXN0cy5zcGxpY2UobiwxKSx2LmRlZmF1bHQuZXJyb3IoXCJSZXF1ZXN0IFRpbWVvdXRcIixyLnRpbWVvdXRDb3VudGVyLHIubWVzc2FnZSksci5jYWxsYmFjayYmci5jYWxsYmFjayhcIlRJTUVPVVRcIikpOnIudGltZW91dENvdW50ZXIrK319LGNsZWFySW50ZXJ2YWwodC5yZXF1ZXN0VGltZXIpLHQucmVxdWVzdFRpbWVyPXNldEludGVydmFsKHQuY2hlY2tSZXF1ZXN0VGltZW91dCxPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU0lHTkFMX1JFUVVFU1RfV0FUQ0hfSU5URVJWQUxcIikpLHQuc2VuZFJlcG9ydD1mdW5jdGlvbihlKXt0LnNlbmRNZXNzYWdlKGUsKGZ1bmN0aW9uKCl7fSkpfSx0fSxUPWZ1bmN0aW9uKGUsdCl7dmFyIG49e2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0Lmhvc3Q9ZSxuLnNpZ25hbD1SKHQpLG4ub249bi5zaWduYWwub24sbi5kaXNwYXRjaEV2ZW50PW4uc2lnbmFsLmRpc3BhdGNoRXZlbnQsbi5zaWduYWwub24oXCJvbm9wZW5cIiwoZnVuY3Rpb24oZSl7bi5zaWduYWwub25FdmVudD1mdW5jdGlvbihlKXtuLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZCkoe3R5cGU6ZS5ldmVudCxtc2c6ZX0pKX0sbi5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmQpKHt0eXBlOlwiY29ubmVjdFwiLG1zZzplfSkpfSkpLG4uc2lnbmFsLm9uKFwib25FcnJvclwiLChmdW5jdGlvbihlKXt2YXIgdD1lLm1zZztvbkVycm9yKHQuY29kZSxcImVycm9yXCIpfSkpfSxnZXRMYXN0TXNnVGltZTpmdW5jdGlvbigpe3JldHVybiBuLnNpZ25hbCYmbi5zaWduYWwubGFzdE1zZ1RpbWV9LGdldFNlbmRCeXRlczpmdW5jdGlvbigpe3JldHVybiBuLnNpZ25hbC5nZXRTZW5kQnl0ZXMoKX0sZ2V0UmVjdkJ5dGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2lnbmFsLmdldFJlY3ZCeXRlcygpfSxnZXREdXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiBuLnNpZ25hbC5nZXREdXJhdGlvbigpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7bi5zaWduYWwuZGlzY29ubmVjdCgpfSxjbG9zZTpmdW5jdGlvbigpe24uc2lnbmFsLmNsb3NlKCl9LGdldFVSTDpmdW5jdGlvbigpe3JldHVybiBuLnNpZ25hbC5nZXRVUkwoKX0scmVjb25uZWN0OmZ1bmN0aW9uKCl7bi5zaWduYWwucmVjb25uZWN0KCl9LGNvbm5lY3ROZXh0OmZ1bmN0aW9uKCl7bi5zaWduYWwuY29ubmVjdE5leHQoKX0scmVwbGFjZUhvc3Q6ZnVuY3Rpb24oZSl7bi5zaWduYWwucmVwbGFjZUhvc3QoZSl9LGVtaXRTaW1wbGVNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7bi5zaWduYWwuc2VuZFNpZ25hbENvbW1hbmQoZSx0KX0sZW1pdFJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtuLnNpZ25hbC5zZW5kUmVxdWVzdChlLHQpfSxlbWl0UmVwb3J0OmZ1bmN0aW9uKGUpe24uc2lnbmFsLnNlbmRSZXBvcnQoZSl9fTtyZXR1cm4gbi5jb25uZWN0KCksbn0sST1yKDIzKSxiPXIoNCksQT1yKDIwKSxPPXIoNSksQz17RVJSX05PX1ZPQ1NfQVZBSUxBQkxFOlwidHJ5TmV4dFwiLEVSUl9OT19WT1NfQVZBSUxBQkxFOlwidHJ5TmV4dFwiLEVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVDpcInRyeU5leHRcIixXQVJOX1JFUEVBVF9KT0lOOlwicXVpdFwiLEVSUl9KT0lOX0JZX01VTFRJX0lQOlwicmVjb3ZlclwiLFdBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVDpcInRyeU5leHRcIixXQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUOlwidHJ5TmV4dFwiLEVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRTpcInRyeU5leHRcIixFUlJfVE9PX01BTllfVVNFUlM6XCJ0cnlOZXh0XCIsRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFOlwidHJ5TmV4dFwiLEVSUl9JTlRFUk5BTF9FUlJPUjpcInRyeU5leHRcIixLX1NFUlZJQ0VfTk9UX1JFQURZOlwidHJ5TmV4dFwiLEtfU0VSVklDRV9UT09fSEVBVlk6XCJ0cnlOZXh0XCIsbm90aWZpY2F0aW9uX3Rlc3RfcmVjb3ZlcjpcInJlY292ZXJcIixub3RpZmljYXRpb25fdGVzdF90cnlOZXh0OlwidHJ5TmV4dFwiLG5vdGlmaWNhdGlvbl90ZXN0X3JldHJ5OlwicmV0cnlcIn0sTj17Z29vZ0FjdHVhbEVuY0JpdHJhdGU6XCJBX2FlYlwiLGdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoOlwiQV9hc2JcIixnb29nUmV0cmFuc21pdEJpdHJhdGU6XCJBX3JiXCIsZ29vZ0F2YWlsYWJsZVJlY2VpdmVCYW5kd2lkdGg6XCJBX2FyYlwiLGdvb2dUYXJnZXRFbmNCaXRyYXRlOlwiQV90ZWJcIixnb29nQnVja2V0RGVsYXk6XCJBX2JkXCIsZ29vZ1RyYW5zbWl0Qml0cmF0ZTpcIkFfdGJcIixnb29nQ29kZWNOYW1lOlwiQV9jblwiLGJ5dGVzU2VudDpcImJ5dGVzU2VudFwiLHBhY2tldHNMb3N0OlwicGFja2V0c0xvc3RcIixwYWNrZXRzU2VudDpcInBhY2tldHNTZW50XCIsZ29vZ0FkYXB0YXRpb25DaGFuZ2VzOlwiQV9hY1wiLGdvb2dBdmdFbmNvZGVNczpcIkFfYWVtXCIsZ29vZ0VuY29kZVVzYWdlUGVyY2VudDpcIkFfZXVwXCIsZ29vZ0ZpcnNSZWNlaXZlZDpcIkFfZnJcIixnb29nRnJhbWVIZWlnaHRJbnB1dDpcIkFfZmhpXCIsZ29vZ0ZyYW1lSGVpZ2h0U2VudDpcIkFfZmhzXCIsZ29vZ0ZyYW1lUmF0ZUlucHV0OlwiQV9mcmlcIixnb29nRnJhbWVSYXRlU2VudDpcIkFfZnJzXCIsZ29vZ0ZyYW1lV2lkdGhJbnB1dDpcIkFfZndpXCIsZ29vZ0ZyYW1lV2lkdGhTZW50OlwiQV9md3NcIixnb29nTmFja3NSZWNlaXZlZDpcIkFfbnJcIixnb29nUGxpc1JlY2VpdmVkOlwiQV9wclwiLGdvb2dSdHQ6XCJBX3J0dFwiLGFlY0RpdmVyZ2VudEZpbHRlckZyYWN0aW9uOlwiQV9hZGZmXCIsYXVkaW9JbnB1dExldmVsOlwiQV9haWxcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3M6XCJBX2VjcmxcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudDpcIkFfZWNybGVcIixnb29nUmVzaWR1YWxFY2hvTGlrZWxpaG9vZDpcIkFfcmVsXCIsZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2RSZWNlbnRNYXg6XCJBX3JlbHJtXCIsZ29vZ1RhcmdldERlbGF5TXM6XCJBX3RkbVwiLGJ5dGVzUmVjZWl2ZWQ6XCJieXRlc1JlY2VpdmVkXCIscGFja2V0c1JlY2VpdmVkOlwicGFja2V0c1JlY2VpdmVkXCIsZ29vZ0RlY29kZU1zOlwiQV9kbVwiLGdvb2dNYXhEZWNvZGVNczpcIkFfbWRtXCIsZ29vZ1JlbmRlckRlbGF5TXM6XCJBX3JkbVwiLGdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQ6XCJBX2Z3clwiLGdvb2dGcmFtZUhlaWdodFJlY2VpdmVkOlwiQV9maHJcIixnb29nRnJhbWVSYXRlUmVjZWl2ZWQ6XCJBX2ZyclwiLGdvb2dGcmFtZVJhdGVEZWNvZGVkOlwiQV9mcmRcIixnb29nRnJhbWVSYXRlT3V0cHV0OlwiQV9mcm9cIixnb29nSml0dGVyQnVmZmVyTXM6XCJBX2pibVwiLGdvb2dDdXJyZW50RGVsYXlNczpcIkFfY2RtXCIsZ29vZ01pblBsYXlvdXREZWxheU1zOlwiQV9tcGRtXCIsZ29vZ05hY2tzU2VudDpcIkFfbnNcIixnb29nUGxpc1NlbnQ6XCJBX3BzXCIsZ29vZ0ZpcnNTZW50OlwiQV9mc1wiLGF1ZGlvT3V0cHV0TGV2ZWw6XCJBX2FvbFwiLGdvb2dBY2NlbGVyYXRlUmF0ZTpcIkFfYXJcIixnb29nRGVjb2RpbmdDTkc6XCJBX2RjbmdcIixnb29nRGVjb2RpbmdDVE46XCJBX2RjdG5cIixnb29nRGVjb2RpbmdDVFNHOlwiQV9kY3RzZ1wiLGdvb2dEZWNvZGluZ05vcm1hbDpcIkFfZG5cIixnb29nRGVjb2RpbmdQTEM6XCJBX2RwbGNcIixnb29nRGVjb2RpbmdQTENDTkc6XCJBX2RwbGNjbmdcIixnb29nRXhwYW5kUmF0ZTpcIkFfZXJcIixnb29nSml0dGVyUmVjZWl2ZWQ6XCJBX2pyXCIsZ29vZ1ByZWVtcHRpdmVFeHBhbmRSYXRlOlwiQV9wZXJcIixnb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXM6XCJBX3BqYm1cIixnb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGU6XCJBX3NkclwiLGdvb2dTcGVlY2hFeHBhbmRSYXRlOlwiQV9zZXJcIix1cGxpbmtfZnJhY3Rpb25fbG9zdDpcIkJfdWZsXCIsdXBsaW5rX2N1bXVsYXRpdmVfbG9zdDpcIkJfdWNsXCIsdXBsaW5rX2F2YWlsYWJsZV9iYW5kd2lkdGg6XCJCX3VhYlwiLHBlcmlvZF9maXI6XCJCX2ZpclwiLGFjY2Vzc19kZWxheTpcIkJfYWNkXCIsdXBsaW5rX25ldHdvcmtfcXVhbGl0eTpcIkJfdW5xXCIsZG93bmxpbmtfbmV0d29ya19xdWFsaXR5OlwiQl9kbnFcIixwdWJfYXVkaW9fbG9zdF9yYXRpb180MDBtczpcIkJfcGFscjRcIixwdWJfdmlkZW9fbG9zdF9yYXRpb180MDBtczpcIkJfcHZscjRcIixlMmVfZGVsYXk6XCJCX2VkXCIsYXVkaW9fZGVsYXk6XCJCX2FkXCIsdmlkZW9fZGVsYXk6XCJCX3ZkXCIsc3RyZWFtX3R5cGU6XCJCX3N0XCIsZTJlX2F1ZGlvX2xvc3RfcmF0aW9fNDAwbXM6XCJCX2VhbHI0XCIsZTJlX3ZpZGVvX2xvc3RfcmF0aW9fNDAwbXM6XCJCX2V2bHI0XCIsZG93bmxpbmtfZXN0aW1hdGVfYmFuZHdpZHRoOlwiQl9kZWJcIixwZWVyX3B1Ymxpc2hfYXVkaW9fZHVyYXRpb246XCJCX3BwYWRcIixwZWVyX3B1Ymxpc2hfdmlkZW9fZHVyYXRpb246XCJCX3BwdmRcIn0sdz17fTtmb3IodmFyIEwgaW4gTil7dmFyIEQ9TltMXTt3W0RdJiZ2LmRlZmF1bHQuZXJyb3IoXCJLZXkgQ29uZmxpY3Q6IFwiLmNvbmNhdChELFwiOiBcIikuY29uY2F0KE5bRF0sXCJ8IFwiKS5jb25jYXQoTCkpLHdbRF09TH12YXIgaz1mdW5jdGlvbihlKXtyZXR1cm4gTltlXXx8ZX0sTT1mdW5jdGlvbihlKXtyZXR1cm4gd1tlXXx8ZX07dmFyIFA9cig5KSx4PXIubihQKSxVPXIoNTQpLGo9ZnVuY3Rpb24gdChuKXt2YXIgcj0hMSxpPWZ1bmN0aW9uKGUpe3JldHVybntfdHlwZTpcImNvbnRyb2xcIixfbWVzc2FnZTplfX0sYT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW2VdfHwobltrKGUpXT10W2VdKX0pKSx7X3R5cGU6XCJzdWJzY3JpYmVfcmVsYXRlZF9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1fdHlwZTpcImhpZ2hcIixzdHJlYW1faWQ6ZSxzdGF0czpufX19LGM9ZnVuY3Rpb24oZSl7cmV0dXJue190eXBlOlwicHVibGlzaFwiLF9tZXNzYWdlOmV9fSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTVEFUU19GSUxURVJcIilbZV18fChuW2soZSldPXRbZV0pfSkpLHtfdHlwZTpcInN1YnNjcmliZV9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1faWQ6ZSxzdGF0czpufX19LGY9dC5ESVNDT05ORUNURUQsXz10LkNPTk5FQ1RJTkcsUj10LkNPTk5FQ1RFRCxOPXQuRElTQ09OTkVDVElORyx3PWYsTD1PYmplY3QobS5iKShuKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTCxcInN0YXRlXCIse3NldDpmdW5jdGlvbihlKXt2YXIgbj13O3c9ZSxPYmplY3QoQS5fc2V0Q2xpZW50Q29ubmVjdGlvblN0YXRlUmVjb3JkKShMLmNsaWVudElkLGUpLGUhPT10LkNPTk5FQ1RFRCYmZSE9PXQuRElTQ09OTkVDVElORyYmKEwuaGFzSm9pbmVkPSExKSxuIT09ZSYmTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixwcmV2U3RhdGU6dC5jb25uZXRpb25TdGF0ZU1hcFtuXSxjdXJTdGF0ZTp0LmNvbm5ldGlvblN0YXRlTWFwW2VdfSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB3fX0pLEwuc29ja2V0PXZvaWQgMCxMLnN0YXRlPWYsTC5tb2RlPW4ubW9kZSxMLnJvbGU9bi5yb2xlLEwuY29kZWM9bi5jb2RlYyxMLmNvbmZpZz17fSxMLnRpbWVycz17fSxMLnRpbWVyX2NvdW50ZXI9e30sTC5sb2NhbFN0cmVhbXM9e30sTC5yZW1vdGVTdHJlYW1zPXt9LEwucmVtb3RlTXV0ZVN0YXRlPXt9LEwuYXR0ZW1wcz0xLEwucDJwX2F0dGVtcHM9MSxMLmF1ZGlvTGV2ZWw9e30sTC5hY3RpdmVTcGVha2VyPXZvaWQgMCxMLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCIsTC5yZWpvaW5BdHRlbXB0PTAsTC5oYXNDaGFuZ2VCR1BBZGRyZXNzPSExLEwudHJhZmZpY19zdGF0cz17fSxMLmNsaWVudElkPW4uY2xpZW50SWQsTC5waW5ncG9uZ0NvdW50ZXI9MCxMLmhhc0ludm9rZUxlYXZlPSExLEwucDJwcz1uZXcgTWFwLEwubGl2ZVN0cmVhbXM9bmV3IE1hcCxMLmluamVjdExpdmVTdHJlYW1zPW5ldyBNYXAsTC5yZW1vdGVTdHJlYW1zSW5DaGFubmVsPW5ldyBTZXQsTC5zdWJzY3JpYmVSZXF1ZXN0SWQ9bmV3IE1hcCxMLnB1Ymxpc2hSZXF1ZXN0SWQ9MCxMLmhhc0pvaW5lZD0hMSxMLmlzRmlyc3RTdWNjZXNzPSEwLEwucGVlclB1Ymxpc2hEdXJhdGlvbk1hcD1uZXcgTWFwLGZ1bmN0aW9uKGUpe3ZhciB0PWg7ZS5tYWtlUmVxdWVzdD1mdW5jdGlvbihuLHIsaSl7aWYodm9pZCAwPT09ZS5zb2NrZXQpcmV0dXJuIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gTm8gc29ja2V0IGF2YWlsYWJsZVwiKSksdm9pZCB0KGksYi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKTt0cnl7ZS5zb2NrZXQuZW1pdFJlcXVlc3QobiwoZnVuY3Rpb24oZSx0KXt2YXIgbjtcInN1Y2Nlc3NcIj09PWU/XCJmdW5jdGlvblwiPT10eXBlb2YgciYmcih0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYobj10JiZ0LmVycm9yX2NvZGUmJmIuR2F0ZXdheUVycm9yQ29kZVt0LmVycm9yX2NvZGVdP2IuR2F0ZXdheUVycm9yQ29kZVt0LmVycm9yX2NvZGVdOnQmJnQuZXJyb3Jfc3RyP3QuZXJyb3Jfc3RyOnQmJnQuZXJyb3JfY29kZT9cIlVOS05PV19FUlJPUl9cIi5jb25jYXQodC5lcnJvcl9jb2RlKTplLGkobix0KSl9KSl9Y2F0Y2gocil7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBTb2NrZXQgZW1pdCBtZXNzYWdlIGZhaWxlZCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBcIiksciksdChpLGIuZGVmYXVsdC5TT0NLRVRfRVJST1IpfX0sZS5tYWtlUmVwb3J0PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PWUuc29ja2V0JiZ2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIE5vIHNvY2tldCBhdmFpbGFibGVcIikpO3RyeXtlLnNvY2tldC5lbWl0UmVwb3J0KHQpfWNhdGNoKG4pe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gU29ja2V0IGVtaXQgcmVwb3J0IGZhaWxlZCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSl9fX0oTCksTC5pbkNoYW5uZWxJbmZvPXtqb2luQXQ6bnVsbCxkdXJhdGlvbjowfSxMLl9zZW5kTWVzc2FnZT1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlXCJTdWJzY3JpYmVTdGF0c1wiOkwubWFrZVJlcG9ydCh1LmFwcGx5KHZvaWQgMCxsKCkodCkpKTticmVhaztjYXNlXCJTdWJzY3JpYmVSZWxhdGVkU3RhdHNcIjpMLm1ha2VSZXBvcnQoYS5hcHBseSh2b2lkIDAsbCgpKHQpKSl9fTt2YXIgRD1oO0wucDJwQ291bnRlcj1PYmplY3QoUy5yYW5kb20pKDFlNSksTC5nZW5lcmF0ZVAyUElkPWZ1bmN0aW9uKCl7cmV0dXJuKytMLnAycENvdW50ZXJ9LEwuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uPXtlbmFibGVkOiExLHNvcnRlZEF1ZGlvVm9sdW1lczpbXSxzbW9vdGg6MyxpbnRlcnZhbDoyZTN9LEwucmVtb3RlVmlkZW9TdHJlYW1UeXBlcz17UkVNT1RFX1ZJREVPX1NUUkVBTV9ISUdIOjAsUkVNT1RFX1ZJREVPX1NUUkVBTV9MT1c6MSxSRU1PVEVfVklERU9fU1RSRUFNX01FRElVTToyfSxMLnN0cmVhbUZhbGxiYWNrVHlwZXM9e1NUUkVBTV9GQUxMQkFDS19PUFRJT05fRElTQUJMRUQ6MCxTVFJFQU1fRkFMTEJBQ0tfT1BUSU9OX1ZJREVPX1NUUkVBTV9MT1c6MSxTVFJFQU1fRkFMTEJBQ0tfT1BUSU9OX0FVRElPX09OTFk6Mn0sTC5jb25maWdQdWJsaXNoZXI9ZnVuY3Rpb24oZSl7TC5jb25maWc9ZX0sTC5nZXRHYXRld2F5SW5mbz1mdW5jdGlvbihlLHQpe0wubWFrZVJlcXVlc3Qoe190eXBlOlwiZ2F0ZXdheV9pbmZvXCJ9LGUsdCl9LEwuc2V0Q2xpZW50Um9sZT1mdW5jdGlvbihlLHQpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc2V0Q2xpZW50Um9sZSB0byBcIikuY29uY2F0KGUpKTt2YXIgbj1FLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoTC5qb2luSW5mby5zaWQse25hbWU6XCJfc2V0Q2xpZW50Um9sZVwiLGNhbGxiYWNrOnR9KTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInNldF9jbGllbnRfcm9sZVwiLF9tZXNzYWdlOntyb2xlOmV9fSwoZnVuY3Rpb24oKXtMLnJvbGU9ZSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjbGllbnQtcm9sZS1jaGFuZ2VkXCIscm9sZTplfSksbiYmbihudWxsLHtyb2xlOmV9KX0pLChmdW5jdGlvbih0LHIpe2lmKHImJnIuY29kZSYmKHQ9Yi5HYXRld2F5RXJyb3JDb2RlW3IuY29kZV18fFwiVU5LTk9XX0VSUk9SX1wiK3IuY29kZSksXCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCI9PT10KXJldHVybiBuJiZuKG51bGwpO3YuZGVmYXVsdC5lcnJvcihcInNldCBDbGllbnQgcm9sZSBlcnJvciB0byBcIitlK1wiOiBcIit0KSxuJiZuKHQpfSkpfSxMLmpvaW49ZnVuY3Rpb24oZSx0LHIsaSl7TC5oYXNJbnZva2VMZWF2ZT0hMSxlLnVzZVByb3h5U2VydmVyJiYoTC5oYXNDaGFuZ2VCR1BBZGRyZXNzPSEwKTt2YXIgbz0obmV3IERhdGUpLmdldFRpbWUoKSxhPWUudWlkO2lmKEwuaW5DaGFubmVsSW5mby5qb2luQXQmJihMLmluQ2hhbm5lbEluZm8uZHVyYXRpb24rPW8tTC5pbkNoYW5uZWxJbmZvLmpvaW5BdCksTC5pbkNoYW5uZWxJbmZvLmpvaW5BdD1vLEwuc3RhdGUhPT1fKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEdhdGV3YXlDbGllbnQuam9pbiBGYWlsZWQ6IHN0YXRlIFwiKSxMLnN0YXRlKSxpJiZpKGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTiksdm9pZCBFLnJlcG9ydC5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm8sc3VjYzohMSxlYzpiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04sYWRkcjpudWxsfSk7aWYobnVsbCE9YSYmcGFyc2VJbnQoYSkhPT1hKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIElucHV0IHVpZCBpcyBpbnZhbGlkXCIpKSxMLnN0YXRlPWYsaSYmaShiLmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpLHZvaWQgRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITEsZWM6Yi5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSLGFkZHI6bnVsbH0pO3ZhciBzPVYucmVnaXN0ZXIoTCx7dWlkOmEsY25hbWU6ZSYmZS5jbmFtZX0pO2lmKHMpcmV0dXJuIEwuc3RhdGU9ZixpJiZpKHMpLHZvaWQgRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITEsZWM6cyxhZGRyOm51bGx9KTtMLmpvaW5JbmZvPXAoKSh7fSxlKSxMLnVpZD1hLEwua2V5PXQsTC5waW5ncG9uZ0NvdW50ZXI9MCxXKGUsKGZ1bmN0aW9uKHQpe2lmKGUudXNlTG9jYWxBY2Nlc3NQb2ludCl0cnl7dmFyIHM9TC5zb2NrZXQuc2lnbmFsLmNvbm5lY3Rpb24udXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pWzFdO09iamVjdCh5LnNldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIscyksT2JqZWN0KHkuc2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIscyksT2JqZWN0KHkuc2V0UGFyYW1ldGVyKShcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQocyxcIjo2NDQ0XCIpKX1jYXRjaChlKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIExvY2FsQWNjZXNzUG9pbnQgZXJyb3I6IFwiKS5jb25jYXQoZSkpfWlmKEwuc3RhdGU9PT1OfHxMLnN0YXRlPT09ZilyZXR1cm4gaSYmaShcIkxFQVZFX0JFRk9SRV9KT0lOX1NVQ0NFU1NcIik7TC5zdGF0ZT1SLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ29ubmVjdGVkIHRvIGdhdGV3YXkgc2VydmVyXCIpKSxjbGVhckludGVydmFsKEwucGluZ1RpbWVyKSxMLnBpbmdUaW1lcj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUElOR19QT05HX1RJTUVfT1VUXCIpO2lmKCsrTC5waW5ncG9uZ0NvdW50ZXI+PWUpe3ZhciB0PURhdGUubm93KCk7TC5zb2NrZXQmJnYuZGVmYXVsdC53YXJuaW5nKFwiUElOR1BPTkcgVGltZW91dC4gTGFzdCBTb2NrZXQgTWVzc2FnZTogXCIuY29uY2F0KHQtTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKSxcIm1zXCIpKSxMLnNvY2tldCYmTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKSYmdC1MLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpPk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikmJihMLnBpbmdwb25nQ291bnRlcj0wLEwuc29ja2V0LmNsb3NlKCksTC5zb2NrZXQuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcImRpc2Nvbm5lY3RcIixldmVudDp7bXNnOlwiUElOR19QT05HX1RJTUVfT1VUXCJ9fSkpKX12YXIgbj1EYXRlLm5vdygpO0wubWFrZVJlcXVlc3Qoe190eXBlOlwicGluZ1wifSwoZnVuY3Rpb24oKXtMLnBpbmdwb25nQ291bnRlcj0wO3ZhciBlPURhdGUubm93KCktbjtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTXCIpJiZMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInBpbmdfYmFja1wiLF9tZXNzYWdlOntwaW5ncG9uZ0VsYXBzZTplfX0pfSksKGZ1bmN0aW9uKGUsdCl7XCJUSU1FT1VUXCIhPT1lJiYodi5kZWZhdWx0LmVycm9yKFwiUGluZyBFcnJvciBcIi5jb25jYXQoZSxcIiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksdCYmdC5lcnJvcl9jb2RlJiZMLnNvY2tldCYmTC5zb2NrZXQuc2lnbmFsJiZMLnNvY2tldC5zaWduYWwuY29ubmVjdGlvbiYmTC5zb2NrZXQuc2lnbmFsLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5PUEVOJiYodi5kZWZhdWx0LmluZm8oXCJEaXNjb25uZWN0aW5nIHdlYnNvY2tldCBjb25uZWN0aW9uXCIpLEwuc29ja2V0LnNpZ25hbC5jb25uZWN0aW9uLmNsb3NlKCkpKX0pKX0pLDNlMyksZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnJvbGUsaT1wKCkoe30sTC5qb2luSW5mby5hcFJlc3BvbnNlKSxvPXtzZXNzaW9uX2lkOkwuam9pbkluZm8uc2lkLGFwcF9pZDpuLmFwcElkLGNoYW5uZWxfa2V5Okwua2V5LGNoYW5uZWxfbmFtZTpMLmpvaW5JbmZvLmNuYW1lLHNka192ZXJzaW9uOnkuVkVSU0lPTixicm93c2VyOm5hdmlnYXRvci51c2VyQWdlbnQscHJvY2Vzc19pZDpPYmplY3QoRS5nZXRQcm9jZXNzSWQpKCksbW9kZTpMLm1vZGUsY29kZWM6TC5jb2RlYyxyb2xlOnIsaGFzX2NoYW5nZWRfZ2F0ZXdheTpPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiRk9SQ0VfQ0hBTkdFRF9HQVRFV0FZX0ZMQUdcIil8fEwuaGFzQ2hhbmdlQkdQQWRkcmVzcyxhcF9yZXNwb25zZTppLG9wdGlvbmFsSW5mbzpMLmpvaW5JbmZvLm9wdGlvbmFsSW5mbyxleHRlbmQ6T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIkpPSU5fRVhURU5EXCIpLGRldGFpbHM6e319O2lmKEwuam9pbkluZm8uaGFzT3duUHJvcGVydHkoXCJzdHJpbmdVaWRcIikmJihvLnN0cmluZ191aWQ9TC5qb2luSW5mby5zdHJpbmdVaWQpLEwuc29ja2V0JiZMLnNvY2tldC5zaWduYWwmJkwuc29ja2V0LnNpZ25hbCYmKGkuYWRkcmVzc2VzJiZpLmFkZHJlc3Nlc1tMLnNvY2tldC5zaWduYWwuaG9zdEluZGV4XSYmKG8uYXBfcmVzcG9uc2UudGlja2V0PWkuYWRkcmVzc2VzW0wuc29ja2V0LnNpZ25hbC5ob3N0SW5kZXhdLnRpY2tldCxkZWxldGUgaS5hZGRyZXNzZXMpLE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTRVRfREVGQVVMVF9UVVJOU0VSVkVSXCIpJiZMLnNvY2tldC5zaWduYWwudHVybkNvbmZpZykpe3ZhciBhPXt1c2VybmFtZTpMLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLGNyZWRlbnRpYWw6TC5qb2luSW5mby50b2tlbixmb3JjZXR1cm46T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIkZPUkNFX1RVUk5cIil9O2EudXJsPUwuc29ja2V0LnNpZ25hbC50dXJuQ29uZmlnLnVybCxMLnNvY2tldC5zaWduYWwudHVybkNvbmZpZy50Y3Bwb3J0JiYoYS50Y3Bwb3J0PVwiXCIrTC5zb2NrZXQuc2lnbmFsLnR1cm5Db25maWcudGNwcG9ydCksTC5zb2NrZXQuc2lnbmFsLnR1cm5Db25maWcudWRwcG9ydCYmKGEudWRwcG9ydD1cIlwiK0wuc29ja2V0LnNpZ25hbC50dXJuQ29uZmlnLnVkcHBvcnQpLCEhTC5qb2luSW5mby50dXJuU2VydmVycy5maW5kKChmdW5jdGlvbihlKXtpZihlLnVybD09PWEudXJsKXJldHVybiEwfSkpfHxMLmpvaW5JbmZvLnR1cm5TZXJ2ZXJzLnB1c2goYSl9Mz09PUwuam9pbkluZm8ucHJveHlTZXJ2ZXJUeXBlJiYoby5wbHVnaW49XCJ3ZWJfY2xvdWRfcHJveHlcIixvLmRldGFpbHMuY3NlcnZpY2VfbWFwPVwiMVwiKSxMLmpvaW5JbmZvLmFlc21vZGUmJkwuam9pbkluZm8uYWVzcGFzc3dvcmQ/KG8uYWVzX21vZGU9TC5qb2luSW5mby5hZXNtb2RlLG8uYWVzX2VuY3J5cHQ9ITAsTC5qb2luSW5mby5hZXNfc2FsdCYmKG8uYWVzX3NhbHQ9TC5qb2luSW5mby5hZXNfc2FsdCksT2JqZWN0KFUuZW5jcnlwdFJTQSkoTC5qb2luSW5mby5hZXNwYXNzd29yZCkudGhlbigoZnVuY3Rpb24oZSl7by5hZXNfc2VjcmV0PWUsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiam9pbi1tZXNzYWdlLWhvb2tcIixqb2luTWVzc2FnZTpvfSksdChudWxsLHtfdHlwZTpcImpvaW5cIixfbWVzc2FnZTpvfSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gZW5jcnlwdCBwYXNzd29yZCBmYWlsZWQgXCIpLGUpLHQoXCJFTkNSWVBUX1BBU1NXT1JEX0ZBSUxFRFwiKX0pKSk6KEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImpvaW4tbWVzc2FnZS1ob29rXCIsam9pbk1lc3NhZ2U6b30pLHQobnVsbCx7X3R5cGU6XCJqb2luXCIsX21lc3NhZ2U6b30pKX0oe3JvbGU6TC5yb2xlfSwoZnVuY3Rpb24odCxuKXtpZih0KXJldHVybiBpJiZpKHQpO0wubWFrZVJlcXVlc3QobiwoZnVuY3Rpb24odCl7aWYoRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITAsZWM6bnVsbCx2aWQ6ZS52aWQsdWlkOmUudWlkLGFkZHI6TC5zb2NrZXQuZ2V0VVJMKCksZmlyc3RTdWNjZXNzOkwuaXNGaXJzdFN1Y2Nlc3N9KSxMLmpvaW5TdWNjZXNzTHRzPURhdGUubm93KCksTC5pc0ZpcnN0U3VjY2Vzcz0hMSxMLnJlam9pbkF0dGVtcHQ9MCxMLmhhc0pvaW5lZD0hMCxyJiZyKHQudWlkKSwhMD09PXQucmV0dXJuX3Zvc2lwfHwhMD09PU9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJFTkFCTEVfTElWRV9TRVJWRVJfTElTVFwiKSl7dmFyIG49bnVsbDt0cnl7bj1MLnNvY2tldC5zaWduYWwuY29ubmVjdGlvbi51cmx9Y2F0Y2goZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDYW4gbm90IGdldCBnYXRld2F5IGlwOiBcIikuY29uY2F0KGUpKX1uP09iamVjdCh5LnNldFBhcmFtZXRlcikoXCJMSVZFX1NFUlZFUl9MSVNUXCIsW25dKTpPYmplY3QoeS5zZXRQYXJhbWV0ZXIpKFwiTElWRV9TRVJWRVJfTElTVFwiLFtdKX1MLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJqb2luXCJ9KSxjbGVhckludGVydmFsKEwudGltZXJzLnRyYWZmaWNTdGF0cyksTC50aW1lcnMudHJhZmZpY1N0YXRzPXNldEludGVydmFsKChmdW5jdGlvbigpe0wubWFrZVJlcXVlc3Qoe190eXBlOlwidHJhZmZpY19zdGF0c1wifSwoZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpdFtNKG4pXT1lW25dO2lmKHQucGVlcl9kZWxheSYmdC5wZWVyX2RlbGF5Lmxlbmd0aCl7dmFyIHI9W107dC5wZWVyX2RlbGF5LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbTShuKV09ZVtuXTtyLnB1c2godCl9KSksdC5wZWVyX2RlbGF5PXJ9TC50cmFmZmljX3N0YXRzPXQsTC50cmFmZmljX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpO3ZhciBpPUwuam9pbkluZm8uc3RyaW5nVWlkLG89TC5sb2NhbFN0cmVhbXNbYV18fEwubG9jYWxTdHJlYW1zW2ldO28mJihvLnRyYWZmaWNfc3RhdHM9e2FjY2Vzc19kZWxheTp0LmFjY2Vzc19kZWxheX0pLHQucGVlcl9kZWxheSYmdC5wZWVyX2RlbGF5LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPUwucmVtb3RlU3RyZWFtc1tlLnBlZXJfdWlkXTtuJiYobi50cmFmZmljX3N0YXRzPXthY2Nlc3NfZGVsYXk6dC5hY2Nlc3NfZGVsYXksZTJlX2RlbGF5OmUuZTJlX2RlbGF5LGF1ZGlvX2RlbGF5OmUuYXVkaW9fZGVsYXksdmlkZW9fZGVsYXk6ZS52aWRlb19kZWxheX0pfSkpLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImFmdGVyLWdldFRyYWZmaWNTdGF0c1wiLHRyYWZmaWNTdGF0czp0fSl9KSl9KSwzZTMpfSksKGZ1bmN0aW9uKHQsbil7aWYodi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkIFtcIikuY29uY2F0KHQsXCJdXCIpKSxcIkVSUl9KT0lOX0JZX01VTFRJX0lQXCI9PT10KXt0cnl7RS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITEsZWM6XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLGFkZHI6TC5zb2NrZXQuZ2V0VVJMKCl9KX1jYXRjaChlKXt9cmV0dXJuIEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm9uTXVsdGlJUFwiLG9wdGlvbjpuLm9wdGlvbn0pfUNbdF0mJkwucmVqb2luQXR0ZW1wdDw0P0wuX2RvV2l0aEFjdGlvbihDW3RdLHIsaSk6aSYmaSh0KSxFLnJlcG9ydC5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm8sc3VjYzohMSxlYzp0LGFkZHI6TC5zb2NrZXQmJkwuc29ja2V0LmdldFVSTCgpfSl9KSl9KSl9KSwoZnVuY3Rpb24odCl7di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkIFtcIikuY29uY2F0KHQsXCJdXCIpKSxpJiZpKHQpLEUucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6byxzdWNjOiExLGVjOnQsYWRkcjpMLnNvY2tldC5nZXRVUkwoKX0pfSkpLHRoaXMucmVtb3RlTXV0ZVN0YXRlPXt9LEwucmVzZXRBdWRpb1ZvbHVtZUluZGljYXRpb24oKX0sTC5sZWF2ZT1mdW5jdGlvbihlLHQpe3ZhciBuPVYudW5yZWdpc3RlcihMKTtzd2l0Y2gobiYmdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBcIiksbiksTC5wMnBzLmNsZWFyKCksTC5zdGF0ZSl7Y2FzZSBmOnJldHVybiB2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIENsaWVudCBBbHJlYWR5IGluIERJU0NPTk5FQ1RFRCBzdGF0dXNcIikpLHZvaWQgRChlKTtjYXNlIE46cmV0dXJuIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ2xpZW50IEFscmVhZHkgaW4gRElTQ09OTkVDVElORyBzdGF0dXNcIikpLHZvaWQgRCh0LGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7Y2FzZSBfOnJldHVybiBMLnNvY2tldCYmTC5zb2NrZXQuY2xvc2UoKSxMLnNvY2tldD12b2lkIDAsdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIENsaWVudCBjb25uZWN0aW5nLCBMZWF2ZSBjaGFubmVsIHN1Y2Nlc3NcIikpLEwuc3RhdGU9ZixlJiZlKCl9Zm9yKHZhciByIGluIEwuc3RhdGU9TixMLmNoYW5uZWxNZWRpYUNvbmZpZyYmKEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyJiZMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5kaXNwb3NlKCksTC5jaGFubmVsTWVkaWFDb25maWcsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbCksY2xlYXJJbnRlcnZhbChMLnBpbmdUaW1lciksTC50aW1lcnMpTC50aW1lcnMuaGFzT3duUHJvcGVydHkocikmJmNsZWFySW50ZXJ2YWwoTC50aW1lcnNbcl0pO2Zvcih2YXIgciBpbiBMLmluQ2hhbm5lbEluZm8uam9pbkF0JiYoTC5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uKz1EYXRlLm5vdygpLUwuaW5DaGFubmVsSW5mby5qb2luQXQsTC5pbkNoYW5uZWxJbmZvLmpvaW5BdD1udWxsKSxMLmhhc0pvaW5lZD9MLm1ha2VSZXF1ZXN0KHtfdHlwZTpcImxlYXZlXCJ9LChmdW5jdGlvbih0KXtMLnNvY2tldC5jbG9zZSgpLEwuc29ja2V0PXZvaWQgMCx2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gTGVhdmUgY2hhbm5lbCBzdWNjZXNzXCIpKSxMLnN0YXRlPWYsZSYmZSh0KX0pLChmdW5jdGlvbihlKXtcIlRJTUVPVVRcIiE9PWUmJlwiUkVRVUVTVF9BQk9SVFwiIT09ZSYmKHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gTGVhdmUgQ2hhbm5lbCBGYWlsZWRcIiksZSksTC5zdGF0ZT1SLHQmJnQoZSkpfSkpOihMLnNvY2tldCYmKEwuc29ja2V0LmNsb3NlKCksTC5zb2NrZXQ9dm9pZCAwKSx2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gTGVhdmUgY2hhbm5lbCBiZWZvcmUgam9pbmVkXCIpKSxMLnN0YXRlPWYsZSYmZSgpKSxMLmxvY2FsU3RyZWFtcylpZihMLmxvY2FsU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIGk9TC5sb2NhbFN0cmVhbXNbcl07ZGVsZXRlIEwubG9jYWxTdHJlYW1zW3JdLHZvaWQgMCE9PWkucGMmJihpLnBjLmNsb3NlKCksaS5wYz12b2lkIDApfXEoKX0sTC5wdWJsaXNoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGE9ITE7aWYoZS5wdWJsaXNoTFRTPW8sXCJvYmplY3RcIiE9PWQoKShlKXx8bnVsbD09PWUpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCBsb2NhbCBzdHJlYW1cIikpLHImJnIoYi5kZWZhdWx0LklOVkFMSURfTE9DQUxfU1RSRUFNKSx2b2lkIEUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czpvLHN1Y2M6ITEsYXVkaW86ITEsdmlkZW86ITEsc2NyZWVuc2hhcmU6ITEsYXVkaW9OYW1lOlwiXCIsdmlkZW9OYW1lOlwiXCIsc2NyZWVuTmFtZTpcIlwiLGVjOmIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTX0pO2lmKCFlLnN0cmVhbSYmdm9pZCAwPT09ZS51cmwpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCBsb2NhbCBtZWRpYSBzdHJlYW1cIikpLHImJnIoYi5kZWZhdWx0LklOVkFMSURfTE9DQUxfU1RSRUFNKSx2b2lkIEUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czpvLHN1Y2M6ITEsYXVkaW86ITEsdmlkZW86ITEsc2NyZWVuc2hhcmU6ITEsYXVkaW9OYW1lOlwiXCIsdmlkZW9OYW1lOlwiXCIsc2NyZWVuTmFtZTpcIlwiLGVjOmIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTX0pO2lmKEwuc3RhdGUhPT1SKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVzZXIgaXMgbm90IGluIHRoZSBzZXNzaW9uXCIpKSxyJiZyKGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTiksdm9pZCBFLnJlcG9ydC5wdWJsaXNoKEwuam9pbkluZm8uc2lkLHtsdHM6byxzdWNjOiExLGF1ZGlvOmUuaGFzQXVkaW8oKSx2aWRlbzplLmhhc1ZpZGVvKCksc2NyZWVuc2hhcmU6ZS5oYXNTY3JlZW4oKSxhdWRpb05hbWU6ZS5oYXNBdWRpbygpJiZlLmF1ZGlvTmFtZSx2aWRlb05hbWU6ZS5oYXNWaWRlbygpJiZlLnZpZGVvTmFtZSxzY3JlZW5OYW1lOmUuaGFzU2NyZWVuKCkmJmUuc2NyZWVuTmFtZSxlYzpiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT059KTt2YXIgcz1lLmdldEF0dHJpYnV0ZXMoKXx8e307aWYoZS5sb2NhbCYmdm9pZCAwPT09TC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXSYmKGUuaGFzQXVkaW8oKXx8ZS5oYXNWaWRlbygpfHxlLmhhc1NjcmVlbigpKSl7dmFyIHU9TC5nZW5lcmF0ZVAyUElkKCk7aWYoTC5wMnBzLnNldCh1LGUpLGUucDJwSWQ9dSx2b2lkIDAhPT1lLnVybClHKGMoe3N0YXRlOlwidXJsXCIsYXVkaW86ZS5oYXNBdWRpbygpLHZpZGVvOmUuaGFzVmlkZW8oKSxhdHRyaWJ1dGVzOmUuZ2V0QXR0cmlidXRlcygpfSxlLnVybCksKGZ1bmN0aW9uKHQsbil7XCJzdWNjZXNzXCI9PT10PyhlLmdldFVzZXJJZCgpIT09biYmZS5zZXRVc2VySWQobiksTC5sb2NhbFN0cmVhbXNbbl09ZSxlLm9uQ2xvc2U9ZnVuY3Rpb24oKXtMLnVucHVibGlzaChlKX0pOnYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUHVibGlzaCBsb2NhbCBzdHJlYW0gZmFpbGVkXCIpLHQpfSkpO2Vsc2V7TC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXT1lLGUuY29ubmVjdGlvblNwZWM9e2NhbGxiYWNrOmZ1bmN0aW9uKHMpe3N8fHImJnIoXCJDQU5OT1RfR0VUX09GRkVSXCIpLFwibW90aW9uXCI9PT1lLm9wdGltaXphdGlvbk1vZGUmJmUucGMuc2V0UnRwU2VuZGVyUGFyYW1ldGVycyhcIm1haW50YWluLWZyYW1lcmF0ZVwiKSxcImRldGFpbFwiPT09ZS5vcHRpbWl6YXRpb25Nb2RlJiZlLnBjLnNldFJ0cFNlbmRlclBhcmFtZXRlcnMoXCJtYWludGFpbi1yZXNvbHV0aW9uXCIpLEwubWFrZVJlcXVlc3QoYyh7c3RhdGU6XCJvZmZlclwiLHN0cmVhbV90eXBlOjE9PXQuc3RyZWFtVHlwZT9cImxvd1wiOlwiaGlnaFwiLHAycF9pZDp1LHNkcDpzLGF1ZGlvOmUuYXVkaW98fGUuc2NyZWVuQXVkaW8sdmlkZW86ZS5zY3JlZW58fGUudmlkZW8sc2NyZWVuOmUuc2NyZWVuLGF0dHJpYnV0ZXM6ZS5nZXRBdHRyaWJ1dGVzKCksZHR4OmUuRFRYLGhxOmUuaGlnaFF1YWxpdHksbHE6ZS5sb3dRdWFsaXR5LHN0ZXJlbzplLnN0ZXJlbyxzcGVlY2g6ZS5zcGVlY2gsY29kZWM6TC5jb2RlYyxleHRlbmQ6T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlBVQl9FWFRFTkRcIil9KSwoZnVuY3Rpb24odCl7ZS5nZXRVc2VySWQoKSE9PXQudWlkJiZlLnNldFVzZXJJZCh0LnVpZCksdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIExvY2FsIHN0cmVhbSBwdWJsaXNoZWQgd2l0aCB1aWRcIiksdC51aWQpLGUub25DbG9zZT1mdW5jdGlvbigpe0wudW5wdWJsaXNoKGUpfSxlLl9vbkF1ZGlvVW5tdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcInVubXV0ZV9sb2NhbF9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSl9LGUuX29uVmlkZW9Vbm11dGU9ZnVuY3Rpb24oKXtMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwidW5tdXRlX2xvY2FsX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pKX0sZS5fb25BdWRpb011dGU9ZnVuY3Rpb24oKXtMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwibXV0ZV9sb2NhbF9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSl9LGUuX29uVmlkZW9NdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfbG9jYWxfdmlkZW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpfSxlLmdldElkKCk9PT1lLmdldFVzZXJJZCgpJiYoZS5pc0F1ZGlvT24oKXx8ZS5oYXNBdWRpbygpJiYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBsb2NhbCBzdHJlYW0gYXVkaW8gbXV0ZVwiKSksZS5fb25BdWRpb011dGUoKSksZS5pc1ZpZGVvT24oKXx8KGUuaGFzVmlkZW8oKXx8ZS5oYXNTY3JlZW4oKSkmJih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIGxvY2FsIHN0cmVhbSB2aWRlbyBtdXRlXCIpKSxlLl9vblZpZGVvTXV0ZSgpKSksZS5wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbih0KXtpZihcImZhaWxlZFwiPT09dCl7aWYobnVsbCE9TC50aW1lcnNbZS5nZXRJZCgpXSYmKGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXSksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldK1wiX1JlbGF0ZWRTdGF0c1wiKSksdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBQdWJsaXNoZXIgY29ubmVjdGlvbiBpcyBsb3N0IC0tIHN0cmVhbUlkOiBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIiwgcDJwSWQ6IFwiKS5jb25jYXQodSkpLEwucDJwcy5kZWxldGUodSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBwdWJsaXNoIHAycCBmYWlsZWQ6IFwiKSxMLnAycHMpLCFhKXJldHVybiBhPSEwLEUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czpvLHN1Y2M6ITEsYXVkaW86ZS5oYXNBdWRpbygpLHZpZGVvOmUuaGFzVmlkZW8oKSxzY3JlZW5zaGFyZTplLmhhc1NjcmVlbigpLGF1ZGlvTmFtZTplLmhhc0F1ZGlvKCkmJmUuYXVkaW9OYW1lLHZpZGVvTmFtZTplLmhhc1ZpZGVvKCkmJmUudmlkZW9OYW1lLHNjcmVlbk5hbWU6ZS5oYXNTY3JlZW4oKSYmZS5zY3JlZW5OYW1lLGVjOmIuZGVmYXVsdC5QRUVSQ09OTkVDVElPTl9GQUlMRUQscHVibGlzaFJlcXVlc3RpZDpMLnB1Ymxpc2hSZXF1ZXN0SWR8fDAscDJwaWQ6dX0pLEwuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInB1YlAyUExvc3RcIixzdHJlYW06ZX0pKSxyJiZyKGIuZGVmYXVsdC5QRUVSQ09OTkVDVElPTl9GQUlMRUQpO0wuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInB1YlAyUExvc3RcIixzdHJlYW06ZX0pKX1lbHNlIGlmKFwiY29ubmVjdGVkXCI9PT10JiYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBwdWJsaXNoIHAycCBjb25uZWN0ZWQ6IFwiKSxMLnAycHMpLGUuZ2V0SWQoKT09PWUuZ2V0VXNlcklkKCkmJihlLl9pc0F1ZGlvTXV0ZWQoKT9MLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwibXV0ZV9sb2NhbF9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSk6TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcInVubXV0ZV9sb2NhbF9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSksZS5faXNWaWRlb011dGVkKCk/TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfbG9jYWxfdmlkZW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpOkwubWFrZVJlcG9ydChpKHthY3Rpb246XCJ1bm11dGVfbG9jYWxfdmlkZW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpKSwhYSkpcmV0dXJuIGE9ITAsRS5yZXBvcnQucHVibGlzaChMLmpvaW5JbmZvLnNpZCx7bHRzOm8sc3VjYzohMCxhdWRpbzplLmhhc0F1ZGlvKCksdmlkZW86ZS5oYXNWaWRlbygpLHNjcmVlbnNoYXJlOmUuaGFzU2NyZWVuKCksYXVkaW9OYW1lOmUuaGFzQXVkaW8oKSYmZS5hdWRpb05hbWUsdmlkZW9OYW1lOmUuaGFzVmlkZW8oKSYmZS52aWRlb05hbWUsc2NyZWVuTmFtZTplLmhhc1NjcmVlbigpJiZlLnNjcmVlbk5hbWUsZWM6bnVsbCxwdWJsaXNoUmVxdWVzdGlkOkwucHVibGlzaFJlcXVlc3RJZHx8MCxwMnBpZDp1fSksbiYmbigpfSxlLnBjLnByb2Nlc3NTaWduYWxpbmdNZXNzYWdlKHQuc2RwKX0pLChmdW5jdGlvbih0LG4pe3YuZGVmYXVsdC5lcnJvcihcIlB1Ymxpc2ggRmFpbGVkOiBcIi5jb25jYXQodCkpLEUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czpvLHN1Y2M6ITEsYXVkaW86ZS5oYXNBdWRpbygpLHZpZGVvOmUuaGFzVmlkZW8oKSxzY3JlZW5zaGFyZTplLmhhc1NjcmVlbigpLGF1ZGlvTmFtZTplLmhhc0F1ZGlvKCkmJmUuYXVkaW9OYW1lLHZpZGVvTmFtZTplLmhhc1ZpZGVvKCkmJmUudmlkZW9OYW1lLHNjcmVlbk5hbWU6ZS5oYXNTY3JlZW4oKSYmZS5zY3JlZW5OYW1lLGVjOnQscHVibGlzaFJlcXVlc3RpZDpMLnB1Ymxpc2hSZXF1ZXN0SWR8fDAscDJwaWQ6dX0pLFwiVElNRU9VVFwiIT10JiYoTC5wcm9jZXNzUHVibGlzaEZhaWx1cmUoZSksciYmcih0KSl9KSl9LGF1ZGlvOmUuaGFzQXVkaW8oKSx2aWRlbzplLmhhc1ZpZGVvKCksc2NyZWVuOmUuaGFzU2NyZWVuKCksb3B0aW1pemF0aW9uTW9kZTplLm9wdGltaXphdGlvbk1vZGUsaXNTdWJzY3JpYmVyOiExLHN0dW5TZXJ2ZXJVcmw6TC5zdHVuU2VydmVyVXJsLHR1cm5TZXJ2ZXJzOkwuam9pbkluZm8udHVyblNlcnZlcnMsbWF4QXVkaW9CVzpzLm1heEF1ZGlvQlcsbWluVmlkZW9CVzpzLm1pblZpZGVvQlcsbWF4VmlkZW9CVzpzLm1heFZpZGVvQlcsbW9kZTpMLm1vZGUsY29kZWM6TC5jb2RlYyxpc1ZpZGVvTXV0ZTplLnVzZXJNdXRlVmlkZW98fGUucGVlck11dGVWaWRlbyxpc0F1ZGlvTXV0ZTplLnVzZXJNdXRlQXVkaW98fGUucGVlck11dGVBdWRpbyxtYXhGcmFtZVJhdGU6ZS5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZSxhZ29yYVN0cmVhbTplLGNsaWVudElkOkwuY2xpZW50SWQsaXNDbG91ZFByb3h5MzozPT09TC5qb2luSW5mby5wcm94eVNlcnZlclR5cGUsb25Ob0ljZUNhbmRpZGF0ZTpmdW5jdGlvbigpe0wuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm5vX2ljZV9jYW5kaWRhdGVcIixzdHJlYW06ZX0pfX0sZS5wYz1PYmplY3QoSS5hKShlLmNvbm5lY3Rpb25TcGVjKSxlLnBjLmFkZFN0cmVhbShlLnN0cmVhbSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBQZWVyQ29ubmVjdGlvbiBhZGQgc3RyZWFtIDpcIiksZS5zdHJlYW0pLGUucGMub25uZWdvdGlhdGlvbm5lZWRlZD1mdW5jdGlvbihuKXtcIm1vdGlvblwiPT09ZS5vcHRpbWl6YXRpb25Nb2RlJiZlLnBjLnNldFJ0cFNlbmRlclBhcmFtZXRlcnMoXCJtYWludGFpbi1mcmFtZXJhdGVcIiksXCJkZXRhaWxcIj09PWUub3B0aW1pemF0aW9uTW9kZSYmZS5wYy5zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKFwibWFpbnRhaW4tcmVzb2x1dGlvblwiKTt2YXIgcj17c3RhdGU6XCJuZWdvdGlhdGlvblwiLHN0cmVhbV90eXBlOjE9PT10LnN0cmVhbVR5cGU/XCJsb3dcIjpcImhpZ2hcIixwMnBfaWQ6dSxzZHA6bn07TC5tYWtlUmVxdWVzdChjKHIpLChmdW5jdGlvbih0KXt2LmRlZmF1bHQuZGVidWcoXCJOZWdvdGF0aW5nIFN0cmVhbSBcIi5jb25jYXQoZS5nZXRJZCgpKSksZS5wYy5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZSh0LnNkcCl9KSwoZnVuY3Rpb24oZSx0KXt2LmRlZmF1bHQuZXJyb3IoXCJOZWdvdGlhdGlvbiBmYWlsZWQgXCIuY29uY2F0KGUpLHQscil9KSl9LGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXSksTC50aW1lcnNbZS5nZXRJZCgpXT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZihPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTXCIpKXt2YXIgdD0wO2UmJmUucGMmJmUucGMuZ2V0U3RhdHMmJmUucGMuZ2V0U3RhdHNSYXRlKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKG4mJm4uaWQmJiEoL19yZWN2JC8udGVzdChuLmlkKXx8L150aW1lJC8udGVzdChuLmlkKXx8fm4udHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpKSYmZS5nZXRVc2VySWQoKSl7aWYoLTE9PT1uLmlkLmluZGV4T2YoXCJvdXRib3VuZF9ydHBcIikmJi0xPT09bi5pZC5pbmRleE9mKFwiT3V0Ym91bmRSVFBcIikmJi0xPT09bi50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm91dGJvdW5kXCIpfHxcInZpZGVvXCIhPT1uLm1lZGlhVHlwZXx8KG4uZ29vZ0ZyYW1lV2lkdGhTZW50PWUudmlkZW9XaWR0aCtcIlwiLG4uZ29vZ0ZyYW1lSGVpZ2h0U2VudD1lLnZpZGVvSGVpZ2h0K1wiXCIpLFwidmlkZW9cIj09PW4ubWVkaWFUeXBlKXRyeXt2YXIgcj1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO24uQV92c3RkPXIuZW5hYmxlZD9cIjBcIjpcIjFcIn1jYXRjaChlKXt9aWYoXCJhdWRpb1wiPT09bi5tZWRpYVR5cGUpdHJ5e3ZhciBpPWUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07bi5BX2FzdGQ9aS5lbmFibGVkP1wiMFwiOlwiMVwifWNhdGNoKGUpe31pZihlLmdldElkKCk9PWUuZ2V0VXNlcklkKCkpe3ZhciBvPTIwMCp0O3QrKyxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPUwuc29ja2V0JiZMLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpJiZEYXRlLm5vdygpLUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCk7ZT5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTX1RJTUVPVVRcIik/di5kZWZhdWx0LmRlYnVnKFwiUHVibGlzaFN0YXRzIHJlcG9ydCBibG9ja2VkIGJ5IFJFUE9SVF9TVEFUU19USU1FT1VUIFwiLmNvbmNhdChlKSk6TC5tYWtlUmVwb3J0KGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW25dfHwodFtrKG4pXT1lW25dKX0pKSx7X3R5cGU6XCJwdWJsaXNoX3N0YXRzXCIsX21lc3NhZ2U6e3N0cmVhbV90eXBlOlwiaGlnaFwiLHN0YXRzOnR9fX0obikpfSksbyl9ZWxzZXtvPTIwMCp0O3QrKyxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPUwuc29ja2V0JiZMLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpJiZEYXRlLm5vdygpLUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCk7ZT5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTX1RJTUVPVVRcIik/di5kZWZhdWx0LmRlYnVnKFwiUHVibGlzaFN0YXRzTG93IHJlcG9ydCBibG9ja2VkIGJ5IFJFUE9SVF9TVEFUU19USU1FT1VUIFwiLmNvbmNhdChlKSk6TC5tYWtlUmVwb3J0KGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW25dfHwodFtrKG4pXT1lW25dKX0pKSx7X3R5cGU6XCJwdWJsaXNoX3N0YXRzXCIsX21lc3NhZ2U6e3N0cmVhbV90eXBlOlwibG93XCIsc3RhdHM6dH19fShuKSl9KSxvKX19fSkpfSkpfX0pLDNlMyk7dmFyIGw9ZnVuY3Rpb24oKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTXCIpJiZlJiZlLnBjJiZlLnBjLmdldFZpZGVvUmVsYXRlZFN0YXRzJiZlLnBjLmdldFZpZGVvUmVsYXRlZFN0YXRzKChmdW5jdGlvbih0KXt2YXIgbixyLGk9TC5zb2NrZXQmJkwuc29ja2V0LmdldExhc3RNc2dUaW1lKCkmJkRhdGUubm93KCktTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKTtpPk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJSRVBPUlRfU1RBVFNfVElNRU9VVFwiKT92LmRlZmF1bHQuZGVidWcoXCJQdWJsaXNoUmVsYXRlZFN0YXRzIHJlcG9ydCBibG9ja2VkIGJ5IFJFUE9SVF9TVEFUU19USU1FT1VUIFwiLmNvbmNhdChpKSk6ZS5nZXRJZCgpPT09ZS5nZXRVc2VySWQoKT9MLm1ha2VSZXBvcnQoKG49dCxyPXt9LE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTVEFUU19GSUxURVJcIilbZV18fChyW2soZSldPW5bZV0pfSkpLHtfdHlwZTpcInB1Ymxpc2hfcmVsYXRlZF9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1fdHlwZTpcImhpZ2hcIixzdGF0czpyfX0pKTpMLm1ha2VSZXBvcnQoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTVEFUU19GSUxURVJcIilbbl18fCh0W2sobildPWVbbl0pfSkpLHtfdHlwZTpcInB1Ymxpc2hfcmVsYXRlZF9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1fdHlwZTpcImxvd1wiLHN0YXRzOnR9fX0odCkpfSkpfTtsKCksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCkrXCJfUmVsYXRlZFN0YXRzXCJdKSxMLnRpbWVyc1tlLmdldElkKCkrXCJfUmVsYXRlZFN0YXRzXCJdPXNldEludGVydmFsKGwsMWUzKX19fSxMLnVucHVibGlzaD1mdW5jdGlvbihlLHQsbixyKXtpZihcIm9iamVjdFwiIT09ZCgpKGUpfHxudWxsPT09ZSlyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnZhbGlkIGxvY2FsIHN0cmVhbVwiKSksdm9pZCBEKHIsYi5kZWZhdWx0LklOVkFMSURfTE9DQUxfU1RSRUFNKTtpZihMLnN0YXRlIT09UilyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSksdm9pZCBEKHIsYi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKTtpZihudWxsIT1MLnRpbWVyc1tlLmdldElkKCldJiYoY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldKSxjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKStcIl9SZWxhdGVkU3RhdHNcIl0pKSx2b2lkIDAhPT1MLnNvY2tldClpZihlLmxvY2FsJiZ2b2lkIDAhPT1MLmxvY2FsU3RyZWFtc1tlLmdldElkKCldKXtkZWxldGUgTC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXTt2YXIgaT17c3RyZWFtX2lkOmUuZ2V0VXNlcklkKCksc3RyZWFtX3R5cGU6MT09PXQuc3RyZWFtVHlwZT9cImxvd1wiOlwiaGlnaFwifTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInVucHVibGlzaFwiLF9tZXNzYWdlOml9KSwoZS5oYXNBdWRpbygpfHxlLmhhc1ZpZGVvKCl8fGUuaGFzU2NyZWVuKCkpJiZ2b2lkIDA9PT1lLnVybCYmdm9pZCAwIT09ZS5wYyYmKGUucGMuY2xvc2UoKSxlLnBjPXZvaWQgMCksZS5vbkNsb3NlPXZvaWQgMCxlLl9vbkF1ZGlvTXV0ZT12b2lkIDAsZS5fb25BdWRpb1VudXRlPXZvaWQgMCxlLl9vblZpZGVvTXV0ZT12b2lkIDAsZS5fb25WaWRlb1VubXV0ZT12b2lkIDAsTC5wMnBzLmRlbGV0ZShlLnAycElkKSxuJiZuKCl9ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgbG9jYWwgc3RyZWFtXCIpKSxEKHIsYi5kZWZhdWx0LklOVkFMSURfTE9DQUxfU1RSRUFNKTtlbHNlIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBub3QgaW4gdGhlIHNlc3Npb25cIikpLEQocixiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pfSxMLnN1YnNjcmliZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5zdWJzY3JpYmVMVFM9cjt2YXIgbz0hMTtpZih2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gR2F0ZXdheWNsaWVudCBcIikuY29uY2F0KEwudWlkLFwiIFN1YnNjcmliZSBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlLnN1YnNjcmliZU9wdGlvbnMpKSksXCJvYmplY3RcIiE9PWQoKShlKXx8bnVsbD09PWUpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCByZW1vdGUgc3RyZWFtXCIpKSxuJiZuKGIuZGVmYXVsdC5JTlZBTElEX1JFTU9URV9TVFJFQU0pLHZvaWQgRS5yZXBvcnQuc3Vic2NyaWJlKEwuam9pbkluZm8uc2lkLHtsdHM6cixzdWNjOiExLHZpZGVvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvLGF1ZGlvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHBlZXJpZDplLmdldElkKCksZWM6Yi5kZWZhdWx0LklOVkFMSURfUkVNT1RFX1NUUkVBTX0pO2lmKEwuc3RhdGUhPT1SJiYodi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGlzIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSksIW8pKXJldHVybiBvPSEwLEUucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMSx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOmIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTn0pLG4mJm4oYi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKTtpZighZS5sb2NhbCYmTC5yZW1vdGVTdHJlYW1zLmhhc093blByb3BlcnR5KGUuZ2V0SWQoKSkpaWYoZS5oYXNBdWRpbygpfHxlLmhhc1ZpZGVvKCl8fGUuaGFzU2NyZWVuKCkpe3ZhciBzPUwuZ2VuZXJhdGVQMlBJZCgpO0wucDJwcy5zZXQocyxlKSxlLnAycElkPXMsZS5wYz1PYmplY3QoSS5hKSh7Y2FsbGJhY2s6ZnVuY3Rpb24odCl7dHx8biYmbihcIkNBTk5PVF9HRVRfT0ZGRVJcIik7dmFyIGk9e3N0cmVhbV9pZDplLmdldElkKCksYXVkaW86IWUuc3Vic2NyaWJlT3B0aW9uc3x8ZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHZpZGVvOiFlLnN1YnNjcmliZU9wdGlvbnN8fGUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxjb2RlYzpMLmNvZGVjLHAycF9pZDpzLHNkcDp0LHRjYzpPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1VCU0NSSUJFX1RDQ1wiKSxleHRlbmQ6T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNVQl9FWFRFTkRcIil9O0wubWFrZVJlcXVlc3Qoe190eXBlOlwic3Vic2NyaWJlXCIsX21lc3NhZ2U6aX0sKGZ1bmN0aW9uKHQpe2UucGMucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2UodC5zZHApfSksKGZ1bmN0aW9uKHQsaSl7di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTdWJzY3JpYmUgcmVtb3RlIHN0cmVhbSBGYWlsZWQ6IFwiKS5jb25jYXQodCxcIiwgY2xvc2luZyBzdHJlYW0gXCIpLGUuZ2V0SWQoKSxpKSxFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITEsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzp0fSksXCJUSU1FT1VUXCIhPXQmJihMLnByb2Nlc3NTdWJzY3JpYmVGYWlsdXJlKGUpLG4mJm4odCkpfSkpfSxub3AycDohMCxhdWRpbzohMCx2aWRlbzohMCxzY3JlZW46ZS5oYXNTY3JlZW4oKSxpc1N1YnNjcmliZXI6ITAsc3R1blNlcnZlclVybDpMLnN0dW5TZXJ2ZXJVcmwsdHVyblNlcnZlcnM6TC5qb2luSW5mby50dXJuU2VydmVycyxpc1ZpZGVvTXV0ZTplLnVzZXJNdXRlVmlkZW8saXNBdWRpb011dGU6ZS51c2VyTXV0ZUF1ZGlvLHVpZDplLmdldElkKCksYWdvcmFTdHJlYW06ZSxjbGllbnRJZDpMLmNsaWVudElkfSksZS5wYy5vbmFkZHN0cmVhbT1mdW5jdGlvbih0LG4pe2lmKGUuX29uQXVkaW9Vbm11dGU9ZnVuY3Rpb24oKXtMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwidW5tdXRlX3JlbW90ZV9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9LGUuX29uQXVkaW9NdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfcmVtb3RlX2F1ZGlvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pLChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX0sZS5fb25WaWRlb1VubXV0ZT1mdW5jdGlvbigpe0wubWFrZVJlcG9ydChpKHthY3Rpb246XCJ1bm11dGVfcmVtb3RlX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pLChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX0sZS5fb25WaWRlb011dGU9ZnVuY3Rpb24oKXtMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwibXV0ZV9yZW1vdGVfdmlkZW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSksKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKCl7fSkpfSxcIm9udHJhY2tcIj09PW4mJlwidmlkZW9cIj09PXQudHJhY2sua2luZHx8XCJvbmFkZHN0cmVhbVwiPT09bil7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlbW90ZSBzdHJlYW0gc3Vic2NyaWJlZCB3aXRoIHVpZCBcIiksZS5nZXRJZCgpKTt2YXIgcj1MLnJlbW90ZVN0cmVhbXNbZS5nZXRJZCgpXTtpZihMLnJlbW90ZVN0cmVhbXNbZS5nZXRJZCgpXS5zdHJlYW09XCJvbmFkZHN0cmVhbVwiPT09bj90LnN0cmVhbTp0LnN0cmVhbXNbMF0sTC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV0uaGFzVmlkZW8oKSl7aWYoT2JqZWN0KE8uaXNGaXJlRm94KSgpfHxPYmplY3QoTy5pc1NhZmFyaSkoKSl7dmFyIG89TC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV0uc3RyZWFtO09iamVjdChTLnZzUmVzSGFjaykobywoZnVuY3Rpb24odCxuKXtlLnZpZGVvV2lkdGg9dCxlLnZpZGVvSGVpZ2h0PW59KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSB2c1Jlc0hhY2sgZmFpbGVkOiBcIikrZSl9KSl9fWVsc2V7dmFyIGE9TC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV07YS5wZWVyTXV0ZVZpZGVvPSEwLEwuX2FkanVzdFBDTXV0ZVN0YXR1cyhhKX1yJiZyLmlzUGxheWluZygpJiZyLmVsZW1lbnRJRCYmKHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmVsb2FkIFBsYXllciBcIikuY29uY2F0KHIuZWxlbWVudElELFwiIFN0cmVhbUlkIFwiKS5jb25jYXQoci5nZXRJZCgpKSksZS5hdWRpb091dHB1dD1yLmF1ZGlvT3V0cHV0LHIuc3RvcCgpLGUucGxheShyLmVsZW1lbnRJRCxyLnBsYXlPcHRpb25zKSksZGVsZXRlIGUuYXVkaW9MZXZlbEhlbHBlcjt2YXIgcz1PYmplY3QobS5lKSh7dHlwZTpcInN0cmVhbS1zdWJzY3JpYmVkXCIsc3RyZWFtOkwucmVtb3RlU3RyZWFtc1tlLmdldElkKCldfSk7TC5kaXNwYXRjaEV2ZW50KHMpfX0sY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldKSxMLnRpbWVyc1tlLmdldElkKCldPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJSRVBPUlRfU1RBVFNcIikpe3ZhciB0PTA7ZSYmZS5wYyYmZS5wYy5nZXRTdGF0cyYmZS5wYy5nZXRTdGF0c1JhdGUoKGZ1bmN0aW9uKG4pe24uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobiYmbi5pZCl7aWYoL19zZW5kJC8udGVzdChuLmlkKXx8L150aW1lJC8udGVzdChuLmlkKXx8L15id2Vmb3J2aWRlbyQvLnRlc3Qobi5pZCkpcmV0dXJuOy0xPT09bi5pZC5pbmRleE9mKFwiaW5ib3VuZF9ydHBcIikmJi0xPT09bi5pZC5pbmRleE9mKFwiaW5ib3VuZC1ydHBcIikmJi0xPT09bi50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImluYm91bmRcIil8fFwidmlkZW9cIiE9PW4ubWVkaWFUeXBlfHwobi5nb29nRnJhbWVXaWR0aFJlY2VpdmVkPWUudmlkZW9XaWR0aCtcIlwiLG4uZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ9ZS52aWRlb0hlaWdodCtcIlwiKTt2YXIgcj0yMDAqdDt0Kys7dmFyIGk9ZS5nZXRJZCgpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHQ9TC5zb2NrZXQmJkwuc29ja2V0LmdldExhc3RNc2dUaW1lKCkmJkRhdGUubm93KCktTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKTtpZih0Pk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJSRVBPUlRfU1RBVFNfVElNRU9VVFwiKSl2LmRlZmF1bHQuZGVidWcoXCJTdWJzY3JpYmVTdGF0cyByZXBvcnQgYmxvY2tlZCBieSBSRVBPUlRfU1RBVFNfVElNRU9VVCBcIi5jb25jYXQodCkpO2Vsc2V7aWYoXCJ2aWRlb1wiPT09bi5tZWRpYVR5cGUpdHJ5e3ZhciByPWUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07bi5BX3ZydGQ9ci5lbmFibGVkP1wiMFwiOlwiMVwiLGUucGxheWVyJiZlLnBsYXllci5mcmVlemVUaW1lQ291bnRlckxpc3QubGVuZ3RoPjAmJihuLkFfdnJmdD1lLnBsYXllci5mcmVlemVUaW1lQ291bnRlckxpc3Quc3BsaWNlKDAsMSlbMF0udG9TdHJpbmcoKSl9Y2F0Y2goZSl7fWlmKFwiYXVkaW9cIj09PW4ubWVkaWFUeXBlKXRyeXt2YXIgbz1lLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO24uQV9hcnRkPW8uZW5hYmxlZD9cIjBcIjpcIjFcIn1jYXRjaChlKXt9TC5tYWtlUmVwb3J0KHUoaSxuKSl9fSkscil9ZWxzZTt9KSl9KSl9fSksM2UzKSxjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKStcIl9SZWxhdGVkU3RhdHNcIl0pLEwudGltZXJzW2UuZ2V0SWQoKStcIl9SZWxhdGVkU3RhdHNcIl09c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU1wiKSYmZSYmZS5wYyl7dmFyIHQ9TC5zb2NrZXQmJkwuc29ja2V0LmdldExhc3RNc2dUaW1lKCkmJkRhdGUubm93KCktTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKTtpZih0Pk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJSRVBPUlRfU1RBVFNfVElNRU9VVFwiKSlyZXR1cm4gdm9pZCB2LmRlZmF1bHQuZGVidWcoXCJTdWJzY3JpYmVSZWxhdGVkU3RhdHMgcmVwb3J0IGJsb2NrZWQgYnkgUkVQT1JUX1NUQVRTX1RJTUVPVVQgXCIuY29uY2F0KHQpKTtlLnBjLmdldFZpZGVvUmVsYXRlZFN0YXRzJiZlLnBjLmdldFZpZGVvUmVsYXRlZFN0YXRzKChmdW5jdGlvbih0KXtlLnBsYXllciYmKGUuaGFzVmlkZW8oKSYmIWUucGVlck11dGVWaWRlbyYmKHQuaXNGcmVlemU9ZS5wbGF5ZXIuZnJlZXplQ291bnQ+ZS5wbGF5ZXIubGFzdEZyZWV6ZUNvdW50KSxlLnBsYXllci5sYXN0RnJlZXplQ291bnQ9ZS5wbGF5ZXIuZnJlZXplQ291bnQpLEwubWFrZVJlcG9ydChhKGUuZ2V0SWQoKSx0KSl9KSksZS5wYy5nZXRBdWRpb1JlbGF0ZWRTdGF0cyYmZS5wYy5nZXRBdWRpb1JlbGF0ZWRTdGF0cygoZnVuY3Rpb24odCl7TC5tYWtlUmVwb3J0KGEoZS5nZXRJZCgpLHQpKX0pKX19KSwxZTMpLEwuYXVkaW9MZXZlbFtlLmdldElkKCldPTAsY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCkrXCJhdWRpb1wiXSksTC50aW1lcnNbZS5nZXRJZCgpK1wiYXVkaW9cIl09c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7TC5oYXNMaXN0ZW5lcnMoXCJhY3RpdmUtc3BlYWtlclwiKSYmZSYmZS5wYyYmXCJlc3RhYmxpc2hlZFwiPT09ZS5wYy5zdGF0ZSYmZS5wYy5nZXRTdGF0cyYmZS5wYy5nZXRTdGF0cygoZnVuY3Rpb24odCl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihcImF1ZGlvXCI9PT10Lm1lZGlhVHlwZSl7aWYodC5hdWRpb091dHB1dExldmVsPjVlMylmb3IodmFyIG4gaW4gTC5hdWRpb0xldmVsW2UuZ2V0SWQoKV08MjAmJihMLmF1ZGlvTGV2ZWxbZS5nZXRJZCgpXSs9MSksTC5hdWRpb0xldmVsKW4hPT1cIlwiK2UuZ2V0SWQoKSYmTC5hdWRpb0xldmVsW25dPjAmJihMLmF1ZGlvTGV2ZWxbbl0tPTEpO3ZhciByPU9iamVjdC5rZXlzKEwuYXVkaW9MZXZlbCkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTC5hdWRpb0xldmVsW3RdLUwuYXVkaW9MZXZlbFtlXX0pKTtpZihMLmFjdGl2ZVNwZWFrZXIhPT1yWzBdKXt2YXIgaT1PYmplY3QobS5hKSh7dHlwZTpcImFjdGl2ZS1zcGVha2VyXCIsdWlkOnJbMF19KTtMLmRpc3BhdGNoRXZlbnQoaSksTC5hY3RpdmVTcGVha2VyPXJbMF0sdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVcGRhdGUgYWN0aXZlIHNwZWFrZXI6IFwiKS5jb25jYXQoTC5hY3RpdmVTcGVha2VyKSl9fX0pKX0pLDUwKX0pLDUwKSxlLnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKGkpe2lmKFwiZmFpbGVkXCI9PT1pKW51bGwhPUwudGltZXJzW2UuZ2V0SWQoKV0mJihjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKV0pLGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXStcImF1ZGlvXCIpKSx2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFN1YnNjcmliZXIgY29ubmVjdGlvbiBpcyBsb3N0IC0tIHN0cmVhbUlkOiBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIiwgcDJwSWQ6IFwiKS5jb25jYXQocykpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHAycCBmYWlsZWQ6IFwiKSxMLnAycHMpLG98fChvPSEwLG4mJm4oYi5kZWZhdWx0LlBFRVJDT05ORUNUSU9OX0ZBSUxFRCksRS5yZXBvcnQuc3Vic2NyaWJlKEwuam9pbkluZm8uc2lkLHtsdHM6cixzdWNjOiExLHZpZGVvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvLGF1ZGlvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHBlZXJpZDplLmdldElkKCksZWM6Yi5kZWZhdWx0LlBFRVJDT05ORUNUSU9OX0ZBSUxFRCxzdWJzY3JpYmVSZXF1ZXN0aWQ6TC5zdWJzY3JpYmVSZXF1ZXN0SWQuZ2V0KGUuZ2V0SWQoKSl8fDAscDJwaWQ6c30pKSxMLnJlbW90ZVN0cmVhbXNbZS5nZXRJZCgpXSYmTC5wMnBzLmhhcyhzKSYmKEwucDJwcy5kZWxldGUocyksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwic3ViUDJQTG9zdFwiLHN0cmVhbTplfSkpKTtlbHNlIGlmKFwiY29ubmVjdGVkXCI9PT1pJiYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdWJzY3JpYmUgcDJwIGNvbm5lY3RlZDogXCIpLEwucDJwcyksIW8pKXtvPSEwLEUucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMCx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOm51bGwsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KSxMLl9hZGp1c3RQQ011dGVTdGF0dXMoZSk7dmFyIGE9ITEsYz0hMSxkPSExLHU9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7YSYmY3x8KGUucGM/ZS5wYy5nZXRTdGF0cygoZnVuY3Rpb24odCl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigoLTEhPT10LmlkLmluZGV4T2YoXCJyZWN2XCIpfHx0LnR5cGUmJi0xIT09dC50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImluYm91bmRcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiaW5ib3VuZF9ydHBcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiaW5ib3VuZC1ydHBcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiSW5ib3VuZFJUUFwiKSkmJlwiYXVkaW9cIj09PXQubWVkaWFUeXBlKXtpZigodC5nb29nRGVjb2RpbmdOb3JtYWw+MHx8dC5hdWRpb091dHB1dExldmVsPjApJiYhYSl7YT0hMCxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaXJzdC1hdWRpby1mcmFtZS1kZWNvZGVcIixzdHJlYW06ZX0pLGEmJmMmJmNsZWFySW50ZXJ2YWwodSk7dmFyIG49RGF0ZS5ub3coKSxyPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpO0UucmVwb3J0LmZpcnN0QXVkaW9EZWNvZGUoTC5qb2luSW5mby5zaWQse3BlZXJpZDplLnVpbnRJZCx1aWQ6TC51aWQsZWxhcHNlOm4tcixzdWJzY3JpYmVFbGFwc2U6bi1lLnN1YnNjcmliZUxUUyxzdWJzY3JpYmVSZXF1ZXN0aWQ6TC5zdWJzY3JpYmVSZXF1ZXN0SWQuZ2V0KGUuZ2V0SWQoKSl8fDAscDJwaWQ6c30pfWlmKHBhcnNlSW50KHQucGFja2V0c1JlY2VpdmVkKT4wJiYhYyl7Yz0hMCxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaXJzdC1hdWRpby1wYWNrZXQtcmVjZWl2ZWRcIixzdHJlYW06ZX0pLGEmJmMmJmNsZWFySW50ZXJ2YWwodSk7bj1EYXRlLm5vdygpLHI9RS5yZXBvcnQuZ2V0U2Vzc2lvblN0YXJ0VGltZShMLmpvaW5JbmZvLnNpZCk7RS5yZXBvcnQuZmlyc3RBdWRpb1JlY2VpdmVkKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50SWQsdWlkOkwudWlkLGVsYXBzZTpuLXIsc3Vic2NyaWJlRWxhcHNlOm4tZS5zdWJzY3JpYmVMVFMsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KX19fSkpfSksMTAwKTpjbGVhckludGVydmFsKHUpKX0pLDEwMCksbD0hMSxmPSExLHA9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7bCYmZnx8KGUucGM/ZS5wYy5nZXRTdGF0cygoZnVuY3Rpb24odCl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigoLTEhPT10LmlkLmluZGV4T2YoXCJyZWN2XCIpfHx0LnR5cGUmJi0xIT09dC50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImluYm91bmRcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiaW5ib3VuZF9ydHBcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiaW5ib3VuZC1ydHBcIil8fC0xIT09dC5pZC5pbmRleE9mKFwiSW5ib3VuZFJUUFwiKSkmJlwidmlkZW9cIj09PXQubWVkaWFUeXBlKXtpZigodC5mcmFtZXNEZWNvZGVkPjB8fHQuZ29vZ0ZyYW1lc0RlY29kZWQ+MCkmJiFsKXtsPSEwLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImZpcnN0LXZpZGVvLWZyYW1lLWRlY29kZVwiLHN0cmVhbTplfSksbCYmZiYmY2xlYXJJbnRlcnZhbChwKTt2YXIgbj1EYXRlLm5vdygpLHI9RS5yZXBvcnQuZ2V0U2Vzc2lvblN0YXJ0VGltZShMLmpvaW5JbmZvLnNpZCk7ZS5maXJzdEZyYW1lVGltZT0obmV3IERhdGUpLmdldFRpbWUoKS1lLnN1YnNjcmliZUxUUyxFLnJlcG9ydC5maXJzdFZpZGVvRGVjb2RlKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50SWQsd2lkdGg6cGFyc2VJbnQodC5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKXx8MCxoZWlnaHQ6cGFyc2VJbnQodC5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCl8fDAsdWlkOkwudWlkLGVsYXBzZTpuLXIsc3Vic2NyaWJlRWxhcHNlOm4tZS5zdWJzY3JpYmVMVFMsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KX1pZih0LnBhY2tldHNSZWNlaXZlZD4wJiYhZil7Zj0hMCxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaXJzdC12aWRlby1wYWNrZXQtcmVjZWl2ZWRcIixzdHJlYW06ZX0pLGwmJmYmJmNsZWFySW50ZXJ2YWwocCk7bj1EYXRlLm5vdygpLHI9RS5yZXBvcnQuZ2V0U2Vzc2lvblN0YXJ0VGltZShMLmpvaW5JbmZvLnNpZCk7RS5yZXBvcnQuZmlyc3RWaWRlb1JlY2VpdmVkKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50SWQsdWlkOkwudWlkLGVsYXBzZTpuLXIsc3Vic2NyaWJlRWxhcHNlOm4tZS5zdWJzY3JpYmVMVFMsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KX19fSkpfSksMTAwKTpjbGVhckludGVydmFsKHApKX0pLDEwMCksZz1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZighZCl7dmFyIHQ9ZS5nZXRJZCgpLG49TC50cmFmZmljX3N0YXRzO2lmKG4mJm4ucGVlcl9kZWxheSl7dmFyIHI9bi5wZWVyX2RlbGF5LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBlZXJfdWlkPT10fSkpO2lmKHIpe2lmKGQ9ITAsTC5wZWVyUHVibGlzaER1cmF0aW9uTWFwLmdldChlLmdldElkKCkpKXJldHVybiB2b2lkIGNsZWFySW50ZXJ2YWwoZyk7dmFyIGk9ci5wZWVyX3B1Ymxpc2hfYXVkaW9fZHVyYXRpb24sbz1yLnBlZXJfcHVibGlzaF92aWRlb19kdXJhdGlvbjtpZih2b2lkIDA9PT1pfHx2b2lkIDA9PT1vKXJldHVybjtMLnBlZXJQdWJsaXNoRHVyYXRpb25NYXAuc2V0KGUuZ2V0SWQoKSwhMCk7dmFyIGE9RS5yZXBvcnQuZ2V0U2Vzc2lvblN0YXJ0VGltZShMLmpvaW5JbmZvLnNpZCkscz0oaXx8bykrKERhdGUubm93KCktbi50aW1lc3RhbXApLGM9RGF0ZS5ub3coKTtFLnJlcG9ydC5wZWVyUHVibGlzaFN0YXR1cyh7YXVkaW90YWc6aT8xOi0xLHZpZGVvdGFnOm8/MTotMSxsdHM6YyxzaWQ6TC5qb2luSW5mby5zaWQsY25hbWU6TC5qb2luSW5mby5jbmFtZSxjaWQ6TC5qb2luSW5mby5jaWQsdWlkOkwuam9pbkluZm8udWlkLGVsYXBzZTpjLWEscGVlcjplLnVpbnRJZCxwZWVyUHVibGlzaER1cmF0aW9uOnMsam9pbkNoYW5uZWxTdWNjZXNzRWxhcHNlOmMtTC5qb2luU3VjY2Vzc0x0cyxzdWJzY3JpYmVFbGFwc2U6Yy1lLnN1YnNjcmliZUxUU30pLGNsZWFySW50ZXJ2YWwoZyl9fX19KSwxZTMpO3JldHVybiBlLnNpZD1MLmpvaW5JbmZvLnNpZCx0JiZ0KCl9fX1lbHNlIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCByZW1vdGUgc3RyZWFtXCIpKSxvfHwobz0hMCxuJiZuKGIuZGVmYXVsdC5JTlZBTElEX1JFTU9URV9TVFJFQU0pLEUucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMSx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOmIuZGVmYXVsdC5JTlZBTElEX1JFTU9URV9TVFJFQU19KSk7ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIE5vIHN1Y2ggcmVtb3RlIHN0cmVhbVwiKSksb3x8KG89ITAsbiYmbihiLmRlZmF1bHQuTk9fU1VDSF9SRU1PVEVfU1RSRUFNKSxFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITEsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzpiLmRlZmF1bHQuTk9fU1VDSF9SRU1PVEVfU1RSRUFNfSkpfSxMLnN1YnNjcmliZUNoYW5nZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9RGF0ZS5ub3coKTt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gR2F0ZXdheWNsaWVudCBcIikuY29uY2F0KEwudWlkLFwiIFN1YnNjcmliZUNoYW5nZSBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlLnN1YnNjcmliZU9wdGlvbnMpKSksTC5fYWRqdXN0UENNdXRlU3RhdHVzKGUpO3ZhciBpPXtzdHJlYW1faWQ6ZS5nZXRJZCgpLGF1ZGlvOmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMudmlkZW99O0wubWFrZVJlcXVlc3Qoe190eXBlOlwic3Vic2NyaWJlX2NoYW5nZVwiLF9tZXNzYWdlOml9LChmdW5jdGlvbihuKXt2YXIgaT1PYmplY3QobS5lKSh7dHlwZTpcInN0cmVhbS1zdWJzY3JpYmUtY2hhbmdlZFwiLHN0cmVhbTpMLnJlbW90ZVN0cmVhbXNbZS5nZXRJZCgpXX0pO0UucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMCx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOm51bGwsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOkwucDJwcy5nZXQoZS5nZXRJZCgpKX0pLEwuZGlzcGF0Y2hFdmVudChpKSx0JiZ0KCl9KSwoZnVuY3Rpb24odCxyKXt2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFN1YnNjcmliZSBDaGFuZ2UgRmFpbGVkIFwiKS5jb25jYXQoZS5nZXRJZCgpKSx0LHIpLG4mJm4odCxyKX0pKX0sTC5wcm9jZXNzUHVibGlzaEZhaWx1cmU9ZnVuY3Rpb24oZSl7ZS5wdWJsaXNoTFRTPW51bGwsZS5wMnBJZCYmTC5wMnBzLmdldChlLnAycElkKT09PWUmJkwucDJwcy5kZWxldGUoZS5wMnBJZCksTC5sb2NhbFN0cmVhbXNbZS5nZXRVc2VySWQoKV09PT1lJiZkZWxldGUgTC5sb2NhbFN0cmVhbXNbZS5nZXRVc2VySWQoKV0sTC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXT09PWUmJmRlbGV0ZSBMLmxvY2FsU3RyZWFtc1tlLmdldElkKCldLGUucGMmJihlLnBjLnByb2Nlc3NTaWduYWxpbmdNZXNzYWdlPWZ1bmN0aW9uKCl7fSxlLnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7fSxlLnBjLmNsb3NlKCksZGVsZXRlIGUucGMpLGRlbGV0ZSBlLm9uQ2xvc2UsZGVsZXRlIGUuX29uQXVkaW9Vbm11dGUsZGVsZXRlIGUuX29uVmlkZW9Vbm11dGUsZGVsZXRlIGUuX29uQXVkaW9NdXRlLGRlbGV0ZSBlLl9vblZpZGVvTXV0ZSxkZWxldGUgZS5fb25BdWRpb1VubXV0ZX0sTC5wcm9jZXNzU3Vic2NyaWJlRmFpbHVyZT1mdW5jdGlvbihlKXtlLnAycElkJiZMLnAycHMuZ2V0KGUucDJwSWQpPT09ZSYmTC5wMnBzLmRlbGV0ZShlLnAycElkKSxlLnBjJiYoZS5wYy5vbmFkZHN0cmVhbT1mdW5jdGlvbigpe30sZS5wYy5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZT1mdW5jdGlvbigpe30sZS5wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe30sZS5wYy5jbG9zZSgpLGRlbGV0ZSBlLnBjKSxkZWxldGUgZS5vbkNsb3NlLGRlbGV0ZSBlLl9vbkF1ZGlvVW5tdXRlLGRlbGV0ZSBlLl9vblZpZGVvVW5tdXRlLGRlbGV0ZSBlLl9vbkF1ZGlvTXV0ZSxkZWxldGUgZS5fb25WaWRlb011dGUsZGVsZXRlIGUuX29uQXVkaW9Vbm11dGV9LEwuX2FkanVzdFBDTXV0ZVN0YXR1cz1mdW5jdGlvbihlKXsodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXTogdXNlIF9hZGp1c3RQQ011dGVTdGF0dXM6IFwiKS5jb25jYXQoZS5nZXRJZCgpKSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXTogdmlkZW86IFwiKS5jb25jYXQoZS52aWRlbyxcIiwgYXVkaW86IFwiKS5jb25jYXQoZS5hdWRpbyxcIiwgc3Vib3B0aW9uOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUuc3Vic2NyaWJlT3B0aW9ucyksXCIsdXNlck11dGVWaWRlbzogXCIpLmNvbmNhdChlLnVzZXJNdXRlVmlkZW8sXCIsIHBlZXJNdXRlVmlkZW86IFwiKS5jb25jYXQoZS5wZWVyTXV0ZVZpZGVvLFwiLCB1c2VyTXV0ZUF1ZGlvOiBcIikuY29uY2F0KGUudXNlck11dGVBdWRpbyxcIiwgcGVlck11dGVBdWRpbzogXCIpLmNvbmNhdChlLnBlZXJNdXRlQXVkaW8pKSwhZS5sb2NhbCYmZS5wYyYmZS5wYy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMpJiZlLnBjLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQmJnQudHJhY2smJlwiYXVkaW9cIj09PXQudHJhY2sua2luZCl7dmFyIG49IWUudXNlck11dGVBdWRpbyYmIWUucGVlck11dGVBdWRpbztlLnN1YnNjcmliZU9wdGlvbnMmJiFlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8mJihuPSExKSx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdOiBzZXQgcmVjZWl2ZXIgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQobikpLHQudHJhY2suZW5hYmxlZD0hIW59ZWxzZSBpZih0JiZ0LnRyYWNrJiZcInZpZGVvXCI9PT10LnRyYWNrLmtpbmQpe3ZhciByPSFlLnVzZXJNdXRlVmlkZW8mJiFlLnBlZXJNdXRlVmlkZW87ZS5zdWJzY3JpYmVPcHRpb25zJiYhZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvJiYocj0hMSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXTogc2V0IHJlY2VpdmVyIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KHIpKSx0LnRyYWNrLmVuYWJsZWQ9ISFyfX0pKX0sTC51bnN1YnNjcmliZT1mdW5jdGlvbihlLHQsbil7aWYoXCJvYmplY3RcIiE9PWQoKShlKXx8bnVsbD09PWUpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCByZW1vdGUgc3RyZWFtXCIpKSx2b2lkIEQobixiLmRlZmF1bHQuSU5WQUxJRF9SRU1PVEVfU1RSRUFNKTtpZihMLnN0YXRlIT09UilyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGlzIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSksdm9pZCBEKG4sYi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKTtpZihudWxsIT1MLnRpbWVyc1tlLmdldElkKCldJiYoY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldKSxjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKV0rXCJhdWRpb1wiKSksbnVsbCE9TC5hdWRpb0xldmVsW2UuZ2V0SWQoKV0mJmRlbGV0ZSBMLmF1ZGlvTGV2ZWxbZS5nZXRJZCgpXSxudWxsIT1MLnRpbWVyX2NvdW50ZXJbZS5nZXRJZCgpXSYmZGVsZXRlIEwudGltZXJfY291bnRlcltlLmdldElkKCldLEwucmVtb3RlU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShlLmdldElkKCkpKXtpZighTC5zb2NrZXQpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBpcyBub3QgaW4gdGhlIHNlc3Npb25cIikpLHZvaWQgRChuLGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7aWYoZS5sb2NhbClyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnZhbGlkIHJlbW90ZSBzdHJlYW1cIikpLHZvaWQgRChuLGIuZGVmYXVsdC5JTlZBTElEX1JFTU9URV9TVFJFQU0pO2UuY2xvc2UoKSxlLnN0b3AoKTt2YXIgcj17c3RyZWFtX2lkOmUuZ2V0SWQoKX07TC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJ1bnN1YnNjcmliZVwiLF9tZXNzYWdlOnJ9KSx2b2lkIDAhPT1lLnBjJiYoZS5wYy5jbG9zZSgpLGUucGM9dm9pZCAwKSxlLm9uQ2xvc2U9dm9pZCAwLGUuX29uQXVkaW9NdXRlPXZvaWQgMCxlLl9vbkF1ZGlvVW51dGU9dm9pZCAwLGUuX29uVmlkZW9NdXRlPXZvaWQgMCxlLl9vblZpZGVvVW5tdXRlPXZvaWQgMCxkZWxldGUgZS5zdWJzY3JpYmVPcHRpb25zLEwucDJwcy5kZWxldGUoZS5wMnBJZCksdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVuc3Vic2NyaWJlIHN0cmVhbSBzdWNjZXNzXCIpKSx0JiZ0KCl9ZWxzZSBEKG4sYi5kZWZhdWx0Lk5PX1NVQ0hfUkVNT1RFX1NUUkVBTSl9LEwuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlPWZ1bmN0aW9uKGUsdCl7aWYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTd2l0Y2hpbmcgcmVtb3RlIHZpZGVvIHN0cmVhbSBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIiB0byBcIikuY29uY2F0KHQpKSxcIm9iamVjdFwiPT09ZCgpKGUpJiZudWxsIT09ZSlpZihMLnN0YXRlPT09Uil7aWYoIWUubG9jYWwpe3N3aXRjaCh0KXtjYXNlIEwucmVtb3RlVmlkZW9TdHJlYW1UeXBlcy5SRU1PVEVfVklERU9fU1RSRUFNX0hJR0g6Y2FzZSBMLnJlbW90ZVZpZGVvU3RyZWFtVHlwZXMuUkVNT1RFX1ZJREVPX1NUUkVBTV9MT1c6Y2FzZSBMLnJlbW90ZVZpZGVvU3RyZWFtVHlwZXMuUkVNT1RFX1ZJREVPX1NUUkVBTV9NRURJVU06YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIG49e3N0cmVhbV9pZDplLmdldElkKCksc3RyZWFtX3R5cGU6dH07TC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJzd2l0Y2hfdmlkZW9fc3RyZWFtXCIsX21lc3NhZ2U6bn0sKGZ1bmN0aW9uKCl7di5kZWZhdWx0LmRlYnVnKFwiU3dpdGNoVmlkZW9TdHJlYW0gU3VjY2VzcyBcIi5jb25jYXQobi5zdHJlYW1faWQsXCIgXCIpLmNvbmNhdChuLnN0cmVhbV90eXBlKSl9KSwoZnVuY3Rpb24oZSx0KXt2LmRlZmF1bHQuZXJyb3IoXCJTd2l0Y2hWaWRlb1N0cmVhbSBFcnJvciBcIi5jb25jYXQoZSxcIiBcIikuY29uY2F0KG4uc3RyZWFtX2lkLFwiIFwiKS5jb25jYXQobi5zdHJlYW1fdHlwZSksdCl9KSl9fWVsc2Ugdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGlzIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSk7ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgcmVtb3RlIHN0cmVhbVwiKSl9LEwucmVuZXdUb2tlbj1mdW5jdGlvbihlLHQsbil7ZT9MLmtleT9MLnN0YXRlIT09Uj8odi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDbGllbnQgaXMgbm90IGNvbm5lY3RlZC4gVHJ5aW5nIHRvIHJlam9pblwiKSksTC5rZXk9ZSxMLnJlam9pbigpLHQmJnQoKSk6KHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBmcm9tIFwiKS5jb25jYXQoTC5rZXksXCIgdG8gXCIpLmNvbmNhdChlKSksTC5rZXk9ZSxMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInJlbmV3X3Rva2VuXCIsX21lc3NhZ2U6e3Rva2VuOmV9fSx0LG4pKToodi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDbGllbnQgaXMgcHJldmlvdXNseSBqb2luZWQgd2l0aG91dCB0b2tlblwiKSksbiYmbihiLmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpKToodi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnZhbGlkIFRva2VuIFwiKS5jb25jYXQoZSkpLG4mJm4oYi5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKSl9LEwuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb249ZnVuY3Rpb24oZSx0KXtpZih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFNldCBzdHJlYW0gZmFsbGJhY2sgb3B0aW9uIFwiKS5jb25jYXQoZS5nZXRJZCgpLFwiIHRvIFwiKS5jb25jYXQodCkpLFwib2JqZWN0XCI9PT1kKCkoZSkmJm51bGwhPT1lKWlmKEwuc3RhdGU9PT1SKXtpZighZS5sb2NhbCl7c3dpdGNoKHQpe2Nhc2UgTC5zdHJlYW1GYWxsYmFja1R5cGVzLlNUUkVBTV9GQUxMQkFDS19PUFRJT05fRElTQUJMRUQ6Y2FzZSBMLnN0cmVhbUZhbGxiYWNrVHlwZXMuU1RSRUFNX0ZBTExCQUNLX09QVElPTl9WSURFT19TVFJFQU1fTE9XOmNhc2UgTC5zdHJlYW1GYWxsYmFja1R5cGVzLlNUUkVBTV9GQUxMQkFDS19PUFRJT05fQVVESU9fT05MWTpicmVhaztkZWZhdWx0OnJldHVybn12YXIgbj17c3RyZWFtX2lkOmUuZ2V0SWQoKSxmYWxsYmFja190eXBlOnR9O0wubWFrZVJlcXVlc3Qoe190eXBlOlwic2V0X2ZhbGxiYWNrX29wdGlvblwiLF9tZXNzYWdlOm59LChmdW5jdGlvbigpe3YuZGVmYXVsdC5kZWJ1ZyhcIlNldFN0cmVhbUZhbGxiYWNrT3B0aW9uIHN1Y2Nlc3MgXCIuY29uY2F0KG4uc3RyZWFtX2lkLFwiIFwiKS5jb25jYXQodCkpfSksKGZ1bmN0aW9uKGUscil7di5kZWZhdWx0LmVycm9yKFwiRmFpbGVkIHRvIFNldFN0cmVhbUZhbGxiYWNrT3B0aW9uIFwiLmNvbmNhdChuLnN0cmVhbV9pZCxcIiBcIikuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChlKSxyKX0pKX19ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVzZXIgaXMgbm90IGluIHRoZSBzZXNzaW9uXCIpKTtlbHNlIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCByZW1vdGUgc3RyZWFtXCIpKX0sTC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvcj1mdW5jdGlvbihlLHQpe0wuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uLmVuYWJsZWQ9ITAsTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uaW50ZXJ2YWw9ZSxMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5zbW9vdGg9dCxMLnJlc2V0QXVkaW9Wb2x1bWVJbmRpY2F0aW9uKCl9LEwucmVzZXRBdWRpb1ZvbHVtZUluZGljYXRpb249ZnVuY3Rpb24oKXtpZihjbGVhckludGVydmFsKEwudGltZXJzLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbiksY2xlYXJJbnRlcnZhbChMLnRpbWVycy5hdWRpb1ZvbHVtZVNhbXBsaW5nKSxMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5lbmFibGVkJiZMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5pbnRlcnZhbCl7dmFyIGU9TWF0aC5mbG9vcigxZTMqTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uc21vb3RoLzEwMCk7Y2xlYXJJbnRlcnZhbChMLnRpbWVycy5hdWRpb1ZvbHVtZVNhbXBsaW5nKSxMLnRpbWVycy5hdWRpb1ZvbHVtZVNhbXBsaW5nPXNldEludGVydmFsKChmdW5jdGlvbigpe0wuYXVkaW9Wb2x1bWVTYW1wbGluZ3x8KEwuYXVkaW9Wb2x1bWVTYW1wbGluZz17fSk7dmFyIHQ9e307Zm9yKHZhciBuIGluIEwucmVtb3RlU3RyZWFtcyl7dmFyIHI9TC5yZW1vdGVTdHJlYW1zW25dO2lmKHIuc3RyZWFtJiZyLmhhc0F1ZGlvKCkpe3ZhciBpPXIuZ2V0QXVkaW9MZXZlbCgpO2k+MCYmaTwxJiYoaSo9MTAwKTt2YXIgbz1MLmF1ZGlvVm9sdW1lU2FtcGxpbmdbbl18fFtdO2ZvcihvLnB1c2goaSk7by5sZW5ndGg+ZTspby5zaGlmdCgpO3Rbbl09b319TC5hdWRpb1ZvbHVtZVNhbXBsaW5nPXR9KSwxMDApLGNsZWFySW50ZXJ2YWwoTC50aW1lcnMuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uKSxMLnRpbWVycy5hdWRpb1ZvbHVtZUluZGljYXRpb249c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoTC5zb2NrZXQmJkwuc29ja2V0LnNpZ25hbCYmTC5zb2NrZXQuc2lnbmFsLmNvbm5lY3Rpb24mJkwuc29ja2V0LnNpZ25hbC5jb25uZWN0aW9uLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTil7dmFyIGU9W107Zm9yKHZhciB0IGluIEwucmVtb3RlU3RyZWFtcylpZihMLmF1ZGlvVm9sdW1lU2FtcGxpbmcmJkwuYXVkaW9Wb2x1bWVTYW1wbGluZ1t0XSl7dmFyIG49TC5hdWRpb1ZvbHVtZVNhbXBsaW5nW3RdLHI9MDtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IrPWV9KSk7dmFyIGk9e3VpZDp0LGxldmVsOk1hdGguZmxvb3Ioci9uLmxlbmd0aCl9O2kubGV2ZWwmJmUucHVzaChpKX12YXIgbz1lLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGV2ZWwtdC5sZXZlbH0pKTt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHZvbHVtZS1pbmRpY2F0b3IgXCIpLEpTT04uc3RyaW5naWZ5KG8pKSxMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5zb3J0ZWRBdWRpb1ZvbHVtZXM9bzt2YXIgYT1PYmplY3QobS5hKSh7dHlwZTpcInZvbHVtZS1pbmRpY2F0b3JcIixhdHRyOm99KTtMLmRpc3BhdGNoRXZlbnQoYSl9fSksTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uaW50ZXJ2YWwpfX0sTC5jbG9zZUdhdGV3YXk9ZnVuY3Rpb24oKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIGNsb3NlIGdhdGV3YXlcIikpLEwuc3RhdGU9ZixMLnNvY2tldC5jbG9zZSgpLEIoKX0sTC5zdGFydENoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKCl7dmFyIGU9cygpKG8uYS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhO3JldHVybiBvLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoIUwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyKXtlLm5leHQ9MjticmVha310aHJvdyBuZXcgUC5DaGFubmVsTWVkaWFFcnJvcihcIlJFTEFZX0FMUkVBRFlfU1RBUlRcIixcIlwiLFAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUi5SRUxBWV9BTFJFQURZX1NUQVJUKTtjYXNlIDI6cmV0dXJuIG49ZnVuY3Rpb24oZSl7TC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1ldmVudFwiLGNvZGU6ZX0pfSxyPWZ1bmN0aW9uKGUsdCxuKXtlPT09UC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFLlJFTEFZX1NUQVRFX0ZBSUxVUkUmJnQ9PT1QLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1IuU0VSVkVSX0NPTk5FQ1RJT05fTE9TVCYmKEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyLmRpc3Bvc2UoKSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcj1udWxsKSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6ZSxjb2RlOnQsZGF0YTpufSl9LEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyPW5ldyB4LmEoTC5qb2luSW5mbyxMLmNsaWVudElkKSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5vbihcImV2ZW50XCIsbiksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIub24oXCJzdGF0ZVwiLHIpLGUucHJldj03LGUubmV4dD0xMCxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5zdGFydENoYW5uZWxNZWRpYVJlbGF5KHQpO2Nhc2UgMTA6ZS5uZXh0PTIyO2JyZWFrO2Nhc2UgMTI6dGhyb3cgZS5wcmV2PTEyLGUudDA9ZS5jYXRjaCg3KSx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkgZXhjZXB0aW9uOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUudDApKSksaT1QLkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUuUkVMQVlfU1RBVEVfRkFJTFVSRSxhPVwiXCIsYT1lLnQwIGluc3RhbmNlb2YgUC5DaGFubmVsTWVkaWFFcnJvcj9cIlNldFNvdXJjZUNoYW5uZWxTdGF0dXNcIj09PWUudDAuZGF0YXx8ZS50MC5kYXRhJiZlLnQwLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU2V0U291cmNlQ2hhbm5lbFwiPT09ZS50MC5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ/XCJGQUlMRURfSk9JTl9TUkNcIjpcIlNldERlc3RDaGFubmVsU3RhdHVzXCI9PT1lLnQwLmRhdGF8fGUudDAuZGF0YSYmZS50MC5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlNldERlc3RDaGFubmVsXCI9PT1lLnQwLmRhdGEuc2VydmVyUmVzcG9uc2UuY29tbWFuZD9cIkZBSUxFRF9KT0lOX0RFU1RcIjplLnQwLmRhdGEmJmUudDAuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTdGFydFBhY2tldFRyYW5zZmVyXCI9PT1lLnQwLmRhdGEuc2VydmVyUmVzcG9uc2UuY29tbWFuZD9cIkZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUXCI6ZS50MC5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLlJFUVVFU1RfVElNRU9VVHx8ZS50MC5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLldBSVRfU1RBVFVTX1RJTUVPVVQ/XCJTRVJWRVJfTk9fUkVTUE9OU0VcIjplLnQwLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuUkVRVUVTVF9GQUlMRUR8fGUudDAubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5XQUlUX1NUQVRVU19FUlJPUj9cIlNFUlZFUl9FUlJPUl9SRVNQT05TRVwiOmUudDAubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5BUF9SRVFVRVNUX1RJTUVPVVQ/XCJOT19SRVNPVVJDRV9BVkFJTEFCTEVcIjplLnQwLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV1NfQUJPUlR8fGUudDAubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5BUF9SRVFVRVNUX0FCT1JUP1wiT1BFUkFUSU9OX0FCT1JUXCI6XCJJTlRFUk5BTF9FUlJPUlwiOlwiSU5URVJOQUxfRVJST1JcIixMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6aSxjb2RlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUlthXX0pLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyJiYoTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuZGlzcG9zZSgpLEwuY2hhbm5lbE1lZGlhQ29uZmlnPW51bGwsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbCksTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9JRExFfSksbmV3IFAuQ2hhbm5lbE1lZGlhRXJyb3IoYSxudWxsLFAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUlthXSk7Y2FzZSAyMjpMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFLlJFTEFZX1NUQVRFX1JVTk5JTkcsY29kZTpQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1IuUkVMQVlfT0t9KSxMLmNoYW5uZWxNZWRpYUNvbmZpZz10O2Nhc2UgMjQ6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbnVsbCxbWzcsMTJdXSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEwudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXk9ZnVuY3Rpb24oKXt2YXIgdD1zKCkoby5hLm1hcmsoKGZ1bmN0aW9uIHQobil7dmFyIHIsaTtyZXR1cm4gby5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyKXt0Lm5leHQ9MjticmVha310aHJvdyBuZXcgUC5DaGFubmVsTWVkaWFFcnJvcihcIlJFTEFZX05PVF9TVEFSVFwiLG51bGwsUC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SLlJFTEFZX05PVF9TVEFSVCk7Y2FzZSAyOnJldHVybiB0LnByZXY9Mix0Lm5leHQ9NSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci51cGRhdGVDaGFubmVsTWVkaWFSZWxheShuKTtjYXNlIDU6dC5uZXh0PTE4O2JyZWFrO2Nhc2UgNzp0aHJvdyB0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMiksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSB1cGRhdGVDaGFubmVsTWVkaWFSZWxheSBleGNlcHRpb246IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSxyPVAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9GQUlMVVJFLGk9XCJcIixpPWUgaW5zdGFuY2VvZiBQLkNoYW5uZWxNZWRpYUVycm9yP2UubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5SRVFVRVNUX1RJTUVPVVR8fGUubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5XQUlUX1NUQVRVU19USU1FT1VUP1wiU0VSVkVSX05PX1JFU1BPTlNFXCI6ZS5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLlJFUVVFU1RfRkFJTEVEfHxlLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV0FJVF9TVEFUVVNfRVJST1I/XCJTRVJWRVJfRVJST1JfUkVTUE9OU0VcIjplLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV1NfQUJPUlR8fGUubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5BUF9SRVFVRVNUX0FCT1JUP1wiT1BFUkFUSU9OX0FCT1JUXCI6XCJJTlRFUk5BTF9FUlJPUlwiOlwiSU5URVJOQUxfRVJST1JcIixMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LWV2ZW50XCIsY29kZTpQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfUkVGVVNFRH0pLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNoYW5uZWwtbWVkaWEtcmVsYXktc3RhdGVcIixzdGF0ZTpyLGNvZGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SW2ldfSksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXImJihMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5kaXNwb3NlKCksTC5jaGFubmVsTWVkaWFDb25maWc9bnVsbCxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcj1udWxsKSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFLlJFTEFZX1NUQVRFX0lETEV9KSxuZXcgUC5DaGFubmVsTWVkaWFFcnJvcihpLG51bGwsUC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SW2ldKTtjYXNlIDE4OkwuY2hhbm5lbE1lZGlhQ29uZmlnPW47Y2FzZSAxOTpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMiw3XV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxMLnN0b3BDaGFubmVsTWVkaWFSZWxheT1zKCkoby5hLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgbixyO3JldHVybiBvLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIpe3QubmV4dD0yO2JyZWFrfXRocm93IG5ldyBQLkNoYW5uZWxNZWRpYUVycm9yKFwiUkVMQVlfTk9UX1NUQVJUXCIsbnVsbCxQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1IuUkVMQVlfTk9UX1NUQVJUKTtjYXNlIDI6cmV0dXJuIHQucHJldj0yLHQubmV4dD01LEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyLnN0b3BDaGFubmVsTWVkaWFSZWxheSgpO2Nhc2UgNTp0Lm5leHQ9MTc7YnJlYWs7Y2FzZSA3OnRocm93IHQucHJldj03LHQudDA9dC5jYXRjaCgyKSx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHN0b3BDaGFubmVsTWVkaWFSZWxheSBleGNlcHRpb246IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSxuPVAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9GQUlMVVJFLHI9XCJcIixyPWUgaW5zdGFuY2VvZiBQLkNoYW5uZWxNZWRpYUVycm9yP2UubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5SRVFVRVNUX1RJTUVPVVR8fGUubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5XQUlUX1NUQVRVU19USU1FT1VUP1wiU0VSVkVSX05PX1JFU1BPTlNFXCI6ZS5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLlJFUVVFU1RfRkFJTEVEfHxlLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV0FJVF9TVEFUVVNfRVJST1I/XCJTRVJWRVJfRVJST1JfUkVTUE9OU0VcIjpcIklOVEVSTkFMX0VSUk9SXCI6XCJJTlRFUk5BTF9FUlJPUlwiLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNoYW5uZWwtbWVkaWEtcmVsYXktc3RhdGVcIixzdGF0ZTpuLGNvZGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SW3JdfSksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXImJihMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5kaXNwb3NlKCksTC5jaGFubmVsTWVkaWFDb25maWc9bnVsbCxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcj1udWxsKSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFLlJFTEFZX1NUQVRFX0lETEV9KSxuZXcgUC5DaGFubmVsTWVkaWFFcnJvcihyLG51bGwsUC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SW3JdKTtjYXNlIDE3OkwuY2hhbm5lbE1lZGlhQ29uZmlnPW51bGwsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbDtjYXNlIDE5OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LG51bGwsW1syLDddXSl9KSkpLEwuc2VuZE1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7TC5tYWtlUmVxdWVzdChmdW5jdGlvbihlKXtyZXR1cm57X3R5cGU6XCJzZW5kX21ldGFkYXRhXCIsX21lc3NhZ2U6e3Nlc3Npb25faWQ6TC5qb2luSW5mby5zaWQsbWV0YWRhdGE6d2luZG93LmJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9fX0oZSksKGZ1bmN0aW9uKCl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLCddIHNlbmQgbWV0YWRhdGEgXCInKS5jb25jYXQoZSwnXCIgc3VjY2VzcycpKSx0JiZ0KG51bGwpfSksKGZ1bmN0aW9uKG4pe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCwnXSBzZW5kIG1ldGFkYXRhIFwiJykuY29uY2F0KGUsJ1wiIGZhaWxlZCcpLG4pLHQmJnQobil9KSl9LEwuX3JlcG9ydFdlYnNvY2tldENsb3NlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49RS5yZXBvcnQuZ2V0U2Vzc2lvblN0YXJ0VGltZShMLmpvaW5JbmZvLnNpZCkscj1EYXRlLm5vdygpO0UucmVwb3J0LndlYlNvY2tldFF1aXQoe2x0czpyLHNpZDpMLmpvaW5JbmZvLnNpZCxjbmFtZTpMLmpvaW5JbmZvLmNuYW1lLGNpZDpMLmpvaW5JbmZvLmNpZCx1aWQ6TC5qb2luSW5mby51aWQsZWxhcHNlOnItbixzdWNjOmUsZXJyb3JDb2RlOnQsaXA6bnVsbH0pfWNhdGNoKGUpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl06IF9yZXBvcnRXZWJzb2NrZXRDbG9zZUV2ZW50IGV4Y2VwdGlvbiwgXCIpLmNvbmNhdChlKSl9fTt2YXIgaj1mdW5jdGlvbigpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IGdhdGV3YXlcIikpLEwuc3RhdGU9ZixMLnNvY2tldC5jbG9zZSgpLEIoKSxMLnJlY29ubmVjdE1vZGU9XCJyZWNvdmVyXCIsTC5zdGF0ZT1fLEYoKX07TC5yZWNvdmVyPWo7dmFyIEI9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiYmVmb3JlLWNsZWFyLWNvbm5lY3Rpb25cIn0pLEwudGltZXJzKUwudGltZXJzLmhhc093blByb3BlcnR5KGUpJiZjbGVhckludGVydmFsKEwudGltZXJzW2VdKTtmb3IodmFyIGUgaW4gTC5yZW1vdGVTdHJlYW1zKWlmKEwucmVtb3RlU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9TC5yZW1vdGVTdHJlYW1zW2VdLG49T2JqZWN0KG0uYSkoe3R5cGU6XCJzdHJlYW0tcmVtb3ZlZFwiLHVpZDp0LmdldElkKCksc3RyZWFtOnR9KTtMLmRpc3BhdGNoRXZlbnQobil9TC5wMnBzLmNsZWFyKCkscSgpLEgoKSxjbGVhckludGVydmFsKEwucGluZ1RpbWVyKX07TC5yZWpvaW49ZnVuY3Rpb24oKXtMLnNvY2tldCYmKGNsZWFySW50ZXJ2YWwoTC5waW5nVGltZXIpLEwuc29ja2V0LmNsb3NlKCksTC5zb2NrZXQ9dm9pZCAwKSxMLnN0YXRlPV8sRigpfTt2YXIgRj1mdW5jdGlvbihlLHQpe0wuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInJlam9pbi1zdGFydFwifSkpLGU9ZXx8ZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVzZXIgXCIpLmNvbmNhdChlLFwiIGlzIHJlLWpvaW5lZCB0byBcIikuY29uY2F0KEwuam9pbkluZm8uY25hbWUpKSxMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJyZWpvaW5cIn0pKSxMLmNoYW5uZWxNZWRpYUNvbmZpZyYmTC5zdGFydENoYW5uZWxNZWRpYVJlbGF5KEwuY2hhbm5lbE1lZGlhQ29uZmlnKS50aGVuKChmdW5jdGlvbigpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmVzdGFydENoYW5uZWxNZWRpYVJlbGF5IHN1Y2Nlc3NcIikpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJlc3RhcnRDaGFubmVsTWVkaWFSZWxheSBmYWlsZWQ6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKX0pKSxMLmxpdmVTdHJlYW1zJiZMLmxpdmVTdHJlYW1zLnNpemUmJkwubGl2ZVN0cmVhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtlJiZMLnNldExpdmVUcmFuc2NvZGluZyhMLnRyYW5zY29kaW5nKSxMLnN0YXJ0TGl2ZVN0cmVhbWluZyh0LGUpfSkpLEwuaW5qZWN0TGl2ZVN0cmVhbXMmJkwuaW5qZWN0TGl2ZVN0cmVhbXMuc2l6ZSYmTC5pbmplY3RMaXZlU3RyZWFtcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe0wuYWRkSW5qZWN0U3RyZWFtVXJsKHQsZSl9KSl9LHQ9dHx8ZnVuY3Rpb24oZSl7di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZS1qb2luIHRvIGNoYW5uZWwgZmFpbGVkIFwiKSxlKSxMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZSkoe3R5cGU6XCJlcnJvclwiLHJlYXNvbjplfSkpfSxMLmtleT8oKytMLnJlam9pbkF0dGVtcHQsTC5qb2luKEwuam9pbkluZm8sTC5rZXksZSx0KSk6di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDb25uZWN0aW9uIHJlY292ZXIgZmFpbGVkIFtJbnZhbGlkIGNoYW5uZWwga2V5XVwiKSl9LFc9ZnVuY3Rpb24oZSx0LG4pe2lmKEwub25Db25uZWN0PXQsTC5zb2NrZXQpe2lmKEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInJlY29ubmVjdFwifSksXCJyZXRyeVwiPT09TC5yZWNvbm5lY3RNb2RlKXYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmV0cnkgY3VycmVudCBnYXRld2F5XCIpKSxMLnNvY2tldC5yZWNvbm5lY3QoKTtlbHNlIGlmKFwidHJ5TmV4dFwiPT09TC5yZWNvbm5lY3RNb2RlKXYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVHJ5IG5leHQgZ2F0ZXdheVwiKSksTC5zb2NrZXQuY29ubmVjdE5leHQoKTtlbHNlIGlmKFwicmVjb3ZlclwiPT09TC5yZWNvbm5lY3RNb2RlKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlY292ZXIgZ2F0ZXdheVwiKSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBUcnkgdG8gcmVjb25uZWN0IGNob29zZSBzZXJ2ZXIgYW5kIGdldCBnYXRld2F5IGxpc3QgYWdhaW4gXCIpKSxMLnJlY29ubmVjdGluZ0NTPSEwO3ZhciBpPUwuam9pbkluZm8mJkwuam9pbkluZm8uc2lkOzAsT2JqZWN0KEEuZ2V0R2F0ZXdheUxpc3QpKEwuam9pbkluZm8sKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc2Vzc2lvbjogIFwiKS5jb25jYXQoaSxcIiBnZXQgZ2F0ZXdheSBsaXN0IHN1Y2Nlc3NcIikpLEwuam9pbkluZm8uYXBSZXNwb25zZT1lLnJlcyxMLnJlY29ubmVjdGluZ0NTP0wuc29ja2V0LnJlcGxhY2VIb3N0KGUuZ2F0ZXdheV9hZGRyKTp2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHNlc3Npb246ICBcIikuY29uY2F0KGksXCIgYWxyZWFkeSBsZWF2ZVwiKSl9KSl9fWVsc2Ugbz1lLmdhdGV3YXlBZGRyLEwuc29ja2V0PVQobyx7c2lkOkwuam9pbkluZm8uc2lkLGNsaWVudElkOkwuY2xpZW50SWQscHJveHlTZXJ2ZXJUeXBlOkwuam9pbkluZm8ucHJveHlTZXJ2ZXJUeXBlfSksTC5zb2NrZXQub24oXCJzdGFydC1jb25uZWN0aW9uXCIsKGZ1bmN0aW9uKGUpe0wudGlja2V0PWUmJmUubXNnJiZlLm1zZy50aWNrZXR9KSksTC5zb2NrZXQub24oXCJvbl91cGxpbmtfc3RhdHNcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpdFtNKG4pXT1lW25dO2lmKEwuT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGg9dC51cGxpbmtfYXZhaWxhYmxlX2JhbmR3aWR0aCxMLmxvY2FsU3RyZWFtc1tMLnVpZF0pe3ZhciByPUwubG9jYWxTdHJlYW1zW0wudWlkXS51cGxpbmtTdGF0cztyJiZyLnBlcmlvZF9maXI9PT10LnBlcmlvZF9maXJ8fHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl06IFBlcmlvZCBmaXIgY2hhbmdlIHRvOiBcIikuY29uY2F0KHQucGVyaW9kX2ZpcikpLEwubG9jYWxTdHJlYW1zW0wudWlkXS51cGxpbmtTdGF0cz10fX0pKSxMLnNvY2tldC5vbihcImNvbm5lY3RcIiwoZnVuY3Rpb24oKXtMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjb25uZWN0ZWRcIn0pLEwuYXR0ZW1wcz0xLEwub25Db25uZWN0KCl9KSksTC5zb2NrZXQub24oXCJyZWNvdmVyXCIsKGZ1bmN0aW9uKCl7TC5zdGF0ZT1fLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVHJ5IHRvIHJlY29ubmVjdCBjaG9vc2Ugc2VydmVyIGFuZCBnZXQgZ2F0ZXdheSBsaXN0IGFnYWluIFwiKSksTC5yZWNvbm5lY3RpbmdDUz0hMDt2YXIgZT1MLmpvaW5JbmZvJiZMLmpvaW5JbmZvLnNpZDtPYmplY3QoQS5nZXRHYXRld2F5TGlzdCkoTC5qb2luSW5mbywoZnVuY3Rpb24odCl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzZXNzaW9uOiAgXCIpLmNvbmNhdChlLFwiIGdldCBnYXRld2F5IGxpc3Qgc3VjY2Vzc1wiKSksTC5yZWNvbm5lY3RpbmdDUz9MLnNvY2tldC5yZXBsYWNlSG9zdCh0LmdhdGV3YXlfYWRkcik6di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzZXNzaW9uOiAgXCIpLmNvbmNhdChlLFwiIGFscmVhZHkgbGVhdmVcIikpfSkpfSkpLEwuc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLChmdW5jdGlvbihlKXtpZih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlY2VpdmUgZGlzY29ubmVjdCBtZXNzYWdlXCIpKSxMLnN0YXRlIT09Zil7TC5zdGF0ZT1mLEwuX3JlcG9ydFdlYnNvY2tldENsb3NlRXZlbnQoLTEsYi5XRUJTT0NLRVRfQ0xPU0VfUkVBU09OLldTX0RJU0NPTk5FQ1QpO3ZhciB0PU9iamVjdChtLmUpKHt0eXBlOlwiZXJyb3JcIixyZWFzb246Yi5kZWZhdWx0LlNPQ0tFVF9ESVNDT05ORUNURUR9KTtpZihMLmRpc3BhdGNoRXZlbnQodCksMD09PUwucDJwcy5zaXplP0wucmVjb25uZWN0TW9kZT1cInRyeU5leHRcIjpMLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLEIoKSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlciYmTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuZGlzcG9zZSgpLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyPW51bGwsMSE9cil7dmFyIG4saT0obj1MLmF0dGVtcHMsMWUzKk1hdGgubWluKDMwLE1hdGgucG93KDIsbiktMSkpO2lmKHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gRGlzY29ubmVjdCBmcm9tIHNlcnZlciBbXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSxcIl0sIGF0dGVtcHQgdG8gcmVjb3ZlciBbI1wiKS5jb25jYXQoTC5hdHRlbXBzLFwiXSBhZnRlciBcIikuY29uY2F0KGkvMWUzLFwiIHNlY29uZHNcIikpLEwuaGFzSW52b2tlTGVhdmUpcmV0dXJuIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gTm8gcmVjb25uZWN0aW9uIGJlY2F1c2UgQ2xpZW50LmxlYXZlIGhhcyBiZWVuIGludm9rZWRcIikpLHZvaWQoTC5oYXNJbnZva2VMZWF2ZT0hMSk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtMLmF0dGVtcHMrKyxMLnN0YXRlPV8sTC5pbkNoYW5uZWxJbmZvJiZEYXRlLm5vdygpLUwuaW5DaGFubmVsSW5mby5qb2luQXQ+T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRJQ0tFVF9SRU5FV19USU1FT1VUXCIpPyh2LmRlZmF1bHQuZGVidWcoXCJSZWNvdmVyaW5nIHRvIHJlbmV3IHRpY2tldFwiKSxqKCkpOkYoKX0pLGkpfWVsc2V7dmFyIG89Vi51bnJlZ2lzdGVyKEwpO28mJnYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gXCIpLG8pfX19KSksTC5zb2NrZXQub24oXCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsKGZ1bmN0aW9uKGUpe2lmKHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBOZXdseSBhZGRlZCBhdWRpbyBzdHJlYW0gd2l0aCB1aWQgXCIpLmNvbmNhdChlLnVpZCkpLEwuam9pbkluZm8uc3RyaW5nVWlkJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJnYuZGVmYXVsdC5lcnJvcihcIlN0cmluZ1VJRCBpcyBNaXhlZCB3aXRoIFVpbnRVSURcIiksTC5yZW1vdGVTdHJlYW1zSW5DaGFubmVsLmhhcyhlLnVpZCl8fEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5hZGQoZS51aWQpLHZvaWQgMD09PUwucmVtb3RlU3RyZWFtc1tlLnVpZF0pe3ZhciB0PU9iamVjdChnLmEpKHtzdHJlYW1JRDplLnVpZCxsb2NhbDohMSxhdWRpbzplLmF1ZGlvLHZpZGVvOmUudmlkZW8sdWludFVJRDplLnVpbnRfaWR8fGUudWlkfSk7dC5wZWVyTXV0ZVZpZGVvPSEwLEwucmVtb3RlU3RyZWFtc1tlLnVpZF09dDt2YXIgbj1PYmplY3QobS5lKSh7dHlwZTpcInN0cmVhbS1hZGRlZFwiLHN0cmVhbTp0fSk7TC5kaXNwYXRjaEV2ZW50KG4pO3ZhciByPUwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXTtpZihyJiZyLmF1ZGlvKXtuPU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS1hdWRpb1wiLHVpZDplLnVpZH0pO0wuZGlzcGF0Y2hFdmVudChuKX1pZihyJiZyLnZpZGVvKXtuPU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS12aWRlb1wiLHVpZDplLnVpZH0pO0wuZGlzcGF0Y2hFdmVudChuKX19RS5yZXBvcnQub25BZGRBdWRpb1N0cmVhbShMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludF9pZHx8ZS51aWQsdWlkOkwudWlkfSl9KSksTC5zb2NrZXQub24oXCJvbl91cGRhdGVfc3RyZWFtXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBvbl91cGRhdGVfc3RyZWFtOlwiKSxlKTt2YXIgdD1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO2lmKEwuam9pbkluZm8uc3RyaW5nVWlkJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJnYuZGVmYXVsdC5lcnJvcihcIlN0cmluZ1VJRCBpcyBNaXhlZCB3aXRoIFVpbnRVSURcIiksdCl7dC5hdWRpbz1lLmF1ZGlvLHQudmlkZW89ZS52aWRlbyx0LnNjcmVlbj1lLnNjcmVlbix0LnBjJiZMLl9hZGp1c3RQQ011dGVTdGF0dXModCk7dmFyIG49T2JqZWN0KG0uZSkoe3R5cGU6XCJzdHJlYW0tdXBkYXRlZFwiLHN0cmVhbTp0fSk7TC5kaXNwYXRjaEV2ZW50KG4pfWVsc2Ugdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJZ25vcmluZyBvblVwZGF0ZVN0cmVhbSBldmVudCBiZWZvcmUgb25BZGRTdHJlYW0gZm9yIHVpZCBcIikuY29uY2F0KGUudWlkKSk7RS5yZXBvcnQub25VcGRhdGVTdHJlYW0oTC5qb2luSW5mby5zaWQse3BlZXJpZDplLnVpbnRfaWR8fGUudWlkLGF1ZGlvOmUuYXVkaW8sdmlkZW86ZS52aWRlbyx1aWQ6TC51aWR9KX0pKSxMLnNvY2tldC5vbihcIm9uX2FkZF92aWRlb19zdHJlYW1cIiwoZnVuY3Rpb24oZSl7aWYodi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIE5ld2x5IGFkZGVkIHJlbW90ZSBzdHJlYW0gd2l0aCB1aWQgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpLEwuam9pbkluZm8uc3RyaW5nVWlkJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJnYuZGVmYXVsdC5lcnJvcihcIlN0cmluZ1VJRCBpcyBNaXhlZCB3aXRoIFVpbnRVSURcIiksTC5yZW1vdGVTdHJlYW1zSW5DaGFubmVsLmhhcyhlLnVpZCl8fEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5hZGQoZS51aWQpLHZvaWQgMD09PUwucmVtb3RlU3RyZWFtc1tlLnVpZF0pe3ZhciB0PU9iamVjdChnLmEpKHtzdHJlYW1JRDplLnVpZCxsb2NhbDohMSxhdWRpbzplLmF1ZGlvLHZpZGVvOmUudmlkZW8sdWludFVJRDplLnVpbnRfaWR8fGUudWlkfSk7TC5yZW1vdGVTdHJlYW1zW2UudWlkXT10O3ZhciBuPU9iamVjdChtLmUpKHt0eXBlOlwic3RyZWFtLWFkZGVkXCIsc3RyZWFtOnR9KTtMLmRpc3BhdGNoRXZlbnQobik7dmFyIHI9TC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdO2lmKHImJnIuYXVkaW8pe249T2JqZWN0KG0uYSkoe3R5cGU6XCJtdXRlLWF1ZGlvXCIsdWlkOmUudWlkfSk7TC5kaXNwYXRjaEV2ZW50KG4pfWlmKHImJnIudmlkZW8pe249T2JqZWN0KG0uYSkoe3R5cGU6XCJtdXRlLXZpZGVvXCIsdWlkOmUudWlkfSk7TC5kaXNwYXRjaEV2ZW50KG4pfX1lbHNle3ZhciBpPUwucmVtb3RlU3RyZWFtc1tlLnVpZF07aWYoaS52aWRlbz0hMCxpLnBlZXJNdXRlVmlkZW89ITEsaS5wYyYmTC5fYWRqdXN0UENNdXRlU3RhdHVzKGkpLHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTdHJlYW0gY2hhbmdlZDogZW5hYmxlIHZpZGVvIFwiKS5jb25jYXQoZS51aWQpKSx2b2lkIDAhPT1pLnN0cmVhbSYmaS5pc1BsYXlpbmcoKSl7dmFyIG89aS5wbGF5ZXIuZWxlbWVudElEO2kuc3RvcCgpLGkucGxheShvLGkucGxheU9wdGlvbnMpfX1FLnJlcG9ydC5vbkFkZFZpZGVvU3RyZWFtKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50X2lkfHxlLnVpZCx1aWQ6TC51aWR9KX0pKSxMLnNvY2tldC5vbihcIm9uX3JlbW92ZV9zdHJlYW1cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIG9uX3JlbW92ZV9zdHJlYW06XCIpLGUpLEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5oYXMoZS51aWQpJiZMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuZGVsZXRlKGUudWlkKTt2YXIgdD1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO2lmKHQpe2RlbGV0ZSBMLnJlbW90ZVN0cmVhbXNbZS51aWRdLGRlbGV0ZSBMLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF07dmFyIG49T2JqZWN0KG0uZSkoe3R5cGU6XCJzdHJlYW0tcmVtb3ZlZFwiLHN0cmVhbTp0fSk7TC5kaXNwYXRjaEV2ZW50KG4pLHQuY2xvc2UoKSx2b2lkIDAhPT10LnBjJiYodC5wYy5jbG9zZSgpLHQucGM9dm9pZCAwLEwucDJwcy5kZWxldGUodC5wMnBJZCkpLEUucmVwb3J0Lm9uUmVtb3ZlU3RyZWFtKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50X2lkfHxlLnVpZCx1aWQ6TC51aWR9KX1lbHNlIHYuZGVmYXVsdC5lcnJvcihcIkVSUk9SIHN0cmVhbSBcIixlLnVpZCxcIiBub3QgZm91bmQgb25SZW1vdmVTdHJlYW0gXCIsZSl9KSksTC5zb2NrZXQub24oXCJvbl9wdWJsaXNoX3N0cmVhbVwiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gb25fcHVibGlzaF9zdHJlYW06XCIpLGUpO3ZhciB0PUwubG9jYWxTdHJlYW1zW2UudWlkXTtMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW1QdWJsaXNoZWRcIixzdHJlYW06dCxwcm94eTplLnByb3h5fSksRS5yZXBvcnQucmVwb3J0QXBpSW52b2tlKEwuam9pbkluZm8uc2lkLHtuYW1lOlwib25fcHVibGlzaF9zdHJlYW1cIixvcHRpb25zOntwcm94eTplLnByb3h5fX0pKCl9KSksTC5zb2NrZXQub24oXCJtdXRlX2F1ZGlvXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSByY3YgcGVlciBtdXRlIGF1ZGlvOiBcIikuY29uY2F0KGUudWlkKSksTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdPUwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXXx8e2F1ZGlvOiExLHZpZGVvOiExfSxMLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF0uYXVkaW89ITA7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJtdXRlLWF1ZGlvXCIsdWlkOmUudWlkfSksbj1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO24/KG4ucGVlck11dGVBdWRpbz0hMCxuLnBjJiZMLl9hZGp1c3RQQ011dGVTdGF0dXMobiksTC5kaXNwYXRjaEV2ZW50KHQpKTp2LmRlZmF1bHQuZGVidWcoXCJJZ25vcmluZyBldmVudCBcIi5jb25jYXQoZS50eXBlKSxlKX0pKSxMLnNvY2tldC5vbihcInVubXV0ZV9hdWRpb1wiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmN2IHBlZXIgdW5tdXRlIGF1ZGlvOiBcIikuY29uY2F0KGUudWlkKSksTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdPUwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXXx8e2F1ZGlvOiExLHZpZGVvOiExfSxMLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF0uYXVkaW89ITE7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJ1bm11dGUtYXVkaW9cIix1aWQ6ZS51aWR9KSxuPUwucmVtb3RlU3RyZWFtc1tlLnVpZF07bj8obi5wZWVyTXV0ZUF1ZGlvPSExLG4ucGMmJkwuX2FkanVzdFBDTXV0ZVN0YXR1cyhuKSxMLmRpc3BhdGNoRXZlbnQodCkpOnYuZGVmYXVsdC5kZWJ1ZyhcIklnbm9yaW5nIGV2ZW50IFwiLmNvbmNhdChlLnR5cGUpLGUpfSkpLEwuc29ja2V0Lm9uKFwibXV0ZV92aWRlb1wiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmN2IHBlZXIgbXV0ZSB2aWRlbzogXCIpLmNvbmNhdChlLnVpZCkpLEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXT1MLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF18fHthdWRpbzohMSx2aWRlbzohMX0sTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdLnZpZGVvPSEwO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS12aWRlb1wiLHVpZDplLnVpZH0pLG49TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtuPyhuLnBlZXJNdXRlVmlkZW89ITAsbi5wbGF5ZXImJihuLnBsYXllci5wZWVyVmlkZW9SZWFkeT0hMSksbi5wYyYmTC5fYWRqdXN0UENNdXRlU3RhdHVzKG4pLEwuZGlzcGF0Y2hFdmVudCh0KSk6di5kZWZhdWx0LmRlYnVnKFwiSWdub3JpbmcgZXZlbnQgXCIuY29uY2F0KGUudHlwZSksZSl9KSksTC5zb2NrZXQub24oXCJ1bm11dGVfdmlkZW9cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJjdiBwZWVyIHVubXV0ZSB2aWRlbzogXCIpLmNvbmNhdChlLnVpZCkpLEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXT1MLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF18fHthdWRpbzohMSx2aWRlbzohMX0sTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdLnZpZGVvPSExO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwidW5tdXRlLXZpZGVvXCIsdWlkOmUudWlkfSksbj1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO24/KG4ucGVlck11dGVWaWRlbz0hMSxuLnBjJiZMLl9hZGp1c3RQQ011dGVTdGF0dXMobiksTC5kaXNwYXRjaEV2ZW50KHQpKTp2LmRlZmF1bHQuZGVidWcoXCJJZ25vcmluZyBldmVudCBcIi5jb25jYXQoZS50eXBlKSxlKX0pKSxMLnNvY2tldC5vbihcIm9uX2NyeXB0X2Vycm9yXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdHJlYW0gY3J5cHQgZXJyb3JcIikpO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwiY3J5cHQtZXJyb3JcIixjcnlwdFR5cGU6ZS5jcnlwdF90eXBlfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwib25fdXNlcl9iYW5uZWRcIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHVzZXIgYmFubmVkIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvcjogXCIpLmNvbmNhdChlLmVycm9yX2NvZGUpKTt2YXIgdD1PYmplY3QobS5hKSh7dHlwZTpcImNsaWVudC1iYW5uZWRcIix1aWQ6ZS51aWQsYXR0cjplLmVycm9yX2NvZGV9KTtMLmRpc3BhdGNoRXZlbnQodCkscj0hMH0pKSxMLnNvY2tldC5vbihcIm9uX3N0cmVhbV9mYWxsYmFja191cGRhdGVcIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHN0cmVhbSBmYWxsYmFjayBwZWVySWQ6IFwiKS5jb25jYXQoZS5zdHJlYW1faWQsXCIgdHlwZTogXCIpLmNvbmNhdChlLnN0cmVhbV90eXBlKSk7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJzdHJlYW0tZmFsbGJhY2tcIix1aWQ6ZS5zdHJlYW1faWQsc3RyZWFtOmUuc3RyZWFtX2lkLGF0dHI6ZS5zdHJlYW1fdHlwZX0pO0wuZGlzcGF0Y2hFdmVudCh0KX0pKSxMLnNvY2tldC5vbihcInN0cmVhbV9yZWNvdmVyXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdHJlYW0gcmVjb3ZlciB1aWQ6IFwiKS5jb25jYXQoZS5pZCxcIiBwZWVySWQ6IFwiKS5jb25jYXQoZS5wZWVyaWQsXCIgdHlwZTogXCIpLmNvbmNhdChlLnR5cGUpKTt2YXIgdD1PYmplY3QobS5hKSh7dHlwZTpcInN0cmVhbS1yZWNvdmVyXCIsdWlkOmUuaWQsc3RyZWFtOmUucGVlcmlkLGF0dHI6ZS50eXBlfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwib25fcDJwX2xvc3RcIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBwMnBsb3N0OiBcIiksZSxcInAycHM6XCIsTC5wMnBzKTt2YXIgdCxuPVwiRFRMUyBmYWlsZWRcIjsodD1MLmxvY2FsU3RyZWFtc1tlLnVpZF18fEwucmVtb3RlU3RyZWFtc1tlLnVpZF0pPyh0LnBjJiZ0LnBjLm9mZmVyQ2FuZGlkYXRlcyYmMD09PXQucGMub2ZmZXJDYW5kaWRhdGVzLmxlbmd0aCYmKG49XCJOT19DQU5ESURBVEVTX0lOX09GRkVSXCIpLFwicHVibGlzaFwiPT09ZS5ldmVudCYmRS5yZXBvcnQucHVibGlzaChMLmpvaW5JbmZvLnNpZCx7bHRzOnQucHVibGlzaExUUyxzdWNjOiExLGF1ZGlvOnQuaGFzQXVkaW8oKSx2aWRlbzp0Lmhhc1ZpZGVvKCksc2NyZWVuc2hhcmU6dC5oYXNTY3JlZW4oKSxhdWRpb05hbWU6dC5oYXNBdWRpbygpJiZ0LmF1ZGlvTmFtZSx2aWRlb05hbWU6dC5oYXNWaWRlbygpJiZ0LnZpZGVvTmFtZSxzY3JlZW5OYW1lOnQuaGFzU2NyZWVuKCkmJnQuc2NyZWVuTmFtZSxlYzpuLHB1Ymxpc2hSZXF1ZXN0aWQ6TC5wdWJsaXNoUmVxdWVzdElkfHwwLHAycGlkOkwucDJwcy5nZXQodC5nZXRJZCgpKX0pLFwic3Vic2NyaWJlXCI9PT1lLmV2ZW50JiZFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czp0LnN1YnNjcmliZUxUUyxzdWNjOiExLHZpZGVvOnQuc3Vic2NyaWJlT3B0aW9ucyYmdC5zdWJzY3JpYmVPcHRpb25zLnZpZGVvLGF1ZGlvOnQuc3Vic2NyaWJlT3B0aW9ucyYmdC5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHBlZXJpZDplLnVpZCtcIlwiLGVjOm4sc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldCh0LmdldElkKCkpfHwwLHAycGlkOkwucDJwcy5nZXQodC5nZXRJZCgpKX0pKTp2LmRlZmF1bHQud2FybmluZyhcIlAyUExvc3QgU3RyZWFtIE5vdCBmb3VuZFwiLGUpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcDJwbG9zdDpcIiksZS5wMnBpZCksKHQ9TC5wMnBzLmdldChlLnAycGlkKSkmJihMLnAycHMuZGVsZXRlKGUucDJwaWQpLHQubG9jYWw/TC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwicHViUDJQTG9zdFwiLHN0cmVhbTp0LGF0dHI6bn0pKTpMLnJlbW90ZVN0cmVhbXNbdC5nZXRJZCgpXSYmTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwic3ViUDJQTG9zdFwiLHN0cmVhbTp0LGF0dHI6bn0pKSl9KSksTC5zb2NrZXQub24oXCJvbl90b2tlbl9wcml2aWxlZ2Vfd2lsbF9leHBpcmVcIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZWNlaXZlZCBNZXNzYWdlIG9uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlXCIpKSxMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZVwifSkpfSkpLEwuc29ja2V0Lm9uKFwib25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIiwoZnVuY3Rpb24oKXt2LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmVjZWl2ZWQgTWVzc2FnZSBvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlLCBwbGVhc2UgZ2V0IG5ldyB0b2tlbiBhbmQgam9pbiBhZ2FpblwiKSksTC5jbG9zZUdhdGV3YXkoKSxMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlXCJ9KSl9KSksTC5zb2NrZXQub24oXCJlbmFibGVfbG9jYWxfdmlkZW9cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIGVuYWJsZV9sb2NhbF92aWRlbzpcIiksZSksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwiZW5hYmxlLWxvY2FsLXZpZGVvXCIsdWlkOmUudWlkfSkpfSkpLEwuc29ja2V0Lm9uKFwiZGlzYWJsZV9sb2NhbF92aWRlb1wiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gZGlzYWJsZV9sb2NhbF92aWRlbzpcIiksZSksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwiZGlzYWJsZS1sb2NhbC12aWRlb1wiLHVpZDplLnVpZH0pKX0pKSxMLl9kb1dpdGhBY3Rpb249ZnVuY3Rpb24oZSx0LG4pe1widHJ5TmV4dFwiPT09ZT9mdW5jdGlvbihlLHQpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ29ubmVjdCBuZXh0IGdhdGV3YXlcIikpLEwuc3RhdGU9ZixMLnNvY2tldC5jbG9zZSgpLEIoKSxMLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCIsTC5zdGF0ZT1fLEYoZSx0KX0odCxuKTpcInJldHJ5XCI9PT1lP2Z1bmN0aW9uKGUsdCl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZWNvbm5lY3QgZ2F0ZXdheVwiKSksTC5zdGF0ZT1mLEwuc29ja2V0LmNsb3NlKCksQigpLEwucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsTC5zdGF0ZT1fLEYoZSx0KX0odCxuKTpcInF1aXRcIj09PWU/KHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcXVpdCBnYXRld2F5XCIpKSxMLnN0YXRlPWYsTC5zb2NrZXQuY2xvc2UoKSxCKCkpOlwicmVjb3ZlclwiPT09ZSYmaigpfSxMLnNvY2tldC5vbihcIm9uX25vdGlmaWNhdGlvblwiLChmdW5jdGlvbihlKXtpZih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSksXCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiPT09Yi5HYXRld2F5RXJyb3JDb2RlW2UuY29kZV0pcmV0dXJuIEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm9uTXVsdGlJUFwiLG9wdGlvbjplLm9wdGlvbn0pO2UuZGV0YWlsP0wuX2RvV2l0aEFjdGlvbihDW2IuR2F0ZXdheUVycm9yQ29kZVtlLmNvZGVdXSk6ZS5hY3Rpb24mJkwuX2RvV2l0aEFjdGlvbihlLmFjdGlvbil9KSksTC5zb2NrZXQub24oXCJvbl91c2VyX29mZmxpbmVcIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIG9uX3VzZXJfb2ZmbGluZTpcIiksZSk7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJwZWVyLWxlYXZlXCIsdWlkOmUudWlkfSk7aWYoTC5yZW1vdGVTdHJlYW1zSW5DaGFubmVsLmhhcyhlLnVpZCkmJkwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5kZWxldGUoZS51aWQpLEwucmVtb3RlU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShlLnVpZCkmJih0LnN0cmVhbT1MLnJlbW90ZVN0cmVhbXNbZS51aWRdKSx0LnJlYXNvbj1lLnJlYXNvbixMLmRpc3BhdGNoRXZlbnQodCksdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJlbW92ZSByZW1vdGVNdXRlU3RhdGUgXCIpLGUudWlkKSxkZWxldGUgTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdLEwucmVtb3RlU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShlLnVpZCkpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBjbG9zaW5nIHN0cmVhbSBvbiBwZWVyIGxlYXZlXCIpLGUudWlkKTt2YXIgbj1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO24uY2xvc2UoKSxkZWxldGUgTC5yZW1vdGVTdHJlYW1zW2UudWlkXSxFLnJlcG9ydC5vblJlbW92ZVN0cmVhbShMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludF9pZHx8ZS51aWQsdWlkOkwudWlkfSksdm9pZCAwIT09bi5wYyYmKG4ucGMuY2xvc2UoKSxuLnBjPXZvaWQgMCxMLnAycHMuZGVsZXRlKG4ucDJwSWQpKX1MLnRpbWVycy5oYXNPd25Qcm9wZXJ0eShlLnVpZCkmJihjbGVhckludGVydmFsKEwudGltZXJzW2UudWlkXSksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLnVpZF0rXCJfUmVsYXRlZFN0YXRzXCIpLGRlbGV0ZSBMLnRpbWVyc1tlLnVpZF0pLG51bGwhPUwuYXVkaW9MZXZlbFtlLnVpZF0mJmRlbGV0ZSBMLmF1ZGlvTGV2ZWxbZS51aWRdLG51bGwhPUwudGltZXJfY291bnRlcltlLnVpZF0mJmRlbGV0ZSBMLnRpbWVyX2NvdW50ZXJbZS51aWRdfSkpLEwuc29ja2V0Lm9uKFwib25VcGxpbmtTdGF0c1wiLChmdW5jdGlvbihlKXt9KSksTC5zb2NrZXQub24oXCJsaXZlU3RyZWFtaW5nU3RhcnRlZFwiLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5jKSh7dHlwZTpcImxpdmVTdHJlYW1pbmdTdGFydGVkXCIsdXJsOmUudXJsfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwibGl2ZVN0cmVhbWluZ0ZhaWxlZFwiLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5jKSh7dHlwZTpcImxpdmVTdHJlYW1pbmdGYWlsZWRcIix1cmw6ZS51cmx9KTtMLmRpc3BhdGNoRXZlbnQodCl9KSksTC5zb2NrZXQub24oXCJsaXZlU3RyZWFtaW5nU3RvcHBlZFwiLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5jKSh7dHlwZTpcImxpdmVTdHJlYW1pbmdTdG9wcGVkXCIsdXJsOmUudXJsfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwibGl2ZVRyYW5zY29kaW5nVXBkYXRlZFwiLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5jKSh7dHlwZTpcImxpdmVUcmFuc2NvZGluZ1VwZGF0ZWRcIixyZWFzb246ZS5yZWFzb259KTtMLmRpc3BhdGNoRXZlbnQodCl9KSksTC5zb2NrZXQub24oXCJzdHJlYW1JbmplY3RlZFN0YXR1c1wiLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5jKSh7dHlwZTpcInN0cmVhbUluamVjdGVkU3RhdHVzXCIsdXJsOmUudXJsLHVpZDplLnVpZCxzdGF0dXM6ZS5zdGF0dXN9KTtMLmRpc3BhdGNoRXZlbnQodCl9KSksTC5zb2NrZXQub24oXCJvbl91c2VyX29ubGluZVwiLChmdW5jdGlvbihlKXtMLmpvaW5JbmZvLnN0cmluZ1VpZCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZ2LmRlZmF1bHQuZXJyb3IoXCJTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInBlZXItb25saW5lXCIsdWlkOmUudWlkfSl9KSksTC5zb2NrZXQub24oXCJyZWNlaXZlX21ldGFkYXRhXCIsKGZ1bmN0aW9uKGUpe0wuam9pbkluZm8uc3RyaW5nVWlkJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJnYuZGVmYXVsdC5lcnJvcihcIlN0cmluZ1VJRCBpcyBNaXhlZCB3aXRoIFVpbnRVSURcIik7dmFyIHQ9ZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZSh3aW5kb3cuYXRvYihlLm1ldGFkYXRhKSkpO3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmVjZWl2ZWQgXCIpLmNvbmNhdChlLnVpZCxcIiBtZXRhZGF0YTogXCIpLmNvbmNhdCh0KSksTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwicmVjZWl2ZS1tZXRhZGF0YVwiLHVpZDplLnVpZCxtZXRhZGF0YTp0fSl9KSk7dmFyIG99LEc9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1MLnNvY2tldCl0cnl7TC5zb2NrZXQuZW1pdFNpbXBsZU1lc3NhZ2UoZSwoZnVuY3Rpb24oZSxuKXt0JiZ0KGUsbil9KSl9Y2F0Y2goZSl7di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBFcnJvciBpbiBzZW5kU2ltcGxlU2RwIFtcIikuY29uY2F0KGUsXCJdXCIpKX1lbHNlIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gRXJyb3IgaW4gc2VuZFNpbXBsZVNkcCBbc29ja2V0IG5vdCByZWFkeV1cIikpfSxIPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIEwubG9jYWxTdHJlYW1zKWlmKHZvaWQgMCE9PUwubG9jYWxTdHJlYW1zW2VdKXt2YXIgdD1MLmxvY2FsU3RyZWFtc1tlXTtkZWxldGUgTC5sb2NhbFN0cmVhbXNbZV0sdm9pZCAwIT09dC5wYyYmKHQucGMuY2xvc2UoKSx0LnBjPXZvaWQgMCl9fSxxPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5jbGVhcigpLEwucmVtb3RlU3RyZWFtcylpZihMLnJlbW90ZVN0cmVhbXMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PUwucmVtb3RlU3RyZWFtc1tlXTt0LmlzUGxheWluZygpJiZ0LnN0b3AoKSx0LmNsb3NlKCksZGVsZXRlIEwucmVtb3RlU3RyZWFtc1tlXSx2b2lkIDAhPT10LnBjJiYodC5wYy5jbG9zZSgpLHQucGM9dm9pZCAwKX19O3JldHVybiBMfSxWPXtfZ2F0ZXdheUNsaWVudHM6e30scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXtpZighdC51aWQpe3ZhciBuPVwiTk9fVUlEX1BST1ZJREVEXCI7cmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLG4sdCksbn1pZih0LmNuYW1lKXtpZih0aGlzLl9nYXRld2F5Q2xpZW50c1t0LmNuYW1lXSYmdGhpcy5fZ2F0ZXdheUNsaWVudHNbdC5jbmFtZV1bdC51aWRdJiZ0aGlzLl9nYXRld2F5Q2xpZW50c1t0LmNuYW1lXVt0LnVpZF0hPT1lKXtuPVwiVUlEX0NPTkZMSUNUXCI7cmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLG4sdCksbn1yZXR1cm4gdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSByZWdpc3RlciBjbGllbnQgQ2hhbm5lbFwiKSx0LmNuYW1lLFwiVWlkXCIsdC51aWQpLHRoaXMuX2dhdGV3YXlDbGllbnRzW3QuY25hbWVdfHwodGhpcy5fZ2F0ZXdheUNsaWVudHNbdC5jbmFtZV09e30pLHRoaXMuX2dhdGV3YXlDbGllbnRzW3QuY25hbWVdW3QudWlkXT1lLG51bGx9dmFyIG49XCJOT19DSEFOTkVMX1BST1ZJREVEXCI7cmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLG4sdCksbn0sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXt2YXIgdD1lJiZlLnVpZCxuPWUuam9pbkluZm8mJmUuam9pbkluZm8uY25hbWU7aWYoIXR8fCFuKXt2YXIgcj1cIklOVkFMSURfR0FURVdBWUNMSUVOVFwiO3JldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFwiKSxyKSxyfWlmKHRoaXMuX2dhdGV3YXlDbGllbnRzW25dJiZ0aGlzLl9nYXRld2F5Q2xpZW50c1tuXVt0XSl7aWYodGhpcy5fZ2F0ZXdheUNsaWVudHNbbl1bdF0hPT1lKXtyPVwiR0FURVdBWUNMSUVOVF9VSURfQ09ORkxJQ1RcIjtyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBcIikscikscn1yZXR1cm4gdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSB1bnJlZ2lzdGVyIGNsaWVudCBcIiksZS51aWQpLGRlbGV0ZSB0aGlzLl9nYXRld2F5Q2xpZW50c1tuXVt0XSxudWxsfXZhciByPVwiR0FURVdFQVlfQ0xJRU5UX1VOUkVHSVNURVJFRFwiO3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLHIpfX07ai5ESVNDT05ORUNURUQ9MCxqLkNPTk5FQ1RJTkc9MSxqLkNPTk5FQ1RFRD0yLGouRElTQ09OTkVDVElORz0zLGouY29ubmV0aW9uU3RhdGVNYXA9ezA6XCJESVNDT05ORUNURURcIiwxOlwiQ09OTkVDVElOR1wiLDI6XCJDT05ORUNURURcIiwzOlwiRElTQ09OTkVDVElOR1wifTtuLmE9an0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcInBvc3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCxcInBvc3RGb3JtRGF0YVwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LFwic2hvdWxkVXNlSHR0cHNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCxcImdldEhUVFBTZW5kQnl0ZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCxcImdldEhUVFBSZWN2Qnl0ZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCxcInJlc2V0SFRUUEJ5ZXRzQ291bnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcj1uKDIpLGk9bigxMCksbz0wLGE9MCxzPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGM9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZD1mdW5jdGlvbigpe289MCxhPTB9LHU9ZnVuY3Rpb24oZSx0LG4scyxjKXt2YXIgZD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoZC50aW1lb3V0PXQudGltZW91dHx8T2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkhUVFBfQ09OTkVDVF9USU1FT1VUXCIpLGQub3BlbihcIlBPU1RcIixlLCEwKSxjKWZvcih2YXIgdSBpbiBjKVwid2l0aENyZWRlbnRpYWxzXCI9PXU/ZC53aXRoQ3JlZGVudGlhbHM9ITA6ZC5zZXRSZXF1ZXN0SGVhZGVyKHUsY1t1XSk7ZC5vbmxvYWQ9ZnVuY3Rpb24odCl7YSs9T2JqZWN0KGkubGVuZ3RoSW5VdGY4Qnl0ZXMpKGQucmVzcG9uc2VUZXh0KSwyMDAhPT1kLnN0YXR1cz9zJiZzKHtodHRwRXJyb3JDb2RlOlwiaHR0cGNvZGUteGhyLnN0YXR1c1wifSxlKTpuJiZuKGQucmVzcG9uc2VUZXh0KX0sZC5vbmVycm9yPWZ1bmN0aW9uKHQpe3MmJnModCxlKX0sZC5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7cyYmcyh0LGUpfTt2YXIgbD1KU09OLnN0cmluZ2lmeSh0KTtvKz1PYmplY3QoaS5sZW5ndGhJblV0ZjhCeXRlcykobCk7dmFyIGY9bmV3IEZvcm1EYXRhO2YuYXBwZW5kKFwicmVxdWVzdFwiLGwpLGQuc2VuZChmKX0sbD1mdW5jdGlvbihlLHQsbixzLGMpe3ZhciBkPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihkLnRpbWVvdXQ9dC50aW1lb3V0fHxPYmplY3Qoci5nZXRQYXJhbWV0ZXIpKFwiSFRUUF9DT05ORUNUX1RJTUVPVVRcIiksZC5vcGVuKFwiUE9TVFwiLGUsITApLGQuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKSxjKWZvcih2YXIgdSBpbiBjKVwid2l0aENyZWRlbnRpYWxzXCI9PXU/ZC53aXRoQ3JlZGVudGlhbHM9ITA6ZC5zZXRSZXF1ZXN0SGVhZGVyKHUsY1t1XSk7ZC5vbmxvYWQ9ZnVuY3Rpb24odCl7YSs9T2JqZWN0KGkubGVuZ3RoSW5VdGY4Qnl0ZXMpKGQucmVzcG9uc2VUZXh0KSwyMDAhPT1kLnN0YXR1cz9zJiZzKHtodHRwRXJyb3JDb2RlOlwiaHR0cGNvZGUteGhyLnN0YXR1c1wifSxlKTpuJiZuKGQucmVzcG9uc2VUZXh0KX0sZC5vbmVycm9yPWZ1bmN0aW9uKHQpe3MmJnModCxlKX0sZC5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7cyYmcyh0LGUpfTt2YXIgbD1KU09OLnN0cmluZ2lmeSh0KTtvKz1PYmplY3QoaS5sZW5ndGhJblV0ZjhCeXRlcykobCksZC5zZW5kKGwpfSxmPWZ1bmN0aW9uKCl7cmV0dXJuXCJodHRwczpcIj09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiUlRDUGVlckNvbm5lY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQodCxcImdldFVzZXJNZWRpYVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LFwiYXR0YWNoTWVkaWFTdHJlYW1cIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCxcInJlYXR0YWNoTWVkaWFTdHJlYW1cIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCxcInNldFNyY09iamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LFwiZ2V0U3JjT2JqZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKHQsXCJ3ZWJydGNEZXRlY3RlZEJyb3dzZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCxcIndlYnJ0Y0RldGVjdGVkVmVyc2lvblwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LFwid2VicnRjTWluaW11bVZlcnNpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCxcIndlYnJ0Y1Rlc3RpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCxcIndlYnJ0Y1V0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDUpLGE9bnVsbCxzPW51bGwsYz1udWxsLGQ9bnVsbCx1PW51bGwsbD1udWxsLGY9bnVsbCxwPW51bGwsZz1udWxsLG09bnVsbCxoPXthZGRTdHJlYW06bnVsbH0sdj17bG9nOmZ1bmN0aW9uKCl7fSxleHRyYWN0VmVyc2lvbjpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5tYXRjaCh0KTtyZXR1cm4gciYmci5sZW5ndGg+PW4mJnBhcnNlSW50KHJbbl0pfX07aWYoXCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjppKCkod2luZG93KSk/KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50JiYhKFwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUpPyhwPWZ1bmN0aW9uKGUsdCl7XCJtb3pTcmNPYmplY3RcImluIGU/ZS5tb3pTcmNPYmplY3Q9dDooZS5fc3JjT2JqZWN0PXQsZS5zcmM9dD9VUkwuY3JlYXRlT2JqZWN0VVJMKHQpOm51bGwpfSxnPWZ1bmN0aW9uKGUpe3JldHVyblwibW96U3JjT2JqZWN0XCJpbiBlP2UubW96U3JjT2JqZWN0OmUuX3NyY09iamVjdH0pOihwPWZ1bmN0aW9uKGUsdCl7ZS5zcmNPYmplY3Q9dH0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcmNPYmplY3R9KSxhPXdpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKToocD1mdW5jdGlvbihlLHQpe2Uuc3JjT2JqZWN0PXR9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjT2JqZWN0fSkscz1mdW5jdGlvbihlLHQpe3AoZSx0KX0sYz1mdW5jdGlvbihlLHQpe3AoZSxnKHQpKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvcilpZihuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhJiZ3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24pe2Zvcih2YXIgRSBpbiB2LmxvZyhcIlRoaXMgYXBwZWFycyB0byBiZSBGaXJlZm94XCIpLGQ9XCJmaXJlZm94XCIsdT12LmV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8sMSksbD0zMSxtPW1velJUQ1BlZXJDb25uZWN0aW9uLGgpaFtFXT1tLnByb3RvdHlwZVtFXTtpZihmPWZ1bmN0aW9uKGUsdCl7aWYodTwzOCYmZSYmZS5pY2VTZXJ2ZXJzKXtmb3IodmFyIG49W10scj0wO3I8ZS5pY2VTZXJ2ZXJzLmxlbmd0aDtyKyspe3ZhciBpPWUuaWNlU2VydmVyc1tyXTtpZihpLmhhc093blByb3BlcnR5KFwidXJsc1wiKSlmb3IodmFyIG89MDtvPGkudXJscy5sZW5ndGg7bysrKXt2YXIgYT17dXJsOmkudXJsc1tvXX07MD09PWkudXJsc1tvXS5pbmRleE9mKFwidHVyblwiKSYmKGEudXNlcm5hbWU9aS51c2VybmFtZSxhLmNyZWRlbnRpYWw9aS5jcmVkZW50aWFsKSxuLnB1c2goYSl9ZWxzZSBuLnB1c2goZS5pY2VTZXJ2ZXJzW3JdKX1lLmljZVNlcnZlcnM9bn12YXIgcz1uZXcgbShlLHQpO2Zvcih2YXIgYyBpbiBoKXNbY109aFtjXTtyZXR1cm4gc30sd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbnx8KHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb249bW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSx3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlfHwod2luZG93LlJUQ0ljZUNhbmRpZGF0ZT1tb3pSVENJY2VDYW5kaWRhdGUpLGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPT1pKCkoZSl8fGUucmVxdWlyZSlyZXR1cm4gZTt2YXIgdD1bXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoXCJyZXF1aXJlXCIhPT1uJiZcImFkdmFuY2VkXCIhPT1uJiZcIm1lZGlhU291cmNlXCIhPT1uKXt2YXIgcj1lW25dPVwib2JqZWN0XCI9PT1pKCkoZVtuXSk/ZVtuXTp7aWRlYWw6ZVtuXX07aWYodm9pZCAwPT09ci5taW4mJnZvaWQgMD09PXIubWF4JiZ2b2lkIDA9PT1yLmV4YWN0fHx0LnB1c2gobiksdm9pZCAwIT09ci5leGFjdCYmKFwibnVtYmVyXCI9PXR5cGVvZiByLmV4YWN0P3IubWluPXIubWF4PXIuZXhhY3Q6ZVtuXT1yLmV4YWN0LGRlbGV0ZSByLmV4YWN0KSx2b2lkIDAhPT1yLmlkZWFsKXtlLmFkdmFuY2VkPWUuYWR2YW5jZWR8fFtdO3ZhciBvPXt9O1wibnVtYmVyXCI9PXR5cGVvZiByLmlkZWFsP29bbl09e21pbjpyLmlkZWFsLG1heDpyLmlkZWFsfTpvW25dPXIuaWRlYWwsZS5hZHZhbmNlZC5wdXNoKG8pLGRlbGV0ZSByLmlkZWFsLE9iamVjdC5rZXlzKHIpLmxlbmd0aHx8ZGVsZXRlIGVbbl19fX0pKSx0Lmxlbmd0aCYmKGUucmVxdWlyZT10KSxlfTtyZXR1cm4gdTwzOCYmKHYubG9nKFwic3BlYzogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLGUuYXVkaW8mJihlLmF1ZGlvPXIoZS5hdWRpbykpLGUudmlkZW8mJihlLnZpZGVvPXIoZS52aWRlbykpLHYubG9nKFwiZmYzNzogXCIrSlNPTi5zdHJpbmdpZnkoZSkpKSxuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKGUsdCxuKX0sbmF2aWdhdG9yLmdldFVzZXJNZWRpYT1hLG5hdmlnYXRvci5tZWRpYURldmljZXN8fChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPXtnZXRVc2VyTWVkaWE6UixhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXN8fGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtlKFt7a2luZDpcImF1ZGlvaW5wdXRcIixkZXZpY2VJZDpcImRlZmF1bHRcIixsYWJlbDpcIlwiLGdyb3VwSWQ6XCJcIn0se2tpbmQ6XCJ2aWRlb2lucHV0XCIsZGV2aWNlSWQ6XCJkZWZhdWx0XCIsbGFiZWw6XCJcIixncm91cElkOlwiXCJ9XSl9KSl9LHU8NDEpe3ZhciBTPW5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcy5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcz1mdW5jdGlvbigpe3JldHVybiBTKCkudGhlbih2b2lkIDAsKGZ1bmN0aW9uKGUpe2lmKFwiTm90Rm91bmRFcnJvclwiPT09ZS5uYW1lKXJldHVybltdO3Rocm93IGV9KSl9fX1lbHNlIGlmKG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEmJndpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbil7Zm9yKHZhciBFIGluIHYubG9nKFwiVGhpcyBhcHBlYXJzIHRvIGJlIENocm9tZVwiKSxkPVwiY2hyb21lXCIsdT12LmV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsL0Nocm9tKGV8aXVtKVxcLyhbMC05XSspXFwuLywyKSxsPTM4LG09d2Via2l0UlRDUGVlckNvbm5lY3Rpb24saCloW0VdPW0ucHJvdG90eXBlW0VdO2Y9ZnVuY3Rpb24oZSx0KXtlJiZlLmljZVRyYW5zcG9ydFBvbGljeSYmKGUuaWNlVHJhbnNwb3J0cz1lLmljZVRyYW5zcG9ydFBvbGljeSk7dmFyIG49bmV3IG0oZSx0KTtmb3IodmFyIHIgaW4gaCluW3JdPWhbcl07dmFyIGk9bi5nZXRTdGF0cy5iaW5kKG4pO3JldHVybiBuLmdldFN0YXRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hcmd1bWVudHM7ci5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ/KG49dCx0PWUscj1bZT1udWxsLHQsbl0pOih0PWUscj1bZT1udWxsLHRdKSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUucmVzdWx0KCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49e2lkOmUuaWQsdGltZXN0YW1wOmUudGltZXN0YW1wLHR5cGU6ZS50eXBlfTtlLm5hbWVzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1lLnN0YXQodCl9KSksdFtuLmlkXT1ufSkpLHR9O2lmKHIubGVuZ3RoPj0yKXt2YXIgYT1mdW5jdGlvbihlKXtyWzFdKG8oZSkpfTtyZXR1cm4gaS5hcHBseSh0aGlzLFthLHJbMF1dKX1yZXR1cm4gaSgpfSxufSxbXCJjcmVhdGVPZmZlclwiLFwiY3JlYXRlQW5zd2VyXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTt3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg8MXx8MT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PT1pKCkoYXJndW1lbnRzWzBdKSl7dmFyIG49MT09PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dC5hcHBseShlLFtyLGksbl0pfSkpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD13ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV07d2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dC5hcHBseShuLFtlWzBdLGZ1bmN0aW9uKCl7cigpLGUubGVuZ3RoPj0yJiZlWzFdLmFwcGx5KG51bGwsW10pfSxmdW5jdGlvbih0KXtpKHQpLGUubGVuZ3RoPj0zJiZlWzJdLmFwcGx5KG51bGwsW3RdKX1dKX0pKX19KSk7dmFyIF89ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9PWkoKShlKXx8ZS5tYW5kYXRvcnl8fGUub3B0aW9uYWwpcmV0dXJuIGU7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKFwicmVxdWlyZVwiIT09biYmXCJhZHZhbmNlZFwiIT09biYmXCJtZWRpYVNvdXJjZVwiIT09bil7dmFyIHI9XCJvYmplY3RcIj09PWkoKShlW25dKT9lW25dOntpZGVhbDplW25dfTt2b2lkIDAhPT1yLmV4YWN0JiZcIm51bWJlclwiPT10eXBlb2Ygci5leGFjdCYmKHIubWluPXIubWF4PXIuZXhhY3QpO3ZhciBvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZSt0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6XCJkZXZpY2VJZFwiPT09dD9cInNvdXJjZUlkXCI6dH07aWYodm9pZCAwIT09ci5pZGVhbCl7dC5vcHRpb25hbD10Lm9wdGlvbmFsfHxbXTt2YXIgYT17fTtcIm51bWJlclwiPT10eXBlb2Ygci5pZGVhbD8oYVtvKFwibWluXCIsbildPXIuaWRlYWwsdC5vcHRpb25hbC5wdXNoKGEpLChhPXt9KVtvKFwibWF4XCIsbildPXIuaWRlYWwsdC5vcHRpb25hbC5wdXNoKGEpKTooYVtvKFwiXCIsbildPXIuaWRlYWwsdC5vcHRpb25hbC5wdXNoKGEpKX12b2lkIDAhPT1yLmV4YWN0JiZcIm51bWJlclwiIT10eXBlb2Ygci5leGFjdD8odC5tYW5kYXRvcnk9dC5tYW5kYXRvcnl8fHt9LHQubWFuZGF0b3J5W28oXCJcIixuKV09ci5leGFjdCk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwIT09cltlXSYmKHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtvKGUsbildPXJbZV0pfSkpfX0pKSxlLmFkdmFuY2VkJiYodC5vcHRpb25hbD0odC5vcHRpb25hbHx8W10pLmNvbmNhdChlLmFkdmFuY2VkKSksdH07aWYoYT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuYXVkaW8mJihlLmF1ZGlvPV8oZS5hdWRpbykpLGUudmlkZW8mJihlLnZpZGVvPV8oZS52aWRlbykpLHYubG9nKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSksbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShlLHQsbil9LG5hdmlnYXRvci5nZXRVc2VyTWVkaWE9YSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOlIsZW51bWVyYXRlRGV2aWNlczpmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dmFyIHQ9e2F1ZGlvOlwiYXVkaW9pbnB1dFwiLHZpZGVvOlwidmlkZW9pbnB1dFwifTtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKChmdW5jdGlvbihuKXtlKG4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bGFiZWw6ZS5sYWJlbCxraW5kOnRbZS5raW5kXSxkZXZpY2VJZDplLmlkLGdyb3VwSWQ6XCJcIn19KSkpfSkpfSkpfX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXtpZigoT2JqZWN0KG8uZ2V0QnJvd3NlclZlcnNpb24pKCk/TnVtYmVyKE9iamVjdChvLmdldEJyb3dzZXJWZXJzaW9uKSgpLnNwbGl0KFwiLlwiKVswXSk6dm9pZCAwKTw0Nil7dmFyIHk9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlKXtyZXR1cm4gdi5sb2coXCJzcGVjOiAgIFwiK0pTT04uc3RyaW5naWZ5KGUpKSxlLmF1ZGlvPV8oZS5hdWRpbyksZS52aWRlbz1fKGUudmlkZW8pLHYubG9nKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSkseShlKX19fWVsc2UgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIFIoZSl9O3ZvaWQgMD09PW5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciYmKG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe3YubG9nKFwiRHVtbXkgbWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pLHZvaWQgMD09PW5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciYmKG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe3YubG9nKFwiRHVtbXkgbWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pLHM9ZnVuY3Rpb24oZSx0KXt1Pj00Mz9wKGUsdCk6dm9pZCAwIT09ZS5zcmM/ZS5zcmM9dD9VUkwuY3JlYXRlT2JqZWN0VVJMKHQpOm51bGw6di5sb2coXCJFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuXCIpfSxjPWZ1bmN0aW9uKGUsdCl7dT49NDM/cChlLGcodCkpOmUuc3JjPXQuc3JjfX1lbHNlIG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8pPyh2LmxvZyhcIlRoaXMgYXBwZWFycyB0byBiZSBFZGdlXCIpLGQ9XCJlZGdlXCIsdT12LmV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8sMiksbD0xMik6di5sb2coXCJCcm93c2VyIGRvZXMgbm90IGFwcGVhciB0byBiZSBXZWJSVEMtY2FwYWJsZVwiKTtlbHNlIHYubG9nKFwiVGhpcyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSBicm93c2VyXCIpLGQ9XCJub3QgYSBicm93c2VyXCI7ZnVuY3Rpb24gUihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7YShlLHQsbil9KSl9dmFyIFQsST17fTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEksXCJ2ZXJzaW9uXCIse3NldDpmdW5jdGlvbihlKXt1PWV9fSl9Y2F0Y2goZSl7fWY/VD1mOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihUPXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEyKSxpPW4ubihyKSxvPW4oMTcpLGE9bi5uKG8pLHM9big1MSksYz1uLm4ocyksZD1uKDUpLHU9bigxKSxsPW4oMyksZj1uKDApLHA9KG4oMjUpLG4oMiksbig0KSxuKDUyKSksZz1uLm4ocCksbT1bMzEsMjIyLDIzOSwxNTksMTkyLDIzNiwxNjQsODEsNTQsMjI3LDE3NiwxNDksMiwyNDcsNzUsMTQxLDE4Myw1NCwyMTMsMjE2LDE1OCw5MiwxMTEsNDksMjI4LDExMSwxNTAsNiwxMzUsNzksMzUsMjEyLDQsMTU1LDIwMCwxNjgsMzcsMTA3LDI0MywxMTAsMTQ0LDE3OSw1MSw4MSw1NSw3OCwyMjMsMjQyLDE5MSwyMTEsNzQsMTE5LDIwMywxNTEsMTQyLDYyLDMxLDQxLDEzMiwyMiwzNSwxNTUsODcsMTIzLDExOSwxMTcsMjE2LDU3LDIwMSw1MywyMjgsNjcsMjAxLDQwLDEwNiwyNCw4MCwxNzYsMTg3LDI1Myw2MCw2MywxMzYsMTAwLDIwLDEyLDE3Nyw5OSw2NCwzOCwxMDEsMTQzLDExMSwxNzYsMjUxLDIxMSwxNDUsMTM2LDM0LDIzLDc5LDEzNiwyMDIsOTUsMTA1LDE5OSwxMjUsNjcsMTgwLDQ0LDIxMCwxNzksMjI4LDQsODUsMTYwLDE4OCw2NCwyNiw0Niw2LDYxLDIwMSwxMDMsMjQ4LDE4LDk3LDI1NCwxNDAsMzYsMTE1LDEwNiw0OCwxMjQsMTAyLDIxNiwxNTUsMTIwLDM2LDIyNywxNjUsMjE3LDcsMjI3LDE5MSwxMjgsMjEyLDE1Nyw4MCwzNywxMTcsMTc1LDI0LDIxNCw0NywyMjEsMTgzLDIxMSw1MSwxNzQsMjUxLDIyMywxNTksMTY3LDE1Miw1MywzNiwxMDcsMTk5LDIyMyw5MSw2Miw0NiwxOTQsMTEsODAsMTIxLDE4OCwyMTksMiw5OSw5OSwyMzIsMjI5LDE3MywyMzQsMjEsMzAsMjM2LDE3NywyNDMsMTQyLDk3LDQ4LDEwOCw1Niw2MiwxNzIsNTYsMjE2LDMsNDIsNzksMTM4LDIzLDg4LDE4MiwzOSw1LDExOCw2OCwxMzUsMTc4LDU2LDksOTQsMTg5LDQ0LDEwNCw5LDIzOCwyMzEsMTc0LDEyMiw4NSwyNDcsMjMxLDg2LDc0LDgsMTg5LDE0NywyMTgsMTgwLDU4LDc2LDIyNywxNyw0Niw5MCwxOTQsMTAwLDUxLDE3OCw3MiwxNjMsMTUxLDI0MywxNjYsMTMwLDg1LDEsMjIzLDEzMCwxNTIsMjQyLDg1LDI1NSwyOCwxNzMsOTcsMjUyLDExOSwyMTUsMTc3LDExOSw4NiwxMDQsMTM2LDgyLDQwLDcyLDUzLDExLDE4LDI2LDI0MCwxODgsNzYsMTEwLDM5LDMxLDE4OV07ZnVuY3Rpb24gaChlKXtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoWzk5LDExNCwxMjEsMTEyLDExNiwxMDUsMTA1XSksbj10Lmxlbmd0aCxyPWUsaT1yLmxlbmd0aCxvPW5ldyBVaW50OEFycmF5KGkpLGE9bmV3IFVpbnQ4QXJyYXkoMjU2KSxzPTA7czwyNTY7cysrKWFbc109cztmb3IodmFyIGM9MCxkPTA7ZDwyNTY7ZCsrKXt2YXIgdT1bYVtjPShjK2FbZF0rdFtkJW5dKSUyNTZdLGFbZF1dO2FbZF09dVswXSxhW2NdPXVbMV19dmFyIGwsZj0wO2M9MDtmb3IodmFyIHA9MDtwPDAraTtwKyspe3ZhciBnPVthW2M9KGMrYVtmPShmKzEpJTI1Nl0pJTI1Nl0sYVtmXV07YVtmXT1nWzBdLGFbY109Z1sxXSxsPWFbKGFbZl0rYVtjXSklMjU2XSxwPj0wJiYob1twLTBdPXJbcC0wXV5sKX12YXIgbT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbyk7cmV0dXJuIEZ1bmN0aW9uKFwidmFyIHdpblNpemUgPSA1OyByZXR1cm4gYFwiK20rXCJgXCIpKCl9ZnVuY3Rpb24gdihlLHQpe3ZhciBuPWgodCkscj1nLmEuY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzKGUsW2gobSksbl0pLGk9ZS5nZXRBdHRyaWJMb2NhdGlvbihyLFwiYV9wb3NpdGlvblwiKSxvPWUuY3JlYXRlQnVmZmVyKCk7ZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLG8pLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwwLDEsMSwwLDEsMV0pLGUuU1RBVElDX0RSQVcpLGUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7dmFyIGE9MixzPWUuRkxPQVQsYz0hMSxkPTAsdT0wO2UudmVydGV4QXR0cmliUG9pbnRlcihpLGEscyxjLGQsdSk7dmFyIGw9ZS5nZXRBdHRyaWJMb2NhdGlvbihyLFwiYV90ZXhDb29yZFwiKSxmPWUuY3JlYXRlQnVmZmVyKCk7ZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLGYpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwwLDEsMSwwLDEsMV0pLGUuU1RBVElDX0RSQVcpLGUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobCk7YT0yLHM9ZS5GTE9BVCxjPSExLGQ9MCx1PTA7cmV0dXJuIGUudmVydGV4QXR0cmliUG9pbnRlcihsLGEscyxjLGQsdSkscn12YXIgRT1bMTEsMTk2LDI0MiwxMzksMTk4LDI1MiwxODgsNSw1OSwxNzAsMTYxLDE1MiwxNywyMjksMjQsMTQxLDEzMyw1NCwyMTQsMjA2LDEzMywyNiw2NiwxMjYsMjU1LDExLDI0NSwxMCwxNDYsOTIsNTIsMTM0LDEwOCwxNTIsMjIxLDE5MSwxMjQsMTE2LDI0OCwxMDYsMTMwLDI1MSw1OSwxMDUsNDMsOTEsMTM1LDE5OSwxODEsMjIzLDEwLDUxLDEzNCwxOTQsMjQwLDQ2LDksMywxNDEsMjIsMzUsMTQ2LDc2LDIzLDEwOSwxMTcsMjA4LDQxLDIwMSw0NSwyMTgsNzYsMjAzLDEwNSw1MSw1OCw5NywxNTQsMTQ1LDIzNiw0OSwxOCwxODMsMTI3LDI3LDEyLDIxMCwxMjIsNzMsNDIsMzcsMTQzLDM2LDIwNywyNTEsMjExLDE0NSwxOTEsNTYsMTAsODgsMjIyLDE4MSwxMjUsMjIsMjM4LDEyMyw3MSwxNzcsMTA3LDIxOCwyNTQsMTczLDI4LDM0LDI1MywyNDksNjcsODMsOTcsNzMsMTExLDIxOSw0MywxODEsODIsMzgsMjMwLDEzNiwxMDksMjIsNjddO2Z1bmN0aW9uIFMoZSx0LG4pe3ZhciByPWUuZ2w7dGhpcy5wcm9ncmFtPXYocixFKSx0aGlzLnNldFVuaWZvcm1zPWZ1bmN0aW9uKCl7ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9pbWFnZVwiKTt2YXIgZT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ZsaXBZXCIpO3IudW5pZm9ybTFmKGUsMSl9fXZhciBfPVsxMSwxOTYsMjQyLDEzOSwxOTgsMjUyLDE4OCw1LDU5LDE3MCwxNjEsMTUyLDE3LDIyOSwyNCwxNDEsMTMzLDU0LDIxNCwyMDYsMTMzLDI2LDY2LDEyNiwyNTUsMTEsMjQ1LDEwLDE0Niw5Miw1MiwxMzQsMTA4LDE1NSwyMTAsMTY0LDk5LDExNCwyMjgsOTYsMTMwLDI1MSw1OSwxMDUsNDMsOTEsMTM1LDE5OSwxODEsMjIzLDEwLDUxLDEzMywxOTQsMjQ3LDM0LDMxLDM5LDE0MiwyOCwyLDEzMCwxOCwxMDksODQsMTI0LDIyMyw2MiwxNDAsNTIsMTI4LDQ3LDIwOCw0NywxMTUsMzksNCwyMDAsMjIwLDE3MSw1MywzNiwxNTAsMTAxLDEwLDc1LDI0NywxMjEsNzQsMzYsMzUsMTQzLDEwOCwxNzYsMjM1LDIxMSwxMzUsMTY0LDM2LDExLDg4LDE2MCwxNDgsMzUsNiwyMjEsNDEsMzIsMTY2LDEwOSwyMDUsMTcxLDIyOCw0LDI2LDE2OSwyNDQsODIsMTE5LDEwMiw4Niw2MSwyMDEsMTAzLDI0OCwxOCw5NywyNDIsMTgyLDM0LDEyMSw3MCwyOCw3MSwxMjYsMTk3LDIyMywxMjYsMTQsMjQ0LDE0OSwxOTIsMTIsMTc2LDE4NywxNDksMjEyLDE1NiwyMiw0NCwzNiwxMzMsMTAsMjE2LDYzLDE5OCwyMTMsMTU0LDExNiwyMzAsMjUzLDE1NCwxNTQsMjQ5LDIxNSw1NSw2MCwzNCwxOTYsMjI5LDc2LDUwLDQ0LDEzNSwyMiw3NywxMTMsMjQ3LDE0Miw5NCw2MCwyMywxNzIsMTQ1LDE3NSwyMTgsODEsODYsMTYyLDIzOSwxODAsMjA1LDYzLDExOCwzLDExMCwxMjMsMjI0LDEyNywxNTgsMTI0LDE1LDEyNywxNTcsMjcsNjYsMTc2LDMzLDI0LDUxLDUzLDE5NCwxNzgsNTYsNiw3NCwxOTEsMTExLDUxLDc4LDE3NCwxNTcsMjI5LDE3LDIyLDE3OCwyMzEsOTIsMjUsMjMsMTkxLDE1NywxMzcsMTg4LDU0LDY0LDE3NiwxMywyMiw4MSwyMDcsNDUsMTA4LDIwMyw4MywxODYsMTMwLDIzNywxODYsMTUzLDExMCw4LDE5NiwxNjgsMTUyLDE2MSwyOCwyMzgsNDYsMTg0LDM2LDE4NSwyMCwyMDMsMTgzLDk4LDk1LDQxLDE0OSw5MywxMDUsMzcsMTE2LDkxLDY4LDEwNSwxNjQsMjE3LDMwLDQyLDYwLDUzLDE3MywyMTMsMTc3LDIxNiwxOTUsNTMsMjA0LDE3MywxMjgsMjQzLDQyLDEyMiwyMDUsNjUsOTcsMTI5LDE5NCw2OCwyMTgsOTEsMTQxLDExLDIyNCwxMjQsMTMyLDEzOCwxMTksMzYsMjIwLDE2MSwzOSwyMTQsMTQ2LDE4MywxOTMsMjI1LDIzLDE3NywyMDEsMjQzLDEyOCwxNjAsMzMsNzUsODYsMTI2LDEzOSwyNTQsMjMyLDE0LDEzLDg1LDIsMTEyLDE3LDE1MCwzNiwxODAsODYsMjI2LDIyNSwxMjYsMTk3LDE3LDIyOCwyMjUsMTQyLDI0NSwzNywxNzAsMzksOTYsMTg3LDE5MCwyLDM1LDg1LDIzNywxMSwxODksMSw3OSwyMzcsMiwxLDExNCwyNDYsMTA5LDE5MCw2Niw1NCwxNTMsNDMsMjE4LDIwNCw3MCw2LDIwNCwxNjIsMjQ3LDE4LDEzMCwxMjMsMzAsNjAsMTY1LDEzMCwxNDIsMjEwLDEzMyw5MSwxMjcsMTE3LDcxLDM4LDE0NSwxNzIsNyw1LDE2LDIyMCwyMjIsMTExLDk4LDE0MSwyMzksMjA4LDEyNSwyNiwyMzgsMjgsMCwyMTYsODksMTMsNywxMTksMTM0LDE5NCw3NSw0MSw2NywxNzQsMSwyMTcsODAsMTAxLDQwLDI2LDU5LDI4LDU5LDQ2LDEwOCwxMzgsMzgsMTU3LDE2NywyOCwyMzQsNzMsMTc3LDQyLDQyLDEwMiwxMDgsMjYsMTgxLDI3LDE3OCw0Miw0Myw1MiwyOCwxMTAsMTE3LDE5OCwxNzMsMTc2LDE3OCwxMDEsMjI1LDE1MCwzNiwxMzksMTA4LDEwNSwxMCwyMzcsMjIyLDMsMTQzLDEyNiwxOCwxNDQsMTE1LDc0LDU2LDExNCwxMzQsMjMxLDE1OSwyMTIsNjIsMTI2LDgwLDE3MywyMTYsMTY3LDQsODEsMTgsNTIsMTcsMTQ0LDIxOCwzMiwxMzksMjA3LDEwNCwxMjgsMjI5LDk5LDg0LDEyMCwzMSw4NywyMjcsMTU0LDkxLDE5Niw2MywxMjMsMTExLDEyNSwzNiw1Miw1NywxNjgsMTEzLDE1MCwxODksMjA0LDI0LDEwNCwxOTYsMjM3LDg2LDE2Myw2OCwxOTcsMjAyLDE3MCwyMTIsMTkxLDgxLDE5MywxMTEsMjU1LDE2MiwxODEsMjAyLDE1NiwxNDYsMTk2LDk2LDE2LDExOCwxMTcsNTUsNzEsMTU2LDMxLDE2MywyNDIsMjA0LDIzOSwxMSwxNTAsMjcsMTI2LDExNSwxNTQsMTA3LDI0NywxMzQsMTU4LDEyNSwyNTUsMTQ2LDM1LDE4MywyMDksMzYsMTE2LDg3LDIxNSwxNzIsNSwyNTEsMTMzLDExNCwyNTQsMTQxLDE5NSw2LDE0NSw0LDExMSwxODIsMTY3LDc0LDE1NCwxNTIsNjgsMTgsMTQ2LDg4LDEwNiwyMDAsMTU0LDE1LDE3Niw5NCw4Niw2NiwxNzgsMTAxLDIxOSwzNSwxODgsMTI5LDY2LDI4LDQxLDExMCwxNzQsNTMsODgsMTc0LDY0LDE5MSwyMDYsMTI3LDQ4LDEyNiwyMTQsMjE2LDkzLDExOSwyLDE2Niw5OSwxODEsMjIyLDI5LDIxOCwyOCwxOTUsMjE5LDEyNSw0NCw1MCwxNiw5OSwxNzQsMjI1LDUxLDEzMywxMjAsMTg0LDE1OSwxNjgsNzUsMjQyLDE2MiwxMjQsMjU1LDgxLDI1LDE1MywxMDksNjksMjIwLDE3Niw0LDIzNywxOTYsMjMzLDE5LDgsMjQwLDE2MCwzOSwxMjIsODEsMjksMTg4LDE0NCwyNDksMTcwLDE3NCwxMzcsMzAsMTAsOTMsMTMzLDE1MSwxOTksMjQ4LDE3NSwzOCw0MSwxNDQsMjI5LDI0NSwxNDksMjUsMjQwLDEzOCwxNzksMTE0LDE4Miw4NCw1MCwxMDMsOTUsMzEsMTk5LDMxLDg3LDIwOCwyMDMsMTk5LDEzNSw0OSwyMTEsNDMsNTIsMzYsNzQsNTksMzcsMjIsMTM2LDE3MSwyNDQsMTI2LDE4LDI1MSwzOSwxNTksMjQxLDY2LDIwNiwxMjcsMTQ5LDE1OSwxODIsMTQzLDIzMiwxOTksMTM2LDQ2LDE1MCwzMiw1MSwyMjEsNzQsMjIsMTAyLDkzLDIyLDQ0LDEzMiwxNDAsMTk5LDQzLDY5LDI0OSw3Nyw3NSwxNDAsNzAsNCwyNTIsOTgsMjM1LDc3LDE5MCwxMjUsMTgsNTYsMjEsMTAsMjQ0LDQyLDIsMjQ2LDYyLDEyNywyNDEsMTIzLDEzNywyMiwyNDcsMjE5LDE3NywxNjAsODQsMTgsMTAsODQsOTcsMjUxLDEyNywxMDIsMTYsMjA5LDE4MSwxMDAsOTQsNTYsMjM4LDIwOSwyMDcsNzYsMTg5LDk1LDE1LDE2NSwxMzksMTQzLDE4OSw5NiwyMjUsNTUsMTEyLDE3OCwyNywyMTgsMTk4LDIyMywyNTEsNTIsMTIzLDk0LDEzMCwyMjAsMTQyLDIxNiwxMTYsMjM3LDE4LDI1NCw0OSw1OSwxMjgsNDEsMjksMTUsMTc5LDE2NCw4NSw3NiwxNjcsMTY2LDE1MSwzOSwyMjEsMiwxOTAsNjgsMTY3LDI2LDE3NywxMTQsMTQxLDQsNjcsMjUsNjksMTgyLDM4LDE2NiwxNjAsMjcsMTUxLDE0OCwxMDgsNDgsMjI3LDYwLDExMiw0OCwyMiwxNTksNzYsMTI3LDI1MSw2MywyNTQsMTc3LDExMywyMTcsMTk3LDk1LDE3OSwxMDksMTI4LDEzOCw5OSwyNywyNDksMTAsMTc0LDE1NSwxMjksODAsMzksMTY1LDI1Miw4NSw2MCwxMzEsMTgzLDk4LDEwNyw2OCwyMDcsMTksMjMzLDIzMSw1NSwyMjUsMTI2LDc3LDQ5LDUzLDE0NSwyMDMsMTEzLDI5LDIwOCw2NCwyMzcsMTgyLDIyOSwxNjUsNywxMSwxNjksMTA2LDI1MywxMTYsMTQxLDIwMCw2MiwxNiwzOCwxMjEsNTUsMTQ4LDkxLDgzLDE2MCwxNDAsMTI2LDEyMSwxMiw3OSwxODksNzIsMTcyLDMxLDI0MywyNDAsMjA5LDIyOSwzMiwyMjAsOTEsMjI5LDgxLDk0LDI0NywxMjEsMTUzLDE1MSwyMzIsMTgyLDE3MSwxOTgsNTAsMzEsMTUyLDI0NSwxNzIsMTUxLDEzMCw1NSw2MiwxMjUsMzgsMTU1LDIyOSw3OCwyMDcsMTQ4LDIwMSwyLDc4LDYzLDExOSwxMDcsMTY4LDc4LDEzOSwxNDEsMTYzLDE3NywxOTEsMjM5LDE0MSwzOSwxODIsMTc0LDQwLDc2LDIyNiw2MiwxMjUsMjA5LDYsNiwzNCwzNywxNDcsODUsMjA0LDEwMyw1MSwxOTEsMzYsMjQ4LDE3LDE3NSwyMCwxLDUzLDE2LDM1LDE0MywyMzcsMTc3LDEyNSw4NiwyOSwyMTksMjM1LDIwLDEyMSwyMDUsNTksNSwyNTAsMTA3LDEwOSwzMiwyMjQsMzAsMTUyLDE0MywxMTMsMTUxLDk1LDg1LDE5LDI1NCwxNjQsMTM1LDEyNCw2OCwxMzYsMTk5LDI5LDMxLDI0NCw5MSwxMCw4NCwxMjcsMTAxLDIxMCw3MCwyMjYsMTk1LDE0MCw3MCwxNjYsNTQsMjE3LDE2NSw4NCw0MiwxNjUsMTc1LDEwMCwyMzQsMTI0LDEyMSwxMDUsNTMsMTAxLDExOCwxNzQsMTAxLDIyMCwxNDcsNjgsMTYxLDM3LDAsMTgyLDIyMCwxNDIsMjIxLDE1NSwyMzAsMTE1LDE2NCwxMCwyMTQsMjA4LDEyMCw5MSwxNTIsNjYsMjcsODEsMTg0LDQ4LDg0LDcwLDcsMTI4LDE1MywyMTcsMjE4LDI0OSwyMjYsNzAsMTMwLDIwMCwxNTYsNjEsMjI3LDIxLDE2NCwxMzcsMTkzLDIyMSwxMTksMTAsMTM0LDIwNCwyMywyMCwxNyw5MCw5NCwxMDUsMjA0LDM5LDk5LDEsNjQsMTUzLDQ1LDIxMywxOSwyNDcsOTcsMTk0LDQ5LDM1LDEyNSwyNTUsMTk1LDEzOSw2MywyMDksMTc1LDIwOCwxNDcsMTg5LDI0NCwyMDQsMjQsMjExLDk5LDE0MiwxOCw5MiwxMzAsMjU0LDE4MiwyMzEsMjM1LDkzLDEwLDEyNywxNzUsODcsMzUsNjIsMTEwLDEzNywxODQsMzksMTE0LDIwMCwxNTAsMTEsMTkwLDQwLDE2MiwxNjgsMjIzLDIwMywxMTAsMjQyLDE5MiwyMzQsMjYsMTEsNTQsMTU1LDM4LDQ4LDc5LDEwOSwxMDEsMTE5LDE2NSwxODcsMjIzLDUsMjAsMTY4LDE3MSwyNDEsMjAsMjQzLDEwOCwxOTksMywxNTUsNjksMjQ0LDE0OSwwLDE4NywxMTAsMTIsMjMzLDQyLDE1MSwxODksMTM5LDEzMywxMDQsMywzMCwxNiwyMDAsNjksNCwxMjMsMTAzLDE0NCwxMiwxMDYsMTgyLDEsMTI3LDkxLDEyNSwxNTgsMTIsMTQ0LDIzOCwyMzIsMjA5LDEwMSwxNTksNTYsMTYzLDI0MCwxNzksNTAsMTY5LDEyMCwyMTksMTc2LDg3LDc3LDQ1LDI0NywxNTMsMTkwLDgyLDEzMiw1MCwxMzcsMjA5LDk3LDE5LDM1LDI0NywxNjEsNjIsNzcsMTYsNzEsMTUyLDcyLDYxLDUwLDk5LDE1NywxNTQsNTYsNTgsMTc1LDI3LDczLDEyMSwyMjksMTk1LDIyOCwxMzIsNjksMjMzLDE2OSwxMDAsMjEsMTIzLDE3LDMsMTY0LDYsMTQ2LDEwNiwxOTYsMjksMywyNTAsMjE3LDE2NCwyMywxNzEsMjAzLDE0LDI0MiwyMzksMjQ5LDE2OSwxMTYsMTM4LDIwOSw5OCwxMTMsMTgxLDEyMiwzNSwxNjIsMjE2LDQ2LDIzMCw0LDE1NSwxNDIsMTE4LDIxNiwyMzIsMjI5LDI4LDEyLDE1OCwxNTMsMTI2LDE0OSwxNzEsMTcyLDIzMSw5OSwyMTEsNTcsMTE0LDEzNiwxODMsMTE0LDc0LDM1LDIzMywxMTUsMTI3LDI1MywxNTcsMzgsNDksMTM2LDE0MSwyNSwxNjEsMjU1LDIzMiwxMTAsMTAxLDIwOCwxNjYsMTg2LDIyNiwxMiwxODUsMTksMTU1LDUzLDkzLDE1NSwzOSwxNjEsNywxMjQsMjEzLDUyLDIyMywxMjUsMjExLDI0MiwyNTMsMjIsMTMsMTMxLDExNSwxNjcsMTk4LDE4OCw5MCwyMDksNjMsMjI0LDkyLDExMiwxMTgsMjIwLDE2NSwzMSwxNjQsNDMsNTgsMTk3LDc3LDE3LDI0Nyw3NywxNjQsNzQsNzcsMjE4LDE4LDE4Nyw0MSw3NiwxODksMTI3LDk4LDE4LDIyNiwyMzEsNzEsMTE1LDIzNiw2OCwxODMsMTExLDUwLDE2OCw4OCwyNDcsOSwxMjMsNjUsMTgwLDg4LDc0LDQ0LDEwMSwxMDEsMTczLDExXTtmdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj1lLmdsLGk9MS90LG89MS9uLGE9NTt0aGlzLnByb2dyYW09dihyLF8pLHRoaXMuc2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ltYWdlXCIpO3ZhciBlPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfZmxpcFlcIiksdD1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X3NpbmdsZVN0ZXBPZmZzZXRcIiksbj1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2Rlbm9pc2VMZXZlbFwiKTtyLnVuaWZvcm0yZih0LGksbyksci51bmlmb3JtMWYobixhKSxyLnVuaWZvcm0xZihlLDEpfSx0aGlzLnNldFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5kZW5vaXNlTGV2ZWwmJihhPWUuZGVub2lzZUxldmVsKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKGUsdCl7aT0xL2Usbz0xL3R9fXZhciBSPVsxMSwxOTYsMjQyLDEzOSwxOTgsMjUyLDE4OCw1LDMyLDE2MiwxNzEsMTI4LDEzLDE2MCwyNSwyMjIsMTcyLDEwMiwyMDcsMjQ0LDE1OCw2OSwxMDMsNTcsMjM5LDExMSwxNTAsMTgsMTU3LDgyLDU1LDIxMCwyMCwxMzEsMTU2LDE2NSwxMDgsMTIyLDI1NCwxMjUsMTMwLDIyOSw1NSwxMDksMTEzLDExLDIxMCwyMzgsMTYzLDIxMyw4NiwxMTYsMTU2LDI0OCwyMTUsNjMsMjAsNDgsMTczLDMxLDU1LDEzMywxOCwxMDUsMzIsMTYsMjA0LDM1LDEyOCwzOCwyMTIsODcsMjAwLDk3LDExNCw0MCwxMiwyMTAsMTkzLDE3MSw1OSwzMywxNTgsMTA4LDE0LDc1LDIyOCw3NCw2NSwzMiw1NywxOTIsMTEyLDE1NiwyMzQsMjUwLDE0MCwxODksNDAsMjAsNiwyMzAsMTM1LDUyLDE3LDIwMCwxMjMsNjgsMTgzLDQ0LDIxNSwxODcsMjM0LDIsMTMsMTY5LDIzNCw5NCwxMTUsNjAsNiwxMDcsMjI0LDExOCwyNTQsODgsMiwyMzUsMTM0LDM2LDEyMCw1LDg1LDk0LDEyNiwyMjIsMjIzLDEwMSwxMDUsMjI3LDE0NywxOTksNjQsMTg1LDI0NiwxNDMsMTgzLDIxMCwzMCwzNywxMjcsMjI2LDc5LDE1NiwxMTgsMTQ3LDIwOCwxMzEsNTEsMjQ4LDIzMiwyMTcsMjA2LDE4MSwyMTgsNTgsNjEsMTEyLDI0NCwyMjcsNjgsNDUsNDEsMjA2LDY5LDEyLDQ1LDE2MywyMDUsNzUsNiwyMywxNjcsMTQ1LDI1MCwyMzcsOTIsODQsMTY0LDI0MCwyNTMsMjE2LDU0LDg1LDcsMTA4LDYyLDI1NSw0MiwyMTcsMywyNywwLDE5Niw5NCwyOCwyNDEsMTIwLDgwLDkyLDg5LDEzNSwyMjgsMTI1LDIsMywyNDIsMzksMTE2LDY0LDI0OCwyMTYsMTc3LDEyMiw2NiwxNzgsMTgwLDksNywzMywxODYsMjA4LDIxMywxODgsNTksNzgsMjQzLDk1LDEyMywyOCwxNDIsNDUsOTksMTMwLDcsMTY3LDE5NCwxNTYsMjM4LDE5OSwxMCw3MSwxNDEsMjUxLDIyMSwxNTgsMTYsMjU1LDM4LDE4MSwzNiwxODQsMjAsMTM2LDI0MCw1NSwyNyw1MSwxOTEsODIsMTA1LDU1LDk3LDc4LDc0LDEyMSwxOTEsMTYxLDkxLDEyNiwxMDUsMTAzLDE3NCwxMzksMjIzLDE0NSwxNTAsMTIwLDE1NiwyNDAsMjUyLDE4MiwxMDUsMTA0LDIwNSw2NSw5NywxMjksMTk0LDY4LDIxOCw5MSwxNDEsMTEsMjI0LDEyNCwxMzIsMTM4LDExOSwzNiwyMDEsMjExLDM5LDIwMywxNDYsMjI1LDI0NiwyNTIsMjEsMTYxLDI1MCwxODgsMTM3LDE5MCw0Miw0LDkwLDEyNiwyMTEsMTcxLDI0MCwxMTMsNjcsMjgsOTIsNTcsNzcsMjAwLDEyNSwyMjQsMTksMTc4LDE0MiwxMTIsMjAyLDUsMjMzLDIyOSwxMjgsMjM1LDEwNSwyMzksMTAyLDUyLDE3OSwyMjQsODcsNDUsNjgsMjExLDEwLDE4Nyw5LDM4LDE5MCw4NiwyNSw0MywxNzUsNTYsMjMxLDExLDEwOCwyMjAsMzYsMTI5LDEzMSwxOSw5MywxNjMsMjM5LDE2OSwxMTgsMjA1LDUwLDc3LDEyMSwxMzksMTM5LDE0MSwxOTcsMTcwLDIwLDQ0LDM5LDE5LDk3LDIwNSwyMjgsOCwxMDYsNjcsMjEwLDEzNSwxMTEsMTI3LDE0MSwxODUsMTc1LDEyMywyNiwyMjYsNDIsMjksMjE3LDE2LDk5LDksNDYsMTU3LDIzMiwyMiwzLDEwNSwxNzQsNzMsMTQ0LDIzLDExMCw1NSw4NCw0Niw0LDExNiwzOSwxMTMsMjA1LDU4LDE1OCwyNDIsNywyMDgsNzUsMTYyLDU1LDExNSwzNSw1MiwxMjQsMjM1LDExNCwxNzgsNTUsNDMsOTgsMTcsMTAwLDMzLDEzNCwyMzcsMTkwLDIzMCw2MCwxODQsMTkyLDEwNCwxNDYsNTIsNTgsNzksMTc0LDE4MCw4MSwxNTUsMTE0LDAsMTUzLDExMyw5MCw1MSw4NiwxNTAsMjU0LDEzNiwyMDUsMTA0LDM5LDExLDE5MCwxODcsMjMzLDgwLDgxLDgxLDU2LDE4LDIyMiwxNDgsMTE2LDE1NSwxNTYsMzMsMTMyLDIyNiwxMjcsODQsMzQsODMsMjgsMjQ5LDE1MywxOCwxOTcsMTAsMTE2LDEwMiwxMjUsNDUsNDcsMzYsMjM1LDQ2LDIxMiwxNjYsMjA5LDMsMTI1LDEzMiwyMzcsMTI0LDE2Myw2OCwxOTcsMjAyLDIzMiwxNTIsMjM0LDc1LDIzNSwxMDMsMjQ4LDE2MCwyNDEsMjEzLDE1MSwxNDQsMTMwLDM3LDIzLDUxLDQ4LDU1LDEyLDIyNywzMSwxNjMsMjQyLDI1MSwyNDUsMjIsMTI5LDc3LDIwLDM1LDE1MCwyMCwxODEsMjAzLDEzOCw2OSwyMzMsMjE1LDEwOSwxNzgsMjA5LDUyLDg1LDk2LDIyMSwxNzksNTYsMjQ5LDEzOCwxMTEsMjUwLDE0MSwxMzQsOTUsMTUyLDkyLDEwOSwxODMsMTc0LDEwNCwxNTEsMTU2LDMxLDY2LDIxMSwxMCw1NywxNDEsMTY3LDE4LDE3NywyNywxMjYsNzQsMjUyLDI5LDE0MywxMjEsMTczLDIwMyw4LDI3LDQ0LDEyMywxNDgsNTcsODgsMTYzLDY4LDIyOCwxNTgsNjIsOTgsMTIxLDE5MiwyMjgsOTQsOTIsNzIsMjQxLDMzLDIzMCwxNzMsMCwxOTcsMSwxOTQsMTQ0LDExMSw5MSw2MCwwLDEwNiwxODEsMjAzLDUxLDEzMywxMjAsMjUwLDE1OCwxODQsOTMsMjE2LDE4NCwxMjYsMjUzLDIxLDIyLDE1NSw5OSw4MCwyMDUsMjI3LDY5LDIzMSwxNDEsMTY1LDcxLDcwLDI1MiwyMjMsMTA1LDUxLDkzLDIyLDE2NSwxMzUsMjMzLDE3NywxNjQsMTM5LDUzLDUsODUsMTUxLDEzNCwyMTQsMTY1LDI0OSwxMDAsMjQsMTg2LDIwNywyNDUsMTQ5LDY4LDIxOCwyMDQsMjUyLDMyLDE5MCw5MCw0OCw3Niw1NywzMSwyMDEsMTUsNTIsMTMwLDEzNSwxNTIsMjA2LDYzLDE5OCwxMDAsMTI2LDM2LDIsMTA0LDExNiwwLDE2MCwxNjMsMTg2LDIsOTEsMTY1LDU3LDE0OSwxNjMsMTIsMjM5LDEyMSwxNTIsMjA5LDIyNCwxMzYsMjQ4LDEzNSwxMzYsNDYsMTUwLDMyLDUxLDE1NCw2LDEwNSwwLDcxLDMwLDQ0LDE3NSwxNDcsMTM5LDM0LDkxLDE4NCw3OCwzMSwxNDUsMTgsMywyNTAsMTIyLDE2Niw0NywyNTIsMTA5LDE5LDQwLDEwLDEyMywxNjMsOTksNzYsMTMzLDExOSwzNywxODAsMzgsMjA3LDc5LDE3MSwxODUsMTg4XTtmdW5jdGlvbiBUKGUsdCxuKXt2YXIgcj1lLmdsLGk9MS90LG89MS9uLGE9NTt0aGlzLnByb2dyYW09dihyLFIpLHRoaXMuc2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ltYWdlXCIpO3ZhciBlPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfZmxpcFlcIiksdD1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X3NpbmdsZVN0ZXBPZmZzZXRcIiksbj1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2Rlbm9pc2VMZXZlbFwiKTtyLnVuaWZvcm0yZih0LGksbyksci51bmlmb3JtMWYobixhKSxyLnVuaWZvcm0xZihlLDEpfSx0aGlzLnNldFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5kZW5vaXNlTGV2ZWwmJihhPWUuZGVub2lzZUxldmVsKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKGUsdCl7aT0xL2Usbz0xL3R9fXZhciBJPVsxMSwxOTYsMjQyLDEzOSwxOTgsMjUyLDE4OCw1LDMyLDE2MiwxNzEsMTI4LDEzLDE2MCwyNSwyMjIsMTcyLDEwMiwyMDcsMjQ0LDE1OCw2OSwxMDMsNTcsMjM5LDExMSwxNTAsMTgsMTU3LDgyLDU1LDIxMCwyMCwxMzEsMTU2LDE2MCw5NiwxMjEsMjU1LDEyMCwyMDcsMjI3LDExNCwxMjAsMzgsNzIsMTQ5LDE0NSwxNjUsMjI3LDc1LDEyMiwxNTgsMjUwLDIzMiw0NiwzNCw1MiwxMzUsOSwzMCwxNDQsMTcsMTEwLDEyNiwxMTAsMTMwLDcxLDE1Niw0NiwyMTAsNjcsMjAyLDUxLDExOSw5NywzLDIxMSwyMTQsMjI3LDQ1LDEwOSwxNTEsOTcsMjEsMTAsMjI5LDUzLDgwLDI2LDUxLDIwMiwxMTksMTI4LDIzMCwxOTcsMTQwLDEzNSw0MCwxNCw4OCwxMjgsMjAyLDk1LDIxLDIwOCw5Niw4MywxODUsOTgsMjE2LDI0MiwyMjQsMTUsMjUsMjI0LDIzMyw4Niw5Niw0Niw4MCwxMjAsMjIwLDQ4LDE4Nyw4NiwzMCwyNDAsMTQwLDQ2LDk1LDgxLDQ4LDkwLDExNywxNDAsMTc3LDUxLDEwNywyMzUsMTU4LDEzNyw1LDI0MSwxOTEsMTU0LDE0OSwyMTksMzAsMTI2LDg1LDE3NSwxMCwyMTYsNjMsMTM5LDIxNiwxNTEsMTIyLDI1MSwyMjQsMjAyLDIyMCwyMjcsMjIxLDUzLDEyMiwzNCwyMTMsMjI0LDk0LDQ1LDE0LDIwMCw2OCwzMSw2MSwxNzUsMjA4LDE3LDEyMCw4MiwyNDQsMTM4LDIwOCwxNjUsMjEsMTksMjM2LDIzMiwxODAsMjE3LDUwLDc0LDcwLDEyNiwxMTQsMjI3LDYyLDE5MiwxMjQsOSw4NSwxNDgsMzMsNzcsMjU1LDExNyw3NSwxMDIsODcsMTUxLDI1NSw4Nyw3NCw3NCwxODEsMTExLDEwOCw5LDI0OSwyMjAsMTc0LDU5LDgwLDI1NCwxNjgsMjksMzAsOTQsMTcxLDEzMywxMzMsMTk1LDEwNSw2NCwyNTQsNjgsNjUsMTgsMTU4LDU0LDczLDIwMyw2NSwxNzUsMTUxLDE3MCwyMzYsMTM4LDE3LDExOSwxMjgsMjM3LDIxNCwxODksMjgsMjUwLDM4LDE0OSw5NywyNDIsODEsMjEyLDI1NCw1NywxOCwxMjAsMTU1LDY0LDk2LDEwOCw3NSw3OCw3NCwxMjEsMTkxLDI0MywzMCw0Miw2MCwxMDMsMTY1LDE5NiwxNjAsMTk1LDIxNiw5OSwxODIsMTczLDIxNCwxODIsMTA1LDUzLDIzMSwzLDQ1LDIxMiwxNDQsMTAxLDIxNyw2NSwxNDEsNDQsMjMwLDEyNSwxNTEsMTU0LDEyMyw1NywxMzQsMjIzLDk4LDEzMywxNTYsMjM4LDEzNywxODEsODAsMTc1LDIzMCwxNjcsMTMxLDE4MCwxMyw2OSw3Nyw0NCwxNTYsMTY1LDI1MiwxNCwyNyw4NSw3MSwxLDgyLDE5Niw2NCwyNDMsMjYsMTY3LDE0Niw5OCwyMDEsNiwxOTUsMjQ3LDIwMCwyMjQsNDQsMTc3LDEwNCwxMDksMTg3LDIzMSw4MywxMTgsMjgsMTU5LDkyLDE3OSwyOCwxNCwxNjIsODEsODQsMjEsMTY4LDM0LDE1NiwyMSwxMjcsMjE1LDg4LDIxOCwyMDgsMTEsOTIsMTYxLDIzOSwyMzksODIsMjIxLDU5LDg2LDgzLDIwMSwxOTksMjE2LDE1MSwxMzksMjMsNTQsMzksNTIsMTAzLDIwNCwyNDcsMjQsMTAyLDk0LDE1NywxMzgsNDIsNDksMTMxLDE4MywyMDgsNTAsOTUsMjM2LDU0LDYsMjExLDI2LDY4LDcyLDU2LDIxMiwxMzQsMjQsOTEsMTE0LDEzMiwxLDIxNyw4MCwzOCw0NywyOSw0NywwLDEwNywxMDIsOTksMTI5LDMzLDE0MCwyNDMsNzQsMjUxLDg5LDI0NywxMDMsMTIsMTE0LDU4LDExMywyNDAsNzIsMTg4LDM5LDQ4LDcyLDg5LDQ1LDEwMiwyMDYsMjQ1LDI0NywyMzEsNTYsMTY3LDEyOSwxMjIsMjIyLDQ3LDQwLDc4LDIyNywxNTksNjQsMjA2LDM0LDEyNywyMDMsMTI3LDg3LDQwLDEwOCwxNTIsMjM4LDE0NywyMzEsNDYsMTA0LDg5LDE4MiwxODAsMjMyLDg2LDg5LDkxLDU3LDEwLDIyMiwyMDIsNTksMTk5LDEzNSw2MCwxOTksMTg5LDQwLDg0LDEyNSwyOCw4NCwxNjIsMjEwLDkxLDE0MywzNCwxMDYsMTE3LDExOCwzLDEyNSwxMjYsMjM3LDYwLDEzMSwxNzMsMTUzLDY5LDQ5LDIxMiwyMDQsMTE3LDE2MywzMSwyMzksMjAyLDIzMiwxNTIsMjM0LDMsMTYyLDMyLDE3NiwxODQsMTg0LDE5NiwxNTQsMTMxLDE0NCwxMTUsNiw1MywxMjIsNTUsNjksMTY2LDE5LDIzMCwxODMsMTc1LDI0NCwxLDE1NiwxMSwzNywxMjEsMTM0LDEyMSwxNTIsMTQyLDE1OCwxMjUsMjI5LDE1MCw0NCwxODMsMjE2LDEwOSw3LDY1LDIyMiwxNjksNTYsMjIyLDE0MCwxMTAsMjMzLDE1NywxMzgsNjYsMjA4LDYsMTExLDE2NiwxODgsNzYsMjA4LDIyMiw0LDEwNCwyMTEsMTAsNTcsMTQxLDI0Myw2NSwyMjgsODYsODUsODgsMTY5LDkxLDIzNyw1NiwyNDksMTMzLDc3LDIxLDMyLDM3LDIzMCw1NSwwLDE4NCwxMTAsMjI4LDE1OCw2Miw5OCw0NSwxNDcsMTc3LDE5LDExOSw4OSwxNjQsMTAzLDEzMiwyMzksODQsMTM5LDY4LDIwNCwxNTcsNDksNDEsNTAsODksMTEzLDE1OSwyMDMsNTEsMTMzLDEyMCwxODQsMjEwLDIzNywxNSwyNDksMTg3LDEwMCwyNTMsNTAsMTYsMTU0LDExMiw2NCwxOTMsMjU0LDEwLDIzNSwyMDAsMjUzLDg0LDMxLDE2OSwxNzEsMzksMTIyLDcwLDQ2LDE4NiwxMzksMjEyLDE2MiwxNzMsMTU4LDQxLDIzLDg2LDE0OCwxNzIsMTk2LDIzNywyNDIsNTgsMTAyLDE4MCwxNTAsMjM4LDE5MSwyNSwyNDAsMjA0LDI1MiwxMjUsMTQ4LDI5LDEyNCw1MSw5NSwxMCwxOTYsNTUsNDksMTU5LDEzOCwxNDQsMjU1LDEyNiwyMDUsNDMsNDksNDIsMTcsNTksNjAsNzcsMTM5LDE3NywyMzksNjQsMzYsMjI0LDk4LDIwNSwyMzQsNzAsMTk5LDEwMywxMzksMjE4LDIwNiwyMDcsMTc4LDIxNywyNTUsMzIsMTM0LDU5LDI1LDIyMSw3NCwyMiwxMDIsODIsMTksMjAsMTcwLDE0MiwxMzQsNDIsMTA2LDI0OSw2NCw4MCwyMjIsMjgsMjEsMTY5LDUwLDIzNSw0LDIzNyw1Niw4MSw4Nyw3NiwzMiwyNTEsNDIsNiwxNzMsMTA1LDU0LDE5MSw4LDEzNiw1LDI0NSwyMDYsMjM5LDE3Niw5LDExNiwyNF07ZnVuY3Rpb24gYihlLHQsbil7dmFyIHI9ZS5nbCxpPTEvdCxvPTEvbixhPTU7dGhpcy5wcm9ncmFtPXYocixJKSx0aGlzLnNldFVuaWZvcm1zPWZ1bmN0aW9uKCl7ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9pbWFnZVwiKTt2YXIgZT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ZsaXBZXCIpLHQ9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9zaW5nbGVTdGVwT2Zmc2V0XCIpLG49ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9kZW5vaXNlTGV2ZWxcIik7ci51bmlmb3JtMmYodCxpLG8pLHIudW5pZm9ybTFmKG4sYSksci51bmlmb3JtMWYoZSwxKX0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuZGVub2lzZUxldmVsJiYoYT1lLmRlbm9pc2VMZXZlbCl9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbihlLHQpe2k9MS9lLG89MS90fX12YXIgQT1bMTEsMTk2LDI0MiwxMzksMTk4LDI1MiwxODgsNSwzMiwxNjIsMTcxLDEyOCwxMywxNjAsMjUsMjIyLDE3MiwxMDIsMjA3LDI0NCwxNTgsNjksMTAzLDU3LDIzOSwxMTEsMTUwLDE4LDE1Nyw4Miw1NSwyMTAsMjAsMTMxLDE1NiwxOTAsMTAwLDExMiwyMzAsOTcsMTk5LDIyNSw5Niw3NCw5OSw5NCwyNDgsMjIyLDE2MiwyMTMsOTUsMTIyLDE1OCwyMTIsMjMzLDQyLDIyLDM3LDIxNywxMTUsMzYsMTUyLDMwLDEyMywxMTYsMTA0LDIxMiwxMDksMTI5LDQxLDIyMCw3NywyMTMsOTcsMTI0LDQ1LDQsMjE5LDE5NywxNzEsNDAsMTgsMTQ5LDEwNCwyMCw0LDI0OCwxMDIsNjQsOSw1MCwyMTcsMTI0LDEzMSwxODAsMTg4LDE1OSwxNzAsNjMsMSw4NCwxMzAsMTUwLDExNywxNCwyMTIsMTE4LDY3LDE2NSw5NywyMDcsMjQyLDI1MSwxNSwzMCwxODcsMTg4LDc3LDc5LDEyMiw2NywxMDEsMjUyLDEwOSwyNDQsODIsMzcsMTkxLDIyNywzNSwxMTQsODcsNTcsNzEsOTksMjE4LDE1NSw1NCwxMDEsMjM5LDEzOCwxOTcsMTMsMjI2LDIyOCwxNzYsMTU3LDE1OCw4Nyw5OCw1NSwyNTEsNzksMTUwLDY0LDEzOCwyMDAsMTM1LDQwLDEzMiwxMzUsMjA3LDE0NiwyNTIsMjIyLDU3LDU4LDExMSwxNTEsMjI1LDc4LDU5LDM2LDIxMCw3MCwyOSwxMjEsMTYwLDIxMCwzMSwxMDksNjcsMTY3LDE5NCwxNzcsMjM2LDkxLDEwOCwxNjQsMjI5LDEzMCwyMTEsNTksNjYsOTMsMTgsMTA3LDIyNiw1NCwyMTAsNTEsOCw3NywyMTcsMTksNzMsMTg3LDMzLDMwLDU5LDksMTM1LDE2Miw0OSw1LDExLDIyNSwxMTEsMTE5LDExLDI0NywyMTgsMTI5LDExNSw4MywyMDUsMTcwLDIxLDQsNjksMjEwLDEzMywxMzQsMjQ1LDEwOSwxNSwxNzcsOSw4MSw4MSwyMDMsMTA1LDQyLDE1OCwxMiwyNTUsMTUxLDE2NSwyMzAsMjA1LDUsOTIsMTk2LDI1MSwyMTEsMTg3LDI3LDIxNCw0MywxODYsOTEsMjMzLDg1LDE5MiwyMjksMTUsNzEsMzgsMjIwLDIwLDM4LDEwMSw0NCw3OCw3LDYwLDI1MSwxODYsNzUsMTAzLDEwOCw1MywxNjYsMjIwLDE4NiwyMDgsMTk0LDEyMCwyMDcsMjMwLDE1OSwyNDgsMjIsMzIsMTQyLDEyNCw5NiwxNTcsMjIyLDYwLDE5MSw2NSwxNDUsNiwyMzksMTI1LDE1MSwxNDcsNTAsNTgsMTMwLDIwNywxMTAsMTMxLDIyMywyMzEsMTM3LDIzOCwyOCwxODIsMjE2LDE2NywxOTgsMTkxLDM3LDY3LDc2LDEsMTQ0LDIzMiwyMTgsNzksNzIsMjgsNjUsMTAxLDQzLDIxNiw2NCwyNTMsMTYsMTczLDE3OSwxMjMsMTQwLDI3LDIzMywyNDUsMTk5LDIzMCwzNiwxODEsMTAyLDExNCwyNDcsMTYyLDE4LDM0LDIwLDIxMiwyNSwxNzEsMjQsMjgsMTQzLDgwLDk0LDQwLDE2NywzNCwyMDksNjEsMTE3LDEzMCwxLDE5OCwxOTYsNywyMSwyNTIsMTgwLDI1NSw5MiwxMjgsMTE5LDksNDgsMTU2LDEzOCwxMzYsMTUxLDE0MywyMyw0NCw1MiwzLDQwLDE5NywyMjgsMzEsMTIzLDY3LDE2MywxNDAsMzIsNTQsMjA0LDE4NywxNDksODAsMTksMjU1LDgyLDEyMCwxOTUsMTIsMTEwLDY1LDU2LDIxMiwxNDMsMjIsNzgsNDQsMjM0LDcyLDE0MCwyOSwxMTgsMTAzLDE4LDM2LDcsMTIyLDUwLDM3LDEzOSw0NywxNDIsMjQzLDI1LDIwOCw4OCwyMzcsMTI2LDUwLDEwMywxMjcsMTksMTgzLDI5LDE2OSwyOSwxLDU1LDIzLDEwMCwzMiwxMjksMjM5LDI0MywxNjAsNjEsMTc4LDE5NywxMTcsMTk5LDQ1LDU3LDI2LDE2NSwxMzUsOTIsMjE4LDU5LDAsMTk3LDU0LDEzLDk2LDQwLDE0MSwyMTIsMjIxLDEzMSwxMDMsNDYsMjIsMjI4LDE5MSwxNjcsNzMsMjAsODYsNjIsMTEsMTQ3LDIxNywxMTYsMjA1LDIwMywxMTAsMTM0LDI0OSw1MSw2LDEyMywyMyw4NiwyMzEsMTU3LDgsMTQ0LDgzLDEyNiwxMTUsMTE4LDM1LDk2LDM2LDIyOSwzNiwyMjAsMjI4LDE0Myw3MSw0NSwyMjMsMTI5LDQ4LDIzNiw1LDE0NSwyMDIsMTg4LDIwOCwxODQsNzAsMjQxLDEwNCwyNTUsMTg4LDE4MSwxNDYsMjEwLDIwNiwxNDQsNTMsNzcsMTAxLDEyMCwzOCw4LDI0NSw4MCwyMzAsMTY1LDE2MCwxODMsODMsMjAyLDc5LDEyNyw1NywyMTQsMTI2LDI0MiwxNTAsMjA4LDQwLDIzOSwxNDgsMzUsMTYzLDIwMSw5Nyw3NCw3MCwyMTQsMTgxLDYzLDI0MCwxNDcsMzMsMjUzLDE0OSwxNDAsNzcsMTk3LDgyLDEyNiwxODksMjMxLDcsMTk2LDIxMiw4MCwxNCwxNTEsMjQsNTcsMTQ0LDI0Myw4MSwyMzQsNjYsMjQsMTksMjM2LDIsMTM3LDEyMSwyNDYsMTI5LDY1LDcsOTksMTEwLDE3NCw1NCw3NCwxODIsODEsMjM0LDE0MiwzNyw3MiwxMTAsMjIwLDI1NSw2NCwxMTksMTAsMTg4LDExMSwxOTEsMjI4LDEsMjA1LDksMjA0LDE0Myw1Niw2MiwxMjUsODQsMTA2LDIyNSwxMzEsOTcsMTkyLDQzLDI0MCwxNTcsMTYxLDc1LDE2OCwyNDcsNDQsMTc1LDY1LDgxLDE5Miw0OCwyMSwxNTcsMTY3LDgwLDE5MSwxMzAsMTYxLDc1LDg1LDE4NiwxNzQsNDIsMTE3LDEsNjgsMjUyLDIwNCwxMzgsMjU0LDIwMywxNTIsMjEsMTMsNjQsMTQ0LDE5NSwyMDcsMjM4LDIyOSw1NCwxMDMsMjQ3LDE1OSwyNDUsMjExLDg1LDE5MSwxNDEsMTY4LDMyLDIzNCw4NSw0NiwxMTgsMTIsNSwxOTksNCwxOSwyMTcsMjAzLDIwMiwxNTYsMzMsMTQzLDExNCwxMTYsNjAsNjYsNDAsNTgsNzcsMjA4LDIzNywxNzEsMjYsNzIsMTc1LDExNCwyMDUsMjQ4LDg3LDEzNyw2MiwyMTAsMTQzLDE1MSwxOTcsMTY3LDIxMCwyNDEsMTIyLDE1MCwxMDQsMTIyLDE1NCwyLDcwLDEwMiw4MywxOSwzNiwxNDEsMTM2LDE5OSw0Miw3OSwyMjksNzEsODYsMTk0LDEwOSwzMSwyMzYsODAsMTY2LDE3LDIzMCwxMDksMSw0MCwyOCw0NiwyMjQsNTYsMjAsMjMwLDQ3LDEwMCwyNTQsMTE2LDIwOCw3NiwxNjksMTU3LDI0MSwxNzUsMyw3MCw4NSwzMSwzOCwyNDUsNTgsMzMsODAsMTQ1LDIzNyw4LDIyLDcxLDIyNCwxNTgsMTU2LDMxLDI0OSw4MSw4NywyNDcsMjMwLDE5OSwyMzcsOTYsMTY3LDEyMyw2MywyNDMsNzksMTU2LDIwNiwyMDMsMTYwLDU0LDEyNCw2OCwyNTMsMjE1LDEzMiwyMzUsNTcsMTg1LDkyLDIzOCw1NSw1OSwyMTAsMTA0LDcxLDI2LDE4MywxODAsNzEsMTIsMjU1LDIyNCwxOTIsNjUsMTU0LDcyLDI0NCw4LDE2NCwxMCwyNDgsNDYsMjA3LDMwLDkyLDEsODAsMjQ0LDMxLDE4OSwxMzgsODgsMjE2LDIxOCw2MywxMDAsMjI3LDExNiw1NywxMTksOTQsMTM1LDUsMTI2LDI1NSwzMiwxOTEsMTYzLDYxLDIwOSwxOTQsODgsMjQ4LDExMiwxMzksMTczLDQzLDY5LDEzNCwzLDE2MCwxNTEsMTM3LDI1LDk4LDIzOSwxNjYsMTksMTIzLDIwOCwxODAsMzEsMTIwLDMwLDE5MSw3NSwxODMsMTc5LDEyNiwxODAsMTI1LDkyLDEwNywxMDUsMjA2LDEzOCwyOCw2NywxMzksMywxODgsMjMwLDE4NCwyNTUsMTIxLDEzLDE4MSw0NSwxNjAsMTE0LDIwMiwxOTQsMTIzLDg3LDU1LDEyNCw5NywxNjQsODIsOTUsMjMyLDIxNiwxMTcsNjIsNSw5MCwxNzYsODIsMTY3LDUyLDE2MCwxNTMsMTc0LDE2OCwxMDUsMTQ2LDkxLDI0OCw4MSw3OSwyNDksOTcsMTM4LDEzMywxNzAsMjQ1LDIyOSwxMzIsNjEsNSwxNDksMjI0LDI0NiwxOTQsMjEzLDYxLDEyLDEwOSw0NCwxMzYsMjM1LDk1LDIxOSwxMzMsMjIwLDI3LDkzLDM2LDkzLDEyNCwxODAsODEsMTQxLDE1MiwyMjAsMTcwLDE2MywyMjksMTk3LDEyNCwxNzEsMjMyLDQ4LDcwLDI1MSwxMDYsMTE5LDE1MCwyMCwxNiw0OSwxMTksMjQ3LDQyLDEzMiwzNiw3NiwyNTQsMTI0LDE3Nyw2NiwxNzUsOSwxLDM5LDkyLDEyNywxOTUsMTcxLDE5OCwzNCwyLDY0LDE0NCwxNzksNzIsNDAsMTUxLDExMCw4OSwyMjksNDIsMTI1LDMzLDIzOCwxNiwyMjAsMjI4LDUxLDIwMyw4LDEsNjgsMTQ1LDI1MywxMzMsMTE4LDkzLDE2MywxMjksMjIsMTMsMjQ4LDY1LDEyLDQsNjMsMTAxLDIxMCw3MCwxNzAsMTM4LDIwMywxNCwyNDYsNTQsMTk0LDE5NSwyNywxMDcsMjQxLDE3NSwzNSwxNzEsNDksNTIsMTA2LDEyMSw0NSwzNiwxNTIsODUsMjE1LDEzMiw3OCwxNjcsMzQsMTgsMTY3LDI0NSwxNTIsMTMzLDEzNCwxNzAsMTIwLDE4MiwxMCwxNDYsMTkxLDM3LDIsMjA1LDQ3LDEyNSwyMCwyMDMsNDQsODgsODEsMzIsMTUwLDIyMywyMjAsMjE4LDIzOCwyNTQsMzAsMjEyLDE2NywyMjEsMTE1LDE1Niw4MiwyMjYsMTM3LDIyMCwyMjEsOTcsMywxMzksMjAyLDMzLDksMjcsMjYsMTI2LDQwLDIxNSwyNSwxMjYsOSw4MiwyMDgsNDksMjE3LDE0LDE2MSw4MSwxOTYsNjEsNjAsODcsMjU0LDIxMywxOTQsODEsMjE2LDE2MSwxNTEsMjA5LDE2NiwyMjIsMjMwLDI0LDEyOCwxMTcsMTQwLDkyLDQsMjAzLDI1NCwxNzAsMjUzLDI0OSw4OCw5MCwxMTIsMjI2LDE4LDQ0LDEyMiwzOSwxNTgsMTU4LDU2LDY5LDIwNCwxNTksNSwxNzksNTEsMTk3LDIzMywxMzksMjE2LDEwMiwyMjYsMjA2LDI0OCwxNSw3OCwxMTIsMjE0LDEyNiw2NywyOCw0MCwzOCw5OCwxOTAsMTc4LDIwNiw2Nyw5NCwyNDUsMjU0LDE2MCwxMDEsMTc2LDMyLDE1NywyNiwxMzIsODMsMjUyLDIyOCw4NywyNDIsMzIsMTI3LDE2MCwxMTIsMjEwLDIyNCwxMzMsMTQ5LDExNSw0MSwzMCwxNiwyMDAsNjksODksODEsNzcsMTQ0LDEyLDEwNiwxODIsNzMsNTQsMjgsNTMsMTk1LDI4LDIxNiwxNzksMTc5LDEzNiwzNSwxNDEsMTAyLDIzNCwxNzcsMjQwLDM0LDE4NiwxMDYsMTQ1LDI0NSwzLDg0LDQ4LDI1MSwxNTcsMjQ1LDExLDIxNywxMTEsMjI3LDEzOCw0Miw2NywxMTQsMjExLDE3NywzNywxMDMsMTYsNzEsMTUyLDcyLDExNywxMjMsMzYsMjEzLDIwMiw1NiwxMjQsMjI3LDg0LDgsNDUsMjI5LDE0OSwxNjUsMjE0LDY5LDI0NCwxNjksNTUsNjgsNjIsOTQsMTA0LDIyOCw3NCwyMDUsMTIzLDIyMiwxNyw3LDE3MiwxNTgsMjI3LDc0LDIwNiwxNDksNjcsMTc1LDE3MSwyNTEsMTg1LDEyMSwxNTEsMjIzLDYzLDM1LDIyOSwzMiw0OSwxOTAsMjA5LDEyMCwxMzcsNjksMjEzLDIxNCwxOSwxNTAsMTg3LDE3NywyOCwxMiwxNTgsMTUzLDEyNiwxNDksMTcxLDE2NywyMzQsMTIwLDEyOSwxMDksMzIsMTU3LDE4MCw3NSw2Niw1NiwyMzMsMTE1LDEyNywyMzAsMTU3LDMyLDM0LDE0MywxNTYsMzEsMjMwLDE2OCwxNzQsMTI1LDExOCwxOTUsMjQ5LDI0MywxNjUsODEsMjQ2LDEwLDE0NCwxNSwxMDMsMTM5LDU1LDE3Myw3LDU5LDEzNiw2OSwxNzIsNTQsMTMyLDE2NSwxNDAsNzgsNzcsMjMwLDMzLDE2OSwxMjksMTg4LDcxLDIwOSwxMDksMTYxLDgsNTcsNTcsMTk5LDE0MywzMSwxNjQsNDMsNTgsMTMwLDEsMTEwLDE0NSwzMSwyMjksMTMsNDYsMTQ5LDk0LDI0NCwxMDYsNzYsMjM4LDEwNSwxMDcsMSwxODMsMTc3LDEwLDYxLDIyNSw5NCwxODUsMTE2LDU4LDE4Myw5NSwyMjUsMjIsMTE5LDE5LDI0OCwyOCwxMywxMjMsMTI1LDEwOCwxNTgsNjQsMTg0LDc3LDI0NSwxNTMsMTYyLDIxNywyMjcsMjA4LDQxLDE4NSwyMTEsMjM1LDQxLDE1MywxODEsNTQsMTY2LDE2NSwxMSwxNTQsNTUsMjEsMTg0LDIwOSwxOTIsMjQ5LDQ0LDE2NCwxNjAsMjksMjI5LDE1OSw4MiwxNTYsMTk4LDI0MSwxODMsMTE0LDgzLDEzNywxODYsMTUxLDE0OCwzMSwyMSwxOTcsMjE2LDE0NSwzMiwxMyw1MCwyMiwyNDEsMTM3LDM5LDcxLDI4LDE0MiwxNjAsMjE1LDEwNywyMjEsNDUsMjAyLDEwNCwyMjcsMTEwLDE4NiwxMiwxNTAsMTQ1LDI0MCw1MSw0OSw0NCwxOTYsMTE1LDIyNCwyMzgsMTQ5LDE4OSwxMzQsOTksNjcsMjQxLDYyLDE1NywyNDAsMTE0LDI0NywxOTUsMjYsMjAwLDE0MSw5NywxNDcsMjQ5LDIzLDE1MCwxNzQsMTAsMTMsMjE5LDgxLDczLDU4LDI0Miw5NiwyNTAsMjQzLDE1LDQ5LDIxOCw1OCwyMzAsMTA0LDI1MiwxNzUsMTUwLDEyMyw4NiwxODUsODQsOTAsMTk4LDYsMzYsMCw5OSw3MiwyOCwxNjYsMjM4LDExNSwyMzEsMTcxLDI0OSwxNzksNzEsMTc0LDY4LDE1NiwyMjcsMTcsMTk4LDc5LDczLDE0Miw5OSwxNDQsMjAsODAsNjIsODAsMTkxLDE0Miw0Niw3MSw5LDI0Myw2LDgsMjE0LDExNiw3MiwxOTAsMTA2LDE2MSwxOSwxODUsMTAwLDksMTg3LDY0LDk0LDg2LDIwMywxNzQsMTU2LDI0NSwyMjIsOTUsNTQsMzAsMTQ4LDE5LDExLDUwLDExMiw5Niw2MSwyMzcsMTU5LDE3Myw3LDE1NCwxMjcsMTc1LDc5LDQ4LDk3LDg5LDc4LDEyNiw2NiwxNzEsMjA0LDE1OCwxOTUsMjcsMjI2LDIwNSwyMjIsMTU3LDg5LDI1MSw5MCwxMjUsMzcsMjEyLDI3LDk3LDMsMTQxLDI0NywxNzUsNTAsMTIxLDcsMTg3LDY4LDE5NiwxODEsMjAyLDE2NywxODksNTcsODQsODEsMjIyLDIzLDI3LDg0LDEzMCwxNzYsOTgsNjYsMjQwLDIwNywxOCwyMywyOCwxNjMsMTYzLDE5NCw0NSwzNywxMjksMjAyLDE3MCw5NywxODksMCw4MSwyMzgsMCwzOSwxOTksMTYzLDM1LDIxMSwyMDYsMjQ3LDY1LDI5LDExNiwyNDIsNjcsMTAyLDIzNSwxMywxMzYsMjMyLDIzMCwxMTQsMTQ2LDE4Nyw3LDI1NCwxNDIsMjYsMTIxLDE2LDIzNyw1LDE2MCwyMDEsMTE0LDk0LDE3OCwxOTksOTUsMjEyLDI0MSw0NSwxMTIsMTgwLDE4OCw3Miw4NiwxMTQsMTg5LDE1NSwxNDksMTQ5LDE2MywyMTAsMTEyLDEwMSwxMiw2OSwyMjUsNzUsMjAyLDIyMywyOCwyNDIsOTAsMjE1LDE1NiwxNjksMjI0LDI0NSwxMzUsMTI4LDkyLDE0OCwyMTcsMTMxLDIwOCwyNTUsMjUsMTM1LDExNywxMzYsNSwxMDQsMTg1LDI0OSwxNjEsMjI4LDIxNCwxNiwxMDUsMjA0LDksMTgyLDEzNSwxNTMsMjIwLDEwMSwyNDQsMTYwLDIwNyw1OCwxODIsMTE4LDE4NSwyNDAsNTcsMjQ1LDEyMywxMywxMTIsMTgyLDEwNiwyMjksMjIwLDkwLDI5LDg2LDIxNSw5NiwxNDcsMjMyLDIsNTUsMTMxLDIyNSwxMzcsNjgsMjQ1LDg5LDE0MSwyNTIsOTcsMywxMjksMTU1LDIxNiwyMjMsOTgsMTE2LDQ1LDc4LDg1LDE0MSwxNjEsNzQsMjE1LDcsMTUwLDE3MSwyMjUsNTksNzgsMjIxLDE1MiwyMzYsMTQsMTE3LDEwMCwyMDgsMTU4LDg2LDEzLDE4NSwxMjQsODcsMTU3LDExMSw0MCwxODcsMTgyLDEyNCwxNzMsNzEsMTczLDIzLDE5OSw1MiwxNTUsMTkwLDEzNCwxMSwyMyw2NCwyNSwyMTUsMzksMTE1LDIzMSwxNzMsNzcsNzIsMTE0LDU0LDI1MiwxMTYsMTc4LDU5LDIyMSwxMDYsMjQxLDExOSwyNTQsMzAsMjI2LDI0MSwyMDQsMjMzLDExMywxOTcsOTYsMTQ2LDAsNDEsNjcsMywyMzEsMTI2LDEyLDIxOCwyMDIsMjIsMTcxLDExNCwyNDksMTc2LDEzNCwxNjAsMTksMjE2LDMxLDIyOSwxMTgsMjI2LDYyLDI0MiwxMjYsMTI2LDQyLDEyNywxMzAsNjgsMjE4LDIxOCw4MSwyMDIsMTA2LDIxNywxOTEsMjUsMTc3LDgyLDk3LDgxLDM2LDIzMiwxMzcsNTgsOTAsMjE2LDE5MCwxMTcsMjM1LDIwLDE5NCwxNDQsNzYsMTc4LDI3LDIxMywxMywyMDgsMTgsMjksMTE4LDEyNiw0OSw5OCwyMDMsMTc5LDEyOCwyMzcsMTAwLDMyLDI0MiwxODksMjEyLDYsMjEwLDIxMCwxODgsMTYxLDIwNSwxMywxMjQsMTE5LDEzLDIxNSwxMTIsNDEsMTgzLDE3NiwyMTUsMTY4LDIxMCwxODIsMTExLDEsMTE1LDIsMjM5LDE0MSw4LDE3NywxMjQsMTEyLDQ4LDE5NywyLDIzOSwxMSw5OSw0LDM2LDc3LDY5LDQ3LDI0NCwxOSwxNTMsNjEsMTksMiw5NiwxNzYsNywxMTIsMTIyLDEzMSwxNjksMjUsMTg5LDExNiwxNzEsNDksMTIsMTIxLDE2Miw3OSwxNTQsNzQsMjUxLDUwLDIzMywxODIsNjMsMTgwLDIyNCwxMTgsNDksMjUzLDIxLDIwLDE2LDMxLDE0NCwxODQsOTMsMTc0LDIzMSwyNDQsMTgzLDEzLDQ5LDIyNSwxODksMjExLDczLDE4NSw0OSwxMTAsMTQyLDI1LDIyNiw0NSwxNzYsMjMzLDIwNCw3NCwzMywxNiwyMDUsODgsMTMxLDkyLDE1NywxNzAsMTc1LDY4LDE3MCw2MSw1MywxMTYsMTY1LDE2LDI3LDE4MiwxNjAsMTgxLDg3LDI0MSwxNSwxNTEsODUsMTA3LDc2LDE2NywxMjksMjUsMTcyLDEyNywxODQsMTM4LDE1MywyMjIsMjI4LDEyNSw2NCw0NCw0NSwzMiwxMiwyMjcsMTQ4LDEwNiwxNTIsODMsMjQwLDE2Niw1NCwyMzUsMzIsMTkwLDEyLDI0MiwxNjQsMTIzLDE4OSw1MywxOTQsMTQxLDEwNCw0MywyMDIsMTEwLDQsMTY4LDExOSwyNDUsMjMyLDE3OSwxNzgsMTk4LDEsMjI0LDg3LDg2LDE2MCwzMSwxOSwxNDAsMjMzLDEwMiwxOTEsMjA0LDQsOTgsMTM4LDE2MywxOTEsMTA2LDI0LDIxMyw0NywyMDgsODIsMTM3LDEzMiwxMzEsMTYsMjUzLDg0LDI1LDE0NCw5MCwxNTksMTQ4LDE2LDE5Niw4NCwxNjYsNjEsMTYwLDEwMSwyMjksMjI3LDkzLDExOCw1OSw4Nyw2NiwxNiwxMjgsNTksOTYsMTMxLDI1MCwyMCwxODQsMTUwLDIwNSw5MSwyMjcsMjAxLDYyLDM1LDc5LDE4MCwxNzIsMTczLDg1LDE5NywxMDYsMTUzLDIzOCwyMjksNjAsMjA0LDY1LDE5MywyMzAsOTQsMTAxLDE3NywxMzQsNiwxNjUsNTMsMTcxLDE0MiwyMDgsMTU1LDIsMTEsNCwyMDIsMTI3LDU0LDE3LDE0MiwxMTcsMjI3LDEyMSwxMjgsMjA0LDE5MiwxNDcsMTQ3LDkyLDE4OSw1LDIyNCwxNDgsNzIsMTgsODMsMTAxLDEyNiwxMjQsMjI4LDE1MywyNDIsMTIzLDIyOSwyNDcsOTIsMjIxLDYsNzMsMjI3LDI1MCw4NywxNjcsMTk0LDEyOSwxODcsNzMsMzgsMTg1LDEwOSwyMTcsMjQwLDE5Myw4OCw1MCwxNzgsMTgwLDE1MSw1NCwxOTcsMTg3LDEzNywxOTAsMTY2LDIzMywxLDEwMywyMDQsODgsMzEsMTI3LDE4NSwyOSw2NSwxLDI5LDI1NCwyMjMsMTQsODMsMTY3LDIxNSwxMTQsMjQ4LDMwLDE3Myw4OSwxNzMsMTg3LDY5LDUsMTA1LDExNywxNSwxMDYsOTQsMTczLDYzLDIyNywyNSwyMzAsMTkwLDEzNiwxNjgsMTc3LDE3NSwxMDcsOTEsMTI2LDI1NCwzNCwxODgsMjUsMTE4LDQ4LDEyLDIyNiwxMzAsMTUzLDE2Miw1Nyw0NywxODEsMjEyLDc5LDE2MCw5Nyw2NCwxNTcsMjQ2LDkwLDUzLDQzLDE0OSw3NiwxMDIsMTUsMTk1LDEwNyw1OCwyNDIsODQsMTcyLDI5LDgxLDE5OCwxMTMsODEsMjUxLDEzOCwxODIsMTU0LDExMSwzMCwxNzEsMTI5LDU2LDE3LDQ1LDIxNCwxNTMsMTEyLDExNywyMDMsMTc0LDQwLDM4LDIzNCwyMzYsMzIsNCwxMTIsMjI1LDI2LDE4NywxOTUsMjQ2LDI1Miw5LDIxOCw2OSwxNjAsMjIzLDE3OCw1NCwxNDgsODEsOCwxMzQsMTUxLDc1LDI0OCw2MywyMjQsMjQwLDQ4LDc1LDI1MCwyMjEsODUsNDYsMTAwLDUwLDMsNzAsNjQsMTAyLDExMSwxNjAsMTU1LDIzMyw1OSwxNDcsMTg0LDU3LDYxLDYsMTI2LDc5LDE3NiwxNiwxODUsOTQsMTY2LDMzLDEzNSw3OCw0Miw3NSwxNDAsMjA4LDE0MCw0NCwxNTMsMTg3LDY0LDEwMywxMTksMTYwLDIzNiwxNiwyMzksNzQsMjE4LDIxOSwyMTIsMjA3LDExMCw1MywzMCw3NiwyNDgsNDAsMTExLDk4LDQ0LDIwLDExMywyMDQsMjMzLDEwOSwxMzUsOTYsMTA3LDM5LDE2MywyMDMsMTI1LDQ1LDE1NywxNTIsNzEsMjM5LDE3NSwxNzQsMTU5LDE0Nyw4MCwxMTEsOTMsMzgsMjUzLDIyOCwxNTQsMjI1LDE4MSwxMDEsMTIsMjQxLDEyNyw2NSw0OSwxODksNSw4NSwxNTEsMjM3LDIxMywxNDMsMTQsMTA0LDEzOCw1NCw1MiwyNyw0LDEzMiw2NywzNSwxNTYsODYsMTU3LDczLDE2LDIyOSwyMjIsMjQ1LDExMCw3OSwxNjUsMTc5LDU2LDE3OSw1MywyMTgsMjI5LDEwMCw1OCw4NywxNDksNDgsMjMxLDY0LDYzLDExNSw2NywzLDE3Miw2LDE4NiwxMTUsMTU0LDYwLDUzLDIxNCwxNTIsMTQ5LDg5LDIzNCwzNywxNDMsODIsMjU1LDY0LDI4LDE4Myw5MywxMTIsMzksNzAsMTg1LDU3LDAsMTk5LDksNjEsMTc1LDIxOSw0MSw3NiwzNywxNzYsODIsMTI1LDY1LDUzLDE2MCwyMTQsMTA1LDYyLDE1MywyNDQsMjIyLDk2LDIwNSw2LDE3OCw4NSw0MSwyNDAsMTEzLDAsOTYsMTQ5LDM4LDMsMTk1LDE4LDE1Miw0MSwyNDYsMywxMDMsMjksMTEwLDEzNCwzMCwxMDEsNzUsNDYsMTAzLDE5OSwxODQsMjAsMjMwLDgsNTUsMTIwLDQsMjI5LDE2OCwzNSw0Myw3LDI4LDE2MSwxNDMsODcsMjcsODcsNzksMjU1LDE4Niw0NCwxOTUsMTU4LDE1NSwxODEsMTE5LDgxLDE3MiwyMTcsMTA3LDk1LDk4LDU1LDI0MywxODYsNjYsMTA1LDQ4LDIyNCwxMjMsMjMyLDg0LDE1NiwyMCwxMCwxNTYsMjA4LDIwNCw1MiwzNCwyMjgsMTM2LDk3LDI0MiwyMDAsMjQ2LDIxMSw2NywyMDIsNDAsMjQxLDkxLDkyLDI1Myw5LDU0LDcyLDEzMSwyMjEsMTA2LDE3OCwzMiw0NCwxODIsNCwyMjUsMTkzLDM3LDIwLDI0OSwyNDksMjMxLDEwLDIwNiwxOCw3MSwyNTQsMjIxLDE4NywxNzIsODgsMjA0LDYsMTI3LDEzOCwxMDIsNywyMDgsNzUsMTQ3LDIxOSwxOTksMTc3LDc5LDM2LDE3MCwxMDEsMjA3LDE3NywxMDksOTUsMTQzLDIxNyw0MSwxOTksODAsMTgzLDIwMSwyLDI1NCwxMiw1NSwyMywxOTgsMTQsMjU1LDY5LDI0NSwxMzgsMTU1LDEyOSwyMjcsMTY3LDE2OCwxMzAsMTU2LDEzNSwxNCw5Niw5Myw0OCw5OSwxNDMsMTA3LDEyNiw5MiwxMTcsMTQzLDExMiwxMDgsMTkzLDIyOCw4NCwxMyw0MSwxODYsMjcsMTcyLDkyLDIwMSwxNDksMTE2LDE5LDExMiwxOTcsMTE2LDIwOSwxMjgsMTAyLDEsNTUsMTUyLDE3NywyOCwzNywzNCw1MCw4Myw0MSwxOTksNzQsMTc4LDU5LDExMSw2NywxMTgsMzUsMjUyLDM2LDMzLDg3LDI4LDE3MCwxNywyMTUsNDcsOTAsMTU0LDEyNCwxMzcsMTUsMTQsMjExLDU5LDc1LDU5LDMwLDc3LDAsNDksMzcsMjI1LDE5MSw4NywxMDEsMTI3LDIxNCwyMjcsMTYwLDk5LDE3NCwyMzQsODIsMTQ4LDIzNSwxNiwyNDEsMjE5LDE0NywxNzAsMTI3LDIyMSwyNTAsMTE2LDM5LDIxOCwxNTYsNzIsMjI3LDE3Miw1NSwwLDc5LDE4OCw3Niw1MSwyMjIsMjMyLDI0LDM2LDYyLDk0LDE1NCwzLDYxLDIzMCwxNDYsMTE0LDI1MywwLDEyOCw1OCwyNTMsOTAsNzIsMjExLDI0MiwzOCwzOSwxMzMsMTUzLDE2MSwxMTksMTA1LDE5NSwxNTIsMjI1LDIwOCwxMDUsMTQwLDgwLDIxNywxODYsMTk2LDE1NywyMSwxMTYsMjMwLDExNiwxMzksMjUsMTU5LDE0MywxMTgsMTI4LDc3LDIwMSwyMzgsMjQ3LDIyOCwxNSwxNjgsNCwxMzMsMTQ4LDIxLDE0OCwxMiw0NCwyNDEsNywxMTUsMTcsMTI5LDE3NiwyMDIsNDYsMTMwLDEyMiwxMjksMjM1LDE0MSwyMjMsODUsMjEsMTk5LDY1LDE4MSwxNjksNTIsMTc0LDE2MSwxNTMsNjIsMjUsMTY0LDExNSwyMTMsODksMTM4LDE5OSwxMDMsNzksMjAwLDE2NSwxMzUsMjQ5LDI0NCwyNywyMDksMTc4LDI0MCwxMjksMjExLDYxLDksMTExLDE1NywxNDcsMTE5LDM2LDExOSwyNTUsMTEwLDEzMCw4NCw0OSwyMTAsMjI1LDI0NywxMDAsMjYsMTIxLDEyNywxNjMsMTYwLDI2LDc5LDk5LDI0LDc3LDY1LDMyLDE3OCwxMDksMzYsMjcsMjUzLDE3MywxMTAsMTgzLDExLDE0LDIxMSw1NywxMzAsMjU0LDEyNCwxMDQsMTY1LDIxOSwzMSw3MCw5NywxNCwxOTQsMzksNjEsMjYsMTQxLDEyNSwyMjgsMTI2LDE5NCwxODQsMTAxLDE2MCwyMDQsMTA2LDEyOCwxNDQsMTA2LDEwMywxNzEsMTgsMjQ2LDEyOSwyMjAsODUsMTcyLDE1MSwxMjMsNSw3MywxNTUsMTkyLDE3NSw5MSwxNTcsMjM5LDYxLDIzNywxMTYsMTcwLDY1LDIzMyw1NiwxOSw0OSwxMTQsMTY4LDE5MCwzLDIxNCw1MywyNTAsOTAsMjEzLDI0NCw4OCwxMDEsMzAsMjI5LDI0OCwxMjQsMTUsNzEsMTQxLDI3LDE3MiwyMzUsMjEsMTI5LDIxMSw3Miw2MSwxNzIsMTEyLDE3MCwxMjgsMTM1LDk2LDE5NiwyMjEsMjU1LDI3LDE3NiwxMDUsMTg4LDE4MywxMjEsMzMsMzcsMTQ5LDUzLDEzMSwyMjYsMjMzLDI5LDE2NywyMzQsMjE4LDEwOSw1MywxODUsMTUyLDM2LDI0OCw1Myw2MSwyMzUsNzgsMjEsMjAxLDIxNCwyMTAsMTYzLDEyLDI1MSwxODcsNDUsMTg4LDEzNywxMjYsMTI3LDIzNyw5MiwyMzQsOTEsMjQwLDIyNSwzOCwxOTQsNTcsMjEzLDI1MSwyMzcsMTcxLDMwLDk5LDUyLDE0LDQ5LDg0LDEwMSwyNTIsMjM3LDcsMTY2LDEyMiwxMTQsMzIsMTA3LDMyLDIwNywyMzksMTM2LDE2OCwxNzgsMTIsMTEsMjQxLDIzMywyMzAsMTQ2LDEzMiwxOCw4MywyMzMsNDEsMTcyLDE3LDYsMTYxLDQyLDExMyw4Nyw0MCwyNTUsMTg1LDEsMTQ2LDEyOCw1LDI0MCwxMjYsMTMxLDcxLDQyLDU0LDEyNCwyMDUsMiwxMjIsNzEsMzAsMjIyLDIyOSw0MCwxMzQsMTQyLDEwMiw5NywyMzksMTUxLDE3NywxLDIzMCwyMzEsNDksMTIzLDIxOSwyOCwxMjksOTEsMTUyLDExMiwxMywxNTQsODEsMTk3LDIyNiwyNTUsMTEyLDE1OCwxNzgsMTc3LDU1LDE4MSwxMDgsMTM4LDE4NSwyNDUsMjksMTg2LDIxLDczLDE4OCwyMDksMTU0LDIwMCw4OSwxMTYsMjM1LDE5OCwxNDQsMzYsODcsMjQ4LDIyLDcsMjAwLDEyMiw3LDE0OCw0NCw0Miw4NywxNDAsMjM4LDIwNCw5NSwyMzEsMjUyLDAsMTM2LDAsMjIsMzksNzAsMTIzLDEyNSwxNjUsMTEzLDIyNywxNzIsMTQ2LDE2MywxMjgsMTU4LDM2LDUyLDkxLDE5LDM2LDI0NSwyNywxNTAsMTM4LDE0MSwxMSw2NywyMzksMjI0LDY1LDI0LDExNiwxMDEsNywzOSw0NiwxNDIsMTcyLDE2NCwyNDMsMTQ4LDAsMzMsMjI2LDU5LDQ3LDIwMywxMzcsMTU2LDI0MSw2NiwyNTAsMTU3LDMwLDIwNCwxMDEsMTQzLDEzNCw5OCwyMzgsMTU1LDIyNiwyNSwxODQsMTM2LDIxOSw4OSwxMDAsMTkzLDExLDE0Myw3MSwxMzksMjQzLDIzMCwxNTEsMCwyNDksMSw3OCwyNiwzMiw5MywxMDQsMTU3LDY3LDk3LDE2NCwyNDgsODYsMTI0LDE0Niw5Myw3NCwyMjIsMjI4LDE2Nyw1NSw1MywxMDAsMTM1LDIxNiwxMDksMTMsNjQsMzcsMTA2LDE3NywyMDAsMjAwLDE4Miw5MiwyNTEsNjksMzEsMjQzLDg5LDgwLDE5OCwxNCwxMzIsMjAzLDcyLDEwMywyOCwxMDQsMjE3LDI0LDk3LDIyMywxMTMsMTEsMjksMTc4LDE5MSwyMTAsNDYsMTYyLDI1NSw2OCw5OSw4LDIzNywyMTMsMTYyLDE1MiwxOTMsMTgzLDEyMSwyMDMsMTksMTA4LDE4MiwyOSw4NiwyNiwxOTIsMTAzLDIyMCwxMDMsMjA1LDE1NCwxNzksMTk3LDksMjIsNzMsMTI3LDE3NSwxNDYsMzgsMTE5LDIxMCwwLDI0LDE4MCwyMSwyNDUsMjE1LDIwNCw5MSwxODYsMTE5LDEzOCwxODMsMjM5LDE1LDE1NSwyMzEsMjQ4LDEzMywzOSwyNCwxMDEsMTQ0LDIzNiwxMCwyMzAsNTQsMTc0LDIyNyw3MywyMSwxMTAsMTAsMTYwLDI0MSwyMzIsMTMxLDE0LDIxMiwxMjcsMjMyLDU5LDEyMiw2NSwxNDYsNTQsMTYzLDksMTg5LDE5MCwxMjEsODgsMTcwLDYyLDE5NCwxNCwyMDQsMTUyLDI0NSwzOCwxMzEsMzcsOTEsODEsNzIsMTE0LDI5LDExNSwyMzksMTgyLDU2LDQ0LDE1NiwxNTksMTc3LDE4MCw4MiwxNjAsOTMsOTcsODYsMTgzLDIzNiw1MCw5NSw4NSwzOSw3MSwxODEsMjI1LDE1MiwxNDMsNjMsMTIzLDExNywzNCw0NCwxMDksMTYwLDE2NiwyMjksMjQwLDkxLDEzOCwxMDIsNTQsMTgwLDE3Myw0NCw1MCw4MCw0MiwxMjQsNyw1MCwxMjQsMjExLDIzOSwyMSw5NCwxOTcsMTg1LDIzOSwyMTMsMTA3LDE0Miw2NCw5NSwxMjQsMTI1LDE3LDE4MCw5NywxODksMTAxLDUyLDQ4LDE5LDExMiwxMiw3MCw5LDIxMiwxNzcsNTQsMTE4LDY2LDg0LDE0NywyMzYsMjQ4LDI2LDEyNCw5NSwxMDMsMTM1LDI1NCwxMjQsNDksMTEyLDE4Niw5OSwxMjAsOTAsOCwxOTQsMTkxLDg4LDU3LDI0Miw2NSw2MSwxMCwxMDQsMjQ2LDE5NywyNTIsMTksMTU5LDU4LDE5NCw3NSwxNzMsMjQyLDEwMyw4LDExNSw4NCw2OSwyMzgsMTQ5LDI2LDE1LDE1OSwxODIsMTQxLDEzMiwxMTksNzAsMjksNTMsMjAsMTQzLDQ2LDE2MywyMDQsNiwyMzYsNTksNDUsMTg1LDE3Miw4OSwxMTksODMsMzgsMTQ0LDM2LDIyMiw5NiwxNTEsMjYsOTksMTk1LDE2MywxNzAsMTMzLDkyLDE1OSwyMTQsNTMsMTUwLDExNiw5MCwxNzYsNjksMTQ1LDEzMCwxNSwxNzIsMTQwLDIxNywyMTUsMTAxLDE2MywxMTUsMTYxLDY1LDEwMSw4LDcsMTgzLDExMywyMTMsMTM0LDU4LDE3NSwxMzAsMjUxLDE0MywxNzMsMjQ4LDE2OCwxMzUsNjAsMTU5LDMwLDE5NCw2OCwyMDgsMTE5LDEyMCwyLDQwLDE3OCwyMjcsMjQ3LDE2MSw3Nyw0NywxMzYsNDYsMjQ0LDE2Myw3Miw2NSwxNTgsMjUsMjI1LDE5NSw2MSwxMzIsMTgyLDIwNCwxNzcsMTg2LDIwMCw4MSwyLDY1LDEwNSwyMTIsNzIsOTQsMjAzLDIzMiwyMTcsMTgyLDEyMywyNTEsMjI4LDE2MCwxLDE2MSwyMDQsMTIzLDIwLDM3LDEsNzcsMjA4LDE3OSw0NSwxNDksMTgxLDEyMiwxMDIsMTkwLDEyMywyMTMsMTY0LDIzMSw0MSwyMTYsMTMwLDIzNCwyNDgsMjA4LDI1MSwyNTIsMjIwLDg0LDIwOSw2Nyw0Nyw2MSwyMjAsNSwxNDIsMTYyLDI2LDIzNiwxMjEsMTQyLDI0OCwxMzIsMjU1LDY1LDEyMiwyMDMsMTk2LDEwMiwxOTEsMTg3LDIsMTk1LDEyNywyNTUsMTkzLDkyLDQ5LDkxLDE4NiwxNTQsMzksMTU2LDI5LDIxMSwxNzIsNDksMTA0LDI0NSwxMTQsMTUzLDIyMywyMTEsMTk5LDI0OSwzNSwxMzAsMTYwLDEyOCwwLDE1MiwxNzYsMTgzLDIwLDIzNiwxMTMsMTkzLDEwOCwyNiwyNTUsMTEsMjM3LDEwMiwxMzMsMjQ1LDk0LDExNSwxMTQsMTAsODksMjI5LDIxNCwyMjEsOTksMTQ5LDMwLDk5LDM3LDI0NiwxMCwyNiwyNiwzOSw5MiwxMjMsMTcwLDczLDIxMSwxMjcsMjI3LDU0LDMwLDg2LDEzMywxNTksMTEyLDIyNSw5MSwxNDgsMTAwLDE3NCwxNDksNzUsMTQzLDE0LDE0MCwyMCw0NCw2NCwyMTIsNSwyNDMsOCwxMTYsNjMsMzAsOTcsNDIsMTIzLDIwLDczLDIxMiw4NSwyMDcsODMsMTIyLDI3LDI1MSwyMzMsODQsMTAsMTcsMjM2LDIzMiw4MywyMDAsMTI3LDExOSwxNDMsMTYzLDIwNCwyMjAsMTY3LDU5LDIzMSwyMCwxMDYsMTg2LDIyMiwxOTEsOCw0MCwyMzQsMjEsMjUsMTgwLDEzLDExNiwyNTAsMTUyLDIyNCwxNzQsNzUsMywyMDUsMzgsMTczLDIxNSwyMzYsMTUxLDE4NSwxMjEsMjU0LDI0NCwxNTQsMjM5LDE3LDUzLDEwNiwxNjQsNjEsNDksMTE2LDIxNiwxMTgsOTQsMTUwLDM1LDE4MSwyNiwyMzgsNjYsNDksMjExLDIyMSwxMzIsMTQ2LDE2NiwxMTUsMzksMTM2LDM2LDIwNSwyMzAsMTc5LDMxLDE5Nyw1MSwxNDgsMTY1LDEwOSwzOCw3MCwzNywxNDgsNTIsNDQsMjA5LDI1MCw5OCw1OCwyNDYsMjI1LDEwMywxOTgsMTAxLDI2LDI1LDE5NiwyMDcsOCwxNjYsMjEsODgsMjUyLDE3NSwyNTMsMTAsODgsMTA3LDE1NywxOSwyMjUsNjEsMTIsMjQ2LDIyMSwzNywyMzksMTg2LDE2NywxMzcsMTQyLDEzNSwyMjIsMTI4LDE3NCw2Miw5NSwyMTYsMzgsMTQxLDE1Nyw0NSwyMzIsOTcsMjE3LDE3MywyMDMsMjM0LDExNiwxMjksNjksMjA2LDE4OSw5NCwyMjEsMTIsNTQsMTM5LDE4NiwyNDcsMTg0LDE2LDIwMCwxMjEsMjQ0LDEwNCw4LDcsMzUsMTExLDQ3LDE4OCwxMCwxNDAsOTIsNzMsMTQzLDIwNiwyMDMsNzIsMTIyLDE4NCwyMCwxMDIsMTk3LDEzMCw2NCwxNTAsNjMsOTYsMjM5LDgsMTMyLDExMSwyMTcsODQsOTEsMTk4LDMyLDQzLDEwMCwxMzgsMjQxLDE1LDE2MCw0MiwxOTAsMjUzLDE5MywxODQsMTY0LDEyNCwyOSwyMTAsOTYsNjcsMjI0LDIyMSwxODIsMjksMjE4LDEyOSwxNDksMjksMTI4LDE3NCw5OCw4OCw4OCwxMjUsNTYsNDAsMjU1LDEyMCw1LDAsODcsMTc0LDQyLDE1MCw5MCwxMTIsMjAxLDE4MywxNjksMTksNTcsMTk1LDE5MSwxMiw1OCwyNDQsMjM1LDEzMiwyNSwxNDUsNzIsMTQ2LDIxNCw4LDEyNSwxMDAsMTM1LDEyLDUsMTAyLDk3LDI0OCwxNzQsMjQsMTU5LDkwLDMzLDQzLDE4Nyw2LDYxLDIxMiwyNDEsMjI1LDE5MCwyMTksMjUyLDE5NywxMjMsMTI5LDE2NCwxMDgsMTIzLDU1LDIzMCw0LDE1MywxNjYsMTA1LDIzNCwxNSw4NSwyMTYsMjMsNTYsMzIsMyw0MSwxMTAsNjgsMTQ2LDE3MiwxMzMsMjAyLDk4LDQxLDcsNDcsMTUyLDM1LDI1NSwxNjgsMTA2LDI0MSwyMjYsMjIyLDc3LDI0NCw1MiwxODUsNjUsMjUyLDIyNywzMiw2NiwzOCwxMSwxNzIsNjAsMjgsMjgsMTAzLDg0LDEsMSwyMDUsMTgyLDE5MCwyOCwxODksMTAyLDI1Myw0MywxLDE5MSwxNDgsMTE2LDEwLDIyNywxOCw4MSw5Myw4MCwyMzksMTU3LDIzMiwyMTUsMTgwLDE2MywxNjUsMTYxLDEwOSwxNzcsNzEsMTUwLDI0NCwxNDQsMjA4LDE2MCwxMTAsMjIsMTc0LDYwLDIwNiw0MywxMDMsMTIxLDU1LDEwMywxMTQsMTE1LDE3MywyMzgsMTMsMTAsMjI3LDI1MSw0MSwxNzYsMjE2LDE1OCwyMjksMjE2LDU1LDIzNCwxMjgsMTI4LDIwLDE2NywxMDYsMTgxLDg2LDE2MywxMzAsMjE1LDExMCwxNDksMTkxLDEwLDIyNywyMTUsOCwyMTQsMTU0LDE3OCwxODEsMTUsMTksMCwyNDcsMjUwLDk3LDc0LDQzLDE1Nyw1NSw5NCwxNzQsNDEsNDEsOSwxOTksOTcsMjAsOTEsMzIsMTgsMTAsNDMsOTgsMjQwLDI0NywyMDMsMjAsMjUwLDExNywxNjAsNDQsMjI5LDIwMiwxODcsNjQsNTQsMTI0LDE1LDE4NCwxNjksMTI5LDI3LDE2MCwyNDAsMjYsNjEsMjU1LDYwLDE2Niw2MCwxNDQsMjA5LDg0LDU1LDE4NywxODYsMTY4LDEzLDEyNCwxMjUsMjksMTcsMTAwLDI0OSwyMjcsNjIsMjA1LDc4LDE3OSwxNjMsMTY4LDEzOSwxNjgsMjEsMzgsODMsMjM5LDE1MSw3NCw0Myw2NiwyLDkyLDcyLDcxLDk0LDIxNiwxMzQsMjM4LDIwLDQ1LDE1OCwyMTMsMTY0LDczLDU3LDgwLDQ3LDE5OCwxODQsMTMwLDIyMywyMjcsNzEsMTMyLDEzMywyMzUsMTc3LDg1LDE3NCwxNDIsMTI0LDE3MiwyMDAsNTQsMjI5LDQwLDEyNiw2MCw3Niw5MiwyMTYsMTUzLDU2LDI0MSwxNzQsNjYsMTQxLDkwLDIyNiwzLDMwLDY4LDIzNCw3MSwxODcsMTYzLDExMiwxNDYsMjU1LDIyLDE0MywxNzAsMjA0LDMsMTI3LDE3OSw4MSwxMzksMTYwLDM3LDc3LDI0NiwxMjgsMjIwLDE5NiwxNTgsMTUzLDczLDE3Nyw2NSwxOTksMTE5LDI5LDE5NywxNDQsMTMwLDI0OCwyMDYsMTU1LDI1MywxMDgsMjEzLDEyNCw3LDIyMywyMjEsMTYyLDE0NiwxMzQsMjQyLDY1LDk5LDE2MiwxMDcsMTIwLDI0NywyMTQsMjA3LDk2LDE1MCwxNjksMTMxLDIwOCwyMTgsMjIxLDI4LDI0LDExMiwyMDgsMjMsMSwxMzAsMTQyLDIzMiw1NiwxMDQsNDUsMzMsMTU4LDk1LDI1NSwxMjMsMzEsNzQsNzYsMTIwLDE3OCwxNTUsMjEzLDYsMTk1LDE2NCw4LDgsNjksMjQxLDE5NywxMjcsODMsMTY5LDIxLDE2NywxOSw5NCwxNDMsMjUyLDMzLDE1OSwyNDgsMjQxLDE3MCwxNTMsMTQ3LDEsMTQ5LDE5OSwyMDEsMTMxLDE3MCw3OSwyMzYsMjEyLDIwOSwxNDMsMTA3LDk4LDI0LDEyMyw1NiwzMywxOTMsODUsMjQ3LDY0LDIyNSwxMzUsMjEwLDc4LDE0NSw1NywxNiwxNDUsNzEsMTcwLDIwLDEzMyw4NywyMzUsNCwxNjYsMjM5LDEwMCw4MiwyMzUsODEsNTAsMjIzLDksMTkzLDUyLDQ5LDg2LDEyOSwxOTAsMTk2LDgyLDE2NSwxMDcsNjMsMTE1LDE2MSw5OCwzMywyMCwxOTMsMjksNDIsMTUxLDIwNSwyNTIsMTI0LDcyLDI0NSw0OCwxODEsNjcsNywxMywyMSwxMjcsNTksMjI2LDE4OCwxNDQsMTI5LDExMiwyNDQsMTkyLDEyMSwyMTMsODAsNDIsMTk2LDEsMTMsMTA3LDEwOCw3OCwwLDQwLDEyMSwyMjUsMTQ4LDIzNywyMzQsMjA5LDIxNiwyMzgsOSwxNDcsMjI2LDI1NCw5Niw4OSwyMTIsNzIsMTkzLDEwNiw3NSwxMzUsNzQsMjI3LDY3LDI1NSw5MiwxOTEsODEsMTg4LDEyNCwyMjYsMTQ5LDE1MiwxNDIsMTUsMTU5LDE5NSwyMzgsMTE0LDU1LDI1NSwxNjYsMTU3LDIzMCw1OSwxNDgsMTcwLDE2NiwxNTEsNjUsMjEzLDEwNCwyNTMsMjUzLDExMiwxNTAsODIsMTQ3LDEzNywyNywyMTQsMTAwLDI0Nyw2NSw4MSw5Miw0Nyw4NiwyMTcsNyw0NSwxMjAsODEsMTMwLDMxLDIzNiwyNDMsNzYsNzgsMyw0NSwxMDUsMTcyLDIyMCw3MSw0OCwyMjAsOTQsMTk2LDI0OSwxNjMsMTkzLDEzMyw1MCwyMzYsMjA1LDIwLDU1LDIsNjMsMTQsMTI3LDY5LDExMywyMTIsMjA0LDEyLDU4LDc5LDg5LDg2LDI5LDYxLDE5OSwyMDEsNjQsMTQ5LDYsMTQ0LDE4MiwxNTAsMTI5LDMxLDE4LDE2NywxMjAsMjQ4LDgyLDEwNywyNSwxNDMsMTI4LDI3LDE2MSwyOCwyNSwxNTMsMTgzLDIxNywyMzgsNzgsMTg2LDEwNiw5MiwyNywyMDIsMjE5LDE2NSw5NiwwLDIxNiwyMzQsMTY5LDczLDEwMSwzOSwxODIsMTEzLDIxNywyNDAsMTcwLDExNiwxNzIsMjIxLDI1MCwyMzMsNDgsNDksMjQyLDgzLDIyNyw5MiwxODEsMTg0LDcyLDIzMCwxODAsMjEsMTUsMTA4LDEzNSwyNSwzOCwxNTMsMjUsMTI0LDIyNywyNiwxNDksNzMsMjM2LDM5LDIxMSwyNDQsMTQ5LDU4LDE4MywxMzIsMjYsMjIzLDIxOSwxNzQsMTQ0LDExNywyMzMsMjE5LDE2NSwyMDUsMTU3LDE1OSwyMjIsMTg0LDUyLDQ3LDI0MSwyMDEsMTIzLDY1LDI0LDQ0LDU1LDIxNSwxNzcsMTY4LDI1MCwxNzksMTE1LDE5MCwyMjcsMTIzLDE1OCwxNjMsMTc5LDIyNCw2OSwxOTYsNjYsMjA3LDI1NCwyNDMsMTAxLDIyMSwxOTMsMTQwLDI1MCw0LDI4LDIyMiw1Miw5NiwxMzgsMTYwLDMzLDIxOCw2NCwxMTgsMjE0LDIzNCwyMDEsMTUyLDE0OCw5MSwxNzgsMTExLDEwNywxNDQsMTQyLDYsMTgyLDEwMiw3MiwxODgsMzQsMjEzLDE4MSwyNiwyMjMsNTgsMjU1LDEwMyw4MSwxNyw0NywxNjksMTEsMjQ1LDIyNCwxMjMsMTQ4LDIxNSwyMzcsMTg2LDEwNyw3NSwxNTIsOTAsMjAyLDE2NiwyMiwxNDksMTk3LDUsMjQ2LDIzOCw3OCw3NiwyMjksMTA2LDE5OSw5NCwxMjcsMTk1LDAsNDUsODIsNiwxNTksMTAzLDk2LDEzOCwyMzEsNzEsNDYsMTA3LDU5LDIxNiwzOSw0MywxMiwyMjEsMjcsMjE0LDU2LDE1NSwxNDUsNjYsMTg3LDE2OSwyNTAsMjM1LDc4LDIxMSwxNzksMjM5LDE4MywxOTgsMTYzLDkzLDUsMTk2LDI0LDE3NCwxNDMsMjI1LDEwNiwxMzksODksOTgsMTMsMTI3LDIwNywxODQsMTk0LDMwLDEsMTY1LDE5OCwxNjksOCwxOTcsMTE4LDg2LDE2MywyMjEsMTM4LDIzLDIwOSw2MSwxMTYsNzksOTksMjMzLDQzLDEzMCw2MCwyNDQsODUsMjI5LDI0MywxNzIsMTIzLDE0OCwyMDAsMTIwLDE5MiwxMjcsMjExLDUyLDExLDE1OSw0MSw5NSwyMTIsMjMwLDE4OCwxNjksMTU2LDEzNywyOSwyMTIsMTIsMTQ4LDE2OCwxNDgsMTMzLDI0Myw0NCwyNDEsMTM5LDEyNywyNCwyNDYsMjIwLDIyNywxMjUsMjA5LDk3LDYwLDUyLDE2MiwxOTIsMTQ2LDQ5LDE2MSw5MiwxMzgsMTEyLDE4OSwxMjgsNTksMTI2LDEyNSw0NiwyMDcsNjAsNzksMjMxLDE3NCwxNTIsMjA5LDY4LDIyMywyMDUsMiwzOCwxNCw5MSwxMTYsMTU5LDI1NSwyOCwyNywxNzgsMjQ4LDE2NCwxMDQsMTU4LDc5LDY5LDIxNCwyMzQsMTU3LDEyLDc1LDE2Myw4MywyNTMsMjQ1LDIwMiw2MSwyMTMsMTc2LDYsMTk3LDIzMCwyOSwyMDgsMTY2LDI1MywxOTQsMjU0LDIzNSwyOSwxNDEsMjQxLDcwLDI0OSwxNSw2MiwwLDE0OCwxNjMsMTM1LDUyLDEyMiw0MCw5Niw4NywzMSwxNzksMTUyLDUxLDIxNiwxMzMsMTg0LDEyMiwxOTgsMjAzLDYwLDExNSwyMTgsMTkxLDE5MywxNiwxNzgsMjUsMTQ4LDI1MiwxMTIsMTA0LDEwMywyNTIsMzYsOTIsMjIxLDI4LDE3OSw0MywxOTksMTk4LDE1MSwxMjgsMTAwLDI1MiwyMTcsMTYxLDI0OSwzNCwyMDEsMTcyLDExOCw1MiwxODAsMjUyLDEwNCw3LDIyMyw0NCwxMTYsMTAyLDIxMiwyMSw0MCwyMjQsMTg0LDU1LDE2MywyMTAsMjEsMjA3LDE2MSwyMzksNTEsNTQsMTU1LDQxLDEzMywxOCw2Nyw0OCwzLDE2NSwxMzAsMjUxLDQsNzksMjE0LDU3LDcyLDEzMCwxNTcsMjEyLDE0NF07ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHI9ZS5nbCxpPTUsbz0uMSxhPS41LHM9MTc1LzE4MCozLjE0MTU5MyxjPTExNS8xODAqMy4xNDE1OTMsZD0xNzMvMTgwKjMuMTQxNTkzLHU9MTE2LzE4MCozLjE0MTU5MyxsPTIuMDQyMDM1NDUsZj0wLHA9MCxnPTAsbT1bXSxoPVswLDEsMyw0LDYsNyw5LDEwLDEyLDEzLDE1LDE2LDE4LDE5LDIxLDIyLDI0LDI2LDI5LDMxLDM0LDM2LDM5LDQxLDQ0LDQ2LDQ5LDUxLDU0LDU2LDU5LDYxLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcyLDczLDc0LDc1LDc2LDc3LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg3LDg4LDg5LDkwLDkxLDkyLDk0LDk1LDk2LDk3LDk4LDk5LDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM4LDEzOSwxNDAsMTQxLDE0MiwxNDMsMTQ1LDE0NiwxNDcsMTQ4LDE0OSwxNTAsMTUxLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE2MCwxNjEsMTYyLDE2MywxNjQsMTY1LDE2NiwxNjgsMTY5LDE3MCwxNzEsMTcyLDE3MywxNzUsMTc2LDE3NywxNzgsMTc5LDE4MCwxODIsMTgzLDE4NCwxODUsMTg2LDE4NywxODgsMTkwLDE5MSwxOTIsMTkzLDE5NCwxOTUsMTk3LDE5OCwxOTksMjAwLDIwMSwyMDIsMjA0LDIwNSwyMDYsMjA3LDIwOCwyMDksMjEwLDIxMiwyMTMsMjE0LDIxNSwyMTYsMjE3LDIxOSwyMjAsMjIxLDIyMiwyMjMsMjI0LDIyNiwyMjYsMjI2LDIyNywyMjcsMjI3LDIyOCwyMjgsMjI4LDIyOSwyMjksMjI5LDIzMCwyMzAsMjMxLDIzMSwyMzEsMjMyLDIzMiwyMzIsMjMzLDIzMywyMzMsMjM0LDIzNCwyMzUsMjM1LDIzNSwyMzYsMjM2LDIzNiwyMzcsMjM3LDIzNywyMzgsMjM4LDIzOSwyMzksMjM5LDI0MCwyNDAsMjQwLDI0MSwyNDEsMjQxLDI0MiwyNDIsMjQzLDI0MywyNDMsMjQ0LDI0NCwyNDQsMjQ1LDI0NSwyNDUsMjQ2LDI0NiwyNDYsMjQ3LDI0NywyNDcsMjQ4LDI0OCwyNDgsMjQ5LDI0OSwyNDksMjUwLDI1MCwyNTAsMjUxLDI1MSwyNTEsMjUyLDI1MiwyNTIsMjUzLDI1MywyNTMsMjU0LDI1NCwyNTQsMjU1XSxFPVswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMyLDMzLDM1LDM2LDM3LDM5LDQwLDQyLDQzLDQ0LDQ2LDQ3LDQ5LDUwLDUxLDUzLDU0LDU2LDU3LDU4LDU5LDYxLDYyLDYzLDY0LDY2LDY3LDY4LDY5LDcxLDcyLDczLDc0LDc2LDc3LDc4LDc5LDgxLDgyLDgzLDg0LDg2LDg3LDg4LDkwLDkxLDkyLDkzLDk1LDk2LDk3LDk4LDEwMCwxMDEsMTAyLDEwMywxMDUsMTA2LDEwNywxMDgsMTEwLDExMSwxMTIsMTEzLDExNSwxMTYsMTE3LDExOCwxMjAsMTIxLDEyMiwxMjQsMTI1LDEyNiwxMjcsMTI5LDEzMCwxMzEsMTMyLDEzNCwxMzUsMTM2LDEzNywxMzksMTQwLDE0MSwxNDIsMTQ0LDE0NSwxNDYsMTQ3LDE0OSwxNTAsMTUxLDE1MiwxNTQsMTU1LDE1NiwxNTgsMTU5LDE2MCwxNjEsMTYzLDE2NCwxNjUsMTY2LDE2OCwxNjksMTcwLDE3MSwxNzMsMTc0LDE3NSwxNzYsMTc4LDE3OSwxODAsMTgxLDE4MywxODQsMTg1LDE4NiwxODgsMTg5LDE5MCwxOTIsMTkzLDE5NCwxOTUsMTk3LDE5OCwxOTksMjAwLDIwMiwyMDMsMjA0LDIwNSwyMDcsMjA4LDIwOSwyMTAsMjEyLDIxMywyMTQsMjE1LDIxNywyMTgsMjE5LDIyMCwyMjIsMjIzLDIyNCwyMjYsMjI2LDIyNiwyMjcsMjI3LDIyOCwyMjgsMjI5LDIyOSwyMzAsMjMwLDIzMSwyMzEsMjMyLDIzMiwyMzMsMjMzLDIzNCwyMzQsMjM0LDIzNSwyMzUsMjM2LDIzNiwyMzcsMjM3LDIzOCwyMzgsMjM5LDIzOSwyNDAsMjQwLDI0MSwyNDEsMjQyLDI0MiwyNDMsMjQzLDI0MywyNDQsMjQ0LDI0NCwyNDUsMjQ1LDI0NSwyNDYsMjQ2LDI0NiwyNDcsMjQ3LDI0NywyNDgsMjQ4LDI0OCwyNDksMjQ5LDI0OSwyNTAsMjUwLDI1MCwyNTEsMjUxLDI1MSwyNTIsMjUyLDI1MiwyNTMsMjUzLDI1MywyNTQsMjU0LDI1NCwyNTVdLFM9WzEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU4LDU5LDYwLDYxLDYyLDYzLDY1LDY2LDY3LDY4LDY5LDcwLDcyLDczLDc0LDc2LDc3LDc4LDgwLDgxLDgzLDg0LDg1LDg3LDg4LDg5LDkxLDkyLDk0LDk1LDk2LDk4LDk5LDEwMCwxMDIsMTAzLDEwNSwxMDYsMTA3LDEwOSwxMTAsMTExLDExMywxMTQsMTE2LDExNywxMTgsMTIwLDEyMSwxMjIsMTI0LDEyNSwxMjcsMTI4LDEyOSwxMzEsMTMyLDEzMywxMzUsMTM2LDEzOCwxMzksMTQwLDE0MiwxNDMsMTQ0LDE0NiwxNDcsMTQ5LDE1MCwxNTEsMTUzLDE1NCwxNTUsMTU3LDE1OCwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzgsMTc5LDE4MCwxODEsMTgyLDE4MywxODQsMTg1LDE4NiwxODcsMTg4LDE4OSwxOTAsMTkxLDE5MiwxOTIsMTkzLDE5MywxOTQsMTk1LDE5NSwxOTYsMTk3LDE5NywxOTgsMTk5LDE5OSwyMDAsMjAxLDIwMSwyMDIsMjAzLDIwMywyMDQsMjA1LDIwNSwyMDYsMjA3LDIwNywyMDgsMjA5LDIwOSwyMTAsMjExLDIxMSwyMTIsMjEzLDIxMywyMTQsMjE1LDIxNSwyMTYsMjE3LDIxNywyMTgsMjE5LDIxOSwyMjAsMjIxLDIyMSwyMjIsMjIzLDIyMywyMjQsMjI1LDIyNSwyMjYsMjI3LDIyNywyMjgsMjI5LDIyOSwyMzAsMjMxLDIzMSwyMzIsMjMzLDIzMywyMzQsMjM1LDIzNSwyMzYsMjM3LDIzNywyMzgsMjM5LDIzOSwyNDAsMjQxLDI0MSwyNDIsMjQzLDI0MywyNDQsMjQ1LDI0NSwyNDYsMjQ3LDI0NywyNDgsMjQ5LDI0OSwyNTAsMjUxLDI1MSwyNTIsMjUzLDI1MywyNTQsMjU1XTt0aGlzLnByb2dyYW09dihyLEEpLHRoaXMuc2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXt2YXIgdD1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ZsaXBZXCIpLG49ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9kZW5vaXNlTGV2ZWxcIik7ci51bmlmb3JtMWYobixpKSxyLnVuaWZvcm0xZih0LDEpO3ZhciBoPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcImxpZ2h0XCIpO3IudW5pZm9ybTFmKGgsbyk7dmFyIHY9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwicmVkbmVzc1wiKTtyLnVuaWZvcm0xZih2LGEpO3ZhciBFPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInNraW5faGVfbWF4XCIpLFM9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwic2tpbl9oZV9taW5cIiksXz1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJza2luX2hjX21heFwiKSx5PXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInNraW5faGNfbWluXCIpLFI9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwic2tpbl9oY19heGlzXCIpLFQ9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwiZmFjdHNfcm90YXRlX2NcIiksST1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJmYWN0c19yb3RhdGVfbGVcIiksYj1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJmYWN0c19yb3RhdGVfZ2VcIik7ci51bmlmb3JtMWYoRSxzKSxyLnVuaWZvcm0xZihTLGMpLHIudW5pZm9ybTFmKF8sZCksci51bmlmb3JtMWYoeSx1KSxyLnVuaWZvcm0xZihSLGwpLHIudW5pZm9ybTFmKFQsZiksci51bmlmb3JtMWYoSSxwKSxyLnVuaWZvcm0xZihiLGcpO3ZhciBBPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfb3JpZ2luSW1hZ2VcIik7ci5hY3RpdmVUZXh0dXJlKHIuVEVYVFVSRTIpLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELGUuaW5wdXRUZXh0dXJlKSxyLnVuaWZvcm0xaShBLDIpO2Zvcih2YXIgTz1bXCJsaWdodGVuX2x1dFwiXSxDPVtyLlRFWFRVUkUzXSxOPTA7TjxPLmxlbmd0aDtOKyspe3ZhciB3PXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxPW05dKTtyLmFjdGl2ZVRleHR1cmUoQ1tOXSksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsbVtOXSksci51bmlmb3JtMWkodyxOKzMpfX0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuZGVub2lzZUxldmVsJiYoaT1lLmRlbm9pc2VMZXZlbCksdm9pZCAwIT09ZS5saWdodExldmVsJiYobz1lLmxpZ2h0TGV2ZWwpLHZvaWQgMCE9PWUucmVkbmVzc0xldmVsJiYoYT1lLnJlZG5lc3NMZXZlbCx0aGlzLl91cGRhdGVSZWRuZXNzKGEpKSx2b2lkIDAhPT1lLmxpZ2h0ZW5pbmdDb250cmFzdExldmVsJiZ0aGlzLl91cGRhdGVMdXQoZS5saWdodGVuaW5nQ29udHJhc3RMZXZlbCl9LHRoaXMuX3VwZGF0ZVJlZG5lc3M9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPTMuMTQxNTkzLGk9ZSxvPWk7aT4xJiYoaT0xKSxpPDAmJihpPTApLG8+MSYmKG89MSksbzwwJiYobz0wKSxmPS44KmksbzwuOCYmKG89MCksKGw9KDExNy00Km8pLzE4MCpyKTwodT0oMTE2LTQqbykvMTgwKnIpJiYobD11KSx1PHIvMiYmKHU9ci8yKSxsPHIvMiYmKGw9ci8yKSwoYz0oMTE1LTQqbykvMTgwKnIpPHIvMiYmKGM9ci8yKSwoZD0xNzMvMTgwKnIpPnImJihkPXIpLGw+ciYmKGw9ciksKHM9MTc1LzE4MCpyKT5yJiYocz1yKSxuPWQtbCxnPSh0PXMtZCk+LjAxP2Yqbi90OmYsbj1sLXUscD0odD11LWMpPi4wMT9mKm4vdDpmfSx0aGlzLl91cGRhdGVMdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDswPT1lJiYodD1FKSwxPT1lJiYodD1TKSwyPT1lJiYodD1oKTtmb3IodmFyIG49W25ldyBVaW50OEFycmF5KHQpXSxpPVsyNTZdLG89WzFdLGE9MDthPG4ubGVuZ3RoO2ErKylyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxtW2FdKSxyLnRleEltYWdlMkQoci5URVhUVVJFXzJELDAsci5MVU1JTkFOQ0UsaVthXSxvW2FdLDAsci5MVU1JTkFOQ0Usci5VTlNJR05FRF9CWVRFLG5bYV0pfSx0aGlzLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtlPUU7Zm9yKHZhciB0PVtuZXcgVWludDhBcnJheShlKV0sbj1bMjU2XSxpPVsxXSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXIuY3JlYXRlVGV4dHVyZSgpO3IuYmluZFRleHR1cmUoci5URVhUVVJFXzJELGEpLHIudGV4SW1hZ2UyRChyLlRFWFRVUkVfMkQsMCxyLkxVTUlOQU5DRSxuW29dLGlbb10sMCxyLkxVTUlOQU5DRSxyLlVOU0lHTkVEX0JZVEUsdFtvXSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9TLHIuQ0xBTVBfVE9fRURHRSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9ULHIuQ0xBTVBfVE9fRURHRSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUlOX0ZJTFRFUixyLkxJTkVBUiksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUFHX0ZJTFRFUixyLkxJTkVBUiksbS5wdXNoKGEpfX0sdGhpcy5faW5pdCgpfXZhciBDPSExO2Z1bmN0aW9uIE4oKXt0aGlzLnByb2dyYW1zPVtdO3ZhciBlPXRoaXMsdD1udWxsLG49bnVsbDtlLmdsPW51bGwsZS5pbnB1dFRleHR1cmU9bnVsbDt2YXIgcj1bXSxpPVtdLG89MCxhPTA7ZS5faW5pdEdsPWZ1bmN0aW9uKG4scyl7ZS5pbnB1dFRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS5pbnB1dFRleHR1cmUpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsdC5MSU5FQVIpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsdC5MSU5FQVIpO2Zvcih2YXIgYz0wO2M8NDtjKyspe3ZhciBkPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGQpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsdC5MSU5FQVIpLGM8Mj90LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLG4scywwLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbnVsbCk6dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSxzLG4sMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLG51bGwpO3ZhciB1PXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHUpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxkLDApLHIucHVzaChkKSxpLnB1c2godSl9dC52aWV3cG9ydCgwLDAsbixzKSxvPW4sYT1zfSxlLnJlbmRlcj1mdW5jdGlvbihzKXtpZih0KXt2YXIgYz0wO2E9PXMudmlkZW9XaWR0aCYmbz09PXMudmlkZW9IZWlnaHQmJihjPTIpLHQudmlld3BvcnQoMCwwLHMudmlkZW9XaWR0aCxzLnZpZGVvSGVpZ2h0KSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlLmlucHV0VGV4dHVyZSksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLHMpO2Zvcih2YXIgZD1DP2UucHJvZ3JhbXMubGVuZ3RoLTE6MCx1PTA7dTw9ZDt1Kyspe3ZhciBsPWUucHJvZ3JhbXNbdV0ucHJvZ3JhbTt0LnVzZVByb2dyYW0obCk7dmFyIGY9dC5nZXRVbmlmb3JtTG9jYXRpb24obCxcInVfaW1hZ2VcIik7ZS5wcm9ncmFtc1t1XS5zZXRVbmlmb3JtcygpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsaVtjK3UlMl0pLHQuY2xlYXJDb2xvcigwLDAsMCwxKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksdC5kcmF3QXJyYXlzKHQuVFJJQU5HTEVTLDAsNiksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTApLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHJbYyt1JTJdKSx0LnVuaWZvcm0xaShmLDApfXQudXNlUHJvZ3JhbShuKTt2YXIgcD10LmdldFVuaWZvcm1Mb2NhdGlvbihuLFwidV9mbGlwWVwiKTt0LnVuaWZvcm0xZihwLC0xKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpLHQuY2xlYXJDb2xvcigwLDAsMCwxKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksdC5kcmF3QXJyYXlzKHQuVFJJQU5HTEVTLDAsNil9fSxlLnNldEVuYWJsZUJlYXV0eT1mdW5jdGlvbihlKXtDPWV9LGUuaW5pdD1mdW5jdGlvbihyLGksbyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCl0aHJvdyBuZXcgRXJyb3IoXCJOT1RfU1VQUE9SVFwiKTt0PW8uZ2V0Q29udGV4dChcIndlYmdsXCIpLGUuZ2w9dCxlLl9pbml0R2wocixpKSxlLnByb2dyYW1zLnB1c2gobmV3IFModGhpcyxyLGkpKSxlLnByb2dyYW1zLnB1c2gobmV3IHkodGhpcyxyLGkpKSxlLnByb2dyYW1zLnB1c2gobmV3IFQodGhpcyxyLGkpKSxlLnByb2dyYW1zLnB1c2gobmV3IGIodGhpcyxyLGkpKSxlLnByb2dyYW1zLnB1c2gobmV3IE8odGhpcyxyLGkpKSxuPWUucHJvZ3JhbXNbMF0ucHJvZ3JhbX0sZS5yZWxlYXNlPWZ1bmN0aW9uKCl7ZS5nbD1udWxsLHQ9bnVsbCxuPW51bGwsZS5pbnB1dFRleHR1cmU9bnVsbCxlLnByb2dyYW1zPVtdLHI9W10saT1bXX0sZS5zZXREZW5vaXNlTGV2ZWw9ZnVuY3Rpb24odCl7ZS5wcm9ncmFtcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldFBhcmFtZXRlcnMmJmUuc2V0UGFyYW1ldGVycyh7ZGVub2lzZUxldmVsOnR9KX0pKX0sZS5zZXRMaWdodExldmVsPWZ1bmN0aW9uKHQpe2UucHJvZ3JhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZXRQYXJhbWV0ZXJzJiZlLnNldFBhcmFtZXRlcnMoe2xpZ2h0TGV2ZWw6dH0pfSkpfSxlLnNldFJlZG5lc3NMZXZlbD1mdW5jdGlvbih0KXtlLnByb2dyYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0UGFyYW1ldGVycyYmZS5zZXRQYXJhbWV0ZXJzKHtyZWRuZXNzTGV2ZWw6dH0pfSkpfSxlLnNldENvbnRyYXN0TGV2ZWw9ZnVuY3Rpb24odCl7ZS5wcm9ncmFtcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldFBhcmFtZXRlcnMmJmUuc2V0UGFyYW1ldGVycyh7bGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWw6dH0pfSkpfSxlLnNldFNpemU9ZnVuY3Rpb24odCxuKXtlLnByb2dyYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0U2l6ZSYmZS5zZXRTaXplKHQsbil9KSl9fU4uX2luc3RhbmNlPW51bGwsTi5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBOLl9pbnN0YW5jZXx8KE4uX2luc3RhbmNlPW5ldyBOKSxOLl9pbnN0YW5jZX07dC5hPXthZGRWaWRlb0VmZmVjdENhcGFiaWxpdHk6ZnVuY3Rpb24oZSl7ZS52aWRlb0VmZmVjdD17Y2FudmFzOm51bGwsdmlkZW86bnVsbCxmcHM6MzAsc3RvcENocm9tZUJhY2tncm91bmRMb29wOm51bGwsZW5hYmxlQmVhdXR5OiExLGRlbm9pc2VMZXZlbDo1LGxpZ2h0TGV2ZWw6LjM1LHJlZG5lc3NMZXZlbDouNSxsaWdodGVuaW5nQ29udHJhc3RMZXZlbDoxLHZpZGVvQ29udGV4dEluaXRlZDohMSxvcmlnaW5WaWRlb1RyYWNrOm51bGwsY2FudmFzVmlkZW9UcmFjazpudWxsLGN0eDpudWxsfSxlLl9pbml0VmlkZW9Db250ZXh0PWZ1bmN0aW9uKCl7aWYoZS52aWRlb0VmZmVjdC52aWRlb0NvbnRleHRJbml0ZWQpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXQgdmlkZW8gY29udGV4dC4gQWxyZWFkeSBpbml0ZWRcIik7aWYoIWUuc3RyZWFtKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0IHZpZGVvIGNvbnRleHQuIExvY2FsIFN0cmVhbSBub3QgaW5pdGlhbGl6ZWRcIik7ZS52aWRlb0VmZmVjdC5vcmlnaW5WaWRlb1RyYWNrPWUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0sZS5hdHRyaWJ1dGVzJiZlLmF0dHJpYnV0ZXMubWF4RnJhbWVSYXRlJiYoZS52aWRlb0VmZmVjdC5mcHM9ZS5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZSksZS52aWRlb0VmZmVjdC52aWRlb0NvbnRleHRJbml0ZWQ9ITB9LGUuX3JlbmRlcldpdGhXZWJHTD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2UudmlkZW9FZmZlY3QuY2FudmFzfHwoZS52aWRlb0VmZmVjdC5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSksZS52aWRlb0VmZmVjdC52aWRlb3x8KGUudmlkZW9FZmZlY3QudmlkZW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpKSxlLnZpZGVvRWZmZWN0LnZpZGVvLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksZS52aWRlb0VmZmVjdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLGUudmlkZW9FZmZlY3QudmlkZW8ubXV0ZWQ9ITAsZS52aWRlb0VmZmVjdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLGUudmlkZW9FZmZlY3QudmlkZW8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxlLnZpZGVvRWZmZWN0LnZpZGVvLnNyY09iamVjdD10O3ZhciByPXQuZ2V0VmlkZW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpLGk9ci53aWR0aCxvPXIuaGVpZ2h0O2NvbnNvbGUubG9nKFwiV2lkdGg6IFwiLmNvbmNhdChpLFwiLCBIZWlnaHQ6IFwiKS5jb25jYXQobykpLGUudmlkZW9FZmZlY3QuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsaSksZS52aWRlb0VmZmVjdC5jYW52YXMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsbyksZS52aWRlb0VmZmVjdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGkpLGUudmlkZW9FZmZlY3QudmlkZW8uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsbyk7dmFyIGE9Ti5nZXRJbnN0YW5jZSgpO2EuaW5pdChlLnZpZGVvRWZmZWN0LnZpZGVvLndpZHRoLGUudmlkZW9FZmZlY3QudmlkZW8uaGVpZ2h0LGUudmlkZW9FZmZlY3QuY2FudmFzKSxhLnNldERlbm9pc2VMZXZlbChlLnZpZGVvRWZmZWN0LmRlbm9pc2VMZXZlbCksYS5zZXRMaWdodExldmVsKGUudmlkZW9FZmZlY3QubGlnaHRMZXZlbCksYS5zZXRSZWRuZXNzTGV2ZWwoZS52aWRlb0VmZmVjdC5yZWRuZXNzTGV2ZWwpLGEuc2V0Q29udHJhc3RMZXZlbChlLnZpZGVvRWZmZWN0LmxpZ2h0ZW5pbmdDb250cmFzdExldmVsKTtlLnZpZGVvRWZmZWN0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKGZ1bmN0aW9uIHQoKXt2YXIgcj1lLnZpZGVvRWZmZWN0LmNhbnZhcy5jYXB0dXJlU3RyZWFtKGUudmlkZW9FZmZlY3QuZnBzKTtlLnZpZGVvRWZmZWN0LnZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdCwhMCksbihbci5nZXRWaWRlb1RyYWNrcygpWzBdLGUudmlkZW9FZmZlY3QudmlkZW9dKX0pLCEwKSxlLnZpZGVvRWZmZWN0LnZpZGVvLnBsYXkoKX0pKX0sZS5fZGlzYWJsZUVmZmVjdD1mdW5jdGlvbigpe2UudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkfHxlLl9pbml0VmlkZW9Db250ZXh0KCk7dmFyIHQ9ZS52aWRlb0VmZmVjdC5vcmlnaW5WaWRlb1RyYWNrO2lmKCF0KXJldHVybiBmLmRlZmF1bHQud2FybmluZyhcIlZpZGVvIHRyYWNrIGlzIG51bGwsIGZhaWwgdG8gZGlzYWJsZSB2aWRlbyBlZmZlY3QhXCIpLFByb21pc2UucmVzb2x2ZSgpO2lmKGUucGMmJmUucGMucGVlckNvbm5lY3Rpb24mJmUucGMucGVlckNvbm5lY3Rpb24pe3ZhciBuPShlLnBjLnBlZXJDb25uZWN0aW9uJiZlLnBjLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKSkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUudHJhY2smJlwidmlkZW9cIj09ZS50cmFjay5raW5kfSkpO2lmKG4mJm4ucmVwbGFjZVRyYWNrJiZ0KXJldHVybiBuLnJlcGxhY2VUcmFjayh0KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LGUuX3JlbGVhc2VFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1lLnZpZGVvRWZmZWN0LmVuYWJsZUJlYXV0eT9lLl9kaXNhYmxlRWZmZWN0KCk6UHJvbWlzZS5yZXNvbHZlKCksTi5nZXRJbnN0YW5jZSgpLnJlbGVhc2UoKSxlLnZpZGVvRWZmZWN0LnZpZGVvQ29udGV4dEluaXRlZD0hMSxlLnZpZGVvRWZmZWN0LmNhbnZhc1ZpZGVvVHJhY2s9bnVsbCx0fSxlLl9lbmFibGVFZmZlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZS52aWRlb0VmZmVjdC52aWRlb0NvbnRleHRJbml0ZWR8fGUuX2luaXRWaWRlb0NvbnRleHQoKSxlLnZpZGVvRWZmZWN0Lm9yaWdpblZpZGVvVHJhY2s/ZS52aWRlb0VmZmVjdC5jYW52YXNWaWRlb1RyYWNrPyhlLl9zaG93RWZmZWN0SW5Mb2NhbFBsYXllcigpLGUuX3JlcGxhY2VXaXRoQ2FudmFzVHJhY2soKSk6ZS5fcmVuZGVyV2l0aFdlYkdMKGUuc3RyZWFtKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj1jKCkodCwyKSxyPW5bMF0saT1uWzFdO2UudmlkZW9FZmZlY3QuY2FudmFzVmlkZW9UcmFjaz1yO3ZhciBvPU4uZ2V0SW5zdGFuY2UoKTtyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbiB0KCl7ZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHkmJm8ucmVuZGVyKGkpLGUudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCl9KSksZC5pc0Nocm9tZSgpJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLChmdW5jdGlvbigpe2RvY3VtZW50LmhpZGRlbjtkb2N1bWVudC5oaWRkZW4/ZS52aWRlb0VmZmVjdC5zdG9wQ2hyb21lQmFja2dyb3VuZExvb3A9ZnVuY3Rpb24oZSx0KXt2YXIgbj0xL3Qscj1uZXcgQXVkaW9Db250ZXh0LGk9ci5jcmVhdGVHYWluKCk7aS5nYWluLnZhbHVlPTAsaS5jb25uZWN0KHIuZGVzdGluYXRpb24pLGZ1bmN0aW9uIHQoKXt2YXIgYT1yLmNyZWF0ZU9zY2lsbGF0b3IoKTthLm9uZW5kZWQ9dCxhLmNvbm5lY3QoaSksYS5zdGFydCgwKSxhLnN0b3Aoci5jdXJyZW50VGltZStuKSxlKHIuY3VycmVudFRpbWUpLG8mJihhLm9uZW5kZWQ9ZnVuY3Rpb24oKXtyLmNsb3NlKCl9KX0oKTt2YXIgbz0hMTtyZXR1cm4gZnVuY3Rpb24oKXtvPSEwfX0oKGZ1bmN0aW9uKCl7ZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHkmJm8ucmVuZGVyKGkpfSksZS52aWRlb0VmZmVjdC5mcHMpOmUudmlkZW9FZmZlY3Quc3RvcENocm9tZUJhY2tncm91bmRMb29wJiYoZS52aWRlb0VmZmVjdC5zdG9wQ2hyb21lQmFja2dyb3VuZExvb3AoKSxlLnZpZGVvRWZmZWN0LnN0b3BDaHJvbWVCYWNrZ3JvdW5kTG9vcD1udWxsKX0pLCExKSxlLl9zaG93RWZmZWN0SW5Mb2NhbFBsYXllcigpLGUuX3JlcGxhY2VXaXRoQ2FudmFzVHJhY2soKX0pKTooZi5kZWZhdWx0Lndhcm5pbmcoXCJWaWRlbyB0cmFjayBpcyBudWxsLCBmYWlsIHRvIGVuYWJsZSB2aWRlbyBlZmZlY3QhXCIpLFByb21pc2UucmVzb2x2ZSgpKX0sZS5fc2hvd0VmZmVjdEluTG9jYWxQbGF5ZXI9ZnVuY3Rpb24oKXtpZihlLnBsYXllcil7dmFyIHQ9ZS5wbGF5ZXIuZGl2LmNoaWxkcmVuWzBdO2lmKFwibm9uZVwiIT09dC5zdHlsZS5kaXNwbGF5JiYoZS5wbGF5ZXIuZGl2LmFwcGVuZENoaWxkKGUudmlkZW9FZmZlY3QuY2FudmFzKSxcInZpZGVvXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7ZS52aWRlb0VmZmVjdC5jYW52YXMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixuKSxcIm5vbmVcIiE9PXQuc3R5bGUuZGlzcGxheSYmKHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fX0sZS5fcmVtb3ZlRWZmZWN0RnJvbUxvY2FsUGxheWVyPWZ1bmN0aW9uKCl7aWYoZS5wbGF5ZXImJmUucGxheWVyLmRpdiYmZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHkmJmUudmlkZW9FZmZlY3QuY2FudmFzKXtlLnBsYXllci5kaXYucmVtb3ZlQ2hpbGQoZS52aWRlb0VmZmVjdC5jYW52YXMpO3ZhciB0PWUucGxheWVyLmRpdi5jaGlsZHJlblswXTtcInZpZGVvXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKGUudmlkZW9FZmZlY3QuY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIil9fSxlLl9yZXBsYWNlV2l0aENhbnZhc1RyYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtlLnBjJiZlLnBjLnBlZXJDb25uZWN0aW9uJiZlLnBjLnBlZXJDb25uZWN0aW9uJiYodD0oZS5wYy5wZWVyQ29ubmVjdGlvbiYmZS5wYy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRyYWNrJiZcInZpZGVvXCI9PWUudHJhY2sua2luZH0pKSk7cmV0dXJuIHQmJnQucmVwbGFjZVRyYWNrJiZlLnZpZGVvRWZmZWN0LmNhbnZhc1ZpZGVvVHJhY2s/dC5yZXBsYWNlVHJhY2soZS52aWRlb0VmZmVjdC5jYW52YXNWaWRlb1RyYWNrKTpQcm9taXNlLnJlc29sdmUoKX0sZS5zZXRCZWF1dHlFZmZlY3RPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9YSgpKGkuYS5tYXJrKChmdW5jdGlvbiB0KG4scil7dmFyIG8sYT1hcmd1bWVudHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihPYmplY3QobC5jaGVja1ZhbGlkQm9vbGVhbikobixcImVuYWJsZWRcIiksbz1OLmdldEluc3RhbmNlKCksZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHk9PW4pe3QubmV4dD0xNDticmVha31pZihvLnNldEVuYWJsZUJlYXV0eShuKSwhbil7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIHQubmV4dD03LGUuX2VuYWJsZUVmZmVjdCgpO2Nhc2UgNzp0Lm5leHQ9MTI7YnJlYWs7Y2FzZSA5OnJldHVybiBlLl9yZW1vdmVFZmZlY3RGcm9tTG9jYWxQbGF5ZXIoKSx0Lm5leHQ9MTIsZS5fcmVsZWFzZUVmZmVjdCgpO2Nhc2UgMTI6ZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHk9bix1LnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOm51bGwsb3B0aW9uczphLG5hbWU6XCJTdHJlYW0uc2V0QmVhdXR5RWZmZWN0T3B0aW9uc1wiLHRhZzpcInRyYWNlclwifSk7Y2FzZSAxNDppZihuKXt0Lm5leHQ9MTY7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTY6aWYoIXIpe3QubmV4dD0yMDticmVha31PYmplY3QobC5jaGVja1ZhbGlkT2JqZWN0KShyLFwib3B0aW9uc1wiKSx0Lm5leHQ9MjE7YnJlYWs7Y2FzZSAyMDpyZXR1cm4gdC5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSAyMTppZih2b2lkIDAhPT1yLnNtb290aG5lc3NMZXZlbCYmKE9iamVjdChsLmNoZWNrVmFsaWRGbG9hdE51bWJlcikoci5zbW9vdGhuZXNzTGV2ZWwsXCJzbW9vdGhuZXNzTGV2ZWxcIiwwLDEpLGUudmlkZW9FZmZlY3QuZGVub2lzZUxldmVsPTEwKnIuc21vb3RobmVzc0xldmVsLGUudmlkZW9FZmZlY3QuZGVub2lzZUxldmVsPC4xJiYoZS52aWRlb0VmZmVjdC5kZW5vaXNlTGV2ZWw9LjEpLG8uc2V0RGVub2lzZUxldmVsKGUudmlkZW9FZmZlY3QuZGVub2lzZUxldmVsKSksdm9pZCAwIT09ci5saWdodGVuaW5nTGV2ZWwmJihPYmplY3QobC5jaGVja1ZhbGlkRmxvYXROdW1iZXIpKHIubGlnaHRlbmluZ0xldmVsLFwibGlnaHRlbmluZ0xldmVsXCIsMCwxKSxlLnZpZGVvRWZmZWN0LmxpZ2h0TGV2ZWw9ci5saWdodGVuaW5nTGV2ZWwvMixlLnZpZGVvRWZmZWN0LmxpZ2h0TGV2ZWw8LjAxJiYoZS52aWRlb0VmZmVjdC5saWdodExldmVsPS4wMSksby5zZXRMaWdodExldmVsKGUudmlkZW9FZmZlY3QubGlnaHRMZXZlbCkpLHZvaWQgMCE9PXIucmVkbmVzc0xldmVsJiYoT2JqZWN0KGwuY2hlY2tWYWxpZEZsb2F0TnVtYmVyKShyLnJlZG5lc3NMZXZlbCxcInJlZG5lc3NMZXZlbFwiLDAsMSksZS52aWRlb0VmZmVjdC5yZWRuZXNzTGV2ZWw9ci5yZWRuZXNzTGV2ZWwsZS52aWRlb0VmZmVjdC5yZWRuZXNzTGV2ZWw8LjAxJiYoZS52aWRlb0VmZmVjdC5yZWRuZXNzTGV2ZWw9LjAxKSxvLnNldFJlZG5lc3NMZXZlbChlLnZpZGVvRWZmZWN0LnJlZG5lc3NMZXZlbCkpLHZvaWQgMD09PXIubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWwpe3QubmV4dD0yOTticmVha31pZigwPT09ci5saWdodGVuaW5nQ29udHJhc3RMZXZlbHx8MT09PXIubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWx8fDI9PT1yLmxpZ2h0ZW5pbmdDb250cmFzdExldmVsKXt0Lm5leHQ9Mjc7YnJlYWt9dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsaWdodGVuaW5nQ29udHJhc3RMZXZlbDogVGhlIHZhbHVlIHNob3VsZCBiZSAwLCAxIG9yIDIuXCIpO2Nhc2UgMjc6ZS52aWRlb0VmZmVjdC5saWdodGVuaW5nQ29udHJhc3RMZXZlbD1wYXJzZUZsb2F0KHIubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWwpLG8uc2V0Q29udHJhc3RMZXZlbChlLnZpZGVvRWZmZWN0LmxpZ2h0ZW5pbmdDb250cmFzdExldmVsKTtjYXNlIDI5OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0KX0pKSk7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKX0scmVzdG9yZVZpZGVvRWZmZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnZpZGVvRWZmZWN0LmVuYWJsZUJlYXV0eT9lLl9lbmFibGVFZmZlY3QoKTpQcm9taXNlLnJlc29sdmUoKX0sZGlzYWJsZVZpZGVvRWZmZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlLl9yZWxlYXNlRWZmZWN0P2UuX3JlbGVhc2VFZmZlY3QoKTpQcm9taXNlLnJlc29sdmUoKX0sYXBwbHlFZmZlY3RJblBsYXllcjpmdW5jdGlvbihlKXtlLnZpZGVvRWZmZWN0LmVuYWJsZUJlYXV0eSYmZS52aWRlb0VmZmVjdC5jYW52YXMmJmUuX3Nob3dFZmZlY3RJbkxvY2FsUGxheWVyKCl9LHJlbW92ZUVmZmVjdEZyb21Mb2NhbFBsYXllcjpmdW5jdGlvbihlKXtlLl9yZW1vdmVFZmZlY3RGcm9tTG9jYWxQbGF5ZXIoKX0scmVwbGFjZVdpdGhDYW52YXNUcmFjazpmdW5jdGlvbihlKXtyZXR1cm4gZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHk/ZS5fcmVwbGFjZVdpdGhDYW52YXNUcmFjaygpOlByb21pc2UucmVzb2x2ZSgpfSxjaGVja1ZpZGVvRWZmZWN0RW5hYmxlZDpmdW5jdGlvbihlKXtpZihlLnZpZGVvRWZmZWN0LmVuYWJsZUJlYXV0eSYmZS52aWRlb0VmZmVjdCYmZS52aWRlb0VmZmVjdC52aWRlb0NvbnRleHRJbml0ZWQpe3JldHVybiBmLmRlZmF1bHQuZXJyb3IoXCJPcGVyYXRpb24gbm90IHBlcm1pdHRlZDogXCIuY29uY2F0KFwiVklERU9fRUZGRUNUX0VOQUJMRURcIikpLFwiVklERU9fRUZGRUNUX0VOQUJMRURcIn1yZXR1cm4hMX19fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0LG4scixpLG8sYSl7dHJ5e3ZhciBzPWVbb10oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixpKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbyl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIHMoZSl7bihhLGksbyxzLGMsXCJuZXh0XCIsZSl9ZnVuY3Rpb24gYyhlKXtuKGEsaSxvLHMsYyxcInRocm93XCIsZSl9cyh2b2lkIDApfSkpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM4KSxpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gbyhlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1pLmNhbGwoZSl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBzKGUpe3JldHVybiBudWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9ZnVuY3Rpb24gYyhlKXtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1pLmNhbGwoZSl9ZnVuY3Rpb24gZChlLHQpe2lmKG51bGwhPWUpaWYoXCJvYmplY3RcIiE9dHlwZW9mIGUmJihlPVtlXSksbyhlKSlmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspdC5jYWxsKG51bGwsZVtuXSxuLGUpO2Vsc2UgZm9yKHZhciBpIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnQuY2FsbChudWxsLGVbaV0saSxlKX1lLmV4cG9ydHM9e2lzQXJyYXk6byxpc0FycmF5QnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PWkuY2FsbChlKX0saXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhYShlKSYmbnVsbCE9PWUuY29uc3RydWN0b3ImJiFhKGUuY29uc3RydWN0b3IpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yLmlzQnVmZmVyJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfSxpc0Zvcm1EYXRhOmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBGb3JtRGF0YSYmZSBpbnN0YW5jZW9mIEZvcm1EYXRhfSxpc0FycmF5QnVmZmVyVmlldzpmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJkFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcoZSk6ZSYmZS5idWZmZXImJmUuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6cyxpc1VuZGVmaW5lZDphLGlzRGF0ZTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PWkuY2FsbChlKX0saXNGaWxlOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBGaWxlXVwiPT09aS5jYWxsKGUpfSxpc0Jsb2I6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEJsb2JdXCI9PT1pLmNhbGwoZSl9LGlzRnVuY3Rpb246Yyxpc1N0cmVhbTpmdW5jdGlvbihlKXtyZXR1cm4gcyhlKSYmYyhlLnBpcGUpfSxpc1VSTFNlYXJjaFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgVVJMU2VhcmNoUGFyYW1zJiZlIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zfSxpc1N0YW5kYXJkQnJvd3NlckVudjpmdW5jdGlvbigpe3JldHVybihcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yfHxcIlJlYWN0TmF0aXZlXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOYXRpdmVTY3JpcHRcIiE9PW5hdmlnYXRvci5wcm9kdWN0JiZcIk5TXCIhPT1uYXZpZ2F0b3IucHJvZHVjdCkmJihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpfSxmb3JFYWNoOmQsbWVyZ2U6ZnVuY3Rpb24gZSgpe3ZhciB0PXt9O2Z1bmN0aW9uIG4obixyKXtcIm9iamVjdFwiPT10eXBlb2YgdFtyXSYmXCJvYmplY3RcIj09dHlwZW9mIG4/dFtyXT1lKHRbcl0sbik6dFtyXT1ufWZvcih2YXIgcj0wLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWQoYXJndW1lbnRzW3JdLG4pO3JldHVybiB0fSxkZWVwTWVyZ2U6ZnVuY3Rpb24gZSgpe3ZhciB0PXt9O2Z1bmN0aW9uIG4obixyKXtcIm9iamVjdFwiPT10eXBlb2YgdFtyXSYmXCJvYmplY3RcIj09dHlwZW9mIG4/dFtyXT1lKHRbcl0sbik6dFtyXT1cIm9iamVjdFwiPT10eXBlb2Ygbj9lKHt9LG4pOm59Zm9yKHZhciByPTAsaT1hcmd1bWVudHMubGVuZ3RoO3I8aTtyKyspZChhcmd1bWVudHNbcl0sbik7cmV0dXJuIHR9LGV4dGVuZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQodCwoZnVuY3Rpb24odCxpKXtlW2ldPW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/cih0LG4pOnR9KSksZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXFxzKi8sXCJcIikucmVwbGFjZSgvXFxzKiQvLFwiXCIpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDcpLGk9bi5uKHIpLG89big4KSxhPW4oMCkscz1uKDQpO2Z1bmN0aW9uIGMoZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN5bWJvbHx8bnVsbD09ZVtTeW1ib2wuaXRlcmF0b3JdKXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZChlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtcIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIEFycmF5LmZyb20obik7aWYoXCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBkKGUsdCl9KGUpKSl7dmFyIHQ9MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gdD49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbdCsrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIsaSxvPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtyPWVbU3ltYm9sLml0ZXJhdG9yXSgpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9ci5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7YT0hMCxpPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fX19ZnVuY3Rpb24gZChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciB1PW5ldyBmdW5jdGlvbigpe3ZhciBlPU9iamVjdChvLmIpKCk7cmV0dXJuIGUuZGV2aWNlc0hpc3Rvcnk9e30sZS5zdGF0ZXM9e1VOSU5JVDpcIlVOSU5JVFwiLElOSVRJTkc6XCJJTklUSU5HXCIsSU5JVEVEOlwiSU5JVEVEXCJ9LGUuc3RhdGU9ZS5zdGF0ZXMuVU5JTklULGUuZGV2aWNlU3RhdGVzPXtBQ1RJVkU6XCJBQ1RJVkVcIixJTkFDVElWRTpcIklOQUNUSVZFXCJ9LGUuZGV2aWNlUmVsb2FkVGltZXI9bnVsbCxlLl9pbml0PWZ1bmN0aW9uKHQsbil7ZS5zdGF0ZT1lLnN0YXRlcy5JTklUSU5HLGUuZGV2aWNlc0hpc3Rvcnk9e30sZS5fcmVsb2FkRGV2aWNlc0luZm8oKGZ1bmN0aW9uKCl7ZS5zdGF0ZT1lLnN0YXRlcy5JTklURUQsZS5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiaW5pdGVkXCJ9KSx0JiZ0KCl9KSwoZnVuY3Rpb24odCl7YS5kZWZhdWx0Lndhcm5pbmcoXCJEZXZpY2UgRGV0ZWN0aW9uIGZ1bmN0aW9uYWxpdHkgY2Fubm90IHN0YXJ0IHByb3Blcmx5LlwiKSxlLnN0YXRlPWUuc3RhdGVzLlVOSU5JVCxuJiZuKHQpfSkpfSxlLl9lbnVtZXJhdGVEZXZpY2VzPWZ1bmN0aW9uKGUsdCl7aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMpcmV0dXJuIGEuZGVmYXVsdC53YXJuaW5nKFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWQuXCIpLHQmJnQoXCJlbnVtZXJhdGVEZXZpY2VzKCkgbm90IHN1cHBvcnRlZFwiKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtlJiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UodCl9KSwwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dCYmdChlKX0pKX0sZS5fcmVsb2FkRGV2aWNlc0luZm89ZnVuY3Rpb24odCxuKXt2YXIgcj1bXTtlLl9lbnVtZXJhdGVEZXZpY2VzKChmdW5jdGlvbihuKXt2YXIgbz1EYXRlLm5vdygpO2Zvcih2YXIgcyBpbiBuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZGV2aWNlc0hpc3RvcnlbdC5kZXZpY2VJZF07aWYoKG4/bi5zdGF0ZTplLmRldmljZVN0YXRlcy5JTkFDVElWRSkhPWUuZGV2aWNlU3RhdGVzLkFDVElWRSl7dmFyIGk9bnx8e2luaXRBdDpvfTtpLmRldmljZT10LGkuc3RhdGU9ZS5kZXZpY2VTdGF0ZXMuQUNUSVZFLHIucHVzaChpKSxlLmRldmljZXNIaXN0b3J5W3QuZGV2aWNlSWRdPWl9ZS5kZXZpY2VzSGlzdG9yeVt0LmRldmljZUlkXS5sYXN0UmVsb2FkQXQ9b30pKSxlLmRldmljZXNIaXN0b3J5KXt2YXIgYz1lLmRldmljZXNIaXN0b3J5W3NdO2MmJmMuc3RhdGU9PWUuZGV2aWNlU3RhdGVzLkFDVElWRSYmYy5sYXN0UmVsb2FkQXQhPT1vJiYoYy5zdGF0ZT1lLmRldmljZVN0YXRlcy5JTkFDVElWRSxyLnB1c2goYykpLGMubGFzdFJlbG9hZEF0PW99ZS5zdGF0ZT09ZS5zdGF0ZXMuSU5JVEVEJiZyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWkoKSh7fSx0KTtzd2l0Y2godC5kZXZpY2Uua2luZCl7Y2FzZVwiYXVkaW9pbnB1dFwiOm4udHlwZT1cInJlY29yZGluZ0RldmljZUNoYW5nZWRcIjticmVhaztjYXNlXCJhdWRpb291dHB1dFwiOm4udHlwZT1cInBsYXlvdXREZXZpY2VDaGFuZ2VkXCI7YnJlYWs7Y2FzZVwidmlkZW9pbnB1dFwiOm4udHlwZT1cImNhbWVyYUNoYW5nZWRcIjticmVhaztkZWZhdWx0OmEuZGVmYXVsdC53YXJuaW5nKFwiVW5rbm93biBkZXZpY2UgY2hhbmdlXCIsbiksbi50eXBlPVwidW5rbm93bkRldmljZUNoYW5nZWRcIn1lLmRpc3BhdGNoRXZlbnQobil9KSksdCYmdCgpfSksbil9LGUuZ2V0RGV2aWNlQnlJZD1mdW5jdGlvbih0LG4scil7ZS5nZXREZXZpY2VzKChmdW5jdGlvbihlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtpZihvJiZvLmRldmljZUlkPT09dClyZXR1cm4gbiYmbihvKX1yZXR1cm4gciYmcigpfSkpfSxlLnNlYXJjaERldmljZU5hbWVCeUlkPWZ1bmN0aW9uKHQpe3ZhciBuPWUuZGV2aWNlc0hpc3RvcnlbdF07cmV0dXJuIG4/bi5kZXZpY2UubGFiZWx8fG4uZGV2aWNlLmRldmljZUlkOm51bGx9LGUuZ2V0RGV2aWNlcz1mdW5jdGlvbih0LG4pe2UuX2VudW1lcmF0ZURldmljZXModCwoZnVuY3Rpb24oZSl7biYmbihlLm5hbWUrXCI6IFwiK2UubWVzc2FnZSl9KSl9LGUuZ2V0VmlkZW9DYW1lcmFJZEJ5TGFiZWw9ZnVuY3Rpb24odCxuLHIpe2UuZ2V0Q2FtZXJhcygoZnVuY3Rpb24oZSl7dmFyIGksbz1jKGUpO3RyeXtmb3Ioby5zKCk7IShpPW8ubigpKS5kb25lOyl7dmFyIGE9aS52YWx1ZTtpZihhLmxhYmVsPT09dClyZXR1cm4gbiYmbihhLmRldmljZUlkKX19Y2F0Y2goZSl7by5lKGUpfWZpbmFsbHl7by5mKCl9cmV0dXJuIHImJnIocy5kZWZhdWx0Lk5PVF9GSU5EX0RFVklDRV9CWV9MQUJFTCl9KSxyKX0sZS5nZXRSZWNvcmRpbmdEZXZpY2VzPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX2VudW1lcmF0ZURldmljZXMoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvaW5wdXRcIj09ZS5raW5kfSkpO3QmJnQobil9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pKX0sZS5nZXRQbGF5b3V0RGV2aWNlcz1mdW5jdGlvbih0LG4pe3JldHVybiBlLl9lbnVtZXJhdGVEZXZpY2VzKChmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb291dHB1dFwiPT1lLmtpbmR9KSk7dCYmdChuKX0pLChmdW5jdGlvbihlKXtuJiZuKGUpfSkpfSxlLmdldENhbWVyYXM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fZW51bWVyYXRlRGV2aWNlcygoZnVuY3Rpb24oZSl7dmFyIG49ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9pbnB1dFwiPT1lLmtpbmR9KSk7dCYmdChuKX0pLChmdW5jdGlvbihlKXtuJiZuKGUpfSkpfSxlLl9pbml0KChmdW5jdGlvbigpe25hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsKGZ1bmN0aW9uKCl7ZS5fcmVsb2FkRGV2aWNlc0luZm8oKX0pKSxlLmRldmljZVJlbG9hZFRpbWVyPXNldEludGVydmFsKGUuX3JlbG9hZERldmljZXNJbmZvLDVlMyl9KSksZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJfZ2V0UmVjb25uZWN0Q1NUaW1lclwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LFwiX3NldENsaWVudENvbm5lY3Rpb25TdGF0ZVJlY29yZFwiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LFwiZ2V0R2F0ZXdheUxpc3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxuLmQodCxcImdldFVzZXJBY2NvdW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDEyKSxhPW4ubihvKSxzPW4oMTcpLGM9bi5uKHMpLGQ9bigyKSx1PShuKDUpLG4oMCkpLGw9bigxNCksZj1uKDEpLHA9big0KSxnPWZ1bmN0aW9uKGUsdCl7dmFyIG49ITEscj0wLGk9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIlBST1hZX0NTXCIpLG89T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkNIT09TRV9TRVJWRVJfRlJBR0VNRU5UX0xFTkdUSFwiKSxhPTAscz17Y29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsc2lkOmUuc2lkLGFwcElkOmUuYXBwSWQsdG9rZW46ZS50b2tlbix1aWQ6ZS51aWQsY25hbWU6ZS5jbmFtZSx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKSx2ZXJzaW9uOmQuVkVSU0lPTixzZXE6MCxyZXF1ZXN0SWQ6MX0sYz1mdW5jdGlvbihjKXt2YXIgZD0obmV3IERhdGUpLmdldFRpbWUoKTttKFwiaHR0cHM6Ly9cIitjK1wiL2FwaS92MVwiLHMsKGZ1bmN0aW9uKHMscCl7aWYocylyZXR1cm4gdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgc2VydmVyIGZhaWxlZDogXCIscykscisrLGYucmVwb3J0LnJlcXVlc3RQcm94eUFwcENlbnRlcihlLnNpZCx7bHRzOmQsc3VjYzohMSxBUEFkZHI6Yyx3b3JrZXJNYW5hZ2VyTGlzdDpudWxsLGVjOkpTT04uc3RyaW5naWZ5KHMpLHJlc3BvbnNlOkpTT04uc3RyaW5naWZ5KHtlcnI6cyxyZXM6cH0pfSkscj49aS5sZW5ndGgmJnQmJnQoXCJHZXQgcHJveHkgc2VydmVyIGZhaWxlZDogcmVxdWVzdCBhbGwgZmFpbGVkXCIpLHZvaWQoIShyJW8pJiZyPGkubGVuZ3RoJiYoYSsrLGwoKSkpO2lmKCFuKWlmKChwPUpTT04ucGFyc2UocCkpLmpzb25fYm9keSl7dmFyIGc9SlNPTi5wYXJzZShwLmpzb25fYm9keSk7aWYodS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIEFwcCByZXR1cm46XCIsZy5zZXJ2ZXJzKSwyMDAhPT1nLmNvZGUpe3M9XCJHZXQgcHJveHkgc2VydmVyIGZhaWxlZDogcmVzcG9uc2UgY29kZSBbXCIrZy5jb2RlK1wiXSwgcmVhc29uIFsgXCIrZy5yZWFzb24rXCJdXCI7cisrLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBcIitzKSxmLnJlcG9ydC5yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZS5zaWQse2x0czpkLHN1Y2M6ITEsQVBBZGRyOmMsd29ya2VyTWFuYWdlckxpc3Q6bnVsbCxlYzpzLHJlc3BvbnNlOkpTT04uc3RyaW5naWZ5KHtlcnI6cyxyZXM6cH0pfSkscj49aS5sZW5ndGgmJnQmJnQocyksIShyJW8pJiZyPGkubGVuZ3RoJiYoYSsrLGwoKSl9ZWxzZXtuPSEwO3ZhciBtPXYoZy5zZXJ2ZXJzKTtmLnJlcG9ydC5yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZS5zaWQse2x0czpkLHN1Y2M6ITAsQVBBZGRyOmMsd29ya2VyTWFuYWdlckxpc3Q6SlNPTi5zdHJpbmdpZnkobSksZWM6bnVsbCxyZXNwb25zZTpKU09OLnN0cmluZ2lmeSh7cmVzOnB9KX0pLHQmJnQobnVsbCxtKX19ZWxzZSB1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gR2V0IHByb3h5IHNlcnZlciBmYWlsZWQ6IG5vIGpzb25fYm9keVwiKSxmLnJlcG9ydC5yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZS5zaWQse2x0czpkLHN1Y2M6ITEsQVBBZGRyOmMsd29ya2VyTWFuYWdlckxpc3Q6bnVsbCxlYzpcIkdldCBwcm94eSBzZXJ2ZXIgZmFpbGVkOiBubyBqc29uX2JvZHlcIixyZXNwb25zZTpKU09OLnN0cmluZ2lmeSh7cmVzOnB9KX0pfSkpfSxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWEqbyx0PWU7dDxNYXRoLm1pbihpLmxlbmd0aCxlK28pO3QrKyl7dmFyIG49aVt0XTtjKG4pfX07bCgpfSxtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17c2VydmljZV9uYW1lOlwid2VicnRjX3Byb3h5XCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHQpfTtPYmplY3QobC5wb3N0KShlLHIsKGZ1bmN0aW9uKGUpe24mJm4obnVsbCxlKX0pLChmdW5jdGlvbihlKXtuJiZuKGUpfSkse1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfSl9LGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSExLGk9MCxvPXtjb21tYW5kOlwicmVxdWVzdFwiLGdhdGV3YXlUeXBlOlwiaHR0cFwiLGFwcElkOmUuYXBwSWQsY25hbWU6ZS5jbmFtZSx1aWQ6ZS51aWQrXCJcIixzZGtWZXJzaW9uOlwiMi4zLjFcIixzaWQ6ZS5zaWQsc2VxOjEsdHM6K25ldyBEYXRlLHJlcXVlc3RJZDozLGNsaWVudFJlcXVlc3Q6e2FwcElkOmUuYXBwSWQsY25hbWU6ZS5jbmFtZSx1aWQ6ZS51aWQrXCJcIixzaWQ6ZS5zaWR9fTt0Lm1hcCgoZnVuY3Rpb24oYSl7dmFyIHM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7IWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QobC5wb3N0KShlLHQsKGZ1bmN0aW9uKGUpe24mJm4obnVsbCxlKX0pLChmdW5jdGlvbihlKXtuJiZuKGUpfSkpfShcImh0dHBzOi8vXCIrYStcIjo0MDAwL3YyL21hY2hpbmVcIixvLChmdW5jdGlvbihvLGMpe2lmKG8pcmV0dXJuIHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBSZXF1ZXN0IHdvcmtlciBtYW5hZ2VyIGZhaWxlZDogXCIsbyksaSsrLGYucmVwb3J0LnJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXIoZS5zaWQse2x0czpzLHN1Y2M6ITEsd29ya2VyTWFuYWdlckFkZHI6YSxlYzpKU09OLnN0cmluZ2lmeShvKSxyZXNwb25zZTpKU09OLnN0cmluZ2lmeSh7cmVzOmN9KX0pLHZvaWQoaT49dC5sZW5ndGgmJm4mJm4oXCJyZXF1ZWV0IHdvcmtlciBtYW5hZ2VyIHNlcnZlciBmYWlsZWQ6IHJlcXVlc3QgZmFpbGVkXCIpKTtpZighcil7aWYoIShjPUpTT04ucGFyc2UoYykpLnNlcnZlclJlc3BvbnNlKXJldHVybiBuJiZuKFwicmVxdWVldCB3b3JrZXIgbWFuYWdlciBzZXJ2ZXIgZmFpbGVkOiBzZXJ2ZXJSZXNwb25zZSBpcyB1bmRlZmluZWRcIik7cj0hMCxmLnJlcG9ydC5yZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyKGUuc2lkLHtsdHM6cyxzdWNjOiEwLHdvcmtlck1hbmFnZXJBZGRyOmEsZWM6SlNPTi5zdHJpbmdpZnkobykscmVzcG9uc2U6SlNPTi5zdHJpbmdpZnkoe3JlczpjfSl9KSxuJiZuKG51bGwse2FkZHJlc3M6YSxzZXJ2ZXJSZXNwb25zZTpjLnNlcnZlclJlc3BvbnNlfSl9fSkpfSkpfSx2PWZ1bmN0aW9uKGUpe2lmKCFlfHxbXWluc3RhbmNlb2YgQXJyYXk9PSExKXJldHVybltdO3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuO2UuYWRkcmVzcyYmZS50Y3A/KGUuYWRkcmVzcy5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKT9uPVwiXCIuY29uY2F0KGUuYWRkcmVzcy5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuZWRnZS5hZ29yYS5pb1wiKToodS5kZWZhdWx0LmluZm8oXCJbXCIram9pbkluZm8uY2xpZW50SWQrXCJdIFwiK1wiQ2Fubm90IHJlY29nbml6ZWQgYXMgSVAgYWRkcmVzcyBcIi5jb25jYXQoZS5hZGRyZXNzLFwiLiBVc2VkIEFzIEhvc3QgaW5zdGVhZFwiKSksbj1cIlwiLmNvbmNhdChlLmFkZHJlc3MsXCI6XCIpLmNvbmNhdChlLnRjcCkpLHQucHVzaChuKSk6dS5kZWZhdWx0LmVycm9yKFwiW1wiK2pvaW5JbmZvLmNsaWVudElkK1wiXSBJbnZhbGlkIGFkZHJlc3MgZm9ybWF0IFwiLGUpfSkpLHR9LEU9bigyMSksUz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiV0VCQ1NfRE9NQUlOXCIpLmNvbmNhdChPYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpKSxvPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7aT1pLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm5cIlwiLmNvbmNhdChvWyh0KzEpJW8ubGVuZ3RoXSxcIi9hcC8/dXJsPVwiKS5jb25jYXQoZSl9KSk7dmFyIGEscz0wLGM9ITAsZz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQ0hPT1NFX1NFUlZFUl9GUkFHRU1FTlRfTEVOR1RIXCIpLG09MCxoPWZ1bmN0aW9uKGgpeyFmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPURhdGUubm93KCksYT1mdW5jdGlvbihlLHIpe3RyeXtmLnJlcG9ydC5qb2luQ2hvb3NlU2VydmVyMihuLnNpZCx7bHRzOm8sc3VjYzohZSxjc0FkZHI6dCxzZXJ2ZXJMaXN0OnImJnIuZ2F0ZXdheV9hZGRyLGNpZDpyJiZyLmNpZCtcIlwiLHVpZDpyJiZyLnVpZCtcIlwiLGVjOmUsY2hvb3NlU2VydmVySXA6ciYmci5kZXRhaWwmJnIuZGV0YWlsWzUwMl19KX1jYXRjaChlKXt9fSxzPWZ1bmN0aW9uKHIsaSl7dmFyIGE9RGF0ZS5ub3coKTt0cnl7Zi5yZXBvcnQuam9pbldlYlByb3h5QVAoe2x0czphLHNpZDpuLnNpZCxjbmFtZTpuLmNuYW1lLGNpZDpuLmNpZCx1aWQ6bi51aWQsc3VjZXNzOnI/LTE6MSxlbGFwc2U6YS1vLGV2ZW50VHlwZTplLGFwU2VydmVyQWRkcjp0LHR1cm5TZXJ2ZXJBZGRyTGlzdDpKU09OLnN0cmluZ2lmeShpKSxlcnJvckNvZGU6cnx8XCIwXCJ9KX1jYXRjaChlKXt9fSxjPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBUkVBX1NFVFRJTkdcIikucmVkdWNlKChmdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0KEUuZ2V0QXJlYUNvZGVCeUFyZWEpKHQpO3JldHVybiByPzA9PT1uP3I6XCJcIi5jb25jYXQoZSxcIixcIikuY29uY2F0KHIpOmV9KSxcIlwiKSxnPXthcHBpZDpuLnRva2VuLGNsaWVudF90czpEYXRlLm5vdygpLG9waWQ6MTMzLHNpZDpuLnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyMixidWZmZXI6e2NuYW1lOm4uY25hbWUsZGV0YWlsOnsxMTpjLDY6bi5zdHJpbmdVaWR9LGtleTpuLnRva2VuLHNlcnZpY2VfaWRzOlsxMSxpPzIwOjE4XSx1aWQ6bi51aWR8fDB9fV19O3Q9XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxPYmplY3QobC5wb3N0Rm9ybURhdGEpKHQsZywoZnVuY3Rpb24oZSl7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBSZWdFeHAoLzEwMTAyXFxkezJ9JC8pLnRlc3QoZSk/XCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiOnAuQVBFcnJvckNvZGVbZV18fGV9O3RyeXt2YXIgYyxsLGY9SlNPTi5wYXJzZShlKTtpZigzMD09PShmPWYucmVzcG9uc2VfYm9keSlbMF0udXJpJiYwIT09ZlswXS5idWZmZXIuY29kZSl7dmFyIGc9byhmWzBdLmJ1ZmZlci5jb2RlKTtyZXR1cm4gcyhnLGYpLHIoZyl9aWYoNDA5Nj09PWZbMF0uYnVmZmVyLmZsYWc/KGw9ZlswXS5idWZmZXIsYz1mWzFdLmJ1ZmZlcik6KGw9ZlsxXS5idWZmZXIsYz1mWzBdLmJ1ZmZlciksMCE9PWMuY29kZSl7Zz1vKGMuY29kZSk7cmV0dXJuIHUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQobi5jbGllbnRJZCxcIl0gcmVxdWVzdFByb3h5U2VydmVyIGZhaWxlZDogXCIpLmNvbmNhdChnKSkscyhnLGMpLHIoZyl9aWYoIWMuZWRnZXNfc2VydmljZXN8fCFjLmVkZ2VzX3NlcnZpY2VzIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIHMoXCJVTkVYUEVDVEVEX0VSUk9SXCIsYykscihcIlVORVhQRUNURURfRVJST1JcIik7dmFyIG09T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkdBVEVXQVlfRE9NQUlOU1wiKSxoPTA7aWYodC5pbmRleE9mKG1bMV0pPi0xJiYoaD0xKSwwPT09Yy5lZGdlc19zZXJ2aWNlcy5sZW5ndGgpcmV0dXJuIHMoXCJFTVBUWV9QUk9YWV9MSVNUXCIsYykscihcIkVNUFRZX1BST1hZX0xJU1RcIik7dmFyIHY9Yy5lZGdlc19zZXJ2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUuaXApcmV0dXJuIGUuaXA9aT9cIlwiLmNvbmNhdChlLmlwLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KG1baCsrJW0ubGVuZ3RoXSk6XCJcIi5jb25jYXQoZS5pcCksZX0pKTtpZihzKG51bGwsdiksMCE9PWwuY29kZSl7Zz1vKGwuY29kZSk7cmV0dXJuIHUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQobi5jbGllbnRJZCxcIl0gcmVxdWVzdENob29zZVNlcnZlciBmYWlsZWQ6IFwiKS5jb25jYXQoZykpLGEoZykscihnKX12YXIgRT1bXTttPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJHQVRFV0FZX0RPTUFJTlNcIiksaD0wO2lmKHQuaW5kZXhPZihtWzFdKT4tMSYmKGg9MSksbC5lZGdlc19zZXJ2aWNlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcjtpZihlLmlwJiZlLnBvcnQpe2lmKCFlLmlwLm1hdGNoKC9eW1xcLlxcOlxcZF0rJC8pKXJldHVybiB1LmRlZmF1bHQuaW5mbyhcIltcIituLmNsaWVudElkK1wiXSBcIitcIkNhbm5vdCByZWNvZ25pemVkIGFzIElQIGFkZHJlc3MgXCIuY29uY2F0KGUuaXAsXCIuIFVzZWQgQXMgSG9zdCBpbnN0ZWFkXCIpKSx2b2lkIGEoXCJVTkVYUEVDVEVEX0lQXCIpO3I9XCJcIi5jb25jYXQoZS5pcC5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChtW2grKyVtLmxlbmd0aF0pO3ZhciBpPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7cj0vc2QtcnRuLy50ZXN0KHQpP1wiXCIuY29uY2F0KGlbMF0sXCIvd3MvP2g9XCIpLmNvbmNhdChyLFwiJnA9XCIpLmNvbmNhdChlLnBvcnQpOlwiXCIuY29uY2F0KGlbMV0sXCIvd3MvP2g9XCIpLmNvbmNhdChyLFwiJnA9XCIpLmNvbmNhdChlLnBvcnQpLEUucHVzaChyKX1lbHNlIHUuZGVmYXVsdC5lcnJvcihcIltcIituLmNsaWVudElkK1wiXSBJbnZhbGlkIGFkZHJlc3MgZm9ybWF0IFwiLGUpfSkpLCFFLmxlbmd0aClyZXR1cm4gdS5kZWZhdWx0LmVycm9yKFwiW1wiK24uY2xpZW50SWQrXCJdIEVtcHR5IEFkZHJlc3MgcmVzcG9uc2VcIixmKSxhKFwiRU1QVFlfQUREUkVTU19SRVNQT05TRVwiKSxyKFwiRU1QVFlfQUREUkVTU19SRVNQT05TRVwiKTtsLnRpY2tldD1sLmNlcnQ7dmFyIFM9e2dhdGV3YXlfYWRkcjpFLHVpZDpsLnVpZCxjaWQ6bC5jaWQsdmlkOmwuZGV0YWlsJiZsLmRldGFpbFs4XSxyZXM6bCxkZXRhaWw6Zi5kZXRhaWx9O2EobnVsbCxTKSxyKG51bGwse2dhdGV3YXlTZXJ2ZXJzOlMsdHVyblNlcnZlcnM6dn0pfWNhdGNoKGUpe3JldHVybiB1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KG4uY2xpZW50SWQsXCJdIHJlcXVlc3RQcm94eVNlcnZlciBmYWlsZWQgd2l0aCB1bmV4cGVjdGVkIGJvZHkgXCIpLGUpLHMoXCJVTkVYUEVDVEVEX0VSUk9SXCIpLHIoXCJVTkVYUEVDVEVEX0VSUk9SXCIpfX0pLChmdW5jdGlvbihlLHQpe1widGltZW91dFwiPT09ZS50eXBlPyhzKFwiUkVRVUVTVF9QUk9YWV9TRVJWRVJfVElNRV9PVVRcIikscihcIlJFUVVFU1RfUFJPWFlfU0VSVkVSX1RJTUVfT1VUXCIpKToocyhcIlJFUVVFU1RfUFJPWFlfU0VSVkVSX0ZBSUxFRFwiKSxyKFwiUkVRVUVTVF9QUk9YWV9TRVJWRVJfRkFJTEVEXCIpKX0pKX0oZSxoLHQsKGZ1bmN0aW9uKGUscil7ZT8ocysrLHUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gcmVxdWVzdCBcIikuY29uY2F0KGgsXCIgZmFpbGVkOiBcIikuY29uY2F0KGUpKSxlJiYtMT09PXAuSk9JTl9QUk9YWV9SRVRSWV9MSVNULmluZGV4T2YoZSkmJihhPWUpLHM9PT1pLmxlbmd0aCYmKGF8fChhPVwiUkVUUllBQkxFX0VSUk9SXCIpLG4oYSkpLCEocyVnKSYmczxpLmxlbmd0aCYmKG0rKyx2KCkpKTpjJiYoL3NkLXJ0bi8udGVzdChyLmdhdGV3YXlTZXJ2ZXJzLmdhdGV3YXlfYWRkclswXSk/T2JqZWN0KGQuc2V0UGFyYW1ldGVyKShcIk5HSU5YXCIsb1swXSk6T2JqZWN0KGQuc2V0UGFyYW1ldGVyKShcIk5HSU5YXCIsb1sxXSksYz0hMSxuKG51bGwscikpfSkscil9LHY9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bSpnLHQ9ZTt0PE1hdGgubWluKGkubGVuZ3RoLGUrZyk7dCsrKXt2YXIgbj1pW3RdO2gobil9fTt2KCl9LF89bigxMykseT1uKDI5KSxSPW4ubih5KSxUPW4oMzApLEk9e30sYj17fSxBPWZ1bmN0aW9uKGUpe3JldHVybiBJW2VdfSxPPWZ1bmN0aW9uKGUsdCl7YltlXT10fSxDPWZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKSxzPXQsYz1cIlwiO3QubXVsdGlJUCYmdC5tdWx0aUlQLmdhdGV3YXlfaXAmJihjPXt2b2NzX2lwOlt0Lm11bHRpSVAudW5pX2xic19pcF0sdm9zX2lwOlt0Lm11bHRpSVAuZ2F0ZXdheV9pcF19KTt2YXIgZz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQVJFQV9TRVRUSU5HXCIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdChFLmdldEFyZWFDb2RlQnlBcmVhKSh0KTtyZXR1cm4gcj8wPT09bj9yOlwiXCIuY29uY2F0KGUsXCIsXCIpLmNvbmNhdChyKTplfSksXCJcIiksbT17YXBwaWQ6dC50b2tlbixvcGlkOjEzMyxjbGllbnRfdHM6K25ldyBEYXRlLHNpZDp0LnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyMixidWZmZXI6e2NuYW1lOnQuY25hbWUsZGV0YWlsOns1OmM/SlNPTi5zdHJpbmdpZnkoYyk6dm9pZCAwLDY6dC5zdHJpbmdVaWQsMTE6Z30sa2V5OnQudG9rZW4sc2VydmljZV9pZHM6WzExXSx1aWQ6dC51aWR8fDB9fV19O09iamVjdChsLnBvc3RGb3JtRGF0YSkoZSxtLChmdW5jdGlvbihpKXt0cnl7dmFyIGM9SlNPTi5wYXJzZShpKSxsPShjPWMucmVzcG9uc2VfYm9keVswXS5idWZmZXIpLmNvZGV9Y2F0Y2goZSl7dmFyIGc9XCJyZXF1ZXN0Q2hvb3NlU2VydmVyIGZhaWxlZCB3aXRoIHVuZXhwZWN0ZWQgYm9keSBcIitpO3JldHVybiB1LmRlZmF1bHQuZXJyb3IoXCJbXCIrcy5jbGllbnRJZCtcIl1cIixnKSxyKGcsdm9pZCAwLHZvaWQgMCxvKX1pZihsKXJldHVybiBFPW5ldyBSZWdFeHAoLzEwMTAyXFxkezJ9JC8pLnRlc3QobCk/XCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiOnAuQVBFcnJvckNvZGVbYy5jb2RlXXx8bCxmLnJlcG9ydC5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6YSxzdWNjOiExLGNzQWRkcjplLHNlcnZlckxpc3Q6bnVsbCxlYzpFLGNob29zZVNlcnZlcklwOmMmJmMuZGV0YWlsJiZjLmRldGFpbFs1MDJdfSkscihcIkdldCBzZXJ2ZXIgbm9kZSBmYWlsZWQgW1wiK0UrXCJdXCIsZSxFLG8pO3ZhciBtPVtdLGg9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkdBVEVXQVlfRE9NQUlOU1wiKSx2PTA7aWYoZS5pbmRleE9mKGhbMV0pPi0xJiYodj0xKSxjLmVkZ2VzX3NlcnZpY2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O2UuaXAmJmUucG9ydD8oZS5pcC5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKT90PVwiXCIuY29uY2F0KGUuaXAucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQoaFt2KyslaC5sZW5ndGhdLFwiOlwiKS5jb25jYXQoZS5wb3J0KToodS5kZWZhdWx0LmluZm8oXCJbXCIrcy5jbGllbnRJZCtcIl0gXCIrXCJDYW5ub3QgcmVjb2duaXplZCBhcyBJUCBhZGRyZXNzIFwiLmNvbmNhdChlLmlwLFwiLiBVc2VkIEFzIEhvc3QgaW5zdGVhZFwiKSksdD1cIlwiLmNvbmNhdChlLmlwLFwiOlwiKS5jb25jYXQoZS5wb3J0KSksbS5wdXNoKHQpKTp1LmRlZmF1bHQuZXJyb3IoXCJbXCIrcy5jbGllbnRJZCtcIl0gSW52YWxpZCBhZGRyZXNzIGZvcm1hdCBcIixlKX0pKSwhbS5sZW5ndGgpe3UuZGVmYXVsdC5lcnJvcihcIltcIitzLmNsaWVudElkK1wiXSBFbXB0eSBBZGRyZXNzIHJlc3BvbnNlXCIsYyk7dmFyIEU9XCJFTVBUWV9BRERSRVNTX1JFU1BPTlNFXCI7cmV0dXJuIGYucmVwb3J0LmpvaW5DaG9vc2VTZXJ2ZXIodC5zaWQse2x0czphLHN1Y2M6ITEsY3NBZGRyOmUsc2VydmVyTGlzdDpudWxsLGVjOkUsY2hvb3NlU2VydmVySXA6YyYmYy5kZXRhaWwmJmMuZGV0YWlsWzUwMl19KSxyKFwiR2V0IHNlcnZlciBub2RlIGZhaWxlZCBbXCIrRStcIl1cIixlLEUsbyl9Yy50aWNrZXQ9Yy5jZXJ0O3ZhciBTPXtnYXRld2F5X2FkZHI6bSx1aWQ6Yy51aWQsY2lkOmMuY2lkLHZpZDpjLmRldGFpbCYmYy5kZXRhaWxbOF0scmVzOmMsdW5pX2xic19pcDpjLmRldGFpbH07cmV0dXJuIG4oUyxlKX0pLChmdW5jdGlvbihlLG4pe1widGltZW91dFwiPT09ZS50eXBlPyhmLnJlcG9ydC5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6YSxzdWNjOiExLGNzQWRkcjpuLHNlcnZlckxpc3Q6bnVsbCxlYzpcInRpbWVvdXRcIn0pLHIoXCJDb25uZWN0IGNob29zZSBzZXJ2ZXIgdGltZW91dFwiLG4sdm9pZCAwLG8pKTooZi5yZXBvcnQuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOmEsc3VjYzohMSxjc0FkZHI6bixzZXJ2ZXJMaXN0Om51bGwsZWM6ZS5odHRwRXJyb3JDb2RlfHxcInNlcnZlcl93cm9uZ1wifSkscihcIkNvbm5lY3QgY2hvb3NlIHNlcnZlciBlcnJvclwiLG4sdm9pZCAwLG8pKX0pKX0sTj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ITEsaT1udWxsLG89MSxhPTEscz1lLmNsaWVudElkLGM9ZnVuY3Rpb24gdChhLGMpe2lmKCFyKXt2YXIgbD1bXTshZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz0hMSxhPTAscz0wLGM9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIldFQkNTX0RPTUFJTlwiKSxsPWMubGVuZ3RoLGc9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKSxtPWcubGVuZ3RoLGg9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkNIT09TRV9TRVJWRVJfRlJBR0VNRU5UX0xFTkdUSFwiKSx2PTAsUz0wLF89ZnVuY3Rpb24obixyKXt2YXIgYTt0cnl7YT1uLnJlcy5kZXRhaWxbOF19Y2F0Y2godCl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIGdldCB2aWQgZmFpbGVkXCIsdCl9aWYobylmLnJlcG9ydC5qb2luQ2hvb3NlU2VydmVyKGUuc2lkLHtsdHM6aSxzdWNjOiEwLGNzQWRkcjpyLHNlcnZlckxpc3Q6bi5nYXRld2F5X2FkZHIsY2lkOm4uY2lkK1wiXCIsdWlkOm4udWlkK1wiXCIsZWM6bnVsbCx2aWQ6YSxjaG9vc2VTZXJ2ZXJJcDpuLnJlcyYmbi5yZXMuZGV0YWlsJiZuLnJlcy5kZXRhaWxbNTAyXX0sITEpO2Vsc2V7aWYoY2xlYXJUaW1lb3V0KEkpLG89ITAsZS5wcm94eVNlcnZlcilmb3IodmFyIHM9bi5nYXRld2F5X2FkZHIsYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgZD1zW2NdLnNwbGl0KFwiOlwiKTtuLmdhdGV3YXlfYWRkcltjXT1lLnByb3h5U2VydmVyK1wiL3dzLz9oPVwiK2RbMF0rXCImcD1cIitkWzFdfXQobiksZi5yZXBvcnQuam9pbkNob29zZVNlcnZlcihlLnNpZCx7bHRzOmksc3VjYzohMCxjc0FkZHI6cixzZXJ2ZXJMaXN0Om4uZ2F0ZXdheV9hZGRyLGNpZDpuLmNpZCtcIlwiLHVpZDpuLnVpZCtcIlwiLGVjOm51bGwsdmlkOmEsY2hvb3NlU2VydmVySXA6bi5yZXMmJm4ucmVzLmRldGFpbCYmbi5yZXMuZGV0YWlsWzUwMl19LCEwKX19LHk9ZnVuY3Rpb24odCxpLG8sYyl7XCJkb21haW5cIj09PWMmJmErKyxcImJhY2t1cFwiPT09YyYmcysrLHUuZGVmYXVsdC5lcnJvcihcIltcIitlLmNsaWVudElkK1wiXVwiLHQsaSxvKSxvJiYtMT09PXAuSk9JTl9DU19SRVRSWV9MSVNULmluZGV4T2YobykmJihyPW8pLGE9PT1sJiZzPT09bSYmbihyKSxcImRvbWFpblwiPT09YyYmIShhJWgpJiZhPGwmJih2KyssUigpKSxcImJhY2t1cFwiPT09YyYmIShzJWgpJiZzPG0mJihTKyssVCgpKX0sUj1mdW5jdGlvbiB0KCl7Zm9yKHZhciBuPXYqaCxyPW47cjxNYXRoLm1pbihsLG4raCk7KytyKXt2YXIgaTtpZihcInN0cmluZ1wiPT10eXBlb2YgY1tyXSl7dmFyIG89Y1tyXTtpPWUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChvK1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KG8sXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpO3ZhciBzPU9iamVjdChFLmdldEFyZWFDb2RlQnlXZWJDUykobyk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFwiK1wiQ29ubmVjdCB0byBjaG9vc2Vfc2VydmVyOiBcIi5jb25jYXQoaSxcIiwgXCIpLmNvbmNhdChzKSksQyhpLGUsXyx5LDAsXCJkb21haW5cIil9ZWxzZSBhKyssdS5kZWZhdWx0LmVycm9yKFwiW1wiK2UuY2xpZW50SWQrXCJdIEludmFsaWQgSG9zdFwiLGNbcl0pLHI9PT1uK2gtMSYmcjxsLTEtMSYmKHYrKyx0KCkpfX07UigpO3ZhciBUPWZ1bmN0aW9uIHQoKXtpZighbylmb3IodmFyIG49UypoLHI9bjtyPE1hdGgubWluKG0sbitoKTtyKyspe3ZhciBpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBnW3JdKXt2YXIgYT1nW3JdO2k9ZS5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGErXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoYSxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik7dmFyIGM9T2JqZWN0KEUuZ2V0QXJlYUNvZGVCeVdlYkNTKShhKTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gXCIrXCJDb25uZWN0IHRvIGJhY2t1cF9jaG9vc2Vfc2VydmVyOiBcIi5jb25jYXQoaSxcIiwgXCIpLmNvbmNhdChjKSksQyhpLGUsXyx5LDAsXCJiYWNrdXBcIil9ZWxzZSBzKyssdS5kZWZhdWx0LmVycm9yKFwiW1wiK2UuY2xpZW50SWQrXCJdIEludmFsaWQgSG9zdFwiLGdbcl0pLHI9PT1uK2gtMSYmcjxnLTEtMSYmKHYrKyx0KCkpfX0sST1zZXRUaW1lb3V0KFQsMWUzKX0oZSwoZnVuY3Rpb24odCl7cj0hMCwhMCxsPXQsY2xlYXJUaW1lb3V0KGkpLGJbc10hPT1fLmEuRElTQ09OTkVDVEVEJiZiW3NdIT09Xy5hLkRJU0NPTk5FQ1RJTkc/YyYmYyhsLG51bGwpOnUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gUmVxdWVzdCBnYXRld2F5IGxpc3Qgc3VjY2VzcyB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIpLmNvbmNhdChiW3NdKSl9KSwoZnVuY3Rpb24ocil7aWYocilyZXR1cm4gdS5kZWZhdWx0LmluZm8oXCJbXCIrZS5jbGllbnRJZCtcIl0gSm9pbiBmYWlsZWQ6IFwiK3IpLHZvaWQobiYmbihyKSk7aWYoYltzXT09PV8uYS5ESVNDT05ORUNURUR8fGJbc109PT1fLmEuRElTQ09OTkVDVElORylyZXR1cm4gdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBSZXF1ZXN0IGdhdGV3YXkgbGlzdCBmYWxpZWQgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiKS5jb25jYXQoYltzXSkpLHZvaWQobiYmbihcIk9QRVJBVElPTl9BQk9SVFwiKSk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgZ2F0ZXdheSBsaXN0IHdpbGwgYmUgcmVzdGFydCBpbiBcIitvK1wic1wiKSxpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChhLGMpfSksMWUzKm8pLElbc109aTt2YXIgbD1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQVBfQkFDS09GRl9NQVhfVElNRVwiKTtvPW8+PWw/bDoyKm99KSl9fSxsPWZ1bmN0aW9uIG4oKXshZnVuY3Rpb24oZSx0KXtnKGUsKGZ1bmN0aW9uKG4scil7aWYobilyZXR1cm4gdCYmdChuKTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gZ2V0UHJveHlTZXJ2ZXJMaXN0OiBcIixyKSxoKGUscix0KX0pKX0oZSwoZnVuY3Rpb24ocixvKXtpZihyKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl1cIixyKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gUmVxdWVzdCBwcm94eSB3aWxsIGJlIHJlc3RhcnQgaW4gXCIrYStcInNcIiksaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24oKX0pLDFlMyphKSxJW3NdPWk7dmFyIGw9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFQX0JBQ0tPRkZfTUFYX1RJTUVcIik7YT1hPj1sP2w6MiphfWVsc2V7Y2xlYXJUaW1lb3V0KGkpO3ZhciBwPW8uYWRkcmVzcztlLnByb3h5U2VydmVyPXA7dmFyIGc9e21vZGU6XCJtYW51YWxcIix1cmw6by5hZGRyZXNzLHRjcHBvcnQ6by5zZXJ2ZXJSZXNwb25zZS50Y3Bwb3J0fHxcIjM0MzNcIix1ZHBwb3J0Om8uc2VydmVyUmVzcG9uc2UudWRwcG9ydHx8XCIzNDc4XCIsdXNlcm5hbWU6by5zZXJ2ZXJSZXNwb25zZS51c2VybmFtZXx8XCJ0ZXN0XCIsY3JlZGVudGlhbDpvLnNlcnZlclJlc3BvbnNlLnBhc3N3b3JkfHxPYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiVFVSTl9TRVJWRVJfUEFTU1dPUkRcIiksZm9yY2V0dXJuOiEwfTtnLnRjcHBvcnQrPVwiXCIsZy51ZHBwb3J0Kz1cIlwiLGUudHVyblNlcnZlcnM9W10sZS50dXJuU2VydmVycy5wdXNoKGcpLGYucmVwb3J0LnNldFByb3h5U2VydmVyKHApLHUuZGVmYXVsdC5zZXRQcm94eVNlcnZlcihwKSxjKHAsdCl9fSkpfTtlLnVzZVByb3h5U2VydmVyPzE9PWUucHJveHlTZXJ2ZXJUeXBlP2woKToyPT1lLnByb3h5U2VydmVyVHlwZT9mdW5jdGlvbiBuKCl7IWZ1bmN0aW9uKGUsdCl7ZyhlLChmdW5jdGlvbihuLHIpe3JldHVybiBuP3QmJnQobik6KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBnZXRQcm94eVNlcnZlckxpc3Q6IFwiLHIpLHQmJnQobnVsbCx7YWRkcmVzczpyWzBdLHNlcnZlclJlc3BvbnNlOnt0Y3Bwb3J0OlwiNDQzXCIsdWRwcG9ydDpcIjM0NzhcIix1c2VybmFtZTpcInRlc3RcIixwYXNzd29yZDpcIjExMTExMVwifX0pKX0pKX0oZSwoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiB1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl1cIixyKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gUmVxdWVzdCBwcm94eSB3aWxsIGJlIHJlc3RhcnQgaW4gXCIrYStcInNcIiksaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24oKX0pLDFlMyphKSxJW3NdPWksdm9pZChhPWE+PTM2MDA/MzYwMDoyKmEpO2NsZWFyVGltZW91dChpKTt2YXIgbD1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiUFJPWFlfU0VSVkVSX1RZUEUyXCIpO2UucHJveHlTZXJ2ZXI9bDt2YXIgcD17bW9kZTpcIm1hbnVhbFwiLHVybDpvLmFkZHJlc3MsdGNwcG9ydDpvLnNlcnZlclJlc3BvbnNlLnRjcHBvcnR8fFwiMzQzM1wiLHVkcHBvcnQ6by5zZXJ2ZXJSZXNwb25zZS51ZHBwb3J0fHxcIjM0NzhcIix1c2VybmFtZTpvLnNlcnZlclJlc3BvbnNlLnVzZXJuYW1lfHxcInRlc3RcIixjcmVkZW50aWFsOm8uc2VydmVyUmVzcG9uc2UucGFzc3dvcmR8fFwiMTExMTExXCIsZm9yY2V0dXJuOiEwfTtwLnRjcHBvcnQrPVwiXCIscC51ZHBwb3J0Kz1cIlwiLGUudHVyblNlcnZlcnM9W10sZS50dXJuU2VydmVycy5wdXNoKHApLGYucmVwb3J0LnNldFByb3h5U2VydmVyKGwpLHUuZGVmYXVsdC5zZXRQcm94eVNlcnZlcihsKSxjKGwsdCl9KSl9KCk6Mz09ZS5wcm94eVNlcnZlclR5cGU/ZnVuY3Rpb24gcigpe1MoXCJwcm94eTNcIixlLChmdW5jdGlvbihvLGMpe2lmKG8pcmV0dXJuXCJSRVRSWUFCTEVfRVJST1JcIiE9PW8/biYmbihvKToodS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdXCIsbyksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgd2lsbCBiZSByZXN0YXJ0IGluIFwiK2ErXCJzXCIpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKCl9KSwxZTMqYSksSVtzXT1pLHZvaWQoYT1hPj0zNjAwPzM2MDA6MiphKSk7dmFyIGw9Yy5nYXRld2F5U2VydmVycyxwPWMudHVyblNlcnZlcnM7Y2xlYXJUaW1lb3V0KGkpO3ZhciBnPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJOR0lOWFwiKTtlLnByb3h5U2VydmVyPWcsZS50dXJuU2VydmVycz1bXTt2YXIgbT1PYmplY3QoVC5yYW5kb21TdHJpbmcpKCk7cC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPXttb2RlOlwibWFudWFsXCIsdXJsOnQuaXAsdGNwcG9ydDpcIlwiLHVkcHBvcnQ6dC5wb3J0fHxcIjM0NzhcIix1c2VybmFtZTp0LnVzZXJuYW1lfHxtLGNyZWRlbnRpYWw6dC5wYXNzd29yZHx8UigpKG0pLnRvU3RyaW5nKCksZm9yY2V0dXJuOiEwfTtuLnRjcHBvcnQrPVwiXCIsbi51ZHBwb3J0Kz1cIlwiLGUudHVyblNlcnZlcnMucHVzaChuKX0pKSxmLnJlcG9ydC5zZXRQcm94eVNlcnZlcihnKSx1LmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIoZyksdChsKX0pKX0oKTo0PT1lLnByb3h5U2VydmVyVHlwZT9mdW5jdGlvbiByKCl7UyhcInByb3h5NFwiLGUsKGZ1bmN0aW9uKG8sYyl7aWYobylyZXR1cm5cIlJFVFJZQUJMRV9FUlJPUlwiIT09bz9uJiZuKG8pOih1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl1cIixvKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gUmVxdWVzdCBwcm94eSB3aWxsIGJlIHJlc3RhcnQgaW4gXCIrYStcInNcIiksaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IoKX0pLDFlMyphKSxJW3NdPWksdm9pZChhPWE+PTM2MDA/MzYwMDoyKmEpKTt2YXIgbD1jLmdhdGV3YXlTZXJ2ZXJzLHA9Yy50dXJuU2VydmVycztjbGVhclRpbWVvdXQoaSk7dmFyIGc9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIk5HSU5YXCIpO2UucHJveHlTZXJ2ZXI9ZyxlLnR1cm5TZXJ2ZXJzPVtdO3ZhciBtPU9iamVjdChULnJhbmRvbVN0cmluZykoKTtwLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49e21vZGU6XCJtYW51YWxcIix1cmw6dC5pcCx0Y3Bwb3J0OnQucG9ydHx8XCI0NDNcIix1ZHBwb3J0OlwiXCIsdXNlcm5hbWU6dC51c2VybmFtZXx8bSxjcmVkZW50aWFsOnQucGFzc3dvcmR8fFIoKShtKS50b1N0cmluZygpLGZvcmNldHVybjohMX07bi50Y3Bwb3J0Kz1cIlwiLG4udWRwcG9ydCs9XCJcIixlLnR1cm5TZXJ2ZXJzLnB1c2gobil9KSksZi5yZXBvcnQuc2V0UHJveHlTZXJ2ZXIoZyksdS5kZWZhdWx0LnNldFByb3h5U2VydmVyKGcpLHQobCl9KSl9KCk6NT09ZS5wcm94eVNlcnZlclR5cGU/ZnVuY3Rpb24gcigpe1MoXCJwcm94eTVcIixlLChmdW5jdGlvbihvLGMpe2lmKG8pcmV0dXJuXCJSRVRSWUFCTEVfRVJST1JcIiE9PW8/biYmbihvKToodS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdXCIsbyksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgd2lsbCBiZSByZXN0YXJ0IGluIFwiK2ErXCJzXCIpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKCl9KSwxZTMqYSksSVtzXT1pLHZvaWQoYT1hPj0zNjAwPzM2MDA6MiphKSk7dmFyIGw9Yy5nYXRld2F5U2VydmVycyxwPWMudHVyblNlcnZlcnM7Y2xlYXJUaW1lb3V0KGkpO3ZhciBnPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJOR0lOWFwiKTtlLnByb3h5U2VydmVyPWcsZS50dXJuU2VydmVycz1bXTt2YXIgbT1PYmplY3QoVC5yYW5kb21TdHJpbmcpKCk7cC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPXttb2RlOlwibWFudWFsXCIsdXJsOnQuaXAsdGNwcG9ydDp0LnBvcnR8fFwiNDQzXCIsdWRwcG9ydDpcIlwiLHVzZXJuYW1lOnQudXNlcm5hbWV8fG0sY3JlZGVudGlhbDp0LnBhc3N3b3JkfHxSKCkobSkudG9TdHJpbmcoKSxmb3JjZXR1cm46ITEsdXNlVHVybnM6ITB9O24udGNwcG9ydCs9XCJcIixuLnVkcHBvcnQrPVwiXCIsZS50dXJuU2VydmVycy5wdXNoKG4pfSkpLGYucmVwb3J0LnNldFByb3h5U2VydmVyKGcpLHUuZGVmYXVsdC5zZXRQcm94eVNlcnZlcihnKSx0KGwpfSksITApfSgpOmwoKTpjKG51bGwsdCl9LHc9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz1EYXRlLm5vdygpO3I9cnx8dC5zdHJpbmdVaWQ7dmFyIGE9e3NpZDp0LnNpZCxvcGlkOjEwLGFwcGlkOnQuYXBwSWQsc3RyaW5nX3VpZDpyfTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkscyl7T2JqZWN0KGwucG9zdCkoZStcIlwiLmNvbmNhdCgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIsXCJhY3Rpb249c3RyaW5ndWlkXCIpLGEsKGZ1bmN0aW9uKGMpe3RyeXt2YXIgZD1KU09OLnBhcnNlKGMpLGw9ZC5jb2RlfWNhdGNoKGkpe3ZhciBnPVwicmVxdWVzdFVzZXJBY2NvdW50IGZhaWxlZCB3aXRoIHVuZXhwZWN0ZWQgYm9keSBcIitjO3JldHVybiB1LmRlZmF1bHQuZXJyb3IoXCJbXCIrdC5jbGllbnRJZCtcIl1cIixnKSxzKHtyZXRyeWFibGU6ITAsaW5mbzpnLHVybDplLGVycm9yOlwiVU5FWFBFQ1RFRF9FUlJPUlwifSksbiYmbi5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZXJyb3JcIixyZWFzb246XCJVU0VSX0FDQ09VTlRfQk9EWV9OT1RfSlNPTlwifSksdm9pZCBmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyZXNzOmUsc3RyaW5nVWlkOnIsdWlkOm51bGwsZXh0ZW5kOmMsZXJyb3JDb2RlOlwiVVNFUl9BQ0NPVU5UX0JPRFlfTk9UX0pTT05cIn0pfWlmKGwpe3ZhciBtPSExO3JldHVyblwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCI9PT0odj1wLlN0cmluZ1VpZEVycm9yQ29kZVtkLmNvZGUlMWU0XXx8XCJSRVFfQUNDT1VOVF9FUlJfXCIuY29uY2F0KGwpKSYmKG09ITApLG4mJm4uZGlzcGF0Y2hFdmVudCh7dHlwZTpcImVycm9yXCIscmVhc29uOnZ9KSxmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyZXNzOmUsc3RyaW5nVWlkOnIsdWlkOm51bGwsZXJyb3JDb2RlOnYsZXh0ZW5kOmF9KSxzKHtyZXRyeWFibGU6bSxpbmZvOmc9XCJHZXQgU3RyaW5nIFVpZCBGYWlsZWQgW1wiK3YrXCJdXCIsdXJsOmUsZXJyb3I6dn0pfXZhciBoPWQudWlkO2lmKCEoaD4wJiZoPE1hdGgucG93KDIsMzIpKSl7dS5kZWZhdWx0LmVycm9yKFwiW1wiK3QuY2xpZW50SWQrXCJdIFwiK1wiSW52YWxpZCBVaW50IFVpZCBcIi5jb25jYXQocixcIiA9PiBcIikuY29uY2F0KGgpLGQpO3ZhciB2PVwiSU5WQUxJRF9VSU5UX1VJRF9cIi5jb25jYXQoaCk7cmV0dXJuIG4mJm4uZGlzcGF0Y2hFdmVudCh7dHlwZTpcImVycm9yXCIscmVhc29uOnZ9KSxmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyZXNzOmUsc3RyaW5nVWlkOnIsdWlkOm51bGwsZXJyb3JDb2RlOnYsZXh0ZW5kOmF9KSxzKHtyZXRyeWFibGU6ITAsZXJyb3I6dixpbmZvOlwiR2V0IFN0cmluZyBVaWQgZmFpbGVkIFtcIit2K1wiXVwiLHVybDplfSl9aSh7dWlkOmgsdXJsOmV9KSxmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMCxzZXJ2ZXJBZGRyZXNzOmUsc3RyaW5nVWlkOnIsdWlkOmgsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOmF9KX0pLChmdW5jdGlvbihlLHQpe2lmKFwidGltZW91dFwiPT09ZS50eXBlKXt2YXIgaT1cIlVTRVJfQUNDT1VOVF9USU1FT1VUXCI7biYmbi5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZXJyb3JcIixyZWFzb246aX0pLGYucmVwb3J0LnJlcVVzZXJBY2NvdW50KGEuc2lkLHtsdHM6byxzdWNjZXNzOiExLHNlcnZlckFkZHJlc3M6dCxzdHJpbmdVaWQ6cix1aWQ6bnVsbCxlcnJvckNvZGU6aSxleHRlbmQ6YX0pLHMoe3JldHJ5YWJsZTohMCxpbmZvOmksdXJsOnQsZXJyb3I6aX0pfWVsc2V7dmFyIGM9XCJVU0VSX0FDQ09VTlRfU0VSVkVSX1dST05HX1wiLmNvbmNhdChlLnR5cGUpO24mJm4uZGlzcGF0Y2hFdmVudCh7dHlwZTpcImVycm9yXCIscmVhc29uOmN9KSxmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyZXNzOnQsc3RyaW5nVWlkOnIsdWlkOm51bGwsZXJyb3JDb2RlOmMsZXh0ZW5kOmF9KSxzKHtyZXRyeWFibGU6ITAsaW5mbzpjLHVybDp0LGVycm9yOmN9KX19KSx7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NzJ9KX0pKX0sTD1mdW5jdGlvbihlLHQsbil7RGF0ZS5ub3coKTt2YXIgcixvPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBQ0NPVU5UX1JFR0lTVEVSXCIpLHM9ITEsbD1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUXCIpLGY9bnVsbCxwPW51bGwsZz1uZXcgUHJvbWlzZShmdW5jdGlvbigpe3ZhciBnPWMoKShhLmEubWFyaygoZnVuY3Rpb24gYyhnLG0pe3ZhciBoLHYsRTtyZXR1cm4gYS5hLndyYXAoKGZ1bmN0aW9uKGMpe2Zvcig7Oylzd2l0Y2goYy5wcmV2PWMubmV4dCl7Y2FzZSAwOmY9ZyxwPW0scj0wO2Nhc2UgMzppZighKHI8T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFDQ09VTlRfUkVHSVNURVJfUkVUUllfQ09VTlRfTUFYXCIpKSl7Yy5uZXh0PTMzO2JyZWFrfWlmKCFzKXtjLm5leHQ9NjticmVha31yZXR1cm4gYy5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA2OnJldHVybiBoPW9bciVvLmxlbmd0aF0sdj1lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoaCtcIi9hcGkvdjFcIik6XCJodHRwczovL1wiLmNvbmNhdChoLFwiL2FwaS92MVwiKSxjLnByZXY9OCxjLmRlbGVnYXRlWWllbGQoYS5hLm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgaTtyZXR1cm4gYS5hLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOnJldHVybiBlLnByb3h5U2VydmVyLHIubmV4dD0zLHcodixlLHQsbik7Y2FzZSAzOmlmKGk9ci5zZW50LCFzKXtyLm5leHQ9NjticmVha31yZXR1cm4gci5hYnJ1cHQoXCJyZXR1cm5cIix7djp2b2lkIDB9KTtjYXNlIDY6cz0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIkdldCBVc2VyQWNjb3VudCBTdWNjZXNzZnVsbHlcIixpKSxmKGkpfSksMCk7Y2FzZSA4OmNhc2VcImVuZFwiOnJldHVybiByLnN0b3AoKX19KSxyKX0pKSgpLFwidDBcIiwxMCk7Y2FzZSAxMDppZihFPWMudDAsXCJvYmplY3RcIiE9PWkoKShFKSl7Yy5uZXh0PTEzO2JyZWFrfXJldHVybiBjLmFicnVwdChcInJldHVyblwiLEUudik7Y2FzZSAxMzpjLm5leHQ9MzA7YnJlYWs7Y2FzZSAxNTppZihjLnByZXY9MTUsYy50MT1jLmNhdGNoKDgpLCFzKXtjLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGMuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMTk6aWYoIWMudDEucmV0cnlhYmxlKXtjLm5leHQ9Mjc7YnJlYWt9cmV0dXJuKGw9TWF0aC5jZWlsKGwqT2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFDQ09VTlRfUkVHSVNURVJfUkVUUllfUkFUSU9cIikpKT5PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUX01BWFwiKSYmKGw9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVF9NQVhcIikpLHUuZGVmYXVsdC5lcnJvcihcIlwiLmNvbmNhdChjLnQxLmluZm8sXCIgXCIpLmNvbmNhdChjLnQxLnVybCxcIiBXaWxsIEZldGNoIFVzZXIgQWNjb3VudCBpbiBcIikuY29uY2F0KGwvMWUzLFwiIHNlY29uZHNcIikpLGMubmV4dD0yNSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLGwpfSkpO2Nhc2UgMjU6Yy5uZXh0PTMwO2JyZWFrO2Nhc2UgMjc6dS5kZWZhdWx0LmVycm9yKFwiR2V0IFVzZXJBY2NvdW50IEVycm9yOiBcIi5jb25jYXQoYy50MS5pbmZvLFwiIFwiKS5jb25jYXQoYy50MS51cmwpLGMudDEuZXJyb3IpLHM9ITAscChjLnQxLmVycm9yKTtjYXNlIDMwOnIrKyxjLm5leHQ9MzticmVhaztjYXNlIDMzOmNhc2VcImVuZFwiOnJldHVybiBjLnN0b3AoKX19KSxjLG51bGwsW1s4LDE1XV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKTtyZXR1cm4gZy5jYW5jZWw9ZnVuY3Rpb24oKXtzfHwocz0hMCxwKHtpbmZvOlwiUmVxdWVzdCBDYW5jZWxsZWRcIixyZXRyeWFibGU6ITF9KSl9LGcuaXNGaW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiBzfSxnfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIHI9QXJyYXkoZSksaT0wO2Zvcih0PTA7dDxuO3QrKylmb3IodmFyIG89YXJndW1lbnRzW3RdLGE9MCxzPW8ubGVuZ3RoO2E8czthKyssaSsrKXJbaV09b1thXTtyZXR1cm4gcn0saT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbyxhLHM9aShuKDApKTshZnVuY3Rpb24oZSl7ZS5DSElOQT1cIkNISU5BXCIsZS5BU0lBPVwiQVNJQVwiLGUuTk9SVEhfQU1FUklDQT1cIk5PUlRIX0FNRVJJQ0FcIixlLkVVUk9QRT1cIkVVUk9QRVwiLGUuSkFQQU49XCJKQVBBTlwiLGUuSU5ESUE9XCJJTkRJQVwiLGUuT0NFQU5JQT1cIk9DRUFOSUFcIixlLlNPVVRIX0FNRVJJQ0E9XCJTT1VUSF9BTUVSSUNBXCIsZS5BRlJJQ0E9XCJBRlJJQ0FcIixlLk9WRVJTRUE9XCJPVkVSU0VBXCIsZS5HTE9CQUw9XCJHTE9CQUxcIn0ob3x8KG89e30pKSx0LkFSRUFTPW8sZnVuY3Rpb24oZSl7ZS5DSElOQT1cIkNOXCIsZS5BU0lBPVwiQVNcIixlLk5PUlRIX0FNRVJJQ0E9XCJOQVwiLGUuRVVST1BFPVwiRVVcIixlLkpBUEFOPVwiSlBcIixlLklORElBPVwiSU5cIixlLk9DRUFOSUE9XCJPQ1wiLGUuU09VVEhfQU1FUklDQT1cIlNBXCIsZS5BRlJJQ0E9XCJBRlwiLGUuT1ZFUlNFQT1cIk9WRVJTRUFcIixlLkdMT0JBTD1cIkdMT0JBTFwifShhfHwoYT17fSkpO3ZhciBjPXtBU0lBOntDT0RFOmEuQVNJQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtYXNpYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYXNpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItYXNpYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWFzaWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hc2lhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtYXNpYS5hZ29yYS5pb1wiXSxOR0lOWDpbXCJzb3V0aGVhc3QtYXNpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sTk9SVEhfQU1FUklDQTp7Q09ERTphLk5PUlRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTkdJTlg6W1wiZWFzdC11c2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEVVUk9QRTp7Q09ERTphLkVVUk9QRSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtZXVyb3BlLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtZXVyb3BlLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItZXVyb3BlLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtZXVyb3BlLmFnb3JhLmlvXCJdLE5HSU5YOltcImV1cm9wZS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSkFQQU46e0NPREU6YS5KQVBBTixXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtamFwYW4uYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwiXFx0dWFwLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWphcGFuLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItamFwYW4uYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1qYXBhbi5hZ29yYS5pb1wiXSxOR0lOWDpbXCJqYXBhbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSU5ESUE6e0NPREU6YS5JTkRJQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaW5kaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWluZGlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWluZGlhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWluZGlhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWluZGlhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItaW5kaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1pbmRpYS5hZ29yYS5pb1wiXSxOR0lOWDpbXCJpbmRpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT1ZFUlNFQTp7Q09ERTphLk9WRVJTRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIl0sTkdJTlg6W1wid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCJdfSxHTE9CQUw6e0NPREU6YS5HTE9CQUwsV0VCQ1NfRE9NQUlOOltcIndlYnJ0YzItYXAtd2ViLTEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItYXAtd2ViLTMuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLTMuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItMy5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLTMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS5hZ29yYS5pb1wiXSxOR0lOWDpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT0NFQU5JQTp7Q09ERTphLk9DRUFOSUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW9jZWFuaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLW9jZWFuaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb2NlYW5pYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW9jZWFuaWEuYWdvcmEuaW9cIl0sTkdJTlg6W1wib2NlYW5pYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sU09VVEhfQU1FUklDQTp7Q09ERTphLlNPVVRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTkdJTlg6W1wic291dGgtYW1lcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sQUZSSUNBOntDT0RFOmEuQUZSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hZnJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWFmcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYWZyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItYWZyaWNhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utc291dGgtYWZyaWNhLmFnb3JhLmlvXCJdLE5HSU5YOltcImFmcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX19O3QuQVJFQV9ET01BSU5fTUFQPWM7dmFyIGQ9e0dMT0JBTDp7QVNJQTpbby5DSElOQSxvLkpBUEFOLG8uSU5ESUFdLEVVUk9QRTpbXSxOT1JUSF9BTUVSSUNBOltdLFNPVVRIX0FNRVJJQ0E6W10sT0NFQU5JQTpbXSxBRlJJQ0E6W119fSx1PU9iamVjdC5rZXlzKGRbby5HTE9CQUxdKSxsPVtvLkNISU5BLG8uTk9SVEhfQU1FUklDQSxvLkVVUk9QRSxvLkFTSUEsby5KQVBBTixvLklORElBLG8uT0NFQU5JQSxvLlNPVVRIX0FNRVJJQ0Esby5BRlJJQ0FdLGY9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLHQmJiFlLmluY2x1ZGVzKG8uR0xPQkFMKSYmKGk9ZSksdHx8KGk9ZSksdCYmZS5pbmNsdWRlcyhvLkdMT0JBTCkpe3ZhciBhPVtvLkdMT0JBTCxvLk9WRVJTRUFdLHM9T2JqZWN0LmtleXMoYyk7aWYodD09PW8uR0xPQkFMKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3Qgc2V0IGV4Y2x1ZGVkQXJlYSB0byAnR0xPQkFMJ1wiKTtpZih0PT09by5DSElOQSlpPVtvLk9WRVJTRUFdO2Vsc2UgaWYobj10LHUuaW5jbHVkZXMobikpe3ZhciBmPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSxkW28uR0xPQkFMXVtlXXx8W119KHQpLHA9cihhLFt0XSxmKTtpPXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hcC5pbmNsdWRlcyhlKX0pKX1lbHNlIGlmKGZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiB1LmZvckVhY2goKGZ1bmN0aW9uKG4pe2QuR0xPQkFMW25dLmluY2x1ZGVzKGUpJiYodD0hMCl9KSksdH0odCkpe3ZhciBnPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVwiXCIpO3ZhciB0PVwiXCI7cmV0dXJuIHUuZm9yRWFjaCgoZnVuY3Rpb24obil7ZC5HTE9CQUxbbl0uaW5jbHVkZXMoZSkmJih0PW4pfSkpLHR9KHQpLG09cihhLFtnLHRdKTtpPXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hbS5pbmNsdWRlcyhlKX0pKX1lbHNlIGk9ZTtpPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuaW5jbHVkZXMobikmJnQucHVzaChuKX0pKSx0LmNvbmNhdChlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWwuaW5jbHVkZXMoZSl9KSkpfShpKX1yZXR1cm4gY29uc29sZS5sb2coXCJnZXRBcmVhQ29kZUFmdGVyQ2FsY3VsYXRpb24gcmVzdWx0XCIsaSksaX07dC5nZXRBcmVhQ29kZUJ5Q29uZmlnPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYXJlYUNvZGUsbj1lLmV4Y2x1ZGVkQXJlYTtyZXR1cm4gbj9mKHQsbik6dH0sYy5DSElOQT17Q09ERTphLkNISU5BLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wicHJveHktd2ViLmFwLnNkLXJ0bi5jb21cIl0sQ0RTX0FQOltcImNkcy13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxVQVBfQVA6W1widWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wid2ViLTMuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJ3ZWItNC5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtY2hpbmEuYWdvcmEuaW9cIl0sTkdJTlg6W1wiZWFzdC1jbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX07dC5nZXRBcmVhQ29kZUJ5V2ViQ1M9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGMpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPWNbcl07aWYoaS5XRUJDU19ET01BSU4uaW5jbHVkZXMoZSl8fGkuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNULmluY2x1ZGVzKGUpKXJldHVybiBpLkNPREU9PT1hLk9WRVJTRUE/YS5BU0lBK1wiLFwiK2EuRVVST1BFK1wiLFwiK2EuQUZSSUNBK1wiLFwiK2EuTk9SVEhfQU1FUklDQStcIixcIithLlNPVVRIX0FNRVJJQ0ErXCIsXCIrYS5PQ0VBTklBOmkuQ09ERX19O3QuZ2V0QXJlYUNvZGVCeUFyZWE9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1vLk9WRVJTRUE/YS5BU0lBK1wiLFwiK2EuRVVST1BFK1wiLFwiK2EuQUZSSUNBK1wiLFwiK2EuTk9SVEhfQU1FUklDQStcIixcIithLlNPVVRIX0FNRVJJQ0ErXCIsXCIrYS5PQ0VBTklBOmFbZV19O3QuZ2V0QXJlYURvbWFpbkNvbmZpZz1mdW5jdGlvbihlKXt2YXIgdD17V0VCQ1NfRE9NQUlOOltdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXSxQUk9YWV9DUzpbXSxDRFNfQVA6W10sQUNDT1VOVF9SRUdJU1RFUjpbXSxVQVBfQVA6W10sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXSxMT0dfVVBMT0FEX1NFUlZFUjpbXSxOR0lOWDpbXX07cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgbj1jW2VdO2lmKG4pe3ZhciByPU9iamVjdC5rZXlzKG4pO3I/ci5tYXAoKGZ1bmN0aW9uKGUpe1wiQ09ERVwiIT09ZSYmKHRbZV09dFtlXS5jb25jYXQobltlXSkpfSkpOnMuZGVmYXVsdC5pbmZvKGUrXCIgaXMgbm90IGV4aXN0XCIpfWVsc2Ugcy5kZWZhdWx0LmluZm8oZStcIiBpcyBub3QgZXhpc3RcIil9KSksdH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgcj1uKDcpLGk9bi5uKHIpLG89big1KSxhPW4oOCkscz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5iKShlKTtyZXR1cm4gdC51cmw9XCIuXCIsdH0sYz1uKDApLGQ9bigxNSksdT1uKDQpLGw9bigyKSxmPW4oMSkscD0wLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9cyh7fSk7dC5pZD1lLmlkLHQucGxheWVySWQ9cCsrLHQuZGVzdHJveWVkPSExLHQuZml0PWUub3B0aW9ucyYmZS5vcHRpb25zLmZpdCxcImNvbnRhaW5cIiE9PXQuZml0JiZcImNvdmVyXCIhPT10LmZpdCYmKHQuZml0PW51bGwpLHQudXJsPWUudXJsLHQuc3RyZWFtPWUuc3RyZWFtLnN0cmVhbSx0LnBlZXJWaWRlb1JlYWR5PSExLHQuaXNGcmVlemU9ITEsdC5mcmVlemVUaW1lQ291bnRlckxpc3Q9W10sdC5mcmVlemVDb3VudD0wLHQubGFzdEZyZWV6ZUNvdW50PTAsdC5sYXN0VGltZXVwZGF0ZVRpbWU9MCx0LmVsZW1lbnRJRD1lLmVsZW1lbnRJRCx0LnNldEF1ZGlvT3V0cHV0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10LnZpZGVvfHx0LmF1ZGlvO3JldHVybiBpP2kuc2V0U2lua0lkP3ZvaWQgaS5zZXRTaW5rSWQoZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuaWQrXCJdIFwiK1widmlkZW8gXCIuY29uY2F0KHQuaWQsXCIgc2V0QXVkaW9PdXRwdXQgXCIpLmNvbmNhdChlLFwiIFNVQ0NFU1NcIikpLGk9PXQudmlkZW8mJnQuYXVkaW8/dC5hdWRpby5zZXRTaW5rSWQoZSk6UHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuaWQrXCJdIFwiK1wiYXVkaW8gXCIuY29uY2F0KHQuaWQsXCIgc2V0QXVkaW9PdXRwdXQgXCIpLmNvbmNhdChlLFwiIFNVQ0NFU1NcIikpLG4mJm4oKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIit0LmlkK1wiXSBWaWRlb1BsYXllci5zZXRBdWRpb091dHB1dFwiLGUpLHImJnIoZSl9KSk6KGMuZGVmYXVsdC5lcnJvcihcIltcIit0LmlkK1wiXSBcIix1LmRlZmF1bHQuV0VCX0FQSV9OT1RfU1VQUE9SVEVEKSxyJiZyKHUuZGVmYXVsdC5XRUJfQVBJX05PVF9TVVBQT1JURUQpKTooYy5kZWZhdWx0LmVycm9yKFwiW1wiK3QuaWQrXCJdIFwiLHUuZGVmYXVsdC5QTEFZRVJfTk9UX0ZPVU5EKSxyJiZyKHUuZGVmYXVsdC5QTEFZRVJfTk9UX0ZPVU5EKSl9LHQuZGVzdHJveT1mdW5jdGlvbigpe2MuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gZGVzdHJveSBcIikuY29uY2F0KGUuc3RyZWFtLmxvY2FsP1wibG9jYWxcIjpcInJlbW90ZVwiLFwiIFBsYXllciBcIikuY29uY2F0KHQuaWQpKSxPYmplY3QoZC5zZXRTcmNPYmplY3QpKHQudmlkZW8sbnVsbCksT2JqZWN0KGQuc2V0U3JjT2JqZWN0KSh0LmF1ZGlvLG51bGwpLHQudmlkZW8ubG9hZCgpLHQuYXVkaW8ubG9hZCgpLHQudmlkZW8ucGF1c2UoKSx0LnZpZGVvLnJlbW92ZSgpLHQuYXVkaW8ucmVtb3ZlKCksdC5mcmVlemVDaGVja0ludGVydmFsJiZjbGVhckludGVydmFsKHQuZnJlZXplQ2hlY2tJbnRlcnZhbCksdC5kZXN0cm95ZWQ9ITAsZGVsZXRlIHQucmVzaXplcixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmRpdi5pZCkmJnQucGFyZW50Tm9kZS5jb250YWlucyh0LmRpdikmJnQuZGl2LnJlbW92ZSgpJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5kaXYpLFtcInZpZGVvXCIsXCJhdWRpb1wiXS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dO3ZhciByPWFbbl07Y2xlYXJUaW1lb3V0KHIucGxheURlZmVyVGltZW91dCksci5mb3JtZXJNZWRpYVN0YXRlPW51bGw7dmFyIGk9e3BsYXllcklkOnQucGxheWVySWQsc3RhdGVJZDpyLnN0YXRlSWQrMSxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6ITEsc3RhdHVzOlwiYWJvcnRlZFwiLHJlYXNvbjpcInN0b3BcIix1cGRhdGVkQXQ6RGF0ZS5ub3coKX07YVtuXT1pO3ZhciBvPXt0eXBlOlwicGxheWVyLXN0YXR1cy1jaGFuZ2VcIixwbGF5ZXJJZDp0LnBsYXllcklkLG1lZGlhVHlwZTpuLHN0YXR1czppLnN0YXR1cyxyZWFzb246aS5yZWFzb24saXNFcnJvclN0YXRlOiExLHN0cmVhbUlkOnQuaWR9O2MuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gTWVkaWEgUGxheWVyIFN0YXR1cyBDaGFuZ2UgVHJpZ2dlcmVkIGJ5IGRlc3Ryb3koKVwiKSxvKSxlLnN0cmVhbS5kaXNwYXRjaEV2ZW50KG8pLGYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnN0cmVhbS5zaWQse25hbWU6XCJTdHJlYW0ucGxheWVyU3RhdHVzQ2hhbmdlXCIsb3B0aW9uczpvLHRhZzpcInRyYWNlclwifSkoKX0pKX0sdC5kaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmRpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwicGxheWVyX1wiK3QuaWQpLGUuc3RyZWFtLnZpZGVvP3QuZGl2LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogcmVsYXRpdmU7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyBvdmVyZmxvdzogaGlkZGVuO1wiKTp0LmRpdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuO1wiKSx0LnZpZGVvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0LnZpZGVvLnNldEF0dHJpYnV0ZShcImlkXCIsXCJ2aWRlb1wiK3QuaWQpLGUuc3RyZWFtLmxvY2FsJiYhZS5zdHJlYW0uc2NyZWVuP2Uuc3RyZWFtLm1pcnJvcj90LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpOyBvYmplY3QtZml0OiBcIi5jb25jYXQodC5maXR8fFwiY292ZXJcIixcIjtcIikpOnQudmlkZW8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgb2JqZWN0LWZpdDogXCIuY29uY2F0KHQuZml0fHxcImNvdmVyXCIsXCI7XCIpKTplLnN0cmVhbS52aWRlbz90LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IG9iamVjdC1maXQ6IFwiLmNvbmNhdCh0LmZpdHx8XCJjb3ZlclwiLFwiO1wiKSk6ZS5zdHJlYW0uc2NyZWVuP3QudmlkZW8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgb2JqZWN0LWZpdDogXCIuY29uY2F0KHQuZml0fHxcImNvbnRhaW5cIikpOnQudmlkZW8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgb2JqZWN0LWZpdDogXCIuY29uY2F0KHQuZml0fHxcImNvdmVyXCIpKTt2YXIgbj17YXV0b3BsYXk6ITAsbXV0ZWQ6ISFlLnN0cmVhbS5sb2NhbHx8ISghby5pc1NhZmFyaSgpJiZcImlPU1wiIT09by5nZXRCcm93c2VyT1MoKSkmJlwidmlkZW9fZWxlbWVudF9tdXRlZFwiLHBsYXlzaW5saW5lOiEwLGNvbnRyb2xzOiExLHZvbHVtZTpudWxsfSxyPWkoKSh7fSxuLGUub3B0aW9ucyk7ITAhPT1yLm11dGVkfHxyLnZvbHVtZXx8KHIudm9sdW1lPTApLHQudmlkZW8uc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcIlwiKSx0LnZpZGVvLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksdC52aWRlby5tdXRlZD0hMCx0LnZpZGVvLmF1dG9wbGF5PSEwLHIucGxheXNpbmxpbmUmJnQudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxyLmNvbnRyb2xzJiZ0LnZpZGVvLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsXCJcIiksci5jb250YWlucyYmKHQudmlkZW8uY29udHJvbHM9ITApLE51bWJlci5pc0Zpbml0ZShyLnZvbHVtZSkmJih0LnZpZGVvLnZvbHVtZT1yLnZvbHVtZSksdC5hdWRpbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiksdC5hdWRpby5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwiYXVkaW9cIit0LmlkKSwhMD09PXIubXV0ZWQmJnQuYXVkaW8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSwhMD09PXIubXV0ZWQmJih0LmF1ZGlvLm11dGVkPSEwKSxyLnBsYXlzaW5saW5lJiZ0LmF1ZGlvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksTnVtYmVyLmlzRmluaXRlKHIudm9sdW1lKSYmKHQuYXVkaW8udm9sdW1lPXIudm9sdW1lKSx2b2lkIDAhPT10LmVsZW1lbnRJRD8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5lbGVtZW50SUQpLmFwcGVuZENoaWxkKHQuZGl2KSx0LmNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmVsZW1lbnRJRCkpOihkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQuZGl2KSx0LmNvbnRhaW5lcj1kb2N1bWVudC5ib2R5KSx0LnBhcmVudE5vZGU9dC5kaXYucGFyZW50Tm9kZTt2YXIgYT17dmlkZW86e3BsYXllcklkOnQucGxheWVySWQsc3RhdGVJZDowLHBsYXlEZWZlclRpbWVvdXQ6bnVsbCxlcnJvcjohMSxzdGF0dXM6XCJpbml0XCIscmVhc29uOm51bGwsdXBkYXRlZEF0OkRhdGUubm93KCl9LGF1ZGlvOntwbGF5ZXJJZDp0LnBsYXllcklkLHN0YXRlSWQ6MCxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6ITEsc3RhdHVzOlwiaW5pdFwiLHJlYXNvbjpudWxsLHVwZGF0ZWRBdDpEYXRlLm5vdygpfX07dC5tZWRpYUVsZW1FeGlzdHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsbj0wO248T2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIk1FRElBX0VMRU1FTlRfRVhJU1RTX0RFUFRIXCIpJiZ0O24rKyl0PXQucGFyZW50Tm9kZTtyZXR1cm4hIXR9O3ZhciBnPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm1lZGlhRWxlbUV4aXN0cyhlKT9lLnBhdXNlZD9cInBhdXNlZFwiOlwicGxheVwiOlwiYWJvcnRlZFwifSxtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1nKGUpLGk9ITA7cmV0dXJuXCJwYXVzZWRcIj09PXI/KFwiYXVkaW9cIj09PXQmJiEwPT09bi5tdXRlZCYmKGk9ITEpLG4uYXV0b3BsYXl8fChpPSExKSk6XCJwbGF5XCI9PT1yP1widmlkZW9cIj09PXQ/aT0hMTohMD09PW4ubXV0ZWQ/ZS5tdXRlZCYmKGk9ITEpOmUubXV0ZWR8fChpPSExKTpcImFib3J0ZWRcIj09PXImJihpPSExKSxpfSxoPWZ1bmN0aW9uKG4pe3ZhciBpLG89dGhpcztpZihvPT09dC52aWRlbz9pPVwidmlkZW9cIjpvPT09dC5hdWRpbyYmKGk9XCJhdWRpb1wiKSxpKXtpZihuLnR5cGV8fGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5pZCxcIl0gVW5leHBlY3RlZCBldnRcIiksbiksXCJ2aWRlb1wiPT09aSYmby5tdXRlZCYmby5wYXVzZWQpcmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gYXV0byByZXN1bWUgdmlkZW8gZWxlbWVudFwiKSksdm9pZCBvLnBsYXkoKTt2YXIgcz1nKG8pO2NsZWFyVGltZW91dChhW2ldLnBsYXlEZWZlclRpbWVvdXQpLGFbaV0ucGxheURlZmVyVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2FbaV0ucGxheURlZmVyVGltZW91dD1udWxsO3ZhciBkPWFbaV0sdT1nKG8pO2lmKHM9PT11KXt2YXIgbD17cGxheWVySWQ6dC5wbGF5ZXJJZCxzdGF0ZUlkOmQuc3RhdGVJZCsxLHBsYXlEZWZlclRpbWVvdXQ6bnVsbCxlcnJvcjptKG8saSxyKSxzdGF0dXM6ZyhvKSxyZWFzb246bi50eXBlLHVwZGF0ZWRBdDpEYXRlLm5vdygpfTtpZihkLnN0YXR1cyE9PWwuc3RhdHVzKXthW2ldPWw7dmFyIHA9e3R5cGU6XCJwbGF5ZXItc3RhdHVzLWNoYW5nZVwiLHBsYXllcklkOnQucGxheWVySWQsbWVkaWFUeXBlOmksc3RhdHVzOmwuc3RhdHVzLHJlYXNvbjpsLnJlYXNvbixpc0Vycm9yU3RhdGU6bC5lcnJvcixzdHJlYW1JZDp0LmlkfTtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIE1lZGlhIFBsYXllciBTdGF0dXMgQ2hhbmdlXCIpLHApLGUuc3RyZWFtLmRpc3BhdGNoRXZlbnQocCksZi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc3RyZWFtLnNpZCx7bmFtZTpcIlN0cmVhbS5wbGF5ZXJTdGF0dXNDaGFuZ2VcIixvcHRpb25zOnAsdGFnOlwidHJhY2VyXCJ9KSgpfX1lbHNlIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gU3RhdHVzIENoYW5nZSBhZnRlciBldmVudCBUcmlnZ2VyZWQuXCIpK1wiU3RyZWFtIFwiLmNvbmNhdCh0LmlkLFwiIFBsYXllcklkIFwiKS5jb25jYXQodC5wbGF5ZXJJZCxcIiBtZWRpYVR5cGUgXCIpLmNvbmNhdChpLFwiIFN0YXR1cyBcIikuY29uY2F0KHMsXCI9PlwiKS5jb25jYXQodSkpfSksT2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIlBMQVlFUl9TVEFURV9ERUZFUlwiKSl9ZWxzZSBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuaWQsXCJdIFVua25vd24gbWVkaWEgZWxlbWVudFwiKSxvKX07dC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLChmdW5jdGlvbihlKXshZnVuY3Rpb24gZSgpe3QudmlkZW8udmlkZW9XaWR0aCp0LnZpZGVvLnZpZGVvSGVpZ2h0PjQ/Yy5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuaWQrXCJdIHZpZGVvIGRpbWVuc2lvbnM6XCIsdC52aWRlby52aWRlb1dpZHRoLHQudmlkZW8udmlkZW9IZWlnaHQpOnNldFRpbWVvdXQoZSw1MCl9KCl9KSk7dmFyIHY9MCxFPTAsUz0wO3QuZnJlZXplQ2hlY2tJbnRlcnZhbD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtEYXRlLm5vdygpLXQubGFzdFRpbWV1cGRhdGVUaW1lPjUwMCYmdC5wZWVyVmlkZW9SZWFkeT8odC5pc0ZyZWV6ZT0hMCx0LmZyZWV6ZUNvdW50Kz0xKTp0LmlzRnJlZXplPSExfSksNTAwKSx0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsaCksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLGgpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsaCksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwib25lcnJvclwiLGgpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInN1c3BlbmRcIixoKSx0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsaCksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIixoKSx0LmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsaCksdC5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLGgpLHQuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsaCksdC5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwib25lcnJvclwiLGgpLHQuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcInN1c3BlbmRcIixoKSx0LmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsaCksdC5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIixoKTt2YXIgXz10LmF1ZGlvLHk9XCJhdWRpb1wiO2lmKGUuc3RyZWFtLmhhc1ZpZGVvKCl8fGUuc3RyZWFtLmhhc1NjcmVlbigpKXQuZGl2LmFwcGVuZENoaWxkKHQudmlkZW8pLHQuZGl2LmFwcGVuZENoaWxkKHQuYXVkaW8pLG8uaXNFZGdlKCk/dC52aWRlby5zcmNPYmplY3Q9ZS5zdHJlYW0uc3RyZWFtOihPYmplY3QoZC5hdHRhY2hNZWRpYVN0cmVhbSkodC52aWRlbyxlLnN0cmVhbS5zdHJlYW0pLE9iamVjdChkLmF0dGFjaE1lZGlhU3RyZWFtKSh0LmF1ZGlvLGUuc3RyZWFtLnN0cmVhbSkpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwoZnVuY3Rpb24oKXt2YXIgZT1EYXRlLm5vdygpO2lmKCh2Kz0xKTwxMCl0Lmxhc3RUaW1ldXBkYXRlVGltZT1lO2Vsc2UgZm9yKGUtdC5sYXN0VGltZXVwZGF0ZVRpbWU+NTAwJiYodC5wZWVyVmlkZW9SZWFkeT9FKz1lLXQubGFzdFRpbWV1cGRhdGVUaW1lOnQucGVlclZpZGVvUmVhZHk9ITApLFMrPWUtdC5sYXN0VGltZXVwZGF0ZVRpbWUsdC5sYXN0VGltZXVwZGF0ZVRpbWU9ZTtTPj02ZTM7KVMtPTZlMyx0LmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5wdXNoKE1hdGgubWluKDZlMyxFKSksRS09NmUzLEU9TWF0aC5tYXgoRSwwKX0pKTtlbHNleyExIT09ci5tdXRlZCYmXCJ2aWRlb19lbGVtZW50X211dGVkXCIhPT1yLm11dGVkfHwodC52aWRlby5yZW1vdmVBdHRyaWJ1dGUoXCJtdXRlZFwiKSx0LnZpZGVvLm11dGVkPSExKSx0LnZpZGVvLnJlbW92ZUF0dHJpYnV0ZShcImF1dG9wbGF5XCIpLHQudmlkZW8uYXV0b3BsYXk9ITEsdC5kaXYuYXBwZW5kQ2hpbGQodC52aWRlbyksXz10LnZpZGVvLHk9XCJ2aWRlb1wiO3ZhciBSPWEuYXVkaW8sVD17cGxheWVySWQ6dC5wbGF5ZXJJZCxzdGF0ZUlkOlIuc3RhdGVJZCsxLHBsYXlEZWZlclRpbWVvdXQ6bnVsbCxlcnJvcjohMSxzdGF0dXM6XCJhYm9ydGVkXCIscmVhc29uOlwiYXVkaW9vbmx5XCIsdXBkYXRlZEF0OkRhdGUubm93KCl9O2EuYXVkaW89VDt2YXIgST17dHlwZTpcInBsYXllci1zdGF0dXMtY2hhbmdlXCIscGxheWVySWQ6dC5wbGF5ZXJJZCxtZWRpYVR5cGU6XCJhdWRpb1wiLHN0YXR1czpULnN0YXR1cyxyZWFzb246VC5yZWFzb24saXNFcnJvclN0YXRlOlQuZXJyb3Isc3RyZWFtSWQ6dC5pZH07aWYoYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmlkLFwiXSBNZWRpYSBQbGF5ZXIgU3RhdHVzIENoYW5nZVwiKSxJKSxQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnN0cmVhbS5kaXNwYXRjaEV2ZW50KEkpfSkpLGYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnN0cmVhbS5zaWQse25hbWU6XCJTdHJlYW0ucGxheWVyU3RhdHVzQ2hhbmdlXCIsb3B0aW9uczpJLHRhZzpcInRyYWNlclwifSkoKSx3aW5kb3cuTWVkaWFTdHJlYW0mJihvLmlzU2FmYXJpKCl8fFwiaU9TXCI9PT1vLmdldEJyb3dzZXJPUygpKSl7dmFyIGI9bmV3IE1lZGlhU3RyZWFtKGUuc3RyZWFtLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpKTtPYmplY3QoZC5zZXRTcmNPYmplY3QpKHQudmlkZW8sYil9ZWxzZSBPYmplY3QoZC5zZXRTcmNPYmplY3QpKHQudmlkZW8sZS5zdHJlYW0uc3RyZWFtKX1pZihyLmF1dG9wbGF5JiZfKXt2YXIgQT1fLnBsYXkoKTtBJiZBLmNhdGNoJiZBLmNhdGNoKChmdW5jdGlvbihuKXtpZighdC5kZXN0cm95ZWQmJl8pe3ZhciBpPWFbeV0sbz17cGxheWVySWQ6dC5wbGF5ZXJJZCxzdGF0ZUlkOmkuc3RhdGVJZCsxLHBsYXlEZWZlclRpbWVvdXQ6bnVsbCxlcnJvcjptKF8seSxyKSxzdGF0dXM6ZyhfKSxyZWFzb246XCJlcnJvclwiLHVwZGF0ZWRBdDpEYXRlLm5vdygpfTtpZihpLnN0YXR1cyE9PW8uc3RhdHVzKXtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIFBsYXllciBcIikuY29uY2F0KHQucGxheWVySWQsXCIgU3RhdHVzIENoYW5nZWQgRGV0ZWN0ZWQgYnkgcHJvbWlzZSBlcnJvcjogXCIpLmNvbmNhdChpLnN0YXR1cyxcIj0+XCIpLmNvbmNhdChvLnN0YXR1cyksbiksYVt5XT1vO3ZhciBzPXt0eXBlOlwicGxheWVyLXN0YXR1cy1jaGFuZ2VcIixwbGF5ZXJJZDp0LnBsYXllcklkLG1lZGlhVHlwZTp5LHN0YXR1czpvLnN0YXR1cyxyZWFzb246by5yZWFzb24saXNFcnJvclN0YXRlOm8uZXJyb3Isc3RyZWFtSWQ6dC5pZH07Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmlkLFwiXSBNZWRpYSBQbGF5ZXIgU3RhdHVzIENoYW5nZVwiKSxzKSxlLnN0cmVhbS5kaXNwYXRjaEV2ZW50KHMpLGYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnN0cmVhbS5zaWQse25hbWU6XCJTdHJlYW0ucGxheWVyU3RhdHVzQ2hhbmdlXCIsb3B0aW9uczpzLHRhZzpcInRyYWNlclwifSkoKX19fSkpfXJldHVybiB0LnNldEF1ZGlvVm9sdW1lPWZ1bmN0aW9uKGUpe3ZhciBuPXBhcnNlSW50KGUpLzEwMDtpc0Zpbml0ZShuKSYmKG48MD9uPTA6bj4xJiYobj0xKSx0LnZpZGVvJiYodC52aWRlby52b2x1bWU9biksdC5hdWRpbyYmKHQuYXVkaW8udm9sdW1lPW4pKX0sdH0sbT1uKDIzKSxoPW4oMTApLHY9big2KSxFPW4oMTkpLFM9bigzKSxfPW4oMjUpO3ZhciB5PW4oMTYpLFI9bigxMSksVD1uLm4oUiksST1mdW5jdGlvbihlKXtPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShlLFwicHJvZmlsZU5hbWVcIiksLTE9PT0oZT1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCJfXCIpJiYoZSs9XCJfMVwiKSxPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkoZSxcInByb2ZpbGVOYW1lXCIsT2JqZWN0LmtleXMobC5TVVBQT1JUX1JFU09MVVRJT05fTElTVCkpO3ZhciB0PWwuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1RbZV07dHx8KGU9T2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIkRFRkFVTFRfUFJPRklMRVwiKSx0PWwuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1RbZV0pO3ZhciBuPXtwcm9maWxlTmFtZTplLHZpZGVvOnt3aWR0aDp0WzBdLGhlaWdodDp0WzFdfSxhdHRyaWJ1dGVzOntyZXNvbHV0aW9uOlwiXCIuY29uY2F0KHRbMF0sXCJ4XCIpLmNvbmNhdCh0WzFdKSxtaW5GcmFtZVJhdGU6dFsyXSxtYXhGcmFtZVJhdGU6dFszXSxtaW5WaWRlb0JXOnRbNF0sbWF4VmlkZW9CVzp0WzVdfX07cmV0dXJuIHRbMl0mJihuLnZpZGVvLmZyYW1lUmF0ZT10WzJdKSx0WzZdJiZ0WzddJiYobi5zY3JlZW49e3dpZHRoOnRbMF0saGVpZ2h0OnRbMV0sZnJhbWVSYXRlOnttaW46dFs2XSxtYXg6dFs3XX19KSxufSxiPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhsLlNVUFBPUlRfUkVTT0xVVElPTl9MSVNUKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciBuPWwuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1RbdF0scj1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJmcmFtZVJhdGVcIl07Zm9yKHZhciBpIGluIHIpe3ZhciBvPXJbaV07aWYoZVtvXSYmbltpXSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGVbb10ubWF4JiZlW29dLm1heDxuW2ldKXJldHVybiExO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW29dLm1pbiYmZVtvXS5taW4+bltpXSlyZXR1cm4hMX19cmV0dXJuITB9KSkucmV2ZXJzZSgpfSxBPWZ1bmN0aW9uKGUpe3ZhciB0PWwuQVVESU9fUFJPRklMRV9TRVRUSU5HU1tlXXx8bC5BVURJT19QUk9GSUxFX1NFVFRJTkdTLmRlZmF1bHQ7cmV0dXJue2hpZ2hRdWFsaXR5OnRbMF0sc3RlcmVvOnRbMV0sc3BlZWNoOnRbMl0sbG93UXVhbGl0eTp0WzNdfX07dmFyIE89ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuYikoKTtpZih0LnBhcmFtcz1pKCkoe30sZSksdC5zdHJlYW09ZS5zdHJlYW0sdC51cmw9ZS51cmwsdC5vbkNsb3NlPXZvaWQgMCx0LmxvY2FsPSExLHQudmlkZW9Tb3VyY2U9ZS52aWRlb1NvdXJjZSx0LmF1ZGlvU291cmNlPWUuYXVkaW9Tb3VyY2UsZS52aWRlbz0hKCFlLnZpZGVvU291cmNlJiYhZS52aWRlbyksdC52aWRlbz1lLnZpZGVvLGUuYXVkaW89ISghZS5hdWRpb1NvdXJjZSYmIWUuYXVkaW8pLHQuYXVkaW89ZS5hdWRpbyx0LnNjcmVlbj0hIWUuc2NyZWVuLHQuc2NyZWVuQXVkaW89ISFlLnNjcmVlbkF1ZGlvLHQuc2NyZWVuQXR0cmlidXRlcz17d2lkdGg6MTkyMCxoZWlnaHQ6MTA4MCxtYXhGcjo1LG1pbkZyOjF9LHQudmlkZW9TaXplPWUudmlkZW9TaXplLHQucGxheWVyPXZvaWQgMCx0LmF1ZGlvTGV2ZWxIZWxwZXI9bnVsbCxlLmF0dHJpYnV0ZXM9ZS5hdHRyaWJ1dGVzfHx7fSx0LmF0dHJpYnV0ZXM9ZS5hdHRyaWJ1dGVzLHQubWljcm9waG9uZUlkPWUubWljcm9waG9uZUlkLHQuY2FtZXJhSWQ9ZS5jYW1lcmFJZCx0LmZhY2luZ01vZGU9ZS5mYWNpbmdNb2RlLHQuaW5Td2l0Y2hEZXZpY2U9ITEsdC51c2VyTXV0ZVZpZGVvPSExLHQudXNlck11dGVBdWRpbz0hMSx0LnBlZXJNdXRlVmlkZW89ITEsdC5wZWVyTXV0ZUF1ZGlvPSExLHQubG93U3RyZWFtPW51bGwsdC52aWRlb1dpZHRoPTAsdC52aWRlb0hlaWdodD0wLHQuc3RyZWFtSWQ9ZS5zdHJlYW1JRCx0LnVzZXJJZD1udWxsLHQudWludElkPWUudWludFVJRHx8bnVsbCx0Lm1pcnJvcj0hMSE9PWUubWlycm9yLHQuRFRYPWUuYXVkaW9Qcm9jZXNzaW5nJiZlLmF1ZGlvUHJvY2Vzc2luZy5EVFgsdC5hdWRpb1Byb2Nlc3Npbmc9ZS5hdWRpb1Byb2Nlc3NpbmcsdC5vcHRpbWl6YXRpb25Nb2RlPWUub3B0aW1pemF0aW9uTW9kZSx0LmhpZ2hRdWFsaXR5PSExLHQuc3RlcmVvPSExLHQuc3BlZWNoPSExLHQuc2NyZWVufHxkZWxldGUgdC5zY3JlZW4sISh2b2lkIDA9PT10LnZpZGVvU2l6ZXx8dC52aWRlb1NpemUgaW5zdGFuY2VvZiBBcnJheSYmND09PXQudmlkZW9TaXplLmxlbmd0aCkpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFZpZGVvIFNpemVcIik7ZnVuY3Rpb24gbigpe3ZhciBlPXt9O3QuZ2V0VmlkZW9UcmFjaygpPT09dGhpcz8oYy5kZWZhdWx0LmRlYnVnKFwiVmlkZW8gVHJhY2sgRW5kZWRcIiksZS50eXBlPVwidmlkZW9UcmFja0VuZGVkXCIsZS50cmFjaz10aGlzKTp0LmdldEF1ZGlvVHJhY2soKT09PXRoaXM/KGMuZGVmYXVsdC5kZWJ1ZyhcIkF1ZGlvIFRyYWNrIEVuZGVkXCIpLGUudHlwZT1cImF1ZGlvVHJhY2tFbmRlZFwiLGUudHJhY2s9dGhpcyk6Yy5kZWZhdWx0LmRlYnVnKFwiRGV0YWNoZWQgVHJhY2sgZW5kZWRcIix0aGlzLmtpbmQsdGhpcy5sYWJlbCx0aGlzKSxlLnR5cGUmJnQuZGlzcGF0Y2hFdmVudChlKX1yZXR1cm4gdC52aWRlb1NpemU9WzY0MCw0ODAsNjQwLDQ4MF0sdm9pZCAwIT09ZS5sb2NhbCYmITAhPT1lLmxvY2FsfHwodC5sb2NhbD0hMCksdC5pbml0aWFsaXplZD0hdC5sb2NhbCx0Ll9zdHJlYW1Jbml0SUQ9bnVsbCxmdW5jdGlvbihlKXtlLmF1ZGlvTWl4aW5nPXthdWRpb0NvbnRleHRJbml0ZWQ6ITEsZGVmYXVsdFZvbHVtZToxMDAsaW5FYXJNb25pdG9yaW5nOlwiRklMRVwiLHNvdW5kczp7fSxzdGF0ZXM6e0lETEU6XCJJRExFXCIsU1RBUlRJTkc6XCJTVEFSVElOR1wiLEJVU1k6XCJCVVNZXCIsUEFVU0VEOlwiUEFVU0VEXCJ9LGluRWFyTW9uaXRvcmluZ01vZGVzOntOT05FOlwiTk9ORVwiLEZJTEU6XCJGSUxFXCIsTUlDUk9QSE9ORTpcIk1PQ1JPUEhPTkVcIixBTEw6XCJBTExcIn0sY3R4Om51bGwsbWVkaWFTdHJlYW1Tb3VyY2U6bnVsbCxtZWRpYVN0cmVhbURlc3Q6bnVsbCxidWZmZXI6e319LGUuX2luaXRTb3VuZElmTm90RXhpc3RzPWZ1bmN0aW9uKHQsbil7ZS5hdWRpb01peGluZy5zb3VuZHNbdF18fChlLmF1ZGlvTWl4aW5nLnNvdW5kc1t0XT17c291bmRJZDp0LHN0YXRlOlwiSURMRVwiLG11dGVkOmUudXNlck11dGVBdWRpbyxmaWxlUGF0aDpuLHZvbHVtZTplLmF1ZGlvTWl4aW5nLmRlZmF1bHRWb2x1bWUsc3RhcnRBdDpudWxsLHN0YXJ0T2Zmc2V0Om51bGwscGF1c2VBdDpudWxsLHBhdXNlT2Zmc2V0Om51bGwscmVzdW1lQXQ6bnVsbCxyZXN1bWVPZmZzZXQ6bnVsbCxzdG9wQXQ6bnVsbCxvcHRpb25zOm51bGwsc291cmNlOm51bGx9KX0sZS5faW5pdFNvdW5kSWZOb3RFeGlzdHMoLTEpLGUubG9hZEF1ZGlvQnVmZmVyPWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOnIsbmFtZTpcIlN0cmVhbS5sb2FkQXVkaW9CdWZmZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJ1cmxcIiwxLDEwMjQsITEpLE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKHQsXCJpZFwiLDEsMTAyNCwhMSk7dmFyIG89ZnVuY3Rpb24odCl7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBsb2FkQXVkaW9CdWZmZXIgRmFpbGVkOiBcIikrdCksaSh1LmRlZmF1bHQuTE9BRF9BVURJT19GQUlMRUQpfSxhPW5ldyBYTUxIdHRwUmVxdWVzdDthLm9wZW4oXCJHRVRcIixuLCEwKSxhLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIsYS5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihhLnN0YXR1cz40MDApbyhcIlwiLmNvbmNhdChhLnN0YXR1cyxcIiBcIikuY29uY2F0KGEuc3RhdHVzVGV4dCkpO2Vsc2V7dmFyIG49YS5yZXNwb25zZTtlLmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZHx8ZS5faW5pdEF1ZGlvQ29udGV4dCgpLGUuYXVkaW9NaXhpbmcuY3R4LmRlY29kZUF1ZGlvRGF0YShuLChmdW5jdGlvbihuKXtlLmF1ZGlvTWl4aW5nLmJ1ZmZlclt0XT1uLGkobnVsbCl9KSwoZnVuY3Rpb24odCl7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBkZWNvZGVBdWRpb0RhdGEgRmFpbGVkOiBcIiksdCksaSh0KX0pKX19LGEub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBvKFwibG9hZCBlcnJvclwiKX0sYS5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbyhcInRpbWVvdXRcIil9LGEuc2VuZCgpfSxlLmNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5jcmVhdGVBdWRpb0J1ZmZlclNvdXJjZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoZS5hdWRpb01peGluZy5idWZmZXJbdC5pZF0pe3ZhciByPWUuYXVkaW9NaXhpbmcuYnVmZmVyW3QuaWRdLGk9ZS5hdWRpb01peGluZy5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7aS5idWZmZXI9cjt2YXIgYT1lLmF1ZGlvTWl4aW5nLmN0eC5jcmVhdGVHYWluKCk7aWYoaS5jb25uZWN0KGEpLGEuY29ubmVjdChlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdCksaS5nYWluTm9kZT1hLHQubG9vcClpLmxvb3A9ITAsaS5zdGFydCgwLHQucGxheVRpbWUvMWUzKTtlbHNlIGlmKHQuY3ljbGU+MSlpZihPYmplY3Qoby5pc0Nocm9tZSkoKSl7aS5sb29wPSEwO3ZhciBzPXQuY3ljbGUqci5kdXJhdGlvbioxZTMtKHQucGxheVRpbWV8fDApO2kuc3RhcnQoMCx0LnBsYXlUaW1lLzFlMyxzLzFlMyl9ZWxzZSBjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gQ3ljbGUgUGFyYW0gaXMgaWdub3JlZCBieSBjdXJyZW50IGJyb3dzZXJcIikpLGkuc3RhcnQoMCx0LnBsYXlUaW1lLzFlMyk7ZWxzZSBpLnN0YXJ0KDAsdC5wbGF5VGltZS8xZTMpO3ZhciBkPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF07cmV0dXJuIGQuc291cmNlPWksZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLChmdW5jdGlvbigpe2k9PT1kLnNvdXJjZSYmZS5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiYXVkaW9Tb3VyY2VFbmRlZFwiLHNvdW5kSWQ6dC5zb3VuZElkLHNvdXJjZTppLHNvdW5kOmR9KX0pKSxuKCksaX12YXIgdT1cIkFVRElPQlVGRkVSX05PVF9GT1VORFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIFwiKSx1LHQuaWQpLG4oITEpLCExfSxlLm9uKFwiYXVkaW9Tb3VyY2VFbmRlZFwiLChmdW5jdGlvbih0KXt2YXIgbj10LnNvdXJjZSxyPXQuc291bmQ7ciYmci5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1kmJiFyLnBhdXNlQXQmJihyLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUsci5zdGFydEF0PW51bGwsci5zdGFydE9mZnNldD1udWxsLHIucmVzdW1lQXQ9bnVsbCxyLnJlc3VtZU9mZnNldD1udWxsLG4uZ2Fpbk5vZGUmJm4uZ2Fpbk5vZGUuZGlzY29ubmVjdCYmbi5nYWluTm9kZS5kaXNjb25uZWN0KCksbi5idWZmZXI9bnVsbCxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3QoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3QpKX0pKSxlLmNsZWFyQXVkaW9CdWZmZXJTb3VyY2U9ZnVuY3Rpb24oKXtlLmF1ZGlvQnVmZmVyU291cmNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpfSxlLl9pc1NvdW5kRXhpc3RzPWZ1bmN0aW9uKHQpe3JldHVybiEhZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXXx8KGMuZGVmYXVsdC5lcnJvcihcIlNvdW5kSWQgbm90IGV4aXN0cy4gI1wiLmNvbmNhdCh0LnNvdW5kSWQpKSwhMSl9LGUuX2luaXRBdWRpb0NvbnRleHQ9ZnVuY3Rpb24oKXtpZihlLmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdCBhdWRpbyBjb250ZXh0LiBBbHJlYWR5IGluaXRlZFwiKTtpZighZS5zdHJlYW0pdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXQgYXVkaW8gY29udGV4dC4gTG9jYWwgU3RyZWFtIG5vdCBpbml0aWFsaXplZFwiKTtlLmF1ZGlvTWl4aW5nLmN0eD1PYmplY3QoXy5hKSgpLGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1Tb3VyY2U9ZS5hdWRpb01peGluZy5jdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoZS5zdHJlYW0pLGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0PWUuYXVkaW9NaXhpbmcuY3R4LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3QoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3QpO3ZhciB0PWUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07aWYodCYmZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3Quc3RyZWFtLmFkZFRyYWNrKHQpLGUuX29yaWdpblN0cmVhbT1lLnN0cmVhbSxlLl9pc0F1ZGlvTXV0ZWQoKT8oZS5fdW5tdXRlQXVkaW8oKSxlLnN0cmVhbT1lLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdC5zdHJlYW0sZS5fbXV0ZUF1ZGlvKCkpOmUuc3RyZWFtPWUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0LnN0cmVhbSxlLmF1ZGlvTGV2ZWxIZWxwZXI9bnVsbCxlLnBjJiZlLnBjLnBlZXJDb25uZWN0aW9uJiZlLnBjLnBlZXJDb25uZWN0aW9uKXt2YXIgbj0oZS5wYy5wZWVyQ29ubmVjdGlvbiYmZS5wYy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRyYWNrJiZcImF1ZGlvXCI9PWUudHJhY2sua2luZH0pKSxyPWUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO24mJm4ucmVwbGFjZVRyYWNrJiZyJiZuLnJlcGxhY2VUcmFjayhyKX1lLmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZD0hMH0sZS5fY2xlYW51cEF1ZGlvTWl4aW5nPWZ1bmN0aW9uKCl7aWYoZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWQpe2Zvcih2YXIgdCBpbiBlLmF1ZGlvTWl4aW5nLnNvdW5kcyl7dmFyIG49ZS5hdWRpb01peGluZy5zb3VuZHNbdF07bi5zdGF0ZSE9PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1kmJm4uc3RhdGUhPT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUR8fGUuX3N0b3BPbmVFZmZlY3Qoe3NvdW5kSWQ6dH0pfWUuYXVkaW9MZXZlbEhlbHBlcj1udWxsLGUuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkPSExfX0sZS5fcmVsb2FkSW5FYXJNb25pdG9yaW5nTW9kZT1mdW5jdGlvbih0KXtpZih0KXtpZighZS5hdWRpb01peGluZy5pbkVhck1vbml0b3JpbmdNb2Rlc1t0XSlyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBJbnZhbGlkIEluRWFyTW9uaXRvcmluZ01vZGUgXCIpLmNvbmNhdCh0KSk7ZS5hdWRpb01peGluZy5pbkVhck1vbml0b3Jpbmc9dH1zd2l0Y2goZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWR8fGUuX2luaXRBdWRpb0NvbnRleHQoKSxlLmF1ZGlvTWl4aW5nLmluRWFyTW9uaXRvcmluZyl7Y2FzZSBlLmF1ZGlvTWl4aW5nLmluRWFyTW9uaXRvcmluZ01vZGVzLkZJTEU6ZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9uJiYoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5kaXNjb25uZWN0KGUuYXVkaW9NaXhpbmcuY3R4LmRlc3RpbmF0aW9uKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3RlZFRvRGVzdGluYXRpb249ITEpO2Nhc2UgZS5hdWRpb01peGluZy5pbkVhck1vbml0b3JpbmdNb2Rlcy5BTEw6Zm9yKHZhciBuIGluIGUuYXVkaW9NaXhpbmcuc291bmRzKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1tuXTtyJiZyLnNvdXJjZSYmIXIuc291cmNlLmNvbm5lY3RlZFRvRGVzdGluYXRpb24mJihyLnNvdXJjZS5nYWluTm9kZS5jb25uZWN0KGUuYXVkaW9NaXhpbmcuY3R4LmRlc3RpbmF0aW9uKSxyLnNvdXJjZS5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9uPSEwKX19c3dpdGNoKGUuYXVkaW9NaXhpbmcuaW5FYXJNb25pdG9yaW5nKXtjYXNlIGUuYXVkaW9NaXhpbmcuaW5FYXJNb25pdG9yaW5nTW9kZXMuTUlDUk9QSE9ORTplLmF1ZGlvTWl4aW5nLnNvdXJjZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNvbm5lY3RlZFRvRGVzdGluYXRpb24mJih0LmdhaW5Ob2RlLmRpc2Nvbm5lY3QoZS5hdWRpb01peGluZy5jdHguZGVzdGluYXRpb24pLHQuY29ubmVjdGVkVG9EZXN0aW5hdGlvbj0hMSl9KSk7Y2FzZSBlLmF1ZGlvTWl4aW5nLmluRWFyTW9uaXRvcmluZ01vZGVzLkFMTDplLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3RlZFRvRGVzdGluYXRpb258fChlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3QoZS5hdWRpb01peGluZy5jdHguZGVzdGluYXRpb24pLGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1Tb3VyY2UuY29ubmVjdGVkVG9EZXN0aW5hdGlvbj0hMCl9fSxlLl9zdGFydEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlPWZ1bmN0aW9uKHQpe2UuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkfHxlLl9pbml0QXVkaW9Db250ZXh0KCk7dmFyIG49e3NvdW5kSWQ6dC5zb3VuZElkLGlkOnQuZmlsZVBhdGgsbG9vcDp0Lmxvb3AsY3ljbGU6dC5jeWNsZSxwbGF5VGltZTp0LnBsYXlUaW1lfHwwfSxyPXQucmVwbGFjZSxpPWUuY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2Uobik7cmV0dXJuIGkuc291bmQ9ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXSxpPyhpLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGUuX2F1ZGlvTWl4aW5nRmluaXNoZWRMaXN0ZW5lcix7b25jZTohMH0pLGUuX3JlbG9hZEluRWFyTW9uaXRvcmluZ01vZGUoKSxyJiZlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmRpc2Nvbm5lY3QoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3QpLGkpOm51bGx9LGUuX3N0b3BBdWRpb01peGluZ0J1ZmZlclNvdXJjZT1mdW5jdGlvbih0KXt2YXIgbj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdLnNvdXJjZTtyZXR1cm4gbj8obi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixlLl9hdWRpb01peGluZ0ZpbmlzaGVkTGlzdGVuZXIpLGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1Tb3VyY2UuY29ubmVjdChlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdCksbi5zdG9wKCksbi5nYWluTm9kZSYmbi5nYWluTm9kZS5kaXNjb25uZWN0JiZuLmdhaW5Ob2RlLmRpc2Nvbm5lY3QoKSxuLmJ1ZmZlcj1udWxsLG4pOm51bGx9LGUuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiBlLmF1ZGlvTWl4aW5nLnNvdW5kcyl7dmFyIHI9ZS5hdWRpb01peGluZy5zb3VuZHNbbl07ciYmKHZvaWQgMCE9PXQmJihyLm11dGVkPSEhdCksci5zb3VyY2UmJihyLm11dGVkP3Iuc291cmNlLmdhaW5Ob2RlLmdhaW4udmFsdWU9MDpyLnNvdXJjZS5nYWluTm9kZS5nYWluLnZhbHVlPXIudm9sdW1lLzEwMCkpfX0sZS5faGFuZGxlQXVkaW9NaXhpbmdJbnZhbGlkU3RhdGVFcnJvcj1mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5hdWRpb01peGluZy5zb3VuZHNbbi5zb3VuZElkXSxvPS0xPT09bi5zb3VuZElkP1wiSU5WQUxJRF9BVURJT19NSVhJTkdfU1RBVEVcIjpcIklOVkFMSURfUExBWV9FRkZFQ1RfU1RBVEVcIjtjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIENhbm5vdCBcIikuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQobyxcIiwgc3RhdGUgaXMgXCIpLmNvbmNhdChpLnN0YXRlKSksciYmcihvKX0sZS5faGFuZGxlQXVkaW9NaXhpbmdOb1NvdXJjZUVycm9yPWZ1bmN0aW9uKHQsbixyKXtlLmF1ZGlvTWl4aW5nLnNvdW5kc1tuLnNvdW5kSWRdLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEU7dmFyIGk9LTE9PT1uLnNvdW5kSWQ/XCJOT19BVURJT19NSVhJTkdfU09VUkNFXCI6XCJOT19FRkZFQ1RfU09VUkNFXCI7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBDYW5ub3QgXCIpLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGkpKSxyJiZyKGkpfSxlLl9nZXRPbmVFZmZlY3RTdGF0ZXM9ZnVuY3Rpb24odCl7dmFyIG49ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbj97c3RhdGU6bi5zdGF0ZSxzdGFydEF0Om4uc3RhcnRBdCxyZXN1bWVBdDpuLnJlc3VtZUF0LHBhdXNlT2Zmc2V0Om4ucGF1c2VPZmZzZXQscGF1c2VBdDpuLnBhdXNlQXQscmVzdW1lT2Zmc2V0Om4ucmVzdW1lT2Zmc2V0LHN0b3BBdDpuLnN0b3BBdCxkdXJhdGlvbjplLl9nZXRPbmVFZmZlY3REdXJhdGlvbih0KSxwb3NpdGlvbjplLl9nZXRPbmVFZmZlY3RDdXJyZW50UG9zaXRpb24odCl9Ont9fX0sZS5fYXVkaW9NaXhpbmdGaW5pc2hlZExpc3RlbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zb3VuZDt0LnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRSYmZS5hdWRpb01peGluZy5idWZmZXJbdC5vcHRpb25zLmZpbGVQYXRoXSYmIXQub3B0aW9ucy5jYWNoZVJlc291cmNlJiYoYy5kZWZhdWx0LmRlYnVnKFwiUmVjeWNsZWQgYnVmZmVyIFwiLmNvbmNhdCh0Lm9wdGlvbnMuZmlsZVBhdGgpKSxkZWxldGUgZS5hdWRpb01peGluZy5idWZmZXJbdC5vcHRpb25zLmZpbGVQYXRoXSksLTE9PT10LnNvdW5kSWQmJmUuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImF1ZGlvTWl4aW5nRmluaXNoZWRcIn0pfSxlLl9wbGF5T25lRWZmZWN0PWZ1bmN0aW9uKHQsbil7T2JqZWN0KFMuY2hlY2tWYWxpZE9iamVjdCkodCxcIm9wdGlvbnNcIik7dmFyIHI9dC5zb3VuZElkLGk9KHQuZmlsZVBhdGgsdC5jYWNoZVJlc291cmNlKTt0LmN5Y2xlLHQubG9vcCx0LnBsYXlUaW1lLHQucmVwbGFjZTtpZihPYmplY3Qoby5pc1NhZmFyaSkoKSYmT2JqZWN0KG8uZ2V0QnJvd3NlclZlcnNpb24pKCk8MTIpe3ZhciBhPVwiQlJPV1NFUl9OT1RfU1VQUE9SVFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIENhbm5vdCBfcGxheU9uZUVmZmVjdDogXCIpLGEpLG4oYSl9ZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWR8fGUuX2luaXRBdWRpb0NvbnRleHQoKSxlLl9pbml0U291bmRJZk5vdEV4aXN0cyhyKTt2YXIgcz1lLmF1ZGlvTWl4aW5nLnNvdW5kc1tyXTtpZihzLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRSl7aWYodm9pZCAwIT09dC5jeWNsZSYmIXQuY3ljbGU+MCl7YT1cIkludmFsaWQgUGFybWV0ZXIgY3ljbGU6IFwiK3QuY3ljbGU7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLmNvbmNhdChyKSxhKSxuKGEpfWlmKE9iamVjdChTLmlzRW1wdHkpKGkpJiYodC5jYWNoZVJlc291cmNlPSEwKSxzLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLlNUQVJUSU5HLHMub3B0aW9ucz10LGUuYXVkaW9NaXhpbmcuYnVmZmVyW3QuZmlsZVBhdGhdKXt2YXIgZD1lLl9zdGFydEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlKHQpO2lmKGQpcmV0dXJuIHMuc291cmNlPWQscy5zdGFydEF0PURhdGUubm93KCkscy5yZXN1bWVBdD1udWxsLHMucGF1c2VPZmZzZXQ9bnVsbCxzLnBhdXNlQXQ9bnVsbCxzLnJlc3VtZU9mZnNldD1udWxsLHMuc3RvcEF0PW51bGwscy5zdGFydE9mZnNldD10LnBsYXlUaW1lfHwwLHMuc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuQlVTWSxlLl9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cygpLG4obnVsbCk7cy5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5JRExFO3ZhciB1PVwiQ1JFQVRFX0JVRkZFUlNPVVJDRV9GQUlMRURcIjtpZihuKXJldHVybiBuKHUpO2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLHUpfWVsc2UgZS5sb2FkQXVkaW9CdWZmZXIodC5maWxlUGF0aCx0LmZpbGVQYXRoLChmdW5jdGlvbihyKXtpZihyKXMuc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRSxuP24ocik6Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBcIikscik7ZWxzZXt2YXIgaT1lLl9zdGFydEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlKHQpO2lmKGkpcmV0dXJuIHMuc291cmNlPWkscy5zdGFydEF0PURhdGUubm93KCkscy5yZXN1bWVBdD1udWxsLHMucGF1c2VPZmZzZXQ9bnVsbCxzLnBhdXNlQXQ9bnVsbCxzLnJlc3VtZU9mZnNldD1udWxsLHMuc3RvcEF0PW51bGwscy5zdGFydE9mZnNldD10LnBsYXlUaW1lfHwwLHMuc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuQlVTWSxlLl9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cygpLG4obnVsbCk7cy5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5JRExFO3I9XCJDUkVBVEVfQlVGRkVSU09VUkNFX0ZBSUxFRFwiO2lmKG4pcmV0dXJuIG4ocik7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBcIikscil9fSkpfWVsc2UgZS5faGFuZGxlQXVkaW9NaXhpbmdJbnZhbGlkU3RhdGVFcnJvcihcIl9wbGF5RWZmZWN0XCIsdCxuKX0sZS5fc3RvcE9uZUVmZmVjdD1mdW5jdGlvbih0LG4pe3ZhciByPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF07cmV0dXJuIGUuX2lzU291bmRFeGlzdHModCk/ci5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1l8fHIuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUQ/KGUuX3N0b3BBdWRpb01peGluZ0J1ZmZlclNvdXJjZSh0KSxyLnN0b3BBdD1EYXRlLm5vdygpLHIuc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRSxlLmF1ZGlvTWl4aW5nLmJ1ZmZlcltyLm9wdGlvbnMuZmlsZVBhdGhdJiYhci5vcHRpb25zLmNhY2hlUmVzb3VyY2UmJihjLmRlZmF1bHQuZGVidWcoXCJSZWN5Y2xlZCBidWZmZXIgXCIuY29uY2F0KHIub3B0aW9ucy5maWxlUGF0aCkpLGRlbGV0ZSBlLmF1ZGlvTWl4aW5nLmJ1ZmZlcltyLm9wdGlvbnMuZmlsZVBhdGhdKSx2b2lkKG4mJm4obnVsbCkpKTp2b2lkIGUuX2hhbmRsZUF1ZGlvTWl4aW5nSW52YWxpZFN0YXRlRXJyb3IoXCJfc3RvcE9uZUVmZmVjdFwiLHQsbik6bihcIlNPVU5EX05PVF9FWElTVFNcIil9LGUuX3BhdXNlT25lRWZmZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXTtpZihyLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuQlVTWSlyZXR1cm4gZS5fc3RvcEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlKHQpPyhyLnBhdXNlQXQ9RGF0ZS5ub3coKSxyLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLlBBVVNFRCxyLnJlc3VtZUF0P3IucGF1c2VPZmZzZXQ9ci5wYXVzZUF0LXIucmVzdW1lQXQrci5yZXN1bWVPZmZzZXQ6ci5wYXVzZU9mZnNldD1yLnBhdXNlQXQtci5zdGFydEF0K3Iuc3RhcnRPZmZzZXQsbiYmbihudWxsKSk6dm9pZCBlLl9oYW5kbGVBdWRpb01peGluZ05vU291cmNlRXJyb3IoXCJfcGF1c2VPbmVFZmZlY3RcIix0LG4pO2UuX2hhbmRsZUF1ZGlvTWl4aW5nSW52YWxpZFN0YXRlRXJyb3IoXCJfcGF1c2VPbmVFZmZlY3RcIix0LG4pfSxlLl9yZXN1bWVPbmVFZmZlY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO2lmKHIuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUQpe3ZhciBpPXtzb3VuZElkOnQuc291bmRJZCxmaWxlUGF0aDpyLm9wdGlvbnMuZmlsZVBhdGgsY3ljbGU6ci5vcHRpb25zLmN5Y2xlLGxvb3A6ci5vcHRpb25zLmxvb3AscGxheVRpbWU6ci5wYXVzZU9mZnNldCxyZXBsYWNlOnIub3B0aW9ucy5yZXBsYWNlfSxvPWUuX3N0YXJ0QXVkaW9NaXhpbmdCdWZmZXJTb3VyY2UoaSk7aWYoIW8pe3ZhciBhPVwiQ1JFQVRFX0JVRkZFUlNPVVJDRV9GQUlMRURcIjtyZXR1cm4gbihhKSx2b2lkIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLGEpfXIuc291cmNlPW8sci5yZXN1bWVBdD1EYXRlLm5vdygpLHIucmVzdW1lT2Zmc2V0PXIucGF1c2VPZmZzZXQsci5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZLHIucGF1c2VBdD1udWxsLHIucGF1c2VPZmZzZXQ9bnVsbCxuKG51bGwpfWVsc2UgZS5faGFuZGxlQXVkaW9NaXhpbmdJbnZhbGlkU3RhdGVFcnJvcihcIl9yZXN1bWVPbmVFZmZlY3RcIix0LG4pfSxlLl9nZXRPbmVFZmZlY3REdXJhdGlvbj1mdW5jdGlvbih0KXt2YXIgbj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO3JldHVybiBuLm9wdGlvbnMmJm4ub3B0aW9ucy5maWxlUGF0aCYmZS5hdWRpb01peGluZy5idWZmZXJbbi5vcHRpb25zLmZpbGVQYXRoXT8xZTMqZS5hdWRpb01peGluZy5idWZmZXJbbi5vcHRpb25zLmZpbGVQYXRoXS5kdXJhdGlvbjpudWxsfSxlLl9nZXRPbmVFZmZlY3RDdXJyZW50UG9zaXRpb249ZnVuY3Rpb24odCxuKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO3JldHVybiByLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEP3IucGF1c2VPZmZzZXQlZS5fZ2V0T25lRWZmZWN0RHVyYXRpb24odCk6ci5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1k/ci5yZXN1bWVBdD8oRGF0ZS5ub3coKS1yLnJlc3VtZUF0K3IucmVzdW1lT2Zmc2V0KSVlLl9nZXRPbmVFZmZlY3REdXJhdGlvbih0KTooRGF0ZS5ub3coKS1yLnN0YXJ0QXQrci5zdGFydE9mZnNldCklZS5fZ2V0T25lRWZmZWN0RHVyYXRpb24odCk6dm9pZChuJiZlLl9oYW5kbGVBdWRpb01peGluZ0ludmFsaWRTdGF0ZUVycm9yKFwiX2dldE9uZUVmZmVjdEN1cnJlbnRQb3NpdGlvblwiLHQpKX0sZS5fc2V0T25lRWZmZWN0UG9zaXRpb249ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF07aWYoaS5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1kpe2lmKCFlLl9zdG9wQXVkaW9NaXhpbmdCdWZmZXJTb3VyY2UodCkpcmV0dXJuIHZvaWQgZS5faGFuZGxlQXVkaW9NaXhpbmdOb1NvdXJjZUVycm9yKFwiX3NldE9uZUVmZmVjdFBvc2l0aW9uXCIsdCxyKTt2YXIgbz17c291bmRJZDp0LnNvdW5kSWQsZmlsZVBhdGg6aS5vcHRpb25zLmZpbGVQYXRoLGxvb3A6aS5vcHRpb25zLmxvb3AsY3ljbGU6aS5vcHRpb25zLmN5Y2xlLHBsYXlUaW1lOm59LGE9ZS5fc3RhcnRBdWRpb01peGluZ0J1ZmZlclNvdXJjZShvKTtpZighYSl7dmFyIHM9XCJDUkVBVEVfQlVGRkVSU09VUkNFX0ZBSUxFRFwiO3JldHVybiByJiZyKHMpLHZvaWQgYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBcIikscyl9aS5zb3VyY2U9YSxpLnN0YXJ0QXQ9RGF0ZS5ub3coKSxpLnN0YXJ0T2Zmc2V0PW4saS5yZXN1bWVBdD1udWxsLGkucmVzdW1lT2Zmc2V0PW51bGwsaS5wYXVzZU9mZnNldD1udWxsLGkucGF1c2VBdD1udWxsfWVsc2V7aWYoaS5zdGF0ZSE9PWUuYXVkaW9NaXhpbmcuc3RhdGVzLlBBVVNFRClyZXR1cm4gdm9pZCBlLl9oYW5kbGVBdWRpb01peGluZ0ludmFsaWRTdGF0ZUVycm9yKFwiX3NldE9uZUVmZmVjdFBvc2l0aW9uXCIsdCxyKTtpLnBhdXNlT2Zmc2V0PW59ciYmcihudWxsKX0sZS5zdGFydEF1ZGlvTWl4aW5nPWZ1bmN0aW9uKHQsbil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpmdW5jdGlvbih0KXtpZih0KXJldHVybiBuJiZuKHQpO2UuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImF1ZGlvTWl4aW5nUGxheWVkXCJ9KSxuJiZuKG51bGwpfSxnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5zdGFydEF1ZGlvTWl4aW5nXCIsb3B0aW9uczp0fSk7T2JqZWN0KFMuY2hlY2tWYWxpZE9iamVjdCkodCxcIm9wdGlvbnNcIik7dmFyIG89dC5maWxlUGF0aCxhPXQuY2FjaGVSZXNvdXJjZSxzPXQuY3ljbGUsYz10Lmxvb3AsZD10LnBsYXlUaW1lLHU9dC5yZXBsYWNlO09iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKG8sXCJmaWxlUGF0aFwiLDEsT2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIkZJTEVQQVRIX0xFTk1BWFwiKSwhMSksT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikoZCxcInBsYXlUaW1lXCIsMCwxZTgpLCFPYmplY3QoUy5pc0VtcHR5KShzKSYmT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikocyxcImN5Y2xlXCIpLCFPYmplY3QoUy5pc0VtcHR5KShjKSYmT2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKGMsXCJsb29wXCIpLCFPYmplY3QoUy5pc0VtcHR5KSh1KSYmT2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKHUsXCJyZXBsYWNlXCIpLCFPYmplY3QoUy5pc0VtcHR5KShhKSYmT2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKGEsXCJjYWNoZVJlc291cmNlXCIpO3ZhciBwPWkoKSh7c291bmRJZDotMX0sdCk7ZS5fcGxheU9uZUVmZmVjdChwLHIpfSxlLnN0b3BBdWRpb01peGluZz1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOnQsZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0uc3RvcEF1ZGlvTWl4aW5nXCJ9KTtlLl9zdG9wT25lRWZmZWN0KHtzb3VuZElkOi0xfSxuKX0sZS5wYXVzZUF1ZGlvTWl4aW5nPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6dCxnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5wYXVzZUF1ZGlvTWl4aW5nXCJ9KTtyZXR1cm4gZS5fcGF1c2VPbmVFZmZlY3Qoe3NvdW5kSWQ6LTF9LG4pfSxlLnJlc3VtZUF1ZGlvTWl4aW5nPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24obixyKXtpZihuKXJldHVybiB0JiZ0KG4pO2UuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImF1ZGlvTWl4aW5nUGxheWVkXCJ9KSx0JiZ0KG51bGwpfSxnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5yZXN1bWVBdWRpb01peGluZ1wifSk7ZS5fcmVzdW1lT25lRWZmZWN0KHtzb3VuZElkOi0xfSxuKX0sZS5hZGp1c3RBdWRpb01peGluZ1ZvbHVtZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2dldFN0YXRlczplLl9nZXRPbmVFZmZlY3RTdGF0ZXMoe3NvdW5kSWQ6LTF9KSxuYW1lOlwiU3RyZWFtLmFkanVzdEF1ZGlvTWl4aW5nVm9sdW1lXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwidm9sdW1lXCIsMCwxMDApLGUuYXVkaW9NaXhpbmcuc291bmRzWy0xXS52b2x1bWU9dCxlLl9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cygpLG4oKX0sZS5nZXRBdWRpb01peGluZ0R1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5nZXRBdWRpb01peGluZ0R1cmF0aW9uXCJ9KSxuPWUuX2dldE9uZUVmZmVjdER1cmF0aW9uKHtzb3VuZElkOi0xfSk7cmV0dXJuIHQobnVsbCxuKSxufSxlLmdldEF1ZGlvTWl4aW5nQ3VycmVudFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5nZXRBdWRpb01peGluZ0N1cnJlbnRQb3NpdGlvblwifSksbj1lLl9nZXRPbmVFZmZlY3RDdXJyZW50UG9zaXRpb24oe3NvdW5kSWQ6LTF9LCEwKTtyZXR1cm4gdChudWxsLG4pLG59LGUuc2V0QXVkaW9NaXhpbmdQb3NpdGlvbj1mdW5jdGlvbih0LG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6bixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5zZXRBdWRpb01peGluZ1Bvc2l0aW9uXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwicG9zaXRpb25cIiwwLDFlOCksZS5fc2V0T25lRWZmZWN0UG9zaXRpb24oe3NvdW5kSWQ6LTF9LHQscil9LGUucGxheUVmZmVjdD1mdW5jdGlvbih0LG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gbiYmbih0KTtlLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJlZmZlY3RQbGF5ZWRcIn0pLG4mJm4obnVsbCl9LG5hbWU6XCJTdHJlYW0ucGxheUVmZmVjdFwiLG9wdGlvbnM6dH0pO09iamVjdChTLmNoZWNrVmFsaWRPYmplY3QpKHQsXCJvcHRpb25zXCIpO3ZhciBpPXQuc291bmRJZCxvPXQuZmlsZVBhdGgsYT10LmN5Y2xlO09iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKGksXCJzb3VuZElkXCIsMSwxZTQpLE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKG8sXCJmaWxlUGF0aFwiLDAsT2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIkZJTEVQQVRIX0xFTk1BWFwiKSwhMSksIU9iamVjdChTLmlzRW1wdHkpKGEpJiZPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKShhLFwiY3ljbGVcIiksZS5fcGxheU9uZUVmZmVjdCh0LHIpfSxlLnN0b3BFZmZlY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOm4sZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDp0fSksbmFtZTpcIlN0cmVhbS5zdG9wRWZmZWN0XCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwic291bmRJZFwiLDEsMWU0KSxlLl9zdG9wT25lRWZmZWN0KHtzb3VuZElkOnR9LHIpfSxlLnN0b3BBbGxFZmZlY3RzPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6dCxuYW1lOlwiU3RyZWFtLnN0b3BBbGxFZmZlY3RcIn0pLHI9ITEsaT0wLG89MCxhPWZ1bmN0aW9uKGUpe3J8fChlPyhuKGUpLHI9ITApOmkrPTEsaT09PW8mJihuKG51bGwpLHI9ITApKX07Zm9yKHZhciBzIGluIGUuYXVkaW9NaXhpbmcuc291bmRzKXt2YXIgYz1lLmF1ZGlvTWl4aW5nLnNvdW5kc1tzXTstMSE9PWMuc291bmRJZCYmKGMuc3RhdGUhPT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZJiZjLnN0YXRlIT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEfHwobysrLGUuX3N0b3BPbmVFZmZlY3Qoe3NvdW5kSWQ6c30sYSkpKX1vfHxuKG51bGwpfSxlLnByZWxvYWRFZmZlY3Q9ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6cixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixuYW1lOlwiU3RyZWFtLnByZWxvYWRFZmZlY3RcIn0pO09iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQsXCJzb3VuZElkXCIsMSwxZTQpLE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJmaWxlUGF0aFwiLDEsT2JqZWN0KGwuZ2V0UGFyYW1ldGVyKShcIkZJTEVQQVRIX0xFTk1BWFwiKSwhMSksZS5faW5pdFNvdW5kSWZOb3RFeGlzdHModCxuKSxlLmF1ZGlvTWl4aW5nLmJ1ZmZlcltuXT9pKG51bGwpOmUubG9hZEF1ZGlvQnVmZmVyKG4sbixpKX0sZS51bmxvYWRFZmZlY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOm4sb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCIsbmFtZTpcIlN0cmVhbS51bmxvYWRFZmZlY3RcIn0pO09iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQsXCJzb3VuZElkXCIsMSwxZTQpO3ZhciBpPWUuYXVkaW9NaXhpbmcuc291bmRzW3RdO2lmKCFpKXt2YXIgbz1cIlNPVU5EX05PVF9FWElTVFNcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKG8sdCksdm9pZCByKG8pfXZhciBhPWkub3B0aW9ucz9pLm9wdGlvbnMuZmlsZVBhdGg6aS5maWxlUGF0aDtpZihhKWRlbGV0ZSBlLmF1ZGlvTWl4aW5nLmJ1ZmZlclthXSxkZWxldGUgZS5hdWRpb01peGluZy5zb3VuZHNbdF0scihudWxsKTtlbHNle3ZhciBzPVwiU09VTkRfQlVGRkVSX05PVF9GT1VORFwiO2MuZGVmYXVsdC5lcnJvcihzLHQpLHIocyl9fSxlLnBhdXNlRWZmZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpuLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLG5hbWU6XCJTdHJlYW0ucGF1c2VFZmZlY3RcIn0pO3JldHVybiBlLl9wYXVzZU9uZUVmZmVjdCh7c291bmRJZDp0fSxyKX0sZS5wYXVzZUFsbEVmZmVjdHM9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazp0LG5hbWU6XCJTdHJlYW0ucGF1c2VBbGxFZmZlY3RzXCJ9KSxyPSExLGk9MCxvPTAsYT1mdW5jdGlvbihlKXtyfHwoZT8obihlKSxyPSEwKTppKz0xLGk9PT1vJiYobihudWxsKSxyPSEwKSl9O2Zvcih2YXIgcyBpbiBlLmF1ZGlvTWl4aW5nLnNvdW5kcylcIi0xXCIhPT1zJiZlLmF1ZGlvTWl4aW5nLnNvdW5kc1tzXS5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1kmJihvKyssZS5fcGF1c2VPbmVFZmZlY3Qoe3NvdW5kSWQ6c30sYSkpO298fG4obnVsbCl9LGUucmVzdW1lRWZmZWN0PWZ1bmN0aW9uKHQsbil7T2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodCxcInNvdW5kSWRcIiwxLDFlNCk7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpuLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLG5hbWU6XCJTdHJlYW0ucmVzdW1lRWZmZWN0XCJ9KTtyZXR1cm4gZS5fcmVzdW1lT25lRWZmZWN0KHtzb3VuZElkOnR9LHIpfSxlLnJlc3VtZUFsbEVmZmVjdHM9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazp0LG5hbWU6XCJTdHJlYW0ucmVzdW1lQWxsRWZmZWN0c1wifSkscj0hMSxpPTAsbz0wLGE9ZnVuY3Rpb24oZSl7cnx8KGU/KG4oZSkscj0hMCk6aSs9MSxpPT09byYmKG4obnVsbCkscj0hMCkpfTtmb3IodmFyIHMgaW4gZS5hdWRpb01peGluZy5zb3VuZHMpXCItMVwiIT09cyYmZS5hdWRpb01peGluZy5zb3VuZHNbc10uc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUQmJihvKyssZS5fcmVzdW1lT25lRWZmZWN0KHtzb3VuZElkOnN9LGEpKTtvfHxuKG51bGwpfSxlLmdldEVmZmVjdHNWb2x1bWU9ZnVuY3Rpb24oKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZS5hdWRpb01peGluZy5zb3VuZHMpe3ZhciByPWUuYXVkaW9NaXhpbmcuc291bmRzW25dO3ImJlwiLTFcIiE9PW4mJnQucHVzaCh7c291bmRJZDpwYXJzZUludChuKSx2b2x1bWU6ci52b2x1bWV9KX1yZXR1cm4gdH0sZS5zZXRFZmZlY3RzVm9sdW1lPWZ1bmN0aW9uKHQsbil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldEVmZmVjdHNWb2x1bWVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixjYWxsYmFjazpufSk7Zm9yKHZhciBpIGluIE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQsXCJ2b2x1bWVcIiwwLDEwMCksZS5hdWRpb01peGluZy5kZWZhdWx0Vm9sdW1lPXQsZS5hdWRpb01peGluZy5zb3VuZHMpe3ZhciBvPWUuYXVkaW9NaXhpbmcuc291bmRzW2ldO1wiLTFcIiE9PWkmJihvLnZvbHVtZT10KX1lLl9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cygpLHIobnVsbCl9LGUuc2V0Vm9sdW1lT2ZFZmZlY3Q9ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRWb2x1bWVPZkVmZmVjdFwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLGNhbGxiYWNrOnJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwic291bmRJZFwiLDAsMWU0KSxPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKShuLFwidm9sdW1lXCIsMCwxMDApLGUuX2luaXRTb3VuZElmTm90RXhpc3RzKHQpO3ZhciBvPWUuYXVkaW9NaXhpbmcuc291bmRzW3RdO28udm9sdW1lPW4sZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxpKG51bGwpfX0odCkseS5hLmFkZFZpZGVvRWZmZWN0Q2FwYWJpbGl0eSh0KSxmdW5jdGlvbihlLHQpe2UudmlkZW9Db25zdHJhaW50PXt9LHQuY2FtZXJhSWQmJihlLnZpZGVvQ29uc3RyYWludC5kZXZpY2VJZD17ZXhhY3Q6dC5jYW1lcmFJZH0pLHQuZmFjaW5nTW9kZSYmKGUudmlkZW9Db25zdHJhaW50LmZhY2luZ01vZGU9dC5mYWNpbmdNb2RlKSxlLnZpZGVvU2l6ZSYmKGUudmlkZW9Db25zdHJhaW50LndpZHRoPWUudmlkZW9TaXplWzBdLGUudmlkZW9Db25zdHJhaW50LmhlaWdodD1lLnZpZGVvU2l6ZVsxXSksT2JqZWN0KG8uaXNMZWdhY3lDaHJvbWUpKCl8fChlLnZpZGVvQ29uc3RyYWludC5mcmFtZVJhdGU9MzApLGUuYXVkaW9Db25zdHJhaW50PXt9LHQubWljcm9waG9uZUlkJiYoZS5hdWRpb0NvbnN0cmFpbnQuZGV2aWNlSWQ9e2V4YWN0OnQubWljcm9waG9uZUlkfSksT2JqZWN0KG8uaXNMZWdhY3lDaHJvbWUpKCl8fGUuYXVkaW9Qcm9jZXNzaW5nJiYodm9pZCAwIT09ZS5hdWRpb1Byb2Nlc3NpbmcuQUdDJiYoT2JqZWN0KG8uaXNGaXJlRm94KSgpP2UuYXVkaW9Db25zdHJhaW50LmF1dG9HYWluQ29udHJvbD1lLmF1ZGlvUHJvY2Vzc2luZy5BR0M6T2JqZWN0KG8uaXNDaHJvbWUpKCkmJihlLmF1ZGlvQ29uc3RyYWludC5nb29nQXV0b0dhaW5Db250cm9sPWUuYXVkaW9Qcm9jZXNzaW5nLkFHQyxlLmF1ZGlvQ29uc3RyYWludC5nb29nQXV0b0dhaW5Db250cm9sMj1lLmF1ZGlvUHJvY2Vzc2luZy5BR0MpKSx2b2lkIDAhPT1lLmF1ZGlvUHJvY2Vzc2luZy5BRUMmJihlLmF1ZGlvQ29uc3RyYWludC5lY2hvQ2FuY2VsbGF0aW9uPWUuYXVkaW9Qcm9jZXNzaW5nLkFFQyksdm9pZCAwIT09ZS5hdWRpb1Byb2Nlc3NpbmcuQU5TJiYoT2JqZWN0KG8uaXNGaXJlRm94KSgpP2UuYXVkaW9Db25zdHJhaW50Lm5vaXNlU3VwcHJlc3Npb249ZS5hdWRpb1Byb2Nlc3NpbmcuQU5TOk9iamVjdChvLmlzQ2hyb21lKSgpJiYoZS5hdWRpb0NvbnN0cmFpbnQuZ29vZ05vaXNlU3VwcHJlc3Npb249ZS5hdWRpb1Byb2Nlc3NpbmcuQU5TKSkpLGUuc2NyZWVuQ29uc3RyYWludD17fSx0LnNvdXJjZUlkJiYoZS5zY3JlZW5Db25zdHJhaW50LnNvdXJjZUlkPXQuc291cmNlSWQpLHQuZXh0ZW5zaW9uSWQmJk9iamVjdChvLmlzQ2hyb21lKSgpPyhlLnNjcmVlbkNvbnN0cmFpbnQuZXh0ZW5zaW9uSWQ9dC5leHRlbnNpb25JZCxlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5PXtjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixtYXhXaWR0aDplLnNjcmVlbkF0dHJpYnV0ZXMud2lkdGgsbWF4SGVpZ2h0OmUuc2NyZWVuQXR0cmlidXRlcy5oZWlnaHQsbWF4RnJhbWVSYXRlOmUuc2NyZWVuQXR0cmlidXRlcy5tYXhGcixtaW5GcmFtZVJhdGU6ZS5zY3JlZW5BdHRyaWJ1dGVzLm1pbkZyfSk6KGUuc2NyZWVuQ29uc3RyYWludC5tZWRpYVNvdXJjZT1cInNjcmVlblwiLGUuc2NyZWVuQ29uc3RyYWludC53aWR0aD1lLnNjcmVlbkF0dHJpYnV0ZXMud2lkdGgsZS5zY3JlZW5Db25zdHJhaW50LmhlaWdodD1lLnNjcmVlbkF0dHJpYnV0ZXMuaGVpZ2h0LGUuc2NyZWVuQ29uc3RyYWludC5mcmFtZVJhdGU9e2lkZWFsOmUuc2NyZWVuQXR0cmlidXRlcy5tYXhGcixtYXg6ZS5zY3JlZW5BdHRyaWJ1dGVzLm1heEZyfSksdC5tZWRpYVNvdXJjZSYmKGUuc2NyZWVuQ29uc3RyYWludC5tZWRpYVNvdXJjZT10Lm1lZGlhU291cmNlKSxlLnNldFZpZGVvUmVzb2x1dGlvbj1mdW5jdGlvbihuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0VmlkZW9SZXNvbHV0aW9uXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZighKG4gaW5zdGFuY2VvZiBBcnJheSkpe3ZhciBvPUkobis9XCJcIik7cmV0dXJuIG8mJm8udmlkZW8/KGUudmlkZW9Db25zdHJhaW50PWkoKShlLnZpZGVvQ29uc3RyYWludCx7d2lkdGg6e2lkZWFsOm8udmlkZW8ud2lkdGh9LGhlaWdodDp7aWRlYWw6by52aWRlby5oZWlnaHR9fSksdC5hdHRyaWJ1dGVzLnJlc29sdXRpb249by5hdHRyaWJ1dGVzLnJlc29sdXRpb24sKGE9ZS5zdHJlYW0mJmUuc3RyZWFtLmdldFZpZGVvVHJhY2tzJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSYmYS5hcHBseUNvbnN0cmFpbnRzPyhjLmRlZmF1bHQuZGVidWcoXCJzZXRWaWRlb1Jlc29sdXRpb24gYXBwbHlDb25zdHJhaW50c1wiLGUudmlkZW9Db25zdHJhaW50KSxhLmFwcGx5Q29uc3RyYWludHMoZS52aWRlb0NvbnN0cmFpbnQpLnRoZW4ocikuY2F0Y2gocikpOnIoKSwhMCk6KHIoXCJOT19QUk9GSUxFX1wiLmNvbmNhdChuKSksITEpfXZhciBhLHM9blswXSxkPW5bMV07ZS52aWRlb0NvbnN0cmFpbnQ9aSgpKGUudmlkZW9Db25zdHJhaW50LHt3aWR0aDp7aWRlYWw6c30saGVpZ2h0OntpZGVhbDpkfX0pLHQuYXR0cmlidXRlcy5yZXNvbHV0aW9uPVwiXCIuY29uY2F0KHMsXCJ4XCIpLmNvbmNhdChkKSwoYT1lLnN0cmVhbSYmZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MmJmUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0pJiZhLmFwcGx5Q29uc3RyYWludHM/KGMuZGVmYXVsdC5kZWJ1ZyhcInNldFZpZGVvUmVzb2x1dGlvbiBhcHBseUNvbnN0cmFpbnRzXCIsZS52aWRlb0NvbnN0cmFpbnQpLHkuYS5kaXNhYmxlVmlkZW9FZmZlY3QoZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseUNvbnN0cmFpbnRzKGUudmlkZW9Db25zdHJhaW50KS50aGVuKHIpLmNhdGNoKHIpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHkuYS5yZXN0b3JlVmlkZW9FZmZlY3QoZSl9KSkpOnIoKX0sZS5zZXRWaWRlb0ZyYW1lUmF0ZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0VmlkZW9GcmFtZVJhdGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKE9iamVjdChvLmlzRmlyZUZveCkoKSlyZXR1cm4gbihcIkZJUkVGT1hfTk9UX1NVUFBPUlRFRFwiKSwhMTtpZihcIm9iamVjdFwiPT09VCgpKHQpJiZ0IGluc3RhbmNlb2YgQXJyYXkmJnQubGVuZ3RoPjEpe2UudmlkZW9Db25zdHJhaW50PWkoKShlLnZpZGVvQ29uc3RyYWludCx7ZnJhbWVSYXRlOnRbMF19KSxlLmF0dHJpYnV0ZXMubWluRnJhbWVSYXRlPXRbMF0sZS5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZT10WzFdO3ZhciByPWUuc3RyZWFtJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcyYmZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtyZXR1cm4gciYmci5hcHBseUNvbnN0cmFpbnRzPyhjLmRlZmF1bHQuZGVidWcoXCJzZXRWaWRlb0ZyYW1lUmF0ZSBhcHBseUNvbnN0cmFpbnRzXCIsZS52aWRlb0NvbnN0cmFpbnQpLHIuYXBwbHlDb25zdHJhaW50cyhlLnZpZGVvQ29uc3RyYWludCkudGhlbihuKS5jYXRjaChuKSk6bigpLCEwfXJldHVybiBuKFwiSU5WQUxJRF9QQVJBTV9cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMX0sZS5zZXRWaWRlb0JpdFJhdGU9ZnVuY3Rpb24obil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvQml0UmF0ZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuXCJvYmplY3RcIj09PVQoKShuKSYmbiBpbnN0YW5jZW9mIEFycmF5JiZuLmxlbmd0aD4xPyh0LmF0dHJpYnV0ZXMubWluVmlkZW9CVz1uWzBdLHQuYXR0cmlidXRlcy5tYXhWaWRlb0JXPW5bMV0sZS5jb25uZWN0aW9uU3BlYyYmKGUuY29ubmVjdGlvblNwZWMubWluVmlkZW9CVz1uWzBdLGUuY29ubmVjdGlvblNwZWMubWF4VmlkZW9CVz1uWzFdKSxlLnBjJiZlLnBjLnJlbmVnb3RpYXRlJiZlLnBjLnJlbmVnb3RpYXRlKCkscigpLCEwKToocihcIklOVkFMSURfUEFSQU1fXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSksITEpfSxlLnNldFNjcmVlbkJpdFJhdGU9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFNjcmVlbkJpdFJhdGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVyblwib2JqZWN0XCI9PT1UKCkodCkmJnQgaW5zdGFuY2VvZiBBcnJheSYmdC5sZW5ndGg+MT8oZS5zY3JlZW5BdHRyaWJ1dGVzLm1pblZpZGVvQlc9dFswXSxlLnNjcmVlbkF0dHJpYnV0ZXMubWF4VmlkZW9CVz10WzFdLG4oKSwhMCk6KG4oXCJJTlZBTElEX1BBUkFNX1wiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSkpLCExKX0sZS5zZXRTY3JlZW5Qcm9maWxlPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRTY3JlZW5Qcm9maWxlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkodCxcInByb2ZpbGVcIixbXCI0ODBwXzFcIixcIjQ4MHBfMlwiLFwiNzIwcF8xXCIsXCI3MjBwXzJcIixcIjEwODBwXzFcIixcIjEwODBwXzJcIl0pO3ZhciByPUkodCk7cmV0dXJuIHImJnIuc2NyZWVuPyhlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5PyhlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5Lm1heFdpZHRoPXIuc2NyZWVuLndpZHRoLGUuc2NyZWVuQ29uc3RyYWludC5tYW5kYXRvcnkubWF4SGVpZ2h0PXIuc2NyZWVuLmhlaWdodCxyLnNjcmVlbi5mcmFtZVJhdGUmJnIuc2NyZWVuLmZyYW1lUmF0ZS5taW4mJnIuc2NyZWVuLmZyYW1lUmF0ZS5tYXgmJihlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1yLnNjcmVlbi5mcmFtZVJhdGUubWluLGUuc2NyZWVuQ29uc3RyYWludC5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPXIuc2NyZWVuLmZyYW1lUmF0ZS5tYXgpKTplLnNjcmVlbkNvbnN0cmFpbnQ9aSgpKGUuc2NyZWVuQ29uc3RyYWludCxyLnNjcmVlbiksZS5zY3JlZW5BdHRyaWJ1dGVzLndpZHRoPXIuc2NyZWVuLndpZHRoLGUuc2NyZWVuQXR0cmlidXRlcy5oZWlnaHQ9ci5zY3JlZW4uaGVpZ2h0LGUuc2NyZWVuQXR0cmlidXRlcy5taW5Gcj1yLnNjcmVlbi5mcmFtZVJhdGUubWluLGUuc2NyZWVuQXR0cmlidXRlcy5tYXhGcj1yLnNjcmVlbi5mcmFtZVJhdGUubWF4LG4oKSwhMCk6KG4oXCJOT19TQ1JFRU5fUFJPRklMRV9cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9LGUuc2V0VmlkZW9Qcm9maWxlQ3VzdG9tPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRWaWRlb1Byb2ZpbGVDdXN0b21cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2Uuc2V0VmlkZW9SZXNvbHV0aW9uKHRbMF0pLGUuc2V0VmlkZW9GcmFtZVJhdGUoW3RbMV0sdFsxXV0pLGUuc2V0VmlkZW9CaXRSYXRlKFt0WzJdLHRbMl1dKSxuKCl9LGUuc2V0VmlkZW9Qcm9maWxlQ3VzdG9tUGx1cz1mdW5jdGlvbihuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0VmlkZW9Qcm9maWxlQ3VzdG9tXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtlLnNldFZpZGVvUmVzb2x1dGlvbihbbi53aWR0aCxuLmhlaWdodF0pLHQuYXR0cmlidXRlcy5yZXNvbHV0aW9uPVwiXCIuY29uY2F0KG4ud2lkdGgsXCJ4XCIpLmNvbmNhdChuLmhlaWdodCksZS5zZXRWaWRlb0ZyYW1lUmF0ZShbbi5mcmFtZXJhdGUsbi5mcmFtZXJhdGVdKSxlLnNldFZpZGVvQml0UmF0ZShbbi5iaXRyYXRlLG4uYml0cmF0ZV0pLHIoKX0sZS5zZXRWaWRlb1Byb2ZpbGU9ZnVuY3Rpb24obil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvUHJvZmlsZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSksYT1JKG4pO2lmKCFhKXt2YXIgcz1cIkludmFsaWQgUHJvZmlsZSBcIi5jb25jYXQobik7dGhyb3cgbmV3IEVycm9yKHMpfWlmKGUucHJvZmlsZT1uLGEmJmEudmlkZW8pe2UucHJvZmlsZT1hLnByb2ZpbGVOYW1lLGUudmlkZW9Db25zdHJhaW50PWkoKShlLnZpZGVvQ29uc3RyYWludCxhLnZpZGVvKSxlLmNvbm5lY3Rpb25TcGVjJiZhLmF0dHJpYnV0ZXMubWF4VmlkZW9CVyYmKGUuY29ubmVjdGlvblNwZWMubWluVmlkZW9CVz1hLmF0dHJpYnV0ZXMubWluVmlkZW9CVyxlLmNvbm5lY3Rpb25TcGVjLm1heFZpZGVvQlc9YS5hdHRyaWJ1dGVzLm1heFZpZGVvQlcpLE9iamVjdChvLmlzRWRnZSkoKSYmKGUudmlkZW9Db25zdHJhaW50LmZyYW1lUmF0ZS5tYXg9NjApLE9iamVjdChvLmlzRmlyZUZveCkoKSYmKGUudmlkZW9Db25zdHJhaW50LmZyYW1lUmF0ZT0zMCksdC5hdHRyaWJ1dGVzPWkoKSh0LmF0dHJpYnV0ZXMsYS5hdHRyaWJ1dGVzKSxlLnBjJiZlLnBjLnJlbmVnb3RpYXRlJiZlLnBjLnJlbmVnb3RpYXRlKCk7dmFyIGQ9ZS5zdHJlYW0mJmUuc3RyZWFtLmdldFZpZGVvVHJhY2tzJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO3JldHVybiBkJiZkLmFwcGx5Q29uc3RyYWludHM/KGMuZGVmYXVsdC5kZWJ1ZyhcInNldFZpZGVvUHJvZmlsZSBhcHBseUNvbnN0cmFpbnRzXCIsZS52aWRlb0NvbnN0cmFpbnQpLHkuYS5kaXNhYmxlVmlkZW9FZmZlY3QoZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZC5hcHBseUNvbnN0cmFpbnRzKGUudmlkZW9Db25zdHJhaW50KX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB5LmEucmVzdG9yZVZpZGVvRWZmZWN0KGUpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtyKHQpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T2JqZWN0KGgudnNSZXNIYWNrKShlLnN0cmVhbSwoZnVuY3Rpb24odCxyKXtlLnZpZGVvV2lkdGg9dCxlLnZpZGVvSGVpZ2h0PXIsbigpfSksKGZ1bmN0aW9uKHQpe2MuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSB2c1Jlc0hhY2sgZmFpbGVkOiBcIiksdCksaSgpfSkpfSksMjUwMCl9KSl9KSkuY2F0Y2gocikpOnIoKSwhMH1yZXR1cm4gcihcIklOVkFMSURfVklERU9fUFJPRklMRV9cIi5jb25jYXQobikpLCExfSxlLnNldEF1ZGlvUHJvZmlsZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0QXVkaW9Qcm9maWxlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkodCxcInByb2ZpbGVcIixbXCJzcGVlY2hfbG93X3F1YWxpdHlcIixcInNwZWVjaF9zdGFuZGFyZFwiLFwibXVzaWNfc3RhbmRhcmRcIixcInN0YW5kYXJkX3N0ZXJlb1wiLFwiaGlnaF9xdWFsaXR5XCIsXCJoaWdoX3F1YWxpdHlfc3RlcmVvXCJdKSxlLmF1ZGlvUHJvZmlsZT10O3ZhciByPUEodCk7cmV0dXJuIGUuaGlnaFF1YWxpdHk9ci5oaWdoUXVhbGl0eSxlLnN0ZXJlbz1yLnN0ZXJlbyxlLnNwZWVjaD1yLnNwZWVjaCxlLmxvd1F1YWxpdHk9ci5sb3dRdWFsaXR5LGUuc3RlcmVvJiZPYmplY3Qoby5pc0Nocm9tZSkoKSYmKGUuYXVkaW9Db25zdHJhaW50Lmdvb2dBdXRvR2FpbkNvbnRyb2w9ITEsZS5hdWRpb0NvbnN0cmFpbnQuZ29vZ0F1dG9HYWluQ29udHJvbDI9ITEsZS5hdWRpb0NvbnN0cmFpbnQuZWNob0NhbmNlbGxhdGlvbj0hMSxlLmF1ZGlvQ29uc3RyYWludC5nb29nTm9pc2VTdXBwcmVzc2lvbj0hMSksbigpLCEwfSxlLnNldFZpZGVvRW5jb2RlckNvbmZpZ3VyYXRpb249ZnVuY3Rpb24odCl7T2JqZWN0KFMuY2hlY2tWYWxpZE9iamVjdCkodCxcImNvbmZpZ1wiKTt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0VmlkZW9FbmNvZGVyQ29uZmlndXJhdGlvblwiLG9wdGlvbnM6dCx0YWc6XCJ0cmFjZXJcIn0pO3QucmVzb2x1dGlvbiYmKE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQucmVzb2x1dGlvbi53aWR0aCxcImNvbmZpZy5yZXNvbHV0aW9uLndpZHRoXCIpLE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQucmVzb2x1dGlvbi5oZWlnaHQsXCJjb25maWcucmVzb2x1dGlvbi5oZWlnaHRcIiksZS5zZXRWaWRlb1Jlc29sdXRpb24oW3QucmVzb2x1dGlvbi53aWR0aCx0LnJlc29sdXRpb24uaGVpZ2h0XSkpLHQuZnJhbWVSYXRlJiYoT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodC5mcmFtZVJhdGUubWluLFwiY29uZmlnLmZyYW1lUmF0ZS5taW5cIiksT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodC5mcmFtZVJhdGUubWF4LFwiY29uZmlnLmZyYW1lUmF0ZS5tYXhcIiksZS5zZXRWaWRlb0ZyYW1lUmF0ZShbdC5mcmFtZVJhdGUubWluLHQuZnJhbWVSYXRlLm1heF0pKSx0LmJpdHJhdGUmJihPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LmJpdHJhdGUubWluLFwiY29uZmlnLmJpdHJhdGUubWluXCIsMSwxZTcpLE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQuYml0cmF0ZS5tYXgsXCJjb25maWcuYml0cmF0ZS5tYXhcIiwxLDFlNyksZS5zZXRWaWRlb0JpdFJhdGUoW3QuYml0cmF0ZS5taW4sdC5iaXRyYXRlLm1heF0pKSxuKCl9LGUuZ2V0U3VwcG9ydGVkUHJvZmlsZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uZ2V0U3VwcG9ydGVkUHJvZmlsZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLGNhbGxiYWNrOnR9KTtpZighZS5sb2NhbCl7dmFyIHI9XCJPTkxZX0xPQ0FMX1NUUkVBTV9TVVBQT1JURURcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKHIpLG4ocil9aWYoIWUuc3RyZWFtKXtyPVwiU1RSRUFNX05PVF9JTklUXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihyKSxuKHIpfWlmKCFlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcyl7cj1cIlRSQUNLX05PVF9TVVBQT1JUXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihyKSxuKHIpfXZhciBpPWUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07aWYoIWkpe3I9XCJOT19WSURFT19UUkFDS19GT1VORFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IociksbihyKX1pZighaS5nZXRDYXBhYmlsaXRpZXMpe3I9XCJHRVRDQVBBQklMSVRZX05PVF9TVVBQT1JUXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihyKSxuKHIpfXZhciBvPWkuZ2V0Q2FwYWJpbGl0aWVzKCksYT1iKG8pO3JldHVybiBuKG51bGwsYSl9fSh0LGUpLHQuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5zdHJlYW1JZH0sdC5nZXRVc2VySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC51c2VySWR9LHQuY2hlY2tEdWFsU3RyZWFtRW5hYmxlZD1mdW5jdGlvbigpe2lmKE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJEVUFMU1RSRUFNX09QRVJBVElPTl9DSEVDS1wiKSYmdC5pc0R1YWxTdHJlYW0pe3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJPcGVyYXRpb24gbm90IHBlcm1pdHRlZDogXCIuY29uY2F0KFwiRFVBTF9TVFJFQU1fRU5BQkxFRFwiKSksXCJEVUFMX1NUUkVBTV9FTkFCTEVEXCJ9cmV0dXJuITF9LHQuc2V0VXNlcklkPWZ1bmN0aW9uKGUpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRVc2VySWRcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3QudXNlcklkJiZjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLnVzZXJJZCBcIikuY29uY2F0KHQudXNlcklkLFwiID0+IFwiKS5jb25jYXQoZSkpLHQudXNlcklkPWUsbigpfSx0LmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zY3JlZW4/dC5zY3JlZW5BdHRyaWJ1dGVzOmUuYXR0cmlidXRlc30sdC5oYXNBdWRpbz1mdW5jdGlvbigpe3JldHVybiEhdC5hdWRpb30sdC5oYXNWaWRlbz1mdW5jdGlvbigpe3JldHVybiEhdC52aWRlb30sdC5oYXNTY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXQuc2NyZWVufSx0Lmhhc1NjcmVlbkF1ZGlvPWZ1bmN0aW9uKCl7cmV0dXJuISF0LnNjcmVlbkF1ZGlvfSx0LmlzVmlkZW9Pbj1mdW5jdGlvbigpe3JldHVybih0Lmhhc1ZpZGVvKCl8fHQuaGFzU2NyZWVuKCkpJiYhdC51c2VyTXV0ZVZpZGVvfSx0LmlzQXVkaW9Pbj1mdW5jdGlvbigpe3JldHVybiB0Lmhhc0F1ZGlvKCkmJiF0LnVzZXJNdXRlQXVkaW99LHQuaW5pdD1mdW5jdGlvbihyLGkpe3ZhciBvPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpJiZpKGUpO3ImJnIodCl9LG5hbWU6XCJTdHJlYW0uaW5pdFwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSksYT0oKG5ldyBEYXRlKS5nZXRUaW1lKCksYXJndW1lbnRzWzJdKTtpZih2b2lkIDA9PT1hJiYoYT0yKSwhMD09PXQuaW5pdGlhbGl6ZWQpcmV0dXJuIG8oe3R5cGU6XCJ3YXJuaW5nXCIsbXNnOlwiU1RSRUFNX0FMUkVBRFlfSU5JVElBTElaRURcIn0pO2lmKCEwIT09dC5sb2NhbClyZXR1cm4gbyh7dHlwZTpcIndhcm5pbmdcIixtc2c6XCJTVFJFQU1fTk9UX0xPQ0FMXCJ9KTt2YXIgcz1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMyk7dC5fc3RyZWFtSW5pdElEPXMsdC52aWRlb1NvdXJjZT90LnZpZGVvTmFtZT1cInZpZGVvU291cmNlXCI6dC52aWRlbyYmKHQudmlkZW9OYW1lPUUuYS5zZWFyY2hEZXZpY2VOYW1lQnlJZChlLmNhbWVyYUlkKXx8XCJkZWZhdWx0XCIpLHQuYXVkaW9Tb3VyY2U/dC5hdWRpb05hbWU9XCJhdWRpb1NvdXJjZVwiOnQuYXVkaW8mJih0LmF1ZGlvTmFtZT1FLmEuc2VhcmNoRGV2aWNlTmFtZUJ5SWQoZS5taWNyb3Bob25lSWQpfHxcImRlZmF1bHRcIiksdC5zY3JlZW4mJih0LnNjcmVlbk5hbWU9ZS5leHRlbnNpb25JZHx8XCJkZWZhdWx0XCIpO3RyeXtpZihlLmF1ZGlvfHxlLnZpZGVvfHxlLnNjcmVlbnx8ZS5zY3JlZW5BdWRpb3x8ZS52aWRlb1NvdXJjZXx8ZS5hdWRpb1NvdXJjZSl7Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBSZXF1ZXN0ZWQgYWNjZXNzIHRvIGxvY2FsIG1lZGlhXCIpKTt2YXIgZD17c3RyZWFtSWQ6dC5zdHJlYW1JZH07ZS52aWRlb1NvdXJjZT9kLnZpZGVvU291cmNlPWUudmlkZW9Tb3VyY2U6ZS5zY3JlZW4/ZC5zY3JlZW49dC5zY3JlZW5Db25zdHJhaW50OmUudmlkZW8mJihkLnZpZGVvPXQudmlkZW9Db25zdHJhaW50KSxlLmF1ZGlvU291cmNlP2QuYXVkaW9Tb3VyY2U9ZS5hdWRpb1NvdXJjZTplLnNjcmVlbkF1ZGlvP2Quc2NyZWVuQXVkaW89ZS5zY3JlZW5BdWRpbzplLmF1ZGlvJiYoZC5hdWRpbz10LmF1ZGlvQ29uc3RyYWludCksT2JqZWN0KG0uYikoZCwoZnVuY3Rpb24ocil7aWYoZC5zY3JlZW5BdWRpbyYmIXIuZ2V0QXVkaW9UcmFja3MoKVswXSYmYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIEF1ZGlvIHNoYXJpbmcgaXMgbm90IHNlbGVjdGVkXCIpKSxkLnNjcmVlbiYmYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGhhcyBncmFudGVkIGFjY2VzcyB0byBzY3JlZW4gc2hhcmluZ1wiKSksKGQudmlkZW98fGQuYXVkaW8pJiZjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgaGFzIGdyYW50ZWQgYWNjZXNzIHRvIGxvY2FsIG1lZGlhXCIpKSxudWxsPT09dC5fc3RyZWFtSW5pdElEKXtyLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpO3ZhciBpPXt0eXBlOlwiZXJyb3JcIixtc2c6XCJTVFJFQU1fSVNfQ0xPU0VEXCIsaW5mbzpcInN0cmVhbSBpcyBjbG9zZWQgYW5kIGNhbm5vdCBiZSBpbml0aWFsaXplZFwifTtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKHQuc3RyZWFtSWQsaS5pbmZvKSx2b2lkIG8oaSl9aWYodC5fc3RyZWFtSW5pdElEIT09cyl7ci5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0b3AoKX0pKTtpPXt0eXBlOlwiZXJyb3JcIixtc2c6XCJBQk9SVF9PVEhFUl9JTklUXCIsaW5mbzpcInN0cmVhbSBpbml0aWFsaXphdGlvbiBpcyBhYm9ydGVkIGJlY2F1c2Ugb2YgYW5vdGhlciBzdHJlYW0uaW5pdFwifTtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKHQuc3RyZWFtSWQsaS5pbmZvKSx2b2lkIG8oaSl9dC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiYWNjZXNzQWxsb3dlZFwifSksdC5zdHJlYW09cix0LmluaXRpYWxpemVkPSEwLHQucmVsb2FkRGV2aWNlTmFtZSgpLHQuaGFzVmlkZW8oKSYmT2JqZWN0KGgudnNSZXNIYWNrKShyLChmdW5jdGlvbihlLG4pe3QudmlkZW9XaWR0aD1lLHQudmlkZW9IZWlnaHQ9bn0pLChmdW5jdGlvbihlKXtjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gdnNSZXNIYWNrIGZhaWxlZDogXCIpLGUpfSkpLGUuc2NyZWVuJiZ0LnN0cmVhbSYmdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSYmKHQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0ub25lbmRlZD1mdW5jdGlvbigpe3QuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0b3BTY3JlZW5TaGFyaW5nXCJ9KX0pLHQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRUcmFja3MmJnQuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ImJiFyLm9uZW5kZWQmJihyLm9uZW5kZWQ9biksXCJ2aWRlb1wiPT09ci5raW5kJiZlLm9wdGltaXphdGlvbk1vZGUmJihyLmNvbnRlbnRIaW50PWUub3B0aW1pemF0aW9uTW9kZSxyLmNvbnRlbnRIaW50PT09ZS5vcHRpbWl6YXRpb25Nb2RlJiZjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIHNldCBjb250ZW50IGhpbnQgdG9cIiksZS5vcHRpbWl6YXRpb25Nb2RlKSl9KSksbygpfSksKGZ1bmN0aW9uKGUpe3ZhciBuPXt0eXBlOlwiZXJyb3JcIixpbmZvOm51bGx9O3N3aXRjaChlJiYobi5tc2c9ZS5uYW1lfHxlLmNvZGV8fGUsZS5tZXNzYWdlJiYobi5pbmZvPWUubWVzc2FnZSksZS5jb2RlJiYobi5pbmZvP24uaW5mbys9XCIuIFwiK2UuY29kZTpuLmluZm89XCIgXCIrZS5jb2RlKSxlLmNvbnN0cmFpbnQmJihuLmluZm8/bi5pbmZvKz1cIi4gQ29uc3RyYWludDogXCIrZS5jb25zdHJhaW50Om4uaW5mbz1cImNvbnN0cmFpbnQ6IFwiK2UuY29uc3RyYWludCkpLG4ubXNnKXtjYXNlXCJTdGFydGluZyB2aWRlbyBmYWlsZWRcIjpjYXNlXCJUcmFja1N0YXJ0RXJyb3JcIjppZih0LnZpZGVvQ29uc3RyYWludCYmKGRlbGV0ZSB0LnZpZGVvQ29uc3RyYWludC53aWR0aCxkZWxldGUgdC52aWRlb0NvbnN0cmFpbnQuaGVpZ2h0KSxhPjApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmluaXQoKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfSksbyxhLTEpfSksMSk7bi5tc2c9XCJNRURJQV9PUFRJT05fSU5WQUxJRFwiO2JyZWFrO2Nhc2VcIkRldmljZXNOb3RGb3VuZEVycm9yXCI6bi5tc2c9XCJERVZJQ0VTX05PVF9GT1VORFwiO2JyZWFrO2Nhc2VcIk5vdFN1cHBvcnRlZEVycm9yXCI6bi5tc2c9XCJOT1RfU1VQUE9SVEVEXCI7YnJlYWs7Y2FzZVwiUGVybWlzc2lvbkRlbmllZEVycm9yXCI6Y2FzZVwiSW52YWxpZFN0YXRlRXJyb3JcIjpuLm1zZz1cIlBFUk1JU1NJT05fREVOSUVEXCIsdC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiYWNjZXNzRGVuaWVkXCJ9KTticmVhaztjYXNlXCJQRVJNSVNTSU9OX0RFTklFRFwiOmNhc2VcIk5vdEFsbG93ZWRFcnJvclwiOnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImFjY2Vzc0RlbmllZFwifSk7YnJlYWs7Y2FzZVwiQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yXCI6bi5tc2c9XCJDT05TVFJBSU5UX05PVF9TQVRJU0ZJRURcIjticmVhaztkZWZhdWx0Om4ubXNnfHwobi5tc2c9XCJVTkRFRklORURcIil9dmFyIHI9XCJNZWRpYSBhY2Nlc3MgXCIuY29uY2F0KG4ubXNnKS5jb25jYXQobi5pbmZvP1wiOiBcIituLmluZm86XCJcIik7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBcIiksciksbyhuKX0pKX1lbHNlIG8oe3R5cGU6XCJ3YXJuaW5nXCIsbXNnOlwiU1RSRUFNX0hBU19OT19NRURJQV9BVFRSSUJVVEVTXCJ9KX1jYXRjaChlKXtjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbSBpbml0OiBcIiksZSksbyh7dHlwZTpcImVycm9yXCIsbXNnOmUubWVzc2FnZXx8ZX0pfX0sdC5yZWxvYWREZXZpY2VOYW1lPWZ1bmN0aW9uKCl7aWYodC5zdHJlYW0pe2lmKHQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKXt2YXIgZT10LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO2UmJmUubGFiZWwmJih0LnZpZGVvTmFtZT1lLmxhYmVsKX1pZih0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcyl7dmFyIG49dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtuJiZuLmxhYmVsJiYodC5hdWRpb05hbWU9bi5sYWJlbCl9fX0sdC5jbG9zZT1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiU3RyZWFtLmNsb3NlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZihjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIENsb3NlIHN0cmVhbSB3aXRoIGlkXCIpLHQuc3RyZWFtSWQpLHQuX29yaWdpblN0cmVhbSl0cnl7dC5fb3JpZ2luU3RyZWFtLmdldFRyYWNrcygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcCgpfSkpfWNhdGNoKGUpe31pZih2b2lkIDAhPT10LnN0cmVhbSl7dmFyIG49dC5zdHJlYW0uZ2V0VHJhY2tzKCk7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl0uc3RvcCgpLG5bcl0ub25lbmRlZD1udWxsKTshdC5pc0xvd1N0cmVhbSYmdC5sb2NhbD95LmEuZGlzYWJsZVZpZGVvRWZmZWN0KHQpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdHJlYW09dm9pZCAwfSkpOih0LnN0cmVhbSYmdC5zdHJlYW0uY2xlYW4mJnQuc3RyZWFtLmNsZWFuKCksdC5zdHJlYW09dm9pZCAwKX1pZih0Ll9vcmlnaW5TdHJlYW0pe2NvbnNvbGUubG9nKFwiY2xlYXIgX29yaWdpblN0cmVhbVwiKTtuPXQuX29yaWdpblN0cmVhbS5nZXRUcmFja3MoKTtmb3IodmFyIHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYobltyXS5zdG9wKCksbltyXS5vbmVuZGVkPW51bGwsY29uc29sZS5sb2coXCJjbGVhciBvbmVuZGVkXCIpKTshdC5pc0xvd1N0cmVhbSYmdC5sb2NhbD95LmEuZGlzYWJsZVZpZGVvRWZmZWN0KHQpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fb3JpZ2luU3RyZWFtPXZvaWQgMH0pKToodC5fb3JpZ2luU3RyZWFtJiZ0Ll9vcmlnaW5TdHJlYW0uY2xlYW4mJnQuX29yaWdpblN0cmVhbS5jbGVhbigpLHQuX29yaWdpblN0cmVhbT12b2lkIDApfWlmKE9iamVjdChvLmlzU2FmYXJpKSgpJiZ0LnBjJiZ0LnBjLnBlZXJDb25uZWN0aW9uJiZ0LnBjLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrJiZ0LnBjLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMpe3ZhciBpPXQucGMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpO2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gUmVtb3ZlIFRyYWNrXCIpLGUpLHQucGMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soZSkpfSkpfXQubG9jYWwmJih0LmluaXRpYWxpemVkPSExKSx0Ll9zdHJlYW1Jbml0SUQ9bnVsbCx0Ll9vbkF1ZGlvTXV0ZT12b2lkIDAsdC5fb25BdWRpb1VubXV0ZT12b2lkIDAsdC5fb25WaWRlb011dGU9dm9pZCAwLHQuX29uVmlkZW9Vbm11dGU9dm9pZCAwLHQubG93U3RyZWFtJiZ0Lmxvd1N0cmVhbS5jbG9zZSgpLHQucGxheWVyJiZ0LnBsYXllci52aWRlbyYmdC5wbGF5ZXIudmlkZW8uc3JjT2JqZWN0JiYodC5wbGF5ZXIudmlkZW8uc3JjT2JqZWN0PW51bGwpLHQucGxheWVyJiZ0LnBsYXllci5hdWRpbyYmdC5wbGF5ZXIuYXVkaW8uc3JjT2JqZWN0JiYodC5wbGF5ZXIuYXVkaW8uc3JjT2JqZWN0PW51bGwpLGUoKX0sdC5lbmFibGVBdWRpbz1mdW5jdGlvbigpe3ZhciBlLG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmVuYWJsZUF1ZGlvXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm4gYy5kZWZhdWx0LmRlcHJlY2F0ZShcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLmVuYWJsZUF1ZGlvIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgU3RyZWFtLnVubXV0ZUF1ZGlvIGluc3RlYWRcIikpLHQudXNlck11dGVBdWRpb3x8Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSBlbmFibGVBdWRpb1wiKSksdC51c2VyTXV0ZUF1ZGlvPSExLG4obnVsbCxlPSF0LnBlZXJNdXRlQXVkaW8mJnQuX3VubXV0ZUF1ZGlvKCkpLGV9LHQuZGlzYWJsZUF1ZGlvPWZ1bmN0aW9uKCl7dmFyIGU9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmRpc2FibGVBdWRpb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7Yy5kZWZhdWx0LmRlcHJlY2F0ZShcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLmRpc2FibGVBdWRpbyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlIFN0cmVhbS5tdXRlQXVkaW8gaW5zdGVhZFwiKSksdC51c2VyTXV0ZUF1ZGlvJiZjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVXNlciBhbHJlYWR5IGRpc2FibGVBdWRpb1wiKSksdC51c2VyTXV0ZUF1ZGlvPSEwO3ZhciBuPXQuX211dGVBdWRpbygpO3JldHVybiBlKG51bGwsbiksbn0sdC5lbmFibGVWaWRlbz1mdW5jdGlvbigpe3ZhciBlLG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmVuYWJsZVZpZGVvXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm4gYy5kZWZhdWx0LmRlcHJlY2F0ZShcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLmVuYWJsZVZpZGVvIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgU3RyZWFtLnVubXV0ZVZpZGVvIGluc3RlYWRcIikpLHQudXNlck11dGVWaWRlb3x8Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSBlbmFibGVWaWRlb1wiKSksdC51c2VyTXV0ZVZpZGVvPSExLHQubG93U3RyZWFtJiYodC5sb3dTdHJlYW0udXNlck11dGVWaWRlbz0hMSksbihudWxsLGU9IXQucGVlck11dGVWaWRlbyYmdC5fdW5tdXRlVmlkZW8oKSksZX0sdC5kaXNhYmxlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uZGlzYWJsZVZpZGVvXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtjLmRlZmF1bHQuZGVwcmVjYXRlKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBTdHJlYW0uZGlzYWJsZVZpZGVvIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBVc2UgU3RyZWFtLm11dGVWaWRlbyBpbnN0ZWFkXCIpKSx0LnVzZXJNdXRlVmlkZW8mJmMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGFscmVhZHkgZGlzYWJsZVZpZGVvXCIpKSx0LnVzZXJNdXRlVmlkZW89ITAsdC5sb3dTdHJlYW0mJih0Lmxvd1N0cmVhbS51c2VyTXV0ZVZpZGVvPSEwKTt2YXIgbj10Ll9tdXRlVmlkZW8oKTtyZXR1cm4gZShudWxsLG4pLG59LHQudW5tdXRlQXVkaW89ZnVuY3Rpb24oKXt2YXIgZSxuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS51bm11dGVBdWRpb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuIHQudXNlck11dGVBdWRpb3x8Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSB1bm11dGVBdWRpb1wiKSksdC51c2VyTXV0ZUF1ZGlvPSExLG4obnVsbCxlPSF0LnBlZXJNdXRlQXVkaW8mJnQuX3VubXV0ZUF1ZGlvKCkpLGV9LHQubXV0ZUF1ZGlvPWZ1bmN0aW9uKCl7dmFyIGU9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLm11dGVBdWRpb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7dC51c2VyTXV0ZUF1ZGlvJiZjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVXNlciBhbHJlYWR5IG11dGVBdWRpb1wiKSksdC51c2VyTXV0ZUF1ZGlvPSEwO3ZhciBuPXQuX211dGVBdWRpbygpO3JldHVybiBlKG51bGwsbiksbn0sdC51bm11dGVWaWRlbz1mdW5jdGlvbigpe3ZhciBlLG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLnVubXV0ZVZpZGVvXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm4gdC51c2VyTXV0ZVZpZGVvfHxjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVXNlciBhbHJlYWR5IHVubXV0ZVZpZGVvXCIpKSx0LnVzZXJNdXRlVmlkZW89ITEsdC5sb3dTdHJlYW0mJih0Lmxvd1N0cmVhbS51c2VyTXV0ZVZpZGVvPSExKSxuKG51bGwsZT0hdC5wZWVyTXV0ZVZpZGVvJiZ0Ll91bm11dGVWaWRlbygpKSxlfSx0Lm11dGVWaWRlbz1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5tdXRlVmlkZW9cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3QudXNlck11dGVWaWRlbyYmYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSBtdXRlVmlkZW9cIikpLHQudXNlck11dGVWaWRlbz0hMCx0Lmxvd1N0cmVhbSYmKHQubG93U3RyZWFtLnVzZXJNdXRlVmlkZW89ITApO3ZhciBuPXQuX211dGVWaWRlbygpO3JldHVybiBlKG51bGwsbiksbn0sdC5fdW5tdXRlQXVkaW89ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVbm11dGVkIGF1ZGlvIHN0cmVhbSB3aXRoIGlkIFwiKSx0LnN0cmVhbUlkKSx0Ll9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cyghMSksISghdC5oYXNBdWRpbygpfHwhdC5pbml0aWFsaXplZHx8dm9pZCAwPT09dC5zdHJlYW18fCEwPT09dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkKSYmKHQuX29uQXVkaW9Vbm11dGUmJnQuX29uQXVkaW9Vbm11dGUoKSx0LnBjJiYodC5wYy5pc0F1ZGlvTXV0ZT0hMSksdC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkPSEwLCEwKX0sdC5faXNBdWRpb011dGVkPWZ1bmN0aW9uKCl7aWYodC5zdHJlYW0mJnQuaGFzQXVkaW8oKSl7dmFyIGU9dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtyZXR1cm4gZS5sZW5ndGg+MCYmIWVbMF0uZW5hYmxlZH1yZXR1cm4hMX0sdC5faXNWaWRlb011dGVkPWZ1bmN0aW9uKCl7aWYodC5zdHJlYW0mJnQuaGFzVmlkZW8oKSl7dmFyIGU9dC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtyZXR1cm4gZS5sZW5ndGg+MCYmIWVbMF0uZW5hYmxlZH1yZXR1cm4hMX0sdC5fbXV0ZUF1ZGlvPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gTXV0ZWQgYXVkaW8gc3RyZWFtIHdpdGggaWQgXCIpLHQuc3RyZWFtSWQpLHQuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzKCEwKSwhISh0Lmhhc0F1ZGlvKCkmJnQuaW5pdGlhbGl6ZWQmJnZvaWQgMCE9PXQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQpJiYodC5fb25BdWRpb011dGUmJnQuX29uQXVkaW9NdXRlKCksdC5wYyYmKHQucGMuaXNBdWRpb011dGU9ITApLHQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZD0hMSx0LnNpZCYmZi5yZXBvcnQuYXVkaW9TZW5kaW5nU3RvcHBlZCh0LnNpZCx7c3VjYzohMCxyZWFzb246XCJtdXRlQXVkaW9cIn0pLCEwKX0sdC5fdW5tdXRlVmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVbm11dGVkIHZpZGVvIHN0cmVhbSB3aXRoIGlkXCIpLHQuc3RyZWFtSWQpLCEoIXQuaW5pdGlhbGl6ZWR8fHZvaWQgMD09PXQuc3RyZWFtfHwhdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGh8fCEwPT09dC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkKSYmKHQuX29uVmlkZW9Vbm11dGUmJnQuX29uVmlkZW9Vbm11dGUoKSx0LnBjJiYodC5wYy5pc1ZpZGVvTXV0ZT0hMSksdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkPSEwLHQubG93U3RyZWFtJiZ0Lmxvd1N0cmVhbS5fdW5tdXRlVmlkZW8oKSwhMCl9LHQuX211dGVWaWRlbz1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIE11dGVkIHZpZGVvIHN0cmVhbSB3aXRoIGlkXCIpLHQuc3RyZWFtSWQpLCEhKHQuaW5pdGlhbGl6ZWQmJnZvaWQgMCE9PXQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCYmdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkKSYmKHQuX29uVmlkZW9NdXRlJiZ0Ll9vblZpZGVvTXV0ZSgpLHQucGMmJih0LnBjLmlzVmlkZW9NdXRlPSEwKSx0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQ9ITEsdC5sb3dTdHJlYW0mJnQubG93U3RyZWFtLl9tdXRlVmlkZW8oKSx0LnNpZCYmZi5yZXBvcnQudmlkZW9TZW5kaW5nU3RvcHBlZCh0LnNpZCx7c3VjYzohMCxyZWFzb246XCJtdXRlVmlkZW9cIn0pLCEwKX0sdC5hZGRUcmFjaz1mdW5jdGlvbihyKXtpZih0LmF1ZGlvJiZcImF1ZGlvXCI9PT1yLmtpbmQpYy5kZWZhdWx0Lndhcm5pbmcoXCJhbHJlYWR5IGFkZGVkIGF1ZGlvIHRyYWNrXCIpO2Vsc2UgaWYodC52aWRlbyYmXCJ2aWRlb1wiPT09ci5raW5kKWMuZGVmYXVsdC53YXJuaW5nKFwiYWxyZWFkeSBhZGRlZCB2aWRlbyB0cmFja1wiKTtlbHNle3ZhciBpPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5hZGRUcmFja1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYodC5wYyYmdC5wYy5hZGRUcmFjayhyLHQuc3RyZWFtKSxcImF1ZGlvXCI9PXIua2luZCl7dC5fY2xlYW51cEF1ZGlvTWl4aW5nKCk7dmFyIG89bmV3IE1lZGlhU3RyZWFtO3QudXNlck11dGVBdWRpbyYmKHIuZW5hYmxlZD0hMSksby5hZGRUcmFjayhyKTt2YXIgYT10LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO2EmJm8uYWRkVHJhY2soYSksdC5hdWRpbz0hMCxlLmF1ZGlvPSEwLHQuc3RyZWFtPW8sdC5hdWRpb0xldmVsSGVscGVyPW51bGwsdC5wbGF5ZXImJnQucGxheWVyLnZpZGVvJiYodC5wbGF5ZXIudmlkZW8uc3JjT2JqZWN0PXQuc3RyZWFtKX1lbHNlIHQudXNlck11dGVWaWRlbyYmKHIuZW5hYmxlZD0hMSksdC5zdHJlYW0uYWRkVHJhY2sociksdC52aWRlbz0hMCxlLnZpZGVvPSEwO3Iub25lbmRlZHx8KHIub25lbmRlZD1uKSxpKCl9fSx0LnJlbW92ZVRyYWNrPWZ1bmN0aW9uKG4pe2lmKG4paWYodC5hdWRpb3x8XCJhdWRpb1wiIT09bi5raW5kKWlmKHQudmlkZW98fFwidmlkZW9cIiE9PW4ua2luZCl7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLnJlbW92ZVRyYWNrXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTt0LnBjJiZ0LnBjLnJlbW92ZVRyYWNrKG4sdC5zdHJlYW0pLHQuc3RyZWFtLnJlbW92ZVRyYWNrKG4pLHQuX2NsZWFudXBBdWRpb01peGluZygpLFwiYXVkaW9cIj09PW4ua2luZD8odC5hdWRpbz0hMSxlLmF1ZGlvPSExKToodC52aWRlbz0hMSxlLnZpZGVvPSExKSx0LmF1ZGlvTGV2ZWxIZWxwZXI9bnVsbCxcImxpdmVcIj09bi5yZWFkeVN0YXRlJiYobi5zdG9wKCksYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBUcmFjayBcIikuY29uY2F0KG4ua2luZCxcIiBTdG9wcGVkXCIpKSkscigpfWVsc2UgYy5kZWZhdWx0Lndhcm5pbmcoXCJhbHJlYWR5IHJlbW92ZWQgdmlkZW8gdHJhY2tcIik7ZWxzZSBjLmRlZmF1bHQud2FybmluZyhcImFscmVhZHkgcmVtb3ZlZCBhdWRpbyB0cmFja1wiKTtlbHNlIGMuZGVmYXVsdC53YXJuaW5nKFwidHJhY2sgZG9lc24ndCBleGlzdC5cIil9LHQuc2V0QXVkaW9PdXRwdXQ9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByJiZyKGUpO24mJm4odCl9LG5hbWU6XCJTdHJlYW0uc2V0QXVkaW9PdXRwdXRcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVybiBPYmplY3QoUy5pc1ZhbGlkU3RyaW5nKShlLDEsMjU1KT8odC5hdWRpb091dHB1dD1lLHQucGxheWVyP3ZvaWQgdC5wbGF5ZXIuc2V0QXVkaW9PdXRwdXQoZSwoZnVuY3Rpb24oKXtyZXR1cm4gaSgpfSksaSk6aSgpKTooYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBzZXRBdWRpb091dHB1dCBJbnZhbGlkIFBhcmFtZXRlclwiKSxlKSxpKHUuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUikpfSx0LnBsYXk9ZnVuY3Rpb24oZSxuLHIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSxjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIHBsYXkoKS5cIiksZSxuKTt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0ucGxheVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLGNhbGxiYWNrOnJ9KTtpZihPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShlLFwiZWxlbWVudElEXCIpLE9iamVjdChTLmlzRW1wdHkpKG4pfHwoT2JqZWN0KFMuaXNFbXB0eSkobi5maXQpfHxPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkobi5maXQsXCJmaXRcIixbXCJjb3ZlclwiLFwiY29udGFpblwiXSksT2JqZWN0KFMuaXNFbXB0eSkobi5tdXRlZCl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShuLm11dGVkLFwibXV0ZWRcIikpLHQucGxheWVyKWMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBTdHJlYW0ucGxheSgpOiBTdHJlYW0gaXMgYWxyZWFkeSBwbGF5aW5nLiBGYWxsYmFjayB0byByZXN1bWUgc3RyZWFtXCIpKSx0LnJlc3VtZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aShudWxsKX0pKS5jYXRjaChpKTtlbHNle3QuZWxlbWVudElEPWUsdC5wbGF5T3B0aW9ucz1uLCF0LmxvY2FsfHx0LnZpZGVvfHx0LnNjcmVlbj8odC5wbGF5ZXI9bmV3IGcoe2lkOnQuZ2V0SWQoKSxzdHJlYW06dCxlbGVtZW50SUQ6ZSxvcHRpb25zOm59KSx0LmxvY2FsJiZ5LmEuYXBwbHlFZmZlY3RJblBsYXllcih0KSk6dC5oYXNBdWRpbygpJiYodC5wbGF5ZXI9bmV3IGcoe2lkOnQuZ2V0SWQoKSxzdHJlYW06dCxlbGVtZW50SUQ6ZSxvcHRpb25zOm59KSk7dmFyIG89e3ZpZGVvOm51bGwsYXVkaW86bnVsbH0sYT1mdW5jdGlvbiBlKG4pe2lmKG9bbi5tZWRpYVR5cGVdPW4sby52aWRlbyYmby5hdWRpbylpZih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5ZXItc3RhdHVzLWNoYW5nZVwiLGUpLG8udmlkZW8uaXNFcnJvclN0YXRlfHxvLmF1ZGlvLmlzRXJyb3JTdGF0ZSl7dmFyIHI9by52aWRlby5pc0Vycm9yU3RhdGU/by52aWRlbzpvLmF1ZGlvO2koe2lzRXJyb3JTdGF0ZTohMCxzdGF0dXM6ci5zdGF0dXMscmVhc29uOnIucmVhc29uLHZpZGVvOm8udmlkZW8sYXVkaW86by5hdWRpb30pfWVsc2VcImFib3J0ZWRcIj09PW8udmlkZW8uc3RhdHVzJiZcImFib3J0ZWRcIj09PW8uYXVkaW8uc3RhdHVzP2koe3N0YXR1czpcImFib3J0ZWRcIixyZWFzb246XCJzdG9wXCIsdmlkZW86by52aWRlbyxhdWRpbzpvLmF1ZGlvfSk6aShudWxsKX07dC5vbihcInBsYXllci1zdGF0dXMtY2hhbmdlXCIsYSksdC5hdWRpb091dHB1dCYmdC5wbGF5ZXIuc2V0QXVkaW9PdXRwdXQodC5hdWRpb091dHB1dCksdm9pZCAwIT09dC5hdWRpb0xldmVsJiZ0LnBsYXllci5zZXRBdWRpb1ZvbHVtZSh0LmF1ZGlvTGV2ZWwpLHQuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzKCExKX19LHQuc3RvcD1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5zdG9wXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0b3Agc3RyZWFtIHBsYXllciB3aXRoIGlkIFwiKSx0LnN0cmVhbUlkKSx0LnBsYXllcj8oeS5hLnJlbW92ZUVmZmVjdEZyb21Mb2NhbFBsYXllcih0KSx0LnBsYXllci5kZXN0cm95KCksZGVsZXRlIHQucGxheWVyKTpjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbS5zdG9wKCk6IFN0cmVhbSBpcyBub3QgcGxheWluZ1wiKSksdC5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoITApLGUoKX0sdC5pc1BsYXlpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hIXQucGxheWVyfSx0LmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuISF0LnBsYXllciYmKCEhKHQucGxheWVyLnZpZGVvJiZ0LnBsYXllci52aWRlby5wYXVzZWQmJnQucGxheWVyLm1lZGlhRWxlbUV4aXN0cyh0LnBsYXllci52aWRlbykpfHwhISh0LnBsYXllci5hdWRpbyYmdC5wbGF5ZXIuYXVkaW8ucGF1c2VkJiZ0LnBsYXllci5tZWRpYUVsZW1FeGlzdHModC5wbGF5ZXIuYXVkaW8pKSl9LHQucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gdC5wbGF5ZXI/KHQucGxheWVyLnZpZGVvJiZ0LnBsYXllci52aWRlby5wbGF5JiYoZT10LnBsYXllci52aWRlby5wbGF5KCkpLGU9ZXx8UHJvbWlzZS5yZXNvbHZlKCksdC5wbGF5ZXIuYXVkaW8mJnQucGxheWVyLmF1ZGlvLnBsYXkmJihuPXQucGxheWVyLmF1ZGlvLnBsYXkoKSksbj1ufHxQcm9taXNlLnJlc29sdmUoKSxQcm9taXNlLmFsbChbZSxuXSkpOlByb21pc2UucmVqZWN0KFwiTk9fUExBWUVSX0ZPVU5EXCIpfSx0LmdldFZpZGVvVHJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uZ2V0VmlkZW9UcmFja1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYodC5zdHJlYW0mJnQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKXt2YXIgbj10LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO2lmKG4pcmV0dXJuIGMuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBnZXRWaWRlb1RyYWNrXCIpLG4pLGUoKSxufWMuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBnZXRWaWRlb1RyYWNrIE5vbmVcIikpLGUobnVsbCxcImdldFZpZGVvVHJhY2sgTm9uZVwiKX0sdC5nZXRBdWRpb1RyYWNrPWZ1bmN0aW9uKCl7dmFyIGU9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmdldEF1ZGlvVHJhY2tcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcyl7dmFyIG49dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtpZihuKXJldHVybiBjLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gZ2V0QXVkaW9UcmFja3NcIiksbiksZSgpLG59Yy5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIGdldEF1ZGlvVHJhY2tzIE5vbmVcIikpLGUobnVsbCxcImdldEF1ZGlvVHJhY2tzIE5vbmVcIil9LHQuX2hhc1ZpZGVvVHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuISEodC5zdHJlYW0mJnQuc3RyZWFtLmdldFZpZGVvVHJhY2tzJiZ0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKX0sdC5faGFzQXVkaW9UcmFja3M9ZnVuY3Rpb24oKXtyZXR1cm4hISh0LnN0cmVhbSYmdC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MmJnQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pfSx0Ll9yZXBsYWNlTWVkaWFTdHJlYW1UcmFjaz1mdW5jdGlvbihlLG4scil7aWYodC5zdHJlYW0pe2lmKFwidmlkZW9cIj09ZS5raW5kKXtpZihvPXQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0pcmV0dXJuIHQudXNlck11dGVWaWRlbyYmKGUuZW5hYmxlZD0hMSksdC5zdHJlYW0ucmVtb3ZlVHJhY2sobyksdC5zdHJlYW0uYWRkVHJhY2soZSksYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBfcmVwbGFjZU1lZGlhU3RyZWFtVHJhY2sgXCIpLmNvbmNhdChlLmtpbmQsXCIgU1VDQ0VTU1wiKSksXCJsaXZlXCI9PW8ucmVhZHlTdGF0ZSYmKG8uc3RvcCgpLGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVHJhY2sgXCIpLmNvbmNhdChvLmtpbmQsXCIgU3RvcHBlZFwiKSkpLG4mJm4oKTt2YXIgaT1cIk1FRElBU1RSRUFNX1RSQUNLX05PVF9GT1VORFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIE1FRElBU1RSRUFNX1RSQUNLX05PVF9GT1VORCBcIikuY29uY2F0KGUua2luZCkpLHIoaSl9aWYoXCJhdWRpb1wiPT1lLmtpbmQpe3ZhciBvO2lmKG89dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSl7dC51c2VyTXV0ZUF1ZGlvJiYoZS5lbmFibGVkPSExKTt2YXIgYT1uZXcgTWVkaWFTdHJlYW07YS5hZGRUcmFjayhlKTt2YXIgcz10LnN0cmVhbSYmdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtyZXR1cm4gcyYmYS5hZGRUcmFjayhzKSx0LnN0cmVhbT1hLHQuYXVkaW9MZXZlbEhlbHBlcj1udWxsLHQucGxheWVyJiZ0LnBsYXllci52aWRlbyYmKHQucGxheWVyLnZpZGVvLnNyY09iamVjdD10LnN0cmVhbSksYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBfcmVwbGFjZU1lZGlhU3RyZWFtVHJhY2sgU1VDQ0VTU1wiKSksXCJsaXZlXCI9PW8ucmVhZHlTdGF0ZSYmKG8uc3RvcCgpLGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVHJhY2sgXCIpLmNvbmNhdChvLmtpbmQsXCIgU3RvcHBlZFwiKSkpLG4mJm4oKX1pPVwiTUVESUFTVFJFQU1fVFJBQ0tfTk9UX0ZPVU5EXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gTUVESUFTVFJFQU1fVFJBQ0tfTk9UX0ZPVU5EIFwiKS5jb25jYXQoZS5raW5kKSkscihpKX1pPVwiSU5WQUxJRF9UUkFDS19UWVBFXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gX3JlcGxhY2VNZWRpYVN0cmVhbVRyYWNrIFwiKS5jb25jYXQoaSxcIiBcIikuY29uY2F0KGUua2luZCkpLHImJnIoaSl9aT1cIk5PX1NUUkVBTV9GT1VORFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIF9yZXBsYWNlTWVkaWFTdHJlYW1UcmFjayBcIikuY29uY2F0KGkpKSxyJiZyKGkpfSx0LnJlcGxhY2VUcmFjaz1mdW5jdGlvbihlLHIsaSl7dmFyIG89Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIGkmJmkoZSk7ciYmcih0KX0sbmFtZTpcIlN0cmVhbS5yZXBsYWNlVHJhY2tcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVybiBlJiZlLmtpbmQ/KHQuX2NsZWFudXBBdWRpb01peGluZygpLGUub25lbmRlZHx8KGUub25lbmRlZD1uKSx0LnBjJiZ0LnBjLmhhc1NlbmRlciYmdC5wYy5oYXNTZW5kZXIoZS5raW5kKT92b2lkIHQucGMucmVwbGFjZVRyYWNrKGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gUGVlckNvbm5lY3Rpb24ucmVwbGFjZVRyYWNrIFwiKS5jb25jYXQoZS5raW5kLFwiIFNVQ0NFU1NcIikpLHQuX3JlcGxhY2VNZWRpYVN0cmVhbVRyYWNrKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBvKG51bGwsZSl9KSxvKX0pLChmdW5jdGlvbihuKXtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBQZWVyQ29ubmVjdGlvbi5yZXBsYWNlVHJhY2sgXCIpLmNvbmNhdChlLmtpbmQsXCIgRmFpbGVkIFwiKS5jb25jYXQobikpLG8obil9KSk6dC5fcmVwbGFjZU1lZGlhU3RyZWFtVHJhY2soZSwoZnVuY3Rpb24oZSl7cmV0dXJuIG8obnVsbCxlKX0pLG8pKTpvKFwiSU5WQUxJRF9UUkFDS1wiKX0sdC5zZXRBdWRpb1ZvbHVtZT1mdW5jdGlvbihlKXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uc2V0QXVkaW9Wb2x1bWVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKGUsXCJsZXZlbFwiLDAsMTAwKSx0LmF1ZGlvTGV2ZWw9ZSx0LnBsYXllciYmdC5wbGF5ZXIuc2V0QXVkaW9Wb2x1bWUoZSksbigpfSx0LmdldFN0YXRzPWZ1bmN0aW9uKGUsbixyKXt2YXIgYT1bXTthLnB1c2godC5fZ2V0UENTdGF0cyhyKSksYS5wdXNoKG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt2YXIgbj17fTt0LnBjJiZ0LnBjLmlzU3Vic2NyaWJlcj9udWxsIT09d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXCJGaXJlZm94XCIpJiYoT2JqZWN0KHYuYikobixcInZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHRcIix0LnZpZGVvSGVpZ2h0KSxPYmplY3Qodi5iKShuLFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoXCIsdC52aWRlb1dpZHRoKSk6dC5wYyYmIXQucGMuaXNTdWJzY3JpYmVyJiYoKE9iamVjdChvLmlzU2FmYXJpKSgpfHxPYmplY3Qoby5pc0ZpcmVGb3gpKCkpJiYoT2JqZWN0KHYuYikobixcInZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHRcIix0LnZpZGVvSGVpZ2h0KSxPYmplY3Qodi5iKShuLFwidmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoXCIsdC52aWRlb1dpZHRoKSksKE9iamVjdChvLmlzU2FmYXJpKSgpfHxPYmplY3Qoby5pc0ZpcmVGb3gpKCkpJiZ0LnVwbGlua1N0YXRzJiZPYmplY3Qodi5iKShuLFwidmlkZW9TZW5kUGFja2V0c0xvc3RcIix0LnVwbGlua1N0YXRzLnVwbGlua19jdW11bGF0aXZlX2xvc3QpKSxlKG4pfSkpKSxhLnB1c2gobmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciBuPXt9O3JldHVybiB0LnRyYWZmaWNfc3RhdHMmJnQucGMmJnQucGMuaXNTdWJzY3JpYmVyPyhPYmplY3Qodi5iKShuLFwiYWNjZXNzRGVsYXlcIix0LnRyYWZmaWNfc3RhdHMuYWNjZXNzX2RlbGF5KSxPYmplY3Qodi5iKShuLFwiZW5kVG9FbmREZWxheVwiLHQudHJhZmZpY19zdGF0cy5lMmVfZGVsYXkpLE9iamVjdCh2LmIpKG4sXCJ2aWRlb1JlY2VpdmVEZWxheVwiLHQudHJhZmZpY19zdGF0cy52aWRlb19kZWxheSksT2JqZWN0KHYuYikobixcImF1ZGlvUmVjZWl2ZURlbGF5XCIsdC50cmFmZmljX3N0YXRzLmF1ZGlvX2RlbGF5KSk6dC50cmFmZmljX3N0YXRzJiZ0LnBjJiYhdC5wYy5pc1N1YnNjcmliZXImJk9iamVjdCh2LmIpKG4sXCJhY2Nlc3NEZWxheVwiLHQudHJhZmZpY19zdGF0cy5hY2Nlc3NfZGVsYXkpLGUobil9KSkpLFByb21pc2UuYWxsKGEpLnRoZW4oKGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj17fSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPW5bb107aSgpKHIsYSl9ZSYmc2V0VGltZW91dChlLmJpbmQodCxyKSwwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7biYmc2V0VGltZW91dChuLmJpbmQodCxlKSwwKX0pKX0sdC5fZ2V0UENTdGF0cz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7aWYoIXQucGN8fFwiZXN0YWJsaXNoZWRcIiE9PXQucGMuc3RhdGV8fCF0LnBjLmdldFN0YXRzKXtyZXR1cm4gcihcIlBFRVJfQ09OTkVDVElPTl9OT1RfRVNUQUJMSVNIRURcIil9dC5wYy5nZXRTdGF0cygoZnVuY3Rpb24oZSl7aWYoIXQucGN8fFwiZXN0YWJsaXNoZWRcIiE9PXQucGMuc3RhdGV8fCF0LnBjLmdldFN0YXRzKXtyZXR1cm4gcihcIlBFRVJfQ09OTkVDVElPTl9TVEFURV9DSEFOR0VcIil9dmFyIGk9dC5wYy5pc1N1YnNjcmliZXI/T2JqZWN0KHYuYykoZSk6T2JqZWN0KHYuYSkoZSk7cmV0dXJuIG4oaSl9KSxlKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5wYy5pc1N1YnNjcmliZXI/KE9iamVjdChvLmlzRmlyZUZveCkoKXx8T2JqZWN0KG8uaXNTYWZhcmkpKCkpJiYoZS52aWRlb1JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0JiZcIjBcIiE9PWUudmlkZW9SZWNlaXZlUmVzb2x1dGlvbkhlaWdodHx8ZS52aWRlb1JlY2VpdmVSZXNvbHV0aW9uV2lkdGgmJlwiMFwiIT09ZS52aWRlb1JlY2VpdmVSZXNvbHV0aW9uV2lkdGh8fChPYmplY3Qodi5iKShlLFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbkhlaWdodFwiLHQudmlkZW9IZWlnaHQpLE9iamVjdCh2LmIpKGUsXCJ2aWRlb1JlY2VpdmVSZXNvbHV0aW9uV2lkdGhcIix0LnZpZGVvV2lkdGgpKSk6KChPYmplY3Qoby5pc1NhZmFyaSkoKXx8T2JqZWN0KG8uaXNGaXJlRm94KSgpKSYmKGUudmlkZW9TZW5kUmVzb2x1dGlvbkhlaWdodCYmXCIwXCIhPT1lLnZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHR8fGUudmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoJiZcIjBcIiE9PWUudmlkZW9TZW5kUmVzb2x1dGlvbldpZHRofHwoT2JqZWN0KHYuYikoZSxcInZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHRcIix0LnZpZGVvSGVpZ2h0KSxPYmplY3Qodi5iKShlLFwidmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoXCIsdC52aWRlb1dpZHRoKSkpLChPYmplY3Qoby5pc1NhZmFyaSkoKXx8T2JqZWN0KG8uaXNGaXJlRm94KSgpKSYmdC51cGxpbmtTdGF0cyYmT2JqZWN0KHYuYikoZSxcInZpZGVvU2VuZFBhY2tldHNMb3N0XCIsdC51cGxpbmtTdGF0cy51cGxpbmtfY3VtdWxhdGl2ZV9sb3N0KSksUHJvbWlzZS5yZXNvbHZlKGUpfSkpfSx0LmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtpZih0LmF1ZGlvTGV2ZWxIZWxwZXIpcmV0dXJuIHQuYXVkaW9MZXZlbEhlbHBlci5nZXRBdWRpb0xldmVsKCk7aWYodC5zdHJlYW0pe2lmKDAhPT10LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aClyZXR1cm4gdC5hdWRpb0xldmVsSGVscGVyPW5ldyBoLmF1ZGlvTGV2ZWxIZWxwZXIodC5zdHJlYW0pLHQuYXVkaW9MZXZlbEhlbHBlci5nZXRBdWRpb0xldmVsKCk7Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIGNhbid0IGdldCBhdWRpb0xldmVsIGJlYWN1c2Ugbm8gYXVkaW8gdHJhY2UgaW4gc3RyZWFtXCIpKX1lbHNlIGMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBjYW4ndCBnZXQgYXVkaW9MZXZlbCBiZWFjdXNlIG5vIHN0cmVhbSBleGlzdFwiKSl9LHQuc2V0VmlkZW9Qcm9maWxlKFwiNDgwcF8xXCIpLHQuX3N3aXRjaFZpZGVvRGV2aWNlPWZ1bmN0aW9uKGUsbixyKXtpZihlPT09dC5jYW1lcmFJZClyZXR1cm4gbiYmbigpO3ZhciBvPXt2aWRlbzppKCkoe30sdC52aWRlb0NvbnN0cmFpbnQse2RldmljZUlkOntleGFjdDplfX0pLGF1ZGlvOiExfTtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFwiKS5jb25jYXQobykpLE9iamVjdChtLmIpKG8sKGZ1bmN0aW9uKGkpe3RyeXt2YXIgbz1mdW5jdGlvbigpe3QuaXNQbGF5aW5nKCkmJih0LnN0b3AoKSx0LmVsZW1lbnRJRCYmdC5wbGF5KHQuZWxlbWVudElELHQucGxheU9wdGlvbnMpKSx0LmNhbWVyYUlkPWUsdC52aWRlb0NvbnN0cmFpbnQuZGV2aWNlSWQ9e2V4YWN0OmV9LHQudXNlck11dGVWaWRlbyYmKHQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uZW5hYmxlZD0hMSkseS5hLnJlc3RvcmVWaWRlb0VmZmVjdCh0KS50aGVuKChmdW5jdGlvbigpe24mJm4oKX0pKX07eS5hLmRpc2FibGVWaWRlb0VmZmVjdCh0KS50aGVuKChmdW5jdGlvbigpe3ZhciBlPSExO3dpbmRvdy5SVENSdHBTZW5kZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrJiYoZT0hMCksZT90LnJlcGxhY2VUcmFjayhpLmdldFZpZGVvVHJhY2tzKClbMF0sbyxyKToodC5yZW1vdmVUcmFjayh0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSx0LmFkZFRyYWNrKGkuZ2V0VmlkZW9UcmFja3MoKVswXSksbygpKX0pKX1jYXRjaChlKXtyZXR1cm4gciYmcihlKX19KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHImJnIoZSl9KSl9LHQuX3N3aXRjaEF1ZGlvRGV2aWNlPWZ1bmN0aW9uKGUsbixyKXtpZihlPT09dC5taWNyb3Bob25lSWQpcmV0dXJuIG4mJm4oKTt2YXIgbz17dmlkZW86ITEsYXVkaW86aSgpKHt9LHQuYXVkaW9Db25zdHJhaW50LHtkZXZpY2VJZDp7ZXhhY3Q6ZX19KX07Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBcIiksbyk7dmFyIGE9dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTthJiZhLnN0b3AoKSxPYmplY3QobS5iKShvLChmdW5jdGlvbihpKXt2YXIgbz1mdW5jdGlvbigpe3QuX2NsZWFudXBBdWRpb01peGluZygpLHQudXNlck11dGVBdWRpbyYmKHQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZD0hMSksdC5pc1BsYXlpbmcoKSYmKHQuc3RvcCgpLHQuZWxlbWVudElEJiZ0LnBsYXkodC5lbGVtZW50SUQsdC5wbGF5T3B0aW9ucykpLHQubWljcm9waG9uZUlkPWUsdC5hdWRpb0NvbnN0cmFpbnQuZGV2aWNlSWQ9e2V4YWN0OmV9LG4mJm4oKX07dHJ5e3ZhciBhPSExO3dpbmRvdy5SVENSdHBTZW5kZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrJiYoYT0hMCksYT90LnJlcGxhY2VUcmFjayhpLmdldEF1ZGlvVHJhY2tzKClbMF0sbyxyKToodC5yZW1vdmVUcmFjayh0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKSx0LmFkZFRyYWNrKGkuZ2V0QXVkaW9UcmFja3MoKVswXSksbygpKX1jYXRjaChlKXtyZXR1cm4gciYmcihlKX19KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHImJnIoZSl9KSl9LHQuc3dpdGNoRGV2aWNlPWZ1bmN0aW9uKGUsbixyLGkpe3ZhciBvPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpJiZpKGUpO3ImJnIodCl9LG5hbWU6XCJTdHJlYW0uc3dpdGNoRGV2aWNlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShuLFwiZGV2aWNlSWRcIik7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pblN3aXRjaERldmljZT0hMSxvKCl9LHM9ZnVuY3Rpb24oZSl7dC5pblN3aXRjaERldmljZT0hMSxjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFwiKSxlKSxvKGUpfTtpZih0LmluU3dpdGNoRGV2aWNlKXJldHVybiBvKFwiRGV2aWNlIHN3aXRjaCBpcyBpbiBwcm9jZXNzLlwiKTtpZih0LmluU3dpdGNoRGV2aWNlPSEwLCF0LmxvY2FsKXJldHVybiBzKFwiT25seSB0aGUgbG9jYWwgc3RyZWFtIGNhbiBzd2l0Y2ggdGhlIGRldmljZS5cIik7aWYodC5zY3JlZW4mJlwidmlkZW9cIj09PWUpcmV0dXJuIHMoXCJUaGUgZGV2aWNlIGNhbm5vdCBiZSBzd2l0Y2hlZCBkdXJpbmcgc2NyZWVuLXNoYXJpbmcuXCIpO2lmKCF0LnZpZGVvJiZcInZpZGVvXCI9PT1lKXJldHVybiBzKFwiVmlkZW8gdHJhY2sgbm90IGV4aXN0LlwiKTtpZighdC5hdWRpbyYmXCJhdWRpb1wiPT09ZSlyZXR1cm4gcyhcIkF1ZGlvIHRyYWNrIG5vdCBleGlzdC5cIik7aWYodC52aWRlb1NvdXJjZXx8dC5hdWRpb1NvdXJjZSlyZXR1cm4gcyhcIlRoZSBkZXZpY2UgY2Fubm90IGJlIHN3aXRjaGVkIHdoZW4gdXNpbmcgdmlkZW9Tb3VyY2Ugb3IgYXVkaW9Tb3VyY2UuXCIpO3ZhciBkPSExO2Zvcih2YXIgdSBpbiB0LmF1ZGlvTWl4aW5nLnNvdW5kcyl7dmFyIGw9dC5hdWRpb01peGluZy5zb3VuZHNbdV07aWYobC5zdGF0ZSE9PXQuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUpe2Q9ITA7YnJlYWt9fXZhciBwPXQuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkO2lmKHAmJmQpcmV0dXJuIHMoXCJUaGUgZGV2aWNlIGNhbm5vdCBiZSBzd2l0Y2hlZCB3aGVuIHVzaW5nIGF1ZGlvIE1peGluZy5cIik7RS5hLmdldERldmljZUJ5SWQobiwoZnVuY3Rpb24oKXtpZihcInZpZGVvXCI9PT1lKXQuX3N3aXRjaFZpZGVvRGV2aWNlKG4sYSxzKTtlbHNle2lmKFwiYXVkaW9cIiE9PWUpcmV0dXJuIHMoXCJJbnZhbGlkIHR5cGUuXCIpO3QuX3N3aXRjaEF1ZGlvRGV2aWNlKG4sYSxzKX19KSwoZnVuY3Rpb24oKXtyZXR1cm4gcyhcIlRoZSBkZXZpY2UgZG9lcyBub3QgZXhpc3QuXCIpfSkpfSx0fSxDPWZ1bmN0aW9uKGUpe3ZhciB0PWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiY3JlYXRlU3RyZWFtXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCIsZ2V0U3RhdGVzOmZ1bmN0aW9uKCl7cmV0dXJue2F1ZGlvVHJhY2tFbmFibGU6ZSYmZS5hdWRpb1NvdXJjZT9lLmF1ZGlvU291cmNlLmVuYWJsZWQ6bnVsbCx2aWRlb1RyYWNrRW5hYmxlOmUmJmUudmlkZW9Tb3VyY2U/ZS52aWRlb1NvdXJjZS5lbmFibGVkOm51bGx9fX0pO09iamVjdChTLmNoZWNrVmFsaWRPYmplY3QpKGUsXCJTdHJlYW1TcGVjXCIpO3ZhciBuPWUuc3RyZWFtSUQscj1lLmF1ZGlvLGk9ZS52aWRlbyxvPWUuc2NyZWVuLGE9ZS5zY3JlZW5BdWRpbyxzPShlLmF1ZGlvU291cmNlLGUudmlkZW9Tb3VyY2UsZS5jYW1lcmFJZCksZD1lLmZhY2luZ01vZGUsdT1lLm1pY3JvcGhvbmVJZCxsPWUubWlycm9yLHA9ZS5leHRlbnNpb25JZCxnPWUubWVkaWFTb3VyY2UsbT1lLmF1ZGlvUHJvY2Vzc2luZyx2PWUub3B0aW1pemF0aW9uTW9kZTtpZighT2JqZWN0KFMuaXNFbXB0eSkobikmJiFPYmplY3QoaC5pczMyVWludCkobikmJiFPYmplY3QoUy5pc1ZhbGlkU3RyaW5nKShuLDEsMjU1KSl0aHJvdyBuZXcgRXJyb3IoXCJbU3RyaW5nIHN0cmVhbUlEXSBMZW5ndGggb2YgdGhlIHN0cmluZzogWzEsMjU1XS4gQVNDSUkgY2hhcmFjdGVycyBvbmx5LiBbTnVtYmVyIHN0cmVhbUlEXSBUaGUgdmFsdWUgcmFuZ2UgaXMgVWludDMyXCIpO2lmKE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShyLFwiYXVkaW9cIiksT2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKGksXCJ2aWRlb1wiKSxPYmplY3QoUy5pc0VtcHR5KShvKXx8T2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKG8sXCJzY3JlZW5cIiksT2JqZWN0KFMuaXNFbXB0eSkoYSl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShhLFwic2NyZWVuQXVkaW9cIiksT2JqZWN0KFMuaXNFbXB0eSkocyl8fE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKHMsXCJjYW1lcmFJZFwiLDAsMjU1LCExKSxPYmplY3QoUy5pc0VtcHR5KShkKXx8T2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKGQsXCJmYWNpbmdNb2RlXCIsW1widXNlclwiLFwiZW52aXJvbm1lbnRcIixcImxlZnRcIixcInJpZ2h0XCJdKSxPYmplY3QoUy5pc0VtcHR5KSh1KXx8T2JqZWN0KFMuY2hlY2tWYWxpZFN0cmluZykodSxcIm1pY3JvcGhvbmVJZFwiLDAsMjU1LCExKSxPYmplY3QoUy5pc0VtcHR5KShwKXx8T2JqZWN0KFMuY2hlY2tWYWxpZFN0cmluZykocCxcImV4dGVuc2lvbklkXCIpLE9iamVjdChTLmlzRW1wdHkpKGcpfHxPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkoZyxcIm1lZGlhU291cmNlXCIsW1wic2NyZWVuXCIsXCJhcHBsaWNhdGlvblwiLFwid2luZG93XCJdKSxPYmplY3QoUy5pc0VtcHR5KShsKXx8T2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKGwsXCJtaXJyb3JcIiksIU9iamVjdChTLmlzRW1wdHkpKG0pKXt2YXIgRT1tLkFHQyxfPW0uQUVDLHk9bS5BTlM7T2JqZWN0KFMuaXNFbXB0eSkoRSl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShFLFwiQUdDXCIpLE9iamVjdChTLmlzRW1wdHkpKF8pfHxPYmplY3QoUy5jaGVja1ZhbGlkQm9vbGVhbikoXyxcIkFFQ1wiKSxPYmplY3QoUy5pc0VtcHR5KSh5KXx8T2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKHksXCJBTlNcIil9T2JqZWN0KFMuaXNFbXB0eSkodil8fE9iamVjdChTLmNoZWNrVmFsaWRFbnVtKSh2LFwib3B0aW1pemF0aW9uTW9kZVwiLFtcImRldGFpbFwiLFwibW90aW9uXCJdKSxjLmRlZmF1bHQuZGVidWcoXCJDcmVhdGUgc3RyZWFtXCIpLCEwPT09YSYmITA9PT1yJiZjLmRlZmF1bHQud2FybmluZyhcIkRvIG5vdCBzZXQgYm90aCAnc2NyZWVuQXVkaW8nIGFuZCAnYXVkaW8nIHRvIHRydWUgYXQgdGhlIHNhbWUgdGltZVwiKSxlLnNjcmVlbiYmIXYmJihlLm9wdGltaXphdGlvbk1vZGU9XCJkZXRhaWxcIik7dmFyIFI9TyhlKTtyZXR1cm4gdCgpLFJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksbi5kKHQsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9big1KSxpPW4oNyksbz1uLm4oaSksYT1uKDEyKSxzPW4ubihhKSxjPW4oMTcpLGQ9bi5uKGMpLHU9bigwKSxsPW4oMTUpLGY9bigyKTtmdW5jdGlvbiBwKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGcoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7XCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uKXJldHVybiBBcnJheS5mcm9tKG4pO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gZyhlLHQpfShlKSkpe3ZhciB0PTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIHQ+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3QrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLGksbz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1lW1N5bWJvbC5pdGVyYXRvcl0oKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fWZ1bmN0aW9uIGcoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgbT1mdW5jdGlvbihlKXt2YXIgdD17fSxuPWwuUlRDUGVlckNvbm5lY3Rpb247dC51aWQ9ZS51aWQsdC5pc1ZpZGVvTXV0ZT1lLmlzVmlkZW9NdXRlLHQuaXNBdWRpb011dGU9ZS5pc0F1ZGlvTXV0ZSx0LmlzU3Vic2NyaWJlcj1lLmlzU3Vic2NyaWJlcix0LmNsaWVudElkPWUuY2xpZW50SWQsdC5maWx0ZXJTdGF0c0NhY2hlPVtdLHQub3JpZ2luU3RhdHNDYWNoZT1bXSx0Lmxhc3RUaW1lR2V0U3RhdHM9bnVsbCx0LnBjX2NvbmZpZz17aWNlU2VydmVyczpbXX07dmFyIGk9e2lkOlwib3V0Ym91bmRfYXVkaW9fc3NyY19zZW5kXCIsdHlwZTpcInNzcmNcIixtZWRpYVR5cGU6XCJcIixnb29nQ29kZWNOYW1lOlwib3B1c1wiLGFlY0RpdmVyZ2VudEZpbHRlckZyYWN0aW9uOlwiMFwiLGF1ZGlvSW5wdXRMZXZlbDpcIjBcIixieXRlc1NlbnQ6XCIwXCIscGFja2V0c1NlbnQ6XCIwXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzOlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50OlwiMFwifSxhPXtpZDpcIm91dGJvdW5kX3ZpZGVvX3NzcmNfc2VuZFwiLHR5cGU6XCJzc3JjXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTplLmNvZGVjP2UuY29kZWMudG9VcHBlckNhc2UoKTpcIlwiLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nQWRhcHRhdGlvbkNoYW5nZXM6XCIwXCIsZ29vZ0F2Z0VuY29kZU1zOlwiMFwiLGdvb2dFbmNvZGVVc2FnZVBlcmNlbnQ6XCIwXCIsZ29vZ0ZpcnNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVIZWlnaHRTZW50OlwiMFwiLGdvb2dGcmFtZUhlaWdodElucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhJbnB1dDpcIjBcIixnb29nTmFja3NSZWNlaXZlZDpcIjBcIixnb29nUGxpc1JlY2VpdmVkOlwiMFwiLGdvb2dSdHQ6XCIwXCJ9LGM9e2lkOlwiaW5ib3VuZF9hdWRpb19zc3JjX3JlY3ZcIix0eXBlOlwic3NyY1wiLG1lZGlhVHlwZTpcIlwiLGdvb2dDb2RlY05hbWU6XCJvcHVzXCIsYXVkaW9PdXRwdXRMZXZlbDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIixnb29nQWNjZWxlcmF0ZVJhdGU6XCIwXCIsZ29vZ0N1cnJlbnREZWxheU1zOlwiMFwiLGdvb2dEZWNvZGluZ0NORzpcIjBcIixnb29nRGVjb2RpbmdDVE46XCIwXCIsZ29vZ0RlY29kaW5nQ1RTRzpcIjBcIixnb29nRGVjb2RpbmdOb3JtYWw6XCIwXCIsZ29vZ0RlY29kaW5nUExDOlwiMFwiLGdvb2dEZWNvZGluZ1BMQ0NORzpcIjBcIixnb29nRXhwYW5kUmF0ZTpcIjBcIixnb29nSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ0ppdHRlclJlY2VpdmVkOlwiMFwiLGdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZTpcIjBcIixnb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ1NlY29uZGFyeURlY29kZWRSYXRlOlwiMFwiLGdvb2dTcGVlY2hFeHBhbmRSYXRlOlwiMFwifSxnPXtpZDpcImluYm91bmRfdmlkZW9fc3NyY19yZWN2XCIsdHlwZTpcInNzcmNcIixtZWRpYVR5cGU6XCJcIixnb29nVGFyZ2V0RGVsYXlNczpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixnb29nRGVjb2RlTXM6XCIwXCIsZ29vZ01heERlY29kZU1zOlwiMFwiLGdvb2dSZW5kZXJEZWxheU1zOlwiMFwiLGdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVEZWNvZGVkOlwiMFwiLGdvb2dGcmFtZVJhdGVPdXRwdXQ6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nTWluUGxheW91dERlbGF5TXM6XCIwXCIsZ29vZ05hY2tzU2VudDpcIjBcIixnb29nUGxpc1NlbnQ6XCIwXCIsZ29vZ0ZpcnNTZW50OlwiMFwiLGJ5dGVzUmVjZWl2ZWQ6XCIwXCIscGFja2V0c1JlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZXNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVzRGVjb2RlZDpcIjBcIn0sbT17aWQ6XCJid2Vmb3J2aWRlb1wiLHR5cGU6XCJWaWRlb0J3ZVwiLGdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoOlwiMFwiLGdvb2dBdmFpbGFibGVSZWNlaXZlQmFuZHdpZHRoOlwiMFwiLGdvb2dBY3R1YWxFbmNCaXRyYXRlOlwiMFwiLGdvb2dSZXRyYW5zbWl0Qml0cmF0ZTpcIjBcIixnb29nVGFyZ2V0RW5jQml0cmF0ZTpcIjBcIixnb29nQnVja2V0RGVsYXk6XCIwXCIsZ29vZ1RyYW5zbWl0Qml0cmF0ZTpcIjBcIn07dC5jb249e29wdGlvbmFsOlt7RHRsc1NydHBLZXlBZ3JlZW1lbnQ6ITB9XX0sZS5pY2VTZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXk/dC5wY19jb25maWcuaWNlU2VydmVycz1lLmljZVNlcnZlcnM6KGUuc3R1blNlcnZlclVybCYmKGUuc3R1blNlcnZlclVybCBpbnN0YW5jZW9mIEFycmF5P2Uuc3R1blNlcnZlclVybC5tYXAoKGZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlwiIT09ZSYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmw6ZX0pfSkpOlwic3RyaW5nXCI9PXR5cGVvZiBlLnN0dW5TZXJ2ZXJVcmwmJlwiXCIhPT1lLnN0dW5TZXJ2ZXJVcmwmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXJsOmUuc3R1blNlcnZlclVybH0pKSxlLnR1cm5TZXJ2ZXJzJiYoZS50dXJuU2VydmVycyBpbnN0YW5jZW9mIEFycmF5P2UudHVyblNlcnZlcnMubWFwKChmdW5jdGlvbihlKXtlLnVkcHBvcnQmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUuY3JlZGVudGlhbCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczooZS51c2VUdXJucz9cInR1cm5zOlwiOlwidHVybjpcIikrZS51cmwrXCI6XCIrZS51ZHBwb3J0K1wiP3RyYW5zcG9ydD11ZHBcIn0pLFwic3RyaW5nXCI9PXR5cGVvZiBlLnRjcHBvcnQmJlwiXCIhPT1lLnRjcHBvcnQmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUuY3JlZGVudGlhbCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczooZS51c2VUdXJucz9cInR1cm5zOlwiOlwidHVybjpcIikrZS51cmwrXCI6XCIrZS50Y3Bwb3J0K1wiP3RyYW5zcG9ydD10Y3BcIn0pLCEwPT09ZS5mb3JjZXR1cm4mJih0LnBjX2NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKTp1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHR1cm5TZXJ2ZXJzIGlzIG5vdCBhIGFycmF5XCIpKSkpLHZvaWQgMD09PWUuYXVkaW8mJihlLmF1ZGlvPSEwKSx2b2lkIDA9PT1lLnZpZGVvJiYoZS52aWRlbz0hMCksdC5tZWRpYUNvbnN0cmFpbnRzPXttYW5kYXRvcnk6e09mZmVyVG9SZWNlaXZlVmlkZW86ZS52aWRlbyxPZmZlclRvUmVjZWl2ZUF1ZGlvOmUuYXVkaW99fSx0LnJvYXBTZXNzaW9uSWQ9MTAzO3RyeXt0LnBjX2NvbmZpZy5zZHBTZW1hbnRpY3M9T2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlBMQU5cIiksdC5wZWVyQ29ubmVjdGlvbj1uZXcgbih0LnBjX2NvbmZpZyx0LmNvbil9Y2F0Y2goZSl7ZGVsZXRlIHQucGNfY29uZmlnLnNkcFNlbWFudGljcyx0LnBlZXJDb25uZWN0aW9uPW5ldyBuKHQucGNfY29uZmlnLHQuY29uKTt2YXIgaD10LnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKTtoLnNkcFNlbWFudGljcyYmT2JqZWN0KGYuc2V0UGFyYW1ldGVyKShcIlBMQU5cIixoLnNkcFNlbWFudGljcyl9dC5pY2VDYW5kaWRhdGVUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuaWNlQ2FuZGlkYXRlVGltZXI9bnVsbCx1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdQ2FuZGlkYXRlcyBjb2xsZWN0ZWQ6IFwiKS5jb25jYXQodC5pY2VDYW5kaWRhdGVDb3VudCkpLHQubW9yZUljZUNvbWluZyYmKHQubW9yZUljZUNvbWluZz0hMSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSl9KSxPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpLHQucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7dmFyIG4scixpLG87cj0obj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwKS5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNzcmZseC4rXFxyXFxuLyksaT1uLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc2hvc3QuK1xcclxcbi8pLG89bi5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNyZWxheS4rXFxyXFxuLyksbnVsbD09PXImJm51bGw9PT1pJiZudWxsPT09b3x8dm9pZCAwIT09dC5pY2V8fCF0LmljZUNhbmRpZGF0ZVRpbWVyfHwoY2xlYXJUaW1lb3V0KHQuaWNlQ2FuZGlkYXRlVGltZXIpLHQuaWNlQ2FuZGlkYXRlVGltZXI9bnVsbCx0LmljZT0wLHQubW9yZUljZUNvbWluZz0hMSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSksdC5pY2VDYW5kaWRhdGVDb3VudD10LmljZUNhbmRpZGF0ZUNvdW50KzF9O3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShcImE9eC1nb29nbGUtZmxhZzpjb25mZXJlbmNlXFxyXFxuXCIsXCJcIil9LEU9ZnVuY3Rpb24obil7dmFyIHIsaTtpZigocj1uLm1hdGNoKC9tPXZpZGVvLipcXHJcXG4vKSkmJmUubWluVmlkZW9CVyYmZS5tYXhWaWRlb0JXKXtpPXJbMF0rXCJiPUFTOlwiK2UubWF4VmlkZW9CVytcIlxcclxcblwiO3ZhciBvPTAsYT0wO1wiaDI2NFwiPT09ZS5jb2RlYz8obz1uLnNlYXJjaCgvYT1ydHBtYXA6KFxcZCspIEgyNjRcXC85MDAwMFxcclxcbi8pLGE9bi5zZWFyY2goL0gyNjRcXC85MDAwMFxcclxcbi8pKTpcInZwOFwiPT09ZS5jb2RlYz8obz1uLnNlYXJjaCgvYT1ydHBtYXA6KFxcZCspIFZQOFxcLzkwMDAwXFxyXFxuLyksYT1uLnNlYXJjaCgvVlA4XFwvOTAwMDBcXHJcXG4vKSk6XCJ2cDlcIj09PWUuY29kZWMmJihvPW4uc2VhcmNoKC9hPXJ0cG1hcDooXFxkKykgVlA5XFwvOTAwMDBcXHJcXG4vKSxhPW4uc2VhcmNoKC9WUDlcXC85MDAwMFxcclxcbi8pKSwtMSE9PW8mJi0xIT09YSYmYS1vPjEwJiYoaT1pK1wiYT1mbXRwOlwiK24uc2xpY2Uobys5LGEtMSkrXCIgeC1nb29nbGUtbWluLWJpdHJhdGU9XCIrZS5taW5WaWRlb0JXK1wiXFxyXFxuXCIpLG49KG49bi5yZXBsYWNlKHJbMF0saSkpLnJlcGxhY2UoLzQyMDAxZi9nLFwiNDJlMDFmXCIpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXVNldCBWaWRlbyBCaXRyYXRlIC0gbWluOlwiK2UubWluVmlkZW9CVytcIiBtYXg6XCIrZS5tYXhWaWRlb0JXKX1yZXR1cm4ocj1uLm1hdGNoKC9tPWF1ZGlvLipcXHJcXG4vKSkmJmUubWF4QXVkaW9CVyYmKGk9clswXStcImI9QVM6XCIrZS5tYXhBdWRpb0JXK1wiXFxyXFxuXCIsbj1uLnJlcGxhY2UoclswXSxpKSksbn07dC5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZT1mdW5jdGlvbihuKXt2YXIgcixpPUpTT04ucGFyc2Uobik7dC5pbmNvbWluZ01lc3NhZ2U9aSxcIm5ld1wiPT09dC5zdGF0ZT9cIk9GRkVSXCI9PT1pLm1lc3NhZ2VUeXBlPyhyPXtzZHA6aS5zZHAsdHlwZTpcIm9mZmVyXCJ9LHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihyKSkuY2F0Y2goKGZ1bmN0aW9uKGUpe30pKSx0LnN0YXRlPVwib2ZmZXItcmVjZWl2ZWRcIix0Lm1hcmtBY3Rpb25OZWVkZWQoKSk6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIraS5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKTpcIm9mZmVyLXNlbnRcIj09PXQuc3RhdGU/XCJBTlNXRVJcIj09PWkubWVzc2FnZVR5cGU/KChyPXtzZHA6aS5zZHAsdHlwZTpcImFuc3dlclwifSkuc2RwPXYoci5zZHApLHIuc2RwPUUoci5zZHApLGUuc2NyZWVuJiZcImRldGFpbFwiPT09ZS5vcHRpbWl6YXRpb25Nb2RlJiYodS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudCxcIl0gcmVtb3ZlIHNjcmVlbiBzaGFyZSBhYnMgZXh0XCIpKSxyLnNkcD1yLnNkcC5yZXBsYWNlKC9hPS4qYWJzLXNlbmQtdGltZVxcclxcbi9nLFwiXCIpLnJlcGxhY2UoL2E9Lipnb29nLXJlbWJcXHJcXG4vZyxcIlwiKSksZS5pc1N1YnNjcmliZXImJihyLnNkcD1yLnNkcC5yZXBsYWNlKFwibWlucHRpbWU9MTBcIixcIm1pbnB0aW1lPTEwO3N0ZXJlbz0xOyBzcHJvcC1zdGVyZW89MVwiKSksdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHIpKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpLHQuc3RhdGU9XCJlc3RhYmxpc2hlZFwiKTpcInByLWFuc3dlclwiPT09aS5tZXNzYWdlVHlwZT8ocj17c2RwOmkuc2RwLHR5cGU6XCJwci1hbnN3ZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHIpKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpKTpcIm9mZmVyXCI9PT1pLm1lc3NhZ2VUeXBlP3QuZXJyb3IoXCJOb3Qgd3JpdHRlbiB5ZXRcIik6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIraS5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKTpcImVzdGFibGlzaGVkXCI9PT10LnN0YXRlJiYoXCJPRkZFUlwiPT09aS5tZXNzYWdlVHlwZT8ocj17c2RwOmkuc2RwLHR5cGU6XCJvZmZlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ocikpLmNhdGNoKChmdW5jdGlvbihlKXt9KSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkXCIsdC5tYXJrQWN0aW9uTmVlZGVkKCkpOlwiQU5TV0VSXCI9PT1pLm1lc3NhZ2VUeXBlPygocj17c2RwOmkuc2RwLHR5cGU6XCJhbnN3ZXJcIn0pLnNkcD12KHIuc2RwKSxyLnNkcD1FKHIuc2RwKSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ocikpLmNhdGNoKChmdW5jdGlvbihlKXt9KSkpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK2kubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSkpfSx0LnNldFJ0cFNlbmRlclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgZT1kKCkocy5hLm1hcmsoKGZ1bmN0aW9uIGUobil7dmFyIHIsaSxvO3JldHVybiBzLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYocj10LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKSxjb25zb2xlLmxvZyhcInNlbmRlcnNcIixyKSxpPXIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT09ZS50cmFjay5raW5kfSkpKXtlLm5leHQ9NTticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA1OnJldHVybihvPWkuZ2V0UGFyYW1ldGVycygpKS5kZWdyYWRhdGlvblByZWZlcmVuY2U9bixlLnByZXY9Nyx1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlcnNcIiksbyksZS5uZXh0PTExLGkuc2V0UGFyYW1ldGVycyhvKTtjYXNlIDExOmUubmV4dD0xNjticmVhaztjYXNlIDEzOmUucHJldj0xMyxlLnQwPWUuY2F0Y2goNyksdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBzZXRQYXJhbWV0ZXJzIGZhaWxlZCwgaWdub3JlXCIpKTtjYXNlIDE2OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s3LDEzXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTt2YXIgUz0wLF89MDtyZXR1cm4gdC5nZXRWaWRlb1JlbGF0ZWRTdGF0cz1mdW5jdGlvbihlKXt0LmdldFN0YXRzKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKHQuaXNTdWJzY3JpYmVyKXtpZihcInZpZGVvXCI9PT1uLm1lZGlhVHlwZSYmbi5pZCYmfm4uaWQuaW5kZXhPZihcInJlY3ZcIikpe2lmKHIuaXNDaHJvbWVLZXJuZWwoKSYmK3IuZ2V0QnJvd3NlclZlcnNpb24oKT49NzYpe3ZhciBpPStuLmdvb2dGcmFtZXNSZWNlaXZlZC1TLG89K24uZ29vZ0ZyYW1lc0RlY29kZWQtXzt0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVSYXRlUmVjZWl2ZWRcIixpKSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVSYXRlRGVjb2RlZFwiLG8pLHQuX3NldFN0YXQoZyxcImdvb2dGcmFtZVJhdGVPdXRwdXRcIixvKSxTPStuLmdvb2dGcmFtZXNSZWNlaXZlZCxfPStuLmdvb2dGcmFtZXNEZWNvZGVkfWUmJmUoe21lZGlhVHlwZTpcInZpZGVvXCIscGVlcklkOnQudWlkLGlzVmlkZW9NdXRlOnQuaXNWaWRlb011dGUsZnJhbWVSYXRlUmVjZWl2ZWQ6bi5nb29nRnJhbWVSYXRlUmVjZWl2ZWQsZnJhbWVSYXRlRGVjb2RlZDpuLmdvb2dGcmFtZVJhdGVEZWNvZGVkLGJ5dGVzUmVjZWl2ZWQ6bi5ieXRlc1JlY2VpdmVkLHBhY2tldHNSZWNlaXZlZDpuLnBhY2tldHNSZWNlaXZlZCxwYWNrZXRzTG9zdDpuLnBhY2tldHNMb3N0fSl9fWVsc2VcInZpZGVvXCI9PT1uLm1lZGlhVHlwZSYmbi5pZCYmfm4uaWQuaW5kZXhPZihcInNlbmRcIikmJmUmJmUoe21lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6dC5pc1ZpZGVvTXV0ZSxmcmFtZVJhdGVJbnB1dDpuLmdvb2dGcmFtZVJhdGVJbnB1dCxmcmFtZVJhdGVTZW50Om4uZ29vZ0ZyYW1lUmF0ZVNlbnQsZ29vZ1J0dDpuLmdvb2dSdHR9KX0pKX0pKX0sdC5nZXRBdWRpb1JlbGF0ZWRTdGF0cz1mdW5jdGlvbihlKXt0LmdldFN0YXRzKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QuaXNTdWJzY3JpYmVyJiZcImF1ZGlvXCI9PT1uLm1lZGlhVHlwZSYmbi5pZCYmfm4uaWQuaW5kZXhPZihcInJlY3ZcIikmJmUmJmUoe21lZGlhVHlwZTpcImF1ZGlvXCIscGVlcklkOnQudWlkLGlzQXVkaW9NdXRlOnQuaXNBdWRpb011dGUsZnJhbWVEcm9wcGVkOnBhcnNlSW50KG4uZ29vZ0RlY29kaW5nUExDKStwYXJzZUludChuLmdvb2dEZWNvZGluZ1BMQ0NORykrXCJcIixmcmFtZVJlY2VpdmVkOm4uZ29vZ0RlY29kaW5nQ1ROLGdvb2dKaXR0ZXJSZWNlaXZlZDpuLmdvb2dKaXR0ZXJSZWNlaXZlZCxieXRlc1JlY2VpdmVkOm4uYnl0ZXNSZWNlaXZlZCxwYWNrZXRzUmVjZWl2ZWQ6bi5wYWNrZXRzUmVjZWl2ZWQscGFja2V0c0xvc3Q6bi5wYWNrZXRzTG9zdH0pfSkpfSkpfSx0LmdldFN0YXRzUmF0ZT1mdW5jdGlvbihlKXt0LmdldFN0YXRzKChmdW5jdGlvbih0KXtlKHQpfSkpfSx0LmdldFN0YXRzPWZ1bmN0aW9uKGUsbil7bj0obj1ufHw1MDApPjUwMD81MDA6bix0Lmxhc3RUaW1lR2V0U3RhdHMmJkRhdGUubm93KCktdC5sYXN0VGltZUdldFN0YXRzPG4/ZSYmZSh0LmZpbHRlclN0YXRzQ2FjaGUsdC5vcmlnaW5TdGF0c0NhY2hlKToodC5sYXN0VGltZUdldFN0YXRzPURhdGUubm93KCksdGhpcy5fZ2V0U3RhdHMoKGZ1bmN0aW9uKG4scil7dC5maWx0ZXJTdGF0c0NhY2hlPW4sdC5vcmlnaW5TdGF0c0NhY2hlPXIsZSYmZShuLHIpfSkpKX0sdC5fc2V0U3RhdD1mdW5jdGlvbihlLHQsbil7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKG51bGwhPW4mJm4hPT0xLzAmJm49PW58fChuPTApLGVbdF09bitcIlwiKX0sdC5fcHJvY2Vzc0dldFN0YXRzQWZ0ZXJDaHJvbWU3Nj1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3QubGFzdFN0YXRzfHwodC5sYXN0U3RhdHM9bmV3IE1hcCksdC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBzLGQ9W10sdT1bXSxsPW5ldyBNYXAsZj1uZXcgRGF0ZSxoPXAoci52YWx1ZXMoKSk7dHJ5e2ZvcihoLnMoKTshKHM9aC5uKCkpLmRvbmU7KXt2YXIgdj1zLnZhbHVlO1wiY29kZWNcIiE9di50eXBlP1wiY2FuZGlkYXRlLXBhaXJcIiE9di50eXBlPyhcImluYm91bmQtcnRwXCI9PT12LnR5cGUmJlwidmlkZW9cIj09PXYubWVkaWFUeXBlJiZsLnNldChcImluYm91bmQtdmlkZW9cIix2KSxcImluYm91bmQtcnRwXCI9PT12LnR5cGUmJlwiYXVkaW9cIj09PXYubWVkaWFUeXBlJiZsLnNldChcImluYm91bmQtYXVkaW9cIix2KSxcIm91dGJvdW5kLXJ0cFwiPT09di50eXBlJiZcImF1ZGlvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJvdXRib3VuZC1hdWRpb1wiLHYpLFwib3V0Ym91bmQtcnRwXCI9PT12LnR5cGUmJlwidmlkZW9cIj09PXYubWVkaWFUeXBlJiZsLnNldChcIm91dGJvdW5kLXZpZGVvXCIsdiksXCJ0cmFja1wiPT09di50eXBlJiZcInZpZGVvXCI9PT12LmtpbmQmJnYucmVtb3RlU291cmNlJiZsLnNldChcInJlbW90ZS12aWRlby10cmFja1wiLHYpLFwidHJhY2tcIj09PXYudHlwZSYmXCJhdWRpb1wiPT09di5raW5kJiZ2LnJlbW90ZVNvdXJjZSYmbC5zZXQoXCJyZW1vdGUtYXVkaW8tdHJhY2tcIix2KSxcInJlbW90ZS1pbmJvdW5kLXJ0cFwiPT09di50eXBlJiZcInZpZGVvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJyZW1vdGUtaW5ib3VuZC12aWRlb1wiLHYpLFwicmVtb3RlLWluYm91bmQtcnRwXCI9PT12LnR5cGUmJlwiYXVkaW9cIj09PXYubWVkaWFUeXBlJiZsLnNldChcInJlbW90ZS1pbmJvdW5kLWF1ZGlvXCIsdiksXCJ0cmFja1wiIT09di50eXBlfHxcInZpZGVvXCIhPT12LmtpbmR8fHYucmVtb3RlU291cmNlfHxsLnNldChcImxvY2FsLXZpZGVvLXRyYWNrXCIsdiksXCJ0cmFja1wiIT09di50eXBlfHxcImF1ZGlvXCIhPT12LmtpbmR8fHYucmVtb3RlU291cmNlfHxsLnNldChcImxvY2FsLWF1ZGlvLXRyYWNrXCIsdiksXCJtZWRpYS1zb3VyY2VcIj09PXYudHlwZSYmXCJ2aWRlb1wiPT09di5raW5kJiZsLnNldChcIm1lZGlhLXNvdXJjZS12aWRlb1wiLHYpLFwibWVkaWEtc291cmNlXCI9PT12LnR5cGUmJlwiYXVkaW9cIj09PXYua2luZCYmbC5zZXQoXCJtZWRpYS1zb3VyY2UtYXVkaW9cIix2KSk6dS5wdXNoKHYpOmQucHVzaCh2KX19Y2F0Y2goZSl7aC5lKGUpfWZpbmFsbHl7aC5mKCl9bC5zZXQoXCJjb2RlY1wiLGQpLGwuc2V0KFwiY2FuZGlkYXRlUGFpcnNcIix1KSxsLnNldChcInRpbWVzdGFtcFwiLCtmKTt2YXIgRT1udWxsLFM9bnVsbDtpZihnLnRpbWVzdGFtcD1mLGMudGltZXN0YW1wPWYsaS50aW1lc3RhbXA9ZixpLnRpbWVzdGFtcD1mLG0udGltZXN0YW1wPWYsbi5pc1N1YnNjcmliZXIpKEU9bC5nZXQoXCJpbmJvdW5kLXZpZGVvXCIpKSYmKHQuX3NldFN0YXQoZyxcImlkXCIsXCJpbmJvdW5kX3ZpZGVvX3NzcmNfcmVjdlwiKSx0Ll9zZXRTdGF0KGcsXCJtZWRpYVR5cGVcIixFLm1lZGlhVHlwZSksdC5fc2V0U3RhdChnLFwicGFja2V0c0xvc3RcIixFLnBhY2tldHNMb3N0KSx0Ll9zZXRTdGF0KGcsXCJnb29nRGVjb2RlTXNcIixudWxsKSx0Ll9zZXRTdGF0KGcsXCJnb29nTWF4RGVjb2RlTXNcIixudWxsKSx0Ll9zZXRTdGF0KGcsXCJnb29nUmVuZGVyRGVsYXlNc1wiLG51bGwpLHQuX3NldFN0YXQoZyxcImdvb2dNaW5QbGF5b3V0RGVsYXlNc1wiLG51bGwpLHQuX3NldFN0YXQoZyxcImdvb2dOYWNrc1NlbnRcIixFLm5hY2tDb3VudCksdC5fc2V0U3RhdChnLFwiZ29vZ1BsaXNTZW50XCIsRS5wbGlDb3VudCksdC5fc2V0U3RhdChnLFwiZ29vZ0ZpcnNTZW50XCIsRS5maXJDb3VudCksdC5fc2V0U3RhdChnLFwiYnl0ZXNSZWNlaXZlZFwiLEUuYnl0ZXNSZWNlaXZlZCksdC5fc2V0U3RhdChnLFwicGFja2V0c1JlY2VpdmVkXCIsRS5wYWNrZXRzUmVjZWl2ZWQpKSwoRT1sLmdldChcImluYm91bmQtYXVkaW9cIikpJiYodC5fc2V0U3RhdChjLFwiaWRcIixcImluYm91bmRfYXVkaW9fc3NyY19yZWN2XCIpLHQuX3NldFN0YXQoYyxcIm1lZGlhVHlwZVwiLEUubWVkaWFUeXBlKSx0Ll9zZXRTdGF0KGMsXCJieXRlc1JlY2VpdmVkXCIsRS5ieXRlc1JlY2VpdmVkKSx0Ll9zZXRTdGF0KGMsXCJwYWNrZXRzTG9zdFwiLEUucGFja2V0c0xvc3QpLHQuX3NldFN0YXQoYyxcInBhY2tldHNSZWNlaXZlZFwiLEUucGFja2V0c1JlY2VpdmVkKSx0Ll9zZXRTdGF0KGMsXCJnb29nQWNjZWxlcmF0ZVJhdGVcIixFLnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uKSx0Ll9zZXRTdGF0KGMsXCJnb29nQ3VycmVudERlbGF5TXNcIixFLmppdHRlckJ1ZmZlckRlbGF5KSx0Ll9zZXRTdGF0KGMsXCJnb29nRGVjb2RpbmdDTkdcIixudWxsKSx0Ll9zZXRTdGF0KGMsXCJnb29nRGVjb2RpbmdDVE5cIixudWxsKSx0Ll9zZXRTdGF0KGMsXCJnb29nRGVjb2RpbmdDVFNHXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nTm9ybWFsXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nUExDXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nUExDQ05HXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0ppdHRlclJlY2VpdmVkXCIsRS5qaXR0ZXIpLHQuX3NldFN0YXQoYyxcImdvb2dQcmVmZXJyZWRKaXR0ZXJCdWZmZXJNc1wiLG51bGwpLHQuX3NldFN0YXQoYyxcImdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZVwiLG51bGwpKSwoRT1sLmdldChcInJlbW90ZS12aWRlby10cmFja1wiKSkmJih0Ll9zZXRTdGF0KGcsXCJnb29nVGFyZ2V0RGVsYXlNc1wiLEUuaml0dGVyQnVmZmVyRGVsYXkpLHQuX3NldFN0YXQoZyxcImdvb2dGcmFtZVdpZHRoUmVjZWl2ZWRcIixFLmZyYW1lV2lkdGgpLHQuX3NldFN0YXQoZyxcImdvb2dGcmFtZUhlaWdodFJlY2VpdmVkXCIsRS5mcmFtZUhlaWdodCksdC5fc2V0U3RhdChnLFwiZ29vZ0ppdHRlckJ1ZmZlck1zXCIsRS5qaXR0ZXJCdWZmZXJEZWxheS9FLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCoxZTMpLHQuX3NldFN0YXQoZyxcImdvb2dDdXJyZW50RGVsYXlNc1wiLEUuaml0dGVyQnVmZmVyRGVsYXkpLHQuX3NldFN0YXQoZyxcImdvb2dGcmFtZXNEZWNvZGVkXCIsRS5mcmFtZXNEZWNvZGVkKSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVzUmVjZWl2ZWRcIixFLmZyYW1lc1JlY2VpdmVkKSksKEU9bC5nZXQoXCJyZW1vdGUtYXVkaW8tdHJhY2tcIikpJiYodC5fc2V0U3RhdChjLFwiYXVkaW9PdXRwdXRMZXZlbFwiLDMyNzY3KkUuYXVkaW9MZXZlbCksdC5fc2V0U3RhdChjLFwiZ29vZ0ppdHRlckJ1ZmZlck1zXCIsRS5qaXR0ZXJCdWZmZXJEZWxheS9FLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCoxZTMpLHQuX3NldFN0YXQoYyxcImdvb2dFeHBhbmRSYXRlXCIsRS5jb25jZWFsZWRTYW1wbGVzKSx0Ll9zZXRTdGF0KGMsXCJnb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGVcIixFLmluc2VydGVkU2FtcGxlc0ZvckRlY2VsZXJhdGlvbiksdC5fc2V0U3RhdChjLFwiZ29vZ1NwZWVjaEV4cGFuZFJhdGVcIixFLnNpbGVudENvbmNlYWxlZFNhbXBsZXMpKTtlbHNle3ZhciBfPXQubGFzdFN0YXRzLmdldChcInRpbWVzdGFtcFwiKSx5PXQubGFzdFN0YXRzLmdldChcIm91dGJvdW5kLXZpZGVvXCIpO2lmKChFPWwuZ2V0KFwib3V0Ym91bmQtYXVkaW9cIikpJiYodC5fc2V0U3RhdChpLFwiaWRcIixcIm91dGJvdW5kX2F1ZGlvX3NzcmNfc2VuZFwiKSx0Ll9zZXRTdGF0KGksXCJtZWRpYVR5cGVcIixFLm1lZGlhVHlwZSksdC5fc2V0U3RhdChpLFwiYWVjRGl2ZXJnZW50RmlsdGVyRnJhY3Rpb25cIixudWxsKSx0Ll9zZXRTdGF0KGksXCJieXRlc1NlbnRcIixFLmJ5dGVzU2VudCksdC5fc2V0U3RhdChpLFwicGFja2V0c1NlbnRcIixFLnBhY2tldHNTZW50KSxTPUUudHJhbnNwb3J0SWQpLEU9bC5nZXQoXCJvdXRib3VuZC12aWRlb1wiKSl7aWYodC5fc2V0U3RhdChhLFwiaWRcIixcIm91dGJvdW5kX3ZpZGVvX3NzcmNfc2VuZFwiKSx0Ll9zZXRTdGF0KGEsXCJtZWRpYVR5cGVcIixFLm1lZGlhVHlwZSksdC5fc2V0U3RhdChhLFwiYnl0ZXNTZW50XCIsRS5ieXRlc1NlbnQpLHQuX3NldFN0YXQoYSxcInBhY2tldHNTZW50XCIsRS5wYWNrZXRzU2VudCksdC5fc2V0U3RhdChhLFwiZ29vZ0FkYXB0YXRpb25DaGFuZ2VzXCIsRS5xdWFsaXR5TGltaXRhdGlvbkR1cmF0aW9ucyksdC5fc2V0U3RhdChhLFwiZ29vZ0F2Z0VuY29kZU1zXCIsbnVsbCksdC5fc2V0U3RhdChhLFwiZ29vZ0VuY29kZVVzYWdlUGVyY2VudFwiLG51bGwpLFM9RS50cmFuc3BvcnRJZCxFLnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0JiZ5JiZ5LnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0KXt2YXIgUj0oRS50b3RhbEVuY29kZWRCeXRlc1RhcmdldC15LnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0KS8oK25ldyBEYXRlLV8pO3QuX3NldFN0YXQobSxcImdvb2dUYXJnZXRFbmNCaXRyYXRlXCIsTWF0aC5mbG9vcig4KlIqMWUzKSl9aWYoRS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50JiZ5JiZ5LnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpe3ZhciBUPShFLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQteS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KS8oK25ldyBEYXRlLV8pO3QuX3NldFN0YXQobSxcImdvb2dSZXRyYW5zbWl0Qml0cmF0ZVwiLE1hdGguZmxvb3IoOCpUKjFlMykpfWlmKEUuYnl0ZXNTZW50JiZ5JiZ5LmJ5dGVzU2VudCl7dmFyIEk9KEUuYnl0ZXNTZW50LXkuYnl0ZXNTZW50KS8oK25ldyBEYXRlLV8pO3QuX3NldFN0YXQobSxcImdvb2dUcmFuc21pdEJpdHJhdGVcIixNYXRoLmZsb29yKDgqSSoxZTMpKSx0Ll9zZXRTdGF0KG0sXCJnb29nQWN0dWFsRW5jQml0cmF0ZVwiLE1hdGguZmxvb3IoOCpJKjFlMykpfWlmKEUudG90YWxQYWNrZXRTZW5kRGVsYXkmJnkmJnkudG90YWxQYWNrZXRTZW5kRGVsYXkpe3ZhciBiPShFLnRvdGFsUGFja2V0U2VuZERlbGF5LXkudG90YWxQYWNrZXRTZW5kRGVsYXkpLygrbmV3IERhdGUtXyk7dC5fc2V0U3RhdChtLFwiZ29vZ0J1Y2tldERlbGF5XCIsTWF0aC5mbG9vcigxZTMqYikpfX1pZigoRT1sLmdldChcInJlbW90ZS1pbmJvdW5kLXZpZGVvXCIpKSYmKHQuX3NldFN0YXQoYSxcInBhY2tldHNMb3N0XCIsRS5wYWNrZXRzTG9zdCksdC5fc2V0U3RhdChhLFwiZ29vZ1J0dFwiLEUucm91bmRUcmlwVGltZSkpLChFPWwuZ2V0KFwibG9jYWwtdmlkZW8tdHJhY2tcIikpJiYodC5fc2V0U3RhdChhLFwiZ29vZ0ZyYW1lSGVpZ2h0U2VudFwiLEUuZnJhbWVIZWlnaHQpLHQuX3NldFN0YXQoYSxcImdvb2dGcmFtZVdpZHRoU2VudFwiLEUuZnJhbWVXaWR0aCksdm9pZCAwIT09RS5mcmFtZXNQZXJTZWNvbmQmJnQuX3NldFN0YXQoYSxcImdvb2dGcmFtZVJhdGVTZW50XCIsRS5mcmFtZXNQZXJTZWNvbmQpKSwoRT1sLmdldChcImxvY2FsLWF1ZGlvLXRyYWNrXCIpKSYmKHQuX3NldFN0YXQoaSxcImdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc1wiLEUuZWNob1JldHVybkxvc3MpLHQuX3NldFN0YXQoaSxcImdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50XCIsRS5lY2hvUmV0dXJuTG9zc0VuaGFuY2VtZW50KSksKEU9bC5nZXQoXCJtZWRpYS1zb3VyY2UtdmlkZW9cIikpJiYodC5fc2V0U3RhdChhLFwiZ29vZ0ZyYW1lSGVpZ2h0SW5wdXRcIixFLmhlaWdodCksdC5fc2V0U3RhdChhLFwiZ29vZ0ZyYW1lV2lkdGhJbnB1dFwiLEUud2lkdGgpLHQuX3NldFN0YXQoYSxcImdvb2dGcmFtZVJhdGVJbnB1dFwiLEUuZnJhbWVzUGVyU2Vjb25kKSksKEU9bC5nZXQoXCJtZWRpYS1zb3VyY2UtYXVkaW9cIikpJiZ0Ll9zZXRTdGF0KGksXCJhdWRpb0lucHV0TGV2ZWxcIiwzMjc2NypFLnRvdGFsQXVkaW9FbmVyZ3kpLChFPWwuZ2V0KFwiaW5ib3VuZC12aWRlb1wiKSkmJih0Ll9zZXRTdGF0KGEsXCJnb29nRmlyc1JlY2VpdmVkXCIsRS5maXJDb3VudCksdC5fc2V0U3RhdChhLFwiZ29vZ05hY2tzUmVjZWl2ZWRcIixFLm5hY2tDb3VudCksdC5fc2V0U3RhdChhLFwiZ29vZ1BsaXNSZWNlaXZlZFwiLEUucGxpQ291bnQpKSxTKWwuZ2V0KFwiY2FuZGlkYXRlUGFpcnNcIikubWFwKChmdW5jdGlvbihlKXtTPT1lLnRyYW5zcG9ydElkJiZ0Ll9zZXRTdGF0KG0sXCJnb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aFwiLGUuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlKX0pKTtlbHNle3ZhciBBPWwuZ2V0KFwiY2FuZGlkYXRlUGFpcnNcIilbMF07QSYmdC5fc2V0U3RhdChtLFwiZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGhcIixBLmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZSl9fXQubGFzdFN0YXRzPWw7dmFyIE89W28oKSh7fSxhKSxvKCkoe30saSksbygpKHt9LGcpLG8oKSh7fSxjKSxvKCkoe30sbSldO08ucHVzaCh7aWQ6XCJ0aW1lXCIsc3RhcnRUaW1lOnQuY29ubmVjdGVkVGltZSx0aW1lc3RhbXA6bmV3IERhdGV9KSxlKE8pfSkpfSx0Ll9wcm9jZXNzR2V0U3RhdHNCZWZvcmVDaHJvbWU3Nj1mdW5jdGlvbihlKXt0LnBlZXJDb25uZWN0aW9uLmdldFN0YXRzKChmdW5jdGlvbihuKXt2YXIgcj1bXSxzPVtdLGQ9bnVsbDtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3QmJihzLnB1c2godCksZD10LnRpbWVzdGFtcCxcIlZpZGVvQndlXCI9PT10LnR5cGU/bT10OnQuaWQuaW5kZXhPZihcIl9zZW5kXCIpPi0xJiZcInZpZGVvXCI9PT10Lm1lZGlhVHlwZT9hPXQ6dC5pZC5pbmRleE9mKFwiX3NlbmRcIik+LTEmJlwiYXVkaW9cIj09PXQubWVkaWFUeXBlP2k9dDp0LmlkLmluZGV4T2YoXCJfcmVjdlwiKT4tMSYmXCJ2aWRlb1wiPT09dC5tZWRpYVR5cGU/Zz10OnQuaWQuaW5kZXhPZihcIl9yZWN2XCIpPi0xJiZcImF1ZGlvXCI9PT10Lm1lZGlhVHlwZSYmKGM9dCkpfSkpLChyPVtvKCkoe30sYSksbygpKHt9LGkpLG8oKSh7fSxnKSxvKCkoe30sYyksbygpKHt9LG0pXSkucHVzaCh7aWQ6XCJ0aW1lXCIsc3RhcnRUaW1lOnQuY29ubmVjdGVkVGltZSx0aW1lc3RhbXA6ZHx8bmV3IERhdGV9KSxlKHIscyl9KSl9LHQuX2dldFN0YXRzPWZ1bmN0aW9uKGUpe09iamVjdChmLmdldFBhcmFtZXRlcikoXCJDSFJPTUVfTkVXX1NUQVRTXCIpJiZyLmlzQ2hyb21lS2VybmVsKCkmJityLmdldEJyb3dzZXJWZXJzaW9uKCk+PTc2P3QuX3Byb2Nlc3NHZXRTdGF0c0FmdGVyQ2hyb21lNzYoZSk6dC5fcHJvY2Vzc0dldFN0YXRzQmVmb3JlQ2hyb21lNzYoZSl9LHQuYWRkVHJhY2s9ZnVuY3Rpb24oZSxuKXtpZihcInVuaWZpZWQtcGxhblwiPT09T2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlBMQU5cIikpe3ZhciByPVwiYXVkaW9cIj09PWUua2luZD90Ll9hdWRpb1NlbmRlcjp0Ll92aWRlb1NlbmRlcjtpZihyKXt2YXIgaT10LnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmRlcj09PXJ9KSk7ci5yZXBsYWNlVHJhY2soZSkudGhlbigoZnVuY3Rpb24oKXtpLmRpcmVjdGlvbj1cInNlbmRyZWN2XCIsdC5yZW5lZ290aWF0ZSgpfSkpfWVsc2Ugcj10LnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKGUsbiksXCJhdWRpb1wiPT09ZS5raW5kP3QuX2F1ZGlvU2VuZGVyPXI6dC5fdmlkZW9TZW5kZXI9cn1lbHNlIHQucGVlckNvbm5lY3Rpb24uYWRkVHJhY2soZSxuKX0sdC5yZW1vdmVUcmFjaz1mdW5jdGlvbihlLG4pe2lmKFwidW5pZmllZC1wbGFuXCI9PT1PYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiUExBTlwiKSl7dmFyIHI9dC5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZW5kZXIudHJhY2s9PT1lfSkpO3ImJihyLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsdC5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhyLnNlbmRlcikpfWVsc2UgdC5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayh0LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjaz09ZX0pKSl9LHQuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe1widW5pZmllZC1wbGFuXCI9PT1PYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiUExBTlwiKT9lLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPXQucGVlckNvbm5lY3Rpb24uYWRkVHJhY2sobixlKTtcImF1ZGlvXCI9PT1uLmtpbmQ/dC5fYXVkaW9TZW5kZXI9cjp0Ll92aWRlb1NlbmRlcj1yfSkpOih0LnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShlKSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSl9LHQucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKCl7dC5tYXJrQWN0aW9uTmVlZGVkKCl9LHQuY2xvc2U9ZnVuY3Rpb24oKXt0LnN0YXRlPVwiY2xvc2VkXCIsdC5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpfSx0Lm1hcmtBY3Rpb25OZWVkZWQ9ZnVuY3Rpb24oKXt0LmFjdGlvbk5lZWRlZD0hMCx0LmRvTGF0ZXIoKGZ1bmN0aW9uKCl7dC5vbnN0YWJsZXN0YXRlKCl9KSl9LHQuZG9MYXRlcj1mdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDEpfSx0Lm9uc3RhYmxlc3RhdGU9ZnVuY3Rpb24oKXt2YXIgbjtpZih0LmFjdGlvbk5lZWRlZCl7aWYoXCJuZXdcIj09PXQuc3RhdGV8fFwiZXN0YWJsaXNoZWRcIj09PXQuc3RhdGUpdC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih0Lm1lZGlhQ29uc3RyYWludHMpLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBuP24uc2RwIT09dC5wcmV2T2ZmZXI/KGUuaXNTdWJzY3JpYmVyJiYobi5zZHA9bi5zZHAucmVwbGFjZShcIm1pbnB0aW1lPTEwXCIsXCJtaW5wdGltZT0xMDtzdGVyZW89MTsgc3Byb3Atc3RlcmVvPTFcIikpLHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSx0LnN0YXRlPVwicHJlcGFyaW5nLW9mZmVyXCIsdm9pZCB0Lm1hcmtBY3Rpb25OZWVkZWQoKSk6dm9pZCB1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1Ob3Qgc2VuZGluZyBhIG5ldyBvZmZlclwiKToodS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdc2Vzc2lvbkRlc2NyaXB0aW9uIGlzIG51bGxcIiksdm9pZCB0Lm9uc2lnbmFsaW5nbWVzc2FnZShudWxsKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXBlZXIgY29ubmVjdGlvbiBjcmVhdGUgb2ZmZXIgZmFpbGVkIFwiLGUpfSkpO2Vsc2UgaWYoXCJwcmVwYXJpbmctb2ZmZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47dC5wcmV2T2ZmZXI9dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCx0Lm9mZmVyQ2FuZGlkYXRlcz10LnByZXZPZmZlci5tYXRjaCgvYT1jYW5kaWRhdGUuK1xcclxcbi9nKXx8W10sdC5vZmZlckNhbmRpZGF0ZXMubGVuZ3RofHwoZS5pc0Nsb3VkUHJveHkzJiZlLm9uTm9JY2VDYW5kaWRhdGUmJmUub25Ob0ljZUNhbmRpZGF0ZSgpLHUuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXU5vIEljZSBDYW5kaWRhdGUgZ2VuZXJhdGVkXCIpKSxPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiU0hJTV9DQU5ESURBVEVcIik/KHUuZGVmYXVsdC5kZWJ1ZyhcIlNoaW1taW5nIGZha2UgY2FuZGlkYXRlXCIpLHQucHJldk9mZmVyKz1cImE9Y2FuZGlkYXRlOjIyNDMyNTU0MzUgMSB1ZHAgMjEyMjE5NDY4NyAxOTIuMTY4LjAuMSAzMDAwMCB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAxXFxyXFxuXCIpOnUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1Ob25lIEljZSBDYW5kaWRhdGUgbm90IGFsbG93ZWRcIikpKSx0LnByZXZPZmZlcj10LnByZXZPZmZlci5yZXBsYWNlKC9hPWNhbmRpZGF0ZTouK3R5cFxcc2hvc3QuK1xcclxcbi9nLFwiYT1jYW5kaWRhdGU6MjI0MzI1NTQzNSAxIHVkcCAyMTIyMTk0Njg3IDE5Mi4xNjguMC4xIDMwMDAwIHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDFcXHJcXG5cIiksdC5zZW5kTWVzc2FnZShcIk9GRkVSXCIsdC5wcmV2T2ZmZXIpLHQuc3RhdGU9XCJvZmZlci1zZW50XCJ9ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkXCI9PT10LnN0YXRlKXQucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKChmdW5jdGlvbihlKXtpZih0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIix0LmljZVN0YXJ0ZWQpdC5tYXJrQWN0aW9uTmVlZGVkKCk7ZWxzZXt2YXIgbj1uZXcgRGF0ZTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1cIituLmdldFRpbWUoKStcIjogU3RhcnRpbmcgSUNFIGluIHJlc3BvbmRlclwiKSx0LmljZVN0YXJ0ZWQ9ITB9fSksKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXBlZXIgY29ubmVjdGlvbiBjcmVhdGUgYW5zd2VyIGZhaWxlZCBcIixlKX0pLHQubWVkaWFDb25zdHJhaW50cyk7ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47bj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQuc2VuZE1lc3NhZ2UoXCJBTlNXRVJcIixuKSx0LnN0YXRlPVwiZXN0YWJsaXNoZWRcIn1lbHNlIHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gRGF6ZWQgYW5kIGNvbmZ1c2VkIGluIHN0YXRlIFwiKS5jb25jYXQodC5zdGF0ZSxcIiwgc3RvcHBpbmcgaGVyZSdcIikpO3QuYWN0aW9uTmVlZGVkPSExfX0sdC5zZW5kTWVzc2FnZT1mdW5jdGlvbihlLG4pe3ZhciByPXt9O3IubWVzc2FnZVR5cGU9ZSxyLnNkcD1uLFwiT0ZGRVJcIj09PWU/KHIub2ZmZXJlclNlc3Npb25JZD10LnNlc3Npb25JZCxyLmFuc3dlcmVyU2Vzc2lvbklkPXQub3RoZXJTZXNzaW9uSWQsci5zZXE9dC5zZXF1ZW5jZU51bWJlcis9MSxyLnRpZWJyZWFrZXI9TWF0aC5mbG9vcig0Mjk0OTY3MjMqTWF0aC5yYW5kb20oKSsxKSk6KHIub2ZmZXJlclNlc3Npb25JZD10LmluY29taW5nTWVzc2FnZS5vZmZlcmVyU2Vzc2lvbklkLHIuYW5zd2VyZXJTZXNzaW9uSWQ9dC5zZXNzaW9uSWQsci5zZXE9dC5pbmNvbWluZ01lc3NhZ2Uuc2VxKSx0Lm9uc2lnbmFsaW5nbWVzc2FnZShKU09OLnN0cmluZ2lmeShyKSl9LHQuX2dldFNlbmRlcj1mdW5jdGlvbihlKXtpZih0LnBlZXJDb25uZWN0aW9uJiZ0LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMpe3ZhciBuPXQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrLmtpbmQ9PWV9KSk7aWYobilyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdC5oYXNTZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuISF0Ll9nZXRTZW5kZXIoZSl9LHQucmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10Ll9nZXRTZW5kZXIoZS5raW5kKTtpZighaSl7cmV0dXJuIHIoXCJOT19TRU5ERVJfRk9VTkRcIil9dHJ5e2kucmVwbGFjZVRyYWNrKGUpfWNhdGNoKGUpe3JldHVybiByJiZyKGUpfXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4mJm4oKX0pLDUwKX0sdC5lcnJvcj1mdW5jdGlvbihlKXt0aHJvd1wiRXJyb3IgaW4gUm9hcE9uSnNlcDogXCIrZX0sdC5zZXNzaW9uSWQ9dC5yb2FwU2Vzc2lvbklkKz0xLHQuc2VxdWVuY2VOdW1iZXI9MCx0LmFjdGlvbk5lZWRlZD0hMSx0LmljZVN0YXJ0ZWQ9ITEsdC5tb3JlSWNlQ29taW5nPSEwLHQuaWNlQ2FuZGlkYXRlQ291bnQ9MCx0Lm9uc2lnbmFsaW5nbWVzc2FnZT1lLmNhbGxiYWNrLHQucGVlckNvbm5lY3Rpb24ub250cmFjaz1mdW5jdGlvbihlKXt0Lm9uYWRkc3RyZWFtJiYodC5vbmFkZHN0cmVhbShlLFwib250cmFja1wiKSx0LnBlZXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtPW51bGwpfSx0LnBlZXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtPWZ1bmN0aW9uKGUpe3Qub25hZGRzdHJlYW0mJih0Lm9uYWRkc3RyZWFtKGUsXCJvbmFkZHN0cmVhbVwiKSx0LnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbCl9LHQucGVlckNvbm5lY3Rpb24ub25yZW1vdmVzdHJlYW09ZnVuY3Rpb24oZSl7dC5vbnJlbW92ZXN0cmVhbSYmdC5vbnJlbW92ZXN0cmVhbShlKX0sdC5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKSxjb25zb2xlLmxvZyh0LnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSksXCJjb25uZWN0ZWRcIj09PWUuY3VycmVudFRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUmJih0LmNvbm5lY3RlZFRpbWU9bmV3IERhdGUpLHQub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UmJnQub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSl9LHQucmVuZWdvdGlhdGU9ZnVuY3Rpb24oKXt2b2lkIDAhPT10LnByZXZPZmZlciYmdC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVyblwidW5pZmllZC1wbGFuXCIhPT1PYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiUExBTlwiKSYmKGUuc2RwPWUuc2RwLnJlcGxhY2UoL2E9cmVjdm9ubHlcXHJcXG4vZyxcImE9aW5hY3RpdmVcXHJcXG5cIikpLGUuc2RwPXYoZS5zZHApLGUuc2RwPUUoZS5zZHApLHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3Qub25uZWdvdGlhdGlvbm5lZWRlZCYmdC5vbm5lZ290aWF0aW9ubmVlZGVkKHQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHApfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcImNyZWF0ZU9mZmVyIGVycm9yOiBcIixlKX0pKX0sdC5wZWVyQ29ubmVjdGlvbi5vbm5lZ290aWF0aW9ubmVlZGVkPXQucmVuZWdvdGlhdGUsdC5vbmFkZHN0cmVhbT1udWxsLHQub25yZW1vdmVzdHJlYW09bnVsbCx0Lm9ubmVnb3RpYXRpb25uZWVkZWQ9bnVsbCx0LnN0YXRlPVwibmV3XCIsdC5tYXJrQWN0aW9uTmVlZGVkKCksdH0saD1mdW5jdGlvbihlKXt2YXIgdD17fSxuPWwuUlRDUGVlckNvbm5lY3Rpb247dC51aWQ9ZS51aWQsdC5pc1ZpZGVvTXV0ZT1lLmlzVmlkZW9NdXRlLHQuaXNBdWRpb011dGU9ZS5pc0F1ZGlvTXV0ZSx0LmlzU3Vic2NyaWJlcj1lLmlzU3Vic2NyaWJlcix0LmNsaWVudElkPWUuY2xpZW50SWQsdC5maWx0ZXJTdGF0c0NhY2hlPVtdLHQub3JpZ2luU3RhdHNDYWNoZT1bXSx0Lmxhc3RUaW1lR2V0U3RhdHM9bnVsbCx0LnBjX2NvbmZpZz17aWNlU2VydmVyczpbXSxidW5kbGVQb2xpY3k6XCJtYXgtYnVuZGxlXCJ9LHQuY29uPXtvcHRpb25hbDpbe0R0bHNTcnRwS2V5QWdyZWVtZW50OiEwfV19LGUuaWNlU2VydmVycyBpbnN0YW5jZW9mIEFycmF5P3QucGNfY29uZmlnLmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOihlLnN0dW5TZXJ2ZXJVcmwmJihlLnN0dW5TZXJ2ZXJVcmwgaW5zdGFuY2VvZiBBcnJheT9lLnN0dW5TZXJ2ZXJVcmwubWFwKChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWUmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXJsOmV9KX0pKTpcInN0cmluZ1wiPT10eXBlb2YgZS5zdHVuU2VydmVyVXJsJiZcIlwiIT09ZS5zdHVuU2VydmVyVXJsJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplLnN0dW5TZXJ2ZXJVcmx9KSksZS50dXJuU2VydmVycyYmKGUudHVyblNlcnZlcnMgaW5zdGFuY2VvZiBBcnJheT9lLnR1cm5TZXJ2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7ZS51ZHBwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudWRwcG9ydCtcIj90cmFuc3BvcnQ9dWRwXCJ9KSxcInN0cmluZ1wiPT10eXBlb2YgZS50Y3Bwb3J0JiZcIlwiIT09ZS50Y3Bwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudGNwcG9ydCtcIj90cmFuc3BvcnQ9dGNwXCJ9KSwhMD09PWUuZm9yY2V0dXJuJiYodC5wY19jb25maWcuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSk6dS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB0dXJuU2VydmVycyBpcyBub3QgYSBhcnJheVwiKSkpKSx2b2lkIDA9PT1lLmF1ZGlvJiYoZS5hdWRpbz0hMCksdm9pZCAwPT09ZS52aWRlbyYmKGUudmlkZW89ITApLHQubWVkaWFDb25zdHJhaW50cz17bWFuZGF0b3J5OntPZmZlclRvUmVjZWl2ZVZpZGVvOmUudmlkZW8sT2ZmZXJUb1JlY2VpdmVBdWRpbzplLmF1ZGlvfX0sdC5yb2FwU2Vzc2lvbklkPTEwMzt0cnl7dC5wY19jb25maWcuc2RwU2VtYW50aWNzPU9iamVjdChmLmdldFBhcmFtZXRlcikoXCJQTEFOXCIpLHQucGVlckNvbm5lY3Rpb249bmV3IG4odC5wY19jb25maWcsdC5jb24pfWNhdGNoKGUpe2RlbGV0ZSB0LnBjX2NvbmZpZy5zZHBTZW1hbnRpY3MsdC5wZWVyQ29ubmVjdGlvbj1uZXcgbih0LnBjX2NvbmZpZyx0LmNvbil9dC5pY2VDYW5kaWRhdGVUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuaWNlQ2FuZGlkYXRlVGltZXI9bnVsbCx0Lm1vcmVJY2VDb21pbmcmJih0Lm1vcmVJY2VDb21pbmc9ITEsdC5tYXJrQWN0aW9uTmVlZGVkKCkpfSksT2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIkNBTkRJREFURV9USU1FT1VUXCIpKSx0LnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvO3I9KG49dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCkubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzc3JmbHguK1xcclxcbi8pLGk9bi5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNob3N0LitcXHJcXG4vKSxvPW4ubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzcmVsYXkuK1xcclxcbi8pLDA9PT10LmljZUNhbmRpZGF0ZUNvdW50JiYodC50aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5tb3JlSWNlQ29taW5nJiYodC5tb3JlSWNlQ29taW5nPSExLHQubWFya0FjdGlvbk5lZWRlZCgpKX0pLDFlMykpLG51bGw9PT1yJiZudWxsPT09aSYmbnVsbD09PW98fHZvaWQgMCE9PXQuaWNlfHwhdC5pY2VDYW5kaWRhdGVUaW1lcnx8KGNsZWFyVGltZW91dCh0LmljZUNhbmRpZGF0ZVRpbWVyKSx0LmljZUNhbmRpZGF0ZVRpbWVyPW51bGwsdC5pY2U9MCx0Lm1vcmVJY2VDb21pbmc9ITEsdC5tYXJrQWN0aW9uTmVlZGVkKCkpLHQuaWNlQ2FuZGlkYXRlQ291bnQ9dC5pY2VDYW5kaWRhdGVDb3VudCsxfTt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5zY3JlZW4mJih0PXQucmVwbGFjZShcImE9eC1nb29nbGUtZmxhZzpjb25mZXJlbmNlXFxyXFxuXCIsXCJcIikpLHR9LGk9ZnVuY3Rpb24obil7dmFyIHIsaTtyZXR1cm4ocj1uLm1hdGNoKC9tPXZpZGVvLipcXHJcXG4vKSkmJmUubWluVmlkZW9CVyYmZS5tYXhWaWRlb0JXJiYoaT1yWzBdK1wiYj1BUzpcIitlLm1heFZpZGVvQlcrXCJcXHJcXG5cIixuPW4ucmVwbGFjZShyWzBdLGkpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXVNldCBWaWRlbyBCaXRyYXRlIC0gbWluOlwiK2UubWluVmlkZW9CVytcIiBtYXg6XCIrZS5tYXhWaWRlb0JXKSksKHI9bi5tYXRjaCgvbT1hdWRpby4qXFxyXFxuLykpJiZlLm1heEF1ZGlvQlcmJihpPXJbMF0rXCJiPUFTOlwiK2UubWF4QXVkaW9CVytcIlxcclxcblwiLG49bi5yZXBsYWNlKHJbMF0saSkpLG59O3QucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2U9ZnVuY3Rpb24obil7dmFyIG8sYT1KU09OLnBhcnNlKG4pO3QuaW5jb21pbmdNZXNzYWdlPWEsXCJuZXdcIj09PXQuc3RhdGU/XCJPRkZFUlwiPT09YS5tZXNzYWdlVHlwZT8obz17c2RwOmEuc2RwLHR5cGU6XCJvZmZlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obykpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZFwiLHQubWFya0FjdGlvbk5lZWRlZCgpKTp0LmVycm9yKFwiSWxsZWdhbCBtZXNzYWdlIGZvciB0aGlzIHN0YXRlOiBcIithLm1lc3NhZ2VUeXBlK1wiIGluIHN0YXRlIFwiK3Quc3RhdGUpOlwib2ZmZXItc2VudFwiPT09dC5zdGF0ZT9cIkFOU1dFUlwiPT09YS5tZXNzYWdlVHlwZT8oKG89e3NkcDphLnNkcCx0eXBlOlwiYW5zd2VyXCJ9KS5zZHA9cihvLnNkcCksby5zZHA9aShvLnNkcCksby5zZHA9by5zZHAucmVwbGFjZSgvYT14LWdvb2dsZS1mbGFnOmNvbmZlcmVuY2VcXHJcXG4vZyxcIlwiKSxlLnNjcmVlbiYmXCJkZXRhaWxcIj09PWUub3B0aW1pemF0aW9uTW9kZSYmKHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnQsXCJdIHJlbW92ZSBzY3JlZW4gc2hhcmUgYWJzIGV4dFwiKSksby5zZHA9by5zZHAucmVwbGFjZSgvYT0uKmFicy1zZW5kLXRpbWVcXHJcXG4vZyxcIlwiKS5yZXBsYWNlKC9hPS4qZ29vZy1yZW1iXFxyXFxuL2csXCJcIikpLHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihvKSksdC5zdGF0ZT1cImVzdGFibGlzaGVkXCIpOlwicHItYW5zd2VyXCI9PT1hLm1lc3NhZ2VUeXBlPyhvPXtzZHA6YS5zZHAsdHlwZTpcInByLWFuc3dlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obykpKTpcIm9mZmVyXCI9PT1hLm1lc3NhZ2VUeXBlP3QuZXJyb3IoXCJOb3Qgd3JpdHRlbiB5ZXRcIik6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIrYS5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKTpcImVzdGFibGlzaGVkXCI9PT10LnN0YXRlJiYoXCJPRkZFUlwiPT09YS5tZXNzYWdlVHlwZT8obz17c2RwOmEuc2RwLHR5cGU6XCJvZmZlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obykpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZFwiLHQubWFya0FjdGlvbk5lZWRlZCgpKTpcIkFOU1dFUlwiPT09YS5tZXNzYWdlVHlwZT8oKG89e3NkcDphLnNkcCx0eXBlOlwiYW5zd2VyXCJ9KS5zZHA9cihvLnNkcCksby5zZHA9aShvLnNkcCksdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG8pKSk6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIrYS5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKSl9LHQuc2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlPWQoKShzLmEubWFyaygoZnVuY3Rpb24gZShuKXtyZXR1cm4gcy5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnQuZGVncmFkYXRpb249bjtjYXNlIDE6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx0Ll9zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dmFyIGU9ZCgpKHMuYS5tYXJrKChmdW5jdGlvbiBlKG4pe3ZhciByLGksbztyZXR1cm4gcy5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHI9dC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCksaT1yLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRyYWNrJiZcInZpZGVvXCI9PT1lLnRyYWNrLmtpbmR9KSkpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDQ6cmV0dXJuKG89aS5nZXRQYXJhbWV0ZXJzKCkpLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1uLGUucHJldj02LHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gc2V0UGFyYW1ldGVyc1wiKSxvKSxlLm5leHQ9MTAsaS5zZXRQYXJhbWV0ZXJzKG8pO2Nhc2UgMTA6ZS5uZXh0PTE1O2JyZWFrO2Nhc2UgMTI6ZS5wcmV2PTEyLGUudDA9ZS5jYXRjaCg2KSx1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlcnMgZmFpbGVkLCBpZ25vcmVcIikpO2Nhc2UgMTU6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbnVsbCxbWzYsMTJdXSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpO3ZhciBvPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixnb29nQ29kZWNOYW1lOlwib3B1c1wiLGFlY0RpdmVyZ2VudEZpbHRlckZyYWN0aW9uOlwiMFwiLGF1ZGlvSW5wdXRMZXZlbDpcIjBcIixieXRlc1NlbnQ6XCIwXCIscGFja2V0c1NlbnQ6XCIwXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzOlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50OlwiMFwifSxhPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixnb29nQ29kZWNOYW1lOmUuY29kZWM/ZS5jb2RlYy50b1VwcGVyQ2FzZSgpOlwiXCIsYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dBZGFwdGF0aW9uQ2hhbmdlczpcIjBcIixnb29nQXZnRW5jb2RlTXM6XCIwXCIsZ29vZ0VuY29kZVVzYWdlUGVyY2VudDpcIjBcIixnb29nRmlyc1JlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZUlucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVTZW50OlwiMFwiLGdvb2dGcmFtZVdpZHRoU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aElucHV0OlwiMFwiLGdvb2dOYWNrc1JlY2VpdmVkOlwiMFwiLGdvb2dQbGlzUmVjZWl2ZWQ6XCIwXCIsZ29vZ1J0dDpcIjBcIixnb29nRnJhbWVzRW5jb2RlZDpcIjBcIn0sYz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsYXVkaW9PdXRwdXRMZXZlbDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIixnb29nQWNjZWxlcmF0ZVJhdGU6XCIwXCIsZ29vZ0N1cnJlbnREZWxheU1zOlwiMFwiLGdvb2dEZWNvZGluZ0NORzpcIjBcIixnb29nRGVjb2RpbmdDVE46XCIwXCIsZ29vZ0RlY29kaW5nQ1RTRzpcIjBcIixnb29nRGVjb2RpbmdOb3JtYWw6XCIwXCIsZ29vZ0RlY29kaW5nUExDOlwiMFwiLGdvb2dEZWNvZGluZ1BMQ0NORzpcIjBcIixnb29nRXhwYW5kUmF0ZTpcIjBcIixnb29nSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ0ppdHRlclJlY2VpdmVkOlwiMFwiLGdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZTpcIjBcIixnb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ1NlY29uZGFyeURlY29kZWRSYXRlOlwiMFwiLGdvb2dTcGVlY2hFeHBhbmRSYXRlOlwiMFwifSxwPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixnb29nVGFyZ2V0RGVsYXlNczpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixnb29nRGVjb2RlTXM6XCIwXCIsZ29vZ01heERlY29kZU1zOlwiMFwiLGdvb2dSZW5kZXJEZWxheU1zOlwiMFwiLGdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVEZWNvZGVkOlwiMFwiLGdvb2dGcmFtZVJhdGVPdXRwdXQ6XCIwXCIsZ29vZ0ZyYW1lc0RlY29kZWQ6XCIwXCIsZ29vZ0ZyYW1lUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nTWluUGxheW91dERlbGF5TXM6XCIwXCIsZ29vZ05hY2tzU2VudDpcIjBcIixnb29nUGxpc1NlbnQ6XCIwXCIsZ29vZ0ZpcnNTZW50OlwiMFwiLGJ5dGVzUmVjZWl2ZWQ6XCIwXCIscGFja2V0c1JlY2VpdmVkOlwiMFwifSxnPXtpZDpcImJ3ZWZvcnZpZGVvXCIsdHlwZTpcIlZpZGVvQndlXCIsZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGg6XCIwXCIsZ29vZ0F2YWlsYWJsZVJlY2VpdmVCYW5kd2lkdGg6XCIwXCIsZ29vZ0FjdHVhbEVuY0JpdHJhdGU6XCIwXCIsZ29vZ1JldHJhbnNtaXRCaXRyYXRlOlwiMFwiLGdvb2dUYXJnZXRFbmNCaXRyYXRlOlwiMFwiLGdvb2dCdWNrZXREZWxheTpcIjBcIixnb29nVHJhbnNtaXRCaXRyYXRlOlwiMFwifSxtPTAsaD0wLHY9MDtyZXR1cm4gdC5pc1JlbW90ZVZpZGVvU3RhdHM9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5mcmFtZUhlaWdodCYmZS5mcmFtZVdpZHRoJiZlLnJlbW90ZVNvdXJjZSl9LHQuZ2V0VmlkZW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24obil7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHIpe3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodC5pc1N1YnNjcmliZXIpe3ZhciBpPXtwZWVySWQ6dC51aWQsbWVkaWFUeXBlOlwidmlkZW9cIixpc1ZpZGVvTXV0ZTp0LmlzVmlkZW9NdXRlfTtpZihcInRyYWNrXCI9PT1yLnR5cGUmJih+ci5pZC5pbmRleE9mKFwidmlkZW9cIil8fH5yLnRyYWNrSWRlbnRpZmllci5pbmRleE9mKFwidlwiKXx8dC5pc1JlbW90ZVZpZGVvU3RhdHMocikpKXtpZighdC5sYXN0UmVwb3J0KXJldHVybiB2b2lkKHQubGFzdFJlcG9ydD1yKTtpLmZyYW1lUmF0ZVJlY2VpdmVkPXIuZnJhbWVzUmVjZWl2ZWQtdC5sYXN0UmVwb3J0LmZyYW1lc1JlY2VpdmVkK1wiXCIsaS5mcmFtZVJhdGVEZWNvZGVkPXIuZnJhbWVzRGVjb2RlZC10Lmxhc3RSZXBvcnQuZnJhbWVzRGVjb2RlZCtcIlwiLHQubGFzdFJlcG9ydD1yfVwiaW5ib3VuZC1ydHBcIj09PXIudHlwZSYmfnIuaWQuaW5kZXhPZihcIlZpZGVvXCIpJiYoaS5ieXRlc1JlY2VpdmVkPXIuYnl0ZXNSZWNlaXZlZCtcIlwiLGkucGFja2V0c1JlY2VpdmVkPXIucGFja2V0c1JlY2VpdmVkK1wiXCIsaS5wYWNrZXRzTG9zdD1yLnBhY2tldHNMb3N0K1wiXCIpLG4mJm4oaSl9ZWxzZSBpZihcIm91dGJvdW5kLXJ0cFwiPT09ci50eXBlJiZ+ci5pZC5pbmRleE9mKFwiVmlkZW9cIikpe2lmKCF0Lmxhc3RSZXBvcnQpcmV0dXJuIHZvaWQodC5sYXN0UmVwb3J0PXIpO24mJm4oe21lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6dC5pc1ZpZGVvTXV0ZSxmcmFtZVJhdGVJbnB1dDplLm1heEZyYW1lUmF0ZStcIlwiLGZyYW1lUmF0ZVNlbnQ6ci5mcmFtZXNFbmNvZGVkLXQubGFzdFJlcG9ydC5mcmFtZXNFbmNvZGVkK1wiXCJ9KSx0Lmxhc3RSZXBvcnQ9cn19KSl9KSl9LHQuZ2V0QXVkaW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24oZSl7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKG4pe24uZm9yRWFjaCgoZnVuY3Rpb24obil7dC5pc1N1YnNjcmliZXImJlwiaW5ib3VuZC1ydHBcIj09PW4udHlwZSYmfm4uaWQuaW5kZXhPZihcIkF1ZGlvXCIpJiZlJiZlKHtwZWVySWQ6dC51aWQsbWVkaWFUeXBlOlwiYXVkaW9cIixpc0F1ZGlvTXV0ZTp0LmlzQXVkaW9NdXRlLGZyYW1lRHJvcHBlZDpuLnBhY2tldHNMb3N0K1wiXCIsZnJhbWVSZWNlaXZlZDpuLnBhY2tldHNSZWNlaXZlZCtcIlwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpuLmppdHRlcitcIlwiLGJ5dGVzUmVjZWl2ZWQ6bi5ieXRlc1JlY2VpdmVkK1wiXCIscGFja2V0c1JlY2VpdmVkOm4ucGFja2V0c1JlY2VpdmVkK1wiXCIscGFja2V0c0xvc3Q6bi5wYWNrZXRzTG9zdCtcIlwifSl9KSl9KSl9LHQuZ2V0U3RhdHNSYXRlPWZ1bmN0aW9uKGUpe3QuZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJvdXRib3VuZC1ydHBcIj09PWUudHlwZSYmXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGUmJmUuZ29vZ0ZyYW1lc0VuY29kZWQmJihlLmdvb2dGcmFtZVJhdGVTZW50PU1hdGguY2VpbCgoZS5nb29nRnJhbWVzRW5jb2RlZC1tKS8zKS50b1N0cmluZygpLG09ZS5nb29nRnJhbWVzRW5jb2RlZCksXCJpbmJvdW5kLXJ0cFwiPT09ZS50eXBlJiYtMSE9ZS5pZC5pbmRleE9mKFwiNTU1NDNcIikmJihlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCYmKGUuZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkPU1hdGguY2VpbCgoZS5nb29nRnJhbWVSZWNlaXZlZC12KS8zKS50b1N0cmluZygpLHY9ZS5nb29nRnJhbWVSZWNlaXZlZCksZS5nb29nRnJhbWVSYXRlRGVjb2RlZCYmKGUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQ9TWF0aC5jZWlsKChlLmdvb2dGcmFtZXNEZWNvZGVkLWgpLzMpLnRvU3RyaW5nKCksaD1lLmdvb2dGcmFtZXNEZWNvZGVkKSl9KSksZSh0KX0pKX0sdC5nZXRTdGF0cz1mdW5jdGlvbihlLG4pe249KG49bnx8NTAwKT41MDA/NTAwOm4sdC5sYXN0VGltZUdldFN0YXRzJiZEYXRlLm5vdygpLXQubGFzdFRpbWVHZXRTdGF0czxuP2UmJmUodC5maWx0ZXJTdGF0c0NhY2hlLHQub3JpZ2luU3RhdHNDYWNoZSk6dGhpcy5fZ2V0U3RhdHMoKGZ1bmN0aW9uKG4scil7dC5maWx0ZXJTdGF0c0NhY2hlPW4sdC5vcmlnaW5TdGF0c0NhY2hlPXIsdC5sYXN0VGltZUdldFN0YXRzPURhdGUubm93KCksZSYmZShuLHIpfSkpfSx0Ll9nZXRTdGF0cz1mdW5jdGlvbihuKXt2YXIgcj1bXTt0LnBlZXJDb25uZWN0aW9uLmdldFN0YXRzKCkudGhlbigoZnVuY3Rpb24oaSl7aS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbjsoci5wdXNoKHQpLFwib3V0Ym91bmQtcnRwXCI9PT10LnR5cGUmJlwiYXVkaW9cIj09PXQubWVkaWFUeXBlJiYoby5pZD10LmlkLG8udHlwZT10LnR5cGUsby5tZWRpYVR5cGU9dC5tZWRpYVR5cGUsby5ieXRlc1NlbnQ9dC5ieXRlc1NlbnQ/dC5ieXRlc1NlbnQrXCJcIjpcIjBcIixvLnBhY2tldHNTZW50PXQucGFja2V0c1NlbnQ/dC5wYWNrZXRzU2VudCtcIlwiOlwiMFwiLGUuYWdvcmFTdHJlYW0ubG9jYWwmJihvLmF1ZGlvSW5wdXRMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KmUuYWdvcmFTdHJlYW0uZ2V0QXVkaW9MZXZlbCgpKS50b1N0cmluZygpKSksXCJvdXRib3VuZC1ydHBcIj09PXQudHlwZSYmXCJ2aWRlb1wiPT09dC5tZWRpYVR5cGUpJiYoYS5pZD10LmlkLGEudHlwZT10LnR5cGUsYS5tZWRpYVR5cGU9dC5tZWRpYVR5cGUsYS5ieXRlc1NlbnQ9dC5ieXRlc1NlbnQ/dC5ieXRlc1NlbnQrXCJcIjpcIjBcIixhLnBhY2tldHNTZW50PXQucGFja2V0c1NlbnQ/dC5wYWNrZXRzU2VudCtcIlwiOlwiMFwiLGEuZ29vZ1BsaXNSZWNlaXZlZD10LnBsaUNvdW50P3QucGxpQ291bnQrXCJcIjpcIjBcIixhLmdvb2dOYWNrc1JlY2VpdmVkPXQubmFja0NvdW50P3QubmFja0NvdW50K1wiXCI6XCIwXCIsYS5nb29nRmlyc1JlY2VpdmVkPXQuZmlyQ291bnQ/dC5maXJDb3VudCtcIlwiOlwiMFwiLGEuZ29vZ0ZyYW1lc0VuY29kZWQ9dC5mcmFtZXNFbmNvZGVkP3QuZnJhbWVzRW5jb2RlZCtcIlwiOlwiMFwiLChuPWkuZ2V0KHQudHJhY2tJZCkpJiYoYS5nb29nRnJhbWVIZWlnaHRTZW50PW4uZnJhbWVIZWlnaHQmJm4uZnJhbWVIZWlnaHQudG9TdHJpbmcoKSxhLmdvb2dGcmFtZVdpZHRoU2VudD1uLmZyYW1lV2lkdGgmJm4uZnJhbWVXaWR0aC50b1N0cmluZygpKSk7XCJpbmJvdW5kLXJ0cFwiIT09dC50eXBlfHwtMT09dC5pZC5pbmRleE9mKFwiNDQ0NDRcIikmJlwiYXVkaW9cIiE9PXQubWVkaWFUeXBlfHwoYy5pZD10LmlkLGMudHlwZT10LnR5cGUsYy5tZWRpYVR5cGU9XCJhdWRpb1wiLGMucGFja2V0c1JlY2VpdmVkPXQucGFja2V0c1JlY2VpdmVkP3QucGFja2V0c1JlY2VpdmVkK1wiXCI6XCIwXCIsYy5ieXRlc1JlY2VpdmVkPXQuYnl0ZXNSZWNlaXZlZD90LmJ5dGVzUmVjZWl2ZWQrXCJcIjpcIjBcIixjLnBhY2tldHNMb3N0PXQucGFja2V0c0xvc3Q/dC5wYWNrZXRzTG9zdCtcIlwiOlwiMFwiLGMucGFja2V0c1JlY2VpdmVkPXQucGFja2V0c1JlY2VpdmVkP3QucGFja2V0c1JlY2VpdmVkK1wiXCI6XCIwXCIsYy5nb29nSml0dGVyUmVjZWl2ZWQ9dC5qaXR0ZXI/dC5qaXR0ZXIrXCJcIjpcIjBcIiwobj1pLmdldCh0LnRyYWNrSWQpKSYmKGMuYXVkaW9PdXRwdXRMZXZlbD1uLmF1ZGlvTGV2ZWwmJk1hdGgucm91bmQoMzI3Njcqbi5hdWRpb0xldmVsKS50b1N0cmluZygpKSxlLmFnb3JhU3RyZWFtLmxvY2FsfHxjLmF1ZGlvT3V0cHV0TGV2ZWx8fChjLmF1ZGlvT3V0cHV0TGV2ZWw9TWF0aC5yb3VuZCgzMjc2NyplLmFnb3JhU3RyZWFtLmdldEF1ZGlvTGV2ZWwoKSkudG9TdHJpbmcoKSkpO1wiaW5ib3VuZC1ydHBcIiE9PXQudHlwZXx8LTE9PXQuaWQuaW5kZXhPZihcIjU1NTQzXCIpJiZcInZpZGVvXCIhPT10Lm1lZGlhVHlwZXx8KHAuaWQ9dC5pZCxwLnR5cGU9dC50eXBlLHAubWVkaWFUeXBlPVwidmlkZW9cIixwLnBhY2tldHNSZWNlaXZlZD10LnBhY2tldHNSZWNlaXZlZD90LnBhY2tldHNSZWNlaXZlZCtcIlwiOlwiMFwiLHAuYnl0ZXNSZWNlaXZlZD10LmJ5dGVzUmVjZWl2ZWQ/dC5ieXRlc1JlY2VpdmVkK1wiXCI6XCIwXCIscC5wYWNrZXRzTG9zdD10LnBhY2tldHNMb3N0P3QucGFja2V0c0xvc3QrXCJcIjpcIjBcIixwLmdvb2dKaXR0ZXJCdWZmZXJNcz10LmppdHRlcj90LmppdHRlcitcIlwiOlwiMFwiLHAuZ29vZ05hY2tzU2VudD10Lm5hY2tDb3VudD90Lm5hY2tDb3VudCtcIlwiOlwiMFwiLHAuZ29vZ1BsaXNTZW50PXQucGxpQ291bnQ/dC5wbGlDb3VudCtcIlwiOlwiMFwiLHAuZ29vZ0ZpcnNTZW50PXQuZmlyQ291bnQ/dC5maXJDb3VudCtcIlwiOlwiMFwiLChuPWkuZ2V0KHQudHJhY2tJZCkpJiYocC5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZD1uLmZyYW1lSGVpZ2h0JiZuLmZyYW1lSGVpZ2h0LnRvU3RyaW5nKCkscC5nb29nRnJhbWVXaWR0aFJlY2VpdmVkPW4uZnJhbWVXaWR0aCYmbi5mcmFtZVdpZHRoLnRvU3RyaW5nKCkscC5nb29nRnJhbWVSZWNlaXZlZD1uLmZyYW1lc1JlY2VpdmVkJiZuLmZyYW1lc1JlY2VpdmVkLnRvU3RyaW5nKCkscC5nb29nRnJhbWVzRGVjb2RlZD1uLmZyYW1lc0RlY29kZWQmJm4uZnJhbWVzRGVjb2RlZC50b1N0cmluZygpKSk7XCJjYW5kaWRhdGUtcGFpclwiPT09dC50eXBlJiYoMD09dC5hdmFpbGFibGVJbmNvbWluZ0JpdHJhdGU/Zy5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aD10LmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZStcIlwiOmcuZ29vZ0F2YWlsYWJsZVJlY2VpdmVCYW5kd2lkdGg9dC5hdmFpbGFibGVJbmNvbWluZ0JpdHJhdGUrXCJcIil9KSk7dmFyIHM9W2csbyxhLGMscF07cy5wdXNoKHtpZDpcInRpbWVcIixzdGFydFRpbWU6dC5jb25uZWN0ZWRUaW1lLHRpbWVzdGFtcDpuZXcgRGF0ZX0pLG4ocyxyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmVycm9yKFwiW1wiK3QuY2xpZW50SWQrXCJdIFwiLGUpfSkpfSx0LmFkZFRyYWNrPWZ1bmN0aW9uKGUsbil7dC5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhlLG4pfSx0LnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PWV9KSk7ci5yZXBsYWNlVHJhY2sobnVsbCksdC5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhyKX0sdC5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlNhZmFyaVwiKT4tMSYmLTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIik/ZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4gdC5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhuLGUpfSkpOnQucGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKGUpLHQubWFya0FjdGlvbk5lZWRlZCgpfSx0LnJlbW92ZVN0cmVhbT1mdW5jdGlvbigpe3QubWFya0FjdGlvbk5lZWRlZCgpfSx0LmNsb3NlPWZ1bmN0aW9uKCl7dC5zdGF0ZT1cImNsb3NlZFwiLHQucGVlckNvbm5lY3Rpb24uY2xvc2UoKX0sdC5tYXJrQWN0aW9uTmVlZGVkPWZ1bmN0aW9uKCl7dC5hY3Rpb25OZWVkZWQ9ITAsdC5kb0xhdGVyKChmdW5jdGlvbigpe3Qub25zdGFibGVzdGF0ZSgpfSkpfSx0LmRvTGF0ZXI9ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwxKX0sdC5vbnN0YWJsZXN0YXRlPWZ1bmN0aW9uKCl7dmFyIG47aWYodC5hY3Rpb25OZWVkZWQpe2lmKFwibmV3XCI9PT10LnN0YXRlfHxcImVzdGFibGlzaGVkXCI9PT10LnN0YXRlKXtpZihlLmlzU3Vic2NyaWJlcil0LnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLHQucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSk7dC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih0Lm1lZGlhQ29uc3RyYWludHMpLnRoZW4oKGZ1bmN0aW9uKG4pe2lmKG4uc2RwPWkobi5zZHApLGUuaXNTdWJzY3JpYmVyfHwobi5zZHA9bi5zZHAucmVwbGFjZSgvYT0uKnZpZGVvLW9yaWVudGF0aW9uXFxyXFxuL2csXCJcIikpLG4uc2RwIT09dC5wcmV2T2ZmZXIpcmV0dXJuIHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSx0LnN0YXRlPVwicHJlcGFyaW5nLW9mZmVyXCIsdm9pZCB0Lm1hcmtBY3Rpb25OZWVkZWQoKTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1Ob3Qgc2VuZGluZyBhIG5ldyBvZmZlclwiKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdcGVlciBjb25uZWN0aW9uIGNyZWF0ZSBvZmZlciBmYWlsZWQgXCIsZSl9KSl9ZWxzZSBpZihcInByZXBhcmluZy1vZmZlclwiPT09dC5zdGF0ZSl7aWYodC5tb3JlSWNlQ29taW5nKXJldHVybjt0LnByZXZPZmZlcj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQub2ZmZXJDYW5kaWRhdGVzPXQucHJldk9mZmVyLm1hdGNoKC9hPWNhbmRpZGF0ZS4rXFxyXFxuL2cpfHxbXSx0Lm9mZmVyQ2FuZGlkYXRlcy5sZW5ndGh8fCh1LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1ObyBJY2UgQ2FuZGlkYXRlIGdlbmVyYXRlZFwiKSksZS5pc0Nsb3VkUHJveHkzJiZlLm9uTm9JY2VDYW5kaWRhdGUmJmUub25Ob0ljZUNhbmRpZGF0ZSgpLE9iamVjdChmLmdldFBhcmFtZXRlcikoXCJTSElNX0NBTkRJREFURVwiKT8odS5kZWZhdWx0LmRlYnVnKFwiU2hpbW1pbmcgZmFrZSBjYW5kaWRhdGVcIiksdC5wcmV2T2ZmZXIrPVwiYT1jYW5kaWRhdGU6MjI0MzI1NTQzNSAxIHVkcCAyMTIyMTk0Njg3IDE5Mi4xNjguMC4xIDMwMDAwIHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDFcXHJcXG5cIik6dS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXU5vbmUgSWNlIENhbmRpZGF0ZSBub3QgYWxsb3dlZFwiKSkpLHQucHJldk9mZmVyPXQucHJldk9mZmVyLnJlcGxhY2UoL2E9Y2FuZGlkYXRlOi4rdHlwXFxzaG9zdC4rXFxyXFxuL2csXCJhPWNhbmRpZGF0ZToyMjQzMjU1NDM1IDEgdWRwIDIxMjIxOTQ2ODcgMTkyLjE2OC4wLjEgMzAwMDAgdHlwIGhvc3QgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMVxcclxcblwiKSx0LnNlbmRNZXNzYWdlKFwiT0ZGRVJcIix0LnByZXZPZmZlciksdC5zdGF0ZT1cIm9mZmVyLXNlbnRcIn1lbHNlIGlmKFwib2ZmZXItcmVjZWl2ZWRcIj09PXQuc3RhdGUpdC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKGZ1bmN0aW9uKGUpe2lmKHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKSx0LnN0YXRlPVwib2ZmZXItcmVjZWl2ZWQtcHJlcGFyaW5nLWFuc3dlclwiLHQuaWNlU3RhcnRlZCl0Lm1hcmtBY3Rpb25OZWVkZWQoKTtlbHNle3ZhciBuPW5ldyBEYXRlO3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXVwiK24uZ2V0VGltZSgpK1wiOiBTdGFydGluZyBJQ0UgaW4gcmVzcG9uZGVyXCIpLHQuaWNlU3RhcnRlZD0hMH19KSwoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdcGVlciBjb25uZWN0aW9uIGNyZWF0ZSBhbnN3ZXIgZmFpbGVkIFwiLGUpfSksdC5tZWRpYUNvbnN0cmFpbnRzKTtlbHNlIGlmKFwib2ZmZXItcmVjZWl2ZWQtcHJlcGFyaW5nLWFuc3dlclwiPT09dC5zdGF0ZSl7aWYodC5tb3JlSWNlQ29taW5nKXJldHVybjtuPXQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHAsdC5zZW5kTWVzc2FnZShcIkFOU1dFUlwiLG4pLHQuc3RhdGU9XCJlc3RhYmxpc2hlZFwifWVsc2UgdC5kZWJ1ZyhcIkRhemVkIGFuZCBjb25mdXNlZCBpbiBzdGF0ZSBcIit0LnN0YXRlK1wiLCBzdG9wcGluZyBoZXJlXCIpO3QuYWN0aW9uTmVlZGVkPSExfX0sdC5zZW5kTWVzc2FnZT1mdW5jdGlvbihlLG4pe3ZhciByPXt9O3IubWVzc2FnZVR5cGU9ZSxyLnNkcD1uLFwiT0ZGRVJcIj09PWU/KHIub2ZmZXJlclNlc3Npb25JZD10LnNlc3Npb25JZCxyLmFuc3dlcmVyU2Vzc2lvbklkPXQub3RoZXJTZXNzaW9uSWQsci5zZXE9dC5zZXF1ZW5jZU51bWJlcis9MSxyLnRpZWJyZWFrZXI9TWF0aC5mbG9vcig0Mjk0OTY3MjMqTWF0aC5yYW5kb20oKSsxKSk6KHIub2ZmZXJlclNlc3Npb25JZD10LmluY29taW5nTWVzc2FnZS5vZmZlcmVyU2Vzc2lvbklkLHIuYW5zd2VyZXJTZXNzaW9uSWQ9dC5zZXNzaW9uSWQsci5zZXE9dC5pbmNvbWluZ01lc3NhZ2Uuc2VxKSx0Lm9uc2lnbmFsaW5nbWVzc2FnZShKU09OLnN0cmluZ2lmeShyKSl9LHQuX2dldFNlbmRlcj1mdW5jdGlvbihlKXtpZih0LnBlZXJDb25uZWN0aW9uJiZ0LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMpe3ZhciBuPXQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrLmtpbmQ9PWV9KSk7aWYobilyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdC5oYXNTZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuISF0Ll9nZXRTZW5kZXIoZSl9LHQucmVwbGFjZVRyYWNrPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10Ll9nZXRTZW5kZXIoZS5raW5kKTtpZighaSl7cmV0dXJuIHIoXCJOT19TRU5ERVJfRk9VTkRcIil9dHJ5e2kucmVwbGFjZVRyYWNrKGUpfWNhdGNoKGUpe3JldHVybiByJiZyKGUpfXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4mJm4oKX0pLDUwKX0sdC5lcnJvcj1mdW5jdGlvbihlKXt0aHJvd1wiRXJyb3IgaW4gUm9hcE9uSnNlcDogXCIrZX0sdC5zZXNzaW9uSWQ9dC5yb2FwU2Vzc2lvbklkKz0xLHQuc2VxdWVuY2VOdW1iZXI9MCx0LmFjdGlvbk5lZWRlZD0hMSx0LmljZVN0YXJ0ZWQ9ITEsdC5tb3JlSWNlQ29taW5nPSEwLHQuaWNlQ2FuZGlkYXRlQ291bnQ9MCx0Lm9uc2lnbmFsaW5nbWVzc2FnZT1lLmNhbGxiYWNrLHQucGVlckNvbm5lY3Rpb24ub250cmFjaz1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIiEhISBvbnRyYWNrLCBcIixlLnRyYWNrLmtpbmQsZS50cmFjayksdC5vbmFkZHN0cmVhbSYmdC5vbmFkZHN0cmVhbShlLFwib250cmFja1wiKX0sdC5wZWVyQ29ubmVjdGlvbi5vbnJlbW92ZXN0cmVhbT1mdW5jdGlvbihlKXt0Lm9ucmVtb3Zlc3RyZWFtJiZ0Lm9ucmVtb3Zlc3RyZWFtKGUpfSx0LnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe1wiY29ubmVjdGVkXCI9PT1lLmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlJiYodC5jb25uZWN0ZWRUaW1lPW5ldyBEYXRlLHQuX3NldFJ0cFNlbmRlclBhcmFtZXRlcnModC5kZWdyYWRhdGlvbikpLHQub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UmJnQub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSl9LHQucmVuZWdvdGlhdGU9ZnVuY3Rpb24oKXt0LmlzU3Vic2NyaWJlcnx8KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC51aWQsXCJdXCIpLFwicmVuZWdvdGlhdGluZ1wiKSx2b2lkIDAhPT10LnByZXZPZmZlciYmdC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNkcD1lLnNkcC5yZXBsYWNlKC9hPXJlY3Zvbmx5XFxyXFxuL2csXCJhPWluYWN0aXZlXFxyXFxuXCIpLGUuc2RwPXIoZS5zZHApLGUuc2RwPWkoZS5zZHApLHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3Qub25uZWdvdGlhdGlvbm5lZWRlZCYmdC5vbm5lZ290aWF0aW9ubmVlZGVkKHQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHApfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcImNyZWF0ZU9mZmVyIGVycm9yOiBcIixlKX0pKSl9LHQuaXNTdWJzY3JpYmVyfHwodC5wZWVyQ29ubmVjdGlvbi5vbm5lZ290aWF0aW9ubmVlZGVkPXQucmVuZWdvdGlhdGUpLHQub25hZGRzdHJlYW09bnVsbCx0Lm9ucmVtb3Zlc3RyZWFtPW51bGwsdC5zdGF0ZT1cIm5ld1wiLHQubWFya0FjdGlvbk5lZWRlZCgpLHR9O2Z1bmN0aW9uIHYoZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN5bWJvbHx8bnVsbD09ZVtTeW1ib2wuaXRlcmF0b3JdKXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gRShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtcIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIEFycmF5LmZyb20obik7aWYoXCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBFKGUsdCl9KGUpKSl7dmFyIHQ9MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gdD49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbdCsrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIsaSxvPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtyPWVbU3ltYm9sLml0ZXJhdG9yXSgpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9ci5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7YT0hMCxpPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fX19ZnVuY3Rpb24gRShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBTPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49KG1velJUQ1BlZXJDb25uZWN0aW9uLG1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbikscj0hMTt0LnVpZD1lLnVpZCx0LmlzVmlkZW9NdXRlPWUuaXNWaWRlb011dGUsdC5pc0F1ZGlvTXV0ZT1lLmlzQXVkaW9NdXRlLHQuaXNTdWJzY3JpYmVyPWUuaXNTdWJzY3JpYmVyLHQuY2xpZW50SWQ9ZS5jbGllbnRJZCx0LmZpbHRlclN0YXRzQ2FjaGU9W10sdC5vcmlnaW5TdGF0c0NhY2hlPVtdLHQubGFzdFRpbWVHZXRTdGF0cz1udWxsLHQucGNfY29uZmlnPXtpY2VTZXJ2ZXJzOltdfSxlLmljZVNlcnZlcnMgaW5zdGFuY2VvZiBBcnJheT9lLmljZVNlcnZlcnMubWFwKChmdW5jdGlvbihlKXswPT09ZS51cmwuaW5kZXhPZihcInN0dW46XCIpJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplLnVybH0pfSkpOihlLnN0dW5TZXJ2ZXJVcmwmJihlLnN0dW5TZXJ2ZXJVcmwgaW5zdGFuY2VvZiBBcnJheT9lLnN0dW5TZXJ2ZXJVcmwubWFwKChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWUmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXJsOmV9KX0pKTpcInN0cmluZ1wiPT10eXBlb2YgZS5zdHVuU2VydmVyVXJsJiZcIlwiIT09ZS5zdHVuU2VydmVyVXJsJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplLnN0dW5TZXJ2ZXJVcmx9KSksZS50dXJuU2VydmVycyYmKGUudHVyblNlcnZlcnMgaW5zdGFuY2VvZiBBcnJheT9lLnR1cm5TZXJ2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7ZS51ZHBwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudWRwcG9ydCtcIj90cmFuc3BvcnQ9dWRwXCJ9KSxcInN0cmluZ1wiPT10eXBlb2YgZS50Y3Bwb3J0JiZcIlwiIT09ZS50Y3Bwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudGNwcG9ydCtcIj90cmFuc3BvcnQ9dGNwXCJ9KSwhMD09PWUuZm9yY2V0dXJuJiYodC5wY19jb25maWcuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSk6dS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB0dXJuU2VydmVycyBpcyBub3QgYSBhcnJheVwiKSkpKSx2b2lkIDA9PT1lLmF1ZGlvJiYoZS5hdWRpbz0hMCksdm9pZCAwPT09ZS52aWRlbyYmKGUudmlkZW89ITApLHQubWVkaWFDb25zdHJhaW50cz17b2ZmZXJUb1JlY2VpdmVBdWRpbzplLmF1ZGlvLG9mZmVyVG9SZWNlaXZlVmlkZW86ZS52aWRlbyxtb3pEb250T2ZmZXJEYXRhQ2hhbm5lbDohMH0sdC5yb2FwU2Vzc2lvbklkPTEwMyx0LnBlZXJDb25uZWN0aW9uPW5ldyBsLlJUQ1BlZXJDb25uZWN0aW9uKHQucGNfY29uZmlnKSx0LmljZUNhbmRpZGF0ZVRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5pY2VDYW5kaWRhdGVUaW1lcj1udWxsLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1DYW5kaWRhdGVzIGNvbGxlY3RlZDogXCIpLmNvbmNhdCh0LmljZUNhbmRpZGF0ZUNvdW50KSksdC5tb3JlSWNlQ29taW5nJiYodC5tb3JlSWNlQ29taW5nPSExLHQubWFya0FjdGlvbk5lZWRlZCgpKX0pLE9iamVjdChmLmdldFBhcmFtZXRlcikoXCJDQU5ESURBVEVfVElNRU9VVFwiKSksdC5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXt2YXIgbixyLGksbztyPShuPXQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHApLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc3NyZmx4LitcXHJcXG4vKSxpPW4ubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzaG9zdC4rXFxyXFxuLyksbz1uLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc3JlbGF5LitcXHJcXG4vKSxudWxsPT09ciYmbnVsbD09PWkmJm51bGw9PT1vfHx2b2lkIDAhPT10LmljZXx8IXQuaWNlQ2FuZGlkYXRlVGltZXJ8fChjbGVhclRpbWVvdXQodC5pY2VDYW5kaWRhdGVUaW1lciksdC5pY2VDYW5kaWRhdGVUaW1lcj1udWxsLHQuaWNlPTAsdC5tb3JlSWNlQ29taW5nPSExLHQubWFya0FjdGlvbk5lZWRlZCgpKSx0LmljZUNhbmRpZGF0ZUNvdW50PXQuaWNlQ2FuZGlkYXRlQ291bnQrMX0sdC5jaGVja01MaW5lUmV2ZXJzZUluU0RQPWZ1bmN0aW9uKGUpe3JldHVybiEoIX5lLmluZGV4T2YoXCJtPWF1ZGlvXCIpfHwhfmUuaW5kZXhPZihcIm09dmlkZW9cIikpJiZlLmluZGV4T2YoXCJtPWF1ZGlvXCIpPmUuaW5kZXhPZihcIm09dmlkZW9cIil9LHQucmV2ZXJzZU1MaW5lSW5TRFA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIm09YXVkaW9cIiksbj10WzFdLnNwbGl0KFwibT12aWRlb1wiKSxyPVwibT12aWRlb1wiK25bMV0saT1cIm09YXVkaW9cIituWzBdO3JldHVybiBlPXRbMF0rcitpfSx0LnByb2Nlc3NTaWduYWxpbmdNZXNzYWdlPWZ1bmN0aW9uKHIpe3ZhciBpLG89SlNPTi5wYXJzZShyKTt0LmluY29taW5nTWVzc2FnZT1vLFwibmV3XCI9PT10LnN0YXRlP1wiT0ZGRVJcIj09PW8ubWVzc2FnZVR5cGU/KG8uc2RwPWgoby5zZHApLGk9e3NkcDpvLnNkcCx0eXBlOlwib2ZmZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgbihpKSwoZnVuY3Rpb24oKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1zZXRSZW1vdGVEZXNjcmlwdGlvbiBzdWNjZWVkZWRcIil9KSwoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmluZm8oXCJbXCIrdC5jbGllbnRJZCtcIl1zZXRSZW1vdGVEZXNjcmlwdGlvbiBmYWlsZWQ6IFwiK2UubmFtZSl9KSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkXCIsdC5tYXJrQWN0aW9uTmVlZGVkKCkpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK28ubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSk6XCJvZmZlci1zZW50XCI9PT10LnN0YXRlP1wiQU5TV0VSXCI9PT1vLm1lc3NhZ2VUeXBlPyhvLnNkcD1oKG8uc2RwKSxvLnNkcD1vLnNkcC5yZXBsYWNlKC8gZ2VuZXJhdGlvbiAwL2csXCJcIiksby5zZHA9by5zZHAucmVwbGFjZSgvIHVkcCAvZyxcIiBVRFAgXCIpLC0xIT09by5zZHAuaW5kZXhPZihcImE9Z3JvdXA6QlVORExFXCIpPyhvLnNkcD1vLnNkcC5yZXBsYWNlKC9hPWdyb3VwOkJVTkRMRSBhdWRpbyB2aWRlby8sXCJhPWdyb3VwOkJVTkRMRSBzZHBhcnRhXzAgc2RwYXJ0YV8xXCIpLG8uc2RwPW8uc2RwLnJlcGxhY2UoL2E9bWlkOmF1ZGlvLyxcImE9bWlkOnNkcGFydGFfMFwiKSxvLnNkcD1vLnNkcC5yZXBsYWNlKC9hPW1pZDp2aWRlby8sXCJhPW1pZDpzZHBhcnRhXzFcIikpOihvLnNkcD1vLnNkcC5yZXBsYWNlKC9hPW1pZDphdWRpby8sXCJhPW1pZDpzZHBhcnRhXzBcIiksby5zZHA9by5zZHAucmVwbGFjZSgvYT1taWQ6dmlkZW8vLFwiYT1taWQ6c2RwYXJ0YV8wXCIpKSxpPXtzZHA6by5zZHAsdHlwZTpcImFuc3dlclwifSxlLnNjcmVlbiYmXCJkZXRhaWxcIj09PWUub3B0aW1pemF0aW9uTW9kZSYmKHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnQsXCJdIHJlbW92ZSBzY3JlZW4gc2hhcmUgYWJzIGV4dFwiKSksby5zZHA9RShpLnNkcCkpLHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG4oaSksKGZ1bmN0aW9uKCl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gc3VjY2VlZGVkXCIpfSksKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5pbmZvKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbGVkOiBcIitlKX0pKSx0LnN0YXRlPVwiZXN0YWJsaXNoZWRcIik6XCJwci1hbnN3ZXJcIj09PW8ubWVzc2FnZVR5cGU/KGk9e3NkcDpvLnNkcCx0eXBlOlwicHItYW5zd2VyXCJ9LHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG4oaSksKGZ1bmN0aW9uKCl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gc3VjY2VlZGVkXCIpfSksKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5pbmZvKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbGVkOiBcIitlLm5hbWUpfSkpKTpcIm9mZmVyXCI9PT1vLm1lc3NhZ2VUeXBlP3QuZXJyb3IoXCJOb3Qgd3JpdHRlbiB5ZXRcIik6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIrby5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKTpcImVzdGFibGlzaGVkXCI9PT10LnN0YXRlJiYoXCJPRkZFUlwiPT09by5tZXNzYWdlVHlwZT8oaT17c2RwOm8uc2RwLHR5cGU6XCJvZmZlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBuKGkpLChmdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIHN1Y2NlZWRlZFwiKX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuaW5mbyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIGZhaWxlZDogXCIrZS5uYW1lKX0pKSx0LnN0YXRlPVwib2ZmZXItcmVjZWl2ZWRcIix0Lm1hcmtBY3Rpb25OZWVkZWQoKSk6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIrby5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKSl9LHQuc2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlPWQoKShzLmEubWFyaygoZnVuY3Rpb24gZShuKXt2YXIgcixpLG87cmV0dXJuIHMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLGk9ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvXCI9PT1lLnRyYWNrLmtpbmR9KSkpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdChcInJldHVyblwiKTtjYXNlIDQ6cmV0dXJuKG89aS5nZXRQYXJhbWV0ZXJzKCkpLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1uLGUucHJldj02LHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gc2V0UGFyYW1ldGVyc1wiKSxvKSxlLm5leHQ9MTAsaS5zZXRQYXJhbWV0ZXJzKG8pO2Nhc2UgMTA6ZS5uZXh0PTE1O2JyZWFrO2Nhc2UgMTI6ZS5wcmV2PTEyLGUudDA9ZS5jYXRjaCg2KSx1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlcnMgZmFpbGVkLCBpZ25vcmVcIikpO2Nhc2UgMTU6Y2FzZVwiZW5kXCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbnVsbCxbWzYsMTJdXSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpO3ZhciBpPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJvcHVzXCIsZ29vZ0NvZGVjTmFtZTpcIm9wdXNcIixhZWNEaXZlcmdlbnRGaWx0ZXJGcmFjdGlvbjpcIjBcIixhdWRpb0lucHV0TGV2ZWw6XCIwXCIsYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zczpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudDpcIjBcIn0sbz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTplLmNvZGVjP2UuY29kZWMudG9VcHBlckNhc2UoKTpcIlwiLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nQWRhcHRhdGlvbkNoYW5nZXM6XCIwXCIsZ29vZ0F2Z0VuY29kZU1zOlwiMFwiLGdvb2dFbmNvZGVVc2FnZVBlcmNlbnQ6XCIwXCIsZ29vZ0ZpcnNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVIZWlnaHRTZW50OlwiMFwiLGdvb2dGcmFtZUhlaWdodElucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhJbnB1dDpcIjBcIixnb29nTmFja3NSZWNlaXZlZDpcIjBcIixnb29nUGxpc1JlY2VpdmVkOlwiMFwiLGdvb2dSdHQ6XCIwXCJ9LGE9e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGF1ZGlvT3V0cHV0TGV2ZWw6XCIwXCIsYnl0ZXNSZWNlaXZlZDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0FjY2VsZXJhdGVSYXRlOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nRGVjb2RpbmdDTkc6XCIwXCIsZ29vZ0RlY29kaW5nQ1ROOlwiMFwiLGdvb2dEZWNvZGluZ0NUU0c6XCIwXCIsZ29vZ0RlY29kaW5nTm9ybWFsOlwiMFwiLGdvb2dEZWNvZGluZ1BMQzpcIjBcIixnb29nRGVjb2RpbmdQTENDTkc6XCIwXCIsZ29vZ0V4cGFuZFJhdGU6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpcIjBcIixnb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGU6XCIwXCIsZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZTpcIjBcIixnb29nU3BlZWNoRXhwYW5kUmF0ZTpcIjBcIn0sYz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ1RhcmdldERlbGF5TXM6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIsZ29vZ0RlY29kZU1zOlwiMFwiLGdvb2dNYXhEZWNvZGVNczpcIjBcIixnb29nUmVuZGVyRGVsYXlNczpcIjBcIixnb29nRnJhbWVXaWR0aFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVSYXRlRGVjb2RlZDpcIjBcIixnb29nRnJhbWVSYXRlT3V0cHV0OlwiMFwiLGdvb2dKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nQ3VycmVudERlbGF5TXM6XCIwXCIsZ29vZ01pblBsYXlvdXREZWxheU1zOlwiMFwiLGdvb2dOYWNrc1NlbnQ6XCIwXCIsZ29vZ1BsaXNTZW50OlwiMFwiLGdvb2dGaXJzU2VudDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVzRGVjb2RlZDpcIjBcIn0scD0wLGc9MCxtPTA7dC5nZXRWaWRlb1JlbGF0ZWRTdGF0cz1mdW5jdGlvbihlKXt0LnBlZXJDb25uZWN0aW9uLmdldFN0YXRzKCkudGhlbigoZnVuY3Rpb24obil7dmFyIHIsaT12KG4udmFsdWVzKCkpO3RyeXtmb3IoaS5zKCk7IShyPWkubigpKS5kb25lOyl7dmFyIG89ci52YWx1ZTtpZih0LmlzU3Vic2NyaWJlcil7aWYoKFwiaW5ib3VuZC1ydHBcIj09PW8udHlwZXx8XCJpbmJvdW5kcnRwXCI9PT1vLnR5cGUpJiZcInZpZGVvXCI9PT1vLm1lZGlhVHlwZSl7aWYoIXQubGFzdFJlcG9ydClyZXR1cm4gdm9pZCh0Lmxhc3RSZXBvcnQ9byk7ZSYmZSh7YnJvd3NlcjpcImZpcmVmb3hcIixtZWRpYVR5cGU6XCJ2aWRlb1wiLHBlZXJJZDp0LnVpZCxpc1ZpZGVvTXV0ZTp0LmlzVmlkZW9NdXRlLGZyYW1lUmF0ZVJlY2VpdmVkOk1hdGgucm91bmQoby5mcmFtZXJhdGVNZWFuKStcIlwiLGZyYW1lUmF0ZURlY29kZWQ6by5mcmFtZXNEZWNvZGVkLXQubGFzdFJlcG9ydC5mcmFtZXNEZWNvZGVkK1wiXCIsYnl0ZXNSZWNlaXZlZDpvLmJ5dGVzUmVjZWl2ZWQrXCJcIixwYWNrZXRzUmVjZWl2ZWQ6by5wYWNrZXRzUmVjZWl2ZWQrXCJcIixwYWNrZXRzTG9zdDpvLnBhY2tldHNMb3N0K1wiXCJ9KSx0Lmxhc3RSZXBvcnQ9b319ZWxzZSBpZigoXCJvdXRib3VuZC1ydHBcIj09PW8udHlwZXx8XCJvdXRib3VuZHJ0cFwiPT09by50eXBlKSYmXCJ2aWRlb1wiPT09by5tZWRpYVR5cGUpe2lmKCF0Lmxhc3RSZXBvcnQpcmV0dXJuIHZvaWQodC5sYXN0UmVwb3J0PW8pO2UmJmUoe21lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6dC5pc1ZpZGVvTXV0ZSxmcmFtZVJhdGVJbnB1dDpNYXRoLnJvdW5kKG8uZnJhbWVyYXRlTWVhbikrXCJcIixmcmFtZVJhdGVTZW50Om8uZnJhbWVzRW5jb2RlZC10Lmxhc3RSZXBvcnQuZnJhbWVzRW5jb2RlZCtcIlwifSksdC5sYXN0UmVwb3J0PW99fX1jYXRjaChlKXtpLmUoZSl9ZmluYWxseXtpLmYoKX19KSl9LHQuZ2V0QXVkaW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24oZSl7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByLGk9dihuLnZhbHVlcygpKTt0cnl7Zm9yKGkucygpOyEocj1pLm4oKSkuZG9uZTspe3ZhciBvPXIudmFsdWU7dC5pc1N1YnNjcmliZXImJihcImluYm91bmQtcnRwXCIhPT1vLnR5cGUmJlwiaW5ib3VuZHJ0cFwiIT09by50eXBlfHxcImF1ZGlvXCIhPT1vLm1lZGlhVHlwZXx8ZSYmZSh7YnJvd3NlcjpcImZpcmVmb3hcIixtZWRpYVR5cGU6XCJhdWRpb1wiLHBlZXJJZDp0LnVpZCxpc0F1ZGlvTXV0ZTp0LmlzQXVkaW9NdXRlLGZyYW1lRHJvcHBlZDpvLnBhY2tldHNMb3N0K1wiXCIsZnJhbWVSZWNlaXZlZDpvLnBhY2tldHNSZWNlaXZlZCtcIlwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpvLmppdHRlcitcIlwiLGJ5dGVzUmVjZWl2ZWQ6by5ieXRlc1JlY2VpdmVkK1wiXCIscGFja2V0c1JlY2VpdmVkOm8ucGFja2V0c1JlY2VpdmVkK1wiXCIscGFja2V0c0xvc3Q6by5wYWNrZXRzTG9zdCtcIlwifSkpfX1jYXRjaChlKXtpLmUoZSl9ZmluYWxseXtpLmYoKX19KSl9LHQuZ2V0U3RhdHNSYXRlPWZ1bmN0aW9uKGUpe3QuZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7fSkpLGUodCl9KSl9LHQuZ2V0U3RhdHM9ZnVuY3Rpb24oZSxuKXtuPShuPW58fDUwMCk+NTAwPzUwMDpuLHQubGFzdFRpbWVHZXRTdGF0cyYmRGF0ZS5ub3coKS10Lmxhc3RUaW1lR2V0U3RhdHM8bj9lJiZlKHQuZmlsdGVyU3RhdHNDYWNoZSx0Lm9yaWdpblN0YXRzQ2FjaGUpOnRoaXMuX2dldFN0YXRzKChmdW5jdGlvbihuLHIpe3QuZmlsdGVyU3RhdHNDYWNoZT1uLHQub3JpZ2luU3RhdHNDYWNoZT1yLHQubGFzdFRpbWVHZXRTdGF0cz1EYXRlLm5vdygpLGUmJmUobixyKX0pKX0sdC5fZ2V0U3RhdHM9ZnVuY3Rpb24obil7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBzLGQ9W10sdT12KHIudmFsdWVzKCkpO3RyeXtmb3IodS5zKCk7IShzPXUubigpKS5kb25lOyl7dmFyIGw9cy52YWx1ZTtkLnB1c2gobCksXCJvdXRib3VuZC1ydHBcIiE9PWwudHlwZSYmXCJvdXRib3VuZHJ0cFwiIT09bC50eXBlfHxcInZpZGVvXCIhPT1sLm1lZGlhVHlwZXx8LTEhPT1sLmlkLmluZGV4T2YoXCJydGNwXCIpfHwoby5pZD1sLmlkLG8udHlwZT1sLnR5cGUsby5tZWRpYVR5cGU9bC5tZWRpYVR5cGUsby5ieXRlc1NlbnQ9bC5ieXRlc1NlbnQ/bC5ieXRlc1NlbnQrXCJcIjpcIjBcIixvLnBhY2tldHNTZW50PWwucGFja2V0c1NlbnQ/bC5wYWNrZXRzU2VudCtcIlwiOlwiMFwiLG8uZ29vZ1BsaXNSZWNlaXZlZD1sLnBsaUNvdW50P2wucGxpQ291bnQrXCJcIjpcIjBcIixvLmdvb2dOYWNrc1JlY2VpdmVkPWwubmFja0NvdW50P2wubmFja0NvdW50K1wiXCI6XCIwXCIsby5nb29nRmlyc1JlY2VpdmVkPWwuZmlyQ291bnQ/bC5maXJDb3VudCtcIlwiOlwiMFwiLG8uZ29vZ0ZyYW1lUmF0ZVNlbnQ9bC5mcmFtZXJhdGVNZWFuP01hdGgucm91bmQobC5mcmFtZXJhdGVNZWFuKStcIlwiOlwiMFwiKSxcIm91dGJvdW5kLXJ0cFwiIT09bC50eXBlJiZcIm91dGJvdW5kcnRwXCIhPT1sLnR5cGV8fFwiYXVkaW9cIiE9PWwubWVkaWFUeXBlfHwtMSE9PWwuaWQuaW5kZXhPZihcInJ0Y3BcIil8fChpLmlkPWwuaWQsaS50eXBlPWwudHlwZSxpLm1lZGlhVHlwZT1sLm1lZGlhVHlwZSxpLmJ5dGVzU2VudD1sLmJ5dGVzU2VudD9sLmJ5dGVzU2VudCtcIlwiOlwiMFwiLGkucGFja2V0c1NlbnQ9bC5wYWNrZXRzU2VudD9sLnBhY2tldHNTZW50K1wiXCI6XCIwXCIsZS5hZ29yYVN0cmVhbS5sb2NhbCYmKGkuYXVkaW9JbnB1dExldmVsPU1hdGgucm91bmQoMzI3NjcqZS5hZ29yYVN0cmVhbS5nZXRBdWRpb0xldmVsKCkpLnRvU3RyaW5nKCkpKSxcImluYm91bmQtcnRwXCIhPT1sLnR5cGUmJlwiaW5ib3VuZHJ0cFwiIT09bC50eXBlfHxcImF1ZGlvXCIhPT1sLm1lZGlhVHlwZXx8bC5pc1JlbW90ZXx8LTEhPT1sLmlkLmluZGV4T2YoXCJydGNwXCIpfHwoYS5pZD1sLmlkLGEudHlwZT1sLnR5cGUsYS5tZWRpYVR5cGU9bC5tZWRpYVR5cGUsYS5ieXRlc1JlY2VpdmVkPWwuYnl0ZXNSZWNlaXZlZD9sLmJ5dGVzUmVjZWl2ZWQrXCJcIjpcIjBcIixhLnBhY2tldHNMb3N0PWwucGFja2V0c0xvc3Q/bC5wYWNrZXRzTG9zdCtcIlwiOlwiMFwiLGEucGFja2V0c1JlY2VpdmVkPWwucGFja2V0c1JlY2VpdmVkP2wucGFja2V0c1JlY2VpdmVkK1wiXCI6XCIwXCIsYS5nb29nSml0dGVyUmVjZWl2ZWQ9bC5qaXR0ZXI/bC5qaXR0ZXIrXCJcIjpcIjBcIixlLmFnb3JhU3RyZWFtLmxvY2FsfHwoYS5hdWRpb091dHB1dExldmVsPU1hdGgucm91bmQoMzI3NjcqZS5hZ29yYVN0cmVhbS5nZXRBdWRpb0xldmVsKCkpLnRvU3RyaW5nKCkpKSxcImluYm91bmQtcnRwXCIhPT1sLnR5cGUmJlwiaW5ib3VuZHJ0cFwiIT09bC50eXBlfHxcInZpZGVvXCIhPT1sLm1lZGlhVHlwZXx8bC5pc1JlbW90ZXx8LTEhPT1sLmlkLmluZGV4T2YoXCJydGNwXCIpfHwoYy5pZD1sLmlkLGMudHlwZT1sLnR5cGUsYy5tZWRpYVR5cGU9bC5tZWRpYVR5cGUsYy5ieXRlc1JlY2VpdmVkPWwuYnl0ZXNSZWNlaXZlZD9sLmJ5dGVzUmVjZWl2ZWQrXCJcIjpcIjBcIixjLmdvb2dGcmFtZVJhdGVSZWNlaXZlZD1sLmZyYW1lcmF0ZU1lYW4/TWF0aC5yb3VuZChsLmZyYW1lcmF0ZU1lYW4pK1wiXCI6XCIwXCIsYy5nb29nRnJhbWVzRGVjb2RlZD1sLmZyYW1lc0RlY29kZWQ/bC5mcmFtZXNEZWNvZGVkK1wiXCI6XCIwXCIsRGF0ZS5ub3coKS1tPj0xZTM/KGMuZ29vZ0ZyYW1lUmF0ZURlY29kZWQ9KGwuZnJhbWVzRGVjb2RlZC1wKS8oKERhdGUubm93KCktbSkvMWUzKSxjLmdvb2dGcmFtZVJhdGVEZWNvZGVkPU1hdGgucm91bmQoTWF0aC5tYXgoMCxjLmdvb2dGcmFtZVJhdGVEZWNvZGVkKSksbT1EYXRlLm5vdygpLGc9Yy5nb29nRnJhbWVSYXRlRGVjb2RlZCxwPWwuZnJhbWVzRGVjb2RlZCxjLmdvb2dGcmFtZVJhdGVEZWNvZGVkPWMuZ29vZ0ZyYW1lUmF0ZURlY29kZWQudG9TdHJpbmcoKSk6Yy5nb29nRnJhbWVSYXRlRGVjb2RlZD1nLnRvU3RyaW5nKCksYy5wYWNrZXRzTG9zdD1sLnBhY2tldHNMb3N0P2wucGFja2V0c0xvc3QrXCJcIjpcIjBcIixjLnBhY2tldHNSZWNlaXZlZD1sLnBhY2tldHNSZWNlaXZlZD9sLnBhY2tldHNSZWNlaXZlZCtcIlwiOlwiMFwiLGMuZ29vZ0ppdHRlckJ1ZmZlck1zPWwuaml0dGVyP2wuaml0dGVyK1wiXCI6XCIwXCIsYy5nb29nTmFja3NTZW50PWwubmFja0NvdW50P2wubmFja0NvdW50K1wiXCI6XCIwXCIsYy5nb29nUGxpc1NlbnQ9bC5wbGlDb3VudD9sLnBsaUNvdW50K1wiXCI6XCIwXCIsYy5nb29nRmlyc1NlbnQ9bC5maXJDb3VudD9sLmZpckNvdW50K1wiXCI6XCIwXCIpLC0xIT09bC5pZC5pbmRleE9mKFwib3V0Ym91bmRfcnRjcF92aWRlb1wiKSYmKG8ucGFja2V0c0xvc3Q9bC5wYWNrZXRzTG9zdD9sLnBhY2tldHNMb3N0K1wiXCI6XCIwXCIpfX1jYXRjaChlKXt1LmUoZSl9ZmluYWxseXt1LmYoKX12YXIgZj1bbyxpLGEsY107Zi5wdXNoKHtpZDpcInRpbWVcIixzdGFydFRpbWU6dC5jb25uZWN0ZWRUaW1lLHRpbWVzdGFtcDpuZXcgRGF0ZX0pLG4oZixkKX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuZXJyb3IoXCJbXCIrdC5jbGllbnRJZCtcIl1cIitlKX0pKX0sdC5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7cj0hMCx0LnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShlKSx0Lm1hcmtBY3Rpb25OZWVkZWQoKX0sdC5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oKXt0Lm1hcmtBY3Rpb25OZWVkZWQoKX0sdC5jbG9zZT1mdW5jdGlvbigpe3Quc3RhdGU9XCJjbG9zZWRcIix0LnBlZXJDb25uZWN0aW9uLmNsb3NlKCl9LHQubWFya0FjdGlvbk5lZWRlZD1mdW5jdGlvbigpe3QuYWN0aW9uTmVlZGVkPSEwLHQuZG9MYXRlcigoZnVuY3Rpb24oKXt0Lm9uc3RhYmxlc3RhdGUoKX0pKX0sdC5kb0xhdGVyPWZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMSl9LHQub25zdGFibGVzdGF0ZT1mdW5jdGlvbigpe2lmKHQuYWN0aW9uTmVlZGVkKXtpZihcIm5ld1wiPT09dC5zdGF0ZXx8XCJlc3RhYmxpc2hlZFwiPT09dC5zdGF0ZSl7ciYmKHQubWVkaWFDb25zdHJhaW50cz12b2lkIDApLHQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKGZ1bmN0aW9uKGUpe2lmKGUuc2RwPWgoZS5zZHApLGUuc2RwPWUuc2RwLnJlcGxhY2UoL2E9ZXh0bWFwOjEgaHR0cDpcXC9cXC93d3cud2VicnRjLm9yZ1xcL2V4cGVyaW1lbnRzXFwvcnRwLWhkcmV4dFxcL2Ficy1zZW5kLXRpbWUvLFwiYT1leHRtYXA6MyBodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCIpLGUuc2RwIT09dC5wcmV2T2ZmZXIpcmV0dXJuIHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKSx0LnN0YXRlPVwicHJlcGFyaW5nLW9mZmVyXCIsdm9pZCB0Lm1hcmtBY3Rpb25OZWVkZWQoKTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1Ob3Qgc2VuZGluZyBhIG5ldyBvZmZlclwiKX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1VcHMhIGNyZWF0ZSBvZmZlciBmYWlsZWQgXCIsZSl9KSx0Lm1lZGlhQ29uc3RyYWludHMpfWVsc2UgaWYoXCJwcmVwYXJpbmctb2ZmZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47dC5wcmV2T2ZmZXI9dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCx0Lm9mZmVyQ2FuZGlkYXRlcz10LnByZXZPZmZlci5tYXRjaCgvYT1jYW5kaWRhdGUuK1xcclxcbi9nKXx8W10sdC5vZmZlckNhbmRpZGF0ZXMubGVuZ3RofHwoZS5pc0Nsb3VkUHJveHkzJiZlLm9uTm9JY2VDYW5kaWRhdGUmJmUub25Ob0ljZUNhbmRpZGF0ZSgpLHUuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXU5vIEljZSBDYW5kaWRhdGUgZ2VuZXJhdGVkXCIpKSxPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiU0hJTV9DQU5ESURBVEVcIik/KHUuZGVmYXVsdC5kZWJ1ZyhcIlNoaW1taW5nIGZha2UgY2FuZGlkYXRlXCIpLHQucHJldk9mZmVyKz1cImE9Y2FuZGlkYXRlOjIyNDMyNTU0MzUgMSB1ZHAgMjEyMjE5NDY4NyAxOTIuMTY4LjAuMSAzMDAwMCB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAxXFxyXFxuXCIpOnUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1Ob25lIEljZSBDYW5kaWRhdGUgbm90IGFsbG93ZWRcIikpKSx0LnByZXZPZmZlcj10LnByZXZPZmZlci5yZXBsYWNlKC9hPWNhbmRpZGF0ZTouK3R5cFxcc2hvc3QuK1xcclxcbi9nLFwiYT1jYW5kaWRhdGU6MjI0MzI1NTQzNSAxIHVkcCAyMTIyMTk0Njg3IDE5Mi4xNjguMC4xIDMwMDAwIHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDFcXHJcXG5cIiksdC5zZW5kTWVzc2FnZShcIk9GRkVSXCIsdC5wcmV2T2ZmZXIpLHQuc3RhdGU9XCJvZmZlci1zZW50XCJ9ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkXCI9PT10LnN0YXRlKXQucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKChmdW5jdGlvbihlKXtpZih0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIix0LmljZVN0YXJ0ZWQpdC5tYXJrQWN0aW9uTmVlZGVkKCk7ZWxzZXt2YXIgbj1uZXcgRGF0ZTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1cIituLmdldFRpbWUoKStcIjogU3RhcnRpbmcgSUNFIGluIHJlc3BvbmRlclwiKSx0LmljZVN0YXJ0ZWQ9ITB9fSksKGZ1bmN0aW9uKCl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdVXBzISBTb21ldGhpbmcgd2VudCB3cm9uZ1wiKX0pKTtlbHNlIGlmKFwib2ZmZXItcmVjZWl2ZWQtcHJlcGFyaW5nLWFuc3dlclwiPT09dC5zdGF0ZSl7aWYodC5tb3JlSWNlQ29taW5nKXJldHVybjt2YXIgbj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwO3Quc2VuZE1lc3NhZ2UoXCJBTlNXRVJcIixuKSx0LnN0YXRlPVwiZXN0YWJsaXNoZWRcIn1lbHNlIHQuZGVidWcoXCJEYXplZCBhbmQgY29uZnVzZWQgaW4gc3RhdGUgXCIrdC5zdGF0ZStcIiwgc3RvcHBpbmcgaGVyZVwiKTt0LmFjdGlvbk5lZWRlZD0hMX19LHQuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSxuKXt2YXIgcj17fTtyLm1lc3NhZ2VUeXBlPWUsci5zZHA9bixcIk9GRkVSXCI9PT1lPyhyLm9mZmVyZXJTZXNzaW9uSWQ9dC5zZXNzaW9uSWQsci5hbnN3ZXJlclNlc3Npb25JZD10Lm90aGVyU2Vzc2lvbklkLHIuc2VxPXQuc2VxdWVuY2VOdW1iZXIrPTEsci50aWVicmVha2VyPU1hdGguZmxvb3IoNDI5NDk2NzIzKk1hdGgucmFuZG9tKCkrMSkpOihyLm9mZmVyZXJTZXNzaW9uSWQ9dC5pbmNvbWluZ01lc3NhZ2Uub2ZmZXJlclNlc3Npb25JZCxyLmFuc3dlcmVyU2Vzc2lvbklkPXQuc2Vzc2lvbklkLHIuc2VxPXQuaW5jb21pbmdNZXNzYWdlLnNlcSksdC5vbnNpZ25hbGluZ21lc3NhZ2UoSlNPTi5zdHJpbmdpZnkocikpfSx0Ll9nZXRTZW5kZXI9ZnVuY3Rpb24oZSl7aWYodC5wZWVyQ29ubmVjdGlvbiYmdC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKXt2YXIgbj10LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjay5raW5kPT1lfSkpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LHQuaGFzU2VuZGVyPWZ1bmN0aW9uKGUpe3JldHVybiEhdC5fZ2V0U2VuZGVyKGUpfSx0LnJlcGxhY2VUcmFjaz1mdW5jdGlvbihlLG4scil7dmFyIGk9dC5fZ2V0U2VuZGVyKGUua2luZCk7aWYoIWkpe3JldHVybiByKFwiTk9fU0VOREVSX0ZPVU5EXCIpfXRyeXtpLnJlcGxhY2VUcmFjayhlKX1jYXRjaChlKXtyZXR1cm4gciYmcihlKX1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBuJiZuKCl9KSw1MCl9LHQuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3dcIkVycm9yIGluIFJvYXBPbkpzZXA6IFwiK2V9LHQuc2Vzc2lvbklkPXQucm9hcFNlc3Npb25JZCs9MSx0LnNlcXVlbmNlTnVtYmVyPTAsdC5hY3Rpb25OZWVkZWQ9ITEsdC5pY2VTdGFydGVkPSExLHQubW9yZUljZUNvbWluZz0hMCx0LmljZUNhbmRpZGF0ZUNvdW50PTAsdC5vbnNpZ25hbGluZ21lc3NhZ2U9ZS5jYWxsYmFjayx0LnBlZXJDb25uZWN0aW9uLm9udHJhY2s9ZnVuY3Rpb24oZSl7dC5vbmFkZHN0cmVhbSYmdC5vbmFkZHN0cmVhbShlLFwib250cmFja1wiKX0sdC5wZWVyQ29ubmVjdGlvbi5vbnJlbW92ZXN0cmVhbT1mdW5jdGlvbihlKXt0Lm9ucmVtb3Zlc3RyZWFtJiZ0Lm9ucmVtb3Zlc3RyZWFtKGUpfSx0LnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe1wiY29ubmVjdGVkXCI9PT1lLmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlJiYodC5jb25uZWN0ZWRUaW1lPW5ldyBEYXRlKSx0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGUuY3VycmVudFRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUpfTt2YXIgaD1mdW5jdGlvbih0KXt2YXIgbjtpZihlLnZpZGVvJiZlLm1heFZpZGVvQlcmJihudWxsPT0obj10Lm1hdGNoKC9tPXZpZGVvLipcXHJcXG4vKSkmJihuPXQubWF0Y2goL209dmlkZW8uKlxcbi8pKSxuJiZuLmxlbmd0aD4wKSl7dmFyIHI9blswXStcImI9VElBUzpcIisxZTMqZS5tYXhWaWRlb0JXK1wiXFxyXFxuXCI7dD10LnJlcGxhY2UoblswXSxyKX1pZihlLmF1ZGlvJiZlLm1heEF1ZGlvQlcmJihudWxsPT0obj10Lm1hdGNoKC9tPWF1ZGlvLipcXHJcXG4vKSkmJihuPXQubWF0Y2goL209YXVkaW8uKlxcbi8pKSxuJiZuLmxlbmd0aD4wKSl7cj1uWzBdK1wiYj1USUFTOlwiKzFlMyplLm1heEF1ZGlvQlcrXCJcXHJcXG5cIjt0PXQucmVwbGFjZShuWzBdLHIpfXJldHVybiB0fSxFPWZ1bmN0aW9uKGUpe3JldHVybihlPWUucmVwbGFjZSgvYT0uKmFicy1zZW5kLXRpbWVcXHJcXG4vZyxcIlwiKSkucmVwbGFjZSgvYT0uKmdvb2ctcmVtYlxcclxcbi9nLFwiXCIpfTtyZXR1cm4gdC5vbmFkZHN0cmVhbT1udWxsLHQub25yZW1vdmVzdHJlYW09bnVsbCx0LnN0YXRlPVwibmV3XCIsdC5tYXJrQWN0aW9uTmVlZGVkKCksdH0sXz1uKDUwKSx5PW4ubihfKSxSPW4oMjYpLFQ9KG4oNCksMTAzKSxJPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKHQuY2xpZW50SWQ9ZS5jbGllbnRJZCxlLnNlc3Npb25faWQ9VCs9MSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhd2luZG93Lm5hdmlnYXRvcil0aHJvdyB1LmRlZmF1bHQuZXJyb3IoXCJbXCIrdC5zdHJlYW1JZCtcIl1bXCIrdC5jbGllbnRJZCtcIl1QdWJsaXNoL3N1YnNjcmliZSB2aWRlby9hdWRpbyBzdHJlYW1zIG5vdCBzdXBwb3J0ZWQgeWV0XCIpLG5ldyBFcnJvcihcIk5PTl9CUk9XU0VSX0VOVl9ERVRFQ1RFRFwiKTtyZXR1cm4gbnVsbCE9PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKFwiRmlyZWZveFwiKT8odC5icm93c2VyPVwibW96aWxsYVwiLHQ9UyhlKSk6XCJpT1NcIj09PXIuZ2V0QnJvd3Nlck9TKCl8fHIuaXNTYWZhcmkoKT8odS5kZWZhdWx0LmRlYnVnKFwiW1wiK3Quc3RyZWFtSWQrXCJdW1wiK3QuY2xpZW50SWQrXCJdU2FmYXJpXCIpLCh0PWgoZSkpLmJyb3dzZXI9XCJzYWZhcmlcIik6fndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJFZGdlXCIpP3Q9bmV3IHkuYShlKToodD1tKGUpKS5icm93c2VyPVwiY2hyb21lLXN0YWJsZVwiLHR9LGI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXt9O2kuY29uZmlnPWUsaS5zdHJlYW1JZD1lLnN0cmVhbUlkLGRlbGV0ZSBlLnN0cmVhbUlkLG5hdmlnYXRvci5nZXRNZWRpYT1uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWE7dmFyIG89MCxhPTEscz0hMSxjPW51bGwsZD1mdW5jdGlvbihlKXtpZihvKyssYylpZihjPT09ZSl1LmRlZmF1bHQuZGVidWcoXCJVc2luZyBWaWRlbyBTb3VyY2UvIEF1ZGlvIFNvdXJjZVwiKTtlbHNle3ZhciBuPWMuZ2V0VmlkZW9UcmFja3MoKVswXSxyPWMuZ2V0QXVkaW9UcmFja3MoKVswXSxpPWUuZ2V0VmlkZW9UcmFja3MoKVswXSxkPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtpJiYobiYmYy5yZW1vdmVUcmFjayhuKSxjLmFkZFRyYWNrKGkpKSxkJiYociYmYy5yZW1vdmVUcmFjayhyKSxjLmFkZFRyYWNrKGQpKX1lbHNlIGM9ZTtvIT09YXx8c3x8KHM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KGMpfSksMCkpfSxsPWZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5lcnJvcihcIkZhaWxlZCB0byBHZXRVc2VyTWVkaWFcIixlLm5hbWUsZS5jb2RlLGUubWVzc2FnZSxlKSxvKyssc3x8KHM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuJiZuKGUpfSksMCkpfSxmPWZ1bmN0aW9uKCl7dmFyIHQ9e3ZpZGVvOmUudmlkZW8sYXVkaW86ZS5hdWRpb307aWYodS5kZWZhdWx0LmRlYnVnKFwiR2V0VXNlck1lZGlhXCIsSlNPTi5zdHJpbmdpZnkodCkpLG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHQpLnRoZW4oZCkuY2F0Y2gobCk7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IuZ2V0TWVkaWEpbmF2aWdhdG9yLmdldE1lZGlhKGUsZCxsKTtlbHNle3ZhciByPXtuYW1lOlwiTUVESUFfTk9UX1NVUFBPUlRcIixtZXNzYWdlOlwiVmlkZW8vYXVkaW8gc3RyZWFtcyBub3Qgc3VwcG9ydGVkIHlldFwifTt1LmRlZmF1bHQuZXJyb3IoXCJbXCIraS5zdHJlYW1JZCtcIl1cIityLm1lc3NhZ2UpLG4mJm4ocil9fTtpZigoZS52aWRlb1NvdXJjZXx8ZS5hdWRpb1NvdXJjZSkmJihjPW5ldyBNZWRpYVN0cmVhbSxlLnZpZGVvU291cmNlJiZjLmFkZFRyYWNrKGUudmlkZW9Tb3VyY2UpLGUuYXVkaW9Tb3VyY2UmJmMuYWRkVHJhY2soZS5hdWRpb1NvdXJjZSkpLGUudmlkZW98fGUuYXVkaW98fGUuc2NyZWVufHxlLnNjcmVlbkF1ZGlvKXtpZighZS5zY3JlZW4mJmUuc2NyZWVuQXVkaW8pcmV0dXJuIG4mJm4oe2NvZGU6XCJTZXQgc2NyZWVuIHRvIHRydWUgYmVmb3JlIHNoYXJpbmcgdGhlIGF1ZGlvXCJ9KTtpZihlLnNjcmVlbil7aWYoUi5hLmlzRWxlY3Ryb24oKSlyZXR1cm4gZS5zY3JlZW4uc291cmNlSWQ/Ui5hLmdldFNjcmVlblN0cmVhbShlLnNjcmVlbi5zb3VyY2VJZCxlLnNjcmVlbiwoZnVuY3Rpb24odCxuKXt0P2wodCk6KGUuYXVkaW8mJihhKyssZigpKSxkKG4pKX0pKTpSLmEuc2hhcmVTY3JlZW4oZS5zY3JlZW4sKGZ1bmN0aW9uKHQsbil7dD9sKHQpOihlLmF1ZGlvJiYoYSsrLGYoKSksZChuKSl9KSk7aWYoci5pc0ZpcmVGb3goKSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2kuc3RyZWFtSWQrXCJdU2NyZWVuIGFjY2VzcyByZXF1ZXN0ZWRcIik7aWYoIX5bXCJzY3JlZW5cIixcIndpbmRvd1wiLFwiYXBwbGljYXRpb25cIl0uaW5kZXhPZihlLnNjcmVlbi5tZWRpYVNvdXJjZSkpcmV0dXJuIG4mJm4oe2NvZGU6XCJJbnZhbGlkIG1lZGlhU291cmNlLCBtZWRpYVNvdXJjZSBzaG91bGQgYmUgb25lIG9mIFtzY3JlZW4sIHdpbmRvdywgYXBwbGljYXRpb25dXCJ9KTtuYXZpZ2F0b3IuZ2V0TWVkaWEoe3ZpZGVvOmUuc2NyZWVufSwoZnVuY3Rpb24odCl7ZS5hdWRpbyYmKGErKyxmKCkpLGQodCl9KSxsKX1lbHNlIGlmKHIuaXNDaHJvbWVLZXJuZWwoKSYmZS5zY3JlZW4uZXh0ZW5zaW9uSWQpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLylbMV08MzQpcmV0dXJuIHZvaWQgbih7Y29kZTpcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlbiBzaGFyaW5nXCJ9KTt1LmRlZmF1bHQuZGVidWcoXCJbXCIraS5zdHJlYW1JZCtcIl1TY3JlZW4gYWNjZXNzIG9uIGNocm9tZSBzdGFibGUsIGxvb2tpbmcgZm9yIGV4dGVuc2lvblwiKTt0cnl7Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoZS5zY3JlZW4uZXh0ZW5zaW9uSWQse2dldFN0cmVhbTohMH0sKGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpe3UuZGVmYXVsdC5lcnJvcihcIltcIitpLnN0cmVhbUlkK1wiXU5vIHJlc3BvbnNlIGZyb20gQ2hyb21lIFBsdWdpbi4gUGx1Z2luIG5vdCBpbnN0YWxsZWQgcHJvcGVybHlcIik7bCh7bmFtZTpcIlBsdWdpbk5vdEluc3RhbGxlZFByb3Blcmx5XCIsbWVzc2FnZTpcIk5vIHJlc3BvbnNlIGZyb20gQ2hyb21lIFBsdWdpbi4gUGx1Z2luIG5vdCBpbnN0YWxsZWQgcHJvcGVybHkuXCJ9KX1lbHNlIGUuc2NyZWVuLm1hbmRhdG9yeS5jaHJvbWVNZWRpYVNvdXJjZUlkPXQuc3RyZWFtSWQsbmF2aWdhdG9yLmdldE1lZGlhKHt2aWRlbzplLnNjcmVlbn0sKGZ1bmN0aW9uKHQpe2UuYXVkaW8mJihhKyssZigpKSxkKHQpfSksbCl9KSl9Y2F0Y2goZSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2kuc3RyZWFtSWQrXCJdQWdvcmFSVEMgc2NyZWVuc2hhcmluZyBwbHVnaW4gaXMgbm90IGFjY2Vzc2libGVcIik7cmV0dXJuIHZvaWQgbih7Y29kZTpcIm5vX3BsdWdpbl9wcmVzZW50XCJ9KX19ZWxzZXtpZih3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEpe3ZhciBwPXt9O3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlLnNjcmVlbi53aWR0aCYmXCJudW1iZXJcIj09dHlwZW9mIGUuc2NyZWVuLmhlaWdodD9wLnZpZGVvPXt3aWR0aDp7aWRlYWw6ZS5zY3JlZW4ud2lkdGh9LGhlaWdodDp7aWRlYWw6ZS5zY3JlZW4uaGVpZ2h0fX06cC52aWRlbz17d2lkdGg6ZS5zY3JlZW4ud2lkdGgsaGVpZ2h0OmUuc2NyZWVuLmhlaWdodH0sZS5zY3JlZW4uZnJhbWVSYXRlJiZlLnNjcmVlbi5mcmFtZVJhdGUubWluP3AudmlkZW8uZnJhbWVSYXRlPXtpZGVhbDplLnNjcmVlbi5mcmFtZVJhdGUubWF4LG1heDplLnNjcmVlbi5mcmFtZVJhdGUubWF4fTpwLnZpZGVvLmZyYW1lUmF0ZT1lLnNjcmVlbi5mcmFtZVJhdGUsZS5zY3JlZW5BdWRpbyYmKHAuYXVkaW89ZS5zY3JlZW5BdWRpbyksdS5kZWZhdWx0LmRlYnVnKFwidXNlIGdldERpc3BsYXlNZWRpYSwgY29uc3RyYWludHM6XCIscCksd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKHApLnRoZW4oKGZ1bmN0aW9uKHQpeyFlLnNjcmVlbkF1ZGlvJiZlLmF1ZGlvJiYoYSsrLGYoKSksZCh0KX0pKS5jYXRjaChsKX11LmRlZmF1bHQuZXJyb3IoXCJbXCIraS5zdHJlYW1JZCtcIl1UaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW5TaGFyaW5nXCIpLG4oe2NvZGU6XCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wifSl9fWVsc2UgZigpfWVsc2UgZChjKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKG4oMCkpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT10JiYodD1cIlwiKSx0aGlzLm5hbWU9XCJBZ29yYVJUQ0V4Y2VwdGlvblwiLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIrdGhpcy5jb2RlK1wiOiBcIit0LHRoaXMuZGF0YT1ufXJldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE/dGhpcy5tZXNzYWdlK1wiIGRhdGE6IFwiK0pTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSk6dGhpcy5tZXNzYWdlfSxlLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbigpe3Rocm93IGkuZGVmYXVsdC5lcnJvcih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9LGV9KCk7dC5BZ29yYVJUQ0Vycm9yPW8sZnVuY3Rpb24oZSl7ZS5VTkVYUEVDVEVEX0VSUk9SPVwiVU5FWFBFQ1RFRF9FUlJPUlwiLGUuVU5FWFBFQ1RFRF9SRVNQT05TRT1cIlVORVhQRUNURURfUkVTUE9OU0VcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5JTlZBTElEX1BBUkFNUz1cIklOVkFMSURfUEFSQU1TXCIsZS5OT1RfU1VQUE9SVD1cIk5PVF9TVVBQT1JUXCIsZS5JTlZBTElEX09QRVJBVElPTj1cIklOVkFMSURfT1BFUkFUSU9OXCIsZS5PUEVSQVRJT05fQUJPUlQ9XCJPUEVSQVRJT05fQUJPUlRcIixlLldFQl9TRUNVUklUWV9SRVNUUklDVD1cIldFQl9TRUNVUklUWV9SRVNUUklDVFwiLGUuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLk5FVFdPUktfVElNRU9VVD1cIk5FVFdPUktfVElNRU9VVFwiLGUuTkVUV09SS19SRVNQT05TRV9FUlJPUj1cIk5FVFdPUktfUkVTUE9OU0VfRVJST1JcIixlLkFQSV9JTlZPS0VfVElNRU9VVD1cIkFQSV9JTlZPS0VfVElNRU9VVFwiLGUuRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVEPVwiRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVEXCIsZS5ERVZJQ0VfTk9UX0ZPVU5EPVwiREVWSUNFX05PVF9GT1VORFwiLGUuRUxFQ1RST05fSVNfTlVMTD1cIkVMRUNUUk9OX0lTX05VTExcIixlLkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1I9XCJFTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SXCIsZS5TVFJFQU1fQUxSRUFEWV9JTklUSUFMSVpFRD1cIlNUUkVBTV9BTFJFQURZX0lOSVRJQUxJWkVEXCIsZS5TVFJFQU1fSVNfQ0xPU0VEPVwiU1RSRUFNX0lTX0NMT1NFRFwiLGUuQUJPUlRfT1RIRVJfSU5JVD1cIkFCT1JUX09USEVSX0lOSVRcIixlLkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0U9XCJDSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFXCIsZS5DSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMPVwiQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTFwiLGUuTUVESUFfT1BUSU9OX0lOVkFMSUQ9XCJNRURJQV9PUFRJT05fSU5WQUxJRFwiLGUuUEVSTUlTU0lPTl9ERU5JRUQ9XCJQRVJNSVNTSU9OX0RFTklFRFwiLGUuQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEPVwiQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEXCIsZS5DQU5fTk9UX0FVVE9QTEFZPVwiQ0FOX05PVF9BVVRPUExBWVwiLGUuSElHSF9TVFJFQU1fTk9fVklERU9fVFJBQ0s9XCJISUdIX1NUUkVBTV9OT19WSURFT19UUkFDS1wiLGUuU0NSRUVOX1NIQVJFX0NBTl9OT1RfQ1JFQVRFX0xPV19TVFJFQU09XCJTQ1JFRU5fU0hBUkVfQ0FOX05PVF9DUkVBVEVfTE9XX1NUUkVBTVwiLGUuVFJBQ0tfSVNfRElTQUJMRUQ9XCJUUkFDS19JU19ESVNBQkxFRFwiLGUuU0hBUkVfQVVESU9fTk9UX0FMTE9XRUQ9XCJTSEFSRV9BVURJT19OT1RfQUxMT1dFRFwiLGUuVE9LRU5fR0VORVJBVE9SX0ZVTkNUSU9OX0VSUk9SPVwiVE9LRU5fR0VORVJBVE9SX0ZVTkNUSU9OX0VSUk9SXCIsZS5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRD1cIklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEXCIsZS5DQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVJcIixlLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSPVwiQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVJcIixlLlVJRF9DT05GTElDVD1cIlVJRF9DT05GTElDVFwiLGUuSU5WQUxJRF9MT0NBTF9UUkFDSz1cIklOVkFMSURfTE9DQUxfVFJBQ0tcIixlLklOVkFMSURfVFJBQ0s9XCJJTlZBTElEX1RSQUNLXCIsZS5TRU5ERVJfTk9UX0ZPVU5EPVwiU0VOREVSX05PVF9GT1VORFwiLGUuQ1JFQVRFX09GRkVSX0ZBSUxFRD1cIkNSRUFURV9PRkZFUl9GQUlMRURcIixlLlNFVF9BTlNXRVJfRkFJTEVEPVwiU0VUX0FOU1dFUl9GQUlMRURcIixlLklDRV9GQUlMRUQ9XCJJQ0VfRkFJTEVEXCIsZS5QQ19DTE9TRUQ9XCJQQ19DTE9TRURcIixlLlNFTkRFUl9SRVBMQUNFX0ZBSUxFRD1cIlNFTkRFUl9SRVBMQUNFX0ZBSUxFRFwiLGUuR0FURVdBWV9QMlBfTE9TVD1cIkdBVEVXQVlfUDJQX0xPU1RcIixlLk5PX0lDRV9DQU5ESURBVEU9XCJOT19JQ0VfQ0FORElEQVRFXCIsZS5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTPVwiQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLU1wiLGUuSU5WQUxJRF9SRU1PVEVfVVNFUj1cIklOVkFMSURfUkVNT1RFX1VTRVJcIixlLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQ9XCJSRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEXCIsZS5TVUJTQ1JJUFRJT05fSVNfSU5fUFJPR1JFU1M9XCJTVUJTQ1JJUFRJT05fSVNfSU5fUFJPR1JFU1NcIixlLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQ9XCJDVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEXCIsZS5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSD1cIkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIXCIsZS5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRD1cIkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEXCIsZS5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1I9XCJSRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1JcIixlLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRD1cIkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRFwiLGUuRUZGRUNUX0lEX0NPTkZMSUNURUQ9XCJFRkZFQ1RfSURfQ09ORkxJQ1RFRFwiLGUuRUZGRUNUX1NPVU5EX0lEX05PVF9GT1VORD1cIkVGRkVDVF9TT1VORF9JRF9OT1RfRk9VTkRcIixlLldTX0FCT1JUPVwiV1NfQUJPUlRcIixlLldTX0RJU0NPTk5FQ1Q9XCJXU19ESVNDT05ORUNUXCIsZS5XU19FUlI9XCJXU19FUlJcIixlLkNBTl9OT1RfQ09OTkVDVF9UT19MSVZFX1NUUkVBTUlOR19XT1JLRVI9XCJDQU5fTk9UX0NPTk5FQ1RfVE9fTElWRV9TVFJFQU1JTkdfV09SS0VSXCIsZS5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUPVwiTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVFwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVD1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlRcIixlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQ9XCJMSVZFX1NUUkVBTUlOR19QVUJMSVNIX1NUUkVBTV9OT1RfQVVUSE9SSVpFRFwiLGUuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlQ9XCJMSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVFwiLGUuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SPVwiTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SXCIsZS5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU09XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU1cIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVD1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVFwiLGUuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRT1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0VcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVD1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVFwiLGUuV0VCR0xfSU5URVJOQUxfRVJST1I9XCJXRUJHTF9JTlRFUk5BTF9FUlJPUlwiLGUuQkVBVVRZX1BST0NFU1NPUl9JTlRFUk5BTF9FUlJPUj1cIkJFQVVUWV9QUk9DRVNTT1JfSU5URVJOQUxfRVJST1JcIixlLkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1I9XCJDUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SXCIsZS5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NSQz1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU0VDXCIsZS5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1Q9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1RcIixlLkNST1NTX0NIQU5ORUxfRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1Q9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUXCIsZS5DUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRT1cIkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFXCIsZS5NRVRBREFUQV9PVVRfT0ZfUkFOR0U9XCJNRVRBREFUQV9PVVRfT0ZfUkFOR0VcIn0odC5BZ29yYVJUQ0Vycm9yQ29kZXx8KHQuQWdvcmFSVENFcnJvckNvZGU9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24uZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMCksaT13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0LG89bigyKSxhPW8uZ2V0UGFyYW1ldGVyLHM9by5zZXRQYXJhbWV0ZXIsYz1mdW5jdGlvbigpe3JldHVybiBhKFwiQVVESU9fQ09OVEVYVFwiKXx8KGNvbnNvbGUubG9nKFwiQ3JlYXRpbmcgQXVkaW8gQ29udGV4dFwiKSxzKFwiQVVESU9fQ09OVEVYVFwiLGZ1bmN0aW9uKCl7aWYoaSl7dmFyIGU9bmV3IGk7cmV0dXJuIHdpbmRvdy5jdHg9ZSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7ZG9jdW1lbnQuYm9keT9lKCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZSl9KSkudGhlbigoZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbiB0KCl7XCJzdXNwZW5kZWRcIj09ZS5zdGF0ZT8oci5kZWZhdWx0LmRlYnVnKFwiQXVkaW9Db250ZXh0IGlzIHN1c3BlbmRlZCwgYXV0byByZXN1bWVcIiksZS5yZXN1bWUoKS50aGVuKChmdW5jdGlvbigpe3IuZGVmYXVsdC5kZWJ1ZyhcIkF1ZGlvQ29udGV4dCByZXN1bWUgc3VjY2Vzc1wiKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHQsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHQsITApfSkpKTooci5kZWZhdWx0LmRlYnVnKFwiQXVkaW9Db250ZXh0IGlzIHJ1bm5pbmdcIiksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0LCEwKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0LCEwKSl9O3IuZGVmYXVsdC5kZWJ1ZyhcIj4+PiBhZGQgZXZlbnQgbGlzdGVuZXIgPj4+PlwiKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHQsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHQsITApfSkpLGV9dGhyb3cgbmV3IEVycm9yKFwiQVVESU9fQ09OVEVYVF9OT1RfU1VQUE9SVEVEXCIpfSgpKSksYShcIkFVRElPX0NPTlRFWFRcIil9O2MoKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMSksaT1udWxsO3ZhciBvPWZ1bmN0aW9uKCl7dHJ5e2k9d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKX1jYXRjaChlKXt9cmV0dXJuIGl9LGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5yZXBvcnQucmVwb3J0QXBpSW52b2tlKG51bGwse2NhbGxiYWNrOmUsbmFtZTpcImdldFNjcmVlblNvdXJjZXNcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLG49bygpO2lmKCFuKXJldHVybiB0JiZ0KFwiZWxlY3Ryb24gaXMgbnVsbFwiKTt0cnl7dmFyIGk9bi5kZXNrdG9wQ2FwdHVyZXIuZ2V0U291cmNlcyh7dHlwZXM6W1wid2luZG93XCIsXCJzY3JlZW5cIl19KX1jYXRjaChlKXtjb25zb2xlLmxvZyhlKX1pZihpIGluc3RhbmNlb2YgUHJvbWlzZSljb25zb2xlLmxvZyhcImVsZWN0cm9uLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzIHJldHVybiB0eXBlIGlzIFByb21pc2VcIiksaS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdCYmdChudWxsLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gdCYmdChlKX0pKTtlbHNlIGk9bi5kZXNrdG9wQ2FwdHVyZXIuZ2V0U291cmNlcyh7dHlwZXM6W1wid2luZG93XCIsXCJzY3JlZW5cIl19LChmdW5jdGlvbihlLG4pe2NvbnNvbGUubG9nKFwiZWxlY3Ryb24uZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMgcmV0dXJuIHR5cGUgaXMgY2FsbGJhY2tcIiksdCYmdChudWxsLG4pfSkpfSxzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LndpZHRoO3Q9e2F1ZGlvOiExLHZpZGVvOnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLGNocm9tZU1lZGlhU291cmNlSWQ6ZSxtYXhIZWlnaHQ6dC5oZWlnaHQsbWF4V2lkdGg6cixtYXhGcmFtZVJhdGU6dC5mcmFtZVJhdGUmJnQuZnJhbWVSYXRlLm1heCxtaW5GcmFtZVJhdGU6dC5mcmFtZVJhdGUmJnQuZnJhbWVSYXRlLm1pbn19fTtuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKHQsKGZ1bmN0aW9uKGUpe24mJm4obnVsbCxlKX0pLChmdW5jdGlvbihlKXtuJiZuKGUpfSkpfTt0LmE9e2lzRWxlY3Ryb246ZnVuY3Rpb24oKXtyZXR1cm4hIW8oKX0sZ2V0RWxlY3Ryb25JbnN0YW5jZTpvLGdldFNjcmVlblNvdXJjZXM6YSxnZXRTY3JlZW5TdHJlYW06cyxzaGFyZVNjcmVlbjpmdW5jdGlvbihlLHQpe2EoKGZ1bmN0aW9uKG4scil7aWYobilyZXR1cm4gdCYmdChuKTshZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uaW5uZXJUZXh0PVwic2hhcmUgc2NyZWVuXCIsbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogY2VudGVyOyBoZWlnaHQ6IDI1cHg7IGxpbmUtaGVpZ2h0OiAyNXB4OyBib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsgYmFja2dyb3VuZDogI0Q0RDJENDsgYm9yZGVyLWJvdHRvbTogIHNvbGlkIDFweCAjQjlCOEI5O1wiKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDUwMHB4OyBwYWRkaW5nOiAxNXB4IDI1cHggOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuaW5uZXJUZXh0PVwiQWdvcmEgV2ViIFNjcmVlbnNoYXJpbmcgd2FudHMgdG8gc2hhcmUgdGhlIGNvbnRlbnRzIG9mIHlvdXIgc2NyZWVuIHdpdGggd2ViZGVtby5hZ29yYWJlY2tvbi5jb20uIENob29zZSB3aGF0IHlvdSdkIGxpa2UgdG8gc2hhcmUuXCIsaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiaGVpZ2h0OiAxMiU7XCIpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogODAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6ICBzb2xpZCAxcHggI0NCQ0JDQjsgZGlzcGxheTogZmxleDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBwYWRkaW5nOiAwIDE1cHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogcmlnaHQ7IHBhZGRpbmc6IDE2cHggMDtcIik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtzLmlubmVySFRNTD1cImNhbmNlbFwiLHMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiA4NXB4O1wiKSxzLm9uY2xpY2s9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpLHQmJnQoXCJOb3RBbGxvd2VkRXJyb3JcIil9LGEuYXBwZW5kQ2hpbGQocyksci5hcHBlbmRDaGlsZChpKSxyLmFwcGVuZENoaWxkKG8pLHIuYXBwZW5kQ2hpbGQoYSk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDk5OTk5OTk5OyB0b3A6IDUwJTsgbGVmdDogNTAlOyB3aWR0aDogNjIwcHg7IGhlaWdodDogNTI1cHg7IGJhY2tncm91bmQ6ICNFQ0VDRUM7IGJvcmRlci1yYWRpdXM6IDRweDsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiKSxjLmFwcGVuZENoaWxkKG4pLGMuYXBwZW5kQ2hpbGQociksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjKSxlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5pZCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMzAlOyBoZWlnaHQ6IDE2MHB4OyBwYWRkaW5nOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIik7dmFyIHI9ZS50aHVtYm5haWw7ci5nZXRTaXplKCkud2lkdGg+MTkyMCYmKHI9ci5yZXNpemUoe3dpZHRoOjE5MjB9KSksbi5pbm5lckhUTUw9JzxkaXYgc3R5bGU9XCJoZWlnaHQ6IDEyMHB4OyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPjxpbWcgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogIzMzMzMzMzsgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcIiBzcmM9JytyLnRvRGF0YVVSTCgpKycgLz48L2Rpdj48c3BhbiBzdHlsZT1cIlxcdGhlaWdodDogNDBweDsgbGluZS1oZWlnaHQ6IDQwcHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDcwJTsgd29yZC1icmVhazoga2VlcC1hbGw7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1wiPicrZS5uYW1lLnJlcGxhY2UoL1tcXHUwMEEwLVxcdTk5OTk8PlxcJl0vZywoZnVuY3Rpb24oZSl7cmV0dXJuXCImI1wiK2UuY2hhckNvZGVBdCgwKStcIjtcIn0pKStcIjwvc3Bhbj5cIixuLm9uY2xpY2s9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpLHQmJnQobnVsbCxlLmlkKX0sby5hcHBlbmRDaGlsZChuKX19KSl9KHIsKGZ1bmN0aW9uKG4scil7aWYobilyZXR1cm4gdCYmdChuKTtzKHIsZSx0KX0pKX0pKX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigzKTshZnVuY3Rpb24oZSl7ZS5UUkFOU0NPREU9XCJtaXhfc3RyZWFtaW5nXCIsZS5SQVc9XCJyYXdfc3RyZWFtaW5nXCIsZS5JTkpFQ1Q9XCJpbmplY3Rfc3RyZWFtaW5nXCJ9KHQuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlfHwodC5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGU9e30pKSx0LkRFRkFVTFRfTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfVVNFUj17YWxwaGE6MSxoZWlnaHQ6NjQwLHdpZHRoOjM2MCx4OjAseTowLHpPcmRlcjowLGF1ZGlvQ2hhbm5lbDowfSx0LkRFRkFVTFRfTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfV0FURVJNQVJLPXt4OjAseTowLHdpZHRoOjE2MCxoZWlnaHQ6MTYwLHpPcmRlcjoyNTUsYWxwaGE6MX0sdC5pc0xpdmVTdHJlYW1pbmdUcmFuc2NvZGluZ0NvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gci5pc0VtcHR5KGUud2lkdGgpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS53aWR0aCxcImNvbmZpZy53aWR0aFwiLDApLHIuaXNFbXB0eShlLmhlaWdodCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmhlaWdodCxcImNvbmZpZy5oZWlnaHRcIiwwKSxyLmlzRW1wdHkoZS52aWRlb0JpdHJhdGUpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS52aWRlb0JpdHJhdGUsXCJjb25maWcudmlkZW9CaXRyYXRlXCIsMSwxZTYpLHIuaXNFbXB0eShlLnZpZGVvRnJhbWVyYXRlKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUudmlkZW9GcmFtZXJhdGUsXCJjb25maWcudmlkZW9GcmFtZXJhdGVcIiksci5pc0VtcHR5KGUubG93TGF0ZW5jeSl8fHIuY2hlY2tWYWxpZEJvb2xlYW4oZS5sb3dMYXRlbmN5LFwiY29uZmlnLmxvd0xhdGVuY3lcIiksci5pc0VtcHR5KGUuYXVkaW9TYW1wbGVSYXRlKXx8ci5jaGVja1ZhbGlkRW51bShlLmF1ZGlvU2FtcGxlUmF0ZSxcImNvbmZpZy5hdWRpb1NhbXBsZVJhdGVcIixbMzJlMyw0NDEwMCw0OGUzXSksci5pc0VtcHR5KGUuYXVkaW9CaXRyYXRlKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuYXVkaW9CaXRyYXRlLFwiY29uZmlnLmF1ZGlvQml0cmF0ZVwiLDEsMTI4KSxyLmlzRW1wdHkoZS5hdWRpb0NoYW5uZWxzKXx8ci5jaGVja1ZhbGlkRW51bShlLmF1ZGlvQ2hhbm5lbHMsXCJjb25maWcuYXVkaW9DaGFubmVsc1wiLFsxLDIsMyw0LDVdKSxyLmlzRW1wdHkoZS52aWRlb0dvcCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnZpZGVvR29wLFwiY29uZmlnLnZpZGVvR29wXCIpLHIuaXNFbXB0eShlLnZpZGVvQ29kZWNQcm9maWxlKXx8ci5jaGVja1ZhbGlkRW51bShlLnZpZGVvQ29kZWNQcm9maWxlLFwiY29uZmlnLnZpZGVvQ29kZWNQcm9maWxlXCIsWzY2LDc3LDEwMF0pLHIuaXNFbXB0eShlLnVzZXJDb3VudCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnVzZXJDb3VudCxcImNvbmZpZy51c2VyQ291bnRcIiwwLDE3KSxyLmlzRW1wdHkoZS5iYWNrZ3JvdW5kQ29sb3IpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5iYWNrZ3JvdW5kQ29sb3IsXCJjb25maWcuYmFja2dyb3VuZENvbG9yXCIsMCwxNjc3NzIxNSksZS50cmFuc2NvZGluZ1VzZXJzJiYhci5pc0VtcHR5KGUudHJhbnNjb2RpbmdVc2VycykmJihyLmNoZWNrVmFsaWRBcnJheShlLnRyYW5zY29kaW5nVXNlcnMsXCJjb25maWcudHJhbnNjb2RpbmdVc2Vyc1wiKSxlLnRyYW5zY29kaW5nVXNlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyLmNoZWNrVmFsaWRVSUQoZS51aWQpLHIuaXNFbXB0eShlLngpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS54LFwidHJhbnNjb2RpbmdVc2VyW1wiK3QrXCJdLnhcIiwwLDFlNCksci5pc0VtcHR5KGUueSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnksXCJ0cmFuc2NvZGluZ1VzZXJbXCIrdCtcIl0ueVwiLDAsMWU0KSxyLmlzRW1wdHkoZS53aWR0aCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLndpZHRoLFwidHJhbnNjb2RpbmdVc2VyW1wiK3QrXCJdLndpZHRoXCIsMCwxZTQpLHIuaXNFbXB0eShlLmhlaWdodCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmhlaWdodCxcInRyYW5zY29kaW5nVXNlcltcIit0K1wiXS5oZWlnaHRcIiwwLDFlNCksci5pc0VtcHR5KGUuek9yZGVyKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuek9yZGVyLTEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIrdCtcIl0uek9yZGVyXCIsMCwxMDApLHIuaXNFbXB0eShlLmFscGhhKXx8ci5jaGVja1ZhbGlkRmxvYXROdW1iZXIoZS5hbHBoYSxcInRyYW5zY29kaW5nVXNlcltcIit0K1wiXS5hbHBoYVwiLDAsMSl9KSkpLGUuaW1hZ2VzJiYhci5pc0VtcHR5KGUuaW1hZ2VzKSYmKHIuY2hlY2tWYWxpZEFycmF5KGUuaW1hZ2VzLFwiY29uZmlnLmltYWdlc1wiKSxlLmltYWdlcy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3IuY2hlY2tWYWxpZFN0cmluZyhlLnVybCxcImltYWdlc1tcIit0K1wiXS51cmxcIiwxLDFlMywhMSksci5pc0VtcHR5KGUueCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLngsXCJpbWFnZXNbXCIrdCtcIl0ueFwiLDAsMWU0KSxyLmlzRW1wdHkoZS55KXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUueSxcImltYWdlc1tcIit0K1wiXS55XCIsMCwxZTQpLHIuaXNFbXB0eShlLndpZHRoKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUud2lkdGgsXCJpbWFnZXNbXCIrdCtcIl0ud2lkdGhcIiwwLDFlNCksci5pc0VtcHR5KGUuaGVpZ2h0KXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuaGVpZ2h0LFwiaW1hZ2VzW1wiK3QrXCJdLmhlaWdodFwiLDAsMWU0KSxyLmlzRW1wdHkoZS56T3JkZXIpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS56T3JkZXIsXCJpbWFnZXNbXCIrdCtcIl0uek9yZGVyXCIsMCwyNTUpLHIuaXNFbXB0eShlLmFscGhhKXx8ci5jaGVja1ZhbGlkRmxvYXROdW1iZXIoZS5hbHBoYSxcImltYWdlc1tcIit0K1wiXS5hbHBoYVwiLDAsMSl9KSkpLCEwfSx0LkRFRkFVTFRfVFJBTlNDT0RJTkdfQ09ORklHPXthdWRpb0JpdHJhdGU6NDgsYXVkaW9DaGFubmVsczoxLGF1ZGlvU2FtcGxlUmF0ZTo0OGUzLGJhY2tncm91bmRDb2xvcjowLGhlaWdodDozNjAsbG93TGF0ZW5jeTohMSx2aWRlb0JpdHJhdGU6NDAwLHZpZGVvQ29kZWNQcm9maWxlOjEwMCx2aWRlb0NvZGVjVHlwZToxLHZpZGVvRnJhbWVyYXRlOjE1LHZpZGVvR29wOjMwLHdpZHRoOjY0MCxpbWFnZXM6W10sdXNlckNvbmZpZ3M6W10sdXNlckNvbmZpZ0V4dHJhSW5mbzpcIlwifSx0LmlzSW5qZWN0U3RyZWFtQ29uZmlnPWZ1bmN0aW9uKGUpe3JldHVybiByLmlzRW1wdHkoZS5hdWRpb1ZvbHVtZSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmF1ZGlvVm9sdW1lLFwiY29uZmlnLmF1ZGlvVm9sdW1lXCIsMCwxZTMpLHIuaXNFbXB0eShlLmF1ZGlvQml0cmF0ZSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmF1ZGlvQml0cmF0ZSxcImNvbmZpZy5hdWRpb0JpdHJhdGVcIiwxLDFlNCksci5pc0VtcHR5KGUuYXVkaW9DaGFubmVscyl8fHIuY2hlY2tWYWxpZEVudW0oZS5hdWRpb0NoYW5uZWxzLFwiY29uZmlnLmF1ZGlvQ2hhbm5lbHNcIixbMSwyXSksci5pc0VtcHR5KGUuYXVkaW9TYW1wbGVSYXRlKXx8ci5jaGVja1ZhbGlkRW51bShlLmF1ZGlvU2FtcGxlUmF0ZSxcImNvbmZpZy5hdWRpb1NhbXBsZVJhdGVcIixbMzJlMyw0NDEwMCw0OGUzXSksci5pc0VtcHR5KGUud2lkdGgpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS53aWR0aCxcImNvbmZpZy53aWR0aFwiLDAsMWU0KSxyLmlzRW1wdHkoZS5oZWlnaHQpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5oZWlnaHQsXCJjb25maWcuaGVpZ2h0XCIsMCwxZTQpLHIuaXNFbXB0eShlLnZpZGVvQml0cmF0ZSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnZpZGVvQml0cmF0ZSxcImNvbmZpZy52aWRlb0JpdHJhdGVcIiwxLDFlNCksci5pc0VtcHR5KGUudmlkZW9GcmFtZXJhdGUpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS52aWRlb0ZyYW1lcmF0ZSxcImNvbmZpZy52aWRlb0ZyYW1lcmF0ZVwiLDEsMWU0KSxyLmlzRW1wdHkoZS52aWRlb0dvcCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnZpZGVvR29wLFwiY29uZmlnLnZpZGVvR29wXCIsMSwxZTQpLCEwfSx0LkRFRkFVTFRfSU5KRUNUX0NPTkZJRz17YXVkaW9CaXRyYXRlOjQ4LGF1ZGlvQ2hhbm5lbHM6MixhdWRpb1ZvbHVtZToxMDAsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsaGVpZ2h0OjAsd2lkdGg6MCx2aWRlb0JpdHJhdGU6NDAwLHZpZGVvRnJhbWVyYXRlOjE1LHZpZGVvR29wOjMwfSxmdW5jdGlvbihlKXtlLldBUk5JTkc9XCJAbGl2ZV91YXAtd2FybmluZ1wiLGUuRVJST1I9XCJAbGluZV91YXAtZXJyb3JcIixlLlBVQkxJU0hfU1RSRUFNX1NUQVRVUz1cIkBsaXZlX3VhcC1wdWJsaXNoLXN0YXR1c1wiLGUuSU5KRUNUX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtaW5qZWN0LXN0YXR1c1wiLGUuV09SS0VSX1NUQVRVUz1cIkBsaXZlX3VhcC13b3JrZXItc3RhdHVzXCIsZS5SRVFVRVNUX05FV19BRERSRVNTPVwiQGxpdmVfdWFwLXJlcXVlc3QtYWRkcmVzc1wifSh0LkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHN8fCh0LkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHM9e30pKSxmdW5jdGlvbihlKXtlLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVD1cIkBsaXZlX3JlcV93b3JrZXJfbWFuYWdlclwifSh0LkxpdmVTdHJlYW1pbmdJbnRlcm5hbEV2ZW50c3x8KHQuTGl2ZVN0cmVhbWluZ0ludGVybmFsRXZlbnRzPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1NVQ0NFRUQ9MjAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1NVQ0NFRURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNPTQ1NF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU1cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SPTQ1MF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1JcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfQkFEX1NUUkVBTT00NTFdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfQkFEX1NUUkVBTVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1I9NDAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUPTQwNF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEPTQ1Nl09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRT00NTddPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0VcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU49NDI5XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIPTQ1Ml09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEPTQ1M109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNPTQ1NV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVD01MDFdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1RcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ9NTAyXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUPTUwM109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVFwiLGVbZS5FUlJPUl9GQUlMX1NFTkRfTUVTU0FHRT01MDRdPVwiRVJST1JfRkFJTF9TRU5EX01FU1NBR0VcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5HTk9SRV9NRVNTQUdFPTUwNV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9JTkdOT1JFX01FU1NBR0VcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFPTMwXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRVwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUPTMxXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1RcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSD0zMl09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTj0zM109XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU5cIn0odC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFfHwodC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNURUQ9XCJ3ZWJzb2NrZXQ6Y29ubmVjdGVkXCIsZS5SRUNPTk5FQ1RJTkc9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cIndlYnNvY2tldDp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwid2Vic29ja2V0OmNsb3NlZFwiLGUuRkFJTEVEPVwid2Vic29ja2V0OmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cIndlYnNvY2tldDpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwid2Vic29ja2V0OnJlcXVlc3RfbmV3X3VybHNcIn0odC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzfHwodC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDU3KSxpPW4oNTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIG89dCYmbnx8MDtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQ9XCJiaW5hcnlcIj09PWU/bmV3IEFycmF5KDE2KTpudWxsLGU9bnVsbCk7dmFyIGE9KGU9ZXx8e30pLnJhbmRvbXx8KGUucm5nfHxyKSgpO2lmKGFbNl09MTUmYVs2XXw2NCxhWzhdPTYzJmFbOF18MTI4LHQpZm9yKHZhciBzPTA7czwxNjsrK3MpdFtvK3NdPWFbc107cmV0dXJuIHR8fGkoYSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI7ZS5leHBvcnRzPShyPW4oNzMpLGZ1bmN0aW9uKGUpe3ZhciB0PXIsbj10LmxpYixpPW4uV29yZEFycmF5LG89bi5IYXNoZXIsYT10LmFsZ28scz1bXSxjPVtdOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBuPWUuc3FydCh0KSxyPTI7cjw9bjtyKyspaWYoISh0JXIpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIDQyOTQ5NjcyOTYqKGUtKDB8ZSkpfDB9Zm9yKHZhciByPTIsaT0wO2k8NjQ7KXQocikmJihpPDgmJihzW2ldPW4oZS5wb3cociwuNSkpKSxjW2ldPW4oZS5wb3cociwxLzMpKSxpKyspLHIrK30oKTt2YXIgZD1bXSx1PWEuU0hBMjU2PW8uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChzLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuX2hhc2gud29yZHMscj1uWzBdLGk9blsxXSxvPW5bMl0sYT1uWzNdLHM9bls0XSx1PW5bNV0sbD1uWzZdLGY9bls3XSxwPTA7cDw2NDtwKyspe2lmKHA8MTYpZFtwXT0wfGVbdCtwXTtlbHNle3ZhciBnPWRbcC0xNV0sbT0oZzw8MjV8Zz4+PjcpXihnPDwxNHxnPj4+MTgpXmc+Pj4zLGg9ZFtwLTJdLHY9KGg8PDE1fGg+Pj4xNyleKGg8PDEzfGg+Pj4xOSleaD4+PjEwO2RbcF09bStkW3AtN10rditkW3AtMTZdfXZhciBFPXImaV5yJm9eaSZvLFM9KHI8PDMwfHI+Pj4yKV4ocjw8MTl8cj4+PjEzKV4ocjw8MTB8cj4+PjIyKSxfPWYrKChzPDwyNnxzPj4+NileKHM8PDIxfHM+Pj4xMSleKHM8PDd8cz4+PjI1KSkrKHMmdV5+cyZsKStjW3BdK2RbcF07Zj1sLGw9dSx1PXMscz1hK198MCxhPW8sbz1pLGk9cixyPV8rKFMrRSl8MH1uWzBdPW5bMF0rcnwwLG5bMV09blsxXStpfDAsblsyXT1uWzJdK298MCxuWzNdPW5bM10rYXwwLG5bNF09bls0XStzfDAsbls1XT1uWzVdK3V8MCxuWzZdPW5bNl0rbHwwLG5bN109bls3XStmfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxuPXQud29yZHMscj04KnRoaXMuX25EYXRhQnl0ZXMsaT04KnQuc2lnQnl0ZXM7cmV0dXJuIG5baT4+PjVdfD0xMjg8PDI0LWklMzIsblsxNCsoaSs2ND4+Pjk8PDQpXT1lLmZsb29yKHIvNDI5NDk2NzI5NiksblsxNSsoaSs2ND4+Pjk8PDQpXT1yLHQuc2lnQnl0ZXM9NCpuLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1vLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLGV9fSk7dC5TSEEyNTY9by5fY3JlYXRlSGVscGVyKHUpLHQuSG1hY1NIQTI1Nj1vLl9jcmVhdGVIbWFjSGVscGVyKHUpfShNYXRoKSxyLlNIQTI1Nil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnJhbmRvbVN0cmluZz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT04KTtmb3IodmFyIHQ9XCJBQkNERUZHSEpLTU5QUVJTVFdYWVphYmNkZWZoaWprbW5wcnN0d3h5ejIzNDU2NzhcIixuPXQubGVuZ3RoLHI9XCJcIixpPTA7aTxlO2krKylyKz10LmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbikpO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIGkgaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxhPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oMiksYz1hKG4oMzcpKSxkPW4oMjQpLHU9YShuKDApKSxsPW4oMSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3dpbmRvdy5zZXRUaW1lb3V0KHQsZSl9KSl9ZnVuY3Rpb24gcChlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnRpbWVvdXQ9dC50aW1lb3V0fHxzLmdldFBhcmFtZXRlcihcIkhUVFBfQ09OTkVDVF9USU1FT1VUXCIpLHQucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlfHxcImpzb25cIix0LmRhdGEmJih0LmRhdGE9SlNPTi5zdHJpbmdpZnkodC5kYXRhKSksdC5oZWFkZXJzPXQuaGVhZGVyc3x8e30sdC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24vanNvblwiLHQubWV0aG9kPVwiUE9TVFwiLHQudXJsPWUsYy5kZWZhdWx0LnJlcXVlc3QodCkudGhlbigoZnVuY3Rpb24oZSl7bihlLmRhdGEpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjLmRlZmF1bHQuaXNDYW5jZWwoZSk/cihuZXcgZC5BZ29yYVJUQ0Vycm9yKGQuQWdvcmFSVENFcnJvckNvZGUuT1BFUkFUSU9OX0FCT1JULFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpcIkVDT05OQUJPUlRFRFwiPT09ZS5jb2RlP3IobmV3IGQuQWdvcmFSVENFcnJvcihkLkFnb3JhUlRDRXJyb3JDb2RlLk5FVFdPUktfVElNRU9VVCxlLm1lc3NhZ2UpKTplLnJlc3BvbnNlP3IobmV3IGQuQWdvcmFSVENFcnJvcihkLkFnb3JhUlRDRXJyb3JDb2RlLk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZS5yZXNwb25zZS5zdGF0dXMpKTpyKG5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5ORVRXT1JLX0VSUk9SLGUubWVzc2FnZSkpfSkpfSkpfWZ1bmN0aW9uIGcoZSxuLHIsYSl7dmFyIHM9dGhpcyxjPU9iamVjdC5hc3NpZ24oe30sdC5ERUZBVUxUX1JFVFJZX0NPTkZJRyxhKSx1PWMudGltZW91dCxsPWZ1bmN0aW9uKCl7cmV0dXJuIGkocyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZih1KV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSx1Kj1jLnRpbWVvdXRGYWN0b3IsdT1NYXRoLm1pbihjLm1heFJldHJ5VGltZW91dCx1KSxbMl19fSkpfSkpfSxwPSExLGc9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsYSl7cmV0dXJuIGkocyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHMsdTtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49bnx8ZnVuY3Rpb24oKXtyZXR1cm4hMX0scj1yfHxmdW5jdGlvbigpe3JldHVybiEwfSxpPTAsby5sYWJlbD0xO2Nhc2UgMTppZighKGk8Yy5tYXhSZXRyeUNvdW50KSlyZXR1cm5bMywxMl07aWYocClyZXR1cm5bMixhKG5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5PUEVSQVRJT05fQUJPUlQpKV07by5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNywsMTFdKSxbNCxlKCldO2Nhc2UgMzpyZXR1cm4gcz1vLnNlbnQoKSxuKHMsaSk/aSsxPT09Yy5tYXhSZXRyeUNvdW50P1syLHQocyldOls0LGwoKV06WzMsNV07Y2FzZSA0OnJldHVybiBvLnNlbnQoKSxbMyw2XTtjYXNlIDU6cmV0dXJuWzIsdChzKV07Y2FzZSA2OnJldHVyblszLDExXTtjYXNlIDc6cmV0dXJuIHU9by5zZW50KCkscih1LGkpP2krMT09PWMubWF4UmV0cnlDb3VudD9bMixhKHUpXTpbNCxsKCldOlszLDldO2Nhc2UgODpyZXR1cm4gby5zZW50KCksWzMsMTBdO2Nhc2UgOTpyZXR1cm5bMixhKHUpXTtjYXNlIDEwOnJldHVyblszLDExXTtjYXNlIDExOnJldHVybiBpKz0xLFszLDFdO2Nhc2UgMTI6cmV0dXJuWzJdfX0pKX0pKX0pKTtyZXR1cm4gZy5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gcD0hMH0sZ31mdW5jdGlvbiBtKGUsdCl7cmV0dXJue2FkZHJlc3NMaXN0OmUuc2VydmVycy5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuXCJ3c3M6Ly9cIitlLmFkZHJlc3MucmVwbGFjZSgvXFwuL2csXCItXCIpK1wiLmVkZ2UuYWdvcmEuaW86XCIrZS53c3MrXCI/c2VydmljZU5hbWU9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpfSkpLHdvcmtlclRva2VuOmUud29ya2VyVG9rZW4sdmlkOmUudmlkfX10LndhaXQ9Zix0LnBvc3Q9cCx0LkRFRkFVTFRfUkVUUllfQ09ORklHPXt0aW1lb3V0OjUwMCx0aW1lb3V0RmFjdG9yOjEuNSxtYXhSZXRyeUNvdW50OjEvMCxtYXhSZXRyeVRpbWVvdXQ6MWU0fSx0LmdldFJldHJ5V2FpdFRpbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnRpbWVvdXQqTWF0aC5wb3codC50aW1lb3V0RmFjdG9yLGUpO3JldHVybiBNYXRoLm1pbih0Lm1heFJldHJ5VGltZW91dCxuKX0sdC5yZXRyeWFibGU9Zyx0LmxpdmVTdHJlYW1pbmdTZXJ2ZXJSZXNwb25zZVRvUmVzdWx0PW07dmFyIGg9MTtmdW5jdGlvbiB2KGUsbixhLGMsZil7dmFyIHY9dGhpczt2b2lkIDA9PT1mJiYoZj10LkRFRkFVTFRfUkVUUllfQ09ORklHKSxoKz0xO3ZhciBFLFMsXz17c2lkOmEuc2lkLGNvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHVpZDpcIjY2NlwiLGFwcElkOmEuYXBwSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyksc2VxOmgscmVxdWVzdElkOmgsdmVyc2lvbjpzLlZFUlNJT04sY25hbWU6YS5jbmFtZX0seT17c2VydmljZV9uYW1lOm4sanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KF8pfSxSPWVbMF07cmV0dXJuIGcoKGZ1bmN0aW9uKCl7cmV0dXJuIGkodix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHQsaSxhLGw7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gRT1EYXRlLm5vdygpLFs0LHAoUix7ZGF0YTp5LGNhbmNlbFRva2VuOmMsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn19KV07Y2FzZSAxOmlmKGU9by5zZW50KCksUz1EYXRlLm5vdygpLUUsMCE9PWUuY29kZSl0aHJvdyBpPW5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXAgZXJyb3IsIGNvZGVcIitlLmNvZGUse3JldHJ5OiEwfSksdS5kZWZhdWx0LmVycm9yKGkudG9TdHJpbmcoKSksaTtpZigyMDAhPT0odD1KU09OLnBhcnNlKGUuanNvbl9ib2R5KSkuY29kZSl0aHJvdyBpPW5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXBwIGNlbnRlciBlcnJvciwgY29kZTogXCIrdC5jb2RlK1wiLCByZWFzb246IFwiK3QucmVhc29uKSx1LmRlZmF1bHQuZXJyb3IoaS50b1N0cmluZygpKSxpO2lmKCF0LnNlcnZlcnN8fDA9PT10LnNlcnZlcnMubGVuZ3RoKXRocm93IGk9bmV3IGQuQWdvcmFSVENFcnJvcihkLkFnb3JhUlRDRXJyb3JDb2RlLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiKSx1LmRlZmF1bHQuZXJyb3IoaS50b1N0cmluZygpKSxpO2lmKGE9bSh0LG4pLHMuZ2V0UGFyYW1ldGVyKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKSl0cnl7bD1KU09OLnBhcnNlKHMuZ2V0UGFyYW1ldGVyKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKSksYS5hZGRyZXNzTGlzdD1sfWNhdGNoKGUpe2EuYWRkcmVzc0xpc3Q9W3MuZ2V0UGFyYW1ldGVyKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKV19cmV0dXJuWzIscihyKHt9LGEpLHtyZXNwb25zZVRpbWU6U30pXX19KSl9KSl9KSwoZnVuY3Rpb24odCxyKXtyZXR1cm4gbC5yZXBvcnQucmVxdWVzdEFwV29ya2VyRXZlbnQoYS5zaWQse3N1Y2Nlc3M6ITAsc2M6MjAwLHNlcnZpY2VOYW1lOm4scmVzcG9uc2VEZXRhaWw6SlNPTi5zdHJpbmdpZnkodC5hZGRyZXNzTGlzdCksZmlyc3RTdWNjZXNzOjA9PT1yLHJlc3BvbnNlVGltZTpTLHNlcnZlcklwOmVbciVlLmxlbmd0aF19KSwhMX0pLChmdW5jdGlvbih0LHIpe3JldHVybiBsLnJlcG9ydC5yZXF1ZXN0QXBXb3JrZXJFdmVudChhLnNpZCx7c3VjY2VzczohMSxzYzp0LmRhdGEmJnQuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6bixyZXNwb25zZVRpbWU6UyxzZXJ2ZXJJcDplW3IlZS5sZW5ndGhdfSksISEodC5jb2RlIT09ZC5BZ29yYVJUQ0Vycm9yQ29kZS5PUEVSQVRJT05fQUJPUlQmJnQuY29kZSE9PWQuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9SRVNQT05TRXx8dC5kYXRhJiZ0LmRhdGEucmV0cnkpJiYoUj1lWyhyKzEpJWUubGVuZ3RoXSwhMCl9KSxmKX10LnJlcXVlc3RMaXZlU3RyZWFtaW5nV29ya2VyTWFuYWdlcj12LHQuZ2V0TGl2ZVN0cmVhbWluZ1dvcmtlck1hbmdlclJlc3VsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLGk7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyPXMuZ2V0UGFyYW1ldGVyKFwiVUFQX0FQXCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiK3QucHJveHlTZXJ2ZXIrXCIvYXAvP3VybD1cIitlK1wiL2FwaS92MT9hY3Rpb249dWFwXCI6XCJodHRwczovL1wiK2UrXCIvYXBpL3YxP2FjdGlvbj11YXBcIn0pKSxvLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBvLnRyeXMucHVzaChbMSwzLCw0XSksWzQsdihyLGUsdCxuKV07Y2FzZSAyOnJldHVyblsyLG8uc2VudCgpXTtjYXNlIDM6dGhyb3cgaT1vLnNlbnQoKSxsLnJlcG9ydC5yZXF1ZXN0QXBXb3JrZXJFdmVudCh0LnNpZCx7c3VjY2VzczohMSxzYzppLmRhdGEmJmkuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6ZSxyZXNwb25zZVRpbWU6aS5kYXRhJiZpLmRhdGEucmVzcG9uc2VUaW1lfSksaTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDcwKSxpPW4oNzEpLG89bigzNCksYT1uKDcyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl8fGkoZSl8fG8oZSl8fGEoKX19LGZ1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiByKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKG4pOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9yKGUsdCk6dm9pZCAwfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PTAsbj1hcmd1bWVudHMubGVuZ3RoO3Q8bjt0KyspZSs9YXJndW1lbnRzW3RdLmxlbmd0aDt2YXIgcj1BcnJheShlKSxpPTA7Zm9yKHQ9MDt0PG47dCsrKWZvcih2YXIgbz1hcmd1bWVudHNbdF0sYT0wLHM9by5sZW5ndGg7YTxzO2ErKyxpKyspcltpXT1vW2FdO3JldHVybiByfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDI0KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2V2ZW50cz17fSx0aGlzLmFkZExpc3RlbmVyPXRoaXMub259cmV0dXJuIGUucHJvdG90eXBlLmdldExpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP3RoaXMuX2V2ZW50c1tlXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxpc3RlbmVyfSkpOltdfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7dmFyIG49dGhpcy5fZXZlbnRzW2VdOy0xPT09dGhpcy5faW5kZXhPZkxpc3RlbmVyKG4sdCkmJm4ucHVzaCh7bGlzdGVuZXI6dCxvbmNlOiExfSl9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO3ZhciBuPXRoaXMuX2V2ZW50c1tlXTstMT09PXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLHQpJiZuLnB1c2goe2xpc3RlbmVyOnQsb25jZTohMH0pfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9ldmVudHNbZV0pe3ZhciBuPXRoaXMuX2V2ZW50c1tlXSxyPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLHQpOy0xIT09ciYmbi5zcGxpY2UociwxKSwwPT09dGhpcy5fZXZlbnRzW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXX19LGUucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXtlP2RlbGV0ZSB0aGlzLl9ldmVudHNbZV06dGhpcy5fZXZlbnRzPXt9fSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Zm9yKHZhciByPXRoaXMuX2V2ZW50c1tlXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLGk9MDtpPHIubGVuZ3RoO2krPTEpe3ZhciBvPXJbaV07by5vbmNlJiZ0aGlzLm9mZihlLG8ubGlzdGVuZXIpLG8ubGlzdGVuZXIuYXBwbHkodGhpcyx0fHxbXSl9fSxlLnByb3RvdHlwZS5faW5kZXhPZkxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspaWYoZVtuXS5saXN0ZW5lcj09PXQpcmV0dXJuIG47cmV0dXJuLTF9LGV9KCk7ZnVuY3Rpb24gYShlLHQpe2Zvcih2YXIgbj1bXSxvPTI7bzxhcmd1bWVudHMubGVuZ3RoO28rKyluW28tMl09YXJndW1lbnRzW29dO3ZhciBhPW51bGwscz1udWxsO2lmKGUuZW1pdC5hcHBseShlLHIoW3RdLG4sW2Z1bmN0aW9uKGUpe2E9ZX0sZnVuY3Rpb24oZSl7cz1lfV0pKSxudWxsIT09cyl0aHJvdyBzO2lmKG51bGw9PT1hKXRocm93IG5ldyBpLkFnb3JhUlRDRXJyb3IoaS5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX0VSUk9SLFwiaGFuZGxlciBpcyBub3Qgc3luY1wiKTtyZXR1cm4gYX10LkV2ZW50RW1pdHRlcj1vLHQuZW1pdEFzUHJvbWlzZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxvPTI7bzxhcmd1bWVudHMubGVuZ3RoO28rKyluW28tMl09YXJndW1lbnRzW29dO3JldHVybiAwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoP1Byb21pc2UucmVqZWN0KG5ldyBpLkFnb3JhUlRDRXJyb3IoaS5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBlbWl0IHByb21pc2VcIikpOm5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe2UuZW1pdC5hcHBseShlLHIoW3RdLG4sW2ksb10pKX0pKX0sdC5lbWl0QXNJbnZva2VyTm9SZXNwb25zZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krKyluW2ktMl09YXJndW1lbnRzW2ldO3JldHVybiAwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoP251bGw6YS5hcHBseSh2b2lkIDAscihbZSx0XSxuKSl9LHQuZW1pdEFzSW52b2tlcj1hfSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNzgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuYXBwbHkodCxuKX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyU0MC9naSxcIkBcIikucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIikucmVwbGFjZSgvJTVCL2dpLFwiW1wiKS5yZXBsYWNlKC8lNUQvZ2ksXCJdXCIpfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJuIGU7dmFyIG87aWYobilvPW4odCk7ZWxzZSBpZihyLmlzVVJMU2VhcmNoUGFyYW1zKHQpKW89dC50b1N0cmluZygpO2Vsc2V7dmFyIGE9W107ci5mb3JFYWNoKHQsKGZ1bmN0aW9uKGUsdCl7bnVsbCE9ZSYmKHIuaXNBcnJheShlKT90Kz1cIltdXCI6ZT1bZV0sci5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe3IuaXNEYXRlKGUpP2U9ZS50b0lTT1N0cmluZygpOnIuaXNPYmplY3QoZSkmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxhLnB1c2goaSh0KStcIj1cIitpKGUpKX0pKSl9KSksbz1hLmpvaW4oXCImXCIpfWlmKG8pe3ZhciBzPWUuaW5kZXhPZihcIiNcIik7LTEhPT1zJiYoZT1lLnNsaWNlKDAscykpLGUrPSgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK299cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLl9fQ0FOQ0VMX18pfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgcj1uKDE4KSxpPW4oODQpLG89e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07ZnVuY3Rpb24gYShlLHQpeyFyLmlzVW5kZWZpbmVkKGUpJiZyLmlzVW5kZWZpbmVkKGVbXCJDb250ZW50LVR5cGVcIl0pJiYoZVtcIkNvbnRlbnQtVHlwZVwiXT10KX12YXIgcyxjPXthZGFwdGVyOigoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0fHx2b2lkIDAhPT10JiZcIltvYmplY3QgcHJvY2Vzc11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkmJihzPW4oNDIpKSxzKSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihlLHQpe3JldHVybiBpKHQsXCJBY2NlcHRcIiksaSh0LFwiQ29udGVudC1UeXBlXCIpLHIuaXNGb3JtRGF0YShlKXx8ci5pc0FycmF5QnVmZmVyKGUpfHxyLmlzQnVmZmVyKGUpfHxyLmlzU3RyZWFtKGUpfHxyLmlzRmlsZShlKXx8ci5pc0Jsb2IoZSk/ZTpyLmlzQXJyYXlCdWZmZXJWaWV3KGUpP2UuYnVmZmVyOnIuaXNVUkxTZWFyY2hQYXJhbXMoZSk/KGEodCxcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpLGUudG9TdHJpbmcoKSk6ci5pc09iamVjdChlKT8oYSh0LFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04XCIpLEpTT04uc3RyaW5naWZ5KGUpKTplfV0sdHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRyeXtlPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7fXJldHVybiBlfV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIsbWF4Q29udGVudExlbmd0aDotMSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihlKXtyZXR1cm4gZT49MjAwJiZlPDMwMH19O2MuaGVhZGVycz17Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn19LHIuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiXSwoZnVuY3Rpb24oZSl7Yy5oZWFkZXJzW2VdPXt9fSkpLHIuZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXtjLmhlYWRlcnNbZV09ci5tZXJnZShvKX0pKSxlLmV4cG9ydHM9Y30pLmNhbGwodGhpcyxuKDgzKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KSxpPW4oODUpLG89bigzOSksYT1uKDg3KSxzPW4oOTApLGM9big5MSksZD1uKDQzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHUpe3ZhciBsPWUuZGF0YSxmPWUuaGVhZGVycztyLmlzRm9ybURhdGEobCkmJmRlbGV0ZSBmW1wiQ29udGVudC1UeXBlXCJdO3ZhciBwPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihlLmF1dGgpe3ZhciBnPWUuYXV0aC51c2VybmFtZXx8XCJcIixtPWUuYXV0aC5wYXNzd29yZHx8XCJcIjtmLkF1dGhvcml6YXRpb249XCJCYXNpYyBcIitidG9hKGcrXCI6XCIrbSl9dmFyIGg9YShlLmJhc2VVUkwsZS51cmwpO2lmKHAub3BlbihlLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG8oaCxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxwLnRpbWVvdXQ9ZS50aW1lb3V0LHAub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYocCYmND09PXAucmVhZHlTdGF0ZSYmKDAhPT1wLnN0YXR1c3x8cC5yZXNwb25zZVVSTCYmMD09PXAucmVzcG9uc2VVUkwuaW5kZXhPZihcImZpbGU6XCIpKSl7dmFyIG49XCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcImluIHA/cyhwLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTpudWxsLHI9e2RhdGE6ZS5yZXNwb25zZVR5cGUmJlwidGV4dFwiIT09ZS5yZXNwb25zZVR5cGU/cC5yZXNwb25zZTpwLnJlc3BvbnNlVGV4dCxzdGF0dXM6cC5zdGF0dXMsc3RhdHVzVGV4dDpwLnN0YXR1c1RleHQsaGVhZGVyczpuLGNvbmZpZzplLHJlcXVlc3Q6cH07aSh0LHUscikscD1udWxsfX0scC5vbmFib3J0PWZ1bmN0aW9uKCl7cCYmKHUoZChcIlJlcXVlc3QgYWJvcnRlZFwiLGUsXCJFQ09OTkFCT1JURURcIixwKSkscD1udWxsKX0scC5vbmVycm9yPWZ1bmN0aW9uKCl7dShkKFwiTmV0d29yayBFcnJvclwiLGUsbnVsbCxwKSkscD1udWxsfSxwLm9udGltZW91dD1mdW5jdGlvbigpe3ZhciB0PVwidGltZW91dCBvZiBcIitlLnRpbWVvdXQrXCJtcyBleGNlZWRlZFwiO2UudGltZW91dEVycm9yTWVzc2FnZSYmKHQ9ZS50aW1lb3V0RXJyb3JNZXNzYWdlKSx1KGQodCxlLFwiRUNPTk5BQk9SVEVEXCIscCkpLHA9bnVsbH0sci5pc1N0YW5kYXJkQnJvd3NlckVudigpKXt2YXIgdj1uKDkyKSxFPShlLndpdGhDcmVkZW50aWFsc3x8YyhoKSkmJmUueHNyZkNvb2tpZU5hbWU/di5yZWFkKGUueHNyZkNvb2tpZU5hbWUpOnZvaWQgMDtFJiYoZltlLnhzcmZIZWFkZXJOYW1lXT1FKX1pZihcInNldFJlcXVlc3RIZWFkZXJcImluIHAmJnIuZm9yRWFjaChmLChmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWwmJlwiY29udGVudC10eXBlXCI9PT10LnRvTG93ZXJDYXNlKCk/ZGVsZXRlIGZbdF06cC5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksci5pc1VuZGVmaW5lZChlLndpdGhDcmVkZW50aWFscyl8fChwLndpdGhDcmVkZW50aWFscz0hIWUud2l0aENyZWRlbnRpYWxzKSxlLnJlc3BvbnNlVHlwZSl0cnl7cC5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGV9Y2F0Y2godCl7aWYoXCJqc29uXCIhPT1lLnJlc3BvbnNlVHlwZSl0aHJvdyB0fVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3dubG9hZFByb2dyZXNzJiZwLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGUub25Eb3dubG9hZFByb2dyZXNzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uVXBsb2FkUHJvZ3Jlc3MmJnAudXBsb2FkJiZwLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uVXBsb2FkUHJvZ3Jlc3MpLGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKChmdW5jdGlvbihlKXtwJiYocC5hYm9ydCgpLHUoZSkscD1udWxsKX0pKSx2b2lkIDA9PT1sJiYobD1udWxsKSxwLnNlbmQobCl9KSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIGE9bmV3IEVycm9yKGUpO3JldHVybiByKGEsdCxuLGksbyl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgbj17fSxpPVtcInVybFwiLFwibWV0aG9kXCIsXCJwYXJhbXNcIixcImRhdGFcIl0sbz1bXCJoZWFkZXJzXCIsXCJhdXRoXCIsXCJwcm94eVwiXSxhPVtcImJhc2VVUkxcIixcInVybFwiLFwidHJhbnNmb3JtUmVxdWVzdFwiLFwidHJhbnNmb3JtUmVzcG9uc2VcIixcInBhcmFtc1NlcmlhbGl6ZXJcIixcInRpbWVvdXRcIixcIndpdGhDcmVkZW50aWFsc1wiLFwiYWRhcHRlclwiLFwicmVzcG9uc2VUeXBlXCIsXCJ4c3JmQ29va2llTmFtZVwiLFwieHNyZkhlYWRlck5hbWVcIixcIm9uVXBsb2FkUHJvZ3Jlc3NcIixcIm9uRG93bmxvYWRQcm9ncmVzc1wiLFwibWF4Q29udGVudExlbmd0aFwiLFwidmFsaWRhdGVTdGF0dXNcIixcIm1heFJlZGlyZWN0c1wiLFwiaHR0cEFnZW50XCIsXCJodHRwc0FnZW50XCIsXCJjYW5jZWxUb2tlblwiLFwic29ja2V0UGF0aFwiXTtyLmZvckVhY2goaSwoZnVuY3Rpb24oZSl7dm9pZCAwIT09dFtlXSYmKG5bZV09dFtlXSl9KSksci5mb3JFYWNoKG8sKGZ1bmN0aW9uKGkpe3IuaXNPYmplY3QodFtpXSk/bltpXT1yLmRlZXBNZXJnZShlW2ldLHRbaV0pOnZvaWQgMCE9PXRbaV0/bltpXT10W2ldOnIuaXNPYmplY3QoZVtpXSk/bltpXT1yLmRlZXBNZXJnZShlW2ldKTp2b2lkIDAhPT1lW2ldJiYobltpXT1lW2ldKX0pKSxyLmZvckVhY2goYSwoZnVuY3Rpb24ocil7dm9pZCAwIT09dFtyXT9uW3JdPXRbcl06dm9pZCAwIT09ZVtyXSYmKG5bcl09ZVtyXSl9KSk7dmFyIHM9aS5jb25jYXQobykuY29uY2F0KGEpLGM9T2JqZWN0LmtleXModCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXMuaW5kZXhPZihlKX0pKTtyZXR1cm4gci5mb3JFYWNoKGMsKGZ1bmN0aW9uKHIpe3ZvaWQgMCE9PXRbcl0/bltyXT10W3JdOnZvaWQgMCE9PWVbcl0mJihuW3JdPWVbcl0pfSkpLG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt0aGlzLm1lc3NhZ2U9ZX1yLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiQ2FuY2VsXCIrKHRoaXMubWVzc2FnZT9cIjogXCIrdGhpcy5tZXNzYWdlOlwiXCIpfSxyLnByb3RvdHlwZS5fX0NBTkNFTF9fPSEwLGUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsciYmKGk9MiZvWzBdP3IucmV0dXJuOm9bMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKysscj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT1hLnRyeXMsKGk9aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19LG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0sYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW8obig1OSkpLGM9YShuKDYyKSksZD1hKG4oNjMpKSx1PW8obigwKSksbD1uKDIpLGY9cy5kZWZhdWx0LlJvb3QuZnJvbUpTT04oZCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlcXVlc3RBcnJheT1bXSx0aGlzLnJldHJ5QmFja29mZkNvdW50PTAsdGhpcy5zdGF0ZT0wfXJldHVybiBlLnByb3RvdHlwZS5zZXRQcm94eT1mdW5jdGlvbihlKXt0aGlzLnByb3h5U2VydmVyPWV9LGUucHJvdG90eXBlLnNlbmRSZXBvcnRMaXN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuX2RhdGFDb252ZXJ0KFwiUHJvdG9SYXdzXCIse3ZpZDp0LHNlbmRUczpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxwYXlsb2FkczplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2lkOmNbZS50eXBlXSxtc2c6bi5fZGF0YUNvbnZlcnQoZS50eXBlLGUuZGF0YSl9fSkpfSk7dGhpcy5zZW5kKHIpfSxlLnByb3RvdHlwZS5fZGF0YUNvbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbjt0cnl7bj1mLmxvb2t1cFR5cGUoXCJwcm90b2J1Zi5cIitlKX1jYXRjaCh0KXt1LmRlZmF1bHQuZXJyb3IoXCJbc2VuZC1wcm90b10gaW52YWxpZCBwcm90byBuYW1lIFwiK2UpfXZhciByPW4uY3JlYXRlKHQpO3JldHVybiBuLmVuY29kZShyKS5maW5pc2goKX0sZS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXswPT10aGlzLnN0YXRlP3RoaXMuX3NlbmQoZSk6dGhpcy5yZXF1ZXN0QXJyYXkucHVzaChlKX0sZS5wcm90b3R5cGUuX3NlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDIsLDRdKSx0aGlzLnN0YXRlPTEsWzQsdGhpcy5yZXF1ZXN0KGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMucmV0cnlCYWNrb2ZmQ291bnQ9MCwwIT09dGhpcy5yZXF1ZXN0QXJyYXkubGVuZ3RoP3RoaXMuX3NlbmQodGhpcy5yZXF1ZXN0QXJyYXkuc2hpZnQoKSk6dGhpcy5zdGF0ZT0wLFszLDRdO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzQsZyh0aGlzLnJldHJ5QmFja29mZkNvdW50Kys8Mj8yMDA6MWU0KV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSx0aGlzLl9zZW5kKGUpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6dD10aGlzLl9nZXRBZGRyZXNzKCksbj10aGlzLl9nZXRCYWNrdXBBZGRyZXNzKCksci5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gci50cnlzLnB1c2goWzEsMywsNV0pLFs0LHRoaXMuX3JlcXVlc3QodCxlKV07Y2FzZSAyOnJldHVybiByLnNlbnQoKSxbMyw1XTtjYXNlIDM6cmV0dXJuIHIuc2VudCgpLFs0LHRoaXMuX3JlcXVlc3QobixlKV07Y2FzZSA0OnJldHVybiByLnNlbnQoKSxbMyw1XTtjYXNlIDU6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuX3JlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcG9zdChlLHQpfSxlLnByb3RvdHlwZS5fcG9zdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLnRpbWVvdXQ9bC5nZXRQYXJhbWV0ZXIoXCJIVFRQX0NPTk5FQ1RfVElNRU9VVFwiKSxvLm9wZW4oXCJQT1NUXCIsZSwhMCksby5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIiksbi5wcm94eVNlcnZlcnx8KG8uc2V0UmVxdWVzdEhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIixcIm5vLWNhY2hlLCBuby1zdG9yZVwiKSxvLnNldFJlcXVlc3RIZWFkZXIoXCJQcmFnbWFcIixcIm5vLWNhY2hlXCIpLG8uc2V0UmVxdWVzdEhlYWRlcihcIkV4cGlyZXNcIixcIjBcIikpLG8ub25sb2FkPWZ1bmN0aW9uKGUpe3Ioby5yZXNwb25zZVRleHQpfSxvLm9uZXJyb3I9ZnVuY3Rpb24oZSl7aShlKX0sby5vbnRpbWVvdXQ9ZnVuY3Rpb24oZSl7aShlKX0sby5zZW5kKHQpfSkpfSxlLnByb3RvdHlwZS5fZ2V0QWRkcmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIit0aGlzLnByb3h5U2VydmVyK1wiL3JzLz9oPVwiK2wuZ2V0UGFyYW1ldGVyKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiKStcIiZwPTY0NDMmZD1ldmVudHMvcHJvdG8tcmF3c1wiOlwiaHR0cHM6Ly9cIitsLmdldFBhcmFtZXRlcihcIkVWRU5UX1JFUE9SVF9ET01BSU5cIikrXCI6NjQ0My9ldmVudHMvcHJvdG8tcmF3c1wifSxlLnByb3RvdHlwZS5fZ2V0QmFja3VwQWRkcmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIit0aGlzLnByb3h5U2VydmVyK1wiL3JzLz9oPVwiK2wuZ2V0UGFyYW1ldGVyKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIikrXCImcD02NDQzJmQ9ZXZlbnRzL3Byb3RvLXJhd3NcIjpcImh0dHBzOi8vXCIrbC5nZXRQYXJhbWV0ZXIoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKStcIjo2NDQzL2V2ZW50cy9wcm90by1yYXdzXCJ9LGV9KCk7dC5kZWZhdWx0PXA7dmFyIGc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXt3aW5kb3cuc2V0VGltZW91dCh0LGUpfSkpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZuKGUucHJvdG90eXBlLHQpLHImJm4oZSxyKSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0saT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxvPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhLHM9byhuKDApKSxjPW4oMTUpOyFmdW5jdGlvbihlKXtlLk5FVz1cIm5ld1wiLGUuUFJFUEFSSU5HX09GRkVSPVwicHJlcGFyaW5nLW9mZmVyXCIsZS5PRkZFUl9TRU5UPVwib2ZmZXItc2VudFwiLGUuRVNUQUJMSVNIRUQ9XCJlc3RhYmxpc2hlZFwiLGUuQ0xPU0VEPVwiY2xvc2VkXCJ9KGF8fChhPXt9KSk7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY2FuZGlkYXRlPW51bGwsdGhpcy5zdGF0ZT1hLk5FVyx0aGlzLmNvbmZpZz1lLHRoaXMuaXNTdWJzY3JpYmVyPXRoaXMuY29uZmlnLmlzU3Vic2NyaWJlcix0aGlzLnBlZXJDb25uZWN0aW9uPXRoaXMuaW5pdFBlZWNDb25uZWN0aW9uKGUpLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9dGhpcy5fb25pY2VjYW5kaWRhdGUuYmluZCh0aGlzKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPXRoaXMuX29uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlLmJpbmQodGhpcyksdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmFkZHN0cmVhbT10aGlzLl9vbmFkZHN0cmVhbS5iaW5kKHRoaXMpLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz10aGlzLl9vbnRyYWNrLmJpbmQodGhpcyksdGhpcy5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZT10aGlzLnNldEFuc3dlci5iaW5kKHRoaXMpLHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pLnRoZW4odGhpcy5zZXRMb2NhbFNEUC5iaW5kKHRoaXMpKSx0aGlzLnNlbmRWaWRlb1N0YXRzPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixnb29nQ29kZWNOYW1lOnRoaXMuY29uZmlnLmNvZGVjLnRvVXBwZXJDYXNlKCksYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dBZGFwdGF0aW9uQ2hhbmdlczpcIjBcIixnb29nQXZnRW5jb2RlTXM6XCIwXCIsZ29vZ0VuY29kZVVzYWdlUGVyY2VudDpcIjBcIixnb29nRmlyc1JlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZUlucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVTZW50OlwiMFwiLGdvb2dGcmFtZVdpZHRoU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aElucHV0OlwiMFwiLGdvb2dOYWNrc1JlY2VpdmVkOlwiMFwiLGdvb2dQbGlzUmVjZWl2ZWQ6XCIwXCIsZ29vZ1J0dDpcIjBcIixnb29nRnJhbWVzRW5jb2RlZDpcIjBcIn0sdGhpcy5zZW5kQXVkaW9TdGF0cz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTpcIm9wdXNcIixhZWNEaXZlcmdlbnRGaWx0ZXJGcmFjdGlvbjpcIjBcIixhdWRpb0lucHV0TGV2ZWw6XCIwXCIsYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zczpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudDpcIjBcIn0sdGhpcy5yZWNlaXZlQXVkaW9TdGF0cz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsYXVkaW9PdXRwdXRMZXZlbDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIixnb29nQWNjZWxlcmF0ZVJhdGU6XCIwXCIsZ29vZ0N1cnJlbnREZWxheU1zOlwiMFwiLGdvb2dEZWNvZGluZ0NORzpcIjBcIixnb29nRGVjb2RpbmdDVE46XCIwXCIsZ29vZ0RlY29kaW5nQ1RTRzpcIjBcIixnb29nRGVjb2RpbmdOb3JtYWw6XCIwXCIsZ29vZ0RlY29kaW5nUExDOlwiMFwiLGdvb2dEZWNvZGluZ1BMQ0NORzpcIjBcIixnb29nRXhwYW5kUmF0ZTpcIjBcIixnb29nSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ0ppdHRlclJlY2VpdmVkOlwiMFwiLGdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZTpcIjBcIixnb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ1NlY29uZGFyeURlY29kZWRSYXRlOlwiMFwiLGdvb2dTcGVlY2hFeHBhbmRSYXRlOlwiMFwifSx0aGlzLnJlY2VpdmVWaWRlb1N0YXRzPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixnb29nVGFyZ2V0RGVsYXlNczpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixnb29nRGVjb2RlTXM6XCIwXCIsZ29vZ01heERlY29kZU1zOlwiMFwiLGdvb2dSZW5kZXJEZWxheU1zOlwiMFwiLGdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVEZWNvZGVkOlwiMFwiLGdvb2dGcmFtZVJhdGVPdXRwdXQ6XCIwXCIsZ29vZ0ZyYW1lc0RlY29kZWQ6XCIwXCIsZ29vZ0ZyYW1lUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nTWluUGxheW91dERlbGF5TXM6XCIwXCIsZ29vZ05hY2tzU2VudDpcIjBcIixnb29nUGxpc1NlbnQ6XCIwXCIsZ29vZ0ZpcnNTZW50OlwiMFwiLGJ5dGVzUmVjZWl2ZWQ6XCIwXCIscGFja2V0c1JlY2VpdmVkOlwiMFwifX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMucGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKGUpfSxlLnByb3RvdHlwZS5zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMl19KSl9KSl9LGUucHJvdG90eXBlLnNldEFuc3dlcj1mdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGUpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7c2RwOnQuc2RwLHR5cGU6XCJhbnN3ZXJcIn0pKSx0aGlzLm9uc2lnbmFsaW5nbWVzc2FnZSYmdGhpcy5vbnNpZ25hbGluZ21lc3NhZ2UoXCJcIil9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpfSxlLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PTUwMCksdD10PjUwMD81MDA6dCxEYXRlLm5vdygpLXRoaXMubGFzdFRpbWVHZXRTdGF0czx0KXt2YXIgbj1bXTt0aGlzLmNvbmZpZy5pc1N1YnNjcmliZXI/KG4ucHVzaCh0aGlzLnJlY2VpdmVWaWRlb1N0YXRzKSxuLnB1c2godGhpcy5yZWNlaXZlQXVkaW9TdGF0cykpOihuLnB1c2godGhpcy5zZW5kQXVkaW9TdGF0cyksbi5wdXNoKHRoaXMuc2VuZFZpZGVvU3RhdHMpKSxuLnB1c2goe2lkOlwidGltZVwiLHN0YXJ0VGltZTp0aGlzLmNvbm5lY3RlZFRpbWUsdGltZXN0YW1wOkRhdGUubm93KCl9KSxlJiZlKG4pfWVsc2UgdGhpcy5fZ2V0U3RhdHMoZSl9LGUucHJvdG90eXBlLl9nZXRTdGF0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49W107dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cyhudWxsKS50aGVuKChmdW5jdGlvbihyKXt0Lmxhc3RUaW1lR2V0U3RhdHM9RGF0ZS5ub3coKSxPYmplY3Qua2V5cyhyKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPXJbZV07dC5jb25maWcuaXNTdWJzY3JpYmVyP24udHlwZSYmXCJpbmJvdW5kcnRwXCI9PT1uLnR5cGUmJm4ubWVkaWFUeXBlJiZcImF1ZGlvXCI9PT1uLm1lZGlhVHlwZT8odC5yZWNlaXZlQXVkaW9TdGF0cy5pZD1uLmlkK1wicmVjdlwiLHQucmVjZWl2ZUF1ZGlvU3RhdHMudHlwZT1uLnR5cGUrXCJcIix0LnJlY2VpdmVBdWRpb1N0YXRzLm1lZGlhVHlwZT1uLm1lZGlhVHlwZStcIlwiLHQucmVjZWl2ZUF1ZGlvU3RhdHMucGFja2V0c1JlY2VpdmVkPW4ucGFja2V0c1JlY2VpdmVkK1wiXCIsdC5yZWNlaXZlQXVkaW9TdGF0cy5ieXRlc1JlY2VpdmVkPW4uYnl0ZXNSZWNlaXZlZCtcIlwiLHQucmVjZWl2ZUF1ZGlvU3RhdHMucGFja2V0c0xvc3Q9bi5wYWNrZXRzTG9zdCtcIlwiLHQucmVjZWl2ZUF1ZGlvU3RhdHMuZ29vZ0ppdHRlclJlY2VpdmVkPW4uaml0dGVyK1wiXCIpOm4udHlwZSYmXCJpbmJvdW5kcnRwXCI9PT1uLnR5cGUmJm4ubWVkaWFUeXBlJiZcInZpZGVvXCI9PT1uLm1lZGlhVHlwZT8odC5yZWNlaXZlVmlkZW9TdGF0cy5pZD1uLmlkK1wicmVjdlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMudHlwZT1uLnR5cGUrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLm1lZGlhVHlwZT1uLm1lZGlhVHlwZStcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMucGFja2V0c1JlY2VpdmVkPW4ucGFja2V0c1JlY2VpdmVkK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5ieXRlc1JlY2VpdmVkPW4uYnl0ZXNSZWNlaXZlZCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMucGFja2V0c0xvc3Q9bi5wYWNrZXRzTG9zdCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ppdHRlckJ1ZmZlck1zPW4uaml0dGVyK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nUGxpc1NlbnQ9bi5wbGlDb3VudCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZpcnNTZW50PW4uZmlyQ291bnQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dOYWNrc1NlbnQ9bi5uYWNrQ291bnQrXCJcIik6bi5yZW1vdGVTb3VyY2UmJm4udHlwZSYmXCJ0cmFja1wiPT09bi50eXBlJiZuLnRyYWNrSWRlbnRpZmllciYmLTEhPT1uLnRyYWNrSWRlbnRpZmllci5pbmRleE9mKFwidlwiKT8odC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZD1uLmZyYW1lSGVpZ2h0K1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aFJlY2VpdmVkPW4uZnJhbWVXaWR0aCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmF0ZURlY29kZWQ9bi5mcmFtZXNQZXJTZWNvbmQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dGcmFtZVJhdGVPdXRwdXQ9bi5mcmFtZXNQZXJTZWNvbmQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dGcmFtZVJhdGVSZWNlaXZlZD1uLmZyYW1lc1BlclNlY29uZCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZyYW1lc0RlY29kZWQ9bi5mcmFtZXNEZWNvZGVkK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nRnJhbWVSZWNlaXZlZD1uLmZyYW1lc1JlY2VpdmVkK1wiXCIpOm4ucmVtb3RlU291cmNlJiZuLnR5cGUmJlwidHJhY2tcIj09PW4udHlwZSYmbi50cmFja0lkZW50aWZpZXImJi0xIT09bi50cmFja0lkZW50aWZpZXIuaW5kZXhPZihcImFcIikmJih0LnJlY2VpdmVBdWRpb1N0YXRzLmF1ZGlvT3V0cHV0TGV2ZWw9bi5hdWRpb0xldmVsK1wiXCIpOiFuLmlzUmVtb3RlJiZuLnR5cGUmJlwib3V0Ym91bmRydHBcIj09PW4udHlwZSYmbi5tZWRpYVR5cGUmJlwiYXVkaW9cIj09PW4ubWVkaWFUeXBlPyh0LnNlbmRBdWRpb1N0YXRzLmlkPW4uaWQrXCJzZW5kXCIsdC5zZW5kQXVkaW9TdGF0cy50eXBlPW4udHlwZStcIlwiLHQuc2VuZEF1ZGlvU3RhdHMubWVkaWFUeXBlPW4ubWVkaWFUeXBlK1wiXCIsdC5zZW5kQXVkaW9TdGF0cy5wYWNrZXRzU2VudD1uLnBhY2tldHNTZW50K1wiXCIsdC5zZW5kQXVkaW9TdGF0cy5ieXRlc1NlbnQ9bi5ieXRlc1NlbnQrXCJcIik6IW4uaXNSZW1vdGUmJm4udHlwZSYmXCJvdXRib3VuZHJ0cFwiPT09bi50eXBlJiZuLm1lZGlhVHlwZSYmXCJ2aWRlb1wiPT09bi5tZWRpYVR5cGU/KHQuc2VuZFZpZGVvU3RhdHMuaWQ9bi5pZCtcInNlbmRcIix0LnNlbmRWaWRlb1N0YXRzLnR5cGU9bi50eXBlK1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5tZWRpYVR5cGU9bi5tZWRpYVR5cGUrXCJcIix0LnNlbmRWaWRlb1N0YXRzLnBhY2tldHNTZW50PW4ucGFja2V0c1NlbnQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmJ5dGVzU2VudD1uLmJ5dGVzU2VudCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ1J0dD1uLnJvdW5kVHJpcFRpbWUrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dQbGlzUmVjZWl2ZWQ9bi5wbGlDb3VudCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ0ZpcnNSZWNlaXZlZD1uLmZpckNvdW50K1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5nb29nTmFja3NSZWNlaXZlZD1uLm5hY2tDb3VudCtcIlwiKTohbi5yZW1vdGVTb3VyY2UmJm4udHlwZSYmXCJ0cmFja1wiPT09bi50eXBlJiZuLmZyYW1lc1NlbnQmJjAhPT1uLmZyYW1lc1NlbnQmJih0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodFNlbnQ9bi5mcmFtZUhlaWdodCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQ9bi5mcmFtZUhlaWdodCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhTZW50PW4uZnJhbWVXaWR0aCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhJbnB1dD1uLmZyYW1lV2lkdGgrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZXNFbmNvZGVkPW4uZnJhbWVzU2VudCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmF0ZVNlbnQ9bi5mcmFtZXNQZXJTZWNvbmQrXCJcIil9KSksdC5jb25maWcuaXNTdWJzY3JpYmVyPyhuLnB1c2godC5yZWNlaXZlVmlkZW9TdGF0cyksbi5wdXNoKHQucmVjZWl2ZUF1ZGlvU3RhdHMpKToobi5wdXNoKHQuc2VuZEF1ZGlvU3RhdHMpLG4ucHVzaCh0LnNlbmRWaWRlb1N0YXRzKSksbi5wdXNoKHtpZDpcInRpbWVcIixzdGFydFRpbWU6dC5jb25uZWN0ZWRUaW1lLHRpbWVzdGFtcDpEYXRlLm5vdygpfSksZSYmZShuKX0pKX0sZS5wcm90b3R5cGUuZ2V0U3RhdHNSYXRlPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0U3RhdHMoZSl9LGUucHJvdG90eXBlLmluaXRQZWVjQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0dW5TZXJ2ZXJVcmwsbj1lLnR1cm5TZXJ2ZXIscj1lLmljZVNlcnZlcnM7cmV0dXJuIHRoaXMucGNDb25maWc9e2ljZVNlcnZlcnM6W119LHIgaW5zdGFuY2VvZiBBcnJheT90aGlzLnBjQ29uZmlnLmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOnQmJih0IGluc3RhbmNlb2YgQXJyYXk/dC5tYXAoKGZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlwiIT09ZSYmdGhpcy5wY0NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybHM6ZX0pfSkpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiZcIlwiIT09dCYmdGhpcy5wY0NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybHM6dH0pKSxuJiYobiBpbnN0YW5jZW9mIEFycmF5P24ubWFwKChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZS51cmwmJlwiXCIhPT1lLnVybCYmdGhpcy5wY0NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsdXJsOmUudXJsfSl9KSk6XCJhdXRvXCIhPT1uLm1vZGUmJlwibWFudWFsXCIhPT1uLm1vZGV8fChuLnVkcHBvcnQmJnRoaXMucGNDb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTpuLnVzZXJuYW1lLGNyZWRlbnRpYWw6bi5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIituLnVybCtcIjpcIituLnVkcHBvcnQrXCI/dHJhbnNwb3J0PXVkcFwifSksXCJzdHJpbmdcIj09dHlwZW9mIG4udGNwcG9ydCYmXCJcIiE9PW4udGNwcG9ydCYmdGhpcy5wY0NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOm4udXNlcm5hbWUsY3JlZGVudGlhbDpuLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiK24udXJsK1wiOlwiK24udGNwcG9ydCtcIj90cmFuc3BvcnQ9dGNwXCJ9KSwhMD09PW4uZm9yY2V0dXJuJiYodGhpcy5wY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKSkpLG5ldyBjLlJUQ1BlZXJDb25uZWN0aW9uKHRoaXMucGNDb25maWcpfSxlLnByb3RvdHlwZS5fb250cmFjaz1mdW5jdGlvbihlKXt0aGlzLm9uYWRkc3RyZWFtJiZ0aGlzLm9uYWRkc3RyZWFtKGUsXCJvbnRyYWNrXCIpfSxlLnByb3RvdHlwZS5fb25hZGRzdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5vbmFkZHN0cmVhbSYmdGhpcy5vbmFkZHN0cmVhbShlLFwib25hZGRzdHJlYW1cIil9LGUucHJvdG90eXBlLl9vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImNvbm5lY3RlZFwiPT09ZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuc3RhdGU9YS5FU1RBQkxJU0hFRCx0aGlzLmNvbm5lY3RlZFRpbWU9RGF0ZS5ub3coKSksdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZShlLmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlKX0sZS5wcm90b3R5cGUuX29uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpeyF0aGlzLmNhbmRpZGF0ZSYmZSYmKHRoaXMuY2FuZGlkYXRlPWUuY2FuZGlkYXRlLHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pLnRoZW4odGhpcy5lZGl0TG9jYWxTRFAuYmluZCh0aGlzKSkudGhlbih0aGlzLnNldExvY2FsU0RQLmJpbmQodGhpcykpLnRoZW4odGhpcy5zZW5kT2ZmZXIuYmluZCh0aGlzKSkuY2F0Y2goKSl9LGUucHJvdG90eXBlLnNldExvY2FsU0RQPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7c2RwOmUuc2RwLHR5cGU6XCJvZmZlclwifSkpLHRoaXMuc3RhdGU9YS5QUkVQQVJJTkdfT0ZGRVIsZX0sZS5wcm90b3R5cGUuZWRpdExvY2FsU0RQPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNkcD10aGlzLnNldEJhbmRXaWR0aChlLnNkcCksZS5zZHA9dGhpcy5yZXZpc2VPcHVzKGUuc2RwKSxlLnNkcD10aGlzLmFkZENhbmRpZGF0ZShlLnNkcCksZX0sZS5wcm90b3R5cGUuc2V0U2VuZFJlY3Y9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9KGU9KGU9ZS5yZXBsYWNlKC9hPXJlY3Zvbmx5XFxyXFxuL2csXCJhPXNlbmRyZWN2XFxyXFxuXCIpKS5yZXBsYWNlKC9hPXNlbmRvbmx5XFxyXFxuL2csXCJhPXNlbmRyZWN2XFxyXFxuXCIpKS5yZXBsYWNlKC9hPWluYWN0aXZlXFxyXFxuL2csXCJhPXNlbmRyZWN2XFxyXFxuXCIpfSxlLnByb3RvdHlwZS5zZXRCYW5kV2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMuY29uZmlnLGk9ci5jb2RlYyxvPXIubWluVmlkZW9CVyxhPXIubWF4VmlkZW9CVyxjPXIubWF4QXVkaW9CVyxkPXIuY2xpZW50SWQ7aWYoKHQ9ZS5tYXRjaCgvbT12aWRlby4qXFxyXFxuLykpJiZvJiZhKXtuPXRbMF0rXCJiPUFTOlwiK2ErXCJcXHJcXG5cIjt2YXIgdT0wLGw9MDtcImgyNjRcIj09PWk/KHU9ZS5zZWFyY2goL2E9cnRwbWFwOihcXGQrKSBIMjY0XFwvOTAwMDBcXHJcXG4vKSxsPWUuc2VhcmNoKC9IMjY0XFwvOTAwMDBcXHJcXG4vKSk6XCJ2cDhcIj09PWk/KHU9ZS5zZWFyY2goL2E9cnRwbWFwOihcXGQrKSBWUDhcXC85MDAwMFxcclxcbi8pLGw9ZS5zZWFyY2goL1ZQOFxcLzkwMDAwXFxyXFxuLykpOlwidnA5XCI9PT1pJiYodT1lLnNlYXJjaCgvYT1ydHBtYXA6KFxcZCspIFZQOVxcLzkwMDAwXFxyXFxuLyksbD1lLnNlYXJjaCgvVlA5XFwvOTAwMDBcXHJcXG4vKSksLTEhPT11JiYtMSE9PWwmJmwtdT4xMCYmKG49bitcImE9Zm10cDpcIitlLnNsaWNlKHUrOSxsLTEpK1wiIHgtZ29vZ2xlLW1pbi1iaXRyYXRlPVwiK28rXCJcXHJcXG5cIiksZT1lLnJlcGxhY2UodFswXSxuKSxzLmRlZmF1bHQuZGVidWcoXCJbXCIrZCtcIl1TZXQgVmlkZW8gQml0cmF0ZSAtIG1pbjpcIitvK1wiIG1heDpcIithKX1yZXR1cm4odD1lLm1hdGNoKC9tPWF1ZGlvLipcXHJcXG4vKSkmJmMmJihuPXRbMF0rXCJiPUFTOlwiK2MrXCJcXHJcXG5cIixlPWUucmVwbGFjZSh0WzBdLG4pKSxlfSxlLnByb3RvdHlwZS5yZXZpc2VPcHVzPWZ1bmN0aW9uKGUpe3JldHVybiBlPShlPWUucmVwbGFjZSgvYT1ydHBtYXA6MTAyIG9wdXNcXC80ODAwMFxcLzIvZyxcImE9cnRwbWFwOjExMSBvcHVzLzQ4MDAwLzJcIikpLnJlcGxhY2UoL209YXVkaW8gOSBVRFBcXC9UTFNcXC9SVFBcXC9TQVZQRiAxMDIgMCA4IDk3IDEzIDExOCAxMDEvZyxcIm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAxMTEgMCA4IDk3IDEzIDExOCAxMDFcIil9LGUucHJvdG90eXBlLmFkZENhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZSs9XCJhPWNhbmRpZGF0ZToyMjQzMjU1NDM1IDEgdWRwIDIxMjIxOTQ2ODcgMTkyLjE2OC4wLjEgMzAwMDAgdHlwIGhvc3QgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMVxcclxcblwifSxlLnByb3RvdHlwZS5zZW5kT2ZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5jb25maWcuY2FsbGJhY2soSlNPTi5zdHJpbmdpZnkoe3NkcDplLnNkcCxtZXNzYWdlVHlwZTpcIk9GRkVSXCIsdGllYnJlYWtlcjpNYXRoLmZsb29yKDQyOTQ5NjcyMypNYXRoLnJhbmRvbSgpKzEpfSkpLHRoaXMuc3RhdGU9YS5PRkZFUl9TRU5UfSxlfSgpO3QuZGVmYXVsdD1kfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1uKDY2KSxvPW4oMzQpLGE9big2Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoZSl8fGkoZSx0KXx8byhlLHQpfHxhKCl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvO2k9dGhpcyxvPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsdD10aGlzO2Z1bmN0aW9uIG4oZSl7dC5jb25zb2xlJiYodC5jb25zb2xlLmVycm9yP3QuY29uc29sZS5lcnJvcihlKTp0LmNvbnNvbGUubG9nJiZ0LmNvbnNvbGUubG9nKGUpKX1mdW5jdGlvbiByKGUsdCxyLGkpe3ZhciBvPWl8fG4sYT1lLmNyZWF0ZVNoYWRlcihyKTtyZXR1cm4gZS5zaGFkZXJTb3VyY2UoYSx0KSxlLmNvbXBpbGVTaGFkZXIoYSksZS5nZXRTaGFkZXJQYXJhbWV0ZXIoYSxlLkNPTVBJTEVfU1RBVFVTKT9hOihvKFwiKioqIEVycm9yIGNvbXBpbGluZyBzaGFkZXIgJ1wiK2ErXCInOlwiK2UuZ2V0U2hhZGVySW5mb0xvZyhhKSksZS5kZWxldGVTaGFkZXIoYSksbnVsbCl9ZnVuY3Rpb24gaShlLHQscixpLG8pe3ZhciBhPW98fG4scz1lLmNyZWF0ZVByb2dyYW0oKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmF0dGFjaFNoYWRlcihzLHQpfSkpLHImJnIuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtlLmJpbmRBdHRyaWJMb2NhdGlvbihzLGk/aVtuXTpuLHQpfSkpLGUubGlua1Byb2dyYW0ocyksZS5nZXRQcm9ncmFtUGFyYW1ldGVyKHMsZS5MSU5LX1NUQVRVUyk/czooYShcIkVycm9yIGluIHByb2dyYW0gbGlua2luZzpcIitlLmdldFByb2dyYW1JbmZvTG9nKHMpKSxlLmRlbGV0ZVByb2dyYW0ocyksbnVsbCl9KGU9ZXx8dCk9PT1lLnRvcCYmKGNvbnNvbGUubG9nKFwiJWMlc1wiLFwiY29sb3I6Ymx1ZTtmb250LXdlaWdodDpib2xkO1wiLFwiZm9yIG1vcmUgYWJvdXQgd2ViZ2wtdXRpbHMuanMgc2VlOlwiKSxjb25zb2xlLmxvZyhcIiVjJXNcIixcImNvbG9yOmJsdWU7Zm9udC13ZWlnaHQ6Ym9sZDtcIixcImh0dHA6Ly93ZWJnbGZ1bmRhbWVudGFscy5vcmcvd2ViZ2wvbGVzc29ucy93ZWJnbC1ib2lsZXJwbGF0ZS5odG1sXCIpKTt2YXIgbyxhPVtcIlZFUlRFWF9TSEFERVJcIixcIkZSQUdNRU5UX1NIQURFUlwiXTtyZXR1cm4hZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYhIXdpbmRvdy5TdHlsZU1lZGlhJiYoSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQ9KG89SFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQsZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMsdD1lWzBdO3JldHVyblwid2ViZ2xcIj09PXQmJigoZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpWzBdPVwiZXhwZXJpbWVudGFsLXdlYmdsXCIpLG8uYXBwbHkodGhpcyxlKX0pKSx7Y3JlYXRlUHJvZ3JhbTppLGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlczpmdW5jdGlvbihlLHQsbixvLHMpe2Zvcih2YXIgYz1bXSxkPTA7ZDx0Lmxlbmd0aDsrK2QpYy5wdXNoKHIoZSx0W2RdLGVbYVtkXV0scykpO3JldHVybiBpKGUsYyxuLG8scyl9fX0sdm9pZCAwPT09KHI9ZnVuY3Rpb24oKXtyZXR1cm4gby5jYWxsKGkpfS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9cil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGk9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDY4KSxzPW4oNSksYz1vKG4oMCkpO3QuZ2V0U3VwcG9ydGVkQ29kZWM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixyLG8sdTtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PXt2aWRlbzpbXSxhdWRpbzpbXX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9bMywxXTooXCJOT1RfQlJPV1NFUl9FTlZcIixjLmRlZmF1bHQuZXJyb3IoXCJnZXRTdXBwb3J0ZWRDb2RlYzogTk9UX0JST1dTRVJfRU5WXCIpLFsyLFByb21pc2UucmVqZWN0KFwiTk9UX0JST1dTRVJfRU5WXCIpXSk7Y2FzZSAxOnRyeXtuPWEuY3JlYXRlUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W119KX1jYXRjaChlKXtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiRmFpbGVkIHRvIGluaXQgUlRDUGVlckNvbm5lY3Rpb25cIixlKSxbMixQcm9taXNlLnJlamVjdChlKV19cmV0dXJuIG4/WzMsMl06KGMuZGVmYXVsdC53YXJuaW5nKFwiZ2V0U3VwcG9ydGVkQ29kZWM6IG5vIFJUQ1BlZXJDb25uZWN0aW9uIGNvbnN0cnVjdG9yIGlzIGRldGVjdGVkXCIpLFsyLFByb21pc2UucmVzb2x2ZSh0KV0pO2Nhc2UgMjpyZXR1cm4gZSYmZS5zdHJlYW0/WzMsN106KHI9e21hbmRhdG9yeTp7T2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxPZmZlclRvUmVjZWl2ZVZpZGVvOiEwfX0sbz12b2lkIDAsKHMuaXNTYWZhcmkoKXx8cy5pc0ZpcmVGb3goKXx8cy5pc1dlQ2hhdEJyb3dzZXIoKSkmJm4uYWRkVHJhbnNjZWl2ZXI/KG4uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSxuLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIiksWzQsbi5jcmVhdGVPZmZlcigpXSk6WzMsNF0pO2Nhc2UgMzpyZXR1cm4gbz1pLnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KFwiQ1JFQVRFT0ZGRVJfVElNRU9VVFwiKX0pLDNlMyk7bi5jcmVhdGVPZmZlcigoZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KGkpLGUodCl9KSwoZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGkpLHQoZSl9KSxyKX0pKV07Y2FzZSA1Om89aS5zZW50KCksaS5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gbi5jbG9zZSgpLHU9by5zZHAsWzIsZCh1KV07Y2FzZSA3OnJldHVybiBlLnN0cmVhbS5nZXRUcmFja3MmJm4uYWRkVHJhY2s/ZS5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5hZGRUcmFjayh0LGUuc3RyZWFtKX0pKTpuLmFkZFN0cmVhbShlLnN0cmVhbSksbz12b2lkIDAscy5pc1NhZmFyaSgpfHxzLmlzRmlyZUZveCgpP1s0LG4uY3JlYXRlT2ZmZXIoKV06WzMsOV07Y2FzZSA4OnJldHVybiBvPWkuc2VudCgpLFszLDExXTtjYXNlIDk6cmV0dXJuWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7bi5jcmVhdGVPZmZlcihlLHQpfSkpXTtjYXNlIDEwOm89aS5zZW50KCksaS5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBuLmNsb3NlKCksdT1vLnNkcCxbMixkKHUpXX19KSl9KSl9O3ZhciBkPWZ1bmN0aW9uKGUpe3ZhciB0PXt2aWRlbzpbXSxhdWRpbzpbXX07cmV0dXJuIGUubWF0Y2goLyBWUDgvaSkmJnQudmlkZW8ucHVzaChcIlZQOFwiKSxlLm1hdGNoKC8gVlA5L2kpJiZ0LnZpZGVvLnB1c2goXCJWUDlcIiksZS5tYXRjaCgvIEgyNjQvaSkmJnQudmlkZW8ucHVzaChcIkgyNjRcIiksZS5tYXRjaCgvIG9wdXMvaSkmJnQuYXVkaW8ucHVzaChcIk9QVVNcIiksUHJvbWlzZS5yZXNvbHZlKHQpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0saT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEwKTtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD1cIlwiLG49MDtuPGUubGVuZ3RoO24rPTEpdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gd2luZG93LmJ0b2EodCl9dC5lbmNyeXB0UlNBPWZ1bmN0aW9uKGUpe3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scixzO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9by5iYXNlNjRUb1VpbnQ4QXJyYXkoXCJNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0JnUURDTW5YQUhrS0lHQU0reDROMjJnQ0krV3l1XFxuU1RNOXp0a1QzdVlzbFRUMlB1S21aZlB6aEg2a1ZkTzdQVGpHQ09abkFzeWIzb1R0V2F0MEtjeFE0anh2cVFWK1xcbkh2WWwzaUkxWWQ0dmwyYzNxUk1KUEx0UkRmTnhhMk1jeGdxN2U5YUVVaWJ6ZGQwc3QrT0pBeTN0T2ovWTBhVnlcXG54UWlZRHozdnFhNmJQMjlhZHdJREFRQUJcIiksWzQsd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwic3BraVwiLHQse25hbWU6XCJSU0EtT0FFUFwiLGhhc2g6XCJTSEEtMjU2XCJ9LCEwLFtcImVuY3J5cHRcIl0pXTtjYXNlIDE6cmV0dXJuIG49aS5zZW50KCksYz1lLHI9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGMpLFs0LHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJSU0EtT0FFUFwifSxuLHIpXTtjYXNlIDI6cmV0dXJuIHM9aS5zZW50KCksWzIsYShuZXcgVWludDhBcnJheShzKSldfXZhciBjfSkpfSkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0saT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxvPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW8obigwKSkscz1uKDc1KSxjPW4oMjQpLGQ9bigxKSx1PW4oMjcpO3QuYWRkTGl2ZVN0cmVhbWluZ0NhcGFiaWxpdHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLG89ZnVuY3Rpb24odCl7dmFyIG49dC50eXBlO2lmKCFlLmpvaW5JbmZvKXJldHVybiBuZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGNyZWF0ZSBsaXZlIHN0cmVhbWluZyBjbGllbnQsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikudGhyb3coKTtzd2l0Y2gobil7Y2FzZSB1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1Q6cmV0dXJuIGUuX2luamVjdFN0cmVhbWluZ0NsaWVudHx8KGUuX2luamVjdFN0cmVhbWluZ0NsaWVudD1uZXcgcy5BZ29yYVJUQ0xpdmVTdHJlYW1pbmdDbGllbnQoZS5qb2luSW5mbyksZS5faW5qZWN0U3RyZWFtaW5nQ2xpZW50Lm9uSW5qZWN0U3RhdHVzQ2hhbmdlPWZ1bmN0aW9uKHQsbixyKXtlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbUluamVjdGVkU3RhdHVzXCIsdXJsOnIsc3RhdHVzOnR9KX0pLGUuX2luamVjdFN0cmVhbWluZ0NsaWVudDtjYXNlIHUuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlJBVzpyZXR1cm4gZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudHx8KGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQ9bmV3IHMuQWdvcmFSVENMaXZlU3RyZWFtaW5nQ2xpZW50KGUuam9pbkluZm8pLGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuc2V0R2F0ZXdheUNvbm5lY3Rpb25TdGF0ZShlLmdldENvbm5lY3Rpb25TdGF0ZSgpKSxlLm9uKFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIiwoZnVuY3Rpb24odCl7ZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5zZXRHYXRld2F5Q29ubmVjdGlvblN0YXRlKHQuY3VyU3RhdGUpLFwiQ09OTkVDVElOR1wiPT09dC5wcmV2U3RhdGUmJlwiQ09OTkVDVEVEXCI9PT10LmN1clN0YXRlJiZlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50JiZlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LnJlc2V0QWxsVGFzaygpfSkpLGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQub25MaXZlU3RyZWFtRXJyb3I9ZnVuY3Rpb24odCxuKXthLmRlZmF1bHQuZXJyb3IoXCJMSVZFX1NUUkVBTUlOR19FUlJPUlwiLG4udG9TdHJpbmcoKSksZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsaXZlU3RyZWFtaW5nRmFpbGVkXCIsdXJsOnQscmVhc29uOm4uY29kZX0pfSxlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50Lm9uTGl2ZVN0cmVhbVdhcm5pbmc9ZnVuY3Rpb24odCxuKXthLmRlZmF1bHQud2FybmluZyhcIkxJVkVfU1RSRUFNSU5HX1dBUk5JTkdcIixuLnRvU3RyaW5nKCkpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ1dhcm5pbmdcIix1cmw6dCxyZWFzb246bi5jb2RlfSl9KSxlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50O2Nhc2UgdS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFOnJldHVybiBlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50fHwoZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudD1uZXcgcy5BZ29yYVJUQ0xpdmVTdHJlYW1pbmdDbGllbnQoZS5qb2luSW5mbyksZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5zZXRHYXRld2F5Q29ubmVjdGlvblN0YXRlKGUuZ2V0Q29ubmVjdGlvblN0YXRlKCkpLGUub24oXCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLChmdW5jdGlvbih0KXtlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50LnNldEdhdGV3YXlDb25uZWN0aW9uU3RhdGUodC5jdXJTdGF0ZSksXCJDT05ORUNUSU5HXCI9PT10LnByZXZTdGF0ZSYmXCJDT05ORUNURURcIj09PXQuY3VyU3RhdGUmJmUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQmJmUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQucmVzZXRBbGxUYXNrKCl9KSksZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5vbkxpdmVTdHJlYW1FcnJvcj1mdW5jdGlvbih0LG4pe2EuZGVmYXVsdC5lcnJvcihcIkxJVkVfU1RSRUFNSU5HX0VSUk9SXCIsbi50b1N0cmluZygpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdGYWlsZWRcIix1cmw6dCxyZWFzb246bi5jb2RlfSl9LGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQub25MaXZlU3RyZWFtV2FybmluZz1mdW5jdGlvbih0LG4pe2EuZGVmYXVsdC53YXJuaW5nKFwiTElWRV9TVFJFQU1JTkdfV0FSTklOR1wiLG4udG9TdHJpbmcoKSksZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsaXZlU3RyZWFtaW5nV2FybmluZ1wiLHVybDp0LHJlYXNvbjpufSl9KSxlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50fX07ZS5nYXRld2F5Q2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJqb2luXCIsKGZ1bmN0aW9uKHQpe2UuX2luamVjdFN0cmVhbWluZ0NsaWVudCYmZS5faW5qZWN0U3RyZWFtaW5nQ2xpZW50LnJlc2V0QWxsVGFzaygpfSkpLGUuZ2F0ZXdheUNsaWVudC5hZGRFdmVudExpc3RlbmVyKFwic3RyZWFtLXVucHVibGlzaGVkXCIsKGZ1bmN0aW9uKHQpe3Qub3B0aW9ucyYmMD09PXQub3B0aW9ucy5zdHJlYW1UeXBlJiYoZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZXNldEFsbFRhc2soKSxlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiZlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50LnJlc2V0QWxsVGFzaygpKX0pKSxlLmdhdGV3YXlDbGllbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN0cmVhbS1wdWJsaXNoZWRcIiwoZnVuY3Rpb24oZSl7fSkpLGUuc3RhcnRMaXZlU3RyZWFtaW5nPWZ1bmN0aW9uKG4scil7YS5kZWZhdWx0LmRlYnVnKFwic3RhcnRMaXZlU3RyZWFtaW5nXCIpO3ZhciBpPWQucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zdGFydExpdmVTdHJlYW1pbmdcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKGUuZ2F0ZXdheUNsaWVudCYmXCJhdWRpZW5jZVwiPT09ZS5nYXRld2F5Q2xpZW50LnJvbGUpe3ZhciBvPXtjb2RlOjQwMyxyZWFzb246XCJBVURJRU5DRV9TVFJFQU1JTkdfRk9SQklEREVOXCJ9O3Rocm93IGkobyksb312YXIgcz1lLl9zdGFydExpdmVTdHJlYW1pbmcobixyKTtyZXR1cm4gcy50aGVuKChmdW5jdGlvbihlKXtpKG51bGwsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2EuZGVmYXVsdC5lcnJvcihcIkxJVkVfU1RSRUFNSU5HX0VSUk9SXCIsdC50b1N0cmluZygpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdGYWlsZWRcIix1cmw6bixyZWFzb246dC5jb2RlfSksaSh0KX0pKSxzfSxlLl9zdGFydExpdmVTdHJlYW1pbmc9ZnVuY3Rpb24ocyxkKXtyZXR1cm4gcihuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGkodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZHx8KFwidnA4XCI9PT10LmNvZGVjJiZhLmRlZmF1bHQud2FybmluZyhcIlZQOCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHJhd19zdHJlYW1pbmcuIFN1YnNjcmliZXIgc2lkZSB3aWxsIHN1ZmZlclwiKSxcInZwOVwiPT09dC5jb2RlYyYmYS5kZWZhdWx0Lndhcm5pbmcoXCJWUDkgaXMgbm90IHN1cHBvcnRlZCBieSByYXdfc3RyZWFtaW5nLiBTdWJzY3JpYmVyIHNpZGUgd2lsbCBzdWZmZXJcIiksXCJydGNcIj09PXQubW9kZSYmYS5kZWZhdWx0Lndhcm5pbmcoXCJSVEMgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHJhd19zdHJlYW1pbmcuIFN1YnNjcmliZXIgc2lkZSB3aWxsIHN1ZmZlclwiKSksKGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJmUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuaGF2ZVVybChzKXx8ZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5oYXZlVXJsKHMpKSYmbmV3IGMuQWdvcmFSVENFcnJvcihjLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpLnRocm93KCksbj1kP3UuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERTp1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5SQVcsWzQsbyh7dHlwZTpufSkuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhzLG4pXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ1N0YXJ0ZWRcIix1cmw6c30pLFsyXX19KSl9KSl9LGUuc2V0TGl2ZVRyYW5zY29kaW5nPWZ1bmN0aW9uKG4pe2EuZGVmYXVsdC5kZWJ1ZyhcInNldExpdmVUcmFuc2NvZGluZzogXCIrSlNPTi5zdHJpbmdpZnkobikpO3ZhciByPWQucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRMaXZlVHJhbnNjb2RpbmdcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLGk9byh7dHlwZTp1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREV9KTtyZXR1cm4gaS5zZXRUcmFuc2NvZGluZ0NvbmZpZyhuKS50aGVuKChmdW5jdGlvbigpe2UuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVRyYW5zY29kaW5nVXBkYXRlZFwifSkscihudWxsKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YS5kZWZhdWx0LmVycm9yKFwiU0VUX0xJVkVfVFJBTlNDT0RJTkdfRVJST1JcIix0LnRvU3RyaW5nKCkpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ0ZhaWxlZFwiLHJlYXNvbjp0LmNvZGV9KSxyKHQpfSkpfSxlLnN0b3BMaXZlU3RyZWFtaW5nPWZ1bmN0aW9uKG4pe3ZhciByPWQucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zdG9wTGl2ZVN0cmVhbWluZ1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSksaT1lLl9zdG9wTGl2ZVN0cmVhbWluZyhuKTtyZXR1cm4gaS50aGVuKChmdW5jdGlvbihlKXtyKG51bGwsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2EuZGVmYXVsdC5lcnJvcihcIlNUT1BfTElWRV9TVFJFQU1JTkdfRVJST1JcIix0LnRvU3RyaW5nKCkpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ0ZhaWxlZFwiLHVybDpuLHJlYXNvbjp0LmNvZGV9KSxyKHQpfSkpLGl9LGUuX3N0b3BMaXZlU3RyZWFtaW5nPWZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBhLmRlZmF1bHQuZGVidWcoXCJzdG9wTGl2ZVN0cmVhbWluZzogXCIrSlNPTi5zdHJpbmdpZnkodCkpLG49W2UuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQsZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudF0sWzQsUHJvbWlzZS5hbGwobi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmhhdmVVcmwodCkmJmUuc3RvcExpdmVTdHJlYW1pbmdUYXNrKHQpfSkpKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxhLmRlZmF1bHQuZGVidWcoXCJzdG9wTGl2ZVN0cmVhbWluZyBzdWNlc3M6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdTdG9wcGVkXCIsdXJsOnR9KSxbMl19fSkpfSkpfSxlLmFkZEluamVjdFN0cmVhbVVybD1mdW5jdGlvbihuLHIpe3ZhciBpPWQucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5hZGRJbmplY3RTdHJlYW1VcmxcIixvcHRpb25zOltuLHJdLHRhZzpcInRyYWNlclwifSk7aWYoXCJhdWRpZW5jZVwiPT09ZS5nYXRld2F5Q2xpZW50LnJvbGUpe3ZhciBvPXtjb2RlOjQwMyxyZWFzb246XCJBVURJRU5DRV9JTkpFQ1RJTkdfRk9SQklEREVOXCJ9O3Rocm93IGkobyksb312YXIgcz1lLl9hZGRJbmplY3RTdHJlYW1VcmwobixyKTtyZXR1cm4gcy50aGVuKChmdW5jdGlvbihlKXtpKG51bGwsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EuZGVmYXVsdC5lcnJvcihcIkFERF9JTkpFQ1RfU1RSRUFNX0VSUk9SXCIsZS50b1N0cmluZygpKSxpKGUpfSkpLHN9LGUuX2FkZEluamVjdFN0cmVhbVVybD1mdW5jdGlvbihlLHQpe3JldHVybiByKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybihuPW8oe3R5cGU6dS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUfSkpLnNldEluamVjdFN0cmVhbUNvbmZpZyh0LDApLFs0LG4uc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLHUuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVCldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzJdfX0pKX0pKX0sZS5yZW1vdmVJbmplY3RTdHJlYW1Vcmw9ZnVuY3Rpb24obil7cmV0dXJuIHIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG87cmV0dXJuIGkodGhpcywoZnVuY3Rpb24oaSl7cmV0dXJuIHI9ZC5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnJlbW92ZUluamVjdFN0cmVhbVVybFwiLG9wdGlvbnM6W25dLHRhZzpcInRyYWNlclwifSksKG89ZS5fcmVtb3ZlSW5qZWN0U3RyZWFtVXJsKG4pKS50aGVuKChmdW5jdGlvbihlKXtyKG51bGwsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EuZGVmYXVsdC5lcnJvcihcIlJFTU9WRV9JTkpFQ1RfU1RSRUFNX0VSUk9SXCIsZS50b1N0cmluZygpKSxyKGUpfSkpLFsyLG9dfSkpfSkpfSxlLl9yZW1vdmVJbmplY3RTdHJlYW1Vcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIHIobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbyh7dHlwZTp1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1R9KS5zdG9wTGl2ZVN0cmVhbWluZ1Rhc2soZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzJdfX0pKX0pKX0sZS5fdGVybWluYXRlTGl2ZVN0cmVhbWluZz1mdW5jdGlvbigpe3JldHVybiByKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbih0KXtyZXR1cm5bZS5faW5qZWN0U3RyZWFtaW5nQ2xpZW50LGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQsZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmZS50ZXJtaW5hdGUoKX0pKSxbMl19KSl9KSl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPXIobig0KSksbz1yKG4oMCkpLGE9bigxMCk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNX0pO3ZhciBuPXQud2lkdGgscj10LmhlaWdodCxzPXQuZnJhbWVyYXRlLGM9ZS5zdHJlYW07aWYoIWMpdGhyb3cgaS5kZWZhdWx0LklOVkFMSURfTE9DQUxfU1RSRUFNO2lmKCFjLmdldFZpZGVvVHJhY2tzKClbMF0pdGhyb3cgaS5kZWZhdWx0LkhJR0hfU1RSRUFNX05PVF9WSURFT19UUkFDRTt2YXIgZD1jLmdldFZpZGVvVHJhY2tzKClbMF07by5kZWZhdWx0LmRlYnVnKFwiU3RhcnQgZ2V0TG93U3RyZWFtXCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLHUuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSx1Lm11dGVkPSEwLHUuc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcIlwiKSx1LmF1dG9wbGF5PSEwLHUuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxsLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksbC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLG4udG9TdHJpbmcoKSksbC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixyLnRvU3RyaW5nKCkpO3ZhciBmPWwuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFmKXRocm93IG5ldyBFcnJvcihcIm5vdCBnZXQgY2FudmFzIGNvbnRleHRcIik7dS5zcmNPYmplY3Q9Yyxkb2N1bWVudC5ib2R5LmFwcGVuZCh1KSxkb2N1bWVudC5ib2R5LmFwcGVuZChsKSx1LnBsYXkoKSxvLmRlZmF1bHQuZGVidWcoXCJTdGFydCByZW5kZXIgbG93U3RyZWFtXCIpO3ZhciBwPWEuYXVkaW9UaW1lckxvb3AoKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodS5wYXVzZWQmJnUucGxheSgpLHUudmlkZW9IZWlnaHQ+MiYmdS52aWRlb1dpZHRoPjIpe3ZhciB0PXUudmlkZW9XaWR0aCxuPXUudmlkZW9IZWlnaHQvdCxyPWwud2lkdGgqbjtNYXRoLmFicyhyLWwuaGVpZ2h0KT49MiYmKG8uZGVmYXVsdC5kZWJ1ZyhcImFkanVzdCBsb3cgc3RyZWFtIHJlc29sdXRpb25cIixsLndpZHRoK1wieFwiK2wuaGVpZ2h0K1wiIC0+IFwiK2wud2lkdGgrXCJ4XCIrciksbC5oZWlnaHQ9cil9Zi5kcmF3SW1hZ2UodSwwLDAsbC53aWR0aCxsLmhlaWdodCk7dmFyIGk9ZS5zdHJlYW07aWYoaSl7dmFyIGE9aS5nZXRWaWRlb1RyYWNrcygpWzBdO2QhPT1hJiYoby5kZWZhdWx0LmRlYnVnKFwiYWRqdXN0IGxvdyBzdHJlYW0gdHJhY2tcIiksdS5zcmNPYmplY3Q9aSxkPWEpfX0oKX0pLHMpLGc9bC5jYXB0dXJlU3RyZWFtKHMpLG09Zy5nZXRWaWRlb1RyYWNrcygpWzBdO3JldHVybiBtLnJlcXVlc3RGcmFtZSYmbS5yZXF1ZXN0RnJhbWUoKSxnLmNsZWFuPWZ1bmN0aW9uKCl7by5kZWZhdWx0LmRlYnVnKFwiU3RhcnQgY2xlYW4gbG93U3RyZWFtXCIpLHAoKSwodXx8dS5wYXJlbnROb2RlfHx1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQpJiZ1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSksKGx8fGwucGFyZW50Tm9kZXx8bC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpLG8uZGVmYXVsdC5kZWJ1ZyhcIkNsZWFuIGxvd1N0cmVhbVwiKX0sZ319LGZ1bmN0aW9uKGUsdCl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtc0NyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO2lmKG4pe3ZhciByPW5ldyBVaW50OEFycmF5KDE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gbihyKSxyfX1lbHNle3ZhciBpPW5ldyBBcnJheSgxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDt0PDE2O3QrKykwPT0oMyZ0KSYmKGU9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxpW3RdPWU+Pj4oKDMmdCk8PDMpJjI1NTtyZXR1cm4gaX19fSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjwyNTY7KytyKW5bcl09KHIrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPXR8fDAsaT1uO3JldHVybltpW2VbcisrXV0saVtlW3IrK11dLGlbZVtyKytdXSxpW2VbcisrXV0sXCItXCIsaVtlW3IrK11dLGlbZVtyKytdXSxcIi1cIixpW2VbcisrXV0saVtlW3IrK11dLFwiLVwiLGlbZVtyKytdXSxpW2VbcisrXV0sXCItXCIsaVtlW3IrK11dLGlbZVtyKytdXSxpW2VbcisrXV0saVtlW3IrK11dLGlbZVtyKytdXSxpW2VbcisrXV1dLmpvaW4oXCJcIil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsoZnVuY3Rpb24oZ2xvYmFsLG1vZHVsZSl7dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XG4vKiFcbiAqIHByb3RvYnVmLmpzIHY2LjEwLjAgKGMpIDIwMTYsIGRhbmllbCB3aXJ0elxuICogY29tcGlsZWQgd2VkLCAxNSBqdWwgMjAyMCAyMzozNDoxMyB1dGNcbiAqIGxpY2Vuc2VkIHVuZGVyIHRoZSBic2QtMy1jbGF1c2UgbGljZW5zZVxuICogc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVpby9wcm90b2J1Zi5qcyBmb3IgZGV0YWlsc1xuICovIWZ1bmN0aW9uKHVuZGVmaW5lZCl7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbiBuKHIpe3ZhciBpPXRbcl07cmV0dXJuIGl8fGVbcl1bMF0uY2FsbChpPXRbcl09e2V4cG9ydHM6e319LG4saSxpLmV4cG9ydHMpLGkuZXhwb3J0c30oblswXSk7ci51dGlsLmdsb2JhbC5wcm90b2J1Zj1yLF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX189W19fd2VicGFja19yZXF1aXJlX18oNjEpXSwoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX189ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaXNMb25nJiYoci51dGlsLkxvbmc9ZSxyLmNvbmZpZ3VyZSgpKSxyfS5hcHBseShleHBvcnRzLF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKT09PXVuZGVmaW5lZHx8KG1vZHVsZS5leHBvcnRzPV9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSxtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9cil9KHsxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSkscj0wLGk9MixvPSEwO2Zvcig7aTxhcmd1bWVudHMubGVuZ3RoOyluW3IrK109YXJndW1lbnRzW2krK107cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe25bcl09ZnVuY3Rpb24oZSl7aWYobylpZihvPSExLGUpYShlKTtlbHNle2Zvcih2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjx0Lmxlbmd0aDspdFtuKytdPWFyZ3VtZW50c1tuXTtpLmFwcGx5KG51bGwsdCl9fTt0cnl7ZS5hcHBseSh0fHxudWxsLG4pfWNhdGNoKGUpe28mJihvPSExLGEoZSkpfX0pKX19LHt9XSwyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9bjtyLmxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZighdClyZXR1cm4gMDtmb3IodmFyIG49MDstLXQlND4xJiZcIj1cIj09PWUuY2hhckF0KHQpOykrK247cmV0dXJuIE1hdGguY2VpbCgzKmUubGVuZ3RoKS80LW59O2Zvcih2YXIgaT1uZXcgQXJyYXkoNjQpLG89bmV3IEFycmF5KDEyMyksYT0wO2E8NjQ7KW9baVthXT1hPDI2P2ErNjU6YTw1Mj9hKzcxOmE8NjI/YS00OmEtNTl8NDNdPWErKztyLmVuY29kZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLG89bnVsbCxhPVtdLHM9MCxjPTA7dDxuOyl7dmFyIGQ9ZVt0KytdO3N3aXRjaChjKXtjYXNlIDA6YVtzKytdPWlbZD4+Ml0scj0oMyZkKTw8NCxjPTE7YnJlYWs7Y2FzZSAxOmFbcysrXT1pW3J8ZD4+NF0scj0oMTUmZCk8PDIsYz0yO2JyZWFrO2Nhc2UgMjphW3MrK109aVtyfGQ+PjZdLGFbcysrXT1pWzYzJmRdLGM9MH1zPjgxOTEmJigob3x8KG89W10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGEpKSxzPTApfXJldHVybiBjJiYoYVtzKytdPWlbcl0sYVtzKytdPTYxLDE9PT1jJiYoYVtzKytdPTYxKSksbz8ocyYmby5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGEuc2xpY2UoMCxzKSkpLG8uam9pbihcIlwiKSk6U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYS5zbGljZSgwLHMpKX07ci5kZWNvZGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPW4sYT0wLHM9MDtzPGUubGVuZ3RoOyl7dmFyIGM9ZS5jaGFyQ29kZUF0KHMrKyk7aWYoNjE9PT1jJiZhPjEpYnJlYWs7aWYoKGM9b1tjXSk9PT11bmRlZmluZWQpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGVuY29kaW5nXCIpO3N3aXRjaChhKXtjYXNlIDA6cj1jLGE9MTticmVhaztjYXNlIDE6dFtuKytdPXI8PDJ8KDQ4JmMpPj40LHI9YyxhPTI7YnJlYWs7Y2FzZSAyOnRbbisrXT0oMTUmcik8PDR8KDYwJmMpPj4yLHI9YyxhPTM7YnJlYWs7Y2FzZSAzOnRbbisrXT0oMyZyKTw8NnxjLGE9MH19aWYoMT09PWEpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGVuY29kaW5nXCIpO3JldHVybiBuLWl9LHIudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChlKX19LHt9XSwzOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYodD1lLGU9dW5kZWZpbmVkKTt2YXIgbj1bXTtmdW5jdGlvbiBpKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXt2YXIgdD1vKCk7aWYoci52ZXJib3NlJiZjb25zb2xlLmxvZyhcImNvZGVnZW46IFwiK3QpLHQ9XCJyZXR1cm4gXCIrdCxlKXtmb3IodmFyIGE9T2JqZWN0LmtleXMoZSkscz1uZXcgQXJyYXkoYS5sZW5ndGgrMSksYz1uZXcgQXJyYXkoYS5sZW5ndGgpLGQ9MDtkPGEubGVuZ3RoOylzW2RdPWFbZF0sY1tkXT1lW2FbZCsrXV07cmV0dXJuIHNbZF09dCxGdW5jdGlvbi5hcHBseShudWxsLHMpLmFwcGx5KG51bGwsYyl9cmV0dXJuIEZ1bmN0aW9uKHQpKCl9Zm9yKHZhciB1PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLGw9MDtsPHUubGVuZ3RoOyl1W2xdPWFyZ3VtZW50c1srK2xdO2lmKGw9MCxlPWUucmVwbGFjZSgvJShbJWRmaWpzXSkvZywoZnVuY3Rpb24oZSx0KXt2YXIgbj11W2wrK107c3dpdGNoKHQpe2Nhc2VcImRcIjpjYXNlXCJmXCI6cmV0dXJuIFN0cmluZyhOdW1iZXIobikpO2Nhc2VcImlcIjpyZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IobikpO2Nhc2VcImpcIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkobik7Y2FzZVwic1wiOnJldHVybiBTdHJpbmcobil9cmV0dXJuXCIlXCJ9KSksbCE9PXUubGVuZ3RoKXRocm93IEVycm9yKFwicGFyYW1ldGVyIGNvdW50IG1pc21hdGNoXCIpO3JldHVybiBuLnB1c2goZSksaX1mdW5jdGlvbiBvKHIpe3JldHVyblwiZnVuY3Rpb24gXCIrKHJ8fHR8fFwiXCIpK1wiKFwiKyhlJiZlLmpvaW4oXCIsXCIpfHxcIlwiKStcIil7XFxuICBcIituLmpvaW4oXCJcXG4gIFwiKStcIlxcbn1cIn1yZXR1cm4gaS50b1N0cmluZz1vLGl9dC5leHBvcnRzPXIsci52ZXJib3NlPSExfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLl9saXN0ZW5lcnM9e319dC5leHBvcnRzPXIsci5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4pe3JldHVybih0aGlzLl9saXN0ZW5lcnNbZV18fCh0aGlzLl9saXN0ZW5lcnNbZV09W10pKS5wdXNoKHtmbjp0LGN0eDpufHx0aGlzfSksdGhpc30sci5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXVuZGVmaW5lZCl0aGlzLl9saXN0ZW5lcnM9e307ZWxzZSBpZih0PT09dW5kZWZpbmVkKXRoaXMuX2xpc3RlbmVyc1tlXT1bXTtlbHNlIGZvcih2YXIgbj10aGlzLl9saXN0ZW5lcnNbZV0scj0wO3I8bi5sZW5ndGg7KW5bcl0uZm49PT10P24uc3BsaWNlKHIsMSk6KytyO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xpc3RlbmVyc1tlXTtpZih0KXtmb3IodmFyIG49W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDspbi5wdXNoKGFyZ3VtZW50c1tyKytdKTtmb3Iocj0wO3I8dC5sZW5ndGg7KXRbcl0uZm4uYXBwbHkodFtyKytdLmN0eCxuKX1yZXR1cm4gdGhpc319LHt9XSw1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPW87dmFyIHI9ZSgxKSxpPWUoNykoXCJmc1wiKTtmdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhuPXQsdD17fSk6dHx8KHQ9e30pLG4/IXQueGhyJiZpJiZpLnJlYWRGaWxlP2kucmVhZEZpbGUoZSwoZnVuY3Rpb24ocixpKXtyZXR1cm4gciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0P28ueGhyKGUsdCxuKTpyP24ocik6bihudWxsLHQuYmluYXJ5P2k6aS50b1N0cmluZyhcInV0ZjhcIikpfSkpOm8ueGhyKGUsdCxuKTpyKG8sdGhpcyxlLHQpfW8ueGhyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7ci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0IT09ci5yZWFkeVN0YXRlKXJldHVybiB1bmRlZmluZWQ7aWYoMCE9PXIuc3RhdHVzJiYyMDAhPT1yLnN0YXR1cylyZXR1cm4gbihFcnJvcihcInN0YXR1cyBcIityLnN0YXR1cykpO2lmKHQuYmluYXJ5KXt2YXIgZT1yLnJlc3BvbnNlO2lmKCFlKXtlPVtdO2Zvcih2YXIgaT0wO2k8ci5yZXNwb25zZVRleHQubGVuZ3RoOysraSllLnB1c2goMjU1JnIucmVzcG9uc2VUZXh0LmNoYXJDb2RlQXQoaSkpfXJldHVybiBuKG51bGwsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/bmV3IFVpbnQ4QXJyYXkoZSk6ZSl9cmV0dXJuIG4obnVsbCxyLnJlc3BvbnNlVGV4dCl9LHQuYmluYXJ5JiYoXCJvdmVycmlkZU1pbWVUeXBlXCJpbiByJiZyLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpLHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIiksci5vcGVuKFwiR0VUXCIsZSksci5zZW5kKCl9fSx7MToxLDc6N31dLDY6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KFstMF0pLG49bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpLHI9MTI4PT09blszXTtmdW5jdGlvbiBpKGUscixpKXt0WzBdPWUscltpXT1uWzBdLHJbaSsxXT1uWzFdLHJbaSsyXT1uWzJdLHJbaSszXT1uWzNdfWZ1bmN0aW9uIG8oZSxyLGkpe3RbMF09ZSxyW2ldPW5bM10scltpKzFdPW5bMl0scltpKzJdPW5bMV0scltpKzNdPW5bMF19ZnVuY3Rpb24gYShlLHIpe3JldHVybiBuWzBdPWVbcl0sblsxXT1lW3IrMV0sblsyXT1lW3IrMl0sblszXT1lW3IrM10sdFswXX1mdW5jdGlvbiBzKGUscil7cmV0dXJuIG5bM109ZVtyXSxuWzJdPWVbcisxXSxuWzFdPWVbcisyXSxuWzBdPWVbciszXSx0WzBdfWUud3JpdGVGbG9hdExFPXI/aTpvLGUud3JpdGVGbG9hdEJFPXI/bzppLGUucmVhZEZsb2F0TEU9cj9hOnMsZS5yZWFkRmxvYXRCRT1yP3M6YX0oKTpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0LG4scil7dmFyIGk9dDwwPzE6MDtpZihpJiYodD0tdCksMD09PXQpZSgxL3Q+MD8wOjIxNDc0ODM2NDgsbixyKTtlbHNlIGlmKGlzTmFOKHQpKWUoMjE0MzI4OTM0NCxuLHIpO2Vsc2UgaWYodD4zNDAyODIzNDY2Mzg1Mjg4NmUyMillKChpPDwzMXwyMTM5MDk1MDQwKT4+PjAsbixyKTtlbHNlIGlmKHQ8MTE3NTQ5NDM1MDgyMjI4NzVlLTU0KWUoKGk8PDMxfE1hdGgucm91bmQodC8xNDAxMjk4NDY0MzI0ODE3ZS02MCkpPj4+MCxuLHIpO2Vsc2V7dmFyIG89TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMik7ZSgoaTw8MzF8bysxMjc8PDIzfDgzODg2MDcmTWF0aC5yb3VuZCh0Kk1hdGgucG93KDIsLW8pKjgzODg2MDgpKT4+PjAsbixyKX19ZnVuY3Rpb24gbihlLHQsbil7dmFyIHI9ZSh0LG4pLGk9Mioocj4+MzEpKzEsbz1yPj4+MjMmMjU1LGE9ODM4ODYwNyZyO3JldHVybiAyNTU9PT1vP2E/TmFOOmkqKDEvMCk6MD09PW8/MTQwMTI5ODQ2NDMyNDgxN2UtNjAqaSphOmkqTWF0aC5wb3coMixvLTE1MCkqKGErODM4ODYwOCl9ZS53cml0ZUZsb2F0TEU9dC5iaW5kKG51bGwsaSksZS53cml0ZUZsb2F0QkU9dC5iaW5kKG51bGwsbyksZS5yZWFkRmxvYXRMRT1uLmJpbmQobnVsbCxhKSxlLnJlYWRGbG9hdEJFPW4uYmluZChudWxsLHMpfSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDY0QXJyYXk/ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRmxvYXQ2NEFycmF5KFstMF0pLG49bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpLHI9MTI4PT09bls3XTtmdW5jdGlvbiBpKGUscixpKXt0WzBdPWUscltpXT1uWzBdLHJbaSsxXT1uWzFdLHJbaSsyXT1uWzJdLHJbaSszXT1uWzNdLHJbaSs0XT1uWzRdLHJbaSs1XT1uWzVdLHJbaSs2XT1uWzZdLHJbaSs3XT1uWzddfWZ1bmN0aW9uIG8oZSxyLGkpe3RbMF09ZSxyW2ldPW5bN10scltpKzFdPW5bNl0scltpKzJdPW5bNV0scltpKzNdPW5bNF0scltpKzRdPW5bM10scltpKzVdPW5bMl0scltpKzZdPW5bMV0scltpKzddPW5bMF19ZnVuY3Rpb24gYShlLHIpe3JldHVybiBuWzBdPWVbcl0sblsxXT1lW3IrMV0sblsyXT1lW3IrMl0sblszXT1lW3IrM10sbls0XT1lW3IrNF0sbls1XT1lW3IrNV0sbls2XT1lW3IrNl0sbls3XT1lW3IrN10sdFswXX1mdW5jdGlvbiBzKGUscil7cmV0dXJuIG5bN109ZVtyXSxuWzZdPWVbcisxXSxuWzVdPWVbcisyXSxuWzRdPWVbciszXSxuWzNdPWVbcis0XSxuWzJdPWVbcis1XSxuWzFdPWVbcis2XSxuWzBdPWVbcis3XSx0WzBdfWUud3JpdGVEb3VibGVMRT1yP2k6byxlLndyaXRlRG91YmxlQkU9cj9vOmksZS5yZWFkRG91YmxlTEU9cj9hOnMsZS5yZWFkRG91YmxlQkU9cj9zOmF9KCk6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsdCxuLHIsaSxvKXt2YXIgYT1yPDA/MTowO2lmKGEmJihyPS1yKSwwPT09cillKDAsaSxvK3QpLGUoMS9yPjA/MDoyMTQ3NDgzNjQ4LGksbytuKTtlbHNlIGlmKGlzTmFOKHIpKWUoMCxpLG8rdCksZSgyMTQ2OTU5MzYwLGksbytuKTtlbHNlIGlmKHI+MTc5NzY5MzEzNDg2MjMxNTdlMjkyKWUoMCxpLG8rdCksZSgoYTw8MzF8MjE0NjQzNTA3Mik+Pj4wLGksbytuKTtlbHNle3ZhciBzO2lmKHI8MjIyNTA3Mzg1ODUwNzIwMTRlLTMyNCllKChzPXIvNWUtMzI0KT4+PjAsaSxvK3QpLGUoKGE8PDMxfHMvNDI5NDk2NzI5Nik+Pj4wLGksbytuKTtlbHNle3ZhciBjPU1hdGguZmxvb3IoTWF0aC5sb2cocikvTWF0aC5MTjIpOzEwMjQ9PT1jJiYoYz0xMDIzKSxlKDQ1MDM1OTk2MjczNzA0OTYqKHM9cipNYXRoLnBvdygyLC1jKSk+Pj4wLGksbyt0KSxlKChhPDwzMXxjKzEwMjM8PDIwfDEwNDg1NzYqcyYxMDQ4NTc1KT4+PjAsaSxvK24pfX19ZnVuY3Rpb24gbihlLHQsbixyLGkpe3ZhciBvPWUocixpK3QpLGE9ZShyLGkrbikscz0yKihhPj4zMSkrMSxjPWE+Pj4yMCYyMDQ3LGQ9NDI5NDk2NzI5NiooMTA0ODU3NSZhKStvO3JldHVybiAyMDQ3PT09Yz9kP05hTjpzKigxLzApOjA9PT1jPzVlLTMyNCpzKmQ6cypNYXRoLnBvdygyLGMtMTA3NSkqKGQrNDUwMzU5OTYyNzM3MDQ5Nil9ZS53cml0ZURvdWJsZUxFPXQuYmluZChudWxsLGksMCw0KSxlLndyaXRlRG91YmxlQkU9dC5iaW5kKG51bGwsbyw0LDApLGUucmVhZERvdWJsZUxFPW4uYmluZChudWxsLGEsMCw0KSxlLnJlYWREb3VibGVCRT1uLmJpbmQobnVsbCxzLDQsMCl9KCksZX1mdW5jdGlvbiBpKGUsdCxuKXt0W25dPTI1NSZlLHRbbisxXT1lPj4+OCYyNTUsdFtuKzJdPWU+Pj4xNiYyNTUsdFtuKzNdPWU+Pj4yNH1mdW5jdGlvbiBvKGUsdCxuKXt0W25dPWU+Pj4yNCx0W24rMV09ZT4+PjE2JjI1NSx0W24rMl09ZT4+PjgmMjU1LHRbbiszXT0yNTUmZX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTZ8ZVt0KzNdPDwyNCk+Pj4wfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4oZVt0XTw8MjR8ZVt0KzFdPDwxNnxlW3QrMl08PDh8ZVt0KzNdKT4+PjB9dC5leHBvcnRzPXIocil9LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBpbnF1aXJlKG1vZHVsZU5hbWUpe3RyeXt2YXIgbW9kPWV2YWwoXCJxdWlyZVwiLnJlcGxhY2UoL14vLFwicmVcIikpKG1vZHVsZU5hbWUpO2lmKG1vZCYmKG1vZC5sZW5ndGh8fE9iamVjdC5rZXlzKG1vZCkubGVuZ3RoKSlyZXR1cm4gbW9kfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1tb2R1bGUuZXhwb3J0cz1pbnF1aXJlfSx7fV0sODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4saT1yLmlzQWJzb2x1dGU9ZnVuY3Rpb24oZSl7cmV0dXJuL14oPzpcXC98XFx3KzopLy50ZXN0KGUpfSxvPXIubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PShlPWUucmVwbGFjZSgvXFxcXC9nLFwiL1wiKS5yZXBsYWNlKC9cXC97Mix9L2csXCIvXCIpKS5zcGxpdChcIi9cIiksbj1pKGUpLHI9XCJcIjtuJiYocj10LnNoaWZ0KCkrXCIvXCIpO2Zvcih2YXIgbz0wO288dC5sZW5ndGg7KVwiLi5cIj09PXRbb10/bz4wJiZcIi4uXCIhPT10W28tMV0/dC5zcGxpY2UoLS1vLDIpOm4/dC5zcGxpY2UobywxKTorK286XCIuXCI9PT10W29dP3Quc3BsaWNlKG8sMSk6KytvO3JldHVybiByK3Quam9pbihcIi9cIil9O3IucmVzb2x2ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG58fCh0PW8odCkpLGkodCk/dDoobnx8KGU9byhlKSksKGU9ZS5yZXBsYWNlKC8oPzpcXC98XilbXi9dKyQvLFwiXCIpKS5sZW5ndGg/byhlK1wiL1wiK3QpOnQpfX0se31dLDk6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW58fDgxOTIsaT1yPj4+MSxvPW51bGwsYT1yO3JldHVybiBmdW5jdGlvbihuKXtpZihuPDF8fG4+aSlyZXR1cm4gZShuKTthK24+ciYmKG89ZShyKSxhPTApO3ZhciBzPXQuY2FsbChvLGEsYSs9bik7cmV0dXJuIDcmYSYmKGE9MSsoN3xhKSksc319fSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uO3IubGVuZ3RoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49MCxyPTA7cjxlLmxlbmd0aDsrK3IpKG49ZS5jaGFyQ29kZUF0KHIpKTwxMjg/dCs9MTpuPDIwNDg/dCs9Mjo1NTI5Nj09KDY0NTEyJm4pJiY1NjMyMD09KDY0NTEyJmUuY2hhckNvZGVBdChyKzEpKT8oKytyLHQrPTQpOnQrPTM7cmV0dXJuIHR9LHIucmVhZD1mdW5jdGlvbihlLHQsbil7aWYobi10PDEpcmV0dXJuXCJcIjtmb3IodmFyIHIsaT1udWxsLG89W10sYT0wO3Q8bjspKHI9ZVt0KytdKTwxMjg/b1thKytdPXI6cj4xOTEmJnI8MjI0P29bYSsrXT0oMzEmcik8PDZ8NjMmZVt0KytdOnI+MjM5JiZyPDM2NT8ocj0oKDcmcik8PDE4fCg2MyZlW3QrK10pPDwxMnwoNjMmZVt0KytdKTw8Nnw2MyZlW3QrK10pLTY1NTM2LG9bYSsrXT01NTI5Nisocj4+MTApLG9bYSsrXT01NjMyMCsoMTAyMyZyKSk6b1thKytdPSgxNSZyKTw8MTJ8KDYzJmVbdCsrXSk8PDZ8NjMmZVt0KytdLGE+ODE5MSYmKChpfHwoaT1bXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbykpLGE9MCk7cmV0dXJuIGk/KGEmJmkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxvLnNsaWNlKDAsYSkpKSxpLmpvaW4oXCJcIikpOlN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG8uc2xpY2UoMCxhKSl9LHIud3JpdGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpLG89bixhPTA7YTxlLmxlbmd0aDsrK2EpKHI9ZS5jaGFyQ29kZUF0KGEpKTwxMjg/dFtuKytdPXI6cjwyMDQ4Pyh0W24rK109cj4+NnwxOTIsdFtuKytdPTYzJnJ8MTI4KTo1NTI5Nj09KDY0NTEyJnIpJiY1NjMyMD09KDY0NTEyJihpPWUuY2hhckNvZGVBdChhKzEpKSk/KHI9NjU1MzYrKCgxMDIzJnIpPDwxMCkrKDEwMjMmaSksKythLHRbbisrXT1yPj4xOHwyNDAsdFtuKytdPXI+PjEyJjYzfDEyOCx0W24rK109cj4+NiY2M3wxMjgsdFtuKytdPTYzJnJ8MTI4KToodFtuKytdPXI+PjEyfDIyNCx0W24rK109cj4+NiY2M3wxMjgsdFtuKytdPTYzJnJ8MTI4KTtyZXR1cm4gbi1vfX0se31dLDExOltmdW5jdGlvbihlLHQsbil7dmFyIHI9bixpPWUoMTQpLG89ZSgzMyk7ZnVuY3Rpb24gYShlLHQsbixyKXtpZih0LnJlc29sdmVkVHlwZSlpZih0LnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGkpe2UoXCJzd2l0Y2goZCVzKXtcIixyKTtmb3IodmFyIG89dC5yZXNvbHZlZFR5cGUudmFsdWVzLGE9T2JqZWN0LmtleXMobykscz0wO3M8YS5sZW5ndGg7KytzKXQucmVwZWF0ZWQmJm9bYVtzXV09PT10LnR5cGVEZWZhdWx0JiZlKFwiZGVmYXVsdDpcIiksZShcImNhc2UlajpcIixhW3NdKShcImNhc2UgJWk6XCIsb1thW3NdXSkoXCJtJXM9JWpcIixyLG9bYVtzXV0pKFwiYnJlYWtcIik7ZShcIn1cIil9ZWxzZSBlKCdpZih0eXBlb2YgZCVzIT09XCJvYmplY3RcIiknLHIpKFwidGhyb3cgVHlwZUVycm9yKCVqKVwiLHQuZnVsbE5hbWUrXCI6IG9iamVjdCBleHBlY3RlZFwiKShcIm0lcz10eXBlc1slaV0uZnJvbU9iamVjdChkJXMpXCIscixuLHIpO2Vsc2V7dmFyIGM9ITE7c3dpdGNoKHQudHlwZSl7Y2FzZVwiZG91YmxlXCI6Y2FzZVwiZmxvYXRcIjplKFwibSVzPU51bWJlcihkJXMpXCIscixyKTticmVhaztjYXNlXCJ1aW50MzJcIjpjYXNlXCJmaXhlZDMyXCI6ZShcIm0lcz1kJXM+Pj4wXCIscixyKTticmVhaztjYXNlXCJpbnQzMlwiOmNhc2VcInNpbnQzMlwiOmNhc2VcInNmaXhlZDMyXCI6ZShcIm0lcz1kJXN8MFwiLHIscik7YnJlYWs7Y2FzZVwidWludDY0XCI6Yz0hMDtjYXNlXCJpbnQ2NFwiOmNhc2VcInNpbnQ2NFwiOmNhc2VcImZpeGVkNjRcIjpjYXNlXCJzZml4ZWQ2NFwiOmUoXCJpZih1dGlsLkxvbmcpXCIpKFwiKG0lcz11dGlsLkxvbmcuZnJvbVZhbHVlKGQlcykpLnVuc2lnbmVkPSVqXCIscixyLGMpKCdlbHNlIGlmKHR5cGVvZiBkJXM9PT1cInN0cmluZ1wiKScscikoXCJtJXM9cGFyc2VJbnQoZCVzLDEwKVwiLHIscikoJ2Vsc2UgaWYodHlwZW9mIGQlcz09PVwibnVtYmVyXCIpJyxyKShcIm0lcz1kJXNcIixyLHIpKCdlbHNlIGlmKHR5cGVvZiBkJXM9PT1cIm9iamVjdFwiKScscikoXCJtJXM9bmV3IHV0aWwuTG9uZ0JpdHMoZCVzLmxvdz4+PjAsZCVzLmhpZ2g+Pj4wKS50b051bWJlciglcylcIixyLHIscixjP1widHJ1ZVwiOlwiXCIpO2JyZWFrO2Nhc2VcImJ5dGVzXCI6ZSgnaWYodHlwZW9mIGQlcz09PVwic3RyaW5nXCIpJyxyKShcInV0aWwuYmFzZTY0LmRlY29kZShkJXMsbSVzPXV0aWwubmV3QnVmZmVyKHV0aWwuYmFzZTY0Lmxlbmd0aChkJXMpKSwwKVwiLHIscixyKShcImVsc2UgaWYoZCVzLmxlbmd0aClcIixyKShcIm0lcz1kJXNcIixyLHIpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmUoXCJtJXM9U3RyaW5nKGQlcylcIixyLHIpO2JyZWFrO2Nhc2VcImJvb2xcIjplKFwibSVzPUJvb2xlYW4oZCVzKVwiLHIscil9fXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LG4scil7aWYodC5yZXNvbHZlZFR5cGUpdC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpP2UoXCJkJXM9by5lbnVtcz09PVN0cmluZz90eXBlc1slaV0udmFsdWVzW20lc106bSVzXCIscixuLHIscik6ZShcImQlcz10eXBlc1slaV0udG9PYmplY3QobSVzLG8pXCIscixuLHIpO2Vsc2V7dmFyIG89ITE7c3dpdGNoKHQudHlwZSl7Y2FzZVwiZG91YmxlXCI6Y2FzZVwiZmxvYXRcIjplKFwiZCVzPW8uanNvbiYmIWlzRmluaXRlKG0lcyk/U3RyaW5nKG0lcyk6bSVzXCIscixyLHIscik7YnJlYWs7Y2FzZVwidWludDY0XCI6bz0hMDtjYXNlXCJpbnQ2NFwiOmNhc2VcInNpbnQ2NFwiOmNhc2VcImZpeGVkNjRcIjpjYXNlXCJzZml4ZWQ2NFwiOmUoJ2lmKHR5cGVvZiBtJXM9PT1cIm51bWJlclwiKScscikoXCJkJXM9by5sb25ncz09PVN0cmluZz9TdHJpbmcobSVzKTptJXNcIixyLHIscikoXCJlbHNlXCIpKFwiZCVzPW8ubG9uZ3M9PT1TdHJpbmc/dXRpbC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG0lcyk6by5sb25ncz09PU51bWJlcj9uZXcgdXRpbC5Mb25nQml0cyhtJXMubG93Pj4+MCxtJXMuaGlnaD4+PjApLnRvTnVtYmVyKCVzKTptJXNcIixyLHIscixyLG8/XCJ0cnVlXCI6XCJcIixyKTticmVhaztjYXNlXCJieXRlc1wiOmUoXCJkJXM9by5ieXRlcz09PVN0cmluZz91dGlsLmJhc2U2NC5lbmNvZGUobSVzLDAsbSVzLmxlbmd0aCk6by5ieXRlcz09PUFycmF5P0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG0lcyk6bSVzXCIscixyLHIscixyKTticmVhaztkZWZhdWx0OmUoXCJkJXM9bSVzXCIscixyKX19cmV0dXJuIGV9ci5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmllbGRzQXJyYXksbj1vLmNvZGVnZW4oW1wiZFwiXSxlLm5hbWUrXCIkZnJvbU9iamVjdFwiKShcImlmKGQgaW5zdGFuY2VvZiB0aGlzLmN0b3IpXCIpKFwicmV0dXJuIGRcIik7aWYoIXQubGVuZ3RoKXJldHVybiBuKFwicmV0dXJuIG5ldyB0aGlzLmN0b3JcIik7bihcInZhciBtPW5ldyB0aGlzLmN0b3JcIik7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBzPXRbcl0ucmVzb2x2ZSgpLGM9by5zYWZlUHJvcChzLm5hbWUpO3MubWFwPyhuKFwiaWYoZCVzKXtcIixjKSgnaWYodHlwZW9mIGQlcyE9PVwib2JqZWN0XCIpJyxjKShcInRocm93IFR5cGVFcnJvciglailcIixzLmZ1bGxOYW1lK1wiOiBvYmplY3QgZXhwZWN0ZWRcIikoXCJtJXM9e31cIixjKShcImZvcih2YXIga3M9T2JqZWN0LmtleXMoZCVzKSxpPTA7aTxrcy5sZW5ndGg7KytpKXtcIixjKSxhKG4scyxyLGMrXCJba3NbaV1dXCIpKFwifVwiKShcIn1cIikpOnMucmVwZWF0ZWQ/KG4oXCJpZihkJXMpe1wiLGMpKFwiaWYoIUFycmF5LmlzQXJyYXkoZCVzKSlcIixjKShcInRocm93IFR5cGVFcnJvciglailcIixzLmZ1bGxOYW1lK1wiOiBhcnJheSBleHBlY3RlZFwiKShcIm0lcz1bXVwiLGMpKFwiZm9yKHZhciBpPTA7aTxkJXMubGVuZ3RoOysraSl7XCIsYyksYShuLHMscixjK1wiW2ldXCIpKFwifVwiKShcIn1cIikpOihzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGl8fG4oXCJpZihkJXMhPW51bGwpe1wiLGMpLGEobixzLHIsYykscy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpfHxuKFwifVwiKSl9cmV0dXJuIG4oXCJyZXR1cm4gbVwiKX0sci50b09iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLmZpZWxkc0FycmF5LnNsaWNlKCkuc29ydChvLmNvbXBhcmVGaWVsZHNCeUlkKTtpZighdC5sZW5ndGgpcmV0dXJuIG8uY29kZWdlbigpKFwicmV0dXJuIHt9XCIpO2Zvcih2YXIgbj1vLmNvZGVnZW4oW1wibVwiLFwib1wiXSxlLm5hbWUrXCIkdG9PYmplY3RcIikoXCJpZighbylcIikoXCJvPXt9XCIpKFwidmFyIGQ9e31cIikscj1bXSxhPVtdLGM9W10sZD0wO2Q8dC5sZW5ndGg7KytkKXRbZF0ucGFydE9mfHwodFtkXS5yZXNvbHZlKCkucmVwZWF0ZWQ/cjp0W2RdLm1hcD9hOmMpLnB1c2godFtkXSk7aWYoci5sZW5ndGgpe2ZvcihuKFwiaWYoby5hcnJheXN8fG8uZGVmYXVsdHMpe1wiKSxkPTA7ZDxyLmxlbmd0aDsrK2QpbihcImQlcz1bXVwiLG8uc2FmZVByb3AocltkXS5uYW1lKSk7bihcIn1cIil9aWYoYS5sZW5ndGgpe2ZvcihuKFwiaWYoby5vYmplY3RzfHxvLmRlZmF1bHRzKXtcIiksZD0wO2Q8YS5sZW5ndGg7KytkKW4oXCJkJXM9e31cIixvLnNhZmVQcm9wKGFbZF0ubmFtZSkpO24oXCJ9XCIpfWlmKGMubGVuZ3RoKXtmb3IobihcImlmKG8uZGVmYXVsdHMpe1wiKSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciB1PWNbZF0sbD1vLnNhZmVQcm9wKHUubmFtZSk7aWYodS5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpKW4oXCJkJXM9by5lbnVtcz09PVN0cmluZz8lajolalwiLGwsdS5yZXNvbHZlZFR5cGUudmFsdWVzQnlJZFt1LnR5cGVEZWZhdWx0XSx1LnR5cGVEZWZhdWx0KTtlbHNlIGlmKHUubG9uZyluKFwiaWYodXRpbC5Mb25nKXtcIikoXCJ2YXIgbj1uZXcgdXRpbC5Mb25nKCVpLCVpLCVqKVwiLHUudHlwZURlZmF1bHQubG93LHUudHlwZURlZmF1bHQuaGlnaCx1LnR5cGVEZWZhdWx0LnVuc2lnbmVkKShcImQlcz1vLmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTpvLmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuXCIsbCkoXCJ9ZWxzZVwiKShcImQlcz1vLmxvbmdzPT09U3RyaW5nPyVqOiVpXCIsbCx1LnR5cGVEZWZhdWx0LnRvU3RyaW5nKCksdS50eXBlRGVmYXVsdC50b051bWJlcigpKTtlbHNlIGlmKHUuYnl0ZXMpe3ZhciBmPVwiW1wiK0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHUudHlwZURlZmF1bHQpLmpvaW4oXCIsXCIpK1wiXVwiO24oXCJpZihvLmJ5dGVzPT09U3RyaW5nKWQlcz0lalwiLGwsU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdS50eXBlRGVmYXVsdCkpKFwiZWxzZXtcIikoXCJkJXM9JXNcIixsLGYpKFwiaWYoby5ieXRlcyE9PUFycmF5KWQlcz11dGlsLm5ld0J1ZmZlcihkJXMpXCIsbCxsKShcIn1cIil9ZWxzZSBuKFwiZCVzPSVqXCIsbCx1LnR5cGVEZWZhdWx0KX1uKFwifVwiKX12YXIgcD0hMTtmb3IoZD0wO2Q8dC5sZW5ndGg7KytkKXt1PXRbZF07dmFyIGc9ZS5fZmllbGRzQXJyYXkuaW5kZXhPZih1KTtsPW8uc2FmZVByb3AodS5uYW1lKTt1Lm1hcD8ocHx8KHA9ITAsbihcInZhciBrczJcIikpLG4oXCJpZihtJXMmJihrczI9T2JqZWN0LmtleXMobSVzKSkubGVuZ3RoKXtcIixsLGwpKFwiZCVzPXt9XCIsbCkoXCJmb3IodmFyIGo9MDtqPGtzMi5sZW5ndGg7KytqKXtcIikscyhuLHUsZyxsK1wiW2tzMltqXV1cIikoXCJ9XCIpKTp1LnJlcGVhdGVkPyhuKFwiaWYobSVzJiZtJXMubGVuZ3RoKXtcIixsLGwpKFwiZCVzPVtdXCIsbCkoXCJmb3IodmFyIGo9MDtqPG0lcy5sZW5ndGg7KytqKXtcIixsKSxzKG4sdSxnLGwrXCJbal1cIikoXCJ9XCIpKToobihcImlmKG0lcyE9bnVsbCYmbS5oYXNPd25Qcm9wZXJ0eSglaikpe1wiLGwsdS5uYW1lKSxzKG4sdSxnLGwpLHUucGFydE9mJiZuKFwiaWYoby5vbmVvZnMpXCIpKFwiZCVzPSVqXCIsby5zYWZlUHJvcCh1LnBhcnRPZi5uYW1lKSx1Lm5hbWUpKSxuKFwifVwiKX1yZXR1cm4gbihcInJldHVybiBkXCIpfX0sezE0OjE0LDMzOjMzfV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9by5jb2RlZ2VuKFtcInJcIixcImxcIl0sZS5uYW1lK1wiJGRlY29kZVwiKShcImlmKCEociBpbnN0YW5jZW9mIFJlYWRlcikpXCIpKFwicj1SZWFkZXIuY3JlYXRlKHIpXCIpKFwidmFyIGM9bD09PXVuZGVmaW5lZD9yLmxlbjpyLnBvcytsLG09bmV3IHRoaXMuY3RvclwiKyhlLmZpZWxkc0FycmF5LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwfSkpLmxlbmd0aD9cIixrLHZhbHVlXCI6XCJcIikpKFwid2hpbGUoci5wb3M8Yyl7XCIpKFwidmFyIHQ9ci51aW50MzIoKVwiKTtlLmdyb3VwJiZ0KFwiaWYoKHQmNyk9PT00KVwiKShcImJyZWFrXCIpO3QoXCJzd2l0Y2godD4+PjMpe1wiKTtmb3IodmFyIG49MDtuPGUuZmllbGRzQXJyYXkubGVuZ3RoOysrbil7dmFyIHM9ZS5fZmllbGRzQXJyYXlbbl0ucmVzb2x2ZSgpLGM9cy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiByP1wiaW50MzJcIjpzLnR5cGUsZD1cIm1cIitvLnNhZmVQcm9wKHMubmFtZSk7dChcImNhc2UgJWk6XCIscy5pZCkscy5tYXA/KHQoXCJpZiglcz09PXV0aWwuZW1wdHlPYmplY3QpXCIsZCkoXCIlcz17fVwiLGQpKFwidmFyIGMyID0gci51aW50MzIoKStyLnBvc1wiKSxpLmRlZmF1bHRzW3Mua2V5VHlwZV0hPT11bmRlZmluZWQ/dChcIms9JWpcIixpLmRlZmF1bHRzW3Mua2V5VHlwZV0pOnQoXCJrPW51bGxcIiksaS5kZWZhdWx0c1tjXSE9PXVuZGVmaW5lZD90KFwidmFsdWU9JWpcIixpLmRlZmF1bHRzW2NdKTp0KFwidmFsdWU9bnVsbFwiKSx0KFwid2hpbGUoci5wb3M8YzIpe1wiKShcInZhciB0YWcyPXIudWludDMyKClcIikoXCJzd2l0Y2godGFnMj4+PjMpe1wiKShcImNhc2UgMTogaz1yLiVzKCk7IGJyZWFrXCIscy5rZXlUeXBlKShcImNhc2UgMjpcIiksaS5iYXNpY1tjXT09PXVuZGVmaW5lZD90KFwidmFsdWU9dHlwZXNbJWldLmRlY29kZShyLHIudWludDMyKCkpXCIsbik6dChcInZhbHVlPXIuJXMoKVwiLGMpLHQoXCJicmVha1wiKShcImRlZmF1bHQ6XCIpKFwici5za2lwVHlwZSh0YWcyJjcpXCIpKFwiYnJlYWtcIikoXCJ9XCIpKFwifVwiKSxpLmxvbmdbcy5rZXlUeXBlXSE9PXVuZGVmaW5lZD90KCclc1t0eXBlb2Ygaz09PVwib2JqZWN0XCI/dXRpbC5sb25nVG9IYXNoKGspOmtdPXZhbHVlJyxkKTp0KFwiJXNba109dmFsdWVcIixkKSk6cy5yZXBlYXRlZD8odChcImlmKCEoJXMmJiVzLmxlbmd0aCkpXCIsZCxkKShcIiVzPVtdXCIsZCksaS5wYWNrZWRbY10hPT11bmRlZmluZWQmJnQoXCJpZigodCY3KT09PTIpe1wiKShcInZhciBjMj1yLnVpbnQzMigpK3IucG9zXCIpKFwid2hpbGUoci5wb3M8YzIpXCIpKFwiJXMucHVzaChyLiVzKCkpXCIsZCxjKShcIn1lbHNlXCIpLGkuYmFzaWNbY109PT11bmRlZmluZWQ/dChzLnJlc29sdmVkVHlwZS5ncm91cD9cIiVzLnB1c2godHlwZXNbJWldLmRlY29kZShyKSlcIjpcIiVzLnB1c2godHlwZXNbJWldLmRlY29kZShyLHIudWludDMyKCkpKVwiLGQsbik6dChcIiVzLnB1c2goci4lcygpKVwiLGQsYykpOmkuYmFzaWNbY109PT11bmRlZmluZWQ/dChzLnJlc29sdmVkVHlwZS5ncm91cD9cIiVzPXR5cGVzWyVpXS5kZWNvZGUocilcIjpcIiVzPXR5cGVzWyVpXS5kZWNvZGUocixyLnVpbnQzMigpKVwiLGQsbik6dChcIiVzPXIuJXMoKVwiLGQsYyksdChcImJyZWFrXCIpfWZvcih0KFwiZGVmYXVsdDpcIikoXCJyLnNraXBUeXBlKHQmNylcIikoXCJicmVha1wiKShcIn1cIikoXCJ9XCIpLG49MDtuPGUuX2ZpZWxkc0FycmF5Lmxlbmd0aDsrK24pe3ZhciB1PWUuX2ZpZWxkc0FycmF5W25dO3UucmVxdWlyZWQmJnQoXCJpZighbS5oYXNPd25Qcm9wZXJ0eSglaikpXCIsdS5uYW1lKShcInRocm93IHV0aWwuUHJvdG9jb2xFcnJvciglaix7aW5zdGFuY2U6bX0pXCIsYSh1KSl9cmV0dXJuIHQoXCJyZXR1cm4gbVwiKX07dmFyIHI9ZSgxNCksaT1lKDMyKSxvPWUoMzMpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuXCJtaXNzaW5nIHJlcXVpcmVkICdcIitlLm5hbWUrXCInXCJ9fSx7MTQ6MTQsMzI6MzIsMzM6MzN9XSwxMzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1vLmNvZGVnZW4oW1wibVwiLFwid1wiXSxlLm5hbWUrXCIkZW5jb2RlXCIpKFwiaWYoIXcpXCIpKFwidz1Xcml0ZXIuY3JlYXRlKClcIikscz1lLmZpZWxkc0FycmF5LnNsaWNlKCkuc29ydChvLmNvbXBhcmVGaWVsZHNCeUlkKSxjPTA7YzxzLmxlbmd0aDsrK2Mpe3ZhciBkPXNbY10ucmVzb2x2ZSgpLHU9ZS5fZmllbGRzQXJyYXkuaW5kZXhPZihkKSxsPWQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2Ygcj9cImludDMyXCI6ZC50eXBlLGY9aS5iYXNpY1tsXTt0PVwibVwiK28uc2FmZVByb3AoZC5uYW1lKSxkLm1hcD8obihcImlmKCVzIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtLCVqKSl7XCIsdCxkLm5hbWUpKFwiZm9yKHZhciBrcz1PYmplY3Qua2V5cyglcyksaT0wO2k8a3MubGVuZ3RoOysraSl7XCIsdCkoXCJ3LnVpbnQzMiglaSkuZm9yaygpLnVpbnQzMiglaSkuJXMoa3NbaV0pXCIsKGQuaWQ8PDN8Mik+Pj4wLDh8aS5tYXBLZXlbZC5rZXlUeXBlXSxkLmtleVR5cGUpLGY9PT11bmRlZmluZWQ/bihcInR5cGVzWyVpXS5lbmNvZGUoJXNba3NbaV1dLHcudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLmxkZWxpbSgpXCIsdSx0KTpuKFwiLnVpbnQzMiglaSkuJXMoJXNba3NbaV1dKS5sZGVsaW0oKVwiLDE2fGYsbCx0KSxuKFwifVwiKShcIn1cIikpOmQucmVwZWF0ZWQ/KG4oXCJpZiglcyE9bnVsbCYmJXMubGVuZ3RoKXtcIix0LHQpLGQucGFja2VkJiZpLnBhY2tlZFtsXSE9PXVuZGVmaW5lZD9uKFwidy51aW50MzIoJWkpLmZvcmsoKVwiLChkLmlkPDwzfDIpPj4+MCkoXCJmb3IodmFyIGk9MDtpPCVzLmxlbmd0aDsrK2kpXCIsdCkoXCJ3LiVzKCVzW2ldKVwiLGwsdCkoXCJ3LmxkZWxpbSgpXCIpOihuKFwiZm9yKHZhciBpPTA7aTwlcy5sZW5ndGg7KytpKVwiLHQpLGY9PT11bmRlZmluZWQ/YShuLGQsdSx0K1wiW2ldXCIpOm4oXCJ3LnVpbnQzMiglaSkuJXMoJXNbaV0pXCIsKGQuaWQ8PDN8Zik+Pj4wLGwsdCkpLG4oXCJ9XCIpKTooZC5vcHRpb25hbCYmbihcImlmKCVzIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtLCVqKSlcIix0LGQubmFtZSksZj09PXVuZGVmaW5lZD9hKG4sZCx1LHQpOm4oXCJ3LnVpbnQzMiglaSkuJXMoJXMpXCIsKGQuaWQ8PDN8Zik+Pj4wLGwsdCkpfXJldHVybiBuKFwicmV0dXJuIHdcIil9O3ZhciByPWUoMTQpLGk9ZSgzMiksbz1lKDMzKTtmdW5jdGlvbiBhKGUsdCxuLHIpe3JldHVybiB0LnJlc29sdmVkVHlwZS5ncm91cD9lKFwidHlwZXNbJWldLmVuY29kZSglcyx3LnVpbnQzMiglaSkpLnVpbnQzMiglaSlcIixuLHIsKHQuaWQ8PDN8Myk+Pj4wLCh0LmlkPDwzfDQpPj4+MCk6ZShcInR5cGVzWyVpXS5lbmNvZGUoJXMsdy51aW50MzIoJWkpLmZvcmsoKSkubGRlbGltKClcIixuLHIsKHQuaWQ8PDN8Mik+Pj4wKX19LHsxNDoxNCwzMjozMiwzMzozM31dLDE0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWE7dmFyIHI9ZSgyMik7KChhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSkuY2xhc3NOYW1lPVwiRW51bVwiO3ZhciBpPWUoMjEpLG89ZSgzMyk7ZnVuY3Rpb24gYShlLHQsbixpLG8pe2lmKHIuY2FsbCh0aGlzLGUsbiksdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwidmFsdWVzIG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKHRoaXMudmFsdWVzQnlJZD17fSx0aGlzLnZhbHVlcz1PYmplY3QuY3JlYXRlKHRoaXMudmFsdWVzQnlJZCksdGhpcy5jb21tZW50PWksdGhpcy5jb21tZW50cz1vfHx7fSx0aGlzLnJlc2VydmVkPXVuZGVmaW5lZCx0KWZvcih2YXIgYT1PYmplY3Qua2V5cyh0KSxzPTA7czxhLmxlbmd0aDsrK3MpXCJudW1iZXJcIj09dHlwZW9mIHRbYVtzXV0mJih0aGlzLnZhbHVlc0J5SWRbdGhpcy52YWx1ZXNbYVtzXV09dFthW3NdXV09YVtzXSl9YS5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBhKGUsdC52YWx1ZXMsdC5vcHRpb25zLHQuY29tbWVudCx0LmNvbW1lbnRzKTtyZXR1cm4gbi5yZXNlcnZlZD10LnJlc2VydmVkLG59LGEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBvLnRvT2JqZWN0KFtcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJ2YWx1ZXNcIix0aGlzLnZhbHVlcyxcInJlc2VydmVkXCIsdGhpcy5yZXNlcnZlZCYmdGhpcy5yZXNlcnZlZC5sZW5ndGg/dGhpcy5yZXNlcnZlZDp1bmRlZmluZWQsXCJjb21tZW50XCIsdD90aGlzLmNvbW1lbnQ6dW5kZWZpbmVkLFwiY29tbWVudHNcIix0P3RoaXMuY29tbWVudHM6dW5kZWZpbmVkXSl9LGEucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQsbil7aWYoIW8uaXNTdHJpbmcoZSkpdGhyb3cgVHlwZUVycm9yKFwibmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCFvLmlzSW50ZWdlcih0KSl0aHJvdyBUeXBlRXJyb3IoXCJpZCBtdXN0IGJlIGFuIGludGVnZXJcIik7aWYodGhpcy52YWx1ZXNbZV0hPT11bmRlZmluZWQpdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgbmFtZSAnXCIrZStcIicgaW4gXCIrdGhpcyk7aWYodGhpcy5pc1Jlc2VydmVkSWQodCkpdGhyb3cgRXJyb3IoXCJpZCBcIit0K1wiIGlzIHJlc2VydmVkIGluIFwiK3RoaXMpO2lmKHRoaXMuaXNSZXNlcnZlZE5hbWUoZSkpdGhyb3cgRXJyb3IoXCJuYW1lICdcIitlK1wiJyBpcyByZXNlcnZlZCBpbiBcIit0aGlzKTtpZih0aGlzLnZhbHVlc0J5SWRbdF0hPT11bmRlZmluZWQpe2lmKCF0aGlzLm9wdGlvbnN8fCF0aGlzLm9wdGlvbnMuYWxsb3dfYWxpYXMpdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgaWQgXCIrdCtcIiBpbiBcIit0aGlzKTt0aGlzLnZhbHVlc1tlXT10fWVsc2UgdGhpcy52YWx1ZXNCeUlkW3RoaXMudmFsdWVzW2VdPXRdPWU7cmV0dXJuIHRoaXMuY29tbWVudHNbZV09bnx8bnVsbCx0aGlzfSxhLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIW8uaXNTdHJpbmcoZSkpdGhyb3cgVHlwZUVycm9yKFwibmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO3ZhciB0PXRoaXMudmFsdWVzW2VdO2lmKG51bGw9PXQpdGhyb3cgRXJyb3IoXCJuYW1lICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiBcIit0aGlzKTtyZXR1cm4gZGVsZXRlIHRoaXMudmFsdWVzQnlJZFt0XSxkZWxldGUgdGhpcy52YWx1ZXNbZV0sZGVsZXRlIHRoaXMuY29tbWVudHNbZV0sdGhpc30sYS5wcm90b3R5cGUuaXNSZXNlcnZlZElkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmlzUmVzZXJ2ZWRJZCh0aGlzLnJlc2VydmVkLGUpfSxhLnByb3RvdHlwZS5pc1Jlc2VydmVkTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5pc1Jlc2VydmVkTmFtZSh0aGlzLnJlc2VydmVkLGUpfX0sezIxOjIxLDIyOjIyLDMzOjMzfV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZDt2YXIgcj1lKDIyKTsoKGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1kKS5jbGFzc05hbWU9XCJGaWVsZFwiO3ZhciBpLG89ZSgxNCksYT1lKDMyKSxzPWUoMzMpLGM9L15yZXF1aXJlZHxvcHRpb25hbHxyZXBlYXRlZCQvO2Z1bmN0aW9uIGQoZSx0LG4saSxvLGQsdSl7aWYocy5pc09iamVjdChpKT8odT1vLGQ9aSxpPW89dW5kZWZpbmVkKTpzLmlzT2JqZWN0KG8pJiYodT1kLGQ9byxvPXVuZGVmaW5lZCksci5jYWxsKHRoaXMsZSxkKSwhcy5pc0ludGVnZXIodCl8fHQ8MCl0aHJvdyBUeXBlRXJyb3IoXCJpZCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXJcIik7aWYoIXMuaXNTdHJpbmcobikpdGhyb3cgVHlwZUVycm9yKFwidHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKGkhPT11bmRlZmluZWQmJiFjLnRlc3QoaT1pLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkpdGhyb3cgVHlwZUVycm9yKFwicnVsZSBtdXN0IGJlIGEgc3RyaW5nIHJ1bGVcIik7aWYobyE9PXVuZGVmaW5lZCYmIXMuaXNTdHJpbmcobykpdGhyb3cgVHlwZUVycm9yKFwiZXh0ZW5kIG11c3QgYmUgYSBzdHJpbmdcIik7dGhpcy5ydWxlPWkmJlwib3B0aW9uYWxcIiE9PWk/aTp1bmRlZmluZWQsdGhpcy50eXBlPW4sdGhpcy5pZD10LHRoaXMuZXh0ZW5kPW98fHVuZGVmaW5lZCx0aGlzLnJlcXVpcmVkPVwicmVxdWlyZWRcIj09PWksdGhpcy5vcHRpb25hbD0hdGhpcy5yZXF1aXJlZCx0aGlzLnJlcGVhdGVkPVwicmVwZWF0ZWRcIj09PWksdGhpcy5tYXA9ITEsdGhpcy5tZXNzYWdlPW51bGwsdGhpcy5wYXJ0T2Y9bnVsbCx0aGlzLnR5cGVEZWZhdWx0PW51bGwsdGhpcy5kZWZhdWx0VmFsdWU9bnVsbCx0aGlzLmxvbmc9ISFzLkxvbmcmJmEubG9uZ1tuXSE9PXVuZGVmaW5lZCx0aGlzLmJ5dGVzPVwiYnl0ZXNcIj09PW4sdGhpcy5yZXNvbHZlZFR5cGU9bnVsbCx0aGlzLmV4dGVuc2lvbkZpZWxkPW51bGwsdGhpcy5kZWNsYXJpbmdGaWVsZD1udWxsLHRoaXMuX3BhY2tlZD1udWxsLHRoaXMuY29tbWVudD11fWQuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGQoZSx0LmlkLHQudHlwZSx0LnJ1bGUsdC5leHRlbmQsdC5vcHRpb25zLHQuY29tbWVudCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInBhY2tlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3BhY2tlZCYmKHRoaXMuX3BhY2tlZD0hMSE9PXRoaXMuZ2V0T3B0aW9uKFwicGFja2VkXCIpKSx0aGlzLl9wYWNrZWR9fSksZC5wcm90b3R5cGUuc2V0T3B0aW9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cInBhY2tlZFwiPT09ZSYmKHRoaXMuX3BhY2tlZD1udWxsKSxyLnByb3RvdHlwZS5zZXRPcHRpb24uY2FsbCh0aGlzLGUsdCxuKX0sZC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIHMudG9PYmplY3QoW1wicnVsZVwiLFwib3B0aW9uYWxcIiE9PXRoaXMucnVsZSYmdGhpcy5ydWxlfHx1bmRlZmluZWQsXCJ0eXBlXCIsdGhpcy50eXBlLFwiaWRcIix0aGlzLmlkLFwiZXh0ZW5kXCIsdGhpcy5leHRlbmQsXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnVuZGVmaW5lZF0pfSxkLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZXNvbHZlZClyZXR1cm4gdGhpcztpZigodGhpcy50eXBlRGVmYXVsdD1hLmRlZmF1bHRzW3RoaXMudHlwZV0pPT09dW5kZWZpbmVkJiYodGhpcy5yZXNvbHZlZFR5cGU9KHRoaXMuZGVjbGFyaW5nRmllbGQ/dGhpcy5kZWNsYXJpbmdGaWVsZC5wYXJlbnQ6dGhpcy5wYXJlbnQpLmxvb2t1cFR5cGVPckVudW0odGhpcy50eXBlKSx0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIGk/dGhpcy50eXBlRGVmYXVsdD1udWxsOnRoaXMudHlwZURlZmF1bHQ9dGhpcy5yZXNvbHZlZFR5cGUudmFsdWVzW09iamVjdC5rZXlzKHRoaXMucmVzb2x2ZWRUeXBlLnZhbHVlcylbMF1dKSx0aGlzLm9wdGlvbnMmJm51bGwhPXRoaXMub3B0aW9ucy5kZWZhdWx0JiYodGhpcy50eXBlRGVmYXVsdD10aGlzLm9wdGlvbnMuZGVmYXVsdCx0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIG8mJlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnR5cGVEZWZhdWx0JiYodGhpcy50eXBlRGVmYXVsdD10aGlzLnJlc29sdmVkVHlwZS52YWx1ZXNbdGhpcy50eXBlRGVmYXVsdF0pKSx0aGlzLm9wdGlvbnMmJighMCE9PXRoaXMub3B0aW9ucy5wYWNrZWQmJih0aGlzLm9wdGlvbnMucGFja2VkPT09dW5kZWZpbmVkfHwhdGhpcy5yZXNvbHZlZFR5cGV8fHRoaXMucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2Ygbyl8fGRlbGV0ZSB0aGlzLm9wdGlvbnMucGFja2VkLE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucykubGVuZ3RofHwodGhpcy5vcHRpb25zPXVuZGVmaW5lZCkpLHRoaXMubG9uZyl0aGlzLnR5cGVEZWZhdWx0PXMuTG9uZy5mcm9tTnVtYmVyKHRoaXMudHlwZURlZmF1bHQsXCJ1XCI9PT10aGlzLnR5cGUuY2hhckF0KDApKSxPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKHRoaXMudHlwZURlZmF1bHQpO2Vsc2UgaWYodGhpcy5ieXRlcyYmXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudHlwZURlZmF1bHQpe3ZhciBlO3MuYmFzZTY0LnRlc3QodGhpcy50eXBlRGVmYXVsdCk/cy5iYXNlNjQuZGVjb2RlKHRoaXMudHlwZURlZmF1bHQsZT1zLm5ld0J1ZmZlcihzLmJhc2U2NC5sZW5ndGgodGhpcy50eXBlRGVmYXVsdCkpLDApOnMudXRmOC53cml0ZSh0aGlzLnR5cGVEZWZhdWx0LGU9cy5uZXdCdWZmZXIocy51dGY4Lmxlbmd0aCh0aGlzLnR5cGVEZWZhdWx0KSksMCksdGhpcy50eXBlRGVmYXVsdD1lfXJldHVybiB0aGlzLm1hcD90aGlzLmRlZmF1bHRWYWx1ZT1zLmVtcHR5T2JqZWN0OnRoaXMucmVwZWF0ZWQ/dGhpcy5kZWZhdWx0VmFsdWU9cy5lbXB0eUFycmF5OnRoaXMuZGVmYXVsdFZhbHVlPXRoaXMudHlwZURlZmF1bHQsdGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBpJiYodGhpcy5wYXJlbnQuY3Rvci5wcm90b3R5cGVbdGhpcy5uYW1lXT10aGlzLmRlZmF1bHRWYWx1ZSksci5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpfSxkLmQ9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90PXMuZGVjb3JhdGVUeXBlKHQpLm5hbWU6dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJih0PXMuZGVjb3JhdGVFbnVtKHQpLm5hbWUpLGZ1bmN0aW9uKGksbyl7cy5kZWNvcmF0ZVR5cGUoaS5jb25zdHJ1Y3RvcikuYWRkKG5ldyBkKG8sZSx0LG4se2RlZmF1bHQ6cn0pKX19LGQuX2NvbmZpZ3VyZT1mdW5jdGlvbihlKXtpPWV9fSx7MTQ6MTQsMjI6MjIsMzI6MzIsMzM6MzN9XSwxNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuZXhwb3J0cz1lKDE3KTtyLmJ1aWxkPVwibGlnaHRcIixyLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KG49dCx0PW5ldyByLlJvb3QpOnR8fCh0PW5ldyByLlJvb3QpLHQubG9hZChlLG4pfSxyLmxvYWRTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW5ldyByLlJvb3QpLHQubG9hZFN5bmMoZSl9LHIuZW5jb2Rlcj1lKDEzKSxyLmRlY29kZXI9ZSgxMiksci52ZXJpZmllcj1lKDM2KSxyLmNvbnZlcnRlcj1lKDExKSxyLlJlZmxlY3Rpb25PYmplY3Q9ZSgyMiksci5OYW1lc3BhY2U9ZSgyMSksci5Sb290PWUoMjYpLHIuRW51bT1lKDE0KSxyLlR5cGU9ZSgzMSksci5GaWVsZD1lKDE1KSxyLk9uZU9mPWUoMjMpLHIuTWFwRmllbGQ9ZSgxOCksci5TZXJ2aWNlPWUoMzApLHIuTWV0aG9kPWUoMjApLHIuTWVzc2FnZT1lKDE5KSxyLndyYXBwZXJzPWUoMzcpLHIudHlwZXM9ZSgzMiksci51dGlsPWUoMzMpLHIuUmVmbGVjdGlvbk9iamVjdC5fY29uZmlndXJlKHIuUm9vdCksci5OYW1lc3BhY2UuX2NvbmZpZ3VyZShyLlR5cGUsci5TZXJ2aWNlLHIuRW51bSksci5Sb290Ll9jb25maWd1cmUoci5UeXBlKSxyLkZpZWxkLl9jb25maWd1cmUoci5UeXBlKX0sezExOjExLDEyOjEyLDEzOjEzLDE0OjE0LDE1OjE1LDE3OjE3LDE4OjE4LDE5OjE5LDIwOjIwLDIxOjIxLDIyOjIyLDIzOjIzLDI2OjI2LDMwOjMwLDMxOjMxLDMyOjMyLDMzOjMzLDM2OjM2LDM3OjM3fV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uO2Z1bmN0aW9uIGkoKXtyLnV0aWwuX2NvbmZpZ3VyZSgpLHIuV3JpdGVyLl9jb25maWd1cmUoci5CdWZmZXJXcml0ZXIpLHIuUmVhZGVyLl9jb25maWd1cmUoci5CdWZmZXJSZWFkZXIpfXIuYnVpbGQ9XCJtaW5pbWFsXCIsci5Xcml0ZXI9ZSgzOCksci5CdWZmZXJXcml0ZXI9ZSgzOSksci5SZWFkZXI9ZSgyNCksci5CdWZmZXJSZWFkZXI9ZSgyNSksci51dGlsPWUoMzUpLHIucnBjPWUoMjgpLHIucm9vdHM9ZSgyNyksci5jb25maWd1cmU9aSxpKCl9LHsyNDoyNCwyNToyNSwyNzoyNywyODoyOCwzNTozNSwzODozOCwzOTozOX1dLDE4OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWE7dmFyIHI9ZSgxNSk7KChhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSkuY2xhc3NOYW1lPVwiTWFwRmllbGRcIjt2YXIgaT1lKDMyKSxvPWUoMzMpO2Z1bmN0aW9uIGEoZSx0LG4saSxhLHMpe2lmKHIuY2FsbCh0aGlzLGUsdCxpLHVuZGVmaW5lZCx1bmRlZmluZWQsYSxzKSwhby5pc1N0cmluZyhuKSl0aHJvdyBUeXBlRXJyb3IoXCJrZXlUeXBlIG11c3QgYmUgYSBzdHJpbmdcIik7dGhpcy5rZXlUeXBlPW4sdGhpcy5yZXNvbHZlZEtleVR5cGU9bnVsbCx0aGlzLm1hcD0hMH1hLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBhKGUsdC5pZCx0LmtleVR5cGUsdC50eXBlLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gby50b09iamVjdChbXCJrZXlUeXBlXCIsdGhpcy5rZXlUeXBlLFwidHlwZVwiLHRoaXMudHlwZSxcImlkXCIsdGhpcy5pZCxcImV4dGVuZFwiLHRoaXMuZXh0ZW5kLFwib3B0aW9uc1wiLHRoaXMub3B0aW9ucyxcImNvbW1lbnRcIix0P3RoaXMuY29tbWVudDp1bmRlZmluZWRdKX0sYS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe2lmKHRoaXMucmVzb2x2ZWQpcmV0dXJuIHRoaXM7aWYoaS5tYXBLZXlbdGhpcy5rZXlUeXBlXT09PXVuZGVmaW5lZCl0aHJvdyBFcnJvcihcImludmFsaWQga2V5IHR5cGU6IFwiK3RoaXMua2V5VHlwZSk7cmV0dXJuIHIucHJvdG90eXBlLnJlc29sdmUuY2FsbCh0aGlzKX0sYS5kPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP249by5kZWNvcmF0ZVR5cGUobikubmFtZTpuJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmKG49by5kZWNvcmF0ZUVudW0obikubmFtZSksZnVuY3Rpb24ocixpKXtvLmRlY29yYXRlVHlwZShyLmNvbnN0cnVjdG9yKS5hZGQobmV3IGEoaSxlLHQsbikpfX19LHsxNToxNSwzMjozMiwzMzozM31dLDE5OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWk7dmFyIHI9ZSgzNSk7ZnVuY3Rpb24gaShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pdGhpc1t0W25dXT1lW3Rbbl1dfWkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0eXBlLmNyZWF0ZShlKX0saS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kdHlwZS5lbmNvZGUoZSx0KX0saS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kdHlwZS5lbmNvZGVEZWxpbWl0ZWQoZSx0KX0saS5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHR5cGUuZGVjb2RlKGUpfSxpLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdHlwZS5kZWNvZGVEZWxpbWl0ZWQoZSl9LGkudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0eXBlLnZlcmlmeShlKX0saS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0eXBlLmZyb21PYmplY3QoZSl9LGkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kdHlwZS50b09iamVjdChlLHQpfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdHlwZS50b09iamVjdCh0aGlzLHIudG9KU09OT3B0aW9ucyl9fSx7MzU6MzV9XSwyMDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1vO3ZhciByPWUoMjIpOygoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW8pLmNsYXNzTmFtZT1cIk1ldGhvZFwiO3ZhciBpPWUoMzMpO2Z1bmN0aW9uIG8oZSx0LG4sbyxhLHMsYyxkKXtpZihpLmlzT2JqZWN0KGEpPyhjPWEsYT1zPXVuZGVmaW5lZCk6aS5pc09iamVjdChzKSYmKGM9cyxzPXVuZGVmaW5lZCksdCE9PXVuZGVmaW5lZCYmIWkuaXNTdHJpbmcodCkpdGhyb3cgVHlwZUVycm9yKFwidHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCFpLmlzU3RyaW5nKG4pKXRocm93IFR5cGVFcnJvcihcInJlcXVlc3RUeXBlIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoIWkuaXNTdHJpbmcobykpdGhyb3cgVHlwZUVycm9yKFwicmVzcG9uc2VUeXBlIG11c3QgYmUgYSBzdHJpbmdcIik7ci5jYWxsKHRoaXMsZSxjKSx0aGlzLnR5cGU9dHx8XCJycGNcIix0aGlzLnJlcXVlc3RUeXBlPW4sdGhpcy5yZXF1ZXN0U3RyZWFtPSEhYXx8dW5kZWZpbmVkLHRoaXMucmVzcG9uc2VUeXBlPW8sdGhpcy5yZXNwb25zZVN0cmVhbT0hIXN8fHVuZGVmaW5lZCx0aGlzLnJlc29sdmVkUmVxdWVzdFR5cGU9bnVsbCx0aGlzLnJlc29sdmVkUmVzcG9uc2VUeXBlPW51bGwsdGhpcy5jb21tZW50PWR9by5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgbyhlLHQudHlwZSx0LnJlcXVlc3RUeXBlLHQucmVzcG9uc2VUeXBlLHQucmVxdWVzdFN0cmVhbSx0LnJlc3BvbnNlU3RyZWFtLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gaS50b09iamVjdChbXCJ0eXBlXCIsXCJycGNcIiE9PXRoaXMudHlwZSYmdGhpcy50eXBlfHx1bmRlZmluZWQsXCJyZXF1ZXN0VHlwZVwiLHRoaXMucmVxdWVzdFR5cGUsXCJyZXF1ZXN0U3RyZWFtXCIsdGhpcy5yZXF1ZXN0U3RyZWFtLFwicmVzcG9uc2VUeXBlXCIsdGhpcy5yZXNwb25zZVR5cGUsXCJyZXNwb25zZVN0cmVhbVwiLHRoaXMucmVzcG9uc2VTdHJlYW0sXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnVuZGVmaW5lZF0pfSxvLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x2ZWQ/dGhpczoodGhpcy5yZXNvbHZlZFJlcXVlc3RUeXBlPXRoaXMucGFyZW50Lmxvb2t1cFR5cGUodGhpcy5yZXF1ZXN0VHlwZSksdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZT10aGlzLnBhcmVudC5sb29rdXBUeXBlKHRoaXMucmVzcG9uc2VUeXBlKSxyLnByb3RvdHlwZS5yZXNvbHZlLmNhbGwodGhpcykpfX0sezIyOjIyLDMzOjMzfV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9dTt2YXIgcj1lKDIyKTsoKHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11KS5jbGFzc05hbWU9XCJOYW1lc3BhY2VcIjt2YXIgaSxvLGEscz1lKDE1KSxjPWUoMzMpO2Z1bmN0aW9uIGQoZSx0KXtpZighZXx8IWUubGVuZ3RoKXJldHVybiB1bmRlZmluZWQ7Zm9yKHZhciBuPXt9LHI9MDtyPGUubGVuZ3RoOysrciluW2Vbcl0ubmFtZV09ZVtyXS50b0pTT04odCk7cmV0dXJuIG59ZnVuY3Rpb24gdShlLHQpe3IuY2FsbCh0aGlzLGUsdCksdGhpcy5uZXN0ZWQ9dW5kZWZpbmVkLHRoaXMuX25lc3RlZEFycmF5PW51bGx9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5fbmVzdGVkQXJyYXk9bnVsbCxlfXUuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHUoZSx0Lm9wdGlvbnMpLmFkZEpTT04odC5uZXN0ZWQpfSx1LmFycmF5VG9KU09OPWQsdS5pc1Jlc2VydmVkSWQ9ZnVuY3Rpb24oZSx0KXtpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlW25dJiZlW25dWzBdPD10JiZlW25dWzFdPnQpcmV0dXJuITA7cmV0dXJuITF9LHUuaXNSZXNlcnZlZE5hbWU9ZnVuY3Rpb24oZSx0KXtpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsXCJuZXN0ZWRBcnJheVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVzdGVkQXJyYXl8fCh0aGlzLl9uZXN0ZWRBcnJheT1jLnRvQXJyYXkodGhpcy5uZXN0ZWQpKX19KSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7cmV0dXJuIGMudG9PYmplY3QoW1wib3B0aW9uc1wiLHRoaXMub3B0aW9ucyxcIm5lc3RlZFwiLGQodGhpcy5uZXN0ZWRBcnJheSxlKV0pfSx1LnByb3RvdHlwZS5hZGRKU09OPWZ1bmN0aW9uKGUpe2lmKGUpZm9yKHZhciB0LG49T2JqZWN0LmtleXMoZSkscj0wO3I8bi5sZW5ndGg7KytyKXQ9ZVtuW3JdXSx0aGlzLmFkZCgodC5maWVsZHMhPT11bmRlZmluZWQ/aS5mcm9tSlNPTjp0LnZhbHVlcyE9PXVuZGVmaW5lZD9hLmZyb21KU09OOnQubWV0aG9kcyE9PXVuZGVmaW5lZD9vLmZyb21KU09OOnQuaWQhPT11bmRlZmluZWQ/cy5mcm9tSlNPTjp1LmZyb21KU09OKShuW3JdLHQpKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5lc3RlZCYmdGhpcy5uZXN0ZWRbZV18fG51bGx9LHUucHJvdG90eXBlLmdldEVudW09ZnVuY3Rpb24oZSl7aWYodGhpcy5uZXN0ZWQmJnRoaXMubmVzdGVkW2VdaW5zdGFuY2VvZiBhKXJldHVybiB0aGlzLm5lc3RlZFtlXS52YWx1ZXM7dGhyb3cgRXJyb3IoXCJubyBzdWNoIGVudW06IFwiK2UpfSx1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgcyYmZS5leHRlbmQhPT11bmRlZmluZWR8fGUgaW5zdGFuY2VvZiBpfHxlIGluc3RhbmNlb2YgYXx8ZSBpbnN0YW5jZW9mIG98fGUgaW5zdGFuY2VvZiB1KSl0aHJvdyBUeXBlRXJyb3IoXCJvYmplY3QgbXVzdCBiZSBhIHZhbGlkIG5lc3RlZCBvYmplY3RcIik7aWYodGhpcy5uZXN0ZWQpe3ZhciB0PXRoaXMuZ2V0KGUubmFtZSk7aWYodCl7aWYoISh0IGluc3RhbmNlb2YgdSYmZSBpbnN0YW5jZW9mIHUpfHx0IGluc3RhbmNlb2YgaXx8dCBpbnN0YW5jZW9mIG8pdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgbmFtZSAnXCIrZS5uYW1lK1wiJyBpbiBcIit0aGlzKTtmb3IodmFyIG49dC5uZXN0ZWRBcnJheSxyPTA7cjxuLmxlbmd0aDsrK3IpZS5hZGQobltyXSk7dGhpcy5yZW1vdmUodCksdGhpcy5uZXN0ZWR8fCh0aGlzLm5lc3RlZD17fSksZS5zZXRPcHRpb25zKHQub3B0aW9ucywhMCl9fWVsc2UgdGhpcy5uZXN0ZWQ9e307cmV0dXJuIHRoaXMubmVzdGVkW2UubmFtZV09ZSxlLm9uQWRkKHRoaXMpLGwodGhpcyl9LHUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiByKSl0aHJvdyBUeXBlRXJyb3IoXCJvYmplY3QgbXVzdCBiZSBhIFJlZmxlY3Rpb25PYmplY3RcIik7aWYoZS5wYXJlbnQhPT10aGlzKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy5uZXN0ZWRbZS5uYW1lXSxPYmplY3Qua2V5cyh0aGlzLm5lc3RlZCkubGVuZ3RofHwodGhpcy5uZXN0ZWQ9dW5kZWZpbmVkKSxlLm9uUmVtb3ZlKHRoaXMpLGwodGhpcyl9LHUucHJvdG90eXBlLmRlZmluZT1mdW5jdGlvbihlLHQpe2lmKGMuaXNTdHJpbmcoZSkpZT1lLnNwbGl0KFwiLlwiKTtlbHNlIGlmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IFR5cGVFcnJvcihcImlsbGVnYWwgcGF0aFwiKTtpZihlJiZlLmxlbmd0aCYmXCJcIj09PWVbMF0pdGhyb3cgRXJyb3IoXCJwYXRoIG11c3QgYmUgcmVsYXRpdmVcIik7Zm9yKHZhciBuPXRoaXM7ZS5sZW5ndGg+MDspe3ZhciByPWUuc2hpZnQoKTtpZihuLm5lc3RlZCYmbi5uZXN0ZWRbcl0pe2lmKCEoKG49bi5uZXN0ZWRbcl0paW5zdGFuY2VvZiB1KSl0aHJvdyBFcnJvcihcInBhdGggY29uZmxpY3RzIHdpdGggbm9uLW5hbWVzcGFjZSBvYmplY3RzXCIpfWVsc2Ugbi5hZGQobj1uZXcgdShyKSl9cmV0dXJuIHQmJm4uYWRkSlNPTih0KSxufSx1LnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMubmVzdGVkQXJyYXksdD0wO3Q8ZS5sZW5ndGg7KWVbdF1pbnN0YW5jZW9mIHU/ZVt0KytdLnJlc29sdmVBbGwoKTplW3QrK10ucmVzb2x2ZSgpO3JldHVybiB0aGlzLnJlc29sdmUoKX0sdS5wcm90b3R5cGUubG9va3VwPWZ1bmN0aW9uKGUsdCxuKXtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQ/KG49dCx0PXVuZGVmaW5lZCk6dCYmIUFycmF5LmlzQXJyYXkodCkmJih0PVt0XSksYy5pc1N0cmluZyhlKSYmZS5sZW5ndGgpe2lmKFwiLlwiPT09ZSlyZXR1cm4gdGhpcy5yb290O2U9ZS5zcGxpdChcIi5cIil9ZWxzZSBpZighZS5sZW5ndGgpcmV0dXJuIHRoaXM7aWYoXCJcIj09PWVbMF0pcmV0dXJuIHRoaXMucm9vdC5sb29rdXAoZS5zbGljZSgxKSx0KTt2YXIgcj10aGlzLmdldChlWzBdKTtpZihyKXtpZigxPT09ZS5sZW5ndGgpe2lmKCF0fHx0LmluZGV4T2Yoci5jb25zdHJ1Y3Rvcik+LTEpcmV0dXJuIHJ9ZWxzZSBpZihyIGluc3RhbmNlb2YgdSYmKHI9ci5sb29rdXAoZS5zbGljZSgxKSx0LCEwKSkpcmV0dXJuIHJ9ZWxzZSBmb3IodmFyIGk9MDtpPHRoaXMubmVzdGVkQXJyYXkubGVuZ3RoOysraSlpZih0aGlzLl9uZXN0ZWRBcnJheVtpXWluc3RhbmNlb2YgdSYmKHI9dGhpcy5fbmVzdGVkQXJyYXlbaV0ubG9va3VwKGUsdCwhMCkpKXJldHVybiByO3JldHVybiBudWxsPT09dGhpcy5wYXJlbnR8fG4/bnVsbDp0aGlzLnBhcmVudC5sb29rdXAoZSx0KX0sdS5wcm90b3R5cGUubG9va3VwVHlwZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvb2t1cChlLFtpXSk7aWYoIXQpdGhyb3cgRXJyb3IoXCJubyBzdWNoIHR5cGU6IFwiK2UpO3JldHVybiB0fSx1LnByb3RvdHlwZS5sb29rdXBFbnVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubG9va3VwKGUsW2FdKTtpZighdCl0aHJvdyBFcnJvcihcIm5vIHN1Y2ggRW51bSAnXCIrZStcIicgaW4gXCIrdGhpcyk7cmV0dXJuIHR9LHUucHJvdG90eXBlLmxvb2t1cFR5cGVPckVudW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb29rdXAoZSxbaSxhXSk7aWYoIXQpdGhyb3cgRXJyb3IoXCJubyBzdWNoIFR5cGUgb3IgRW51bSAnXCIrZStcIicgaW4gXCIrdGhpcyk7cmV0dXJuIHR9LHUucHJvdG90eXBlLmxvb2t1cFNlcnZpY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb29rdXAoZSxbb10pO2lmKCF0KXRocm93IEVycm9yKFwibm8gc3VjaCBTZXJ2aWNlICdcIitlK1wiJyBpbiBcIit0aGlzKTtyZXR1cm4gdH0sdS5fY29uZmlndXJlPWZ1bmN0aW9uKGUsdCxuKXtpPWUsbz10LGE9bn19LHsxNToxNSwyMjoyMiwzMzozM31dLDIyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPW8sby5jbGFzc05hbWU9XCJSZWZsZWN0aW9uT2JqZWN0XCI7dmFyIHIsaT1lKDMzKTtmdW5jdGlvbiBvKGUsdCl7aWYoIWkuaXNTdHJpbmcoZSkpdGhyb3cgVHlwZUVycm9yKFwibmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKHQmJiFpLmlzT2JqZWN0KHQpKXRocm93IFR5cGVFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7dGhpcy5vcHRpb25zPXQsdGhpcy5wYXJzZWRPcHRpb25zPW51bGwsdGhpcy5uYW1lPWUsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLnJlc29sdmVkPSExLHRoaXMuY29tbWVudD1udWxsLHRoaXMuZmlsZW5hbWU9bnVsbH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhvLnByb3RvdHlwZSx7cm9vdDp7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7bnVsbCE9PWUucGFyZW50OyllPWUucGFyZW50O3JldHVybiBlfX0sZnVsbE5hbWU6e2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bdGhpcy5uYW1lXSx0PXRoaXMucGFyZW50O3Q7KWUudW5zaGlmdCh0Lm5hbWUpLHQ9dC5wYXJlbnQ7cmV0dXJuIGUuam9pbihcIi5cIil9fX0pLG8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCl9LG8ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3RoaXMucGFyZW50JiZ0aGlzLnBhcmVudCE9PWUmJnRoaXMucGFyZW50LnJlbW92ZSh0aGlzKSx0aGlzLnBhcmVudD1lLHRoaXMucmVzb2x2ZWQ9ITE7dmFyIHQ9ZS5yb290O3QgaW5zdGFuY2VvZiByJiZ0Ll9oYW5kbGVBZGQodGhpcyl9LG8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucm9vdDt0IGluc3RhbmNlb2YgciYmdC5faGFuZGxlUmVtb3ZlKHRoaXMpLHRoaXMucGFyZW50PW51bGwsdGhpcy5yZXNvbHZlZD0hMX0sby5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc29sdmVkfHx0aGlzLnJvb3QgaW5zdGFuY2VvZiByJiYodGhpcy5yZXNvbHZlZD0hMCksdGhpc30sby5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zW2VdOnVuZGVmaW5lZH0sby5wcm90b3R5cGUuc2V0T3B0aW9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnNbZV0hPT11bmRlZmluZWR8fCgodGhpcy5vcHRpb25zfHwodGhpcy5vcHRpb25zPXt9KSlbZV09dCksdGhpc30sby5wcm90b3R5cGUuc2V0UGFyc2VkT3B0aW9uPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnBhcnNlZE9wdGlvbnN8fCh0aGlzLnBhcnNlZE9wdGlvbnM9W10pO3ZhciByPXRoaXMucGFyc2VkT3B0aW9ucztpZihuKXt2YXIgbz1yLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0pKTtpZihvKXt2YXIgYT1vW2VdO2kuc2V0UHJvcGVydHkoYSxuLHQpfWVsc2Uobz17fSlbZV09aS5zZXRQcm9wZXJ0eSh7fSxuLHQpLHIucHVzaChvKX1lbHNle3ZhciBzPXt9O3NbZV09dCxyLnB1c2gocyl9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtpZihlKWZvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxyPTA7cjxuLmxlbmd0aDsrK3IpdGhpcy5zZXRPcHRpb24obltyXSxlW25bcl1dLHQpO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lLHQ9dGhpcy5mdWxsTmFtZTtyZXR1cm4gdC5sZW5ndGg/ZStcIiBcIit0OmV9LG8uX2NvbmZpZ3VyZT1mdW5jdGlvbihlKXtyPWV9fSx7MzM6MzN9XSwyMzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1hO3ZhciByPWUoMjIpOygoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEpLmNsYXNzTmFtZT1cIk9uZU9mXCI7dmFyIGk9ZSgxNSksbz1lKDMzKTtmdW5jdGlvbiBhKGUsdCxuLGkpe2lmKEFycmF5LmlzQXJyYXkodCl8fChuPXQsdD11bmRlZmluZWQpLHIuY2FsbCh0aGlzLGUsbiksdCE9PXVuZGVmaW5lZCYmIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgVHlwZUVycm9yKFwiZmllbGROYW1lcyBtdXN0IGJlIGFuIEFycmF5XCIpO3RoaXMub25lb2Y9dHx8W10sdGhpcy5maWVsZHNBcnJheT1bXSx0aGlzLmNvbW1lbnQ9aX1mdW5jdGlvbiBzKGUpe2lmKGUucGFyZW50KWZvcih2YXIgdD0wO3Q8ZS5maWVsZHNBcnJheS5sZW5ndGg7Kyt0KWUuZmllbGRzQXJyYXlbdF0ucGFyZW50fHxlLnBhcmVudC5hZGQoZS5maWVsZHNBcnJheVt0XSl9YS5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgYShlLHQub25lb2YsdC5vcHRpb25zLHQuY29tbWVudCl9LGEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBvLnRvT2JqZWN0KFtcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJvbmVvZlwiLHRoaXMub25lb2YsXCJjb21tZW50XCIsdD90aGlzLmNvbW1lbnQ6dW5kZWZpbmVkXSl9LGEucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBpKSl0aHJvdyBUeXBlRXJyb3IoXCJmaWVsZCBtdXN0IGJlIGEgRmllbGRcIik7cmV0dXJuIGUucGFyZW50JiZlLnBhcmVudCE9PXRoaXMucGFyZW50JiZlLnBhcmVudC5yZW1vdmUoZSksdGhpcy5vbmVvZi5wdXNoKGUubmFtZSksdGhpcy5maWVsZHNBcnJheS5wdXNoKGUpLGUucGFydE9mPXRoaXMscyh0aGlzKSx0aGlzfSxhLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgaSkpdGhyb3cgVHlwZUVycm9yKFwiZmllbGQgbXVzdCBiZSBhIEZpZWxkXCIpO3ZhciB0PXRoaXMuZmllbGRzQXJyYXkuaW5kZXhPZihlKTtpZih0PDApdGhyb3cgRXJyb3IoZStcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIrdGhpcyk7cmV0dXJuIHRoaXMuZmllbGRzQXJyYXkuc3BsaWNlKHQsMSksKHQ9dGhpcy5vbmVvZi5pbmRleE9mKGUubmFtZSkpPi0xJiZ0aGlzLm9uZW9mLnNwbGljZSh0LDEpLGUucGFydE9mPW51bGwsdGhpc30sYS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24oZSl7ci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLGUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5vbmVvZi5sZW5ndGg7Kyt0KXt2YXIgbj1lLmdldCh0aGlzLm9uZW9mW3RdKTtuJiYhbi5wYXJ0T2YmJihuLnBhcnRPZj10aGlzLHRoaXMuZmllbGRzQXJyYXkucHVzaChuKSl9cyh0aGlzKX0sYS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MDtuPHRoaXMuZmllbGRzQXJyYXkubGVuZ3RoOysrbikodD10aGlzLmZpZWxkc0FycmF5W25dKS5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KTtyLnByb3RvdHlwZS5vblJlbW92ZS5jYWxsKHRoaXMsZSl9LGEuZD1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDspZVt0XT1hcmd1bWVudHNbdCsrXTtyZXR1cm4gZnVuY3Rpb24odCxuKXtvLmRlY29yYXRlVHlwZSh0LmNvbnN0cnVjdG9yKS5hZGQobmV3IGEobixlKSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7Z2V0Om8ub25lT2ZHZXR0ZXIoZSksc2V0Om8ub25lT2ZTZXR0ZXIoZSl9KX19fSx7MTU6MTUsMjI6MjIsMzM6MzN9XSwyNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1jO3ZhciByLGk9ZSgzNSksbz1pLkxvbmdCaXRzLGE9aS51dGY4O2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm4gUmFuZ2VFcnJvcihcImluZGV4IG91dCBvZiByYW5nZTogXCIrZS5wb3MrXCIgKyBcIisodHx8MSkrXCIgPiBcIitlLmxlbil9ZnVuY3Rpb24gYyhlKXt0aGlzLmJ1Zj1lLHRoaXMucG9zPTAsdGhpcy5sZW49ZS5sZW5ndGh9dmFyIGQsdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbmV3IGMoZSk7dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKX06ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbmV3IGMoZSk7dGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKX0sbD1mdW5jdGlvbigpe3JldHVybiBpLkJ1ZmZlcj9mdW5jdGlvbihlKXtyZXR1cm4oYy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuQnVmZmVyLmlzQnVmZmVyKGUpP25ldyByKGUpOnUoZSl9KShlKX06dX07ZnVuY3Rpb24gZigpe3ZhciBlPW5ldyBvKDAsMCksdD0wO2lmKCEodGhpcy5sZW4tdGhpcy5wb3M+NCkpe2Zvcig7dDwzOysrdCl7aWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IHModGhpcyk7aWYoZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcqdCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZX1yZXR1cm4gZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zKytdKTw8Nyp0KT4+PjAsZX1mb3IoO3Q8NDsrK3QpaWYoZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcqdCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZTtpZihlLmxvPShlLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8MjgpPj4+MCxlLmhpPShlLmhpfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKT4+NCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZTtpZih0PTAsdGhpcy5sZW4tdGhpcy5wb3M+NCl7Zm9yKDt0PDU7Kyt0KWlmKGUuaGk9KGUuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQrMyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZX1lbHNlIGZvcig7dDw1OysrdCl7aWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IHModGhpcyk7aWYoZS5oaT0oZS5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcqdCszKT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBlfXRocm93IEVycm9yKFwiaW52YWxpZCB2YXJpbnQgZW5jb2RpbmdcIil9ZnVuY3Rpb24gcChlLHQpe3JldHVybihlW3QtNF18ZVt0LTNdPDw4fGVbdC0yXTw8MTZ8ZVt0LTFdPDwyNCk+Pj4wfWZ1bmN0aW9uIGcoKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IHModGhpcyw4KTtyZXR1cm4gbmV3IG8ocCh0aGlzLmJ1Zix0aGlzLnBvcys9NCkscCh0aGlzLmJ1Zix0aGlzLnBvcys9NCkpfWMuY3JlYXRlPWwoKSxjLnByb3RvdHlwZS5fc2xpY2U9aS5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXl8fGkuQXJyYXkucHJvdG90eXBlLnNsaWNlLGMucHJvdG90eXBlLnVpbnQzMj0oZD00Mjk0OTY3Mjk1LGZ1bmN0aW9uKCl7aWYoZD0oMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtpZihkPShkfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8Nyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtpZihkPShkfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8MTQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGQ7aWYoZD0oZHwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDIxKT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBkO2lmKGQ9KGR8KDE1JnRoaXMuYnVmW3RoaXMucG9zXSk8PDI4KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBkO2lmKCh0aGlzLnBvcys9NSk+dGhpcy5sZW4pdGhyb3cgdGhpcy5wb3M9dGhpcy5sZW4scyh0aGlzLDEwKTtyZXR1cm4gZH0pLGMucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDB8dGhpcy51aW50MzIoKX0sYy5wcm90b3R5cGUuc2ludDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKTtyZXR1cm4gZT4+PjFeLSgxJmUpfDB9LGMucHJvdG90eXBlLmJvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMudWludDMyKCl9LGMucHJvdG90eXBlLmZpeGVkMzI9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys0PnRoaXMubGVuKXRocm93IHModGhpcyw0KTtyZXR1cm4gcCh0aGlzLmJ1Zix0aGlzLnBvcys9NCl9LGMucHJvdG90eXBlLnNmaXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBzKHRoaXMsNCk7cmV0dXJuIDB8cCh0aGlzLmJ1Zix0aGlzLnBvcys9NCl9LGMucHJvdG90eXBlLmZsb2F0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBzKHRoaXMsNCk7dmFyIGU9aS5mbG9hdC5yZWFkRmxvYXRMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGV9LGMucHJvdG90eXBlLmRvdWJsZT1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzg+dGhpcy5sZW4pdGhyb3cgcyh0aGlzLDQpO3ZhciBlPWkuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0sYy5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVpbnQzMigpLHQ9dGhpcy5wb3Msbj10aGlzLnBvcytlO2lmKG4+dGhpcy5sZW4pdGhyb3cgcyh0aGlzLGUpO3JldHVybiB0aGlzLnBvcys9ZSxBcnJheS5pc0FycmF5KHRoaXMuYnVmKT90aGlzLmJ1Zi5zbGljZSh0LG4pOnQ9PT1uP25ldyB0aGlzLmJ1Zi5jb25zdHJ1Y3RvcigwKTp0aGlzLl9zbGljZS5jYWxsKHRoaXMuYnVmLHQsbil9LGMucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnl0ZXMoKTtyZXR1cm4gYS5yZWFkKGUsMCxlLmxlbmd0aCl9LGMucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2lmKHRoaXMucG9zK2U+dGhpcy5sZW4pdGhyb3cgcyh0aGlzLGUpO3RoaXMucG9zKz1lfWVsc2UgZG97aWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IHModGhpcyl9d2hpbGUoMTI4JnRoaXMuYnVmW3RoaXMucG9zKytdKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuc2tpcFR5cGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLnNraXAoKTticmVhaztjYXNlIDE6dGhpcy5za2lwKDgpO2JyZWFrO2Nhc2UgMjp0aGlzLnNraXAodGhpcy51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmZvcig7NCE9KGU9NyZ0aGlzLnVpbnQzMigpKTspdGhpcy5za2lwVHlwZShlKTticmVhaztjYXNlIDU6dGhpcy5za2lwKDQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJpbnZhbGlkIHdpcmUgdHlwZSBcIitlK1wiIGF0IG9mZnNldCBcIit0aGlzLnBvcyl9cmV0dXJuIHRoaXN9LGMuX2NvbmZpZ3VyZT1mdW5jdGlvbihlKXtyPWUsYy5jcmVhdGU9bCgpLHIuX2NvbmZpZ3VyZSgpO3ZhciB0PWkuTG9uZz9cInRvTG9uZ1wiOlwidG9OdW1iZXJcIjtpLm1lcmdlKGMucHJvdG90eXBlLHtpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBmLmNhbGwodGhpcylbdF0oITEpfSx1aW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpW3RdKCEwKX0sc2ludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzKS56ekRlY29kZSgpW3RdKCExKX0sZml4ZWQ2NDpmdW5jdGlvbigpe3JldHVybiBnLmNhbGwodGhpcylbdF0oITApfSxzZml4ZWQ2NDpmdW5jdGlvbigpe3JldHVybiBnLmNhbGwodGhpcylbdF0oITEpfX0pfX0sezM1OjM1fV0sMjU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9bzt2YXIgcj1lKDI0KTsoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIGk9ZSgzNSk7ZnVuY3Rpb24gbyhlKXtyLmNhbGwodGhpcyxlKX1vLl9jb25maWd1cmU9ZnVuY3Rpb24oKXtpLkJ1ZmZlciYmKG8ucHJvdG90eXBlLl9zbGljZT1pLkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpfSxvLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnVpbnQzMigpO3JldHVybiB0aGlzLmJ1Zi51dGY4U2xpY2U/dGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2UsdGhpcy5sZW4pKTp0aGlzLmJ1Zi50b1N0cmluZyhcInV0Zi04XCIsdGhpcy5wb3MsdGhpcy5wb3M9TWF0aC5taW4odGhpcy5wb3MrZSx0aGlzLmxlbikpfSxvLl9jb25maWd1cmUoKX0sezI0OjI0LDM1OjM1fV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9bDt2YXIgcj1lKDIxKTsoKGwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1sKS5jbGFzc05hbWU9XCJSb290XCI7dmFyIGksbyxhLHM9ZSgxNSksYz1lKDE0KSxkPWUoMjMpLHU9ZSgzMyk7ZnVuY3Rpb24gbChlKXtyLmNhbGwodGhpcyxcIlwiLGUpLHRoaXMuZGVmZXJyZWQ9W10sdGhpcy5maWxlcz1bXX1mdW5jdGlvbiBmKCl7fWwuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9bmV3IGwpLGUub3B0aW9ucyYmdC5zZXRPcHRpb25zKGUub3B0aW9ucyksdC5hZGRKU09OKGUubmVzdGVkKX0sbC5wcm90b3R5cGUucmVzb2x2ZVBhdGg9dS5wYXRoLnJlc29sdmUsbC5wcm90b3R5cGUuZmV0Y2g9dS5mZXRjaCxsLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIGUodCxuLHIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyPW4sbj11bmRlZmluZWQpO3ZhciBpPXRoaXM7aWYoIXIpcmV0dXJuIHUuYXNQcm9taXNlKGUsaSx0LG4pO3ZhciBzPXI9PT1mO2Z1bmN0aW9uIGMoZSx0KXtpZihyKXt2YXIgbj1yO2lmKHI9bnVsbCxzKXRocm93IGU7bihlLHQpfX1mdW5jdGlvbiBkKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoXCJnb29nbGUvcHJvdG9idWYvXCIpO2lmKHQ+LTEpe3ZhciBuPWUuc3Vic3RyaW5nKHQpO2lmKG4gaW4gYSlyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGUsdCl7dHJ5e2lmKHUuaXNTdHJpbmcodCkmJlwie1wiPT09dC5jaGFyQXQoMCkmJih0PUpTT04ucGFyc2UodCkpLHUuaXNTdHJpbmcodCkpe28uZmlsZW5hbWU9ZTt2YXIgcixhPW8odCxpLG4pLGw9MDtpZihhLmltcG9ydHMpZm9yKDtsPGEuaW1wb3J0cy5sZW5ndGg7KytsKShyPWQoYS5pbXBvcnRzW2xdKXx8aS5yZXNvbHZlUGF0aChlLGEuaW1wb3J0c1tsXSkpJiZwKHIpO2lmKGEud2Vha0ltcG9ydHMpZm9yKGw9MDtsPGEud2Vha0ltcG9ydHMubGVuZ3RoOysrbCkocj1kKGEud2Vha0ltcG9ydHNbbF0pfHxpLnJlc29sdmVQYXRoKGUsYS53ZWFrSW1wb3J0c1tsXSkpJiZwKHIsITApfWVsc2UgaS5zZXRPcHRpb25zKHQub3B0aW9ucykuYWRkSlNPTih0Lm5lc3RlZCl9Y2F0Y2goZSl7YyhlKX1zfHxnfHxjKG51bGwsaSl9ZnVuY3Rpb24gcChlLHQpe2lmKCEoaS5maWxlcy5pbmRleE9mKGUpPi0xKSlpZihpLmZpbGVzLnB1c2goZSksZSBpbiBhKXM/bChlLGFbZV0pOigrK2csc2V0VGltZW91dCgoZnVuY3Rpb24oKXstLWcsbChlLGFbZV0pfSkpKTtlbHNlIGlmKHMpe3ZhciBuO3RyeXtuPXUuZnMucmVhZEZpbGVTeW5jKGUpLnRvU3RyaW5nKFwidXRmOFwiKX1jYXRjaChlKXtyZXR1cm4gdm9pZCh0fHxjKGUpKX1sKGUsbil9ZWxzZSsrZyxpLmZldGNoKGUsKGZ1bmN0aW9uKG4sbyl7LS1nLHImJihuP3Q/Z3x8YyhudWxsLGkpOmMobik6bChlLG8pKX0pKX12YXIgZz0wO3UuaXNTdHJpbmcodCkmJih0PVt0XSk7Zm9yKHZhciBtLGg9MDtoPHQubGVuZ3RoOysraCkobT1pLnJlc29sdmVQYXRoKFwiXCIsdFtoXSkpJiZwKG0pO3JldHVybiBzP2k6KGd8fGMobnVsbCxpKSx1bmRlZmluZWQpfSxsLnByb3RvdHlwZS5sb2FkU3luYz1mdW5jdGlvbihlLHQpe2lmKCF1LmlzTm9kZSl0aHJvdyBFcnJvcihcIm5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIHRoaXMubG9hZChlLHQsZil9LGwucHJvdG90eXBlLnJlc29sdmVBbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmRlZmVycmVkLmxlbmd0aCl0aHJvdyBFcnJvcihcInVucmVzb2x2YWJsZSBleHRlbnNpb25zOiBcIit0aGlzLmRlZmVycmVkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuXCInZXh0ZW5kIFwiK2UuZXh0ZW5kK1wiJyBpbiBcIitlLnBhcmVudC5mdWxsTmFtZX0pKS5qb2luKFwiLCBcIikpO3JldHVybiByLnByb3RvdHlwZS5yZXNvbHZlQWxsLmNhbGwodGhpcyl9O3ZhciBwPS9eW0EtWl0vO2Z1bmN0aW9uIGcoZSx0KXt2YXIgbj10LnBhcmVudC5sb29rdXAodC5leHRlbmQpO2lmKG4pe3ZhciByPW5ldyBzKHQuZnVsbE5hbWUsdC5pZCx0LnR5cGUsdC5ydWxlLHVuZGVmaW5lZCx0Lm9wdGlvbnMpO3JldHVybiByLmRlY2xhcmluZ0ZpZWxkPXQsdC5leHRlbnNpb25GaWVsZD1yLG4uYWRkKHIpLCEwfXJldHVybiExfWwucHJvdG90eXBlLl9oYW5kbGVBZGQ9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHMpZS5leHRlbmQ9PT11bmRlZmluZWR8fGUuZXh0ZW5zaW9uRmllbGR8fGcoMCxlKXx8dGhpcy5kZWZlcnJlZC5wdXNoKGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGMpcC50ZXN0KGUubmFtZSkmJihlLnBhcmVudFtlLm5hbWVdPWUudmFsdWVzKTtlbHNlIGlmKCEoZSBpbnN0YW5jZW9mIGQpKXtpZihlIGluc3RhbmNlb2YgaSlmb3IodmFyIHQ9MDt0PHRoaXMuZGVmZXJyZWQubGVuZ3RoOylnKDAsdGhpcy5kZWZlcnJlZFt0XSk/dGhpcy5kZWZlcnJlZC5zcGxpY2UodCwxKTorK3Q7Zm9yKHZhciBuPTA7bjxlLm5lc3RlZEFycmF5Lmxlbmd0aDsrK24pdGhpcy5faGFuZGxlQWRkKGUuX25lc3RlZEFycmF5W25dKTtwLnRlc3QoZS5uYW1lKSYmKGUucGFyZW50W2UubmFtZV09ZSl9fSxsLnByb3RvdHlwZS5faGFuZGxlUmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBzKXtpZihlLmV4dGVuZCE9PXVuZGVmaW5lZClpZihlLmV4dGVuc2lvbkZpZWxkKWUuZXh0ZW5zaW9uRmllbGQucGFyZW50LnJlbW92ZShlLmV4dGVuc2lvbkZpZWxkKSxlLmV4dGVuc2lvbkZpZWxkPW51bGw7ZWxzZXt2YXIgdD10aGlzLmRlZmVycmVkLmluZGV4T2YoZSk7dD4tMSYmdGhpcy5kZWZlcnJlZC5zcGxpY2UodCwxKX19ZWxzZSBpZihlIGluc3RhbmNlb2YgYylwLnRlc3QoZS5uYW1lKSYmZGVsZXRlIGUucGFyZW50W2UubmFtZV07ZWxzZSBpZihlIGluc3RhbmNlb2Ygcil7Zm9yKHZhciBuPTA7bjxlLm5lc3RlZEFycmF5Lmxlbmd0aDsrK24pdGhpcy5faGFuZGxlUmVtb3ZlKGUuX25lc3RlZEFycmF5W25dKTtwLnRlc3QoZS5uYW1lKSYmZGVsZXRlIGUucGFyZW50W2UubmFtZV19fSxsLl9jb25maWd1cmU9ZnVuY3Rpb24oZSx0LG4pe2k9ZSxvPXQsYT1ufX0sezE0OjE0LDE1OjE1LDIxOjIxLDIzOjIzLDMzOjMzfV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e319LHt9XSwyODpbZnVuY3Rpb24oZSx0LG4pe24uU2VydmljZT1lKDI5KX0sezI5OjI5fV0sMjk6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9aTt2YXIgcj1lKDM1KTtmdW5jdGlvbiBpKGUsdCxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcInJwY0ltcGwgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3IuRXZlbnRFbWl0dGVyLmNhbGwodGhpcyksdGhpcy5ycGNJbXBsPWUsdGhpcy5yZXF1ZXN0RGVsaW1pdGVkPUJvb2xlYW4odCksdGhpcy5yZXNwb25zZURlbGltaXRlZD1Cb29sZWFuKG4pfShpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUucnBjQ2FsbD1mdW5jdGlvbiBlKHQsbixpLG8sYSl7aWYoIW8pdGhyb3cgVHlwZUVycm9yKFwicmVxdWVzdCBtdXN0IGJlIHNwZWNpZmllZFwiKTt2YXIgcz10aGlzO2lmKCFhKXJldHVybiByLmFzUHJvbWlzZShlLHMsdCxuLGksbyk7aWYoIXMucnBjSW1wbClyZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKXthKEVycm9yKFwiYWxyZWFkeSBlbmRlZFwiKSl9KSwwKSx1bmRlZmluZWQ7dHJ5e3JldHVybiBzLnJwY0ltcGwodCxuW3MucmVxdWVzdERlbGltaXRlZD9cImVuY29kZURlbGltaXRlZFwiOlwiZW5jb2RlXCJdKG8pLmZpbmlzaCgpLChmdW5jdGlvbihlLG4pe2lmKGUpcmV0dXJuIHMuZW1pdChcImVycm9yXCIsZSx0KSxhKGUpO2lmKG51bGw9PT1uKXJldHVybiBzLmVuZCghMCksdW5kZWZpbmVkO2lmKCEobiBpbnN0YW5jZW9mIGkpKXRyeXtuPWlbcy5yZXNwb25zZURlbGltaXRlZD9cImRlY29kZURlbGltaXRlZFwiOlwiZGVjb2RlXCJdKG4pfWNhdGNoKGUpe3JldHVybiBzLmVtaXQoXCJlcnJvclwiLGUsdCksYShlKX1yZXR1cm4gcy5lbWl0KFwiZGF0YVwiLG4sdCksYShudWxsLG4pfSkpfWNhdGNoKGUpe3JldHVybiBzLmVtaXQoXCJlcnJvclwiLGUsdCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXthKGUpfSksMCksdW5kZWZpbmVkfX0saS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJwY0ltcGwmJihlfHx0aGlzLnJwY0ltcGwobnVsbCxudWxsLG51bGwpLHRoaXMucnBjSW1wbD1udWxsLHRoaXMuZW1pdChcImVuZFwiKS5vZmYoKSksdGhpc319LHszNTozNX1dLDMwOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXM7dmFyIHI9ZSgyMSk7KChzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cykuY2xhc3NOYW1lPVwiU2VydmljZVwiO3ZhciBpPWUoMjApLG89ZSgzMyksYT1lKDI4KTtmdW5jdGlvbiBzKGUsdCl7ci5jYWxsKHRoaXMsZSx0KSx0aGlzLm1ldGhvZHM9e30sdGhpcy5fbWV0aG9kc0FycmF5PW51bGx9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZS5fbWV0aG9kc0FycmF5PW51bGwsZX1zLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHMoZSx0Lm9wdGlvbnMpO2lmKHQubWV0aG9kcylmb3IodmFyIHI9T2JqZWN0LmtleXModC5tZXRob2RzKSxvPTA7bzxyLmxlbmd0aDsrK28pbi5hZGQoaS5mcm9tSlNPTihyW29dLHQubWV0aG9kc1tyW29dXSkpO3JldHVybiB0Lm5lc3RlZCYmbi5hZGRKU09OKHQubmVzdGVkKSxuLmNvbW1lbnQ9dC5jb21tZW50LG59LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD1yLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLGUpLG49ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gby50b09iamVjdChbXCJvcHRpb25zXCIsdCYmdC5vcHRpb25zfHx1bmRlZmluZWQsXCJtZXRob2RzXCIsci5hcnJheVRvSlNPTih0aGlzLm1ldGhvZHNBcnJheSxlKXx8e30sXCJuZXN0ZWRcIix0JiZ0Lm5lc3RlZHx8dW5kZWZpbmVkLFwiY29tbWVudFwiLG4/dGhpcy5jb21tZW50OnVuZGVmaW5lZF0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJtZXRob2RzQXJyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21ldGhvZHNBcnJheXx8KHRoaXMuX21ldGhvZHNBcnJheT1vLnRvQXJyYXkodGhpcy5tZXRob2RzKSl9fSkscy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1ldGhvZHNbZV18fHIucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsZSl9LHMucHJvdG90eXBlLnJlc29sdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5tZXRob2RzQXJyYXksdD0wO3Q8ZS5sZW5ndGg7Kyt0KWVbdF0ucmVzb2x2ZSgpO3JldHVybiByLnByb3RvdHlwZS5yZXNvbHZlLmNhbGwodGhpcyl9LHMucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtpZih0aGlzLmdldChlLm5hbWUpKXRocm93IEVycm9yKFwiZHVwbGljYXRlIG5hbWUgJ1wiK2UubmFtZStcIicgaW4gXCIrdGhpcyk7cmV0dXJuIGUgaW5zdGFuY2VvZiBpPyh0aGlzLm1ldGhvZHNbZS5uYW1lXT1lLGUucGFyZW50PXRoaXMsYyh0aGlzKSk6ci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxlKX0scy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBpKXtpZih0aGlzLm1ldGhvZHNbZS5uYW1lXSE9PWUpdGhyb3cgRXJyb3IoZStcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIrdGhpcyk7cmV0dXJuIGRlbGV0ZSB0aGlzLm1ldGhvZHNbZS5uYW1lXSxlLnBhcmVudD1udWxsLGModGhpcyl9cmV0dXJuIHIucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsZSl9LHMucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGk9bmV3IGEuU2VydmljZShlLHQsbikscz0wO3M8dGhpcy5tZXRob2RzQXJyYXkubGVuZ3RoOysrcyl7dmFyIGM9by5sY0ZpcnN0KChyPXRoaXMuX21ldGhvZHNBcnJheVtzXSkucmVzb2x2ZSgpLm5hbWUpLnJlcGxhY2UoL1teJFxcd19dL2csXCJcIik7aVtjXT1vLmNvZGVnZW4oW1wiclwiLFwiY1wiXSxvLmlzUmVzZXJ2ZWQoYyk/YytcIl9cIjpjKShcInJldHVybiB0aGlzLnJwY0NhbGwobSxxLHMscixjKVwiKSh7bTpyLHE6ci5yZXNvbHZlZFJlcXVlc3RUeXBlLmN0b3IsczpyLnJlc29sdmVkUmVzcG9uc2VUeXBlLmN0b3J9KX1yZXR1cm4gaX19LHsyMDoyMCwyMToyMSwyODoyOCwzMzozM31dLDMxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPUU7dmFyIHI9ZSgyMSk7KChFLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9RSkuY2xhc3NOYW1lPVwiVHlwZVwiO3ZhciBpPWUoMTQpLG89ZSgyMyksYT1lKDE1KSxzPWUoMTgpLGM9ZSgzMCksZD1lKDE5KSx1PWUoMjQpLGw9ZSgzOCksZj1lKDMzKSxwPWUoMTMpLGc9ZSgxMiksbT1lKDM2KSxoPWUoMTEpLHY9ZSgzNyk7ZnVuY3Rpb24gRShlLHQpe3IuY2FsbCh0aGlzLGUsdCksdGhpcy5maWVsZHM9e30sdGhpcy5vbmVvZnM9dW5kZWZpbmVkLHRoaXMuZXh0ZW5zaW9ucz11bmRlZmluZWQsdGhpcy5yZXNlcnZlZD11bmRlZmluZWQsdGhpcy5ncm91cD11bmRlZmluZWQsdGhpcy5fZmllbGRzQnlJZD1udWxsLHRoaXMuX2ZpZWxkc0FycmF5PW51bGwsdGhpcy5fb25lb2ZzQXJyYXk9bnVsbCx0aGlzLl9jdG9yPW51bGx9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZS5fZmllbGRzQnlJZD1lLl9maWVsZHNBcnJheT1lLl9vbmVvZnNBcnJheT1udWxsLGRlbGV0ZSBlLmVuY29kZSxkZWxldGUgZS5kZWNvZGUsZGVsZXRlIGUudmVyaWZ5LGV9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRS5wcm90b3R5cGUse2ZpZWxkc0J5SWQ6e2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX2ZpZWxkc0J5SWQpcmV0dXJuIHRoaXMuX2ZpZWxkc0J5SWQ7dGhpcy5fZmllbGRzQnlJZD17fTtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcy5maWVsZHMpLHQ9MDt0PGUubGVuZ3RoOysrdCl7dmFyIG49dGhpcy5maWVsZHNbZVt0XV0scj1uLmlkO2lmKHRoaXMuX2ZpZWxkc0J5SWRbcl0pdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgaWQgXCIrcitcIiBpbiBcIit0aGlzKTt0aGlzLl9maWVsZHNCeUlkW3JdPW59cmV0dXJuIHRoaXMuX2ZpZWxkc0J5SWR9fSxmaWVsZHNBcnJheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpZWxkc0FycmF5fHwodGhpcy5fZmllbGRzQXJyYXk9Zi50b0FycmF5KHRoaXMuZmllbGRzKSl9fSxvbmVvZnNBcnJheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uZW9mc0FycmF5fHwodGhpcy5fb25lb2ZzQXJyYXk9Zi50b0FycmF5KHRoaXMub25lb2ZzKSl9fSxjdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3Rvcnx8KHRoaXMuY3Rvcj1FLmdlbmVyYXRlQ29uc3RydWN0b3IodGhpcykoKSl9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3RvdHlwZTt0IGluc3RhbmNlb2YgZHx8KChlLnByb3RvdHlwZT1uZXcgZCkuY29uc3RydWN0b3I9ZSxmLm1lcmdlKGUucHJvdG90eXBlLHQpKSxlLiR0eXBlPWUucHJvdG90eXBlLiR0eXBlPXRoaXMsZi5tZXJnZShlLGQsITApLHRoaXMuX2N0b3I9ZTtmb3IodmFyIG49MDtuPHRoaXMuZmllbGRzQXJyYXkubGVuZ3RoOysrbil0aGlzLl9maWVsZHNBcnJheVtuXS5yZXNvbHZlKCk7dmFyIHI9e307Zm9yKG49MDtuPHRoaXMub25lb2ZzQXJyYXkubGVuZ3RoOysrbilyW3RoaXMuX29uZW9mc0FycmF5W25dLnJlc29sdmUoKS5uYW1lXT17Z2V0OmYub25lT2ZHZXR0ZXIodGhpcy5fb25lb2ZzQXJyYXlbbl0ub25lb2YpLHNldDpmLm9uZU9mU2V0dGVyKHRoaXMuX29uZW9mc0FycmF5W25dLm9uZW9mKX07biYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUscil9fX0pLEUuZ2VuZXJhdGVDb25zdHJ1Y3Rvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1mLmNvZGVnZW4oW1wicFwiXSxlLm5hbWUpLHI9MDtyPGUuZmllbGRzQXJyYXkubGVuZ3RoOysrcikodD1lLl9maWVsZHNBcnJheVtyXSkubWFwP24oXCJ0aGlzJXM9e31cIixmLnNhZmVQcm9wKHQubmFtZSkpOnQucmVwZWF0ZWQmJm4oXCJ0aGlzJXM9W11cIixmLnNhZmVQcm9wKHQubmFtZSkpO3JldHVybiBuKFwiaWYocClmb3IodmFyIGtzPU9iamVjdC5rZXlzKHApLGk9MDtpPGtzLmxlbmd0aDsrK2kpaWYocFtrc1tpXV0hPW51bGwpXCIpKFwidGhpc1trc1tpXV09cFtrc1tpXV1cIil9LEUuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRShlLHQub3B0aW9ucyk7bi5leHRlbnNpb25zPXQuZXh0ZW5zaW9ucyxuLnJlc2VydmVkPXQucmVzZXJ2ZWQ7Zm9yKHZhciBkPU9iamVjdC5rZXlzKHQuZmllbGRzKSx1PTA7dTxkLmxlbmd0aDsrK3Upbi5hZGQoKHZvaWQgMCE9PXQuZmllbGRzW2RbdV1dLmtleVR5cGU/cy5mcm9tSlNPTjphLmZyb21KU09OKShkW3VdLHQuZmllbGRzW2RbdV1dKSk7aWYodC5vbmVvZnMpZm9yKGQ9T2JqZWN0LmtleXModC5vbmVvZnMpLHU9MDt1PGQubGVuZ3RoOysrdSluLmFkZChvLmZyb21KU09OKGRbdV0sdC5vbmVvZnNbZFt1XV0pKTtpZih0Lm5lc3RlZClmb3IoZD1PYmplY3Qua2V5cyh0Lm5lc3RlZCksdT0wO3U8ZC5sZW5ndGg7Kyt1KXt2YXIgbD10Lm5lc3RlZFtkW3VdXTtuLmFkZCgobC5pZCE9PXVuZGVmaW5lZD9hLmZyb21KU09OOmwuZmllbGRzIT09dW5kZWZpbmVkP0UuZnJvbUpTT046bC52YWx1ZXMhPT11bmRlZmluZWQ/aS5mcm9tSlNPTjpsLm1ldGhvZHMhPT11bmRlZmluZWQ/Yy5mcm9tSlNPTjpyLmZyb21KU09OKShkW3VdLGwpKX1yZXR1cm4gdC5leHRlbnNpb25zJiZ0LmV4dGVuc2lvbnMubGVuZ3RoJiYobi5leHRlbnNpb25zPXQuZXh0ZW5zaW9ucyksdC5yZXNlcnZlZCYmdC5yZXNlcnZlZC5sZW5ndGgmJihuLnJlc2VydmVkPXQucmVzZXJ2ZWQpLHQuZ3JvdXAmJihuLmdyb3VwPSEwKSx0LmNvbW1lbnQmJihuLmNvbW1lbnQ9dC5jb21tZW50KSxufSxFLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ci5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKSxuPSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIGYudG9PYmplY3QoW1wib3B0aW9uc1wiLHQmJnQub3B0aW9uc3x8dW5kZWZpbmVkLFwib25lb2ZzXCIsci5hcnJheVRvSlNPTih0aGlzLm9uZW9mc0FycmF5LGUpLFwiZmllbGRzXCIsci5hcnJheVRvSlNPTih0aGlzLmZpZWxkc0FycmF5LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuZGVjbGFyaW5nRmllbGR9KSksZSl8fHt9LFwiZXh0ZW5zaW9uc1wiLHRoaXMuZXh0ZW5zaW9ucyYmdGhpcy5leHRlbnNpb25zLmxlbmd0aD90aGlzLmV4dGVuc2lvbnM6dW5kZWZpbmVkLFwicmVzZXJ2ZWRcIix0aGlzLnJlc2VydmVkJiZ0aGlzLnJlc2VydmVkLmxlbmd0aD90aGlzLnJlc2VydmVkOnVuZGVmaW5lZCxcImdyb3VwXCIsdGhpcy5ncm91cHx8dW5kZWZpbmVkLFwibmVzdGVkXCIsdCYmdC5uZXN0ZWR8fHVuZGVmaW5lZCxcImNvbW1lbnRcIixuP3RoaXMuY29tbWVudDp1bmRlZmluZWRdKX0sRS5wcm90b3R5cGUucmVzb2x2ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmZpZWxkc0FycmF5LHQ9MDt0PGUubGVuZ3RoOyllW3QrK10ucmVzb2x2ZSgpO3ZhciBuPXRoaXMub25lb2ZzQXJyYXk7Zm9yKHQ9MDt0PG4ubGVuZ3RoOyluW3QrK10ucmVzb2x2ZSgpO3JldHVybiByLnByb3RvdHlwZS5yZXNvbHZlQWxsLmNhbGwodGhpcyl9LEUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maWVsZHNbZV18fHRoaXMub25lb2ZzJiZ0aGlzLm9uZW9mc1tlXXx8dGhpcy5uZXN0ZWQmJnRoaXMubmVzdGVkW2VdfHxudWxsfSxFLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXQoZS5uYW1lKSl0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIitlLm5hbWUrXCInIGluIFwiK3RoaXMpO2lmKGUgaW5zdGFuY2VvZiBhJiZlLmV4dGVuZD09PXVuZGVmaW5lZCl7aWYodGhpcy5fZmllbGRzQnlJZD90aGlzLl9maWVsZHNCeUlkW2UuaWRdOnRoaXMuZmllbGRzQnlJZFtlLmlkXSl0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBpZCBcIitlLmlkK1wiIGluIFwiK3RoaXMpO2lmKHRoaXMuaXNSZXNlcnZlZElkKGUuaWQpKXRocm93IEVycm9yKFwiaWQgXCIrZS5pZCtcIiBpcyByZXNlcnZlZCBpbiBcIit0aGlzKTtpZih0aGlzLmlzUmVzZXJ2ZWROYW1lKGUubmFtZSkpdGhyb3cgRXJyb3IoXCJuYW1lICdcIitlLm5hbWUrXCInIGlzIHJlc2VydmVkIGluIFwiK3RoaXMpO3JldHVybiBlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlKGUpLHRoaXMuZmllbGRzW2UubmFtZV09ZSxlLm1lc3NhZ2U9dGhpcyxlLm9uQWRkKHRoaXMpLFModGhpcyl9cmV0dXJuIGUgaW5zdGFuY2VvZiBvPyh0aGlzLm9uZW9mc3x8KHRoaXMub25lb2ZzPXt9KSx0aGlzLm9uZW9mc1tlLm5hbWVdPWUsZS5vbkFkZCh0aGlzKSxTKHRoaXMpKTpyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLGUpfSxFLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGEmJmUuZXh0ZW5kPT09dW5kZWZpbmVkKXtpZighdGhpcy5maWVsZHN8fHRoaXMuZmllbGRzW2UubmFtZV0hPT1lKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy5maWVsZHNbZS5uYW1lXSxlLnBhcmVudD1udWxsLGUub25SZW1vdmUodGhpcyksUyh0aGlzKX1pZihlIGluc3RhbmNlb2Ygbyl7aWYoIXRoaXMub25lb2ZzfHx0aGlzLm9uZW9mc1tlLm5hbWVdIT09ZSl0aHJvdyBFcnJvcihlK1wiIGlzIG5vdCBhIG1lbWJlciBvZiBcIit0aGlzKTtyZXR1cm4gZGVsZXRlIHRoaXMub25lb2ZzW2UubmFtZV0sZS5wYXJlbnQ9bnVsbCxlLm9uUmVtb3ZlKHRoaXMpLFModGhpcyl9cmV0dXJuIHIucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsZSl9LEUucHJvdG90eXBlLmlzUmVzZXJ2ZWRJZD1mdW5jdGlvbihlKXtyZXR1cm4gci5pc1Jlc2VydmVkSWQodGhpcy5yZXNlcnZlZCxlKX0sRS5wcm90b3R5cGUuaXNSZXNlcnZlZE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuaXNSZXNlcnZlZE5hbWUodGhpcy5yZXNlcnZlZCxlKX0sRS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jdG9yKGUpfSxFLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmZ1bGxOYW1lLHQ9W10sbj0wO248dGhpcy5maWVsZHNBcnJheS5sZW5ndGg7KytuKXQucHVzaCh0aGlzLl9maWVsZHNBcnJheVtuXS5yZXNvbHZlKCkucmVzb2x2ZWRUeXBlKTt0aGlzLmVuY29kZT1wKHRoaXMpKHtXcml0ZXI6bCx0eXBlczp0LHV0aWw6Zn0pLHRoaXMuZGVjb2RlPWcodGhpcykoe1JlYWRlcjp1LHR5cGVzOnQsdXRpbDpmfSksdGhpcy52ZXJpZnk9bSh0aGlzKSh7dHlwZXM6dCx1dGlsOmZ9KSx0aGlzLmZyb21PYmplY3Q9aC5mcm9tT2JqZWN0KHRoaXMpKHt0eXBlczp0LHV0aWw6Zn0pLHRoaXMudG9PYmplY3Q9aC50b09iamVjdCh0aGlzKSh7dHlwZXM6dCx1dGlsOmZ9KTt2YXIgcj12W2VdO2lmKHIpe3ZhciBpPU9iamVjdC5jcmVhdGUodGhpcyk7aS5mcm9tT2JqZWN0PXRoaXMuZnJvbU9iamVjdCx0aGlzLmZyb21PYmplY3Q9ci5mcm9tT2JqZWN0LmJpbmQoaSksaS50b09iamVjdD10aGlzLnRvT2JqZWN0LHRoaXMudG9PYmplY3Q9ci50b09iamVjdC5iaW5kKGkpfXJldHVybiB0aGlzfSxFLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXR1cCgpLmVuY29kZShlLHQpfSxFLnByb3RvdHlwZS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0JiZ0Lmxlbj90LmZvcmsoKTp0KS5sZGVsaW0oKX0sRS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0dXAoKS5kZWNvZGUoZSx0KX0sRS5wcm90b3R5cGUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdXx8KGU9dS5jcmVhdGUoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEUucHJvdG90eXBlLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXR1cCgpLnZlcmlmeShlKX0sRS5wcm90b3R5cGUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXR1cCgpLmZyb21PYmplY3QoZSl9LEUucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0dXAoKS50b09iamVjdChlLHQpfSxFLmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2YuZGVjb3JhdGVUeXBlKHQsZSl9fX0sezExOjExLDEyOjEyLDEzOjEzLDE0OjE0LDE1OjE1LDE4OjE4LDE5OjE5LDIxOjIxLDIzOjIzLDI0OjI0LDMwOjMwLDMzOjMzLDM2OjM2LDM3OjM3LDM4OjM4fV0sMzI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLGk9ZSgzMyksbz1bXCJkb3VibGVcIixcImZsb2F0XCIsXCJpbnQzMlwiLFwidWludDMyXCIsXCJzaW50MzJcIixcImZpeGVkMzJcIixcInNmaXhlZDMyXCIsXCJpbnQ2NFwiLFwidWludDY0XCIsXCJzaW50NjRcIixcImZpeGVkNjRcIixcInNmaXhlZDY0XCIsXCJib29sXCIsXCJzdHJpbmdcIixcImJ5dGVzXCJdO2Z1bmN0aW9uIGEoZSx0KXt2YXIgbj0wLHI9e307Zm9yKHR8PTA7bjxlLmxlbmd0aDspcltvW24rdF1dPWVbbisrXTtyZXR1cm4gcn1yLmJhc2ljPWEoWzEsNSwwLDAsMCw1LDUsMCwwLDAsMSwxLDAsMiwyXSksci5kZWZhdWx0cz1hKFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwhMSxcIlwiLGkuZW1wdHlBcnJheSxudWxsXSksci5sb25nPWEoWzAsMCwwLDEsMV0sNyksci5tYXBLZXk9YShbMCwwLDAsNSw1LDAsMCwwLDEsMSwwLDJdLDIpLHIucGFja2VkPWEoWzEsNSwwLDAsMCw1LDUsMCwwLDAsMSwxLDBdKX0sezMzOjMzfV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89dC5leHBvcnRzPWUoMzUpLGE9ZSgyNyk7by5jb2RlZ2VuPWUoMyksby5mZXRjaD1lKDUpLG8ucGF0aD1lKDgpLG8uZnM9by5pbnF1aXJlKFwiZnNcIiksby50b0FycmF5PWZ1bmN0aW9uKGUpe2lmKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPW5ldyBBcnJheSh0Lmxlbmd0aCkscj0wO3I8dC5sZW5ndGg7KW5bcl09ZVt0W3IrK11dO3JldHVybiBufXJldHVybltdfSxvLnRvT2JqZWN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDspe3ZhciByPWVbbisrXSxpPWVbbisrXTtpIT09dW5kZWZpbmVkJiYodFtyXT1pKX1yZXR1cm4gdH07dmFyIHM9L1xcXFwvZyxjPS9cIi9nO28uaXNSZXNlcnZlZD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OmRvfGlmfGlufGZvcnxsZXR8bmV3fHRyeXx2YXJ8Y2FzZXxlbHNlfGVudW18ZXZhbHxmYWxzZXxudWxsfHRoaXN8dHJ1ZXx2b2lkfHdpdGh8YnJlYWt8Y2F0Y2h8Y2xhc3N8Y29uc3R8c3VwZXJ8dGhyb3d8d2hpbGV8eWllbGR8ZGVsZXRlfGV4cG9ydHxpbXBvcnR8cHVibGljfHJldHVybnxzdGF0aWN8c3dpdGNofHR5cGVvZnxkZWZhdWx0fGV4dGVuZHN8ZmluYWxseXxwYWNrYWdlfHByaXZhdGV8Y29udGludWV8ZGVidWdnZXJ8ZnVuY3Rpb258YXJndW1lbnRzfGludGVyZmFjZXxwcm90ZWN0ZWR8aW1wbGVtZW50c3xpbnN0YW5jZW9mKSQvLnRlc3QoZSl9LG8uc2FmZVByb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIS9eWyRcXHdfXSskLy50ZXN0KGUpfHxvLmlzUmVzZXJ2ZWQoZSk/J1tcIicrZS5yZXBsYWNlKHMsXCJcXFxcXFxcXFwiKS5yZXBsYWNlKGMsJ1xcXFxcIicpKydcIl0nOlwiLlwiK2V9LG8udWNGaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKX07dmFyIGQ9L18oW2Etel0pL2c7by5jYW1lbENhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyaW5nKDAsMSkrZS5zdWJzdHJpbmcoMSkucmVwbGFjZShkLChmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSl9LG8uY29tcGFyZUZpZWxkc0J5SWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZC10LmlkfSxvLmRlY29yYXRlVHlwZT1mdW5jdGlvbih0LG4pe2lmKHQuJHR5cGUpcmV0dXJuIG4mJnQuJHR5cGUubmFtZSE9PW4mJihvLmRlY29yYXRlUm9vdC5yZW1vdmUodC4kdHlwZSksdC4kdHlwZS5uYW1lPW4sby5kZWNvcmF0ZVJvb3QuYWRkKHQuJHR5cGUpKSx0LiR0eXBlO3J8fChyPWUoMzEpKTt2YXIgaT1uZXcgcihufHx0Lm5hbWUpO3JldHVybiBvLmRlY29yYXRlUm9vdC5hZGQoaSksaS5jdG9yPXQsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCIkdHlwZVwiLHt2YWx1ZTppLGVudW1lcmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCIkdHlwZVwiLHt2YWx1ZTppLGVudW1lcmFibGU6ITF9KSxpfTt2YXIgdT0wO28uZGVjb3JhdGVFbnVtPWZ1bmN0aW9uKHQpe2lmKHQuJHR5cGUpcmV0dXJuIHQuJHR5cGU7aXx8KGk9ZSgxNCkpO3ZhciBuPW5ldyBpKFwiRW51bVwiK3UrKyx0KTtyZXR1cm4gby5kZWNvcmF0ZVJvb3QuYWRkKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiJHR5cGVcIix7dmFsdWU6bixlbnVtZXJhYmxlOiExfSksbn0sby5zZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQsbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiZHN0IG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKCF0KXRocm93IFR5cGVFcnJvcihcInBhdGggbXVzdCBiZSBzcGVjaWZpZWRcIik7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe3ZhciBpPW4uc2hpZnQoKTtpZihuLmxlbmd0aD4wKXRbaV09ZSh0W2ldfHx7fSxuLHIpO2Vsc2V7dmFyIG89dFtpXTtvJiYocj1bXS5jb25jYXQobykuY29uY2F0KHIpKSx0W2ldPXJ9cmV0dXJuIHR9KGUsdD10LnNwbGl0KFwiLlwiKSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJkZWNvcmF0ZVJvb3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVjb3JhdGVkfHwoYS5kZWNvcmF0ZWQ9bmV3KGUoMjYpKSl9fSl9LHsxNDoxNCwyNjoyNiwyNzoyNywzOjMsMzE6MzEsMzU6MzUsNTo1LDg6OH1dLDM0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWk7dmFyIHI9ZSgzNSk7ZnVuY3Rpb24gaShlLHQpe3RoaXMubG89ZT4+PjAsdGhpcy5oaT10Pj4+MH12YXIgbz1pLnplcm89bmV3IGkoMCwwKTtvLnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LG8uenpFbmNvZGU9by56ekRlY29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxvLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiAxfTt2YXIgYT1pLnplcm9IYXNoPVwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7aS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVybiBvO3ZhciB0PWU8MDt0JiYoZT0tZSk7dmFyIG49ZT4+PjAscj0oZS1uKS80Mjk0OTY3Mjk2Pj4+MDtyZXR1cm4gdCYmKHI9fnI+Pj4wLG49fm4+Pj4wLCsrbj40Mjk0OTY3Mjk1JiYobj0wLCsrcj40Mjk0OTY3Mjk1JiYocj0wKSkpLG5ldyBpKG4scil9LGkuZnJvbT1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gaS5mcm9tTnVtYmVyKGUpO2lmKHIuaXNTdHJpbmcoZSkpe2lmKCFyLkxvbmcpcmV0dXJuIGkuZnJvbU51bWJlcihwYXJzZUludChlLDEwKSk7ZT1yLkxvbmcuZnJvbVN0cmluZyhlKX1yZXR1cm4gZS5sb3d8fGUuaGlnaD9uZXcgaShlLmxvdz4+PjAsZS5oaWdoPj4+MCk6b30saS5wcm90b3R5cGUudG9OdW1iZXI9ZnVuY3Rpb24oZSl7aWYoIWUmJnRoaXMuaGk+Pj4zMSl7dmFyIHQ9MSt+dGhpcy5sbz4+PjAsbj1+dGhpcy5oaT4+PjA7cmV0dXJuIHR8fChuPW4rMT4+PjApLC0odCs0Mjk0OTY3Mjk2Km4pfXJldHVybiB0aGlzLmxvKzQyOTQ5NjcyOTYqdGhpcy5oaX0saS5wcm90b3R5cGUudG9Mb25nPWZ1bmN0aW9uKGUpe3JldHVybiByLkxvbmc/bmV3IHIuTG9uZygwfHRoaXMubG8sMHx0aGlzLmhpLEJvb2xlYW4oZSkpOntsb3c6MHx0aGlzLmxvLGhpZ2g6MHx0aGlzLmhpLHVuc2lnbmVkOkJvb2xlYW4oZSl9fTt2YXIgcz1TdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7aS5mcm9tSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWE/bzpuZXcgaSgocy5jYWxsKGUsMCl8cy5jYWxsKGUsMSk8PDh8cy5jYWxsKGUsMik8PDE2fHMuY2FsbChlLDMpPDwyNCk+Pj4wLChzLmNhbGwoZSw0KXxzLmNhbGwoZSw1KTw8OHxzLmNhbGwoZSw2KTw8MTZ8cy5jYWxsKGUsNyk8PDI0KT4+PjApfSxpLnByb3RvdHlwZS50b0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmdGhpcy5sbyx0aGlzLmxvPj4+OCYyNTUsdGhpcy5sbz4+PjE2JjI1NSx0aGlzLmxvPj4+MjQsMjU1JnRoaXMuaGksdGhpcy5oaT4+PjgmMjU1LHRoaXMuaGk+Pj4xNiYyNTUsdGhpcy5oaT4+PjI0KX0saS5wcm90b3R5cGUuenpFbmNvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpPj4zMTtyZXR1cm4gdGhpcy5oaT0oKHRoaXMuaGk8PDF8dGhpcy5sbz4+PjMxKV5lKT4+PjAsdGhpcy5sbz0odGhpcy5sbzw8MV5lKT4+PjAsdGhpc30saS5wcm90b3R5cGUuenpEZWNvZGU9ZnVuY3Rpb24oKXt2YXIgZT0tKDEmdGhpcy5sbyk7cmV0dXJuIHRoaXMubG89KCh0aGlzLmxvPj4+MXx0aGlzLmhpPDwzMSleZSk+Pj4wLHRoaXMuaGk9KHRoaXMuaGk+Pj4xXmUpPj4+MCx0aGlzfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxvLHQ9KHRoaXMubG8+Pj4yOHx0aGlzLmhpPDw0KT4+PjAsbj10aGlzLmhpPj4+MjQ7cmV0dXJuIDA9PT1uPzA9PT10P2U8MTYzODQ/ZTwxMjg/MToyOmU8MjA5NzE1Mj8zOjQ6dDwxNjM4ND90PDEyOD81OjY6dDwyMDk3MTUyPzc6ODpuPDEyOD85OjEwfX0sezM1OjM1fV0sMzU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uO2Z1bmN0aW9uIGkoZSx0LG4pe2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxpPTA7aTxyLmxlbmd0aDsrK2kpZVtyW2ldXSE9PXVuZGVmaW5lZCYmbnx8KGVbcltpXV09dFtyW2ldXSk7cmV0dXJuIGV9ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KGUsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgdCkpcmV0dXJuIG5ldyB0KGUsbik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtZXNzYWdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlfX0pLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdCk6T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzdGFja1wiLHt2YWx1ZToobmV3IEVycm9yKS5zdGFja3x8XCJcIn0pLG4mJmkodGhpcyxuKX1yZXR1cm4odC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj10LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9fSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lK1wiOiBcIit0aGlzLm1lc3NhZ2V9LHR9ci5hc1Byb21pc2U9ZSgxKSxyLmJhc2U2ND1lKDIpLHIuRXZlbnRFbWl0dGVyPWUoNCksci5mbG9hdD1lKDYpLHIuaW5xdWlyZT1lKDcpLHIudXRmOD1lKDEwKSxyLnBvb2w9ZSg5KSxyLkxvbmdCaXRzPWUoMzQpLHIuaXNOb2RlPUJvb2xlYW4odm9pZCAwIT09Z2xvYmFsJiZnbG9iYWwmJmdsb2JhbC5wcm9jZXNzJiZnbG9iYWwucHJvY2Vzcy52ZXJzaW9ucyYmZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMubm9kZSksci5nbG9iYWw9ci5pc05vZGUmJmdsb2JhbHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8dGhpcyxyLmVtcHR5QXJyYXk9T2JqZWN0LmZyZWV6ZT9PYmplY3QuZnJlZXplKFtdKTpbXSxyLmVtcHR5T2JqZWN0PU9iamVjdC5mcmVlemU/T2JqZWN0LmZyZWV6ZSh7fSk6e30sci5pc0ludGVnZXI9TnVtYmVyLmlzSW50ZWdlcnx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX0sci5pc1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ30sci5pc09iamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9LHIuaXNzZXQ9ci5pc1NldD1mdW5jdGlvbihlLHQpe3ZhciBuPWVbdF07cmV0dXJuIShudWxsPT1ufHwhZS5oYXNPd25Qcm9wZXJ0eSh0KSkmJihcIm9iamVjdFwiIT10eXBlb2Ygbnx8KEFycmF5LmlzQXJyYXkobik/bi5sZW5ndGg6T2JqZWN0LmtleXMobikubGVuZ3RoKT4wKX0sci5CdWZmZXI9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9ci5pbnF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcjtyZXR1cm4gZS5wcm90b3R5cGUudXRmOFdyaXRlP2U6bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19KCksci5fQnVmZmVyX2Zyb209bnVsbCxyLl9CdWZmZXJfYWxsb2NVbnNhZmU9bnVsbCxyLm5ld0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9yLkJ1ZmZlcj9yLl9CdWZmZXJfYWxsb2NVbnNhZmUoZSk6bmV3IHIuQXJyYXkoZSk6ci5CdWZmZXI/ci5fQnVmZmVyX2Zyb20oZSk6XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4QXJyYXk/ZTpuZXcgVWludDhBcnJheShlKX0sci5BcnJheT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LHIuTG9uZz1yLmdsb2JhbC5kY29kZUlPJiZyLmdsb2JhbC5kY29kZUlPLkxvbmd8fHIuZ2xvYmFsLkxvbmd8fHIuaW5xdWlyZShcImxvbmdcIiksci5rZXkyUmU9L150cnVlfGZhbHNlfDB8MSQvLHIua2V5MzJSZT0vXi0/KD86MHxbMS05XVswLTldKikkLyxyLmtleTY0UmU9L14oPzpbXFxcXHgwMC1cXFxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvLHIubG9uZ1RvSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gZT9yLkxvbmdCaXRzLmZyb20oZSkudG9IYXNoKCk6ci5Mb25nQml0cy56ZXJvSGFzaH0sci5sb25nRnJvbUhhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLkxvbmdCaXRzLmZyb21IYXNoKGUpO3JldHVybiByLkxvbmc/ci5Mb25nLmZyb21CaXRzKG4ubG8sbi5oaSx0KTpuLnRvTnVtYmVyKEJvb2xlYW4odCkpfSxyLm1lcmdlPWksci5sY0ZpcnN0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyaW5nKDEpfSxyLm5ld0Vycm9yPW8sci5Qcm90b2NvbEVycm9yPW8oXCJQcm90b2NvbEVycm9yXCIpLHIub25lT2ZHZXR0ZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoOysrbil0W2Vbbl1dPTE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHRoaXMpLG49ZS5sZW5ndGgtMTtuPi0xOy0tbilpZigxPT09dFtlW25dXSYmdGhpc1tlW25dXSE9PXVuZGVmaW5lZCYmbnVsbCE9PXRoaXNbZVtuXV0pcmV0dXJuIGVbbl19fSxyLm9uZU9mU2V0dGVyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbillW25dIT09dCYmZGVsZXRlIHRoaXNbZVtuXV19fSxyLnRvSlNPTk9wdGlvbnM9e2xvbmdzOlN0cmluZyxlbnVtczpTdHJpbmcsYnl0ZXM6U3RyaW5nLGpzb246ITB9LHIuX2NvbmZpZ3VyZT1mdW5jdGlvbigpe3ZhciBlPXIuQnVmZmVyO2U/KHIuX0J1ZmZlcl9mcm9tPWUuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSYmZS5mcm9tfHxmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgZSh0LG4pfSxyLl9CdWZmZXJfYWxsb2NVbnNhZmU9ZS5hbGxvY1Vuc2FmZXx8ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSk6ci5fQnVmZmVyX2Zyb209ci5fQnVmZmVyX2FsbG9jVW5zYWZlPW51bGx9fSx7MToxLDEwOjEwLDI6MiwzNDozNCw0OjQsNjo2LDc6Nyw5Ojl9XSwzNjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLmNvZGVnZW4oW1wibVwiXSxlLm5hbWUrXCIkdmVyaWZ5XCIpKCdpZih0eXBlb2YgbSE9PVwib2JqZWN0XCJ8fG09PT1udWxsKScpKFwicmV0dXJuJWpcIixcIm9iamVjdCBleHBlY3RlZFwiKSxuPWUub25lb2ZzQXJyYXkscj17fTtuLmxlbmd0aCYmdChcInZhciBwPXt9XCIpO2Zvcih2YXIgYz0wO2M8ZS5maWVsZHNBcnJheS5sZW5ndGg7KytjKXt2YXIgZD1lLl9maWVsZHNBcnJheVtjXS5yZXNvbHZlKCksdT1cIm1cIitpLnNhZmVQcm9wKGQubmFtZSk7aWYoZC5vcHRpb25hbCYmdChcImlmKCVzIT1udWxsJiZtLmhhc093blByb3BlcnR5KCVqKSl7XCIsdSxkLm5hbWUpLGQubWFwKXQoXCJpZighdXRpbC5pc09iamVjdCglcykpXCIsdSkoXCJyZXR1cm4lalwiLG8oZCxcIm9iamVjdFwiKSkoXCJ2YXIgaz1PYmplY3Qua2V5cyglcylcIix1KShcImZvcih2YXIgaT0wO2k8ay5sZW5ndGg7KytpKXtcIikscyh0LGQsXCJrW2ldXCIpLGEodCxkLGMsdStcIltrW2ldXVwiKShcIn1cIik7ZWxzZSBpZihkLnJlcGVhdGVkKXQoXCJpZighQXJyYXkuaXNBcnJheSglcykpXCIsdSkoXCJyZXR1cm4lalwiLG8oZCxcImFycmF5XCIpKShcImZvcih2YXIgaT0wO2k8JXMubGVuZ3RoOysraSl7XCIsdSksYSh0LGQsYyx1K1wiW2ldXCIpKFwifVwiKTtlbHNle2lmKGQucGFydE9mKXt2YXIgbD1pLnNhZmVQcm9wKGQucGFydE9mLm5hbWUpOzE9PT1yW2QucGFydE9mLm5hbWVdJiZ0KFwiaWYocCVzPT09MSlcIixsKShcInJldHVybiVqXCIsZC5wYXJ0T2YubmFtZStcIjogbXVsdGlwbGUgdmFsdWVzXCIpLHJbZC5wYXJ0T2YubmFtZV09MSx0KFwicCVzPTFcIixsKX1hKHQsZCxjLHUpfWQub3B0aW9uYWwmJnQoXCJ9XCIpfXJldHVybiB0KFwicmV0dXJuIG51bGxcIil9O3ZhciByPWUoMTQpLGk9ZSgzMyk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlLm5hbWUrXCI6IFwiK3QrKGUucmVwZWF0ZWQmJlwiYXJyYXlcIiE9PXQ/XCJbXVwiOmUubWFwJiZcIm9iamVjdFwiIT09dD9cIntrOlwiK2Uua2V5VHlwZStcIn1cIjpcIlwiKStcIiBleHBlY3RlZFwifWZ1bmN0aW9uIGEoZSx0LG4saSl7aWYodC5yZXNvbHZlZFR5cGUpaWYodC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiByKXtlKFwic3dpdGNoKCVzKXtcIixpKShcImRlZmF1bHQ6XCIpKFwicmV0dXJuJWpcIixvKHQsXCJlbnVtIHZhbHVlXCIpKTtmb3IodmFyIGE9T2JqZWN0LmtleXModC5yZXNvbHZlZFR5cGUudmFsdWVzKSxzPTA7czxhLmxlbmd0aDsrK3MpZShcImNhc2UgJWk6XCIsdC5yZXNvbHZlZFR5cGUudmFsdWVzW2Fbc11dKTtlKFwiYnJlYWtcIikoXCJ9XCIpfWVsc2UgZShcIntcIikoXCJ2YXIgZT10eXBlc1slaV0udmVyaWZ5KCVzKTtcIixuLGkpKFwiaWYoZSlcIikoXCJyZXR1cm4laitlXCIsdC5uYW1lK1wiLlwiKShcIn1cIik7ZWxzZSBzd2l0Y2godC50eXBlKXtjYXNlXCJpbnQzMlwiOmNhc2VcInVpbnQzMlwiOmNhc2VcInNpbnQzMlwiOmNhc2VcImZpeGVkMzJcIjpjYXNlXCJzZml4ZWQzMlwiOmUoXCJpZighdXRpbC5pc0ludGVnZXIoJXMpKVwiLGkpKFwicmV0dXJuJWpcIixvKHQsXCJpbnRlZ2VyXCIpKTticmVhaztjYXNlXCJpbnQ2NFwiOmNhc2VcInVpbnQ2NFwiOmNhc2VcInNpbnQ2NFwiOmNhc2VcImZpeGVkNjRcIjpjYXNlXCJzZml4ZWQ2NFwiOmUoXCJpZighdXRpbC5pc0ludGVnZXIoJXMpJiYhKCVzJiZ1dGlsLmlzSW50ZWdlciglcy5sb3cpJiZ1dGlsLmlzSW50ZWdlciglcy5oaWdoKSkpXCIsaSxpLGksaSkoXCJyZXR1cm4lalwiLG8odCxcImludGVnZXJ8TG9uZ1wiKSk7YnJlYWs7Y2FzZVwiZmxvYXRcIjpjYXNlXCJkb3VibGVcIjplKCdpZih0eXBlb2YgJXMhPT1cIm51bWJlclwiKScsaSkoXCJyZXR1cm4lalwiLG8odCxcIm51bWJlclwiKSk7YnJlYWs7Y2FzZVwiYm9vbFwiOmUoJ2lmKHR5cGVvZiAlcyE9PVwiYm9vbGVhblwiKScsaSkoXCJyZXR1cm4lalwiLG8odCxcImJvb2xlYW5cIikpO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmUoXCJpZighdXRpbC5pc1N0cmluZyglcykpXCIsaSkoXCJyZXR1cm4lalwiLG8odCxcInN0cmluZ1wiKSk7YnJlYWs7Y2FzZVwiYnl0ZXNcIjplKCdpZighKCVzJiZ0eXBlb2YgJXMubGVuZ3RoPT09XCJudW1iZXJcInx8dXRpbC5pc1N0cmluZyglcykpKScsaSxpLGkpKFwicmV0dXJuJWpcIixvKHQsXCJidWZmZXJcIikpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LG4pe3N3aXRjaCh0LmtleVR5cGUpe2Nhc2VcImludDMyXCI6Y2FzZVwidWludDMyXCI6Y2FzZVwic2ludDMyXCI6Y2FzZVwiZml4ZWQzMlwiOmNhc2VcInNmaXhlZDMyXCI6ZShcImlmKCF1dGlsLmtleTMyUmUudGVzdCglcykpXCIsbikoXCJyZXR1cm4lalwiLG8odCxcImludGVnZXIga2V5XCIpKTticmVhaztjYXNlXCJpbnQ2NFwiOmNhc2VcInVpbnQ2NFwiOmNhc2VcInNpbnQ2NFwiOmNhc2VcImZpeGVkNjRcIjpjYXNlXCJzZml4ZWQ2NFwiOmUoXCJpZighdXRpbC5rZXk2NFJlLnRlc3QoJXMpKVwiLG4pKFwicmV0dXJuJWpcIixvKHQsXCJpbnRlZ2VyfExvbmcga2V5XCIpKTticmVhaztjYXNlXCJib29sXCI6ZShcImlmKCF1dGlsLmtleTJSZS50ZXN0KCVzKSlcIixuKShcInJldHVybiVqXCIsbyh0LFwiYm9vbGVhbiBrZXlcIikpfXJldHVybiBlfX0sezE0OjE0LDMzOjMzfV0sMzc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLGk9ZSgxOSk7cltcIi5nb29nbGUucHJvdG9idWYuQW55XCJdPXtmcm9tT2JqZWN0OmZ1bmN0aW9uKGUpe2lmKGUmJmVbXCJAdHlwZVwiXSl7dmFyIHQ9ZVtcIkB0eXBlXCJdLnN1YnN0cmluZyhlW1wiQHR5cGVcIl0ubGFzdEluZGV4T2YoXCIvXCIpKzEpLG49dGhpcy5sb29rdXAodCk7aWYobil7dmFyIHI9XCIuXCI9PT1lW1wiQHR5cGVcIl0uY2hhckF0KDApP2VbXCJAdHlwZVwiXS5zdWJzdHIoMSk6ZVtcIkB0eXBlXCJdO3JldHVybi0xPT09ci5pbmRleE9mKFwiL1wiKSYmKHI9XCIvXCIrciksdGhpcy5jcmVhdGUoe3R5cGVfdXJsOnIsdmFsdWU6bi5lbmNvZGUobi5mcm9tT2JqZWN0KGUpKS5maW5pc2goKX0pfX1yZXR1cm4gdGhpcy5mcm9tT2JqZWN0KGUpfSx0b09iamVjdDpmdW5jdGlvbihlLHQpe3ZhciBuPVwiXCIscj1cIlwiO2lmKHQmJnQuanNvbiYmZS50eXBlX3VybCYmZS52YWx1ZSl7cj1lLnR5cGVfdXJsLnN1YnN0cmluZyhlLnR5cGVfdXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxKSxuPWUudHlwZV91cmwuc3Vic3RyaW5nKDAsZS50eXBlX3VybC5sYXN0SW5kZXhPZihcIi9cIikrMSk7dmFyIG89dGhpcy5sb29rdXAocik7byYmKGU9by5kZWNvZGUoZS52YWx1ZSkpfWlmKCEoZSBpbnN0YW5jZW9mIHRoaXMuY3RvcikmJmUgaW5zdGFuY2VvZiBpKXt2YXIgYT1lLiR0eXBlLnRvT2JqZWN0KGUsdCk7cmV0dXJuXCJcIj09PW4mJihuPVwidHlwZS5nb29nbGVhcGlzLmNvbS9cIikscj1uKyhcIi5cIj09PWUuJHR5cGUuZnVsbE5hbWVbMF0/ZS4kdHlwZS5mdWxsTmFtZS5zdWJzdHIoMSk6ZS4kdHlwZS5mdWxsTmFtZSksYVtcIkB0eXBlXCJdPXIsYX1yZXR1cm4gdGhpcy50b09iamVjdChlLHQpfX19LHsxOToxOX1dLDM4OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWw7dmFyIHIsaT1lKDM1KSxvPWkuTG9uZ0JpdHMsYT1pLmJhc2U2NCxzPWkudXRmODtmdW5jdGlvbiBjKGUsdCxuKXt0aGlzLmZuPWUsdGhpcy5sZW49dCx0aGlzLm5leHQ9dW5kZWZpbmVkLHRoaXMudmFsPW59ZnVuY3Rpb24gZCgpe31mdW5jdGlvbiB1KGUpe3RoaXMuaGVhZD1lLmhlYWQsdGhpcy50YWlsPWUudGFpbCx0aGlzLmxlbj1lLmxlbix0aGlzLm5leHQ9ZS5zdGF0ZXN9ZnVuY3Rpb24gbCgpe3RoaXMubGVuPTAsdGhpcy5oZWFkPW5ldyBjKGQsMCwwKSx0aGlzLnRhaWw9dGhpcy5oZWFkLHRoaXMuc3RhdGVzPW51bGx9dmFyIGY9ZnVuY3Rpb24oKXtyZXR1cm4gaS5CdWZmZXI/ZnVuY3Rpb24oKXtyZXR1cm4obC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJ9KSgpfTpmdW5jdGlvbigpe3JldHVybiBuZXcgbH19O2Z1bmN0aW9uIHAoZSx0LG4pe3Rbbl09MjU1JmV9ZnVuY3Rpb24gZyhlLHQpe3RoaXMubGVuPWUsdGhpcy5uZXh0PXVuZGVmaW5lZCx0aGlzLnZhbD10fWZ1bmN0aW9uIG0oZSx0LG4pe2Zvcig7ZS5oaTspdFtuKytdPTEyNyZlLmxvfDEyOCxlLmxvPShlLmxvPj4+N3xlLmhpPDwyNSk+Pj4wLGUuaGk+Pj49Nztmb3IoO2UubG8+MTI3Oyl0W24rK109MTI3JmUubG98MTI4LGUubG89ZS5sbz4+Pjc7dFtuKytdPWUubG99ZnVuY3Rpb24gaChlLHQsbil7dFtuXT0yNTUmZSx0W24rMV09ZT4+PjgmMjU1LHRbbisyXT1lPj4+MTYmMjU1LHRbbiszXT1lPj4+MjR9bC5jcmVhdGU9ZigpLGwuYWxsb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLkFycmF5KGUpfSxpLkFycmF5IT09QXJyYXkmJihsLmFsbG9jPWkucG9vbChsLmFsbG9jLGkuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSksbC5wcm90b3R5cGUuX3B1c2g9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGMoZSx0LG4pLHRoaXMubGVuKz10LHRoaXN9LGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGcucHJvdG90eXBlLmZuPWZ1bmN0aW9uKGUsdCxuKXtmb3IoO2U+MTI3Oyl0W24rK109MTI3JmV8MTI4LGU+Pj49Nzt0W25dPWV9LGwucHJvdG90eXBlLnVpbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IGcoKGU+Pj49MCk8MTI4PzE6ZTwxNjM4ND8yOmU8MjA5NzE1Mj8zOmU8MjY4NDM1NDU2PzQ6NSxlKSkubGVuLHRoaXN9LGwucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKGUpe3JldHVybiBlPDA/dGhpcy5fcHVzaChtLDEwLG8uZnJvbU51bWJlcihlKSk6dGhpcy51aW50MzIoZSl9LGwucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51aW50MzIoKGU8PDFeZT4+MzEpPj4+MCl9LGwucHJvdG90eXBlLnVpbnQ2ND1mdW5jdGlvbihlKXt2YXIgdD1vLmZyb20oZSk7cmV0dXJuIHRoaXMuX3B1c2gobSx0Lmxlbmd0aCgpLHQpfSxsLnByb3RvdHlwZS5pbnQ2ND1sLnByb3RvdHlwZS51aW50NjQsbC5wcm90b3R5cGUuc2ludDY0PWZ1bmN0aW9uKGUpe3ZhciB0PW8uZnJvbShlKS56ekVuY29kZSgpO3JldHVybiB0aGlzLl9wdXNoKG0sdC5sZW5ndGgoKSx0KX0sbC5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChwLDEsZT8xOjApfSxsLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wdXNoKGgsNCxlPj4+MCl9LGwucHJvdG90eXBlLnNmaXhlZDMyPWwucHJvdG90eXBlLmZpeGVkMzIsbC5wcm90b3R5cGUuZml4ZWQ2ND1mdW5jdGlvbihlKXt2YXIgdD1vLmZyb20oZSk7cmV0dXJuIHRoaXMuX3B1c2goaCw0LHQubG8pLl9wdXNoKGgsNCx0LmhpKX0sbC5wcm90b3R5cGUuc2ZpeGVkNjQ9bC5wcm90b3R5cGUuZml4ZWQ2NCxsLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChpLmZsb2F0LndyaXRlRmxvYXRMRSw0LGUpfSxsLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2goaS5mbG9hdC53cml0ZURvdWJsZUxFLDgsZSl9O3ZhciB2PWkuQXJyYXkucHJvdG90eXBlLnNldD9mdW5jdGlvbihlLHQsbil7dC5zZXQoZSxuKX06ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKXRbbityXT1lW3JdfTtsLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aD4+PjA7aWYoIXQpcmV0dXJuIHRoaXMuX3B1c2gocCwxLDApO2lmKGkuaXNTdHJpbmcoZSkpe3ZhciBuPWwuYWxsb2ModD1hLmxlbmd0aChlKSk7YS5kZWNvZGUoZSxuLDApLGU9bn1yZXR1cm4gdGhpcy51aW50MzIodCkuX3B1c2godix0LGUpfSxsLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9cy5sZW5ndGgoZSk7cmV0dXJuIHQ/dGhpcy51aW50MzIodCkuX3B1c2gocy53cml0ZSx0LGUpOnRoaXMuX3B1c2gocCwxLDApfSxsLnByb3RvdHlwZS5mb3JrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPW5ldyB1KHRoaXMpLHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGMoZCwwLDApLHRoaXMubGVuPTAsdGhpc30sbC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZXM/KHRoaXMuaGVhZD10aGlzLnN0YXRlcy5oZWFkLHRoaXMudGFpbD10aGlzLnN0YXRlcy50YWlsLHRoaXMubGVuPXRoaXMuc3RhdGVzLmxlbix0aGlzLnN0YXRlcz10aGlzLnN0YXRlcy5uZXh0KToodGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgYyhkLDAsMCksdGhpcy5sZW49MCksdGhpc30sbC5wcm90b3R5cGUubGRlbGltPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWFkLHQ9dGhpcy50YWlsLG49dGhpcy5sZW47cmV0dXJuIHRoaXMucmVzZXQoKS51aW50MzIobiksbiYmKHRoaXMudGFpbC5uZXh0PWUubmV4dCx0aGlzLnRhaWw9dCx0aGlzLmxlbis9biksdGhpc30sbC5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaGVhZC5uZXh0LHQ9dGhpcy5jb25zdHJ1Y3Rvci5hbGxvYyh0aGlzLmxlbiksbj0wO2U7KWUuZm4oZS52YWwsdCxuKSxuKz1lLmxlbixlPWUubmV4dDtyZXR1cm4gdH0sbC5fY29uZmlndXJlPWZ1bmN0aW9uKGUpe3I9ZSxsLmNyZWF0ZT1mKCksci5fY29uZmlndXJlKCl9fSx7MzU6MzV9XSwzOTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1vO3ZhciByPWUoMzgpOyhvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bzt2YXIgaT1lKDM1KTtmdW5jdGlvbiBvKCl7ci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGEoZSx0LG4pe2UubGVuZ3RoPDQwP2kudXRmOC53cml0ZShlLHQsbik6dC51dGY4V3JpdGU/dC51dGY4V3JpdGUoZSxuKTp0LndyaXRlKGUsbil9by5fY29uZmlndXJlPWZ1bmN0aW9uKCl7by5hbGxvYz1pLl9CdWZmZXJfYWxsb2NVbnNhZmUsby53cml0ZUJ5dGVzQnVmZmVyPWkuQnVmZmVyJiZpLkJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZcInNldFwiPT09aS5CdWZmZXIucHJvdG90eXBlLnNldC5uYW1lP2Z1bmN0aW9uKGUsdCxuKXt0LnNldChlLG4pfTpmdW5jdGlvbihlLHQsbil7aWYoZS5jb3B5KWUuY29weSh0LG4sMCxlLmxlbmd0aCk7ZWxzZSBmb3IodmFyIHI9MDtyPGUubGVuZ3RoOyl0W24rK109ZVtyKytdfX0sby5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oZSl7aS5pc1N0cmluZyhlKSYmKGU9aS5fQnVmZmVyX2Zyb20oZSxcImJhc2U2NFwiKSk7dmFyIHQ9ZS5sZW5ndGg+Pj4wO3JldHVybiB0aGlzLnVpbnQzMih0KSx0JiZ0aGlzLl9wdXNoKG8ud3JpdGVCeXRlc0J1ZmZlcix0LGUpLHRoaXN9LG8ucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbihlKXt2YXIgdD1pLkJ1ZmZlci5ieXRlTGVuZ3RoKGUpO3JldHVybiB0aGlzLnVpbnQzMih0KSx0JiZ0aGlzLl9wdXNoKGEsdCxlKSx0aGlzfSxvLl9jb25maWd1cmUoKX0sezM1OjM1LDM4OjM4fV19LHt9LFsxNl0pfSgpfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMzMpLF9fd2VicGFja19yZXF1aXJlX18oNjApKG1vZHVsZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLGUud2VicGFja1BvbHlmaWxsPTEpLGV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yO3ZhciBuPW51bGw7dHJ5e249bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTMsMiw5NiwwLDEsMTI3LDk2LDQsMTI3LDEyNywxMjcsMTI3LDEsMTI3LDMsNyw2LDAsMSwxLDEsMSwxLDYsNiwxLDEyNywxLDY1LDAsMTEsNyw1MCw2LDMsMTA5LDExNywxMDgsMCwxLDUsMTAwLDEwNSwxMTgsOTUsMTE1LDAsMiw1LDEwMCwxMDUsMTE4LDk1LDExNywwLDMsNSwxMTQsMTAxLDEwOSw5NSwxMTUsMCw0LDUsMTE0LDEwMSwxMDksOTUsMTE3LDAsNSw4LDEwMywxMDEsMTE2LDk1LDEwNCwxMDUsMTAzLDEwNCwwLDAsMTAsMTkxLDEsNiw0LDAsMzUsMCwxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMjYsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTI3LDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyOCwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMjksMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTMwLDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExXSkpLHt9KS5leHBvcnRzfWNhdGNoKGUpe31mdW5jdGlvbiByKGUsdCxuKXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dCx0aGlzLnVuc2lnbmVkPSEhbn1mdW5jdGlvbiBpKGUpe3JldHVybiEwPT09KGUmJmUuX19pc0xvbmdfXyl9ci5wcm90b3R5cGUuX19pc0xvbmdfXyxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJfX2lzTG9uZ19fXCIse3ZhbHVlOiEwfSksci5pc0xvbmc9aTt2YXIgbz17fSxhPXt9O2Z1bmN0aW9uIHMoZSx0KXt2YXIgbixyLGk7cmV0dXJuIHQ/KGk9MDw9KGU+Pj49MCkmJmU8MjU2KSYmKHI9YVtlXSk/cjoobj1kKGUsKDB8ZSk8MD8tMTowLCEwKSxpJiYoYVtlXT1uKSxuKTooaT0tMTI4PD0oZXw9MCkmJmU8MTI4KSYmKHI9b1tlXSk/cjoobj1kKGUsZTwwPy0xOjAsITEpLGkmJihvW2VdPW4pLG4pfWZ1bmN0aW9uIGMoZSx0KXtpZihpc05hTihlKSlyZXR1cm4gdD9FOnY7aWYodCl7aWYoZTwwKXJldHVybiBFO2lmKGU+PWcpcmV0dXJuIFR9ZWxzZXtpZihlPD0tbSlyZXR1cm4gSTtpZihlKzE+PW0pcmV0dXJuIFJ9cmV0dXJuIGU8MD9jKC1lLHQpLm5lZygpOmQoZSVwfDAsZS9wfDAsdCl9ZnVuY3Rpb24gZChlLHQsbil7cmV0dXJuIG5ldyByKGUsdCxuKX1yLmZyb21JbnQ9cyxyLmZyb21OdW1iZXI9YyxyLmZyb21CaXRzPWQ7dmFyIHU9TWF0aC5wb3c7ZnVuY3Rpb24gbChlLHQsbil7aWYoMD09PWUubGVuZ3RoKXRocm93IEVycm9yKFwiZW1wdHkgc3RyaW5nXCIpO2lmKFwiTmFOXCI9PT1lfHxcIkluZmluaXR5XCI9PT1lfHxcIitJbmZpbml0eVwiPT09ZXx8XCItSW5maW5pdHlcIj09PWUpcmV0dXJuIHY7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQ/KG49dCx0PSExKTp0PSEhdCwobj1ufHwxMCk8Mnx8MzY8bil0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7dmFyIHI7aWYoKHI9ZS5pbmRleE9mKFwiLVwiKSk+MCl0aHJvdyBFcnJvcihcImludGVyaW9yIGh5cGhlblwiKTtpZigwPT09cilyZXR1cm4gbChlLnN1YnN0cmluZygxKSx0LG4pLm5lZygpO2Zvcih2YXIgaT1jKHUobiw4KSksbz12LGE9MDthPGUubGVuZ3RoO2ErPTgpe3ZhciBzPU1hdGgubWluKDgsZS5sZW5ndGgtYSksZD1wYXJzZUludChlLnN1YnN0cmluZyhhLGErcyksbik7aWYoczw4KXt2YXIgZj1jKHUobixzKSk7bz1vLm11bChmKS5hZGQoYyhkKSl9ZWxzZSBvPShvPW8ubXVsKGkpKS5hZGQoYyhkKSl9cmV0dXJuIG8udW5zaWduZWQ9dCxvfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9jKGUsdCk6XCJzdHJpbmdcIj09dHlwZW9mIGU/bChlLHQpOmQoZS5sb3csZS5oaWdoLFwiYm9vbGVhblwiPT10eXBlb2YgdD90OmUudW5zaWduZWQpfXIuZnJvbVN0cmluZz1sLHIuZnJvbVZhbHVlPWY7dmFyIHA9NDI5NDk2NzI5NixnPXAqcCxtPWcvMixoPXMoMTw8MjQpLHY9cygwKTtyLlpFUk89djt2YXIgRT1zKDAsITApO3IuVVpFUk89RTt2YXIgUz1zKDEpO3IuT05FPVM7dmFyIF89cygxLCEwKTtyLlVPTkU9Xzt2YXIgeT1zKC0xKTtyLk5FR19PTkU9eTt2YXIgUj1kKC0xLDIxNDc0ODM2NDcsITEpO3IuTUFYX1ZBTFVFPVI7dmFyIFQ9ZCgtMSwtMSwhMCk7ci5NQVhfVU5TSUdORURfVkFMVUU9VDt2YXIgST1kKDAsLTIxNDc0ODM2NDgsITEpO3IuTUlOX1ZBTFVFPUk7dmFyIGI9ci5wcm90b3R5cGU7Yi50b0ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP3RoaXMubG93Pj4+MDp0aGlzLmxvd30sYi50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkPyh0aGlzLmhpZ2g+Pj4wKSpwKyh0aGlzLmxvdz4+PjApOnRoaXMuaGlnaCpwKyh0aGlzLmxvdz4+PjApfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe2lmKChlPWV8fDEwKTwyfHwzNjxlKXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTtpZih0aGlzLmlzWmVybygpKXJldHVyblwiMFwiO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXtpZih0aGlzLmVxKEkpKXt2YXIgdD1jKGUpLG49dGhpcy5kaXYodCkscj1uLm11bCh0KS5zdWIodGhpcyk7cmV0dXJuIG4udG9TdHJpbmcoZSkrci50b0ludCgpLnRvU3RyaW5nKGUpfXJldHVyblwiLVwiK3RoaXMubmVnKCkudG9TdHJpbmcoZSl9Zm9yKHZhciBpPWModShlLDYpLHRoaXMudW5zaWduZWQpLG89dGhpcyxhPVwiXCI7Oyl7dmFyIHM9by5kaXYoaSksZD0oby5zdWIocy5tdWwoaSkpLnRvSW50KCk+Pj4wKS50b1N0cmluZyhlKTtpZigobz1zKS5pc1plcm8oKSlyZXR1cm4gZCthO2Zvcig7ZC5sZW5ndGg8NjspZD1cIjBcIitkO2E9XCJcIitkK2F9fSxiLmdldEhpZ2hCaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaH0sYi5nZXRIaWdoQml0c1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaD4+PjB9LGIuZ2V0TG93Qml0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvd30sYi5nZXRMb3dCaXRzVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3c+Pj4wfSxiLmdldE51bUJpdHNBYnM9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5lcShJKT82NDp0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtmb3IodmFyIGU9MCE9dGhpcy5oaWdoP3RoaXMuaGlnaDp0aGlzLmxvdyx0PTMxO3Q+MCYmMD09KGUmMTw8dCk7dC0tKTtyZXR1cm4gMCE9dGhpcy5oaWdoP3QrMzM6dCsxfSxiLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oaWdoJiYwPT09dGhpcy5sb3d9LGIuZXF6PWIuaXNaZXJvLGIuaXNOZWdhdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmhpZ2g8MH0sYi5pc1Bvc2l0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWR8fHRoaXMuaGlnaD49MH0sYi5pc09kZD1mdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmxvdyl9LGIuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSgxJnRoaXMubG93KX0sYi5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWYoZSkpLCh0aGlzLnVuc2lnbmVkPT09ZS51bnNpZ25lZHx8dGhpcy5oaWdoPj4+MzEhPTF8fGUuaGlnaD4+PjMxIT0xKSYmKHRoaXMuaGlnaD09PWUuaGlnaCYmdGhpcy5sb3c9PT1lLmxvdyl9LGIuZXE9Yi5lcXVhbHMsYi5ub3RFcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuZXEoZSl9LGIubmVxPWIubm90RXF1YWxzLGIubmU9Yi5ub3RFcXVhbHMsYi5sZXNzVGhhbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPDB9LGIubHQ9Yi5sZXNzVGhhbixiLmxlc3NUaGFuT3JFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPD0wfSxiLmx0ZT1iLmxlc3NUaGFuT3JFcXVhbCxiLmxlPWIubGVzc1RoYW5PckVxdWFsLGIuZ3JlYXRlclRoYW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcChlKT4wfSxiLmd0PWIuZ3JlYXRlclRoYW4sYi5ncmVhdGVyVGhhbk9yRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcChlKT49MH0sYi5ndGU9Yi5ncmVhdGVyVGhhbk9yRXF1YWwsYi5nZT1iLmdyZWF0ZXJUaGFuT3JFcXVhbCxiLmNvbXBhcmU9ZnVuY3Rpb24oZSl7aWYoaShlKXx8KGU9ZihlKSksdGhpcy5lcShlKSlyZXR1cm4gMDt2YXIgdD10aGlzLmlzTmVnYXRpdmUoKSxuPWUuaXNOZWdhdGl2ZSgpO3JldHVybiB0JiYhbj8tMTohdCYmbj8xOnRoaXMudW5zaWduZWQ/ZS5oaWdoPj4+MD50aGlzLmhpZ2g+Pj4wfHxlLmhpZ2g9PT10aGlzLmhpZ2gmJmUubG93Pj4+MD50aGlzLmxvdz4+PjA/LTE6MTp0aGlzLnN1YihlKS5pc05lZ2F0aXZlKCk/LTE6MX0sYi5jb21wPWIuY29tcGFyZSxiLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmVxKEkpP0k6dGhpcy5ub3QoKS5hZGQoUyl9LGIubmVnPWIubmVnYXRlLGIuYWRkPWZ1bmN0aW9uKGUpe2koZSl8fChlPWYoZSkpO3ZhciB0PXRoaXMuaGlnaD4+PjE2LG49NjU1MzUmdGhpcy5oaWdoLHI9dGhpcy5sb3c+Pj4xNixvPTY1NTM1JnRoaXMubG93LGE9ZS5oaWdoPj4+MTYscz02NTUzNSZlLmhpZ2gsYz1lLmxvdz4+PjE2LHU9MCxsPTAscD0wLGc9MDtyZXR1cm4gcCs9KGcrPW8rKDY1NTM1JmUubG93KSk+Pj4xNixsKz0ocCs9citjKT4+PjE2LHUrPShsKz1uK3MpPj4+MTYsdSs9dCthLGQoKHAmPTY1NTM1KTw8MTZ8KGcmPTY1NTM1KSwodSY9NjU1MzUpPDwxNnwobCY9NjU1MzUpLHRoaXMudW5zaWduZWQpfSxiLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1mKGUpKSx0aGlzLmFkZChlLm5lZygpKX0sYi5zdWI9Yi5zdWJ0cmFjdCxiLm11bHRpcGx5PWZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHY7aWYoaShlKXx8KGU9ZihlKSksbilyZXR1cm4gZChuLm11bCh0aGlzLmxvdyx0aGlzLmhpZ2gsZS5sb3csZS5oaWdoKSxuLmdldF9oaWdoKCksdGhpcy51bnNpZ25lZCk7aWYoZS5pc1plcm8oKSlyZXR1cm4gdjtpZih0aGlzLmVxKEkpKXJldHVybiBlLmlzT2RkKCk/STp2O2lmKGUuZXEoSSkpcmV0dXJuIHRoaXMuaXNPZGQoKT9JOnY7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIGUuaXNOZWdhdGl2ZSgpP3RoaXMubmVnKCkubXVsKGUubmVnKCkpOnRoaXMubmVnKCkubXVsKGUpLm5lZygpO2lmKGUuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLm11bChlLm5lZygpKS5uZWcoKTtpZih0aGlzLmx0KGgpJiZlLmx0KGgpKXJldHVybiBjKHRoaXMudG9OdW1iZXIoKSplLnRvTnVtYmVyKCksdGhpcy51bnNpZ25lZCk7dmFyIHQ9dGhpcy5oaWdoPj4+MTYscj02NTUzNSZ0aGlzLmhpZ2gsbz10aGlzLmxvdz4+PjE2LGE9NjU1MzUmdGhpcy5sb3cscz1lLmhpZ2g+Pj4xNix1PTY1NTM1JmUuaGlnaCxsPWUubG93Pj4+MTYscD02NTUzNSZlLmxvdyxnPTAsbT0wLEU9MCxTPTA7cmV0dXJuIEUrPShTKz1hKnApPj4+MTYsbSs9KEUrPW8qcCk+Pj4xNixFJj02NTUzNSxtKz0oRSs9YSpsKT4+PjE2LGcrPShtKz1yKnApPj4+MTYsbSY9NjU1MzUsZys9KG0rPW8qbCk+Pj4xNixtJj02NTUzNSxnKz0obSs9YSp1KT4+PjE2LGcrPXQqcCtyKmwrbyp1K2EqcyxkKChFJj02NTUzNSk8PDE2fChTJj02NTUzNSksKGcmPTY1NTM1KTw8MTZ8KG0mPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0sYi5tdWw9Yi5tdWx0aXBseSxiLmRpdmlkZT1mdW5jdGlvbihlKXtpZihpKGUpfHwoZT1mKGUpKSxlLmlzWmVybygpKXRocm93IEVycm9yKFwiZGl2aXNpb24gYnkgemVyb1wiKTt2YXIgdCxyLG87aWYobilyZXR1cm4gdGhpcy51bnNpZ25lZHx8LTIxNDc0ODM2NDghPT10aGlzLmhpZ2h8fC0xIT09ZS5sb3d8fC0xIT09ZS5oaWdoP2QoKHRoaXMudW5zaWduZWQ/bi5kaXZfdTpuLmRpdl9zKSh0aGlzLmxvdyx0aGlzLmhpZ2gsZS5sb3csZS5oaWdoKSxuLmdldF9oaWdoKCksdGhpcy51bnNpZ25lZCk6dGhpcztpZih0aGlzLmlzWmVybygpKXJldHVybiB0aGlzLnVuc2lnbmVkP0U6djtpZih0aGlzLnVuc2lnbmVkKXtpZihlLnVuc2lnbmVkfHwoZT1lLnRvVW5zaWduZWQoKSksZS5ndCh0aGlzKSlyZXR1cm4gRTtpZihlLmd0KHRoaXMuc2hydSgxKSkpcmV0dXJuIF87bz1FfWVsc2V7aWYodGhpcy5lcShJKSlyZXR1cm4gZS5lcShTKXx8ZS5lcSh5KT9JOmUuZXEoSSk/UzoodD10aGlzLnNocigxKS5kaXYoZSkuc2hsKDEpKS5lcSh2KT9lLmlzTmVnYXRpdmUoKT9TOnk6KHI9dGhpcy5zdWIoZS5tdWwodCkpLG89dC5hZGQoci5kaXYoZSkpKTtpZihlLmVxKEkpKXJldHVybiB0aGlzLnVuc2lnbmVkP0U6djtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gZS5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5kaXYoZS5uZWcoKSk6dGhpcy5uZWcoKS5kaXYoZSkubmVnKCk7aWYoZS5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZGl2KGUubmVnKCkpLm5lZygpO289dn1mb3Iocj10aGlzO3IuZ3RlKGUpOyl7dD1NYXRoLm1heCgxLE1hdGguZmxvb3Ioci50b051bWJlcigpL2UudG9OdW1iZXIoKSkpO2Zvcih2YXIgYT1NYXRoLmNlaWwoTWF0aC5sb2codCkvTWF0aC5MTjIpLHM9YTw9NDg/MTp1KDIsYS00OCksbD1jKHQpLHA9bC5tdWwoZSk7cC5pc05lZ2F0aXZlKCl8fHAuZ3Qocik7KXA9KGw9Yyh0LT1zLHRoaXMudW5zaWduZWQpKS5tdWwoZSk7bC5pc1plcm8oKSYmKGw9Uyksbz1vLmFkZChsKSxyPXIuc3ViKHApfXJldHVybiBvfSxiLmRpdj1iLmRpdmlkZSxiLm1vZHVsbz1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9ZihlKSksbj9kKCh0aGlzLnVuc2lnbmVkP24ucmVtX3U6bi5yZW1fcykodGhpcy5sb3csdGhpcy5oaWdoLGUubG93LGUuaGlnaCksbi5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpOnRoaXMuc3ViKHRoaXMuZGl2KGUpLm11bChlKSl9LGIubW9kPWIubW9kdWxvLGIucmVtPWIubW9kdWxvLGIubm90PWZ1bmN0aW9uKCl7cmV0dXJuIGQofnRoaXMubG93LH50aGlzLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIuYW5kPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1mKGUpKSxkKHRoaXMubG93JmUubG93LHRoaXMuaGlnaCZlLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIub3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWYoZSkpLGQodGhpcy5sb3d8ZS5sb3csdGhpcy5oaWdofGUuaGlnaCx0aGlzLnVuc2lnbmVkKX0sYi54b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWYoZSkpLGQodGhpcy5sb3deZS5sb3csdGhpcy5oaWdoXmUuaGlnaCx0aGlzLnVuc2lnbmVkKX0sYi5zaGlmdExlZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkmJihlPWUudG9JbnQoKSksMD09KGUmPTYzKT90aGlzOmU8MzI/ZCh0aGlzLmxvdzw8ZSx0aGlzLmhpZ2g8PGV8dGhpcy5sb3c+Pj4zMi1lLHRoaXMudW5zaWduZWQpOmQoMCx0aGlzLmxvdzw8ZS0zMix0aGlzLnVuc2lnbmVkKX0sYi5zaGw9Yi5zaGlmdExlZnQsYi5zaGlmdFJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiYoZT1lLnRvSW50KCkpLDA9PShlJj02Myk/dGhpczplPDMyP2QodGhpcy5sb3c+Pj5lfHRoaXMuaGlnaDw8MzItZSx0aGlzLmhpZ2g+PmUsdGhpcy51bnNpZ25lZCk6ZCh0aGlzLmhpZ2g+PmUtMzIsdGhpcy5oaWdoPj0wPzA6LTEsdGhpcy51bnNpZ25lZCl9LGIuc2hyPWIuc2hpZnRSaWdodCxiLnNoaWZ0UmlnaHRVbnNpZ25lZD1mdW5jdGlvbihlKXtpZihpKGUpJiYoZT1lLnRvSW50KCkpLDA9PT0oZSY9NjMpKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuaGlnaDtyZXR1cm4gZTwzMj9kKHRoaXMubG93Pj4+ZXx0PDwzMi1lLHQ+Pj5lLHRoaXMudW5zaWduZWQpOmQoMzI9PT1lP3Q6dD4+PmUtMzIsMCx0aGlzLnVuc2lnbmVkKX0sYi5zaHJ1PWIuc2hpZnRSaWdodFVuc2lnbmVkLGIuc2hyX3U9Yi5zaGlmdFJpZ2h0VW5zaWduZWQsYi50b1NpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP2QodGhpcy5sb3csdGhpcy5oaWdoLCExKTp0aGlzfSxiLnRvVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzOmQodGhpcy5sb3csdGhpcy5oaWdoLCEwKX0sYi50b0J5dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMudG9CeXRlc0xFKCk6dGhpcy50b0J5dGVzQkUoKX0sYi50b0J5dGVzTEU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpZ2gsdD10aGlzLmxvdztyZXR1cm5bMjU1JnQsdD4+PjgmMjU1LHQ+Pj4xNiYyNTUsdD4+PjI0LDI1NSZlLGU+Pj44JjI1NSxlPj4+MTYmMjU1LGU+Pj4yNF19LGIudG9CeXRlc0JFPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oaWdoLHQ9dGhpcy5sb3c7cmV0dXJuW2U+Pj4yNCxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZSx0Pj4+MjQsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnRdfSxyLmZyb21CeXRlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4/ci5mcm9tQnl0ZXNMRShlLHQpOnIuZnJvbUJ5dGVzQkUoZSx0KX0sci5mcm9tQnl0ZXNMRT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlWzBdfGVbMV08PDh8ZVsyXTw8MTZ8ZVszXTw8MjQsZVs0XXxlWzVdPDw4fGVbNl08PDE2fGVbN108PDI0LHQpfSxyLmZyb21CeXRlc0JFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyByKGVbNF08PDI0fGVbNV08PDE2fGVbNl08PDh8ZVs3XSxlWzBdPDwyNHxlWzFdPDwxNnxlWzJdPDw4fGVbM10sdCl9fSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9SlNPTi5wYXJzZSgne1wiUGVlclB1Ymxpc2hTdGF0dXNcIjo0MDgsXCJKb2luQ2hhbm5lbFRpbWVvdXRcIjo0MDcsXCJPblVwZGF0ZVN0cmVhbVwiOjM1NixcIk9uUmVtb3ZlU3RyZWFtXCI6MzU1LFwiT25BZGRWaWRlb1N0cmVhbVwiOjM1MyxcIk9uQWRkQXVkaW9TdHJlYW1cIjozNTIsXCJGaXJzdEF1ZGlvRGVjb2RlXCI6MzUxLFwiRmlyc3RWaWRlb0RlY29kZVwiOjM1MCxcIkZpcnN0QXVkaW9SZWNlaXZlZFwiOjM0OSxcIkZpcnN0VmlkZW9SZWNlaXZlZFwiOjM0OCxcIlJlcVVzZXJBY2NvdW50XCI6MTk2LFwiQXBpSW52b2tlXCI6NDEsXCJSZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyXCI6MzYsXCJSZXF1ZXN0UHJveHlBcHBDZW50ZXJcIjozNSxcIlZpZGVvU2VuZGluZ1N0b3BwZWRcIjozNCxcIkF1ZGlvU2VuZGluZ1N0b3BwZWRcIjozMyxcIlN0cmVhbVN3aXRjaFwiOjMyLFwiRmlyc3RGcmFtZVwiOjMxLFwiUHVibGlzaFwiOjMwLFwiU3Vic2NyaWJlXCI6MjksXCJKb2luR2F0ZXdheVwiOjI4LFwiSm9pbkNob29zZVNlcnZlclwiOjI3LFwiU2Vzc2lvblwiOjI2LFwiQVBXb3JrZXJFdmVudFwiOjE2MCxcIldvcmtlckV2ZW50XCI6MTU2LFwiSm9pbldlYlByb3h5QVBcIjo3MDAsXCJXZWJTb2NrZXRRdWl0XCI6NjcxfScpfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9SlNPTi5wYXJzZSgne1wibmVzdGVkXCI6e1wicHJvdG9idWZcIjp7XCJuZXN0ZWRcIjp7XCJTZXNzaW9uXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwidmVyc2lvblwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJicm93c2VyXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImFwcGlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcIm1vZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTR9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE1fSxcInByb2Nlc3NcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTZ9LFwiYnVpbGRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTd9LFwiaXB2NlwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxOH0sXCJzb3VyY2VIb3N0XCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE5fSxcInNvdXJjZVBhdGhcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MjB9LFwiY29sbGVjdG9ySG9zdFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyMX0sXCJjb2xsZWN0b3JOYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjIyfX19LFwiSm9pbkNob29zZVNlcnZlclwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcImNob29zZVNlcnZlckFkZHJcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwiY2hvb3NlU2VydmVyQWRkckxpc3RcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXJyb3JDb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcImV2ZW50RWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTR9LFwiY2hvb3NlU2VydmVySXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTV9fX0sXCJKb2luR2F0ZXdheVwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcImdhdGV3YXlBZGRyXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjEzfSxcImZpcnN0U3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MTR9fX0sXCJTdWJzY3JpYmVcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJsb2NhbFNkcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJyZW1vdGVTZHBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNH0sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE1fSxcInZpZGVvXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjoxNn0sXCJhdWRpb1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MTd9LFwic3Vic2NyaWJlUmVxdWVzdGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTh9LFwicDJwaWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxOX19fSxcIlB1Ymxpc2hcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJsb2NhbFNkcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJyZW1vdGVTZHBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNH0sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE1fSxcInZpZGVvTmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNn0sXCJhdWRpb05hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTd9LFwic2NyZWVuTmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxOH0sXCJ2aWRlb1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MTl9LFwiYXVkaW9cIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjIwfSxcInB1Ymxpc2hSZXF1ZXN0aWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoyMX0sXCJwMnBpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjIyfSxcInNjcmVlbnNoYXJlXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjoyM319fSxcIkZpcnN0RnJhbWVcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJleHRlbmRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwiZXJyb3JDb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcIndpZHRoXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTN9LFwiaGVpZ2h0XCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTR9fX0sXCJTdHJlYW1Td2l0Y2hcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJpc0R1YWxcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjExfX19LFwiQXVkaW9TZW5kaW5nU3RvcHBlZFwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwicmVhc29uXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX19fSxcIlZpZGVvU2VuZGluZ1N0b3BwZWRcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcInJlYXNvblwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9fX0sXCJSZXF1ZXN0UHJveHlBcHBDZW50ZXJcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJBUEFkZHJcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwid29ya2VyTWFuYWdlckxpc3RcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXJyb3JDb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcImV2ZW50RWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTR9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE1fSxcInJlc3BvbnNlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE2fX19LFwiUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcIndvcmtlck1hbmFnZXJBZGRyXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjEzfSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNH0sXCJyZXNwb25zZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNX19fSxcIkFwaUludm9rZVwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwiYXBpTmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo5fSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJvcHRpb25zXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImV4ZWNFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxMn0sXCJleGVjU3RhdGVzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcImV4ZWNSZXN1bHRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTR9LFwiaW52b2tlSWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxNX19fSxcIlJlcVVzZXJBY2NvdW50XCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6OX0sXCJzZXJ2ZXJBZGRyZXNzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcInN0cmluZ1VpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfX19LFwiRmlyc3RWaWRlb1JlY2VpdmVkXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Mn0sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo0fSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInN1YnNjcmliZVJlcXVlc3RpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjl9LFwicDJwaWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMH0sXCJzdWJzY3JpYmVFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxMX19fSxcIkZpcnN0QXVkaW9SZWNlaXZlZFwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJzdWJzY3JpYmVSZXF1ZXN0aWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjo5fSxcInAycGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTB9LFwic3Vic2NyaWJlRWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTF9fX0sXCJGaXJzdFZpZGVvRGVjb2RlXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInZpZGVvd2lkdGhcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjo5fSxcInZpZGVvaGVpZ2h0XCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTB9LFwic3Vic2NyaWJlUmVxdWVzdGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTF9LFwicDJwaWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMn0sXCJzdWJzY3JpYmVFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxM319fSxcIkZpcnN0QXVkaW9EZWNvZGVcIjp7XCJmaWVsZHNcIjp7XCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjN9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwic3Vic2NyaWJlUmVxdWVzdGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6OX0sXCJwMnBpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjEwfSxcInN1YnNjcmliZUVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjExfX19LFwiT25BZGRBdWRpb1N0cmVhbVwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9fX0sXCJPbkFkZFZpZGVvU3RyZWFtXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N319fSxcIk9uUmVtb3ZlU3RyZWFtXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N319fSxcIk9uVXBkYXRlU3RyZWFtXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N30sXCJhdWRpb1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6OH0sXCJ2aWRlb1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6OX19fSxcIkpvaW5DaGFubmVsVGltZW91dFwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjV9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJ0aW1lb3V0XCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6N319fSxcIlBlZXJQdWJsaXNoU3RhdHVzXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NX0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo3fSxcInBlZXJQdWJsaXNoRHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcImpvaW5DaGFubmVsU3VjY2Vzc0VsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwic3Vic2NyaWJlRWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTB9LFwiYXVkaW90YWdcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMX0sXCJ2aWRlb3RhZ1wiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjEyfSxcInNjcmVlbnNoYXJldGFnXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTN9LFwiZmlyc3R0aW1ldGFnXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTR9fX0sXCJXZWJTb2NrZXRRdWl0XCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NX0sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2NcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjo3fSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo4fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjl9fX0sXCJNZXNzYWdlXCI6e1wiZmllbGRzXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcIm1zZ1wiOntcInR5cGVcIjpcImJ5dGVzXCIsXCJpZFwiOjJ9fX0sXCJQcm90b1Jhd3NcIjp7XCJmaWVsZHNcIjp7XCJzZW5kVHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInBheWxvYWRzXCI6e1wicnVsZVwiOlwicmVwZWF0ZWRcIixcInR5cGVcIjpcIk1lc3NhZ2VcIixcImlkXCI6Mn0sXCJ2aWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjozfX19LFwiQVBXb3JrZXJFdmVudFwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiZWNcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMH0sXCJzY1wiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjExfSxcInNlcnZlcklwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImZpcnN0U3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MTN9LFwicmVzcG9uc2VUaW1lXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTR9LFwic2VydmljZU5hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTV9LFwicmVzcG9uc2VEZXRhaWxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTZ9fX0sXCJXb3JrZXJFdmVudFwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiY29tbWFuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJhY3Rpb25UeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJwYXlsb2FkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEzfSxcInNlcnZlckNvZGVcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxNH0sXCJjb2RlXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTV9LFwidHJhY2VJZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNn0sXCJ3b3JrZXJUeXBlXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTd9LFwicmVzcG9uc2VUaW1lXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTh9LFwicmVxdWVzdElkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTl9LFwicGFja0luZGV4XCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MjB9LFwicmVxdWVzdEJ5VXNlclwiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MjF9LFwidGlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjIyfX19LFwiSm9pbldlYlByb3h5QVBcIjp7XCJmaWVsZHNcIjp7XCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjN9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjZXNzXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo5fSxcImFwU2VydmVyQWRkclwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJ0dXJuU2VydmVyQWRkckxpc3RcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwiZXJyb3JDb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfX19fX19fScpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZSxuPXQuaGFzT3duUHJvcGVydHkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGk9ci5pdGVyYXRvcnx8XCJAQGl0ZXJhdG9yXCIsbz1yLmFzeW5jSXRlcmF0b3J8fFwiQEBhc3luY0l0ZXJhdG9yXCIsYT1yLnRvU3RyaW5nVGFnfHxcIkBAdG9TdHJpbmdUYWdcIjtmdW5jdGlvbiBzKGUsdCxuLHIpe3ZhciBpPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgdT90OnUsbz1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxhPW5ldyBSKHJ8fFtdKTtyZXR1cm4gby5faW52b2tlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1cInN1c3BlbmRlZFN0YXJ0XCI7cmV0dXJuIGZ1bmN0aW9uKGksbyl7aWYoXCJleGVjdXRpbmdcIj09PXIpdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtpZihcImNvbXBsZXRlZFwiPT09cil7aWYoXCJ0aHJvd1wiPT09aSl0aHJvdyBvO3JldHVybiBJKCl9Zm9yKG4ubWV0aG9kPWksbi5hcmc9bzs7KXt2YXIgYT1uLmRlbGVnYXRlO2lmKGEpe3ZhciBzPVMoYSxuKTtpZihzKXtpZihzPT09ZCljb250aW51ZTtyZXR1cm4gc319aWYoXCJuZXh0XCI9PT1uLm1ldGhvZCluLnNlbnQ9bi5fc2VudD1uLmFyZztlbHNlIGlmKFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZihcInN1c3BlbmRlZFN0YXJ0XCI9PT1yKXRocm93IHI9XCJjb21wbGV0ZWRcIixuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlXCJyZXR1cm5cIj09PW4ubWV0aG9kJiZuLmFicnVwdChcInJldHVyblwiLG4uYXJnKTtyPVwiZXhlY3V0aW5nXCI7dmFyIHU9YyhlLHQsbik7aWYoXCJub3JtYWxcIj09PXUudHlwZSl7aWYocj1uLmRvbmU/XCJjb21wbGV0ZWRcIjpcInN1c3BlbmRlZFlpZWxkXCIsdS5hcmc9PT1kKWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOm4uZG9uZX19XCJ0aHJvd1wiPT09dS50eXBlJiYocj1cImNvbXBsZXRlZFwiLG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz11LmFyZyl9fX0oZSxuLGEpLG99ZnVuY3Rpb24gYyhlLHQsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOmV9fX1lLndyYXA9czt2YXIgZD17fTtmdW5jdGlvbiB1KCl7fWZ1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gZigpe312YXIgcD17fTtwW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBnPU9iamVjdC5nZXRQcm90b3R5cGVPZixtPWcmJmcoZyhUKFtdKSkpO20mJm0hPT10JiZuLmNhbGwobSxpKSYmKHA9bSk7dmFyIGg9Zi5wcm90b3R5cGU9dS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwKTtmdW5jdGlvbiB2KGUpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSkpfWZ1bmN0aW9uIEUoZSx0KXt2YXIgcjt0aGlzLl9pbnZva2U9ZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyB0KChmdW5jdGlvbihyLGEpeyFmdW5jdGlvbiByKGksbyxhLHMpe3ZhciBkPWMoZVtpXSxlLG8pO2lmKFwidGhyb3dcIiE9PWQudHlwZSl7dmFyIHU9ZC5hcmcsbD11LnZhbHVlO3JldHVybiBsJiZcIm9iamVjdFwiPT10eXBlb2YgbCYmbi5jYWxsKGwsXCJfX2F3YWl0XCIpP3QucmVzb2x2ZShsLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe3IoXCJuZXh0XCIsZSxhLHMpfSksKGZ1bmN0aW9uKGUpe3IoXCJ0aHJvd1wiLGUsYSxzKX0pKTp0LnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24oZSl7dS52YWx1ZT1lLGEodSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoXCJ0aHJvd1wiLGUsYSxzKX0pKX1zKGQuYXJnKX0oaSxvLHIsYSl9KSl9cmV0dXJuIHI9cj9yLnRoZW4oYSxhKTphKCl9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1lLml0ZXJhdG9yW3QubWV0aG9kXTtpZih2b2lkIDA9PT1uKXtpZih0LmRlbGVnYXRlPW51bGwsXCJ0aHJvd1wiPT09dC5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYodC5tZXRob2Q9XCJyZXR1cm5cIix0LmFyZz12b2lkIDAsUyhlLHQpLFwidGhyb3dcIj09PXQubWV0aG9kKSlyZXR1cm4gZDt0Lm1ldGhvZD1cInRocm93XCIsdC5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIGR9dmFyIHI9YyhuLGUuaXRlcmF0b3IsdC5hcmcpO2lmKFwidGhyb3dcIj09PXIudHlwZSlyZXR1cm4gdC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPXIuYXJnLHQuZGVsZWdhdGU9bnVsbCxkO3ZhciBpPXIuYXJnO3JldHVybiBpP2kuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWkudmFsdWUsdC5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09dC5tZXRob2QmJih0Lm1ldGhvZD1cIm5leHRcIix0LmFyZz12b2lkIDApLHQuZGVsZWdhdGU9bnVsbCxkKTppOih0Lm1ldGhvZD1cInRocm93XCIsdC5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLHQuZGVsZWdhdGU9bnVsbCxkKX1mdW5jdGlvbiBfKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9XCJub3JtYWxcIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gUihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSxlLmZvckVhY2goXyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBUKGUpe2lmKGUpe3ZhciB0PWVbaV07aWYodClyZXR1cm4gdC5jYWxsKGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgcj0tMSxvPWZ1bmN0aW9uIHQoKXtmb3IoOysrcjxlLmxlbmd0aDspaWYobi5jYWxsKGUscikpcmV0dXJuIHQudmFsdWU9ZVtyXSx0LmRvbmU9ITEsdDtyZXR1cm4gdC52YWx1ZT12b2lkIDAsdC5kb25lPSEwLHR9O3JldHVybiBvLm5leHQ9b319cmV0dXJue25leHQ6SX19ZnVuY3Rpb24gSSgpe3JldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19cmV0dXJuIGwucHJvdG90eXBlPWguY29uc3RydWN0b3I9ZixmLmNvbnN0cnVjdG9yPWwsZlthXT1sLmRpc3BsYXlOYW1lPVwiR2VuZXJhdG9yRnVuY3Rpb25cIixlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09bHx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxmKTooZS5fX3Byb3RvX189ZixhIGluIGV8fChlW2FdPVwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaCksZX0sZS5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sdihFLnByb3RvdHlwZSksRS5wcm90b3R5cGVbb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5Bc3luY0l0ZXJhdG9yPUUsZS5hc3luYz1mdW5jdGlvbih0LG4scixpLG8pe3ZvaWQgMD09PW8mJihvPVByb21pc2UpO3ZhciBhPW5ldyBFKHModCxuLHIsaSksbyk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sdihoKSxoW2FdPVwiR2VuZXJhdG9yXCIsaFtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0sZS5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gbigpe2Zvcig7dC5sZW5ndGg7KXt2YXIgcj10LnBvcCgpO2lmKHIgaW4gZSlyZXR1cm4gbi52YWx1ZT1yLG4uZG9uZT0hMSxufXJldHVybiBuLmRvbmU9ITAsbn19LGUudmFsdWVzPVQsUi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlIscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dm9pZCAwLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dm9pZCAwLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHkpLCFlKWZvcih2YXIgdCBpbiB0aGlzKVwidFwiPT09dC5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT12b2lkIDApfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgdD10aGlzO2Z1bmN0aW9uIHIobixyKXtyZXR1cm4gYS50eXBlPVwidGhyb3dcIixhLmFyZz1lLHQubmV4dD1uLHImJih0Lm1ldGhvZD1cIm5leHRcIix0LmFyZz12b2lkIDApLCEhcn1mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbaV0sYT1vLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1vLnRyeUxvYylyZXR1cm4gcihcImVuZFwiKTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgcz1uLmNhbGwobyxcImNhdGNoTG9jXCIpLGM9bi5jYWxsKG8sXCJmaW5hbGx5TG9jXCIpO2lmKHMmJmMpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiByKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIHIoby5maW5hbGx5TG9jKX1lbHNlIGlmKHMpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiByKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIWMpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbcl07aWYoaS50cnlMb2M8PXRoaXMucHJldiYmbi5jYWxsKGksXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8aS5maW5hbGx5TG9jKXt2YXIgbz1pO2JyZWFrfX1vJiYoXCJicmVha1wiPT09ZXx8XCJjb250aW51ZVwiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MsZCk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZihcInRocm93XCI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuXCJicmVha1wiPT09ZS50eXBlfHxcImNvbnRpbnVlXCI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOlwicmV0dXJuXCI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGR9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYykseShuKSxkfX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PXIudHlwZSl7dmFyIGk9ci5hcmc7eShuKX1yZXR1cm4gaX19dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6VChlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpufSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dm9pZCAwKSxkfX0sZX0oZS5leHBvcnRzKTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPXJ9Y2F0Y2goZSl7RnVuY3Rpb24oXCJyXCIsXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHIpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSl7dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEscz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixpPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbixvPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5tb3pSVENQZWVyQ29ubmVjdGlvbjt0LmNyZWF0ZVJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXJ8fGl8fG87cmV0dXJuIHQ/bmV3IHQoZSk6bnVsbH19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtcbi8qIVxuICogRXZlbnRFbWl0dGVyIHY1LjIuOSAtIGdpdC5pby9lZVxuICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvXG4gKiBPbGl2ZXIgQ2FsZHdlbGwgLSBodHRwczovL29saS5tZS51ay9cbiAqIEBwcmVzZXJ2ZVxuICovIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt9dmFyIG89aS5wcm90b3R5cGUsYT10LkV2ZW50RW1pdHRlcjtmdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspaWYoZVtuXS5saXN0ZW5lcj09PXQpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fW8uZ2V0TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLl9nZXRFdmVudHMoKTtpZihlIGluc3RhbmNlb2YgUmVnRXhwKWZvcihuIGluIHQ9e30scilyLmhhc093blByb3BlcnR5KG4pJiZlLnRlc3QobikmJih0W25dPXJbbl0pO2Vsc2UgdD1yW2VdfHwocltlXT1bXSk7cmV0dXJuIHR9LG8uZmxhdHRlbkxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKW4ucHVzaChlW3RdLmxpc3RlbmVyKTtyZXR1cm4gbn0sby5nZXRMaXN0ZW5lcnNBc09iamVjdD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZ2V0TGlzdGVuZXJzKGUpO3JldHVybiBuIGluc3RhbmNlb2YgQXJyYXkmJigodD17fSlbZV09biksdHx8bn0sby5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe2lmKCFmdW5jdGlvbiBlKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBSZWdFeHB8fCEoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KSYmZSh0Lmxpc3RlbmVyKX0odCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgbixyPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSksaT1cIm9iamVjdFwiPT10eXBlb2YgdDtmb3IobiBpbiByKXIuaGFzT3duUHJvcGVydHkobikmJi0xPT09cyhyW25dLHQpJiZyW25dLnB1c2goaT90OntsaXN0ZW5lcjp0LG9uY2U6ITF9KTtyZXR1cm4gdGhpc30sby5vbj1jKFwiYWRkTGlzdGVuZXJcIiksby5hZGRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihlLHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX0sby5vbmNlPWMoXCJhZGRPbmNlTGlzdGVuZXJcIiksby5kZWZpbmVFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRMaXN0ZW5lcnMoZSksdGhpc30sby5kZWZpbmVFdmVudHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kz0xKXRoaXMuZGVmaW5lRXZlbnQoZVt0XSk7cmV0dXJuIHRoaXN9LG8ucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKTtmb3IociBpbiBpKWkuaGFzT3duUHJvcGVydHkocikmJi0xIT09KG49cyhpW3JdLHQpKSYmaVtyXS5zcGxpY2UobiwxKTtyZXR1cm4gdGhpc30sby5vZmY9YyhcInJlbW92ZUxpc3RlbmVyXCIpLG8uYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMSxlLHQpfSxvLnJlbW92ZUxpc3RlbmVycz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITAsZSx0KX0sby5tYW5pcHVsYXRlTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZT90aGlzLnJlbW92ZUxpc3RlbmVyOnRoaXMuYWRkTGlzdGVuZXIsYT1lP3RoaXMucmVtb3ZlTGlzdGVuZXJzOnRoaXMuYWRkTGlzdGVuZXJzO2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKWZvcihyPW4ubGVuZ3RoO3ItLTspby5jYWxsKHRoaXMsdCxuW3JdKTtlbHNlIGZvcihyIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKGk9dFtyXSkmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP28uY2FsbCh0aGlzLHIsaSk6YS5jYWxsKHRoaXMscixpKSk7cmV0dXJuIHRoaXN9LG8ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj10eXBlb2YgZSxyPXRoaXMuX2dldEV2ZW50cygpO2lmKFwic3RyaW5nXCI9PT1uKWRlbGV0ZSByW2VdO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3IodCBpbiByKXIuaGFzT3duUHJvcGVydHkodCkmJmUudGVzdCh0KSYmZGVsZXRlIHJbdF07ZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzO3JldHVybiB0aGlzfSxvLnJlbW92ZUFsbExpc3RlbmVycz1jKFwicmVtb3ZlRXZlbnRcIiksby5lbWl0RXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSk7Zm9yKG8gaW4gYSlpZihhLmhhc093blByb3BlcnR5KG8pKWZvcihuPWFbb10uc2xpY2UoMCksaT0wO2k8bi5sZW5ndGg7aSsrKSEwPT09KHI9bltpXSkub25jZSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIubGlzdGVuZXIpLHIubGlzdGVuZXIuYXBwbHkodGhpcyx0fHxbXSk9PT10aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIubGlzdGVuZXIpO3JldHVybiB0aGlzfSxvLnRyaWdnZXI9YyhcImVtaXRFdmVudFwiKSxvLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLmVtaXRFdmVudChlLHQpfSxvLnNldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlPWUsdGhpc30sby5fZ2V0T25jZVJldHVyblZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaGFzT3duUHJvcGVydHkoXCJfb25jZVJldHVyblZhbHVlXCIpfHx0aGlzLl9vbmNlUmV0dXJuVmFsdWV9LG8uX2dldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pfSxpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FdmVudEVtaXR0ZXI9YSxpfSx2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBpfS5jYWxsKHQsbix0LGUpKXx8KGUuZXhwb3J0cz1yKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpc3x8e30pfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHIoZSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBBcnJheS5mcm9tKGUpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX19LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIHI7ZS5leHBvcnRzPShyPXJ8fGZ1bmN0aW9uKGUscil7dmFyIGk7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmNyeXB0byYmKGk9d2luZG93LmNyeXB0byksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuY3J5cHRvJiYoaT1zZWxmLmNyeXB0byksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMuY3J5cHRvJiYoaT1nbG9iYWxUaGlzLmNyeXB0byksIWkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5tc0NyeXB0byYmKGk9d2luZG93Lm1zQ3J5cHRvKSwhaSYmdm9pZCAwIT09dCYmdC5jcnlwdG8mJihpPXQuY3J5cHRvKSwhaSl0cnl7aT1uKDc0KX1jYXRjaChlKXt9dmFyIG89ZnVuY3Rpb24oKXtpZihpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmdldFJhbmRvbVZhbHVlcyl0cnl7cmV0dXJuIGkuZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF19Y2F0Y2goZSl7fWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkucmFuZG9tQnl0ZXMpdHJ5e3JldHVybiBpLnJhbmRvbUJ5dGVzKDQpLnJlYWRJbnQzMkxFKCl9Y2F0Y2goZSl7fX10aHJvdyBuZXcgRXJyb3IoXCJOYXRpdmUgY3J5cHRvIG1vZHVsZSBjb3VsZCBub3QgYmUgdXNlZCB0byBnZXQgc2VjdXJlIHJhbmRvbSBudW1iZXIuXCIpfSxhPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuIGUucHJvdG90eXBlPXQsbj1uZXcgZSxlLnByb3RvdHlwZT1udWxsLG59fSgpLHM9e30sYz1zLmxpYj17fSxkPWMuQmFzZT17ZXh0ZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyk7cmV0dXJuIGUmJnQubWl4SW4oZSksdC5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikmJnRoaXMuaW5pdCE9PXQuaW5pdHx8KHQuaW5pdD1mdW5jdGlvbigpe3QuJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdC5pbml0LnByb3RvdHlwZT10LHQuJHN1cGVyPXRoaXMsdH0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRlbmQoKTtyZXR1cm4gZS5pbml0LmFwcGx5KGUsYXJndW1lbnRzKSxlfSxpbml0OmZ1bmN0aW9uKCl7fSxtaXhJbjpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYodGhpc1t0XT1lW3RdKTtlLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikmJih0aGlzLnRvU3RyaW5nPWUudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKX19LHU9Yy5Xb3JkQXJyYXk9ZC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oZSx0KXtlPXRoaXMud29yZHM9ZXx8W10sdGhpcy5zaWdCeXRlcz1udWxsIT10P3Q6NCplLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fGYpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud29yZHMsbj1lLndvcmRzLHI9dGhpcy5zaWdCeXRlcyxpPWUuc2lnQnl0ZXM7aWYodGhpcy5jbGFtcCgpLHIlNClmb3IodmFyIG89MDtvPGk7bysrKXt2YXIgYT1uW28+Pj4yXT4+PjI0LW8lNCo4JjI1NTt0W3Irbz4+PjJdfD1hPDwyNC0ocitvKSU0Kjh9ZWxzZSBmb3IodmFyIHM9MDtzPGk7cys9NCl0W3Ircz4+PjJdPW5bcz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1pLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53b3JkcyxuPXRoaXMuc2lnQnl0ZXM7dFtuPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLW4lNCo4LHQubGVuZ3RoPWUuY2VpbChuLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPWQuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLGV9LHJhbmRvbTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZTtuKz00KXQucHVzaChvKCkpO3JldHVybiBuZXcgdS5pbml0KHQsZSl9fSksbD1zLmVuYz17fSxmPWwuSGV4PXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMsbj1lLnNpZ0J5dGVzLHI9W10saT0wO2k8bjtpKyspe3ZhciBvPXRbaT4+PjJdPj4+MjQtaSU0KjgmMjU1O3IucHVzaCgobz4+PjQpLnRvU3RyaW5nKDE2KSksci5wdXNoKCgxNSZvKS50b1N0cmluZygxNikpfXJldHVybiByLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxuPVtdLHI9MDtyPHQ7cis9MiluW3I+Pj4zXXw9cGFyc2VJbnQoZS5zdWJzdHIociwyKSwxNik8PDI0LXIlOCo0O3JldHVybiBuZXcgdS5pbml0KG4sdC8yKX19LHA9bC5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS53b3JkcyxuPWUuc2lnQnl0ZXMscj1bXSxpPTA7aTxuO2krKyl7dmFyIG89dFtpPj4+Ml0+Pj4yNC1pJTQqOCYyNTU7ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobykpfXJldHVybiByLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxuPVtdLHI9MDtyPHQ7cisrKW5bcj4+PjJdfD0oMjU1JmUuY2hhckNvZGVBdChyKSk8PDI0LXIlNCo4O3JldHVybiBuZXcgdS5pbml0KG4sdCl9fSxnPWwuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShwLnN0cmluZ2lmeShlKSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBVVEYtOCBkYXRhXCIpfX0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHAucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9fSxtPWMuQnVmZmVyZWRCbG9ja0FsZ29yaXRobT1kLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPW5ldyB1LmluaXQsdGhpcy5fbkRhdGFCeXRlcz0wfSxfYXBwZW5kOmZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1nLnBhcnNlKGUpKSx0aGlzLl9kYXRhLmNvbmNhdChlKSx0aGlzLl9uRGF0YUJ5dGVzKz1lLnNpZ0J5dGVzfSxfcHJvY2VzczpmdW5jdGlvbih0KXt2YXIgbixyPXRoaXMuX2RhdGEsaT1yLndvcmRzLG89ci5zaWdCeXRlcyxhPXRoaXMuYmxvY2tTaXplLHM9by8oNCphKSxjPShzPXQ/ZS5jZWlsKHMpOmUubWF4KCgwfHMpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKmEsZD1lLm1pbig0KmMsbyk7aWYoYyl7Zm9yKHZhciBsPTA7bDxjO2wrPWEpdGhpcy5fZG9Qcm9jZXNzQmxvY2soaSxsKTtuPWkuc3BsaWNlKDAsYyksci5zaWdCeXRlcy09ZH1yZXR1cm4gbmV3IHUuaW5pdChuLGQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPWQuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksZX0sX21pbkJ1ZmZlclNpemU6MH0pLGg9KGMuSGFzaGVyPW0uZXh0ZW5kKHtjZmc6ZC5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChlKSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7bS5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcHBlbmQoZSksdGhpcy5fcHJvY2VzcygpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl9hcHBlbmQoZSksdGhpcy5fZG9GaW5hbGl6ZSgpfSxibG9ja1NpemU6MTYsX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUuaW5pdChuKS5maW5hbGl6ZSh0KX19LF9jcmVhdGVIbWFjSGVscGVyOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgaC5ITUFDLmluaXQoZSxuKS5maW5hbGl6ZSh0KX19fSkscy5hbGdvPXt9KTtyZXR1cm4gc30oTWF0aCkscil9KS5jYWxsKHRoaXMsbigzMykpfSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIGkgaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sbz10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxhPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oNzYpLGM9bigyNyksZD1uKDk1KSx1PW4oMjApLGw9bigyNCksZj1uKDMxKSxwPWEobigwKSksZz1hKG4oMzcpKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnJldHJ5VGltZW91dD0xZTQsdGhpcy5zdHJlYW1pbmdUYXNrcz1uZXcgTWFwLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsdGhpcy50YXNrTXV0ZXg9bmV3IGQuUHJvbWlzZU11dGV4KFwiTFNcIiksdGhpcy5jYW5jZWxUb2tlbj1nLmRlZmF1bHQuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5pbmplY3RDb25maWc9cih7fSxjLkRFRkFVTFRfSU5KRUNUX0NPTkZJRyksdGhpcy5pbmplY3RMb29wVGltZXM9MCx0aGlzLmxhc3RUYXNrSWQ9MSx0aGlzLnN0YXR1c0Vycm9yPW5ldyBNYXAsdGhpcy5zcGVjPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzTmVlZFJlc2V0XCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9MCxuPUFycmF5LmZyb20odGhpcy5zdHJlYW1pbmdUYXNrcy52YWx1ZXMoKSk7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYoci5tb2RlPT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUKXJldHVybiEwO2lmKHIubW9kZT09PWMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERSlpZigodGhpcy50cmFuc2NvZGluZ0NvbmZpZyYmKHRoaXMudHJhbnNjb2RpbmdDb25maWcudXNlckNvbmZpZ3N8fHRoaXMudHJhbnNjb2RpbmdDb25maWcudHJhbnNjb2RpbmdVc2Vycyl8fFtdKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC51aWQ9PT1lLnNwZWMudWlkfSkpKXJldHVybiEwfXJldHVybiExfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldFRyYW5zY29kaW5nQ29uZmlnPWZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLGksYSxzLGQ9dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOih0PXIocih7fSxjLkRFRkFVTFRfVFJBTlNDT0RJTkdfQ09ORklHKSxlKSkudHJhbnNjb2RpbmdVc2Vyc3x8KHQudHJhbnNjb2RpbmdVc2Vycz10LnVzZXJDb25maWdzKSw2NiE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjc3IT09dC52aWRlb0NvZGVjUHJvZmlsZSYmMTAwIT09dC52aWRlb0NvZGVjUHJvZmlsZSYmKHAuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLnNwZWMuY2xpZW50SWQrXCJdIHNldCB0cmFuc2NvZGluZyBjb25maWcsIGZpeCB2aWRlbyBjb2RlYyBwcm9maWxlOiBcIit0LnZpZGVvQ29kZWNQcm9maWxlK1wiIC0+IDEwMFwiKSx0LnZpZGVvQ29kZWNQcm9maWxlPTEwMCksdC50cmFuc2NvZGluZ1VzZXJzJiYodC50cmFuc2NvZGluZ1VzZXJzPXQudHJhbnNjb2RpbmdVc2Vycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByKHIocih7fSxjLkRFRkFVTFRfTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfVVNFUiksZSkse3pPcmRlcjplLnpPcmRlcj9lLnpPcmRlcisxOjF9KX0pKSksdC5pbWFnZXMmJih0LmltYWdlcz10LmltYWdlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByKHIoe30sYy5ERUZBVUxUX0xJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX1dBVEVSTUFSSyksZSl9KSkpO3RyeXtjLmlzTGl2ZVN0cmVhbWluZ1RyYW5zY29kaW5nQ29uZmlnKHQpfWNhdGNoKGUpe3Rocm93IGV9cmV0dXJuIHQudHJhbnNjb2RpbmdVc2VycyYmKHQudXNlckNvbmZpZ3M9dC50cmFuc2NvZGluZ1VzZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIoe30sZSl9KSksdC51c2VyQ291bnQ9dC50cmFuc2NvZGluZ1VzZXJzLmxlbmd0aCxkZWxldGUgdC50cmFuc2NvZGluZ1VzZXJzKSxuPSh0LnVzZXJDb25maWdzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZS51aWQ/UHJvbWlzZS5yZXNvbHZlKGUudWlkKTp1LmdldFVzZXJBY2NvdW50KGQuc3BlYyxudWxsLGUudWlkKX0pKSxbNCx0aGlzLnRhc2tNdXRleC5sb2NrKCldO2Nhc2UgMTpyZXR1cm4gaT1vLnNlbnQoKSxbNCxQcm9taXNlLmFsbChuKV07Y2FzZSAyOmlmKG8uc2VudCgpLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dC51c2VyQ29uZmlncyYmdC51c2VyQ29uZmlnc1tuXSYmKHQudXNlckNvbmZpZ3Nbbl0udWlkPWUmJmUudWlkfHxlKX0pKSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnPXQsIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gaSgpLFsyXTtvLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBvLnRyeXMucHVzaChbMyw1LCw2XSksWzQsdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMudHJhbnNjb2RpbmdDb25maWd9fSwhMSx7Y29tbWFuZDpcIlVwZGF0ZVRyYW5zY29kaW5nXCIsd29ya2VyVHlwZToxLHJlcXVlc3RCeVVzZXI6ITAsdGlkOkFycmF5LmZyb20odGhpcy5zdHJlYW1pbmdUYXNrcy52YWx1ZXMoKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50YXNrSWR9KSkuam9pbihcIiNcIil9KV07Y2FzZSA0OnJldHVybiBhPW8uc2VudCgpLGkoKSxwLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5zcGVjLmNsaWVudElkK1wiXSB1cGRhdGUgbGl2ZSB0cmFuc2NvZGluZyBjb25maWcgc3VjY2VzcywgY29kZTogXCIrYS5jb2RlK1wiLCBjb25maWc6XCIsSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2NvZGluZ0NvbmZpZykpLFszLDZdO2Nhc2UgNTppZihzPW8uc2VudCgpLGkoKSwhcy5kYXRhfHwhcy5kYXRhLnJldHJ5KXRocm93IHM7cmV0dXJuIHMuZGF0YS5jaGFuZ2VBZGRyZXNzJiZ0aGlzLmNvbm5lY3Rpb24udHJ5TmV4dEFkZHJlc3MoKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AuZGVmYXVsdC53YXJuaW5nKFwiW1wiK2Quc3BlYy5jbGllbnRJZCtcIl0gbGl2ZSBzdHJlYW1pbmcgcmVjZWl2ZSBlcnJvclwiLHMudG9TdHJpbmcoKSxcInRyeSB0byByZXB1Ymxpc2hcIixlLnVybCksZC5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUudXJsLGUubW9kZSxzKS50aGVuKChmdW5jdGlvbigpe3AuZGVmYXVsdC5kZWJ1ZyhcIltcIitkLnNwZWMuY2xpZW50SWQrXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBcIitlLnVybCtcIiBzdWNjZXNzXCIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwLmRlZmF1bHQuZXJyb3IoXCJbXCIrZC5zcGVjLmNsaWVudElkK1wiXSBsaXZlIHN0cmVhbWluZyByZXB1Ymxpc2ggZmFpbGVkXCIsZS51cmwsdC50b1N0cmluZygpKSxkLm9uTGl2ZVN0cmVhbUVycm9yJiZkLm9uTGl2ZVN0cmVhbUVycm9yKGUudXJsLHQpfSkpfSkpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zZXRJbmplY3RTdHJlYW1Db25maWc9ZnVuY3Rpb24oZSx0KXt0aGlzLmluamVjdENvbmZpZz1PYmplY3QuYXNzaWduKHt9LHRoaXMuaW5qZWN0Q29uZmlnLGUpLHRoaXMuaW5qZWN0TG9vcFRpbWVzPXR9LGUucHJvdG90eXBlLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2s9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxhLHMsZCx1LGcsbSxoLHY9dGhpcztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBBcnJheS5mcm9tKHRoaXMuc3RyZWFtaW5nVGFza3MudmFsdWVzKCkpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1vZGU9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1R9KSkmJnQ9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1Q/WzIsbmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QsXCJpbmplY3Qgc3RyZWFtIG92ZXIgbGltaXRcIikudGhyb3coKV06KGk9e2NvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsdHM6RGF0ZS5ub3coKSx1cmw6ZSx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLGF1dG9EZXN0cm95VGltZTozMH0scC5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuc3BlYy5jbGllbnRJZCtcIl0gc3RhcnQgbGl2ZSBzdHJlYW1pbmcgXCIrZStcIiwgbW9kZTogXCIrdCksWzQsdGhpcy50YXNrTXV0ZXgubG9jaygpXSk7Y2FzZSAxOmlmKGE9by5zZW50KCksIXRoaXMudHJhbnNjb2RpbmdDb25maWcmJnQ9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREUpdGhyb3cgYSgpLG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5JTlZBTElEX09QRVJBVElPTixcIltMaXZlU3RyZWFtaW5nXSBubyB0cmFuc2NvZGluZyBjb25maWcgZm91bmQsIGNhbiBub3Qgc3RhcnQgdHJhbnNjb2Rpbmcgc3RyZWFtaW5nIHRhc2tcIik7aWYoIXRoaXMuY29ubmVjdGlvbiYmbilyZXR1cm4gYSgpLFsyXTtpZih0aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChlKSYmIW4pcmV0dXJuIGEoKSxbMixuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCkudGhyb3coKV07aWYoIXRoaXMudHJhbnNjb2RpbmdDb25maWcmJnQ9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREUpdGhyb3cgYSgpLG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5JTlZBTElEX09QRVJBVElPTixcIltMaXZlU3RyZWFtaW5nXSBubyB0cmFuc2NvZGluZyBjb25maWcgZm91bmQsIGNhbiBub3Qgc3RhcnQgdHJhbnNjb2Rpbmcgc3RyZWFtaW5nIHRhc2tcIik7by5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNSwsNl0pLHRoaXMuY29ubmVjdGlvbj9bMyw0XToocz10aGlzLFs0LHRoaXMuY29ubmVjdCh0KV0pO2Nhc2UgMzpzLmNvbm5lY3Rpb249by5zZW50KCksby5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMyw2XTtjYXNlIDU6dGhyb3cgZD1vLnNlbnQoKSxhKCksZDtjYXNlIDY6c3dpdGNoKHQpe2Nhc2UgYy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFOmkudHJhbnNjb2RpbmdDb25maWc9cih7fSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnKTticmVhaztjYXNlIGMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlJBVzpicmVhaztjYXNlIGMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVDppPXtjbmFtZTp0aGlzLnNwZWMuY25hbWUsY29tbWFuZDpcIkluamVjdFN0cmVhbVwiLHNpZDp0aGlzLnNwZWMuc2lkLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMuaW5qZWN0Q29uZmlnLHRzOkRhdGUubm93KCksdXJsOmUsbG9vcFRpbWVzOnRoaXMuaW5qZWN0TG9vcFRpbWVzfX10aGlzLnVhcFJlc3BvbnNlJiZ0aGlzLnVhcFJlc3BvbnNlLnZpZCYmKGkudmlkPXRoaXMudWFwUmVzcG9uc2UudmlkKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSEwLHU9dGhpcy5sYXN0VGFza0lkKyssby5sYWJlbD03O2Nhc2UgNzpyZXR1cm4gby50cnlzLnB1c2goWzcsOSwsMTRdKSxnPW5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe2Yud2FpdCh2LnJldHJ5VGltZW91dCkudGhlbigoZnVuY3Rpb24oKXtpZihuKXJldHVybiByKG4pO3ZhciB0PXYuc3RhdHVzRXJyb3IuZ2V0KGUpO3JldHVybiB0Pyh2LnN0YXR1c0Vycm9yLmRlbGV0ZShlKSxyKHQpKTp2b2lkIDB9KSl9KSksWzQsUHJvbWlzZS5yYWNlKFt0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDppfSwhMCx7dXJsOmUsY29tbWFuZDpcIlB1Ymxpc2hTdHJlYW1cIix3b3JrZXJUeXBlOnQ9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREU/MToyLHJlcXVlc3RCeVVzZXI6IW4sdGlkOnUudG9TdHJpbmcoKX0pLGddKV07Y2FzZSA4OnJldHVybiBtPW8uc2VudCgpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEscC5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuc3BlYy5jbGllbnRJZCtcIl0gbGl2ZSBzdHJlYW1pbmcgc3RhcnRlZCwgY29kZTogXCIrbS5jb2RlKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLnNldChlLHtjbGllbnRSZXF1ZXN0OmksbW9kZTp0LHVybDplLHRhc2tJZDp1fSksYSgpLFszLDE0XTtjYXNlIDk6aWYoaD1vLnNlbnQoKSxhKCksdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSwhaC5kYXRhfHwhaC5kYXRhLnJldHJ5fHxuKXRocm93IGg7cmV0dXJuIGguZGF0YS5jaGFuZ2VBZGRyZXNzP1szLDExXTpbNCx0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx0LGgpXTtjYXNlIDEwOnJldHVyblsyLG8uc2VudCgpXTtjYXNlIDExOnJldHVybiB0aGlzLmNvbm5lY3Rpb24udHJ5TmV4dEFkZHJlc3MoKSxbNCx0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx0LGgpXTtjYXNlIDEyOnJldHVyblsyLG8uc2VudCgpXTtjYXNlIDEzOnJldHVyblszLDE0XTtjYXNlIDE0OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLnN0b3BMaXZlU3RyZWFtaW5nVGFzaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT10LnN0cmVhbWluZ1Rhc2tzLmdldChlKTtpZighaXx8IXQuY29ubmVjdGlvbilyZXR1cm4gbmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtaW5nIHRhc2sgdG8gc3RvcFwiKS50aHJvdygpO3ZhciBvPWkubW9kZTtpLmFib3J0VGFzaz1mdW5jdGlvbigpe3AuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LnNwZWMuY2xpZW50SWQrXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2Vzcyh3b3JrZXIgZXhjZXB0aW9uKVwiKSx0LnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSxuKCl9LHAuZGVmYXVsdC5kZWJ1ZyhcInN0b3AgbGl2ZSBzdHJlYW1pbmcgdGFzayByZXF1ZXN0OiBcIitKU09OLnN0cmluZ2lmeShlKSksdC5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6bz09PWMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVD9cIlVuaW5qZWN0U3RyZWFtXCI6XCJVbnB1Ymxpc2hTdHJlYW1cIix1cmw6aS51cmx9fSwhMSx7dXJsOmUsY29tbWFuZDpcIlVuUHVibGlzaFN0cmVhbVwiLHdvcmtlclR5cGU6bz09PWMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERT8xOjIscmVxdWVzdEJ5VXNlcjohMCx0aWQ6KHQubGFzdFRhc2tJZCsrKS50b1N0cmluZygpfSkudGhlbigoZnVuY3Rpb24ocil7cC5kZWZhdWx0LmRlYnVnKFwiW1wiK3Quc3BlYy5jbGllbnRJZCtcIl0gc3RvcCBsaXZlIHN0cmVhbWluZyBzdWNjZXNzLCBjb2RlOiBcIityLmNvZGUpLHQuc3RyZWFtaW5nVGFza3MuZGVsZXRlKGUpLDA9PT10LnN0cmVhbWluZ1Rhc2tzLnNpemUmJm8hPT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1QmJih0LmNvbm5lY3Rpb24uY2xvc2UoKSx0LmNvbm5lY3Rpb249dm9pZCAwKSxuKCl9KSkuY2F0Y2gocil9KSl9LGUucHJvdG90eXBlLmNvbnRyb2xJbmplY3RTdHJlYW09ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYoIShpPXRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpKXx8IXRoaXMuY29ubmVjdGlvbnx8aS5tb2RlIT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUKXRocm93IG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgZmluZCBpbmplY3Qgc3RyZWFtIHRhc2sgdG8gY29udHJvbFwiKTtyZXR1cm5bNCx0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkNvbnRyb2xTdHJlYW1cIix1cmw6ZSxjb250cm9sOnQsYXVkaW9Wb2x1bWU6bixwb3NpdGlvbjpyfX0pXTtjYXNlIDE6cmV0dXJuWzIsby5zZW50KCkuc2VydmVyUmVzcG9uc2VdfX0pKX0pKX0sZS5wcm90b3R5cGUucmVzZXRBbGxUYXNrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PUFycmF5LmZyb20odGhpcy5zdHJlYW1pbmdUYXNrcy52YWx1ZXMoKSk7dGhpcy50ZXJtaW5hdGUoKTtmb3IodmFyIG49ZnVuY3Rpb24odCl7ci5zdGFydExpdmVTdHJlYW1pbmdUYXNrKHQudXJsLHQubW9kZSkuY2F0Y2goKGZ1bmN0aW9uKG4pe2Uub25MaXZlU3RyZWFtRXJyb3ImJmUub25MaXZlU3RyZWFtRXJyb3IodC51cmwsbil9KSl9LHI9dGhpcyxpPTAsbz10O2k8by5sZW5ndGg7aSsrKXtuKG9baV0pfX0sZS5wcm90b3R5cGUuc2V0R2F0ZXdheUNvbm5lY3Rpb25TdGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNvbm5lY3Rpb24mJih0aGlzLmNvbm5lY3Rpb24uZ2F0ZXdheUNvbm5lY3Rpb25TdGF0ZT1lKX0sZS5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxUb2tlbiYmdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKSx0aGlzLnN0cmVhbWluZ1Rhc2tzPW5ldyBNYXAsdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSx0aGlzLnN0YXR1c0Vycm9yPW5ldyBNYXAsdGhpcy5jYW5jZWxUb2tlbj1nLmRlZmF1bHQuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy51YXBSZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwfSxlLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZih0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLlVORVhQRUNURURfRVJST1IsXCJsaXZlIHN0cmVhbWluZyBjb25uZWN0aW9uIGhhcyBhbHJlYWR5IGNvbm5lY3RlZFwiKTtyZXR1cm5bNCxmLmdldExpdmVTdHJlYW1pbmdXb3JrZXJNYW5nZXJSZXN1bHQoZSx0aGlzLnNwZWMsdGhpcy5jYW5jZWxUb2tlbi50b2tlbildO2Nhc2UgMTpyZXR1cm4gdD1yLnNlbnQoKSx0aGlzLnVhcFJlc3BvbnNlPXQsdGhpcy5jb25uZWN0aW9uPW5ldyBzLkFnb3JhTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbCh0LndvcmtlclRva2VuLHRoaXMuc3BlYyxlKSx0aGlzLmNvbm5lY3Rpb24ub24oYy5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLldBUk5JTkcsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ub25MaXZlU3RyZWFtV2FybmluZyYmbi5vbkxpdmVTdHJlYW1XYXJuaW5nKHQsZSl9KSksdGhpcy5jb25uZWN0aW9uLm9uKGMuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhhbmRsZVB1Ymxpc2hTdHJlYW1TZXJ2ZXIoZSl9KSksdGhpcy5jb25uZWN0aW9uLm9uKGMuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5JTkpFQ1RfU1RSRUFNX1NUQVRVUywoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaGFuZGxlSW5qZWN0U3RyZWFtU2VydmVyU3RhdHVzKGUpfSkpLHRoaXMuY29ubmVjdGlvbi5vbihjLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuUkVRVUVTVF9ORVdfQUREUkVTUywoZnVuY3Rpb24odCxyKXtpZighbi5jb25uZWN0aW9uKXJldHVybiByKG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZXQgbmV3IGxpdmUgc3RyZWFtaW5nIGFkZHJlc3MgbGlzdFwiKSk7Zi5nZXRMaXZlU3RyZWFtaW5nV29ya2VyTWFuZ2VyUmVzdWx0KGUsbi5zcGVjLG4uY2FuY2VsVG9rZW4udG9rZW4pLnRoZW4oKGZ1bmN0aW9uKGUpe24udWFwUmVzcG9uc2U9ZSx0KGUuYWRkcmVzc0xpc3QpfSkpLmNhdGNoKHIpfSkpLFs0LHRoaXMuY29ubmVjdGlvbi5pbml0KHQuYWRkcmVzc0xpc3QpXTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLFsyLHRoaXMuY29ubmVjdGlvbl19fSkpfSkpfSxlLnByb3RvdHlwZS5oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lLnNlcnZlclN0YXR1cyYmZS5zZXJ2ZXJTdGF0dXMudXJsO2lmKCFuKXRocm93IG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlbXB0eSB1cmxcIix7Y29kZTplLmNvZGV9KTt2YXIgcj10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChuKTtzd2l0Y2goZS5jb2RlKXtjYXNlIGMuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU46Y2FzZSBjLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVDpjYXNlIGMuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSBjLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSDp2YXIgaT1uZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSk7aWYocilyZXR1cm4gcC5kZWZhdWx0LmVycm9yKGkudG9TdHJpbmcoKSksdGhpcy5vbkxpdmVTdHJlYW1FcnJvciYmdGhpcy5vbkxpdmVTdHJlYW1FcnJvcihuLGkpO2lmKCF0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrKXJldHVybjt0aGlzLnN0YXR1c0Vycm9yLnNldChuLGkpO2Nhc2UgYy5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUOmNhc2UgYy5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUOmlmKCF0aGlzLmNvbm5lY3Rpb258fDA9PT10aGlzLnN0cmVhbWluZ1Rhc2tzLnNpemUpcmV0dXJuO3RoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpO2Zvcih2YXIgbz1BcnJheS5mcm9tKHRoaXMuc3RyZWFtaW5nVGFza3MudmFsdWVzKCkpLGE9ZnVuY3Rpb24obil7aWYobi5hYm9ydFRhc2spcmV0dXJuIG4uYWJvcnRUYXNrKCksXCJjb250aW51ZVwiO3AuZGVmYXVsdC53YXJuaW5nKFwiW1wiK3Muc3BlYy5jbGllbnRJZCtcIl0gcHVibGlzaCBzdHJlYW0gc3RhdHVzIGNvZGVcIixlLmNvZGUsXCJ0cnkgdG8gcmVwdWJsaXNoXCIsbi51cmwpLHMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhuLnVybCxuLm1vZGUsbmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pKS50aGVuKChmdW5jdGlvbigpe3AuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LnNwZWMuY2xpZW50SWQrXCJdIHJlcHVibGlzaCBsaXZlIHN0cmVhbSBzdWNjZXNzXCIsbi51cmwpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtwLmRlZmF1bHQuZXJyb3IoZS50b1N0cmluZygpKSx0Lm9uTGl2ZVN0cmVhbUVycm9yJiZ0Lm9uTGl2ZVN0cmVhbUVycm9yKG4udXJsLGUpfSkpfSxzPXRoaXMsZD0wLHU9bztkPHUubGVuZ3RoO2QrKyl7YSh1W2RdKX1yZXR1cm59fSxlLnByb3RvdHlwZS5oYW5kbGVJbmplY3RTdHJlYW1TZXJ2ZXJTdGF0dXM9ZnVuY3Rpb24oZSl7dmFyIHQ9TnVtYmVyKGUudWlkKSxuPWUuc2VydmVyU3RhdHVzJiZlLnNlcnZlclN0YXR1cy51cmw7c3dpdGNoKGUuY29kZSl7Y2FzZSAyMDA6cmV0dXJuIHZvaWQodGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSgwLHQsbikpO2Nhc2UgNDUxOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKDEsdCxuKSx2b2lkIHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKG4pO2Nhc2UgNDUzOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKDIsdCxuKSx2b2lkIHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKG4pO2Nhc2UgNDcwOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKDEwLHQsbiksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShuKTtjYXNlIDQ5OTpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSgzLHQsbiksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShuKTtkZWZhdWx0OnJldHVybiB2b2lkIHAuZGVmYXVsdC5kZWJ1ZyhcImluamVjdCBzdHJlYW0gc2VydmVyIHN0YXR1c1wiLGUpfX0sZS5wcm90b3R5cGUuaGF2ZVVybD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmdUYXNrcy5oYXMoZSl8fHZvaWQgMH0sZX0oKTt0LkFnb3JhUlRDTGl2ZVN0cmVhbWluZ0NsaWVudD1tfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksbz10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LHM9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sYz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZD1uKDI3KSx1PW4oNzcpLGw9bigzNiksZj1uKDI0KSxwPW4oMiksZz1jKG4oMCkpLG09bigxKSxoPW4oMzEpLHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLl9nYXRld2F5Q29ubmVjdGlvblN0YXRlPVwiQ09OTkVDVEVEXCIsaS5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIixpLnJlcUlkPTAsaS5jb21tYW5kUmVxSWQ9MCxpLndhaXRpbmdSZXNwb25zZUxpc3Q9W10saS5oYW5kbGVXZWJTb2NrZXRPcGVuPWZ1bmN0aW9uKCl7aS5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIixpLnN0YXJ0UGluZ1BvbmcoKX0saS5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKGUuZGF0YSl7dmFyIHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKHQucmVxdWVzdElkKWkuZW1pdChcIkBcIit0LnJlcXVlc3RJZCx0KTtlbHNlIGlmKGkuc2VydmljZU1vZGU9PT1kLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1QpaS5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5JTkpFQ1RfU1RSRUFNX1NUQVRVUyx0KTtlbHNle20ucmVwb3J0LnJlcXVlc3RXb3JrZXJFdmVudChpLnNwZWMuc2lkLHthY3Rpb25UeXBlOlwic3RhdHVzXCIsc2VydmVyQ29kZTp0LmNvZGUsd29ya2VyVHlwZTppLnNlcnZpY2VNb2RlPT09ZC5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFPzE6Mn0pO3ZhciBuPXQuc2VydmVyU3RhdHVzJiZ0LnNlcnZlclN0YXR1cy51cmw7biYmaS53YWl0aW5nUmVzcG9uc2VMaXN0LmluY2x1ZGVzKG4pJiYyMDA9PT10LmNvZGUmJmkuZW1pdChuKSxpLmVtaXQoZC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLlBVQkxJU0hfU1RSRUFNX1NUQVRVUyx0KX19fSxpLnNwZWM9bixpLnRva2VuPXQsaS5zZXJ2aWNlTW9kZT1yLGkud2Vic29ja2V0PW5ldyB1LkFnb3JhV2ViU29ja2V0TWFuYWdlcihcImxpdmUtc3RyZWFtaW5nXCIpLGkud2Vic29ja2V0Lm9uKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DT05ORUNURUQsaS5oYW5kbGVXZWJTb2NrZXRPcGVuKSxpLndlYnNvY2tldC5vbihkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuT05fTUVTU0FHRSxpLmhhbmRsZVdlYlNvY2tldE1lc3NhZ2UpLGkud2Vic29ja2V0Lm9uKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5SRVFVRVNUX05FV19VUkxTLChmdW5jdGlvbihlLHQpe2wuZW1pdEFzUHJvbWlzZShpLGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5SRVFVRVNUX05FV19BRERSRVNTKS50aGVuKGUpLmNhdGNoKHQpfSkpLGkud2Vic29ja2V0Lm9uKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5SRUNPTk5FQ1RJTkcsKGZ1bmN0aW9uKCl7aS53ZWJzb2NrZXQucmVjb25uZWN0TW9kZT1pLnJlY29ubmVjdE1vZGV9KSksaX1yZXR1cm4gaSh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImdhdGV3YXlDb25uZWN0aW9uU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dhdGV3YXlDb25uZWN0aW9uU3RhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nYXRld2F5Q29ubmVjdGlvblN0YXRlPWUsXCJDT05ORUNURURcIj09PWUmJnRoaXMuZW1pdChcImdhdGV3YXktY29ubmVjdGVkXCIsZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuaW5pdChlKX0sdC5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gYSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksYSxjLHUsbCxnLHYsRSxTLF8seT10aGlzO3JldHVybiBzKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6aWYodGhpcy5yZXFJZCs9MSxpPXRoaXMucmVxSWQsXCJyZXF1ZXN0XCI9PT1lJiYodGhpcy5jb21tYW5kUmVxSWQrPTEpLGE9dGhpcy5jb21tYW5kUmVxSWQsIWl8fCF0aGlzLndlYnNvY2tldCl0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9FUlJPUik7aWYoYz1wLlZFUlNJT04sXCJjbG9zZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlKXRocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5XU19ESVNDT05ORUNUKTtyZXR1cm4gdT1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbigpe1wiQ09OTkVDVEVEXCI9PT15LmdhdGV3YXlDb25uZWN0aW9uU3RhdGUmJlwiY29ubmVjdGVkXCI9PT15LndlYnNvY2tldC5zdGF0ZSYmKHkub2ZmKFwiZ2F0ZXdheS1jb25uZWN0ZWRcIixuKSx5LndlYnNvY2tldC5vZmYoZC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkNPTk5FQ1RFRCxuKSxlKHZvaWQgMCkpfTt5Lm9uKFwiZ2F0ZXdheS1jb25uZWN0ZWRcIixuKSx5LndlYnNvY2tldC5vbmNlKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DTE9TRUQsKGZ1bmN0aW9uKCl7cmV0dXJuIHQobmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLldTX0FCT1JUKSl9KSkseS53ZWJzb2NrZXQub24oZC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkNPTk5FQ1RFRCxuKX0pKX0sXCJjb25uZWN0ZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlJiZcIkNPTk5FQ1RFRFwiPT09dGhpcy5nYXRld2F5Q29ubmVjdGlvblN0YXRlP1szLDJdOls0LHUoKV07Y2FzZSAxOnMuc2VudCgpLHMubGFiZWw9MjtjYXNlIDI6bD1Qcm9taXNlLnJhY2UoW25ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKCl7dChuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuV1NfQUJPUlQpKX07eS53ZWJzb2NrZXQub25jZShkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuUkVDT05ORUNUSU5HLG4pLHkud2Vic29ja2V0Lm9uY2UoZC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkNMT1NFRCxuKSx5Lm9uY2UoXCJAXCIraSwoZnVuY3Rpb24odCl7ZSh0KX0pKX0pKSxoLndhaXQocC5nZXRQYXJhbWV0ZXIoXCJMSVZFX1NUUkVBTUlOR19USU1FT1VUXCIpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiExfSkpXSksKGc9byh7Y29tbWFuZDplLHNka1ZlcnNpb246YyxzZXE6aSxyZXF1ZXN0SWQ6aSxhbGxvY2F0ZTpuLGNuYW1lOnRoaXMuc3BlYy5jbmFtZSxhcHBJZDp0aGlzLnNwZWMuYXBwSWQsc2lkOnRoaXMuc3BlYy5zaWQsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKX0sdCkpLmNsaWVudFJlcXVlc3QmJihnLmNsaWVudFJlcXVlc3Qud29ya2VyVG9rZW49dGhpcy50b2tlbiksciYmbS5yZXBvcnQucmVxdWVzdFdvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsbyhvKHt9LHIpLHtyZXF1ZXN0SWQ6YSxhY3Rpb25UeXBlOlwicmVxdWVzdFwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkodC5jbGllbnRSZXF1ZXN0KSxzZXJ2ZXJDb2RlOjAsY29kZTowfSkpLHY9RGF0ZS5ub3coKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShnKSxFPW51bGwscy5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gcy50cnlzLnB1c2goWzMsNSwsOF0pLFs0LGxdO2Nhc2UgNDpyZXR1cm4gRT1zLnNlbnQoKSxbMyw4XTtjYXNlIDU6aWYoUz1zLnNlbnQoKSxcImNsb3NlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpdGhyb3cgUztyZXR1cm5bNCx1KCldO2Nhc2UgNjpyZXR1cm4gcy5zZW50KCksWzQsdGhpcy5yZXF1ZXN0KGUsdCxuLHIpXTtjYXNlIDc6cmV0dXJuWzIscy5zZW50KCldO2Nhc2UgODppZighMT09PUUpdGhyb3cgXz1uZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTkVUV09SS19USU1FT1VULCh0JiZ0LmNsaWVudFJlcXVlc3QmJnQuY2xpZW50UmVxdWVzdC5jb21tYW5kKStcIiB0aW1lb3V0XCIse2NoYW5nZUFkZHJlc3M6ITAscmV0cnk6ITB9KSx0aGlzLmVtaXQoZC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLldBUk5JTkcsXyxyJiZyLnVybHx8XCJ1bmtub3duIHVybFwiKSxyJiZtLnJlcG9ydC5yZXF1ZXN0V29ya2VyRXZlbnQodGhpcy5zcGVjLnNpZCxvKG8oe30scikse3JlcXVlc3RJZDphLGFjdGlvblR5cGU6XCJyZXNwb25zZVwiLHBheWxvYWQ6XCJUSU1FT1VUXCIsc2VydmVyQ29kZTowLHN1Y2Nlc3M6MCxyZXNwb25zZVRpbWU6RGF0ZS5ub3coKS12fSkpLF87cmV0dXJuIHImJm0ucmVwb3J0LnJlcXVlc3RXb3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLG8obyh7fSxyKSx7cmVxdWVzdElkOmEsYWN0aW9uVHlwZTpcInJlc3BvbnNlXCIscGF5bG9hZDpKU09OLnN0cmluZ2lmeShFLnNlcnZlclJlc3BvbnNlKSxzZXJ2ZXJDb2RlOkUuY29kZSxzdWNjZXNzOjIwMD09PUUuY29kZSxyZXNwb25zZVRpbWU6RGF0ZS5ub3coKS12fSkpLDIwMD09PUUuY29kZT9bMywxMF06WzQsdGhpcy5oYW5kbGVSZXNwb25zZUVycm9yKEUpXTtjYXNlIDk6cy5zZW50KCkscy5sYWJlbD0xMDtjYXNlIDEwOnJldHVyblsyLEVdfX0pKX0pKX0sdC5wcm90b3R5cGUudHJ5TmV4dEFkZHJlc3M9ZnVuY3Rpb24oKXt0aGlzLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCIsdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KFwidHJ5TmV4dFwiKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt2YXIgZT1cIl9fVkVSU0lPTl9fXCI9PT1wLlZFUlNJT04/XCIwLjAuMVwiOnAuVkVSU0lPTjt0aGlzLnJlcUlkKz0xLFwiY29ubmVjdGVkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZT8odGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2Uoe2NvbW1hbmQ6XCJyZXF1ZXN0XCIsYXBwSWQ6dGhpcy5zcGVjLmFwcElkLGNuYW1lOnRoaXMuc3BlYy5jbmFtZSx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLHNka1ZlcnNpb246ZSxzaWQ6dGhpcy5zcGVjLnNpZCxzZXE6dGhpcy5yZXFJZCx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKSxyZXF1ZXN0SWQ6dGhpcy5yZXFJZCxjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiRGVzdHJveVdvcmtlclwifX0pLHRoaXMud2Vic29ja2V0LmNsb3NlKCExLCEwKSk6dGhpcy53ZWJzb2NrZXQuY2xvc2UoITEpLHRoaXMucGluZ3BvbmdUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCl9LHQucHJvdG90eXBlLmhhbmRsZVJlc3BvbnNlRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scixpLG89dGhpcztyZXR1cm4gcyh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goZy5kZWZhdWx0LmRlYnVnKFwiW2xpdmUtc3RyZWFtaW5nXSByZWNlaXZlIHJlc3BvbnNlIGVycm9yIFwiK2UuY29kZSksZS5jb2RlKXtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU06cmV0dXJuIGcuZGVmYXVsdC53YXJuaW5nKFwibGl2ZSBzdHJlYW0gcmVzcG9uc2UgYWxyZWFkeSBleGlzdHMgc3RyZWFtXCIpLHQ9ZS5zZXJ2ZXJSZXNwb25zZS51cmwsdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLFwibGl2ZSBzdHJlYW0gcmVzcG9uc2UgYWxyZWFkeSBleGlzdHMgc3RyZWFtLCBjb2RlIDQ1NFwiLHQpLHRoaXMud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmNsdWRlcyh0KXx8dGhpcy53YWl0aW5nUmVzcG9uc2VMaXN0LnB1c2godCksWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7by5vbmNlKHQsKGZ1bmN0aW9uKCl7by53YWl0aW5nUmVzcG9uc2VMaXN0LnNwbGljZShvLndhaXRpbmdSZXNwb25zZUxpc3QuaW5kZXhPZih0KSwxKSxuKCl9KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtvLndhaXRpbmdSZXNwb25zZUxpc3Quc3BsaWNlKG8ud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmRleE9mKHQpLDEpLHIobmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLlRJTUVPVVQsXCJsaXZlIHN0cmVhbSB0aW1lb3V0IHdhaXRpbmcgNDU0XCIse2NvZGU6ZS5jb2RlfSkpfSksMWU0KX0pKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SOmNhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU06Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SOnJldHVyblsyLG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5ULFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5HTk9SRV9NRVNTQUdFOnRocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5ULFwiXCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiVW5pbmplY3RTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm5bMl07dGhyb3cgbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRDpyZXR1cm5bMixuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpXTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRTpyZXR1cm4gbj1uZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRSksWzIsdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLG4sZS5zZXJ2ZXJSZXNwb25zZS51cmwpXTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTjpyZXR1cm4gbj1uZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUKSxbMix0aGlzLmVtaXQoZC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLldBUk5JTkcsbixlLnNlcnZlclJlc3BvbnNlLnVybCldO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIOnRocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRDpyZXR1cm5bMixuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpXTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTTpyZXR1cm4gbj1uZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUKSxbMix0aGlzLmVtaXQoZC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLldBUk5JTkcsbixlLnNlcnZlclJlc3BvbnNlLnVybCldO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjpyZXR1cm5bMixuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ6dGhyb3cgbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc291cmNlIGxpbWl0XCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVDpjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDppZihcIlVucHVibGlzaFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kfHxcIlVuaW5qZWN0U3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuWzJdO3Rocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJVbmluamVjdFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVyblsyXTtpZihcIlVwZGF0ZVRyYW5zY29kaW5nXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiQ29udHJvbFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVyblsyLG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtjb2RlOmUuY29kZX0pLnRocm93KCldO3Rocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOOmNhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g6cmV0dXJuIHI9ZS5zZXJ2ZXJSZXNwb25zZS51cmwsdGhpcy53YWl0aW5nUmVzcG9uc2VMaXN0LmluY2x1ZGVzKHIpfHx0aGlzLndhaXRpbmdSZXNwb25zZUxpc3QucHVzaChyKSxpPW5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KSx0aGlzLmVtaXQoZC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLldBUk5JTkcsaSxyKSxbMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtvLm9uY2UociwoZnVuY3Rpb24oKXtvLndhaXRpbmdSZXNwb25zZUxpc3Quc3BsaWNlKG8ud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmRleE9mKHIpLDEpLGUoKX0pKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe28ud2FpdGluZ1Jlc3BvbnNlTGlzdC5zcGxpY2Uoby53YWl0aW5nUmVzcG9uc2VMaXN0LmluZGV4T2YociksMSksdChpKX0pLDFlNCl9KSldfXJldHVyblsyXX0pKX0pKX0sdC5wcm90b3R5cGUuc3RhcnRQaW5nUG9uZz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7XCJjb25uZWN0ZWRcIj09PWUud2Vic29ja2V0LnN0YXRlJiZlLnJlcXVlc3QoXCJwaW5nXCIse30pLmNhdGNoKChmdW5jdGlvbigpe30pKX0pLDZlMyl9LHR9KGwuRXZlbnRFbWl0dGVyKTt0LkFnb3JhTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbD12fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksbz10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGE9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0scz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDI0KSxkPW4oMzYpLHU9bigzMSksbD1uKDI3KSxmPXMobigwKSkscD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jb25uZWN0aW9uSUQ9MCxuLmN1cnJlbnRVUkxJbmRleD0wLG4ucmVjb25uZWN0TW9kZT1cInRyeU5leHRcIixuLl9zdGF0ZT1cImNsb3NlZFwiLG4ucmV0cnlDb25maWc9dS5ERUZBVUxUX1JFVFJZX0NPTkZJRyxuLnJlY29ubmVjdENvdW50PTAsbi5uYW1lPXQsbn1yZXR1cm4gaSh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVybFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQ/dGhpcy53ZWJzb2NrZXQudXJsOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9ZSxcInJlY29ubmVjdGluZ1wiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5SRUNPTk5FQ1RJTkcsdGhpcy5yZWNvbm5lY3RNb2RlKTpcImNvbm5lY3RlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DT05ORUNURUQpOlwiY2xvc2VkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQobC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkNMT1NFRCk6XCJmYWlsZWRcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmVtaXQobC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkZBSUxFRCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC51cmxzPWU7dmFyIGk9dC51cmxzW3QuY3VycmVudFVSTEluZGV4XTt0LnN0YXRlPVwiY29ubmVjdGluZ1wiLHQuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihpKS50aGVuKG4pLmNhdGNoKHIpLHQub25jZShsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuQ0xPU0VELChmdW5jdGlvbigpe3JldHVybiByKG5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5XU19ESVNDT05ORUNUKSl9KSksdC5vbmNlKGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DT05ORUNURUQsKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0pKX0pKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleD0wLHRoaXMucmVjb25uZWN0Q291bnQ9MCx0aGlzLndlYnNvY2tldCl7dGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0Lm9ub3Blbj1udWxsLHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZT1udWxsO3ZhciBuPXRoaXMud2Vic29ja2V0O3Q/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9zZSgpfSksNTAwKTpuLmNsb3NlKCksdGhpcy53ZWJzb2NrZXQ9dm9pZCAwfXRoaXMuc3RhdGU9ZT9cImZhaWxlZFwiOlwiY2xvc2VkXCJ9LHQucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbihlKXtpZih0aGlzLndlYnNvY2tldCl7dm9pZCAwIT09ZSYmKHRoaXMucmVjb25uZWN0TW9kZT1lKTt2YXIgdD10aGlzLndlYnNvY2tldC5vbmNsb3NlO3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5jbG9zZSgpLHQmJnQuYmluZCh0aGlzLndlYnNvY2tldCkoe2NvZGU6OTk5OX0pfWVsc2UgZi5kZWZhdWx0Lndhcm5pbmcoXCJbXCIrdGhpcy5uYW1lK1wiXSBjYW4gbm90IHJlY29ubmVjdCwgbm8gd2Vic29ja2V0XCIpfSx0LnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXtpZighdGhpcy53ZWJzb2NrZXR8fHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTil0aHJvdyBuZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuV1NfQUJPUlQsXCJ3ZWJzb2NrZXQgaXMgbm90IHJlYWR5XCIpO3ZhciB0PUpTT04uc3RyaW5naWZ5KGUpO3RyeXt0aGlzLndlYnNvY2tldC5zZW5kKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5XU19FUlIsXCJzZW5kIHdlYnNvY2tldCBtZXNzYWdlIGVycm9yXCIrZS50b1N0cmluZygpKX19LHQucHJvdG90eXBlLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG49dGhpcztyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSUQrPTEsdD10aGlzLmNvbm5lY3Rpb25JRCxbMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXtuLndlYnNvY2tldCYmKG4ud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCxuLndlYnNvY2tldC5jbG9zZSgpKSxmLmRlZmF1bHQuZGVidWcoXCJbXCIrbi5uYW1lK1wiXSBzdGFydCBjb25uZWN0LCB1cmw6IFwiK2UpO3RyeXtuLndlYnNvY2tldD1uZXcgV2ViU29ja2V0KGUpLG4ud2Vic29ja2V0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwifWNhdGNoKGUpe3ZhciBzPW5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQhIEVycm9yOiBcIitlLnRvU3RyaW5nKCkpO3JldHVybiBmLmRlZmF1bHQuZXJyb3IoXCJbXCIrbi5uYW1lK1wiXVwiK3MpLHZvaWQgaShzKX11LndhaXQoNWUzKS50aGVuKChmdW5jdGlvbigpe3Q9PT1uLmNvbm5lY3Rpb25JRCYmbi53ZWJzb2NrZXQmJm4ud2Vic29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmbi53ZWJzb2NrZXQmJm4ud2Vic29ja2V0LmNsb3NlKCl9KSksbi53ZWJzb2NrZXQub25vcGVuPWZ1bmN0aW9uKCl7Zi5kZWZhdWx0LmRlYnVnKFwiW1wiK24ubmFtZStcIl0gd2Vic29ja2VjdCBvcGVuZWQ6XCIsZSksbi5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIixuLnN0YXRlPVwiY29ubmVjdGVkXCIsbi5yZWNvbm5lY3RDb3VudD0wLHIoKX0sbi53ZWJzb2NrZXQub25jbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gbyhuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBmLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5uYW1lK1wiXSB3ZWJzb2NrZXQgY2xvc2UgXCIrKHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmwpK1wiLCBjb2RlOiBcIitlLmNvZGUrXCIsIHJlYXNvbjogXCIrZS5yZWFzb24rXCIsIGN1cnJlbnQgbW9kZTogXCIrdGhpcy5yZWNvbm5lY3RNb2RlKSx0aGlzLnJlY29ubmVjdENvdW50PHRoaXMucmV0cnlDb25maWcubWF4UmV0cnlDb3VudD8oXCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpLHQ9ZC5lbWl0QXNJbnZva2VyTm9SZXNwb25zZSh0aGlzLGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5XSUxMX1JFQ09OTkVDVCx0aGlzLnJlY29ubmVjdE1vZGUpfHx0aGlzLnJlY29ubmVjdE1vZGUsWzQsdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKHQpXSk6WzMsMl07Y2FzZSAxOnJldHVybiBuPW8uc2VudCgpLFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlPyhmLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jb25uZWN0aW9uSUQrXCJdIHdzIGlzIGNsb3NlZCwgbm8gbmVlZCB0byByZWNvbm5lY3RcIiksWzJdKTpuPyhyKCksWzMsM10pOihpKG5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IHJlY29ubmVjdCBmYWlsZWQ6IFwiK2UuY29kZSkpLHRoaXMuY2xvc2UoITApLFsyXSk7Y2FzZSAyOmkobmV3IGMuQWdvcmFSVENFcnJvcihjLkFnb3JhUlRDRXJyb3JDb2RlLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgY2xvc2U6IFwiK2UuY29kZSkpLHRoaXMuY2xvc2UoKSxvLmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LG4ud2Vic29ja2V0Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXtuLmVtaXQobC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLk9OX01FU1NBR0UsZSl9fSkpXX0pKX0pKX0sdC5wcm90b3R5cGUucmVjb25uZWN0V2l0aEFjdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixyLGksbztyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiF0JiZ0aGlzLnJlY29ubmVjdENvdW50Pj10aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQ/WzIsITFdOnRoaXMudXJscz9cImNsb3NlZFwiPT09dGhpcy5zdGF0ZT9bMiwhMV06KG49dS5nZXRSZXRyeVdhaXRUaW1lKHRoaXMucmVjb25uZWN0Q291bnQsdGhpcy5yZXRyeUNvbmZpZyksZi5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMubmFtZStcIl0gd2FpdCBcIituK1wibXMgdG8gcmVjb25uZWN0IHdlYnNvY2tldCwgbW9kZTogXCIrZSksWzQsdS53YWl0KG4pXSk6WzIsITFdO2Nhc2UgMTppZihhLnNlbnQoKSxcImNsb3NlZFwiPT09dGhpcy5zdGF0ZSlyZXR1cm5bMiwhMV07dGhpcy5yZWNvbm5lY3RDb3VudCs9MSxhLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBhLnRyeXMucHVzaChbMiwxMiwsMTRdKSxcInJldHJ5XCIhPT1lP1szLDRdOihpPXRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sWzQsdGhpcy5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKGkpXSk7Y2FzZSAzOnJldHVybiBhLnNlbnQoKSxbMywxMV07Y2FzZSA0OnJldHVyblwidHJ5TmV4dFwiIT09ZT9bMyw4XToodGhpcy5jdXJyZW50VVJMSW5kZXgrPTEsdGhpcy5jdXJyZW50VVJMSW5kZXg+PXRoaXMudXJscy5sZW5ndGg/WzQsdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKFwicmVjb3ZlclwiKV06WzMsNl0pO2Nhc2UgNTpyZXR1cm5bMixhLnNlbnQoKV07Y2FzZSA2OnJldHVybiBmLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5uYW1lK1wiXSB3ZWJzb2NrZXQgdXJsIGxlbmd0aDogXCIrdGhpcy51cmxzLmxlbmd0aCtcIiBjdXJyZW50IGluZGV4OiBcIit0aGlzLmN1cnJlbnRVUkxJbmRleCksaT10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLFs0LHRoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihpKV07Y2FzZSA3OnJldHVybiBhLnNlbnQoKSxbMywxMV07Y2FzZSA4OnJldHVyblwicmVjb3ZlclwiIT09ZT9bMywxMV06KGYuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLm5hbWUrXCJdIHJlcXVlc3QgbmV3IHVybHNcIikscj10aGlzLFs0LGQuZW1pdEFzUHJvbWlzZSh0aGlzLGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5SRVFVRVNUX05FV19VUkxTKV0pO2Nhc2UgOTpyZXR1cm4gci51cmxzPWEuc2VudCgpLHRoaXMuY3VycmVudFVSTEluZGV4PTAsaT10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLFs0LHRoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihpKV07Y2FzZSAxMDphLnNlbnQoKSxhLmxhYmVsPTExO2Nhc2UgMTE6cmV0dXJuWzIsITBdO2Nhc2UgMTI6cmV0dXJuIG89YS5zZW50KCksZi5kZWZhdWx0LmVycm9yKFwiW1wiK3RoaXMubmFtZStcIl0gcmVjb25uZWN0IGZhaWxlZFwiLG8udG9TdHJpbmcoKSksWzQsdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGUpXTtjYXNlIDEzOnJldHVyblsyLGEuc2VudCgpXTtjYXNlIDE0OnJldHVyblsyXX19KSl9KSl9LHR9KGQuRXZlbnRFbWl0dGVyKTt0LkFnb3JhV2ViU29ja2V0TWFuYWdlcj1wfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCksaT1uKDM4KSxvPW4oNzkpLGE9big0NCk7ZnVuY3Rpb24gcyhlKXt2YXIgdD1uZXcgbyhlKSxuPWkoby5wcm90b3R5cGUucmVxdWVzdCx0KTtyZXR1cm4gci5leHRlbmQobixvLnByb3RvdHlwZSx0KSxyLmV4dGVuZChuLHQpLG59dmFyIGM9cyhuKDQxKSk7Yy5BeGlvcz1vLGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBzKGEoYy5kZWZhdWx0cyxlKSl9LGMuQ2FuY2VsPW4oNDUpLGMuQ2FuY2VsVG9rZW49big5MyksYy5pc0NhbmNlbD1uKDQwKSxjLmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZSl9LGMuc3ByZWFkPW4oOTQpLGUuZXhwb3J0cz1jLGUuZXhwb3J0cy5kZWZhdWx0PWN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KSxpPW4oMzkpLG89big4MCksYT1uKDgxKSxzPW4oNDQpO2Z1bmN0aW9uIGMoZSl7dGhpcy5kZWZhdWx0cz1lLHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBvLHJlc3BvbnNlOm5ldyBvfX1jLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlPyhlPWFyZ3VtZW50c1sxXXx8e30pLnVybD1hcmd1bWVudHNbMF06ZT1lfHx7fSwoZT1zKHRoaXMuZGVmYXVsdHMsZSkpLm1ldGhvZD9lLm1ldGhvZD1lLm1ldGhvZC50b0xvd2VyQ2FzZSgpOnRoaXMuZGVmYXVsdHMubWV0aG9kP2UubWV0aG9kPXRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk6ZS5tZXRob2Q9XCJnZXRcIjt2YXIgdD1bYSx2b2lkIDBdLG49UHJvbWlzZS5yZXNvbHZlKGUpO2Zvcih0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3QudW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKSx0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSk7dC5sZW5ndGg7KW49bi50aGVuKHQuc2hpZnQoKSx0LnNoaWZ0KCkpO3JldHVybiBufSxjLnByb3RvdHlwZS5nZXRVcmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9cyh0aGlzLmRlZmF1bHRzLGUpLGkoZS51cmwsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LyxcIlwiKX0sci5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJvcHRpb25zXCJdLChmdW5jdGlvbihlKXtjLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLnJlcXVlc3Qoci5tZXJnZShufHx7fSx7bWV0aG9kOmUsdXJsOnR9KSl9fSkpLHIuZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXtjLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LG4saSl7cmV0dXJuIHRoaXMucmVxdWVzdChyLm1lcmdlKGl8fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOm59KSl9fSkpLGUuZXhwb3J0cz1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZnVuY3Rpb24gaSgpe3RoaXMuaGFuZGxlcnM9W119aS5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOmUscmVqZWN0ZWQ6dH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9LGkucHJvdG90eXBlLmVqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnNbZV0mJih0aGlzLmhhbmRsZXJzW2VdPW51bGwpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3IuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLChmdW5jdGlvbih0KXtudWxsIT09dCYmZSh0KX0pKX0sZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KSxpPW4oODIpLG89big0MCksYT1uKDQxKTtmdW5jdGlvbiBzKGUpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKSxlLmhlYWRlcnM9ZS5oZWFkZXJzfHx7fSxlLmRhdGE9aShlLmRhdGEsZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVxdWVzdCksZS5oZWFkZXJzPXIubWVyZ2UoZS5oZWFkZXJzLmNvbW1vbnx8e30sZS5oZWFkZXJzW2UubWV0aG9kXXx8e30sZS5oZWFkZXJzKSxyLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIixcImNvbW1vblwiXSwoZnVuY3Rpb24odCl7ZGVsZXRlIGUuaGVhZGVyc1t0XX0pKSwoZS5hZGFwdGVyfHxhLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBzKGUpLHQuZGF0YT1pKHQuZGF0YSx0LmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gbyh0KXx8KHMoZSksdCYmdC5yZXNwb25zZSYmKHQucmVzcG9uc2UuZGF0YT1pKHQucmVzcG9uc2UuZGF0YSx0LnJlc3BvbnNlLmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSkpKSxQcm9taXNlLnJlamVjdCh0KX0pKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmZvckVhY2gobiwoZnVuY3Rpb24obil7ZT1uKGUsdCl9KSksZX19LGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUuZXhwb3J0cz17fTtmdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHMoZSl7aWYobj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigobj09PW98fCFuKSYmc2V0VGltZW91dClyZXR1cm4gbj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIG4oZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaChlKXtuPW99dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKGUpe3I9YX19KCk7dmFyIGMsZD1bXSx1PSExLGw9LTE7ZnVuY3Rpb24gZigpe3UmJmMmJih1PSExLGMubGVuZ3RoP2Q9Yy5jb25jYXQoZCk6bD0tMSxkLmxlbmd0aCYmcCgpKX1mdW5jdGlvbiBwKCl7aWYoIXUpe3ZhciBlPXMoZik7dT0hMDtmb3IodmFyIHQ9ZC5sZW5ndGg7dDspe2ZvcihjPWQsZD1bXTsrK2w8dDspYyYmY1tsXS5ydW4oKTtsPS0xLHQ9ZC5sZW5ndGh9Yz1udWxsLHU9ITEsZnVuY3Rpb24oZSl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChyPT09YXx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG0oKXt9aS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2QucHVzaChuZXcgZyhlLHQpKSwxIT09ZC5sZW5ndGh8fHV8fHMocCl9LGcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9XCJicm93c2VyXCIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249XCJcIixpLnZlcnNpb25zPXt9LGkub249bSxpLmFkZExpc3RlbmVyPW0saS5vbmNlPW0saS5vZmY9bSxpLnJlbW92ZUxpc3RlbmVyPW0saS5yZW1vdmVBbGxMaXN0ZW5lcnM9bSxpLmVtaXQ9bSxpLnByZXBlbmRMaXN0ZW5lcj1tLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1tLGkubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGkuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ci5mb3JFYWNoKGUsKGZ1bmN0aW9uKG4scil7ciE9PXQmJnIudG9VcHBlckNhc2UoKT09PXQudG9VcHBlckNhc2UoKSYmKGVbdF09bixkZWxldGUgZVtyXSl9KSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uLmNvbmZpZy52YWxpZGF0ZVN0YXR1czshaXx8aShuLnN0YXR1cyk/ZShuKTp0KHIoXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiK24uc3RhdHVzLG4uY29uZmlnLG51bGwsbi5yZXF1ZXN0LG4pKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gZS5jb25maWc9dCxuJiYoZS5jb2RlPW4pLGUucmVxdWVzdD1yLGUucmVzcG9uc2U9aSxlLmlzQXhpb3NFcnJvcj0hMCxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9uLG51bWJlcjp0aGlzLm51bWJlcixmaWxlTmFtZTp0aGlzLmZpbGVOYW1lLGxpbmVOdW1iZXI6dGhpcy5saW5lTnVtYmVyLGNvbHVtbk51bWJlcjp0aGlzLmNvbHVtbk51bWJlcixzdGFjazp0aGlzLnN0YWNrLGNvbmZpZzp0aGlzLmNvbmZpZyxjb2RlOnRoaXMuY29kZX19LGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4OCksaT1uKDg5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmIXIodCk/aShlLHQpOnR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybi9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdChlKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLnJlcGxhY2UoL1xcLyskLyxcIlwiKStcIi9cIit0LnJlcGxhY2UoL15cXC8rLyxcIlwiKTplfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpLGk9W1wiYWdlXCIsXCJhdXRob3JpemF0aW9uXCIsXCJjb250ZW50LWxlbmd0aFwiLFwiY29udGVudC10eXBlXCIsXCJldGFnXCIsXCJleHBpcmVzXCIsXCJmcm9tXCIsXCJob3N0XCIsXCJpZi1tb2RpZmllZC1zaW5jZVwiLFwiaWYtdW5tb2RpZmllZC1zaW5jZVwiLFwibGFzdC1tb2RpZmllZFwiLFwibG9jYXRpb25cIixcIm1heC1mb3J3YXJkc1wiLFwicHJveHktYXV0aG9yaXphdGlvblwiLFwicmVmZXJlclwiLFwicmV0cnktYWZ0ZXJcIixcInVzZXItYWdlbnRcIl07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhPXt9O3JldHVybiBlPyhyLmZvckVhY2goZS5zcGxpdChcIlxcblwiKSwoZnVuY3Rpb24oZSl7aWYobz1lLmluZGV4T2YoXCI6XCIpLHQ9ci50cmltKGUuc3Vic3RyKDAsbykpLnRvTG93ZXJDYXNlKCksbj1yLnRyaW0oZS5zdWJzdHIobysxKSksdCl7aWYoYVt0XSYmaS5pbmRleE9mKHQpPj0wKXJldHVybjthW3RdPVwic2V0LWNvb2tpZVwiPT09dD8oYVt0XT9hW3RdOltdKS5jb25jYXQoW25dKTphW3RdP2FbdF0rXCIsIFwiK246bn19KSksYSk6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KTtlLmV4cG9ydHM9ci5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7dmFyIGUsdD0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ZnVuY3Rpb24gaShlKXt2YXIgcj1lO3JldHVybiB0JiYobi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIscikscj1uLmhyZWYpLG4uc2V0QXR0cmlidXRlKFwiaHJlZlwiLHIpLHtocmVmOm4uaHJlZixwcm90b2NvbDpuLnByb3RvY29sP24ucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDpuLmhvc3Qsc2VhcmNoOm4uc2VhcmNoP24uc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDpuLmhhc2g/bi5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDpuLnBvcnQscGF0aG5hbWU6XCIvXCI9PT1uLnBhdGhuYW1lLmNoYXJBdCgwKT9uLnBhdGhuYW1lOlwiL1wiK24ucGF0aG5hbWV9fXJldHVybiBlPWkod2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHQpe3ZhciBuPXIuaXNTdHJpbmcodCk/aSh0KTp0O3JldHVybiBuLnByb3RvY29sPT09ZS5wcm90b2NvbCYmbi5ob3N0PT09ZS5ob3N0fX0oKTpmdW5jdGlvbigpe3JldHVybiEwfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpO2UuZXhwb3J0cz1yLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/e3dyaXRlOmZ1bmN0aW9uKGUsdCxuLGksbyxhKXt2YXIgcz1bXTtzLnB1c2goZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkpLHIuaXNOdW1iZXIobikmJnMucHVzaChcImV4cGlyZXM9XCIrbmV3IERhdGUobikudG9HTVRTdHJpbmcoKSksci5pc1N0cmluZyhpKSYmcy5wdXNoKFwicGF0aD1cIitpKSxyLmlzU3RyaW5nKG8pJiZzLnB1c2goXCJkb21haW49XCIrbyksITA9PT1hJiZzLnB1c2goXCJzZWN1cmVcIiksZG9jdW1lbnQuY29va2llPXMuam9pbihcIjsgXCIpfSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58O1xcXFxzKikoXCIrZStcIik9KFteO10qKVwiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLndyaXRlKGUsXCJcIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNDUpO2Z1bmN0aW9uIGkoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgdDt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Q9ZX0pKTt2YXIgbj10aGlzO2UoKGZ1bmN0aW9uKGUpe24ucmVhc29ufHwobi5yZWFzb249bmV3IHIoZSksdChuLnJlYXNvbikpfSkpfWkucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn0saS5zb3VyY2U9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm57dG9rZW46bmV3IGkoKGZ1bmN0aW9uKHQpe2U9dH0pKSxjYW5jZWw6ZX19LGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKG4oMCkpLG89MSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxvY2tpbmdQcm9taXNlPVByb21pc2UucmVzb2x2ZSgpLHRoaXMubG9ja3M9MCx0aGlzLm5hbWU9XCJcIix0aGlzLmxvY2tJZD1vKyssZSYmKHRoaXMubmFtZT1lKSxpLmRlZmF1bHQuZGVidWcoXCJbbG9jay1cIit0aGlzLm5hbWUrXCItXCIrdGhpcy5sb2NrSWQrXCJdIGlzIGNyZWF0ZWQuXCIpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0xvY2tlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2Nrcz4wfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmxvY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7dGhpcy5sb2Nrcys9MSxpLmRlZmF1bHQuZGVidWcoXCJbbG9jay1cIit0aGlzLm5hbWUrXCItXCIrdGhpcy5sb2NrSWQrXCJdIGlzIGxvY2tlZCwgY3VycmVudCBxdWV1ZSBcIit0aGlzLmxvY2tzK1wiLlwiKTt2YXIgbj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZT1mdW5jdGlvbigpe3QubG9ja3MtPTEsaS5kZWZhdWx0LmRlYnVnKFwiW2xvY2stXCIrdC5uYW1lK1wiLVwiK3QubG9ja0lkK1wiXSBpcyBub3QgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiK3QubG9ja3MrXCIuXCIpLG4oKX19KSkscj10aGlzLmxvY2tpbmdQcm9taXNlLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSk7cmV0dXJuIHRoaXMubG9ja2luZ1Byb21pc2U9dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKChmdW5jdGlvbigpe3JldHVybiBufSkpLHJ9LGV9KCk7dC5Qcm9taXNlTXV0ZXg9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgcj1uKDIpLGk9bigwKSxvPW4oMSksYT1uKDgpLHM9big1KSxjPWZ1bmN0aW9uKCl7fTtjLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtbXCJCYXR0ZXJ5TGV2ZWxcIl0uaW5kZXhPZihlKT4tMSYmKHRoaXNbZV09dCl9O3ZhciBkPW5ldyBmdW5jdGlvbigpe3ZhciBlPU9iamVjdChhLmIpKCk7cmV0dXJuIGUuc3RhdGVzPXtVTklOSVQ6XCJVTklOSVRcIixJTklUSU5HOlwiSU5JVElOR1wiLElOSVRFRDpcIklOSVRFRFwifSxlLnN0YXRlPWUuc3RhdGVzLlVOSU5JVCxlLmJhdHRlcnlNYW5hZ2VyPW51bGwsZS5faW5pdD1mdW5jdGlvbih0LG4pe2Uuc3RhdGU9ZS5zdGF0ZXMuSU5JVElORyxuYXZpZ2F0b3IuZ2V0QmF0dGVyeT9uYXZpZ2F0b3IuZ2V0QmF0dGVyeSgpLnRoZW4oKGZ1bmN0aW9uKG4pe2UuYmF0dGVyeU1hbmFnZXI9bix0JiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QoKX0pLDApfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZGVidWcoXCJuYXZpZ2F0b3IuZ2V0QmF0dGVyeSBpcyBkaXNhYmxlZFwiLGUpLHQmJnQoKX0pKTooZS5zdGF0ZT1lLnN0YXRlcy5JTklURUQsdCYmdCgpKX0sZS5fZ2V0QmF0dGVyeVN0YXRzPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGUuYmF0dGVyeU1hbmFnZXImJmUuYmF0dGVyeU1hbmFnZXIubGV2ZWw/dC5CYXR0ZXJ5TGV2ZWw9TWF0aC5mbG9vcigxMDAqZS5iYXR0ZXJ5TWFuYWdlci5sZXZlbCk6dC5CYXR0ZXJ5TGV2ZWw9XCJVTlNVUFBPUlRFRFwiLHR9LGUuZ2V0U3RhdHM9ZnVuY3Rpb24odCxuKXt2YXIgcj1uZXcgYyxpPWUuX2dldEJhdHRlcnlTdGF0cygpO2kmJmkuQmF0dGVyeUxldmVsJiZyLnNldChcIkJhdHRlcnlMZXZlbFwiLGkuQmF0dGVyeUxldmVsKSx0JiZ0KHIpfSxlLl9pbml0KCksZX0sdT1uKDIyKSxsPW4oMTkpLGY9bigyNikscD1uKDUzKSxnPW4oOSksbT1bXCJsaXZlXCIsXCJydGNcIixcIndlYlwiLFwiaW50ZXJvcFwiLFwiaDI2NF9pbnRlcm9wXCIsXCJ3ZWItb25seVwiXSxoPVtcInZwOFwiLFwidnA5XCIsXCJoMjY0XCJdLHY9W1wiYWVzLTEyOC1nY21cIixcImFlcy0yNTYtZ2NtXCIsXCJhZXMtMTI4LXh0c1wiLFwiYWVzLTI1Ni14dHNcIixcImFlcy0xMjgtZWNiXCIsXCJzbTQtMTI4LWVjYlwiLFwiYWVzLTI1Ni1nY20yXCIsXCJhZXMtMTI4LWdjbTJcIl0sRT1uKDExKSxTPW4ubihFKSxfPW4oNykseT1uLm4oXyksUj1uKDEzKSxUPW4oNCksST1uKDEwKSxiPW4oMjApLEE9big2KSxPPW4oMTQpLEM9ezEwMDE6XCJGUkFNRVJBVEVfSU5QVVRfVE9PX0xPV1wiLDEwMDI6XCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XXCIsMTAwMzpcIlNFTkRfVklERU9fQklUUkFURV9UT09fTE9XXCIsMTAwNTpcIlJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRFwiLDIwMDE6XCJBVURJT19JTlBVVF9MRVZFTF9UT09fTE9XXCIsMjAwMjpcIkFVRElPX09VVFBVVF9MRVZFTF9UT09fTE9XXCIsMjAwMzpcIlNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XXCIsMjAwNTpcIlJFQ1ZfQVVESU9fREVDT0RFX0ZBSUxFRFwiLDMwMDE6XCJGUkFNRVJBVEVfSU5QVVRfVE9PX0xPV19SRUNPVkVSXCIsMzAwMjpcIkZSQU1FUkFURV9TRU5UX1RPT19MT1dfUkVDT1ZFUlwiLDMwMDM6XCJTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPV19SRUNPVkVSXCIsMzAwNTpcIlJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRF9SRUNPVkVSXCIsNDAwMTpcIkFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1dfUkVDT1ZFUlwiLDQwMDI6XCJBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPV19SRUNPVkVSXCIsNDAwMzpcIlNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XX1JFQ09WRVJcIiw0MDA1OlwiUkVDVl9BVURJT19ERUNPREVfRkFJTEVEX1JFQ09WRVJcIn0sTj17RnJhbWVyYXRlSW5wdXQ6MTAwMSxGcmFtZXJhdGVTZW50OjEwMDIsU2VuZFZpZGVvQml0cmF0ZToxMDAzLFZpZGVvRGVjb2RlOjEwMDUsQXVkaW9JbnRwdXRMZXZlbDoyMDAxLEF1ZGlvT3V0cHV0TGV2ZWw6MjAwMixTZW5kQXVkaW9CaXRyYXRlOjIwMDMsQXVkaW9EZWNvZGU6MjAwNX0sdz1mdW5jdGlvbihlKXt2YXIgdD17cmVtb3RlU3RyZWFtU3RvcmFnZTp7fSxsb2NhbFN0cmVhbVN0b3JhZ2U6e319O3JldHVybiB0LmdhdGV3YXlDbGllbnQ9ZSx0LmNoZWNrQXVkaW9PdXRwdXRMZXZlbD1mdW5jdGlvbihlKXtyZXR1cm4hKGUmJnBhcnNlSW50KGUuYXVkaW9SZWN2Qnl0ZXNEZWx0YSk+MCYmcGFyc2VJbnQoZS5hdWRpb0RlY29kaW5nTm9ybWFsRGVsdGEpPjAmJjA9PT1wYXJzZUludChlLmF1ZGlvT3V0cHV0TGV2ZWwpKX0sdC5jaGVja0F1ZGlvSW50cHV0TGV2ZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDAhPT1wYXJzZUludChlLmF1ZGlvSW5wdXRMZXZlbCl9LHQuY2hlY2tGcmFtZXJhdGVJbnB1dD1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdC5hdHRyaWJ1dGVzKXJldHVybiEwO3ZhciBuPXBhcnNlSW50KHQuYXR0cmlidXRlcy5tYXhGcmFtZVJhdGUpLHI9cGFyc2VJbnQoZS5nb29nRnJhbWVSYXRlSW5wdXQpO3JldHVybiFufHwhcnx8IShuPjEwJiZyPDV8fG48MTAmJm4+PTUmJnI8PTEpfSx0LmNoZWNrRnJhbWVyYXRlU2VudD1mdW5jdGlvbihlKXtyZXR1cm4hKGUmJnBhcnNlSW50KGUuZ29vZ0ZyYW1lUmF0ZUlucHV0KT41JiZwYXJzZUludChlLmdvb2dGcmFtZVJhdGVTZW50KTw9MSl9LHQuY2hlY2tTZW5kVmlkZW9CaXRyYXRlPWZ1bmN0aW9uKGUpe3JldHVybiFlfHwwIT09cGFyc2VJbnQoZS52aWRlb1NlbmRCeXRlc0RlbHRhKX0sdC5jaGVja1NlbmRBdWRpb0JpdHJhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDAhPT1wYXJzZUludChlLmF1ZGlvU2VuZEJ5dGVzRGVsdGEpfSx0LmNoZWNrVmlkZW9EZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDA9PT1wYXJzZUludChlLnZpZGVvUmVjdkJ5dGVzRGVsdGEpfHwwIT09cGFyc2VJbnQoZS5nb29nRnJhbWVSYXRlRGVjb2RlZCl9LHQuY2hlY2tBdWRpb0RlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4hZXx8MD09PXBhcnNlSW50KGUuYXVkaW9SZWN2Qnl0ZXNEZWx0YSl8fDAhPT1wYXJzZUludChlLmF1ZGlvRGVjb2RpbmdOb3JtYWxEZWx0YSl9LHQucmVjb3JkPWZ1bmN0aW9uKGUsbixyLGksbyl7cltlXXx8KHJbZV09e2lzUHJldk5vcm1hbDohMCxyZWNvcmQ6W119KTt2YXIgYT1yW2VdLHM9dFtcImNoZWNrXCIrZV0obixvKTtpZihhLnJlY29yZC5wdXNoKHMpLGEucmVjb3JkLmxlbmd0aD49NSl7YS5pc0N1ck5vcm1hbD0tMSE9PWEucmVjb3JkLmluZGV4T2YoITApO3ZhciBjPU5bZV07YS5pc1ByZXZOb3JtYWwmJiFhLmlzQ3VyTm9ybWFsJiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImV4Y2VwdGlvblwiLGNvZGU6Yyxtc2c6Q1tjXSx1aWQ6aX0pLCFhLmlzUHJldk5vcm1hbCYmYS5pc0N1ck5vcm1hbCYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJleGNlcHRpb25cIixjb2RlOmMrMmUzLG1zZzpDW2MrMmUzXSx1aWQ6aX0pLGEuaXNQcmV2Tm9ybWFsPWEuaXNDdXJOb3JtYWwsYS5yZWNvcmQ9W119fSx0LnNldExvY2FsU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49e307T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihyKXt2YXIgaT1lW3JdLG89dC5nYXRld2F5Q2xpZW50LmxvY2FsU3RyZWFtc1twYXJzZUludChyKV0sYT10LmxvY2FsU3RyZWFtU3RvcmFnZVtyXXx8e307byYmby5oYXNWaWRlbygpJiYodC5yZWNvcmQoXCJTZW5kVmlkZW9CaXRyYXRlXCIsaS52aWRlb1N0YXRzLGEsciksdC5yZWNvcmQoXCJGcmFtZXJhdGVJbnB1dFwiLGkudmlkZW9TdGF0cyxhLHIsbyksdC5yZWNvcmQoXCJGcmFtZXJhdGVTZW50XCIsaS52aWRlb1N0YXRzLGEscikpLG8mJm8uaGFzQXVkaW8oKSYmKHQucmVjb3JkKFwiQXVkaW9JbnRwdXRMZXZlbFwiLGkuYXVkaW9TdGF0cyxhLHIpLHQucmVjb3JkKFwiU2VuZEF1ZGlvQml0cmF0ZVwiLGkuYXVkaW9TdGF0cyxhLHIpKSxuW3JdPWF9KSksdC5sb2NhbFN0cmVhbVN0b3JhZ2U9bn0sdC5zZXRSZW1vdGVTdGF0cz1mdW5jdGlvbihuKXt2YXIgcj17fTtPYmplY3Qua2V5cyhuKS5tYXAoKGZ1bmN0aW9uKGkpe3ZhciBvPW5baV0sYT1lLnJlbW90ZVN0cmVhbXNbaV0scz10LnJlbW90ZVN0cmVhbVN0b3JhZ2VbaV18fHt9O2EmJmEuaGFzVmlkZW8oKSYmYS5pc1BsYXlpbmcoKSYmdC5yZWNvcmQoXCJWaWRlb0RlY29kZVwiLG8udmlkZW9TdGF0cyxzLGkpLGEmJmEuaGFzQXVkaW8oKSYmYS5pc1BsYXlpbmcoKSYmKHQucmVjb3JkKFwiQXVkaW9PdXRwdXRMZXZlbFwiLG8uYXVkaW9TdGF0cyxzLGkpLHQucmVjb3JkKFwiQXVkaW9EZWNvZGVcIixvLmF1ZGlvU3RhdHMscyxpKSkscltpXT1zfSkpLHQucmVtb3RlU3RyZWFtU3RvcmFnZT1yfSx0fTtmdW5jdGlvbiBMKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIEQoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7XCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uKXJldHVybiBBcnJheS5mcm9tKG4pO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gRChlLHQpfShlKSkpe3ZhciB0PTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIHQ+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3QrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLGksbz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1lW1N5bWJvbC5pdGVyYXRvcl0oKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fWZ1bmN0aW9uIEQoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgayxNPW4oMyksUD1uZXcgZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QoYS5iKSgpO3JldHVybiBlLnN0YXRlcz17VU5JTklUOlwiVU5JTklUXCIsSU5JVElORzpcIklOSVRJTkdcIixJTklURUQ6XCJJTklURURcIn0sZS5zdGF0ZT1lLnN0YXRlcy5VTklOSVQsZS50eXBlPW51bGwsZS5sYXN0Q29ubmVjdGVkQXQ9bnVsbCxlLmxhc3REaXNjb25uZWN0ZWRBdD1udWxsLGUubGFzdFR5cGVDaGFuZ2VkQXQ9bnVsbCxlLm5ldHdvcmtDaGFuZ2VUaW1lcj1udWxsLGUuX2luaXQ9ZnVuY3Rpb24odCxuKXtpZihlLnN0YXRlPWUuc3RhdGVzLklOSVRJTkcsbmF2aWdhdG9yLmNvbm5lY3Rpb24mJm5hdmlnYXRvci5jb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciByPWUuX2dldE5ldHdvcmtJbmZvKCk7ZS50eXBlPXImJnIudHlwZSxlLnN0YXRlPWUuc3RhdGVzLklOSVRFRCx0JiZ0KCl9ZWxzZSBlLnN0YXRlPWUuc3RhdGVzLlVOSU5JVCxuJiZuKFwiRE9fTk9UX1NVUFBPUlRcIil9LGUuX2dldE5ldHdvcmtJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5jb25uZWN0aW9ufSxlLl9yZWxvYWROZXR3b3JrSW5mbz1mdW5jdGlvbigpe3ZhciB0PWUuX2dldE5ldHdvcmtJbmZvKCksbj10JiZ0LnR5cGV8fFwiVU5TVVBQT1JURURcIixyPURhdGUubm93KCk7aWYobiE9PWUudHlwZSl7ZS5sYXN0VHlwZUNoYW5nZWRBdD1yLFwibm9uZVwiPT1uP2UubGFzdERpc2Nvbm5lY3RlZEF0PXI6XCJub25lXCI9PWUudHlwZSYmKGUubGFzdENvbm5lY3RlZEF0PXIpLGUudHlwZT1uO3ZhciBpPXt0eXBlOlwibmV0d29ya1R5cGVDaGFuZ2VkXCIsbmV0d29ya1R5cGU6bn07ZS5kaXNwYXRjaEV2ZW50KGkpfX0sZS5nZXRTdGF0cz1mdW5jdGlvbih0LG4pe3ZhciByPXt9LGk9ZS5fZ2V0TmV0d29ya0luZm8oKTtpJiYoci5OZXR3b3JrVHlwZT1pLnR5cGV8fFwiVU5TVVBQT1JURURcIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KHIpfSksMCl9LGUuX2luaXQoKGZ1bmN0aW9uKCl7bmF2aWdhdG9yLmNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLChmdW5jdGlvbigpe2UuX3JlbG9hZE5ldHdvcmtJbmZvKCl9KSksZS5uZXR3b3JrQ2hhbmdlVGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5fcmVsb2FkTmV0d29ya0luZm8oKX0pLDVlMyl9KSwoZnVuY3Rpb24oZSl7fSkpLGV9LHg9big1NSksVT1uKDE2KSxqPW4oNTYpLFY9bi5uKGopLEI9bigyMSksRj1mdW5jdGlvbigpe3JldHVyblwiSFRUUFNcIj09PShrfHxrfHwoaz0od2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNwbGl0KFwiOlwiKVswXXx8XCJcIikudG9VcHBlckNhc2UoKSkpfSxXPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXdpbmRvdy5pc1NlY3VyZUNvbnRleHR9LEc9XCJob3N0XCIsSD1mdW5jdGlvbihlKXt2YXIgdD17a2V5OnZvaWQgMCxoaWdoU3RyZWFtOm51bGwsbG93U3RyZWFtOm51bGwsbG93U3RyZWFtUGFyYW1ldGVyOm51bGwsaXNEdWFsU3RyZWFtOiExLGhpZ2hTdHJlYW1TdGF0ZToyLGxvd1N0cmVhbVN0YXRlOjIscHJveHlTZXJ2ZXI6bnVsbCx0dXJuU2VydmVyczpbXSx1c2VQcm94eVNlcnZlcjohMSx1c2VMb2NhbEFjY2Vzc1BvaW50OiExfTt0Lm1vZGU9ZS5tb2RlLHQuY29kZWM9ZS5jb2RlYyx0LmNsaWVudElkPU9iamVjdChJLmdlbmVyYXRlU2Vzc2lvbklkKSgpLnNsaWNlKDAsNSksdC51aW50VWlkPW51bGwsdC5jdXN0b21SZXBvcnRDb3VudD0wO2U9eSgpKHt9LGUpO2lmKHQuYWVzcGFzc3dvcmQ9bnVsbCx0LmFlc21vZGU9XCJub25lXCIsdC5oYXNQdWJsaXNoZWQ9ITEsdC5nZXRTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZXNzaW9uSWR9LHQuc3RhcnRDaGFubmVsTWVkaWFSZWxheT1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gciYmcihlKTtyJiZyKCl9LG5hbWU6XCJDbGllbnQuc3RhcnRDaGFubmVsTWVkaWFSZWxheVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoIShuIGluc3RhbmNlb2YgZy5DaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb24pKXRocm93XCJDb25maWdyYXRpb24gc2hvdWxkIGJlIGluc3RhbmNlIG9mIFtDaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb25dXCI7dmFyIGE9bi5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCkscz1uLmdldERlc3RDaGFubmVsTWVkaWFJbmZvcygpO2lmKE9iamVjdChNLmlzRW1wdHkpKGEpKXRocm93XCJzcmNDaGFubmVsTWVkaWFJbmZvIHNob3VsZCBub3QgYmUgZW1wdHlcIjtpZihPYmplY3QoTS5pc0VtcHR5KShzKXx8MD09PXMubGVuZ3RoKXRocm93XCJkZXN0Q2hhbm5lbE1lZGlhSW5mb3Mgc2hvdWxkIG5vdCBiZSBlbXB0eVwiO2lmKCFPYmplY3QoSS5pczMyVWludCkoYS51aWQpKXRocm93XCJJbnZhbGlkIHVpZCBpbiBzcmNDaGFubmVsTWVkaWFJbmZvXCI7aWYoIU9iamVjdChNLmlzVmFsaWRDaGFubmVsTmFtZSkoYS5jaGFubmVsTmFtZSkpdGhyb3dcIkludmFsaWQgY2hhbm5lbE5hbWUgaW4gc3JjQ2hhbm5lbE1lZGlhSW5mb1wiO2lmKGEudG9rZW4mJiFPYmplY3QoTS5pc1ZhbGlkVG9rZW4pKGEudG9rZW4pKXRocm93XCJJbnZhbGlkIHRva2VuIGluIHNyY0NoYW5uZWxNZWRpYUluZm9cIjtpZihzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoSS5pczMyVWludCkoZS51aWQpKXRocm93XCJJbnZhbGlkIHVpZCBpbiBkZXN0Q2hhbm5lbE1lZGlhSW5mb1wiO2lmKCFPYmplY3QoTS5pc1ZhbGlkQ2hhbm5lbE5hbWUpKGUuY2hhbm5lbE5hbWUpKXRocm93XCJJbnZhbGlkIGNoYW5uZWxOYW1lIGluIGRlc3RDaGFubmVsTWVkaWFJbmZvXCI7aWYoZS50b2tlbiYmIU9iamVjdChNLmlzVmFsaWRUb2tlbikoZS50b2tlbikpdGhyb3dcIkludmFsaWQgdG9rZW4gaW4gZGVzdENoYW5uZWxNZWRpYUluZm9cIn0pKSx0LmdhdGV3YXlDbGllbnQuc3RhdGUhPT1SLmEuQ09OTkVDVEVEKXRocm93XCJzdGFydENoYW5uZWxNZWRpYVJlbGF5IHNob3VsZCBiZSB1c2VkIGFmdGVyIGpvaW5cIjt0LmdhdGV3YXlDbGllbnQuc3RhcnRDaGFubmVsTWVkaWFSZWxheShuKS50aGVuKChmdW5jdGlvbigpe2kmJmkoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aSYmaShlKX0pKX0sdC51cGRhdGVDaGFubmVsTWVkaWFSZWxheT1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gciYmcihlKTtyJiZyKCl9LG5hbWU6XCJDbGllbnQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKCEobiBpbnN0YW5jZW9mIGcuQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uKSl0aHJvd1wiQ29uZmlncmF0aW9uIHNob3VsZCBiZSBpbnN0YW5jZSBvZiBbQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uXVwiO3ZhciBhPW4uZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLHM9bi5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mb3MoKTtpZihPYmplY3QoTS5pc0VtcHR5KShhKSl0aHJvd1wic3JjQ2hhbm5lbE1lZGlhSW5mbyBzaG91bGQgbm90IGJlIGVtcHR5XCI7aWYoT2JqZWN0KE0uaXNFbXB0eSkocyl8fDA9PT1zLmxlbmd0aCl0aHJvd1wiZGVzdENoYW5uZWxNZWRpYUluZm9zIHNob3VsZCBub3QgYmUgZW1wdHlcIjtpZighT2JqZWN0KEkuaXMzMlVpbnQpKGEudWlkKSl0aHJvd1wiSW52YWxpZCB1aWQgaW4gc3JjQ2hhbm5lbE1lZGlhSW5mb1wiO2lmKCFPYmplY3QoTS5pc1ZhbGlkQ2hhbm5lbE5hbWUpKGEuY2hhbm5lbE5hbWUpKXRocm93XCJJbnZhbGlkIGNoYW5uZWxOYW1lIGluIHNyY0NoYW5uZWxNZWRpYUluZm9cIjtpZihhLnRva2VuJiYhT2JqZWN0KE0uaXNWYWxpZFRva2VuKShhLnRva2VuKSl0aHJvd1wiSW52YWxpZCB0b2tlbiBpbiBzcmNDaGFubmVsTWVkaWFJbmZvXCI7aWYocy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighT2JqZWN0KEkuaXMzMlVpbnQpKGUudWlkKSl0aHJvd1wiSW52YWxpZCB1aWQgaW4gZGVzdENoYW5uZWxNZWRpYUluZm9cIjtpZighT2JqZWN0KE0uaXNWYWxpZENoYW5uZWxOYW1lKShlLmNoYW5uZWxOYW1lKSl0aHJvd1wiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBkZXN0Q2hhbm5lbE1lZGlhSW5mb1wiO2lmKGUudG9rZW4mJiFPYmplY3QoTS5pc1ZhbGlkVG9rZW4pKGUudG9rZW4pKXRocm93XCJJbnZhbGlkIHRva2VuIGluIGRlc3RDaGFubmVsTWVkaWFJbmZvXCJ9KSksdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkNPTk5FQ1RFRCl0aHJvd1widXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkgc2hvdWxkIGJlIHVzZWQgYWZ0ZXIgam9pblwiO3QuZ2F0ZXdheUNsaWVudC51cGRhdGVDaGFubmVsTWVkaWFSZWxheShuKS50aGVuKChmdW5jdGlvbigpe2kmJmkoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aSYmaShlKX0pKX0sdC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXk9ZnVuY3Rpb24obil7dmFyIHI9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlKXtpZihlKXJldHVybiBuJiZuKGUpO24mJm4oKX0sbmFtZTpcIkNsaWVudC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3QuZ2F0ZXdheUNsaWVudC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKS50aGVuKChmdW5jdGlvbigpe3ImJnIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ciYmcihlKX0pKX0sdC5nZXRDb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oKXt2YXIgbj1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuZ2V0Q29ubmVjdGlvblN0YXRlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KSxyPVIuYS5jb25uZXRpb25TdGF0ZU1hcFt0LmdhdGV3YXlDbGllbnQuc3RhdGVdO3JldHVybiBuKCkscn0sdC5zZXRDbGllbnRSb2xlPWZ1bmN0aW9uKG4scil7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpyLG5hbWU6XCJDbGllbnQuc2V0Q2xpZW50Um9sZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoT2JqZWN0KE0uY2hlY2tWYWxpZEVudW0pKG4sXCJzZXRDbGllbnRSb2xlXCIsW0csXCJhdWRpZW5jZVwiXSksXCJydGNcIj09PXQubW9kZSl7dmFyIHM9XCJSVEMgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCI7cmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBcIikuY29uY2F0KHMpKSxhJiZhKHMpfXQuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LnN0YXRlPT09Ui5hLkNPTk5FQ1RFRD8oXCJhdWRpZW5jZVwiPT09biYmKDA9PT10aGlzLmhpZ2hTdHJlYW1TdGF0ZT90aGlzLl91bnB1Ymxpc2godGhpcy5oaWdoU3RyZWFtLChmdW5jdGlvbigpe2EmJmEobnVsbCx7cm9sZTpufSl9KSwoZnVuY3Rpb24oZSl7YSYmYShlKX0pKTp0LmdhdGV3YXlDbGllbnQuc2V0Q2xpZW50Um9sZShcImF1ZGllbmNlXCIsYSkpLG49PT1HJiZ0LmdhdGV3YXlDbGllbnQuc2V0Q2xpZW50Um9sZShHLGEpKToodC5nYXRld2F5Q2xpZW50LnJvbGU9bixhJiZhKG51bGwse3JvbGU6bn0pKX0sdC5nZXRHYXRld2F5SW5mbz1mdW5jdGlvbihlKXtpZih0LmdhdGV3YXlDbGllbnQuc3RhdGUhPT1SLmEuQ09OTkVDVEVEKXt2YXIgbj1cIkNsaWVudCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlXCI7cmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gXCIpLmNvbmNhdChuKSksdm9pZCBlKG4pfXQuZ2F0ZXdheUNsaWVudC5nZXRHYXRld2F5SW5mbygoZnVuY3Rpb24odCl7ZShudWxsLHQpfSksZSl9LHQucmVuZXdUb2tlbj1mdW5jdGlvbihuLHIsYSl7dmFyIHM9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIkZhaWxlZCB0byByZW5ldyB0b2tlbiBcIi5jb25jYXQoZSksdCksYSYmYShlKTtyJiZyKHQpfSxuYW1lOlwiQ2xpZW50LnJlbmV3VG9rZW5cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKCFPYmplY3QoTS5pc1ZhbGlkVG9rZW4pKG4pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdG9rZW46IFRva2VuIGlzIG9mIHRoZSBzdHJpbmcgdHlwZSAuTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS5cIik7cmV0dXJuIHQuZ2F0ZXdheUNsaWVudD90LmtleT8odC5rZXk9bix2b2lkIHQuZ2F0ZXdheUNsaWVudC5yZW5ld1Rva2VuKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBzKG51bGwsZSl9KSxzKSk6KGkuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUgdXNlciBqb2luXCIpKSxzKFQuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTikpOihpLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gRmFpbGVkLiBHYXRld2F5Q2xpZW50IG5vdCBFeGlzdFwiKSkscyhULmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pKX0sdC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXI9ZnVuY3Rpb24obil7dmFyIHI9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNldExvd1N0cmVhbVBhcmFtZXRlclwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7T2JqZWN0KE0uY2hlY2tWYWxpZE9iamVjdCkobixcInBhcmFtXCIpO3ZhciBhPW4ud2lkdGgscz1uLmhlaWdodCxjPW4uZnJhbWVyYXRlLGQ9bi5iaXRyYXRlO09iamVjdChNLmlzRW1wdHkpKGEpfHxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShhLFwid2lkdGhcIiksT2JqZWN0KE0uaXNFbXB0eSkocyl8fE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKHMsXCJoZWlnaHRcIiksT2JqZWN0KE0uaXNFbXB0eSkoYyl8fE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKGMsXCJmcmFtZXJhdGVcIiksT2JqZWN0KE0uaXNFbXB0eSkoZCl8fE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKGQsXCJiaXRyYXRlXCIsMSwxZTcpLCghYSYmc3x8YSYmIXMpJiZpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gVGhlIHdpZHRoIGFuZCBoZWlnaHQgcGFyYW1ldGVycyB0YWtlIGVmZmVjdCBvbmx5IHdoZW4gYm90aCBhcmUgc2V0XCIpKSx0Lmxvd1N0cmVhbVBhcmFtZXRlcj1uLHIoKX0sdC5pbml0PWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gciYmcihlKTtuJiZuKHQpfSxuYW1lOlwiQ2xpZW50LmluaXRcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKHQpLE9iamVjdChzLmlzQ2hyb21lS2VybmVsKSgpJiZPYmplY3Qocy5nZXRDaHJvbWVLZXJuZWxWZXJzaW9uKSgpPD00OD9yP2koVC5kZWZhdWx0LkJBRF9FTlZJUk9OTUVOVCk6T2JqZWN0KEkucG9wQmFuVGlwKSgpOihlLmFwcElkPXQsZS5zZXNzaW9uSWQ9T2JqZWN0KEkuZ2VuZXJhdGVTZXNzaW9uSWQpKCksaSgpKX0sdC5zZXRUdXJuU2VydmVyPWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRUdXJuU2VydmVyXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZih0LmdhdGV3YXlDbGllbnQmJnQuZ2F0ZXdheUNsaWVudC5zdGF0ZSE9PVIuYS5ESVNDT05ORUNURUQpdGhyb3cgbmV3IEVycm9yKFwiU2V0IHR1cm4gc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYodC51c2VQcm94eVNlcnZlcil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7aWYodC51c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBsb2NhbCBwcm94eVwiKTtuIGluc3RhbmNlb2YgQXJyYXl8fChuPVtuXSk7dmFyIGE9W107bi5tYXAoKGZ1bmN0aW9uKGUsbil7T2JqZWN0KE0uY2hlY2tWYWxpZE9iamVjdCkoZSxcInR1cm5TZXJ2ZXJcIik7dmFyIHI9ZS50dXJuU2VydmVyVVJMLG89ZS51c2VybmFtZSxzPWUucGFzc3dvcmQsYz1lLnVkcHBvcnQsZD1lLmZvcmNldHVybix1PWUudGNwcG9ydDtpZihPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShyLFwidHVyblNlcnZlclVSTFwiKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShvLFwidXNlcm5hbWVcIiksT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykocyxcInBhc3N3b3JkXCIpLE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKGMsXCJ1ZHBwb3J0XCIpLDA9PT1wYXJzZUludChjKSl0aHJvdyBuZXcgRXJyb3IoXCJ1ZHBwb3J0IHNob3VsZCBub3QgYmUgXCIuY29uY2F0KGMpKTtPYmplY3QoTS5pc0VtcHR5KShkKXx8T2JqZWN0KE0uY2hlY2tWYWxpZEJvb2xlYW4pKGQsXCJmb3JjZXR1cm5cIik7dmFyIGw9e21vZGU6XCJtYW51YWxcIn07aWYobC51cmw9cixsLnVkcHBvcnQ9YyxsLnVzZXJuYW1lPW8sbC5jcmVkZW50aWFsPXMsbC5mb3JjZXR1cm49ZHx8ITEsIU9iamVjdChNLmlzRW1wdHkpKHUpKXtpZihPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKSh1LFwidGNwcG9ydFwiKSwwPT09cGFyc2VJbnQodSkpdGhyb3cgbmV3IEVycm9yKFwidGNwcG9ydCBzaG91bGQgbm90IGJlIFwiLmNvbmNhdCh1KSk7bC50Y3Bwb3J0PXUsaS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFNldCB0dXJuc2VydmVyW1wiKS5jb25jYXQobixcIl0gdGNwdXJsLiBcIikuY29uY2F0KGwudXJsLFwiOlwiKS5jb25jYXQobC50Y3Bwb3J0KSl9aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFNldCB0dXJuc2VydmVyW1wiKS5jb25jYXQobixcIl0gdWRwdXJsLiBcIikuY29uY2F0KGwudXJsLFwiOlwiKS5jb25jYXQobC51ZHBwb3J0LFwiLHVzZXJuYW1lOiBcIikuY29uY2F0KGwudXNlcm5hbWUpKSxhLnB1c2gobCl9KSksdC50dXJuU2VydmVycz1hLHIoKX0sdC5zZXRQcm94eVNlcnZlcj1mdW5jdGlvbihuKXt2YXIgcj1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2V0UHJveHlTZXJ2ZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkRJU0NPTk5FQ1RFRCl0aHJvdyBuZXcgRXJyb3IoXCJTZXQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiRG8gbm90IHNldCB0aGUgcHJveHlTZXJ2ZXIgcGFyYW1ldGVyIGFzIGVtcHR5XCIpO2lmKHQudXNlUHJveHlTZXJ2ZXIpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpO2lmKHQudXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgbG9jYWwgcHJveHlcIik7T2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykobixcInByb3h5U2VydmVyXCIpLHQucHJveHlTZXJ2ZXI9bixvLnJlcG9ydC5zZXRQcm94eVNlcnZlcihuKSxpLmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIobikscigpfSx0LnN0YXJ0UHJveHlTZXJ2ZXI9ZnVuY3Rpb24obil7dmFyIHI9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnN0YXJ0UHJveHlTZXJ2ZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkRJU0NPTk5FQ1RFRCl0aHJvdyBuZXcgRXJyb3IoXCJTdGFydCBwcm94eSBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZih0LnByb3h5U2VydmVyKXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKTtpZih0LnVzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIGxvY2FsIHByb3h5XCIpO3QudXNlUHJveHlTZXJ2ZXI9ITAsdC5wcm94eVNlcnZlclR5cGU9bnx8MSxyKCl9LHQuc3RvcFByb3h5U2VydmVyPWZ1bmN0aW9uKCl7dmFyIG49by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnN0b3BQcm94eVNlcnZlclwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYodC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuc3RhdGUhPT1SLmEuRElTQ09OTkVDVEVEKXRocm93IG5ldyBFcnJvcihcIlN0b3AgcHJveHkgc2VydmVyIGFmdGVyIGxlYXZlIGNoYW5uZWxcIik7by5yZXBvcnQuc2V0UHJveHlTZXJ2ZXIoKSxpLmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIoKSx0LnR1cm5TZXJ2ZXJzPVtdLHQucHJveHlTZXJ2ZXI9bnVsbCx0LnVzZVByb3h5U2VydmVyPSExLHQucHJveHlTZXJ2ZXJUeXBlPW51bGwsbigpfSx0LnNldEVuY3J5cHRpb25TZWNyZXQ9ZnVuY3Rpb24obil7dmFyIHI9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNldEVuY3J5cHRpb25TZWNyZXRcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJwYXNzd29yZFwiKTt2YXIgaT1uZXcgUmVnRXhwKFwiXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAIyQlXiYqXSkoPz0uezgsfSlcIik7aS50ZXN0KG4pfHxjb25zb2xlLndhcm4oXCJUaGUgc2VjcmV0IGlzIG5vdCBzdHJvbmc6XFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSBsb3dlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIHVwcGVyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbnVtZXJpYyBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBiZSBlaWdodCBjaGFyYWN0ZXJzIG9yIGxvbmdlcixcXG4gICAgICBcIiksdC5hZXNwYXNzd29yZD1uLHIoKX0sdC5zZXRFbmNyeXB0aW9uTW9kZT1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRFbmNyeXB0aW9uTW9kZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykobixcImVuY3J5cHRpb25Nb2RlXCIpLC0xPT09di5pbmRleE9mKG4pKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbmNyeXB0aW9uTW9kZTogZW5jcnlwdGlvbk1vZGUgc2hvdWxkIGJlIFwiYWVzLTEyOC14dHNcIiB8IFwiYWVzLTI1Ni14dHNcIiB8IFwiYWVzLTEyOC1lY2JcIiB8IFwic200LTEyOC1lY2JcIiB8IFwiYWVzLTEyOC1nY21cIiB8IFwiYWVzLTI1Ni1nY21cIiB8IFwiYWVzLTEyOC1nY20yXCIgfCBcImFlcy0yNTYtZ2NtMlwiJyk7dmFyIGE9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl07aWYoLTEhPT1hLmluZGV4T2Yobikpe2lmKCFyfHwhKHIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYzMj09PXIubGVuZ3RoKSl0aHJvdyBFcnJvcihcInNhbHQgbXVzdCBiZSBhbiBVaW50OEFycmF5IGFuZCBleGFjdGx5IGVxdWFsIHRvIDMyIGJ5dGVzXCIpfWVsc2UgaWYocil0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IFwiLmNvbmNhdChcImFlcy0xMjgtZ2NtMlwiLFwiIGFuZCBcIikuY29uY2F0KFwiYWVzLTI1Ni1nY20yXCIsXCIgc3VwcG9ydCB1c2Ugc2FsdFwiKSk7ciYmKHQuYWVzU2FsdD1PYmplY3QoSS51aW50OEFycmF5VG9CYXNlNjQpKHIpKSx0LmFlc21vZGU9bixpKCl9LHQuY29uZmlnUHVibGlzaGVyPWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5jb25maWdQdWJsaXNoZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChNLmNoZWNrVmFsaWRPYmplY3QpKG4sXCJjb25maWdcIik7dmFyIGk9bi53aWR0aCxhPW4uaGVpZ2h0LHM9bi5mcmFtZXJhdGUsYz1uLmJpdHJhdGUsZD1uLnB1Ymxpc2hlclVybDtPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShpLFwid2lkdGhcIiksT2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikoYSxcImhlaWdodFwiKSxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShzLFwiZnJhbWVyYXRlXCIpLE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKGMsXCJiaXRyYXRlXCIsMSwxZTcpLGQmJk9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKGQsXCJwdWJsaXNoZXJVcmxcIiksdC5nYXRld2F5Q2xpZW50LmNvbmZpZ1B1Ymxpc2hlcihuKSxyKCl9LHQuZW5hYmxlRHVhbFN0cmVhbT1mdW5jdGlvbihuLHIpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByJiZyKGUpO24mJm4odCl9LG5hbWU6XCJDbGllbnQuZW5hYmxlRHVhbFN0cmVhbVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuXCJpT1NcIj09PU9iamVjdChzLmdldEJyb3dzZXJPUykoKT8oby5yZXBvcnQuc3RyZWFtU3dpdGNoKGUuc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksaXNkdWFsOiEwLHN1Y2M6ITF9KSxhKFQuZGVmYXVsdC5JT1NfTk9UX1NVUFBPUlQpKTpPYmplY3Qocy5pc1dlQ2hhdEJyb3dzZXIpKCk/KG8ucmVwb3J0LnN0cmVhbVN3aXRjaChlLnNlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGlzZHVhbDohMCxzdWNjOiExfSksYShULmRlZmF1bHQuV0VDSEFUX05PVF9TVVBQT1JUKSk6KG8ucmVwb3J0LnN0cmVhbVN3aXRjaChlLnNlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGlzZHVhbDohMCxzdWNjOiEwfSksdC5pc0R1YWxTdHJlYW09ITAsdC5oaWdoU3RyZWFtJiYodC5oaWdoU3RyZWFtLmlzRHVhbFN0cmVhbT0hMCksdm9pZCgwPT09dC5oaWdoU3RyZWFtU3RhdGU/dC5fcHVibGlzaExvd1N0cmVhbSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEobnVsbCxlKX0pLChmdW5jdGlvbihlKXtpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1cIiksZSksYShULmRlZmF1bHQuRU5BQkxFX0RVQUxTVFJFQU1fRkFJTEVEKX0pKToxPT09dC5oaWdoU3RyZWFtU3RhdGU/YShULmRlZmF1bHQuU1RJTExfT05fUFVCTElTSElORyk6YShudWxsKSkpfSx0LmRpc2FibGVEdWFsU3RyZWFtPWZ1bmN0aW9uKG4scil7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHImJnIoZSk7biYmbih0KX0sbmFtZTpcIkNsaWVudC5kaXNhYmxlRHVhbFN0cmVhbVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7by5yZXBvcnQuc3RyZWFtU3dpdGNoKGUuc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksaXNkdWFsOiExLHN1Y2M6ITB9KSx0LmlzRHVhbFN0cmVhbT0hMSx0LmhpZ2hTdHJlYW0mJih0LmhpZ2hTdHJlYW0uaXNEdWFsU3RyZWFtPSExKSwwPT09dC5oaWdoU3RyZWFtU3RhdGU/dC5fdW5wdWJsaXNoTG93U3RyZWFtKChmdW5jdGlvbigpe3QuaGlnaFN0cmVhbS5sb3dTdHJlYW09bnVsbCxhKCl9KSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdXCIpLGUpLGEoVC5kZWZhdWx0LkRJU0FCTEVfRFVBTFNUUkVBTV9GQUlMRUQpfSkpOjE9PT10LmhpZ2hTdHJlYW1TdGF0ZT9hKFQuZGVmYXVsdC5TVElMTF9PTl9QVUJMSVNISU5HKTphKCl9LHQuX2dldExvd1N0cmVhbT1mdW5jdGlvbihlLG4pe3QubG93U3RyZWFtP2UodC5sb3dTdHJlYW0pOnQuX2NyZWF0ZUxvd1N0cmVhbSgoZnVuY3Rpb24obil7dC5sb3dTdHJlYW09bixlKHQubG93U3RyZWFtKX0pLG4pfSx0Ll9jcmVhdGVMb3dTdHJlYW09ZnVuY3Rpb24oZSxuKXtpZih0LmhpZ2hTdHJlYW0mJnQuaGlnaFN0cmVhbS5zdHJlYW0pe3ZhciByPXkoKSh7fSx0LmhpZ2hTdHJlYW0ucGFyYW1zKTtpZihyLnN0cmVhbUlEKz0xLHIuYXVkaW89ITEsci52aWRlbylpZih0LmhpZ2hTdHJlYW0uc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0pe3ZhciBpPW5ldyB1LmEocik7aS5pc0xvd1N0cmVhbT0hMCxpLnN0cmVhbUlkPXQuaGlnaFN0cmVhbS5nZXRJZCgpKzE7dmFyIG89e307dC5sb3dTdHJlYW1QYXJhbWV0ZXImJihvPXkoKSh7fSx0Lmxvd1N0cmVhbVBhcmFtZXRlcikpLG8ud2lkdGgmJm8uaGVpZ2h0fHwoby53aWR0aD0xNjAsby5oZWlnaHQ9MTIwKSxvLmZyYW1lcmF0ZT1vLmZyYW1lcmF0ZXx8MTUsby5iaXRyYXRlPW8uYml0cmF0ZXx8NTAsaS5zZXRWaWRlb1Byb2ZpbGVDdXN0b21QbHVzKG8pO3RyeXt2YXIgYT1WKCkodC5oaWdoU3RyZWFtLHt3aWR0aDppLnZpZGVvQ29uc3RyYWludC53aWR0aC5pZGVhbCxoZWlnaHQ6aS52aWRlb0NvbnN0cmFpbnQuaGVpZ2h0LmlkZWFsLGZyYW1lcmF0ZTppLnZpZGVvQ29uc3RyYWludC5mcmFtZVJhdGV9KTtyZXR1cm4gaS5zdHJlYW09YSx0LmhpZ2hTdHJlYW0ubG93U3RyZWFtPWksdC5oaWdoU3RyZWFtLnVzZXJNdXRlVmlkZW8mJmkubXV0ZVZpZGVvKCksZSYmZShpKX1jYXRjaChlKXtyZXR1cm4gbiYmbihlKX19ZWxzZSBuJiZuKFQuZGVmYXVsdC5ISUdIX1NUUkVBTV9OT1RfVklERU9fVFJBQ0UpO2Vsc2UgbiYmbihULmRlZmF1bHQuSElHSF9TVFJFQU1fTk9UX1ZJREVPX1RSQUNFKX1lbHNlIG4mJm4oVC5kZWZhdWx0LkhJR0hfU1RSRUFNX05PVF9WSURFT19UUkFDRSl9LHQuX3B1Ymxpc2hMb3dTdHJlYW09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gMiE9PXQubG93U3RyZWFtU3RhdGU/biYmbihULmRlZmF1bHQuTE9XX1NUUkVBTV9BTFJFQURZX1BVQkxJU0hFRCk6dC5oaWdoU3RyZWFtJiZ0LmhpZ2hTdHJlYW0uaGFzU2NyZWVuKCk/biYmbihULmRlZmF1bHQuU0hBUklOR19TQ1JFRU5fTk9UX1NVUFBPUlQpOnZvaWQgdC5fZ2V0TG93U3RyZWFtKChmdW5jdGlvbihyKXt0Lmxvd1N0cmVhbVN0YXRlPTEsdC5nYXRld2F5Q2xpZW50LnB1Ymxpc2gocix7c3RyZWFtVHlwZToxfSwoZnVuY3Rpb24oKXt0Lmxvd1N0cmVhbVN0YXRlPTAsZSYmZSgpfSksKGZ1bmN0aW9uKGUpezE9PT10Lmxvd1N0cmVhbVN0YXRlJiYodC5sb3dTdHJlYW1TdGF0ZT0yKSxpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHB1Ymxpc2ggbG93IHN0cmVhbSBmYWlsZWRcIikpLG4mJm4oZSl9KSl9KSxuKX0sdC5fdW5wdWJsaXNoTG93U3RyZWFtPWZ1bmN0aW9uKGUsbil7aWYoMCE9PXQubG93U3RyZWFtU3RhdGUpcmV0dXJuIG4mJm4oVC5kZWZhdWx0LkxPV19TVFJFQU1fTk9UX1lFVF9QVUJMSVNIRUQpO3QubG93U3RyZWFtJiYodC5nYXRld2F5Q2xpZW50LnVucHVibGlzaCh0Lmxvd1N0cmVhbSx7c3RyZWFtVHlwZToxfSwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB1bnB1Ymxpc2ggbG93IHN0cmVhbSBmYWlsZWRcIikpLG4mJm4oZSl9KSksdC5sb3dTdHJlYW0uY2xvc2UoKSx0Lmxvd1N0cmVhbT1udWxsLHQubG93U3RyZWFtU3RhdGU9MixlJiZlKCkpfSx0LmpvaW49ZnVuY3Rpb24obixyLGEscyxjLGQpe3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJihkPWMsYz1zLHM9bnVsbCk7dmFyIHU9RigpLGw9XCJUaGUgd2Vic2l0ZSBtdXN0IGJlIHJ1bm5pbmcgaW4gYSBzZWN1cmUgY29udGV4dCAoQWJvdXQgc2VjdXJlIGNvbnRleHQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L1NlY3VyZV9Db250ZXh0cyApLCBvdGhlcndpc2UgdGhlIG1lZGlhIGNvbGxlY3Rpb24gd2lsbCBiZSByZXN0cmljdGVkIGJ5IHRoZSBicm93c2VyXCIsZj1XKCk/d2luZG93LmlzU2VjdXJlQ29udGV4dDpcIkJyb3dzZXIgTm90IFN1cHBvcnRcIixwPWZ1bmN0aW9uKCl7aS5kZWZhdWx0Lndhcm5pbmcobCl9O1coKT93aW5kb3cuaXNTZWN1cmVDb250ZXh0fHxwKCk6dXx8cCgpO3ZhciBnPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBkJiZkKGUpO2MmJmModCl9LG5hbWU6XCJDbGllbnQuam9pblwiLG9wdGlvbnM6YXJndW1lbnRzLGdldFN0YXRlczpmdW5jdGlvbigpe3JldHVybntpc0h0dHBzOnUsaXNTZWN1cmVDb250ZXh0OmZ9fSx0YWc6XCJ0cmFjZXJcIn0pO2lmKG4mJiFPYmplY3QoTS5pc1ZhbGlkVG9rZW4pKG4pKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUGFyYW0gY2hhbm5lbEtleSBzaG91bGQgYmUgc3RyaW5nXCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aWYoIU9iamVjdChNLmlzVmFsaWRDaGFubmVsTmFtZSkocikpcmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIkludmFsaWQgQ2hhbm5lbCBOYW1lIFwiLmNvbmNhdChyKSksaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFRoZSBsZW5ndGggbXVzdCBiZSB3aXRoaW4gNjQgYnl0ZXMuIFRoZSBzdXBwb3J0ZWQgY2hhcmFjdGVyczogYS16LEEtWiwwLTksc3BhY2UsISwgIywgJCwgJSwgJiwgKCwgKSwgKywgLSwgOiwgOywgPCwgPSwgLiwgPiwgPywgQCwgWywgXSwgXiwgXywgIHssIH0sIHwsIH4sICxcIikpLGcoVC5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmXCJcIj09PXIpcmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBQYXJhbSBjaGFubmVsIHNob3VsZCBub3QgYmUgZW1wdHlcIikpLGcoVC5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKTtpZihzJiYhT2JqZWN0KE0uaXNWYWxpZFN0cmluZykocykpcmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBvcHRpb25hbEluZm8gc2hvdWxkIGJlIHN0cmluZ1wiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpO2lmKGEmJiFPYmplY3QoSS5pczMyVWludCkoYSkmJiFPYmplY3QoTS5pc1ZhbGlkU3RyaW5nKShhLDEsMjU1KSlyZXR1cm4gaS5kZWZhdWx0LmVycm9yKFwiSW52YWxpZCBVSUQgXCIuY29uY2F0KGEsXCIgXCIpLmNvbmNhdChTKCkoYSkpKSxpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gW1N0cmluZyB1aWRdIExlbmd0aCBvZiB0aGUgc3RyaW5nOiBbMSwyNTVdLiBBU0NJSSBjaGFyYWN0ZXJzIG9ubHkuIFtOdW1iZXIgdWlkXSBUaGUgdmFsdWUgcmFuZ2UgaXMgMzJVaW50XCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJjA9PWEubGVuZ3RoKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gU3RyaW5nIHVpZCBzaG91bGQgbm90IGJlIGVtcHR5XCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEubGVuZ3RoPjI1NilyZXR1cm4gaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIExlbmd0aCBvZiBzdHJpbmcgdWlkIHNob3VsZCBiZSBsZXNzIHRoYW4gMjU1XCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aS5kZWZhdWx0LnN0b3BXYWl0Sm9pbigpLHQuaGlnaFN0cmVhbT1udWxsLHQubG93U3RyZWFtPW51bGwsdC5sb3dTdHJlYW1QYXJhbWV0ZXI9bnVsbCx0LmlzRHVhbFN0cmVhbT0hMSx0LmhpZ2hTdHJlYW1TdGF0ZT0yLHQubG93U3RyZWFtU3RhdGU9Mjt2YXIgbT1EYXRlLm5vdygpLGg9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZigxIT10LmdhdGV3YXlDbGllbnQuaGFzSm9pbmVkKXtpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFRoZSB0aW1lIHRvIGpvaW4gdGhlIGNoYW5uZWwgaXMgZ3JlYXRlciB0aGFuIDUgc2Vjb25kcyBcIikpO3ZhciBuPURhdGUubm93KCk7by5yZXBvcnQuam9pbkNoYW5uZWxUaW1lT3V0KHtsdHM6bixzaWQ6ZS5zZXNzaW9uSWQsY25hbWU6cixjaWQ6diYmdi5jaWQsdWlkOnYudWlkfHwoXCJzdHJpbmdcIj09dHlwZW9mIGE/dm9pZCAwOmEpLGVsYXBzZTpuLW0sdGltZW91dDo1fSl9fSksNWUzKSx2PXtjbGllbnRJZDp0LmNsaWVudElkLGFwcElkOmUuYXBwSWQsc2lkOmUuc2Vzc2lvbklkLGNuYW1lOnIsdWlkOmEsdHVyblNlcnZlcnM6dC50dXJuU2VydmVycy5jb25jYXQoKSxwcm94eVNlcnZlcjp0LnByb3h5U2VydmVyLHRva2VuOm58fGUuYXBwSWQsdXNlUHJveHlTZXJ2ZXI6dC51c2VQcm94eVNlcnZlcix1c2VMb2NhbEFjY2Vzc1BvaW50OnQudXNlTG9jYWxBY2Nlc3NQb2ludCxwcm94eVNlcnZlclR5cGU6dC5wcm94eVNlcnZlclR5cGUsb3B0aW9uYWxJbmZvOnN9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYodi5zdHJpbmdVaWQ9YSx0LnVpbnRVaWQ/KHYudWlkPXQudWludFVpZCxkZWxldGUgdC51aW50VWlkKTp2LnVpZD0wKSx0LmFlc3Bhc3N3b3JkJiZcIm5vbmVcIiE9PXQuYWVzbW9kZSYmeSgpKHYse2Flc3Bhc3N3b3JkOnQuYWVzcGFzc3dvcmQsYWVzbW9kZTp0LmFlc21vZGV9KSx0LmFlc1NhbHQmJih2LmFlc19zYWx0PXQuYWVzU2FsdCksby5yZXBvcnQuc2Vzc2lvbkluaXQoZS5zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxjbmFtZTpyLGFwcGlkOmUuYXBwSWQsbW9kZTplLm1vZGUsc3VjYzohMH0pLHQub25TdWNjZXNzPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChoKSx0LnJ0Y1N0YXRzQ29sbGVjdG9yLnN0YXJ0TmV0d29ya1F1YWxpdHlUaW1lcigpLHQub25TdWNjZXNzPW51bGwsZyhudWxsLGUpfSx0Lm9uRmFpbHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gZyhlKX0sdC5jaGFubmVsPXIsdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkRJU0NPTk5FQ1RFRClyZXR1cm4gaS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBpbiBjb25uZWN0aW5nL2Nvbm5lY3RlZCBzdGF0ZVwiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pLHZvaWQgby5yZXBvcnQuam9pbkdhdGV3YXkoZS5zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLHN1Y2M6ITEsZWM6VC5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OLGFkZHI6bnVsbH0pO3QuZ2F0ZXdheUNsaWVudC5zdGF0ZT1SLmEuQ09OTkVDVElORzt2YXIgRT1mdW5jdGlvbihvLGEpe2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBKb2luaW5nIGNoYW5uZWw6IFwiKS5jb25jYXQocikpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY29uZmlnLWRpc3RyaWJ1dGVcIixjb25maWc6YSxqb2luSW5mbzp2fSksdC5rZXk9bnx8ZS5hcHBJZCx2LmNpZD1vLmNpZCx2LnVpZHx8KHYudWlkPW8udWlkKSx2LnZpZD1vLnZpZCx2LmNsaWVudElkPXQuY2xpZW50SWQsdi5hcFJlc3BvbnNlPW8ucmVzLG8udW5pX2xic19pcCYmby51bmlfbGJzX2lwWzFdJiYodi51bmlfbGJzX2lwPW8udW5pX2xic19pcFsxXSksdi5nYXRld2F5QWRkcj1vLmdhdGV3YXlfYWRkcix0LmpvaW5JbmZvPXYsdC5nYXRld2F5Q2xpZW50LmpvaW4odix0LmtleSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIEpvaW4gY2hhbm5lbCBcIikuY29uY2F0KHIsXCIgc3VjY2Vzcywgam9pbiB3aXRoIHVpZDogXCIpLmNvbmNhdChlLFwiLlwiKSksdC5vblN1Y2Nlc3M9bnVsbCx0LnJ0Y1N0YXRzQ29sbGVjdG9yLnN0YXJ0TmV0d29ya1F1YWxpdHlUaW1lcigpLGcobnVsbCxlKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gZyhlKX0pKX07di5zdHJpbmdVaWQmJiF2LnVpZD8odC51c2VyQWNjb3VudFJlcSYmIXQudXNlckFjY291bnRSZXEuaXNGaW5pc2hlZCgpJiZ0LnVzZXJBY2NvdW50UmVxLmNhbmNlbCgpLHQudXNlckFjY291bnRSZXE9T2JqZWN0KGIuZ2V0VXNlckFjY291bnQpKHYsdC5nYXRld2F5Q2xpZW50KSx0LnVzZXJBY2NvdW50UmVxLnRoZW4oKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcImdldFVzZXJBY2NvdW50IFN1Y2Nlc3MgXCIuY29uY2F0KGUudXJsLFwiIFwiKS5jb25jYXQodi5zdHJpbmdVaWQsXCIgPT4gXCIpLmNvbmNhdChlLnVpZCkpLHYudWlkPWUudWlkLE9iamVjdChiLmdldEdhdGV3YXlMaXN0KSh2LEUsKGZ1bmN0aW9uKGUpe3JldHVybiBnKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZXJyb3IoXCJnZXRVc2VyQWNjb3VudCByZWplY3RlZFwiLGUpLGcoZSl9KSkpOk9iamVjdChiLmdldEdhdGV3YXlMaXN0KSh2LEUsKGZ1bmN0aW9uKGUpe3JldHVybiBnKGUpfSkpfSx0LnJlbmV3Q2hhbm5lbEtleT1mdW5jdGlvbihuLHIsYSl7dmFyIHM9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIGEmJmEoZSk7ciYmcih0KX0sbmFtZTpcIkNsaWVudC5yZW5ld0NoYW5uZWxLZXlcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJrZXlcIiwxLDIwNDcpLHZvaWQgMD09PXQua2V5PyhpLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHJlbmV3Q2hhbm5lbEtleSBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUgdXNlciBqb2luXCIpKSxzKFQuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTikpOih0LmtleT1uLHQuZ2F0ZXdheUNsaWVudC5qb2luSW5mby50b2tlbj1uLHQuZ2F0ZXdheUNsaWVudC5rZXk9bix0LmdhdGV3YXlDbGllbnQucmVjb3ZlcigpLHMoKSl9LHQubGVhdmU9ZnVuY3Rpb24obixhKXt0LmdhdGV3YXlDbGllbnQuaXNGaXJzdFN1Y2Nlc3M9ITAsdC5nYXRld2F5Q2xpZW50Lmhhc0ludm9rZUxlYXZlPSEwO3ZhciBzPSExLGM9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHIpe2lmKGUpcmV0dXJuIGEmJmEoZSk7dC5nYXRld2F5Q2xpZW50LnJlY29ubmVjdGluZ0NTPSExLHQuZ2F0ZXdheUNsaWVudC5zdGF0ZT1SLmEuRElTQ09OTkVDVEVELGNsZWFyVGltZW91dChPYmplY3QoYi5fZ2V0UmVjb25uZWN0Q1NUaW1lcikodC5jbGllbnRJZCkpLHQuX3JlbmV3U2Vzc2lvbigpLHQucnRjU3RhdHNDb2xsZWN0b3IuY2xlYXJOZXR3b3JrUXVhbGl0eVRpbWVyKCksbiYmbihyKX0sbmFtZTpcIkNsaWVudC5sZWF2ZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIExlYXZpbmcgY2hhbm5lbFwiKSksdC51c2VyQWNjb3VudFJlcSYmIXQudXNlckFjY291bnRSZXEuaXNGaW5pc2hlZCgpJiYodC51c2VyQWNjb3VudFJlcS5jYW5jZWwoKSx0LmdhdGV3YXlDbGllbnQuc3RhdGU9PT1SLmEuQ09OTkVDVElORyYmKHQuZ2F0ZXdheUNsaWVudC5zdGF0ZT1SLmEuRElTQ09OTkVDVEVEKSksdC5fdGVybWluYXRlTGl2ZVN0cmVhbWluZygpLHQuZ2F0ZXdheUNsaWVudC5sZWF2ZSgoZnVuY3Rpb24oZSl7cz0hMCxjKG51bGwsZSl9KSxjKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3N8fCh0LmdhdGV3YXlDbGllbnQuc29ja2V0JiYodC5nYXRld2F5Q2xpZW50LnNvY2tldC5jbG9zZSgpLHQuZ2F0ZXdheUNsaWVudC5zb2NrZXQ9bnVsbCksdC5nYXRld2F5Q2xpZW50LnN0YXRlPVIuYS5ESVNDT05ORUNURUQsYyhudWxsLFwiTEVBVkVfTVNHX1RJTUVPVVRcIikpfSksT2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkxFQVZFX01TR19USU1FT1VUXCIpKX0sdC5fcmVuZXdTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIG49T2JqZWN0KEkuZ2VuZXJhdGVTZXNzaW9uSWQpKCk7aWYoaS5kZWZhdWx0LmRlYnVnKFwicmVuZXdTZXNzaW9uIFwiLmNvbmNhdChlLnNlc3Npb25JZCxcIiA9PiBcIikuY29uY2F0KG4pKSxlLnNlc3Npb25JZD1uLHQuZ2F0ZXdheUNsaWVudC5wZWVyUHVibGlzaER1cmF0aW9uTWFwLmNsZWFyKCksdC5qb2luSW5mbyYmKHQuam9pbkluZm8uc2lkPW4pLHQuZ2F0ZXdheUNsaWVudCYmKHQuZ2F0ZXdheUNsaWVudC5qb2luSW5mbyYmKHQuZ2F0ZXdheUNsaWVudC5qb2luSW5mby5zaWQ9biksdC5nYXRld2F5Q2xpZW50LmxvY2FsU3RyZWFtcykpZm9yKHZhciByIGluIHQuZ2F0ZXdheUNsaWVudC5sb2NhbFN0cmVhbXMpe3ZhciBvPXQuZ2F0ZXdheUNsaWVudC5sb2NhbFN0cmVhbXNbcl07byYmKG8uc2lkPW4pfX0sdC5fcHVibGlzaD1mdW5jdGlvbihuLG8sYSxzKXtpZigyIT09dC5oaWdoU3RyZWFtU3RhdGUpcmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDYW4ndCBwdWJsaXNoIHN0cmVhbSB3aGVuIHN0cmVhbSBhbHJlYWR5IHB1Ymxpc2ggXCIpLmNvbmNhdChuLmdldElkKCkpKSxhJiZhKFQuZGVmYXVsdC5TVFJFQU1fQUxSRUFEWV9QVUJMSVNIRUQpO2lmKDA9PT10LnR1cm5TZXJ2ZXJzLmxlbmd0aCYmT2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkZPUkNFX1RVUk5cIikmJiFPYmplY3Qoci5nZXRQYXJhbWV0ZXIpKFwiVFVSTl9FTkFCTEVfVENQXCIpJiYhT2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1VEUFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJmb3JjZSBUVVJOIFdpdGggTm8gVFVSTiBDb25maWd1cmF0aW9uXCIpO2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBQdWJsaXNoaW5nIHN0cmVhbSwgdWlkIFwiKS5jb25jYXQobi5nZXRJZCgpKSksdC5oaWdoU3RyZWFtPW4sdC5oaWdoU3RyZWFtU3RhdGU9MSx0LmhpZ2hTdHJlYW0uc3RyZWFtSWQ9dC5qb2luSW5mby5zdHJpbmdVaWR8fHQuam9pbkluZm8udWlkLHQuaGFzUHVibGlzaGVkPSExO3ZhciBjPWZ1bmN0aW9uKG4scixvKXt0LmdhdGV3YXlDbGllbnQucHVibGlzaChuLHtzdHJlYW1UeXBlOjB9LChmdW5jdGlvbigpe24uc2lkPWUuc2Vzc2lvbklkLHQuaGlnaFN0cmVhbVN0YXRlPTAsaS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFB1Ymxpc2ggc3VjY2VzcywgdWlkOiBcIikuY29uY2F0KG4uZ2V0SWQoKSkpLHQuaGlnaFN0cmVhbSYmKHQuaGlnaFN0cmVhbS5pc0R1YWxTdHJlYW09dC5pc0R1YWxTdHJlYW0pLHQuaXNEdWFsU3RyZWFtP3QuX3B1Ymxpc2hMb3dTdHJlYW0oKGZ1bmN0aW9uKCl7ciYmcigpfSksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBcIiksZSksVS5hLnJlcGxhY2VXaXRoQ2FudmFzVHJhY2sobikudGhlbigoZnVuY3Rpb24oKXtyJiZyKCl9KSl9KSk6VS5hLnJlcGxhY2VXaXRoQ2FudmFzVHJhY2sobikudGhlbigoZnVuY3Rpb24oKXtyJiZyKCl9KSl9KSxvKX07XCJhdWRpZW5jZVwiIT09dC5nYXRld2F5Q2xpZW50LnJvbGV8fFwibGl2ZVwiIT09dC5tb2RlfHxzP2MobixvLGEpOnQuZ2F0ZXdheUNsaWVudC5zZXRDbGllbnRSb2xlKEcsKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGEmJmEoZSk7YyhuLG8sYSl9KSl9LHQuX3VucHVibGlzaD1mdW5jdGlvbihlLG4scixvKXtpZigwIT09dC5oaWdoU3RyZWFtU3RhdGUpcmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDYW4ndCB1bnB1Ymxpc2ggc3RyZWFtIHdoZW4gc3RyZWFtIG5vdCBwdWJsaXNoXCIpKSxyJiZyKFQuZGVmYXVsdC5TVFJFQU1fTk9UX1lFVF9QVUJMSVNIRUQpO2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBVbnB1Ymxpc2ggc3RyZWFtLCB1aWQgXCIpLmNvbmNhdChlLmdldElkKCkpKTt2YXIgYT1mdW5jdGlvbihlLG4scil7dC5pc0R1YWxTdHJlYW0mJnQubG93U3RyZWFtJiZ0Ll91bnB1Ymxpc2hMb3dTdHJlYW0obnVsbCxyKSx0LmdhdGV3YXlDbGllbnQudW5wdWJsaXNoKGUse3N0cmVhbVR5cGU6MH0sKGZ1bmN0aW9uKCl7dC5oaWdoU3RyZWFtU3RhdGU9MixpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHN0cmVhbSBzdWNjZXNzLCB1aWQ6IFwiKS5jb25jYXQoZS5nZXRJZCgpKSksdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW0tdW5wdWJsaXNoZWRcIixzdHJlYW06ZX0pLG4mJm4oKX0pLChmdW5jdGlvbihuKXtpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHN0cmVhbSBmYWlsLCB1aWQ6IFwiKS5jb25jYXQoZS5nZXRJZCgpKSksciYmcihuKX0pKX07dC5nYXRld2F5Q2xpZW50LnJvbGUhPT1HfHxcImxpdmVcIiE9PXQubW9kZXx8bz9hKGUsbixyKTp0LmdhdGV3YXlDbGllbnQuc2V0Q2xpZW50Um9sZShcImF1ZGllbmNlXCIsKGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHImJnIodCk7YShlLG4scil9KSl9LHQucHVibGlzaD1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtpZihlKXJldHVybiAxPT09dC5oaWdoU3RyZWFtU3RhdGUmJlwiUkVRVUVTVF9BQk9SVFwiIT09ZSYmKHQuaGlnaFN0cmVhbVN0YXRlPTIpLHImJnIoZSl9LG5hbWU6XCJDbGllbnQucHVibGlzaFwiLHRhZzpcInRyYWNlclwiLG9wdGlvbnM6e3N0cmVhbTpcInRvbyBsb25nIHRvIHNob3dcIixvbkZhaWx1cmU6ISFyfX0pOzI9PT10LmhpZ2hTdHJlYW1TdGF0ZT9uLl9oYXNWaWRlb1RyYWNrcygpfHxuLl9oYXNBdWRpb1RyYWNrcygpPyh0LmdhdGV3YXlDbGllbnQucHVibGlzaFJlcXVlc3RJZD1PYmplY3QoSS5nZW5lcmF0ZUlkKSgpLHQuX3B1Ymxpc2gobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkobnVsbCxlKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pKSk6aShULmRlZmF1bHQuTk9fVFJBQ0tfSU5fU1RSRUFNKTppKFQuZGVmYXVsdC5TVFJFQU1fQUxSRUFEWV9QVUJMSVNIRUQpfSx0LnVucHVibGlzaD1mdW5jdGlvbihuLHIsaSl7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHImJnIoZSk7aSYmaSh0KX0sbmFtZTpcIkNsaWVudC51bnB1Ymxpc2hcIix0YWc6XCJ0cmFjZXJcIixvcHRpb25zOntzdHJlYW06XCJ0b28gbG9uZyB0byBzaG93XCIsb25GYWlsdXJlOiEhcn19KTswPT09dC5oaWdoU3RyZWFtU3RhdGU/KHQuZ2F0ZXdheUNsaWVudC5wdWJsaXNoUmVxdWVzdElkPW51bGwsdC5fdW5wdWJsaXNoKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBhKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KSkpOmEoVC5kZWZhdWx0LlNUUkVBTV9OT1RfWUVUX1BVQkxJU0hFRCl9LHQuc3Vic2NyaWJlPWZ1bmN0aW9uKG4scixhKXt2YXIgYz1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gYSYmYShlKX0sbmFtZTpcIkNsaWVudC5zdWJzY3JpYmVcIix0YWc6XCJ0cmFjZXJcIixvcHRpb25zOntzdHJlYW06XCJ0b28gbG9uZyB0byBzaG93XCIsb3B0aW9uczpyLG9uRmFpbHVyZTohIWF9fSk7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGE9cixyPW51bGwpLE9iamVjdChNLmNoZWNrVmFsaWRPYmplY3QpKG4sXCJzdHJlYW1cIiksT2JqZWN0KE0uaXNFbXB0eSkocil8fChPYmplY3QoTS5jaGVja1ZhbGlkT2JqZWN0KShyLFwib3B0aW9uc1wiKSxPYmplY3QoTS5pc0VtcHR5KShyLnZpZGVvKXx8T2JqZWN0KE0uY2hlY2tWYWxpZEJvb2xlYW4pKHIudmlkZW8sXCJvcHRpb25zLnZpZGVvXCIpLE9iamVjdChNLmlzRW1wdHkpKHIuYXVkaW8pfHxPYmplY3QoTS5jaGVja1ZhbGlkQm9vbGVhbikoci5hdWRpbyxcIm9wdGlvbnMuYXVkaW9cIikpO3ZhciBkPXt2aWRlbzohMCxhdWRpbzohMH07aWYoIU9iamVjdChNLmlzRW1wdHkpKHIpKXtpZihPYmplY3Qocy5pc1NhZmFyaSkoKSYmKCFyLnZpZGVvfHwhci5hdWRpbykpe3ZhciB1PVwiU0FGQVJJX05PVF9TVVBQT1JURURfRk9SX1RSQUNLX1NVQlNDUklQVElPTlwiO3JldHVybiBpLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFwiKSx1KSx2b2lkIGModSl9aWYoIU9iamVjdChNLmlzRW1wdHkpKHIudmlkZW8pJiYhT2JqZWN0KE0uaXNWYWxpZEJvb2xlYW4pKHIudmlkZW8pfHwhT2JqZWN0KE0uaXNFbXB0eSkoci5hdWRpbykmJiFPYmplY3QoTS5pc1ZhbGlkQm9vbGVhbikoci5hdWRpbyl8fCExPT09ci5hdWRpbyYmITE9PT1yLnZpZGVvKXt1PVwiSU5WQUxJRF9QQVJBTUVURVIgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHIpKTtyZXR1cm4gaS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBcIiksdSksdm9pZCBjKHUpfX1uLnN1YnNjcmliZU9wdGlvbnM/KHkoKShuLnN1YnNjcmliZU9wdGlvbnMsZCxyKSx0LmdhdGV3YXlDbGllbnQuc3Vic2NyaWJlQ2hhbmdlKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBjKG51bGwsZSl9KSxjKSk6KHQuZ2F0ZXdheUNsaWVudC5zdWJzY3JpYmVSZXF1ZXN0SWQuc2V0KG4uZ2V0SWQoKSxPYmplY3QoSS5nZW5lcmF0ZUlkKSgpKSxuLnN1YnNjcmliZU9wdGlvbnM9eSgpKHt9LGQsciksdC5nYXRld2F5Q2xpZW50LnN1YnNjcmliZShuLChmdW5jdGlvbihlKXtyZXR1cm4gYyhudWxsLGUpfSksYykpfSx0LnVuc3Vic2NyaWJlPWZ1bmN0aW9uKG4scil7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHImJnIoZSl9LG5hbWU6XCJDbGllbnQudW5zdWJzY3JpYmVcIix0YWc6XCJ0cmFjZXJcIixvcHRpb25zOntzdHJlYW06XCJ0b28gbG9uZyB0byBzaG93XCIsb25GYWlsdXJlOiEhcn19KTtpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gVW5zdWJzY3JpYmUgc3RyZWFtLCB1aWQ6IFwiKS5jb25jYXQobi5nZXRJZCgpKSksdC5nYXRld2F5Q2xpZW50LnN1YnNjcmliZVJlcXVlc3RJZC5kZWxldGUobi5nZXRJZCgpKSx0LmdhdGV3YXlDbGllbnQudW5zdWJzY3JpYmUobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGEobnVsbCxlKX0pLGEpfSx0LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZT1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIix0YWc6XCJ0cmFjZXJcIixvcHRpb25zOntzdHJlYW06XCJ0b28gbG9uZyB0byBzaG93XCIsc3RyZWFtVHlwZTpyfX0pO09iamVjdChNLmNoZWNrVmFsaWRFbnVtKShyLFwic3RyZWFtVHlwZVwiLFswLDFdKSx0LmdhdGV3YXlDbGllbnQuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKG4sciksaSgpfSx0LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uPWZ1bmN0aW9uKG4scil7dmFyIGk9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsdGFnOlwidHJhY2VyXCIsb3B0aW9uczp7c3RyZWFtOlwidG9vIGxvbmcgdG8gc2hvd1wiLGZhbGxiYWNrVHlwZTpyfX0pO09iamVjdChNLmNoZWNrVmFsaWRFbnVtKShyLFwiZmFsbGJhY2tUeXBlXCIsWzAsMSwyXSksdC5nYXRld2F5Q2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKG4sciksaSgpfSx0LmVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yPWZ1bmN0aW9uKG4scil7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LmVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtuPW58fDJlMyxyPXJ8fDMsT2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikocixcInNtb290aFwiLDEsMTAwKSxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShuLFwiaW50ZXJ2YWxcIiw1MCwxZTUpLHQuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uPXQuYXVkaW9Wb2x1bWVJbmRpY2F0aW9ufHx7ZW5hYmxlZDohMH0sdC5hdWRpb1ZvbHVtZUluZGljYXRpb24uaW50ZXJ2YWw9bix0LmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5zbW9vdGg9cix0LmF1ZGlvVm9sdW1lSW5kaWNhdGlvbj17aW50ZXJ2YWw6bixzbW9vdGg6cn0saS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIGVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yIGludGVydmFsIFwiKS5jb25jYXQobixcIiBzbW9vdGggXCIpLmNvbmNhdChyKSksdC5nYXRld2F5Q2xpZW50LmVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yKG4sciksYSgpfSx0LmdldE5ldHdvcmtTdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiBpLmRlZmF1bHQuZGVwcmVjYXRlKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBjbGllbnQuZ2V0TmV0d29ya1N0YXRzIGlzIGRlcHJlY2F0ZWQuIFVzZSBjbGllbnQuZ2V0VHJhbnNwb3J0U3RhdHMgaW5zdGVhZC5cIikpLFAuZ2V0U3RhdHMoZSxuKX0sdC5nZXRTeXN0ZW1TdGF0cz1mdW5jdGlvbihlLHQpe3JldHVybiBkLmdldFN0YXRzKGUsdCl9LHQuZ2V0UmVjb3JkaW5nRGV2aWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiBsLmEuZ2V0UmVjb3JkaW5nRGV2aWNlcyhlLHQpfSx0LmdldFBsYXlvdXREZXZpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwuYS5nZXRQbGF5b3V0RGV2aWNlcyhlLHQpfSx0LmdldENhbWVyYXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbC5hLmdldENhbWVyYXMoZSx0KX0sdC5nZXRSZW1vdGVBdWRpb1N0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9TdGF0cyhlLG4pfSx0LmdldExvY2FsQXVkaW9TdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLmdldExvY2FsQXVkaW9TdGF0cyhlLG4pfSx0LmdldFJlbW90ZVZpZGVvU3RhdHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5ydGNTdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVWaWRlb1N0YXRzKGUsbil9LHQuZ2V0TG9jYWxWaWRlb1N0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxWaWRlb1N0YXRzKGUsbil9LHQuX2dldFJlbW90ZVZpZGVvUXVhbGl0eVN0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9RdWFsaXR5U3RhdHMoZSxuKX0sdC5fZ2V0UmVtb3RlQXVkaW9RdWFsaXR5U3RhdHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5ydGNTdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1F1YWxpdHlTdGF0cyhlLG4pfSx0LmdldFRyYW5zcG9ydFN0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0VHJhbnNwb3J0U3RhdHMoKGZ1bmN0aW9uKHQpe3JldHVybiBQLmdldFN0YXRzKChmdW5jdGlvbihuKXt2YXIgcj15KCkoe30sdCxuKTtlJiZlKHIpfSksbil9KSxuKX0sdC5nZXRTZXNzaW9uU3RhdHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5ydGNTdGF0c0NvbGxlY3Rvci5nZXRTZXNzaW9uU3RhdHMoZSxuKX0sdC5vbk5ldHdvcmtRdWFsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3Iub25OZXR3b3JrUXVhbGl0eShvblN1Y2Nlc3Msb25GYWlsdXJlKX0sdC5zZW5kTWV0YWRhdGE9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2VuZE1ldGFkYXRhXCIsdGFnOlwidHJhY2VyXCIsY2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gciYmcihlKTtyJiZyKCl9fSk7dC5nYXRld2F5Q2xpZW50LnNlbmRNZXRhZGF0YShuLGkpfSx0LnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlPWZ1bmN0aW9uKG4sYSxzLGMsZCx1KXtPYmplY3Qoci5nZXRQYXJhbWV0ZXIpKFwiQ1JcIik/dC5jdXN0b21SZXBvcnRDb3VudD5PYmplY3Qoci5nZXRQYXJhbWV0ZXIpKFwiQ1JMXCIpP3UmJnUoXCJSRVBPUlRfTElNSVRFRFwiKToodC5nYXRld2F5Q2xpZW50Lmhhc0pvaW5lZHx8KGkuZGVmYXVsdC5XQVJOSU5HKFwiU2hvdWxkIGludm9rZSBDbGllbnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UgYWZ0ZXIgam9pblwiKSx1JiZ1KFwiUkVQT1JUX0JFRk9SRV9KT0lORURcIikpLHQuY3VzdG9tUmVwb3J0VGltZXJ8fCh0LmN1c3RvbVJlcG9ydFRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe3QuY3VzdG9tUmVwb3J0Q291bnQ9MH0pLE9iamVjdChyLmdldFBhcmFtZXRlcikoXCJDUklcIikpKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShuLFwicmVwb3J0SWRcIiwwLDEwMCwhMSksT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykoYSxcImNhdGVnb3J5XCIsMCwxMDAsITEpLE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKHMsXCJldmVudFwiLDAsMTAwLCExKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShjLFwibGFiZWxcIiwwLDEwMCwhMSksT2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikoZCxcInZhbHVlXCIsTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpLHQuY3VzdG9tUmVwb3J0Q291bnQrKyxvLnJlcG9ydC5zZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZShlLnNlc3Npb25JZCx7cmVwb3J0SWQ6bixjYXRlZ29yeTphLGV2ZW50OnMsbGFiZWw6Yyx2YWx1ZTpkLGx0czpEYXRlLm5vdygpfSwoZnVuY3Rpb24oZSl7ZT91JiZ1KFwiUkVQT1JUX0ZBSUxFRFwiKTp1JiZ1KCl9KSkpOnUmJnUoXCJSRVBPUlRfRk9SQklEREVOXCIpfSx0LnNldExvY2FsQWNjZXNzUG9pbnRzPWZ1bmN0aW9uKG4saSl7dmFyIGE9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNldExvY2FsQWNjZXNzUG9pbnRzXCIsdGFnOlwidHJhY2VyXCJ9KTtpZihPYmplY3QoTS5jaGVja1ZhbGlkQXJyYXkpKG4sXCJzZXJ2ZXJMaXN0XCIpLE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKGksXCJkb21haW5cIiksdC51c2VQcm94eVNlcnZlcil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7dmFyIHM9L14oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkkLztuPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcy50ZXN0KGUpP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQoaSk6ZX0pKSx0LnVzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsT2JqZWN0KHIuc2V0UGFyYW1ldGVyKShcIldFQkNTX0RPTUFJTlwiLG4pLE9iamVjdChyLnNldFBhcmFtZXRlcikoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIixuKSxPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiR0FURVdBWV9ET01BSU5TXCIsW2ldKSxPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLG5bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4ubGVuZ3RoKV0pLE9iamVjdChyLnNldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLG5bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4ubGVuZ3RoKV0pLE9iamVjdChyLnNldFBhcmFtZXRlcikoXCJMT0dfVVBMT0FEX1NFUlZFUlwiLFwiXCIuY29uY2F0KG5bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4ubGVuZ3RoKV0sXCI6NjQ0NFwiKSksYSgpfSxlLmNsaWVudElkPXQuY2xpZW50SWQsdC5nYXRld2F5Q2xpZW50PU9iamVjdChSLmEpKGUpLHQubGlzdGVuZXJMb2dnZXJUaW1lcj1udWxsLHQubGlzdGVuZXJMb2dnZXJDYWNoZT1bXSx0Lm9uPWZ1bmN0aW9uKGUsbil7dC5nYXRld2F5Q2xpZW50Lm9uKGUsbiksdC5saXN0ZW5lckxvZ2dlckNhY2hlLnB1c2goXCJcIi5jb25jYXQoZSkuY29uY2F0KG4ubmFtZT9cIjpcIituLm5hbWU6XCJcIikpLHQubGlzdGVuZXJMb2dnZXJUaW1lcj9jbGVhclRpbWVvdXQodC5saXN0ZW5lckxvZ2dlclRpbWVyKTppLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQWRkaW5nIGV2ZW50IGhhbmRsZXIgb24gXCIpLmNvbmNhdChlKSksdC5saXN0ZW5lckxvZ2dlclRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5saXN0ZW5lckxvZ2dlckNhY2hlLmxlbmd0aCYmKHQubGlzdGVuZXJMb2dnZXJUaW1lcj1udWxsLGkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBBZGRlZCBldmVudCBoYW5kbGVyIG9uIFwiKS5jb25jYXQodC5saXN0ZW5lckxvZ2dlckNhY2hlLmpvaW4oXCIsIFwiKSkpLHQubGlzdGVuZXJMb2dnZXJDYWNoZT1bXSl9KSwwKX0sdC5vZmY9ZnVuY3Rpb24oZSxuKXtpLmRlZmF1bHQuaW5mbyhcInJlbW92ZSBldmVudCBoYW5kbGVyIGZyb20gW1wiLmNvbmNhdChlLFwiXVwiKSksdC5nYXRld2F5Q2xpZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX0sdC5ydGNTdGF0c0NvbGxlY3Rvcj1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5iKSgpO3JldHVybiB0LmdhdGV3YXlDbGllbnQ9ZSx0LmV4Y2VwdGlvbk1vbml0b3I9bmV3IHcoZSksdC5sb2NhbFN0YXRzPXt9LHQucmVtb3RlU3RhdHM9e30sdC5zZXNzaW9uPXtzZW5kQnl0ZXM6MCxyZWN2Qnl0ZXM6MCxXU1NlbmRCeXRlczowLFdTU2VuZEJ5dGVzRGVsdGE6MCxXU1JlY3ZCeXRlczowLFdTUmVjdkJ5dGVzRGVsdGE6MCxIVFRQU2VuZEJ5dGVzOjAsSFRUUFNlbmRCeXRlc0RlbHRhOjAsSFRUUFJlY3ZCeXRlczowLEhUVFBSZWN2Qnl0ZXNEZWx0YTowfSx0LmdldFJlbW90ZUF1ZGlvU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49dC5nYXRld2F5Q2xpZW50LnRyYWZmaWNfc3RhdHMscj17fTtmb3IodmFyIGkgaW4gdC5yZW1vdGVTdGF0cyl7dmFyIG89e30sYT10LnJlbW90ZVN0YXRzW2ldO2lmKE9iamVjdChBLmIpKG8sXCJFbmQyRW5kRGVsYXlcIixhLnBlZXJfZGVsYXkmJmEucGVlcl9kZWxheS5hdWRpb19kZWxheSksT2JqZWN0KEEuYikobyxcIlRyYW5zcG9ydERlbGF5XCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkuZTJlX2RlbGF5KSxPYmplY3QoQS5iKShvLFwiUGFja2V0TG9zc1JhdGVcIixhLnBlZXJfZGVsYXkmJmEucGVlcl9kZWxheS5lMmVfYXVkaW9fbG9zdF9yYXRpb180MDBtcyksT2JqZWN0KEEuYikobyxcIlJlY3ZMZXZlbFwiLGEuYXVkaW9TdGF0cyYmYS5hdWRpb1N0YXRzLmF1ZGlvT3V0cHV0TGV2ZWwpLE9iamVjdChBLmIpKG8sXCJSZWN2Qml0cmF0ZVwiLGEuYXVkaW9SZWN2Qml0cmF0ZSksT2JqZWN0KEEuYikobyxcIkNvZGVjVHlwZVwiLGEuYXVkaW9TdGF0cyYmYS5hdWRpb1N0YXRzLmdvb2dDb2RlY05hbWUpLE9iamVjdChBLmIpKG8sXCJNdXRlU3RhdGVcIixhLmF1ZGlvRGlzYWJsZWQpLE9iamVjdChBLmIpKG8sXCJUb3RhbEZyZWV6ZVRpbWVcIixhLmF1ZGlvU3RhdHMmJmEuYXVkaW9TdGF0cy5hdWRpb1RvdGFsRnJlZXplVGltZSksT2JqZWN0KEEuYikobyxcIlRvdGFsUGxheUR1cmF0aW9uXCIsYS5hdWRpb1N0YXRzJiZhLmF1ZGlvU3RhdHMuYXVkaW9Ub3RhbFBsYXlEdXJhdGlvbiksbiYmbi5wZWVyX2RlbGF5KXt2YXIgcz1uLnBlZXJfZGVsYXkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGVlcl91aWQ9PWl9KSk7aWYocyl7dmFyIGM9cy5wZWVyX3B1Ymxpc2hfYXVkaW9fZHVyYXRpb24rKERhdGUubm93KCktbi50aW1lc3RhbXApO09iamVjdChBLmIpKG8sXCJBdWRpb1B1Ymxpc2hEdXJhdGlvblwiLGMpfWVsc2UgT2JqZWN0KEEuYikobyxcIkF1ZGlvUHVibGlzaER1cmF0aW9uXCIsLTEpfXJbaV09b31lJiZlKHIpfSx0LmdldExvY2FsQXVkaW9TdGF0cz1mdW5jdGlvbihlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdC5sb2NhbFN0YXRzKXt2YXIgaT17fSxvPXQubG9jYWxTdGF0c1tyXTtPYmplY3QoQS5iKShpLFwiUmVjb3JkaW5nTGV2ZWxcIixvLmF1ZGlvU3RhdHMmJm8uYXVkaW9TdGF0cy5hdWRpb0lucHV0TGV2ZWwpLE9iamVjdChBLmIpKGksXCJTZW5kTGV2ZWxcIixvLmF1ZGlvU3RhdHMmJm8uYXVkaW9TdGF0cy50b3RhbEF1ZGlvRW5lcmd5KSxPYmplY3QoQS5iKShpLFwiU2FtcGxpbmdSYXRlXCIsby5hdWRpb1N0YXRzJiZvLmF1ZGlvU3RhdHMudG90YWxTYW1wbGVzRHVyYXRpb24pLE9iamVjdChBLmIpKGksXCJTZW5kQml0cmF0ZVwiLG8uYXVkaW9TZW5kQml0cmF0ZSksT2JqZWN0KEEuYikoaSxcIkNvZGVjVHlwZVwiLG8uYXVkaW9TdGF0cyYmby5hdWRpb1N0YXRzLmdvb2dDb2RlY05hbWUpLE9iamVjdChBLmIpKGksXCJNdXRlU3RhdGVcIixvLmF1ZGlvRGlzYWJsZWQpLE9iamVjdChBLmIpKGksXCJhdWRpb1NlbmRQYWNrZXRzTG9zdFwiLG8uYXVkaW9TdGF0cyYmby5hdWRpb1N0YXRzLnBhY2tldHNMb3N0KTt2YXIgYT10LmdhdGV3YXlDbGllbnQubG9jYWxTdHJlYW1zW3JdO2EmJmEuaXNQbGF5aW5nKCkmJk9iamVjdChBLmIpKGksXCJNdXRlU3RhdGVcIixhLnVzZXJNdXRlQXVkaW8/XCIxXCI6XCIwXCIpLG5bcl09aX1lJiZlKG4pfSx0LmdldFJlbW90ZVZpZGVvU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49dC5nYXRld2F5Q2xpZW50LnRyYWZmaWNfc3RhdHMscj17fTtmb3IodmFyIGkgaW4gdC5yZW1vdGVTdGF0cyl7dmFyIG89e30sYT10LnJlbW90ZVN0YXRzW2ldO2lmKE9iamVjdChBLmIpKG8sXCJFbmQyRW5kRGVsYXlcIixhLnBlZXJfZGVsYXkmJmEucGVlcl9kZWxheS52aWRlb19kZWxheSksT2JqZWN0KEEuYikobyxcIlRyYW5zcG9ydERlbGF5XCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkuZTJlX2RlbGF5KSxPYmplY3QoQS5iKShvLFwiUGFja2V0TG9zc1JhdGVcIixhLnBlZXJfZGVsYXkmJmEucGVlcl9kZWxheS5lMmVfdmlkZW9fbG9zdF9yYXRpb180MDBtcyksT2JqZWN0KEEuYikobyxcIlJlY3ZCaXRyYXRlXCIsYS52aWRlb1JlY3ZCaXRyYXRlKSxPYmplY3QoQS5iKShvLFwiUmVjdlJlc29sdXRpb25XaWR0aFwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLE9iamVjdChBLmIpKG8sXCJSZWN2UmVzb2x1dGlvbkhlaWdodFwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkKSxPYmplY3QoQS5iKShvLFwiUmVuZGVyUmVzb2x1dGlvbldpZHRoXCIsYS52aWRlb1N0YXRzJiZhLnZpZGVvU3RhdHMucmVuZGVyUmVtb3RlV2lkdGgpLE9iamVjdChBLmIpKG8sXCJSZW5kZXJSZXNvbHV0aW9uSGVpZ2h0XCIsYS52aWRlb1N0YXRzJiZhLnZpZGVvU3RhdHMucmVuZGVyUmVtb3RlSGVpZ2h0KSxPYmplY3QoQS5iKShvLFwiUmVuZGVyRnJhbWVSYXRlXCIsYS52aWRlb1N0YXRzJiZhLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmF0ZU91dHB1dCksT2JqZWN0KEEuYikobyxcIk11dGVTdGF0ZVwiLGEudmlkZW9EaXNhYmxlZCksT2JqZWN0KEEuYikobyxcIlRvdGFsRnJlZXplVGltZVwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLnZpZGVvVG90YWxGcmVlemVUaW1lKSxPYmplY3QoQS5iKShvLFwiVG90YWxQbGF5RHVyYXRpb25cIixhLnZpZGVvU3RhdHMmJmEudmlkZW9TdGF0cy52aWRlb1RvdGFsUGxheUR1cmF0aW9uKSxuJiZuLnBlZXJfZGVsYXkpe3ZhciBzPW4ucGVlcl9kZWxheS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wZWVyX3VpZD09aX0pKTtpZihzKXt2YXIgYz1zLnBlZXJfcHVibGlzaF92aWRlb19kdXJhdGlvbisoRGF0ZS5ub3coKS1uLnRpbWVzdGFtcCk7T2JqZWN0KEEuYikobyxcIlZpZGVvUHVibGlzaER1cmF0aW9uXCIsYyl9ZWxzZSBPYmplY3QoQS5iKShvLFwiVmlkZW9QdWJsaXNoRHVyYXRpb25cIiwtMSl9cltpXT1vfWUmJmUocil9LHQuZ2V0TG9jYWxWaWRlb1N0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0LmxvY2FsU3RhdHMpe3ZhciBpPXt9LG89dC5sb2NhbFN0YXRzW3JdO09iamVjdChBLmIpKGksXCJUYXJnZXRTZW5kQml0cmF0ZVwiLG8udmlkZW9UYXJnZXRTZW5kQml0cmF0ZSksT2JqZWN0KEEuYikoaSxcIlNlbmRGcmFtZVJhdGVcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5nb29nRnJhbWVSYXRlU2VudCksT2JqZWN0KEEuYikoaSxcIlNlbmRCaXRyYXRlXCIsby52aWRlb1NlbmRCaXRyYXRlKSxPYmplY3QoQS5iKShpLFwiU2VuZFJlc29sdXRpb25XaWR0aFwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLmdvb2dGcmFtZVdpZHRoU2VudCksT2JqZWN0KEEuYikoaSxcIlNlbmRSZXNvbHV0aW9uSGVpZ2h0XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksT2JqZWN0KEEuYikoaSxcIkNhcHR1cmVSZXNvbHV0aW9uV2lkdGhcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aElucHV0KSxPYmplY3QoQS5iKShpLFwiQ2FwdHVyZVJlc29sdXRpb25IZWlnaHRcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRJbnB1dCksT2JqZWN0KEEuYikoaSxcIkVuY29kZURlbGF5XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0F2Z0VuY29kZU1zKSxPYmplY3QoQS5iKShpLFwiTXV0ZVN0YXRlXCIsby52aWRlb0Rpc2FibGVkKSxPYmplY3QoQS5iKShpLFwiVG90YWxGcmVlemVUaW1lXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMudmlkZW9Ub3RhbEZyZWV6ZVRpbWUpLE9iamVjdChBLmIpKGksXCJUb3RhbER1cmF0aW9uXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbiksT2JqZWN0KEEuYikoaSxcIkNhcHR1cmVGcmFtZVJhdGVcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5nb29nRnJhbWVSYXRlU2VudCksT2JqZWN0KEEuYikoaSxcInZpZGVvU2VuZFBhY2tldHNMb3N0XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMucGFja2V0c0xvc3QpLG8udmlkZW9TdGF0cyYmIW8udmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aElucHV0JiZPYmplY3QoQS5iKShpLFwiQ2FwdHVyZVJlc29sdXRpb25XaWR0aFwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnJlbmRlckxvY2FsV2lkdGgpLG8udmlkZW9TdGF0cyYmIW8udmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRJbnB1dCYmT2JqZWN0KEEuYikoaSxcIkNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMucmVuZGVyTG9jYWxIZWlnaHQpLG5bcl09aX1lJiZlKG4pfSx0LmdldFJlbW90ZVZpZGVvUXVhbGl0eVN0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0LnJlbW90ZVN0YXRzKXt2YXIgaT17fSxvPXQucmVtb3RlU3RhdHNbcl07T2JqZWN0KEEuYikoaSxcInZpZGVvUmVjZWl2ZURlbGF5XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0N1cnJlbnREZWxheU1zKSxPYmplY3QoQS5iKShpLFwiVmlkZW9GcmVlemVSYXRlXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMudmlkZW9GcmVlemVSYXRlKSxPYmplY3QoQS5iKShpLFwiRmlyc3RGcmFtZVRpbWVcIixvLmZpcnN0RnJhbWVUaW1lKSxuW3JdPWl9ZSYmZShuKX0sdC5nZXRSZW1vdGVBdWRpb1F1YWxpdHlTdGF0cz1mdW5jdGlvbihlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdC5yZW1vdGVTdGF0cyl7dmFyIGk9e30sbz10LnJlbW90ZVN0YXRzW3JdO09iamVjdChBLmIpKGksXCJhdWRpb1JlY2VpdmVEZWxheVwiLG8uYXVkaW9TdGF0cyYmby5hdWRpb1N0YXRzLmdvb2dDdXJyZW50RGVsYXlNcyksT2JqZWN0KEEuYikoaSxcIkF1ZGlvRnJlZXplUmF0ZVwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnZpZGVvRnJlZXplUmF0ZSksbltyXT1pfWUmJmUobil9LHQuZ2V0VHJhbnNwb3J0U3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49e30scj17fSxpPXQuZ2F0ZXdheUNsaWVudC50cmFmZmljX3N0YXRzLG89aS5wZWVyX2RlbGF5O2lmKE9iamVjdChBLmIpKG4sXCJPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aFwiLHQuZ2F0ZXdheUNsaWVudC5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aC8xZTMpLE9iamVjdChBLmIpKG4sXCJSVFRcIixpJiYyKmkuYWNjZXNzX2RlbGF5KSxvKXt2YXIgYSxzPUwobyk7dHJ5e2ZvcihzLnMoKTshKGE9cy5uKCkpLmRvbmU7KXt2YXIgYz1hLnZhbHVlO2MuZG93bmxpbmtfZXN0aW1hdGVfYmFuZHdpZHRoJiYocltjLnBlZXJfdWlkXT1jLmRvd25saW5rX2VzdGltYXRlX2JhbmR3aWR0aC8xZTMrXCJcIil9fWNhdGNoKGUpe3MuZShlKX1maW5hbGx5e3MuZigpfX1uLkluY29taW5nQXZhaWxhYmxlQmFuZHdpZHRoPXIsZSYmZShuKX0sdC5nZXRTZXNzaW9uU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49e30scj10LmdhdGV3YXlDbGllbnQudHJhZmZpY19zdGF0cyxpPXQuZ2F0ZXdheUNsaWVudC5zb2NrZXQsbz0wLGE9MDtmb3IodmFyIHMgaW4gdC5yZW1vdGVTdGF0cyl7KGM9dC5yZW1vdGVTdGF0c1tzXSkmJmMudmlkZW9TdGF0cyYmYy52aWRlb1N0YXRzLnZpZGVvUmVjdkJ5dGVzRGVsdGEmJihhKz1wYXJzZUludChjLnZpZGVvU3RhdHMudmlkZW9SZWN2Qnl0ZXNEZWx0YSkpLGMmJmMuYXVkaW9TdGF0cyYmYy5hdWRpb1N0YXRzLmF1ZGlvUmVjdkJ5dGVzRGVsdGEmJihhKz1wYXJzZUludChjLmF1ZGlvU3RhdHMuYXVkaW9SZWN2Qnl0ZXNEZWx0YSkpfWZvcih2YXIgcyBpbiB0LmxvY2FsU3RhdHMpe3ZhciBjOyhjPXQubG9jYWxTdGF0c1tzXSkmJmMudmlkZW9TdGF0cyYmYy52aWRlb1N0YXRzLnZpZGVvU2VuZEJ5dGVzRGVsdGEmJihvKz1wYXJzZUludChjLnZpZGVvU3RhdHMudmlkZW9TZW5kQnl0ZXNEZWx0YSkpLGMmJmMuYXVkaW9TdGF0cyYmYy5hdWRpb1N0YXRzLmF1ZGlvU2VuZEJ5dGVzRGVsdGEmJihvKz1wYXJzZUludChjLmF1ZGlvU3RhdHMuYXVkaW9TZW5kQnl0ZXNEZWx0YSkpfXZhciBkPW8rdC5zZXNzaW9uLldTU2VuZEJ5dGVzRGVsdGErdC5zZXNzaW9uLkhUVFBTZW5kQnl0ZXNEZWx0YSx1PWErdC5zZXNzaW9uLldTUmVjdkJ5dGVzRGVsdGErdC5zZXNzaW9uLkhUVFBSZWN2Qnl0ZXNEZWx0YSxsPXQuc2Vzc2lvbi5zZW5kQnl0ZXMrT2JqZWN0KE8uZ2V0SFRUUFNlbmRCeXRlcykoKSxmPXQuc2Vzc2lvbi5yZWN2Qnl0ZXMrT2JqZWN0KE8uZ2V0SFRUUFJlY3ZCeXRlcykoKTt0LmdhdGV3YXlDbGllbnQuc29ja2V0JiZ0LmdhdGV3YXlDbGllbnQuc29ja2V0LnN0YXRlPT09dC5nYXRld2F5Q2xpZW50LkNPTk5FQ1RFRCYmKGwrPWkuZ2V0U2VuZEJ5dGVzKCksZis9aS5nZXRSZWN2Qnl0ZXMoKSk7dmFyIHA9MTtyLnBlZXJfZGVsYXkmJihwPXIucGVlcl9kZWxheS5sZW5ndGgscCs9MSksaT9PYmplY3QoQS5iKShuLFwiRHVyYXRpb25cIixpLmdldER1cmF0aW9uKCkpOk9iamVjdChBLmIpKG4sXCJEdXJhdGlvblwiLDApLE9iamVjdChBLmIpKG4sXCJVc2VyQ291bnRcIixwKSxPYmplY3QoQS5iKShuLFwiU2VuZEJ5dGVzXCIsbCksT2JqZWN0KEEuYikobixcIlJlY3ZCeXRlc1wiLGYpLE9iamVjdChBLmIpKG4sXCJTZW5kQml0cmF0ZVwiLDgqZC8xZTMpLE9iamVjdChBLmIpKG4sXCJSZWN2Qml0cmF0ZVwiLDgqdS8xZTMpLGUmJmUobil9LHQuaXNMb2NhbFZpZGVvRnJlZXplPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPTA7aWYoIWV8fCF0KXJldHVybiExO2lmKE9iamVjdChzLmlzQ2hyb21lKSgpfHxPYmplY3Qocy5pc09wZXJhKSgpKW49ZS5nb29nRnJhbWVSYXRlSW5wdXQscj1lLmdvb2dGcmFtZVJhdGVTZW50O2Vsc2UgaWYoT2JqZWN0KHMuaXNTYWZhcmkpKCkpbj1wYXJzZUludChlLmZyYW1lcmF0ZU1lYW4pLHI9cGFyc2VJbnQoZS5mcmFtZXNFbmNvZGVkKS1wYXJzZUludCh0LmZyYW1lc0VuY29kZWQpO2Vsc2V7aWYoIU9iamVjdChzLmlzRmlyZUZveCkoKSlyZXR1cm4hMTtuPXBhcnNlSW50KGUuZnJhbWVyYXRlTWVhbikscj1wYXJzZUludChlLmZyYW1lc0VuY29kZWQpLXBhcnNlSW50KHQuZnJhbWVzRW5jb2RlZCl9cmV0dXJuIG4+NSYmcjwzfSx0LmlzUmVtb3RlVmlkZW9GcmVlemU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9MDtpZighZXx8IXQpcmV0dXJuITE7aWYoT2JqZWN0KHMuaXNDaHJvbWUpKCl8fE9iamVjdChzLmlzT3BlcmEpKCkpbj1lLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCxyPWUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQ7ZWxzZSBpZihPYmplY3Qocy5pc1NhZmFyaSkoKSluPWUuZnJhbWVyYXRlTWVhbixyPXBhcnNlSW50KGUuZnJhbWVzRGVjb2RlZCktcGFyc2VJbnQodC5mcmFtZXNEZWNvZGVkKTtlbHNle2lmKCFPYmplY3Qocy5pc0ZpcmVGb3gpKCkpcmV0dXJuITE7bj1wYXJzZUludChlLmZyYW1lc1JlY2VpdmVkKS1wYXJzZUludCh0LmZyYW1lc1JlY2VpdmVkKSxyPXBhcnNlSW50KGUuZnJhbWVzRGVjb2RlZCktcGFyc2VJbnQodC5mcmFtZXNEZWNvZGVkKX1yZXR1cm4gbj41JiZuPDEwJiZyPDN8fChuPjEwJiZuPDIwJiZyPDR8fG4+MjAmJnI8NSl9LHQuaXNBdWRpb0ZyZWV6ZT1mdW5jdGlvbihlKXtpZihPYmplY3Qocy5pc0Nocm9tZSkoKSYmZSl7aWYoZS5nb29nRGVjb2RpbmdQTEMmJmUuZ29vZ0RlY29kaW5nUExDQ05HJiZlLmdvb2dEZWNvZGluZ0NUTilyZXR1cm4ocGFyc2VJbnQoZS5nb29nRGVjb2RpbmdQTEMpK3BhcnNlSW50KGUuZ29vZ0RlY29kaW5nUExDQ05HKSkvcGFyc2VJbnQoZS5nb29nRGVjb2RpbmdDVE4pPi4yfWVsc2UgaWYoKE9iamVjdChzLmlzU2FmYXJpKSgpfHxPYmplY3Qocy5pc0ZpcmVGb3gpKCkpJiZlLnBhY2tldHNMb3N0JiZlLnBhY2tldHNSZWNlaXZlZClyZXR1cm4gcGFyc2VJbnQoZS5wYWNrZXRzTG9zdCkvKHBhcnNlSW50KGUucGFja2V0c0xvc3QpK3BhcnNlSW50KGUucGFja2V0c1JlY2VpdmVkKSk+LjI7cmV0dXJuITF9LHQuaXNBdWRpb0RlY29kZUZhaWxlZD1mdW5jdGlvbihlKXtyZXR1cm4hISgoT2JqZWN0KHMuaXNDaHJvbWUpKCl8fE9iamVjdChzLmlzT3BlcmEpKCkpJiZlJiZwYXJzZUludChlLmJ5dGVzUmVjZWl2ZWQpPjAmJjA9PT1wYXJzZUludChlLmdvb2dEZWNvZGluZ05vcm1hbCkpfSx0LnN0YXJ0TmV0d29ya1F1YWxpdHlUaW1lcj1mdW5jdGlvbigpe3QuY2xlYXJOZXR3b3JrUXVhbGl0eVRpbWVyKCksdC5uZXR3b3JrUXVhbGl0eVRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKHQuZ2F0ZXdheUNsaWVudC5zdGF0ZT09PVIuYS5DT05ORUNURUQmJm5hdmlnYXRvci5vbkxpbmUpe3ZhciBlPXQuZ2F0ZXdheUNsaWVudC50cmFmZmljX3N0YXRzO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibmV0d29yay1xdWFsaXR5XCIsdXBsaW5rTmV0d29ya1F1YWxpdHk6dC5uZXR3b3JrUXVhbGl0eVRyYW5zKGUudXBsaW5rX25ldHdvcmtfcXVhbGl0eSksZG93bmxpbmtOZXR3b3JrUXVhbGl0eTp0Lm5ldHdvcmtRdWFsaXR5VHJhbnMoZS5kb3dubGlua19uZXR3b3JrX3F1YWxpdHkpfSl9ZWxzZSB0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm5ldHdvcmstcXVhbGl0eVwiLHVwbGlua05ldHdvcmtRdWFsaXR5OjAsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowfSl9KSwyZTMpfSx0LmNsZWFyTmV0d29ya1F1YWxpdHlUaW1lcj1mdW5jdGlvbigpe3QubmV0d29ya1F1YWxpdHlUaW1lciYmY2xlYXJJbnRlcnZhbCh0Lm5ldHdvcmtRdWFsaXR5VGltZXIpfSx0Lm5ldHdvcmtRdWFsaXR5VHJhbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTAmJmU8LjE3PzE6ZT49LjE3JiZlPC4zNj8yOmU+PS4zNiYmZTwuNTk/MzplPj0uNTkmJmU8PTE/NDplPjE/NTowfSx0LmdldFN0YXRzVGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU9dC5nYXRld2F5Q2xpZW50LnRyYWZmaWNfc3RhdHMsbj1EYXRlLm5vdygpO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiX3Rlc3RFeGNlcHRpb25cIn0pLE9iamVjdC5rZXlzKHQubG9jYWxTdGF0cykubGVuZ3RoJiZ0LmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxTdGF0cyh0LmxvY2FsU3RhdHMpLE9iamVjdC5rZXlzKHQucmVtb3RlU3RhdHMpLmxlbmd0aCYmdC5leGNlcHRpb25Nb25pdG9yLnNldFJlbW90ZVN0YXRzKHQucmVtb3RlU3RhdHMpO3ZhciByPXt9O09iamVjdC5rZXlzKHQuZ2F0ZXdheUNsaWVudC5yZW1vdGVTdHJlYW1zKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgbz10LmdhdGV3YXlDbGllbnQucmVtb3RlU3RyZWFtc1tpXSxhPXQucmVtb3RlU3RhdHNbaV0scz17aWQ6aSx1cGRhdGVkQXQ6bn07cltpXT1zLHMuZmlyc3RGcmFtZVRpbWU9by5maXJzdEZyYW1lVGltZSxhPyhzLmF1ZGlvVG90YWxQbGF5RHVyYXRpb249YS5hdWRpb1RvdGFsUGxheUR1cmF0aW9uKzEscy5hdWRpb1RvdGFsRnJlZXplVGltZT1hLmF1ZGlvVG90YWxGcmVlemVUaW1lLHMuaXNBdWRpb0ZyZWV6ZT0hMSxzLmlzQXVkaW9EZWNvZGVGYWlsZWQ9ITEscy52aWRlb1RvdGFsUGxheUR1cmF0aW9uPWEudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbisxLHMudmlkZW9Ub3RhbEZyZWV6ZVRpbWU9YS52aWRlb1RvdGFsRnJlZXplVGltZSxzLmlzVmlkZW9GcmVlemU9ITEpOihzLmF1ZGlvVG90YWxQbGF5RHVyYXRpb249MSxzLmF1ZGlvVG90YWxGcmVlemVUaW1lPTAscy52aWRlb1RvdGFsUGxheUR1cmF0aW9uPTEscy52aWRlb1RvdGFsRnJlZXplVGltZT0wKTt2YXIgYz1lJiZlLnBlZXJfZGVsYXkmJmUucGVlcl9kZWxheS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wZWVyX3VpZD09aX0pKTtjJiYocy5wZWVyX2RlbGF5PWMpLG8mJihvLmlzUGxheWluZygpJiYocy5hdWRpb0Rpc2FibGVkPW8udXNlck11dGVBdWRpb3x8by5wZWVyTXV0ZUF1ZGlvP1wiMVwiOlwiMFwiLHMudmlkZW9EaXNhYmxlZD1vLnVzZXJNdXRlVmlkZW98fG8ucGVlck11dGVWaWRlbz9cIjFcIjpcIjBcIiksYSYmYS5wZWVyX2RlbGF5JiZjJiZhLnBlZXJfZGVsYXkuc3RyZWFtX3R5cGUhPT1jLnN0cmVhbV90eXBlJiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbVR5cGVDaGFuZ2VcIix1aWQ6aSxzdHJlYW1UeXBlOmMuc3RyZWFtX3R5cGV9KSxvLnBjJiZcImVzdGFibGlzaGVkXCI9PW8ucGMuc3RhdGUmJm8ucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKGUpe2lmKHMucGNTdGF0cz1lLHMuYXVkaW9TdGF0cz1lLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9cIj09ZS5tZWRpYVR5cGUmJihlLmlkLmluZGV4T2YoXCJfcmVjdlwiKT4tMXx8ZS5pZC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpPi0xKX0pKSxzLnZpZGVvU3RhdHM9ZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvXCI9PWUubWVkaWFUeXBlJiYoZS5pZC5pbmRleE9mKFwiX3JlY3ZcIik+LTF8fGUuaWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaW5ib3VuZFwiKT4tMSl9KSksYSYmYS5hdWRpb1N0YXRzJiZzLmF1ZGlvU3RhdHMpe3ZhciBuPXBhcnNlSW50KHMuYXVkaW9TdGF0cy5ieXRlc1JlY2VpdmVkKS1wYXJzZUludChhLmF1ZGlvU3RhdHMuYnl0ZXNSZWNlaXZlZCkscj1wYXJzZUludChzLmF1ZGlvU3RhdHMuZ29vZ0RlY29kaW5nTm9ybWFsKS1wYXJzZUludChhLmF1ZGlvU3RhdHMuZ29vZ0RlY29kaW5nTm9ybWFsKTtpZihzLmF1ZGlvU3RhdHMuYXVkaW9SZWN2Qnl0ZXNEZWx0YT1uLHMuYXVkaW9TdGF0cy5hdWRpb0RlY29kaW5nTm9ybWFsRGVsdGE9cix0LnNlc3Npb24ucmVjdkJ5dGVzKz1uLGlzRmluaXRlKG4pJiZzLmF1ZGlvU3RhdHMudGltZXN0YW1wKXt2YXIgaT1zLmF1ZGlvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKS1hLmF1ZGlvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKTtzLmF1ZGlvUmVjdkJpdHJhdGU9TWF0aC5mbG9vcig4Km4vaSl9dC5pc0F1ZGlvRnJlZXplKHMuYXVkaW9TdGF0cykmJnMuYXVkaW9Ub3RhbFBsYXlEdXJhdGlvbj4xMCYmKHMuYXVkaW9Ub3RhbEZyZWV6ZVRpbWUrKyxzLmlzQXVkaW9GcmVlemU9ITApLHQuaXNBdWRpb0RlY29kZUZhaWxlZChzLmF1ZGlvU3RhdHMpJiZzLmF1ZGlvVG90YWxQbGF5RHVyYXRpb24+MTAmJihzLmlzQXVkaW9EZWNvZGVGYWlsZWQ9ITApLHMuYXVkaW9TdGF0cy5hdWRpb1RvdGFsRnJlZXplVGltZT1zLmF1ZGlvVG90YWxGcmVlemVUaW1lLHMuYXVkaW9TdGF0cy5hdWRpb1RvdGFsUGxheUR1cmF0aW9uPXMuYXVkaW9Ub3RhbFBsYXlEdXJhdGlvbixzLmF1ZGlvU3RhdHMuYXVkaW9GcmVlemVSYXRlPU1hdGguY2VpbCgxMDAqcy5hdWRpb1RvdGFsRnJlZXplVGltZS9zLmF1ZGlvVG90YWxQbGF5RHVyYXRpb24pfWlmKGEmJmEudmlkZW9TdGF0cyYmcy52aWRlb1N0YXRzKXt2YXIgYz1wYXJzZUludChzLnZpZGVvU3RhdHMuYnl0ZXNSZWNlaXZlZCktcGFyc2VJbnQoYS52aWRlb1N0YXRzLmJ5dGVzUmVjZWl2ZWQpO2lmKHMudmlkZW9TdGF0cy52aWRlb1JlY3ZCeXRlc0RlbHRhPWMsdC5zZXNzaW9uLnJlY3ZCeXRlcys9Yyxpc0Zpbml0ZShjKSYmcy52aWRlb1N0YXRzLnRpbWVzdGFtcCl7aT1zLnZpZGVvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKS1hLnZpZGVvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKTtzLnZpZGVvUmVjdkJpdHJhdGU9TWF0aC5mbG9vcig4KmMvaSl9dC5pc1JlbW90ZVZpZGVvRnJlZXplKHMudmlkZW9TdGF0cyxhLnZpZGVvU3RhdHMpJiYocy52aWRlb1RvdGFsRnJlZXplVGltZSsrLHMuaXNWaWRlb0ZyZWV6ZT0hMCkscy52aWRlb1N0YXRzLnZpZGVvVG90YWxGcmVlemVUaW1lPXMudmlkZW9Ub3RhbEZyZWV6ZVRpbWUscy52aWRlb1N0YXRzLnZpZGVvVG90YWxQbGF5RHVyYXRpb249cy52aWRlb1RvdGFsUGxheUR1cmF0aW9uLHMudmlkZW9TdGF0cy52aWRlb0ZyZWV6ZVJhdGU9TWF0aC5jZWlsKDEwMCpzLnZpZGVvVG90YWxGcmVlemVUaW1lL3MudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbiksby5wbGF5ZXImJm8ucGxheWVyLnZpZGVvJiZvLnBsYXllci52aWRlby52aWRlb1dpZHRoJiZvLnBsYXllci52aWRlby52aWRlb0hlaWdodD8ocy52aWRlb1N0YXRzLnJlbmRlclJlbW90ZVdpZHRoPW8ucGxheWVyLnZpZGVvLnZpZGVvV2lkdGgscy52aWRlb1N0YXRzLnJlbmRlclJlbW90ZUhlaWdodD1vLnBsYXllci52aWRlby52aWRlb0hlaWdodCk6KHMudmlkZW9TdGF0cy5yZW5kZXJSZW1vdGVXaWR0aD1vLnZpZGVvV2lkdGh8fHMudmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aFJlY2VpdmVkLHMudmlkZW9TdGF0cy5yZW5kZXJSZW1vdGVIZWlnaHQ9by52aWRlb0hlaWdodHx8cy52aWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkKX19KSkpfSkpLHQucmVtb3RlU3RhdHM9cjt2YXIgaT17fTtpZihPYmplY3Qua2V5cyh0LmdhdGV3YXlDbGllbnQubG9jYWxTdHJlYW1zKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj10LmdhdGV3YXlDbGllbnQubG9jYWxTdHJlYW1zW2VdLG89dC5sb2NhbFN0YXRzW2VdLGE9e2lkOmUsdXBkYXRlZEF0Om59O2lbZV09YSxvPyhhLnZpZGVvVG90YWxQbGF5RHVyYXRpb249by52aWRlb1RvdGFsUGxheUR1cmF0aW9uKzEsYS52aWRlb1RvdGFsRnJlZXplVGltZT1vLnZpZGVvVG90YWxGcmVlemVUaW1lLGEuaXNWaWRlb0ZyZWV6ZT0hMSk6KGEudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbj0xLGEudmlkZW9Ub3RhbEZyZWV6ZVRpbWU9MCksciYmKHIuaXNQbGF5aW5nKCkmJihhLmF1ZGlvRGlzYWJsZWQ9ci51c2VyTXV0ZUF1ZGlvP1wiMVwiOlwiMFwiLGEudmlkZW9EaXNhYmxlZD1yLnVzZXJNdXRlVmlkZW8/XCIxXCI6XCIwXCIpLHIudmlkZW8mJnIuYXR0cmlidXRlcy5tYXhWaWRlb0JXP2EudmlkZW9UYXJnZXRTZW5kQml0cmF0ZT1yLmF0dHJpYnV0ZXMubWF4VmlkZW9CVzpyLnZpZGVvJiZyLnNjcmVlbkF0dHJpYnV0ZXMmJihhLnZpZGVvVGFyZ2V0U2VuZEJpdHJhdGU9ci5zY3JlZW5BdHRyaWJ1dGVzLm1heFZpZGVvQlcpLHIucGMmJlwiZXN0YWJsaXNoZWRcIj09ci5wYy5zdGF0ZSYmci5wYy5nZXRTdGF0cygoZnVuY3Rpb24oZSl7aWYoYS5wY1N0YXRzPWUucmV2ZXJzZSgpLGEuYXVkaW9TdGF0cz1lLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9cIj09ZS5tZWRpYVR5cGUmJihlLmlkLmluZGV4T2YoXCJfc2VuZFwiKT4tMXx8ZS5pZC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJvdXRib3VuZFwiKT4tMSl9KSksYS52aWRlb1N0YXRzPWUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT1lLm1lZGlhVHlwZSYmKGUuaWQuaW5kZXhPZihcIl9zZW5kXCIpPi0xfHxlLmlkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm91dGJvdW5kXCIpPi0xKX0pKSxhLmF1ZGlvU3RhdHMmJm8mJm8uYXVkaW9TdGF0cyl7dmFyIG49cGFyc2VJbnQoYS5hdWRpb1N0YXRzLmJ5dGVzU2VudCktcGFyc2VJbnQoby5hdWRpb1N0YXRzLmJ5dGVzU2VudCk7aWYoYS5hdWRpb1N0YXRzLmF1ZGlvU2VuZEJ5dGVzRGVsdGE9bix0LnNlc3Npb24uc2VuZEJ5dGVzKz1uLGlzRmluaXRlKG4pJiZhLmF1ZGlvU3RhdHMudGltZXN0YW1wKXt2YXIgaT1hLmF1ZGlvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKS1vLmF1ZGlvU3RhdHMudGltZXN0YW1wLmdldFRpbWUoKTthLmF1ZGlvU2VuZEJpdHJhdGU9TWF0aC5mbG9vcig4Km4vaSl9fWlmKGEudmlkZW9TdGF0cyYmbyYmby52aWRlb1N0YXRzKXt2YXIgcz1wYXJzZUludChhLnZpZGVvU3RhdHMuYnl0ZXNTZW50KS1wYXJzZUludChvLnZpZGVvU3RhdHMuYnl0ZXNTZW50KTtpZihhLnZpZGVvU3RhdHMudmlkZW9TZW5kQnl0ZXNEZWx0YT1zLHQuc2Vzc2lvbi5zZW5kQnl0ZXMrPXMsaXNGaW5pdGUocykmJmEudmlkZW9TdGF0cy50aW1lc3RhbXApe2k9YS52aWRlb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCktby52aWRlb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCk7YS52aWRlb1NlbmRCaXRyYXRlPU1hdGguZmxvb3IoOCpzL2kpfXQuaXNMb2NhbFZpZGVvRnJlZXplKGEudmlkZW9TdGF0cyxvLnZpZGVvU3RhdHMpJiYoYS52aWRlb1RvdGFsRnJlZXplVGltZSsrLGEuaXNWaWRlb0ZyZWV6ZT0hMCksYS52aWRlb1N0YXRzLnZpZGVvVG90YWxGcmVlemVUaW1lPWEudmlkZW9Ub3RhbEZyZWV6ZVRpbWUsYS52aWRlb1N0YXRzLnZpZGVvVG90YWxQbGF5RHVyYXRpb249YS52aWRlb1RvdGFsUGxheUR1cmF0aW9uLGEudmlkZW9TdGF0cy52aWRlb0ZyZWV6ZVJhdGU9TWF0aC5jZWlsKDEwMCphLnZpZGVvVG90YWxGcmVlemVUaW1lL2EudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbiksYS52aWRlb1N0YXRzLnJlbmRlckxvY2FsV2lkdGg9ci52aWRlb1dpZHRofHxhLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhTZW50LGEudmlkZW9TdGF0cy5yZW5kZXJMb2NhbEhlaWdodD1yLnZpZGVvSGVpZ2h0fHxhLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0U2VudH19KSkpfSkpLHQubG9jYWxTdGF0cz1pLHQuc2Vzc2lvbi5IVFRQU2VuZEJ5dGVzRGVsdGE9T2JqZWN0KE8uZ2V0SFRUUFNlbmRCeXRlcykoKS10LnNlc3Npb24uSFRUUFNlbmRCeXRlcyx0LnNlc3Npb24uSFRUUFNlbmRCeXRlcz1PYmplY3QoTy5nZXRIVFRQU2VuZEJ5dGVzKSgpLHQuc2Vzc2lvbi5IVFRQUmVjdkJ5dGVzRGVsdGE9T2JqZWN0KE8uZ2V0SFRUUFJlY3ZCeXRlcykoKS10LnNlc3Npb24uSFRUUFJlY3ZCeXRlcyx0LnNlc3Npb24uSFRUUFJlY3ZCeXRlcz1PYmplY3QoTy5nZXRIVFRQUmVjdkJ5dGVzKSgpLHQuZ2F0ZXdheUNsaWVudC5zb2NrZXQmJnQuZ2F0ZXdheUNsaWVudC5zb2NrZXQuc3RhdGU9PT10LmdhdGV3YXlDbGllbnQuQ09OTkVDVEVEKXt2YXIgbz10LmdhdGV3YXlDbGllbnQuc29ja2V0O3Quc2Vzc2lvbi5XU1NlbmRCeXRlc0RlbHRhPW8uZ2V0U2VuZEJ5dGVzKCktdC5zZXNzaW9uLldTU2VuZEJ5dGVzLHQuc2Vzc2lvbi5XU1NlbmRCeXRlcz1vLmdldFNlbmRCeXRlcygpLHQuc2Vzc2lvbi5XU1JlY3ZCeXRlc0RlbHRhPW8uZ2V0UmVjdkJ5dGVzKCktdC5zZXNzaW9uLldTUmVjdkJ5dGVzLHQuc2Vzc2lvbi5XU1JlY3ZCeXRlcz1vLmdldFJlY3ZCeXRlcygpfX0pLDFlMyksdC5nYXRld2F5Q2xpZW50Lm9uKFwiam9pblwiLChmdW5jdGlvbigpe3Quc2Vzc2lvbj17c2VuZEJ5dGVzOjAscmVjdkJ5dGVzOjAsV1NTZW5kQnl0ZXM6MCxXU1NlbmRCeXRlc0RlbHRhOjAsV1NSZWN2Qnl0ZXM6MCxXU1JlY3ZCeXRlc0RlbHRhOjAsSFRUUFNlbmRCeXRlczowLEhUVFBTZW5kQnl0ZXNEZWx0YTowLEhUVFBSZWN2Qnl0ZXM6MCxIVFRQUmVjdkJ5dGVzRGVsdGE6MH19KSksdH0odC5nYXRld2F5Q2xpZW50KSx0LmNvbmZpZ0Rpc3RyaWJ1dE1hbmFnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQuY2xpZW50PWUsdC5jbGllbnQuZ2F0ZXdheUNsaWVudCYmdC5jbGllbnQuZ2F0ZXdheUNsaWVudC5vbihcImNvbmZpZy1kaXN0cmlidXRlXCIsKGZ1bmN0aW9uKG4pe3ZhciBhPW4uam9pbkluZm8scz1uLmNvbmZpZztpZihzKXtPYmplY3QoTS5pc0VtcHR5KShzLnVwbG9hZExvZyl8fChPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiVVBMT0FEX0xPR1wiLHMudXBsb2FkTG9nKSxvLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoYS5zaWQse25hbWU6XCJfY29uZmlnRGlzdHJpYnV0ZVwiLG9wdGlvbnM6e2ZlYXR1cmU6XCJ1cGxvYWRMb2dcIix2YWx1ZTpzLnVwbG9hZExvZ319KSgpKSxPYmplY3QoTS5pc0VtcHR5KShzLmR1YWxTdHJlYW0pfHwoZS5pc0R1YWxTdHJlYW09cy5kdWFsU3RyZWFtLG8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShhLnNpZCx7bmFtZTpcIl9jb25maWdEaXN0cmlidXRlXCIsb3B0aW9uczp7ZmVhdHVyZTpcImR1YWxTdHJlYW1cIix2YWx1ZTpzLmR1YWxTdHJlYW19fSkoKSksT2JqZWN0KE0uaXNFbXB0eSkocy5zdHJlYW1GYWxsYmFja09wdGlvbil8fHQuY2xpZW50LmdhdGV3YXlDbGllbnQmJnQuY2xpZW50LmdhdGV3YXlDbGllbnQub24oXCJzdHJlYW0tc3Vic2NyaWJlZFwiLChmdW5jdGlvbihlKXt2YXIgbj1lLnN0cmVhbTtuPyh0LmNsaWVudC5nYXRld2F5Q2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKG4scy5zdHJlYW1GYWxsYmFja09wdGlvbiksby5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGEuc2lkLHtuYW1lOlwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIixvcHRpb25zOntmZWF0dXJlOlwic3RyZWFtRmFsbGJhY2tPcHRpb25cIix2YWx1ZTpzLnN0cmVhbUZhbGxiYWNrT3B0aW9uLHN0cmVhbUlkOm4uZ2V0SWQoKX19KSgpKTpvLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoYS5zaWQse25hbWU6XCJfY29uZmlnRGlzdHJpYnV0ZVwiLG9wdGlvbnM6e2ZlYXR1cmU6XCJzdHJlYW1GYWxsYmFja09wdGlvblwiLHZhbHVlOnMuc3RyZWFtRmFsbGJhY2tPcHRpb24sc3RyZWFtSWQ6bi5nZXRJZCgpLGVycjpcImludmFsaWQgc3RyZWFtXCJ9fSkoKX0pKTt0cnl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBzZXRQYXJhbWV0ZXIgaW4gZGlzdHJpYnV0aW9uOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHMpKSksT2JqZWN0LmtleXMocykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuc2V0UGFyYW1ldGVyKShlLHNbZV0pfSkpfWNhdGNoKHQpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gc2V0UGFyYW1ldGVyIGluIGRpc3RyaWJ1dGlvbiBmYWlsZWQ6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocykpKX19fSkpLHR9KHQpLE9iamVjdCh4LmFkZExpdmVTdHJlYW1pbmdDYXBhYmlsaXR5KSh0LGUpLGUuYXJlYUNvZGUpe3ZhciBuPWUsYz1uLmFyZWFDb2RlLGY9bi5leGNsdWRlZEFyZWEscD1PYmplY3QoQi5nZXRBcmVhQ29kZUJ5Q29uZmlnKSh7YXJlYUNvZGU6YyxleGNsdWRlZEFyZWE6Zn0pO09iamVjdChyLnNldFBhcmFtZXRlcikoXCJBUkVBX1NFVFRJTkdcIixwKTt2YXIgbT1PYmplY3QoQi5nZXRBcmVhRG9tYWluQ29uZmlnKShwKTtPYmplY3Qua2V5cyhtKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW1bZV07XCJMT0dfVVBMT0FEX1NFUlZFUlwiPT1lfHxcIkVWRU5UX1JFUE9SVF9ET01BSU5cIj09ZXx8XCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiPT1lfHxcIk5HSU5YXCI9PWU/T2JqZWN0KHIuc2V0UGFyYW1ldGVyKShlLHRbMF0pOk9iamVjdChyLnNldFBhcmFtZXRlcikoZSx0KX0pKX1yZXR1cm4gT2JqZWN0KE0uaXNFbXB0eSkoZS50dXJuU2VydmVyKXx8dC5zZXRUdXJuU2VydmVyKGUudHVyblNlcnZlciksT2JqZWN0KE0uaXNFbXB0eSkoZS5wcm94eVNlcnZlcil8fHQuc2V0UHJveHlTZXJ2ZXIoZS5wcm94eVNlcnZlciksXCJsaXZlXCI9PT10Lm1vZGUmJih0LmdhdGV3YXlDbGllbnQucm9sZT1cImF1ZGllbmNlXCIpLFwicnRjXCI9PT10Lm1vZGUmJih0LmdhdGV3YXlDbGllbnQucm9sZT1HKSx0LmdhdGV3YXlDbGllbnQub24oXCJvbk11bHRpSVBcIiwoZnVuY3Rpb24oZSl7dC5nYXRld2F5Q2xpZW50LmNsb3NlR2F0ZXdheSgpLHQuZ2F0ZXdheUNsaWVudC5zb2NrZXQ9dm9pZCAwLHQuZ2F0ZXdheUNsaWVudC5oYXNDaGFuZ2VCR1BBZGRyZXNzPSEwLHQuam9pbkluZm8ubXVsdGlJUD1lLm9wdGlvbix0LmdhdGV3YXlDbGllbnQuc3RhdGU9Ui5hLkNPTk5FQ1RJTkc7dmFyIG49ZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIEpvaW5pbmcgY2hhbm5lbDogXCIpLmNvbmNhdCh0LmNoYW5uZWwpKSx0LmpvaW5JbmZvLmNpZD1lLmNpZCx0LmpvaW5JbmZvLnVpZHx8KHQuam9pbkluZm8udWlkPWUudWlkKSx0LmpvaW5JbmZvLnVuaV9sYnNfaXA9ZS51bmlfbGJzX2lwLHQuam9pbkluZm8uZ2F0ZXdheUFkZHI9ZS5nYXRld2F5X2FkZHIsdC5vblN1Y2Nlc3M/dC5nYXRld2F5Q2xpZW50LmpvaW4odC5qb2luSW5mbyx0LmtleSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIEpvaW4gY2hhbm5lbCBcIikuY29uY2F0KHQuY2hhbm5lbCxcIiBzdWNjZXNzXCIpKTt2YXIgbj10Lm9uU3VjY2Vzczt0Lm9uU3VjY2Vzcz1udWxsLHQub25GYWlsdXJlPW51bGwsbihlKX0pLHQub25GYWlsdXJlKToodC5nYXRld2F5Q2xpZW50LmpvaW5JbmZvPXkoKSh7fSx0LmpvaW5JbmZvKSx0LmdhdGV3YXlDbGllbnQucmVqb2luKCkpfTt0LmpvaW5JbmZvLnN0cmluZ1VpZCYmIXQuam9pbkluZm8udWlkPyh0LnVzZXJBY2NvdW50UmVxJiYhdC51c2VyQWNjb3VudFJlcS5pc0ZpbmlzaGVkKCkmJnQudXNlckFjY291bnRSZXEuY2FuY2VsKCksdC51c2VyQWNjb3VudFJlcT1PYmplY3QoYi5nZXRVc2VyQWNjb3VudCkoam9pbkluZm8sdC5nYXRld2F5Q2xpZW50KSx0LnVzZXJBY2NvdW50UmVxLnRoZW4oKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5lcnJvcihcImdldFVzZXJBY2NvdW50IFN1Y2Nlc3MgXCIuY29uY2F0KGUudXJsLFwiIFwiKS5jb25jYXQoam9pbkluZm8uc3RyaW5nVWlkLFwiID0+IFwiKS5jb25jYXQoZS51aWQpKSx0LmpvaW5JbmZvLnVpZD1lLnVpZCxPYmplY3QoYi5nZXRHYXRld2F5TGlzdCkodC5qb2luSW5mbyxuLHQub25GYWlsdXJlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmVycm9yKFwiZ2V0VXNlckFjY291bnQgcmVqZWN0ZWRcIixlKSx0Lm9uRmFpbHVyZShlKX0pKSk6T2JqZWN0KGIuZ2V0R2F0ZXdheUxpc3QpKHQuam9pbkluZm8sbix0Lm9uRmFpbHVyZSl9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwicmVqb2luLXN0YXJ0XCIsKGZ1bmN0aW9uKCl7dC5fcmVuZXdTZXNzaW9uKCksby5yZXBvcnQuc2Vzc2lvbkluaXQoZS5zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxleHRlbmQ6e3Jlam9pbjohMH0sY25hbWU6dC5jaGFubmVsLGFwcGlkOmUuYXBwSWQsbW9kZTplLm1vZGUsc3VjYzohMH0pfSkpLHQuZ2F0ZXdheUNsaWVudC5vbihcInJlY292ZXJcIiwoZnVuY3Rpb24oKXt0Ll9yZW5ld1Nlc3Npb24oKSxjb25zb2xlLmxvZyhcInJlY292ZXJcIixlLnNlc3Npb25JZCksby5yZXBvcnQuc2Vzc2lvbkluaXQoZS5zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxleHRlbmQ6e3JlY292ZXI6ITB9LGNuYW1lOnQuY2hhbm5lbCxhcHBpZDplLmFwcElkLG1vZGU6ZS5tb2RlLHN1Y2M6ITB9KX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJyZWpvaW5cIiwoZnVuY3Rpb24oKXt2YXIgZT10LmhpZ2hTdHJlYW1TdGF0ZTtpZihpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIENsaWVudCBsb2NhbCBzdHJlYW0gcHJlU3RhdGU6IFwiKS5jb25jYXQoZSkpLHQub25TdWNjZXNzKXt2YXIgbj10Lm9uU3VjY2Vzczt0Lm9uU3VjY2Vzcz1udWxsLHQub25GYWlsdXJlPW51bGwsbih0LmpvaW5JbmZvLnVpZCl9IXQuaGlnaFN0cmVhbXx8MCE9PWUmJjEhPT1lfHwoaS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHB1Ymxpc2ggYWZ0ZXIgcmVqb2luXCIpKSx0LmhpZ2hTdHJlYW1TdGF0ZT0yLHQubG93U3RyZWFtU3RhdGU9Mix0LnB1Ymxpc2godC5oaWdoU3RyZWFtLChmdW5jdGlvbihlKXtlJiZpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gXCIpLGUpfSkpKX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJzdHJlYW1QdWJsaXNoZWRcIiwoZnVuY3Rpb24oZSl7dC5oYXNQdWJsaXNoZWR8fCh0Lmhhc1B1Ymxpc2hlZD0hMCx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1wdWJsaXNoZWRcIixzdHJlYW06ZS5zdHJlYW0scHJveHk6ZS5wcm94eX0pKX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJwdWJQMlBMb3N0XCIsKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gU3RhcnQgcmVjb25uZWN0IGxvY2FsIHBlZXJDb25uZWN0aW9uOiBcIikuY29uY2F0KHQuaGlnaFN0cmVhbS5nZXRJZCgpKSksdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW0tcmVjb25uZWN0LXN0YXJ0XCIsdWlkOnQuaGlnaFN0cmVhbS5nZXRJZCgpfSksMT09PXQuaGlnaFN0cmVhbVN0YXRlJiYodC5oaWdoU3RyZWFtU3RhdGU9MCx0Lmxvd1N0cmVhbVN0YXRlPTApLHQuX3VucHVibGlzaCh0LmhpZ2hTdHJlYW0sKGZ1bmN0aW9uKCl7dC5fcHVibGlzaCh0LmhpZ2hTdHJlYW0sKGZ1bmN0aW9uKCl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBSZWNvbm5lY3QgbG9jYWwgcGVlckNvbm5lY3Rpb24gc3VjY2VzczogXCIpLmNvbmNhdCh0LmhpZ2hTdHJlYW0uZ2V0SWQoKSkpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1lbmRcIix1aWQ6dC5oaWdoU3RyZWFtLmdldElkKCksc3VjY2VzczohMCxyZWFzb246XCJcIn0pfSksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IGxvY2FsIHBlZXJDb25uZWN0aW9uIGZhaWxlZDogXCIpLmNvbmNhdChlKSksdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW0tcmVjb25uZWN0LWVuZFwiLHVpZDp0LmhpZ2hTdHJlYW0uZ2V0SWQoKSxzdWNjZXNzOiExLHJlYXNvbjplfSl9KSwhMCl9KSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBSZWNvbm5lY3QgbG9jYWwgcGVlckNvbm5lY3Rpb24gZmFpbGVkOiBcIikuY29uY2F0KGUpKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3QtZW5kXCIsdWlkOnQuaGlnaFN0cmVhbS5nZXRJZCgpLHN1Y2Nlc3M6ITEscmVhc29uOmV9KX0pLCEwKX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJzdWJQMlBMb3N0XCIsKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gU3RhcnQgcmVjb25uZWN0IHJlbW90ZSBwZWVyQ29ubmVjdGlvbjogXCIpLmNvbmNhdChlLnN0cmVhbS5nZXRJZCgpLFwiIFwiKS5jb25jYXQoZS5zdHJlYW0uc3Vic2NyaWJlT3B0aW9ucykpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1zdGFydFwiLHVpZDplLnN0cmVhbS5nZXRJZCgpfSk7dmFyIG49ZS5zdHJlYW0uc3Vic2NyaWJlT3B0aW9ucztjb25zb2xlLmxvZyhcIlJlLXN1YnNjcmliZSBzdHJlYW1cIixuLGUuc3RyZWFtKSx0LmdhdGV3YXlDbGllbnQudW5zdWJzY3JpYmUoZS5zdHJlYW0sKGZ1bmN0aW9uKCl7ZS5zdHJlYW0uc3Vic2NyaWJlT3B0aW9ucz1uLHQuZ2F0ZXdheUNsaWVudC5zdWJzY3JpYmUoZS5zdHJlYW0sKGZ1bmN0aW9uKCl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBSZWNvbm5lY3QgcmVtb3RlIHBlZXJDb25uZWN0aW9uIHN1Y2Nlc3M6IFwiKS5jb25jYXQoZS5zdHJlYW0uZ2V0SWQoKSkpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1lbmRcIix1aWQ6ZS5zdHJlYW0uZ2V0SWQoKSxzdWNjZXNzOiEwLHJlYXNvbjpcIlwifSl9KSwoZnVuY3Rpb24obil7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBSZWNvbm5lY3QgcmVtb3RlIHBlZXJDb25uZWN0aW9uIGZhaWxlZDogXCIpLG4pLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1lbmRcIix1aWQ6ZS5zdHJlYW0uZ2V0SWQoKSxzdWNjZXNzOiExLHJlYXNvbjpufSl9KSl9KSwoZnVuY3Rpb24obil7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBSZWNvbm5lY3QgcmVtb3RlIHBlZXJDb25uZWN0aW9uIGZhaWxlZDogXCIpLG4pLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1lbmRcIix1aWQ6ZS5zdHJlYW0uZ2V0SWQoKSxzdWNjZXNzOiExLHJlYXNvbjpufSl9KSl9KSksUC5vbihcIm5ldHdvcmtUeXBlQ2hhbmdlZFwiLChmdW5jdGlvbihlKXt0LmdhdGV3YXlDbGllbnQmJnQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KGUpO3ZhciBuPXkoKSh7fSxlLHt0eXBlOlwibmV0d29yay10eXBlLWNoYW5nZWRcIn0pO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KG4pfSkpLGwuYS5vbihcInJlY29yZGluZ0RldmljZUNoYW5nZWRcIiwoZnVuY3Rpb24oZSl7dC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChlKTt2YXIgbj15KCkoe30sZSx7dHlwZTpcInJlY29yZGluZy1kZXZpY2UtY2hhbmdlZFwifSk7dC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQobil9KSksbC5hLm9uKFwicGxheW91dERldmljZUNoYW5nZWRcIiwoZnVuY3Rpb24oZSl7dC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChlKTt2YXIgbj15KCkoe30sZSx7dHlwZTpcInBsYXlvdXQtZGV2aWNlLWNoYW5nZWRcIn0pO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KG4pfSkpLGwuYS5vbihcImNhbWVyYUNoYW5nZWRcIiwoZnVuY3Rpb24oZSl7dC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChlKTt2YXIgbj15KCkoe30sZSx7dHlwZTpcImNhbWVyYS1jaGFuZ2VkXCJ9KTt0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChuKX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJzdHJlYW1UeXBlQ2hhbmdlXCIsKGZ1bmN0aW9uKG4pe3ZhciByPXkoKSh7fSxuLHt0eXBlOlwic3RyZWFtLXR5cGUtY2hhbmdlZFwifSk7dC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQociksby5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwic3RyZWFtVHlwZUNoYW5nZVwifSkobnVsbCxKU09OLnN0cmluZ2lmeShuKSl9KSksdH0scT17d2lkdGg6NjQwLGhlaWdodDozNjAsdmlkZW9CaXRyYXRlOjQwMCx2aWRlb0ZyYW1lcmF0ZToxNSxsb3dMYXRlbmN5OiExLGF1ZGlvU2FtcGxlUmF0ZTo0OGUzLGF1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjEsdmlkZW9Hb3A6MzAsdmlkZW9Db2RlY1Byb2ZpbGU6MTAwLHVzZXJDb3VudDowLHVzZXJDb25maWdFeHRyYUluZm86e30sYmFja2dyb3VuZENvbG9yOjAsdHJhbnNjb2RpbmdVc2VyczpbXX0sSj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiaDI2NF9pbnRlcm9wXCI6cmV0dXJuXCJoMjY0XCI7ZGVmYXVsdDpyZXR1cm5cInZwOFwifX0sWT1mdW5jdGlvbihlKXtyZXR1cm4tMT09PW0uaW5kZXhPZihlLm1vZGUpP1QuZGVmYXVsdC5JTlZBTElEX0NMSUVOVF9NT0RFOi0xPT09aC5pbmRleE9mKGUuY29kZWMpP1QuZGVmYXVsdC5JTlZBTElEX0NMSUVOVF9DT0RFQzpcImgyNjRfaW50ZXJvcFwiPT1lLm1vZGUmJlwiaDI2NFwiIT09ZS5jb2RlYyYmVC5kZWZhdWx0LkNMSUVOVF9NT0RFX0NPREVDX01JU01BVENIfSxLPWZ1bmN0aW9uKGUpe3N3aXRjaChlLm1vZGUpe2Nhc2VcImludGVyb3BcIjpjYXNlXCJoMjY0X2ludGVyb3BcIjplLm1vZGU9XCJsaXZlXCI7YnJlYWs7Y2FzZVwid2ViLW9ubHlcIjplLm1vZGU9XCJydGNcIn19LHo9bC5hLmdldERldmljZXMsWD1mLmEuZ2V0U2NyZWVuU291cmNlcyxRPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoci5TVVBQT1JUX1JFU09MVVRJT05fTElTVCkpO3QuZGVmYXVsdD17VHJhbnNjb2RpbmdVc2VyOnt1aWQ6MCx4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjAsek9yZGVyOjAsYWxwaGE6MX0sTGl2ZVRyYW5zY29kaW5nOnEsY3JlYXRlQ2xpZW50OmZ1bmN0aW9uKGUpe3ZhciB0PW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiY3JlYXRlQ2xpZW50XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTsoZT15KCkoe30sZXx8e30pKS5jb2RlY3x8KGUuY29kZWM9SihlLm1vZGUpKTt2YXIgbj1ZKGUpO2lmKG4pdGhyb3cgaS5kZWZhdWx0LmVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXIgc2V0dGluZyBNT0RFOiBcIi5jb25jYXQoZS5tb2RlLFwiIENPREVDOiBcIikuY29uY2F0KGUuY29kZWMsXCIgRVJST1IgXCIpLmNvbmNhdChuKSksdChuKSxuZXcgRXJyb3Iobik7cmV0dXJuIGkuZGVmYXVsdC5pbmZvKFwiQ3JlYXRpbmcgY2xpZW50LCBNT0RFOiBcIi5jb25jYXQoZS5tb2RlLFwiIENPREVDOiBcIikuY29uY2F0KGUuY29kZWMpKSxLKGUpLHQobnVsbCxlKSxIKGUpfSxjcmVhdGVTdHJlYW06dS5iLExvZ2dlcjppLmRlZmF1bHQscmVwb3J0Om8ucmVwb3J0LGdldERldmljZXM6eixnZXRTY3JlZW5Tb3VyY2VzOlgsZ2V0UGFyYW1ldGVyOnIuZ2V0UGFyYW1ldGVyLHNldFBhcmFtZXRlcjpyLnNldFBhcmFtZXRlcixjaGVja1N5c3RlbVJlcXVpcmVtZW50czpmdW5jdGlvbigpe3ZhciBlPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHNcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLHQ9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHx3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb258fHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbixuPW5hdmlnYXRvci5nZXRVc2VyTWVkaWF8fG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEscj13aW5kb3cuV2ViU29ja2V0LGE9ISF0JiYhIW4mJiEhcixjPSExO3MuaXNDaHJvbWUoKSYmcy5nZXRCcm93c2VyVmVyc2lvbigpPj01OCYmXCJpT1NcIiE9PXMuZ2V0QnJvd3Nlck9TKCkmJihjPSEwKSxzLmlzRmlyZUZveCgpJiZzLmdldEJyb3dzZXJWZXJzaW9uKCk+PTU2JiYoYz0hMCkscy5pc09wZXJhKCkmJnMuZ2V0QnJvd3NlclZlcnNpb24oKT49NDUmJihjPSEwKSxzLmlzU2FmYXJpKCkmJnMuZ2V0QnJvd3NlclZlcnNpb24oKT49MTEmJihjPSEwKSxzLmlzRWRnZSgpJiYoYz0hMCksKHMuaXNXZUNoYXRCcm93c2VyKCl8fHMuaXNRUUJyb3dzZXIoKSkmJlwiaU9TXCIhPT1zLmdldEJyb3dzZXJPUygpJiYoYz0hMCkscy5pc1N1cHBvcnRlZFBDKCl8fHMuaXNTdXBwb3J0ZWRNb2JpbGUoKXx8KGM9ITEpLGkuZGVmYXVsdC5kZWJ1ZyhzLmdldEJyb3dzZXJJbmZvKCksXCJpc0FQSVN1cHBvcnQ6IFwiK2ErXCIsIGlzVmVuZG9yQW5kVmVyc2lvblN1cHBvcnQ6IFwiK2MpO3ZhciBkPWEmJmM7cmV0dXJuIGUobnVsbCxkKSxkfSxnZXRTdXBwb3J0ZWRDb2RlYzpwLmdldFN1cHBvcnRlZENvZGVjLENoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbjpnLkNoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbixWRVJTSU9OOnIuVkVSU0lPTixCVUlMRDpyLkJVSUxELFBST0ZJTEVfVEFCTEU6USxBVURJT19TQU1QTEVfUkFURV8zMjAwMDozMmUzLEFVRElPX1NBTVBMRV9SQVRFXzQ0MTAwOjQ0MTAwLEFVRElPX1NBTVBMRV9SQVRFXzQ4MDAwOjQ4ZTMsVklERU9fQ09ERUNfUFJPRklMRV9CQVNFTElORTo2NixWSURFT19DT0RFQ19QUk9GSUxFX01BSU46NzcsVklERU9fQ09ERUNfUFJPRklMRV9ISUdIOjEwMCxSRU1PVEVfVklERU9fU1RSRUFNX0hJR0g6MCxSRU1PVEVfVklERU9fU1RSRUFNX0xPVzoxLFJFTU9URV9WSURFT19TVFJFQU1fTUVESVVNOjIsQVJFQVM6Qi5BUkVBUyxBUkVBX1ZFUlNJT046XCJnbG9iYWxcIn19XSkuZGVmYXVsdH0pKTsiLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNi4wXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMjEtMDMtMDJUMTc6MDhaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbnZhciBzbGljZSA9IGFyci5zbGljZTtcblxudmFyIGZsYXQgPSBhcnIuZmxhdCA/IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5mbGF0LmNhbGwoIGFycmF5ICk7XG59IDogZnVuY3Rpb24oIGFycmF5ICkge1xuXHRyZXR1cm4gYXJyLmNvbmNhdC5hcHBseSggW10sIGFycmF5ICk7XG59O1xuXG5cbnZhciBwdXNoID0gYXJyLnB1c2g7XG5cbnZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7XG5cbnZhciBjbGFzczJ0eXBlID0ge307XG5cbnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cbnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZztcblxudmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG5cdFx0Ly8gSW4gc29tZSBicm93c2VycywgdHlwZW9mIHJldHVybnMgXCJmdW5jdGlvblwiIGZvciBIVE1MIDxvYmplY3Q+IGVsZW1lbnRzXG5cdFx0Ly8gKGkuZS4sIGB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvYmplY3RcIiApID09PSBcImZ1bmN0aW9uXCJgKS5cblx0XHQvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG5cdFx0Ly8gU3VwcG9ydDogUXRXZWIgPD0zLjguNSwgV2ViS2l0IDw9NTM0LjM0LCB3a2h0bWx0b3BkZiB0b29sIDw9MC4xMi41XG5cdFx0Ly8gUGx1cyBmb3Igb2xkIFdlYktpdCwgdHlwZW9mIHJldHVybnMgXCJmdW5jdGlvblwiIGZvciBIVE1MIGNvbGxlY3Rpb25zXG5cdFx0Ly8gKGUuZy4sIGB0eXBlb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIikgPT09IFwiZnVuY3Rpb25cImApLiAoZ2gtNDc1Nilcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCIgJiZcblx0XHRcdHR5cGVvZiBvYmouaXRlbSAhPT0gXCJmdW5jdGlvblwiO1xuXHR9O1xuXG5cbnZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fTtcblxuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cblxuXG5cdHZhciBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzID0ge1xuXHRcdHR5cGU6IHRydWUsXG5cdFx0c3JjOiB0cnVlLFxuXHRcdG5vbmNlOiB0cnVlLFxuXHRcdG5vTW9kdWxlOiB0cnVlXG5cdH07XG5cblx0ZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgbm9kZSwgZG9jICkge1xuXHRcdGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcblxuXHRcdHZhciBpLCB2YWwsXG5cdFx0XHRzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXG5cdFx0c2NyaXB0LnRleHQgPSBjb2RlO1xuXHRcdGlmICggbm9kZSApIHtcblx0XHRcdGZvciAoIGkgaW4gcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDY0KywgRWRnZSAxOCtcblx0XHRcdFx0Ly8gU29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSBcIm5vbmNlXCIgcHJvcGVydHkgb24gc2NyaXB0cy5cblx0XHRcdFx0Ly8gT24gdGhlIG90aGVyIGhhbmQsIGp1c3QgdXNpbmcgYGdldEF0dHJpYnV0ZWAgaXMgbm90IGVub3VnaCBhc1xuXHRcdFx0XHQvLyB0aGUgYG5vbmNlYCBhdHRyaWJ1dGUgaXMgcmVzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIHdoZW5ldmVyIGl0XG5cdFx0XHRcdC8vIGJlY29tZXMgYnJvd3NpbmctY29udGV4dCBjb25uZWN0ZWQuXG5cdFx0XHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzIzNjlcblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI25vbmNlLWF0dHJpYnV0ZXNcblx0XHRcdFx0Ly8gVGhlIGBub2RlLmdldEF0dHJpYnV0ZWAgY2hlY2sgd2FzIGFkZGVkIGZvciB0aGUgc2FrZSBvZlxuXHRcdFx0XHQvLyBgalF1ZXJ5Lmdsb2JhbEV2YWxgIHNvIHRoYXQgaXQgY2FuIGZha2UgYSBub25jZS1jb250YWluaW5nIG5vZGVcblx0XHRcdFx0Ly8gdmlhIGFuIG9iamVjdC5cblx0XHRcdFx0dmFsID0gbm9kZVsgaSBdIHx8IG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCBpICk7XG5cdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoIGksIHZhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIHRvVHlwZSggb2JqICkge1xuXHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHR0eXBlb2Ygb2JqO1xufVxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuLy8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cblxuXG52YXJcblx0dmVyc2lvbiA9IFwiMy42LjBcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH07XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cblx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRqcXVlcnk6IHZlcnNpb24sXG5cblx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblxuXHQvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcblx0bGVuZ3RoOiAwLFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG5cblx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG5cdFx0aWYgKCBudW0gPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuXHRcdHJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGV2ZW46IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAoIGkgKyAxICkgJSAyO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdG9kZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkuZ3JlcCggdGhpcywgZnVuY3Rpb24oIF9lbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGkgJSAyO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGFyci5zb3J0LFxuXHRzcGxpY2U6IGFyci5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblxuXHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRpKys7XG5cdH1cblxuXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcblx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFpc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBPYmplY3QucHJvdG90eXBlIHBvbGx1dGlvblxuXHRcdFx0XHQvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG5cdFx0XHRcdGlmICggbmFtZSA9PT0gXCJfX3Byb3RvX19cIiB8fCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cdFx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cblx0XHRcdFx0XHQvLyBFbnN1cmUgcHJvcGVyIHR5cGUgZm9yIHRoZSBzb3VyY2UgdmFsdWVcblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICYmICFBcnJheS5pc0FycmF5KCBzcmMgKSApIHtcblx0XHRcdFx0XHRcdGNsb25lID0gW107XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggIWNvcHlJc0FycmF5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHt9O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblxuXHRcdFx0XHRcdC8vIE5ldmVyIG1vdmUgb3JpZ2luYWwgb2JqZWN0cywgY2xvbmUgdGhlbVxuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0galF1ZXJ5LmV4dGVuZCggZGVlcCwgY2xvbmUsIGNvcHkgKTtcblxuXHRcdFx0XHQvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxuXHRleHBhbmRvOiBcImpRdWVyeVwiICsgKCB2ZXJzaW9uICsgTWF0aC5yYW5kb20oKSApLnJlcGxhY2UoIC9cXEQvZywgXCJcIiApLFxuXG5cdC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXG5cdGlzUmVhZHk6IHRydWUsXG5cblx0ZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCBtc2cgKTtcblx0fSxcblxuXHRub29wOiBmdW5jdGlvbigpIHt9LFxuXG5cdGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIHByb3RvLCBDdG9yO1xuXG5cdFx0Ly8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzXG5cdFx0Ly8gVXNlIHRvU3RyaW5nIGluc3RlYWQgb2YgalF1ZXJ5LnR5cGUgdG8gY2F0Y2ggaG9zdCBvYmplY3RzXG5cdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHByb3RvID0gZ2V0UHJvdG8oIG9iaiApO1xuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxuXHRcdGlmICggIXByb3RvICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb25cblx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHQvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBwcm92aWRlZCBjb250ZXh0OyBmYWxscyBiYWNrIHRvIHRoZSBnbG9iYWwgb25lXG5cdC8vIGlmIG5vdCBzcGVjaWZpZWQuXG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlLCBvcHRpb25zLCBkb2MgKSB7XG5cdFx0RE9NRXZhbCggY29kZSwgeyBub25jZTogb3B0aW9ucyAmJiBvcHRpb25zLm5vbmNlIH0sIGRvYyApO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGZsYXQoIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdFx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IHRvVHlwZSggb2JqICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuNlxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pzLmZvdW5kYXRpb24vXG4gKlxuICogRGF0ZTogMjAyMS0wMi0xNlxuICovXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRub25uYXRpdmVTZWxlY3RvckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xuXHRoYXNPd24gPSAoIHt9ICkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoTmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cblx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0WyBpIF0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxcIiArXG5cdFx0XCJpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaWRlbnQtdG9rZW4tZGlhZ3JhbVxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCI/fFxcXFxcXFxcW15cXFxcclxcXFxuXFxcXGZdfFtcXFxcdy1dfFteXFwwLVxcXFx4N2ZdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XVxuXHRcdC8vIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblxuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgK1xuXHRcdHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXG5cblx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlwiICksXG5cdHJkZXNjZW5kID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwifD5cIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgK1xuXHRcdFx0d2hpdGVzcGFjZSArIFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblxuXHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRcIm5lZWRzQ29udGV4dFwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJodG1sID0gL0hUTUwkL2ksXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fFxcXFxcXFxcKFteXFxcXHJcXFxcblxcXFxmXSlcIiwgXCJnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIGVzY2FwZSwgbm9uSGV4ICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlLnNsaWNlKCAxICkgLSAweDEwMDAwO1xuXG5cdFx0cmV0dXJuIG5vbkhleCA/XG5cblx0XHRcdC8vIFN0cmlwIHRoZSBiYWNrc2xhc2ggcHJlZml4IGZyb20gYSBub24taGV4IGVzY2FwZSBzZXF1ZW5jZVxuXHRcdFx0bm9uSGV4IDpcblxuXHRcdFx0Ly8gUmVwbGFjZSBhIGhleGFkZWNpbWFsIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIHRoZSBlbmNvZGVkIFVuaWNvZGUgY29kZSBwb2ludFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMStcblx0XHRcdC8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYVxuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgK1xuXHRcdFx0XHRjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0aW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcihcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmaWVsZHNldFwiO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KCBhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApICksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hOYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbCggZWxzICkgKTtcblx0XHR9IDpcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICggdGFyZ2V0WyBqKysgXSA9IGVsc1sgaSsrIF0gKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAoIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAoIG0gPSBtYXRjaFsgMSBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKCBlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIG0gPSBtYXRjaFsgMyBdICkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCAhcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSApICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOCBvbmx5XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdCggbm9kZVR5cGUgIT09IDEgfHwgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkgKSB7XG5cblx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHRcdFx0Ly8gcVNBIGNvbnNpZGVycyBlbGVtZW50cyBvdXRzaWRlIGEgc2NvcGluZyByb290IHdoZW4gZXZhbHVhdGluZyBjaGlsZCBvclxuXHRcdFx0XHQvLyBkZXNjZW5kYW50IGNvbWJpbmF0b3JzLCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50LlxuXHRcdFx0XHQvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZVxuXHRcdFx0XHQvLyBsaXN0IHdpdGggYW4gSUQgc2VsZWN0b3IgcmVmZXJlbmNpbmcgdGhlIHNjb3BlIGNvbnRleHQuXG5cdFx0XHRcdC8vIFRoZSB0ZWNobmlxdWUgaGFzIHRvIGJlIHVzZWQgYXMgd2VsbCB3aGVuIGEgbGVhZGluZyBjb21iaW5hdG9yIGlzIHVzZWRcblx0XHRcdFx0Ly8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuXG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHRlY2huaXF1ZS5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggcmRlc2NlbmQudGVzdCggc2VsZWN0b3IgKSB8fCByY29tYmluYXRvcnMudGVzdCggc2VsZWN0b3IgKSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gV2UgY2FuIHVzZSA6c2NvcGUgaW5zdGVhZCBvZiB0aGUgSUQgaGFjayBpZiB0aGUgYnJvd3NlclxuXHRcdFx0XHRcdC8vIHN1cHBvcnRzIGl0ICYgaWYgd2UncmUgbm90IGNoYW5naW5nIHRoZSBjb250ZXh0LlxuXHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAhPT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKCBuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkgKSApIHtcblx0XHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsICggbmlkID0gZXhwYW5kbyApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbIGkgXSA9ICggbmlkID8gXCIjXCIgKyBuaWQgOiBcIjpzY29wZVwiICkgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcdHRvU2VsZWN0b3IoIGdyb3Vwc1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoIGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUgKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICk7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoIFwifFwiICksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbIGkgXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5uZXh0U2libGluZyApICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuICggbmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIgKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxuXHRcdGlmICggXCJmb3JtXCIgaW4gZWxlbSApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxuXHRcdFx0Ly8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXG5cdFx0XHQvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWRcblx0XHRcdC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcImZvcm1cIiBwcm9wZXJ0eS5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdC8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50XG5cdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ucGFyZW50Tm9kZS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gMTFcblx0XHRcdFx0Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcblx0XHRcdFx0cmV0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0XHRcdC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XG5cdFx0XHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblxuXHRcdC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3Rcblx0XHQvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cblx0XHR9IGVsc2UgaWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbICggaiA9IG1hdGNoSW5kZXhlc1sgaSBdICkgXSApIHtcblx0XHRcdFx0XHRzZWVkWyBqIF0gPSAhKCBtYXRjaGVzWyBqIF0gPSBzZWVkWyBqIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5hbWVzcGFjZSA9IGVsZW0gJiYgZWxlbS5uYW1lc3BhY2VVUkksXG5cdFx0ZG9jRWxlbSA9IGVsZW0gJiYgKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApLmRvY3VtZW50RWxlbWVudDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PThcblx0Ly8gQXNzdW1lIEhUTUwgd2hlbiBkb2N1bWVudEVsZW1lbnQgZG9lc24ndCB5ZXQgZXhpc3QsIHN1Y2ggYXMgaW5zaWRlIGxvYWRpbmcgaWZyYW1lc1xuXHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvNDgzM1xuXHRyZXR1cm4gIXJodG1sLnRlc3QoIG5hbWVzcGFjZSB8fCBkb2NFbGVtICYmIGRvY0VsZW0ubm9kZU5hbWUgfHwgXCJIVE1MXCIgKTtcbn07XG5cbi8qKlxuICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbZG9jXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudFxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxuICovXG5zZXREb2N1bWVudCA9IFNpenpsZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKCBub2RlICkge1xuXHR2YXIgaGFzQ29tcGFyZSwgc3ViV2luZG93LFxuXHRcdGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcblxuXHQvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZFxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoIGRvYyA9PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPSBkb2N1bWVudCAmJlxuXHRcdCggc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcgKSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSAxMSwgRWRnZVxuXHRcdGlmICggc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJ1bmxvYWRcIiwgdW5sb2FkSGFuZGxlciwgZmFsc2UgKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMCBvbmx5XG5cdFx0fSBlbHNlIGlmICggc3ViV2luZG93LmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0c3ViV2luZG93LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBDaHJvbWUgPD0xNiAtIDI1IG9ubHksIEZpcmVmb3ggPD0zLjYgLSAzMSBvbmx5LFxuXHQvLyBTYWZhcmkgNCAtIDUgb25seSwgT3BlcmEgPD0xMS42IC0gMTIueCBvbmx5XG5cdC8vIElFL0VkZ2UgJiBvbGRlciBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSA6c2NvcGUgcHNldWRvLWNsYXNzLlxuXHQvLyBTdXBwb3J0OiBTYWZhcmkgNi4wIG9ubHlcblx0Ly8gU2FmYXJpIDYuMCBzdXBwb3J0cyA6c2NvcGUgYnV0IGl0J3MgYW4gYWxpYXMgb2YgOnJvb3QgdGhlcmUuXG5cdHN1cHBvcnQuc2NvcGUgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblx0XHRyZXR1cm4gdHlwZW9mIGVsLnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdCFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpzY29wZSBmaWVsZHNldCBkaXZcIiApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5jbGFzc05hbWUgPSBcImlcIjtcblx0XHRyZXR1cm4gIWVsLmdldEF0dHJpYnV0ZSggXCJjbGFzc05hbWVcIiApO1xuXHR9ICk7XG5cblx0LyogZ2V0RWxlbWVudChzKUJ5KlxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpIHJldHVybnMgb25seSBlbGVtZW50c1xuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIFwiXCIgKSApO1xuXHRcdHJldHVybiAhZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiKlwiICkubGVuZ3RoO1xuXHR9ICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTtcblxuXHQvLyBTdXBwb3J0OiBJRTwxMFxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcblx0Ly8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsXG5cdC8vIHNvIHVzZSBhIHJvdW5kYWJvdXQgZ2V0RWxlbWVudHNCeU5hbWUgdGVzdFxuXHRzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8vIElEIGZpbHRlciBhbmQgZmluZFxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbHRlclsgXCJJRFwiIF0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcImlkXCIgKSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHRcdEV4cHIuZmluZFsgXCJJRFwiIF0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyWyBcIklEXCIgXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBcImlkXCIgKTtcblx0XHRcdFx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDcgb25seVxuXHRcdC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcblx0XHRFeHByLmZpbmRbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXG5cdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZVxuXHRcdFx0XHRcdGVsZW1zID0gY29udGV4dC5nZXRFbGVtZW50c0J5TmFtZSggaWQgKTtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1zWyBpKysgXSApICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdC8vIFRhZ1xuXHRFeHByLmZpbmRbIFwiVEFHXCIgXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgP1xuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdFx0fSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSByZXN1bHRzWyBpKysgXSApICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdH07XG5cblx0Ly8gQ2xhc3Ncblx0RXhwci5maW5kWyBcIkNMQVNTXCIgXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoIHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsICkgKSApIHtcblxuXHRcdC8vIEJ1aWxkIFFTQSByZWdleFxuXHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblxuXHRcdFx0dmFyIGlucHV0O1xuXG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW3NlbGVjdGVkXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWU8MjksIEFuZHJvaWQ8NC40LCBTYWZhcmk8Ny4wKywgaU9TPDcuMCssIFBoYW50b21KUzwxLjkuOCtcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW2lkfj1cIiArIGV4cGFuZG8gKyBcIi1dXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIn49XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0XHQvLyBJRSAxMS9FZGdlIGRvbid0IGZpbmQgZWxlbWVudHMgb24gYSBgW25hbWU9JyddYCBxdWVyeSBpbiBzb21lIGNhc2VzLlxuXHRcdFx0Ly8gQWRkaW5nIGEgdGVtcG9yYXJ5IGF0dHJpYnV0ZSB0byB0aGUgZG9jdW1lbnQgYmVmb3JlIHRoZSBzZWxlY3Rpb24gd29ya3Ncblx0XHRcdC8vIGFyb3VuZCB0aGUgaXNzdWUuXG5cdFx0XHQvLyBJbnRlcmVzdGluZ2x5LCBJRSAxMCAmIG9sZGVyIGRvbid0IHNlZW0gdG8gaGF2ZSB0aGUgaXNzdWUuXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJcIiApO1xuXHRcdFx0ZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltuYW1lPScnXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIio9XCIgK1xuXHRcdFx0XHRcdHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpjaGVja2VkXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjpjaGVja2VkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIi4jLitbK35dXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTMuNiAtIDUgb25seVxuXHRcdFx0Ly8gT2xkIEZpcmVmb3ggZG9lc24ndCB0aHJvdyBvbiBhIGJhZGx5LWVzY2FwZWQgaWRlbnRpZmllci5cblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiXFxcXFxcZlwiICk7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbXFxcXHJcXFxcblxcXFxmXVwiICk7XG5cdFx0fSApO1xuXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0ZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICkuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJEXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBFbmZvcmNlIGNhc2Utc2Vuc2l0aXZpdHkgb2YgbmFtZSBhdHRyaWJ1dGVcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCJbbmFtZT1kXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjplbmFibGVkXCIgKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCI6ZGlzYWJsZWRcIiApLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBPcGVyYSAxMCAtIDExIG9ubHlcblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIiosOnhcIiApO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiLC4qOlwiICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAoIG1hdGNoZXMgPSBkb2NFbGVtLm1hdGNoZXMgfHxcblx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvciApICkgKSApIHtcblxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyYnVnZ3lRU0EgPSByYnVnZ3lRU0EubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneVFTQS5qb2luKCBcInxcIiApICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oIFwifFwiICkgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkgKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoIGIgPSBiLnBhcmVudE5vZGUgKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoICFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUgKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0aWYgKCBhID09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcblx0XHRcdFx0Y29udGFpbnMoIHByZWZlcnJlZERvYywgYSApICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRpZiAoIGIgPT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJlxuXHRcdFx0XHRjb250YWlucyggcHJlZmVycmVkRG9jLCBiICkgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG5cdFx0XHRyZXR1cm4gYSA9PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyLnBhcmVudE5vZGUgKSApIHtcblx0XHRcdGFwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblx0XHRjdXIgPSBiO1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXIucGFyZW50Tm9kZSApICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwWyBpIF0gPT09IGJwWyBpIF0gKSB7XG5cdFx0XHRpKys7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGkgP1xuXG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbIGkgXSwgYnBbIGkgXSApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIG5vZGVzIGluIG91ciBkb2N1bWVudCBzb3J0IGZpcnN0XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG5cdFx0XHRhcFsgaSBdID09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwWyBpIF0gPT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuXHRcdFx0MDtcblx0fTtcblxuXHRyZXR1cm4gZG9jdW1lbnQ7XG59O1xuXG5TaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBlbGVtZW50cyApIHtcblx0cmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTtcbn07XG5cblNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHtcblx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblxuXHRpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0IW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbIGV4cHIgKyBcIiBcIiBdICYmXG5cdFx0KCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJlxuXHRcdCggIXJidWdneVFTQSAgICAgfHwgIXJidWdneVFTQS50ZXN0KCBleHByICkgKSApIHtcblxuXHRcdHRyeSB7XG5cdFx0XHR2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7XG5cblx0XHRcdC8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRcdGlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHxcblxuXHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuXHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRub25uYXRpdmVTZWxlY3RvckNhY2hlKCBleHByLCB0cnVlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoICggY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgKSAhPSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdHZhciBmbiA9IEV4cHIuYXR0ckhhbmRsZVsgbmFtZS50b0xvd2VyQ2FzZSgpIF0sXG5cblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KCB2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSApICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xufTtcblxuU2l6emxlLmVzY2FwZSA9IGZ1bmN0aW9uKCBzZWwgKSB7XG5cdHJldHVybiAoIHNlbCArIFwiXCIgKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSByZXN1bHRzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7XG5cdFx0XHRcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRyZXN1bHRzLnNwbGljZSggZHVwbGljYXRlc1sgaiBdLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9iamVjdHNcblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XG5cdHNvcnRJbnB1dCA9IG51bGw7XG5cblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXG4gKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW1cbiAqL1xuZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHZhciBub2RlLFxuXHRcdHJldCA9IFwiXCIsXG5cdFx0aSA9IDAsXG5cdFx0bm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdGlmICggIW5vZGVUeXBlICkge1xuXG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoICggbm9kZSA9IGVsZW1bIGkrKyBdICkgKSB7XG5cblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFRyYXZlcnNlIGl0cyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdHJldCArPSBnZXRUZXh0KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG5cdH1cblxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWyAxIF0gPSBtYXRjaFsgMSBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdC8vIE1vdmUgdGhlIGdpdmVuIHZhbHVlIHRvIG1hdGNoWzNdIHdoZXRoZXIgcXVvdGVkIG9yIHVucXVvdGVkXG5cdFx0XHRtYXRjaFsgMyBdID0gKCBtYXRjaFsgMyBdIHx8IG1hdGNoWyA0IF0gfHxcblx0XHRcdFx0bWF0Y2hbIDUgXSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsgMiBdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWyAzIF0gPSBcIiBcIiArIG1hdGNoWyAzIF0gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsgMSBdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cblx0XHRcdFx0Ly8gbnRoLSogcmVxdWlyZXMgYXJndW1lbnRcblx0XHRcdFx0aWYgKCAhbWF0Y2hbIDMgXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWyAwIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWyA0IF0gPSArKCBtYXRjaFsgNCBdID9cblx0XHRcdFx0XHRtYXRjaFsgNSBdICsgKCBtYXRjaFsgNiBdIHx8IDEgKSA6XG5cdFx0XHRcdFx0MiAqICggbWF0Y2hbIDMgXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbIDMgXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWyA1IF0gPSArKCAoIG1hdGNoWyA3IF0gKyBtYXRjaFsgOCBdICkgfHwgbWF0Y2hbIDMgXSA9PT0gXCJvZGRcIiApO1xuXG5cdFx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbIDMgXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaDtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0dmFyIGV4Y2Vzcyxcblx0XHRcdFx0dW5xdW90ZWQgPSAhbWF0Y2hbIDYgXSAmJiBtYXRjaFsgMiBdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwclsgXCJDSElMRFwiIF0udGVzdCggbWF0Y2hbIDAgXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbIDMgXSApIHtcblx0XHRcdFx0bWF0Y2hbIDIgXSA9IG1hdGNoWyA0IF0gfHwgbWF0Y2hbIDUgXSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cblx0XHRcdFx0Ly8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcblx0XHRcdFx0KCBleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSApICYmXG5cblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdCggZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoICkgKSB7XG5cblx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcblx0XHRcdFx0bWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsgMiBdID0gdW5xdW90ZWQuc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXR1cm4gb25seSBjYXB0dXJlcyBuZWVkZWQgYnkgdGhlIHBzZXVkbyBmaWx0ZXIgbWV0aG9kICh0eXBlIGFuZCBhcmd1bWVudClcblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xuXHRcdH1cblx0fSxcblxuXHRmaWx0ZXI6IHtcblxuXHRcdFwiVEFHXCI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkge1xuXHRcdFx0dmFyIG5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gXCIqXCIgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KCBwYXR0ZXJuID0gbmV3IFJlZ0V4cCggXCIoXnxcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XHRcdFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApICkgJiYgY2xhc3NDYWNoZShcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoXG5cdFx0XHRcdFx0XHRcdFx0dHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8XG5cdFx0XHRcdFx0XHRcdFx0dHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHxcblx0XHRcdFx0XHRcdFx0XHRcIlwiXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gKTtcblx0XHR9LFxuXG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0XHRcdGlmICggcmVzdWx0ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhb3BlcmF0b3IgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcblxuXHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBfYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgY2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBub2RlSW5kZXgsIHN0YXJ0LFxuXHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdG5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsXG5cdFx0XHRcdFx0XHRkaWZmID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggZGlyICkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gbm9kZVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdCggZGlmZiA9IG5vZGVJbmRleCA9IDAgKSB8fCBzdGFydC5wb3AoKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXG5cdFx0XHQvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcblx0XHRcdC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG5cdFx0XHQvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXG5cdFx0XHR2YXIgYXJncyxcblx0XHRcdFx0Zm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvICk7XG5cblx0XHRcdC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcblx0XHRcdC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG5cdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG5cdFx0XHRpZiAoIGZuWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHJldHVybiBmbiggYXJndW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQnV0IG1haW50YWluIHN1cHBvcnQgZm9yIG9sZCBzaWduYXR1cmVzXG5cdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdGFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudCBdO1xuXHRcdFx0XHRyZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID9cblx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFsgaSBdICk7XG5cdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkWyBpIF0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZuO1xuXHRcdH1cblx0fSxcblxuXHRwc2V1ZG9zOiB7XG5cblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblxuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbIGkgXSA9ICEoIG1hdGNoZXNbIGkgXSA9IGVsZW0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcblxuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbIDAgXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0Ly8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QoIGxhbmcgfHwgXCJcIiApICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKCBlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggXCJ4bWw6bGFuZ1wiICkgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoIFwibGFuZ1wiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoICggZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSApICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJlxuXHRcdFx0XHQoICFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpICkgJiZcblx0XHRcdFx0ISEoIGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXggKTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCApIHx8XG5cdFx0XHRcdCggbm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkICk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ29udGVudHNcblx0XHRcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbIFwiZW1wdHlcIiBdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKCBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICkgKSA9PSBudWxsIHx8XG5cdFx0XHRcdFx0YXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9ICksXG5cblx0XHRcImxhc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIF9tYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9ICksXG5cblx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0gKSxcblxuXHRcdFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAxO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID9cblx0XHRcdFx0YXJndW1lbnQgKyBsZW5ndGggOlxuXHRcdFx0XHRhcmd1bWVudCA+IGxlbmd0aCA/XG5cdFx0XHRcdFx0bGVuZ3RoIDpcblx0XHRcdFx0XHRhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbIFwibnRoXCIgXSA9IEV4cHIucHNldWRvc1sgXCJlcVwiIF07XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcblx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0c29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcblx0XHRjYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCBjYWNoZWQgKSB7XG5cdFx0cmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcblx0fVxuXG5cdHNvRmFyID0gc2VsZWN0b3I7XG5cdGdyb3VwcyA9IFtdO1xuXHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cblx0d2hpbGUgKCBzb0ZhciApIHtcblxuXHRcdC8vIENvbW1hIGFuZCBmaXJzdCBydW5cblx0XHRpZiAoICFtYXRjaGVkIHx8ICggbWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSApICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFsgMCBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0fVxuXHRcdFx0Z3JvdXBzLnB1c2goICggdG9rZW5zID0gW10gKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAoIG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkgKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goIHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWyAwIF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcblx0XHRcdH0gKTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoICggbWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApICkgJiYgKCAhcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdCggbWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkgKSApICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goIHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFtYXRjaGVkICkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG5cdC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0cmV0dXJuIHBhcnNlT25seSA/XG5cdFx0c29GYXIubGVuZ3RoIDpcblx0XHRzb0ZhciA/XG5cdFx0XHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbIGkgXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRza2lwID0gY29tYmluYXRvci5uZXh0LFxuXHRcdGtleSA9IHNraXAgfHwgZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoIGVsZW1bIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoICggb2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0gKSAmJlxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHJldHVybiAoIG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG5cdFx0XHRcdFx0XHRcdGlmICggKCBuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcblx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoICFtYXRjaGVyc1sgaSBdKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWyAwIF07XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbIGkgXSwgcmVzdWx0cyApO1xuXHR9XG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBjb25kZW5zZSggdW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sICkge1xuXHR2YXIgZWxlbSxcblx0XHRuZXdVbm1hdGNoZWQgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxuXHRcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKCBlbGVtID0gdW5tYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRpZiAoIG1hcHBlZCApIHtcblx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcbn1cblxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xuXHR9XG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcblx0fVxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoXG5cdFx0XHRcdHNlbGVjdG9yIHx8IFwiKlwiLFxuXHRcdFx0XHRjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LFxuXHRcdFx0XHRbXVxuXHRcdFx0KSxcblxuXHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cblx0XHRcdFx0Y29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRlbGVtcyxcblxuXHRcdFx0bWF0Y2hlck91dCA9IG1hdGNoZXIgP1xuXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoIGVsZW0gPSB0ZW1wWyBpIF0gKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyT3V0WyBwb3N0TWFwWyBpIF0gXSA9ICEoIG1hdGNoZXJJblsgcG9zdE1hcFsgaSBdIF0gPSBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goICggbWF0Y2hlckluWyBpIF0gPSBlbGVtICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgKCBtYXRjaGVyT3V0ID0gW10gKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgJiZcblx0XHRcdFx0XHRcdCggdGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbIGkgXSApID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbIHRlbXAgXSA9ICEoIHJlc3VsdHNbIHRlbXAgXSA9IGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDAgXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlWyBcIiBcIiBdLFxuXHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcblxuXHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBpbmRleE9mKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xO1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciByZXQgPSAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKFxuXHRcdFx0XHQoIGNoZWNrQ29udGV4dCA9IGNvbnRleHQgKS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoICggbWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgaSBdLnR5cGUgXSApICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyICkgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbIGkgXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1sgaSBdLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgaiBdLnR5cGUgXSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gc2V0TWF0Y2hlcihcblx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxuXG5cdFx0XHRcdFx0Ly8gSWYgdGhlIHByZWNlZGluZyB0b2tlbiB3YXMgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IsIGluc2VydCBhbiBpbXBsaWNpdCBhbnktZWxlbWVudCBgKmBcblx0XHRcdFx0XHR0b2tlbnNcblx0XHRcdFx0XHRcdC5zbGljZSggMCwgaSAtIDEgKVxuXHRcdFx0XHRcdFx0LmNvbmNhdCggeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0gKVxuXHRcdFx0XHRcdCkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLFxuXHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucyggKCB0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlcnMucHVzaCggbWF0Y2hlciApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xuXHR2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdGJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHtcblx0XHRcdHZhciBlbGVtLCBqLCBtYXRjaGVyLFxuXHRcdFx0XHRtYXRjaGVkQ291bnQgPSAwLFxuXHRcdFx0XHRpID0gXCIwXCIsXG5cdFx0XHRcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXG5cdFx0XHRcdHNldE1hdGNoZWQgPSBbXSxcblx0XHRcdFx0Y29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsXG5cblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFsgXCJUQUdcIiBdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cblx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9ICggZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEgKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0XHRcdFx0XHR4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcblx0XHRcdFx0aWYgKCBieVNldCApIHtcblxuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoICggZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0gKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBgaWAgaXMgbm93IHRoZSBjb3VudCBvZiBlbGVtZW50cyB2aXNpdGVkIGFib3ZlLCBhbmQgYWRkaW5nIGl0IHRvIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cblx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gZXF1YWxzIGBpYCksIHVubGVzcyB3ZSBkaWRuJ3QgdmlzaXQgX2FueV8gZWxlbWVudHMgaW4gdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBoYXZlXG5cdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuXHRcdFx0Ly8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBcIjAwXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXG5cdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoICggbWF0Y2hlciA9IHNldE1hdGNoZXJzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISggdW5tYXRjaGVkWyBpIF0gfHwgc2V0TWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFsgaSBdID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG5cdFx0XHRcdFx0c2V0TWF0Y2hlZCA9IGNvbmRlbnNlKCBzZXRNYXRjaGVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblxuXHRcdFx0XHQvLyBTZWVkbGVzcyBzZXQgbWF0Y2hlcyBzdWNjZWVkaW5nIG11bHRpcGxlIHN1Y2Nlc3NmdWwgbWF0Y2hlcnMgc3RpcHVsYXRlIHNvcnRpbmdcblx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XG5cblx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcblx0XHR9O1xuXG5cdHJldHVybiBieVNldCA/XG5cdFx0bWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XG5cdFx0c3VwZXJNYXRjaGVyO1xufVxuXG5jb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHR2YXIgaSxcblx0XHRzZXRNYXRjaGVycyA9IFtdLFxuXHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoICFjYWNoZWQgKSB7XG5cblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbIGkgXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZShcblx0XHRcdHNlbGVjdG9yLFxuXHRcdFx0bWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzIClcblx0XHQpO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoIHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IgKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG5cdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWyAwIF0gPSBtYXRjaFsgMCBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAoIHRva2VuID0gdG9rZW5zWyAwIF0gKS50eXBlID09PSBcIklEXCIgJiZcblx0XHRcdGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAxIF0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbIFwiSURcIiBdKCB0b2tlbi5tYXRjaGVzWyAwIF1cblx0XHRcdFx0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksIGNvbnRleHQgKSB8fCBbXSApWyAwIF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByWyBcIm5lZWRzQ29udGV4dFwiIF0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbIGkgXTtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyAoIHR5cGUgPSB0b2tlbi50eXBlICkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICggZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdICkgKSB7XG5cblx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdGlmICggKCBzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWyAwIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcblx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbIDAgXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0XG5cdFx0XHRcdCkgKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCggXCJcIiApLnNvcnQoIHNvcnRPcmRlciApLmpvaW4oIFwiXCIgKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblxuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0cmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImZpZWxkc2V0XCIgKSApICYgMTtcbn0gKTtcblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcbi8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJocmVmXCIgKSA9PT0gXCIjXCI7XG59ICkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9ICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSApICkge1xuXHRhZGRIYW5kbGUoIFwidmFsdWVcIiwgZnVuY3Rpb24oIGVsZW0sIF9uYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cdH0gKTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoIFwiZGlzYWJsZWRcIiApID09IG51bGw7XG59ICkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdCggdmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkgKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9ICk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0gKSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcblxuLy8gRGVwcmVjYXRlZFxualF1ZXJ5LmV4cHJbIFwiOlwiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xualF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5qUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0O1xualF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xualF1ZXJ5LmVzY2FwZVNlbGVjdG9yID0gU2l6emxlLmVzY2FwZTtcblxuXG5cblxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdLFxuXHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblxuXHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHtcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHNpYmxpbmdzID0gZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0Zm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcblx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxuXG5cbmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkge1xuXG5cdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG59XG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuXHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBpc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRpZiAoIGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErXG5cdFx0XHQvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdFxuXHRcdFx0Ly8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuXG5cdFx0XHRnZXRQcm90byggZWxlbS5jb250ZW50RG9jdW1lbnQgKSApIHtcblxuXHRcdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuXHRcdC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuXHRcdC8vIGRvbid0IHN1cHBvcnQgaXQuXG5cdFx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0ZW1wbGF0ZVwiICkgKSB7XG5cdFx0XHRlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBfaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIHByaW1hcnkgRGVmZXJyZWRcblx0XHRcdHByaW1hcnkgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0cHJpbWFyeS5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgcHJpbWFyeS5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCxcblx0XHRcdFx0IXJlbWFpbmluZyApO1xuXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG5cdFx0XHRpZiAoIHByaW1hcnkuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHByaW1hcnkudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgcHJpbWFyeS5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJpbWFyeS5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG5cdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xuXHR9XG59O1xuXG5cblxuXG5qUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyBlcnJvcjtcblx0fSApO1xufTtcblxuXG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRyZWFkeUxpc3Rcblx0XHQudGhlbiggZm4gKVxuXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcblx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4vLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbn0gZWxzZSB7XG5cblx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cblx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcbn1cblxuXG5cblxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCB0b1R5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJhdyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBidWxrICkge1xuXG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdFx0dmFsdWUgOlxuXHRcdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIGNoYWluYWJsZSApIHtcblx0XHRyZXR1cm4gZWxlbXM7XG5cdH1cblxuXHQvLyBHZXRzXG5cdGlmICggYnVsayApIHtcblx0XHRyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTtcblx0fVxuXG5cdHJldHVybiBsZW4gPyBmbiggZWxlbXNbIDAgXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG5cblxuLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG52YXIgcm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nO1xuXG4vLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcbmZ1bmN0aW9uIGZjYW1lbENhc2UoIF9hbGwsIGxldHRlciApIHtcblx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG4vLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5mdW5jdGlvbiBjYW1lbENhc2UoIHN0cmluZyApIHtcblx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG59XG52YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHQvLyBBY2NlcHRzIG9ubHk6XG5cdC8vICAtIE5vZGVcblx0Ly8gICAgLSBOb2RlLkVMRU1FTlRfTk9ERVxuXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHQvLyAgLSBPYmplY3Rcblx0Ly8gICAgLSBBbnlcblx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xufTtcblxuXG5cblxuZnVuY3Rpb24gRGF0YSgpIHtcblx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xufVxuXG5EYXRhLnVpZCA9IDE7XG5cbkRhdGEucHJvdG90eXBlID0ge1xuXG5cdGNhY2hlOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHR2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRpZiAoICF2YWx1ZSApIHtcblx0XHRcdHZhbHVlID0ge307XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBwcm9wICkgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblxuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgY2FtZWxDYXNlKCBrZXkgKSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0gY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdGtleSA9IGtleSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZ2V0RGF0YSggZGF0YSApIHtcblx0aWYgKCBkYXRhID09PSBcInRydWVcIiApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJudWxsXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcblx0XHRyZXR1cm4gK2RhdGE7XG5cdH1cblxuXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHR2YXIgbmFtZTtcblxuXHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuXHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBjYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cblx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBkYXRhO1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCB0aGUgZGF0YS4uLlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cblx0dmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcdH0sXG5cdFx0Y29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHlcblx0Ly8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpXG5cdC8vIFN1cHBvcnQ6IGlPUyAxMC4wLTEwLjIgb25seVxuXHQvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsXG5cdC8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLlxuXHRpZiAoIGRvY3VtZW50RWxlbWVudC5nZXRSb290Tm9kZSApIHtcblx0XHRpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSB8fFxuXHRcdFx0XHRlbGVtLmdldFJvb3ROb2RlKCBjb21wb3NlZCApID09PSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0fTtcblx0fVxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGlzQXR0YWNoZWQoIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxuXG5cbmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7XG5cdHZhciBhZGp1c3RlZCwgc2NhbGUsXG5cdFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxuXHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uY3VyKCk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApO1xuXHRcdFx0fSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gZWxlbS5ub2RlVHlwZSAmJlxuXHRcdFx0KCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHRcdC8vIEhhbHZlIHRoZSBpdGVyYXRpb24gdGFyZ2V0IHZhbHVlIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlIGZyb20gQ1NTIHVwcGVyIGJvdW5kcyAoZ2gtMjE0NClcblx0XHRpbml0aWFsID0gaW5pdGlhbCAvIDI7XG5cblx0XHQvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG5cdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXG5cdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblxuXHRcdHdoaWxlICggbWF4SXRlcmF0aW9ucy0tICkge1xuXG5cdFx0XHQvLyBFdmFsdWF0ZSBhbmQgdXBkYXRlIG91ciBiZXN0IGd1ZXNzIChkb3VibGluZyBndWVzc2VzIHRoYXQgemVybyBvdXQpLlxuXHRcdFx0Ly8gRmluaXNoIGlmIHRoZSBzY2FsZSBlcXVhbHMgb3IgY3Jvc3NlcyAxIChtYWtpbmcgdGhlIG9sZCpuZXcgcHJvZHVjdCBub24tcG9zaXRpdmUpLlxuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXHRcdFx0aWYgKCAoIDEgLSBzY2FsZSApICogKCAxIC0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCB8fCAwLjUgKSApIDw9IDAgKSB7XG5cdFx0XHRcdG1heEl0ZXJhdGlvbnMgPSAwO1xuXHRcdFx0fVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblxuXHRcdH1cblxuXHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjtcblx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cdH1cblxuXHRpZiAoIHZhbHVlUGFydHMgKSB7XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XG5cblx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcblx0XHRhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/XG5cdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcblx0XHRpZiAoIHR3ZWVuICkge1xuXHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG5cdFx0XHR0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFkanVzdGVkO1xufVxuXG5cbnZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApIHtcblx0dmFyIHRlbXAsXG5cdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuXHRcdG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSxcblx0XHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XG5cblx0aWYgKCBkaXNwbGF5ICkge1xuXHRcdHJldHVybiBkaXNwbGF5O1xuXHR9XG5cblx0dGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApO1xuXHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgXCJkaXNwbGF5XCIgKTtcblxuXHR0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTtcblxuXHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdGRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdH1cblx0ZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF0gPSBkaXNwbGF5O1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdHZhciBkaXNwbGF5LCBlbGVtLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Ly8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuXHRcdGlmICggc2hvdyApIHtcblxuXHRcdFx0Ly8gU2luY2Ugd2UgZm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlhdGUgKGFuZCBzbG93KVxuXHRcdFx0Ly8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG5cdFx0XHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICkgfHwgbnVsbDtcblx0XHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICkge1xuXHRcdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGRpc3BsYXkgIT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBcIm5vbmVcIjtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG5cdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCB2YWx1ZXNbIGluZGV4IF0gIT0gbnVsbCApIHtcblx0XHRcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRzO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW5XaXRoaW5UcmVlKCB0aGlzICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcbnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcblxudmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopL2kgKTtcblxudmFyIHJzY3JpcHRUeXBlID0gKCAvXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pICk7XG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gSUUgPD05IHJlcGxhY2VzIDxvcHRpb24+IHRhZ3Mgd2l0aCB0aGVpciBjb250ZW50cyB3aGVuIGluc2VydGVkIG91dHNpZGUgb2Zcblx0Ly8gdGhlIHNlbGVjdCBlbGVtZW50LlxuXHRkaXYuaW5uZXJIVE1MID0gXCI8b3B0aW9uPjwvb3B0aW9uPlwiO1xuXHRzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDtcbn0gKSgpO1xuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbmlmICggIXN1cHBvcnQub3B0aW9uICkge1xuXHR3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb24gPSBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF07XG59XG5cblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICgjMTUxNTEpXG5cdHZhciByZXQ7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2UgaWYgKCB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIHtcblx0XHRyZXQgPSBbXTtcblx0fVxuXG5cdGlmICggdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIG5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICk7XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXCJnbG9iYWxFdmFsXCIgKVxuXHRcdCk7XG5cdH1cbn1cblxuXG52YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG5cbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgYXR0YWNoZWQsIGosXG5cdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRub2RlcyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCB0b1R5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGF0dGFjaGVkID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBhdHRhY2hlZCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxudmFyIHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuLy8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXMsIGV4Y2VwdCB3aGVuIHRoZXkgYXJlIG5vLW9wLlxuLy8gU28gZXhwZWN0IGZvY3VzIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBhY3RpdmUsXG4vLyBhbmQgYmx1ciB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIG5vdCBhbHJlYWR5IGFjdGl2ZS5cbi8vIChmb2N1cyBhbmQgYmx1ciBhcmUgYWx3YXlzIHN5bmNocm9ub3VzIGluIG90aGVyIHN1cHBvcnRlZCBicm93c2Vycyxcbi8vIHRoaXMganVzdCBkZWZpbmVzIHdoZW4gd2UgY2FuIGNvdW50IG9uIGl0KS5cbmZ1bmN0aW9uIGV4cGVjdFN5bmMoIGVsZW0sIHR5cGUgKSB7XG5cdHJldHVybiAoIGVsZW0gPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgKSA9PT0gKCB0eXBlID09PSBcImZvY3VzXCIgKTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHlcbi8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5M1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBPbmx5IGF0dGFjaCBldmVudHMgdG8gb2JqZWN0cyB0aGF0IGFjY2VwdCBkYXRhXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbIDIgXSAmJlxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksXG5cblx0XHRcdGhhbmRsZXJzID0gKFxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsIClcblx0XHRcdClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcblx0XHRcdFx0Ly8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRcdGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0b3JpZ2luYWxFdmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IHRvIGVuc3VyZSBjb3JyZWN0IHN0YXRlIGZvciBjaGVja2FibGUgaW5wdXRzXG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0XHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsLnR5cGUgKSAmJlxuXHRcdFx0XHRcdGVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgXCJpbnB1dFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBkYXRhUHJpdi5zZXQoIGVsLCBcImNsaWNrXCIsIC4uLiApXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIsIHJldHVyblRydWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdFx0XHQvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cblx0XHRcdFx0Ly8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cblx0XHRcdFx0dmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuXG5cdFx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyaW5nIGEgY2xpY2tcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHQvLyBBbHNvIHByZXZlbnQgaXQgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZSBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdHJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmXG5cdFx0XHRcdFx0dGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsIFwiaW5wdXRcIiApICYmXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0YXJnZXQsIFwiY2xpY2tcIiApIHx8XG5cdFx0XHRcdFx0bm9kZU5hbWUoIHRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWRcbi8vIHN5bnRoZXRpYyBldmVudHMgYnkgaW50ZXJydXB0aW5nIHByb2dyZXNzIHVudGlsIHJlaW52b2tlZCBpbiByZXNwb25zZSB0b1xuLy8gKm5hdGl2ZSogZXZlbnRzIHRoYXQgaXQgZmlyZXMgZGlyZWN0bHksIGVuc3VyaW5nIHRoYXQgc3RhdGUgY2hhbmdlcyBoYXZlXG4vLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuXG5mdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZSggZWwsIHR5cGUsIGV4cGVjdFN5bmMgKSB7XG5cblx0Ly8gTWlzc2luZyBleHBlY3RTeW5jIGluZGljYXRlcyBhIHRyaWdnZXIgY2FsbCwgd2hpY2ggbXVzdCBmb3JjZSBzZXR1cCB0aHJvdWdoIGpRdWVyeS5ldmVudC5hZGRcblx0aWYgKCAhZXhwZWN0U3luYyApIHtcblx0XHRpZiAoIGRhdGFQcml2LmdldCggZWwsIHR5cGUgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHJldHVyblRydWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlc1xuXHRkYXRhUHJpdi5zZXQoIGVsLCB0eXBlLCBmYWxzZSApO1xuXHRqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwge1xuXHRcdG5hbWVzcGFjZTogZmFsc2UsXG5cdFx0aGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIG5vdEFzeW5jLCByZXN1bHQsXG5cdFx0XHRcdHNhdmVkID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdGlmICggKCBldmVudC5pc1RyaWdnZXIgJiAxICkgJiYgdGhpc1sgdHlwZSBdICkge1xuXG5cdFx0XHRcdC8vIEludGVycnVwdCBwcm9jZXNzaW5nIG9mIHRoZSBvdXRlciBzeW50aGV0aWMgLnRyaWdnZXIoKWVkIGV2ZW50XG5cdFx0XHRcdC8vIFNhdmVkIGRhdGEgc2hvdWxkIGJlIGZhbHNlIGluIHN1Y2ggY2FzZXMsIGJ1dCBtaWdodCBiZSBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0XG5cdFx0XHRcdC8vIGZyb20gYW4gYXN5bmMgbmF0aXZlIGhhbmRsZXIgKGdoLTQzNTApXG5cdFx0XHRcdGlmICggIXNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRcdC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheVxuXHRcdFx0XHRcdC8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC5cblx0XHRcdFx0XHRzYXZlZCA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTtcblxuXHRcdFx0XHRcdC8vIFRyaWdnZXIgdGhlIG5hdGl2ZSBldmVudCBhbmQgY2FwdHVyZSBpdHMgcmVzdWx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0Ly8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXNcblx0XHRcdFx0XHRub3RBc3luYyA9IGV4cGVjdFN5bmMoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHR0aGlzWyB0eXBlIF0oKTtcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgfHwgbm90QXN5bmMgKSB7XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGZhbHNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA4Nitcblx0XHRcdFx0XHRcdC8vIEluIENocm9tZSwgaWYgYW4gZWxlbWVudCBoYXZpbmcgYSBmb2N1c291dCBoYW5kbGVyIGlzIGJsdXJyZWQgYnlcblx0XHRcdFx0XHRcdC8vIGNsaWNraW5nIG91dHNpZGUgb2YgaXQsIGl0IGludm9rZXMgdGhlIGhhbmRsZXIgc3luY2hyb25vdXNseS4gSWZcblx0XHRcdFx0XHRcdC8vIHRoYXQgaGFuZGxlciBjYWxscyBgLnJlbW92ZSgpYCBvbiB0aGUgZWxlbWVudCwgdGhlIGRhdGEgaXMgY2xlYXJlZCxcblx0XHRcdFx0XHRcdC8vIGxlYXZpbmcgYHJlc3VsdGAgdW5kZWZpbmVkLiBXZSBuZWVkIHRvIGd1YXJkIGFnYWluc3QgdGhpcy5cblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZVxuXHRcdFx0XHQvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZyB0aGVcblx0XHRcdFx0Ly8gbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS5cblx0XHRcdFx0Ly8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGVcblx0XHRcdFx0Ly8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtc1xuXHRcdFx0XHQvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge30gKS5kZWxlZ2F0ZVR5cGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyXG5cdFx0XHQvLyBGaXJlIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCB3aXRoIHRoZSBvcmlnaW5hbCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHQvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0XG5cdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwge1xuXHRcdFx0XHRcdHZhbHVlOiBqUXVlcnkuZXZlbnQudHJpZ2dlcihcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0XHQvLyBFeHRlbmQgd2l0aCB0aGUgcHJvdG90eXBlIHRvIHJlc2V0IHRoZSBhYm92ZSBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggc2F2ZWRbIDAgXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSApLFxuXHRcdFx0XHRcdFx0c2F2ZWQuc2xpY2UoIDEgKSxcblx0XHRcdFx0XHRcdHRoaXNcblx0XHRcdFx0XHQpXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBBYm9ydCBoYW5kbGluZyBvZiB0aGUgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHR9XG59O1xuXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcblxuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcblx0XHRcdHNyYy50YXJnZXQ7XG5cblx0XHR0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcblx0XHR0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcblxuXHQvLyBFdmVudCB0eXBlXG5cdH0gZWxzZSB7XG5cdFx0dGhpcy50eXBlID0gc3JjO1xuXHR9XG5cblx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0aWYgKCBwcm9wcyApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcblx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcbmpRdWVyeS5lYWNoKCB7XG5cdGFsdEtleTogdHJ1ZSxcblx0YnViYmxlczogdHJ1ZSxcblx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXG5cdGN0cmxLZXk6IHRydWUsXG5cdGRldGFpbDogdHJ1ZSxcblx0ZXZlbnRQaGFzZTogdHJ1ZSxcblx0bWV0YUtleTogdHJ1ZSxcblx0cGFnZVg6IHRydWUsXG5cdHBhZ2VZOiB0cnVlLFxuXHRzaGlmdEtleTogdHJ1ZSxcblx0dmlldzogdHJ1ZSxcblx0XCJjaGFyXCI6IHRydWUsXG5cdGNvZGU6IHRydWUsXG5cdGNoYXJDb2RlOiB0cnVlLFxuXHRrZXk6IHRydWUsXG5cdGtleUNvZGU6IHRydWUsXG5cdGJ1dHRvbjogdHJ1ZSxcblx0YnV0dG9uczogdHJ1ZSxcblx0Y2xpZW50WDogdHJ1ZSxcblx0Y2xpZW50WTogdHJ1ZSxcblx0b2Zmc2V0WDogdHJ1ZSxcblx0b2Zmc2V0WTogdHJ1ZSxcblx0cG9pbnRlcklkOiB0cnVlLFxuXHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0c2NyZWVuWDogdHJ1ZSxcblx0c2NyZWVuWTogdHJ1ZSxcblx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0dG9FbGVtZW50OiB0cnVlLFxuXHR0b3VjaGVzOiB0cnVlLFxuXHR3aGljaDogdHJ1ZVxufSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTtcblxualF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIHR5cGUsIGRlbGVnYXRlVHlwZSApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSA9IHtcblxuXHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJmb2N1c1wiLCAuLi4gKVxuXHRcdFx0Ly8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImJsdXJcIiwgLi4uIClcblx0XHRcdGxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlLCBleHBlY3RTeW5jICk7XG5cblx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJcblx0XHRcdGxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBTdXBwcmVzcyBuYXRpdmUgZm9jdXMgb3IgYmx1ciBhcyBpdCdzIGFscmVhZHkgYmVpbmcgZmlyZWRcblx0XHQvLyBpbiBsZXZlcmFnZU5hdGl2ZS5cblx0XHRfZGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0ZGVsZWdhdGVUeXBlOiBkZWxlZ2F0ZVR5cGVcblx0fTtcbn0gKTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG52YXJcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5XG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG5cdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblxuLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0bm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgKSB7XG5cblx0XHRyZXR1cm4galF1ZXJ5KCBlbGVtICkuY2hpbGRyZW4oIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRpZiAoICggZWxlbS50eXBlIHx8IFwiXCIgKS5zbGljZSggMCwgNSApID09PSBcInRydWUvXCIgKSB7XG5cdFx0ZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKCA1ICk7XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblxuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0aWYgKCBkYXRhUHJpdi5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRwZGF0YU9sZCA9IGRhdGFQcml2LmdldCggc3JjICk7XG5cdFx0ZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuXG5cdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRlc3QsIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cblx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRpZiAoIGRhdGFVc2VyLmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKCBzcmMgKTtcblx0XHR1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoIHt9LCB1ZGF0YU9sZCApO1xuXG5cdFx0ZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApO1xuXHR9XG59XG5cbi8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuZnVuY3Rpb24gZml4SW5wdXQoIHNyYywgZGVzdCApIHtcblx0dmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdC8vIEZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLlxuXHRpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcblx0XHRkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblxuXHQvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xuXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0ZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHtcblxuXHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdGFyZ3MgPSBmbGF0KCBhcmdzICk7XG5cblx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0XHRpTm9DbG9uZSA9IGwgLSAxLFxuXHRcdHZhbHVlID0gYXJnc1sgMCBdLFxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdGlmICggdmFsdWVJc0Z1bmN0aW9uIHx8XG5cdFx0XHQoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcblx0XHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoIGluZGV4ICk7XG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8IFwiXCIgKS50b0xvd2VyQ2FzZSgpICAhPT0gXCJtb2R1bGVcIiApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRub25jZTogbm9kZS5ub25jZSB8fCBub2RlLmdldEF0dHJpYnV0ZSggXCJub25jZVwiIClcblx0XHRcdFx0XHRcdFx0XHR9LCBkb2MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgbm9kZSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBpc0F0dGFjaGVkKCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbDtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdH0sXG5cblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pbm5lckhUTUw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF0gfHwge307XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcblxuXHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdH0sIGlnbm9yZWQgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCgge1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdHZpZXcgPSB3aW5kb3c7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXHR9O1xuXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0dmFyIHJldCwgbmFtZSxcblx0XHRvbGQgPSB7fTtcblxuXHQvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0fVxuXG5cdHJldCA9IGNhbGxiYWNrLmNhbGwoIGVsZW0gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyIHJib3hTdHlsZSA9IG5ldyBSZWdFeHAoIGNzc0V4cGFuZC5qb2luKCBcInxcIiApLCBcImlcIiApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0aWYgKCAhZGl2ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7XCIgK1xuXHRcdFx0XCJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIjtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDtcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ3aWR0aDo2MCU7dG9wOjElXCI7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUubWFyZ2luTGVmdCApID09PSAxMjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuM1xuXHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiNjAlXCI7XG5cdFx0cGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLnJpZ2h0ICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0XHQvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzXG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KVxuXHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTY0XG5cdFx0Ly8gRG9uJ3QgZ2V0IHRyaWNrZWQgd2hlbiB6b29tIGFmZmVjdHMgb2Zmc2V0V2lkdGggKGdoLTQwMjkpXG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdi5vZmZzZXRXaWR0aCAvIDMgKSA9PT0gMTI7XG5cblx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRkaXYgPSBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKCBwYXJzZUZsb2F0KCBtZWFzdXJlICkgKTtcblx0fVxuXG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxCb3hTdHlsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbEJveFN0eWxlc1ZhbDtcblx0XHR9LFxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdH0sXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH0sXG5cdFx0c2Nyb2xsYm94U2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHNjcm9sbGJveFNpemVWYWw7XG5cdFx0fSxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEJlaGF2aW9yIGluIElFIDkgaXMgbW9yZSBzdWJ0bGUgdGhhbiBpbiBuZXdlciB2ZXJzaW9ucyAmIGl0IHBhc3Nlc1xuXHRcdC8vIHNvbWUgdmVyc2lvbnMgb2YgdGhpcyB0ZXN0OyBtYWtlIHN1cmUgbm90IHRvIG1ha2UgaXQgcGFzcyB0aGVyZSFcblx0XHQvL1xuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNzArXG5cdFx0Ly8gT25seSBGaXJlZm94IGluY2x1ZGVzIGJvcmRlciB3aWR0aHNcblx0XHQvLyBpbiBjb21wdXRlZCBkaW1lbnNpb25zLiAoZ2gtNDUyOSlcblx0XHRyZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdGFibGUsIHRyLCB0ckNoaWxkLCB0clN0eWxlO1xuXHRcdFx0aWYgKCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidGFibGVcIiApO1xuXHRcdFx0XHR0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwidHJcIiApO1xuXHRcdFx0XHR0ckNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdFx0XHRcdHRhYmxlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlXCI7XG5cdFx0XHRcdHRyLnN0eWxlLmNzc1RleHQgPSBcImJvcmRlcjoxcHggc29saWRcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgODYrXG5cdFx0XHRcdC8vIEhlaWdodCBzZXQgdGhyb3VnaCBjc3NUZXh0IGRvZXMgbm90IGdldCBhcHBsaWVkLlxuXHRcdFx0XHQvLyBDb21wdXRlZCBoZWlnaHQgdGhlbiBjb21lcyBiYWNrIGFzIDAuXG5cdFx0XHRcdHRyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCI5cHhcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDggQ2hyb21lIDg2K1xuXHRcdFx0XHQvLyBJbiBvdXIgYm9keUJhY2tncm91bmQuaHRtbCBpZnJhbWUsXG5cdFx0XHRcdC8vIGRpc3BsYXkgZm9yIGFsbCBkaXYgZWxlbWVudHMgaXMgc2V0IHRvIFwiaW5saW5lXCIsXG5cdFx0XHRcdC8vIHdoaWNoIGNhdXNlcyBhIHByb2JsZW0gb25seSBpbiBBbmRyb2lkIDggQ2hyb21lIDg2LlxuXHRcdFx0XHQvLyBFbnN1cmluZyB0aGUgZGl2IGlzIGRpc3BsYXk6IGJsb2NrXG5cdFx0XHRcdC8vIGdldHMgYXJvdW5kIHRoaXMgaXNzdWUuXG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdFx0XHRkb2N1bWVudEVsZW1lbnRcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRhYmxlIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyQ2hpbGQgKTtcblxuXHRcdFx0XHR0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7XG5cdFx0XHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID0gKCBwYXJzZUludCggdHJTdHlsZS5oZWlnaHQsIDEwICkgK1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0clN0eWxlLmJvcmRlclRvcFdpZHRoLCAxMCApICtcblx0XHRcdFx0XHRwYXJzZUludCggdHJTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCwgMTAgKSApID09PSB0ci5vZmZzZXRIZWlnaHQ7XG5cblx0XHRcdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCB0YWJsZSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsO1xuXHRcdH1cblx0fSApO1xufSApKCk7XG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErXG5cdFx0Ly8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvd1xuXHRcdC8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXNcblx0XHQvLyBvbiBkZXRhY2hlZCBlbGVtZW50c1xuXHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdC8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjpcblx0Ly8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCAjMTI1MzcpXG5cdC8vICAgLmNzcygnLS1jdXN0b21Qcm9wZXJ0eSkgKCMzMTQ0KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdO1xuXG5cdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWlzQXR0YWNoZWQoIGVsZW0gKSApIHtcblx0XHRcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEEgdHJpYnV0ZSB0byB0aGUgXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXCJcblx0XHQvLyBBbmRyb2lkIEJyb3dzZXIgcmV0dXJucyBwZXJjZW50YWdlIGZvciBzb21lIHZhbHVlcyxcblx0XHQvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLlxuXHRcdC8vIFRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzpcblx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuXHRcdGlmICggIXN1cHBvcnQucGl4ZWxCb3hTdHlsZXMoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcmJveFN0eWxlLnRlc3QoIG5hbWUgKSApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0d2lkdGggPSBzdHlsZS53aWR0aDtcblx0XHRcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG5cdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXG5cdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7XG5cdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcblxuXHRcdFx0Ly8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuXHRcdFx0c3R5bGUud2lkdGggPSB3aWR0aDtcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0Ly8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cblx0XHRyZXQgKyBcIlwiIDpcblx0XHRyZXQ7XG59XG5cblxuZnVuY3Rpb24gYWRkR2V0SG9va0lmKCBjb25kaXRpb25GbiwgaG9va0ZuICkge1xuXG5cdC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggY29uZGl0aW9uRm4oKSApIHtcblxuXHRcdFx0XHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcblx0XHRcdFx0Ly8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LlxuXHRcdFx0XHRkZWxldGUgdGhpcy5nZXQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cdFx0XHRyZXR1cm4gKCB0aGlzLmdldCA9IGhvb2tGbiApLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH07XG59XG5cblxudmFyIGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZSxcblx0dmVuZG9yUHJvcHMgPSB7fTtcblxuLy8gUmV0dXJuIGEgdmVuZG9yLXByZWZpeGVkIHByb3BlcnR5IG9yIHVuZGVmaW5lZFxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHBvdGVudGlhbGx5LW1hcHBlZCBqUXVlcnkuY3NzUHJvcHMgb3IgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgZmluYWwgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSB8fCB2ZW5kb3JQcm9wc1sgbmFtZSBdO1xuXG5cdGlmICggZmluYWwgKSB7XG5cdFx0cmV0dXJuIGZpbmFsO1xuXHR9XG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cdHJldHVybiB2ZW5kb3JQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lO1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdHJjdXN0b21Qcm9wID0gL14tLS8sXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxuXHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxuXHR9O1xuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggX2VsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblxuXHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYm94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIGJveCwgaXNCb3JkZXJCb3gsIHN0eWxlcywgY29tcHV0ZWRWYWwgKSB7XG5cdHZhciBpID0gZGltZW5zaW9uID09PSBcIndpZHRoXCIgPyAxIDogMCxcblx0XHRleHRyYSA9IDAsXG5cdFx0ZGVsdGEgPSAwO1xuXG5cdC8vIEFkanVzdG1lbnQgbWF5IG5vdCBiZSBuZWNlc3Nhcnlcblx0aWYgKCBib3ggPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSApIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblxuXHRcdC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpblxuXHRcdGlmICggYm94ID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgYm94ICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBjb250ZW50LWJveCwgd2UncmUgc2Vla2luZyBcInBhZGRpbmdcIiBvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCJcblx0XHRpZiAoICFpc0JvcmRlckJveCApIHtcblxuXHRcdFx0Ly8gQWRkIHBhZGRpbmdcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBGb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiLCBhZGQgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEJ1dCBzdGlsbCBrZWVwIHRyYWNrIG9mIGl0IG90aGVyd2lzZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXh0cmEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdC8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBib3JkZXItYm94IChjb250ZW50ICsgcGFkZGluZyArIGJvcmRlciksIHdlJ3JlIHNlZWtpbmcgXCJjb250ZW50XCIgb3Jcblx0XHQvLyBcInBhZGRpbmdcIiBvciBcIm1hcmdpblwiXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiLCBzdWJ0cmFjdCBwYWRkaW5nXG5cdFx0XHRpZiAoIGJveCA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdGRlbHRhIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIgb3IgXCJwYWRkaW5nXCIsIHN1YnRyYWN0IGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdGRlbHRhIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWNjb3VudCBmb3IgcG9zaXRpdmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlciB3aGVuIHJlcXVlc3RlZCBieSBwcm92aWRpbmcgY29tcHV0ZWRWYWxcblx0aWYgKCAhaXNCb3JkZXJCb3ggJiYgY29tcHV0ZWRWYWwgPj0gMCApIHtcblxuXHRcdC8vIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyBhIHJvdW5kZWQgc3VtIG9mIGNvbnRlbnQsIHBhZGRpbmcsIHNjcm9sbCBndXR0ZXIsIGFuZCBib3JkZXJcblx0XHQvLyBBc3N1bWluZyBpbnRlZ2VyIHNjcm9sbCBndXR0ZXIsIHN1YnRyYWN0IHRoZSByZXN0IGFuZCByb3VuZCBkb3duXG5cdFx0ZGVsdGEgKz0gTWF0aC5tYXgoIDAsIE1hdGguY2VpbChcblx0XHRcdGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtXG5cdFx0XHRjb21wdXRlZFZhbCAtXG5cdFx0XHRkZWx0YSAtXG5cdFx0XHRleHRyYSAtXG5cdFx0XHQwLjVcblxuXHRcdC8vIElmIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyB1bmtub3duLCB0aGVuIHdlIGNhbid0IGRldGVybWluZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyXG5cdFx0Ly8gVXNlIGFuIGV4cGxpY2l0IHplcm8gdG8gYXZvaWQgTmFOIChnaC0zOTY0KVxuXHRcdCkgKSB8fCAwO1xuXHR9XG5cblx0cmV0dXJuIGRlbHRhO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXG5cdFx0Ly8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuXG5cdFx0Ly8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuXG5cdFx0Ym94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSxcblx0XHRpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3gsXG5cblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksXG5cdFx0b2Zmc2V0UHJvcCA9IFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICk7XG5cblx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdC8vIFJldHVybiBhIGNvbmZvdW5kaW5nIG5vbi1waXhlbCB2YWx1ZSBvciBmZWlnbiBpZ25vcmFuY2UsIGFzIGFwcHJvcHJpYXRlLlxuXHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRpZiAoICFleHRyYSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHRcdHZhbCA9IFwiYXV0b1wiO1xuXHR9XG5cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBVc2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciB3aGVuIGJveCBzaXppbmcgaXMgdW5yZWxpYWJsZS5cblx0Ly8gSW4gdGhvc2UgY2FzZXMsIHRoZSBjb21wdXRlZCB2YWx1ZSBjYW4gYmUgdHJ1c3RlZCB0byBiZSBib3JkZXItYm94LlxuXHRpZiAoICggIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTAgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEludGVyZXN0aW5nbHksIGluIHNvbWUgY2FzZXMgSUUgOSBkb2Vzbid0IHN1ZmZlciBmcm9tIHRoaXMgaXNzdWUuXG5cdFx0IXN1cHBvcnQucmVsaWFibGVUckRpbWVuc2lvbnMoKSAmJiBub2RlTmFtZSggZWxlbSwgXCJ0clwiICkgfHxcblxuXHRcdC8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyBcImF1dG9cIlxuXHRcdC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcblx0XHR2YWwgPT09IFwiYXV0b1wiIHx8XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHlcblx0XHQvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKVxuXHRcdCFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImlubGluZVwiICkgJiZcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyB2aXNpYmxlICYgY29ubmVjdGVkXG5cdFx0ZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHRcdC8vIFdoZXJlIGF2YWlsYWJsZSwgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGFwcHJveGltYXRlIGJvcmRlciBib3ggZGltZW5zaW9ucy5cblx0XHQvLyBXaGVyZSBub3QgYXZhaWxhYmxlIChlLmcuLCBTVkcpLCBhc3N1bWUgdW5yZWxpYWJsZSBib3gtc2l6aW5nIGFuZCBpbnRlcnByZXQgdGhlXG5cdFx0Ly8gcmV0cmlldmVkIHZhbHVlIGFzIGEgY29udGVudCBib3ggZGltZW5zaW9uLlxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBvZmZzZXRQcm9wIGluIGVsZW07XG5cdFx0aWYgKCB2YWx1ZUlzQm9yZGVyQm94ICkge1xuXHRcdFx0dmFsID0gZWxlbVsgb2Zmc2V0UHJvcCBdO1xuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBcIlwiIGFuZCBhdXRvXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbFxuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdGVsZW0sXG5cdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzLFxuXG5cdFx0XHQvLyBQcm92aWRlIHRoZSBjdXJyZW50IGNvbXB1dGVkIHNpemUgdG8gcmVxdWVzdCBzY3JvbGwgZ3V0dGVyIGNhbGN1bGF0aW9uIChnaC0zNTg5KVxuXHRcdFx0dmFsXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHR2YXIgcmV0ID0gY3VyQ1NTKCBlbGVtLCBcIm9wYWNpdHlcIiApO1xuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRjc3NOdW1iZXI6IHtcblx0XHRcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XCI6IHRydWUsXG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJncmlkQXJlYVwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtblwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtbkVuZFwiOiB0cnVlLFxuXHRcdFwiZ3JpZENvbHVtblN0YXJ0XCI6IHRydWUsXG5cdFx0XCJncmlkUm93XCI6IHRydWUsXG5cdFx0XCJncmlkUm93RW5kXCI6IHRydWUsXG5cdFx0XCJncmlkUm93U3RhcnRcIjogdHJ1ZSxcblx0XHRcImxpbmVIZWlnaHRcIjogdHJ1ZSxcblx0XHRcIm9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XCJvcnBoYW5zXCI6IHRydWUsXG5cdFx0XCJ3aWRvd3NcIjogdHJ1ZSxcblx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFwiem9vbVwiOiB0cnVlXG5cdH0sXG5cblx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG5cdGNzc1Byb3BzOiB7fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblxuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdC8vIFRoZSBpc0N1c3RvbVByb3AgY2hlY2sgY2FuIGJlIHJlbW92ZWQgaW4galF1ZXJ5IDQuMCB3aGVuIHdlIG9ubHkgYXV0by1hcHBlbmRcblx0XHRcdC8vIFwicHhcIiB0byBhIGZldyBoYXJkY29kZWQgdmFsdWVzLlxuXHRcdFx0aWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdFx0c3R5bGUuc2V0UHJvcGVydHkoIG5hbWUsIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIF9pLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgbWF0Y2hlcyxcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cblx0XHRcdFx0Ly8gT25seSByZWFkIHN0eWxlcy5wb3NpdGlvbiBpZiB0aGUgdGVzdCBoYXMgYSBjaGFuY2UgdG8gZmFpbFxuXHRcdFx0XHQvLyB0byBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LlxuXHRcdFx0XHRzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiZcblx0XHRcdFx0XHRzdHlsZXMucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIixcblxuXHRcdFx0XHQvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC0zOTkxKVxuXHRcdFx0XHRib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsXG5cdFx0XHRcdGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSA/XG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbixcblx0XHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdFx0aXNCb3JkZXJCb3gsXG5cdFx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0XHQpIDpcblx0XHRcdFx0XHQwO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB1bnJlbGlhYmxlIGJvcmRlci1ib3ggZGltZW5zaW9ucyBieSBjb21wYXJpbmcgb2Zmc2V0KiB0byBjb21wdXRlZCBhbmRcblx0XHRcdC8vIGZha2luZyBhIGNvbnRlbnQtYm94IHRvIGdldCBib3JkZXIgYW5kIHBhZGRpbmcgKGdoLTM2OTkpXG5cdFx0XHRpZiAoIGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSApIHtcblx0XHRcdFx0c3VidHJhY3QgLT0gTWF0aC5jZWlsKFxuXHRcdFx0XHRcdGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtXG5cdFx0XHRcdFx0cGFyc2VGbG9hdCggc3R5bGVzWyBkaW1lbnNpb24gXSApIC1cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgXCJib3JkZXJcIiwgZmFsc2UsIHN0eWxlcyApIC1cblx0XHRcdFx0XHQwLjVcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBkaW1lbnNpb24gXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIGRpbWVuc2lvbiApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApO1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XG5cdFx0XHRcdGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtXG5cdFx0XHRcdFx0c3dhcCggZWxlbSwgeyBtYXJnaW5MZWZ0OiAwIH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHR9IClcblx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIHByZWZpeCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgaW5Qcm9ncmVzcyxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiBzY2hlZHVsZSgpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdGlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggc2NoZWR1bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0aSA9IDAsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuXG5cdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0aXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcyxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuXHRcdC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0fVxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0cHJvcFR3ZWVuID0gZmFsc2U7XG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblxuXHRcdC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0gY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0cmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0YW5pbWF0aW9uXG5cdFx0LnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHRyZXR1cm4gYW5pbWF0aW9uO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRjYWxsYmFjayA9IHByb3BzO1xuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0gRGF0ZS5ub3coKTtcblxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcblxuXHRcdC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRqUXVlcnkuZnguc3RhcnQoKTtcbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpblByb2dyZXNzID0gdHJ1ZTtcblx0c2NoZWR1bGUoKTtcbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGluUHJvZ3Jlc3MgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLFxuXHRcdFx0aSA9IDAsXG5cblx0XHRcdC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXG5cdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cblx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDtcblx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7XG5cdFx0fVxuXHRcdHJldHVybiByZXQ7XG5cdH07XG59ICk7XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdO1xuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuXHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cblx0XHRcdFx0Ly8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsKCMxMjA3Milcblx0XHRcdFx0dmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0YWJpbmRleFwiICk7XG5cblx0XHRcdFx0aWYgKCB0YWJpbmRleCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiZcblx0XHRcdFx0XHRlbGVtLmhyZWZcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BGaXg6IHtcblx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcblx0fVxufSApO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbi8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuLy8gb24gdGhlIG9wdGlvblxuLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcbi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcbi8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxuLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XG5cblx0XHRcdFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5qUXVlcnkuZWFjaCggW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0gKTtcblxuXG5cblxuXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXG5cdC8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzVG9BcnJheSggdmFsdWUgKSB7XG5cdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdH1cblx0cmV0dXJuIFtdO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NlcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBjbGFzc2VzLmxlbmd0aCApIHtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZSxcblx0XHRcdGlzVmFsaWRWYWx1ZSA9IHR5cGUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiBpc1ZhbGlkVmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwgY2xhc3NOYW1lcztcblxuXHRcdFx0aWYgKCBpc1ZhbGlkVmFsdWUgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHRpZiAoIHRoaXMuc2V0QXR0cmlidXRlICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cblx0XHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCB2YWx1ZUlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRpZiAoIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0cmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLCBpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIixcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdFx0aSA9IG1heDtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGkgPSBvbmUgPyBpbmRleCA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cblxuXHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG5zdXBwb3J0LmZvY3VzaW4gPSBcIm9uZm9jdXNpblwiIGluIHdpbmRvdztcblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXG5cdHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0fTtcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRsYXN0RWxlbWVudCA9IGN1cjtcblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwgT2JqZWN0LmNyZWF0ZSggbnVsbCApIClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93XG5cdFx0XHRcdC8vICh2aWEgYHRoaXMuZG9jdW1lbnRgKSAmIGRvY3VtZW50ICh2aWEgYHRoaXNgKS5cblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9O1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWwsIHBhcnNlckVycm9yRWxlbTtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge31cblxuXHRwYXJzZXJFcnJvckVsZW0gPSB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKVsgMCBdO1xuXHRpZiAoICF4bWwgfHwgcGFyc2VyRXJyb3JFbGVtICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyAoXG5cdFx0XHRwYXJzZXJFcnJvckVsZW0gP1xuXHRcdFx0XHRqUXVlcnkubWFwKCBwYXJzZXJFcnJvckVsZW0uY2hpbGROb2RlcywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRcdHJldHVybiBlbC50ZXh0Q29udGVudDtcblx0XHRcdFx0fSApLmpvaW4oIFwiXFxuXCIgKSA6XG5cdFx0XHRcdGRhdGFcblx0XHQpICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiB0b1R5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0aWYgKCBhID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKS5tYXAoIGZ1bmN0aW9uKCBfaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxub3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cblx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRyZXF1ZXN0SGVhZGVycyA9IHt9LFxuXHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSA9XG5cdFx0XHRcdFx0XHRcdFx0XHQoIHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXSB8fCBbXSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5jb25jYXQoIG1hdGNoWyAyIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpICsgXCIgXCIgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2guam9pbiggXCIsIFwiICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID1cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSAmJiAoIHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiApICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZS5ndWlkKysgKSArXG5cdFx0XHRcdFx0dW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBhIG5vb3AgY29udmVydGVyIGZvciBtaXNzaW5nIHNjcmlwdCBidXQgbm90IGlmIGpzb25wXG5cdFx0XHRpZiAoICFpc1N1Y2Nlc3MgJiZcblx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIFwic2NyaXB0XCIsIHMuZGF0YVR5cGVzICkgPiAtMSAmJlxuXHRcdFx0XHRqUXVlcnkuaW5BcnJheSggXCJqc29uXCIsIHMuZGF0YVR5cGVzICkgPCAwICkge1xuXHRcdFx0XHRzLmNvbnZlcnRlcnNbIFwidGV4dCBzY3JpcHRcIiBdID0gZnVuY3Rpb24oKSB7fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggX2ksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHR2YXIgaTtcblx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0aWYgKCBpLnRvTG93ZXJDYXNlKCkgPT09IFwiY29udGVudC10eXBlXCIgKSB7XG5cdFx0XHRzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzWyBpIF0gfHwgXCJcIjtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zLCBkb2MgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblxuXHRcdC8vIE9ubHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIGlmIGl0IGlzIHN1Y2Nlc3NmdWwgKGdoLTQxMjYpXG5cdFx0Ly8gZGF0YUZpbHRlciBpcyBub3QgaW52b2tlZCBmb3IgZmFpbHVyZSByZXNwb25zZXMsIHNvIHVzaW5nIGl0IGluc3RlYWRcblx0XHQvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy5cblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCkge31cblx0XHR9LFxuXHRcdGRhdGFGaWx0ZXI6IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucywgZG9jICk7XG5cdFx0fVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG59O1xualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG59O1xuXG5cblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdDEyMjM6IDIwNFxuXHR9LFxuXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cblx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuXHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKTtcblxuXHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRvcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0b3B0aW9ucy51cmwsXG5cdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRvcHRpb25zLnVzZXJuYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnMucGFzc3dvcmRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHtcblx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcblx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBoZWFkZXJzXG5cdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxuXHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub250aW1lb3V0ID1cblx0XHRcdFx0XHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG5cdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcblx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG5cdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcblx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcblx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcblx0fVxufSApO1xuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuXHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSApO1xuXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIG9yIGZvcmNlZC1ieS1hdHRycyByZXF1ZXN0c1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gfHwgcy5zY3JpcHRBdHRycyApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoIFwiPHNjcmlwdD5cIiApXG5cdFx0XHRcdFx0LmF0dHIoIHMuc2NyaXB0QXR0cnMgfHwge30gKVxuXHRcdFx0XHRcdC5wcm9wKCB7IGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwgc3JjOiBzLnVybCB9IClcblx0XHRcdFx0XHQub24oIFwibG9hZCBlcnJvclwiLCBjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UuZ3VpZCsrICkgKTtcblx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdH1cbn0gKTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0gaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xuXHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0cy5qc29ucENhbGxiYWNrO1xuXG5cdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdGlmICgganNvblByb3AgKSB7XG5cdFx0XHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xuXHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0cy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG5cdFx0cy5jb252ZXJ0ZXJzWyBcInNjcmlwdCBqc29uXCIgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XG5cdFx0XHRcdGpRdWVyeS5lcnJvciggY2FsbGJhY2tOYW1lICsgXCIgd2FzIG5vdCBjYWxsZWRcIiApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWyAwIF07XG5cdFx0fTtcblxuXHRcdC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcblx0XHRzLmRhdGFUeXBlc1sgMCBdID0gXCJqc29uXCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrXG5cdFx0b3ZlcndyaXR0ZW4gPSB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdO1xuXHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuXHRcdH07XG5cblx0XHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcblx0XHRqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcblx0XHRcdGlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5yZW1vdmVQcm9wKCBjYWxsYmFja05hbWUgKTtcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cblx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblxuXHRcdFx0XHQvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG5cdFx0XHRpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxuLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG4vLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XG5zdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICkuYm9keTtcblx0Ym9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XG5cdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xufSApKCk7XG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXG5cdHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XG5cblx0aWYgKCAhY29udGV4dCApIHtcblxuXHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG5cdFx0aWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XG5cdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0Ly8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcblx0XHRcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiYmFzZVwiICk7XG5cdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHR9XG5cdH1cblxuXHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcblx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHR9XG5cblx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblxuXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0dmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRvZmYgPSB1cmwuaW5kZXhPZiggXCIgXCIgKTtcblxuXHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdHNlbGVjdG9yID0gc3RyaXBBbmRDb2xsYXBzZSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBpc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0cGFyYW1zID0gdW5kZWZpbmVkO1xuXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0fSBlbHNlIGlmICggcGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHR9XG5cblx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuXHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0gKS5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeSggXCI8ZGl2PlwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdHJlc3BvbnNlVGV4dCApO1xuXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuXHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHR9ICkubGVuZ3RoO1xufTtcblxuXG5cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0Ly8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgcmVjdCwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgZG9jdW1lbnQtcmVsYXRpdmUgcG9zaXRpb24gYnkgYWRkaW5nIHZpZXdwb3J0IHNjcm9sbCB0byB2aWV3cG9ydC1yZWxhdGl2ZSBnQkNSXG5cdFx0cmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0d2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LFxuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0XG5cdFx0fTtcblx0fSxcblxuXHQvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveFxuXHQvLyBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBiZWhhdmlvciBvZiBDU1MgYWJzb2x1dGUgcG9zaXRpb25pbmdcblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsIGRvYyxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gcG9zaXRpb246Zml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHRoZSB2aWV3cG9ydCwgd2hpY2ggaXRzZWxmIGFsd2F5cyBoYXMgemVybyBvZmZzZXRcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cblx0XHRcdC8vIEFzc3VtZSBwb3NpdGlvbjpmaXhlZCBpbXBsaWVzIGF2YWlsYWJpbGl0eSBvZiBnZXRCb3VuZGluZ0NsaWVudFJlY3Rcblx0XHRcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnRcblx0XHRcdC8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiZcblx0XHRcdFx0KCBvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCApICYmXG5cdFx0XHRcdGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGVsZW0gJiYgb2Zmc2V0UGFyZW50Lm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIEluY29ycG9yYXRlIGJvcmRlcnMgaW50byBpdHMgb2Zmc2V0LCBzaW5jZSB0aGV5IGFyZSBvdXRzaWRlIGl0cyBjb250ZW50IG9yaWdpblxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBqUXVlcnkoIG9mZnNldFBhcmVudCApLm9mZnNldCgpO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQudG9wICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC5sZWZ0ICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXG5cdFx0XHQvLyBDb2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3Ncblx0XHRcdHZhciB3aW47XG5cdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW07XG5cdFx0XHR9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtLmRlZmF1bHRWaWV3O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5XG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0N1xuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5qUXVlcnkuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggX2ksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHtcblx0XHRwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLFxuXHRcdGNvbnRlbnQ6IHR5cGUsXG5cdFx0XCJcIjogXCJvdXRlclwiICsgbmFtZVxuXHR9LCBmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBfaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH0sXG5cblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKFxuXHQoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXG5cdFx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0XHR9O1xuXHR9XG4pO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcbi8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxudmFyIHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nO1xuXG4vLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbi8vIGFyZ3VtZW50cy5cbi8vIGpRdWVyeS5wcm94eSBpcyBkZXByZWNhdGVkIHRvIHByb21vdGUgc3RhbmRhcmRzIChzcGVjaWZpY2FsbHkgRnVuY3Rpb24jYmluZClcbi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vblxualF1ZXJ5LnByb3h5ID0gZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0Y29udGV4dCA9IGZuO1xuXHRcdGZuID0gdG1wO1xuXHR9XG5cblx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0aWYgKCAhaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHR9O1xuXG5cdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRyZXR1cm4gcHJveHk7XG59O1xuXG5qUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7XG5cdGlmICggaG9sZCApIHtcblx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdH1cbn07XG5qUXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5qUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcbmpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lO1xualF1ZXJ5LmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xualF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7XG5qUXVlcnkuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xualF1ZXJ5LnR5cGUgPSB0b1R5cGU7XG5cbmpRdWVyeS5ub3cgPSBEYXRlLm5vdztcblxualF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuXHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHQvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cblx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG59O1xuXG5qUXVlcnkudHJpbSA9IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcIlwiIDpcblx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcbn07XG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCB0eXBlb2Ygbm9HbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcbn0gKTtcbiIsIi8qIVxuICogTWF0ZXJpYWxpemUgdjEuMC4wIChodHRwOi8vbWF0ZXJpYWxpemVjc3MuY29tKVxuICogQ29weXJpZ2h0IDIwMTQtMjAxNyBNYXRlcmlhbGl6ZVxuICogTUlUIExpY2Vuc2UgKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Eb2dmYWxvL21hdGVyaWFsaXplL21hc3Rlci9MSUNFTlNFKVxuICovXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyohIGNhc2gtZG9tIDEuMy41LCBodHRwczovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9jYXNoIEBsaWNlbnNlIE1JVCAqL1xuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIHdpbmRvdy5jYXNoID0gZmFjdG9yeSgpO1xufSkoZnVuY3Rpb24gKCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICB3aW4gPSB3aW5kb3csXG4gICAgICBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgc2xpY2UgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgICAgZmlsdGVyID0gQXJyYXlQcm90by5maWx0ZXIsXG4gICAgICBwdXNoID0gQXJyYXlQcm90by5wdXNoO1xuXG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge30sXG4gICAgICBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAvLyBAc2VlIGh0dHBzOi8vY3JidWcuY29tLzU2ODQ0OFxuICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gdHlwZW9mIG5vb3AgJiYgaXRlbS5jYWxsO1xuICB9LFxuICAgICAgaXNTdHJpbmcgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gdHlwZW9mIFwiXCI7XG4gIH07XG5cbiAgdmFyIGlkTWF0Y2ggPSAvXiNbXFx3LV0qJC8sXG4gICAgICBjbGFzc01hdGNoID0gL15cXC5bXFx3LV0qJC8sXG4gICAgICBodG1sTWF0Y2ggPSAvPC4rPi8sXG4gICAgICBzaW5nbGV0ID0gL15cXHcrJC87XG5cbiAgZnVuY3Rpb24gZmluZChzZWxlY3RvciwgY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvYztcbiAgICB2YXIgZWxlbXMgPSBjbGFzc01hdGNoLnRlc3Qoc2VsZWN0b3IpID8gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHNlbGVjdG9yLnNsaWNlKDEpKSA6IHNpbmdsZXQudGVzdChzZWxlY3RvcikgPyBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSA6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgcmV0dXJuIGVsZW1zO1xuICB9XG5cbiAgdmFyIGZyYWc7XG4gIGZ1bmN0aW9uIHBhcnNlSFRNTChzdHIpIHtcbiAgICBpZiAoIWZyYWcpIHtcbiAgICAgIGZyYWcgPSBkb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG51bGwpO1xuICAgICAgdmFyIGJhc2UgPSBmcmFnLmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpO1xuICAgICAgYmFzZS5ocmVmID0gZG9jLmxvY2F0aW9uLmhyZWY7XG4gICAgICBmcmFnLmhlYWQuYXBwZW5kQ2hpbGQoYmFzZSk7XG4gICAgfVxuXG4gICAgZnJhZy5ib2R5LmlubmVySFRNTCA9IHN0cjtcblxuICAgIHJldHVybiBmcmFnLmJvZHkuY2hpbGROb2RlcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVhZHkoZm4pIHtcbiAgICBpZiAoZG9jLnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XG4gICAgICBmbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEluaXQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBJZiBhbHJlYWR5IGEgY2FzaCBjb2xsZWN0aW9uLCBkb24ndCBkbyBhbnkgZnVydGhlciBwcm9jZXNzaW5nXG4gICAgaWYgKHNlbGVjdG9yLmNhc2ggJiYgc2VsZWN0b3IgIT09IHdpbikge1xuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cblxuICAgIHZhciBlbGVtcyA9IHNlbGVjdG9yLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbGVuZ3RoO1xuXG4gICAgaWYgKGlzU3RyaW5nKHNlbGVjdG9yKSkge1xuICAgICAgZWxlbXMgPSBpZE1hdGNoLnRlc3Qoc2VsZWN0b3IpID9cbiAgICAgIC8vIElmIGFuIElEIHVzZSB0aGUgZmFzdGVyIGdldEVsZW1lbnRCeUlkIGNoZWNrXG4gICAgICBkb2MuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3Iuc2xpY2UoMSkpIDogaHRtbE1hdGNoLnRlc3Qoc2VsZWN0b3IpID9cbiAgICAgIC8vIElmIEhUTUwsIHBhcnNlIGl0IGludG8gcmVhbCBlbGVtZW50c1xuICAgICAgcGFyc2VIVE1MKHNlbGVjdG9yKSA6XG4gICAgICAvLyBlbHNlIHVzZSBgZmluZGBcbiAgICAgIGZpbmQoc2VsZWN0b3IsIGNvbnRleHQpO1xuXG4gICAgICAvLyBJZiBmdW5jdGlvbiwgdXNlIGFzIHNob3J0Y3V0IGZvciBET00gcmVhZHlcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSB7XG4gICAgICBvblJlYWR5KHNlbGVjdG9yKTtyZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAoIWVsZW1zKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBJZiBhIHNpbmdsZSBET00gZWxlbWVudCBpcyBwYXNzZWQgaW4gb3IgcmVjZWl2ZWQgdmlhIElELCByZXR1cm4gdGhlIHNpbmdsZSBlbGVtZW50XG4gICAgaWYgKGVsZW1zLm5vZGVUeXBlIHx8IGVsZW1zID09PSB3aW4pIHtcbiAgICAgIHRoaXNbMF0gPSBlbGVtcztcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJlYXQgbGlrZSBhbiBhcnJheSBhbmQgbG9vcCB0aHJvdWdoIGVhY2ggaXRlbS5cbiAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzW2ldID0gZWxlbXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBjYXNoKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBJbml0KHNlbGVjdG9yLCBjb250ZXh0KTtcbiAgfVxuXG4gIHZhciBmbiA9IGNhc2guZm4gPSBjYXNoLnByb3RvdHlwZSA9IEluaXQucHJvdG90eXBlID0geyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICBjYXNoOiB0cnVlLFxuICAgIGxlbmd0aDogMCxcbiAgICBwdXNoOiBwdXNoLFxuICAgIHNwbGljZTogQXJyYXlQcm90by5zcGxpY2UsXG4gICAgbWFwOiBBcnJheVByb3RvLm1hcCxcbiAgICBpbml0OiBJbml0XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IGNhc2ggfSk7XG5cbiAgY2FzaC5wYXJzZUhUTUwgPSBwYXJzZUhUTUw7XG4gIGNhc2gubm9vcCA9IG5vb3A7XG4gIGNhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gIGNhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcblxuICBjYXNoLmV4dGVuZCA9IGZuLmV4dGVuZCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwge307XG5cbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgIGkgPSAxO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICB0YXJnZXQgPSB0aGlzO1xuICAgICAgaSA9IDA7XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFhcmdzW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3NbaV0pIHtcbiAgICAgICAgaWYgKGFyZ3NbaV0uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gYXJnc1tpXVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICBmdW5jdGlvbiBlYWNoKGNvbGxlY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgaSA9IDA7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwoY29sbGVjdGlvbltpXSwgY29sbGVjdGlvbltpXSwgaSwgY29sbGVjdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSB7XG4gICAgdmFyIG0gPSBlbCAmJiAoZWwubWF0Y2hlcyB8fCBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWwubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm9NYXRjaGVzU2VsZWN0b3IpO1xuICAgIHJldHVybiAhIW0gJiYgbS5jYWxsKGVsLCBzZWxlY3Rvcik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb21wYXJlRnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyogVXNlIGJyb3dzZXIncyBgbWF0Y2hlc2AgZnVuY3Rpb24gaWYgc3RyaW5nICovXG4gICAgICBpc1N0cmluZyhzZWxlY3RvcikgPyBtYXRjaGVzIDpcbiAgICAgIC8qIE1hdGNoIGEgY2FzaCBlbGVtZW50ICovXG4gICAgICBzZWxlY3Rvci5jYXNoID8gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5pcyhlbCk7XG4gICAgICB9IDpcbiAgICAgIC8qIERpcmVjdCBjb21wYXJpc29uICovXG4gICAgICBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBlbCA9PT0gc2VsZWN0b3I7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuaXF1ZShjb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGNhc2goc2xpY2UuY2FsbChjb2xsZWN0aW9uKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBpbmRleDtcbiAgICB9KSk7XG4gIH1cblxuICBjYXNoLmV4dGVuZCh7XG4gICAgbWVyZ2U6IGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICB2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG4gICAgICAgICAgaSA9IGZpcnN0Lmxlbmd0aCxcbiAgICAgICAgICBqID0gMDtcblxuICAgICAgZm9yICg7IGogPCBsZW47IGkrKywgaisrKSB7XG4gICAgICAgIGZpcnN0W2ldID0gc2Vjb25kW2pdO1xuICAgICAgfVxuXG4gICAgICBmaXJzdC5sZW5ndGggPSBpO1xuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH0sXG5cbiAgICBlYWNoOiBlYWNoLFxuICAgIG1hdGNoZXM6IG1hdGNoZXMsXG4gICAgdW5pcXVlOiB1bmlxdWUsXG4gICAgaXNBcnJheTogQXJyYXkuaXNBcnJheSxcbiAgICBpc051bWVyaWM6IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICAgIH1cblxuICB9KTtcblxuICB2YXIgdWlkID0gY2FzaC51aWQgPSBcIl9jYXNoXCIgKyBEYXRlLm5vdygpO1xuXG4gIGZ1bmN0aW9uIGdldERhdGFDYWNoZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGVbdWlkXSA9IG5vZGVbdWlkXSB8fCB7fTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERhdGEobm9kZSwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBnZXREYXRhQ2FjaGUobm9kZSlba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGF0YShub2RlLCBrZXkpIHtcbiAgICB2YXIgYyA9IGdldERhdGFDYWNoZShub2RlKTtcbiAgICBpZiAoY1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNba2V5XSA9IG5vZGUuZGF0YXNldCA/IG5vZGUuZGF0YXNldFtrZXldIDogY2FzaChub2RlKS5hdHRyKFwiZGF0YS1cIiArIGtleSk7XG4gICAgfVxuICAgIHJldHVybiBjW2tleV07XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVEYXRhKG5vZGUsIGtleSkge1xuICAgIHZhciBjID0gZ2V0RGF0YUNhY2hlKG5vZGUpO1xuICAgIGlmIChjKSB7XG4gICAgICBkZWxldGUgY1trZXldO1xuICAgIH0gZWxzZSBpZiAobm9kZS5kYXRhc2V0KSB7XG4gICAgICBkZWxldGUgbm9kZS5kYXRhc2V0W2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhc2gobm9kZSkucmVtb3ZlQXR0cihcImRhdGEtXCIgKyBuYW1lKTtcbiAgICB9XG4gIH1cblxuICBmbi5leHRlbmQoe1xuICAgIGRhdGE6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZ2V0RGF0YSh0aGlzWzBdLCBuYW1lKSA6IHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiBzZXREYXRhKHYsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG4gICAgICAgIHRoaXMuZGF0YShrZXksIG5hbWVba2V5XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW1vdmVEYXRhOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiByZW1vdmVEYXRhKHYsIGtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdmFyIG5vdFdoaXRlTWF0Y2ggPSAvXFxTKy9nO1xuXG4gIGZ1bmN0aW9uIGdldENsYXNzZXMoYykge1xuICAgIHJldHVybiBpc1N0cmluZyhjKSAmJiBjLm1hdGNoKG5vdFdoaXRlTWF0Y2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQ2xhc3ModiwgYykge1xuICAgIHJldHVybiB2LmNsYXNzTGlzdCA/IHYuY2xhc3NMaXN0LmNvbnRhaW5zKGMpIDogbmV3IFJlZ0V4cChcIihefCApXCIgKyBjICsgXCIoIHwkKVwiLCBcImdpXCIpLnRlc3Qodi5jbGFzc05hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3ModiwgYywgc3BhY2VkTmFtZSkge1xuICAgIGlmICh2LmNsYXNzTGlzdCkge1xuICAgICAgdi5jbGFzc0xpc3QuYWRkKGMpO1xuICAgIH0gZWxzZSBpZiAoc3BhY2VkTmFtZS5pbmRleE9mKFwiIFwiICsgYyArIFwiIFwiKSkge1xuICAgICAgdi5jbGFzc05hbWUgKz0gXCIgXCIgKyBjO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKHYsIGMpIHtcbiAgICBpZiAodi5jbGFzc0xpc3QpIHtcbiAgICAgIHYuY2xhc3NMaXN0LnJlbW92ZShjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdi5jbGFzc05hbWUgPSB2LmNsYXNzTmFtZS5yZXBsYWNlKGMsIFwiXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZuLmV4dGVuZCh7XG4gICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IGdldENsYXNzZXMoYyk7XG5cbiAgICAgIHJldHVybiBjbGFzc2VzID8gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHZhciBzcGFjZWROYW1lID0gXCIgXCIgKyB2LmNsYXNzTmFtZSArIFwiIFwiO1xuICAgICAgICBlYWNoKGNsYXNzZXMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgYWRkQ2xhc3ModiwgYywgc3BhY2VkTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkgOiB0aGlzO1xuICAgIH0sXG5cbiAgICBhdHRyOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICghbmFtZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0uZ2V0QXR0cmlidXRlID8gdGhpc1swXS5nZXRBdHRyaWJ1dGUobmFtZSkgOiB0aGlzWzBdW25hbWVdIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgIGlmICh2LnNldEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdi5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2W25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hdHRyKGtleSwgbmFtZVtrZXldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIGNoZWNrID0gZmFsc2UsXG4gICAgICAgICAgY2xhc3NlcyA9IGdldENsYXNzZXMoYyk7XG4gICAgICBpZiAoY2xhc3NlcyAmJiBjbGFzc2VzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBjaGVjayA9IGhhc0NsYXNzKHYsIGNsYXNzZXNbMF0pO1xuICAgICAgICAgIHJldHVybiAhY2hlY2s7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH0sXG5cbiAgICBwcm9wOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHRoaXNbMF1bbmFtZV0gOiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB2W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xuICAgICAgICB0aGlzLnByb3Aoa2V5LCBuYW1lW2tleV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKHYucmVtb3ZlQXR0cmlidXRlKSB7XG4gICAgICAgICAgdi5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyKFwiY2xhc3NcIiwgXCJcIik7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NlcyA9IGdldENsYXNzZXMoYyk7XG4gICAgICByZXR1cm4gY2xhc3NlcyA/IHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICBlYWNoKGNsYXNzZXMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3ModiwgYyk7XG4gICAgICAgIH0pO1xuICAgICAgfSkgOiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW1vdmVQcm9wOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICBkZWxldGUgdltuYW1lXTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICB0b2dnbGVDbGFzczogZnVuY3Rpb24gKGMsIHN0YXRlKSB7XG4gICAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpc1tzdGF0ZSA/IFwiYWRkQ2xhc3NcIiA6IFwicmVtb3ZlQ2xhc3NcIl0oYyk7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NlcyA9IGdldENsYXNzZXMoYyk7XG4gICAgICByZXR1cm4gY2xhc3NlcyA/IHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgc3BhY2VkTmFtZSA9IFwiIFwiICsgdi5jbGFzc05hbWUgKyBcIiBcIjtcbiAgICAgICAgZWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGlmIChoYXNDbGFzcyh2LCBjKSkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModiwgYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZENsYXNzKHYsIGMsIHNwYWNlZE5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KSA6IHRoaXM7XG4gICAgfSB9KTtcblxuICBmbi5leHRlbmQoe1xuICAgIGFkZDogZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdW5pcXVlKGNhc2gubWVyZ2UodGhpcywgY2FzaChzZWxlY3RvciwgY29udGV4dCkpKTtcbiAgICB9LFxuXG4gICAgZWFjaDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBlYWNoKHRoaXMsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBlcTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICByZXR1cm4gY2FzaCh0aGlzLmdldChpbmRleCkpO1xuICAgIH0sXG5cbiAgICBmaWx0ZXI6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBpc0Z1bmN0aW9uKHNlbGVjdG9yKSA/IHNlbGVjdG9yIDogZ2V0Q29tcGFyZUZ1bmN0aW9uKHNlbGVjdG9yKTtcblxuICAgICAgcmV0dXJuIGNhc2goZmlsdGVyLmNhbGwodGhpcywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoZSwgc2VsZWN0b3IpO1xuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXEoMCk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB0aGlzW2luZGV4ICsgdGhpcy5sZW5ndGhdIDogdGhpc1tpbmRleF07XG4gICAgfSxcblxuICAgIGluZGV4OiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgdmFyIGNoaWxkID0gZWxlbSA/IGNhc2goZWxlbSlbMF0gOiB0aGlzWzBdLFxuICAgICAgICAgIGNvbGxlY3Rpb24gPSBlbGVtID8gdGhpcyA6IGNhc2goY2hpbGQpLnBhcmVudCgpLmNoaWxkcmVuKCk7XG4gICAgICByZXR1cm4gc2xpY2UuY2FsbChjb2xsZWN0aW9uKS5pbmRleE9mKGNoaWxkKTtcbiAgICB9LFxuXG4gICAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXEoLTEpO1xuICAgIH1cblxuICB9KTtcblxuICB2YXIgY2FtZWxDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW1lbFJlZ2V4ID0gLyg/Ol5cXHd8W0EtWl18XFxiXFx3KS9nLFxuICAgICAgICB3aGl0ZVNwYWNlID0gL1tcXHMtX10rL2c7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbFJlZ2V4LCBmdW5jdGlvbiAobGV0dGVyLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGV0dGVyW2luZGV4ID09PSAwID8gXCJ0b0xvd2VyQ2FzZVwiIDogXCJ0b1VwcGVyQ2FzZVwiXSgpO1xuICAgICAgfSkucmVwbGFjZSh3aGl0ZVNwYWNlLCBcIlwiKTtcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIGdldFByZWZpeGVkUHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FjaGUgPSB7fSxcbiAgICAgICAgZG9jID0gZG9jdW1lbnQsXG4gICAgICAgIGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBzdHlsZSA9IGRpdi5zdHlsZTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcHJvcCA9IGNhbWVsQ2FzZShwcm9wKTtcbiAgICAgIGlmIChjYWNoZVtwcm9wXSkge1xuICAgICAgICByZXR1cm4gY2FjaGVbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHZhciB1Y1Byb3AgPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKSxcbiAgICAgICAgICBwcmVmaXhlcyA9IFtcIndlYmtpdFwiLCBcIm1velwiLCBcIm1zXCIsIFwib1wiXSxcbiAgICAgICAgICBwcm9wcyA9IChwcm9wICsgXCIgXCIgKyBwcmVmaXhlcy5qb2luKHVjUHJvcCArIFwiIFwiKSArIHVjUHJvcCkuc3BsaXQoXCIgXCIpO1xuXG4gICAgICBlYWNoKHByb3BzLCBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAocCBpbiBzdHlsZSkge1xuICAgICAgICAgIGNhY2hlW3BdID0gcHJvcCA9IGNhY2hlW3Byb3BdID0gcDtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gY2FjaGVbcHJvcF07XG4gICAgfTtcbiAgfSgpO1xuXG4gIGNhc2gucHJlZml4ZWRQcm9wID0gZ2V0UHJlZml4ZWRQcm9wO1xuICBjYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcblxuICBmbi5leHRlbmQoe1xuICAgIGNzczogZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNTdHJpbmcocHJvcCkpIHtcbiAgICAgICAgcHJvcCA9IGdldFByZWZpeGVkUHJvcChwcm9wKTtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIHYuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSkgOiB3aW4uZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdKVtwcm9wXTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3ApIHtcbiAgICAgICAgdGhpcy5jc3Moa2V5LCBwcm9wW2tleV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gY29tcHV0ZShlbCwgcHJvcCkge1xuICAgIHJldHVybiBwYXJzZUludCh3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbFswXSwgbnVsbClbcHJvcF0sIDEwKSB8fCAwO1xuICB9XG5cbiAgZWFjaChbXCJXaWR0aFwiLCBcIkhlaWdodFwiXSwgZnVuY3Rpb24gKHYpIHtcbiAgICB2YXIgbG93ZXIgPSB2LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBmbltsb3dlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtsb3dlcl07XG4gICAgfTtcblxuICAgIGZuW1wiaW5uZXJcIiArIHZdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXNbMF1bXCJjbGllbnRcIiArIHZdO1xuICAgIH07XG5cbiAgICBmbltcIm91dGVyXCIgKyB2XSA9IGZ1bmN0aW9uIChtYXJnaW5zKSB7XG4gICAgICByZXR1cm4gdGhpc1swXVtcIm9mZnNldFwiICsgdl0gKyAobWFyZ2lucyA/IGNvbXB1dGUodGhpcywgXCJtYXJnaW5cIiArICh2ID09PSBcIldpZHRoXCIgPyBcIkxlZnRcIiA6IFwiVG9wXCIpKSArIGNvbXB1dGUodGhpcywgXCJtYXJnaW5cIiArICh2ID09PSBcIldpZHRoXCIgPyBcIlJpZ2h0XCIgOiBcIkJvdHRvbVwiKSkgOiAwKTtcbiAgICB9O1xuICB9KTtcblxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50KG5vZGUsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXZlbnRDYWNoZSA9IGdldERhdGEobm9kZSwgXCJfY2FzaEV2ZW50c1wiKSB8fCBzZXREYXRhKG5vZGUsIFwiX2Nhc2hFdmVudHNcIiwge30pO1xuICAgIGV2ZW50Q2FjaGVbZXZlbnROYW1lXSA9IGV2ZW50Q2FjaGVbZXZlbnROYW1lXSB8fCBbXTtcbiAgICBldmVudENhY2hlW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQobm9kZSwgZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBldmVudHMgPSBnZXREYXRhKG5vZGUsIFwiX2Nhc2hFdmVudHNcIiksXG4gICAgICAgIGV2ZW50Q2FjaGUgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV0sXG4gICAgICAgIGluZGV4O1xuXG4gICAgaWYgKCFldmVudENhY2hlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICBpbmRleCA9IGV2ZW50Q2FjaGUuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBldmVudENhY2hlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVhY2goZXZlbnRDYWNoZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgZXZlbnRDYWNoZSA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIGZuLmV4dGVuZCh7XG4gICAgb2ZmOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRXZlbnQodiwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgb246IGZ1bmN0aW9uIChldmVudE5hbWUsIGRlbGVnYXRlLCBjYWxsYmFjaywgcnVuT25jZSkge1xuICAgICAgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICB2YXIgb3JpZ2luYWxDYWxsYmFjaztcbiAgICAgIGlmICghaXNTdHJpbmcoZXZlbnROYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZXZlbnROYW1lKSB7XG4gICAgICAgICAgdGhpcy5vbihrZXksIGRlbGVnYXRlLCBldmVudE5hbWVba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKGRlbGVnYXRlKSkge1xuICAgICAgICBjYWxsYmFjayA9IGRlbGVnYXRlO1xuICAgICAgICBkZWxlZ2F0ZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudE5hbWUgPT09IFwicmVhZHlcIikge1xuICAgICAgICBvblJlYWR5KGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICBvcmlnaW5hbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IGUudGFyZ2V0O1xuICAgICAgICAgIHdoaWxlICghbWF0Y2hlcyh0LCBkZWxlZ2F0ZSkpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSB0aGlzIHx8IHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdCA9IHQucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgb3JpZ2luYWxDYWxsYmFjay5jYWxsKHQsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgZmluYWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAocnVuT25jZSkge1xuICAgICAgICAgIGZpbmFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQodiwgZXZlbnROYW1lLCBmaW5hbENhbGxiYWNrKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyRXZlbnQodiwgZXZlbnROYW1lLCBmaW5hbENhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBvbmU6IGZ1bmN0aW9uIChldmVudE5hbWUsIGRlbGVnYXRlLCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnROYW1lLCBkZWxlZ2F0ZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgIH0sXG5cbiAgICByZWFkeTogb25SZWFkeSxcblxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVkXG4gICAgICogVHJpZ2dlcnMgYnJvd3NlciBldmVudFxuICAgICAqIEBwYXJhbSBTdHJpbmcgZXZlbnROYW1lXG4gICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gQWRkIHByb3BlcnRpZXMgdG8gZXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgdHJpZ2dlcjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICAgICAgICBldnQuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBldnQgPSB0aGlzLmV4dGVuZChldnQsIGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIHYuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZW5jb2RlKG5hbWUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFwiJlwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoLyUyMC9nLCBcIitcIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RNdWx0aXBsZV8oZWwpIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZWFjaChlbC5vcHRpb25zLCBmdW5jdGlvbiAobykge1xuICAgICAgaWYgKG8uc2VsZWN0ZWQpIHtcbiAgICAgICAgdmFsdWVzLnB1c2goby52YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMgOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0U2luZ2xlXyhlbCkge1xuICAgIHZhciBzZWxlY3RlZEluZGV4ID0gZWwuc2VsZWN0ZWRJbmRleDtcbiAgICByZXR1cm4gc2VsZWN0ZWRJbmRleCA+PSAwID8gZWwub3B0aW9uc1tzZWxlY3RlZEluZGV4XS52YWx1ZSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xuICAgIHZhciB0eXBlID0gZWwudHlwZTtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY2FzZSBcInNlbGVjdC1vbmVcIjpcbiAgICAgICAgcmV0dXJuIGdldFNlbGVjdFNpbmdsZV8oZWwpO1xuICAgICAgY2FzZSBcInNlbGVjdC1tdWx0aXBsZVwiOlxuICAgICAgICByZXR1cm4gZ2V0U2VsZWN0TXVsdGlwbGVfKGVsKTtcbiAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICByZXR1cm4gZWwuY2hlY2tlZCA/IGVsLnZhbHVlIDogbnVsbDtcbiAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICByZXR1cm4gZWwuY2hlY2tlZCA/IGVsLnZhbHVlIDogbnVsbDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBlbC52YWx1ZSA/IGVsLnZhbHVlIDogbnVsbDtcbiAgICB9XG4gIH1cblxuICBmbi5leHRlbmQoe1xuICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHF1ZXJ5ID0gXCJcIjtcblxuICAgICAgZWFjaCh0aGlzWzBdLmVsZW1lbnRzIHx8IHRoaXMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBpZiAoZWwuZGlzYWJsZWQgfHwgZWwudGFnTmFtZSA9PT0gXCJGSUVMRFNFVFwiKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gZWwubmFtZTtcbiAgICAgICAgc3dpdGNoIChlbC50eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICAgIGNhc2UgXCJzdWJtaXRcIjpcbiAgICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic2VsZWN0LW11bHRpcGxlXCI6XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gZ2V0VmFsdWUoZWwpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBlYWNoKHZhbHVlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gZW5jb2RlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUoZWwpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5ICs9IGVuY29kZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcXVlcnkuc3Vic3RyKDEpO1xuICAgIH0sXG5cbiAgICB2YWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFZhbHVlKHRoaXNbMF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2LnZhbHVlID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RWxlbWVudChlbCwgY2hpbGQsIHByZXBlbmQpIHtcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgdmFyIGZpcnN0ID0gZWwuY2hpbGROb2Rlc1swXTtcbiAgICAgIGVsLmluc2VydEJlZm9yZShjaGlsZCwgZmlyc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0Q29udGVudChwYXJlbnQsIGNoaWxkLCBwcmVwZW5kKSB7XG4gICAgdmFyIHN0ciA9IGlzU3RyaW5nKGNoaWxkKTtcblxuICAgIGlmICghc3RyICYmIGNoaWxkLmxlbmd0aCkge1xuICAgICAgZWFjaChjaGlsZCwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIGluc2VydENvbnRlbnQocGFyZW50LCB2LCBwcmVwZW5kKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVhY2gocGFyZW50LCBzdHIgPyBmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHYuaW5zZXJ0QWRqYWNlbnRIVE1MKHByZXBlbmQgPyBcImFmdGVyYmVnaW5cIiA6IFwiYmVmb3JlZW5kXCIsIGNoaWxkKTtcbiAgICB9IDogZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIHJldHVybiBpbnNlcnRFbGVtZW50KHYsIGkgPT09IDAgPyBjaGlsZCA6IGNoaWxkLmNsb25lTm9kZSh0cnVlKSwgcHJlcGVuZCk7XG4gICAgfSk7XG4gIH1cblxuICBmbi5leHRlbmQoe1xuICAgIGFmdGVyOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGNhc2goc2VsZWN0b3IpLmluc2VydEFmdGVyKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGFwcGVuZDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgIGluc2VydENvbnRlbnQodGhpcywgY29udGVudCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgYXBwZW5kVG86IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgIGluc2VydENvbnRlbnQoY2FzaChwYXJlbnQpLCB0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBiZWZvcmU6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgY2FzaChzZWxlY3RvcikuaW5zZXJ0QmVmb3JlKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2FzaCh0aGlzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB9KSk7XG4gICAgfSxcblxuICAgIGVtcHR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmh0bWwoXCJcIik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaHRtbDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0uaW5uZXJIVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHNvdXJjZSA9IGNvbnRlbnQubm9kZVR5cGUgPyBjb250ZW50WzBdLm91dGVySFRNTCA6IGNvbnRlbnQ7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2LmlubmVySFRNTCA9IHNvdXJjZTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbnNlcnRBZnRlcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBjYXNoKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZSxcbiAgICAgICAgICAgIHNpYmxpbmcgPSBlbC5uZXh0U2libGluZztcbiAgICAgICAgX3RoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoaSA9PT0gMCA/IHYgOiB2LmNsb25lTm9kZSh0cnVlKSwgc2libGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICBjYXNoKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgX3RoaXMyLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGkgPT09IDAgPyB2IDogdi5jbG9uZU5vZGUodHJ1ZSksIGVsKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwcmVwZW5kOiBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgaW5zZXJ0Q29udGVudCh0aGlzLCBjb250ZW50LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwcmVwZW5kVG86IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgIGluc2VydENvbnRlbnQoY2FzaChwYXJlbnQpLCB0aGlzLCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKCEhdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHRleHQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdLnRleHRDb250ZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdmFyIGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICBmbi5leHRlbmQoe1xuICAgIHBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzWzBdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogZWwub2Zmc2V0TGVmdCxcbiAgICAgICAgdG9wOiBlbC5vZmZzZXRUb3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIG9mZnNldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlY3QgPSB0aGlzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsLmNsaWVudFRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWwuY2xpZW50TGVmdFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2FzaCh0aGlzWzBdLm9mZnNldFBhcmVudCk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZuLmV4dGVuZCh7XG4gICAgY2hpbGRyZW46IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIGVsZW1zID0gW107XG4gICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHB1c2guYXBwbHkoZWxlbXMsIGVsLmNoaWxkcmVuKTtcbiAgICAgIH0pO1xuICAgICAgZWxlbXMgPSB1bmlxdWUoZWxlbXMpO1xuXG4gICAgICByZXR1cm4gIXNlbGVjdG9yID8gZWxlbXMgOiBlbGVtcy5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXModiwgc2VsZWN0b3IpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGNsb3Nlc3Q6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCFzZWxlY3RvciB8fCB0aGlzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGNhc2goKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXIoc2VsZWN0b3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50KCkuY2xvc2VzdChzZWxlY3Rvcik7XG4gICAgfSxcblxuICAgIGlzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWF0Y2ggPSBmYWxzZSxcbiAgICAgICAgICBjb21wYXJhdG9yID0gZ2V0Q29tcGFyZUZ1bmN0aW9uKHNlbGVjdG9yKTtcblxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBtYXRjaCA9IGNvbXBhcmF0b3IoZWwsIHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuICFtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSxcblxuICAgIGZpbmQ6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3Rvci5ub2RlVHlwZSkge1xuICAgICAgICByZXR1cm4gY2FzaChzZWxlY3RvciAmJiB0aGlzLmhhcyhzZWxlY3RvcikubGVuZ3RoID8gc2VsZWN0b3IgOiBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1zID0gW107XG4gICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHB1c2guYXBwbHkoZWxlbXMsIGZpbmQoc2VsZWN0b3IsIGVsKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHVuaXF1ZShlbGVtcyk7XG4gICAgfSxcblxuICAgIGhhczogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGlzU3RyaW5nKHNlbGVjdG9yKSA/IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gZmluZChzZWxlY3RvciwgZWwpLmxlbmd0aCAhPT0gMDtcbiAgICAgIH0gOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNvbnRhaW5zKHNlbGVjdG9yKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihjb21wYXJhdG9yKTtcbiAgICB9LFxuXG4gICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhc2godGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgIH0sXG5cbiAgICBub3Q6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBnZXRDb21wYXJlRnVuY3Rpb24oc2VsZWN0b3IpO1xuXG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiAhY29tcGFyYXRvcihlbCwgc2VsZWN0b3IpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHBhcmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goaXRlbS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1bmlxdWUocmVzdWx0KTtcbiAgICB9LFxuXG4gICAgcGFyZW50czogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICB2YXIgbGFzdCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGxhc3QgPSBpdGVtO1xuXG4gICAgICAgIHdoaWxlIChsYXN0ICYmIGxhc3QucGFyZW50Tm9kZSAmJiBsYXN0ICE9PSBkb2MuYm9keS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgbGFzdCA9IGxhc3QucGFyZW50Tm9kZTtcblxuICAgICAgICAgIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgJiYgbWF0Y2hlcyhsYXN0LCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1bmlxdWUocmVzdWx0KTtcbiAgICB9LFxuXG4gICAgcHJldjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhc2godGhpc1swXS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKTtcbiAgICB9LFxuXG4gICAgc2libGluZ3M6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLnBhcmVudCgpLmNoaWxkcmVuKHNlbGVjdG9yKSxcbiAgICAgICAgICBlbCA9IHRoaXNbMF07XG5cbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSAhPT0gZWw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgcmV0dXJuIGNhc2g7XG59KTtcbjtcbnZhciBDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBHZW5lcmljIGNvbnN0cnVjdG9yIGZvciBhbGwgY29tcG9uZW50c1xuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gQ29tcG9uZW50KGNsYXNzRGVmLCBlbCwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb25lbnQpO1xuXG4gICAgLy8gRGlzcGxheSBlcnJvciBpZiBlbCBpcyB2YWxpZCBIVE1MIEVsZW1lbnRcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKEVycm9yKGVsICsgJyBpcyBub3QgYW4gSFRNTCBFbGVtZW50JykpO1xuICAgIH1cblxuICAgIC8vIElmIGV4aXN0cywgZGVzdHJveSBhbmQgcmVpbml0aWFsaXplIGluIGNoaWxkXG4gICAgdmFyIGlucyA9IGNsYXNzRGVmLmdldEluc3RhbmNlKGVsKTtcbiAgICBpZiAoISFpbnMpIHtcbiAgICAgIGlucy5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuJGVsID0gY2FzaChlbCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50c1xuICAgKiBAcGFyYW0ge2NsYXNzfSBjbGFzc0RlZlxuICAgKiBAcGFyYW0ge0VsZW1lbnQgfCBOb2RlTGlzdCB8IGpRdWVyeX0gZWxzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENvbXBvbmVudCwgbnVsbCwgW3tcbiAgICBrZXk6IFwiaW5pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGNsYXNzRGVmLCBlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbnN0YW5jZXMgPSBudWxsO1xuICAgICAgaWYgKGVscyBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgaW5zdGFuY2VzID0gbmV3IGNsYXNzRGVmKGVscywgb3B0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKCEhZWxzICYmIChlbHMuanF1ZXJ5IHx8IGVscy5jYXNoIHx8IGVscyBpbnN0YW5jZW9mIE5vZGVMaXN0KSkge1xuICAgICAgICB2YXIgaW5zdGFuY2VzQXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaW5zdGFuY2VzQXJyLnB1c2gobmV3IGNsYXNzRGVmKGVsc1tpXSwgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlcyA9IGluc3RhbmNlc0FycjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29tcG9uZW50O1xufSgpO1xuXG47IC8vIFJlcXVpcmVkIGZvciBNZXRlb3IgcGFja2FnZSwgdGhlIHVzZSBvZiB3aW5kb3cgcHJldmVudHMgZXhwb3J0IGJ5IE1ldGVvclxuKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgaWYgKHdpbmRvdy5QYWNrYWdlKSB7XG4gICAgTSA9IHt9O1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5NID0ge307XG4gIH1cblxuICAvLyBDaGVjayBmb3IgalF1ZXJ5XG4gIE0ualF1ZXJ5TG9hZGVkID0gISF3aW5kb3cualF1ZXJ5O1xufSkod2luZG93KTtcblxuLy8gQU1EXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZSgnTScsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE07XG4gIH0pO1xuXG4gIC8vIENvbW1vbiBKU1xufSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWV4cG9ydHMubm9kZVR5cGUpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBNO1xuICB9XG4gIGV4cG9ydHMuZGVmYXVsdCA9IE07XG59XG5cbk0udmVyc2lvbiA9ICcxLjAuMCc7XG5cbk0ua2V5cyA9IHtcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIEVTQzogMjcsXG4gIEFSUk9XX1VQOiAzOCxcbiAgQVJST1dfRE9XTjogNDBcbn07XG5cbi8qKlxuICogVGFiUHJlc3MgS2V5ZG93biBoYW5kbGVyXG4gKi9cbk0udGFiUHJlc3NlZCA9IGZhbHNlO1xuTS5rZXlEb3duID0gZmFsc2U7XG52YXIgZG9jSGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gIE0ua2V5RG93biA9IHRydWU7XG4gIGlmIChlLndoaWNoID09PSBNLmtleXMuVEFCIHx8IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOIHx8IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19VUCkge1xuICAgIE0udGFiUHJlc3NlZCA9IHRydWU7XG4gIH1cbn07XG52YXIgZG9jSGFuZGxlS2V5dXAgPSBmdW5jdGlvbiAoZSkge1xuICBNLmtleURvd24gPSBmYWxzZTtcbiAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIgfHwgZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX1VQKSB7XG4gICAgTS50YWJQcmVzc2VkID0gZmFsc2U7XG4gIH1cbn07XG52YXIgZG9jSGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICBpZiAoTS5rZXlEb3duKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdrZXlib2FyZC1mb2N1c2VkJyk7XG4gIH1cbn07XG52YXIgZG9jSGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgna2V5Ym9hcmQtZm9jdXNlZCcpO1xufTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb2NIYW5kbGVLZXlkb3duLCB0cnVlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZG9jSGFuZGxlS2V5dXAsIHRydWUpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBkb2NIYW5kbGVGb2N1cywgdHJ1ZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZG9jSGFuZGxlQmx1ciwgdHJ1ZSk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBqUXVlcnkgd3JhcHBlciBmb3IgcGx1Z2luXG4gKiBAcGFyYW0ge0NsYXNzfSBwbHVnaW4gIGphdmFzY3JpcHQgY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lICBqUXVlcnkgcGx1Z2luIG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1JlZiAgQ2xhc3MgcmVmZXJlbmNlIG5hbWVcbiAqL1xuTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlciA9IGZ1bmN0aW9uIChwbHVnaW4sIHBsdWdpbk5hbWUsIGNsYXNzUmVmKSB7XG4gIGpRdWVyeS5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uIChtZXRob2RPck9wdGlvbnMpIHtcbiAgICAvLyBDYWxsIHBsdWdpbiBtZXRob2QgaWYgdmFsaWQgbWV0aG9kIG5hbWUgaXMgcGFzc2VkIGluXG4gICAgaWYgKHBsdWdpbi5wcm90b3R5cGVbbWV0aG9kT3JPcHRpb25zXSkge1xuICAgICAgdmFyIHBhcmFtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgIC8vIEdldHRlciBtZXRob2RzXG4gICAgICBpZiAobWV0aG9kT3JPcHRpb25zLnNsaWNlKDAsIDMpID09PSAnZ2V0Jykge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmZpcnN0KClbMF1bY2xhc3NSZWZdO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2VbbWV0aG9kT3JPcHRpb25zXS5hcHBseShpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgLy8gVm9pZCBtZXRob2RzXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpc1tjbGFzc1JlZl07XG4gICAgICAgIGluc3RhbmNlW21ldGhvZE9yT3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBwbHVnaW4gaWYgb3B0aW9ucyBvciBubyBhcmd1bWVudCBpcyBwYXNzZWQgaW5cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2RPck9wdGlvbnMgPT09ICdvYmplY3QnIHx8ICFtZXRob2RPck9wdGlvbnMpIHtcbiAgICAgIHBsdWdpbi5pbml0KHRoaXMsIGFyZ3VtZW50c1swXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gZXJyb3IgaWYgYW4gdW5yZWNvZ25pemVkICBtZXRob2QgbmFtZSBpcyBwYXNzZWQgaW5cbiAgICBqUXVlcnkuZXJyb3IoXCJNZXRob2QgXCIgKyBtZXRob2RPck9wdGlvbnMgKyBcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuXCIgKyBwbHVnaW5OYW1lKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQXV0b21hdGljYWxseSBpbml0aWFsaXplIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dCAgRE9NIEVsZW1lbnQgdG8gc2VhcmNoIHdpdGhpbiBmb3IgY29tcG9uZW50c1xuICovXG5NLkF1dG9Jbml0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgLy8gVXNlIGRvY3VtZW50LmJvZHkgaWYgbm8gY29udGV4dCBpcyBnaXZlblxuICB2YXIgcm9vdCA9ICEhY29udGV4dCA/IGNvbnRleHQgOiBkb2N1bWVudC5ib2R5O1xuXG4gIHZhciByZWdpc3RyeSA9IHtcbiAgICBBdXRvY29tcGxldGU6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmF1dG9jb21wbGV0ZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENhcm91c2VsOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENoaXBzOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGlwczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENvbGxhcHNpYmxlOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsYXBzaWJsZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIERhdGVwaWNrZXI6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmRhdGVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBEcm9wZG93bjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24tdHJpZ2dlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIE1hdGVyaWFsYm94OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbGJveGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgTW9kYWw6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgUGFyYWxsYXg6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgUHVzaHBpbjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcucHVzaHBpbjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFNjcm9sbFNweTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRm9ybVNlbGVjdDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3Q6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBTaWRlbmF2OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaWRlbmF2Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgVGFiczogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRhcFRhcmdldDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFwLXRhcmdldDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRpbWVwaWNrZXI6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRpbWVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBUb29sdGlwOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwcGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRmxvYXRpbmdBY3Rpb25CdXR0b246IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmZpeGVkLWFjdGlvbi1idG46bm90KC5uby1hdXRvaW5pdCknKVxuICB9O1xuXG4gIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gcmVnaXN0cnkpIHtcbiAgICB2YXIgcGx1Z2luID0gTVtwbHVnaW5OYW1lXTtcbiAgICBwbHVnaW4uaW5pdChyZWdpc3RyeVtwbHVnaW5OYW1lXSk7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGUgYXBwcm94aW1hdGVkIHNlbGVjdG9yIHN0cmluZyBmb3IgYSBqUXVlcnkgb2JqZWN0XG4gKiBAcGFyYW0ge2pRdWVyeX0gb2JqICBqUXVlcnkgb2JqZWN0IHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTS5vYmplY3RTZWxlY3RvclN0cmluZyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHRhZ1N0ciA9IG9iai5wcm9wKCd0YWdOYW1lJykgfHwgJyc7XG4gIHZhciBpZFN0ciA9IG9iai5hdHRyKCdpZCcpIHx8ICcnO1xuICB2YXIgY2xhc3NTdHIgPSBvYmouYXR0cignY2xhc3MnKSB8fCAnJztcbiAgcmV0dXJuICh0YWdTdHIgKyBpZFN0ciArIGNsYXNzU3RyKS5yZXBsYWNlKC9cXHMvZywgJycpO1xufTtcblxuLy8gVW5pcXVlIFJhbmRvbSBJRFxuTS5ndWlkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzNCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcbiAgfTtcbn0oKTtcblxuLyoqXG4gKiBFc2NhcGVzIGhhc2ggZnJvbSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoICBTdHJpbmcgcmV0dXJuZWQgZnJvbSB0aGlzLmhhc2hcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk0uZXNjYXBlSGFzaCA9IGZ1bmN0aW9uIChoYXNoKSB7XG4gIHJldHVybiBoYXNoLnJlcGxhY2UoLyg6fFxcLnxcXFt8XFxdfCx8PXxcXC8pL2csICdcXFxcJDEnKTtcbn07XG5cbk0uZWxlbWVudE9yUGFyZW50SXNGaXhlZCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gIHZhciAkY2hlY2tFbGVtZW50cyA9ICRlbGVtZW50LmFkZCgkZWxlbWVudC5wYXJlbnRzKCkpO1xuICB2YXIgaXNGaXhlZCA9IGZhbHNlO1xuICAkY2hlY2tFbGVtZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5jc3MoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICAgIGlzRml4ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpc0ZpeGVkO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFZGdlc1xuICogQHByb3BlcnR5IHtCb29sZWFufSB0b3AgIElmIHRoZSB0b3AgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcmlnaHQgIElmIHRoZSByaWdodCBlZGdlIHdhcyBleGNlZWRlZFxuICogQHByb3BlcnR5IHtCb29sZWFufSBib3R0b20gIElmIHRoZSBib3R0b20gZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbGVmdCAgSWYgdGhlIGxlZnQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJvdW5kaW5nXG4gKiBAcHJvcGVydHkge051bWJlcn0gbGVmdCAgbGVmdCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRvcCAgdG9wIG9mZnNldCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xuXG4vKipcbiAqIEVzY2FwZXMgaGFzaCBmcm9tIHNwZWNpYWwgY2hhcmFjdGVyc1xuICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgIENvbnRhaW5lciBlbGVtZW50IHRoYXQgYWN0cyBhcyB0aGUgYm91bmRhcnlcbiAqIEBwYXJhbSB7Qm91bmRpbmd9IGJvdW5kaW5nICBlbGVtZW50IGJvdW5kaW5nIHRoYXQgaXMgYmVpbmcgY2hlY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCAgb2Zmc2V0IGZyb20gZWRnZSB0aGF0IGNvdW50cyBhcyBleGNlZWRpbmdcbiAqIEByZXR1cm5zIHtFZGdlc31cbiAqL1xuTS5jaGVja1dpdGhpbkNvbnRhaW5lciA9IGZ1bmN0aW9uIChjb250YWluZXIsIGJvdW5kaW5nLCBvZmZzZXQpIHtcbiAgdmFyIGVkZ2VzID0ge1xuICAgIHRvcDogZmFsc2UsXG4gICAgcmlnaHQ6IGZhbHNlLFxuICAgIGJvdHRvbTogZmFsc2UsXG4gICAgbGVmdDogZmFsc2VcbiAgfTtcblxuICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgLy8gSWYgYm9keSBlbGVtZW50IGlzIHNtYWxsZXIgdGhhbiB2aWV3cG9ydCwgdXNlIHZpZXdwb3J0IGhlaWdodCBpbnN0ZWFkLlxuICB2YXIgY29udGFpbmVyQm90dG9tID0gY29udGFpbmVyID09PSBkb2N1bWVudC5ib2R5ID8gTWF0aC5tYXgoY29udGFpbmVyUmVjdC5ib3R0b20sIHdpbmRvdy5pbm5lckhlaWdodCkgOiBjb250YWluZXJSZWN0LmJvdHRvbTtcblxuICB2YXIgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICB2YXIgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICB2YXIgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XG4gIHZhciBzY3JvbGxlZFkgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGVhY2ggZWRnZVxuICBpZiAoc2Nyb2xsZWRYIDwgY29udGFpbmVyUmVjdC5sZWZ0ICsgb2Zmc2V0IHx8IHNjcm9sbGVkWCA8IG9mZnNldCkge1xuICAgIGVkZ2VzLmxlZnQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gY29udGFpbmVyUmVjdC5yaWdodCAtIG9mZnNldCB8fCBzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoIC0gb2Zmc2V0KSB7XG4gICAgZWRnZXMucmlnaHQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNjcm9sbGVkWSA8IGNvbnRhaW5lclJlY3QudG9wICsgb2Zmc2V0IHx8IHNjcm9sbGVkWSA8IG9mZnNldCkge1xuICAgIGVkZ2VzLnRvcCA9IHRydWU7XG4gIH1cblxuICBpZiAoc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gY29udGFpbmVyQm90dG9tIC0gb2Zmc2V0IHx8IHNjcm9sbGVkWSArIGJvdW5kaW5nLmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAtIG9mZnNldCkge1xuICAgIGVkZ2VzLmJvdHRvbSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gZWRnZXM7XG59O1xuXG5NLmNoZWNrUG9zc2libGVBbGlnbm1lbnRzID0gZnVuY3Rpb24gKGVsLCBjb250YWluZXIsIGJvdW5kaW5nLCBvZmZzZXQpIHtcbiAgdmFyIGNhbkFsaWduID0ge1xuICAgIHRvcDogdHJ1ZSxcbiAgICByaWdodDogdHJ1ZSxcbiAgICBib3R0b206IHRydWUsXG4gICAgbGVmdDogdHJ1ZSxcbiAgICBzcGFjZU9uVG9wOiBudWxsLFxuICAgIHNwYWNlT25SaWdodDogbnVsbCxcbiAgICBzcGFjZU9uQm90dG9tOiBudWxsLFxuICAgIHNwYWNlT25MZWZ0OiBudWxsXG4gIH07XG5cbiAgdmFyIGNvbnRhaW5lckFsbG93c092ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLm92ZXJmbG93ID09PSAndmlzaWJsZSc7XG4gIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgY29udGFpbmVySGVpZ2h0ID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC5oZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIHZhciBjb250YWluZXJXaWR0aCA9IE1hdGgubWluKGNvbnRhaW5lclJlY3Qud2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgdmFyIGVsT2Zmc2V0UmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHZhciBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gIHZhciBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gIHZhciBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgdmFyIHNjcm9sbGVkWVRvcEVkZ2UgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG4gIHZhciBzY3JvbGxlZFlCb3R0b21FZGdlID0gYm91bmRpbmcudG9wICsgZWxPZmZzZXRSZWN0LmhlaWdodCAtIHNjcm9sbFRvcDtcblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgbGVmdFxuICBjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBjb250YWluZXJXaWR0aCAtIChzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCkgOiB3aW5kb3cuaW5uZXJXaWR0aCAtIChlbE9mZnNldFJlY3QubGVmdCArIGJvdW5kaW5nLndpZHRoKTtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25SaWdodCA8IDApIHtcbiAgICBjYW5BbGlnbi5sZWZ0ID0gZmFsc2U7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgUmlnaHRcbiAgY2FuQWxpZ24uc3BhY2VPbkxlZnQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBzY3JvbGxlZFggLSBib3VuZGluZy53aWR0aCArIGVsT2Zmc2V0UmVjdC53aWR0aCA6IGVsT2Zmc2V0UmVjdC5yaWdodCAtIGJvdW5kaW5nLndpZHRoO1xuICBpZiAoY2FuQWxpZ24uc3BhY2VPbkxlZnQgPCAwKSB7XG4gICAgY2FuQWxpZ24ucmlnaHQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBUb3BcbiAgY2FuQWxpZ24uc3BhY2VPbkJvdHRvbSA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvdyA/IGNvbnRhaW5lckhlaWdodCAtIChzY3JvbGxlZFlUb3BFZGdlICsgYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KSA6IHdpbmRvdy5pbm5lckhlaWdodCAtIChlbE9mZnNldFJlY3QudG9wICsgYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPCAwKSB7XG4gICAgY2FuQWxpZ24udG9wID0gZmFsc2U7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgQm90dG9tXG4gIGNhbkFsaWduLnNwYWNlT25Ub3AgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBzY3JvbGxlZFlCb3R0b21FZGdlIC0gKGJvdW5kaW5nLmhlaWdodCAtIG9mZnNldCkgOiBlbE9mZnNldFJlY3QuYm90dG9tIC0gKGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCk7XG4gIGlmIChjYW5BbGlnbi5zcGFjZU9uVG9wIDwgMCkge1xuICAgIGNhbkFsaWduLmJvdHRvbSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGNhbkFsaWduO1xufTtcblxuTS5nZXRPdmVyZmxvd1BhcmVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIE0uZ2V0T3ZlcmZsb3dQYXJlbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbn07XG5cbi8qKlxuICogR2V0cyBpZCBvZiBjb21wb25lbnQgZnJvbSBhIHRyaWdnZXJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdHJpZ2dlciAgdHJpZ2dlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTS5nZXRJZEZyb21UcmlnZ2VyID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgdmFyIGlkID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XG4gIGlmICghaWQpIHtcbiAgICBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgaWYgKGlkKSB7XG4gICAgICBpZCA9IGlkLnNsaWNlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCA9ICcnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaWQ7XG59O1xuXG4vKipcbiAqIE11bHRpIGJyb3dzZXIgc3VwcG9ydCBmb3IgZG9jdW1lbnQgc2Nyb2xsIHRvcFxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuTS5nZXREb2N1bWVudFNjcm9sbFRvcCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDA7XG59O1xuXG4vKipcbiAqIE11bHRpIGJyb3dzZXIgc3VwcG9ydCBmb3IgZG9jdW1lbnQgc2Nyb2xsIGxlZnRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbk0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFZGdlc1xuICogQHByb3BlcnR5IHtCb29sZWFufSB0b3AgIElmIHRoZSB0b3AgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcmlnaHQgIElmIHRoZSByaWdodCBlZGdlIHdhcyBleGNlZWRlZFxuICogQHByb3BlcnR5IHtCb29sZWFufSBib3R0b20gIElmIHRoZSBib3R0b20gZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbGVmdCAgSWYgdGhlIGxlZnQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJvdW5kaW5nXG4gKiBAcHJvcGVydHkge051bWJlcn0gbGVmdCAgbGVmdCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRvcCAgdG9wIG9mZnNldCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xuXG4vKipcbiAqIEdldCB0aW1lIGluIG1zXG4gKiBAbGljZW5zZSBodHRwczovL3Jhdy5naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL21hc3Rlci9MSUNFTlNFXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbnZhciBnZXRUaW1lID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICogZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gKiBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gKiBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICogYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gKiBAbGljZW5zZSBodHRwczovL3Jhdy5naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL21hc3Rlci9MSUNFTlNFXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jXG4gKiBAcGFyYW0ge251bWJlcn0gd2FpdFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbk0udGhyb3R0bGUgPSBmdW5jdGlvbiAoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgY29udGV4dCA9IHZvaWQgMCxcbiAgICAgIGFyZ3MgPSB2b2lkIDAsXG4gICAgICByZXN1bHQgPSB2b2lkIDA7XG4gIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgdmFyIHByZXZpb3VzID0gMDtcbiAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgdmFyIGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBnZXRUaW1lKCk7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5vdyA9IGdldFRpbWUoKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICBjb250ZXh0ID0gdGhpcztcbiAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuOyAvKlxuICB2Mi4yLjBcbiAgMjAxNyBKdWxpYW4gR2FybmllclxuICBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAgKi9cbnZhciAkanNjb21wID0geyBzY29wZToge30gfTskanNjb21wLmRlZmluZVByb3BlcnR5ID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIChlLCByLCBwKSB7XG4gIGlmIChwLmdldCB8fCBwLnNldCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVTMyBkb2VzIG5vdCBzdXBwb3J0IGdldHRlcnMgYW5kIHNldHRlcnMuXCIpO2UgIT0gQXJyYXkucHJvdG90eXBlICYmIGUgIT0gT2JqZWN0LnByb3RvdHlwZSAmJiAoZVtyXSA9IHAudmFsdWUpO1xufTskanNjb21wLmdldEdsb2JhbCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93ID09PSBlID8gZSA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdsb2JhbCAmJiBudWxsICE9IGdsb2JhbCA/IGdsb2JhbCA6IGU7XG59OyRqc2NvbXAuZ2xvYmFsID0gJGpzY29tcC5nZXRHbG9iYWwodGhpcyk7JGpzY29tcC5TWU1CT0xfUFJFRklYID0gXCJqc2NvbXBfc3ltYm9sX1wiO1xuJGpzY29tcC5pbml0U3ltYm9sID0gZnVuY3Rpb24gKCkge1xuICAkanNjb21wLmluaXRTeW1ib2wgPSBmdW5jdGlvbiAoKSB7fTskanNjb21wLmdsb2JhbC5TeW1ib2wgfHwgKCRqc2NvbXAuZ2xvYmFsLlN5bWJvbCA9ICRqc2NvbXAuU3ltYm9sKTtcbn07JGpzY29tcC5zeW1ib2xDb3VudGVyXyA9IDA7JGpzY29tcC5TeW1ib2wgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gJGpzY29tcC5TWU1CT0xfUFJFRklYICsgKGUgfHwgXCJcIikgKyAkanNjb21wLnN5bWJvbENvdW50ZXJfKys7XG59O1xuJGpzY29tcC5pbml0U3ltYm9sSXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICRqc2NvbXAuaW5pdFN5bWJvbCgpO3ZhciBlID0gJGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yO2UgfHwgKGUgPSAkanNjb21wLmdsb2JhbC5TeW1ib2wuaXRlcmF0b3IgPSAkanNjb21wLmdsb2JhbC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiICE9IHR5cGVvZiBBcnJheS5wcm90b3R5cGVbZV0gJiYgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsIGUsIHsgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRqc2NvbXAuYXJyYXlJdGVyYXRvcih0aGlzKTtcbiAgICB9IH0pOyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge307XG59OyRqc2NvbXAuYXJyYXlJdGVyYXRvciA9IGZ1bmN0aW9uIChlKSB7XG4gIHZhciByID0gMDtyZXR1cm4gJGpzY29tcC5pdGVyYXRvclByb3RvdHlwZShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHIgPCBlLmxlbmd0aCA/IHsgZG9uZTogITEsIHZhbHVlOiBlW3IrK10gfSA6IHsgZG9uZTogITAgfTtcbiAgfSk7XG59O1xuJGpzY29tcC5pdGVyYXRvclByb3RvdHlwZSA9IGZ1bmN0aW9uIChlKSB7XG4gICRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7ZSA9IHsgbmV4dDogZSB9O2VbJGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtyZXR1cm4gZTtcbn07JGpzY29tcC5hcnJheSA9ICRqc2NvbXAuYXJyYXkgfHwge307JGpzY29tcC5pdGVyYXRvckZyb21BcnJheSA9IGZ1bmN0aW9uIChlLCByKSB7XG4gICRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7ZSBpbnN0YW5jZW9mIFN0cmluZyAmJiAoZSArPSBcIlwiKTt2YXIgcCA9IDAsXG4gICAgICBtID0geyBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocCA8IGUubGVuZ3RoKSB7XG4gICAgICAgIHZhciB1ID0gcCsrO3JldHVybiB7IHZhbHVlOiByKHUsIGVbdV0pLCBkb25lOiAhMSB9O1xuICAgICAgfW0ubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogITAsIHZhbHVlOiB2b2lkIDAgfTtcbiAgICAgIH07cmV0dXJuIG0ubmV4dCgpO1xuICAgIH0gfTttW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG07XG4gIH07cmV0dXJuIG07XG59O1xuJGpzY29tcC5wb2x5ZmlsbCA9IGZ1bmN0aW9uIChlLCByLCBwLCBtKSB7XG4gIGlmIChyKSB7XG4gICAgcCA9ICRqc2NvbXAuZ2xvYmFsO2UgPSBlLnNwbGl0KFwiLlwiKTtmb3IgKG0gPSAwOyBtIDwgZS5sZW5ndGggLSAxOyBtKyspIHtcbiAgICAgIHZhciB1ID0gZVttXTt1IGluIHAgfHwgKHBbdV0gPSB7fSk7cCA9IHBbdV07XG4gICAgfWUgPSBlW2UubGVuZ3RoIC0gMV07bSA9IHBbZV07ciA9IHIobSk7ciAhPSBtICYmIG51bGwgIT0gciAmJiAkanNjb21wLmRlZmluZVByb3BlcnR5KHAsIGUsIHsgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogciB9KTtcbiAgfVxufTskanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmtleXNcIiwgZnVuY3Rpb24gKGUpIHtcbiAgcmV0dXJuIGUgPyBlIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgfTtcbn0sIFwiZXM2LWltcGxcIiwgXCJlczNcIik7dmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4oZnVuY3Rpb24gKHIpIHtcbiAgTS5hbmltZSA9IHIoKTtcbn0pKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZShhKSB7XG4gICAgaWYgKCFoLmNvbChhKSkgdHJ5IHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEpO1xuICAgIH0gY2F0Y2ggKGMpIHt9XG4gIH1mdW5jdGlvbiByKGEsIGMpIHtcbiAgICBmb3IgKHZhciBkID0gYS5sZW5ndGgsIGIgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBhcmd1bWVudHNbMV0gOiB2b2lkIDAsIGYgPSBbXSwgbiA9IDA7IG4gPCBkOyBuKyspIHtcbiAgICAgIGlmIChuIGluIGEpIHtcbiAgICAgICAgdmFyIGsgPSBhW25dO2MuY2FsbChiLCBrLCBuLCBhKSAmJiBmLnB1c2goayk7XG4gICAgICB9XG4gICAgfXJldHVybiBmO1xuICB9ZnVuY3Rpb24gcChhKSB7XG4gICAgcmV0dXJuIGEucmVkdWNlKGZ1bmN0aW9uIChhLCBkKSB7XG4gICAgICByZXR1cm4gYS5jb25jYXQoaC5hcnIoZCkgPyBwKGQpIDogZCk7XG4gICAgfSwgW10pO1xuICB9ZnVuY3Rpb24gbShhKSB7XG4gICAgaWYgKGguYXJyKGEpKSByZXR1cm4gYTtcbiAgICBoLnN0cihhKSAmJiAoYSA9IGUoYSkgfHwgYSk7cmV0dXJuIGEgaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBhIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24gPyBbXS5zbGljZS5jYWxsKGEpIDogW2FdO1xuICB9ZnVuY3Rpb24gdShhLCBjKSB7XG4gICAgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGEgPT09IGM7XG4gICAgfSk7XG4gIH1mdW5jdGlvbiBDKGEpIHtcbiAgICB2YXIgYyA9IHt9LFxuICAgICAgICBkO2ZvciAoZCBpbiBhKSB7XG4gICAgICBjW2RdID0gYVtkXTtcbiAgICB9cmV0dXJuIGM7XG4gIH1mdW5jdGlvbiBEKGEsIGMpIHtcbiAgICB2YXIgZCA9IEMoYSksXG4gICAgICAgIGI7Zm9yIChiIGluIGEpIHtcbiAgICAgIGRbYl0gPSBjLmhhc093blByb3BlcnR5KGIpID8gY1tiXSA6IGFbYl07XG4gICAgfXJldHVybiBkO1xuICB9ZnVuY3Rpb24geihhLCBjKSB7XG4gICAgdmFyIGQgPSBDKGEpLFxuICAgICAgICBiO2ZvciAoYiBpbiBjKSB7XG4gICAgICBkW2JdID0gaC51bmQoYVtiXSkgPyBjW2JdIDogYVtiXTtcbiAgICB9cmV0dXJuIGQ7XG4gIH1mdW5jdGlvbiBUKGEpIHtcbiAgICBhID0gYS5yZXBsYWNlKC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksIGZ1bmN0aW9uIChhLCBjLCBkLCBrKSB7XG4gICAgICByZXR1cm4gYyArIGMgKyBkICsgZCArIGsgKyBrO1xuICAgIH0pO3ZhciBjID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGEpO1xuICAgIGEgPSBwYXJzZUludChjWzFdLCAxNik7dmFyIGQgPSBwYXJzZUludChjWzJdLCAxNiksXG4gICAgICAgIGMgPSBwYXJzZUludChjWzNdLCAxNik7cmV0dXJuIFwicmdiYShcIiArIGEgKyBcIixcIiArIGQgKyBcIixcIiArIGMgKyBcIiwxKVwiO1xuICB9ZnVuY3Rpb24gVShhKSB7XG4gICAgZnVuY3Rpb24gYyhhLCBjLCBiKSB7XG4gICAgICAwID4gYiAmJiAoYiArPSAxKTsxIDwgYiAmJiAtLWI7cmV0dXJuIGIgPCAxIC8gNiA/IGEgKyA2ICogKGMgLSBhKSAqIGIgOiAuNSA+IGIgPyBjIDogYiA8IDIgLyAzID8gYSArIChjIC0gYSkgKiAoMiAvIDMgLSBiKSAqIDYgOiBhO1xuICAgIH12YXIgZCA9IC9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGEpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGEpO2EgPSBwYXJzZUludChkWzFdKSAvIDM2MDt2YXIgYiA9IHBhcnNlSW50KGRbMl0pIC8gMTAwLFxuICAgICAgICBmID0gcGFyc2VJbnQoZFszXSkgLyAxMDAsXG4gICAgICAgIGQgPSBkWzRdIHx8IDE7aWYgKDAgPT0gYikgZiA9IGIgPSBhID0gZjtlbHNlIHtcbiAgICAgIHZhciBuID0gLjUgPiBmID8gZiAqICgxICsgYikgOiBmICsgYiAtIGYgKiBiLFxuICAgICAgICAgIGsgPSAyICogZiAtIG4sXG4gICAgICAgICAgZiA9IGMoaywgbiwgYSArIDEgLyAzKSxcbiAgICAgICAgICBiID0gYyhrLCBuLCBhKTthID0gYyhrLCBuLCBhIC0gMSAvIDMpO1xuICAgIH1yZXR1cm4gXCJyZ2JhKFwiICsgMjU1ICogZiArIFwiLFwiICsgMjU1ICogYiArIFwiLFwiICsgMjU1ICogYSArIFwiLFwiICsgZCArIFwiKVwiO1xuICB9ZnVuY3Rpb24geShhKSB7XG4gICAgaWYgKGEgPSAvKFtcXCtcXC1dP1swLTkjXFwuXSspKCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWMoYSkpIHJldHVybiBhWzJdO1xuICB9ZnVuY3Rpb24gVihhKSB7XG4gICAgaWYgKC0xIDwgYS5pbmRleE9mKFwidHJhbnNsYXRlXCIpIHx8IFwicGVyc3BlY3RpdmVcIiA9PT0gYSkgcmV0dXJuIFwicHhcIjtpZiAoLTEgPCBhLmluZGV4T2YoXCJyb3RhdGVcIikgfHwgLTEgPCBhLmluZGV4T2YoXCJza2V3XCIpKSByZXR1cm4gXCJkZWdcIjtcbiAgfWZ1bmN0aW9uIEkoYSwgYykge1xuICAgIHJldHVybiBoLmZuYyhhKSA/IGEoYy50YXJnZXQsIGMuaWQsIGMudG90YWwpIDogYTtcbiAgfWZ1bmN0aW9uIEUoYSwgYykge1xuICAgIGlmIChjIGluIGEuc3R5bGUpIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGEpLmdldFByb3BlcnR5VmFsdWUoYy5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCkpIHx8IFwiMFwiO1xuICB9ZnVuY3Rpb24gSihhLCBjKSB7XG4gICAgaWYgKGguZG9tKGEpICYmIHUoVywgYykpIHJldHVybiBcInRyYW5zZm9ybVwiO2lmIChoLmRvbShhKSAmJiAoYS5nZXRBdHRyaWJ1dGUoYykgfHwgaC5zdmcoYSkgJiYgYVtjXSkpIHJldHVybiBcImF0dHJpYnV0ZVwiO2lmIChoLmRvbShhKSAmJiBcInRyYW5zZm9ybVwiICE9PSBjICYmIEUoYSwgYykpIHJldHVybiBcImNzc1wiO2lmIChudWxsICE9IGFbY10pIHJldHVybiBcIm9iamVjdFwiO1xuICB9ZnVuY3Rpb24gWChhLCBjKSB7XG4gICAgdmFyIGQgPSBWKGMpLFxuICAgICAgICBkID0gLTEgPCBjLmluZGV4T2YoXCJzY2FsZVwiKSA/IDEgOiAwICsgZDthID0gYS5zdHlsZS50cmFuc2Zvcm07aWYgKCFhKSByZXR1cm4gZDtmb3IgKHZhciBiID0gW10sIGYgPSBbXSwgbiA9IFtdLCBrID0gLyhcXHcrKVxcKCguKz8pXFwpL2c7IGIgPSBrLmV4ZWMoYSk7KSB7XG4gICAgICBmLnB1c2goYlsxXSksIG4ucHVzaChiWzJdKTtcbiAgICB9YSA9IHIobiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmW2JdID09PSBjO1xuICAgIH0pO3JldHVybiBhLmxlbmd0aCA/IGFbMF0gOiBkO1xuICB9ZnVuY3Rpb24gSyhhLCBjKSB7XG4gICAgc3dpdGNoIChKKGEsIGMpKSB7Y2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICByZXR1cm4gWChhLCBjKTtjYXNlIFwiY3NzXCI6XG4gICAgICAgIHJldHVybiBFKGEsIGMpO2Nhc2UgXCJhdHRyaWJ1dGVcIjpcbiAgICAgICAgcmV0dXJuIGEuZ2V0QXR0cmlidXRlKGMpO31yZXR1cm4gYVtjXSB8fCAwO1xuICB9ZnVuY3Rpb24gTChhLCBjKSB7XG4gICAgdmFyIGQgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKGEpO2lmICghZCkgcmV0dXJuIGE7dmFyIGIgPSB5KGEpIHx8IDA7YyA9IHBhcnNlRmxvYXQoYyk7YSA9IHBhcnNlRmxvYXQoYS5yZXBsYWNlKGRbMF0sIFwiXCIpKTtzd2l0Y2ggKGRbMF1bMF0pIHtjYXNlIFwiK1wiOlxuICAgICAgICByZXR1cm4gYyArIGEgKyBiO2Nhc2UgXCItXCI6XG4gICAgICAgIHJldHVybiBjIC0gYSArIGI7Y2FzZSBcIipcIjpcbiAgICAgICAgcmV0dXJuIGMgKiBhICsgYjt9XG4gIH1mdW5jdGlvbiBGKGEsIGMpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGMueCAtIGEueCwgMikgKyBNYXRoLnBvdyhjLnkgLSBhLnksIDIpKTtcbiAgfWZ1bmN0aW9uIE0oYSkge1xuICAgIGEgPSBhLnBvaW50cztmb3IgKHZhciBjID0gMCwgZCwgYiA9IDA7IGIgPCBhLm51bWJlck9mSXRlbXM7IGIrKykge1xuICAgICAgdmFyIGYgPSBhLmdldEl0ZW0oYik7MCA8IGIgJiYgKGMgKz0gRihkLCBmKSk7ZCA9IGY7XG4gICAgfXJldHVybiBjO1xuICB9ZnVuY3Rpb24gTihhKSB7XG4gICAgaWYgKGEuZ2V0VG90YWxMZW5ndGgpIHJldHVybiBhLmdldFRvdGFsTGVuZ3RoKCk7c3dpdGNoIChhLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge2Nhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJICogYS5nZXRBdHRyaWJ1dGUoXCJyXCIpO2Nhc2UgXCJyZWN0XCI6XG4gICAgICAgIHJldHVybiAyICogYS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSArIDIgKiBhLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtjYXNlIFwibGluZVwiOlxuICAgICAgICByZXR1cm4gRih7IHg6IGEuZ2V0QXR0cmlidXRlKFwieDFcIiksIHk6IGEuZ2V0QXR0cmlidXRlKFwieTFcIikgfSwgeyB4OiBhLmdldEF0dHJpYnV0ZShcIngyXCIpLCB5OiBhLmdldEF0dHJpYnV0ZShcInkyXCIpIH0pO2Nhc2UgXCJwb2x5bGluZVwiOlxuICAgICAgICByZXR1cm4gTShhKTtjYXNlIFwicG9seWdvblwiOlxuICAgICAgICB2YXIgYyA9IGEucG9pbnRzO3JldHVybiBNKGEpICsgRihjLmdldEl0ZW0oYy5udW1iZXJPZkl0ZW1zIC0gMSksIGMuZ2V0SXRlbSgwKSk7fVxuICB9ZnVuY3Rpb24gWShhLCBjKSB7XG4gICAgZnVuY3Rpb24gZChiKSB7XG4gICAgICBiID0gdm9pZCAwID09PSBiID8gMCA6IGI7cmV0dXJuIGEuZWwuZ2V0UG9pbnRBdExlbmd0aCgxIDw9IGMgKyBiID8gYyArIGIgOiAwKTtcbiAgICB9dmFyIGIgPSBkKCksXG4gICAgICAgIGYgPSBkKC0xKSxcbiAgICAgICAgbiA9IGQoMSk7c3dpdGNoIChhLnByb3BlcnR5KSB7Y2FzZSBcInhcIjpcbiAgICAgICAgcmV0dXJuIGIueDtjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4gYi55O1xuICAgICAgY2FzZSBcImFuZ2xlXCI6XG4gICAgICAgIHJldHVybiAxODAgKiBNYXRoLmF0YW4yKG4ueSAtIGYueSwgbi54IC0gZi54KSAvIE1hdGguUEk7fVxuICB9ZnVuY3Rpb24gTyhhLCBjKSB7XG4gICAgdmFyIGQgPSAvLT9cXGQqXFwuP1xcZCsvZyxcbiAgICAgICAgYjtiID0gaC5wdGgoYSkgPyBhLnRvdGFsTGVuZ3RoIDogYTtpZiAoaC5jb2woYikpIHtcbiAgICAgIGlmIChoLnJnYihiKSkge1xuICAgICAgICB2YXIgZiA9IC9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhiKTtiID0gZiA/IFwicmdiYShcIiArIGZbMV0gKyBcIiwxKVwiIDogYjtcbiAgICAgIH0gZWxzZSBiID0gaC5oZXgoYikgPyBUKGIpIDogaC5oc2woYikgPyBVKGIpIDogdm9pZCAwO1xuICAgIH0gZWxzZSBmID0gKGYgPSB5KGIpKSA/IGIuc3Vic3RyKDAsIGIubGVuZ3RoIC0gZi5sZW5ndGgpIDogYiwgYiA9IGMgJiYgIS9cXHMvZy50ZXN0KGIpID8gZiArIGMgOiBmO2IgKz0gXCJcIjtyZXR1cm4geyBvcmlnaW5hbDogYiwgbnVtYmVyczogYi5tYXRjaChkKSA/IGIubWF0Y2goZCkubWFwKE51bWJlcikgOiBbMF0sIHN0cmluZ3M6IGguc3RyKGEpIHx8IGMgPyBiLnNwbGl0KGQpIDogW10gfTtcbiAgfWZ1bmN0aW9uIFAoYSkge1xuICAgIGEgPSBhID8gcChoLmFycihhKSA/IGEubWFwKG0pIDogbShhKSkgOiBbXTtyZXR1cm4gcihhLCBmdW5jdGlvbiAoYSwgZCwgYikge1xuICAgICAgcmV0dXJuIGIuaW5kZXhPZihhKSA9PT0gZDtcbiAgICB9KTtcbiAgfWZ1bmN0aW9uIFooYSkge1xuICAgIHZhciBjID0gUChhKTtyZXR1cm4gYy5tYXAoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiB7IHRhcmdldDogYSwgaWQ6IGIsIHRvdGFsOiBjLmxlbmd0aCB9O1xuICAgIH0pO1xuICB9ZnVuY3Rpb24gYWEoYSwgYykge1xuICAgIHZhciBkID0gQyhjKTtpZiAoaC5hcnIoYSkpIHtcbiAgICAgIHZhciBiID0gYS5sZW5ndGg7MiAhPT0gYiB8fCBoLm9iaihhWzBdKSA/IGguZm5jKGMuZHVyYXRpb24pIHx8IChkLmR1cmF0aW9uID0gYy5kdXJhdGlvbiAvIGIpIDogYSA9IHsgdmFsdWU6IGEgfTtcbiAgICB9cmV0dXJuIG0oYSkubWFwKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBiID0gYiA/IDAgOiBjLmRlbGF5O2EgPSBoLm9iaihhKSAmJiAhaC5wdGgoYSkgPyBhIDogeyB2YWx1ZTogYSB9O2gudW5kKGEuZGVsYXkpICYmIChhLmRlbGF5ID0gYik7cmV0dXJuIGE7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4geihhLCBkKTtcbiAgICB9KTtcbiAgfWZ1bmN0aW9uIGJhKGEsIGMpIHtcbiAgICB2YXIgZCA9IHt9LFxuICAgICAgICBiO2ZvciAoYiBpbiBhKSB7XG4gICAgICB2YXIgZiA9IEkoYVtiXSwgYyk7aC5hcnIoZikgJiYgKGYgPSBmLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4gSShhLCBjKTtcbiAgICAgIH0pLCAxID09PSBmLmxlbmd0aCAmJiAoZiA9IGZbMF0pKTtkW2JdID0gZjtcbiAgICB9ZC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQoZC5kdXJhdGlvbik7ZC5kZWxheSA9IHBhcnNlRmxvYXQoZC5kZWxheSk7cmV0dXJuIGQ7XG4gIH1mdW5jdGlvbiBjYShhKSB7XG4gICAgcmV0dXJuIGguYXJyKGEpID8gQS5hcHBseSh0aGlzLCBhKSA6IFFbYV07XG4gIH1mdW5jdGlvbiBkYShhLCBjKSB7XG4gICAgdmFyIGQ7cmV0dXJuIGEudHdlZW5zLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgYiA9IGJhKGIsIGMpO3ZhciBmID0gYi52YWx1ZSxcbiAgICAgICAgICBlID0gSyhjLnRhcmdldCwgYS5uYW1lKSxcbiAgICAgICAgICBrID0gZCA/IGQudG8ub3JpZ2luYWwgOiBlLFxuICAgICAgICAgIGsgPSBoLmFycihmKSA/IGZbMF0gOiBrLFxuICAgICAgICAgIHcgPSBMKGguYXJyKGYpID8gZlsxXSA6IGYsIGspLFxuICAgICAgICAgIGUgPSB5KHcpIHx8IHkoaykgfHwgeShlKTtiLmZyb20gPSBPKGssIGUpO2IudG8gPSBPKHcsIGUpO2Iuc3RhcnQgPSBkID8gZC5lbmQgOiBhLm9mZnNldDtiLmVuZCA9IGIuc3RhcnQgKyBiLmRlbGF5ICsgYi5kdXJhdGlvbjtiLmVhc2luZyA9IGNhKGIuZWFzaW5nKTtiLmVsYXN0aWNpdHkgPSAoMUUzIC0gTWF0aC5taW4oTWF0aC5tYXgoYi5lbGFzdGljaXR5LCAxKSwgOTk5KSkgLyAxRTM7Yi5pc1BhdGggPSBoLnB0aChmKTtiLmlzQ29sb3IgPSBoLmNvbChiLmZyb20ub3JpZ2luYWwpO2IuaXNDb2xvciAmJiAoYi5yb3VuZCA9IDEpO3JldHVybiBkID0gYjtcbiAgICB9KTtcbiAgfWZ1bmN0aW9uIGVhKGEsIGMpIHtcbiAgICByZXR1cm4gcihwKGEubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gYy5tYXAoZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgdmFyIGMgPSBKKGEudGFyZ2V0LCBiLm5hbWUpO2lmIChjKSB7XG4gICAgICAgICAgdmFyIGQgPSBkYShiLCBhKTtiID0geyB0eXBlOiBjLCBwcm9wZXJ0eTogYi5uYW1lLCBhbmltYXRhYmxlOiBhLCB0d2VlbnM6IGQsIGR1cmF0aW9uOiBkW2QubGVuZ3RoIC0gMV0uZW5kLCBkZWxheTogZFswXS5kZWxheSB9O1xuICAgICAgICB9IGVsc2UgYiA9IHZvaWQgMDtyZXR1cm4gYjtcbiAgICAgIH0pO1xuICAgIH0pKSwgZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiAhaC51bmQoYSk7XG4gICAgfSk7XG4gIH1mdW5jdGlvbiBSKGEsIGMsIGQsIGIpIHtcbiAgICB2YXIgZiA9IFwiZGVsYXlcIiA9PT0gYTtyZXR1cm4gYy5sZW5ndGggPyAoZiA/IE1hdGgubWluIDogTWF0aC5tYXgpLmFwcGx5KE1hdGgsIGMubWFwKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYlthXTtcbiAgICB9KSkgOiBmID8gYi5kZWxheSA6IGQub2Zmc2V0ICsgYi5kZWxheSArIGIuZHVyYXRpb247XG4gIH1mdW5jdGlvbiBmYShhKSB7XG4gICAgdmFyIGMgPSBEKGdhLCBhKSxcbiAgICAgICAgZCA9IEQoUywgYSksXG4gICAgICAgIGIgPSBaKGEudGFyZ2V0cyksXG4gICAgICAgIGYgPSBbXSxcbiAgICAgICAgZSA9IHooYywgZCksXG4gICAgICAgIGs7Zm9yIChrIGluIGEpIHtcbiAgICAgIGUuaGFzT3duUHJvcGVydHkoaykgfHwgXCJ0YXJnZXRzXCIgPT09IGsgfHwgZi5wdXNoKHsgbmFtZTogaywgb2Zmc2V0OiBlLm9mZnNldCwgdHdlZW5zOiBhYShhW2tdLCBkKSB9KTtcbiAgICB9YSA9IGVhKGIsIGYpO3JldHVybiB6KGMsIHsgY2hpbGRyZW46IFtdLCBhbmltYXRhYmxlczogYiwgYW5pbWF0aW9uczogYSwgZHVyYXRpb246IFIoXCJkdXJhdGlvblwiLCBhLCBjLCBkKSwgZGVsYXk6IFIoXCJkZWxheVwiLCBhLCBjLCBkKSB9KTtcbiAgfWZ1bmN0aW9uIHEoYSkge1xuICAgIGZ1bmN0aW9uIGMoKSB7XG4gICAgICByZXR1cm4gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIHAgPSBhO1xuICAgICAgfSk7XG4gICAgfWZ1bmN0aW9uIGQoYSkge1xuICAgICAgcmV0dXJuIGcucmV2ZXJzZWQgPyBnLmR1cmF0aW9uIC0gYSA6IGE7XG4gICAgfWZ1bmN0aW9uIGIoYSkge1xuICAgICAgZm9yICh2YXIgYiA9IDAsIGMgPSB7fSwgZCA9IGcuYW5pbWF0aW9ucywgZiA9IGQubGVuZ3RoOyBiIDwgZjspIHtcbiAgICAgICAgdmFyIGUgPSBkW2JdLFxuICAgICAgICAgICAgayA9IGUuYW5pbWF0YWJsZSxcbiAgICAgICAgICAgIGggPSBlLnR3ZWVucyxcbiAgICAgICAgICAgIG4gPSBoLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICBsID0gaFtuXTtuICYmIChsID0gcihoLCBmdW5jdGlvbiAoYikge1xuICAgICAgICAgIHJldHVybiBhIDwgYi5lbmQ7XG4gICAgICAgIH0pWzBdIHx8IGwpO2ZvciAodmFyIGggPSBNYXRoLm1pbihNYXRoLm1heChhIC0gbC5zdGFydCAtIGwuZGVsYXksIDApLCBsLmR1cmF0aW9uKSAvIGwuZHVyYXRpb24sIHcgPSBpc05hTihoKSA/IDEgOiBsLmVhc2luZyhoLCBsLmVsYXN0aWNpdHkpLCBoID0gbC50by5zdHJpbmdzLCBwID0gbC5yb3VuZCwgbiA9IFtdLCBtID0gdm9pZCAwLCBtID0gbC50by5udW1iZXJzLmxlbmd0aCwgdCA9IDA7IHQgPCBtOyB0KyspIHtcbiAgICAgICAgICB2YXIgeCA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgeCA9IGwudG8ubnVtYmVyc1t0XSxcbiAgICAgICAgICAgICAgcSA9IGwuZnJvbS5udW1iZXJzW3RdLFxuICAgICAgICAgICAgICB4ID0gbC5pc1BhdGggPyBZKGwudmFsdWUsIHcgKiB4KSA6IHEgKyB3ICogKHggLSBxKTtwICYmIChsLmlzQ29sb3IgJiYgMiA8IHQgfHwgKHggPSBNYXRoLnJvdW5kKHggKiBwKSAvIHApKTtuLnB1c2goeCk7XG4gICAgICAgIH1pZiAobCA9IGgubGVuZ3RoKSBmb3IgKG0gPSBoWzBdLCB3ID0gMDsgdyA8IGw7IHcrKykge1xuICAgICAgICAgIHAgPSBoW3cgKyAxXSwgdCA9IG5bd10sIGlzTmFOKHQpIHx8IChtID0gcCA/IG0gKyAodCArIHApIDogbSArICh0ICsgXCIgXCIpKTtcbiAgICAgICAgfSBlbHNlIG0gPSBuWzBdO2hhW2UudHlwZV0oay50YXJnZXQsIGUucHJvcGVydHksIG0sIGMsIGsuaWQpO2UuY3VycmVudFZhbHVlID0gbTtiKys7XG4gICAgICB9aWYgKGIgPSBPYmplY3Qua2V5cyhjKS5sZW5ndGgpIGZvciAoZCA9IDA7IGQgPCBiOyBkKyspIHtcbiAgICAgICAgSCB8fCAoSCA9IEUoZG9jdW1lbnQuYm9keSwgXCJ0cmFuc2Zvcm1cIikgPyBcInRyYW5zZm9ybVwiIDogXCItd2Via2l0LXRyYW5zZm9ybVwiKSwgZy5hbmltYXRhYmxlc1tkXS50YXJnZXQuc3R5bGVbSF0gPSBjW2RdLmpvaW4oXCIgXCIpO1xuICAgICAgfWcuY3VycmVudFRpbWUgPSBhO2cucHJvZ3Jlc3MgPSBhIC8gZy5kdXJhdGlvbiAqIDEwMDtcbiAgICB9ZnVuY3Rpb24gZihhKSB7XG4gICAgICBpZiAoZ1thXSkgZ1thXShnKTtcbiAgICB9ZnVuY3Rpb24gZSgpIHtcbiAgICAgIGcucmVtYWluaW5nICYmICEwICE9PSBnLnJlbWFpbmluZyAmJiBnLnJlbWFpbmluZy0tO1xuICAgIH1mdW5jdGlvbiBrKGEpIHtcbiAgICAgIHZhciBrID0gZy5kdXJhdGlvbixcbiAgICAgICAgICBuID0gZy5vZmZzZXQsXG4gICAgICAgICAgdyA9IG4gKyBnLmRlbGF5LFxuICAgICAgICAgIHIgPSBnLmN1cnJlbnRUaW1lLFxuICAgICAgICAgIHggPSBnLnJldmVyc2VkLFxuICAgICAgICAgIHEgPSBkKGEpO2lmIChnLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB2YXIgdSA9IGcuY2hpbGRyZW4sXG4gICAgICAgICAgICB2ID0gdS5sZW5ndGg7XG4gICAgICAgIGlmIChxID49IGcuY3VycmVudFRpbWUpIGZvciAodmFyIEcgPSAwOyBHIDwgdjsgRysrKSB7XG4gICAgICAgICAgdVtHXS5zZWVrKHEpO1xuICAgICAgICB9IGVsc2UgZm9yICg7IHYtLTspIHtcbiAgICAgICAgICB1W3ZdLnNlZWsocSk7XG4gICAgICAgIH1cbiAgICAgIH1pZiAocSA+PSB3IHx8ICFrKSBnLmJlZ2FuIHx8IChnLmJlZ2FuID0gITAsIGYoXCJiZWdpblwiKSksIGYoXCJydW5cIik7aWYgKHEgPiBuICYmIHEgPCBrKSBiKHEpO2Vsc2UgaWYgKHEgPD0gbiAmJiAwICE9PSByICYmIChiKDApLCB4ICYmIGUoKSksIHEgPj0gayAmJiByICE9PSBrIHx8ICFrKSBiKGspLCB4IHx8IGUoKTtmKFwidXBkYXRlXCIpO2EgPj0gayAmJiAoZy5yZW1haW5pbmcgPyAodCA9IGgsIFwiYWx0ZXJuYXRlXCIgPT09IGcuZGlyZWN0aW9uICYmIChnLnJldmVyc2VkID0gIWcucmV2ZXJzZWQpKSA6IChnLnBhdXNlKCksIGcuY29tcGxldGVkIHx8IChnLmNvbXBsZXRlZCA9ICEwLCBmKFwiY29tcGxldGVcIiksIFwiUHJvbWlzZVwiIGluIHdpbmRvdyAmJiAocCgpLCBtID0gYygpKSkpLCBsID0gMCk7XG4gICAgfWEgPSB2b2lkIDAgPT09IGEgPyB7fSA6IGE7dmFyIGgsXG4gICAgICAgIHQsXG4gICAgICAgIGwgPSAwLFxuICAgICAgICBwID0gbnVsbCxcbiAgICAgICAgbSA9IGMoKSxcbiAgICAgICAgZyA9IGZhKGEpO2cucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYSA9IGcuZGlyZWN0aW9uLFxuICAgICAgICAgIGMgPSBnLmxvb3A7Zy5jdXJyZW50VGltZSA9IDA7Zy5wcm9ncmVzcyA9IDA7Zy5wYXVzZWQgPSAhMDtnLmJlZ2FuID0gITE7Zy5jb21wbGV0ZWQgPSAhMTtnLnJldmVyc2VkID0gXCJyZXZlcnNlXCIgPT09IGE7Zy5yZW1haW5pbmcgPSBcImFsdGVybmF0ZVwiID09PSBhICYmIDEgPT09IGMgPyAyIDogYztiKDApO2ZvciAoYSA9IGcuY2hpbGRyZW4ubGVuZ3RoOyBhLS07KSB7XG4gICAgICAgIGcuY2hpbGRyZW5bYV0ucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9O2cudGljayA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICBoID0gYTt0IHx8ICh0ID0gaCk7aygobCArIGggLSB0KSAqIHEuc3BlZWQpO1xuICAgIH07Zy5zZWVrID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIGsoZChhKSk7XG4gICAgfTtnLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGEgPSB2LmluZGV4T2YoZyk7LTEgPCBhICYmIHYuc3BsaWNlKGEsIDEpO2cucGF1c2VkID0gITA7XG4gICAgfTtnLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBnLnBhdXNlZCAmJiAoZy5wYXVzZWQgPSAhMSwgdCA9IDAsIGwgPSBkKGcuY3VycmVudFRpbWUpLCB2LnB1c2goZyksIEIgfHwgaWEoKSk7XG4gICAgfTtnLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBnLnJldmVyc2VkID0gIWcucmV2ZXJzZWQ7dCA9IDA7bCA9IGQoZy5jdXJyZW50VGltZSk7XG4gICAgfTtnLnJlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBnLnBhdXNlKCk7XG4gICAgICBnLnJlc2V0KCk7Zy5wbGF5KCk7XG4gICAgfTtnLmZpbmlzaGVkID0gbTtnLnJlc2V0KCk7Zy5hdXRvcGxheSAmJiBnLnBsYXkoKTtyZXR1cm4gZztcbiAgfXZhciBnYSA9IHsgdXBkYXRlOiB2b2lkIDAsIGJlZ2luOiB2b2lkIDAsIHJ1bjogdm9pZCAwLCBjb21wbGV0ZTogdm9pZCAwLCBsb29wOiAxLCBkaXJlY3Rpb246IFwibm9ybWFsXCIsIGF1dG9wbGF5OiAhMCwgb2Zmc2V0OiAwIH0sXG4gICAgICBTID0geyBkdXJhdGlvbjogMUUzLCBkZWxheTogMCwgZWFzaW5nOiBcImVhc2VPdXRFbGFzdGljXCIsIGVsYXN0aWNpdHk6IDUwMCwgcm91bmQ6IDAgfSxcbiAgICAgIFcgPSBcInRyYW5zbGF0ZVggdHJhbnNsYXRlWSB0cmFuc2xhdGVaIHJvdGF0ZSByb3RhdGVYIHJvdGF0ZVkgcm90YXRlWiBzY2FsZSBzY2FsZVggc2NhbGVZIHNjYWxlWiBza2V3WCBza2V3WSBwZXJzcGVjdGl2ZVwiLnNwbGl0KFwiIFwiKSxcbiAgICAgIEgsXG4gICAgICBoID0geyBhcnI6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKTtcbiAgICB9LCBvYmo6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gLTEgPCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkuaW5kZXhPZihcIk9iamVjdFwiKTtcbiAgICB9LFxuICAgIHB0aDogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBoLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KFwidG90YWxMZW5ndGhcIik7XG4gICAgfSwgc3ZnOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuICAgIH0sIGRvbTogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBhLm5vZGVUeXBlIHx8IGguc3ZnKGEpO1xuICAgIH0sIHN0cjogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgYTtcbiAgICB9LCBmbmM6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYTtcbiAgICB9LCB1bmQ6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGE7XG4gICAgfSwgaGV4OiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuICgvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKVxuICAgICAgKTtcbiAgICB9LCByZ2I6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gKC9ecmdiLy50ZXN0KGEpXG4gICAgICApO1xuICAgIH0sIGhzbDogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiAoL15oc2wvLnRlc3QoYSlcbiAgICAgICk7XG4gICAgfSwgY29sOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGguaGV4KGEpIHx8IGgucmdiKGEpIHx8IGguaHNsKGEpO1xuICAgIH0gfSxcbiAgICAgIEEgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYShhLCBkLCBiKSB7XG4gICAgICByZXR1cm4gKCgoMSAtIDMgKiBiICsgMyAqIGQpICogYSArICgzICogYiAtIDYgKiBkKSkgKiBhICsgMyAqIGQpICogYTtcbiAgICB9cmV0dXJuIGZ1bmN0aW9uIChjLCBkLCBiLCBmKSB7XG4gICAgICBpZiAoMCA8PSBjICYmIDEgPj0gYyAmJiAwIDw9IGIgJiYgMSA+PSBiKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEZsb2F0MzJBcnJheSgxMSk7aWYgKGMgIT09IGQgfHwgYiAhPT0gZikgZm9yICh2YXIgayA9IDA7IDExID4gazsgKytrKSB7XG4gICAgICAgICAgZVtrXSA9IGEoLjEgKiBrLCBjLCBiKTtcbiAgICAgICAgfXJldHVybiBmdW5jdGlvbiAoaykge1xuICAgICAgICAgIGlmIChjID09PSBkICYmIGIgPT09IGYpIHJldHVybiBrO2lmICgwID09PSBrKSByZXR1cm4gMDtpZiAoMSA9PT0gaykgcmV0dXJuIDE7Zm9yICh2YXIgaCA9IDAsIGwgPSAxOyAxMCAhPT0gbCAmJiBlW2xdIDw9IGs7ICsrbCkge1xuICAgICAgICAgICAgaCArPSAuMTtcbiAgICAgICAgICB9LS1sO3ZhciBsID0gaCArIChrIC0gZVtsXSkgLyAoZVtsICsgMV0gLSBlW2xdKSAqIC4xLFxuICAgICAgICAgICAgICBuID0gMyAqICgxIC0gMyAqIGIgKyAzICogYykgKiBsICogbCArIDIgKiAoMyAqIGIgLSA2ICogYykgKiBsICsgMyAqIGM7aWYgKC4wMDEgPD0gbikge1xuICAgICAgICAgICAgZm9yIChoID0gMDsgNCA+IGg7ICsraCkge1xuICAgICAgICAgICAgICBuID0gMyAqICgxIC0gMyAqIGIgKyAzICogYykgKiBsICogbCArIDIgKiAoMyAqIGIgLSA2ICogYykgKiBsICsgMyAqIGM7aWYgKDAgPT09IG4pIGJyZWFrO3ZhciBtID0gYShsLCBjLCBiKSAtIGssXG4gICAgICAgICAgICAgICAgICBsID0gbCAtIG0gLyBuO1xuICAgICAgICAgICAgfWsgPSBsO1xuICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gbikgayA9IGw7ZWxzZSB7XG4gICAgICAgICAgICB2YXIgbCA9IGgsXG4gICAgICAgICAgICAgICAgaCA9IGggKyAuMSxcbiAgICAgICAgICAgICAgICBnID0gMDtkbyB7XG4gICAgICAgICAgICAgIG0gPSBsICsgKGggLSBsKSAvIDIsIG4gPSBhKG0sIGMsIGIpIC0gaywgMCA8IG4gPyBoID0gbSA6IGwgPSBtO1xuICAgICAgICAgICAgfSB3aGlsZSAoMWUtNyA8IE1hdGguYWJzKG4pICYmIDEwID4gKytnKTtrID0gbTtcbiAgICAgICAgICB9cmV0dXJuIGEoaywgZCwgZik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSgpLFxuICAgICAgUSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhKGEsIGIpIHtcbiAgICAgIHJldHVybiAwID09PSBhIHx8IDEgPT09IGEgPyBhIDogLU1hdGgucG93KDIsIDEwICogKGEgLSAxKSkgKiBNYXRoLnNpbigyICogKGEgLSAxIC0gYiAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oMSkpICogTWF0aC5QSSAvIGIpO1xuICAgIH12YXIgYyA9IFwiUXVhZCBDdWJpYyBRdWFydCBRdWludCBTaW5lIEV4cG8gQ2lyYyBCYWNrIEVsYXN0aWNcIi5zcGxpdChcIiBcIiksXG4gICAgICAgIGQgPSB7IEluOiBbWy41NSwgLjA4NSwgLjY4LCAuNTNdLCBbLjU1LCAuMDU1LCAuNjc1LCAuMTldLCBbLjg5NSwgLjAzLCAuNjg1LCAuMjJdLCBbLjc1NSwgLjA1LCAuODU1LCAuMDZdLCBbLjQ3LCAwLCAuNzQ1LCAuNzE1XSwgWy45NSwgLjA1LCAuNzk1LCAuMDM1XSwgWy42LCAuMDQsIC45OCwgLjMzNV0sIFsuNiwgLS4yOCwgLjczNSwgLjA0NV0sIGFdLCBPdXQ6IFtbLjI1LCAuNDYsIC40NSwgLjk0XSwgWy4yMTUsIC42MSwgLjM1NSwgMV0sIFsuMTY1LCAuODQsIC40NCwgMV0sIFsuMjMsIDEsIC4zMiwgMV0sIFsuMzksIC41NzUsIC41NjUsIDFdLCBbLjE5LCAxLCAuMjIsIDFdLCBbLjA3NSwgLjgyLCAuMTY1LCAxXSwgWy4xNzUsIC44ODUsIC4zMiwgMS4yNzVdLCBmdW5jdGlvbiAoYiwgYykge1xuICAgICAgICByZXR1cm4gMSAtIGEoMSAtIGIsIGMpO1xuICAgICAgfV0sIEluT3V0OiBbWy40NTUsIC4wMywgLjUxNSwgLjk1NV0sIFsuNjQ1LCAuMDQ1LCAuMzU1LCAxXSwgWy43NywgMCwgLjE3NSwgMV0sIFsuODYsIDAsIC4wNywgMV0sIFsuNDQ1LCAuMDUsIC41NSwgLjk1XSwgWzEsIDAsIDAsIDFdLCBbLjc4NSwgLjEzNSwgLjE1LCAuODZdLCBbLjY4LCAtLjU1LCAuMjY1LCAxLjU1XSwgZnVuY3Rpb24gKGIsIGMpIHtcbiAgICAgICAgcmV0dXJuIC41ID4gYiA/IGEoMiAqIGIsIGMpIC8gMiA6IDEgLSBhKC0yICogYiArIDIsIGMpIC8gMjtcbiAgICAgIH1dIH0sXG4gICAgICAgIGIgPSB7IGxpbmVhcjogQSguMjUsIC4yNSwgLjc1LCAuNzUpIH0sXG4gICAgICAgIGYgPSB7fSxcbiAgICAgICAgZTtmb3IgKGUgaW4gZCkge1xuICAgICAgZi50eXBlID0gZSwgZFtmLnR5cGVdLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBmKSB7XG4gICAgICAgICAgYltcImVhc2VcIiArIGEudHlwZSArIGNbZl1dID0gaC5mbmMoZCkgPyBkIDogQS5hcHBseSgkanNjb21wJHRoaXMsIGQpO1xuICAgICAgICB9O1xuICAgICAgfShmKSksIGYgPSB7IHR5cGU6IGYudHlwZSB9O1xuICAgIH1yZXR1cm4gYjtcbiAgfSgpLFxuICAgICAgaGEgPSB7IGNzczogZnVuY3Rpb24gKGEsIGMsIGQpIHtcbiAgICAgIHJldHVybiBhLnN0eWxlW2NdID0gZDtcbiAgICB9LCBhdHRyaWJ1dGU6IGZ1bmN0aW9uIChhLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYS5zZXRBdHRyaWJ1dGUoYywgZCk7XG4gICAgfSwgb2JqZWN0OiBmdW5jdGlvbiAoYSwgYywgZCkge1xuICAgICAgcmV0dXJuIGFbY10gPSBkO1xuICAgIH0sIHRyYW5zZm9ybTogZnVuY3Rpb24gKGEsIGMsIGQsIGIsIGYpIHtcbiAgICAgIGJbZl0gfHwgKGJbZl0gPSBbXSk7YltmXS5wdXNoKGMgKyBcIihcIiArIGQgKyBcIilcIik7XG4gICAgfSB9LFxuICAgICAgdiA9IFtdLFxuICAgICAgQiA9IDAsXG4gICAgICBpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhKCkge1xuICAgICAgQiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShjKTtcbiAgICB9ZnVuY3Rpb24gYyhjKSB7XG4gICAgICB2YXIgYiA9IHYubGVuZ3RoO2lmIChiKSB7XG4gICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgYjspIHtcbiAgICAgICAgICB2W2RdICYmIHZbZF0udGljayhjKSwgZCsrO1xuICAgICAgICB9YSgpO1xuICAgICAgfSBlbHNlIGNhbmNlbEFuaW1hdGlvbkZyYW1lKEIpLCBCID0gMDtcbiAgICB9cmV0dXJuIGE7XG4gIH0oKTtxLnZlcnNpb24gPSBcIjIuMi4wXCI7cS5zcGVlZCA9IDE7cS5ydW5uaW5nID0gdjtxLnJlbW92ZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgYSA9IFAoYSk7Zm9yICh2YXIgYyA9IHYubGVuZ3RoOyBjLS07KSB7XG4gICAgICBmb3IgKHZhciBkID0gdltjXSwgYiA9IGQuYW5pbWF0aW9ucywgZiA9IGIubGVuZ3RoOyBmLS07KSB7XG4gICAgICAgIHUoYSwgYltmXS5hbmltYXRhYmxlLnRhcmdldCkgJiYgKGIuc3BsaWNlKGYsIDEpLCBiLmxlbmd0aCB8fCBkLnBhdXNlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtxLmdldFZhbHVlID0gSztxLnBhdGggPSBmdW5jdGlvbiAoYSwgYykge1xuICAgIHZhciBkID0gaC5zdHIoYSkgPyBlKGEpWzBdIDogYSxcbiAgICAgICAgYiA9IGMgfHwgMTAwO3JldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHsgZWw6IGQsIHByb3BlcnR5OiBhLCB0b3RhbExlbmd0aDogTihkKSAqIChiIC8gMTAwKSB9O1xuICAgIH07XG4gIH07cS5zZXREYXNob2Zmc2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYyA9IE4oYSk7YS5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIsIGMpO3JldHVybiBjO1xuICB9O3EuYmV6aWVyID0gQTtxLmVhc2luZ3MgPSBRO3EudGltZWxpbmUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBjID0gcShhKTtjLnBhdXNlKCk7Yy5kdXJhdGlvbiA9IDA7Yy5hZGQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgYy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIGEuYmVnYW4gPSAhMDthLmNvbXBsZXRlZCA9ICEwO1xuICAgICAgfSk7bShkKS5mb3JFYWNoKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIHZhciBkID0geihiLCBEKFMsIGEgfHwge30pKTtkLnRhcmdldHMgPSBkLnRhcmdldHMgfHwgYS50YXJnZXRzO2IgPSBjLmR1cmF0aW9uO3ZhciBlID0gZC5vZmZzZXQ7ZC5hdXRvcGxheSA9ICExO2QuZGlyZWN0aW9uID0gYy5kaXJlY3Rpb247ZC5vZmZzZXQgPSBoLnVuZChlKSA/IGIgOiBMKGUsIGIpO2MuYmVnYW4gPSAhMDtjLmNvbXBsZXRlZCA9ICEwO2Muc2VlayhkLm9mZnNldCk7ZCA9IHEoZCk7ZC5iZWdhbiA9ICEwO2QuY29tcGxldGVkID0gITA7ZC5kdXJhdGlvbiA+IGIgJiYgKGMuZHVyYXRpb24gPSBkLmR1cmF0aW9uKTtjLmNoaWxkcmVuLnB1c2goZCk7XG4gICAgICB9KTtjLnNlZWsoMCk7Yy5yZXNldCgpO2MuYXV0b3BsYXkgJiYgYy5yZXN0YXJ0KCk7cmV0dXJuIGM7XG4gICAgfTtyZXR1cm4gYztcbiAgfTtxLnJhbmRvbSA9IGZ1bmN0aW9uIChhLCBjKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChjIC0gYSArIDEpKSArIGE7XG4gIH07cmV0dXJuIHE7XG59KTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgYWNjb3JkaW9uOiB0cnVlLFxuICAgIG9uT3BlblN0YXJ0OiB1bmRlZmluZWQsXG4gICAgb25PcGVuRW5kOiB1bmRlZmluZWQsXG4gICAgb25DbG9zZVN0YXJ0OiB1bmRlZmluZWQsXG4gICAgb25DbG9zZUVuZDogdW5kZWZpbmVkLFxuICAgIGluRHVyYXRpb246IDMwMCxcbiAgICBvdXREdXJhdGlvbjogMzAwXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgQ29sbGFwc2libGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhDb2xsYXBzaWJsZSwgX0NvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgQ29sbGFwc2libGUgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsYXBzaWJsZShlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxhcHNpYmxlKTtcblxuICAgICAgdmFyIF90aGlzMyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2xsYXBzaWJsZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbGxhcHNpYmxlKSkuY2FsbCh0aGlzLCBDb2xsYXBzaWJsZSwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMzLmVsLk1fQ29sbGFwc2libGUgPSBfdGhpczM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIGNvbGxhcHNpYmxlXG4gICAgICAgKiBAbWVtYmVyIENvbGxhcHNpYmxlI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbYWNjb3JkaW9uPWZhbHNlXSAtIFR5cGUgb2YgdGhlIGNvbGxhcHNpYmxlXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlblN0YXJ0IC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBjb2xsYXBzaWJsZSBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuRW5kIC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIGNvbGxhcHNpYmxlIGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIGNvbGxhcHNpYmxlIGlzIGNsb3NlZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlRW5kIC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIGNvbGxhcHNpYmxlIGlzIGNsb3NlZFxuICAgICAgICogQHByb3Age051bWJlcn0gaW5EdXJhdGlvbiAtIFRyYW5zaXRpb24gaW4gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgICogQHByb3Age051bWJlcn0gb3V0RHVyYXRpb24gLSBUcmFuc2l0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgICAqL1xuICAgICAgX3RoaXMzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2libGUuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBTZXR1cCB0YWIgaW5kaWNlc1xuICAgICAgX3RoaXMzLiRoZWFkZXJzID0gX3RoaXMzLiRlbC5jaGlsZHJlbignbGknKS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWhlYWRlcicpO1xuICAgICAgX3RoaXMzLiRoZWFkZXJzLmF0dHIoJ3RhYmluZGV4JywgMCk7XG5cbiAgICAgIF90aGlzMy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG5cbiAgICAgIC8vIE9wZW4gZmlyc3QgYWN0aXZlXG4gICAgICB2YXIgJGFjdGl2ZUJvZGllcyA9IF90aGlzMy4kZWwuY2hpbGRyZW4oJ2xpLmFjdGl2ZScpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtYm9keScpO1xuICAgICAgaWYgKF90aGlzMy5vcHRpb25zLmFjY29yZGlvbikge1xuICAgICAgICAvLyBIYW5kbGUgQWNjb3JkaW9uXG4gICAgICAgICRhY3RpdmVCb2RpZXMuZmlyc3QoKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBFeHBhbmRhYmxlc1xuICAgICAgICAkYWN0aXZlQm9kaWVzLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzMztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sbGFwc2libGUsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuTV9Db2xsYXBzaWJsZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuJGhlYWRlcnMuZWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfdGhpczQuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy4kaGVhZGVycy5lYWNoKGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgICAgICBoZWFkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF90aGlzNS5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ29sbGFwc2libGUgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2soZSkge1xuICAgICAgICB2YXIgJGhlYWRlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZS1oZWFkZXInKTtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICYmICRoZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyICRjb2xsYXBzaWJsZSA9ICRoZWFkZXIuY2xvc2VzdCgnLmNvbGxhcHNpYmxlJyk7XG4gICAgICAgICAgaWYgKCRjb2xsYXBzaWJsZVswXSA9PT0gdGhpcy5lbCkge1xuICAgICAgICAgICAgdmFyICRjb2xsYXBzaWJsZUxpID0gJGhlYWRlci5jbG9zZXN0KCdsaScpO1xuICAgICAgICAgICAgdmFyICRjb2xsYXBzaWJsZUxpcyA9ICRjb2xsYXBzaWJsZS5jaGlsZHJlbignbGknKTtcbiAgICAgICAgICAgIHZhciBpc0FjdGl2ZSA9ICRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkY29sbGFwc2libGVMaXMuaW5kZXgoJGNvbGxhcHNpYmxlTGkpO1xuXG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgdGhpcy5jbG9zZShpbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm9wZW4oaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDb2xsYXBzaWJsZSBLZXlkb3duXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ29sbGFwc2libGVLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kKGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQW5pbWF0ZSBpbiBjb2xsYXBzaWJsZSBzbGlkZVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gMHRoIGluZGV4IG9mIHNsaWRlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbihpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICAgIGlmICgkY29sbGFwc2libGVMaS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgJGJvZHkgPSAkY29sbGFwc2libGVMaS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWJvZHknKTtcblxuICAgICAgICAgIGFuaW0ucmVtb3ZlKCRib2R5WzBdKTtcbiAgICAgICAgICAkYm9keS5jc3Moe1xuICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6ICcnLFxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogJydcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBwVG9wID0gJGJvZHkuY3NzKCdwYWRkaW5nLXRvcCcpO1xuICAgICAgICAgIHZhciBwQm90dG9tID0gJGJvZHkuY3NzKCdwYWRkaW5nLWJvdHRvbScpO1xuICAgICAgICAgIHZhciBmaW5hbEhlaWdodCA9ICRib2R5WzBdLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAkYm9keS5jc3Moe1xuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDBcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogJGJvZHlbMF0sXG4gICAgICAgICAgICBoZWlnaHQ6IGZpbmFsSGVpZ2h0LFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogcFRvcCxcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IHBCb3R0b20sXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICAgICAgJGJvZHkuY3NzKHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJycsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogJycsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogJycsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczYub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBfdGhpczYub3B0aW9ucy5vbk9wZW5FbmQuY2FsbChfdGhpczYsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQW5pbWF0ZSBvdXQgY29sbGFwc2libGUgc2xpZGVcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIDB0aCBpbmRleCBvZiBzbGlkZSB0byBvcGVuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3V0KGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgIHZhciAkY29sbGFwc2libGVMaSA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KTtcbiAgICAgICAgaWYgKCRjb2xsYXBzaWJsZUxpLmxlbmd0aCkge1xuICAgICAgICAgIHZhciAkYm9keSA9ICRjb2xsYXBzaWJsZUxpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtYm9keScpO1xuICAgICAgICAgIGFuaW0ucmVtb3ZlKCRib2R5WzBdKTtcbiAgICAgICAgICAkYm9keS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogJGJvZHlbMF0sXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkYm9keS5jc3Moe1xuICAgICAgICAgICAgICAgIGhlaWdodDogJycsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICcnXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczcub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM3Lm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKF90aGlzNywgJGNvbGxhcHNpYmxlTGlbMF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIENvbGxhcHNpYmxlXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSAwdGggaW5kZXggb2Ygc2xpZGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICAgIHZhciAkY29sbGFwc2libGVMaSA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KTtcbiAgICAgICAgaWYgKCRjb2xsYXBzaWJsZUxpLmxlbmd0aCAmJiAhJGNvbGxhcHNpYmxlTGlbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgYWNjb3JkaW9uIGJlaGF2aW9yXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2NvcmRpb24pIHtcbiAgICAgICAgICAgIHZhciAkY29sbGFwc2libGVMaXMgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKTtcbiAgICAgICAgICAgIHZhciAkYWN0aXZlTGlzID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpLmFjdGl2ZScpO1xuICAgICAgICAgICAgJGFjdGl2ZUxpcy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkY29sbGFwc2libGVMaXMuaW5kZXgoJChlbCkpO1xuICAgICAgICAgICAgICBfdGhpczguY2xvc2UoaW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQW5pbWF0ZSBpblxuICAgICAgICAgICRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBDb2xsYXBzaWJsZVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gMHRoIGluZGV4IG9mIHNsaWRlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKGluZGV4KSB7XG4gICAgICAgIHZhciAkY29sbGFwc2libGVMaSA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KTtcbiAgICAgICAgaWYgKCRjb2xsYXBzaWJsZUxpLmxlbmd0aCAmJiAkY29sbGFwc2libGVMaVswXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgLy8gb25DbG9zZVN0YXJ0IGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgJGNvbGxhcHNpYmxlTGlbMF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFuaW1hdGUgb3V0XG4gICAgICAgICAgJGNvbGxhcHNpYmxlTGlbMF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoQ29sbGFwc2libGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xsYXBzaWJsZSksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX0NvbGxhcHNpYmxlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbGxhcHNpYmxlO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5Db2xsYXBzaWJsZSA9IENvbGxhcHNpYmxlO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ29sbGFwc2libGUsICdjb2xsYXBzaWJsZScsICdNX0NvbGxhcHNpYmxlJyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgY29uc3RyYWluV2lkdGg6IHRydWUsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGNvdmVyVHJpZ2dlcjogdHJ1ZSxcbiAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgaG92ZXI6IGZhbHNlLFxuICAgIGluRHVyYXRpb246IDE1MCxcbiAgICBvdXREdXJhdGlvbjogMjUwLFxuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbCxcbiAgICBvbkl0ZW1DbGljazogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICovXG5cbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gICAgX2luaGVyaXRzKERyb3Bkb3duLCBfQ29tcG9uZW50Mik7XG5cbiAgICBmdW5jdGlvbiBEcm9wZG93bihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyb3Bkb3duKTtcblxuICAgICAgdmFyIF90aGlzOSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEcm9wZG93bi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERyb3Bkb3duKSkuY2FsbCh0aGlzLCBEcm9wZG93biwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM5LmVsLk1fRHJvcGRvd24gPSBfdGhpczk7XG4gICAgICBEcm9wZG93bi5fZHJvcGRvd25zLnB1c2goX3RoaXM5KTtcblxuICAgICAgX3RoaXM5LmlkID0gTS5nZXRJZEZyb21UcmlnZ2VyKGVsKTtcbiAgICAgIF90aGlzOS5kcm9wZG93bkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXM5LmlkKTtcbiAgICAgIF90aGlzOS4kZHJvcGRvd25FbCA9ICQoX3RoaXM5LmRyb3Bkb3duRWwpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBkcm9wZG93blxuICAgICAgICogQG1lbWJlciBEcm9wZG93biNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBbYWxpZ25tZW50PSdsZWZ0J10gLSBFZGdlIHdoaWNoIHRoZSBkcm9wZG93biBpcyBhbGlnbmVkIHRvXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2F1dG9Gb2N1cz10cnVlXSAtIEF1dG9tYXRpY2FsbHkgZm9jdXMgZHJvcGRvd24gZWwgZm9yIGtleWJvYXJkXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2NvbnN0cmFpbldpZHRoPXRydWVdIC0gQ29uc3RyYWluIHdpZHRoIHRvIHdpZHRoIG9mIHRoZSBidXR0b25cbiAgICAgICAqIEBwcm9wIHtFbGVtZW50fSBjb250YWluZXIgLSBDb250YWluZXIgZWxlbWVudCB0byBhdHRhY2ggZHJvcGRvd24gdG8gKG9wdGlvbmFsKVxuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtjb3ZlclRyaWdnZXI9dHJ1ZV0gLSBQbGFjZSBkcm9wZG93biBvdmVyIHRyaWdnZXJcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbY2xvc2VPbkNsaWNrPXRydWVdIC0gQ2xvc2Ugb24gY2xpY2sgb2YgZHJvcGRvd24gaXRlbVxuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtob3Zlcj1mYWxzZV0gLSBPcGVuIGRyb3Bkb3duIG9uIGhvdmVyXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW5EdXJhdGlvbj0xNTBdIC0gRHVyYXRpb24gb2Ygb3BlbiBhbmltYXRpb24gaW4gbXNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvdXREdXJhdGlvbj0yNTBdIC0gRHVyYXRpb24gb2YgY2xvc2UgYW5pbWF0aW9uIGluIG1zXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlblN0YXJ0IC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gc3RhcnRzIG9wZW5pbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gZmluaXNoZXMgb3BlbmluZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlU3RhcnQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkcm9wZG93biBzdGFydHMgY2xvc2luZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gZmluaXNoZXMgY2xvc2luZ1xuICAgICAgICovXG4gICAgICBfdGhpczkub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEcm9wZG93bi5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgZHJvcGRvd25cbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczkuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIGlmIGRyb3Bkb3duIGNvbnRlbnQgaXMgc2Nyb2xsYWJsZVxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIF90aGlzOS5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgaWYgdG91Y2ggbW92aW5nIG9uIGRyb3Bkb3duIGNvbnRlbnRcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczkuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xuXG4gICAgICBfdGhpczkuZm9jdXNlZEluZGV4ID0gLTE7XG4gICAgICBfdGhpczkuZmlsdGVyUXVlcnkgPSBbXTtcblxuICAgICAgLy8gTW92ZSBkcm9wZG93bi1jb250ZW50IGFmdGVyIGRyb3Bkb3duLXRyaWdnZXJcbiAgICAgIGlmICghIV90aGlzOS5vcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICAkKF90aGlzOS5vcHRpb25zLmNvbnRhaW5lcikuYXBwZW5kKF90aGlzOS5kcm9wZG93bkVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzOS4kZWwuYWZ0ZXIoX3RoaXM5LmRyb3Bkb3duRWwpO1xuICAgICAgfVxuXG4gICAgICBfdGhpczkuX21ha2VEcm9wZG93bkZvY3VzYWJsZSgpO1xuICAgICAgX3RoaXM5Ll9yZXNldEZpbHRlclF1ZXJ5Qm91bmQgPSBfdGhpczkuX3Jlc2V0RmlsdGVyUXVlcnkuYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQgPSBfdGhpczkuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9oYW5kbGVEb2N1bWVudFRvdWNobW92ZUJvdW5kID0gX3RoaXM5Ll9oYW5kbGVEb2N1bWVudFRvdWNobW92ZS5iaW5kKF90aGlzOSk7XG4gICAgICBfdGhpczkuX2hhbmRsZURyb3Bkb3duQ2xpY2tCb3VuZCA9IF90aGlzOS5faGFuZGxlRHJvcGRvd25DbGljay5iaW5kKF90aGlzOSk7XG4gICAgICBfdGhpczkuX2hhbmRsZURyb3Bkb3duS2V5ZG93bkJvdW5kID0gX3RoaXM5Ll9oYW5kbGVEcm9wZG93bktleWRvd24uYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9oYW5kbGVUcmlnZ2VyS2V5ZG93bkJvdW5kID0gX3RoaXM5Ll9oYW5kbGVUcmlnZ2VyS2V5ZG93bi5iaW5kKF90aGlzOSk7XG4gICAgICBfdGhpczkuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzOTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHJvcGRvd24sIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZXNldERyb3Bkb3duU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgRHJvcGRvd24uX2Ryb3Bkb3ducy5zcGxpY2UoRHJvcGRvd24uX2Ryb3Bkb3ducy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgICAgdGhpcy5lbC5NX0Ryb3Bkb3duID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgLy8gVHJpZ2dlciBrZXlkb3duIGhhbmRsZXJcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlVHJpZ2dlcktleWRvd25Cb3VuZCk7XG5cbiAgICAgICAgLy8gSXRlbSBjbGljayBoYW5kbGVyXG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgLy8gSG92ZXIgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQpO1xuICAgICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcblxuICAgICAgICAgIC8vIENsaWNrIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRHJvcGRvd25DbGlja0JvdW5kKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyKSB7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwVGVtcG9yYXJ5RXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFRlbXBvcmFyeUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRUb3VjaG1vdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRHJvcGRvd25LZXlkb3duQm91bmQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICAvLyBVc2UgY2FwdHVyZSBwaGFzZSBldmVudCBoYW5kbGVyIHRvIHByZXZlbnQgY2xpY2tcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQpO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bkJvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1vdXNlRW50ZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVNb3VzZUxlYXZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU1vdXNlTGVhdmUoZSkge1xuICAgICAgICB2YXIgdG9FbCA9IGUudG9FbGVtZW50IHx8IGUucmVsYXRlZFRhcmdldDtcbiAgICAgICAgdmFyIGxlYXZlVG9Ecm9wZG93bkNvbnRlbnQgPSAhISQodG9FbCkuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKS5sZW5ndGg7XG4gICAgICAgIHZhciBsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyID0gZmFsc2U7XG5cbiAgICAgICAgdmFyICRjbG9zZXN0VHJpZ2dlciA9ICQodG9FbCkuY2xvc2VzdCgnLmRyb3Bkb3duLXRyaWdnZXInKTtcbiAgICAgICAgaWYgKCRjbG9zZXN0VHJpZ2dlci5sZW5ndGggJiYgISEkY2xvc2VzdFRyaWdnZXJbMF0uTV9Ecm9wZG93biAmJiAkY2xvc2VzdFRyaWdnZXJbMF0uTV9Ecm9wZG93bi5pc09wZW4pIHtcbiAgICAgICAgICBsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsb3NlIGhvdmVyIGRyb3Bkb3duIGlmIG1vdXNlIGRpZCBub3QgbGVhdmUgdG8gZWl0aGVyIGFjdGl2ZSBkcm9wZG93bi10cmlnZ2VyIG9yIGRyb3Bkb3duLWNvbnRlbnRcbiAgICAgICAgaWYgKCFsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyICYmICFsZWF2ZVRvRHJvcGRvd25Db250ZW50KSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEb2N1bWVudENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURvY3VtZW50Q2xpY2soZSkge1xuICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgJiYgJHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpLmxlbmd0aCAmJiAhdGhpcy5pc1RvdWNoTW92aW5nKSB7XG4gICAgICAgICAgLy8gaXNUb3VjaE1vdmluZyB0byBjaGVjayBpZiBzY3JvbGxpbmcgb24gbW9iaWxlLlxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMxMC5jbG9zZSgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLXRyaWdnZXInKS5sZW5ndGggfHwgISR0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKS5sZW5ndGgpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMTAuY2xvc2UoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVRyaWdnZXJLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVRyaWdnZXJLZXlkb3duKGUpIHtcbiAgICAgICAgLy8gQVJST1cgRE9XTiBPUiBFTlRFUiBXSEVOIFNFTEVDVCBJUyBDTE9TRUQgLSBvcGVuIERyb3Bkb3duXG4gICAgICAgIGlmICgoZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSAmJiAhdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRG9jdW1lbnQgVG91Y2htb3ZlXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRG9jdW1lbnRUb3VjaG1vdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRG9jdW1lbnRUb3VjaG1vdmUoZSkge1xuICAgICAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICAgICBpZiAoJHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRHJvcGRvd24gQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEcm9wZG93bkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURyb3Bkb3duQ2xpY2soZSkge1xuICAgICAgICAvLyBvbkl0ZW1DbGljayBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkl0ZW1DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBpdGVtRWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpWzBdO1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkl0ZW1DbGljay5jYWxsKHRoaXMsIGl0ZW1FbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRHJvcGRvd24gS2V5ZG93blxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURyb3Bkb3duS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEcm9wZG93bktleWRvd24oZSkge1xuICAgICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgICAvLyBOYXZpZ2F0ZSBkb3duIGRyb3Bkb3duIGxpc3RcbiAgICAgICAgfSBlbHNlIGlmICgoZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX1VQKSAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gPyAxIDogLTE7XG4gICAgICAgICAgdmFyIG5ld0ZvY3VzZWRJbmRleCA9IHRoaXMuZm9jdXNlZEluZGV4O1xuICAgICAgICAgIHZhciBmb3VuZE5ld0luZGV4ID0gZmFsc2U7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgbmV3Rm9jdXNlZEluZGV4ID0gbmV3Rm9jdXNlZEluZGV4ICsgZGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAoISF0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSAmJiB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XS50YWJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgZm91bmROZXdJbmRleCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKG5ld0ZvY3VzZWRJbmRleCA8IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbi5sZW5ndGggJiYgbmV3Rm9jdXNlZEluZGV4ID49IDApO1xuXG4gICAgICAgICAgaWYgKGZvdW5kTmV3SW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gbmV3Rm9jdXNlZEluZGV4O1xuICAgICAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVOVEVSIHNlbGVjdHMgY2hvaWNlIG9uIGZvY3VzZWQgaXRlbVxuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUiAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICAgIC8vIFNlYXJjaCBmb3IgPGE+IGFuZCA8YnV0dG9uPlxuICAgICAgICAgIHZhciBmb2N1c2VkRWxlbWVudCA9IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF07XG4gICAgICAgICAgdmFyICRhY3RpdmF0YWJsZUVsZW1lbnQgPSAkKGZvY3VzZWRFbGVtZW50KS5maW5kKCdhLCBidXR0b24nKS5maXJzdCgpO1xuXG4gICAgICAgICAgLy8gQ2xpY2sgYSBvciBidXR0b24gdGFnIGlmIGV4aXN0cywgb3RoZXJ3aXNlIGNsaWNrIGxpIHRhZ1xuICAgICAgICAgIGlmICghISRhY3RpdmF0YWJsZUVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAkYWN0aXZhdGFibGVFbGVtZW50WzBdLmNsaWNrKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIWZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgICAgICBmb2N1c2VkRWxlbWVudC5jbGljaygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENsb3NlIGRyb3Bkb3duIG9uIEVTQ1xuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FU0MgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ0FTRSBXSEVOIFVTRVIgVFlQRSBMRVRURVJTXG4gICAgICAgIHZhciBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBub25MZXR0ZXJzID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICAgICAgaWYgKGxldHRlciAmJiBub25MZXR0ZXJzLmluZGV4T2YoZS53aGljaCkgPT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5maWx0ZXJRdWVyeS5wdXNoKGxldHRlcik7XG5cbiAgICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5maWx0ZXJRdWVyeS5qb2luKCcnKSxcbiAgICAgICAgICAgICAgbmV3T3B0aW9uRWwgPSAkKHRoaXMuZHJvcGRvd25FbCkuZmluZCgnbGknKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gJChlbCkudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzdHJpbmcpID09PSAwO1xuICAgICAgICAgIH0pWzBdO1xuXG4gICAgICAgICAgaWYgKG5ld09wdGlvbkVsKSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA9ICQobmV3T3B0aW9uRWwpLmluZGV4KCk7XG4gICAgICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWx0ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9yZXNldEZpbHRlclF1ZXJ5Qm91bmQsIDEwMDApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVzZXRGaWx0ZXJRdWVyeVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldEZpbHRlclF1ZXJ5KCkge1xuICAgICAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZXNldERyb3Bkb3duU3R5bGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0RHJvcGRvd25TdHlsZXMoKSB7XG4gICAgICAgIHRoaXMuJGRyb3Bkb3duRWwuY3NzKHtcbiAgICAgICAgICBkaXNwbGF5OiAnJyxcbiAgICAgICAgICB3aWR0aDogJycsXG4gICAgICAgICAgaGVpZ2h0OiAnJyxcbiAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICB0b3A6ICcnLFxuICAgICAgICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogJycsXG4gICAgICAgICAgdHJhbnNmb3JtOiAnJyxcbiAgICAgICAgICBvcGFjaXR5OiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX21ha2VEcm9wZG93bkZvY3VzYWJsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKSB7XG4gICAgICAgIC8vIE5lZWRlZCBmb3IgYXJyb3cga2V5IG5hdmlnYXRpb25cbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnRhYkluZGV4ID0gMDtcblxuICAgICAgICAvLyBPbmx5IHNldCB0YWJpbmRleCBpZiBpdCBoYXNuJ3QgYmVlbiBzZXQgYnkgdXNlclxuICAgICAgICAkKHRoaXMuZHJvcGRvd25FbCkuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIGlmICghZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2ZvY3VzRm9jdXNlZEl0ZW1cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZm9jdXNGb2N1c2VkSXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZEluZGV4ID49IDAgJiYgdGhpcy5mb2N1c2VkSW5kZXggPCB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4ubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2dldERyb3Bkb3duUG9zaXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RHJvcGRvd25Qb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJSZWN0ID0gdGhpcy5lbC5vZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB0cmlnZ2VyQlJlY3QgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZHJvcGRvd25CUmVjdCA9IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB2YXIgaWRlYWxIZWlnaHQgPSBkcm9wZG93bkJSZWN0LmhlaWdodDtcbiAgICAgICAgdmFyIGlkZWFsV2lkdGggPSBkcm9wZG93bkJSZWN0LndpZHRoO1xuICAgICAgICB2YXIgaWRlYWxYUG9zID0gdHJpZ2dlckJSZWN0LmxlZnQgLSBkcm9wZG93bkJSZWN0LmxlZnQ7XG4gICAgICAgIHZhciBpZGVhbFlQb3MgPSB0cmlnZ2VyQlJlY3QudG9wIC0gZHJvcGRvd25CUmVjdC50b3A7XG5cbiAgICAgICAgdmFyIGRyb3Bkb3duQm91bmRzID0ge1xuICAgICAgICAgIGxlZnQ6IGlkZWFsWFBvcyxcbiAgICAgICAgICB0b3A6IGlkZWFsWVBvcyxcbiAgICAgICAgICBoZWlnaHQ6IGlkZWFsSGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ291bnRhaW5lciBoZXJlIHdpbGwgYmUgY2xvc2VzdCBhbmNlc3RvciB3aXRoIG92ZXJmbG93OiBoaWRkZW5cbiAgICAgICAgdmFyIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCA9ICEhdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudCA/IHRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnQgOiB0aGlzLmRyb3Bkb3duRWwucGFyZW50Tm9kZTtcblxuICAgICAgICB2YXIgYWxpZ25tZW50cyA9IE0uY2hlY2tQb3NzaWJsZUFsaWdubWVudHModGhpcy5lbCwgY2xvc2VzdE92ZXJmbG93UGFyZW50LCBkcm9wZG93bkJvdW5kcywgdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0KTtcblxuICAgICAgICB2YXIgdmVydGljYWxBbGlnbm1lbnQgPSAndG9wJztcbiAgICAgICAgdmFyIGhvcml6b250YWxBbGlnbm1lbnQgPSB0aGlzLm9wdGlvbnMuYWxpZ25tZW50O1xuICAgICAgICBpZGVhbFlQb3MgKz0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFJlc2V0IGlzU2Nyb2xsYWJsZVxuICAgICAgICB0aGlzLmlzU2Nyb2xsYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghYWxpZ25tZW50cy50b3ApIHtcbiAgICAgICAgICBpZiAoYWxpZ25tZW50cy5ib3R0b20pIHtcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxuICAgICAgICAgICAgaWYgKGFsaWdubWVudHMuc3BhY2VPblRvcCA+IGFsaWdubWVudHMuc3BhY2VPbkJvdHRvbSkge1xuICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuICAgICAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Ub3A7XG4gICAgICAgICAgICAgIGlkZWFsWVBvcyAtPSBhbGlnbm1lbnRzLnNwYWNlT25Ub3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgcHJlZmVycmVkIGhvcml6b250YWwgYWxpZ25tZW50IGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICghYWxpZ25tZW50c1tob3Jpem9udGFsQWxpZ25tZW50XSkge1xuICAgICAgICAgIHZhciBvcHBvc2l0ZUFsaWdubWVudCA9IGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgICAgaWYgKGFsaWdubWVudHNbb3Bwb3NpdGVBbGlnbm1lbnRdKSB7XG4gICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gb3Bwb3NpdGVBbGlnbm1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaWRlIGhhcyBtb3N0IHNwYWNlIGFuZCBjdXRvZmYgYXQgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25MZWZ0ID4gYWxpZ25tZW50cy5zcGFjZU9uUmlnaHQpIHtcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9ICdyaWdodCc7XG4gICAgICAgICAgICAgIGlkZWFsV2lkdGggKz0gYWxpZ25tZW50cy5zcGFjZU9uTGVmdDtcbiAgICAgICAgICAgICAgaWRlYWxYUG9zIC09IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ2xlZnQnO1xuICAgICAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICBpZGVhbFlQb3MgPSBpZGVhbFlQb3MgLSBkcm9wZG93bkJSZWN0LmhlaWdodCArICh0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyID8gdHJpZ2dlckJSZWN0LmhlaWdodCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3Jpem9udGFsQWxpZ25tZW50ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgaWRlYWxYUG9zID0gaWRlYWxYUG9zIC0gZHJvcGRvd25CUmVjdC53aWR0aCArIHRyaWdnZXJCUmVjdC53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IGlkZWFsWFBvcyxcbiAgICAgICAgICB5OiBpZGVhbFlQb3MsXG4gICAgICAgICAgdmVydGljYWxBbGlnbm1lbnQ6IHZlcnRpY2FsQWxpZ25tZW50LFxuICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQ6IGhvcml6b250YWxBbGlnbm1lbnQsXG4gICAgICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgICAgICB3aWR0aDogaWRlYWxXaWR0aFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW4gZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluKCkge1xuICAgICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5kcm9wZG93bkVsLFxuICAgICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICAgIHZhbHVlOiBbMCwgMV0sXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjYWxlWDogWzAuMywgMV0sXG4gICAgICAgICAgc2NhbGVZOiBbMC4zLCAxXSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50JyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICAgIGlmIChfdGhpczExLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICAgICAgIF90aGlzMTEuZHJvcGRvd25FbC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMxMS5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczExLm9wdGlvbnMub25PcGVuRW5kLmNhbGwoX3RoaXMxMSwgX3RoaXMxMS5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIG91dCBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dCgpIHtcbiAgICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjYWxlWDogMC4zLFxuICAgICAgICAgIHNjYWxlWTogMC4zLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50JyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICAgIF90aGlzMTIuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcblxuICAgICAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczEyLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczEyLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKF90aGlzMTIsIF90aGlzMTIuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUGxhY2UgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wbGFjZURyb3Bkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3BsYWNlRHJvcGRvd24oKSB7XG4gICAgICAgIC8vIFNldCB3aWR0aCBiZWZvcmUgY2FsY3VsYXRpbmcgcG9zaXRpb25JbmZvXG4gICAgICAgIHZhciBpZGVhbFdpZHRoID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbldpZHRoID8gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA6IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gaWRlYWxXaWR0aCArICdweCc7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uSW5mbyA9IHRoaXMuX2dldERyb3Bkb3duUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSBwb3NpdGlvbkluZm8ueCArICdweCc7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSBwb3NpdGlvbkluZm8ueSArICdweCc7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSBwb3NpdGlvbkluZm8uaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gcG9zaXRpb25JbmZvLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IChwb3NpdGlvbkluZm8uaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJzAnIDogJzEwMCUnKSArIFwiIFwiICsgKHBvc2l0aW9uSW5mby52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCcgPyAnMCcgOiAnMTAwJScpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIE9wZW4gRHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNldCBzdHlsZXNcbiAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xuICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgICAgdGhpcy5fc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xvc2UgRHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcblxuICAgICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICB0aGlzLl9yZW1vdmVUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZWNhbGN1bGF0ZSBkaW1lbnNpb25zXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZWNhbGN1bGF0ZURpbWVuc2lvbnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWNhbGN1bGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHRoaXMuJGRyb3Bkb3duRWwuY3NzKHtcbiAgICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICAgIGhlaWdodDogJycsXG4gICAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICAgIHRvcDogJycsXG4gICAgICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KERyb3Bkb3duLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRHJvcGRvd24pLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Ecm9wZG93bjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEcm9wZG93bjtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBEcm9wZG93blxuICAgKi9cblxuXG4gIERyb3Bkb3duLl9kcm9wZG93bnMgPSBbXTtcblxuICBNLkRyb3Bkb3duID0gRHJvcGRvd247XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihEcm9wZG93biwgJ2Ryb3Bkb3duJywgJ01fRHJvcGRvd24nKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIG9wYWNpdHk6IDAuNSxcbiAgICBpbkR1cmF0aW9uOiAyNTAsXG4gICAgb3V0RHVyYXRpb246IDI1MCxcbiAgICBvbk9wZW5TdGFydDogbnVsbCxcbiAgICBvbk9wZW5FbmQ6IG51bGwsXG4gICAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICAgIG9uQ2xvc2VFbmQ6IG51bGwsXG4gICAgcHJldmVudFNjcm9sbGluZzogdHJ1ZSxcbiAgICBkaXNtaXNzaWJsZTogdHJ1ZSxcbiAgICBzdGFydGluZ1RvcDogJzQlJyxcbiAgICBlbmRpbmdUb3A6ICcxMCUnXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDMpIHtcbiAgICBfaW5oZXJpdHMoTW9kYWwsIF9Db21wb25lbnQzKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBNb2RhbCBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNb2RhbChlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgdmFyIF90aGlzMTMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNb2RhbCkpLmNhbGwodGhpcywgTW9kYWwsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMTMuZWwuTV9Nb2RhbCA9IF90aGlzMTM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG1vZGFsXG4gICAgICAgKiBAbWVtYmVyIE1vZGFsI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvcGFjaXR5PTAuNV0gLSBPcGFjaXR5IG9mIHRoZSBtb2RhbCBvdmVybGF5XG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW5EdXJhdGlvbj0yNTBdIC0gTGVuZ3RoIGluIG1zIG9mIGVudGVyIHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvdXREdXJhdGlvbj0yNTBdIC0gTGVuZ3RoIGluIG1zIG9mIGV4aXQgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5TdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlbkVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZVN0YXJ0IC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBtb2RhbCBpcyBjbG9zZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZUVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBjbG9zZWRcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbZGlzbWlzc2libGU9dHJ1ZV0gLSBBbGxvdyBtb2RhbCB0byBiZSBkaXNtaXNzZWQgYnkga2V5Ym9hcmQgb3Igb3ZlcmxheSBjbGlja1xuICAgICAgICogQHByb3Age1N0cmluZ30gW3N0YXJ0aW5nVG9wPSc0JSddIC0gc3RhcnRpbmdUb3BcbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFtlbmRpbmdUb3A9JzEwJSddIC0gZW5kaW5nVG9wXG4gICAgICAgKi9cbiAgICAgIF90aGlzMTMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgbW9kYWxcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczEzLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICBfdGhpczEzLmlkID0gX3RoaXMxMy4kZWwuYXR0cignaWQnKTtcbiAgICAgIF90aGlzMTMuX29wZW5pbmdUcmlnZ2VyID0gdW5kZWZpbmVkO1xuICAgICAgX3RoaXMxMy4kb3ZlcmxheSA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1vdmVybGF5XCI+PC9kaXY+Jyk7XG4gICAgICBfdGhpczEzLmVsLnRhYkluZGV4ID0gMDtcbiAgICAgIF90aGlzMTMuX250aE1vZGFsT3BlbmVkID0gMDtcblxuICAgICAgTW9kYWwuX2NvdW50Kys7XG4gICAgICBfdGhpczEzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczEzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIE1vZGFsLl9jb3VudC0tO1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLiRvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmVsLk1fTW9kYWwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU1vZGFsQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChNb2RhbC5fY291bnQgPT09IDEpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRvdmVybGF5WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJG92ZXJsYXlbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFRyaWdnZXIgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVUcmlnZ2VyQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICAgICAgdmFyICR0cmlnZ2VyID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLm1vZGFsLXRyaWdnZXInKTtcbiAgICAgICAgaWYgKCR0cmlnZ2VyLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBtb2RhbElkID0gTS5nZXRJZEZyb21UcmlnZ2VyKCR0cmlnZ2VyWzBdKTtcbiAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpLk1fTW9kYWw7XG4gICAgICAgICAgaWYgKG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2Uub3BlbigkdHJpZ2dlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBPdmVybGF5IENsaWNrXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlT3ZlcmxheUNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU92ZXJsYXlDbGljaygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBNb2RhbCBDbG9zZSBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1vZGFsQ2xvc2VDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNb2RhbENsb3NlQ2xpY2soZSkge1xuICAgICAgICB2YXIgJGNsb3NlVHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tb2RhbC1jbG9zZScpO1xuICAgICAgICBpZiAoJGNsb3NlVHJpZ2dlci5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgS2V5ZG93blxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUtleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlS2V5ZG93bihlKSB7XG4gICAgICAgIC8vIEVTQyBrZXlcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcgJiYgdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIEZvY3VzXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRm9jdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRm9jdXMoZSkge1xuICAgICAgICAvLyBPbmx5IHRyYXAgZm9jdXMgaWYgdGhpcyBtb2RhbCBpcyB0aGUgbGFzdCBtb2RlbCBvcGVuZWQgKHByZXZlbnRzIGxvb3BzIGluIG5lc3RlZCBtb2RhbHMpLlxuICAgICAgICBpZiAoIXRoaXMuZWwuY29udGFpbnMoZS50YXJnZXQpICYmIHRoaXMuX250aE1vZGFsT3BlbmVkID09PSBNb2RhbC5fbW9kYWxzT3Blbikge1xuICAgICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW4gbW9kYWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluKCkge1xuICAgICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7XG5cbiAgICAgICAgLy8gU2V0IGluaXRpYWwgc3R5bGVzXG4gICAgICAgICQuZXh0ZW5kKHRoaXMuZWwuc3R5bGUsIHtcbiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG4gICAgICAgICQuZXh0ZW5kKHRoaXMuJG92ZXJsYXlbMF0uc3R5bGUsIHtcbiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQW5pbWF0ZSBvdmVybGF5XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJG92ZXJsYXlbMF0sXG4gICAgICAgICAgb3BhY2l0eTogdGhpcy5vcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcbiAgICAgICAgdmFyIGVudGVyQW5pbU9wdGlvbnMgPSB7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcbiAgICAgICAgICAvLyBIYW5kbGUgbW9kYWwgb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMxNC5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczE0Lm9wdGlvbnMub25PcGVuRW5kLmNhbGwoX3RoaXMxNCwgX3RoaXMxNC5lbCwgX3RoaXMxNC5fb3BlbmluZ1RyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgICAgIGlmICh0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnYm90dG9tLXNoZWV0JykpIHtcbiAgICAgICAgICAkLmV4dGVuZChlbnRlckFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcblxuICAgICAgICAgIC8vIE5vcm1hbCBtb2RhbCBhbmltYXRpb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkLmV4dGVuZChlbnRlckFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgICB0b3A6IFt0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3AsIHRoaXMub3B0aW9ucy5lbmRpbmdUb3BdLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHNjYWxlWDogWzAuOCwgMV0sXG4gICAgICAgICAgICBzY2FsZVk6IFswLjgsIDFdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgb3V0IG1vZGFsXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3V0KCkge1xuICAgICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7XG5cbiAgICAgICAgLy8gQW5pbWF0ZSBvdmVybGF5XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJG92ZXJsYXlbMF0sXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFydCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVmaW5lIG1vZGFsIGFuaW1hdGlvbiBvcHRpb25zXG4gICAgICAgIHZhciBleGl0QW5pbU9wdGlvbnMgPSB7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAgICAgLy8gSGFuZGxlIG1vZGFsIHJlYWR5IGNhbGxiYWNrXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMTUuZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIF90aGlzMTUuJG92ZXJsYXkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIC8vIENhbGwgb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczE1Lm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczE1Lm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKF90aGlzMTUsIF90aGlzMTUuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgICAgIGlmICh0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnYm90dG9tLXNoZWV0JykpIHtcbiAgICAgICAgICAkLmV4dGVuZChleGl0QW5pbU9wdGlvbnMsIHtcbiAgICAgICAgICAgIGJvdHRvbTogJy0xMDAlJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhbmltKGV4aXRBbmltT3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBOb3JtYWwgbW9kYWwgYW5pbWF0aW9uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJC5leHRlbmQoZXhpdEFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgICB0b3A6IFt0aGlzLm9wdGlvbnMuZW5kaW5nVG9wLCB0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3BdLFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIHNjYWxlWDogMC44LFxuICAgICAgICAgICAgc2NhbGVZOiAwLjhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhbmltKGV4aXRBbmltT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIE1vZGFsXG4gICAgICAgKiBAcGFyYW0ge2Nhc2h9IFskdHJpZ2dlcl1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCR0cmlnZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgTW9kYWwuX21vZGFsc09wZW4rKztcbiAgICAgICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSBNb2RhbC5fbW9kYWxzT3BlbjtcblxuICAgICAgICAvLyBTZXQgWi1JbmRleCBiYXNlZCBvbiBudW1iZXIgb2YgY3VycmVudGx5IG9wZW4gbW9kYWxzXG4gICAgICAgIHRoaXMuJG92ZXJsYXlbMF0uc3R5bGUuekluZGV4ID0gMTAwMCArIE1vZGFsLl9tb2RhbHNPcGVuICogMjtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS56SW5kZXggPSAxMDAwICsgTW9kYWwuX21vZGFsc09wZW4gKiAyICsgMTtcblxuICAgICAgICAvLyBTZXQgb3BlbmluZyB0cmlnZ2VyLCB1bmRlZmluZWQgaW5kaWNhdGVzIG1vZGFsIHdhcyBvcGVuZWQgYnkgamF2YXNjcmlwdFxuICAgICAgICB0aGlzLl9vcGVuaW5nVHJpZ2dlciA9ICEhJHRyaWdnZXIgPyAkdHJpZ2dlclswXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwsIHRoaXMuX29wZW5pbmdUcmlnZ2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICB0aGlzLmVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCB0aGlzLiRvdmVybGF5WzBdKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duQm91bmQpO1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuXG4gICAgICAgIC8vIEZvY3VzIG1vZGFsXG4gICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBNb2RhbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIE1vZGFsLl9tb2RhbHNPcGVuLS07XG4gICAgICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gMDtcblxuICAgICAgICAvLyBDYWxsIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcblxuICAgICAgICAvLyBFbmFibGUgYm9keSBzY3JvbGxpbmcgb25seSBpZiB0aGVyZSBhcmUgbm8gbW9yZSBtb2RhbHMgb3Blbi5cbiAgICAgICAgaWYgKE1vZGFsLl9tb2RhbHNPcGVuID09PSAwKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duQm91bmQpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWwpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Nb2RhbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBNb2RhbFxuICAgKi9cblxuXG4gIE1vZGFsLl9tb2RhbHNPcGVuID0gMDtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgTW9kYWxcbiAgICovXG4gIE1vZGFsLl9jb3VudCA9IDA7XG5cbiAgTS5Nb2RhbCA9IE1vZGFsO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoTW9kYWwsICdtb2RhbCcsICdNX01vZGFsJyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBpbkR1cmF0aW9uOiAyNzUsXG4gICAgb3V0RHVyYXRpb246IDIwMCxcbiAgICBvbk9wZW5TdGFydDogbnVsbCxcbiAgICBvbk9wZW5FbmQ6IG51bGwsXG4gICAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICAgIG9uQ2xvc2VFbmQ6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBNYXRlcmlhbGJveCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50NCkge1xuICAgIF9pbmhlcml0cyhNYXRlcmlhbGJveCwgX0NvbXBvbmVudDQpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IE1hdGVyaWFsYm94IGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWF0ZXJpYWxib3goZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXRlcmlhbGJveCk7XG5cbiAgICAgIHZhciBfdGhpczE2ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1hdGVyaWFsYm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWF0ZXJpYWxib3gpKS5jYWxsKHRoaXMsIE1hdGVyaWFsYm94LCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczE2LmVsLk1fTWF0ZXJpYWxib3ggPSBfdGhpczE2O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBNYXRlcmlhbGJveCNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW5EdXJhdGlvbj0yNzVdIC0gTGVuZ3RoIGluIG1zIG9mIGVudGVyIHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvdXREdXJhdGlvbj0yMDBdIC0gTGVuZ3RoIGluIG1zIG9mIGV4aXQgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5TdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbWF0ZXJpYWxib3ggaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlbkVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtYXRlcmlhbGJveCBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZVN0YXJ0IC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBtYXRlcmlhbGJveCBpcyBjbG9zZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZUVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtYXRlcmlhbGJveCBpcyBjbG9zZWRcbiAgICAgICAqL1xuICAgICAgX3RoaXMxNi5vcHRpb25zID0gJC5leHRlbmQoe30sIE1hdGVyaWFsYm94LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXMxNi5vdmVybGF5QWN0aXZlID0gZmFsc2U7XG4gICAgICBfdGhpczE2LmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgX3RoaXMxNi5wbGFjZWhvbGRlciA9ICQoJzxkaXY+PC9kaXY+JykuYWRkQ2xhc3MoJ21hdGVyaWFsLXBsYWNlaG9sZGVyJyk7XG4gICAgICBfdGhpczE2Lm9yaWdpbmFsV2lkdGggPSAwO1xuICAgICAgX3RoaXMxNi5vcmlnaW5hbEhlaWdodCA9IDA7XG4gICAgICBfdGhpczE2Lm9yaWdpbklubGluZVN0eWxlcyA9IF90aGlzMTYuJGVsLmF0dHIoJ3N0eWxlJyk7XG4gICAgICBfdGhpczE2LmNhcHRpb24gPSBfdGhpczE2LmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJykgfHwgJyc7XG5cbiAgICAgIC8vIFdyYXBcbiAgICAgIF90aGlzMTYuJGVsLmJlZm9yZShfdGhpczE2LnBsYWNlaG9sZGVyKTtcbiAgICAgIF90aGlzMTYucGxhY2Vob2xkZXIuYXBwZW5kKF90aGlzMTYuJGVsKTtcblxuICAgICAgX3RoaXMxNi5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXMxNjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTWF0ZXJpYWxib3gsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuTV9NYXRlcmlhbGJveCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBVbndyYXAgaW1hZ2VcbiAgICAgICAgJCh0aGlzLnBsYWNlaG9sZGVyKS5hZnRlcih0aGlzLmVsKS5yZW1vdmUoKTtcblxuICAgICAgICB0aGlzLiRlbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNYXRlcmlhbGJveENsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBNYXRlcmlhbGJveCBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTWF0ZXJpYWxib3hDbGljayhlKSB7XG4gICAgICAgIC8vIElmIGFscmVhZHkgbW9kYWwsIHJldHVybiB0byBvcmlnaW5hbFxuICAgICAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nID09PSBmYWxzZSB8fCB0aGlzLm92ZXJsYXlBY3RpdmUgJiYgdGhpcy5kb25lQW5pbWF0aW5nKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFdpbmRvdyBTY3JvbGxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dTY3JvbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93U2Nyb2xsKCkge1xuICAgICAgICBpZiAodGhpcy5vdmVybGF5QWN0aXZlKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5vdmVybGF5QWN0aXZlKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dFc2NhcGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93RXNjYXBlKGUpIHtcbiAgICAgICAgLy8gRVNDIGtleVxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNyAmJiB0aGlzLmRvbmVBbmltYXRpbmcgJiYgdGhpcy5vdmVybGF5QWN0aXZlKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRmluZCBhbmNlc3RvcnMgd2l0aCBvdmVyZmxvdzogaGlkZGVuOyBhbmQgbWFrZSB2aXNpYmxlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tYWtlQW5jZXN0b3JzT3ZlcmZsb3dWaXNpYmxlKCkge1xuICAgICAgICB0aGlzLmFuY2VzdG9yc0NoYW5nZWQgPSAkKCk7XG4gICAgICAgIHZhciBhbmNlc3RvciA9IHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZTtcbiAgICAgICAgd2hpbGUgKGFuY2VzdG9yICE9PSBudWxsICYmICEkKGFuY2VzdG9yKS5pcyhkb2N1bWVudCkpIHtcbiAgICAgICAgICB2YXIgY3VyciA9ICQoYW5jZXN0b3IpO1xuICAgICAgICAgIGlmIChjdXJyLmNzcygnb3ZlcmZsb3cnKSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICBjdXJyLmNzcygnb3ZlcmZsb3cnLCAndmlzaWJsZScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5jZXN0b3JzQ2hhbmdlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRoaXMuYW5jZXN0b3JzQ2hhbmdlZCA9IGN1cnI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmFuY2VzdG9yc0NoYW5nZWQgPSB0aGlzLmFuY2VzdG9yc0NoYW5nZWQuYWRkKGN1cnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGltYWdlIGluXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUltYWdlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUltYWdlSW4oKSB7XG4gICAgICAgIHZhciBfdGhpczE3ID0gdGhpcztcblxuICAgICAgICB2YXIgYW5pbU9wdGlvbnMgPSB7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICBoZWlnaHQ6IFt0aGlzLm9yaWdpbmFsSGVpZ2h0LCB0aGlzLm5ld0hlaWdodF0sXG4gICAgICAgICAgd2lkdGg6IFt0aGlzLm9yaWdpbmFsV2lkdGgsIHRoaXMubmV3V2lkdGhdLFxuICAgICAgICAgIGxlZnQ6IE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCkgKyB0aGlzLndpbmRvd1dpZHRoIC8gMiAtIHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkubGVmdCAtIHRoaXMubmV3V2lkdGggLyAyLFxuICAgICAgICAgIHRvcDogTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpICsgdGhpcy53aW5kb3dIZWlnaHQgLyAyIC0gdGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKS50b3AgLSB0aGlzLm5ld0hlaWdodCAvIDIsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMxNy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMTcub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxNy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKF90aGlzMTcsIF90aGlzMTcuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBPdmVycmlkZSBtYXgtd2lkdGggb3IgbWF4LWhlaWdodCBpZiBuZWVkZWRcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IHRoaXMuJGVsLmNzcygnbWF4LXdpZHRoJyk7XG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gdGhpcy4kZWwuY3NzKCdtYXgtaGVpZ2h0Jyk7XG4gICAgICAgIGlmICh0aGlzLm1heFdpZHRoICE9PSAnbm9uZScpIHtcbiAgICAgICAgICBhbmltT3B0aW9ucy5tYXhXaWR0aCA9IHRoaXMubmV3V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4SGVpZ2h0ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICBhbmltT3B0aW9ucy5tYXhIZWlnaHQgPSB0aGlzLm5ld0hlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW1hZ2Ugb3V0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUltYWdlT3V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbWFnZU91dCgpIHtcbiAgICAgICAgdmFyIF90aGlzMTggPSB0aGlzO1xuXG4gICAgICAgIHZhciBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczE4LnBsYWNlaG9sZGVyLmNzcyh7XG4gICAgICAgICAgICAgIGhlaWdodDogJycsXG4gICAgICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICAgICAgcG9zaXRpb246ICcnLFxuICAgICAgICAgICAgICB0b3A6ICcnLFxuICAgICAgICAgICAgICBsZWZ0OiAnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJldmVydCB0byB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlXG4gICAgICAgICAgICBpZiAoX3RoaXMxOC5hdHRyV2lkdGgpIHtcbiAgICAgICAgICAgICAgX3RoaXMxOC4kZWwuYXR0cignd2lkdGgnLCBfdGhpczE4LmF0dHJXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMxOC5hdHRySGVpZ2h0KSB7XG4gICAgICAgICAgICAgIF90aGlzMTguJGVsLmF0dHIoJ2hlaWdodCcsIF90aGlzMTguYXR0ckhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMTguJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBfdGhpczE4Lm9yaWdpbklubGluZVN0eWxlcyAmJiBfdGhpczE4LiRlbC5hdHRyKCdzdHlsZScsIF90aGlzMTgub3JpZ2luSW5saW5lU3R5bGVzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzXG4gICAgICAgICAgICBfdGhpczE4LiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBfdGhpczE4LmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgb3ZlcmZsb3cgb3ZlcnJpZGVzIG9uIGFuY2VzdG9yc1xuICAgICAgICAgICAgaWYgKF90aGlzMTguYW5jZXN0b3JzQ2hhbmdlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgX3RoaXMxOC5hbmNlc3RvcnNDaGFuZ2VkLmNzcygnb3ZlcmZsb3cnLCAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMxOC5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxOC5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczE4LCBfdGhpczE4LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVXBkYXRlIG9wZW4gYW5kIGNsb3NlIHZhcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl91cGRhdGVWYXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVZhcnMoKSB7XG4gICAgICAgIHRoaXMud2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIE1hdGVyaWFsYm94XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgdmFyIF90aGlzMTkgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZhcnMoKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEhlaWdodCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFNldCBzdGF0ZXNcbiAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy5vdmVybGF5QWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uaW5nIGZvciBwbGFjZWhvbGRlclxuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLmNzcyh7XG4gICAgICAgICAgd2lkdGg6IHRoaXMucGxhY2Vob2xkZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnLFxuICAgICAgICAgIGhlaWdodDogdGhpcy5wbGFjZWhvbGRlclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyAncHgnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21ha2VBbmNlc3RvcnNPdmVyZmxvd1Zpc2libGUoKTtcblxuICAgICAgICAvLyBTZXQgY3NzIG9uIG9yaWdpblxuICAgICAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICd6LWluZGV4JzogMTAwMCxcbiAgICAgICAgICAnd2lsbC1jaGFuZ2UnOiAnbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDaGFuZ2UgZnJvbSB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlIHRvIGNzc1xuICAgICAgICB0aGlzLmF0dHJXaWR0aCA9IHRoaXMuJGVsLmF0dHIoJ3dpZHRoJyk7XG4gICAgICAgIHRoaXMuYXR0ckhlaWdodCA9IHRoaXMuJGVsLmF0dHIoJ2hlaWdodCcpO1xuICAgICAgICBpZiAodGhpcy5hdHRyV2lkdGgpIHtcbiAgICAgICAgICB0aGlzLiRlbC5jc3MoJ3dpZHRoJywgdGhpcy5hdHRyV2lkdGggKyAncHgnKTtcbiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVBdHRyKCd3aWR0aCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJIZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLiRlbC5jc3MoJ3dpZHRoJywgdGhpcy5hdHRySGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignaGVpZ2h0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgb3ZlcmxheVxuICAgICAgICB0aGlzLiRvdmVybGF5ID0gJCgnPGRpdiBpZD1cIm1hdGVyaWFsYm94LW92ZXJsYXlcIj48L2Rpdj4nKS5jc3Moe1xuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSkub25lKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMxOS5kb25lQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICBfdGhpczE5LmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQdXQgYmVmb3JlIGluIG9yaWdpbiBpbWFnZSB0byBwcmVzZXJ2ZSB6LWluZGV4IGxheWVyaW5nLlxuICAgICAgICB0aGlzLiRlbC5iZWZvcmUodGhpcy4kb3ZlcmxheSk7XG5cbiAgICAgICAgLy8gU2V0IGRpbWVuc2lvbnMgaWYgbmVlZGVkXG4gICAgICAgIHZhciBvdmVybGF5T2Zmc2V0ID0gdGhpcy4kb3ZlcmxheVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy4kb3ZlcmxheS5jc3Moe1xuICAgICAgICAgIHdpZHRoOiB0aGlzLndpbmRvd1dpZHRoICsgJ3B4JyxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMud2luZG93SGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICBsZWZ0OiAtMSAqIG92ZXJsYXlPZmZzZXQubGVmdCArICdweCcsXG4gICAgICAgICAgdG9wOiAtMSAqIG92ZXJsYXlPZmZzZXQudG9wICsgJ3B4J1xuICAgICAgICB9KTtcblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgICAgLy8gQW5pbWF0ZSBPdmVybGF5XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJG92ZXJsYXlbMF0sXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBhbmQgYW5pbWF0ZSBjYXB0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykge1xuICAgICAgICAgIGlmICh0aGlzLiRwaG90b2NhcHRpb24pIHtcbiAgICAgICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJHBob3RvQ2FwdGlvblswXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuJHBob3RvQ2FwdGlvbiA9ICQoJzxkaXYgY2xhc3M9XCJtYXRlcmlhbGJveC1jYXB0aW9uXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgdGhpcy4kcGhvdG9DYXB0aW9uLnRleHQodGhpcy5jYXB0aW9uKTtcbiAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKHRoaXMuJHBob3RvQ2FwdGlvbik7XG4gICAgICAgICAgdGhpcy4kcGhvdG9DYXB0aW9uLmNzcyh7IGRpc3BsYXk6ICdpbmxpbmUnIH0pO1xuXG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRwaG90b0NhcHRpb25bMF0sXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNpemUgSW1hZ2VcbiAgICAgICAgdmFyIHJhdGlvID0gMDtcbiAgICAgICAgdmFyIHdpZHRoUGVyY2VudCA9IHRoaXMub3JpZ2luYWxXaWR0aCAvIHRoaXMud2luZG93V2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHRQZXJjZW50ID0gdGhpcy5vcmlnaW5hbEhlaWdodCAvIHRoaXMud2luZG93SGVpZ2h0O1xuICAgICAgICB0aGlzLm5ld1dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uZXdIZWlnaHQgPSAwO1xuXG4gICAgICAgIGlmICh3aWR0aFBlcmNlbnQgPiBoZWlnaHRQZXJjZW50KSB7XG4gICAgICAgICAgcmF0aW8gPSB0aGlzLm9yaWdpbmFsSGVpZ2h0IC8gdGhpcy5vcmlnaW5hbFdpZHRoO1xuICAgICAgICAgIHRoaXMubmV3V2lkdGggPSB0aGlzLndpbmRvd1dpZHRoICogMC45O1xuICAgICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOSAqIHJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhdGlvID0gdGhpcy5vcmlnaW5hbFdpZHRoIC8gdGhpcy5vcmlnaW5hbEhlaWdodDtcbiAgICAgICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dIZWlnaHQgKiAwLjkgKiByYXRpbztcbiAgICAgICAgICB0aGlzLm5ld0hlaWdodCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZUltYWdlSW4oKTtcblxuICAgICAgICAvLyBIYW5kbGUgRXhpdCB0cmlnZ2Vyc1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd0VzY2FwZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZVdpbmRvd0VzY2FwZUJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBNYXRlcmlhbGJveFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMjAgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZhcnMoKTtcbiAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gb25DbG9zZVN0YXJ0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLiRvdmVybGF5WzBdKTtcblxuICAgICAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykge1xuICAgICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJHBob3RvQ2FwdGlvblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNhYmxlIGV4aXQgaGFuZGxlcnNcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQpO1xuXG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJG92ZXJsYXlbMF0sXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyMC5vdmVybGF5QWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpczIwLiRvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZUltYWdlT3V0KCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIENhcHRpb24gKyByZXNldCBjc3Mgc2V0dGluZ3Mgb24gaW1hZ2VcbiAgICAgICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuJHBob3RvQ2FwdGlvblswXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMyMC4kcGhvdG9DYXB0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KE1hdGVyaWFsYm94Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWF0ZXJpYWxib3gpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9NYXRlcmlhbGJveDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNYXRlcmlhbGJveDtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uTWF0ZXJpYWxib3ggPSBNYXRlcmlhbGJveDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKE1hdGVyaWFsYm94LCAnbWF0ZXJpYWxib3gnLCAnTV9NYXRlcmlhbGJveCcpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgcmVzcG9uc2l2ZVRocmVzaG9sZDogMCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcbiAgfTtcblxuICB2YXIgUGFyYWxsYXggPSBmdW5jdGlvbiAoX0NvbXBvbmVudDUpIHtcbiAgICBfaW5oZXJpdHMoUGFyYWxsYXgsIF9Db21wb25lbnQ1KTtcblxuICAgIGZ1bmN0aW9uIFBhcmFsbGF4KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFyYWxsYXgpO1xuXG4gICAgICB2YXIgX3RoaXMyMSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQYXJhbGxheC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcmFsbGF4KSkuY2FsbCh0aGlzLCBQYXJhbGxheCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMyMS5lbC5NX1BhcmFsbGF4ID0gX3RoaXMyMTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgUGFyYWxsYXhcbiAgICAgICAqIEBtZW1iZXIgUGFyYWxsYXgjb3B0aW9uc1xuICAgICAgICogQHByb3Age051bWJlcn0gcmVzcG9uc2l2ZVRocmVzaG9sZFxuICAgICAgICovXG4gICAgICBfdGhpczIxLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUGFyYWxsYXguZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgX3RoaXMyMS5fZW5hYmxlZCA9IHdpbmRvdy5pbm5lcldpZHRoID4gX3RoaXMyMS5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG5cbiAgICAgIF90aGlzMjEuJGltZyA9IF90aGlzMjEuJGVsLmZpbmQoJ2ltZycpLmZpcnN0KCk7XG4gICAgICBfdGhpczIxLiRpbWcuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbCA9IHRoaXM7XG4gICAgICAgIGlmIChlbC5jb21wbGV0ZSkgJChlbCkudHJpZ2dlcignbG9hZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzMjEuX3VwZGF0ZVBhcmFsbGF4KCk7XG4gICAgICBfdGhpczIxLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIF90aGlzMjEuX3NldHVwU3R5bGVzKCk7XG5cbiAgICAgIFBhcmFsbGF4Ll9wYXJhbGxheGVzLnB1c2goX3RoaXMyMSk7XG4gICAgICByZXR1cm4gX3RoaXMyMTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUGFyYWxsYXgsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5zcGxpY2UoUGFyYWxsYXguX3BhcmFsbGF4ZXMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgIHRoaXMuJGltZ1swXS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICAgIHRoaXMuJGVsWzBdLk1fUGFyYWxsYXggPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUxvYWRCb3VuZCA9IHRoaXMuX2hhbmRsZUltYWdlTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLiRpbWdbMF0uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kKTtcblxuICAgICAgICBpZiAoUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCA9IE0udGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVNjcm9sbCwgNSk7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuXG4gICAgICAgICAgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCA9IE0udGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZSwgNSk7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuJGltZ1swXS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkQm91bmQpO1xuXG4gICAgICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCk7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cFN0eWxlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFN0eWxlcygpIHtcbiAgICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW1hZ2VMb2FkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUltYWdlTG9hZCgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUGFyYWxsYXgoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZVBhcmFsbGF4XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVBhcmFsbGF4KCkge1xuICAgICAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gdGhpcy4kZWwuaGVpZ2h0KCkgPiAwID8gdGhpcy5lbC5wYXJlbnROb2RlLm9mZnNldEhlaWdodCA6IDUwMDtcbiAgICAgICAgdmFyIGltZ0hlaWdodCA9IHRoaXMuJGltZ1swXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBwYXJhbGxheERpc3QgPSBpbWdIZWlnaHQgLSBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgIHZhciBib3R0b20gPSB0aGlzLiRlbC5vZmZzZXQoKS50b3AgKyBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLiRlbC5vZmZzZXQoKS50b3A7XG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciB3aW5kb3dCb3R0b20gPSBzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gICAgICAgIHZhciBwZXJjZW50U2Nyb2xsZWQgPSAod2luZG93Qm90dG9tIC0gdG9wKSAvIChjb250YWluZXJIZWlnaHQgKyB3aW5kb3dIZWlnaHQpO1xuICAgICAgICB2YXIgcGFyYWxsYXggPSBwYXJhbGxheERpc3QgKiBwZXJjZW50U2Nyb2xsZWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IHNjcm9sbFRvcCAmJiB0b3AgPCBzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLiRpbWdbMF0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzRCgtNTAlLCBcIiArIHBhcmFsbGF4ICsgXCJweCwgMClcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChQYXJhbGxheC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcmFsbGF4KSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fUGFyYWxsYXg7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVTY3JvbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcmFsbGF4SW5zdGFuY2UgPSBQYXJhbGxheC5fcGFyYWxsYXhlc1tpXTtcbiAgICAgICAgICBwYXJhbGxheEluc3RhbmNlLl91cGRhdGVQYXJhbGxheC5jYWxsKHBhcmFsbGF4SW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcmFsbGF4SW5zdGFuY2UgPSBQYXJhbGxheC5fcGFyYWxsYXhlc1tpXTtcbiAgICAgICAgICBwYXJhbGxheEluc3RhbmNlLl9lbmFibGVkID0gd2luZG93LmlubmVyV2lkdGggPiBwYXJhbGxheEluc3RhbmNlLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBhcmFsbGF4O1xuICB9KENvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBhcmFsbGF4XG4gICAqL1xuXG5cbiAgUGFyYWxsYXguX3BhcmFsbGF4ZXMgPSBbXTtcblxuICBNLlBhcmFsbGF4ID0gUGFyYWxsYXg7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihQYXJhbGxheCwgJ3BhcmFsbGF4JywgJ01fUGFyYWxsYXgnKTtcbiAgfVxufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgb25TaG93OiBudWxsLFxuICAgIHN3aXBlYWJsZTogZmFsc2UsXG4gICAgcmVzcG9uc2l2ZVRocmVzaG9sZDogSW5maW5pdHkgLy8gYnJlYWtwb2ludCBmb3Igc3dpcGVhYmxlXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgVGFicyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50Nikge1xuICAgIF9pbmhlcml0cyhUYWJzLCBfQ29tcG9uZW50Nik7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgVGFicyBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhYnMoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJzKTtcblxuICAgICAgdmFyIF90aGlzMjIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFicy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhYnMpKS5jYWxsKHRoaXMsIFRhYnMsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMjIuZWwuTV9UYWJzID0gX3RoaXMyMjtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgVGFic1xuICAgICAgICogQG1lbWJlciBUYWJzI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IGR1cmF0aW9uXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uU2hvd1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IHN3aXBlYWJsZVxuICAgICAgICogQHByb3Age051bWJlcn0gcmVzcG9uc2l2ZVRocmVzaG9sZFxuICAgICAgICovXG4gICAgICBfdGhpczIyLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGFicy5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICBfdGhpczIyLiR0YWJMaW5rcyA9IF90aGlzMjIuJGVsLmNoaWxkcmVuKCdsaS50YWInKS5jaGlsZHJlbignYScpO1xuICAgICAgX3RoaXMyMi5pbmRleCA9IDA7XG4gICAgICBfdGhpczIyLl9zZXR1cEFjdGl2ZVRhYkxpbmsoKTtcblxuICAgICAgLy8gU2V0dXAgdGFicyBjb250ZW50XG4gICAgICBpZiAoX3RoaXMyMi5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICBfdGhpczIyLl9zZXR1cFN3aXBlYWJsZVRhYnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMjIuX3NldHVwTm9ybWFsVGFicygpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB0YWJzIGluZGljYXRvciBhZnRlciBjb250ZW50IHRvIGVuc3VyZSBhY2N1cmF0ZSB3aWR0aHNcbiAgICAgIF90aGlzMjIuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xuICAgICAgX3RoaXMyMi5fY3JlYXRlSW5kaWNhdG9yKCk7XG5cbiAgICAgIF90aGlzMjIuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzMjI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYnMsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX2luZGljYXRvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2luZGljYXRvcik7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zd2lwZWFibGUpIHtcbiAgICAgICAgICB0aGlzLl90ZWFyZG93blN3aXBlYWJsZVRhYnMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl90ZWFyZG93bk5vcm1hbFRhYnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGVsWzBdLk1fVGFicyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93UmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlVGFiQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZVRhYkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYWJDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYWJDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgd2luZG93IFJlc2l6ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVdpbmRvd1Jlc2l6ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRhYldpZHRoICE9PSAwICYmIHRoaXMudGFic1dpZHRoICE9PSAwKSB7XG4gICAgICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLmxlZnQgPSB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLiRhY3RpdmVUYWJMaW5rKSArICdweCc7XG4gICAgICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gdGhpcy5fY2FsY1JpZ2h0UG9zKHRoaXMuJGFjdGl2ZVRhYkxpbmspICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSB0YWIgY2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVUYWJDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVUYWJDbGljayhlKSB7XG4gICAgICAgIHZhciBfdGhpczIzID0gdGhpcztcblxuICAgICAgICB2YXIgdGFiID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGkudGFiJyk7XG4gICAgICAgIHZhciB0YWJMaW5rID0gJChlLnRhcmdldCkuY2xvc2VzdCgnYScpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBjbGljayBvbiB0YWIgbGluayBvbmx5XG4gICAgICAgIGlmICghdGFiTGluay5sZW5ndGggfHwgIXRhYkxpbmsucGFyZW50KCkuaGFzQ2xhc3MoJ3RhYicpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhYi5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3QgYXMgcmVndWxhciBsaW5rIGlmIHRhcmdldCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLlxuICAgICAgICBpZiAoISF0YWJMaW5rLmF0dHIoJ3RhcmdldCcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSB0aGUgb2xkIHRhYiBpbmFjdGl2ZS5cbiAgICAgICAgdGhpcy4kYWN0aXZlVGFiTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHZhciAkb2xkQ29udGVudCA9IHRoaXMuJGNvbnRlbnQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2YXJpYWJsZXMgd2l0aCB0aGUgbmV3IGxpbmsgYW5kIGNvbnRlbnRcbiAgICAgICAgdGhpcy4kYWN0aXZlVGFiTGluayA9IHRhYkxpbms7XG4gICAgICAgIHRoaXMuJGNvbnRlbnQgPSAkKE0uZXNjYXBlSGFzaCh0YWJMaW5rWzBdLmhhc2gpKTtcbiAgICAgICAgdGhpcy4kdGFiTGlua3MgPSB0aGlzLiRlbC5jaGlsZHJlbignbGkudGFiJykuY2hpbGRyZW4oJ2EnKTtcblxuICAgICAgICAvLyBNYWtlIHRoZSB0YWIgYWN0aXZlLlxuICAgICAgICB0aGlzLiRhY3RpdmVUYWJMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdmFyIHByZXZJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMuaW5kZXggPSBNYXRoLm1heCh0aGlzLiR0YWJMaW5rcy5pbmRleCh0YWJMaW5rKSwgMCk7XG5cbiAgICAgICAgLy8gU3dhcCBjb250ZW50XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3RhYnNDYXJvdXNlbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldCh0aGlzLmluZGV4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyMy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIF90aGlzMjMub3B0aW9ucy5vblNob3cuY2FsbChfdGhpczIzLCBfdGhpczIzLiRjb250ZW50WzBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLiRjb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kY29udGVudFswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIHRoaXMuJGNvbnRlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLiRjb250ZW50WzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCRvbGRDb250ZW50Lmxlbmd0aCAmJiAhJG9sZENvbnRlbnQuaXModGhpcy4kY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJG9sZENvbnRlbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgJG9sZENvbnRlbnQucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB3aWR0aHMgYWZ0ZXIgY29udGVudCBpcyBzd2FwcGVkIChzY3JvbGxiYXIgYnVnZml4KVxuICAgICAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcblxuICAgICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yXG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KTtcblxuICAgICAgICAvLyBQcmV2ZW50IHRoZSBhbmNob3IncyBkZWZhdWx0IGNsaWNrIGFjdGlvblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2VuZXJhdGUgZWxlbWVudHMgZm9yIHRhYiBpbmRpY2F0b3IuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY3JlYXRlSW5kaWNhdG9yXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUluZGljYXRvcigpIHtcbiAgICAgICAgdmFyIF90aGlzMjQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yJyk7XG5cbiAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3IgPSBpbmRpY2F0b3I7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyNC5faW5kaWNhdG9yLnN0eWxlLmxlZnQgPSBfdGhpczI0Ll9jYWxjTGVmdFBvcyhfdGhpczI0LiRhY3RpdmVUYWJMaW5rKSArICdweCc7XG4gICAgICAgICAgX3RoaXMyNC5faW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gX3RoaXMyNC5fY2FsY1JpZ2h0UG9zKF90aGlzMjQuJGFjdGl2ZVRhYkxpbmspICsgJ3B4JztcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgZmlyc3QgYWN0aXZlIHRhYiBsaW5rLlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwQWN0aXZlVGFiTGlua1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEFjdGl2ZVRhYkxpbmsoKSB7XG4gICAgICAgIC8vIElmIHRoZSBsb2NhdGlvbi5oYXNoIG1hdGNoZXMgb25lIG9mIHRoZSBsaW5rcywgdXNlIHRoYXQgYXMgdGhlIGFjdGl2ZSB0YWIuXG4gICAgICAgIHRoaXMuJGFjdGl2ZVRhYkxpbmsgPSAkKHRoaXMuJHRhYkxpbmtzLmZpbHRlcignW2hyZWY9XCInICsgbG9jYXRpb24uaGFzaCArICdcIl0nKSk7XG5cbiAgICAgICAgLy8gSWYgbm8gbWF0Y2ggaXMgZm91bmQsIHVzZSB0aGUgZmlyc3QgbGluayBvciBhbnkgd2l0aCBjbGFzcyAnYWN0aXZlJyBhcyB0aGUgaW5pdGlhbCBhY3RpdmUgdGFiLlxuICAgICAgICBpZiAodGhpcy4kYWN0aXZlVGFiTGluay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLiRhY3RpdmVUYWJMaW5rID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpLnRhYicpLmNoaWxkcmVuKCdhLmFjdGl2ZScpLmZpcnN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGFjdGl2ZVRhYkxpbmsubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy4kYWN0aXZlVGFiTGluayA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaS50YWInKS5jaGlsZHJlbignYScpLmZpcnN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiR0YWJMaW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuJGFjdGl2ZVRhYkxpbmtbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IE1hdGgubWF4KHRoaXMuJHRhYkxpbmtzLmluZGV4KHRoaXMuJGFjdGl2ZVRhYkxpbmspLCAwKTtcblxuICAgICAgICBpZiAodGhpcy4kYWN0aXZlVGFiTGluay5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRjb250ZW50ID0gJChNLmVzY2FwZUhhc2godGhpcy4kYWN0aXZlVGFiTGlua1swXS5oYXNoKSk7XG4gICAgICAgICAgdGhpcy4kY29udGVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBzd2lwZWFibGUgdGFic1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwU3dpcGVhYmxlVGFic1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFN3aXBlYWJsZVRhYnMoKSB7XG4gICAgICAgIHZhciBfdGhpczI1ID0gdGhpcztcblxuICAgICAgICAvLyBDaGFuZ2Ugc3dpcGVhYmxlIGFjY29yZGluZyB0byByZXNwb25zaXZlIHRocmVzaG9sZFxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZCkge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5zd2lwZWFibGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciAkdGFic0NvbnRlbnQgPSAkKCk7XG4gICAgICAgIHRoaXMuJHRhYkxpbmtzLmVhY2goZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICB2YXIgJGN1cnJDb250ZW50ID0gJChNLmVzY2FwZUhhc2gobGluay5oYXNoKSk7XG4gICAgICAgICAgJGN1cnJDb250ZW50LmFkZENsYXNzKCdjYXJvdXNlbC1pdGVtJyk7XG4gICAgICAgICAgJHRhYnNDb250ZW50ID0gJHRhYnNDb250ZW50LmFkZCgkY3VyckNvbnRlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgJHRhYnNXcmFwcGVyID0gJCgnPGRpdiBjbGFzcz1cInRhYnMtY29udGVudCBjYXJvdXNlbCBjYXJvdXNlbC1zbGlkZXJcIj48L2Rpdj4nKTtcbiAgICAgICAgJHRhYnNDb250ZW50LmZpcnN0KCkuYmVmb3JlKCR0YWJzV3JhcHBlcik7XG4gICAgICAgICR0YWJzV3JhcHBlci5hcHBlbmQoJHRhYnNDb250ZW50KTtcbiAgICAgICAgJHRhYnNDb250ZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgICAgICAvLyBLZWVwIGFjdGl2ZSB0YWIgaW5kZXggdG8gc2V0IGluaXRpYWwgY2Fyb3VzZWwgc2xpZGVcbiAgICAgICAgdmFyIGFjdGl2ZVRhYkluZGV4ID0gdGhpcy4kYWN0aXZlVGFiTGluay5jbG9zZXN0KCcudGFiJykuaW5kZXgoKTtcblxuICAgICAgICB0aGlzLl90YWJzQ2Fyb3VzZWwgPSBNLkNhcm91c2VsLmluaXQoJHRhYnNXcmFwcGVyWzBdLCB7XG4gICAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgICAgICBvbkN5Y2xlVG86IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gX3RoaXMyNS5pbmRleDtcbiAgICAgICAgICAgIF90aGlzMjUuaW5kZXggPSAkKGl0ZW0pLmluZGV4KCk7XG4gICAgICAgICAgICBfdGhpczI1LiRhY3RpdmVUYWJMaW5rLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIF90aGlzMjUuJGFjdGl2ZVRhYkxpbmsgPSBfdGhpczI1LiR0YWJMaW5rcy5lcShfdGhpczI1LmluZGV4KTtcbiAgICAgICAgICAgIF90aGlzMjUuJGFjdGl2ZVRhYkxpbmsuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgX3RoaXMyNS5fYW5pbWF0ZUluZGljYXRvcihwcmV2SW5kZXgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczI1Lm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIF90aGlzMjUub3B0aW9ucy5vblNob3cuY2FsbChfdGhpczI1LCBfdGhpczI1LiRjb250ZW50WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIGNhcm91c2VsIHNsaWRlIHRvIGFjdGl2ZSB0YWJcbiAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldChhY3RpdmVUYWJJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gbm9ybWFsIHRhYnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdGVhcmRvd25Td2lwZWFibGVUYWJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3RlYXJkb3duU3dpcGVhYmxlVGFicygpIHtcbiAgICAgICAgdmFyICR0YWJzV3JhcHBlciA9IHRoaXMuX3RhYnNDYXJvdXNlbC4kZWw7XG4gICAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gVW53cmFwXG4gICAgICAgICR0YWJzV3JhcHBlci5hZnRlcigkdGFic1dyYXBwZXIuY2hpbGRyZW4oKSk7XG4gICAgICAgICR0YWJzV3JhcHBlci5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBub3JtYWwgdGFicy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cE5vcm1hbFRhYnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBOb3JtYWxUYWJzKCkge1xuICAgICAgICAvLyBIaWRlIFRhYnMgQ29udGVudFxuICAgICAgICB0aGlzLiR0YWJMaW5rcy5ub3QodGhpcy4kYWN0aXZlVGFiTGluaykuZWFjaChmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgIGlmICghIWxpbmsuaGFzaCkge1xuICAgICAgICAgICAgdmFyICRjdXJyQ29udGVudCA9ICQoTS5lc2NhcGVIYXNoKGxpbmsuaGFzaCkpO1xuICAgICAgICAgICAgaWYgKCRjdXJyQ29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgJGN1cnJDb250ZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBub3JtYWwgdGFicy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl90ZWFyZG93bk5vcm1hbFRhYnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdGVhcmRvd25Ob3JtYWxUYWJzKCkge1xuICAgICAgICAvLyBzaG93IFRhYnMgQ29udGVudFxuICAgICAgICB0aGlzLiR0YWJMaW5rcy5lYWNoKGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgaWYgKCEhbGluay5oYXNoKSB7XG4gICAgICAgICAgICB2YXIgJGN1cnJDb250ZW50ID0gJChNLmVzY2FwZUhhc2gobGluay5oYXNoKSk7XG4gICAgICAgICAgICBpZiAoJGN1cnJDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAkY3VyckNvbnRlbnRbMF0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogc2V0IHRhYnMgYW5kIHRhYiB3aWR0aFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFRhYnNBbmRUYWJXaWR0aFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRUYWJzQW5kVGFiV2lkdGgoKSB7XG4gICAgICAgIHRoaXMudGFic1dpZHRoID0gdGhpcy4kZWwud2lkdGgoKTtcbiAgICAgICAgdGhpcy50YWJXaWR0aCA9IE1hdGgubWF4KHRoaXMudGFic1dpZHRoLCB0aGlzLmVsLnNjcm9sbFdpZHRoKSAvIHRoaXMuJHRhYkxpbmtzLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBGaW5kcyByaWdodCBhdHRyaWJ1dGUgZm9yIGluZGljYXRvciBiYXNlZCBvbiBhY3RpdmUgdGFiLlxuICAgICAgICogQHBhcmFtIHtjYXNofSBlbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NhbGNSaWdodFBvc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYWxjUmlnaHRQb3MoZWwpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRhYnNXaWR0aCAtIGVsLnBvc2l0aW9uKCkubGVmdCAtIGVsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBGaW5kcyBsZWZ0IGF0dHJpYnV0ZSBmb3IgaW5kaWNhdG9yIGJhc2VkIG9uIGFjdGl2ZSB0YWIuXG4gICAgICAgKiBAcGFyYW0ge2Nhc2h9IGVsXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY2FsY0xlZnRQb3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY0xlZnRQb3MoZWwpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZWwucG9zaXRpb24oKS5sZWZ0KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlVGFiSW5kaWNhdG9yXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVGFiSW5kaWNhdG9yKCkge1xuICAgICAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluZGljYXRvcih0aGlzLmluZGV4KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlcyBJbmRpY2F0b3IgdG8gYWN0aXZlIHRhYi5cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcmV2SW5kZXhcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5kaWNhdG9yXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KSB7XG4gICAgICAgIHZhciBsZWZ0RGVsYXkgPSAwLFxuICAgICAgICAgICAgcmlnaHREZWxheSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXggLSBwcmV2SW5kZXggPj0gMCkge1xuICAgICAgICAgIGxlZnREZWxheSA9IDkwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJpZ2h0RGVsYXkgPSA5MDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFuaW1hdGVcbiAgICAgICAgdmFyIGFuaW1PcHRpb25zID0ge1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuX2luZGljYXRvcixcbiAgICAgICAgICBsZWZ0OiB7XG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fY2FsY0xlZnRQb3ModGhpcy4kYWN0aXZlVGFiTGluayksXG4gICAgICAgICAgICBkZWxheTogbGVmdERlbGF5XG4gICAgICAgICAgfSxcbiAgICAgICAgICByaWdodDoge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLiRhY3RpdmVUYWJMaW5rKSxcbiAgICAgICAgICAgIGRlbGF5OiByaWdodERlbGF5XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9O1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLl9pbmRpY2F0b3IpO1xuICAgICAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZWxlY3QgdGFiLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRhYklkXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZWxlY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3QodGFiSWQpIHtcbiAgICAgICAgdmFyIHRhYiA9IHRoaXMuJHRhYkxpbmtzLmZpbHRlcignW2hyZWY9XCIjJyArIHRhYklkICsgJ1wiXScpO1xuICAgICAgICBpZiAodGFiLmxlbmd0aCkge1xuICAgICAgICAgIHRhYi50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KFRhYnMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJzKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fVGFicztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUYWJzO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5UYWJzID0gVGFicztcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRhYnMsICd0YWJzJywgJ01fVGFicycpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgZXhpdERlbGF5OiAyMDAsXG4gICAgZW50ZXJEZWxheTogMCxcbiAgICBodG1sOiBudWxsLFxuICAgIG1hcmdpbjogNSxcbiAgICBpbkR1cmF0aW9uOiAyNTAsXG4gICAgb3V0RHVyYXRpb246IDIwMCxcbiAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgdHJhbnNpdGlvbk1vdmVtZW50OiAxMFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDcpIHtcbiAgICBfaW5oZXJpdHMoVG9vbHRpcCwgX0NvbXBvbmVudDcpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IFRvb2x0aXAgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUb29sdGlwKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcCk7XG5cbiAgICAgIHZhciBfdGhpczI2ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRvb2x0aXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb29sdGlwKSkuY2FsbCh0aGlzLCBUb29sdGlwLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczI2LmVsLk1fVG9vbHRpcCA9IF90aGlzMjY7XG4gICAgICBfdGhpczI2Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVG9vbHRpcC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzMjYuaXNPcGVuID0gZmFsc2U7XG4gICAgICBfdGhpczI2LmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMyNi5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzMjYuX2FwcGVuZFRvb2x0aXBFbCgpO1xuICAgICAgX3RoaXMyNi5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXMyNjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVG9vbHRpcCwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICQodGhpcy50b29sdGlwRWwpLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuTV9Ub29sdGlwID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYXBwZW5kVG9vbHRpcEVsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZFRvb2x0aXBFbCgpIHtcbiAgICAgICAgdmFyIHRvb2x0aXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b29sdGlwRWwuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtdG9vbHRpcCcpO1xuICAgICAgICB0aGlzLnRvb2x0aXBFbCA9IHRvb2x0aXBFbDtcblxuICAgICAgICB2YXIgdG9vbHRpcENvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b29sdGlwQ29udGVudEVsLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAtY29udGVudCcpO1xuICAgICAgICB0b29sdGlwQ29udGVudEVsLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5odG1sO1xuICAgICAgICB0b29sdGlwRWwuYXBwZW5kQ2hpbGQodG9vbHRpcENvbnRlbnRFbCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcEVsKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZVRvb2x0aXBDb250ZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVRvb2x0aXBDb250ZW50KCkge1xuICAgICAgICB0aGlzLnRvb2x0aXBFbC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1jb250ZW50JykuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmh0bWw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUZvY3VzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUJsdXJCb3VuZCA9IHRoaXMuX2hhbmRsZUJsdXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyQm91bmQsIHRydWUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXJCb3VuZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKGlzTWFudWFsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpc01hbnVhbCA9IGlzTWFudWFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBEZWZhdWx0IHZhbHVlIHRydWVcbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcCBjb250ZW50IHdpdGggSFRNTCBhdHRyaWJ1dGUgb3B0aW9uc1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB0aGlzLl9nZXRBdHRyaWJ1dGVPcHRpb25zKCkpO1xuICAgICAgICB0aGlzLl91cGRhdGVUb29sdGlwQ29udGVudCgpO1xuICAgICAgICB0aGlzLl9zZXRFbnRlckRlbGF5VGltZW91dChpc01hbnVhbCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZXRFeGl0RGVsYXlUaW1lb3V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIHRpbWVvdXQgd2hpY2ggZGVsYXlzIHdoZW4gdGhlIHRvb2x0aXAgY2xvc2VzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0RXhpdERlbGF5VGltZW91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRFeGl0RGVsYXlUaW1lb3V0KCkge1xuICAgICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2V4aXREZWxheVRpbWVvdXQpO1xuXG4gICAgICAgIHRoaXMuX2V4aXREZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXMyNy5pc0hvdmVyZWQgfHwgX3RoaXMyNy5pc0ZvY3VzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczI3Ll9hbmltYXRlT3V0KCk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5leGl0RGVsYXkpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSB0aW1lb3V0IHdoaWNoIGRlbGF5cyB3aGVuIHRoZSB0b2FzdCBjbG9zZXNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRFbnRlckRlbGF5VGltZW91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRFbnRlckRlbGF5VGltZW91dChpc01hbnVhbCkge1xuICAgICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0KTtcblxuICAgICAgICB0aGlzLl9lbnRlckRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghX3RoaXMyOC5pc0hvdmVyZWQgJiYgIV90aGlzMjguaXNGb2N1c2VkICYmICFpc01hbnVhbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMjguX2FuaW1hdGVJbigpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZW50ZXJEZWxheSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wb3NpdGlvblRvb2x0aXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcG9zaXRpb25Ub29sdGlwKCkge1xuICAgICAgICB2YXIgb3JpZ2luID0gdGhpcy5lbCxcbiAgICAgICAgICAgIHRvb2x0aXAgPSB0aGlzLnRvb2x0aXBFbCxcbiAgICAgICAgICAgIG9yaWdpbkhlaWdodCA9IG9yaWdpbi5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICBvcmlnaW5XaWR0aCA9IG9yaWdpbi5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgIHRvb2x0aXBXaWR0aCA9IHRvb2x0aXAub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICBuZXdDb29yZGluYXRlcyA9IHZvaWQgMCxcbiAgICAgICAgICAgIG1hcmdpbiA9IHRoaXMub3B0aW9ucy5tYXJnaW4sXG4gICAgICAgICAgICB0YXJnZXRUb3AgPSB2b2lkIDAsXG4gICAgICAgICAgICB0YXJnZXRMZWZ0ID0gdm9pZCAwO1xuXG4gICAgICAgIHRoaXMueE1vdmVtZW50ID0gMCwgdGhpcy55TW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHRhcmdldFRvcCA9IG9yaWdpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICAgIHRhcmdldExlZnQgPSBvcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICB0YXJnZXRUb3AgKz0gLXRvb2x0aXBIZWlnaHQgLSBtYXJnaW47XG4gICAgICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgICAgIHRoaXMueU1vdmVtZW50ID0gLXRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgdGFyZ2V0VG9wICs9IG9yaWdpbkhlaWdodCAvIDIgLSB0b29sdGlwSGVpZ2h0IC8gMjtcbiAgICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoICsgbWFyZ2luO1xuICAgICAgICAgIHRoaXMueE1vdmVtZW50ID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICAgICAgdGFyZ2V0TGVmdCArPSAtdG9vbHRpcFdpZHRoIC0gbWFyZ2luO1xuICAgICAgICAgIHRoaXMueE1vdmVtZW50ID0gLXRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0VG9wICs9IG9yaWdpbkhlaWdodCArIG1hcmdpbjtcbiAgICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoIC8gMiAtIHRvb2x0aXBXaWR0aCAvIDI7XG4gICAgICAgICAgdGhpcy55TW92ZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSB0aGlzLl9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKHRhcmdldExlZnQsIHRhcmdldFRvcCwgdG9vbHRpcFdpZHRoLCB0b29sdGlwSGVpZ2h0KTtcbiAgICAgICAgJCh0b29sdGlwKS5jc3Moe1xuICAgICAgICAgIHRvcDogbmV3Q29vcmRpbmF0ZXMueSArICdweCcsXG4gICAgICAgICAgbGVmdDogbmV3Q29vcmRpbmF0ZXMueCArICdweCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZXBvc2l0aW9uV2l0aGluU2NyZWVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlcG9zaXRpb25XaXRoaW5TY3JlZW4oeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7XG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciBuZXdYID0geCAtIHNjcm9sbExlZnQ7XG4gICAgICAgIHZhciBuZXdZID0geSAtIHNjcm9sbFRvcDtcblxuICAgICAgICB2YXIgYm91bmRpbmcgPSB7XG4gICAgICAgICAgbGVmdDogbmV3WCxcbiAgICAgICAgICB0b3A6IG5ld1ksXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMub3B0aW9ucy5tYXJnaW4gKyB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgICB2YXIgZWRnZXMgPSBNLmNoZWNrV2l0aGluQ29udGFpbmVyKGRvY3VtZW50LmJvZHksIGJvdW5kaW5nLCBvZmZzZXQpO1xuXG4gICAgICAgIGlmIChlZGdlcy5sZWZ0KSB7XG4gICAgICAgICAgbmV3WCA9IG9mZnNldDtcbiAgICAgICAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgICAgICAgIG5ld1ggLT0gbmV3WCArIHdpZHRoIC0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWRnZXMudG9wKSB7XG4gICAgICAgICAgbmV3WSA9IG9mZnNldDtcbiAgICAgICAgfSBlbHNlIGlmIChlZGdlcy5ib3R0b20pIHtcbiAgICAgICAgICBuZXdZIC09IG5ld1kgKyBoZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IG5ld1ggKyBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHk6IG5ld1kgKyBzY3JvbGxUb3BcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlSW4oKSB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICB0aGlzLnRvb2x0aXBFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMudG9vbHRpcEVsLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNsYXRlWDogdGhpcy54TW92ZW1lbnQsXG4gICAgICAgICAgdHJhbnNsYXRlWTogdGhpcy55TW92ZW1lbnQsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlT3V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVPdXQoKSB7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMudG9vbHRpcEVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy50b29sdGlwRWwsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTW91c2VFbnRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNb3VzZUVudGVyKCkge1xuICAgICAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7IC8vIEFsbG93cyBjbG9zZSBvZiB0b29sdGlwIHdoZW4gb3BlbmVkIGJ5IGZvY3VzLlxuICAgICAgICB0aGlzLm9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTW91c2VMZWF2ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNb3VzZUxlYXZlKCkge1xuICAgICAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRm9jdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRm9jdXMoKSB7XG4gICAgICAgIGlmIChNLnRhYlByZXNzZWQpIHtcbiAgICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5vcGVuKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQmx1clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVCbHVyKCkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9nZXRBdHRyaWJ1dGVPcHRpb25zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEF0dHJpYnV0ZU9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVPcHRpb25zID0ge307XG4gICAgICAgIHZhciB0b29sdGlwVGV4dE9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAnKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uT3B0aW9uID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zaXRpb24nKTtcblxuICAgICAgICBpZiAodG9vbHRpcFRleHRPcHRpb24pIHtcbiAgICAgICAgICBhdHRyaWJ1dGVPcHRpb25zLmh0bWwgPSB0b29sdGlwVGV4dE9wdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbk9wdGlvbikge1xuICAgICAgICAgIGF0dHJpYnV0ZU9wdGlvbnMucG9zaXRpb24gPSBwb3NpdGlvbk9wdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlT3B0aW9ucztcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoVG9vbHRpcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRvb2x0aXApLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Ub29sdGlwO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvb2x0aXA7XG4gIH0oQ29tcG9uZW50KTtcblxuICBNLlRvb2x0aXAgPSBUb29sdGlwO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVG9vbHRpcCwgJ3Rvb2x0aXAnLCAnTV9Ub29sdGlwJyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyAvKiFcbiAgKiBXYXZlcyB2MC42LjRcbiAgKiBodHRwOi8vZmlhbi5teS5pZC9XYXZlc1xuICAqXG4gICogQ29weXJpZ2h0IDIwMTQgQWxmaWFuYSBFLiBTaWJ1ZWEgYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9maWFucy9XYXZlcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4gICovXG5cbjsoZnVuY3Rpb24gKHdpbmRvdykge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFdhdmVzID0gV2F2ZXMgfHwge307XG4gIHZhciAkJCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCk7XG5cbiAgLy8gRmluZCBleGFjdCBwb3NpdGlvbiBvZiBlbGVtZW50XG4gIGZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0V2luZG93KGVsZW0pIHtcbiAgICByZXR1cm4gaXNXaW5kb3coZWxlbSkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xuICB9XG5cbiAgZnVuY3Rpb24gb2Zmc2V0KGVsZW0pIHtcbiAgICB2YXIgZG9jRWxlbSxcbiAgICAgICAgd2luLFxuICAgICAgICBib3ggPSB7IHRvcDogMCwgbGVmdDogMCB9LFxuICAgICAgICBkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcblxuICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgaWYgKHR5cGVvZiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gdHlwZW9mIHVuZGVmaW5lZCkge1xuICAgICAgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgd2luID0gZ2V0V2luZG93KGRvYyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFN0eWxlKG9iaikge1xuICAgIHZhciBzdHlsZSA9ICcnO1xuXG4gICAgZm9yICh2YXIgYSBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoYSkpIHtcbiAgICAgICAgc3R5bGUgKz0gYSArICc6JyArIG9ialthXSArICc7JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICB2YXIgRWZmZWN0ID0ge1xuXG4gICAgLy8gRWZmZWN0IGRlbGF5XG4gICAgZHVyYXRpb246IDc1MCxcblxuICAgIHNob3c6IGZ1bmN0aW9uIChlLCBlbGVtZW50KSB7XG5cbiAgICAgIC8vIERpc2FibGUgcmlnaHQgY2xpY2tcbiAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGVsZW1lbnQgfHwgdGhpcztcblxuICAgICAgLy8gQ3JlYXRlIHJpcHBsZVxuICAgICAgdmFyIHJpcHBsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcmlwcGxlLmNsYXNzTmFtZSA9ICd3YXZlcy1yaXBwbGUnO1xuICAgICAgZWwuYXBwZW5kQ2hpbGQocmlwcGxlKTtcblxuICAgICAgLy8gR2V0IGNsaWNrIGNvb3JkaW5hdGUgYW5kIGVsZW1lbnQgd2l0ZGhcbiAgICAgIHZhciBwb3MgPSBvZmZzZXQoZWwpO1xuICAgICAgdmFyIHJlbGF0aXZlWSA9IGUucGFnZVkgLSBwb3MudG9wO1xuICAgICAgdmFyIHJlbGF0aXZlWCA9IGUucGFnZVggLSBwb3MubGVmdDtcbiAgICAgIHZhciBzY2FsZSA9ICdzY2FsZSgnICsgZWwuY2xpZW50V2lkdGggLyAxMDAgKiAxMCArICcpJztcblxuICAgICAgLy8gU3VwcG9ydCBmb3IgdG91Y2ggZGV2aWNlc1xuICAgICAgaWYgKCd0b3VjaGVzJyBpbiBlKSB7XG4gICAgICAgIHJlbGF0aXZlWSA9IGUudG91Y2hlc1swXS5wYWdlWSAtIHBvcy50b3A7XG4gICAgICAgIHJlbGF0aXZlWCA9IGUudG91Y2hlc1swXS5wYWdlWCAtIHBvcy5sZWZ0O1xuICAgICAgfVxuXG4gICAgICAvLyBBdHRhY2ggZGF0YSB0byBlbGVtZW50XG4gICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLWhvbGQnLCBEYXRlLm5vdygpKTtcbiAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2NhbGUnLCBzY2FsZSk7XG4gICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCByZWxhdGl2ZVgpO1xuICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnZGF0YS15JywgcmVsYXRpdmVZKTtcblxuICAgICAgLy8gU2V0IHJpcHBsZSBwb3NpdGlvblxuICAgICAgdmFyIHJpcHBsZVN0eWxlID0ge1xuICAgICAgICAndG9wJzogcmVsYXRpdmVZICsgJ3B4JyxcbiAgICAgICAgJ2xlZnQnOiByZWxhdGl2ZVggKyAncHgnXG4gICAgICB9O1xuXG4gICAgICByaXBwbGUuY2xhc3NOYW1lID0gcmlwcGxlLmNsYXNzTmFtZSArICcgd2F2ZXMtbm90cmFuc2l0aW9uJztcbiAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29udmVydFN0eWxlKHJpcHBsZVN0eWxlKSk7XG4gICAgICByaXBwbGUuY2xhc3NOYW1lID0gcmlwcGxlLmNsYXNzTmFtZS5yZXBsYWNlKCd3YXZlcy1ub3RyYW5zaXRpb24nLCAnJyk7XG5cbiAgICAgIC8vIFNjYWxlIHRoZSByaXBwbGVcbiAgICAgIHJpcHBsZVN0eWxlWyctd2Via2l0LXRyYW5zZm9ybSddID0gc2NhbGU7XG4gICAgICByaXBwbGVTdHlsZVsnLW1vei10cmFuc2Zvcm0nXSA9IHNjYWxlO1xuICAgICAgcmlwcGxlU3R5bGVbJy1tcy10cmFuc2Zvcm0nXSA9IHNjYWxlO1xuICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zZm9ybSddID0gc2NhbGU7XG4gICAgICByaXBwbGVTdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcbiAgICAgIHJpcHBsZVN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cbiAgICAgIHJpcHBsZVN0eWxlWyctd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24nXSA9IEVmZmVjdC5kdXJhdGlvbiArICdtcyc7XG4gICAgICByaXBwbGVTdHlsZVsnLW1vei10cmFuc2l0aW9uLWR1cmF0aW9uJ10gPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xuICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zaXRpb24tZHVyYXRpb24nXSA9IEVmZmVjdC5kdXJhdGlvbiArICdtcyc7XG4gICAgICByaXBwbGVTdHlsZVsndHJhbnNpdGlvbi1kdXJhdGlvbiddID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcblxuICAgICAgcmlwcGxlU3R5bGVbJy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcbiAgICAgIHJpcHBsZVN0eWxlWyctbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XG4gICAgICByaXBwbGVTdHlsZVsnLW8tdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcbiAgICAgIHJpcHBsZVN0eWxlWyd0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiddID0gJ2N1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCknO1xuXG4gICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShyaXBwbGVTdHlsZSkpO1xuICAgIH0sXG5cbiAgICBoaWRlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgVG91Y2hIYW5kbGVyLnRvdWNodXAoZSk7XG5cbiAgICAgIHZhciBlbCA9IHRoaXM7XG4gICAgICB2YXIgd2lkdGggPSBlbC5jbGllbnRXaWR0aCAqIDEuNDtcblxuICAgICAgLy8gR2V0IGZpcnN0IHJpcHBsZVxuICAgICAgdmFyIHJpcHBsZSA9IG51bGw7XG4gICAgICB2YXIgcmlwcGxlcyA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dhdmVzLXJpcHBsZScpO1xuICAgICAgaWYgKHJpcHBsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByaXBwbGUgPSByaXBwbGVzW3JpcHBsZXMubGVuZ3RoIC0gMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGl2ZVggPSByaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcbiAgICAgIHZhciByZWxhdGl2ZVkgPSByaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXknKTtcbiAgICAgIHZhciBzY2FsZSA9IHJpcHBsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2NhbGUnKTtcblxuICAgICAgLy8gR2V0IGRlbGF5IGJlZXR3ZWVuIG1vdXNlZG93biBhbmQgbW91c2UgbGVhdmVcbiAgICAgIHZhciBkaWZmID0gRGF0ZS5ub3coKSAtIE51bWJlcihyaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhvbGQnKSk7XG4gICAgICB2YXIgZGVsYXkgPSAzNTAgLSBkaWZmO1xuXG4gICAgICBpZiAoZGVsYXkgPCAwKSB7XG4gICAgICAgIGRlbGF5ID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gRmFkZSBvdXQgcmlwcGxlIGFmdGVyIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICAgICd0b3AnOiByZWxhdGl2ZVkgKyAncHgnLFxuICAgICAgICAgICdsZWZ0JzogcmVsYXRpdmVYICsgJ3B4JyxcbiAgICAgICAgICAnb3BhY2l0eSc6ICcwJyxcblxuICAgICAgICAgIC8vIER1cmF0aW9uXG4gICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbic6IEVmZmVjdC5kdXJhdGlvbiArICdtcycsXG4gICAgICAgICAgJy1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbic6IEVmZmVjdC5kdXJhdGlvbiArICdtcycsXG4gICAgICAgICAgJy1vLXRyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxuICAgICAgICAgICd0cmFuc2l0aW9uLWR1cmF0aW9uJzogRWZmZWN0LmR1cmF0aW9uICsgJ21zJyxcbiAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiBzY2FsZSxcbiAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiBzY2FsZSxcbiAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6IHNjYWxlLFxuICAgICAgICAgICctby10cmFuc2Zvcm0nOiBzY2FsZSxcbiAgICAgICAgICAndHJhbnNmb3JtJzogc2NhbGVcbiAgICAgICAgfTtcblxuICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShzdHlsZSkpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVDaGlsZChyaXBwbGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIEVmZmVjdC5kdXJhdGlvbik7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSxcblxuICAgIC8vIExpdHRsZSBoYWNrIHRvIG1ha2UgPGlucHV0PiBjYW4gcGVyZm9ybSB3YXZlcyBlZmZlY3RcbiAgICB3cmFwSW5wdXQ6IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBlbGVtZW50cy5sZW5ndGg7IGErKykge1xuICAgICAgICB2YXIgZWwgPSBlbGVtZW50c1thXTtcblxuICAgICAgICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAvLyBJZiBpbnB1dCBhbHJlYWR5IGhhdmUgcGFyZW50IGp1c3QgcGFzcyB0aHJvdWdoXG4gICAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpJyAmJiBwYXJlbnQuY2xhc3NOYW1lLmluZGV4T2YoJ3dhdmVzLWVmZmVjdCcpICE9PSAtMSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUHV0IGVsZW1lbnQgY2xhc3MgYW5kIHN0eWxlIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50XG4gICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAnIHdhdmVzLWlucHV0LXdyYXBwZXInO1xuXG4gICAgICAgICAgdmFyIGVsZW1lbnRTdHlsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICAgICAgICAgIGlmICghZWxlbWVudFN0eWxlKSB7XG4gICAgICAgICAgICBlbGVtZW50U3R5bGUgPSAnJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBlbGVtZW50U3R5bGUpO1xuXG4gICAgICAgICAgZWwuY2xhc3NOYW1lID0gJ3dhdmVzLWJ1dHRvbi1pbnB1dCc7XG4gICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgICAgICAgLy8gUHV0IGVsZW1lbnQgYXMgY2hpbGRcbiAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBwZXIsIGVsKTtcbiAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlzYWJsZSBtb3VzZWRvd24gZXZlbnQgZm9yIDUwMG1zIGR1cmluZyBhbmQgYWZ0ZXIgdG91Y2hcbiAgICovXG4gIHZhciBUb3VjaEhhbmRsZXIgPSB7XG4gICAgLyogdXNlcyBhbiBpbnRlZ2VyIHJhdGhlciB0aGFuIGJvb2wgc28gdGhlcmUncyBubyBpc3N1ZXMgd2l0aFxuICAgICAqIG5lZWRpbmcgdG8gY2xlYXIgdGltZW91dHMgaWYgYW5vdGhlciB0b3VjaCBldmVudCBvY2N1cnJlZFxuICAgICAqIHdpdGhpbiB0aGUgNTAwbXMuIENhbm5vdCBtb3VzZXVwIGJldHdlZW4gdG91Y2hzdGFydCBhbmRcbiAgICAgKiB0b3VjaGVuZCwgbm9yIGluIHRoZSA1MDBtcyBhZnRlciB0b3VjaGVuZC4gKi9cbiAgICB0b3VjaGVzOiAwLFxuICAgIGFsbG93RXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgYWxsb3cgPSB0cnVlO1xuXG4gICAgICBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgVG91Y2hIYW5kbGVyLnRvdWNoZXMgKz0gMTsgLy9wdXNoXG4gICAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCcpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKFRvdWNoSGFuZGxlci50b3VjaGVzID4gMCkge1xuICAgICAgICAgICAgVG91Y2hIYW5kbGVyLnRvdWNoZXMgLT0gMTsgLy9wb3AgYWZ0ZXIgNTAwbXNcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgVG91Y2hIYW5kbGVyLnRvdWNoZXMgPiAwKSB7XG4gICAgICAgIGFsbG93ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbGxvdztcbiAgICB9LFxuICAgIHRvdWNodXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICBUb3VjaEhhbmRsZXIuYWxsb3dFdmVudChlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlZCBjbGljayBoYW5kbGVyIGZvciAud2F2ZXMtZWZmZWN0IGVsZW1lbnQuXG4gICAqIHJldHVybnMgbnVsbCB3aGVuIC53YXZlcy1lZmZlY3QgZWxlbWVudCBub3QgaW4gXCJjbGljayB0cmVlXCJcbiAgICovXG4gIGZ1bmN0aW9uIGdldFdhdmVzRWZmZWN0RWxlbWVudChlKSB7XG4gICAgaWYgKFRvdWNoSGFuZGxlci5hbGxvd0V2ZW50KGUpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBudWxsO1xuICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG5cbiAgICB3aGlsZSAodGFyZ2V0LnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpICYmIHRhcmdldC5jbGFzc05hbWUuaW5kZXhPZignd2F2ZXMtZWZmZWN0JykgIT09IC0xKSB7XG4gICAgICAgIGVsZW1lbnQgPSB0YXJnZXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1YmJsZSB0aGUgY2xpY2sgYW5kIHNob3cgZWZmZWN0IGlmIC53YXZlcy1lZmZlY3QgZWxlbSB3YXMgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIHNob3dFZmZlY3QoZSkge1xuICAgIHZhciBlbGVtZW50ID0gZ2V0V2F2ZXNFZmZlY3RFbGVtZW50KGUpO1xuXG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgIEVmZmVjdC5zaG93KGUsIGVsZW1lbnQpO1xuXG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBFZmZlY3QuaGlkZSwgZmFsc2UpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBFZmZlY3QuaGlkZSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIFdhdmVzLmRpc3BsYXlFZmZlY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgaWYgKCdkdXJhdGlvbicgaW4gb3B0aW9ucykge1xuICAgICAgRWZmZWN0LmR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvL1dyYXAgaW5wdXQgaW5zaWRlIDxpPiB0YWdcbiAgICBFZmZlY3Qud3JhcElucHV0KCQkKCcud2F2ZXMtZWZmZWN0JykpO1xuXG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2hvd0VmZmVjdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2hvd0VmZmVjdCwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBdHRhY2ggV2F2ZXMgdG8gYW4gaW5wdXQgZWxlbWVudCAob3IgYW55IGVsZW1lbnQgd2hpY2ggZG9lc24ndFxuICAgKiBidWJibGUgbW91c2V1cC9tb3VzZWRvd24gZXZlbnRzKS5cbiAgICogICBJbnRlbmRlZCB0byBiZSB1c2VkIHdpdGggZHluYW1pY2FsbHkgbG9hZGVkIGZvcm1zL2lucHV0cywgb3JcbiAgICogd2hlcmUgdGhlIHVzZXIgZG9lc24ndCB3YW50IGEgZGVsZWdhdGVkIGNsaWNrIGhhbmRsZXIuXG4gICAqL1xuICBXYXZlcy5hdHRhY2ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIC8vRlVUVVJFOiBhdXRvbWF0aWNhbGx5IGFkZCB3YXZlcyBjbGFzc2VzIGFuZCBhbGxvdyB1c2Vyc1xuICAgIC8vIHRvIHNwZWNpZnkgdGhlbSB3aXRoIGFuIG9wdGlvbnMgcGFyYW0/IEVnLiBsaWdodC9jbGFzc2ljL2J1dHRvblxuICAgIGlmIChlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgRWZmZWN0LndyYXBJbnB1dChbZWxlbWVudF0pO1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzaG93RWZmZWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzaG93RWZmZWN0LCBmYWxzZSk7XG4gIH07XG5cbiAgd2luZG93LldhdmVzID0gV2F2ZXM7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBXYXZlcy5kaXNwbGF5RWZmZWN0KCk7XG4gIH0sIGZhbHNlKTtcbn0pKHdpbmRvdyk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGh0bWw6ICcnLFxuICAgIGRpc3BsYXlMZW5ndGg6IDQwMDAsXG4gICAgaW5EdXJhdGlvbjogMzAwLFxuICAgIG91dER1cmF0aW9uOiAzNzUsXG4gICAgY2xhc3NlczogJycsXG4gICAgY29tcGxldGVDYWxsYmFjazogbnVsbCxcbiAgICBhY3RpdmF0aW9uUGVyY2VudDogMC44XG4gIH07XG5cbiAgdmFyIFRvYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRvYXN0KG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb2FzdCk7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIHRvYXN0XG4gICAgICAgKiBAbWVtYmVyIFRvYXN0I29wdGlvbnNcbiAgICAgICAqL1xuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFRvYXN0LmRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMub3B0aW9ucy5odG1sO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBjdXJyZW50IHBhbiBzdGF0ZSB0b2FzdFxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHRoaXMucGFubmluZyA9IGZhbHNlO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWUgcmVtYWluaW5nIHVudGlsIHRvYXN0IGlzIHJlbW92ZWRcbiAgICAgICAqL1xuICAgICAgdGhpcy50aW1lUmVtYWluaW5nID0gdGhpcy5vcHRpb25zLmRpc3BsYXlMZW5ndGg7XG5cbiAgICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBUb2FzdC5fY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBuZXcgdG9hc3RcbiAgICAgIFRvYXN0Ll90b2FzdHMucHVzaCh0aGlzKTtcbiAgICAgIHZhciB0b2FzdEVsZW1lbnQgPSB0aGlzLl9jcmVhdGVUb2FzdCgpO1xuICAgICAgdG9hc3RFbGVtZW50Lk1fVG9hc3QgPSB0aGlzO1xuICAgICAgdGhpcy5lbCA9IHRvYXN0RWxlbWVudDtcbiAgICAgIHRoaXMuJGVsID0gJCh0b2FzdEVsZW1lbnQpO1xuICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB0aGlzLl9zZXRUaW1lcigpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUb2FzdCwgW3tcbiAgICAgIGtleTogXCJfY3JlYXRlVG9hc3RcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSB0b2FzdCBhbmQgYXBwZW5kIGl0IHRvIHRvYXN0IGNvbnRhaW5lclxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZVRvYXN0KCkge1xuICAgICAgICB2YXIgdG9hc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9hc3QuY2xhc3NMaXN0LmFkZCgndG9hc3QnKTtcblxuICAgICAgICAvLyBBZGQgY3VzdG9tIGNsYXNzZXMgb250byB0b2FzdFxuICAgICAgICBpZiAoISF0aGlzLm9wdGlvbnMuY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgICAkKHRvYXN0KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgY29udGVudFxuICAgICAgICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0JyA/IHRoaXMubWVzc2FnZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IDogdGhpcy5tZXNzYWdlICYmIHR5cGVvZiB0aGlzLm1lc3NhZ2UgPT09ICdvYmplY3QnICYmIHRoaXMubWVzc2FnZSAhPT0gbnVsbCAmJiB0aGlzLm1lc3NhZ2Uubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIHRoaXMubWVzc2FnZS5ub2RlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0b2FzdC5hcHBlbmRDaGlsZCh0aGlzLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgalF1ZXJ5IG9iamVjdFxuICAgICAgICB9IGVsc2UgaWYgKCEhdGhpcy5tZXNzYWdlLmpxdWVyeSkge1xuICAgICAgICAgICQodG9hc3QpLmFwcGVuZCh0aGlzLm1lc3NhZ2VbMF0pO1xuXG4gICAgICAgICAgLy8gSW5zZXJ0IGFzIGh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9hc3QuaW5uZXJIVE1MID0gdGhpcy5tZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwZW5kIHRvYXNmdFxuICAgICAgICBUb2FzdC5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRvYXN0KTtcbiAgICAgICAgcmV0dXJuIHRvYXN0O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW4gdG9hc3RcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluKCkge1xuICAgICAgICAvLyBBbmltYXRlIHRvYXN0IGluXG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIHNldEludGVydmFsIHdoaWNoIGF1dG9tYXRpY2FsbHkgcmVtb3ZlcyB0b2FzdCB3aGVuIHRpbWVSZW1haW5pbmcgPj0gMFxuICAgICAgICogaGFzIGJlZW4gcmVhY2hlZFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFRpbWVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFRpbWVyKCkge1xuICAgICAgICB2YXIgX3RoaXMyOSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZVJlbWFpbmluZyAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICB0aGlzLmNvdW50ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIElmIHRvYXN0IGlzIG5vdCBiZWluZyBkcmFnZ2VkLCBkZWNyZWFzZSBpdHMgdGltZSByZW1haW5pbmdcbiAgICAgICAgICAgIGlmICghX3RoaXMyOS5wYW5uaW5nKSB7XG4gICAgICAgICAgICAgIF90aGlzMjkudGltZVJlbWFpbmluZyAtPSAyMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBvdXRcbiAgICAgICAgICAgIGlmIChfdGhpczI5LnRpbWVSZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICBfdGhpczI5LmRpc21pc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEaXNtaXNzIHRvYXN0IHdpdGggYW5pbWF0aW9uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXNtaXNzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAgICAgdmFyIF90aGlzMzAgPSB0aGlzO1xuXG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuY291bnRlckludGVydmFsKTtcbiAgICAgICAgdmFyIGFjdGl2YXRpb25EaXN0YW5jZSA9IHRoaXMuZWwub2Zmc2V0V2lkdGggKiB0aGlzLm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMud2FzU3dpcGVkKSB7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMDVzLCBvcGFjaXR5IC4wNXMnO1xuICAgICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgYWN0aXZhdGlvbkRpc3RhbmNlICsgXCJweClcIjtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIG1hcmdpblRvcDogLTQwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBvcHRpb25hbCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczMwLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczMwLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRvYXN0IGZyb20gRE9NXG4gICAgICAgICAgICBfdGhpczMwLiRlbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIFRvYXN0Ll90b2FzdHMuc3BsaWNlKFRvYXN0Ll90b2FzdHMuaW5kZXhPZihfdGhpczMwKSwgMSk7XG4gICAgICAgICAgICBpZiAoVG9hc3QuX3RvYXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgVG9hc3QuX3JlbW92ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fVG9hc3Q7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQXBwZW5kIHRvYXN0IGNvbnRhaW5lciBhbmQgYWRkIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY3JlYXRlQ29udGFpbmVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0b2FzdC1jb250YWluZXInKTtcblxuICAgICAgICAvLyBBZGQgZXZlbnQgaGFuZGxlclxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIFRvYXN0Ll9vbkRyYWdTdGFydCk7XG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBUb2FzdC5fb25EcmFnRW5kKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIFRvYXN0Ll9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIHRvYXN0IGNvbnRhaW5lciBhbmQgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVDb250YWluZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlQ29udGFpbmVyKCkge1xuICAgICAgICAvLyBBZGQgZXZlbnQgaGFuZGxlclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBUb2FzdC5fb25EcmFnRW5kKTtcblxuICAgICAgICAkKFRvYXN0Ll9jb250YWluZXIpLnJlbW92ZSgpO1xuICAgICAgICBUb2FzdC5fY29udGFpbmVyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBCZWdpbiBkcmFnIGhhbmRsZXJcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9vbkRyYWdTdGFydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkRyYWdTdGFydChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCAmJiAkKGUudGFyZ2V0KS5jbG9zZXN0KCcudG9hc3QnKS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgJHRvYXN0ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0Jyk7XG4gICAgICAgICAgdmFyIHRvYXN0ID0gJHRvYXN0WzBdLk1fVG9hc3Q7XG4gICAgICAgICAgdG9hc3QucGFubmluZyA9IHRydWU7XG4gICAgICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IHRvYXN0O1xuICAgICAgICAgIHRvYXN0LmVsLmNsYXNzTGlzdC5hZGQoJ3Bhbm5pbmcnKTtcbiAgICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAgICAgdG9hc3Quc3RhcnRpbmdYUG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICAgICAgdG9hc3QudGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgdG9hc3QueFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRHJhZyBtb3ZlIGhhbmRsZXJcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9vbkRyYWdNb3ZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX29uRHJhZ01vdmUoZSkge1xuICAgICAgICBpZiAoISFUb2FzdC5fZHJhZ2dlZFRvYXN0KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciB0b2FzdCA9IFRvYXN0Ll9kcmFnZ2VkVG9hc3Q7XG4gICAgICAgICAgdG9hc3QuZGVsdGFYID0gTWF0aC5hYnModG9hc3QueFBvcyAtIFRvYXN0Ll94UG9zKGUpKTtcbiAgICAgICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICAgICAgdG9hc3QudmVsb2NpdHlYID0gdG9hc3QuZGVsdGFYIC8gKERhdGUubm93KCkgLSB0b2FzdC50aW1lKTtcbiAgICAgICAgICB0b2FzdC50aW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgIHZhciB0b3RhbERlbHRhWCA9IHRvYXN0LnhQb3MgLSB0b2FzdC5zdGFydGluZ1hQb3M7XG4gICAgICAgICAgdmFyIGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIgKyB0b3RhbERlbHRhWCArIFwicHgpXCI7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9IDEgLSBNYXRoLmFicyh0b3RhbERlbHRhWCAvIGFjdGl2YXRpb25EaXN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBFbmQgZHJhZyBoYW5kbGVyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfb25EcmFnRW5kXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX29uRHJhZ0VuZCgpIHtcbiAgICAgICAgaWYgKCEhVG9hc3QuX2RyYWdnZWRUb2FzdCkge1xuICAgICAgICAgIHZhciB0b2FzdCA9IFRvYXN0Ll9kcmFnZ2VkVG9hc3Q7XG4gICAgICAgICAgdG9hc3QucGFubmluZyA9IGZhbHNlO1xuICAgICAgICAgIHRvYXN0LmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhbm5pbmcnKTtcblxuICAgICAgICAgIHZhciB0b3RhbERlbHRhWCA9IHRvYXN0LnhQb3MgLSB0b2FzdC5zdGFydGluZ1hQb3M7XG4gICAgICAgICAgdmFyIGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgICAgICB2YXIgc2hvdWxkQmVEaXNtaXNzZWQgPSBNYXRoLmFicyh0b3RhbERlbHRhWCkgPiBhY3RpdmF0aW9uRGlzdGFuY2UgfHwgdG9hc3QudmVsb2NpdHlYID4gMTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0b2FzdFxuICAgICAgICAgIGlmIChzaG91bGRCZURpc21pc3NlZCkge1xuICAgICAgICAgICAgdG9hc3Qud2FzU3dpcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRvYXN0LmRpc21pc3MoKTtcblxuICAgICAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBiYWNrIHRvIG9yaWdpbmFsIHBvc2l0aW9uXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycywgb3BhY2l0eSAuMnMnO1xuICAgICAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICB0b2FzdC5lbC5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHggcG9zaXRpb24gb2YgbW91c2Ugb3IgdG91Y2ggZXZlbnRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl94UG9zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3hQb3MoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgICByZXR1cm4gZS5jbGllbnRYO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBhbGwgdG9hc3RzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXNtaXNzQWxsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzbWlzc0FsbCgpIHtcbiAgICAgICAgZm9yICh2YXIgdG9hc3RJbmRleCBpbiBUb2FzdC5fdG9hc3RzKSB7XG4gICAgICAgICAgVG9hc3QuX3RvYXN0c1t0b2FzdEluZGV4XS5kaXNtaXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb2FzdDtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBUb2FzdFxuICAgKiBAdHlwZSB7QXJyYXkuPFRvYXN0Pn1cbiAgICovXG5cblxuICBUb2FzdC5fdG9hc3RzID0gW107XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFRvYXN0XG4gICAqL1xuICBUb2FzdC5fY29udGFpbmVyID0gbnVsbDtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgVG9hc3RcbiAgICogQHR5cGUge1RvYXN0fVxuICAgKi9cbiAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG5cbiAgTS5Ub2FzdCA9IFRvYXN0O1xuICBNLnRvYXN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFRvYXN0KG9wdGlvbnMpO1xuICB9O1xufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGVkZ2U6ICdsZWZ0JyxcbiAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgaW5EdXJhdGlvbjogMjUwLFxuICAgIG91dER1cmF0aW9uOiAyMDAsXG4gICAgb25PcGVuU3RhcnQ6IG51bGwsXG4gICAgb25PcGVuRW5kOiBudWxsLFxuICAgIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgICBvbkNsb3NlRW5kOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHRydWVcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqL1xuXG4gIHZhciBTaWRlbmF2ID0gZnVuY3Rpb24gKF9Db21wb25lbnQ4KSB7XG4gICAgX2luaGVyaXRzKFNpZGVuYXYsIF9Db21wb25lbnQ4KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBTaWRlbmF2IGluc3RhbmNlIGFuZCBzZXQgdXAgb3ZlcmxheVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpZGVuYXYoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaWRlbmF2KTtcblxuICAgICAgdmFyIF90aGlzMzEgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2lkZW5hdi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZGVuYXYpKS5jYWxsKHRoaXMsIFNpZGVuYXYsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMzEuZWwuTV9TaWRlbmF2ID0gX3RoaXMzMTtcbiAgICAgIF90aGlzMzEuaWQgPSBfdGhpczMxLiRlbC5hdHRyKCdpZCcpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBTaWRlbmF2XG4gICAgICAgKiBAbWVtYmVyIFNpZGVuYXYjb3B0aW9uc1xuICAgICAgICogQHByb3Age1N0cmluZ30gW2VkZ2U9J2xlZnQnXSAtIFNpZGUgb2Ygc2NyZWVuIG9uIHdoaWNoIFNpZGVuYXYgYXBwZWFyc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtkcmFnZ2FibGU9dHJ1ZV0gLSBBbGxvdyBzd2lwZSBnZXN0dXJlcyB0byBvcGVuL2Nsb3NlIFNpZGVuYXZcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtpbkR1cmF0aW9uPTI1MF0gLSBMZW5ndGggaW4gbXMgb2YgZW50ZXIgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age051bWJlcn0gW291dER1cmF0aW9uPTIwMF0gLSBMZW5ndGggaW4gbXMgb2YgZXhpdCB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlblN0YXJ0IC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBzdGFydHMgZW50ZXJpbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBmaW5pc2hlcyBlbnRlcmluZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlU3RhcnQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IHN0YXJ0cyBleGl0aW5nXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VFbmQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IGZpbmlzaGVzIGV4aXRpbmdcbiAgICAgICAqL1xuICAgICAgX3RoaXMzMS5vcHRpb25zID0gJC5leHRlbmQoe30sIFNpZGVuYXYuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBvcGVuL2Nsb3NlIHN0YXRlIG9mIFNpZGVuYXZcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczMxLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBpZiBTaWRlbmF2IGlzIGZpeGVkXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXMzMS5pc0ZpeGVkID0gX3RoaXMzMS5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGVuYXYtZml4ZWQnKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgaWYgU2lkZW5hdiBpcyBiZWluZyBkcmFnZ2VlZFxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIF90aGlzMzEuaXNEcmFnZ2VkID0gZmFsc2U7XG5cbiAgICAgIC8vIFdpbmRvdyBzaXplIHZhcmlhYmxlcyBmb3Igd2luZG93IHJlc2l6ZSBjaGVja3NcbiAgICAgIF90aGlzMzEubGFzdFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBfdGhpczMxLmxhc3RXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgIF90aGlzMzEuX2NyZWF0ZU92ZXJsYXkoKTtcbiAgICAgIF90aGlzMzEuX2NyZWF0ZURyYWdUYXJnZXQoKTtcbiAgICAgIF90aGlzMzEuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgX3RoaXMzMS5fc2V0dXBDbGFzc2VzKCk7XG4gICAgICBfdGhpczMxLl9zZXR1cEZpeGVkKCk7XG5cbiAgICAgIFNpZGVuYXYuX3NpZGVuYXZzLnB1c2goX3RoaXMzMSk7XG4gICAgICByZXR1cm4gX3RoaXMzMTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2lkZW5hdiwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fb3ZlcmxheSk7XG4gICAgICAgIHRoaXMuZHJhZ1RhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZHJhZ1RhcmdldCk7XG4gICAgICAgIHRoaXMuZWwuTV9TaWRlbmF2ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuXG4gICAgICAgIHZhciBpbmRleCA9IFNpZGVuYXYuX3NpZGVuYXZzLmluZGV4T2YodGhpcyk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgU2lkZW5hdi5fc2lkZW5hdnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY3JlYXRlT3ZlcmxheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVPdmVybGF5KCkge1xuICAgICAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9jbG9zZUJvdW5kID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3NpZGVuYXYtb3ZlcmxheScpO1xuXG4gICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUJvdW5kKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgICB0aGlzLl9vdmVybGF5ID0gb3ZlcmxheTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGlmIChTaWRlbmF2Ll9zaWRlbmF2cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQgPSB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZUJvdW5kID0gdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xvc2VEcmFnQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZURyYWcuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgLy8gQWRkIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICAgICAgaWYgKHRoaXMuaXNGaXhlZCkge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93UmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWdUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuZHJhZ1RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNsb3NlUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGlja0JvdW5kKTtcblxuICAgICAgICAvLyBSZW1vdmUgcmVzaXplIGZvciBzaWRlIG5hdiBmaXhlZFxuICAgICAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBUcmlnZ2VyIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlVHJpZ2dlckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICAgIHZhciAkdHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5zaWRlbmF2LXRyaWdnZXInKTtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICYmICR0cmlnZ2VyLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBzaWRlbmF2SWQgPSBNLmdldElkRnJvbVRyaWdnZXIoJHRyaWdnZXJbMF0pO1xuXG4gICAgICAgICAgdmFyIHNpZGVuYXZJbnN0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNpZGVuYXZJZCkuTV9TaWRlbmF2O1xuICAgICAgICAgIGlmIChzaWRlbmF2SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHNpZGVuYXZJbnN0YW5jZS5vcGVuKCR0cmlnZ2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgdGhlIGJlZ2dpbmluZyBvZiBkcmFnXG4gICAgICAgKiBhbmQgc3RvcCBhbnkgY3VycmVudCB0cmFuc2l0aW9uLlxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3N0YXJ0RHJhZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydERyYWcoZSkge1xuICAgICAgICB2YXIgY2xpZW50WCA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB0aGlzLmlzRHJhZ2dlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N0YXJ0aW5nWHBvcyA9IGNsaWVudFg7XG4gICAgICAgIHRoaXMuX3hQb3MgPSB0aGlzLl9zdGFydGluZ1hwb3M7XG4gICAgICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSB0aGlzLmlzT3BlbiA/IHRoaXMuZWwuc2Nyb2xsVG9wIDogTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgICB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgdmFyaWFibGVzIG5lZWRlZCBhdCBlYWNoIGRyYWcgbW92ZSB1cGRhdGUgdGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2RyYWdNb3ZlVXBkYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYWdNb3ZlVXBkYXRlKGUpIHtcbiAgICAgICAgdmFyIGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgdmFyIGN1cnJlbnRTY3JvbGxUb3AgPSB0aGlzLmlzT3BlbiA/IHRoaXMuZWwuc2Nyb2xsVG9wIDogTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgICB0aGlzLmRlbHRhWCA9IE1hdGguYWJzKHRoaXMuX3hQb3MgLSBjbGllbnRYKTtcbiAgICAgICAgdGhpcy5feFBvcyA9IGNsaWVudFg7XG4gICAgICAgIHRoaXMudmVsb2NpdHlYID0gdGhpcy5kZWx0YVggLyAoRGF0ZS5ub3coKSAtIHRoaXMuX3RpbWUpO1xuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgIT09IGN1cnJlbnRTY3JvbGxUb3ApIHtcbiAgICAgICAgICB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZXMgRHJhZ2dpbmcgb2YgU2lkZW5hdlxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURyYWdUYXJnZXREcmFnXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURyYWdUYXJnZXREcmFnKGUpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRyYWdnYWJsZSB8fCB0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkgfHwgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIHRvdWNobW92ZSB1cGRhdGVzXG4gICAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSByYXcgZGVsdGFYXG4gICAgICAgIHZhciB0b3RhbERlbHRhWCA9IHRoaXMuX3hQb3MgLSB0aGlzLl9zdGFydGluZ1hwb3M7XG5cbiAgICAgICAgLy8gZHJhZ0RpcmVjdGlvbiBpcyB0aGUgYXR0ZW1wdGVkIHVzZXIgZHJhZyBkaXJlY3Rpb25cbiAgICAgICAgdmFyIGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuXG4gICAgICAgIC8vIERvbid0IGFsbG93IHRvdGFsRGVsdGFYIHRvIGV4Y2VlZCBTaWRlbmF2IHdpZHRoIG9yIGJlIGRyYWdnZWQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvblxuICAgICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09IGRyYWdEaXJlY3Rpb24pIHtcbiAgICAgICAgICB0b3RhbERlbHRhWCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogdHJhbnNmb3JtWCBpcyB0aGUgZHJhZyBkaXNwbGFjZW1lbnRcbiAgICAgICAgICogdHJhbnNmb3JtUHJlZml4IGlzIHRoZSBpbml0aWFsIHRyYW5zZm9ybSBwbGFjZW1lbnRcbiAgICAgICAgICogSW52ZXJ0IHZhbHVlcyBpZiBTaWRlbmF2IGlzIHJpZ2h0IGVkZ2VcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0cmFuc2Zvcm1YID0gdG90YWxEZWx0YVg7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1QcmVmaXggPSAndHJhbnNsYXRlWCgtMTAwJSknO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1QcmVmaXggPSAndHJhbnNsYXRlWCgxMDAlKSc7XG4gICAgICAgICAgdHJhbnNmb3JtWCA9IC10cmFuc2Zvcm1YO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcbiAgICAgICAgdGhpcy5wZXJjZW50T3BlbiA9IE1hdGgubWluKDEsIHRvdGFsRGVsdGFYIC8gdGhpcy5fd2lkdGgpO1xuXG4gICAgICAgIC8vIFNldCB0cmFuc2Zvcm0gYW5kIG9wYWNpdHkgc3R5bGVzXG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtUHJlZml4ICsgXCIgdHJhbnNsYXRlWChcIiArIHRyYW5zZm9ybVggKyBcInB4KVwiO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBEcmFnIFRhcmdldCBSZWxlYXNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRHJhZ1RhcmdldFJlbGVhc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENsb3NlIERyYWdcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDbG9zZURyYWdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xvc2VEcmFnKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXG4gICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgbm90IGJlaW5nIGRyYWdnZWQsIHNldCBpbml0aWFsIGRyYWcgc3RhcnQgdmFyaWFibGVzXG4gICAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJ1biB0b3VjaG1vdmUgdXBkYXRlc1xuICAgICAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xuXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICAgICAgICB2YXIgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuXG4gICAgICAgICAgLy8gZHJhZ0RpcmVjdGlvbiBpcyB0aGUgYXR0ZW1wdGVkIHVzZXIgZHJhZyBkaXJlY3Rpb25cbiAgICAgICAgICB2YXIgZHJhZ0RpcmVjdGlvbiA9IHRvdGFsRGVsdGFYID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7XG5cbiAgICAgICAgICAvLyBEb24ndCBhbGxvdyB0b3RhbERlbHRhWCB0byBleGNlZWQgU2lkZW5hdiB3aWR0aCBvciBiZSBkcmFnZ2VkIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25cbiAgICAgICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSAhPT0gZHJhZ0RpcmVjdGlvbikge1xuICAgICAgICAgICAgdG90YWxEZWx0YVggPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB0cmFuc2Zvcm1YID0gLXRvdGFsRGVsdGFYO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgdHJhbnNmb3JtWCA9IC10cmFuc2Zvcm1YO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBvcGVuL2Nsb3NlIHBlcmNlbnRhZ2Ugb2Ygc2lkZW5hdiwgd2l0aCBvcGVuID0gMSBhbmQgY2xvc2UgPSAwXG4gICAgICAgICAgdGhpcy5wZXJjZW50T3BlbiA9IE1hdGgubWluKDEsIDEgLSB0b3RhbERlbHRhWCAvIHRoaXMuX3dpZHRoKTtcblxuICAgICAgICAgIC8vIFNldCB0cmFuc2Zvcm0gYW5kIG9wYWNpdHkgc3R5bGVzXG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIgKyB0cmFuc2Zvcm1YICsgXCJweClcIjtcbiAgICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENsb3NlIFJlbGVhc2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDbG9zZVJlbGVhc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xvc2VSZWxlYXNlKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4gJiYgdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5wZXJjZW50T3BlbiA+IDAuOCkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZXMgY2xvc2luZyBvZiBTaWRlbmF2IHdoZW4gZWxlbWVudCB3aXRoIGNsYXNzIC5zaWRlbmF2LWNsb3NlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2soZSkge1xuICAgICAgICB2YXIgJGNsb3NlVHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5zaWRlbmF2LWNsb3NlJyk7XG4gICAgICAgIGlmICgkY2xvc2VUcmlnZ2VyLmxlbmd0aCAmJiAhdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgICAvLyBPbmx5IGhhbmRsZSBob3Jpem9udGFsIHJlc2l6ZXNcbiAgICAgICAgaWYgKHRoaXMubGFzdFdpbmRvd1dpZHRoICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmxhc3RXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cENsYXNzZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBDbGFzc2VzKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgICAgICB0aGlzLmRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmlnaHQtYWxpZ25lZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVDbGFzc2VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUNsYXNzZXMoKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xuICAgICAgICB0aGlzLmRyYWdUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBGaXhlZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEZpeGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2lzQ3VycmVudGx5Rml4ZWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNDdXJyZW50bHlGaXhlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNGaXhlZCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDk5MjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NyZWF0ZURyYWdUYXJnZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcbiAgICAgICAgdmFyIGRyYWdUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZHJhZ1RhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnLXRhcmdldCcpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRyYWdUYXJnZXQpO1xuICAgICAgICB0aGlzLmRyYWdUYXJnZXQgPSBkcmFnVGFyZ2V0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcHJldmVudEJvZHlTY3JvbGxpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJldmVudEJvZHlTY3JvbGxpbmcoKSB7XG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfZW5hYmxlQm9keVNjcm9sbGluZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmFibGVCb2R5U2Nyb2xsaW5nKCkge1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgICAgICAvLyBSdW4gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBmaXhlZCBTaWRlbmF2XG4gICAgICAgIGlmICh0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkpIHtcbiAgICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XG4gICAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgLy8gSGFuZGxlIG5vbi1maXhlZCBTaWRlbmF2XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50U2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2ZW50Qm9keVNjcm9sbGluZygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUnVuIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zZm9ybVggPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gJy0xMDUlJyA6ICcxMDUlJztcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIHRyYW5zZm9ybVggKyBcIilcIjtcblxuICAgICAgICAgIC8vIEhhbmRsZSBub24tZml4ZWQgU2lkZW5hdlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2VuYWJsZUJvZHlTY3JvbGxpbmcoKTtcblxuICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlSW4oKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2SW4oKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU92ZXJsYXlJbigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZVNpZGVuYXZJblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlU2lkZW5hdkluKCkge1xuICAgICAgICB2YXIgX3RoaXMzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHNsaWRlT3V0UGVyY2VudCA9IHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCcgPyAtMSA6IDE7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgIHNsaWRlT3V0UGVyY2VudCA9IHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCcgPyBzbGlkZU91dFBlcmNlbnQgKyB0aGlzLnBlcmNlbnRPcGVuIDogc2xpZGVPdXRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IFtzbGlkZU91dFBlcmNlbnQgKiAxMDAgKyBcIiVcIiwgMF0sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUnVuIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczMyLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIF90aGlzMzIub3B0aW9ucy5vbk9wZW5FbmQuY2FsbChfdGhpczMyLCBfdGhpczMyLmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU92ZXJsYXlJblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3ZlcmxheUluKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICBzdGFydCA9IHRoaXMucGVyY2VudE9wZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCh0aGlzLl9vdmVybGF5KS5jc3Moe1xuICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICAgICAgb3BhY2l0eTogW3N0YXJ0LCAxXSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3V0KCkge1xuICAgICAgICB0aGlzLl9hbmltYXRlU2lkZW5hdk91dCgpO1xuICAgICAgICB0aGlzLl9hbmltYXRlT3ZlcmxheU91dCgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZVNpZGVuYXZPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZVNpZGVuYXZPdXQoKSB7XG4gICAgICAgIHZhciBfdGhpczMzID0gdGhpcztcblxuICAgICAgICB2YXIgZW5kUGVyY2VudCA9IHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCcgPyAtMSA6IDE7XG4gICAgICAgIHZhciBzbGlkZU91dFBlcmNlbnQgPSAwO1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICBzbGlkZU91dFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gZW5kUGVyY2VudCArIHRoaXMucGVyY2VudE9wZW4gOiBlbmRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IFtzbGlkZU91dFBlcmNlbnQgKiAxMDAgKyBcIiVcIiwgZW5kUGVyY2VudCAqIDEwNSArIFwiJVwiXSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUnVuIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczMzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczMzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKF90aGlzMzMsIF90aGlzMzMuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlT3ZlcmxheU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3ZlcmxheU91dCgpIHtcbiAgICAgICAgdmFyIF90aGlzMzQgPSB0aGlzO1xuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoX3RoaXMzNC5fb3ZlcmxheSkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChTaWRlbmF2Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2lkZW5hdiksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1NpZGVuYXY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2lkZW5hdjtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBTaWRlbmF2XG4gICAqIEB0eXBlIHtBcnJheS48U2lkZW5hdj59XG4gICAqL1xuXG5cbiAgU2lkZW5hdi5fc2lkZW5hdnMgPSBbXTtcblxuICBNLlNpZGVuYXYgPSBTaWRlbmF2O1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoU2lkZW5hdiwgJ3NpZGVuYXYnLCAnTV9TaWRlbmF2Jyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICB0aHJvdHRsZTogMTAwLFxuICAgIHNjcm9sbE9mZnNldDogMjAwLCAvLyBvZmZzZXQgLSAyMDAgYWxsb3dzIGVsZW1lbnRzIG5lYXIgYm90dG9tIG9mIHBhZ2UgdG8gc2Nyb2xsXG4gICAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxuICAgIGdldEFjdGl2ZUVsZW1lbnQ6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuICdhW2hyZWY9XCIjJyArIGlkICsgJ1wiXSc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFNjcm9sbFNweSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50OSkge1xuICAgIF9pbmhlcml0cyhTY3JvbGxTcHksIF9Db21wb25lbnQ5KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBTY3JvbGxTcHkgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY3JvbGxTcHkoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxTcHkpO1xuXG4gICAgICB2YXIgX3RoaXMzNSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTY3JvbGxTcHkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTY3JvbGxTcHkpKS5jYWxsKHRoaXMsIFNjcm9sbFNweSwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMzNS5lbC5NX1Njcm9sbFNweSA9IF90aGlzMzU7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG1vZGFsXG4gICAgICAgKiBAbWVtYmVyIE1vZGFsI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFt0aHJvdHRsZT0xMDBdIC0gVGhyb3R0bGUgb2Ygc2Nyb2xsIGhhbmRsZXJcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtzY3JvbGxPZmZzZXQ9MjAwXSAtIE9mZnNldCBmb3IgY2VudGVyaW5nIGVsZW1lbnQgd2hlbiBzY3JvbGxlZCB0b1xuICAgICAgICogQHByb3Age1N0cmluZ30gW2FjdGl2ZUNsYXNzPSdhY3RpdmUnXSAtIENsYXNzIGFwcGxpZWQgdG8gYWN0aXZlIGVsZW1lbnRzXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IFtnZXRBY3RpdmVFbGVtZW50XSAtIFVzZWQgdG8gZmluZCBhY3RpdmUgZWxlbWVudFxuICAgICAgICovXG4gICAgICBfdGhpczM1Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gc2V0dXBcbiAgICAgIFNjcm9sbFNweS5fZWxlbWVudHMucHVzaChfdGhpczM1KTtcbiAgICAgIFNjcm9sbFNweS5fY291bnQrKztcbiAgICAgIFNjcm9sbFNweS5faW5jcmVtZW50Kys7XG4gICAgICBfdGhpczM1LnRpY2tJZCA9IC0xO1xuICAgICAgX3RoaXMzNS5pZCA9IFNjcm9sbFNweS5faW5jcmVtZW50O1xuICAgICAgX3RoaXMzNS5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICBfdGhpczM1Ll9oYW5kbGVXaW5kb3dTY3JvbGwoKTtcbiAgICAgIHJldHVybiBfdGhpczM1O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTY3JvbGxTcHksIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzLnNwbGljZShTY3JvbGxTcHkuX2VsZW1lbnRzLmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LnNwbGljZShTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuaW5kZXhPZih0aGlzLiRlbCksIDEpO1xuICAgICAgICBTY3JvbGxTcHkuX2NvdW50LS07XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudCh0aGlzLiRlbC5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgdGhpcy5lbC5NX1Njcm9sbFNweSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciB0aHJvdHRsZWRSZXNpemUgPSBNLnRocm90dGxlKHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbCwgMjAwKTtcbiAgICAgICAgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQgPSB0aHJvdHRsZWRSZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKFNjcm9sbFNweS5fY291bnQgPT09IDEpIHtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQpO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFRyaWdnZXIgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVUcmlnZ2VyQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICAgICAgdmFyICR0cmlnZ2VyID0gJChlLnRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbHNweSA9IFNjcm9sbFNweS5fZWxlbWVudHNbaV07XG4gICAgICAgICAgaWYgKCR0cmlnZ2VyLmlzKCdhW2hyZWY9XCIjJyArIHNjcm9sbHNweS4kZWwuYXR0cignaWQnKSArICdcIl0nKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHNjcm9sbHNweS4kZWwub2Zmc2V0KCkudG9wICsgMTtcblxuICAgICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICAgIHRhcmdldHM6IFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLFxuICAgICAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldCAtIHNjcm9sbHNweS5vcHRpb25zLnNjcm9sbE9mZnNldCxcbiAgICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgV2luZG93IFNjcm9sbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVdpbmRvd1Njcm9sbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVXaW5kb3dTY3JvbGwoKSB7XG4gICAgICAgIC8vIHVuaXF1ZSB0aWNrIGlkXG4gICAgICAgIFNjcm9sbFNweS5fdGlja3MrKztcblxuICAgICAgICAvLyB2aWV3cG9ydCByZWN0YW5nbGVcbiAgICAgICAgdmFyIHRvcCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSxcbiAgICAgICAgICAgIGxlZnQgPSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpLFxuICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBib3R0b20gPSB0b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIGVsZW1lbnRzIGFyZSBpbiB2aWV3XG4gICAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gU2Nyb2xsU3B5Ll9maW5kRWxlbWVudHModG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbHNweSA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgICAgICAgdmFyIGxhc3RUaWNrID0gc2Nyb2xsc3B5LnRpY2tJZDtcbiAgICAgICAgICBpZiAobGFzdFRpY2sgPCAwKSB7XG4gICAgICAgICAgICAvLyBlbnRlcmVkIGludG8gdmlld1xuICAgICAgICAgICAgc2Nyb2xsc3B5Ll9lbnRlcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVwZGF0ZSB0aWNrIGlkXG4gICAgICAgICAgc2Nyb2xsc3B5LnRpY2tJZCA9IFNjcm9sbFNweS5fdGlja3M7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgX3Njcm9sbHNweSA9IFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXdbX2ldO1xuICAgICAgICAgIHZhciBfbGFzdFRpY2sgPSBfc2Nyb2xsc3B5LnRpY2tJZDtcbiAgICAgICAgICBpZiAoX2xhc3RUaWNrID49IDAgJiYgX2xhc3RUaWNrICE9PSBTY3JvbGxTcHkuX3RpY2tzKSB7XG4gICAgICAgICAgICAvLyBleGl0ZWQgZnJvbSB2aWV3XG4gICAgICAgICAgICBfc2Nyb2xsc3B5Ll9leGl0KCk7XG4gICAgICAgICAgICBfc2Nyb2xsc3B5LnRpY2tJZCA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbWVtYmVyIGVsZW1lbnRzIGluIHZpZXcgZm9yIG5leHQgdGlja1xuICAgICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gaW50ZXJzZWN0aW9ucztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBGaW5kIGVsZW1lbnRzIHRoYXQgYXJlIHdpdGhpbiB0aGUgYm91bmRhcnlcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b3BcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByaWdodFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbVxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnRcbiAgICAgICAqIEByZXR1cm4ge0FycmF5LjxTY3JvbGxTcHk+fSAgIEEgY29sbGVjdGlvbiBvZiBlbGVtZW50c1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2VudGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2VudGVyKCkge1xuICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuaGVpZ2h0KCkgIT0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XG4gICAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF1bMF0uTV9TY3JvbGxTcHkgJiYgdGhpcy5pZCA8IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdWzBdLk1fU2Nyb2xsU3B5LmlkKSB7XG4gICAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy51bnNoaWZ0KHRoaXMuJGVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMucHVzaCh0aGlzLiRlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLnB1c2godGhpcy4kZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2V4aXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZXhpdCgpIHtcbiAgICAgICAgdmFyIF90aGlzMzYgPSB0aGlzO1xuXG4gICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5oZWlnaHQoKSAhPSAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgICAgICAkKHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmF0dHIoJ2lkJykpKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZWwuYXR0cignaWQnKSAhPSBfdGhpczM2LiRlbC5hdHRyKCdpZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW1wdHlcbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uYXR0cignaWQnKSkpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KFNjcm9sbFNweS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNjcm9sbFNweSksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1Njcm9sbFNweTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2ZpbmRFbGVtZW50c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kRWxlbWVudHModG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XG4gICAgICAgIHZhciBoaXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgU2Nyb2xsU3B5Ll9lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xuICAgICAgICAgIHZhciBjdXJyVG9wID0gdG9wICsgc2Nyb2xsc3B5Lm9wdGlvbnMuc2Nyb2xsT2Zmc2V0IHx8IDIwMDtcblxuICAgICAgICAgIGlmIChzY3JvbGxzcHkuJGVsLmhlaWdodCgpID4gMCkge1xuICAgICAgICAgICAgdmFyIGVsVG9wID0gc2Nyb2xsc3B5LiRlbC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgZWxMZWZ0ID0gc2Nyb2xsc3B5LiRlbC5vZmZzZXQoKS5sZWZ0LFxuICAgICAgICAgICAgICAgIGVsUmlnaHQgPSBlbExlZnQgKyBzY3JvbGxzcHkuJGVsLndpZHRoKCksXG4gICAgICAgICAgICAgICAgZWxCb3R0b20gPSBlbFRvcCArIHNjcm9sbHNweS4kZWwuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIHZhciBpc0ludGVyc2VjdCA9ICEoZWxMZWZ0ID4gcmlnaHQgfHwgZWxSaWdodCA8IGxlZnQgfHwgZWxUb3AgPiBib3R0b20gfHwgZWxCb3R0b20gPCBjdXJyVG9wKTtcblxuICAgICAgICAgICAgaWYgKGlzSW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgIGhpdHMucHVzaChzY3JvbGxzcHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0cztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTY3JvbGxTcHk7XG4gIH0oQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgU2Nyb2xsU3B5XG4gICAqIEB0eXBlIHtBcnJheS48U2Nyb2xsU3B5Pn1cbiAgICovXG5cblxuICBTY3JvbGxTcHkuX2VsZW1lbnRzID0gW107XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKiBAdHlwZSB7QXJyYXkuPFNjcm9sbFNweT59XG4gICAqL1xuICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gW107XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKiBAdHlwZSB7QXJyYXkuPGNhc2g+fVxuICAgKi9cbiAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBbXTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgU2Nyb2xsU3B5XG4gICAqL1xuICBTY3JvbGxTcHkuX2NvdW50ID0gMDtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgU2Nyb2xsU3B5XG4gICAqL1xuICBTY3JvbGxTcHkuX2luY3JlbWVudCA9IDA7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKi9cbiAgU2Nyb2xsU3B5Ll90aWNrcyA9IDA7XG5cbiAgTS5TY3JvbGxTcHkgPSBTY3JvbGxTcHk7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihTY3JvbGxTcHksICdzY3JvbGxTcHknLCAnTV9TY3JvbGxTcHknKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGRhdGE6IHt9LCAvLyBBdXRvY29tcGxldGUgZGF0YSBzZXRcbiAgICBsaW1pdDogSW5maW5pdHksIC8vIExpbWl0IG9mIHJlc3VsdHMgdGhlIGF1dG9jb21wbGV0ZSBzaG93c1xuICAgIG9uQXV0b2NvbXBsZXRlOiBudWxsLCAvLyBDYWxsYmFjayBmb3Igd2hlbiBhdXRvY29tcGxldGVkXG4gICAgbWluTGVuZ3RoOiAxLCAvLyBNaW4gY2hhcmFjdGVycyBiZWZvcmUgYXV0b2NvbXBsZXRlIHN0YXJ0c1xuICAgIHNvcnRGdW5jdGlvbjogZnVuY3Rpb24gKGEsIGIsIGlucHV0U3RyaW5nKSB7XG4gICAgICAvLyBTb3J0IGZ1bmN0aW9uIGZvciBzb3J0aW5nIGF1dG9jb21wbGV0ZSByZXN1bHRzXG4gICAgICByZXR1cm4gYS5pbmRleE9mKGlucHV0U3RyaW5nKSAtIGIuaW5kZXhPZihpbnB1dFN0cmluZyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIEF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MTApIHtcbiAgICBfaW5oZXJpdHMoQXV0b2NvbXBsZXRlLCBfQ29tcG9uZW50MTApO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IEF1dG9jb21wbGV0ZSBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF1dG9jb21wbGV0ZShlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dG9jb21wbGV0ZSk7XG5cbiAgICAgIHZhciBfdGhpczM3ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEF1dG9jb21wbGV0ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEF1dG9jb21wbGV0ZSkpLmNhbGwodGhpcywgQXV0b2NvbXBsZXRlLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczM3LmVsLk1fQXV0b2NvbXBsZXRlID0gX3RoaXMzNztcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgYXV0b2NvbXBsZXRlXG4gICAgICAgKiBAbWVtYmVyIEF1dG9jb21wbGV0ZSNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBkdXJhdGlvblxuICAgICAgICogQHByb3Age051bWJlcn0gZGlzdFxuICAgICAgICogQHByb3Age251bWJlcn0gc2hpZnRcbiAgICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmdcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBmdWxsV2lkdGhcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBpbmRpY2F0b3JzXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gbm9XcmFwXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ3ljbGVUb1xuICAgICAgICovXG4gICAgICBfdGhpczM3Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b2NvbXBsZXRlLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gU2V0dXBcbiAgICAgIF90aGlzMzcuaXNPcGVuID0gZmFsc2U7XG4gICAgICBfdGhpczM3LmNvdW50ID0gMDtcbiAgICAgIF90aGlzMzcuYWN0aXZlSW5kZXggPSAtMTtcbiAgICAgIF90aGlzMzcub2xkVmFsO1xuICAgICAgX3RoaXMzNy4kaW5wdXRGaWVsZCA9IF90aGlzMzcuJGVsLmNsb3Nlc3QoJy5pbnB1dC1maWVsZCcpO1xuICAgICAgX3RoaXMzNy4kYWN0aXZlID0gJCgpO1xuICAgICAgX3RoaXMzNy5fbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICBfdGhpczM3Ll9zZXR1cERyb3Bkb3duKCk7XG5cbiAgICAgIF90aGlzMzcuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzMzc7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEF1dG9jb21wbGV0ZSwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRHJvcGRvd24oKTtcbiAgICAgICAgdGhpcy5lbC5NX0F1dG9jb21wbGV0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRCbHVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kID0gdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCA9IHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRHJvcGRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBEcm9wZG93bigpIHtcbiAgICAgICAgdmFyIF90aGlzMzggPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaWQgPSBcImF1dG9jb21wbGV0ZS1vcHRpb25zLVwiICsgTS5ndWlkKCk7XG4gICAgICAgICQodGhpcy5jb250YWluZXIpLmFkZENsYXNzKCdhdXRvY29tcGxldGUtY29udGVudCBkcm9wZG93bi1jb250ZW50Jyk7XG4gICAgICAgIHRoaXMuJGlucHV0RmllbGQuYXBwZW5kKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JywgdGhpcy5jb250YWluZXIuaWQpO1xuXG4gICAgICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5lbCwge1xuICAgICAgICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgICAgICAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcbiAgICAgICAgICBjb3ZlclRyaWdnZXI6IGZhbHNlLFxuICAgICAgICAgIG9uSXRlbUNsaWNrOiBmdW5jdGlvbiAoaXRlbUVsKSB7XG4gICAgICAgICAgICBfdGhpczM4LnNlbGVjdE9wdGlvbigkKGl0ZW1FbCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2tldGNoeSByZW1vdmFsIG9mIGRyb3Bkb3duIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZHJvcGRvd24uX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZURyb3Bkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZURyb3Bkb3duKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgQmx1clxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Qmx1clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEJsdXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgS2V5dXAgYW5kIEZvY3VzXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyhlKSB7XG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgICAgICBBdXRvY29tcGxldGUuX2tleWRvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICB2YXIgdmFsID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIC8vIERvbid0IGNhcHR1cmUgZW50ZXIgb3IgYXJyb3cga2V5IHVzYWdlLlxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMyB8fCBlLmtleUNvZGUgPT09IDM4IHx8IGUua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgaW5wdXQgaXNuJ3QgZW1wdHlcbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9jdXMgdHJpZ2dlcmVkIGJ5IHRhYlxuICAgICAgICBpZiAodGhpcy5vbGRWYWwgIT09IHZhbCAmJiAoTS50YWJQcmVzc2VkIHx8IGUudHlwZSAhPT0gJ2ZvY3VzJykpIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBvbGRWYWxcbiAgICAgICAgdGhpcy5vbGRWYWwgPSB2YWw7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IEtleWRvd25cbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEtleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgICAgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gdHJ1ZTtcblxuICAgICAgICAvLyBBcnJvdyBrZXlzIGFuZCBlbnRlciBrZXkgdXNhZ2VcbiAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUsXG4gICAgICAgICAgICBsaUVsZW1lbnQgPSB2b2lkIDAsXG4gICAgICAgICAgICBudW1JdGVtcyA9ICQodGhpcy5jb250YWluZXIpLmNoaWxkcmVuKCdsaScpLmxlbmd0aDtcblxuICAgICAgICAvLyBzZWxlY3QgZWxlbWVudCBvbiBFbnRlclxuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gTS5rZXlzLkVOVEVSICYmIHRoaXMuYWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgICAgIGxpRWxlbWVudCA9ICQodGhpcy5jb250YWluZXIpLmNoaWxkcmVuKCdsaScpLmVxKHRoaXMuYWN0aXZlSW5kZXgpO1xuICAgICAgICAgIGlmIChsaUVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbihsaUVsZW1lbnQpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXB0dXJlIHVwIGFuZCBkb3duIGtleVxuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gTS5rZXlzLkFSUk9XX1VQIHx8IGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19ET1dOKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19VUCAmJiB0aGlzLmFjdGl2ZUluZGV4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleC0tO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuQVJST1dfRE9XTiAmJiB0aGlzLmFjdGl2ZUluZGV4IDwgbnVtSXRlbXMgLSAxKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4Kys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy4kYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLiRhY3RpdmUgPSAkKHRoaXMuY29udGFpbmVyKS5jaGlsZHJlbignbGknKS5lcSh0aGlzLmFjdGl2ZUluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuJGFjdGl2ZS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dENsaWNrKGUpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENvbnRhaW5lciBNb3VzZWRvd24gYW5kIFRvdWNoc3RhcnRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnQoZSkge1xuICAgICAgICB0aGlzLl9tb3VzZWRvd24gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDb250YWluZXIgTW91c2V1cCBhbmQgVG91Y2hlbmRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kKGUpIHtcbiAgICAgICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGlnaGxpZ2h0IHBhcnRpYWwgbWF0Y2hcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oaWdobGlnaHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGlnaGxpZ2h0KHN0cmluZywgJGVsKSB7XG4gICAgICAgIHZhciBpbWcgPSAkZWwuZmluZCgnaW1nJyk7XG4gICAgICAgIHZhciBtYXRjaFN0YXJ0ID0gJGVsLnRleHQoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJycgKyBzdHJpbmcudG9Mb3dlckNhc2UoKSArICcnKSxcbiAgICAgICAgICAgIG1hdGNoRW5kID0gbWF0Y2hTdGFydCArIHN0cmluZy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgYmVmb3JlTWF0Y2ggPSAkZWwudGV4dCgpLnNsaWNlKDAsIG1hdGNoU3RhcnQpLFxuICAgICAgICAgICAgbWF0Y2hUZXh0ID0gJGVsLnRleHQoKS5zbGljZShtYXRjaFN0YXJ0LCBtYXRjaEVuZCArIDEpLFxuICAgICAgICAgICAgYWZ0ZXJNYXRjaCA9ICRlbC50ZXh0KCkuc2xpY2UobWF0Y2hFbmQgKyAxKTtcbiAgICAgICAgJGVsLmh0bWwoXCI8c3Bhbj5cIiArIGJlZm9yZU1hdGNoICsgXCI8c3BhbiBjbGFzcz0naGlnaGxpZ2h0Jz5cIiArIG1hdGNoVGV4dCArIFwiPC9zcGFuPlwiICsgYWZ0ZXJNYXRjaCArIFwiPC9zcGFuPlwiKTtcbiAgICAgICAgaWYgKGltZy5sZW5ndGgpIHtcbiAgICAgICAgICAkZWwucHJlcGVuZChpbWcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVzZXQgY3VycmVudCBlbGVtZW50IHBvc2l0aW9uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVzZXRDdXJyZW50RWxlbWVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldEN1cnJlbnRFbGVtZW50KCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVzZXQgYXV0b2NvbXBsZXRlIGVsZW1lbnRzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVzZXRBdXRvY29tcGxldGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRBdXRvY29tcGxldGUoKSB7XG4gICAgICAgICQodGhpcy5jb250YWluZXIpLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuX3Jlc2V0Q3VycmVudEVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5vbGRWYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZWxlY3QgYXV0b2NvbXBsZXRlIG9wdGlvblxuICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCAgQXV0b2NvbXBsZXRlIG9wdGlvbiBsaXN0IGl0ZW0gZWxlbWVudFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2VsZWN0T3B0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uKGVsKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZWwudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgdGhpcy5lbC52YWx1ZSA9IHRleHQ7XG4gICAgICAgIHRoaXMuJGVsLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIG9uQXV0b2NvbXBsZXRlIGNhbGxiYWNrLlxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkF1dG9jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkF1dG9jb21wbGV0ZS5jYWxsKHRoaXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVuZGVyIGRyb3Bkb3duIGNvbnRlbnRcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhICBkYXRhIHNldFxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCAgY3VycmVudCBpbnB1dCB2YWx1ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbmRlckRyb3Bkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckRyb3Bkb3duKGRhdGEsIHZhbCkge1xuICAgICAgICB2YXIgX3RoaXMzOSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcblxuICAgICAgICB2YXIgbWF0Y2hpbmdEYXRhID0gW107XG5cbiAgICAgICAgLy8gR2F0aGVyIGFsbCBtYXRjaGluZyBkYXRhXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbCkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBCcmVhayBpZiBwYXN0IGxpbWl0XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA+PSB0aGlzLm9wdGlvbnMubGltaXQpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVtrZXldLFxuICAgICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1hdGNoaW5nRGF0YS5wdXNoKGVudHJ5KTtcblxuICAgICAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvcnRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0RnVuY3Rpb24pIHtcbiAgICAgICAgICB2YXIgc29ydEZ1bmN0aW9uQm91bmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMzkub3B0aW9ucy5zb3J0RnVuY3Rpb24oYS5rZXkudG9Mb3dlckNhc2UoKSwgYi5rZXkudG9Mb3dlckNhc2UoKSwgdmFsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbWF0Y2hpbmdEYXRhLnNvcnQoc29ydEZ1bmN0aW9uQm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hpbmdEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIF9lbnRyeSA9IG1hdGNoaW5nRGF0YVtpXTtcbiAgICAgICAgICB2YXIgJGF1dG9jb21wbGV0ZU9wdGlvbiA9ICQoJzxsaT48L2xpPicpO1xuICAgICAgICAgIGlmICghIV9lbnRyeS5kYXRhKSB7XG4gICAgICAgICAgICAkYXV0b2NvbXBsZXRlT3B0aW9uLmFwcGVuZChcIjxpbWcgc3JjPVxcXCJcIiArIF9lbnRyeS5kYXRhICsgXCJcXFwiIGNsYXNzPVxcXCJyaWdodCBjaXJjbGVcXFwiPjxzcGFuPlwiICsgX2VudHJ5LmtleSArIFwiPC9zcGFuPlwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGF1dG9jb21wbGV0ZU9wdGlvbi5hcHBlbmQoJzxzcGFuPicgKyBfZW50cnkua2V5ICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5hcHBlbmQoJGF1dG9jb21wbGV0ZU9wdGlvbik7XG4gICAgICAgICAgdGhpcy5faGlnaGxpZ2h0KHZhbCwgJGF1dG9jb21wbGV0ZU9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIEF1dG9jb21wbGV0ZSBEcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIHZhciB2YWwgPSB0aGlzLmVsLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcblxuICAgICAgICBpZiAodmFsLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWluTGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuX3JlbmRlckRyb3Bkb3duKHRoaXMub3B0aW9ucy5kYXRhLCB2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBkcm9wZG93blxuICAgICAgICBpZiAoIXRoaXMuZHJvcGRvd24uaXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5kcm9wZG93bi5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmVjYWxjdWxhdGUgZHJvcGRvd24gd2hlbiBpdHMgYWxyZWFkeSBvcGVuXG4gICAgICAgICAgdGhpcy5kcm9wZG93bi5yZWNhbGN1bGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIEF1dG9jb21wbGV0ZSBEcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFVwZGF0ZSBEYXRhXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlRGF0YVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURhdGEoZGF0YSkge1xuICAgICAgICB2YXIgdmFsID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0aGlzLm9wdGlvbnMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyRHJvcGRvd24oZGF0YSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChBdXRvY29tcGxldGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBdXRvY29tcGxldGUpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9BdXRvY29tcGxldGU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQXV0b2NvbXBsZXRlO1xuICB9KENvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIEF1dG9jb21wbGV0ZVxuICAgKi9cblxuXG4gIEF1dG9jb21wbGV0ZS5fa2V5ZG93biA9IGZhbHNlO1xuXG4gIE0uQXV0b2NvbXBsZXRlID0gQXV0b2NvbXBsZXRlO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQXV0b2NvbXBsZXRlLCAnYXV0b2NvbXBsZXRlJywgJ01fQXV0b2NvbXBsZXRlJyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgbGFiZWxzIG9mIHRleHQgZmllbGRzXG4gIE0udXBkYXRlVGV4dEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5wdXRfc2VsZWN0b3IgPSAnaW5wdXRbdHlwZT10ZXh0XSwgaW5wdXRbdHlwZT1wYXNzd29yZF0sIGlucHV0W3R5cGU9ZW1haWxdLCBpbnB1dFt0eXBlPXVybF0sIGlucHV0W3R5cGU9dGVsXSwgaW5wdXRbdHlwZT1udW1iZXJdLCBpbnB1dFt0eXBlPXNlYXJjaF0sIGlucHV0W3R5cGU9ZGF0ZV0sIGlucHV0W3R5cGU9dGltZV0sIHRleHRhcmVhJztcbiAgICAkKGlucHV0X3NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIGlmIChlbGVtZW50LnZhbHVlLmxlbmd0aCA+IDAgfHwgJChlbGVtZW50KS5pcygnOmZvY3VzJykgfHwgZWxlbWVudC5hdXRvZm9jdXMgfHwgJHRoaXMuYXR0cigncGxhY2Vob2xkZXInKSAhPT0gbnVsbCkge1xuICAgICAgICAkdGhpcy5zaWJsaW5ncygnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudmFsaWRpdHkpIHtcbiAgICAgICAgJHRoaXMuc2libGluZ3MoJ2xhYmVsJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsIGVsZW1lbnQudmFsaWRpdHkuYmFkSW5wdXQgPT09IHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHRoaXMuc2libGluZ3MoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIE0udmFsaWRhdGVfZmllbGQgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGhhc0xlbmd0aCA9IG9iamVjdC5hdHRyKCdkYXRhLWxlbmd0aCcpICE9PSBudWxsO1xuICAgIHZhciBsZW5BdHRyID0gcGFyc2VJbnQob2JqZWN0LmF0dHIoJ2RhdGEtbGVuZ3RoJykpO1xuICAgIHZhciBsZW4gPSBvYmplY3RbMF0udmFsdWUubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA9PT0gMCAmJiBvYmplY3RbMF0udmFsaWRpdHkuYmFkSW5wdXQgPT09IGZhbHNlICYmICFvYmplY3QuaXMoJzpyZXF1aXJlZCcpKSB7XG4gICAgICBpZiAob2JqZWN0Lmhhc0NsYXNzKCd2YWxpZGF0ZScpKSB7XG4gICAgICAgIG9iamVjdC5yZW1vdmVDbGFzcygndmFsaWQnKTtcbiAgICAgICAgb2JqZWN0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvYmplY3QuaGFzQ2xhc3MoJ3ZhbGlkYXRlJykpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYXJhY3RlciBjb3VudGVyIGF0dHJpYnV0ZXNcbiAgICAgICAgaWYgKG9iamVjdC5pcygnOnZhbGlkJykgJiYgaGFzTGVuZ3RoICYmIGxlbiA8PSBsZW5BdHRyIHx8IG9iamVjdC5pcygnOnZhbGlkJykgJiYgIWhhc0xlbmd0aCkge1xuICAgICAgICAgIG9iamVjdC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICAgIG9iamVjdC5hZGRDbGFzcygndmFsaWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmplY3QucmVtb3ZlQ2xhc3MoJ3ZhbGlkJyk7XG4gICAgICAgICAgb2JqZWN0LmFkZENsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgTS50ZXh0YXJlYUF1dG9SZXNpemUgPSBmdW5jdGlvbiAoJHRleHRhcmVhKSB7XG4gICAgLy8gV3JhcCBpZiBuYXRpdmUgZWxlbWVudFxuICAgIGlmICgkdGV4dGFyZWEgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAkdGV4dGFyZWEgPSAkKCR0ZXh0YXJlYSk7XG4gICAgfVxuXG4gICAgaWYgKCEkdGV4dGFyZWEubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyB0ZXh0YXJlYSBlbGVtZW50IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGV4dGFyZWEgQXV0byBSZXNpemVcbiAgICB2YXIgaGlkZGVuRGl2ID0gJCgnLmhpZGRlbmRpdicpLmZpcnN0KCk7XG4gICAgaWYgKCFoaWRkZW5EaXYubGVuZ3RoKSB7XG4gICAgICBoaWRkZW5EaXYgPSAkKCc8ZGl2IGNsYXNzPVwiaGlkZGVuZGl2IGNvbW1vblwiPjwvZGl2PicpO1xuICAgICAgJCgnYm9keScpLmFwcGVuZChoaWRkZW5EaXYpO1xuICAgIH1cblxuICAgIC8vIFNldCBmb250IHByb3BlcnRpZXMgb2YgaGlkZGVuRGl2XG4gICAgdmFyIGZvbnRGYW1pbHkgPSAkdGV4dGFyZWEuY3NzKCdmb250LWZhbWlseScpO1xuICAgIHZhciBmb250U2l6ZSA9ICR0ZXh0YXJlYS5jc3MoJ2ZvbnQtc2l6ZScpO1xuICAgIHZhciBsaW5lSGVpZ2h0ID0gJHRleHRhcmVhLmNzcygnbGluZS1oZWlnaHQnKTtcblxuICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHBhZGRpbmcgc2hvcnRoYW5kLlxuICAgIHZhciBwYWRkaW5nVG9wID0gJHRleHRhcmVhLmNzcygncGFkZGluZy10b3AnKTtcbiAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gJHRleHRhcmVhLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgIHZhciBwYWRkaW5nQm90dG9tID0gJHRleHRhcmVhLmNzcygncGFkZGluZy1ib3R0b20nKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSAkdGV4dGFyZWEuY3NzKCdwYWRkaW5nLWxlZnQnKTtcblxuICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgaGlkZGVuRGl2LmNzcygnZm9udC1zaXplJywgZm9udFNpemUpO1xuICAgIH1cbiAgICBpZiAoZm9udEZhbWlseSkge1xuICAgICAgaGlkZGVuRGl2LmNzcygnZm9udC1mYW1pbHknLCBmb250RmFtaWx5KTtcbiAgICB9XG4gICAgaWYgKGxpbmVIZWlnaHQpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ2xpbmUtaGVpZ2h0JywgbGluZUhlaWdodCk7XG4gICAgfVxuICAgIGlmIChwYWRkaW5nVG9wKSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdwYWRkaW5nLXRvcCcsIHBhZGRpbmdUb3ApO1xuICAgIH1cbiAgICBpZiAocGFkZGluZ1JpZ2h0KSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFkZGluZ1JpZ2h0KTtcbiAgICB9XG4gICAgaWYgKHBhZGRpbmdCb3R0b20pIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3BhZGRpbmctYm90dG9tJywgcGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIGlmIChwYWRkaW5nTGVmdCkge1xuICAgICAgaGlkZGVuRGl2LmNzcygncGFkZGluZy1sZWZ0JywgcGFkZGluZ0xlZnQpO1xuICAgIH1cblxuICAgIC8vIFNldCBvcmlnaW5hbC1oZWlnaHQsIGlmIG5vbmVcbiAgICBpZiAoISR0ZXh0YXJlYS5kYXRhKCdvcmlnaW5hbC1oZWlnaHQnKSkge1xuICAgICAgJHRleHRhcmVhLmRhdGEoJ29yaWdpbmFsLWhlaWdodCcsICR0ZXh0YXJlYS5oZWlnaHQoKSk7XG4gICAgfVxuXG4gICAgaWYgKCR0ZXh0YXJlYS5hdHRyKCd3cmFwJykgPT09ICdvZmYnKSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdvdmVyZmxvdy13cmFwJywgJ25vcm1hbCcpLmNzcygnd2hpdGUtc3BhY2UnLCAncHJlJyk7XG4gICAgfVxuXG4gICAgaGlkZGVuRGl2LnRleHQoJHRleHRhcmVhWzBdLnZhbHVlICsgJ1xcbicpO1xuICAgIHZhciBjb250ZW50ID0gaGlkZGVuRGl2Lmh0bWwoKS5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgICBoaWRkZW5EaXYuaHRtbChjb250ZW50KTtcblxuICAgIC8vIFdoZW4gdGV4dGFyZWEgaXMgaGlkZGVuLCB3aWR0aCBnb2VzIGNyYXp5LlxuICAgIC8vIEFwcHJveGltYXRlIHdpdGggaGFsZiBvZiB3aW5kb3cgc2l6ZVxuXG4gICAgaWYgKCR0ZXh0YXJlYVswXS5vZmZzZXRXaWR0aCA+IDAgJiYgJHRleHRhcmVhWzBdLm9mZnNldEhlaWdodCA+IDApIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3dpZHRoJywgJHRleHRhcmVhLndpZHRoKCkgKyAncHgnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZGVuRGl2LmNzcygnd2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyAncHgnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgaWYgdGhlIG5ldyBoZWlnaHQgaXMgZ3JlYXRlciB0aGFuIHRoZVxuICAgICAqIG9yaWdpbmFsIGhlaWdodCBvZiB0aGUgdGV4dGFyZWFcbiAgICAgKi9cbiAgICBpZiAoJHRleHRhcmVhLmRhdGEoJ29yaWdpbmFsLWhlaWdodCcpIDw9IGhpZGRlbkRpdi5pbm5lckhlaWdodCgpKSB7XG4gICAgICAkdGV4dGFyZWEuY3NzKCdoZWlnaHQnLCBoaWRkZW5EaXYuaW5uZXJIZWlnaHQoKSArICdweCcpO1xuICAgIH0gZWxzZSBpZiAoJHRleHRhcmVhWzBdLnZhbHVlLmxlbmd0aCA8ICR0ZXh0YXJlYS5kYXRhKCdwcmV2aW91cy1sZW5ndGgnKSkge1xuICAgICAgLyoqXG4gICAgICAgKiBJbiBjYXNlIHRoZSBuZXcgaGVpZ2h0IGlzIGxlc3MgdGhhbiBvcmlnaW5hbCBoZWlnaHQsIGl0XG4gICAgICAgKiBtZWFucyB0aGUgdGV4dGFyZWEgaGFzIGxlc3MgdGV4dCB0aGFuIGJlZm9yZVxuICAgICAgICogU28gd2Ugc2V0IHRoZSBoZWlnaHQgdG8gdGhlIG9yaWdpbmFsIG9uZVxuICAgICAgICovXG4gICAgICAkdGV4dGFyZWEuY3NzKCdoZWlnaHQnLCAkdGV4dGFyZWEuZGF0YSgnb3JpZ2luYWwtaGVpZ2h0JykgKyAncHgnKTtcbiAgICB9XG4gICAgJHRleHRhcmVhLmRhdGEoJ3ByZXZpb3VzLWxlbmd0aCcsICR0ZXh0YXJlYVswXS52YWx1ZS5sZW5ndGgpO1xuICB9O1xuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUZXh0IGJhc2VkIGlucHV0c1xuICAgIHZhciBpbnB1dF9zZWxlY3RvciA9ICdpbnB1dFt0eXBlPXRleHRdLCBpbnB1dFt0eXBlPXBhc3N3b3JkXSwgaW5wdXRbdHlwZT1lbWFpbF0sIGlucHV0W3R5cGU9dXJsXSwgaW5wdXRbdHlwZT10ZWxdLCBpbnB1dFt0eXBlPW51bWJlcl0sIGlucHV0W3R5cGU9c2VhcmNoXSwgaW5wdXRbdHlwZT1kYXRlXSwgaW5wdXRbdHlwZT10aW1lXSwgdGV4dGFyZWEnO1xuXG4gICAgLy8gQWRkIGFjdGl2ZSBpZiBmb3JtIGF1dG8gY29tcGxldGVcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgaW5wdXRfc2VsZWN0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMCB8fCAkKHRoaXMpLmF0dHIoJ3BsYWNlaG9sZGVyJykgIT09IG51bGwpIHtcbiAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBNLnZhbGlkYXRlX2ZpZWxkKCQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGFjdGl2ZSBpZiBpbnB1dCBlbGVtZW50IGhhcyBiZWVuIHByZS1wb3B1bGF0ZWQgb24gZG9jdW1lbnQgcmVhZHlcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTtcbiAgICB9KTtcblxuICAgIC8vIEhUTUwgRE9NIEZPUk0gUkVTRVQgaGFuZGxpbmdcbiAgICAkKGRvY3VtZW50KS5vbigncmVzZXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGZvcm1SZXNldCA9ICQoZS50YXJnZXQpO1xuICAgICAgaWYgKGZvcm1SZXNldC5pcygnZm9ybScpKSB7XG4gICAgICAgIGZvcm1SZXNldC5maW5kKGlucHV0X3NlbGVjdG9yKS5yZW1vdmVDbGFzcygndmFsaWQnKS5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICBmb3JtUmVzZXQuZmluZChpbnB1dF9zZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXNldCBzZWxlY3QgKGFmdGVyIG5hdGl2ZSByZXNldClcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9ybVJlc2V0LmZpbmQoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIGlmICh0aGlzLk1fRm9ybVNlbGVjdCkge1xuICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhY3RpdmUgd2hlbiBlbGVtZW50IGhhcyBmb2N1c1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoJChlLnRhcmdldCkuaXMoaW5wdXRfc2VsZWN0b3IpKSB7XG4gICAgICAgICQoZS50YXJnZXQpLnNpYmxpbmdzKCdsYWJlbCwgLnByZWZpeCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhY3RpdmUgd2hlbiBlbGVtZW50IGlzIGJsdXJyZWRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJGlucHV0RWxlbWVudCA9ICQoZS50YXJnZXQpO1xuICAgICAgaWYgKCRpbnB1dEVsZW1lbnQuaXMoaW5wdXRfc2VsZWN0b3IpKSB7XG4gICAgICAgIHZhciBzZWxlY3RvciA9ICcucHJlZml4JztcblxuICAgICAgICBpZiAoJGlucHV0RWxlbWVudFswXS52YWx1ZS5sZW5ndGggPT09IDAgJiYgJGlucHV0RWxlbWVudFswXS52YWxpZGl0eS5iYWRJbnB1dCAhPT0gdHJ1ZSAmJiAkaW5wdXRFbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJykgPT09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3RvciArPSAnLCBsYWJlbCc7XG4gICAgICAgIH1cbiAgICAgICAgJGlucHV0RWxlbWVudC5zaWJsaW5ncyhzZWxlY3RvcikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBNLnZhbGlkYXRlX2ZpZWxkKCRpbnB1dEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuXG4gICAgLy8gUmFkaW8gYW5kIENoZWNrYm94IGZvY3VzIGNsYXNzXG4gICAgdmFyIHJhZGlvX2NoZWNrYm94ID0gJ2lucHV0W3R5cGU9cmFkaW9dLCBpbnB1dFt0eXBlPWNoZWNrYm94XSc7XG4gICAgJChkb2N1bWVudCkub24oJ2tleXVwJywgcmFkaW9fY2hlY2tib3gsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBUQUIsIGNoZWNrIGlmIHRhYmJpbmcgdG8gcmFkaW8gb3IgY2hlY2tib3guXG4gICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQikge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd0YWJiZWQnKTtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgJHRoaXMub25lKCdibHVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0YWJiZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB0ZXh0X2FyZWFfc2VsZWN0b3IgPSAnLm1hdGVyaWFsaXplLXRleHRhcmVhJztcbiAgICAkKHRleHRfYXJlYV9zZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRleHRhcmVhID0gJCh0aGlzKTtcbiAgICAgIC8qKlxuICAgICAgICogUmVzaXplIHRleHRhcmVhIG9uIGRvY3VtZW50IGxvYWQgYWZ0ZXIgc3RvcmluZ1xuICAgICAgICogdGhlIG9yaWdpbmFsIGhlaWdodCBhbmQgdGhlIG9yaWdpbmFsIGxlbmd0aFxuICAgICAgICovXG4gICAgICAkdGV4dGFyZWEuZGF0YSgnb3JpZ2luYWwtaGVpZ2h0JywgJHRleHRhcmVhLmhlaWdodCgpKTtcbiAgICAgICR0ZXh0YXJlYS5kYXRhKCdwcmV2aW91cy1sZW5ndGgnLCB0aGlzLnZhbHVlLmxlbmd0aCk7XG4gICAgICBNLnRleHRhcmVhQXV0b1Jlc2l6ZSgkdGV4dGFyZWEpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oJ2tleXVwJywgdGV4dF9hcmVhX3NlbGVjdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICBNLnRleHRhcmVhQXV0b1Jlc2l6ZSgkKHRoaXMpKTtcbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bicsIHRleHRfYXJlYV9zZWxlY3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgTS50ZXh0YXJlYUF1dG9SZXNpemUoJCh0aGlzKSk7XG4gICAgfSk7XG5cbiAgICAvLyBGaWxlIElucHV0IFBhdGhcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJy5maWxlLWZpZWxkIGlucHV0W3R5cGU9XCJmaWxlXCJdJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpbGVfZmllbGQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5maWxlLWZpZWxkJyk7XG4gICAgICB2YXIgcGF0aF9pbnB1dCA9IGZpbGVfZmllbGQuZmluZCgnaW5wdXQuZmlsZS1wYXRoJyk7XG4gICAgICB2YXIgZmlsZXMgPSAkKHRoaXMpWzBdLmZpbGVzO1xuICAgICAgdmFyIGZpbGVfbmFtZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmlsZV9uYW1lcy5wdXNoKGZpbGVzW2ldLm5hbWUpO1xuICAgICAgfVxuICAgICAgcGF0aF9pbnB1dFswXS52YWx1ZSA9IGZpbGVfbmFtZXMuam9pbignLCAnKTtcbiAgICAgIHBhdGhfaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfSk7XG4gIH0pOyAvLyBFbmQgb2YgJChkb2N1bWVudCkucmVhZHlcbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBpbmRpY2F0b3JzOiB0cnVlLFxuICAgIGhlaWdodDogNDAwLFxuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgaW50ZXJ2YWw6IDYwMDBcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBTbGlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDExKSB7XG4gICAgX2luaGVyaXRzKFNsaWRlciwgX0NvbXBvbmVudDExKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBTbGlkZXIgaW5zdGFuY2UgYW5kIHNldCB1cCBvdmVybGF5XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2xpZGVyKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVyKTtcblxuICAgICAgdmFyIF90aGlzNDAgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2xpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpZGVyKSkuY2FsbCh0aGlzLCBTbGlkZXIsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNDAuZWwuTV9TbGlkZXIgPSBfdGhpczQwO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBTbGlkZXIjb3B0aW9uc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtpbmRpY2F0b3JzPXRydWVdIC0gU2hvdyBpbmRpY2F0b3JzXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaGVpZ2h0PTQwMF0gLSBoZWlnaHQgb2Ygc2xpZGVyXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbZHVyYXRpb249NTAwXSAtIExlbmd0aCBpbiBtcyBvZiBzbGlkZSB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW50ZXJ2YWw9NjAwMF0gLSBMZW5ndGggaW4gbXMgb2Ygc2xpZGUgaW50ZXJ2YWxcbiAgICAgICAqL1xuICAgICAgX3RoaXM0MC5vcHRpb25zID0gJC5leHRlbmQoe30sIFNsaWRlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIHNldHVwXG4gICAgICBfdGhpczQwLiRzbGlkZXIgPSBfdGhpczQwLiRlbC5maW5kKCcuc2xpZGVzJyk7XG4gICAgICBfdGhpczQwLiRzbGlkZXMgPSBfdGhpczQwLiRzbGlkZXIuY2hpbGRyZW4oJ2xpJyk7XG4gICAgICBfdGhpczQwLmFjdGl2ZUluZGV4ID0gX3RoaXM0MC4kc2xpZGVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gJChpdGVtKS5oYXNDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9KS5maXJzdCgpLmluZGV4KCk7XG4gICAgICBpZiAoX3RoaXM0MC5hY3RpdmVJbmRleCAhPSAtMSkge1xuICAgICAgICBfdGhpczQwLiRhY3RpdmUgPSBfdGhpczQwLiRzbGlkZXMuZXEoX3RoaXM0MC5hY3RpdmVJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzNDAuX3NldFNsaWRlckhlaWdodCgpO1xuXG4gICAgICAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvbnMgb2YgY2FwdGlvbnNcbiAgICAgIF90aGlzNDAuJHNsaWRlcy5maW5kKCcuY2FwdGlvbicpLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIF90aGlzNDAuX2FuaW1hdGVDYXB0aW9uSW4oZWwsIDApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vdmUgaW1nIHNyYyBpbnRvIGJhY2tncm91bmQtaW1hZ2VcbiAgICAgIF90aGlzNDAuJHNsaWRlcy5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXJCYXNlNjQgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUJBUC8vL3dBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSc7XG4gICAgICAgIGlmICgkKGVsKS5hdHRyKCdzcmMnKSAhPT0gcGxhY2Vob2xkZXJCYXNlNjQpIHtcbiAgICAgICAgICAkKGVsKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKFwiJyArICQoZWwpLmF0dHIoJ3NyYycpICsgJ1wiKScpO1xuICAgICAgICAgICQoZWwpLmF0dHIoJ3NyYycsIHBsYWNlaG9sZGVyQmFzZTY0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzNDAuX3NldHVwSW5kaWNhdG9ycygpO1xuXG4gICAgICAvLyBTaG93IGFjdGl2ZSBzbGlkZVxuICAgICAgaWYgKF90aGlzNDAuJGFjdGl2ZSkge1xuICAgICAgICBfdGhpczQwLiRhY3RpdmUuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczQwLiRzbGlkZXMuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IF90aGlzNDAuJHNsaWRlcy5maXJzdCgpWzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZHVyYXRpb246IF90aGlzNDAub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXM0MC5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgIF90aGlzNDAuJGFjdGl2ZSA9IF90aGlzNDAuJHNsaWRlcy5lcShfdGhpczQwLmFjdGl2ZUluZGV4KTtcblxuICAgICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgICAgICBpZiAoX3RoaXM0MC5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICBfdGhpczQwLiRpbmRpY2F0b3JzLmVxKF90aGlzNDAuYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGp1c3QgaGVpZ2h0IHRvIGN1cnJlbnQgc2xpZGVcbiAgICAgIF90aGlzNDAuJGFjdGl2ZS5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiBfdGhpczQwLiRhY3RpdmUuZmluZCgnLmNhcHRpb24nKVswXSxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogX3RoaXM0MC5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpczQwLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgLy8gYXV0byBzY3JvbGxcbiAgICAgIF90aGlzNDAuc3RhcnQoKTtcbiAgICAgIHJldHVybiBfdGhpczQwO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTbGlkZXIsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZUluZGljYXRvcnMoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fU2xpZGVyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNDEgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZUludGVydmFsQm91bmQgPSB0aGlzLl9oYW5kbGVJbnRlcnZhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzNDEuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM0MiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczQyLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBpbmRpY2F0b3IgY2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbmRpY2F0b3JDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbmRpY2F0b3JDbGljayhlKSB7XG4gICAgICAgIHZhciBjdXJySW5kZXggPSAkKGUudGFyZ2V0KS5pbmRleCgpO1xuICAgICAgICB0aGlzLnNldChjdXJySW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBJbnRlcnZhbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUludGVydmFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUludGVydmFsKCkge1xuICAgICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSB0aGlzLiRzbGlkZXIuZmluZCgnLmFjdGl2ZScpLmluZGV4KCk7XG4gICAgICAgIGlmICh0aGlzLiRzbGlkZXMubGVuZ3RoID09PSBuZXdBY3RpdmVJbmRleCArIDEpIG5ld0FjdGl2ZUluZGV4ID0gMDtcbiAgICAgICAgLy8gbG9vcCB0byBzdGFydFxuICAgICAgICBlbHNlIG5ld0FjdGl2ZUluZGV4ICs9IDE7XG5cbiAgICAgICAgdGhpcy5zZXQobmV3QWN0aXZlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW4gY2FwdGlvblxuICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBjYXB0aW9uXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlQ2FwdGlvbkluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVDYXB0aW9uSW4oY2FwdGlvbiwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIGFuaW1PcHRpb25zID0ge1xuICAgICAgICAgIHRhcmdldHM6IGNhcHRpb24sXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCQoY2FwdGlvbikuaGFzQ2xhc3MoJ2NlbnRlci1hbGlnbicpKSB7XG4gICAgICAgICAgYW5pbU9wdGlvbnMudHJhbnNsYXRlWSA9IC0xMDA7XG4gICAgICAgIH0gZWxzZSBpZiAoJChjYXB0aW9uKS5oYXNDbGFzcygncmlnaHQtYWxpZ24nKSkge1xuICAgICAgICAgIGFuaW1PcHRpb25zLnRyYW5zbGF0ZVggPSAxMDA7XG4gICAgICAgIH0gZWxzZSBpZiAoJChjYXB0aW9uKS5oYXNDbGFzcygnbGVmdC1hbGlnbicpKSB7XG4gICAgICAgICAgYW5pbU9wdGlvbnMudHJhbnNsYXRlWCA9IC0xMDA7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgaGVpZ2h0IG9mIHNsaWRlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFNsaWRlckhlaWdodFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTbGlkZXJIZWlnaHQoKSB7XG4gICAgICAgIC8vIElmIGZ1bGxzY3JlZW4sIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKCF0aGlzLiRlbC5oYXNDbGFzcygnZnVsbHNjcmVlbicpKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgICAvLyBBZGQgaGVpZ2h0IGlmIGluZGljYXRvcnMgYXJlIHByZXNlbnRcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygnaGVpZ2h0JywgdGhpcy5vcHRpb25zLmhlaWdodCArIDQwICsgJ3B4Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygnaGVpZ2h0JywgdGhpcy5vcHRpb25zLmhlaWdodCArICdweCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLiRzbGlkZXIuY3NzKCdoZWlnaHQnLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBpbmRpY2F0b3JzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBJbmRpY2F0b3JzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwSW5kaWNhdG9ycygpIHtcbiAgICAgICAgdmFyIF90aGlzNDMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMgPSAkKCc8dWwgY2xhc3M9XCJpbmRpY2F0b3JzXCI+PC91bD4nKTtcbiAgICAgICAgICB0aGlzLiRzbGlkZXMuZWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgJGluZGljYXRvciA9ICQoJzxsaSBjbGFzcz1cImluZGljYXRvci1pdGVtXCI+PC9saT4nKTtcbiAgICAgICAgICAgIF90aGlzNDMuJGluZGljYXRvcnMuYXBwZW5kKCRpbmRpY2F0b3JbMF0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRpbmRpY2F0b3JzWzBdKTtcbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbignbGkuaW5kaWNhdG9yLWl0ZW0nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBpbmRpY2F0b3JzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlSW5kaWNhdG9yc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVJbmRpY2F0b3JzKCkge1xuICAgICAgICB0aGlzLiRlbC5maW5kKCd1bC5pbmRpY2F0b3JzJykucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3ljbGUgdG8gbnRoIGl0ZW1cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpczQ0ID0gdGhpcztcblxuICAgICAgICAvLyBXcmFwIGFyb3VuZCBpbmRpY2VzLlxuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkgaW5kZXggPSAwO2Vsc2UgaWYgKGluZGV4IDwgMCkgaW5kZXggPSB0aGlzLiRzbGlkZXMubGVuZ3RoIC0gMTtcblxuICAgICAgICAvLyBPbmx5IGRvIGlmIGluZGV4IGNoYW5nZXNcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICB0aGlzLiRhY3RpdmUgPSB0aGlzLiRzbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleCk7XG4gICAgICAgICAgdmFyICRjYXB0aW9uID0gdGhpcy4kYWN0aXZlLmZpbmQoJy5jYXB0aW9uJyk7XG4gICAgICAgICAgdGhpcy4kYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy4kYWN0aXZlWzBdLFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczQ0LiRzbGlkZXMubm90KCcuYWN0aXZlJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldHM6IGVsLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLl9hbmltYXRlQ2FwdGlvbkluKCRjYXB0aW9uWzBdLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIGluZGljYXRvcnNcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMuZXEodGhpcy5hY3RpdmVJbmRleCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lcShpbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy4kc2xpZGVzLmVxKGluZGV4KVswXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuJHNsaWRlcy5lcShpbmRleCkuZmluZCgnLmNhcHRpb24nKVswXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICBkZWxheTogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiRzbGlkZXMuZXEoaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAvLyBSZXNldCBpbnRlcnZhbFxuICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFBhdXNlIHNsaWRlciBpbnRlcnZhbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicGF1c2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTdGFydCBzbGlkZXIgaW50ZXJ2YWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInN0YXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLl9oYW5kbGVJbnRlcnZhbEJvdW5kLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKyB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIE1vdmUgdG8gbmV4dCBzbGlkZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibmV4dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggKyAxO1xuXG4gICAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICAgIGlmIChuZXdJbmRleCA+PSB0aGlzLiRzbGlkZXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7ZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuJHNsaWRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIHRoaXMuc2V0KG5ld0luZGV4KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBNb3ZlIHRvIHByZXZpb3VzIHNsaWRlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJwcmV2XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJldigpIHtcbiAgICAgICAgdmFyIG5ld0luZGV4ID0gdGhpcy5hY3RpdmVJbmRleCAtIDE7XG5cbiAgICAgICAgLy8gV3JhcCBhcm91bmQgaW5kaWNlcy5cbiAgICAgICAgaWYgKG5ld0luZGV4ID49IHRoaXMuJHNsaWRlcy5sZW5ndGgpIG5ld0luZGV4ID0gMDtlbHNlIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gdGhpcy4kc2xpZGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChTbGlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTbGlkZXIpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9TbGlkZXI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2xpZGVyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5TbGlkZXIgPSBTbGlkZXI7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihTbGlkZXIsICdzbGlkZXInLCAnTV9TbGlkZXInKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2FyZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCQodGhpcykuY2hpbGRyZW4oJy5jYXJkLXJldmVhbCcpLmxlbmd0aCkge1xuICAgICAgdmFyICRjYXJkID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNhcmQnKTtcbiAgICAgIGlmICgkY2FyZC5kYXRhKCdpbml0aWFsT3ZlcmZsb3cnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICRjYXJkLmRhdGEoJ2luaXRpYWxPdmVyZmxvdycsICRjYXJkLmNzcygnb3ZlcmZsb3cnKSA9PT0gdW5kZWZpbmVkID8gJycgOiAkY2FyZC5jc3MoJ292ZXJmbG93JykpO1xuICAgICAgfVxuICAgICAgdmFyICRjYXJkUmV2ZWFsID0gJCh0aGlzKS5maW5kKCcuY2FyZC1yZXZlYWwnKTtcbiAgICAgIGlmICgkKGUudGFyZ2V0KS5pcygkKCcuY2FyZC1yZXZlYWwgLmNhcmQtdGl0bGUnKSkgfHwgJChlLnRhcmdldCkuaXMoJCgnLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlIGknKSkpIHtcbiAgICAgICAgLy8gTWFrZSBSZXZlYWwgYW5pbWF0ZSBkb3duIGFuZCBkaXNwbGF5IG5vbmVcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogJGNhcmRSZXZlYWxbMF0sXG4gICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogMjI1LFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnLFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICAgICAgdmFyIGVsID0gYW5pbS5hbmltYXRhYmxlc1swXS50YXJnZXQ7XG4gICAgICAgICAgICAkKGVsKS5jc3MoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgICAgICAgICAkY2FyZC5jc3MoJ292ZXJmbG93JywgJGNhcmQuZGF0YSgnaW5pdGlhbE92ZXJmbG93JykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCQoZS50YXJnZXQpLmlzKCQoJy5jYXJkIC5hY3RpdmF0b3InKSkgfHwgJChlLnRhcmdldCkuaXMoJCgnLmNhcmQgLmFjdGl2YXRvciBpJykpKSB7XG4gICAgICAgICRjYXJkLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgICRjYXJkUmV2ZWFsLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6ICRjYXJkUmV2ZWFsWzBdLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6ICctMTAwJScsXG4gICAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGRhdGE6IFtdLFxuICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICBzZWNvbmRhcnlQbGFjZWhvbGRlcjogJycsXG4gICAgYXV0b2NvbXBsZXRlT3B0aW9uczoge30sXG4gICAgbGltaXQ6IEluZmluaXR5LFxuICAgIG9uQ2hpcEFkZDogbnVsbCxcbiAgICBvbkNoaXBTZWxlY3Q6IG51bGwsXG4gICAgb25DaGlwRGVsZXRlOiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IGNoaXBcbiAgICogQHByb3BlcnR5IHtTdHJpbmd9IHRhZyAgY2hpcCB0YWcgc3RyaW5nXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbaW1hZ2VdICBjaGlwIGF2YXRhciBpbWFnZSBzdHJpbmdcbiAgICovXG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgQ2hpcHMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDEyKSB7XG4gICAgX2luaGVyaXRzKENoaXBzLCBfQ29tcG9uZW50MTIpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IENoaXBzIGluc3RhbmNlIGFuZCBzZXQgdXAgb3ZlcmxheVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENoaXBzKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hpcHMpO1xuXG4gICAgICB2YXIgX3RoaXM0NSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDaGlwcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoaXBzKSkuY2FsbCh0aGlzLCBDaGlwcywgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM0NS5lbC5NX0NoaXBzID0gX3RoaXM0NTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgbW9kYWxcbiAgICAgICAqIEBtZW1iZXIgQ2hpcHMjb3B0aW9uc1xuICAgICAgICogQHByb3Age0FycmF5fSBkYXRhXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBwbGFjZWhvbGRlclxuICAgICAgICogQHByb3Age1N0cmluZ30gc2Vjb25kYXJ5UGxhY2Vob2xkZXJcbiAgICAgICAqIEBwcm9wIHtPYmplY3R9IGF1dG9jb21wbGV0ZU9wdGlvbnNcbiAgICAgICAqL1xuICAgICAgX3RoaXM0NS5vcHRpb25zID0gJC5leHRlbmQoe30sIENoaXBzLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM0NS4kZWwuYWRkQ2xhc3MoJ2NoaXBzIGlucHV0LWZpZWxkJyk7XG4gICAgICBfdGhpczQ1LmNoaXBzRGF0YSA9IFtdO1xuICAgICAgX3RoaXM0NS4kY2hpcHMgPSAkKCk7XG4gICAgICBfdGhpczQ1Ll9zZXR1cElucHV0KCk7XG4gICAgICBfdGhpczQ1Lmhhc0F1dG9jb21wbGV0ZSA9IE9iamVjdC5rZXlzKF90aGlzNDUub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zKS5sZW5ndGggPiAwO1xuXG4gICAgICAvLyBTZXQgaW5wdXQgaWRcbiAgICAgIGlmICghX3RoaXM0NS4kaW5wdXQuYXR0cignaWQnKSkge1xuICAgICAgICBfdGhpczQ1LiRpbnB1dC5hdHRyKCdpZCcsIE0uZ3VpZCgpKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVuZGVyIGluaXRpYWwgY2hpcHNcbiAgICAgIGlmIChfdGhpczQ1Lm9wdGlvbnMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXM0NS5jaGlwc0RhdGEgPSBfdGhpczQ1Lm9wdGlvbnMuZGF0YTtcbiAgICAgICAgX3RoaXM0NS5fcmVuZGVyQ2hpcHMoX3RoaXM0NS5jaGlwc0RhdGEpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBhdXRvY29tcGxldGUgaWYgbmVlZGVkXG4gICAgICBpZiAoX3RoaXM0NS5oYXNBdXRvY29tcGxldGUpIHtcbiAgICAgICAgX3RoaXM0NS5fc2V0dXBBdXRvY29tcGxldGUoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXM0NS5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAgIF90aGlzNDUuX3NldHVwTGFiZWwoKTtcbiAgICAgIF90aGlzNDUuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzNDU7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENoaXBzLCBbe1xuICAgICAga2V5OiBcImdldERhdGFcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBDaGlwcyBEYXRhXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlwc0RhdGE7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLiRjaGlwcy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5lbC5NX0NoaXBzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDaGlwQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Qmx1ci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2tCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXlkb3duKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXl1cCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIENoaXBzLl9oYW5kbGVDaGlwc0JsdXIsIHRydWUpO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuJGlucHV0WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCk7XG4gICAgICAgIHRoaXMuJGlucHV0WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5ZG93bik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICAgICAgdGhpcy4kaW5wdXRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEZvY3VzQm91bmQpO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQpO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDaGlwIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2hpcENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNoaXBDbGljayhlKSB7XG4gICAgICAgIHZhciAkY2hpcCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwJyk7XG4gICAgICAgIHZhciBjbGlja2VkQ2xvc2UgPSAkKGUudGFyZ2V0KS5pcygnLmNsb3NlJyk7XG4gICAgICAgIGlmICgkY2hpcC5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAkY2hpcC5pbmRleCgpO1xuICAgICAgICAgIGlmIChjbGlja2VkQ2xvc2UpIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBjaGlwXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUNoaXAoaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2VsZWN0IGNoaXBcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVmYXVsdCBoYW5kbGUgY2xpY2sgdG8gZm9jdXMgb24gaW5wdXRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLiRpbnB1dFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENoaXBzIEtleWRvd25cbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEZvY3VzXCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgRm9jdXNcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEZvY3VzKCkge1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnZm9jdXMnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgQmx1clxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Qmx1clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEJsdXIoKSB7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdmb2N1cycpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBJbnB1dCBLZXlkb3duXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUlucHV0S2V5ZG93bihlKSB7XG4gICAgICAgIENoaXBzLl9rZXlkb3duID0gdHJ1ZTtcblxuICAgICAgICAvLyBlbnRlclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgIC8vIE92ZXJyaWRlIGVudGVyIGlmIGF1dG9jb21wbGV0aW5nLlxuICAgICAgICAgIGlmICh0aGlzLmhhc0F1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZS5pc09wZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5hZGRDaGlwKHtcbiAgICAgICAgICAgIHRhZzogdGhpcy4kaW5wdXRbMF0udmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLiRpbnB1dFswXS52YWx1ZSA9ICcnO1xuXG4gICAgICAgICAgLy8gZGVsZXRlIG9yIGxlZnRcbiAgICAgICAgfSBlbHNlIGlmICgoZS5rZXlDb2RlID09PSA4IHx8IGUua2V5Q29kZSA9PT0gMzcpICYmIHRoaXMuJGlucHV0WzBdLnZhbHVlID09PSAnJyAmJiB0aGlzLmNoaXBzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5zZWxlY3RDaGlwKHRoaXMuY2hpcHNEYXRhLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVuZGVyIENoaXBcbiAgICAgICAqIEBwYXJhbSB7Y2hpcH0gY2hpcFxuICAgICAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW5kZXJDaGlwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckNoaXAoY2hpcCkge1xuICAgICAgICBpZiAoIWNoaXAudGFnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVkQ2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgY2xvc2VJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICByZW5kZXJlZENoaXAuY2xhc3NMaXN0LmFkZCgnY2hpcCcpO1xuICAgICAgICByZW5kZXJlZENoaXAudGV4dENvbnRlbnQgPSBjaGlwLnRhZztcbiAgICAgICAgcmVuZGVyZWRDaGlwLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgICAgICAgJChjbG9zZUljb24pLmFkZENsYXNzKCdtYXRlcmlhbC1pY29ucyBjbG9zZScpO1xuICAgICAgICBjbG9zZUljb24udGV4dENvbnRlbnQgPSAnY2xvc2UnO1xuXG4gICAgICAgIC8vIGF0dGFjaCBpbWFnZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGNoaXAuaW1hZ2UpIHtcbiAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgY2hpcC5pbWFnZSk7XG4gICAgICAgICAgcmVuZGVyZWRDaGlwLmluc2VydEJlZm9yZShpbWcsIHJlbmRlcmVkQ2hpcC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVkQ2hpcC5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgICAgICByZXR1cm4gcmVuZGVyZWRDaGlwO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbmRlciBDaGlwc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbmRlckNoaXBzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckNoaXBzKCkge1xuICAgICAgICB0aGlzLiRjaGlwcy5yZW1vdmUoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaXBzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjaGlwRWwgPSB0aGlzLl9yZW5kZXJDaGlwKHRoaXMuY2hpcHNEYXRhW2ldKTtcbiAgICAgICAgICB0aGlzLiRlbC5hcHBlbmQoY2hpcEVsKTtcbiAgICAgICAgICB0aGlzLiRjaGlwcy5hZGQoY2hpcEVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgaW5wdXQgdG8gZW5kXG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRpbnB1dFswXSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgQXV0b2NvbXBsZXRlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBBdXRvY29tcGxldGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBBdXRvY29tcGxldGUoKSB7XG4gICAgICAgIHZhciBfdGhpczQ2ID0gdGhpcztcblxuICAgICAgICB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucy5vbkF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICBfdGhpczQ2LmFkZENoaXAoe1xuICAgICAgICAgICAgdGFnOiB2YWxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfdGhpczQ2LiRpbnB1dFswXS52YWx1ZSA9ICcnO1xuICAgICAgICAgIF90aGlzNDYuJGlucHV0WzBdLmZvY3VzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5hdXRvY29tcGxldGUgPSBNLkF1dG9jb21wbGV0ZS5pbml0KHRoaXMuJGlucHV0WzBdLCB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgSW5wdXRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cElucHV0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwSW5wdXQoKSB7XG4gICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcbiAgICAgICAgaWYgKCF0aGlzLiRpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRpbnB1dCA9ICQoJzxpbnB1dD48L2lucHV0PicpO1xuICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRpbnB1dC5hZGRDbGFzcygnaW5wdXQnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBMYWJlbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwTGFiZWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBMYWJlbCgpIHtcbiAgICAgICAgdGhpcy4kbGFiZWwgPSB0aGlzLiRlbC5maW5kKCdsYWJlbCcpO1xuICAgICAgICBpZiAodGhpcy4kbGFiZWwubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLiRpbnB1dC5hdHRyKCdpZCcpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBwbGFjZWhvbGRlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFBsYWNlaG9sZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFBsYWNlaG9sZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlwc0RhdGEgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jaGlwc0RhdGEubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICQodGhpcy4kaW5wdXQpLnByb3AoJ3BsYWNlaG9sZGVyJywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgfSBlbHNlIGlmICgodGhpcy5jaGlwc0RhdGEgPT09IHVuZGVmaW5lZCB8fCAhIXRoaXMuY2hpcHNEYXRhLmxlbmd0aCkgJiYgdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgJCh0aGlzLiRpbnB1dCkucHJvcCgncGxhY2Vob2xkZXInLCB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5UGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2sgaWYgY2hpcCBpcyB2YWxpZFxuICAgICAgICogQHBhcmFtIHtjaGlwfSBjaGlwXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaXNWYWxpZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1ZhbGlkKGNoaXApIHtcbiAgICAgICAgaWYgKGNoaXAuaGFzT3duUHJvcGVydHkoJ3RhZycpICYmIGNoaXAudGFnICE9PSAnJykge1xuICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpcHNEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlwc0RhdGFbaV0udGFnID09PSBjaGlwLnRhZykge1xuICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICFleGlzdHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGNoaXBcbiAgICAgICAqIEBwYXJhbSB7Y2hpcH0gY2hpcFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkQ2hpcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENoaXAoY2hpcCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzVmFsaWQoY2hpcCkgfHwgdGhpcy5jaGlwc0RhdGEubGVuZ3RoID49IHRoaXMub3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJlZENoaXAgPSB0aGlzLl9yZW5kZXJDaGlwKGNoaXApO1xuICAgICAgICB0aGlzLiRjaGlwcy5hZGQocmVuZGVyZWRDaGlwKTtcbiAgICAgICAgdGhpcy5jaGlwc0RhdGEucHVzaChjaGlwKTtcbiAgICAgICAgJCh0aGlzLiRpbnB1dCkuYmVmb3JlKHJlbmRlcmVkQ2hpcCk7XG4gICAgICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XG5cbiAgICAgICAgLy8gZmlyZSBjaGlwQWRkIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcEFkZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQuY2FsbCh0aGlzLCB0aGlzLiRlbCwgcmVuZGVyZWRDaGlwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIERlbGV0ZSBjaGlwXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hpcFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVsZXRlQ2hpcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUNoaXAoY2hpcEluZGV4KSB7XG4gICAgICAgIHZhciAkY2hpcCA9IHRoaXMuJGNoaXBzLmVxKGNoaXBJbmRleCk7XG4gICAgICAgIHRoaXMuJGNoaXBzLmVxKGNoaXBJbmRleCkucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuJGNoaXBzID0gdGhpcy4kY2hpcHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiAkKGVsKS5pbmRleCgpID49IDA7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoaXBzRGF0YS5zcGxpY2UoY2hpcEluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcblxuICAgICAgICAvLyBmaXJlIGNoaXBEZWxldGUgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwRGVsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZS5jYWxsKHRoaXMsIHRoaXMuJGVsLCAkY2hpcFswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZWxlY3QgY2hpcFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoaXBcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNlbGVjdENoaXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RDaGlwKGNoaXBJbmRleCkge1xuICAgICAgICB2YXIgJGNoaXAgPSB0aGlzLiRjaGlwcy5lcShjaGlwSW5kZXgpO1xuICAgICAgICB0aGlzLl9zZWxlY3RlZENoaXAgPSAkY2hpcDtcbiAgICAgICAgJGNoaXBbMF0uZm9jdXMoKTtcblxuICAgICAgICAvLyBmaXJlIGNoaXBTZWxlY3QgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2hpcFNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuJGVsLCAkY2hpcFswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoQ2hpcHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGlwcyksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX0NoaXBzO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2hpcHNLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNoaXBzS2V5ZG93bihlKSB7XG4gICAgICAgIENoaXBzLl9rZXlkb3duID0gdHJ1ZTtcblxuICAgICAgICB2YXIgJGNoaXBzID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNoaXBzJyk7XG4gICAgICAgIHZhciBjaGlwc0tleWRvd24gPSBlLnRhcmdldCAmJiAkY2hpcHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIERvbid0IGhhbmRsZSBrZXlkb3duIGlucHV0cyBvbiBpbnB1dCBhbmQgdGV4dGFyZWFcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKCdpbnB1dCwgdGV4dGFyZWEnKSB8fCAhY2hpcHNLZXlkb3duKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJDaGlwcyA9ICRjaGlwc1swXS5NX0NoaXBzO1xuXG4gICAgICAgIC8vIGJhY2tzcGFjZSBhbmQgZGVsZXRlXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDggfHwgZS5rZXlDb2RlID09PSA0Nikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHZhciBzZWxlY3RJbmRleCA9IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoO1xuICAgICAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VyckNoaXBzLl9zZWxlY3RlZENoaXAuaW5kZXgoKTtcbiAgICAgICAgICAgIGN1cnJDaGlwcy5kZWxldGVDaGlwKGluZGV4KTtcbiAgICAgICAgICAgIGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHNlbGVjdEluZGV4IGRvZXNuJ3QgZ28gbmVnYXRpdmVcbiAgICAgICAgICAgIHNlbGVjdEluZGV4ID0gTWF0aC5tYXgoaW5kZXggLSAxLCAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VyckNoaXBzLmNoaXBzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBsZWZ0IGFycm93IGtleVxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzcpIHtcbiAgICAgICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgICAgIHZhciBfc2VsZWN0SW5kZXggPSBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcC5pbmRleCgpIC0gMTtcbiAgICAgICAgICAgIGlmIChfc2VsZWN0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKF9zZWxlY3RJbmRleCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmlnaHQgYXJyb3cga2V5XG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuICAgICAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICAgICAgdmFyIF9zZWxlY3RJbmRleDIgPSBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcC5pbmRleCgpICsgMTtcblxuICAgICAgICAgICAgaWYgKF9zZWxlY3RJbmRleDIgPj0gY3VyckNoaXBzLmNoaXBzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY3VyckNoaXBzLiRpbnB1dFswXS5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoX3NlbGVjdEluZGV4Mik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENoaXBzIEtleXVwXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2hpcHNLZXl1cFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGlwc0tleXVwKGUpIHtcbiAgICAgICAgQ2hpcHMuX2tleWRvd24gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ2hpcHMgQmx1clxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNoaXBzQmx1clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGlwc0JsdXIoZSkge1xuICAgICAgICBpZiAoIUNoaXBzLl9rZXlkb3duKSB7XG4gICAgICAgICAgdmFyICRjaGlwcyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgICAgIHZhciBjdXJyQ2hpcHMgPSAkY2hpcHNbMF0uTV9DaGlwcztcblxuICAgICAgICAgIGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENoaXBzO1xuICB9KENvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIENoaXBzXG4gICAqL1xuXG5cbiAgQ2hpcHMuX2tleWRvd24gPSBmYWxzZTtcblxuICBNLkNoaXBzID0gQ2hpcHM7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihDaGlwcywgJ2NoaXBzJywgJ01fQ2hpcHMnKTtcbiAgfVxuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBIYW5kbGUgcmVtb3ZhbCBvZiBzdGF0aWMgY2hpcHMuXG4gICAgJChkb2N1bWVudC5ib2R5KS5vbignY2xpY2snLCAnLmNoaXAgLmNsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjaGlwcyA9ICQodGhpcykuY2xvc2VzdCgnLmNoaXBzJyk7XG4gICAgICBpZiAoJGNoaXBzLmxlbmd0aCAmJiAkY2hpcHNbMF0uTV9DaGlwcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5jaGlwJykucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0pO1xufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIHRvcDogMCxcbiAgICBib3R0b206IEluZmluaXR5LFxuICAgIG9mZnNldDogMCxcbiAgICBvblBvc2l0aW9uQ2hhbmdlOiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgUHVzaHBpbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MTMpIHtcbiAgICBfaW5oZXJpdHMoUHVzaHBpbiwgX0NvbXBvbmVudDEzKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBQdXNocGluIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHVzaHBpbihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFB1c2hwaW4pO1xuXG4gICAgICB2YXIgX3RoaXM0NyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQdXNocGluLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHVzaHBpbikpLmNhbGwodGhpcywgUHVzaHBpbiwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM0Ny5lbC5NX1B1c2hwaW4gPSBfdGhpczQ3O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBQdXNocGluI29wdGlvbnNcbiAgICAgICAqL1xuICAgICAgX3RoaXM0Ny5vcHRpb25zID0gJC5leHRlbmQoe30sIFB1c2hwaW4uZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICBfdGhpczQ3Lm9yaWdpbmFsT2Zmc2V0ID0gX3RoaXM0Ny5lbC5vZmZzZXRUb3A7XG4gICAgICBQdXNocGluLl9wdXNocGlucy5wdXNoKF90aGlzNDcpO1xuICAgICAgX3RoaXM0Ny5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICBfdGhpczQ3Ll91cGRhdGVQb3NpdGlvbigpO1xuICAgICAgcmV0dXJuIF90aGlzNDc7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFB1c2hwaW4sIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBwdXNocGluIEluc3RcbiAgICAgICAgdmFyIGluZGV4ID0gUHVzaHBpbi5fcHVzaHBpbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgUHVzaHBpbi5fcHVzaHBpbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlUG9zaXRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxlZCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXQ7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b3AgPD0gc2Nyb2xsZWQgJiYgdGhpcy5vcHRpb25zLmJvdHRvbSA+PSBzY3JvbGxlZCAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbm5lZCcpKSB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gdGhpcy5vcHRpb25zLm9mZnNldCArIFwicHhcIjtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Bpbm5lZCcpO1xuXG4gICAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbm5lZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwaW4tdG9wICh3aGVuIHNjcm9sbGVkIHBvc2l0aW9uIGlzIGFib3ZlIHRvcClcbiAgICAgICAgaWYgKHNjcm9sbGVkIDwgdGhpcy5vcHRpb25zLnRvcCAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi10b3AnKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IDA7XG4gICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tdG9wJyk7XG5cbiAgICAgICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGluLXRvcCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwaW4tYm90dG9tICh3aGVuIHNjcm9sbGVkIHBvc2l0aW9uIGlzIGJlbG93IGJvdHRvbSlcbiAgICAgICAgaWYgKHNjcm9sbGVkID4gdGhpcy5vcHRpb25zLmJvdHRvbSAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi1ib3R0b20nKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Bpbi1ib3R0b20nKTtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IHRoaXMub3B0aW9ucy5ib3R0b20gLSB0aGlzLm9yaWdpbmFsT2Zmc2V0ICsgXCJweFwiO1xuXG4gICAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbi1ib3R0b20nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZVBpbkNsYXNzZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlUGluQ2xhc3NlcygpIHtcbiAgICAgICAgLy8gSUUgMTEgYnVnIChjYW4ndCByZW1vdmUgbXVsdGlwbGUgY2xhc3NlcyBpbiBvbmUgbGluZSlcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwaW4tdG9wJyk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGlubmVkJyk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLWJvdHRvbScpO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChQdXNocGluLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHVzaHBpbiksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1B1c2hwaW47XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl91cGRhdGVFbGVtZW50c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVFbGVtZW50cygpIHtcbiAgICAgICAgZm9yICh2YXIgZWxJbmRleCBpbiBQdXNocGluLl9wdXNocGlucykge1xuICAgICAgICAgIHZhciBwSW5zdGFuY2UgPSBQdXNocGluLl9wdXNocGluc1tlbEluZGV4XTtcbiAgICAgICAgICBwSW5zdGFuY2UuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQdXNocGluO1xuICB9KENvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFB1c2hwaW5cbiAgICovXG5cblxuICBQdXNocGluLl9wdXNocGlucyA9IFtdO1xuXG4gIE0uUHVzaHBpbiA9IFB1c2hwaW47XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihQdXNocGluLCAncHVzaHBpbicsICdNX1B1c2hwaW4nKTtcbiAgfVxufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGRpcmVjdGlvbjogJ3RvcCcsXG4gICAgaG92ZXJFbmFibGVkOiB0cnVlLFxuICAgIHRvb2xiYXJFbmFibGVkOiBmYWxzZVxuICB9O1xuXG4gICQuZm4ucmV2ZXJzZSA9IFtdLnJldmVyc2U7XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgRmxvYXRpbmdBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudDE0KSB7XG4gICAgX2luaGVyaXRzKEZsb2F0aW5nQWN0aW9uQnV0dG9uLCBfQ29tcG9uZW50MTQpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IEZsb2F0aW5nQWN0aW9uQnV0dG9uIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmxvYXRpbmdBY3Rpb25CdXR0b24oZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGbG9hdGluZ0FjdGlvbkJ1dHRvbik7XG5cbiAgICAgIHZhciBfdGhpczQ4ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZsb2F0aW5nQWN0aW9uQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmxvYXRpbmdBY3Rpb25CdXR0b24pKS5jYWxsKHRoaXMsIEZsb2F0aW5nQWN0aW9uQnV0dG9uLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczQ4LmVsLk1fRmxvYXRpbmdBY3Rpb25CdXR0b24gPSBfdGhpczQ4O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBmYWJcbiAgICAgICAqIEBtZW1iZXIgRmxvYXRpbmdBY3Rpb25CdXR0b24jb3B0aW9uc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtkaXJlY3Rpb25dIC0gRGlyZWN0aW9uIGZhYiBtZW51IG9wZW5zXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2hvdmVyRW5hYmxlZD10cnVlXSAtIEVuYWJsZSBob3ZlciB2cyBjbGlja1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFt0b29sYmFyRW5hYmxlZD1mYWxzZV0gLSBFbmFibGUgdG9vbGJhciB0cmFuc2l0aW9uXG4gICAgICAgKi9cbiAgICAgIF90aGlzNDgub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBGbG9hdGluZ0FjdGlvbkJ1dHRvbi5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNDguaXNPcGVuID0gZmFsc2U7XG4gICAgICBfdGhpczQ4LiRhbmNob3IgPSBfdGhpczQ4LiRlbC5jaGlsZHJlbignYScpLmZpcnN0KCk7XG4gICAgICBfdGhpczQ4LiRtZW51ID0gX3RoaXM0OC4kZWwuY2hpbGRyZW4oJ3VsJykuZmlyc3QoKTtcbiAgICAgIF90aGlzNDguJGZsb2F0aW5nQnRucyA9IF90aGlzNDguJGVsLmZpbmQoJ3VsIC5idG4tZmxvYXRpbmcnKTtcbiAgICAgIF90aGlzNDguJGZsb2F0aW5nQnRuc1JldmVyc2UgPSBfdGhpczQ4LiRlbC5maW5kKCd1bCAuYnRuLWZsb2F0aW5nJykucmV2ZXJzZSgpO1xuICAgICAgX3RoaXM0OC5vZmZzZXRZID0gMDtcbiAgICAgIF90aGlzNDgub2Zmc2V0WCA9IDA7XG5cbiAgICAgIF90aGlzNDguJGVsLmFkZENsYXNzKFwiZGlyZWN0aW9uLVwiICsgX3RoaXM0OC5vcHRpb25zLmRpcmVjdGlvbik7XG4gICAgICBpZiAoX3RoaXM0OC5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgX3RoaXM0OC5vZmZzZXRZID0gNDA7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzNDgub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgX3RoaXM0OC5vZmZzZXRYID0gLTQwO1xuICAgICAgfSBlbHNlIGlmIChfdGhpczQ4Lm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICBfdGhpczQ4Lm9mZnNldFkgPSAtNDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczQ4Lm9mZnNldFggPSA0MDtcbiAgICAgIH1cbiAgICAgIF90aGlzNDguX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzNDg7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEZsb2F0aW5nQWN0aW9uQnV0dG9uLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fRmxvYXRpbmdBY3Rpb25CdXR0b24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVGQUJDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlRkFCQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlT3BlbkJvdW5kID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3ZlckVuYWJsZWQgJiYgIXRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU9wZW5Cb3VuZCk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyRW5hYmxlZCAmJiAhdGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlT3BlbkJvdW5kKTtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDbG9zZUJvdW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRkFCQ2xpY2tCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRkFCIENsaWNrXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRkFCQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRkFCQ2xpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBEb2N1bWVudCBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURvY3VtZW50Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRG9jdW1lbnRDbGljayhlKSB7XG4gICAgICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCh0aGlzLiRtZW51KS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIEZBQlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlSW5Ub29sYmFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZUluRkFCKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIEZBQlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCwgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dFRvb2xiYXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlT3V0RkFCKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbGFzc2ljIEZBQiBNZW51IG9wZW5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5GQUJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluRkFCKCkge1xuICAgICAgICB2YXIgX3RoaXM0OSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgIHZhciB0aW1lID0gMDtcbiAgICAgICAgdGhpcy4kZmxvYXRpbmdCdG5zUmV2ZXJzZS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgc2NhbGU6IFswLjQsIDFdLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogW190aGlzNDkub2Zmc2V0WSwgMF0sXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiBbX3RoaXM0OS5vZmZzZXRYLCAwXSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyNzUsXG4gICAgICAgICAgICBkZWxheTogdGltZSxcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGltZSArPSA0MDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xhc3NpYyBGQUIgTWVudSBjbG9zZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRGQUJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dEZBQigpIHtcbiAgICAgICAgdmFyIF90aGlzNTAgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuJGZsb2F0aW5nQnRuc1JldmVyc2UuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBhbmltLnJlbW92ZShlbCk7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBzY2FsZTogMC40LFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogX3RoaXM1MC5vZmZzZXRZLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogX3RoaXM1MC5vZmZzZXRYLFxuICAgICAgICAgICAgZHVyYXRpb246IDE3NSxcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzNTAuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVG9vbGJhciB0cmFuc2l0aW9uIE1lbnUgb3BlblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJblRvb2xiYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluVG9vbGJhcigpIHtcbiAgICAgICAgdmFyIF90aGlzNTEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzY2FsZUZhY3RvciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciBidG5SZWN0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz1cImZhYi1iYWNrZHJvcFwiPjwvZGl2PicpO1xuICAgICAgICB2YXIgZmFiQ29sb3IgPSB0aGlzLiRhbmNob3IuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgIHRoaXMuJGFuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xuXG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IGJ0blJlY3QubGVmdCAtIHdpbmRvd1dpZHRoIC8gMiArIGJ0blJlY3Qud2lkdGggLyAyO1xuICAgICAgICB0aGlzLm9mZnNldFkgPSB3aW5kb3dIZWlnaHQgLSBidG5SZWN0LmJvdHRvbTtcbiAgICAgICAgc2NhbGVGYWN0b3IgPSB3aW5kb3dXaWR0aCAvIGJhY2tkcm9wWzBdLmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLmJ0bkJvdHRvbSA9IGJ0blJlY3QuYm90dG9tO1xuICAgICAgICB0aGlzLmJ0bkxlZnQgPSBidG5SZWN0LmxlZnQ7XG4gICAgICAgIHRoaXMuYnRuV2lkdGggPSBidG5SZWN0LndpZHRoO1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgICAndGV4dC1hbGlnbic6ICdjZW50ZXInLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgnICsgdGhpcy5vZmZzZXRYICsgJ3B4KScsXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRhbmNob3IuY3NzKHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKCcgKyAtdGhpcy5vZmZzZXRZICsgJ3B4KScsXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgIH0pO1xuICAgICAgICBiYWNrZHJvcC5jc3Moe1xuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogZmFiQ29sb3JcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM1MS4kZWwuY3NzKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJycsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDg1LCAwLjY4MCwgMC41MzApLCBiYWNrZ3JvdW5kLWNvbG9yIDBzIGxpbmVhciAuMnMnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX3RoaXM1MS4kYW5jaG9yLmNzcyh7XG4gICAgICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAnJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gLjJzJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczUxLiRlbC5jc3Moe1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogZmFiQ29sb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFja2Ryb3AuY3NzKHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoJyArIHNjYWxlRmFjdG9yICsgJyknLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpczUxLiRtZW51LmNoaWxkcmVuKCdsaScpLmNoaWxkcmVuKCdhJykuY3NzKHtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byBjbG9zZS5cbiAgICAgICAgICAgIF90aGlzNTEuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCA9IF90aGlzNTEuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZChfdGhpczUxKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdGhpczUxLl9oYW5kbGVDbG9zZUJvdW5kLCB0cnVlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczUxLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRvb2xiYXIgdHJhbnNpdGlvbiBNZW51IGNsb3NlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU91dFRvb2xiYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dFRvb2xiYXIoKSB7XG4gICAgICAgIHZhciBfdGhpczUyID0gdGhpcztcblxuICAgICAgICB2YXIgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdmFyIGJhY2tkcm9wID0gdGhpcy4kZWwuZmluZCgnLmZhYi1iYWNrZHJvcCcpO1xuICAgICAgICB2YXIgZmFiQ29sb3IgPSB0aGlzLiRhbmNob3IuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG5cbiAgICAgICAgdGhpcy5vZmZzZXRYID0gdGhpcy5idG5MZWZ0IC0gd2luZG93V2lkdGggLyAyICsgdGhpcy5idG5XaWR0aCAvIDI7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IHdpbmRvd0hlaWdodCAtIHRoaXMuYnRuQm90dG9tO1xuXG4gICAgICAgIC8vIEhpZGUgYmFja2Ryb3BcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZSdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJGFuY2hvci5jc3Moe1xuICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgYmFja2Ryb3AuY3NzKHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwKScsXG4gICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBmYWJDb2xvclxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kbWVudS5jaGlsZHJlbignbGknKS5jaGlsZHJlbignYScpLmNzcyh7XG4gICAgICAgICAgb3BhY2l0eTogJydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYmFja2Ryb3AucmVtb3ZlKCk7XG5cbiAgICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAgICAgICBfdGhpczUyLiRlbC5jc3Moe1xuICAgICAgICAgICAgJ3RleHQtYWxpZ24nOiAnJyxcbiAgICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICAgIGJvdHRvbTogJycsXG4gICAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJycsXG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgLV90aGlzNTIub2Zmc2V0WCArICdweCwwLDApJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzNTIuJGFuY2hvci5jc3Moe1xuICAgICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwnICsgX3RoaXM1Mi5vZmZzZXRZICsgJ3B4LDApJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczUyLiRlbC5jc3Moe1xuICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXM1Mi4kYW5jaG9yLmNzcyh7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsMCwwKScsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KEZsb2F0aW5nQWN0aW9uQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmxvYXRpbmdBY3Rpb25CdXR0b24pLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBGbG9hdGluZ0FjdGlvbkJ1dHRvbjtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uRmxvYXRpbmdBY3Rpb25CdXR0b24gPSBGbG9hdGluZ0FjdGlvbkJ1dHRvbjtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEZsb2F0aW5nQWN0aW9uQnV0dG9uLCAnZmxvYXRpbmdBY3Rpb25CdXR0b24nLCAnTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbicpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgLy8gQ2xvc2Ugd2hlbiBkYXRlIGlzIHNlbGVjdGVkXG4gICAgYXV0b0Nsb3NlOiBmYWxzZSxcblxuICAgIC8vIHRoZSBkZWZhdWx0IG91dHB1dCBmb3JtYXQgZm9yIHRoZSBpbnB1dCBmaWVsZCB2YWx1ZVxuICAgIGZvcm1hdDogJ21tbSBkZCwgeXl5eScsXG5cbiAgICAvLyBVc2VkIHRvIGNyZWF0ZSBkYXRlIG9iamVjdCBmcm9tIGN1cnJlbnQgaW5wdXQgc3RyaW5nXG4gICAgcGFyc2U6IG51bGwsXG5cbiAgICAvLyBUaGUgaW5pdGlhbCBkYXRlIHRvIHZpZXcgd2hlbiBmaXJzdCBvcGVuZWRcbiAgICBkZWZhdWx0RGF0ZTogbnVsbCxcblxuICAgIC8vIE1ha2UgdGhlIGBkZWZhdWx0RGF0ZWAgdGhlIGluaXRpYWwgc2VsZWN0ZWQgdmFsdWVcbiAgICBzZXREZWZhdWx0RGF0ZTogZmFsc2UsXG5cbiAgICBkaXNhYmxlV2Vla2VuZHM6IGZhbHNlLFxuXG4gICAgZGlzYWJsZURheUZuOiBudWxsLFxuXG4gICAgLy8gRmlyc3QgZGF5IG9mIHdlZWsgKDA6IFN1bmRheSwgMTogTW9uZGF5IGV0YylcbiAgICBmaXJzdERheTogMCxcblxuICAgIC8vIFRoZSBlYXJsaWVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkXG4gICAgbWluRGF0ZTogbnVsbCxcbiAgICAvLyBUaGVsYXRlc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgIG1heERhdGU6IG51bGwsXG5cbiAgICAvLyBOdW1iZXIgb2YgeWVhcnMgZWl0aGVyIHNpZGUsIG9yIGFycmF5IG9mIHVwcGVyL2xvd2VyIHJhbmdlXG4gICAgeWVhclJhbmdlOiAxMCxcblxuICAgIC8vIHVzZWQgaW50ZXJuYWxseSAoZG9uJ3QgY29uZmlnIG91dHNpZGUpXG4gICAgbWluWWVhcjogMCxcbiAgICBtYXhZZWFyOiA5OTk5LFxuICAgIG1pbk1vbnRoOiB1bmRlZmluZWQsXG4gICAgbWF4TW9udGg6IHVuZGVmaW5lZCxcblxuICAgIHN0YXJ0UmFuZ2U6IG51bGwsXG4gICAgZW5kUmFuZ2U6IG51bGwsXG5cbiAgICBpc1JUTDogZmFsc2UsXG5cbiAgICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXG4gICAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBmYWxzZSxcblxuICAgIC8vIFJlbmRlciBkYXlzIG9mIHRoZSBjYWxlbmRhciBncmlkIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgLy8gU3BlY2lmeSBhIERPTSBlbGVtZW50IHRvIHJlbmRlciB0aGUgY2FsZW5kYXIgaW5cbiAgICBjb250YWluZXI6IG51bGwsXG5cbiAgICAvLyBTaG93IGNsZWFyIGJ1dHRvblxuICAgIHNob3dDbGVhckJ0bjogZmFsc2UsXG5cbiAgICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICAgIGkxOG46IHtcbiAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICAgIGRvbmU6ICdPaycsXG4gICAgICBwcmV2aW91c01vbnRoOiAn4oC5JyxcbiAgICAgIG5leHRNb250aDogJ+KAuicsXG4gICAgICBtb250aHM6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxuICAgICAgbW9udGhzU2hvcnQ6IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgICAgIHdlZWtkYXlzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgICB3ZWVrZGF5c1Nob3J0OiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgICAgd2Vla2RheXNBYmJyZXY6IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddXG4gICAgfSxcblxuICAgIC8vIGV2ZW50cyBhcnJheVxuICAgIGV2ZW50czogW10sXG5cbiAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgIG9uU2VsZWN0OiBudWxsLFxuICAgIG9uT3BlbjogbnVsbCxcbiAgICBvbkNsb3NlOiBudWxsLFxuICAgIG9uRHJhdzogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIERhdGVwaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDE1KSB7XG4gICAgX2luaGVyaXRzKERhdGVwaWNrZXIsIF9Db21wb25lbnQxNSk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgRGF0ZXBpY2tlciBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRlcGlja2VyKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZXBpY2tlcik7XG5cbiAgICAgIHZhciBfdGhpczUzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERhdGVwaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlcGlja2VyKSkuY2FsbCh0aGlzLCBEYXRlcGlja2VyLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczUzLmVsLk1fRGF0ZXBpY2tlciA9IF90aGlzNTM7XG5cbiAgICAgIF90aGlzNTMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEYXRlcGlja2VyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gbWFrZSBzdXJlIGkxOG4gZGVmYXVsdHMgYXJlIG5vdCBsb3N0IHdoZW4gb25seSBmZXcgaTE4biBvcHRpb24gcHJvcGVydGllcyBhcmUgcGFzc2VkXG4gICAgICBpZiAoISFvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2kxOG4nKSAmJiB0eXBlb2Ygb3B0aW9ucy5pMThuID09PSAnb2JqZWN0Jykge1xuICAgICAgICBfdGhpczUzLm9wdGlvbnMuaTE4biA9ICQuZXh0ZW5kKHt9LCBEYXRlcGlja2VyLmRlZmF1bHRzLmkxOG4sIG9wdGlvbnMuaTE4bik7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSB0aW1lIGNvbXBvbmVudCBmcm9tIG1pbkRhdGUgYW5kIG1heERhdGUgb3B0aW9uc1xuICAgICAgaWYgKF90aGlzNTMub3B0aW9ucy5taW5EYXRlKSBfdGhpczUzLm9wdGlvbnMubWluRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIGlmIChfdGhpczUzLm9wdGlvbnMubWF4RGF0ZSkgX3RoaXM1My5vcHRpb25zLm1heERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIF90aGlzNTMuaWQgPSBNLmd1aWQoKTtcblxuICAgICAgX3RoaXM1My5fc2V0dXBWYXJpYWJsZXMoKTtcbiAgICAgIF90aGlzNTMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgICBfdGhpczUzLl9zZXR1cE1vZGFsKCk7XG5cbiAgICAgIF90aGlzNTMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICBpZiAoIV90aGlzNTMub3B0aW9ucy5kZWZhdWx0RGF0ZSkge1xuICAgICAgICBfdGhpczUzLm9wdGlvbnMuZGVmYXVsdERhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKF90aGlzNTMuZWwudmFsdWUpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZkRhdGUgPSBfdGhpczUzLm9wdGlvbnMuZGVmYXVsdERhdGU7XG4gICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRlZkRhdGUpKSB7XG4gICAgICAgIGlmIChfdGhpczUzLm9wdGlvbnMuc2V0RGVmYXVsdERhdGUpIHtcbiAgICAgICAgICBfdGhpczUzLnNldERhdGUoZGVmRGF0ZSwgdHJ1ZSk7XG4gICAgICAgICAgX3RoaXM1My5zZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXM1My5nb3RvRGF0ZShkZWZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXM1My5nb3RvRGF0ZShuZXcgRGF0ZSgpKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgb3Blbi9jbG9zZSBzdGF0ZSBvZiBkYXRlcGlja2VyXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXM1My5pc09wZW4gPSBmYWxzZTtcbiAgICAgIHJldHVybiBfdGhpczUzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhEYXRlcGlja2VyLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgJCh0aGlzLm1vZGFsRWwpLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lTZWxlY3RzKCk7XG4gICAgICAgIHRoaXMuZWwuTV9EYXRlcGlja2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZXN0cm95U2VsZWN0c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3lTZWxlY3RzKCkge1xuICAgICAgICB2YXIgb2xkWWVhclNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QteWVhcicpO1xuICAgICAgICBpZiAob2xkWWVhclNlbGVjdCkge1xuICAgICAgICAgIE0uRm9ybVNlbGVjdC5nZXRJbnN0YW5jZShvbGRZZWFyU2VsZWN0KS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9sZE1vbnRoU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC1tb250aCcpO1xuICAgICAgICBpZiAob2xkTW9udGhTZWxlY3QpIHtcbiAgICAgICAgICBNLkZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkTW9udGhTZWxlY3QpLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaW5zZXJ0SFRNTEludG9ET01cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5zZXJ0SFRNTEludG9ET00oKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgICAgJCh0aGlzLmNsZWFyQnRuKS5jc3MoeyB2aXNpYmlsaXR5OiAnJyB9KTtcbiAgICAgICAgICB0aGlzLmNsZWFyQnRuLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5pMThuLmNsZWFyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kb25lQnRuLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5pMThuLmRvbmU7XG4gICAgICAgIHRoaXMuY2FuY2VsQnRuLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5pMThuLmNhbmNlbDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICAgIHRoaXMuJG1vZGFsRWwuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kbW9kYWxFbC5pbnNlcnRCZWZvcmUodGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwTW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBNb2RhbCgpIHtcbiAgICAgICAgdmFyIF90aGlzNTQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMubW9kYWxFbC5pZCA9ICdtb2RhbC0nICsgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5tb2RhbCA9IE0uTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgICAgICBvbkNsb3NlRW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczU0LmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInRvU3RyaW5nXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoZm9ybWF0KSB7XG4gICAgICAgIHZhciBfdGhpczU1ID0gdGhpcztcblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5vcHRpb25zLmZvcm1hdDtcbiAgICAgICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmb3JtYXRBcnJheSA9IGZvcm1hdC5zcGxpdCgvKGR7MSw0fXxtezEsNH18eXs0fXx5eXwhLikvZyk7XG4gICAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gZm9ybWF0QXJyYXkubWFwKGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgICAgIGlmIChfdGhpczU1LmZvcm1hdHNbbGFiZWxdKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1NS5mb3JtYXRzW2xhYmVsXSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBsYWJlbDtcbiAgICAgICAgfSkuam9pbignJyk7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXREYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0ZShkYXRlLCBwcmV2ZW50T25TZWxlY3QpIHtcbiAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgdGhpcy5kYXRlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xuICAgICAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pbiA9IHRoaXMub3B0aW9ucy5taW5EYXRlLFxuICAgICAgICAgICAgbWF4ID0gdGhpcy5vcHRpb25zLm1heERhdGU7XG5cbiAgICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShtaW4pICYmIGRhdGUgPCBtaW4pIHtcbiAgICAgICAgICBkYXRlID0gbWluO1xuICAgICAgICB9IGVsc2UgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShtYXgpICYmIGRhdGUgPiBtYXgpIHtcbiAgICAgICAgICBkYXRlID0gbWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XG5cbiAgICAgICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KHRoaXMuZGF0ZSk7XG4gICAgICAgIHRoaXMuZ290b0RhdGUodGhpcy5kYXRlKTtcblxuICAgICAgICBpZiAoIXByZXZlbnRPblNlbGVjdCAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uU2VsZWN0LmNhbGwodGhpcywgdGhpcy5kYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXRJbnB1dFZhbHVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZSgpIHtcbiAgICAgICAgdGhpcy5lbC52YWx1ZSA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy4kZWwudHJpZ2dlcignY2hhbmdlJywgeyBmaXJlZEJ5OiB0aGlzIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVuZGVyRGF0ZURpc3BsYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyRGF0ZURpc3BsYXkoKSB7XG4gICAgICAgIHZhciBkaXNwbGF5RGF0ZSA9IERhdGVwaWNrZXIuX2lzRGF0ZSh0aGlzLmRhdGUpID8gdGhpcy5kYXRlIDogbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGkxOG4gPSB0aGlzLm9wdGlvbnMuaTE4bjtcbiAgICAgICAgdmFyIGRheSA9IGkxOG4ud2Vla2RheXNTaG9ydFtkaXNwbGF5RGF0ZS5nZXREYXkoKV07XG4gICAgICAgIHZhciBtb250aCA9IGkxOG4ubW9udGhzU2hvcnRbZGlzcGxheURhdGUuZ2V0TW9udGgoKV07XG4gICAgICAgIHZhciBkYXRlID0gZGlzcGxheURhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICB0aGlzLnllYXJUZXh0RWwuaW5uZXJIVE1MID0gZGlzcGxheURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdGhpcy5kYXRlVGV4dEVsLmlubmVySFRNTCA9IGRheSArIFwiLCBcIiArIG1vbnRoICsgXCIgXCIgKyBkYXRlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGF0ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ290b0RhdGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnb3RvRGF0ZShkYXRlKSB7XG4gICAgICAgIHZhciBuZXdDYWxlbmRhciA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcbiAgICAgICAgICB2YXIgZmlyc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUodGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ueWVhciwgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ubW9udGgsIDEpLFxuICAgICAgICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIC8vIGdldCB0aGUgZW5kIG9mIHRoZSBtb250aFxuICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXRNb250aChsYXN0VmlzaWJsZURhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgICBuZXdDYWxlbmRhciA9IHZpc2libGVEYXRlIDwgZmlyc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgfHwgbGFzdFZpc2libGVEYXRlLmdldFRpbWUoKSA8IHZpc2libGVEYXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0NhbGVuZGFyKSB7XG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnMgPSBbe1xuICAgICAgICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgIH1dO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRqdXN0Q2FsZW5kYXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Q2FsZW5kYXJzKCkge1xuICAgICAgICB0aGlzLmNhbGVuZGFyc1swXSA9IHRoaXMuYWRqdXN0Q2FsZW5kYXIodGhpcy5jYWxlbmRhcnNbMF0pO1xuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRqdXN0Q2FsZW5kYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGp1c3RDYWxlbmRhcihjYWxlbmRhcikge1xuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPCAwKSB7XG4gICAgICAgICAgY2FsZW5kYXIueWVhciAtPSBNYXRoLmNlaWwoTWF0aC5hYnMoY2FsZW5kYXIubW9udGgpIC8gMTIpO1xuICAgICAgICAgIGNhbGVuZGFyLm1vbnRoICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxlbmRhci5tb250aCA+IDExKSB7XG4gICAgICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKSAvIDEyKTtcbiAgICAgICAgICBjYWxlbmRhci5tb250aCAtPSAxMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsZW5kYXI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm5leHRNb250aFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5leHRNb250aCgpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcbiAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicHJldk1vbnRoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJldk1vbnRoKCkge1xuICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aC0tO1xuICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoeWVhciwgbW9udGgsIHJhbmRJZCkge1xuICAgICAgICB2YXIgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBkYXlzID0gRGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpLFxuICAgICAgICAgICAgYmVmb3JlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpLFxuICAgICAgICAgICAgZGF0YSA9IFtdLFxuICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgIERhdGVwaWNrZXIuX3NldFRvU3RhcnRPZkRheShub3cpO1xuICAgICAgICBpZiAob3B0cy5maXJzdERheSA+IDApIHtcbiAgICAgICAgICBiZWZvcmUgLT0gb3B0cy5maXJzdERheTtcbiAgICAgICAgICBpZiAoYmVmb3JlIDwgMCkge1xuICAgICAgICAgICAgYmVmb3JlICs9IDc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyAxMSA6IG1vbnRoIC0gMSxcbiAgICAgICAgICAgIG5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IDAgOiBtb250aCArIDEsXG4gICAgICAgICAgICB5ZWFyT2ZQcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyB5ZWFyIC0gMSA6IHllYXIsXG4gICAgICAgICAgICB5ZWFyT2ZOZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyB5ZWFyICsgMSA6IHllYXIsXG4gICAgICAgICAgICBkYXlzSW5QcmV2aW91c01vbnRoID0gRGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoeWVhck9mUHJldmlvdXNNb250aCwgcHJldmlvdXNNb250aCk7XG4gICAgICAgIHZhciBjZWxscyA9IGRheXMgKyBiZWZvcmUsXG4gICAgICAgICAgICBhZnRlciA9IGNlbGxzO1xuICAgICAgICB3aGlsZSAoYWZ0ZXIgPiA3KSB7XG4gICAgICAgICAgYWZ0ZXIgLT0gNztcbiAgICAgICAgfVxuICAgICAgICBjZWxscyArPSA3IC0gYWZ0ZXI7XG4gICAgICAgIHZhciBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgciA9IDA7IGkgPCBjZWxsczsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxICsgKGkgLSBiZWZvcmUpKSxcbiAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IERhdGVwaWNrZXIuX2lzRGF0ZSh0aGlzLmRhdGUpID8gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgdGhpcy5kYXRlKSA6IGZhbHNlLFxuICAgICAgICAgICAgICBpc1RvZGF5ID0gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgbm93KSxcbiAgICAgICAgICAgICAgaGFzRXZlbnQgPSBvcHRzLmV2ZW50cy5pbmRleE9mKGRheS50b0RhdGVTdHJpbmcoKSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBpc0VtcHR5ID0gaSA8IGJlZm9yZSB8fCBpID49IGRheXMgKyBiZWZvcmUsXG4gICAgICAgICAgICAgIGRheU51bWJlciA9IDEgKyAoaSAtIGJlZm9yZSksXG4gICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gbW9udGgsXG4gICAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyLFxuICAgICAgICAgICAgICBpc1N0YXJ0UmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuc3RhcnRSYW5nZSwgZGF5KSxcbiAgICAgICAgICAgICAgaXNFbmRSYW5nZSA9IG9wdHMuZW5kUmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuZW5kUmFuZ2UsIGRheSksXG4gICAgICAgICAgICAgIGlzSW5SYW5nZSA9IG9wdHMuc3RhcnRSYW5nZSAmJiBvcHRzLmVuZFJhbmdlICYmIG9wdHMuc3RhcnRSYW5nZSA8IGRheSAmJiBkYXkgPCBvcHRzLmVuZFJhbmdlLFxuICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gb3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSB8fCBvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlIHx8IG9wdHMuZGlzYWJsZVdlZWtlbmRzICYmIERhdGVwaWNrZXIuX2lzV2Vla2VuZChkYXkpIHx8IG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSk7XG5cbiAgICAgICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICAgICAgaWYgKGkgPCBiZWZvcmUpIHtcbiAgICAgICAgICAgICAgZGF5TnVtYmVyID0gZGF5c0luUHJldmlvdXNNb250aCArIGRheU51bWJlcjtcbiAgICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBwcmV2aW91c01vbnRoO1xuICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mUHJldmlvdXNNb250aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRheU51bWJlciA9IGRheU51bWJlciAtIGRheXM7XG4gICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gbmV4dE1vbnRoO1xuICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mTmV4dE1vbnRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBkYXlDb25maWcgPSB7XG4gICAgICAgICAgICBkYXk6IGRheU51bWJlcixcbiAgICAgICAgICAgIG1vbnRoOiBtb250aE51bWJlcixcbiAgICAgICAgICAgIHllYXI6IHllYXJOdW1iZXIsXG4gICAgICAgICAgICBoYXNFdmVudDogaGFzRXZlbnQsXG4gICAgICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICAgICAgaXNUb2RheTogaXNUb2RheSxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICAgICAgICBpc0VtcHR5OiBpc0VtcHR5LFxuICAgICAgICAgICAgaXNTdGFydFJhbmdlOiBpc1N0YXJ0UmFuZ2UsXG4gICAgICAgICAgICBpc0VuZFJhbmdlOiBpc0VuZFJhbmdlLFxuICAgICAgICAgICAgaXNJblJhbmdlOiBpc0luUmFuZ2UsXG4gICAgICAgICAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHNcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcm93LnB1c2godGhpcy5yZW5kZXJEYXkoZGF5Q29uZmlnKSk7XG5cbiAgICAgICAgICBpZiAoKytyID09PSA3KSB7XG4gICAgICAgICAgICBkYXRhLnB1c2godGhpcy5yZW5kZXJSb3cocm93LCBvcHRzLmlzUlRMLCBpc1dlZWtTZWxlY3RlZCkpO1xuICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgIGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlckRheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckRheShvcHRzKSB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGFyaWFTZWxlY3RlZCA9ICdmYWxzZSc7XG4gICAgICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgICAgICBpZiAob3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtb3V0c2lkZS1jdXJyZW50LW1vbnRoJyk7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtc2VsZWN0aW9uLWRpc2FibGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnPHRkIGNsYXNzPVwiaXMtZW1wdHlcIj48L3RkPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBhcnIucHVzaCgnaXMtZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcbiAgICAgICAgICBhcnIucHVzaCgnaXMtdG9kYXknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGVkJyk7XG4gICAgICAgICAgYXJpYVNlbGVjdGVkID0gJ3RydWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2hhcy1ldmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzSW5SYW5nZSkge1xuICAgICAgICAgIGFyci5wdXNoKCdpcy1pbnJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNTdGFydFJhbmdlKSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLXN0YXJ0cmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLWVuZHJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiPHRkIGRhdGEtZGF5PVxcXCJcIiArIG9wdHMuZGF5ICsgXCJcXFwiIGNsYXNzPVxcXCJcIiArIGFyci5qb2luKCcgJykgKyBcIlxcXCIgYXJpYS1zZWxlY3RlZD1cXFwiXCIgKyBhcmlhU2VsZWN0ZWQgKyBcIlxcXCI+XCIgKyAoXCI8YnV0dG9uIGNsYXNzPVxcXCJkYXRlcGlja2VyLWRheS1idXR0b25cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgZGF0YS15ZWFyPVxcXCJcIiArIG9wdHMueWVhciArIFwiXFxcIiBkYXRhLW1vbnRoPVxcXCJcIiArIG9wdHMubW9udGggKyBcIlxcXCIgZGF0YS1kYXk9XFxcIlwiICsgb3B0cy5kYXkgKyBcIlxcXCI+XCIgKyBvcHRzLmRheSArIFwiPC9idXR0b24+XCIpICsgJzwvdGQ+JztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyUm93XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUm93KGRheXMsIGlzUlRMLCBpc1Jvd1NlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiAnPHRyIGNsYXNzPVwiZGF0ZXBpY2tlci1yb3cnICsgKGlzUm93U2VsZWN0ZWQgPyAnIGlzLXNlbGVjdGVkJyA6ICcnKSArICdcIj4nICsgKGlzUlRMID8gZGF5cy5yZXZlcnNlKCkgOiBkYXlzKS5qb2luKCcnKSArICc8L3RyPic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlclRhYmxlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVGFibGUob3B0cywgZGF0YSwgcmFuZElkKSB7XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGUtd3JhcHBlclwiPjx0YWJsZSBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGVcIiByb2xlPVwiZ3JpZFwiIGFyaWEtbGFiZWxsZWRieT1cIicgKyByYW5kSWQgKyAnXCI+JyArIHRoaXMucmVuZGVySGVhZChvcHRzKSArIHRoaXMucmVuZGVyQm9keShkYXRhKSArICc8L3RhYmxlPjwvZGl2Pic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlckhlYWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJIZWFkKG9wdHMpIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDAsXG4gICAgICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKFwiPHRoIHNjb3BlPVxcXCJjb2xcXFwiPjxhYmJyIHRpdGxlPVxcXCJcIiArIHRoaXMucmVuZGVyRGF5TmFtZShvcHRzLCBpKSArIFwiXFxcIj5cIiArIHRoaXMucmVuZGVyRGF5TmFtZShvcHRzLCBpLCB0cnVlKSArIFwiPC9hYmJyPjwvdGg+XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyQm9keVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckJvZHkocm93cykge1xuICAgICAgICByZXR1cm4gJzx0Ym9keT4nICsgcm93cy5qb2luKCcnKSArICc8L3Rib2R5Pic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlclRpdGxlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVGl0bGUoaW5zdGFuY2UsIGMsIHllYXIsIG1vbnRoLCByZWZZZWFyLCByYW5kSWQpIHtcbiAgICAgICAgdmFyIGkgPSB2b2lkIDAsXG4gICAgICAgICAgICBqID0gdm9pZCAwLFxuICAgICAgICAgICAgYXJyID0gdm9pZCAwLFxuICAgICAgICAgICAgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIGlzTWluWWVhciA9IHllYXIgPT09IG9wdHMubWluWWVhcixcbiAgICAgICAgICAgIGlzTWF4WWVhciA9IHllYXIgPT09IG9wdHMubWF4WWVhcixcbiAgICAgICAgICAgIGh0bWwgPSAnPGRpdiBpZD1cIicgKyByYW5kSWQgKyAnXCIgY2xhc3M9XCJkYXRlcGlja2VyLWNvbnRyb2xzXCIgcm9sZT1cImhlYWRpbmdcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIj4nLFxuICAgICAgICAgICAgbW9udGhIdG1sID0gdm9pZCAwLFxuICAgICAgICAgICAgeWVhckh0bWwgPSB2b2lkIDAsXG4gICAgICAgICAgICBwcmV2ID0gdHJ1ZSxcbiAgICAgICAgICAgIG5leHQgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoYXJyID0gW10sIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArICh5ZWFyID09PSByZWZZZWFyID8gaSAtIGMgOiAxMiArIGkgLSBjKSArICdcIicgKyAoaSA9PT0gbW9udGggPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJykgKyAoaXNNaW5ZZWFyICYmIGkgPCBvcHRzLm1pbk1vbnRoIHx8IGlzTWF4WWVhciAmJiBpID4gb3B0cy5tYXhNb250aCA/ICdkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJycpICsgJz4nICsgb3B0cy5pMThuLm1vbnRoc1tpXSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbnRoSHRtbCA9ICc8c2VsZWN0IGNsYXNzPVwiZGF0ZXBpY2tlci1zZWxlY3Qgb3JpZy1zZWxlY3QtbW9udGhcIiB0YWJpbmRleD1cIi0xXCI+JyArIGFyci5qb2luKCcnKSArICc8L3NlbGVjdD4nO1xuXG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0cy55ZWFyUmFuZ2UpKSB7XG4gICAgICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xuICAgICAgICAgIGogPSBvcHRzLnllYXJSYW5nZVsxXSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSA9IHllYXIgLSBvcHRzLnllYXJSYW5nZTtcbiAgICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoYXJyID0gW107IGkgPCBqICYmIGkgPD0gb3B0cy5tYXhZZWFyOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSA+PSBvcHRzLm1pblllYXIpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKFwiPG9wdGlvbiB2YWx1ZT1cXFwiXCIgKyBpICsgXCJcXFwiIFwiICsgKGkgPT09IHllYXIgPyAnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnKSArIFwiPlwiICsgaSArIFwiPC9vcHRpb24+XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHllYXJIdG1sID0gXCI8c2VsZWN0IGNsYXNzPVxcXCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC15ZWFyXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlwiICsgYXJyLmpvaW4oJycpICsgXCI8L3NlbGVjdD5cIjtcblxuICAgICAgICB2YXIgbGVmdEFycm93ID0gJzxzdmcgZmlsbD1cIiMwMDAwMDBcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuNDEgMTYuMDlsLTQuNTgtNC41OSA0LjU4LTQuNTlMMTQgNS41bC02IDYgNiA2elwiLz48cGF0aCBkPVwiTTAtLjVoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nO1xuICAgICAgICBodG1sICs9IFwiPGJ1dHRvbiBjbGFzcz1cXFwibW9udGgtcHJldlwiICsgKHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArIFwiXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPlwiICsgbGVmdEFycm93ICsgXCI8L2J1dHRvbj5cIjtcblxuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwic2VsZWN0cy1jb250YWluZXJcIj4nO1xuICAgICAgICBpZiAob3B0cy5zaG93TW9udGhBZnRlclllYXIpIHtcbiAgICAgICAgICBodG1sICs9IHllYXJIdG1sICsgbW9udGhIdG1sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGh0bWwgKz0gbW9udGhIdG1sICsgeWVhckh0bWw7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICBpZiAoaXNNaW5ZZWFyICYmIChtb250aCA9PT0gMCB8fCBvcHRzLm1pbk1vbnRoID49IG1vbnRoKSkge1xuICAgICAgICAgIHByZXYgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xuICAgICAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByaWdodEFycm93ID0gJzxzdmcgZmlsbD1cIiMwMDAwMDBcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOC41OSAxNi4zNGw0LjU4LTQuNTktNC41OC00LjU5TDEwIDUuNzVsNiA2LTYgNnpcIi8+PHBhdGggZD1cIk0wLS4yNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XG4gICAgICAgIGh0bWwgKz0gXCI8YnV0dG9uIGNsYXNzPVxcXCJtb250aC1uZXh0XCIgKyAobmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCcpICsgXCJcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+XCIgKyByaWdodEFycm93ICsgXCI8L2J1dHRvbj5cIjtcblxuICAgICAgICByZXR1cm4gaHRtbCArPSAnPC9kaXY+JztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiByZWZyZXNoIHRoZSBIVE1MXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkcmF3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhmb3JjZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuICYmICFmb3JjZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIG1pblllYXIgPSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICBtYXhZZWFyID0gb3B0cy5tYXhZZWFyLFxuICAgICAgICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxuICAgICAgICAgICAgbWF4TW9udGggPSBvcHRzLm1heE1vbnRoLFxuICAgICAgICAgICAgaHRtbCA9ICcnLFxuICAgICAgICAgICAgcmFuZElkID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0aGlzLl95IDw9IG1pblllYXIpIHtcbiAgICAgICAgICB0aGlzLl95ID0gbWluWWVhcjtcbiAgICAgICAgICBpZiAoIWlzTmFOKG1pbk1vbnRoKSAmJiB0aGlzLl9tIDwgbWluTW9udGgpIHtcbiAgICAgICAgICAgIHRoaXMuX20gPSBtaW5Nb250aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3kgPj0gbWF4WWVhcikge1xuICAgICAgICAgIHRoaXMuX3kgPSBtYXhZZWFyO1xuICAgICAgICAgIGlmICghaXNOYU4obWF4TW9udGgpICYmIHRoaXMuX20gPiBtYXhNb250aCkge1xuICAgICAgICAgICAgdGhpcy5fbSA9IG1heE1vbnRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJhbmRJZCA9ICdkYXRlcGlja2VyLXRpdGxlLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMik7XG5cbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCAxOyBjKyspIHtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xuICAgICAgICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJUaXRsZSh0aGlzLCBjLCB0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciwgcmFuZElkKSArIHRoaXMucmVuZGVyKHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLCByYW5kSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xuXG4gICAgICAgIHRoaXMuY2FsZW5kYXJFbC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIC8vIEluaXQgTWF0ZXJpYWxpemUgU2VsZWN0XG4gICAgICAgIHZhciB5ZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJyk7XG4gICAgICAgIHZhciBtb250aFNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QtbW9udGgnKTtcbiAgICAgICAgTS5Gb3JtU2VsZWN0LmluaXQoeWVhclNlbGVjdCwge1xuICAgICAgICAgIGNsYXNzZXM6ICdzZWxlY3QteWVhcicsXG4gICAgICAgICAgZHJvcGRvd25PcHRpb25zOiB7IGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSwgY29uc3RyYWluV2lkdGg6IGZhbHNlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KG1vbnRoU2VsZWN0LCB7XG4gICAgICAgICAgY2xhc3NlczogJ3NlbGVjdC1tb250aCcsXG4gICAgICAgICAgZHJvcGRvd25PcHRpb25zOiB7IGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSwgY29uc3RyYWluV2lkdGg6IGZhbHNlIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNoYW5nZSBoYW5kbGVycyBmb3Igc2VsZWN0XG4gICAgICAgIHllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlWWVhckNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbW9udGhTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25EcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uRHJhdyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZUJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9maW5pc2hTZWxlY3Rpb25Cb3VuZCA9IHRoaXMuX2ZpbmlzaFNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVNb250aENoYW5nZSA9IHRoaXMuX2hhbmRsZU1vbnRoQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2Nsb3NlQm91bmQgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZUJvdW5kKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5kb25lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZmluaXNoU2VsZWN0aW9uQm91bmQpO1xuICAgICAgICB0aGlzLmNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlQm91bmQpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlQ2xlYXJDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ2xlYXJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgIHRoaXMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGVhckNsaWNrQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cFZhcmlhYmxlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFZhcmlhYmxlcygpIHtcbiAgICAgICAgdmFyIF90aGlzNTYgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuJG1vZGFsRWwgPSAkKERhdGVwaWNrZXIuX3RlbXBsYXRlKTtcbiAgICAgICAgdGhpcy5tb2RhbEVsID0gdGhpcy4kbW9kYWxFbFswXTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFyRWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2FsZW5kYXInKTtcblxuICAgICAgICB0aGlzLnllYXJUZXh0RWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnllYXItdGV4dCcpO1xuICAgICAgICB0aGlzLmRhdGVUZXh0RWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGUtdGV4dCcpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgICAgIHRoaXMuY2xlYXJCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2xlYXInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvbmVCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItZG9uZScpO1xuICAgICAgICB0aGlzLmNhbmNlbEJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jYW5jZWwnKTtcblxuICAgICAgICB0aGlzLmZvcm1hdHMgPSB7XG4gICAgICAgICAgZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYuZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGQgPSBfdGhpczU2LmRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIChkIDwgMTAgPyAnMCcgOiAnJykgKyBkO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGRkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Ni5vcHRpb25zLmkxOG4ud2Vla2RheXNTaG9ydFtfdGhpczU2LmRhdGUuZ2V0RGF5KCldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGRkZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYub3B0aW9ucy5pMThuLndlZWtkYXlzW190aGlzNTYuZGF0ZS5nZXREYXkoKV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Ni5kYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbW06IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtID0gX3RoaXM1Ni5kYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgcmV0dXJuIChtIDwgMTAgPyAnMCcgOiAnJykgKyBtO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbW1tOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Ni5vcHRpb25zLmkxOG4ubW9udGhzU2hvcnRbX3RoaXM1Ni5kYXRlLmdldE1vbnRoKCldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbW1tbTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYub3B0aW9ucy5pMThuLm1vbnRoc1tfdGhpczU2LmRhdGUuZ2V0TW9udGgoKV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICB5eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICgnJyArIF90aGlzNTYuZGF0ZS5nZXRGdWxsWWVhcigpKS5zbGljZSgyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHl5eXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczU2LmRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlQm91bmQpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrQm91bmQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dENsaWNrKCkge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0S2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEtleWRvd24oZSkge1xuICAgICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDYWxlbmRhckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNhbGVuZGFyQ2xpY2soZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ2RhdGVwaWNrZXItZGF5LWJ1dHRvbicpICYmICEkdGFyZ2V0Lmhhc0NsYXNzKCdpcy1lbXB0eScpICYmICEkdGFyZ2V0LnBhcmVudCgpLmhhc0NsYXNzKCdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGUobmV3IERhdGUoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXllYXInKSwgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW1vbnRoJyksIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1kYXknKSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5fZmluaXNoU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1wcmV2JykubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZNb250aCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJHRhcmdldC5jbG9zZXN0KCcubW9udGgtbmV4dCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TW9udGgoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNsZWFyQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xlYXJDbGljaygpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1vbnRoQ2hhbmdlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU1vbnRoQ2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5nb3RvTW9udGgoZS50YXJnZXQudmFsdWUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlWWVhckNoYW5nZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVZZWFyQ2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5nb3RvWWVhcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ290b01vbnRoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ290b01vbnRoKG1vbnRoKSB7XG4gICAgICAgIGlmICghaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGZ1bGwgeWVhciAoZS5nLiBcIjIwMTJcIilcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdvdG9ZZWFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ290b1llYXIoeWVhcikge1xuICAgICAgICBpZiAoIWlzTmFOKHllYXIpKSB7XG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dENoYW5nZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dENoYW5nZShlKSB7XG4gICAgICAgIHZhciBkYXRlID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIFByZXZlbnQgY2hhbmdlIGV2ZW50IGZyb20gYmVpbmcgZmlyZWQgd2hlbiB0cmlnZ2VyZWQgYnkgdGhlIHBsdWdpblxuICAgICAgICBpZiAoZS5maXJlZEJ5ID09PSB0aGlzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFyc2UpIHtcbiAgICAgICAgICBkYXRlID0gdGhpcy5vcHRpb25zLnBhcnNlKHRoaXMuZWwudmFsdWUsIHRoaXMub3B0aW9ucy5mb3JtYXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKHRoaXMuZWwudmFsdWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLnNldERhdGUoZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyRGF5TmFtZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckRheU5hbWUob3B0cywgZGF5LCBhYmJyKSB7XG4gICAgICAgIGRheSArPSBvcHRzLmZpcnN0RGF5O1xuICAgICAgICB3aGlsZSAoZGF5ID49IDcpIHtcbiAgICAgICAgICBkYXkgLT0gNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c0FiYnJldltkYXldIDogb3B0cy5pMThuLndlZWtkYXlzW2RheV07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGlucHV0IHZhbHVlIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGFuZCBjbG9zZSBEYXRlcGlja2VyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfZmluaXNoU2VsZWN0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmlzaFNlbGVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIERhdGVwaWNrZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgdGhpcy5tb2RhbC5vcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIERhdGVwaWNrZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGFsLmNsb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChEYXRlcGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0ZXBpY2tlciksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9pc0RhdGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNEYXRlKG9iaikge1xuICAgICAgICByZXR1cm4gKC9EYXRlLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSAmJiAhaXNOYU4ob2JqLmdldFRpbWUoKSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2lzV2Vla2VuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1dlZWtlbmQoZGF0ZSkge1xuICAgICAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgcmV0dXJuIGRheSA9PT0gMCB8fCBkYXkgPT09IDY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRUb1N0YXJ0T2ZEYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0VG9TdGFydE9mRGF5KGRhdGUpIHtcbiAgICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2dldERheXNJbk1vbnRoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiBbMzEsIERhdGVwaWNrZXIuX2lzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bbW9udGhdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaXNMZWFwWWVhclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0xlYXBZZWFyKHllYXIpIHtcbiAgICAgICAgLy8gc29sdXRpb24gYnkgTWF0dGkgVmlya2t1bmVuOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80ODgxOTUxXG4gICAgICAgIHJldHVybiB5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jb21wYXJlRGF0ZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY29tcGFyZURhdGVzKGEsIGIpIHtcbiAgICAgICAgLy8gd2VhayBkYXRlIGNvbXBhcmlzb24gKHVzZSBzZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkgdG8gZW5zdXJlIGNvcnJlY3QgcmVzdWx0KVxuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0VG9TdGFydE9mRGF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFRvU3RhcnRPZkRheShkYXRlKSB7XG4gICAgICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX0RhdGVwaWNrZXI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGF0ZXBpY2tlcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIERhdGVwaWNrZXIuX3RlbXBsYXRlID0gWyc8ZGl2IGNsYXNzPSBcIm1vZGFsIGRhdGVwaWNrZXItbW9kYWxcIj4nLCAnPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnQgZGF0ZXBpY2tlci1jb250YWluZXJcIj4nLCAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZS1kaXNwbGF5XCI+JywgJzxzcGFuIGNsYXNzPVwieWVhci10ZXh0XCI+PC9zcGFuPicsICc8c3BhbiBjbGFzcz1cImRhdGUtdGV4dFwiPjwvc3Bhbj4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiPicsICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1jYWxlbmRhclwiPjwvZGl2PicsICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1mb290ZXJcIj4nLCAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2xlYXIgd2F2ZXMtZWZmZWN0XCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW47XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicsICc8ZGl2IGNsYXNzPVwiY29uZmlybWF0aW9uLWJ0bnNcIj4nLCAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2FuY2VsIHdhdmVzLWVmZmVjdFwiIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nLCAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItZG9uZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+JywgJzwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+JywgJzwvZGl2PicsICc8L2Rpdj4nXS5qb2luKCcnKTtcblxuICBNLkRhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoRGF0ZXBpY2tlciwgJ2RhdGVwaWNrZXInLCAnTV9EYXRlcGlja2VyJyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkaWFsUmFkaXVzOiAxMzUsXG4gICAgb3V0ZXJSYWRpdXM6IDEwNSxcbiAgICBpbm5lclJhZGl1czogNzAsXG4gICAgdGlja1JhZGl1czogMjAsXG4gICAgZHVyYXRpb246IDM1MCxcbiAgICBjb250YWluZXI6IG51bGwsXG4gICAgZGVmYXVsdFRpbWU6ICdub3cnLCAvLyBkZWZhdWx0IHRpbWUsICdub3cnIG9yICcxMzoxNCcgZS5nLlxuICAgIGZyb21Ob3c6IDAsIC8vIE1pbGxpc2Vjb25kIG9mZnNldCBmcm9tIHRoZSBkZWZhdWx0VGltZVxuICAgIHNob3dDbGVhckJ0bjogZmFsc2UsXG5cbiAgICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICAgIGkxOG46IHtcbiAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICAgIGRvbmU6ICdPaydcbiAgICB9LFxuXG4gICAgYXV0b0Nsb3NlOiBmYWxzZSwgLy8gYXV0byBjbG9zZSB3aGVuIG1pbnV0ZSBpcyBzZWxlY3RlZFxuICAgIHR3ZWx2ZUhvdXI6IHRydWUsIC8vIGNoYW5nZSB0byAxMiBob3VyIEFNL1BNIGNsb2NrIGZyb20gMjQgaG91clxuICAgIHZpYnJhdGU6IHRydWUsIC8vIHZpYnJhdGUgdGhlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmRcblxuICAgIC8vIENhbGxiYWNrc1xuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbCxcbiAgICBvblNlbGVjdDogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFRpbWVwaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDE2KSB7XG4gICAgX2luaGVyaXRzKFRpbWVwaWNrZXIsIF9Db21wb25lbnQxNik7XG5cbiAgICBmdW5jdGlvbiBUaW1lcGlja2VyKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZXBpY2tlcik7XG5cbiAgICAgIHZhciBfdGhpczU3ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpbWVwaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaW1lcGlja2VyKSkuY2FsbCh0aGlzLCBUaW1lcGlja2VyLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczU3LmVsLk1fVGltZXBpY2tlciA9IF90aGlzNTc7XG5cbiAgICAgIF90aGlzNTcub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUaW1lcGlja2VyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM1Ny5pZCA9IE0uZ3VpZCgpO1xuICAgICAgX3RoaXM1Ny5faW5zZXJ0SFRNTEludG9ET00oKTtcbiAgICAgIF90aGlzNTcuX3NldHVwTW9kYWwoKTtcbiAgICAgIF90aGlzNTcuX3NldHVwVmFyaWFibGVzKCk7XG4gICAgICBfdGhpczU3Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgX3RoaXM1Ny5fY2xvY2tTZXR1cCgpO1xuICAgICAgX3RoaXM1Ny5fcGlja2VyU2V0dXAoKTtcbiAgICAgIHJldHVybiBfdGhpczU3O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUaW1lcGlja2VyLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgICAgICAgJCh0aGlzLm1vZGFsRWwpLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmVsLk1fVGltZXBpY2tlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVDbG9ja0NsaWNrU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgICB0aGlzLnBsYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydEJvdW5kKTtcbiAgICAgICAgdGhpcy5wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQpO1xuXG4gICAgICAgICQodGhpcy5zcGFuSG91cnMpLm9uKCdjbGljaycsIHRoaXMuc2hvd1ZpZXcuYmluZCh0aGlzLCAnaG91cnMnKSk7XG4gICAgICAgICQodGhpcy5zcGFuTWludXRlcykub24oJ2NsaWNrJywgdGhpcy5zaG93Vmlldy5iaW5kKHRoaXMsICdtaW51dGVzJykpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dENsaWNrKCkge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0S2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEtleWRvd24oZSkge1xuICAgICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDbG9ja0NsaWNrU3RhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2xvY2tDbGlja1N0YXJ0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgY2xvY2tQbGF0ZUJSID0gdGhpcy5wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHsgeDogY2xvY2tQbGF0ZUJSLmxlZnQsIHk6IGNsb2NrUGxhdGVCUi50b3AgfTtcblxuICAgICAgICB0aGlzLngwID0gb2Zmc2V0LnggKyB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcbiAgICAgICAgdGhpcy55MCA9IG9mZnNldC55ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgICAgICB0aGlzLmR4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgICAgIHRoaXMuZHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcblxuICAgICAgICAvLyBTZXQgY2xvY2sgaGFuZHNcbiAgICAgICAgdGhpcy5zZXRIYW5kKHRoaXMuZHgsIHRoaXMuZHksIGZhbHNlKTtcblxuICAgICAgICAvLyBNb3VzZW1vdmUgb24gZG9jdW1lbnRcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQpO1xuXG4gICAgICAgIC8vIE1vdXNldXAgb24gZG9jdW1lbnRcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZEJvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgY2xpY2tQb3MgPSBUaW1lcGlja2VyLl9Qb3MoZSk7XG4gICAgICAgIHZhciB4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgICAgIHZhciB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG4gICAgICAgIHRoaXMubW92ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldEhhbmQoeCwgeSwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRG9jdW1lbnRDbGlja0VuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEb2N1bWVudENsaWNrRW5kKGUpIHtcbiAgICAgICAgdmFyIF90aGlzNTggPSB0aGlzO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZEJvdW5kKTtcbiAgICAgICAgdmFyIGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgICAgICB2YXIgeCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgICAgICB2YXIgeSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuICAgICAgICBpZiAodGhpcy5tb3ZlZCAmJiB4ID09PSB0aGlzLmR4ICYmIHkgPT09IHRoaXMuZHkpIHtcbiAgICAgICAgICB0aGlzLnNldEhhbmQoeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmlldyA9PT0gJ2hvdXJzJykge1xuICAgICAgICAgIHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgJCh0aGlzLm1pbnV0ZXNWaWV3KS5hZGRDbGFzcygndGltZXBpY2tlci1kaWFsLW91dCcpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1OC5kb25lKCk7XG4gICAgICAgICAgfSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmJpbmQgbW91c2Vtb3ZlIGV2ZW50XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2luc2VydEhUTUxJbnRvRE9NXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgICAgICB0aGlzLiRtb2RhbEVsID0gJChUaW1lcGlja2VyLl90ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMubW9kYWxFbCA9IHRoaXMuJG1vZGFsRWxbMF07XG4gICAgICAgIHRoaXMubW9kYWxFbC5pZCA9ICdtb2RhbC0nICsgdGhpcy5pZDtcblxuICAgICAgICAvLyBBcHBlbmQgcG9wb3ZlciB0byBpbnB1dCBieSBkZWZhdWx0XG4gICAgICAgIHZhciBjb250YWluZXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmNvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyICYmICEhY29udGFpbmVyRWwpIHtcbiAgICAgICAgICB0aGlzLiRtb2RhbEVsLmFwcGVuZFRvKGNvbnRhaW5lckVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLiRtb2RhbEVsLmluc2VydEJlZm9yZSh0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBNb2RhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cE1vZGFsKCkge1xuICAgICAgICB2YXIgX3RoaXM1OSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5tb2RhbCA9IE0uTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgICAgICBvbk9wZW5TdGFydDogdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LFxuICAgICAgICAgIG9uT3BlbkVuZDogdGhpcy5vcHRpb25zLm9uT3BlbkVuZCxcbiAgICAgICAgICBvbkNsb3NlU3RhcnQ6IHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQsXG4gICAgICAgICAgb25DbG9zZUVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczU5Lm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczU5Lm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKF90aGlzNTkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXM1OS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBWYXJpYWJsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBWYXJpYWJsZXMoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAnaG91cnMnO1xuICAgICAgICB0aGlzLnZpYnJhdGUgPSBuYXZpZ2F0b3IudmlicmF0ZSA/ICd2aWJyYXRlJyA6IG5hdmlnYXRvci53ZWJraXRWaWJyYXRlID8gJ3dlYmtpdFZpYnJhdGUnIDogbnVsbDtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItY2FudmFzJyk7XG4gICAgICAgIHRoaXMucGxhdGUgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItcGxhdGUnKTtcblxuICAgICAgICB0aGlzLmhvdXJzVmlldyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1ob3VycycpO1xuICAgICAgICB0aGlzLm1pbnV0ZXNWaWV3ID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLW1pbnV0ZXMnKTtcbiAgICAgICAgdGhpcy5zcGFuSG91cnMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItc3Bhbi1ob3VycycpO1xuICAgICAgICB0aGlzLnNwYW5NaW51dGVzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4tbWludXRlcycpO1xuICAgICAgICB0aGlzLnNwYW5BbVBtID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4tYW0tcG0nKTtcbiAgICAgICAgdGhpcy5mb290ZXIgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItZm9vdGVyJyk7XG4gICAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3BpY2tlclNldHVwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3BpY2tlclNldHVwKCkge1xuICAgICAgICB2YXIgJGNsZWFyQnRuID0gJChcIjxidXR0b24gY2xhc3M9XFxcImJ0bi1mbGF0IHRpbWVwaWNrZXItY2xlYXIgd2F2ZXMtZWZmZWN0XFxcIiBzdHlsZT1cXFwidmlzaWJpbGl0eTogaGlkZGVuO1xcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiB0YWJpbmRleD1cXFwiXCIgKyAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAnMycgOiAnMScpICsgXCJcXFwiPlwiICsgdGhpcy5vcHRpb25zLmkxOG4uY2xlYXIgKyBcIjwvYnV0dG9uPlwiKS5hcHBlbmRUbyh0aGlzLmZvb3Rlcikub24oJ2NsaWNrJywgdGhpcy5jbGVhci5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgICAgICAkY2xlYXJCdG4uY3NzKHsgdmlzaWJpbGl0eTogJycgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lciA9ICQoJzxkaXYgY2xhc3M9XCJjb25maXJtYXRpb24tYnRuc1wiPjwvZGl2PicpO1xuICAgICAgICAkKCc8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgdGltZXBpY2tlci1jbG9zZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCInICsgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyID8gJzMnIDogJzEnKSArICdcIj4nICsgdGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsICsgJzwvYnV0dG9uPicpLmFwcGVuZFRvKGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIpLm9uKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICAgICQoJzxidXR0b24gY2xhc3M9XCJidG4tZmxhdCB0aW1lcGlja2VyLWNsb3NlIHdhdmVzLWVmZmVjdFwiIHR5cGU9XCJidXR0b25cIiB0YWJpbmRleD1cIicgKyAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAnMycgOiAnMScpICsgJ1wiPicgKyB0aGlzLm9wdGlvbnMuaTE4bi5kb25lICsgJzwvYnV0dG9uPicpLmFwcGVuZFRvKGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIpLm9uKCdjbGljaycsIHRoaXMuZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lci5hcHBlbmRUbyh0aGlzLmZvb3Rlcik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jbG9ja1NldHVwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2Nsb2NrU2V0dXAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIHRoaXMuJGFtQnRuID0gJCgnPGRpdiBjbGFzcz1cImFtLWJ0blwiPkFNPC9kaXY+Jyk7XG4gICAgICAgICAgdGhpcy4kcG1CdG4gPSAkKCc8ZGl2IGNsYXNzPVwicG0tYnRuXCI+UE08L2Rpdj4nKTtcbiAgICAgICAgICB0aGlzLiRhbUJ0bi5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVBbVBtQ2xpY2suYmluZCh0aGlzKSkuYXBwZW5kVG8odGhpcy5zcGFuQW1QbSk7XG4gICAgICAgICAgdGhpcy4kcG1CdG4ub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQW1QbUNsaWNrLmJpbmQodGhpcykpLmFwcGVuZFRvKHRoaXMuc3BhbkFtUG0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVpbGRIb3Vyc1ZpZXcoKTtcbiAgICAgICAgdGhpcy5fYnVpbGRNaW51dGVzVmlldygpO1xuICAgICAgICB0aGlzLl9idWlsZFNWR0Nsb2NrKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9idWlsZFNWR0Nsb2NrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkU1ZHQ2xvY2soKSB7XG4gICAgICAgIC8vIERyYXcgY2xvY2sgaGFuZHMgYW5kIG90aGVyc1xuICAgICAgICB2YXIgZGlhbFJhZGl1cyA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xuICAgICAgICB2YXIgdGlja1JhZGl1cyA9IHRoaXMub3B0aW9ucy50aWNrUmFkaXVzO1xuICAgICAgICB2YXIgZGlhbWV0ZXIgPSBkaWFsUmFkaXVzICogMjtcblxuICAgICAgICB2YXIgc3ZnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ3N2ZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aW1lcGlja2VyLXN2ZycpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGRpYW1ldGVyKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGlhbWV0ZXIpO1xuICAgICAgICB2YXIgZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdnJyk7XG4gICAgICAgIGcuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBkaWFsUmFkaXVzICsgJywnICsgZGlhbFJhZGl1cyArICcpJyk7XG4gICAgICAgIHZhciBiZWFyaW5nID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2NpcmNsZScpO1xuICAgICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmVhcmluZycpO1xuICAgICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY3gnLCAwKTtcbiAgICAgICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N5JywgMCk7XG4gICAgICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdyJywgNCk7XG4gICAgICAgIHZhciBoYW5kID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2xpbmUnKTtcbiAgICAgICAgaGFuZC5zZXRBdHRyaWJ1dGUoJ3gxJywgMCk7XG4gICAgICAgIGhhbmQuc2V0QXR0cmlidXRlKCd5MScsIDApO1xuICAgICAgICB2YXIgYmcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnY2lyY2xlJyk7XG4gICAgICAgIGJnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmcnKTtcbiAgICAgICAgYmcuc2V0QXR0cmlidXRlKCdyJywgdGlja1JhZGl1cyk7XG4gICAgICAgIGcuYXBwZW5kQ2hpbGQoaGFuZCk7XG4gICAgICAgIGcuYXBwZW5kQ2hpbGQoYmcpO1xuICAgICAgICBnLmFwcGVuZENoaWxkKGJlYXJpbmcpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hcHBlbmRDaGlsZChzdmcpO1xuXG4gICAgICAgIHRoaXMuaGFuZCA9IGhhbmQ7XG4gICAgICAgIHRoaXMuYmcgPSBiZztcbiAgICAgICAgdGhpcy5iZWFyaW5nID0gYmVhcmluZztcbiAgICAgICAgdGhpcy5nID0gZztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2J1aWxkSG91cnNWaWV3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkSG91cnNWaWV3KCkge1xuICAgICAgICB2YXIgJHRpY2sgPSAkKCc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10aWNrXCI+PC9kaXY+Jyk7XG4gICAgICAgIC8vIEhvdXJzIHZpZXdcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCAxMzsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgdGljayA9ICR0aWNrLmNsb25lKCk7XG4gICAgICAgICAgICB2YXIgcmFkaWFuID0gaSAvIDYgKiBNYXRoLlBJO1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgICAgIHRpY2suY3NzKHtcbiAgICAgICAgICAgICAgbGVmdDogdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnLFxuICAgICAgICAgICAgICB0b3A6IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aWNrLmh0bWwoaSA9PT0gMCA/ICcwMCcgOiBpKTtcbiAgICAgICAgICAgIHRoaXMuaG91cnNWaWV3LmFwcGVuZENoaWxkKHRpY2tbMF0pO1xuICAgICAgICAgICAgLy8gdGljay5vbihtb3VzZWRvd25FdmVudCwgbW91c2Vkb3duKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgMjQ7IF9pMiArPSAxKSB7XG4gICAgICAgICAgICB2YXIgX3RpY2sgPSAkdGljay5jbG9uZSgpO1xuICAgICAgICAgICAgdmFyIF9yYWRpYW4gPSBfaTIgLyA2ICogTWF0aC5QSTtcbiAgICAgICAgICAgIHZhciBpbm5lciA9IF9pMiA+IDAgJiYgX2kyIDwgMTM7XG4gICAgICAgICAgICB2YXIgX3JhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgICAgICAgX3RpY2suY3NzKHtcbiAgICAgICAgICAgICAgbGVmdDogdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihfcmFkaWFuKSAqIF9yYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCcsXG4gICAgICAgICAgICAgIHRvcDogdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLSBNYXRoLmNvcyhfcmFkaWFuKSAqIF9yYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RpY2suaHRtbChfaTIgPT09IDAgPyAnMDAnIDogX2kyKTtcbiAgICAgICAgICAgIHRoaXMuaG91cnNWaWV3LmFwcGVuZENoaWxkKF90aWNrWzBdKTtcbiAgICAgICAgICAgIC8vIHRpY2sub24obW91c2Vkb3duRXZlbnQsIG1vdXNlZG93bik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9idWlsZE1pbnV0ZXNWaWV3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2J1aWxkTWludXRlc1ZpZXcoKSB7XG4gICAgICAgIHZhciAkdGljayA9ICQoJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXRpY2tcIj48L2Rpdj4nKTtcbiAgICAgICAgLy8gTWludXRlcyB2aWV3XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjA7IGkgKz0gNSkge1xuICAgICAgICAgIHZhciB0aWNrID0gJHRpY2suY2xvbmUoKTtcbiAgICAgICAgICB2YXIgcmFkaWFuID0gaSAvIDMwICogTWF0aC5QSTtcbiAgICAgICAgICB0aWNrLmNzcyh7XG4gICAgICAgICAgICBsZWZ0OiB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCcsXG4gICAgICAgICAgICB0b3A6IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4J1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRpY2suaHRtbChUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhpKSk7XG4gICAgICAgICAgdGhpcy5taW51dGVzVmlldy5hcHBlbmRDaGlsZCh0aWNrWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQW1QbUNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUFtUG1DbGljayhlKSB7XG4gICAgICAgIHZhciAkYnRuQ2xpY2tlZCA9ICQoZS50YXJnZXQpO1xuICAgICAgICB0aGlzLmFtT3JQbSA9ICRidG5DbGlja2VkLmhhc0NsYXNzKCdhbS1idG4nKSA/ICdBTScgOiAnUE0nO1xuICAgICAgICB0aGlzLl91cGRhdGVBbVBtVmlldygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlQW1QbVZpZXdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlQW1QbVZpZXcoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIHRoaXMuJGFtQnRuLnRvZ2dsZUNsYXNzKCd0ZXh0LXByaW1hcnknLCB0aGlzLmFtT3JQbSA9PT0gJ0FNJyk7XG4gICAgICAgICAgdGhpcy4kcG1CdG4udG9nZ2xlQ2xhc3MoJ3RleHQtcHJpbWFyeScsIHRoaXMuYW1PclBtID09PSAnUE0nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlVGltZUZyb21JbnB1dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVUaW1lRnJvbUlucHV0KCkge1xuICAgICAgICAvLyBHZXQgdGhlIHRpbWVcbiAgICAgICAgdmFyIHZhbHVlID0gKCh0aGlzLmVsLnZhbHVlIHx8IHRoaXMub3B0aW9ucy5kZWZhdWx0VGltZSB8fCAnJykgKyAnJykuc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyICYmICEodHlwZW9mIHZhbHVlWzFdID09PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgICBpZiAodmFsdWVbMV0udG9VcHBlckNhc2UoKS5pbmRleE9mKCdBTScpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hbU9yUG0gPSAnQU0nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFtT3JQbSA9ICdQTSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0ucmVwbGFjZSgnQU0nLCAnJykucmVwbGFjZSgnUE0nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlWzBdID09PSAnbm93Jykge1xuICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgrbmV3IERhdGUoKSArIHRoaXMub3B0aW9ucy5mcm9tTm93KTtcbiAgICAgICAgICB2YWx1ZSA9IFtub3cuZ2V0SG91cnMoKSwgbm93LmdldE1pbnV0ZXMoKV07XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgICB0aGlzLmFtT3JQbSA9IHZhbHVlWzBdID49IDEyICYmIHZhbHVlWzBdIDwgMjQgPyAnUE0nIDogJ0FNJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3VycyA9ICt2YWx1ZVswXSB8fCAwO1xuICAgICAgICB0aGlzLm1pbnV0ZXMgPSArdmFsdWVbMV0gfHwgMDtcbiAgICAgICAgdGhpcy5zcGFuSG91cnMuaW5uZXJIVE1MID0gdGhpcy5ob3VycztcbiAgICAgICAgdGhpcy5zcGFuTWludXRlcy5pbm5lckhUTUwgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLm1pbnV0ZXMpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUFtUG1WaWV3KCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNob3dWaWV3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1ZpZXcodmlldywgZGVsYXkpIHtcbiAgICAgICAgaWYgKHZpZXcgPT09ICdtaW51dGVzJyAmJiAkKHRoaXMuaG91cnNWaWV3KS5jc3MoJ3Zpc2liaWxpdHknKSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgLy8gcmFpc2VDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlSG91clNlbGVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzSG91cnMgPSB2aWV3ID09PSAnaG91cnMnLFxuICAgICAgICAgICAgbmV4dFZpZXcgPSBpc0hvdXJzID8gdGhpcy5ob3Vyc1ZpZXcgOiB0aGlzLm1pbnV0ZXNWaWV3LFxuICAgICAgICAgICAgaGlkZVZpZXcgPSBpc0hvdXJzID8gdGhpcy5taW51dGVzVmlldyA6IHRoaXMuaG91cnNWaWV3O1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdmlldztcblxuICAgICAgICAkKHRoaXMuc3BhbkhvdXJzKS50b2dnbGVDbGFzcygndGV4dC1wcmltYXJ5JywgaXNIb3Vycyk7XG4gICAgICAgICQodGhpcy5zcGFuTWludXRlcykudG9nZ2xlQ2xhc3MoJ3RleHQtcHJpbWFyeScsICFpc0hvdXJzKTtcblxuICAgICAgICAvLyBUcmFuc2l0aW9uIHZpZXdcbiAgICAgICAgaGlkZVZpZXcuY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1kaWFsLW91dCcpO1xuICAgICAgICAkKG5leHRWaWV3KS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpLnJlbW92ZUNsYXNzKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG5cbiAgICAgICAgLy8gUmVzZXQgY2xvY2sgaGFuZFxuICAgICAgICB0aGlzLnJlc2V0Q2xvY2soZGVsYXkpO1xuXG4gICAgICAgIC8vIEFmdGVyIHRyYW5zaXRpb25zIGVuZGVkXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRvZ2dsZVZpZXdUaW1lcik7XG4gICAgICAgIHRoaXMudG9nZ2xlVmlld1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJChoaWRlVmlldykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZXNldENsb2NrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRDbG9jayhkZWxheSkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMuY3VycmVudFZpZXcsXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXNbdmlld10sXG4gICAgICAgICAgICBpc0hvdXJzID0gdmlldyA9PT0gJ2hvdXJzJyxcbiAgICAgICAgICAgIHVuaXQgPSBNYXRoLlBJIC8gKGlzSG91cnMgPyA2IDogMzApLFxuICAgICAgICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0LFxuICAgICAgICAgICAgcmFkaXVzID0gaXNIb3VycyAmJiB2YWx1ZSA+IDAgJiYgdmFsdWUgPCAxMyA/IHRoaXMub3B0aW9ucy5pbm5lclJhZGl1cyA6IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cyxcbiAgICAgICAgICAgIHggPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgICAgICAgeSA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzLFxuICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgJCh0aGlzLmNhbnZhcykuYWRkQ2xhc3MoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChzZWxmLmNhbnZhcykucmVtb3ZlQ2xhc3MoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldEhhbmQoeCwgeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0SGFuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhhbmQoeCwgeSwgcm91bmRCeTUpIHtcbiAgICAgICAgdmFyIF90aGlzNjAgPSB0aGlzO1xuXG4gICAgICAgIHZhciByYWRpYW4gPSBNYXRoLmF0YW4yKHgsIC15KSxcbiAgICAgICAgICAgIGlzSG91cnMgPSB0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnLFxuICAgICAgICAgICAgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyB8fCByb3VuZEJ5NSA/IDYgOiAzMCksXG4gICAgICAgICAgICB6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxuICAgICAgICAgICAgaW5uZXIgPSBpc0hvdXJzICYmIHogPCAodGhpcy5vcHRpb25zLm91dGVyUmFkaXVzICsgdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzKSAvIDIsXG4gICAgICAgICAgICByYWRpdXMgPSBpbm5lciA/IHRoaXMub3B0aW9ucy5pbm5lclJhZGl1cyA6IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSYWRpYW4gc2hvdWxkIGluIHJhbmdlIFswLCAyUEldXG4gICAgICAgIGlmIChyYWRpYW4gPCAwKSB7XG4gICAgICAgICAgcmFkaWFuID0gTWF0aC5QSSAqIDIgKyByYWRpYW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXG4gICAgICAgIHZhciB2YWx1ZSA9IE1hdGgucm91bmQocmFkaWFuIC8gdW5pdCk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSByb3VuZCByYWRpYW5cbiAgICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuXG4gICAgICAgIC8vIENvcnJlY3QgdGhlIGhvdXJzIG9yIG1pbnV0ZXNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkgdmFsdWUgPSAxMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJvdW5kQnk1KSB2YWx1ZSAqPSA1O1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSA2MCkgdmFsdWUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNIb3Vycykge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAxMikge1xuICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IGlubmVyID8gdmFsdWUgPT09IDAgPyAxMiA6IHZhbHVlIDogdmFsdWUgPT09IDAgPyAwIDogdmFsdWUgKyAxMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJvdW5kQnk1KSB7XG4gICAgICAgICAgICAgIHZhbHVlICo9IDU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmNlIGhvdXJzIG9yIG1pbnV0ZXMgY2hhbmdlZCwgdmlicmF0ZSB0aGUgZGV2aWNlXG4gICAgICAgIGlmICh0aGlzW3RoaXMuY3VycmVudFZpZXddICE9PSB2YWx1ZSkge1xuICAgICAgICAgIGlmICh0aGlzLnZpYnJhdGUgJiYgdGhpcy5vcHRpb25zLnZpYnJhdGUpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdCB2aWJyYXRlIHRvbyBmcmVxdWVudGx5XG4gICAgICAgICAgICBpZiAoIXRoaXMudmlicmF0ZVRpbWVyKSB7XG4gICAgICAgICAgICAgIG5hdmlnYXRvclt0aGlzLnZpYnJhdGVdKDEwKTtcbiAgICAgICAgICAgICAgdGhpcy52aWJyYXRlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczYwLnZpYnJhdGVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1t0aGlzLmN1cnJlbnRWaWV3XSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNIb3Vycykge1xuICAgICAgICAgIHRoaXNbJ3NwYW5Ib3VycyddLmlubmVySFRNTCA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbJ3NwYW5NaW51dGVzJ10uaW5uZXJIVE1MID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGNsb2NrIGhhbmQgYW5kIG90aGVycycgcG9zaXRpb25cbiAgICAgICAgdmFyIGN4MSA9IE1hdGguc2luKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICAgICAgY3kxID0gLU1hdGguY29zKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICAgICAgY3gyID0gTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGN5MiA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzO1xuICAgICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd4MicsIGN4MSk7XG4gICAgICAgIHRoaXMuaGFuZC5zZXRBdHRyaWJ1dGUoJ3kyJywgY3kxKTtcbiAgICAgICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N4JywgY3gyKTtcbiAgICAgICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N5JywgY3kyKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGltZUZyb21JbnB1dCgpO1xuICAgICAgICB0aGlzLnNob3dWaWV3KCdob3VycycpO1xuXG4gICAgICAgIHRoaXMubW9kYWwub3BlbigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEZpbmlzaCB0aW1lcGlja2VyIHNlbGVjdGlvbi5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImRvbmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkb25lKGUsIGNsZWFyVmFsdWUpIHtcbiAgICAgICAgLy8gU2V0IGlucHV0IHZhbHVlXG4gICAgICAgIHZhciBsYXN0ID0gdGhpcy5lbC52YWx1ZTtcbiAgICAgICAgdmFyIHZhbHVlID0gY2xlYXJWYWx1ZSA/ICcnIDogVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5ob3VycykgKyAnOicgKyBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLm1pbnV0ZXMpO1xuICAgICAgICB0aGlzLnRpbWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCFjbGVhclZhbHVlICYmIHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIFwiIFwiICsgdGhpcy5hbU9yUG07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbC52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbGFzdCkge1xuICAgICAgICAgIHRoaXMuJGVsLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsZWFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZG9uZShudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoVGltZXBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRpbWVwaWNrZXIpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYWRkTGVhZGluZ1plcm9cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkTGVhZGluZ1plcm8obnVtKSB7XG4gICAgICAgIHJldHVybiAobnVtIDwgMTAgPyAnMCcgOiAnJykgKyBudW07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jcmVhdGVTVkdFbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVTVkdFbChuYW1lKSB7XG4gICAgICAgIHZhciBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIG5hbWUpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFBvaW50XG4gICAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCBUaGUgWCBDb29yZGluYXRlXG4gICAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSBUaGUgWSBDb29yZGluYXRlXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgeCBwb3NpdGlvbiBvZiBtb3VzZSBvciB0b3VjaCBldmVudFxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICogQHJldHVybiB7UG9pbnR9IHggYW5kIHkgbG9jYXRpb25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9Qb3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfUG9zKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCwgeTogZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgICByZXR1cm4geyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9UaW1lcGlja2VyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRpbWVwaWNrZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBUaW1lcGlja2VyLl90ZW1wbGF0ZSA9IFsnPGRpdiBjbGFzcz0gXCJtb2RhbCB0aW1lcGlja2VyLW1vZGFsXCI+JywgJzxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IHRpbWVwaWNrZXItY29udGFpbmVyXCI+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpZ2l0YWwtZGlzcGxheVwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10ZXh0LWNvbnRhaW5lclwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtblwiPicsICc8c3BhbiBjbGFzcz1cInRpbWVwaWNrZXItc3Bhbi1ob3VycyB0ZXh0LXByaW1hcnlcIj48L3NwYW4+JywgJzonLCAnPHNwYW4gY2xhc3M9XCJ0aW1lcGlja2VyLXNwYW4tbWludXRlc1wiPjwvc3Bhbj4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpc3BsYXktY29sdW1uIHRpbWVwaWNrZXItZGlzcGxheS1hbS1wbVwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1zcGFuLWFtLXBtXCI+PC9kaXY+JywgJzwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWFuYWxvZy1kaXNwbGF5XCI+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXBsYXRlXCI+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWNhbnZhc1wiPjwvZGl2PicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItaG91cnNcIj48L2Rpdj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlhbCB0aW1lcGlja2VyLW1pbnV0ZXMgdGltZXBpY2tlci1kaWFsLW91dFwiPjwvZGl2PicsICc8L2Rpdj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZm9vdGVyXCI+PC9kaXY+JywgJzwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+J10uam9pbignJyk7XG5cbiAgTS5UaW1lcGlja2VyID0gVGltZXBpY2tlcjtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRpbWVwaWNrZXIsICd0aW1lcGlja2VyJywgJ01fVGltZXBpY2tlcicpO1xuICB9XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7fTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBDaGFyYWN0ZXJDb3VudGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQxNykge1xuICAgIF9pbmhlcml0cyhDaGFyYWN0ZXJDb3VudGVyLCBfQ29tcG9uZW50MTcpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IENoYXJhY3RlckNvdW50ZXIgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaGFyYWN0ZXJDb3VudGVyKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhcmFjdGVyQ291bnRlcik7XG5cbiAgICAgIHZhciBfdGhpczYxID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENoYXJhY3RlckNvdW50ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGFyYWN0ZXJDb3VudGVyKSkuY2FsbCh0aGlzLCBDaGFyYWN0ZXJDb3VudGVyLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczYxLmVsLk1fQ2hhcmFjdGVyQ291bnRlciA9IF90aGlzNjE7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIGNoYXJhY3RlciBjb3VudGVyXG4gICAgICAgKi9cbiAgICAgIF90aGlzNjEub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDaGFyYWN0ZXJDb3VudGVyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM2MS5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICAgIF90aGlzNjEuaXNWYWxpZExlbmd0aCA9IGZhbHNlO1xuICAgICAgX3RoaXM2MS5fc2V0dXBDb3VudGVyKCk7XG4gICAgICBfdGhpczYxLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczYxO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDaGFyYWN0ZXJDb3VudGVyLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLkNoYXJhY3RlckNvdW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvdW50ZXIoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCA9IHRoaXMudXBkYXRlQ291bnRlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBjb3VudGVyIGVsZW1lbnRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cENvdW50ZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBDb3VudGVyKCkge1xuICAgICAgICB0aGlzLmNvdW50ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgJCh0aGlzLmNvdW50ZXJFbCkuYWRkQ2xhc3MoJ2NoYXJhY3Rlci1jb3VudGVyJykuY3NzKHtcbiAgICAgICAgICBmbG9hdDogJ3JpZ2h0JyxcbiAgICAgICAgICAnZm9udC1zaXplJzogJzEycHgnLFxuICAgICAgICAgIGhlaWdodDogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRlbC5wYXJlbnQoKS5hcHBlbmQodGhpcy5jb3VudGVyRWwpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBjb3VudGVyIGVsZW1lbnRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVDb3VudGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUNvdW50ZXIoKSB7XG4gICAgICAgICQodGhpcy5jb3VudGVyRWwpLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFVwZGF0ZSBjb3VudGVyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ1cGRhdGVDb3VudGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ291bnRlcigpIHtcbiAgICAgICAgdmFyIG1heExlbmd0aCA9ICt0aGlzLiRlbC5hdHRyKCdkYXRhLWxlbmd0aCcpLFxuICAgICAgICAgICAgYWN0dWFsTGVuZ3RoID0gdGhpcy5lbC52YWx1ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuaXNWYWxpZExlbmd0aCA9IGFjdHVhbExlbmd0aCA8PSBtYXhMZW5ndGg7XG4gICAgICAgIHZhciBjb3VudGVyU3RyaW5nID0gYWN0dWFsTGVuZ3RoO1xuXG4gICAgICAgIGlmIChtYXhMZW5ndGgpIHtcbiAgICAgICAgICBjb3VudGVyU3RyaW5nICs9ICcvJyArIG1heExlbmd0aDtcbiAgICAgICAgICB0aGlzLl92YWxpZGF0ZUlucHV0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAkKHRoaXMuY291bnRlckVsKS5odG1sKGNvdW50ZXJTdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCB2YWxpZGF0aW9uIGNsYXNzZXNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl92YWxpZGF0ZUlucHV0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3ZhbGlkYXRlSW5wdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRMZW5ndGggJiYgdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgICAgICB0aGlzLmlzSW52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNWYWxpZExlbmd0aCAmJiAhdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgICAgICB0aGlzLmlzSW52YWxpZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ3ZhbGlkJyk7XG4gICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChDaGFyYWN0ZXJDb3VudGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hhcmFjdGVyQ291bnRlciksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX0NoYXJhY3RlckNvdW50ZXI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2hhcmFjdGVyQ291bnRlcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uQ2hhcmFjdGVyQ291bnRlciA9IENoYXJhY3RlckNvdW50ZXI7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihDaGFyYWN0ZXJDb3VudGVyLCAnY2hhcmFjdGVyQ291bnRlcicsICdNX0NoYXJhY3RlckNvdW50ZXInKTtcbiAgfVxufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGR1cmF0aW9uOiAyMDAsIC8vIG1zXG4gICAgZGlzdDogLTEwMCwgLy8gem9vbSBzY2FsZSBUT0RPOiBtYWtlIHRoaXMgbW9yZSBpbnR1aXRpdmUgYXMgYW4gb3B0aW9uXG4gICAgc2hpZnQ6IDAsIC8vIHNwYWNpbmcgZm9yIGNlbnRlciBpbWFnZVxuICAgIHBhZGRpbmc6IDAsIC8vIFBhZGRpbmcgYmV0d2VlbiBub24gY2VudGVyIGl0ZW1zXG4gICAgbnVtVmlzaWJsZTogNSwgLy8gTnVtYmVyIG9mIHZpc2libGUgaXRlbXMgaW4gY2Fyb3VzZWxcbiAgICBmdWxsV2lkdGg6IGZhbHNlLCAvLyBDaGFuZ2UgdG8gZnVsbCB3aWR0aCBzdHlsZXNcbiAgICBpbmRpY2F0b3JzOiBmYWxzZSwgLy8gVG9nZ2xlIGluZGljYXRvcnNcbiAgICBub1dyYXA6IGZhbHNlLCAvLyBEb24ndCB3cmFwIGFyb3VuZCBhbmQgY3ljbGUgdGhyb3VnaCBpdGVtcy5cbiAgICBvbkN5Y2xlVG86IG51bGwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYSBuZXcgc2xpZGUgaXMgY3ljbGVkIHRvLlxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKF9Db21wb25lbnQxOCkge1xuICAgIF9pbmhlcml0cyhDYXJvdXNlbCwgX0NvbXBvbmVudDE4KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBDYXJvdXNlbCBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhcm91c2VsKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2Fyb3VzZWwpO1xuXG4gICAgICB2YXIgX3RoaXM2MiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYXJvdXNlbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcm91c2VsKSkuY2FsbCh0aGlzLCBDYXJvdXNlbCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM2Mi5lbC5NX0Nhcm91c2VsID0gX3RoaXM2MjtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgY2Fyb3VzZWxcbiAgICAgICAqIEBtZW1iZXIgQ2Fyb3VzZWwjb3B0aW9uc1xuICAgICAgICogQHByb3Age051bWJlcn0gZHVyYXRpb25cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IGRpc3RcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IHNoaWZ0XG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBwYWRkaW5nXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBudW1WaXNpYmxlXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZnVsbFdpZHRoXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gaW5kaWNhdG9yc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IG5vV3JhcFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkN5Y2xlVG9cbiAgICAgICAqL1xuICAgICAgX3RoaXM2Mi5vcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gU2V0dXBcbiAgICAgIF90aGlzNjIuaGFzTXVsdGlwbGVTbGlkZXMgPSBfdGhpczYyLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmxlbmd0aCA+IDE7XG4gICAgICBfdGhpczYyLnNob3dJbmRpY2F0b3JzID0gX3RoaXM2Mi5vcHRpb25zLmluZGljYXRvcnMgJiYgX3RoaXM2Mi5oYXNNdWx0aXBsZVNsaWRlcztcbiAgICAgIF90aGlzNjIubm9XcmFwID0gX3RoaXM2Mi5vcHRpb25zLm5vV3JhcCB8fCAhX3RoaXM2Mi5oYXNNdWx0aXBsZVNsaWRlcztcbiAgICAgIF90aGlzNjIucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgX3RoaXM2Mi5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICBfdGhpczYyLm9mZnNldCA9IF90aGlzNjIudGFyZ2V0ID0gMDtcbiAgICAgIF90aGlzNjIuaW1hZ2VzID0gW107XG4gICAgICBfdGhpczYyLml0ZW1XaWR0aCA9IF90aGlzNjIuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtJykuZmlyc3QoKS5pbm5lcldpZHRoKCk7XG4gICAgICBfdGhpczYyLml0ZW1IZWlnaHQgPSBfdGhpczYyLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmZpcnN0KCkuaW5uZXJIZWlnaHQoKTtcbiAgICAgIF90aGlzNjIuZGltID0gX3RoaXM2Mi5pdGVtV2lkdGggKiAyICsgX3RoaXM2Mi5vcHRpb25zLnBhZGRpbmcgfHwgMTsgLy8gTWFrZSBzdXJlIGRpbSBpcyBub24gemVybyBmb3IgZGl2aXNpb25zLlxuICAgICAgX3RoaXM2Mi5fYXV0b1Njcm9sbEJvdW5kID0gX3RoaXM2Mi5fYXV0b1Njcm9sbC5iaW5kKF90aGlzNjIpO1xuICAgICAgX3RoaXM2Mi5fdHJhY2tCb3VuZCA9IF90aGlzNjIuX3RyYWNrLmJpbmQoX3RoaXM2Mik7XG5cbiAgICAgIC8vIEZ1bGwgV2lkdGggY2Fyb3VzZWwgc2V0dXBcbiAgICAgIGlmIChfdGhpczYyLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgIF90aGlzNjIub3B0aW9ucy5kaXN0ID0gMDtcbiAgICAgICAgX3RoaXM2Mi5fc2V0Q2Fyb3VzZWxIZWlnaHQoKTtcblxuICAgICAgICAvLyBPZmZzZXQgZml4ZWQgaXRlbXMgd2hlbiBpbmRpY2F0b3JzLlxuICAgICAgICBpZiAoX3RoaXM2Mi5zaG93SW5kaWNhdG9ycykge1xuICAgICAgICAgIF90aGlzNjIuJGVsLmZpbmQoJy5jYXJvdXNlbC1maXhlZC1pdGVtJykuYWRkQ2xhc3MoJ3dpdGgtaW5kaWNhdG9ycycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBzbGlkZXNcbiAgICAgIF90aGlzNjIuJGluZGljYXRvcnMgPSAkKCc8dWwgY2xhc3M9XCJpbmRpY2F0b3JzXCI+PC91bD4nKTtcbiAgICAgIF90aGlzNjIuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtJykuZWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgX3RoaXM2Mi5pbWFnZXMucHVzaChlbCk7XG4gICAgICAgIGlmIChfdGhpczYyLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgICAgdmFyICRpbmRpY2F0b3IgPSAkKCc8bGkgY2xhc3M9XCJpbmRpY2F0b3ItaXRlbVwiPjwvbGk+Jyk7XG5cbiAgICAgICAgICAvLyBBZGQgYWN0aXZlIHRvIGZpcnN0IGJ5IGRlZmF1bHQuXG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICRpbmRpY2F0b3JbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXM2Mi4kaW5kaWNhdG9ycy5hcHBlbmQoJGluZGljYXRvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKF90aGlzNjIuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgX3RoaXM2Mi4kZWwuYXBwZW5kKF90aGlzNjIuJGluZGljYXRvcnMpO1xuICAgICAgfVxuICAgICAgX3RoaXM2Mi5jb3VudCA9IF90aGlzNjIuaW1hZ2VzLmxlbmd0aDtcblxuICAgICAgLy8gQ2FwIG51bVZpc2libGUgYXQgY291bnRcbiAgICAgIF90aGlzNjIub3B0aW9ucy5udW1WaXNpYmxlID0gTWF0aC5taW4oX3RoaXM2Mi5jb3VudCwgX3RoaXM2Mi5vcHRpb25zLm51bVZpc2libGUpO1xuXG4gICAgICAvLyBTZXR1cCBjcm9zcyBicm93c2VyIHN0cmluZ1xuICAgICAgX3RoaXM2Mi54Zm9ybSA9ICd0cmFuc2Zvcm0nO1xuICAgICAgWyd3ZWJraXQnLCAnTW96JywgJ08nLCAnbXMnXS5ldmVyeShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgIHZhciBlID0gcHJlZml4ICsgJ1RyYW5zZm9ybSc7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtlXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBfdGhpczYyLnhmb3JtID0gZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXM2Mi5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICBfdGhpczYyLl9zY3JvbGwoX3RoaXM2Mi5vZmZzZXQpO1xuICAgICAgcmV0dXJuIF90aGlzNjI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhcm91c2VsLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fQ2Fyb3VzZWwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM2MyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZ0JvdW5kID0gdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kID0gdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMgJiYgdGhpcy4kaW5kaWNhdG9ycykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmluZGljYXRvci1pdGVtJykuZWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM2My5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNpemVcbiAgICAgICAgdmFyIHRocm90dGxlZFJlc2l6ZSA9IE0udGhyb3R0bGUodGhpcy5faGFuZGxlUmVzaXplLCAyMDApO1xuICAgICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCA9IHRocm90dGxlZFJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM2NCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQpO1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxDbGlja0JvdW5kKTtcblxuICAgICAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLiRpbmRpY2F0b3JzKSB7XG4gICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuaW5kaWNhdG9yLWl0ZW0nKS5lYWNoKGZ1bmN0aW9uIChlbCwgaSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczY0Ll9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENhcm91c2VsIFRhcFxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNhcm91c2VsVGFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNhcm91c2VsVGFwKGUpIHtcbiAgICAgICAgLy8gRml4ZXMgZmlyZWZveCBkcmFnZ2FibGUgaW1hZ2UgYnVnXG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nICYmICQoZS50YXJnZXQpLmlzKCdpbWcnKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLl94cG9zKGUpO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZVkgPSB0aGlzLl95cG9zKGUpO1xuXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLmFtcGxpdHVkZSA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGlja2VyKTtcbiAgICAgICAgdGhpcy50aWNrZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl90cmFja0JvdW5kLCAxMDApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDYXJvdXNlbCBEcmFnXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2Fyb3VzZWxEcmFnXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNhcm91c2VsRHJhZyhlKSB7XG4gICAgICAgIHZhciB4ID0gdm9pZCAwLFxuICAgICAgICAgICAgeSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGRlbHRhID0gdm9pZCAwLFxuICAgICAgICAgICAgZGVsdGFZID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgeCA9IHRoaXMuX3hwb3MoZSk7XG4gICAgICAgICAgeSA9IHRoaXMuX3lwb3MoZSk7XG4gICAgICAgICAgZGVsdGEgPSB0aGlzLnJlZmVyZW5jZSAtIHg7XG4gICAgICAgICAgZGVsdGFZID0gTWF0aC5hYnModGhpcy5yZWZlcmVuY2VZIC0geSk7XG4gICAgICAgICAgaWYgKGRlbHRhWSA8IDMwICYmICF0aGlzLnZlcnRpY2FsRHJhZ2dlZCkge1xuICAgICAgICAgICAgLy8gSWYgdmVydGljYWwgc2Nyb2xsaW5nIGRvbid0IGFsbG93IGRyYWdnaW5nLlxuICAgICAgICAgICAgaWYgKGRlbHRhID4gMiB8fCBkZWx0YSA8IC0yKSB7XG4gICAgICAgICAgICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlID0geDtcbiAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMub2Zmc2V0ICsgZGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgICAgICAvLyBJZiBkcmFnZ2luZyBkb24ndCBhbGxvdyB2ZXJ0aWNhbCBzY3JvbGwuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBWZXJ0aWNhbCBzY3JvbGxpbmcuXG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsRHJhZ2dlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAgIC8vIElmIGRyYWdnaW5nIGRvbid0IGFsbG93IHZlcnRpY2FsIHNjcm9sbC5cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ2Fyb3VzZWwgUmVsZWFzZVxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNhcm91c2VsUmVsZWFzZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDYXJvdXNlbFJlbGVhc2UoZSkge1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5ID4gMTAgfHwgdGhpcy52ZWxvY2l0eSA8IC0xMCkge1xuICAgICAgICAgIHRoaXMuYW1wbGl0dWRlID0gMC45ICogdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0ICsgdGhpcy5hbXBsaXR1ZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXJnZXQgPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0IC8gdGhpcy5kaW0pICogdGhpcy5kaW07XG5cbiAgICAgICAgLy8gTm8gd3JhcCBvZiBpdGVtcy5cbiAgICAgICAgaWYgKHRoaXMubm9XcmFwKSB7XG4gICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID49IHRoaXMuZGltICogKHRoaXMuY291bnQgLSAxKSkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbXBsaXR1ZGUgPSB0aGlzLnRhcmdldCAtIHRoaXMub2Zmc2V0O1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsQm91bmQpO1xuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENhcm91c2VsIENMaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2Fyb3VzZWxDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDYXJvdXNlbENsaWNrKGUpIHtcbiAgICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIGRyYWdnZWQuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgICB2YXIgY2xpY2tlZEluZGV4ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNhcm91c2VsLWl0ZW0nKS5pbmRleCgpO1xuICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5fd3JhcCh0aGlzLmNlbnRlcikgLSBjbGlja2VkSW5kZXg7XG5cbiAgICAgICAgICAvLyBEaXNhYmxlIGNsaWNrcyBpZiBjYXJvdXNlbCB3YXMgc2hpZnRlZCBieSBjbGlja1xuICAgICAgICAgIGlmIChkaWZmICE9PSAwKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9jeWNsZVRvKGNsaWNrZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5kaWNhdG9yIENMaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5kaWNhdG9yQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5kaWNhdG9yQ2xpY2soZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHZhciBpbmRpY2F0b3IgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuaW5kaWNhdG9yLWl0ZW0nKTtcbiAgICAgICAgaWYgKGluZGljYXRvci5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl9jeWNsZVRvKGluZGljYXRvci5pbmRleCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBUaHJvdHRsZSBSZXNpemVcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUmVzaXplKGUpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgICB0aGlzLml0ZW1XaWR0aCA9IHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtJykuZmlyc3QoKS5pbm5lcldpZHRoKCk7XG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpLmhlaWdodCgpO1xuICAgICAgICAgIHRoaXMuZGltID0gdGhpcy5pdGVtV2lkdGggKiAyICsgdGhpcy5vcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNlbnRlciAqIDIgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0O1xuICAgICAgICAgIHRoaXMuX3NldENhcm91c2VsSGVpZ2h0KHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGNhcm91c2VsIGhlaWdodCBiYXNlZCBvbiBmaXJzdCBzbGlkZVxuICAgICAgICogQHBhcmFtIHtCb29sZWFtfSBpbWFnZU9ubHkgLSB0cnVlIGZvciBpbWFnZSBzbGlkZXNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRDYXJvdXNlbEhlaWdodFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRDYXJvdXNlbEhlaWdodChpbWFnZU9ubHkpIHtcbiAgICAgICAgdmFyIF90aGlzNjUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaXJzdFNsaWRlID0gdGhpcy4kZWwuZmluZCgnLmNhcm91c2VsLWl0ZW0uYWN0aXZlJykubGVuZ3RoID8gdGhpcy4kZWwuZmluZCgnLmNhcm91c2VsLWl0ZW0uYWN0aXZlJykuZmlyc3QoKSA6IHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtJykuZmlyc3QoKTtcbiAgICAgICAgdmFyIGZpcnN0SW1hZ2UgPSBmaXJzdFNsaWRlLmZpbmQoJ2ltZycpLmZpcnN0KCk7XG4gICAgICAgIGlmIChmaXJzdEltYWdlLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChmaXJzdEltYWdlWzBdLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAvLyBJZiBpbWFnZSB3b24ndCB0cmlnZ2VyIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgICAgICB2YXIgaW1hZ2VIZWlnaHQgPSBmaXJzdEltYWdlLmhlaWdodCgpO1xuICAgICAgICAgICAgaWYgKGltYWdlSGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIGltYWdlSGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZiBpbWFnZSBzdGlsbCBoYXMgbm8gaGVpZ2h0LCB1c2UgdGhlIG5hdHVyYWwgZGltZW5zaW9ucyB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IGZpcnN0SW1hZ2VbMF0ubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgICB2YXIgbmF0dXJhbEhlaWdodCA9IGZpcnN0SW1hZ2VbMF0ubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICAgICAgdmFyIGFkanVzdGVkSGVpZ2h0ID0gdGhpcy4kZWwud2lkdGgoKSAvIG5hdHVyYWxXaWR0aCAqIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICAgIHRoaXMuJGVsLmNzcygnaGVpZ2h0JywgYWRqdXN0ZWRIZWlnaHQgKyAncHgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR2V0IGhlaWdodCB3aGVuIGltYWdlIGlzIGxvYWRlZCBub3JtYWxseVxuICAgICAgICAgICAgZmlyc3RJbWFnZS5vbmUoJ2xvYWQnLCBmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICAgICAgX3RoaXM2NS4kZWwuY3NzKCdoZWlnaHQnLCBlbC5vZmZzZXRIZWlnaHQgKyAncHgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaW1hZ2VPbmx5KSB7XG4gICAgICAgICAgdmFyIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5oZWlnaHQoKTtcbiAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIHNsaWRlSGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgeCBwb3NpdGlvbiBmcm9tIGV2ZW50XG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfeHBvc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF94cG9zKGUpIHtcbiAgICAgICAgLy8gdG91Y2ggZXZlbnRcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgICByZXR1cm4gZS5jbGllbnRYO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCB5IHBvc2l0aW9uIGZyb20gZXZlbnRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl95cG9zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3lwb3MoZSkge1xuICAgICAgICAvLyB0b3VjaCBldmVudFxuICAgICAgICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgICAgIHJldHVybiBlLmNsaWVudFk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogV3JhcCBpbmRleFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl93cmFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3dyYXAoeCkge1xuICAgICAgICByZXR1cm4geCA+PSB0aGlzLmNvdW50ID8geCAlIHRoaXMuY291bnQgOiB4IDwgMCA/IHRoaXMuX3dyYXAodGhpcy5jb3VudCArIHggJSB0aGlzLmNvdW50KSA6IHg7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVHJhY2tzIHNjcm9sbGluZyBpbmZvcm1hdGlvblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3RyYWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3RyYWNrKCkge1xuICAgICAgICB2YXIgbm93ID0gdm9pZCAwLFxuICAgICAgICAgICAgZWxhcHNlZCA9IHZvaWQgMCxcbiAgICAgICAgICAgIGRlbHRhID0gdm9pZCAwLFxuICAgICAgICAgICAgdiA9IHZvaWQgMDtcblxuICAgICAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBlbGFwc2VkID0gbm93IC0gdGhpcy50aW1lc3RhbXA7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gbm93O1xuICAgICAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5mcmFtZTtcbiAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMub2Zmc2V0O1xuXG4gICAgICAgIHYgPSAxMDAwICogZGVsdGEgLyAoMSArIGVsYXBzZWQpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMC44ICogdiArIDAuMiAqIHRoaXMudmVsb2NpdHk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQXV0byBzY3JvbGxzIHRvIG5lYXJlc3QgY2Fyb3VzZWwgaXRlbS5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hdXRvU2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2F1dG9TY3JvbGwoKSB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdm9pZCAwLFxuICAgICAgICAgICAgZGVsdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYW1wbGl0dWRlKSB7XG4gICAgICAgICAgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICAgICAgICBkZWx0YSA9IHRoaXMuYW1wbGl0dWRlICogTWF0aC5leHAoLWVsYXBzZWQgLyB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMudGFyZ2V0IC0gZGVsdGEpO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGxCb3VuZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIHRvIHRhcmdldFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zY3JvbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2Nyb2xsKHgpIHtcbiAgICAgICAgdmFyIF90aGlzNjYgPSB0aGlzO1xuXG4gICAgICAgIC8vIFRyYWNrIHNjcm9sbGluZyBzdGF0ZVxuICAgICAgICBpZiAoIXRoaXMuJGVsLmhhc0NsYXNzKCdzY3JvbGxpbmcnKSkge1xuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsaW5nVGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNjcm9sbGluZ1RpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Nyb2xsaW5nVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczY2LiRlbC5yZW1vdmVDbGFzcygnc2Nyb2xsaW5nJyk7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG5cbiAgICAgICAgLy8gU3RhcnQgYWN0dWFsIHNjcm9sbFxuICAgICAgICB2YXIgaSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGhhbGYgPSB2b2lkIDAsXG4gICAgICAgICAgICBkZWx0YSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGRpciA9IHZvaWQgMCxcbiAgICAgICAgICAgIHR3ZWVuID0gdm9pZCAwLFxuICAgICAgICAgICAgZWwgPSB2b2lkIDAsXG4gICAgICAgICAgICBhbGlnbm1lbnQgPSB2b2lkIDAsXG4gICAgICAgICAgICB6VHJhbnNsYXRpb24gPSB2b2lkIDAsXG4gICAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5ID0gdm9pZCAwO1xuICAgICAgICB2YXIgbGFzdENlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICB2YXIgbnVtVmlzaWJsZU9mZnNldCA9IDEgLyB0aGlzLm9wdGlvbnMubnVtVmlzaWJsZTtcblxuICAgICAgICB0aGlzLm9mZnNldCA9IHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IHggOiB0aGlzLm9mZnNldDtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBNYXRoLmZsb29yKCh0aGlzLm9mZnNldCArIHRoaXMuZGltIC8gMikgLyB0aGlzLmRpbSk7XG4gICAgICAgIGRlbHRhID0gdGhpcy5vZmZzZXQgLSB0aGlzLmNlbnRlciAqIHRoaXMuZGltO1xuICAgICAgICBkaXIgPSBkZWx0YSA8IDAgPyAxIDogLTE7XG4gICAgICAgIHR3ZWVuID0gLWRpciAqIGRlbHRhICogMiAvIHRoaXMuZGltO1xuICAgICAgICBoYWxmID0gdGhpcy5jb3VudCA+PiAxO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgYWxpZ25tZW50ID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGlnbm1lbnQgPSAndHJhbnNsYXRlWCgnICsgKHRoaXMuZWwuY2xpZW50V2lkdGggLSB0aGlzLml0ZW1XaWR0aCkgLyAyICsgJ3B4KSAnO1xuICAgICAgICAgIGFsaWdubWVudCArPSAndHJhbnNsYXRlWSgnICsgKHRoaXMuZWwuY2xpZW50SGVpZ2h0IC0gdGhpcy5pdGVtSGVpZ2h0KSAvIDIgKyAncHgpJztcbiAgICAgICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogdHdlZW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgaW5kaWNhdG9yIGFjdGl2ZVxuICAgICAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycykge1xuICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5jZW50ZXIgJSB0aGlzLmNvdW50O1xuICAgICAgICAgIHZhciBhY3RpdmVJbmRpY2F0b3IgPSB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5pbmRpY2F0b3ItaXRlbS5hY3RpdmUnKTtcbiAgICAgICAgICBpZiAoYWN0aXZlSW5kaWNhdG9yLmluZGV4KCkgIT09IGRpZmYpIHtcbiAgICAgICAgICAgIGFjdGl2ZUluZGljYXRvci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5pbmRpY2F0b3ItaXRlbScpLmVxKGRpZmYpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNlbnRlclxuICAgICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpIHtcbiAgICAgICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIpXTtcblxuICAgICAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gY2VudGVyIGl0ZW0uXG4gICAgICAgICAgaWYgKCEkKGVsKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB0cmFuc2Zvcm1TdHJpbmcgPSBhbGlnbm1lbnQgKyBcIiB0cmFuc2xhdGVYKFwiICsgLWRlbHRhIC8gMiArIFwicHgpIHRyYW5zbGF0ZVgoXCIgKyBkaXIgKiB0aGlzLm9wdGlvbnMuc2hpZnQgKiB0d2VlbiAqIGkgKyBcInB4KSB0cmFuc2xhdGVaKFwiICsgdGhpcy5vcHRpb25zLmRpc3QgKiB0d2VlbiArIFwicHgpXCI7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gaGFsZjsgKytpKSB7XG4gICAgICAgICAgLy8gcmlnaHQgc2lkZVxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdDtcbiAgICAgICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gaSA9PT0gaGFsZiAmJiBkZWx0YSA8IDAgPyAxIC0gdHdlZW4gOiAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcbiAgICAgICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gMSAtIG51bVZpc2libGVPZmZzZXQgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgICAgICBpZiAoIXRoaXMubm9XcmFwIHx8IHRoaXMuY2VudGVyICsgaSA8IHRoaXMuY291bnQpIHtcbiAgICAgICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciArIGkpXTtcbiAgICAgICAgICAgIHZhciBfdHJhbnNmb3JtU3RyaW5nID0gYWxpZ25tZW50ICsgXCIgdHJhbnNsYXRlWChcIiArICh0aGlzLm9wdGlvbnMuc2hpZnQgKyAodGhpcy5kaW0gKiBpIC0gZGVsdGEpIC8gMikgKyBcInB4KSB0cmFuc2xhdGVaKFwiICsgelRyYW5zbGF0aW9uICsgXCJweClcIjtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgdHdlZW5lZE9wYWNpdHksIC1pLCBfdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBsZWZ0IHNpZGVcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IGkgPT09IGhhbGYgJiYgZGVsdGEgPiAwID8gMSAtIHR3ZWVuIDogMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgLSB0d2VlbiAqIGRpcik7XG4gICAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogKGkgKiAyIC0gdHdlZW4gKiBkaXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCB0aGlzLmNlbnRlciAtIGkgPj0gMCkge1xuICAgICAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyIC0gaSldO1xuICAgICAgICAgICAgdmFyIF90cmFuc2Zvcm1TdHJpbmcyID0gYWxpZ25tZW50ICsgXCIgdHJhbnNsYXRlWChcIiArICgtdGhpcy5vcHRpb25zLnNoaWZ0ICsgKC10aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyKSArIFwicHgpIHRyYW5zbGF0ZVooXCIgKyB6VHJhbnNsYXRpb24gKyBcInB4KVwiO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCB0d2VlbmVkT3BhY2l0eSwgLWksIF90cmFuc2Zvcm1TdHJpbmcyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjZW50ZXJcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgICAgICBpZiAoIXRoaXMubm9XcmFwIHx8IHRoaXMuY2VudGVyID49IDAgJiYgdGhpcy5jZW50ZXIgPCB0aGlzLmNvdW50KSB7XG4gICAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG4gICAgICAgICAgdmFyIF90cmFuc2Zvcm1TdHJpbmczID0gYWxpZ25tZW50ICsgXCIgdHJhbnNsYXRlWChcIiArIC1kZWx0YSAvIDIgKyBcInB4KSB0cmFuc2xhdGVYKFwiICsgZGlyICogdGhpcy5vcHRpb25zLnNoaWZ0ICogdHdlZW4gKyBcInB4KSB0cmFuc2xhdGVaKFwiICsgdGhpcy5vcHRpb25zLmRpc3QgKiB0d2VlbiArIFwicHgpXCI7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgX3RyYW5zZm9ybVN0cmluZzMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25DeWNsZVRvIGNhbGxiYWNrXG4gICAgICAgIHZhciAkY3Vyckl0ZW0gPSB0aGlzLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmVxKHRoaXMuX3dyYXAodGhpcy5jZW50ZXIpKTtcbiAgICAgICAgaWYgKGxhc3RDZW50ZXIgIT09IHRoaXMuY2VudGVyICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25DeWNsZVRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ3ljbGVUby5jYWxsKHRoaXMsICRjdXJySXRlbVswXSwgdGhpcy5kcmFnZ2VkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9uZSB0aW1lIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjay5jYWxsKHRoaXMsICRjdXJySXRlbVswXSwgdGhpcy5kcmFnZ2VkKTtcbiAgICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDeWNsZSB0byB0YXJnZXRcbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcGFjaXR5XG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gekluZGV4XG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNmb3JtXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlSXRlbVN0eWxlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUl0ZW1TdHlsZShlbCwgb3BhY2l0eSwgekluZGV4LCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgZWwuc3R5bGVbdGhpcy54Zm9ybV0gPSB0cmFuc2Zvcm07XG4gICAgICAgIGVsLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcbiAgICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3ljbGUgdG8gdGFyZ2V0XG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gblxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jeWNsZVRvXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2N5Y2xlVG8obiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGRpZmYgPSB0aGlzLmNlbnRlciAlIHRoaXMuY291bnQgLSBuO1xuXG4gICAgICAgIC8vIEFjY291bnQgZm9yIHdyYXBhcm91bmQuXG4gICAgICAgIGlmICghdGhpcy5ub1dyYXApIHtcbiAgICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaWZmICsgdGhpcy5jb3VudCkgPCBNYXRoLmFicyhkaWZmKSkge1xuICAgICAgICAgICAgICBkaWZmICs9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRpZmYgLSB0aGlzLmNvdW50KSA8IGRpZmYpIHtcbiAgICAgICAgICAgICAgZGlmZiAtPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5kaW0gKiBNYXRoLnJvdW5kKHRoaXMub2Zmc2V0IC8gdGhpcy5kaW0pO1xuICAgICAgICAvLyBOZXh0XG4gICAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICAgIHRoaXMudGFyZ2V0ICs9IHRoaXMuZGltICogTWF0aC5hYnMoZGlmZik7XG5cbiAgICAgICAgICAvLyBQcmV2XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCAtPSB0aGlzLmRpbSAqIGRpZmY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgb25lIHRpbWUgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub25lVGltZUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY3JvbGxcbiAgICAgICAgaWYgKHRoaXMub2Zmc2V0ICE9PSB0aGlzLnRhcmdldCkge1xuICAgICAgICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcbiAgICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGxCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDeWNsZSB0byBuZXh0IGl0ZW1cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbbl1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm5leHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0KG4pIHtcbiAgICAgICAgaWYgKG4gPT09IHVuZGVmaW5lZCB8fCBpc05hTihuKSkge1xuICAgICAgICAgIG4gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jZW50ZXIgKyBuO1xuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5ub1dyYXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N5Y2xlVG8oaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEN5Y2xlIHRvIHByZXZpb3VzIGl0ZW1cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbbl1cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInByZXZcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2KG4pIHtcbiAgICAgICAgaWYgKG4gPT09IHVuZGVmaW5lZCB8fCBpc05hTihuKSkge1xuICAgICAgICAgIG4gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jZW50ZXIgLSBuO1xuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5ub1dyYXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3ljbGUgdG8gbnRoIGl0ZW1cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbbl1cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQobiwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKG4gPT09IHVuZGVmaW5lZCB8fCBpc05hTihuKSkge1xuICAgICAgICAgIG4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG4gPiB0aGlzLmNvdW50IHx8IG4gPCAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMubm9XcmFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbiA9IHRoaXMuX3dyYXAobik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jeWNsZVRvKG4sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoQ2Fyb3VzZWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYXJvdXNlbCksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX0Nhcm91c2VsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENhcm91c2VsO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5DYXJvdXNlbCA9IENhcm91c2VsO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ2Fyb3VzZWwsICdjYXJvdXNlbCcsICdNX0Nhcm91c2VsJyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWRcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBUYXBUYXJnZXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDE5KSB7XG4gICAgX2luaGVyaXRzKFRhcFRhcmdldCwgX0NvbXBvbmVudDE5KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBUYXBUYXJnZXQgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUYXBUYXJnZXQoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYXBUYXJnZXQpO1xuXG4gICAgICB2YXIgX3RoaXM2NyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYXBUYXJnZXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYXBUYXJnZXQpKS5jYWxsKHRoaXMsIFRhcFRhcmdldCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM2Ny5lbC5NX1RhcFRhcmdldCA9IF90aGlzNjc7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIHNlbGVjdFxuICAgICAgICogQG1lbWJlciBUYXBUYXJnZXQjb3B0aW9uc1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW4gLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiBmZWF0dXJlIGRpc2NvdmVyeSBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZSAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIGZlYXR1cmUgZGlzY292ZXJ5IGlzIGNsb3NlZFxuICAgICAgICovXG4gICAgICBfdGhpczY3Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGFwVGFyZ2V0LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM2Ny5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgLy8gc2V0dXBcbiAgICAgIF90aGlzNjcuJG9yaWdpbiA9ICQoJyMnICsgX3RoaXM2Ny4kZWwuYXR0cignZGF0YS10YXJnZXQnKSk7XG4gICAgICBfdGhpczY3Ll9zZXR1cCgpO1xuXG4gICAgICBfdGhpczY3Ll9jYWxjdWxhdGVQb3NpdGlvbmluZygpO1xuICAgICAgX3RoaXM2Ny5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXM2NztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGFwVGFyZ2V0LCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLlRhcFRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZVRhcmdldENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVPcmlnaW5DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5vcmlnaW5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQpO1xuXG4gICAgICAgIC8vIFJlc2l6ZVxuICAgICAgICB2YXIgdGhyb3R0bGVkUmVzaXplID0gTS50aHJvdHRsZSh0aGlzLl9oYW5kbGVSZXNpemUsIDIwMCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kID0gdGhyb3R0bGVkUmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBUYXJnZXQgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVUYXJnZXRDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVUYXJnZXRDbGljayhlKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBPcmlnaW4gQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVPcmlnaW5DbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVPcmlnaW5DbGljayhlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmVzaXplXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlUmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVJlc2l6ZShlKSB7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFJlc2l6ZVxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURvY3VtZW50Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRG9jdW1lbnRDbGljayhlKSB7XG4gICAgICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCgnLnRhcC10YXJnZXQtd3JhcHBlcicpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIFRhcCBUYXJnZXRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cCgpIHtcbiAgICAgICAgLy8gQ3JlYXRpbmcgdGFwIHRhcmdldFxuICAgICAgICB0aGlzLndyYXBwZXIgPSB0aGlzLiRlbC5wYXJlbnQoKVswXTtcbiAgICAgICAgdGhpcy53YXZlRWwgPSAkKHRoaXMud3JhcHBlcikuZmluZCgnLnRhcC10YXJnZXQtd2F2ZScpWzBdO1xuICAgICAgICB0aGlzLm9yaWdpbkVsID0gJCh0aGlzLndyYXBwZXIpLmZpbmQoJy50YXAtdGFyZ2V0LW9yaWdpbicpWzBdO1xuICAgICAgICB0aGlzLmNvbnRlbnRFbCA9IHRoaXMuJGVsLmZpbmQoJy50YXAtdGFyZ2V0LWNvbnRlbnQnKVswXTtcblxuICAgICAgICAvLyBDcmVhdGluZyB3cmFwcGVyXG4gICAgICAgIGlmICghJCh0aGlzLndyYXBwZXIpLmhhc0NsYXNzKCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC13cmFwcGVyJyk7XG4gICAgICAgICAgdGhpcy4kZWwuYmVmb3JlKCQodGhpcy53cmFwcGVyKSk7XG4gICAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0aW5nIGNvbnRlbnRcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRFbCkge1xuICAgICAgICAgIHRoaXMuY29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdGhpcy5jb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1jb250ZW50Jyk7XG4gICAgICAgICAgdGhpcy4kZWwuYXBwZW5kKHRoaXMuY29udGVudEVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0aW5nIGZvcmVncm91bmQgd2F2ZVxuICAgICAgICBpZiAoIXRoaXMud2F2ZUVsKSB7XG4gICAgICAgICAgdGhpcy53YXZlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICB0aGlzLndhdmVFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdhdmUnKTtcblxuICAgICAgICAgIC8vIENyZWF0aW5nIG9yaWdpblxuICAgICAgICAgIGlmICghdGhpcy5vcmlnaW5FbCkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5FbCA9IHRoaXMuJG9yaWdpbi5jbG9uZSh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luRWwuYWRkQ2xhc3MoJ3RhcC10YXJnZXQtb3JpZ2luJyk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbkVsID0gdGhpcy5vcmlnaW5FbFswXTtcbiAgICAgICAgICAgIHRoaXMud2F2ZUVsLmFwcGVuZCh0aGlzLm9yaWdpbkVsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMud2F2ZUVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGN1bGF0ZSBwb3NpdGlvbmluZ1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NhbGN1bGF0ZVBvc2l0aW9uaW5nXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCkge1xuICAgICAgICAvLyBFbGVtZW50IG9yIHBhcmVudCBpcyBmaXhlZCBwb3NpdGlvbj9cbiAgICAgICAgdmFyIGlzRml4ZWQgPSB0aGlzLiRvcmlnaW4uY3NzKCdwb3NpdGlvbicpID09PSAnZml4ZWQnO1xuICAgICAgICBpZiAoIWlzRml4ZWQpIHtcbiAgICAgICAgICB2YXIgcGFyZW50cyA9IHRoaXMuJG9yaWdpbi5wYXJlbnRzKCk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpc0ZpeGVkID0gJChwYXJlbnRzW2ldKS5jc3MoJ3Bvc2l0aW9uJykgPT0gJ2ZpeGVkJztcbiAgICAgICAgICAgIGlmIChpc0ZpeGVkKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0aW5nIG9yaWdpblxuICAgICAgICB2YXIgb3JpZ2luV2lkdGggPSB0aGlzLiRvcmlnaW4ub3V0ZXJXaWR0aCgpO1xuICAgICAgICB2YXIgb3JpZ2luSGVpZ2h0ID0gdGhpcy4kb3JpZ2luLm91dGVySGVpZ2h0KCk7XG4gICAgICAgIHZhciBvcmlnaW5Ub3AgPSBpc0ZpeGVkID8gdGhpcy4kb3JpZ2luLm9mZnNldCgpLnRvcCAtIE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSA6IHRoaXMuJG9yaWdpbi5vZmZzZXQoKS50b3A7XG4gICAgICAgIHZhciBvcmlnaW5MZWZ0ID0gaXNGaXhlZCA/IHRoaXMuJG9yaWdpbi5vZmZzZXQoKS5sZWZ0IC0gTS5nZXREb2N1bWVudFNjcm9sbExlZnQoKSA6IHRoaXMuJG9yaWdpbi5vZmZzZXQoKS5sZWZ0O1xuXG4gICAgICAgIC8vIENhbGN1bGF0aW5nIHNjcmVlblxuICAgICAgICB2YXIgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdmFyIGNlbnRlclggPSB3aW5kb3dXaWR0aCAvIDI7XG4gICAgICAgIHZhciBjZW50ZXJZID0gd2luZG93SGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIGlzTGVmdCA9IG9yaWdpbkxlZnQgPD0gY2VudGVyWDtcbiAgICAgICAgdmFyIGlzUmlnaHQgPSBvcmlnaW5MZWZ0ID4gY2VudGVyWDtcbiAgICAgICAgdmFyIGlzVG9wID0gb3JpZ2luVG9wIDw9IGNlbnRlclk7XG4gICAgICAgIHZhciBpc0JvdHRvbSA9IG9yaWdpblRvcCA+IGNlbnRlclk7XG4gICAgICAgIHZhciBpc0NlbnRlclggPSBvcmlnaW5MZWZ0ID49IHdpbmRvd1dpZHRoICogMC4yNSAmJiBvcmlnaW5MZWZ0IDw9IHdpbmRvd1dpZHRoICogMC43NTtcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyB0YXAgdGFyZ2V0XG4gICAgICAgIHZhciB0YXBUYXJnZXRXaWR0aCA9IHRoaXMuJGVsLm91dGVyV2lkdGgoKTtcbiAgICAgICAgdmFyIHRhcFRhcmdldEhlaWdodCA9IHRoaXMuJGVsLm91dGVySGVpZ2h0KCk7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUb3AgPSBvcmlnaW5Ub3AgKyBvcmlnaW5IZWlnaHQgLyAyIC0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIHRhcFRhcmdldExlZnQgPSBvcmlnaW5MZWZ0ICsgb3JpZ2luV2lkdGggLyAyIC0gdGFwVGFyZ2V0V2lkdGggLyAyO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0UG9zaXRpb24gPSBpc0ZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSc7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgY29udGVudFxuICAgICAgICB2YXIgdGFwVGFyZ2V0VGV4dFdpZHRoID0gaXNDZW50ZXJYID8gdGFwVGFyZ2V0V2lkdGggOiB0YXBUYXJnZXRXaWR0aCAvIDIgKyBvcmlnaW5XaWR0aDtcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRIZWlnaHQgPSB0YXBUYXJnZXRIZWlnaHQgLyAyO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0VGV4dFRvcCA9IGlzVG9wID8gdGFwVGFyZ2V0SGVpZ2h0IC8gMiA6IDA7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUZXh0Qm90dG9tID0gMDtcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRMZWZ0ID0gaXNMZWZ0ICYmICFpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCAvIDIgLSBvcmlnaW5XaWR0aCA6IDA7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUZXh0UmlnaHQgPSAwO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0VGV4dFBhZGRpbmcgPSBvcmlnaW5XaWR0aDtcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRBbGlnbiA9IGlzQm90dG9tID8gJ2JvdHRvbScgOiAndG9wJztcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyB3YXZlXG4gICAgICAgIHZhciB0YXBUYXJnZXRXYXZlV2lkdGggPSBvcmlnaW5XaWR0aCA+IG9yaWdpbkhlaWdodCA/IG9yaWdpbldpZHRoICogMiA6IG9yaWdpbldpZHRoICogMjtcbiAgICAgICAgdmFyIHRhcFRhcmdldFdhdmVIZWlnaHQgPSB0YXBUYXJnZXRXYXZlV2lkdGg7XG4gICAgICAgIHZhciB0YXBUYXJnZXRXYXZlVG9wID0gdGFwVGFyZ2V0SGVpZ2h0IC8gMiAtIHRhcFRhcmdldFdhdmVIZWlnaHQgLyAyO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0V2F2ZUxlZnQgPSB0YXBUYXJnZXRXaWR0aCAvIDIgLSB0YXBUYXJnZXRXYXZlV2lkdGggLyAyO1xuXG4gICAgICAgIC8vIFNldHRpbmcgdGFwIHRhcmdldFxuICAgICAgICB2YXIgdGFwVGFyZ2V0V3JhcHBlckNzc09iaiA9IHt9O1xuICAgICAgICB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqLnRvcCA9IGlzVG9wID8gdGFwVGFyZ2V0VG9wICsgJ3B4JyA6ICcnO1xuICAgICAgICB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqLnJpZ2h0ID0gaXNSaWdodCA/IHdpbmRvd1dpZHRoIC0gdGFwVGFyZ2V0TGVmdCAtIHRhcFRhcmdldFdpZHRoICsgJ3B4JyA6ICcnO1xuICAgICAgICB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqLmJvdHRvbSA9IGlzQm90dG9tID8gd2luZG93SGVpZ2h0IC0gdGFwVGFyZ2V0VG9wIC0gdGFwVGFyZ2V0SGVpZ2h0ICsgJ3B4JyA6ICcnO1xuICAgICAgICB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqLmxlZnQgPSBpc0xlZnQgPyB0YXBUYXJnZXRMZWZ0ICsgJ3B4JyA6ICcnO1xuICAgICAgICB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqLnBvc2l0aW9uID0gdGFwVGFyZ2V0UG9zaXRpb247XG4gICAgICAgICQodGhpcy53cmFwcGVyKS5jc3ModGFwVGFyZ2V0V3JhcHBlckNzc09iaik7XG5cbiAgICAgICAgLy8gU2V0dGluZyBjb250ZW50XG4gICAgICAgICQodGhpcy5jb250ZW50RWwpLmNzcyh7XG4gICAgICAgICAgd2lkdGg6IHRhcFRhcmdldFRleHRXaWR0aCArICdweCcsXG4gICAgICAgICAgaGVpZ2h0OiB0YXBUYXJnZXRUZXh0SGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICB0b3A6IHRhcFRhcmdldFRleHRUb3AgKyAncHgnLFxuICAgICAgICAgIHJpZ2h0OiB0YXBUYXJnZXRUZXh0UmlnaHQgKyAncHgnLFxuICAgICAgICAgIGJvdHRvbTogdGFwVGFyZ2V0VGV4dEJvdHRvbSArICdweCcsXG4gICAgICAgICAgbGVmdDogdGFwVGFyZ2V0VGV4dExlZnQgKyAncHgnLFxuICAgICAgICAgIHBhZGRpbmc6IHRhcFRhcmdldFRleHRQYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiB0YXBUYXJnZXRUZXh0QWxpZ25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2V0dGluZyB3YXZlXG4gICAgICAgICQodGhpcy53YXZlRWwpLmNzcyh7XG4gICAgICAgICAgdG9wOiB0YXBUYXJnZXRXYXZlVG9wICsgJ3B4JyxcbiAgICAgICAgICBsZWZ0OiB0YXBUYXJnZXRXYXZlTGVmdCArICdweCcsXG4gICAgICAgICAgd2lkdGg6IHRhcFRhcmdldFdhdmVXaWR0aCArICdweCcsXG4gICAgICAgICAgaGVpZ2h0OiB0YXBUYXJnZXRXYXZlSGVpZ2h0ICsgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIFRhcFRhcmdldFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9uT3BlbiBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuLmNhbGwodGhpcywgdGhpcy4kb3JpZ2luWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xvc2UgVGFwIFRhcmdldFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9uQ2xvc2UgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlLmNhbGwodGhpcywgdGhpcy4kb3JpZ2luWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQpO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChUYXBUYXJnZXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYXBUYXJnZXQpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9UYXBUYXJnZXQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFwVGFyZ2V0O1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5UYXBUYXJnZXQgPSBUYXBUYXJnZXQ7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUYXBUYXJnZXQsICd0YXBUYXJnZXQnLCAnTV9UYXBUYXJnZXQnKTtcbiAgfVxufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGNsYXNzZXM6ICcnLFxuICAgIGRyb3Bkb3duT3B0aW9uczoge31cbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBGb3JtU2VsZWN0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQyMCkge1xuICAgIF9pbmhlcml0cyhGb3JtU2VsZWN0LCBfQ29tcG9uZW50MjApO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IEZvcm1TZWxlY3QgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGb3JtU2VsZWN0KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9ybVNlbGVjdCk7XG5cbiAgICAgIC8vIERvbid0IGluaXQgaWYgYnJvd3NlciBkZWZhdWx0IHZlcnNpb25cbiAgICAgIHZhciBfdGhpczY4ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZvcm1TZWxlY3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb3JtU2VsZWN0KSkuY2FsbCh0aGlzLCBGb3JtU2VsZWN0LCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBpZiAoX3RoaXM2OC4kZWwuaGFzQ2xhc3MoJ2Jyb3dzZXItZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpczY4KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXM2OC5lbC5NX0Zvcm1TZWxlY3QgPSBfdGhpczY4O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBzZWxlY3RcbiAgICAgICAqIEBtZW1iZXIgRm9ybVNlbGVjdCNvcHRpb25zXG4gICAgICAgKi9cbiAgICAgIF90aGlzNjgub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBGb3JtU2VsZWN0LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM2OC5pc011bHRpcGxlID0gX3RoaXM2OC4kZWwucHJvcCgnbXVsdGlwbGUnKTtcblxuICAgICAgLy8gU2V0dXBcbiAgICAgIF90aGlzNjguZWwudGFiSW5kZXggPSAtMTtcbiAgICAgIF90aGlzNjguX2tleXNTZWxlY3RlZCA9IHt9O1xuICAgICAgX3RoaXM2OC5fdmFsdWVEaWN0ID0ge307IC8vIE1hcHMga2V5IHRvIG9yaWdpbmFsIGFuZCBnZW5lcmF0ZWQgb3B0aW9uIGVsZW1lbnQuXG4gICAgICBfdGhpczY4Ll9zZXR1cERyb3Bkb3duKCk7XG5cbiAgICAgIF90aGlzNjguX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzNjg7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEZvcm1TZWxlY3QsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZURyb3Bkb3duKCk7XG4gICAgICAgIHRoaXMuZWwuTV9Gb3JtU2VsZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNjkgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kID0gdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVPcHRpb25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucykuZmluZCgnbGk6bm90KC5vcHRncm91cCknKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM2OS5faGFuZGxlT3B0aW9uQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kKTtcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM3MCA9IHRoaXM7XG5cbiAgICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucykuZmluZCgnbGk6bm90KC5vcHRncm91cCknKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM3MC5faGFuZGxlT3B0aW9uQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kKTtcbiAgICAgICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFNlbGVjdCBDaGFuZ2VcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVTZWxlY3RDaGFuZ2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2VsZWN0Q2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIE9wdGlvbiBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU9wdGlvbkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU9wdGlvbkNsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgb3B0aW9uID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKVswXTtcbiAgICAgICAgdmFyIGtleSA9IG9wdGlvbi5pZDtcbiAgICAgICAgaWYgKCEkKG9wdGlvbikuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgISQob3B0aW9uKS5oYXNDbGFzcygnb3B0Z3JvdXAnKSAmJiBrZXkubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIC8vIERlc2VsZWN0IHBsYWNlaG9sZGVyIG9wdGlvbiBpZiBzdGlsbCBzZWxlY3RlZC5cbiAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlck9wdGlvbiA9ICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmZpbmQoJ2xpLmRpc2FibGVkLnNlbGVjdGVkJyk7XG4gICAgICAgICAgICBpZiAocGxhY2Vob2xkZXJPcHRpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyT3B0aW9uLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlck9wdGlvbi5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICB0aGlzLl90b2dnbGVFbnRyeUZyb21BcnJheShwbGFjZWhvbGRlck9wdGlvblswXS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RlZCA9IHRoaXMuX3RvZ2dsZUVudHJ5RnJvbUFycmF5KGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAkKG9wdGlvbikudG9nZ2xlQ2xhc3MoJ3NlbGVjdGVkJywgc2VsZWN0ZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNldCBzZWxlY3RlZCBvbiBvcmlnaW5hbCBzZWxlY3Qgb3B0aW9uXG4gICAgICAgICAgLy8gT25seSB0cmlnZ2VyIGlmIHNlbGVjdGVkIHN0YXRlIGNoYW5nZWRcbiAgICAgICAgICB2YXIgcHJldlNlbGVjdGVkID0gJCh0aGlzLl92YWx1ZURpY3Rba2V5XS5lbCkucHJvcCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICBpZiAocHJldlNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICAgICAgJCh0aGlzLl92YWx1ZURpY3Rba2V5XS5lbCkucHJvcCgnc2VsZWN0ZWQnLCBzZWxlY3RlZCk7XG4gICAgICAgICAgICB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBJbnB1dCBDbGlja1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcbiAgICAgICAgICB0aGlzLl9zZXRTZWxlY3RlZFN0YXRlcygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cERyb3Bkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRHJvcGRvd24oKSB7XG4gICAgICAgIHZhciBfdGhpczcxID0gdGhpcztcblxuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgJCh0aGlzLndyYXBwZXIpLmFkZENsYXNzKCdzZWxlY3Qtd3JhcHBlciAnICsgdGhpcy5vcHRpb25zLmNsYXNzZXMpO1xuICAgICAgICB0aGlzLiRlbC5iZWZvcmUoJCh0aGlzLndyYXBwZXIpKTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuXG4gICAgICAgIGlmICh0aGlzLmVsLmRpc2FibGVkKSB7XG4gICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgZHJvcGRvd25cbiAgICAgICAgdGhpcy4kc2VsZWN0T3B0aW9ucyA9IHRoaXMuJGVsLmNoaWxkcmVuKCdvcHRpb24sIG9wdGdyb3VwJyk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQgPSBcInNlbGVjdC1vcHRpb25zLVwiICsgTS5ndWlkKCk7XG4gICAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmFkZENsYXNzKCdkcm9wZG93bi1jb250ZW50IHNlbGVjdC1kcm9wZG93biAnICsgKHRoaXMuaXNNdWx0aXBsZSA/ICdtdWx0aXBsZS1zZWxlY3QtZHJvcGRvd24nIDogJycpKTtcblxuICAgICAgICAvLyBDcmVhdGUgZHJvcGRvd24gc3RydWN0dXJlLlxuICAgICAgICBpZiAodGhpcy4kc2VsZWN0T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRzZWxlY3RPcHRpb25zLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoJChlbCkuaXMoJ29wdGlvbicpKSB7XG4gICAgICAgICAgICAgIC8vIERpcmVjdCBkZXNjZW5kYW50IG9wdGlvbi5cbiAgICAgICAgICAgICAgdmFyIG9wdGlvbkVsID0gdm9pZCAwO1xuICAgICAgICAgICAgICBpZiAoX3RoaXM3MS5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uRWwgPSBfdGhpczcxLl9hcHBlbmRPcHRpb25XaXRoSWNvbihfdGhpczcxLiRlbCwgZWwsICdtdWx0aXBsZScpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbkVsID0gX3RoaXM3MS5fYXBwZW5kT3B0aW9uV2l0aEljb24oX3RoaXM3MS4kZWwsIGVsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzNzEuX2FkZE9wdGlvblRvVmFsdWVEaWN0KGVsLCBvcHRpb25FbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQoZWwpLmlzKCdvcHRncm91cCcpKSB7XG4gICAgICAgICAgICAgIC8vIE9wdGdyb3VwLlxuICAgICAgICAgICAgICB2YXIgc2VsZWN0T3B0aW9ucyA9ICQoZWwpLmNoaWxkcmVuKCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgJChfdGhpczcxLmRyb3Bkb3duT3B0aW9ucykuYXBwZW5kKCQoJzxsaSBjbGFzcz1cIm9wdGdyb3VwXCI+PHNwYW4+JyArIGVsLmdldEF0dHJpYnV0ZSgnbGFiZWwnKSArICc8L3NwYW4+PC9saT4nKVswXSk7XG5cbiAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbCA9IF90aGlzNzEuX2FwcGVuZE9wdGlvbldpdGhJY29uKF90aGlzNzEuJGVsLCBlbCwgJ29wdGdyb3VwLW9wdGlvbicpO1xuICAgICAgICAgICAgICAgIF90aGlzNzEuX2FkZE9wdGlvblRvVmFsdWVEaWN0KGVsLCBvcHRpb25FbCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kZWwuYWZ0ZXIodGhpcy5kcm9wZG93bk9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEFkZCBpbnB1dCBkcm9wZG93blxuICAgICAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgJCh0aGlzLmlucHV0KS5hZGRDbGFzcygnc2VsZWN0LWRyb3Bkb3duIGRyb3Bkb3duLXRyaWdnZXInKTtcbiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnLCB0aGlzLmRyb3Bkb3duT3B0aW9ucy5pZCk7XG4gICAgICAgIGlmICh0aGlzLmVsLmRpc2FibGVkKSB7XG4gICAgICAgICAgJCh0aGlzLmlucHV0KS5wcm9wKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbC5iZWZvcmUodGhpcy5pbnB1dCk7XG4gICAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuXG4gICAgICAgIC8vIEFkZCBjYXJldFxuICAgICAgICB2YXIgZHJvcGRvd25JY29uID0gJCgnPHN2ZyBjbGFzcz1cImNhcmV0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcgMTBsNSA1IDUtNXpcIi8+PHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nKTtcbiAgICAgICAgdGhpcy4kZWwuYmVmb3JlKGRyb3Bkb3duSWNvblswXSk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBkcm9wZG93blxuICAgICAgICBpZiAoIXRoaXMuZWwuZGlzYWJsZWQpIHtcbiAgICAgICAgICB2YXIgZHJvcGRvd25PcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucy5kcm9wZG93bk9wdGlvbnMpO1xuXG4gICAgICAgICAgLy8gQWRkIGNhbGxiYWNrIGZvciBjZW50ZXJpbmcgc2VsZWN0ZWQgb3B0aW9uIHdoZW4gZHJvcGRvd24gY29udGVudCBpcyBzY3JvbGxhYmxlXG4gICAgICAgICAgZHJvcGRvd25PcHRpb25zLm9uT3BlbkVuZCA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gJChfdGhpczcxLmRyb3Bkb3duT3B0aW9ucykuZmluZCgnLnNlbGVjdGVkJykuZmlyc3QoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBGb2N1cyBzZWxlY3RlZCBvcHRpb24gaW4gZHJvcGRvd25cbiAgICAgICAgICAgICAgTS5rZXlEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX3RoaXM3MS5kcm9wZG93bi5mb2N1c2VkSW5kZXggPSBzZWxlY3RlZE9wdGlvbi5pbmRleCgpO1xuICAgICAgICAgICAgICBfdGhpczcxLmRyb3Bkb3duLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICAgICAgICAgIE0ua2V5RG93biA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vIEhhbmRsZSBzY3JvbGxpbmcgdG8gc2VsZWN0ZWQgb3B0aW9uXG4gICAgICAgICAgICAgIGlmIChfdGhpczcxLmRyb3Bkb3duLmlzU2Nyb2xsYWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSBzZWxlY3RlZE9wdGlvblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBfdGhpczcxLmRyb3Bkb3duT3B0aW9ucy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7IC8vIHNjcm9sbCB0byBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXQgLT0gX3RoaXM3MS5kcm9wZG93bk9wdGlvbnMuY2xpZW50SGVpZ2h0IC8gMjsgLy8gY2VudGVyIGluIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgX3RoaXM3MS5kcm9wZG93bk9wdGlvbnMuc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duT3B0aW9ucy5jbG9zZU9uQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5kcm9wZG93biA9IE0uRHJvcGRvd24uaW5pdCh0aGlzLmlucHV0LCBkcm9wZG93bk9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGluaXRpYWwgc2VsZWN0aW9uc1xuICAgICAgICB0aGlzLl9zZXRTZWxlY3RlZFN0YXRlcygpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBvcHRpb24gdG8gdmFsdWUgZGljdFxuICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCAgb3JpZ2luYWwgb3B0aW9uIGVsZW1lbnRcbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gb3B0aW9uRWwgIGdlbmVyYXRlZCBvcHRpb24gZWxlbWVudFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FkZE9wdGlvblRvVmFsdWVEaWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZE9wdGlvblRvVmFsdWVEaWN0KGVsLCBvcHRpb25FbCkge1xuICAgICAgICB2YXIgaW5kZXggPSBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZURpY3QpLmxlbmd0aDtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZHJvcGRvd25PcHRpb25zLmlkICsgaW5kZXg7XG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgb3B0aW9uRWwuaWQgPSBrZXk7XG5cbiAgICAgICAgb2JqLmVsID0gZWw7XG4gICAgICAgIG9iai5vcHRpb25FbCA9IG9wdGlvbkVsO1xuICAgICAgICB0aGlzLl92YWx1ZURpY3Rba2V5XSA9IG9iajtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICAgICAgJCh0aGlzLndyYXBwZXIpLmZpbmQoJy5jYXJldCcpLnJlbW92ZSgpO1xuICAgICAgICAkKHRoaXMuaW5wdXQpLnJlbW92ZSgpO1xuICAgICAgICAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5yZW1vdmUoKTtcbiAgICAgICAgJCh0aGlzLndyYXBwZXIpLmJlZm9yZSh0aGlzLiRlbCk7XG4gICAgICAgICQodGhpcy53cmFwcGVyKS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBkcm9wZG93blxuICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBzZWxlY3QgIHNlbGVjdCBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG9wdGlvbiAgb3B0aW9uIGVsZW1lbnQgZnJvbSBzZWxlY3RcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSAgb3B0aW9uIGVsZW1lbnQgYWRkZWRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hcHBlbmRPcHRpb25XaXRoSWNvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRPcHRpb25XaXRoSWNvbihzZWxlY3QsIG9wdGlvbiwgdHlwZSkge1xuICAgICAgICAvLyBBZGQgZGlzYWJsZWQgYXR0ciBpZiBkaXNhYmxlZFxuICAgICAgICB2YXIgZGlzYWJsZWRDbGFzcyA9IG9wdGlvbi5kaXNhYmxlZCA/ICdkaXNhYmxlZCAnIDogJyc7XG4gICAgICAgIHZhciBvcHRncm91cENsYXNzID0gdHlwZSA9PT0gJ29wdGdyb3VwLW9wdGlvbicgPyAnb3B0Z3JvdXAtb3B0aW9uICcgOiAnJztcbiAgICAgICAgdmFyIG11bHRpcGxlQ2hlY2tib3ggPSB0aGlzLmlzTXVsdGlwbGUgPyBcIjxsYWJlbD48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiXCIgKyBkaXNhYmxlZENsYXNzICsgXCJcXFwiLz48c3Bhbj5cIiArIG9wdGlvbi5pbm5lckhUTUwgKyBcIjwvc3Bhbj48L2xhYmVsPlwiIDogb3B0aW9uLmlubmVySFRNTDtcbiAgICAgICAgdmFyIGxpRWwgPSAkKCc8bGk+PC9saT4nKTtcbiAgICAgICAgdmFyIHNwYW5FbCA9ICQoJzxzcGFuPjwvc3Bhbj4nKTtcbiAgICAgICAgc3BhbkVsLmh0bWwobXVsdGlwbGVDaGVja2JveCk7XG4gICAgICAgIGxpRWwuYWRkQ2xhc3MoZGlzYWJsZWRDbGFzcyArIFwiIFwiICsgb3B0Z3JvdXBDbGFzcyk7XG4gICAgICAgIGxpRWwuYXBwZW5kKHNwYW5FbCk7XG5cbiAgICAgICAgLy8gYWRkIGljb25zXG4gICAgICAgIHZhciBpY29uVXJsID0gb3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1pY29uJyk7XG4gICAgICAgIGlmICghIWljb25VcmwpIHtcbiAgICAgICAgICB2YXIgaW1nRWwgPSAkKFwiPGltZyBhbHQ9XFxcIlxcXCIgc3JjPVxcXCJcIiArIGljb25VcmwgKyBcIlxcXCI+XCIpO1xuICAgICAgICAgIGxpRWwucHJlcGVuZChpbWdFbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgdHlwZS5cbiAgICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucykuYXBwZW5kKGxpRWxbMF0pO1xuICAgICAgICByZXR1cm4gbGlFbFswXTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUb2dnbGUgZW50cnkgZnJvbSBvcHRpb25cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgIE9wdGlvbiBrZXlcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICBpZiBlbnRyeSB3YXMgYWRkZWQgb3IgcmVtb3ZlZFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3RvZ2dsZUVudHJ5RnJvbUFycmF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3RvZ2dsZUVudHJ5RnJvbUFycmF5KGtleSkge1xuICAgICAgICB2YXIgbm90QWRkZWQgPSAhdGhpcy5fa2V5c1NlbGVjdGVkLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICAgIHZhciAkb3B0aW9uTGkgPSAkKHRoaXMuX3ZhbHVlRGljdFtrZXldLm9wdGlvbkVsKTtcblxuICAgICAgICBpZiAobm90QWRkZWQpIHtcbiAgICAgICAgICB0aGlzLl9rZXlzU2VsZWN0ZWRba2V5XSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2tleXNTZWxlY3RlZFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgJG9wdGlvbkxpLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcsIG5vdEFkZGVkKTtcblxuICAgICAgICAvLyBTZXQgY2hlY2tib3ggY2hlY2tlZCB2YWx1ZVxuICAgICAgICAkb3B0aW9uTGkuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcsIG5vdEFkZGVkKTtcblxuICAgICAgICAvLyB1c2Ugbm90QWRkZWQgaW5zdGVhZCBvZiB0cnVlICh0byBkZXRlY3QgaWYgdGhlIG9wdGlvbiBpcyBzZWxlY3RlZCBvciBub3QpXG4gICAgICAgICRvcHRpb25MaS5wcm9wKCdzZWxlY3RlZCcsIG5vdEFkZGVkKTtcblxuICAgICAgICByZXR1cm4gbm90QWRkZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IHRleHQgdmFsdWUgdG8gaW5wdXRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRWYWx1ZVRvSW5wdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0VmFsdWVUb0lucHV0KCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy4kZWwuZmluZCgnb3B0aW9uJyk7XG5cbiAgICAgICAgb3B0aW9ucy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIGlmICgkKGVsKS5wcm9wKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9ICQoZWwpLnRleHQoKTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGZpcnN0RGlzYWJsZWQgPSB0aGlzLiRlbC5maW5kKCdvcHRpb246ZGlzYWJsZWQnKS5lcSgwKTtcbiAgICAgICAgICBpZiAoZmlyc3REaXNhYmxlZC5sZW5ndGggJiYgZmlyc3REaXNhYmxlZFswXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGZpcnN0RGlzYWJsZWQudGV4dCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gdmFsdWVzLmpvaW4oJywgJyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IHNlbGVjdGVkIHN0YXRlIG9mIGRyb3Bkb3duIHRvIG1hdGNoIGFjdHVhbCBzZWxlY3QgZWxlbWVudFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFNlbGVjdGVkU3RhdGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNlbGVjdGVkU3RhdGVzKCkge1xuICAgICAgICB0aGlzLl9rZXlzU2VsZWN0ZWQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fdmFsdWVEaWN0KSB7XG4gICAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMuX3ZhbHVlRGljdFtrZXldO1xuICAgICAgICAgIHZhciBvcHRpb25Jc1NlbGVjdGVkID0gJChvcHRpb24uZWwpLnByb3AoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgJChvcHRpb24ub3B0aW9uRWwpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnLCBvcHRpb25Jc1NlbGVjdGVkKTtcbiAgICAgICAgICBpZiAob3B0aW9uSXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGVPcHRpb24oJCh0aGlzLmRyb3Bkb3duT3B0aW9ucyksICQob3B0aW9uLm9wdGlvbkVsKSk7XG4gICAgICAgICAgICB0aGlzLl9rZXlzU2VsZWN0ZWRba2V5XSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQob3B0aW9uLm9wdGlvbkVsKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBNYWtlIG9wdGlvbiBhcyBzZWxlY3RlZCBhbmQgc2Nyb2xsIHRvIHNlbGVjdGVkIHBvc2l0aW9uXG4gICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gY29sbGVjdGlvbiAgU2VsZWN0IG9wdGlvbnMgalF1ZXJ5IGVsZW1lbnRcbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbmV3T3B0aW9uICBlbGVtZW50IG9mIHRoZSBuZXcgb3B0aW9uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYWN0aXZhdGVPcHRpb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYWN0aXZhdGVPcHRpb24oY29sbGVjdGlvbiwgbmV3T3B0aW9uKSB7XG4gICAgICAgIGlmIChuZXdPcHRpb24pIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbi5maW5kKCdsaS5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3B0aW9uID0gJChuZXdPcHRpb24pO1xuICAgICAgICAgIG9wdGlvbi5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBTZWxlY3RlZCBWYWx1ZXNcbiAgICAgICAqIEByZXR1cm4ge0FycmF5fSAgQXJyYXkgb2Ygc2VsZWN0ZWQgdmFsdWVzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRTZWxlY3RlZFZhbHVlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdGVkVmFsdWVzKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX2tleXNTZWxlY3RlZCkge1xuICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2godGhpcy5fdmFsdWVEaWN0W2tleV0uZWwudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFZhbHVlcztcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoRm9ybVNlbGVjdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZvcm1TZWxlY3QpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Gb3JtU2VsZWN0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEZvcm1TZWxlY3Q7XG4gIH0oQ29tcG9uZW50KTtcblxuICBNLkZvcm1TZWxlY3QgPSBGb3JtU2VsZWN0O1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoRm9ybVNlbGVjdCwgJ2Zvcm1TZWxlY3QnLCAnTV9Gb3JtU2VsZWN0Jyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHt9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFJhbmdlID0gZnVuY3Rpb24gKF9Db21wb25lbnQyMSkge1xuICAgIF9pbmhlcml0cyhSYW5nZSwgX0NvbXBvbmVudDIxKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBSYW5nZSBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhbmdlKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFuZ2UpO1xuXG4gICAgICB2YXIgX3RoaXM3MiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSYW5nZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJhbmdlKSkuY2FsbCh0aGlzLCBSYW5nZSwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM3Mi5lbC5NX1JhbmdlID0gX3RoaXM3MjtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgcmFuZ2VcbiAgICAgICAqIEBtZW1iZXIgUmFuZ2Ujb3B0aW9uc1xuICAgICAgICovXG4gICAgICBfdGhpczcyLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgUmFuZ2UuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICBfdGhpczcyLl9tb3VzZWRvd24gPSBmYWxzZTtcblxuICAgICAgLy8gU2V0dXBcbiAgICAgIF90aGlzNzIuX3NldHVwVGh1bWIoKTtcblxuICAgICAgX3RoaXM3Mi5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXM3MjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmFuZ2UsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZVRodW1iKCk7XG4gICAgICAgIHRoaXMuZWwuTV9SYW5nZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJhbmdlQ2hhbmdlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCA9IHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2VCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydEJvdW5kKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2VCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydEJvdW5kKTtcblxuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcblxuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmFuZ2UgQ2hhbmdlXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlUmFuZ2VDaGFuZ2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUmFuZ2VDaGFuZ2UoKSB7XG4gICAgICAgICQodGhpcy52YWx1ZSkuaHRtbCh0aGlzLiRlbC52YWwoKSk7XG5cbiAgICAgICAgaWYgKCEkKHRoaXMudGh1bWIpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygnYWN0aXZlJykuY3NzKCdsZWZ0Jywgb2Zmc2V0TGVmdCArICdweCcpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBSYW5nZSBNb3VzZWRvd24gYW5kIFRvdWNoc3RhcnRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KGUpIHtcbiAgICAgICAgLy8gU2V0IGluZGljYXRvciB2YWx1ZVxuICAgICAgICAkKHRoaXMudmFsdWUpLmh0bWwodGhpcy4kZWwudmFsKCkpO1xuXG4gICAgICAgIHRoaXMuX21vdXNlZG93biA9IHRydWU7XG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICBpZiAoISQodGhpcy50aHVtYikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS50eXBlICE9PSAnaW5wdXQnKSB7XG4gICAgICAgICAgdmFyIG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgICAgICAkKHRoaXMudGh1bWIpLmFkZENsYXNzKCdhY3RpdmUnKS5jc3MoJ2xlZnQnLCBvZmZzZXRMZWZ0ICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmFuZ2UgSW5wdXQsIE1vdXNlbW92ZSBhbmQgVG91Y2htb3ZlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICAgICAgaWYgKCEkKHRoaXMudGh1bWIpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgICAgICAkKHRoaXMudGh1bWIpLmFkZENsYXNzKCdhY3RpdmUnKS5jc3MoJ2xlZnQnLCBvZmZzZXRMZWZ0ICsgJ3B4Jyk7XG4gICAgICAgICAgJCh0aGlzLnZhbHVlKS5odG1sKHRoaXMuJGVsLnZhbCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBSYW5nZSBNb3VzZXVwIGFuZCBUb3VjaGVuZFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kKCkge1xuICAgICAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBSYW5nZSBCbHVyLCBNb3VzZW91dCBhbmQgVG91Y2hsZWF2ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQodGhpcy4kZWwuY3NzKCdwYWRkaW5nLWxlZnQnKSk7XG4gICAgICAgICAgdmFyIG1hcmdpbkxlZnQgPSA3ICsgcGFkZGluZ0xlZnQgKyAncHgnO1xuXG4gICAgICAgICAgaWYgKCQodGhpcy50aHVtYikuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICBhbmltLnJlbW92ZSh0aGlzLnRodW1iKTtcbiAgICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRodW1iLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICB0b3A6IDEwLFxuICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IG1hcmdpbkxlZnQsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkKHRoaXMudGh1bWIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBUaHVtYlwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cFRodW1iKCkge1xuICAgICAgICB0aGlzLnRodW1iID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLnZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAkKHRoaXMudGh1bWIpLmFkZENsYXNzKCd0aHVtYicpO1xuICAgICAgICAkKHRoaXMudmFsdWUpLmFkZENsYXNzKCd2YWx1ZScpO1xuICAgICAgICAkKHRoaXMudGh1bWIpLmFwcGVuZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgdGhpcy4kZWwuYWZ0ZXIodGhpcy50aHVtYik7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlVGh1bWJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlVGh1bWIoKSB7XG4gICAgICAgICQodGhpcy50aHVtYikucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogbW9ycGggdGh1bWIgaW50byBidWJibGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zaG93UmFuZ2VCdWJibGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hvd1JhbmdlQnViYmxlKCkge1xuICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBwYXJzZUludCgkKHRoaXMudGh1bWIpLnBhcmVudCgpLmNzcygncGFkZGluZy1sZWZ0JykpO1xuICAgICAgICB2YXIgbWFyZ2luTGVmdCA9IC03ICsgcGFkZGluZ0xlZnQgKyAncHgnOyAvLyBUT0RPOiBmaXggbWFnaWMgbnVtYmVyP1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLnRodW1iKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy50aHVtYixcbiAgICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgICB0b3A6IC0zMCxcbiAgICAgICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50J1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxjdWxhdGUgdGhlIG9mZnNldCBvZiB0aGUgdGh1bWJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn0gIG9mZnNldCBpbiBwaXhlbHNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jYWxjUmFuZ2VPZmZzZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY1JhbmdlT2Zmc2V0KCkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLiRlbC53aWR0aCgpIC0gMTU7XG4gICAgICAgIHZhciBtYXggPSBwYXJzZUZsb2F0KHRoaXMuJGVsLmF0dHIoJ21heCcpKSB8fCAxMDA7IC8vIFJhbmdlIGRlZmF1bHQgbWF4XG4gICAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KHRoaXMuJGVsLmF0dHIoJ21pbicpKSB8fCAwOyAvLyBSYW5nZSBkZWZhdWx0IG1pblxuICAgICAgICB2YXIgcGVyY2VudCA9IChwYXJzZUZsb2F0KHRoaXMuJGVsLnZhbCgpKSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICAgICAgcmV0dXJuIHBlcmNlbnQgKiB3aWR0aDtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoUmFuZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSYW5nZSksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1JhbmdlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJhbmdlO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5SYW5nZSA9IFJhbmdlO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUmFuZ2UsICdyYW5nZScsICdNX1JhbmdlJyk7XG4gIH1cblxuICBSYW5nZS5pbml0KCQoJ2lucHV0W3R5cGU9cmFuZ2VdJykpO1xufSkoY2FzaCwgTS5hbmltZSk7XG4iLCJpbXBvcnQgQWdvcmFSVEMgZnJvbSAnYWdvcmEtcnRjLXNkaydcbmltcG9ydCB7VG9hc3QsIGFkZFZpZXcsIHJlbW92ZVZpZXd9IGZyb20gJy4vY29tbW9uJ1xuXG5jb25zb2xlLmxvZygnYWdvcmEgc2RrIHZlcnNpb246ICcgKyBBZ29yYVJUQy5WRVJTSU9OICsgJyBjb21wYXRpYmxlOiAnICsgQWdvcmFSVEMuY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMoKSlcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUlRDQ2xpZW50IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuX2NsaWVudCA9IG51bGxcbiAgICB0aGlzLl9qb2luZWQgPSBmYWxzZVxuICAgIHRoaXMuX3B1Ymxpc2hlZCA9IGZhbHNlXG4gICAgdGhpcy5fbG9jYWxTdHJlYW0gPSBudWxsXG4gICAgdGhpcy5fcmVtb3RlU3RyZWFtcyA9IFtdXG4gICAgdGhpcy5fcGFyYW1zID0ge31cblxuICAgIHRoaXMuX3Nob3dQcm9maWxlID0gZmFsc2VcbiAgfVxuXG4gIGhhbmRsZUV2ZW50cygpIHtcbiAgICB0aGlzLl9jbGllbnQub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG4gICAgLy8gT2NjdXJzIHdoZW4gdGhlIHBlZXIgdXNlciBsZWF2ZXMgdGhlIGNoYW5uZWw7IGZvciBleGFtcGxlLCB0aGUgcGVlciB1c2VyIGNhbGxzIENsaWVudC5sZWF2ZS5cbiAgICB0aGlzLl9jbGllbnQub24oJ3BlZXItbGVhdmUnLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGV2dC51aWRcbiAgICAgIGxldCBzdHJlYW1zID0gdGhpcy5fcmVtb3RlU3RyZWFtcy5maWx0ZXIoZSA9PiBpZCAhPT0gZS5nZXRJZCgpKVxuICAgICAgbGV0IHBlZXJTdHJlYW0gPSB0aGlzLl9yZW1vdGVTdHJlYW1zLmZpbmQoZSA9PiBpZCA9PT0gZS5nZXRJZCgpKVxuICAgICAgcGVlclN0cmVhbSAmJiBwZWVyU3RyZWFtLnN0b3AoKVxuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtcyA9IHN0cmVhbXNcbiAgICAgIGlmIChpZCAhPT0gdGhpcy5fcGFyYW1zLnVpZCkge1xuICAgICAgICByZW1vdmVWaWV3KGlkKVxuICAgICAgfVxuICAgICAgVG9hc3Qubm90aWNlKCdwZWVyIGxlYXZlJylcbiAgICAgIGNvbnNvbGUubG9nKCdwZWVyLWxlYXZlJywgaWQpXG4gICAgfSlcbiAgICAvLyBPY2N1cnMgd2hlbiB0aGUgbG9jYWwgc3RyZWFtIGlzIF9wdWJsaXNoZWQuXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdzdHJlYW0tcHVibGlzaGVkJywgKCkgPT4ge1xuICAgICAgVG9hc3Qubm90aWNlKCdzdHJlYW0gcHVibGlzaGVkIHN1Y2Nlc3MnKVxuICAgICAgY29uc29sZS5sb2coJ3N0cmVhbS1wdWJsaXNoZWQnKVxuICAgIH0pXG4gICAgLy8gT2NjdXJzIHdoZW4gdGhlIHJlbW90ZSBzdHJlYW0gaXMgYWRkZWQuXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdzdHJlYW0tYWRkZWQnLCAoZXZ0KSA9PiB7ICBcbiAgICAgIGNvbnN0IHJlbW90ZVN0cmVhbSA9IGV2dC5zdHJlYW1cbiAgICAgIGNvbnN0IGlkID0gcmVtb3RlU3RyZWFtLmdldElkKClcbiAgICAgIFRvYXN0LmluZm8oJ3N0cmVhbS1hZGRlZCB1aWQ6ICcgKyBpZClcbiAgICAgIGlmIChpZCAhPT0gdGhpcy5fcGFyYW1zLnVpZCkge1xuICAgICAgICAvLyB0aGlzLl9jbGllbnQuc3Vic2NyaWJlKHJlbW90ZVN0cmVhbSwgKGVycikgPT4ge1xuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdzdHJlYW0gc3Vic2NyaWJlIGZhaWxlZCcsIGVycilcbiAgICAgICAgLy8gfSlcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdzdHJlYW0tYWRkZWQgcmVtb3RlLXVpZDogJywgaWQpXG4gICAgfSlcbiAgICAvLyBPY2N1cnMgd2hlbiBhIHVzZXIgc3Vic2NyaWJlcyB0byBhIHJlbW90ZSBzdHJlYW0uXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdzdHJlYW0tc3Vic2NyaWJlZCcsIChldnQpID0+IHtcbiAgICAgIGNvbnN0IHJlbW90ZVN0cmVhbSA9IGV2dC5zdHJlYW1cbiAgICAgIGNvbnN0IGlkID0gcmVtb3RlU3RyZWFtLmdldElkKClcbiAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMucHVzaChyZW1vdGVTdHJlYW0pXG4gICAgICBhZGRWaWV3KGlkLCB0aGlzLl9zaG93UHJvZmlsZSlcbiAgICAgIHJlbW90ZVN0cmVhbS5wbGF5KCdyZW1vdGVfdmlkZW9fJyArIGlkLCB7Zml0OiAnY292ZXInfSlcbiAgICAgIFRvYXN0LmluZm8oJ3N0cmVhbS1zdWJzY3JpYmVkIHJlbW90ZS11aWQ6ICcgKyBpZClcbiAgICAgIGNvbnNvbGUubG9nKCdzdHJlYW0tc3Vic2NyaWJlZCByZW1vdGUtdWlkOiAnLCBpZClcbiAgICB9KVxuICAgIC8vIE9jY3VycyB3aGVuIHRoZSByZW1vdGUgc3RyZWFtIGlzIHJlbW92ZWQ7IGZvciBleGFtcGxlLCBhIHBlZXIgdXNlciBjYWxscyBDbGllbnQudW5wdWJsaXNoLlxuICAgIHRoaXMuX2NsaWVudC5vbignc3RyZWFtLXJlbW92ZWQnLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCByZW1vdGVTdHJlYW0gPSBldnQuc3RyZWFtXG4gICAgICBjb25zdCBpZCA9IHJlbW90ZVN0cmVhbS5nZXRJZCgpXG4gICAgICBUb2FzdC5pbmZvKCdzdHJlYW0tcmVtb3ZlZCB1aWQ6ICcgKyBpZClcbiAgICAgIHJlbW90ZVN0cmVhbS5zdG9wKClcbiAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMgPSB0aGlzLl9yZW1vdGVTdHJlYW1zLmZpbHRlcigoc3RyZWFtKSA9PiB7XG4gICAgICAgIHJldHVybiBzdHJlYW0uZ2V0SWQoKSAhPT0gaWRcbiAgICAgIH0pXG4gICAgICByZW1vdmVWaWV3KGlkKVxuICAgICAgY29uc29sZS5sb2coJ3N0cmVhbS1yZW1vdmVkIHJlbW90ZS11aWQ6ICcsIGlkKVxuICAgIH0pXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZScsICgpID0+IHtcbiAgICAgIC8vIEFmdGVyIHJlcXVlc3RpbmcgYSBuZXcgdG9rZW5cbiAgICAgIC8vIHRoaXMuX2NsaWVudC5yZW5ld1Rva2VuKHRva2VuKTtcbiAgICAgIFRvYXN0LmluZm8oJ29uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlJylcbiAgICAgIGNvbnNvbGUubG9nKCdvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZScpXG4gICAgfSlcbiAgICB0aGlzLl9jbGllbnQub24oJ29uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUnLCAoKSA9PiB7XG4gICAgICAvLyBBZnRlciByZXF1ZXN0aW5nIGEgbmV3IHRva2VuXG4gICAgICAvLyBjbGllbnQucmVuZXdUb2tlbih0b2tlbik7XG4gICAgICBUb2FzdC5pbmZvKCdvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlJylcbiAgICAgIGNvbnNvbGUubG9nKCdvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlJylcbiAgICB9KVxuICB9XG5cbiAgam9pbiAoZGF0YSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4geyAgICBcbiAgICAgIGlmICh0aGlzLl9qb2luZWQpIHtcbiAgICAgICAgVG9hc3QuZXJyb3IoJ1lvdXIgYWxyZWFkeSBqb2luZWQnKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICBcbiAgICAgIC8qKlxuICAgICAgICogQSBjbGFzcyBkZWZpbmluZyB0aGUgcHJvcGVydGllcyBvZiB0aGUgY29uZmlnIHBhcmFtZXRlciBpbiB0aGUgY3JlYXRlQ2xpZW50IG1ldGhvZC5cbiAgICAgICAqIE5vdGU6XG4gICAgICAgKiAgICBFbnN1cmUgdGhhdCB5b3UgZG8gbm90IGxlYXZlIG1vZGUgYW5kIGNvZGVjIGFzIGVtcHR5LlxuICAgICAgICogICAgRW5zdXJlIHRoYXQgeW91IHNldCB0aGVzZSBwcm9wZXJ0aWVzIGJlZm9yZSBjYWxsaW5nIENsaWVudC5qb2luLlxuICAgICAgICogIFlvdSBjb3VsZCBmaW5kIG1vcmUgZGV0YWlsIGhlcmUuIGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9WaWRlby9BUEklMjBSZWZlcmVuY2Uvd2ViL2ludGVyZmFjZXMvYWdvcmFydGMuY2xpZW50Y29uZmlnLmh0bWxcbiAgICAgICoqL1xuICAgICAgdGhpcy5fY2xpZW50ID0gQWdvcmFSVEMuY3JlYXRlQ2xpZW50KHttb2RlOiBkYXRhLm1vZGUsIGNvZGVjOiBkYXRhLmNvZGVjfSlcbiAgICBcbiAgICAgIHRoaXMuX3BhcmFtcyA9IGRhdGFcbiAgICBcbiAgICAgIC8vIGhhbmRsZSBBZ29yYVJUQyBjbGllbnQgZXZlbnRcbiAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKClcbiAgICBcbiAgICAgIC8vIGluaXQgY2xpZW50XG4gICAgICB0aGlzLl9jbGllbnQuaW5pdChkYXRhLmFwcElELCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0IHN1Y2Nlc3MnKVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogSm9pbnMgYW4gQWdvcmFSVEMgQ2hhbm5lbFxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBqb2lucyBhbiBBZ29yYVJUQyBjaGFubmVsLlxuICAgICAgICAgKiBQYXJhbWV0ZXJzXG4gICAgICAgICAqIHRva2VuT3JLZXk6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICogICAgTG93IHNlY3VyaXR5IHJlcXVpcmVtZW50czogUGFzcyBudWxsIGFzIHRoZSBwYXJhbWV0ZXIgdmFsdWUuXG4gICAgICAgICAqICAgIEhpZ2ggc2VjdXJpdHkgcmVxdWlyZW1lbnRzOiBQYXNzIHRoZSBzdHJpbmcgb2YgdGhlIFRva2VuIG9yIENoYW5uZWwgS2V5IGFzIHRoZSBwYXJhbWV0ZXIgdmFsdWUuIFNlZSBVc2UgU2VjdXJpdHkgS2V5cyBmb3IgZGV0YWlscy5cbiAgICAgICAgICogIGNoYW5uZWw6IHN0cmluZ1xuICAgICAgICAgKiAgICBBIHN0cmluZyB0aGF0IHByb3ZpZGVzIGEgdW5pcXVlIGNoYW5uZWwgbmFtZSBmb3IgdGhlIEFnb3JhIHNlc3Npb24uIFRoZSBsZW5ndGggbXVzdCBiZSB3aXRoaW4gNjQgYnl0ZXMuIFN1cHBvcnRlZCBjaGFyYWN0ZXIgc2NvcGVzOlxuICAgICAgICAgKiAgICAyNiBsb3dlcmNhc2UgRW5nbGlzaCBsZXR0ZXJzIGEtelxuICAgICAgICAgKiAgICAyNiB1cHBlcmNhc2UgRW5nbGlzaCBsZXR0ZXJzIEEtWlxuICAgICAgICAgKiAgICAxMCBudW1iZXJzIDAtOVxuICAgICAgICAgKiAgICBTcGFjZVxuICAgICAgICAgKiAgICBcIiFcIiwgXCIjXCIsIFwiJFwiLCBcIiVcIiwgXCImXCIsIFwiKFwiLCBcIilcIiwgXCIrXCIsIFwiLVwiLCBcIjpcIiwgXCI7XCIsIFwiPFwiLCBcIj1cIiwgXCIuXCIsIFwiPlwiLCBcIj9cIiwgXCJAXCIsIFwiW1wiLCBcIl1cIiwgXCJeXCIsIFwiX1wiLCBcIntcIiwgXCJ9XCIsIFwifFwiLCBcIn5cIiwgXCIsXCJcbiAgICAgICAgICogIHVpZDogbnVtYmVyIHwgbnVsbFxuICAgICAgICAgKiAgICBUaGUgdXNlciBJRCwgYW4gaW50ZWdlci4gRW5zdXJlIHRoaXMgSUQgaXMgdW5pcXVlLiBJZiB5b3Ugc2V0IHRoZSB1aWQgdG8gbnVsbCwgdGhlIHNlcnZlciBhc3NpZ25zIG9uZSBhbmQgcmV0dXJucyBpdCBpbiB0aGUgb25TdWNjZXNzIGNhbGxiYWNrLlxuICAgICAgICAgKiAgIE5vdGU6XG4gICAgICAgICAqICAgICAgQWxsIHVzZXJzIGluIHRoZSBzYW1lIGNoYW5uZWwgc2hvdWxkIGhhdmUgdGhlIHNhbWUgdHlwZSAobnVtYmVyKSBvZiB1aWQuXG4gICAgICAgICAqICAgICAgSWYgeW91IHVzZSBhIG51bWJlciBhcyB0aGUgdXNlciBJRCwgaXQgc2hvdWxkIGJlIGEgMzItYml0IHVuc2lnbmVkIGludGVnZXIgd2l0aCBhIHZhbHVlIHJhbmdpbmcgZnJvbSAwIHRvICgyMzItMSkuXG4gICAgICAgICoqL1xuICAgICAgICB0aGlzLl9jbGllbnQuam9pbihkYXRhLnRva2VuID8gZGF0YS50b2tlbiA6IG51bGwsIGRhdGEuY2hhbm5lbCwgZGF0YS51aWQgPyArZGF0YS51aWQgOiBudWxsLCAodWlkKSA9PiB7XG4gICAgICAgICAgdGhpcy5fcGFyYW1zLnVpZCA9IHVpZFxuICAgICAgICAgIFRvYXN0Lm5vdGljZSgnam9pbiBjaGFubmVsOiAnICsgZGF0YS5jaGFubmVsICsgJyBzdWNjZXNzLCB1aWQ6ICcgKyB1aWQpXG4gICAgICAgICAgY29uc29sZS5sb2coJ2pvaW4gY2hhbm5lbDogJyArIGRhdGEuY2hhbm5lbCArICcgc3VjY2VzcywgdWlkOiAnICsgdWlkKVxuICAgICAgICAgIHRoaXMuX2pvaW5lZCA9IHRydWVcbiAgICBcbiAgICAgICAgICAvLyBzdGFydCBzdHJlYW0gaW50ZXJ2YWwgc3RhdHNcbiAgICAgICAgICAvLyBpZiB5b3UgZG9uJ3QgbmVlZCBzaG93IHN0cmVhbSBwcm9maWxlIHlvdSBjYW4gY29tbWVudCB0aGlzXG4gICAgICAgICAgaWYgKCF0aGlzLl9pbnRlcnZhbCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVZpZGVvSW5mbygpXG4gICAgICAgICAgICB9LCAwKVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBjcmVhdGUgbG9jYWwgc3RyZWFtXG4gICAgICAgIC8vICAgdGhpcy5fbG9jYWxTdHJlYW0gPSBBZ29yYVJUQy5jcmVhdGVTdHJlYW0oe1xuICAgICAgICAvLyAgICAgc3RyZWFtSUQ6IHRoaXMuX3BhcmFtcy51aWQsXG4gICAgICAgIC8vICAgICBhdWRpbzogZmFsc2UsXG4gICAgICAgIC8vICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgLy8gICAgIHNjcmVlbjogZmFsc2UsXG4gICAgICAgIC8vICAgICBtaWNyb3Bob25lSWQ6IGRhdGEubWljcm9waG9uZUlkLFxuICAgICAgICAvLyAgICAgY2FtZXJhSWQ6IGRhdGEuY2FtZXJhSWRcbiAgICAgICAgLy8gICB9KVxuXG4gICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW0ub24oJ3BsYXllci1zdGF0dXMtY2hhbmdlJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BsYXllciBzdGF0dXMgY2hhbmdlJywgZXZ0KVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBpZiAoZGF0YS5jYW1lcmFSZXNvbHV0aW9uICYmIGRhdGEuY2FtZXJhUmVzb2x1dGlvbiAhPSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIC8vIHNldCBsb2NhbCB2aWRlbyByZXNvbHV0aW9uXG4gICAgICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbS5zZXRWaWRlb1Byb2ZpbGUoZGF0YS5jYW1lcmFSZXNvbHV0aW9uKVxuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAvLyBpbml0IGxvY2FsIHN0cmVhbVxuICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtLmluaXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luaXQgbG9jYWwgc3RyZWFtIHN1Y2Nlc3MnKVxuICAgICAgICAgICAgLy8gcGxheSBzdHJlYW0gd2l0aCBodG1sIGVsZW1lbnQgaWQgXCJsb2NhbF9zdHJlYW1cIlxuICAgICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW0ucGxheSgnbG9jYWxfc3RyZWFtJywge2ZpdDogJ2NvdmVyJ30pXG4gICAgXG4gICAgICAgICAgICAvLyBydW4gY2FsbGJhY2tcbiAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgIH0sIChlcnIpID0+ICB7XG4gICAgICAgICAgICBUb2FzdC5lcnJvcignc3RyZWFtIGluaXQgZmFpbGVkLCBwbGVhc2Ugb3BlbiBjb25zb2xlIHNlZSBtb3JlIGRldGFpbCcpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICB9KVxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBUb2FzdC5lcnJvcignY2xpZW50IGpvaW4gZmFpbGVkLCBwbGVhc2Ugb3BlbiBjb25zb2xlIHNlZSBtb3JlIGRldGFpbCcpXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgIH0pXG4gICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgIFRvYXN0LmVycm9yKCdjbGllbnQgaW5pdCBmYWlsZWQsIHBsZWFzZSBvcGVuIGNvbnNvbGUgc2VlIG1vcmUgZGV0YWlsJylcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwdWJsaXNoICgpIHtcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xuICAgICAgVG9hc3QuZXJyb3IoJ1BsZWFzZSBKb2luIEZpcnN0JylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5fcHVibGlzaGVkKSB7XG4gICAgICBUb2FzdC5lcnJvcignWW91ciBhbHJlYWR5IHB1Ymxpc2hlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLl9wdWJsaXNoZWRcbiAgXG4gICAgLy8gcHVibGlzaCBsb2NhbFN0cmVhbVxuICAgIHRoaXMuX2NsaWVudC5wdWJsaXNoKHRoaXMuX2xvY2FsU3RyZWFtLCAoZXJyKSA9PiB7XG4gICAgICB0aGlzLl9wdWJsaXNoZWQgPSBvbGRTdGF0ZVxuICAgICAgY29uc29sZS5sb2coJ3B1Ymxpc2ggZmFpbGVkJylcbiAgICAgIFRvYXN0LmVycm9yKCdwdWJsaXNoIGZhaWxlZCcpXG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9KVxuICAgIFRvYXN0LmluZm8oJ3B1Ymxpc2gnKVxuICAgIHRoaXMuX3B1Ymxpc2hlZCA9IHRydWVcbiAgfVxuXG4gIHVucHVibGlzaCAoKSB7XG4gICAgaWYgKCF0aGlzLl9jbGllbnQpIHtcbiAgICAgIFRvYXN0LmVycm9yKCdQbGVhc2UgSm9pbiBGaXJzdCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9wdWJsaXNoZWQpIHtcbiAgICAgIFRvYXN0LmVycm9yKCdZb3VyIGRpZG5cXCd0IHB1Ymxpc2gnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG9sZFN0YXRlID0gdGhpcy5fcHVibGlzaGVkXG4gICAgdGhpcy5fY2xpZW50LnVucHVibGlzaCh0aGlzLl9sb2NhbFN0cmVhbSwgKGVycikgPT4ge1xuICAgICAgdGhpcy5fcHVibGlzaGVkID0gb2xkU3RhdGVcbiAgICAgIGNvbnNvbGUubG9nKCd1bnB1Ymxpc2ggZmFpbGVkJylcbiAgICAgIFRvYXN0LmVycm9yKCd1bnB1Ymxpc2ggZmFpbGVkJylcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgIH0pXG4gICAgVG9hc3QuaW5mbygndW5wdWJsaXNoJylcbiAgICB0aGlzLl9wdWJsaXNoZWQgPSBmYWxzZVxuICB9XG5cbiAgbGVhdmUgKCkge1xuICAgIGlmICghdGhpcy5fY2xpZW50KSB7XG4gICAgICBUb2FzdC5lcnJvcignUGxlYXNlIEpvaW4gRmlyc3QhJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2pvaW5lZCkge1xuICAgICAgVG9hc3QuZXJyb3IoJ1lvdSBhcmUgbm90IGluIGNoYW5uZWwnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIGxlYXZlIGNoYW5uZWxcbiAgICB0aGlzLl9jbGllbnQubGVhdmUoKCkgPT4ge1xuICAgICAgLy8gY2xvc2Ugc3RyZWFtXG4gICAgICB0aGlzLl9sb2NhbFN0cmVhbS5jbG9zZSgpXG5cbiAgICAgICQoJyNsb2NhbF92aWRlb19pbmZvJykuYWRkQ2xhc3MoJ2hpZGUnKVxuICAgICAgLy8gc3RvcCBzdHJlYW1cbiAgICAgIHRoaXMuX2xvY2FsU3RyZWFtLnN0b3AoKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yZW1vdGVTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX3JlbW90ZVN0cmVhbXMuc2hpZnQoKVxuICAgICAgICBjb25zdCBpZCA9IHN0cmVhbS5nZXRJZCgpXG4gICAgICAgIHN0cmVhbS5zdG9wKClcbiAgICAgICAgcmVtb3ZlVmlldyhpZClcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvY2FsU3RyZWFtID0gbnVsbFxuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtcyA9IFtdXG4gICAgICB0aGlzLl9jbGllbnQgPSBudWxsXG4gICAgICBjb25zb2xlLmxvZygnY2xpZW50IGxlYXZlcyBjaGFubmVsIHN1Y2Nlc3MnKVxuICAgICAgdGhpcy5fcHVibGlzaGVkID0gZmFsc2VcbiAgICAgIHRoaXMuX2pvaW5lZCA9IGZhbHNlXG4gICAgICBUb2FzdC5ub3RpY2UoJ2xlYXZlIHN1Y2Nlc3MnKVxuICAgIH0sIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdjaGFubmVsIGxlYXZlIGZhaWxlZCcpXG4gICAgICBUb2FzdC5lcnJvcignbGVhdmUgc3VjY2VzcycpXG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9KVxuICB9XG5cbiAgX2dldExvc3RSYXRlIChsb3N0UGFja2V0cywgYXJyaXZlZFBhY2tldHMpIHtcbiAgICBsZXQgbG9zdCA9IGxvc3RQYWNrZXRzID8gK2xvc3RQYWNrZXRzIDogMFxuICAgIGxldCBhcnJpdmVkID0gYXJyaXZlZFBhY2tldHMgPyArYXJyaXZlZFBhY2tldHMgOiAwXG4gICAgaWYgKGFycml2ZWQgPT0gMCkgcmV0dXJuIDBcbiAgICBjb25zdCByZXN1bHQgPSAobG9zdCAvIChsb3N0ICsgYXJyaXZlZCkpLnRvRml4ZWQoMikgKiAxMDBcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBfdXBkYXRlVmlkZW9JbmZvICgpIHtcbiAgICB0aGlzLl9sb2NhbFN0cmVhbSAmJiB0aGlzLl9sb2NhbFN0cmVhbS5nZXRTdGF0cygoc3RhdHMpID0+IHtcbiAgICAgIGNvbnN0IGxvY2FsU3RyZWFtUHJvZmlsZSA9IFtcbiAgICAgICAgWydVaWQ6ICcsIHRoaXMuX2xvY2FsU3RyZWFtICYmIHRoaXMuX2xvY2FsU3RyZWFtLmdldElkKCldLmpvaW4oJycpLFxuICAgICAgICBbJ1NETiBhY2Nlc3MgZGVsYXk6ICcsIHN0YXRzLmFjY2Vzc0RlbGF5LCAnbXMnXS5qb2luKCcnKSxcbiAgICAgICAgWydWaWRlbyBzZW5kOiAnLCBzdGF0cy52aWRlb1NlbmRGcmFtZVJhdGUsICdmcHMgJywgc3RhdHMudmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoICsgJ3gnICsgc3RhdHMudmlkZW9TZW5kUmVzb2x1dGlvbkhlaWdodF0uam9pbignJyksXG4gICAgICBdLmpvaW4oJzxici8+JylcbiAgICAgICQoJyNsb2NhbF92aWRlb19pbmZvJylbMF0uaW5uZXJIVE1MID0gbG9jYWxTdHJlYW1Qcm9maWxlXG4gICAgfSlcblxuICAgIGlmICh0aGlzLl9yZW1vdGVTdHJlYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IHJlbW90ZVN0cmVhbSBvZiB0aGlzLl9yZW1vdGVTdHJlYW1zKSB7XG4gICAgICAgIHJlbW90ZVN0cmVhbS5nZXRTdGF0cygoc3RhdHMpID0+IHtcbiAgICAgICAgICBjb25zdCByZW1vdGVTdHJlYW1Qcm9maWxlID0gW1xuICAgICAgICAgICAgWydVaWQ6ICcsIHJlbW90ZVN0cmVhbS5nZXRJZCgpXS5qb2luKCcnKSxcbiAgICAgICAgICAgIFsnU0ROIGFjY2VzcyBkZWxheTogJywgc3RhdHMuYWNjZXNzRGVsYXksICdtcyddLmpvaW4oJycpLFxuICAgICAgICAgICAgWydFbmQgdG8gZW5kIGRlbGF5OiAnLCBzdGF0cy5lbmRUb0VuZERlbGF5LCAnbXMnXS5qb2luKCcnKSxcbiAgICAgICAgICAgIFsnVmlkZW8gcmVjdjogJywgc3RhdHMudmlkZW9SZWNlaXZlRnJhbWVSYXRlLCAnZnBzICcsIHN0YXRzLnZpZGVvUmVjZWl2ZVJlc29sdXRpb25XaWR0aCArICd4JyArIHN0YXRzLnZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHRdLmpvaW4oJycpLFxuICAgICAgICAgIF0uam9pbignPGJyLz4nKVxuICAgICAgICAgIGlmICgkKCcjcmVtb3RlX3ZpZGVvX2luZm9fJytyZW1vdGVTdHJlYW0uZ2V0SWQoKSlbMF0pIHtcbiAgICAgICAgICAgICQoJyNyZW1vdGVfdmlkZW9faW5mb18nK3JlbW90ZVN0cmVhbS5nZXRJZCgpKVswXS5pbm5lckhUTUwgPSByZW1vdGVTdHJlYW1Qcm9maWxlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldE5ldHdvcmtRdWFsaXR5QW5kU3RyZWFtU3RhdHMgKGVuYWJsZSkge1xuICAgIHRoaXMuX3Nob3dQcm9maWxlID0gZW5hYmxlXG4gICAgdGhpcy5fc2hvd1Byb2ZpbGUgPyAkKCcudmlkZW8tcHJvZmlsZScpLnJlbW92ZUNsYXNzKCdoaWRlJykgOiAkKCcudmlkZW8tcHJvZmlsZScpLmFkZENsYXNzKCdoaWRlJylcbiAgfVxufVxuXG4iLCJpbXBvcnQgUlRDQ2xpZW50IGZyb20gJy4vcnRjLWNsaWVudCdcbmltcG9ydCBBZ29yYVJUQyBmcm9tICdhZ29yYS1ydGMtc2RrJ1xuaW1wb3J0IHtyZXF1ZXN0UGVybWlzc2lvbiwgZ2V0RGV2aWNlcywgVG9hc3QsIHNlcmlhbGl6ZUZvcm1EYXRhLCB2YWxpZGF0b3IsIHJlc29sdXRpb25zfSBmcm9tICcuL2NvbW1vbidcbmltcG9ydCAnLi9hc3NldHMvc3R5bGUuY3NzJ1xuaW1wb3J0ICogYXMgTSBmcm9tICdtYXRlcmlhbGl6ZS1jc3MnXG4vLyBpbXBvcnQge3NldEZvcm1EYXRhLCBwYXJzZUZyb21TZWFyY2h9IGZyb20gJy4vc2VhcmNoUGFyYW0nO1xuXG4kKCgpID0+IHtcbiAgcmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24gKGhhc1Blcm1pc3Npb24pIHtcbiAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgIFRvYXN0LmVycm9yKCdubyBjYW1lcmEgb3IgbWljcm9waG9uZSBwZXJtaXNzaW9uIScpXG4gICAgfVxuICAgIGdldERldmljZXMoZnVuY3Rpb24gKGRldmljZXMpIHtcbiAgICAgIGRldmljZXMuYXVkaW9zLmZvckVhY2goZnVuY3Rpb24gKGF1ZGlvKSB7XG4gICAgICAgICQoJzxvcHRpb24vPicsIHtcbiAgICAgICAgICB2YWx1ZTogYXVkaW8udmFsdWUsXG4gICAgICAgICAgdGV4dDogYXVkaW8ubmFtZSxcbiAgICAgICAgfSkuYXBwZW5kVG8oJyNtaWNyb3Bob25lSWQnKVxuICAgICAgfSlcbiAgICAgIGRldmljZXMudmlkZW9zLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICQoJzxvcHRpb24vPicsIHtcbiAgICAgICAgICB2YWx1ZTogdmlkZW8udmFsdWUsXG4gICAgICAgICAgdGV4dDogdmlkZW8ubmFtZSxcbiAgICAgICAgfSkuYXBwZW5kVG8oJyNjYW1lcmFJZCcpXG4gICAgICB9KVxuICAgICAgcmVzb2x1dGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAkKCc8b3B0aW9uLz4nLCB7XG4gICAgICAgICAgdmFsdWU6IHJlc29sdXRpb24udmFsdWUsXG4gICAgICAgICAgdGV4dDogcmVzb2x1dGlvbi5uYW1lXG4gICAgICAgIH0pLmFwcGVuZFRvKCcjY2FtZXJhUmVzb2x1dGlvbicpXG4gICAgICB9KVxuICAgICAgTS5BdXRvSW5pdCgpXG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBmaWVsZHMgPSBbJ2FwcElEJywgJ2NoYW5uZWwnXVxuXG4gIGxldCBydGMgPSBuZXcgUlRDQ2xpZW50KClcblxuICAkKCcuYXV0b3BsYXktZmFsbGJhY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IGlkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdpZCcpLnNwbGl0KCd2aWRlb19hdXRvcGxheV8nKVsxXVxuICAgIGNvbnNvbGUubG9nKCdhdXRvcGxheSBmYWxsYmFjaycpXG4gICAgaWYgKGlkID09PSAnbG9jYWwnKSB7XG4gICAgICBydGMuX2xvY2FsU3RyZWFtLnJlc3VtZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBUb2FzdC5ub3RpY2UoJ2xvY2FsIHJlc3VtZScpXG4gICAgICAgICQoZS50YXJnZXQpLmFkZENsYXNzKCdoaWRlJylcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgVG9hc3QuZXJyb3IoJ3Jlc3VtZSBmYWlsZWQsIHBsZWFzZSBvcGVuIGNvbnNvbGUgc2VlIG1vcmUgZGV0YWlscycpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCByZW1vdGVTdHJlYW0gPSBydGMuX3JlbW90ZVN0cmVhbXMuZmluZCgoaXRlbSkgPT4gYCR7aXRlbS5nZXRJZCgpfWAgPT0gaWQpXG4gICAgaWYgKHJlbW90ZVN0cmVhbSkge1xuICAgICAgcmVtb3RlU3RyZWFtLnJlc3VtZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBUb2FzdC5ub3RpY2UoJ3JlbW90ZSByZXN1bWUnKVxuICAgICAgICAkKGUudGFyZ2V0KS5hZGRDbGFzcygnaGlkZScpXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIFRvYXN0LmVycm9yKCdyZXN1bWUgZmFpbGVkLCBwbGVhc2Ugb3BlbiBjb25zb2xlIHNlZSBtb3JlIGRldGFpbHMnKVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gICQoJyNzaG93X3Byb2ZpbGUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBydGMuc2V0TmV0d29ya1F1YWxpdHlBbmRTdHJlYW1TdGF0cyh0aGlzLmNoZWNrZWQpXG4gIH0pXG5cbiAgJCgnI2pvaW4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKCdqb2luJylcbiAgICBjb25zdCBwYXJhbXMgPSBzZXJpYWxpemVGb3JtRGF0YSgpXG5cdGNvbnNvbGUubG9nKHBhcmFtcyk7XG4gICAgaWYgKHZhbGlkYXRvcihwYXJhbXMsIGZpZWxkcykpIHtcbiAgICAgIHJ0Yy5fbG9jYWxTdHJlYW0gPSBBZ29yYVJUQy5jcmVhdGVTdHJlYW0oe1xuICAgICAgICBzdHJlYW1JRDogcGFyYW1zLnVpZCxcbiAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgc2NyZWVuOiBmYWxzZSxcbiAgICAgICAgY2FtZXJhSWQ6IHBhcmFtcy5jYW1lcmFJZFxuICAgICAgfSk7XG4gICAgICBydGMuam9pbihwYXJhbXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICBydGMucHVibGlzaCgpXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICAkKCcjam9pbkF1ZGlvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZygnam9pbkF1ZGlvJylcbiAgICBjb25zdCBwYXJhbXMgPSBzZXJpYWxpemVGb3JtRGF0YSgpXG4gICAgaWYgKHZhbGlkYXRvcihwYXJhbXMsIGZpZWxkcykpIHtcbiAgICAgIHJ0Yy5fbG9jYWxTdHJlYW0gPSBBZ29yYVJUQy5jcmVhdGVTdHJlYW0oe1xuXHRcdHN0cmVhbUlEOiBwYXJhbXMudWlkLFxuXHRcdGF1ZGlvOiB0cnVlLFxuXHRcdHZpZGVvOiB0cnVlLFxuXHRcdHNjcmVlbjogZmFsc2UsXG5cdFx0bWljcm9waG9uZUlkOiBwYXJhbXMubWljcm9waG9uZUlkLFxuXHRcdGNhbWVyYUlkOiBwYXJhbXMuY2FtZXJhSWRcbiAgICAgIH0pO1xuICAgICAgcnRjLmpvaW4ocGFyYW1zKS50aGVuKCgpID0+IHtcbiAgICAgICAgcnRjLnB1Ymxpc2goKVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgJCgnI3B1Ymxpc2gnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKCdzdGFydExpdmVTdHJlYW1pbmcnKVxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZUZvcm1EYXRhKClcbiAgICBpZiAodmFsaWRhdG9yKHBhcmFtcywgZmllbGRzKSkge1xuICAgICAgcnRjLnB1Ymxpc2goKVxuICAgIH1cbiAgfSlcblxuICAkKCcjdW5wdWJsaXNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZygnc3RvcExpdmVTdHJlYW1pbmcnKVxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZUZvcm1EYXRhKClcbiAgICBpZiAodmFsaWRhdG9yKHBhcmFtcywgZmllbGRzKSkge1xuICAgICAgcnRjLnVucHVibGlzaCgpXG4gICAgfVxuICB9KVxuXG4gICQoJyNsZWF2ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coJ2xlYXZlJylcbiAgICBjb25zdCBwYXJhbXMgPSBzZXJpYWxpemVGb3JtRGF0YSgpXG4gICAgaWYgKHZhbGlkYXRvcihwYXJhbXMsIGZpZWxkcykpIHtcbiAgICAgIHJ0Yy5sZWF2ZSgpXG4gICAgfVxuICB9KVxufSkiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9