/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return resolutions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Toast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return validator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return serializeFormData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return removeView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return requestPermission; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return getDevices; });
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(materialize_css__WEBPACK_IMPORTED_MODULE_1__);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


 // import { replaceSearchString, stringify } from './searchParam'

var resolutions = [{
  name: 'default',
  value: 'default'
}, {
  name: '480p',
  value: '480p'
}, {
  name: '720p',
  value: '720p'
}, {
  name: '1080p',
  value: '1080p'
}];

function Toastify(options) {
  materialize_css__WEBPACK_IMPORTED_MODULE_1__["toast"]({
    html: options.text,
    classes: options.classes
  });
}

var Toast = {
  info: function info(msg) {
    Toastify({
      text: msg,
      classes: 'info-toast'
    });
  },
  notice: function notice(msg) {
    Toastify({
      text: msg,
      classes: 'notice-toast'
    });
  },
  error: function error(msg) {
    Toastify({
      text: msg,
      classes: 'error-toast'
    });
  }
};
function validator(formData, fields) {
  var keys = Object.keys(formData);

  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {
    var key = _keys[_i];

    if (fields.indexOf(key) != -1) {
      if (!formData[key]) {
        Toast.error('Please Enter ' + key);
        return false;
      }
    }
  }

  return true;
}
function serializeFormData() {
  var formData = $('#form').serializeArray();
  var obj = {};

  var _iterator = _createForOfIteratorHelper(formData),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var item = _step.value;
      var key = item.name;
      var val = item.value;
      obj[key] = val;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  if (obj.uid != undefined && !Number.isNaN(+obj.uid)) {
    obj.uid = +obj.uid;
  }

  return obj;
}
function addView(id, show) {
  if (!$('#' + id)[0]) {
    $('<div/>', {
      id: 'remote_video_panel_' + id,
      "class": 'video-view'
    }).appendTo('#video');
    $('<div/>', {
      id: 'remote_video_' + id,
      "class": 'video-placeholder'
    }).appendTo('#remote_video_panel_' + id);
    $('<div/>', {
      id: 'remote_video_info_' + id,
      "class": 'video-profile ' + (show ? '' : 'hide')
    }).appendTo('#remote_video_panel_' + id);
    $('<div/>', {
      id: 'video_autoplay_' + id,
      "class": 'autoplay-fallback hide'
    }).appendTo('#remote_video_panel_' + id);
  }
}
function removeView(id) {
  if ($('#remote_video_panel_' + id)[0]) {
    $('#remote_video_panel_' + id).remove();
  }
}
function requestPermission(next) {
  var tempAudioVideoStream = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.createStream({
    audio: true,
    video: true
  });

  var callback = function callback(hasPermission) {
    tempAudioVideoStream.close();
    next(hasPermission);
  };

  tempAudioVideoStream.init(function () {
    callback(true);
  }, function () {
    callback(false);
  });
}
function getDevices(next) {
  agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.getDevices(function (items) {
    items.filter(function (item) {
      return ['audioinput', 'videoinput'].indexOf(item.kind) !== -1;
    }).map(function (item) {
      return {
        name: item.label,
        value: item.deviceId,
        kind: item.kind
      };
    });
    var videos = [];
    var audios = [];

    for (var i = 0; i < items.length; i++) {
      var item = items[i];

      if ('videoinput' == item.kind) {
        var name = item.label;
        var value = item.deviceId;

        if (!name) {
          name = 'camera-' + videos.length;
        }

        videos.push({
          name: name,
          value: value,
          kind: item.kind
        });
      }

      if ('audioinput' == item.kind) {
        var _name = item.label;
        var _value = item.deviceId;

        if (!_name) {
          _name = 'microphone-' + audios.length;
        }

        audios.push({
          name: _name,
          value: _value,
          kind: item.kind
        });
      }
    }

    next({
      videos: videos,
      audios: audios
    });
  });
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

/*! AgoraRTC|BUILD v3.6.9-0-g3107120 */
!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}([function(e,t,n){"use strict";n.r(t);var r,i=n(11),o=n.n(i),a=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},s=n(14),c=n(2),d=n(1),u=n(48),l=n.n(u),f=n(49),p=n.n(f),g=new Array(32).fill(void 0);function m(e){return g[e]}g.push(void 0,null,!0,!1);var h=g.length;function v(e){var t=m(e);return function(e){e<36||(g[e]=h,h=e)}(e),t}var E=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});E.decode();var S=null;function _(){return null!==S&&S.buffer===r.memory.buffer||(S=new Uint8Array(r.memory.buffer)),S}function y(e,t){return E.decode(_().subarray(e,e+t))}function R(e){h===g.length&&g.push(g.length+1);var t=h;return h=g[t],g[t]=e,t}var T=0,I=new TextEncoder("utf-8"),b="function"==typeof I.encodeInto?function(e,t){return I.encodeInto(e,t)}:function(e,t){var n=I.encode(e);return t.set(n),{read:e.length,written:n.length}};var A=null;function O(){return null!==A&&A.buffer===r.memory.buffer||(A=new Int32Array(r.memory.buffer)),A}var C=function(){function e(){l()(this,e)}return p()(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,r.__wbg_signmanager_free(e)}},{key:"get_digest",value:function(e){return v(r.signmanager_get_digest(this.ptr,R(e)))}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}},{key:"new",value:function(){var t=r.signmanager_new();return e.__wrap(t)}}]),e}(),N=!1,w=null;var L,D=0,k="free",M=[],P=[],x=0;(w?Promise.resolve(w):new Promise((function(e){N||r||function e(){var t={wbg:{}};t.wbg.__wbindgen_object_drop_ref=function(e){v(e)},t.wbg.__wbindgen_string_new=function(e,t){return R(y(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var n=m(t),i="string"==typeof n?n:void 0,o=null==i?0:function(e,t,n){if(void 0===n){var r=I.encode(e),i=t(r.length);return _().subarray(i,i+r.length).set(r),T=r.length,i}for(var o=e.length,a=(i=t(o),_()),s=0;s<o;s++){var c=e.charCodeAt(s);if(c>127)break;a[i+s]=c}if(s!==o){0!==s&&(e=e.slice(s)),i=n(i,o,o=s+3*e.length);var d=_().subarray(i+s,i+o);s+=b(e,d).written}return T=s,i}(i,r.__wbindgen_malloc,r.__wbindgen_realloc),a=T;O()[e/4+1]=a,O()[e/4+0]=o},t.wbg.__wbindgen_throw=function(e,t){throw new Error(y(e,t))};for(var n=Uint8Array.from(atob("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"),(function(e){return e.charCodeAt(0)})),i=new Uint8Array([177,156,215,89,13,111,230,1]),o=new Uint8Array(n.length),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;var c,d=0;for(s=0;s<256;s++){d=(d+a[s]+i[s%i.length])%256;var u=[a[d],a[s]];a[s]=u[0],a[d]=u[1]}s=0,d=0;for(var l=0;l<0+n.length;l++){d=(d+a[s=(s+1)%256])%256;var f=[a[d],a[s]];a[s]=f[0],a[d]=f[1],c=a[(a[s]+a[d])%256],l>=0&&(o[l-0]=n[l-0]^c)}return N=!0,new Promise((function(n){(function(e,t){return WebAssembly.instantiate(e,t)})(o.buffer,t).then((function(t){N=!1,r=t.instance.exports,e.__wbindgen_wasm_module=t.module,n()}))}))}().then((function(){w=C.new(),e(w)}))}))).then((function(e){L=e}));var U=!0;setInterval((function(){Object(c.getParameter)("UPLOAD_LOG")&&j.info("console log upload")}),9e5);var j=function(){var e,t,n,r,i,u,l=null,f=["DEBUG","INFO","WARNING","ERROR","NONE"],p=0,g=function(e,t,n){var r={};Array.isArray(e)||(e=[e]),e=e.map((function(e){return{log_item_id:D++,log_level:e.log_level,payload_str:e.payload}})),r={timestamp:Date.now(),sdk_version:c.VERSION,process_id:Object(d.getProcessId)(),payload:JSON.stringify(e)},L?r.hash=L.get_digest("".concat(r.payload).concat(r.process_id).concat(r.timestamp)):n&&n();try{var i=l,o=l||"https://".concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2");Object(s.post)(o,r,(function(e){"OK"===e?t&&t(e):n&&n(e)}),(function(e){n&&n(e)}),i?{withCredentials:!0}:{withCredentials:!0,"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}catch(e){n&&n(e)}},m=function(e,t){if(Object(c.getParameter)("UPLOAD_LOG"))try{t=Array.prototype.slice.call(t);var n="";if(t.forEach((function(e){"object"===o()(e)&&(e=JSON.stringify(e)),n=n+e+" "})),M.push({payload:n,log_level:e}),U)return;"free"===k&&function e(t){k="uploading",setTimeout((function(){g(t,(function(){x=0,0!==M.length?(P=M.length<10?M.splice(0,M.length):M.splice(0,10),e(P)):k="free"}),(function(){setTimeout((function(){e(P)}),x++<2?200:1e4)}))}),3e3)}(P=M.length<10?M.splice(0,M.length):M.splice(0,10))}catch(e){}};t=function(){for(var t=[0],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},n=function(){for(var t=[1],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},r=function(){for(var t=[2],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},i=function(){for(var t=[3],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)};var h={};return u=function(e){h[e]||(r.apply(void 0,arguments),h[e]=!0)},{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4,stopWaitJoin:function(){U=!1},enableLogUpload:function(){Object(c.setParameter)("UPLOAD_LOG",!0)},disableLogUpload:function(){Object(c.setParameter)("UPLOAD_LOG",!1)},setProxyServer:function(e){l=e?"https://".concat(e,"/ls/?h=").concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v2"):"https://".concat(Object(c.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2")},setLogLevel:function(e){e>4?e=4:e<0&&(e=0),p=e},log:e=function(){var e=arguments[0],t=arguments;if(t[0]=a()+" Agora-SDK ["+(f[e]||"DEFAULT")+"]:",m(e,t),!(e<p))switch(e){case 0:case 1:console.log.apply(console,t);break;case 2:console.warn.apply(console,t);break;case 3:console.log.apply(console,t);break;default:return void console.log.apply(console,t)}},debug:t,info:n,warning:r,deprecate:u,error:i}}();t.default=j},function(e,t,n){"use strict";n.r(t),n.d(t,"report",(function(){return A})),n.d(t,"SESSION_INIT",(function(){return v})),n.d(t,"JOIN_CHOOSE_SERVER",(function(){return E})),n.d(t,"JOIN_GATEWAY",(function(){return S})),n.d(t,"PUBLISH",(function(){return _})),n.d(t,"SUBSCRIBE",(function(){return y})),n.d(t,"getProcessId",(function(){return b}));var r=n(46),i=n.n(r),o=n(7),a=n.n(o),s=n(2),c=n(0),d=n(14),u=n(28),l=n.n(u),f=n(47);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,h,v="session_init",E="join_choose_server",S="join_gateway",_="publish",y="subscribe",R=new(n.n(f).a),T={eventType:null,sid:null,lts:null,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},I=null,b=function(){return I||(I="process-"+l()(),c.default.info("processId: "+I)),I},A=(h=0,(m={list:{},setProxyServer:function(e){R.setProxy(e),m.proxyServerURL=e},getUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_DOMAIN"),":6443/events/message")},getBackUrl:function(){return m.proxyServerURL?"https://".concat(m.proxyServerURL,"/rs/?h=").concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(s.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),":6443/events/message")},getSessionStartTime:function(e){return m.list[e]?m.list[e].startTime:(c.default.DEBUG("[getSessionStartTime]: session ".concat(e," no exit")),0)},sessionInit:function(e,t){var n=a()({},T);n.startTime=+new Date,n.sid=e,n.cname=t.cname,m.list[e]=n;var r=a()({},{willUploadConsoleLog:Object(s.getParameter)("UPLOAD_LOG"),areaVersion:"global"},t.extend),i=a()({},n);i.eventType=v,i.appid=t.appid,i.browser=navigator.userAgent,i.build=s.BUILD,i.lts=+new Date,i.elapse=i.lts-i.startTime,i.extend=JSON.stringify(r),i.mode=t.mode,i.process=b(),i.success=t.succ,i.version=s.VERSION,delete i.startTime,m.send({type:"Session",data:i}),m._flushInvokeReport(e)},joinChooseServer2:function(e,t,n){if(m.list[e]){m.list[e].uid||(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=a()({},m.list[e]);r.eventType=E;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},joinChooseServer:function(e,t,n){if(m.list[e]){n&&(t.uid&&(m.list[e].uid=parseInt(t.uid)),t.cid&&(m.list[e].cid=parseInt(t.cid)),t.vid&&(m.list[e].vid=parseInt(t.vid)));var r=a()({},m.list[e]);r.eventType=E;var i=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-i,r.chooseServerAddr=t.csAddr,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.success=t.succ,r.chooseServerIp=t.chooseServerIp||"",r.chooseServerAddrList=JSON.stringify(t.serverList),delete r.startTime,m.send({type:"JoinChooseServer",data:r})}},reqUserAccount:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid));var n=a()({},m.list[e]),r=t.lts;n.eventType="req_user_account",n.lts=Date.now(),n.success=t.success,n.serverAddress=t.serverAddress,n.stringUid=t.stringUid,n.uid=t.uid,n.errorCode=t.errorCode,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,n.extend="string"==typeof t.extend?t.extend:JSON.stringify(t.extend),delete n.startTime,m.send({type:"ReqUserAccount",data:n})},joinGateway:function(e,t){t.vid&&(m.list[e].vid=parseInt(t.vid)),t.uid&&(m.list[e].uid=parseInt(t.uid));var n=a()({},m.list[e]),r=t.lts;n.eventType=S,n.firstSuccess=t.firstSuccess,n.lts=Date.now(),n.gatewayAddr=t.addr,n.success=t.succ,n.errorCode=t.ec,n.elapse=n.lts-n.startTime,n.eventElapse=n.lts-r,delete n.startTime,m.send({type:"JoinGateway",data:n})},publish:function(e,t){var n=a()({},m.list[e]);n.eventType=_;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.success=t.succ,n.errorCode=t.ec,n.audio=t.audio,n.video=t.video,n.screenshare=t.screenshare,n.publishRequestid=t.publishRequestid,n.p2pid=t.p2pid,t.videoName&&(n.videoName=t.videoName),t.audioName&&(n.audioName=t.audioName),t.screenName&&(n.screenName=t.screenName),delete n.startTime,m.send({type:"Publish",data:n}),m._flushInvokeReport(e)},subscribe:function(e,t){var n=a()({},m.list[e]);n.eventType=y;var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.errorCode=t.ec,n.success=t.succ,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,"boolean"==typeof t.video&&(n.video=t.video),"boolean"==typeof t.audio&&(n.audio=t.audio),delete n.startTime,m.send({type:"Subscribe",data:n}),m._flushInvokeReport(e)},firstRemoteFrame:function(e,t){var n=a()({},m.list[e]);n.eventType="first_remote_frame";var r=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.width=t.width,n.height=t.height,n.success=t.succ,n.errorCode=t.ec,isFinite(t.peerid)?n.peer=t.peerid:n.peerSuid=""+t.peerid,delete n.startTime,m.send({type:"FirstFrame",data:n})},firstVideoReceived:function(e,t){var n=a()({},m.list[e]);n.eventType="first_video_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoReceived",data:n})},firstAudioReceived:function(e,t){var n=a()({},m.list[e]);n.eventType="first_audio_received",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioReceived",data:n})},firstVideoDecode:function(e,t){var n=a()({},m.list[e]);n.eventType="first_video_decode",n.lts=Date.now(),n.peer=t.peerid,n.uid=t.uid,n.elapse=t.elapse,n.videowidth=t.width,n.videoheight=t.height,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstVideoDecode",data:n})},firstAudioDecode:function(e,t){var n=a()({},m.list[e]);n.eventType="first_audio_decode",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.elapse=t.elapse,n.subscribeElapse=t.subscribeElapse,n.subscribeRequestid=t.subscribeRequestid,n.p2pid=t.p2pid,m.send({type:"FirstAudioDecode",data:n})},onAddAudioStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_add_audio_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddAudioStream",data:n})},onAddVideoStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_add_video_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnAddVideoStream",data:n})},onUpdateStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_update_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,n.audio=t.audio,n.video=t.video,m.send({type:"OnUpdateStream",data:n})},onRemoveStream:function(e,t){var n=a()({},m.list[e]);n.eventType="on_remove_stream",n.lts=Date.now(),n.uid=t.uid,n.peer=t.peerid,m.send({type:"OnRemoveStream",data:n})},streamSwitch:function(e,t){var n=a()({},m.list[e]);n.eventType="stream_switch",n.lts=Date.now(),n.isDual=t.isdual,n.elapse=n.lts-n.startTime,n.success=n.succ,delete n.startTime,m.send({type:"StreamSwitch",data:n})},audioSendingStopped:function(e,t){var n=a()({},m.list[e]);n.eventType="audio_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reason=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"AudioSendingStopped",data:n})},videoSendingStopped:function(e,t){var n=a()({},m.list[e]);n.eventType="video_sending_stopped",n.lts=Date.now(),n.elapse=n.lts-n.startTime,n.reson=t.reason,n.success=t.succ,delete n.startTime,m.send({type:"VideoSendingStopped",data:n})},requestProxyAppCenter:function(e,t){var n=a()({},m.list[e]),r=t.lts;n.eventType="request_proxy_appcenter",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend+"",n.APAddr=t.APAddr,n.workerManagerList=t.workerManagerList,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyAppCenter",data:n})},requestProxyWorkerManager:function(e,t){var n=a()({},m.list[e]),r=t.lts;n.eventType="request_proxy_worker_manager",n.lts=Date.now(),n.eventElapse=n.lts-r,n.elapse=n.lts-n.startTime,n.extend=t.extend,n.workerManagerAddr=t.workerManagerAddr,n.response=t.response,n.errorCode=t.ec,n.success=t.succ,delete n.startTime,m.send({type:"RequestProxyWorkerManager",data:n})},requestWorkerEvent:function(e,t){var n=a()({},m.list[e]),r=n.startTime,i=Date.now();delete(n=g({},n,{},t,{elapse:i-r,lts:i,productType:"WebRTC"})).startTime,m.send({type:"WorkerEvent",data:n})},requestApWorkerEvent:function(e,t){var n=a()({},m.list[e]),r=n.startTime,i=Date.now();n=g({},n,{},t,{elapse:i-r,lts:i}),m.send({type:"APWorkerEvent",data:n})},sendCustomReportMessage:function(e,t,n){var r={type:"UserAnalytics",data:g({sid:e},t)},i=m.getUrl(),o=!!m.proxyServerURL;Object(d.post)(i,r,(function(e){n&&n()}),(function(e){var t=m.getBackUrl();Object(d.post)(t,r,(function(e){n&&n()}),(function(e){n&&n("Failed")}),o?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}),o?{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(s.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})},joinChannelTimeOut:function(e){m.send({type:"JoinChannelTimeout",data:g({},e)})},peerPublishStatus:function(e){m.send({type:"PeerPublishStatus",data:g({},e)})},joinWebProxyAP:function(e){m.send({type:"JoinWebProxyAP",data:g({},e)})},webSocketQuit:function(e){m.send({type:"WebSocketQuit",data:g({},e)})}}).reportApiInvoke=function(e,t){var n=t.tag,r=t.name,i=t.getStates,o=t.options,a=t.timeout,d=void 0===a?6e4:a,u=t.callback,l=t.reportResult,f=void 0===l||l,p=Date.now(),m=0,v=h++,E=function(){return g({tag:n,invokeId:v,sid:e,name:r,apiInvokeTime:p,options:o},i&&{states:(t=i(),Object.keys(t).reduce((function(e,n){var r=e;return null!=t[n]&&(r[n]=t[n]),r}),{}))});var t},S=!!Object(s.getParameter)("SHOW_REPORT_INVOKER_LOG");S&&c.default.info("".concat(r," start"));var _=setTimeout((function(){A._sendApiInvoke(g({},E(),{error:"API_INVOKE_TIMEOUT",success:!1}))}),d);return function(e,t){if(clearTimeout(_),++m>1&&(e="EXECUTOR_INVOKE_".concat(m)),e)return A._sendApiInvoke(g({},E(),{success:!1,error:e},i&&{states:i()})),S&&c.default.info("".concat(r," onFailure"),e),u&&u(e);A._sendApiInvoke(g({},E(),{success:!0},f&&{result:t},{},i&&{states:i()})),S&&c.default.info("".concat(r," onSuccess")),u&&u(null,t)}},m._cachedItems=[],m._cacheInvokeReport=function(e){e.lts||(e.lts=Date.now()),m._cachedItems.push(e),m._cachedItems.length>50&&m._cachedItems.shift()},m._flushInvokeReport=function(e){if(m._cachedItems.length){var t=m._cachedItems;m._cachedItems=[],c.default.debug("Flush cached event reporting:",t.length),t.forEach((function(t,n){t.sid=e,setTimeout((function(){m._sendApiInvoke(t)}),5e3+500*n)}))}},m._sendApiInvoke=function(e){var t=e.tag,n=e.invokeId,r=e.sid,i=e.name,o=e.result,a=e.states,c=e.options,d=e.error,u=e.success,l=e.apiInvokeTime,f=e.lts,p=Object(s.getParameter)("NOT_REPORT_EVENT");if(!(t&&p instanceof Array&&-1!==p.indexOf(t)))if(m.list[r]){var h=m.list[r],v=h.startTime,E=h.cname,S=h.uid,_=h.cid,y=(f=f||Date.now())-v,R=f-l,T="";if(c)try{T=JSON.stringify(c)}catch(e){T=c.toString()}var I=g({invokeId:n,sid:r,cname:E,cid:_,lts:f,uid:S,success:u,elapse:y,apiName:i,execElapse:R},void 0!==c&&{options:T},{},void 0!==a&&{execStates:JSON.stringify(a)},{},void 0!==d&&{errorCode:JSON.stringify(d)},{},void 0!==o&&{execResult:JSON.stringify(o)});m.send({type:"ApiInvoke",data:I})}else m._cacheInvokeReport(arguments[0])},m.sendCache=[],m.sendTimer=null,m.send=function(e){if(e.data){var t=e.data;m._lastLts&&m._lastLts>=t.lts&&(t.lts=m._lastLts+1),m._lastLts=t.lts}if(m.sendCache.push(e),null===m.sendTimer)return function e(){m.sendTimer=setTimeout((function(){if(0!==m.sendCache.length){var t=m.sendCache.length<10?m.sendCache.splice(0,m.sendCache.length):m.sendCache.splice(0,10),n=m.list[t[0].data.sid].vid;return R.sendReportList(t,n),e()}m.sendTimer=null}),Object(s.getParameter)("EVENT_REPORT_SEND_INTERVAL"))}()},m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD="v3.6.9-0-g3107120";t.VERSION="3.6.9";var r=0*Date.now()+11499+86604+5615+6547+846;t.SUPPORT_RESOLUTION_LIST={"90p_1":[160,90,null,null,null,null],"120p_1":[160,120,15,15,30,65],"120p_3":[120,120,15,15,30,50],"120p_4":[212,120,null,null,null,null],"180p_1":[320,180,15,15,30,140],"180p_3":[180,180,15,15,30,100],"180p_4":[240,180,15,15,30,120],"240p_1":[320,240,15,15,40,200],"240p_3":[240,240,15,15,40,140],"240p_4":[424,240,15,15,40,220],"360p_1":[640,360,15,15,80,400],"360p_3":[360,360,15,15,80,260],"360p_4":[640,360,30,30,80,600],"360p_6":[360,360,30,30,80,400],"360p_7":[480,360,15,15,80,320],"360p_8":[480,360,30,30,80,490],"360p_9":[640,360,15,15,80,800],"360p_10":[640,360,24,24,80,800],"360p_11":[640,360,24,24,80,1e3],"480p_1":[640,480,15,15,100,500,1,5],"480p_2":[640,480,30,30,100,1e3,25,30],"480p_3":[480,480,15,15,100,400],"480p_4":[640,480,30,30,100,750],"480p_6":[480,480,30,30,100,600],"480p_8":[848,480,15,15,100,610],"480p_9":[848,480,30,30,100,930],"480p_10":[640,480,10,10,100,400],"720p_1":[1280,720,15,15,120,1130,1,5],"720p_2":[1280,720,30,30,120,2e3,25,30],"720p_3":[1280,720,30,30,120,1710],"720p_5":[960,720,15,15,120,910],"720p_6":[960,720,30,30,120,1380],"1080p_1":[1920,1080,15,15,120,2080,1,5],"1080p_2":[1920,540,30,30,120,3e3,25,30],"1080p_3":[1920,1080,30,30,120,3150],"1080p_5":[1920,1080,60,60,120,4780],"1440p_1":[2560,1440,30,30,120,4850],"1440p_2":[2560,1440,60,60,120,7350],"4k_1":[3840,2160,30,30,120,8910],"4k_3":[3840,2160,60,60,120,13500]};t.AUDIO_PROFILE_SETTINGS={speech_low_quality:[!1,!1,!0,!0],speech_standard:[!1,!1,!0,!1],music_standard:[!1,!1,!1,!1],standard_stereo:[!1,!0,!1,!1],high_quality:[!0,!1,!1,!1],high_quality_stereo:[!0,!0,!1,!1],default:[!1,!1,!1,!1]};var i={AREA_SETTING:["NORTH_AMERICA","OVERSEA"],WEBCS_DOMAIN:["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],LOG_UPLOAD_SERVER:"logservice-oversea.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1-oversea.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"statscollector-2-oversea.agora.io",ENABLE_LIVE_SERVER_LIST:!1,LIVE_SERVER_LIST:[],ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,GATEWAY_DOMAINS:["edge.agora.io"],WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,LIVESTREAMING_ALIGN:!0,HTTP_CONNECT_TIMEOUT:5e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_TIMEOUT:1e7,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,REPORT_STATS:!0,REPORT_STATS_TIMEOUT:3e3,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],FILEPATH_LENMAX:255,SUBSCRIBE_TCC:!1,PING_PONG_TIME_OUT:10,DUALSTREAM_OPERATION_CHECK:!0,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:1e3,MEDIA_ELEMENT_EXISTS_DEPTH:3,CANDIDATE_TIMEOUT:2e3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,TICKET_RENEW_TIMEOUT:828e5,LIVE_STREAMING_TIMEOUT:12e4,SHOW_REPORT_INVOKER_LOG:!1,STATS_FILTER:{transportId:!0,googTrackId:!0},FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,FORCE_CHANGED_GATEWAY_FLAG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",CHROME_NEW_STATS:!1,AP_BACKOFF_MAX_TIME:8,SET_DEFAULT_TURNSERVER:!0,TURN_SERVER_PASSWORD:r.toString(),PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",NGINX:"webrtc-cloud-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CR:!0,CRL:10,CRI:6,CUSTOMER_REPORT_TIMEOUT:5e3,LIVE_STREAMING_ADDRESS:"",CHOOSE_SERVER_FRAGEMENT_LENGTH:4,PLAN:"plan-b"};i.AREA_SETTING=["CHINA","GLOBAL"],i.WEBCS_DOMAIN=["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],i.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],i.PROXY_CS=["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],i.CDS_AP=["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],i.ACCOUNT_REGISTER=["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],i.UAP_AP=["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],i.LOG_UPLOAD_SERVER="logservice.agora.io",i.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",i.EVENT_REPORT_BACKUP_DOMAIN="web-3.statscollector.sd-rtn.com",i.GATEWAY_DOMAINS=["edge.agora.io","edge.sd-rtn.com"],i.NGINX="webrtc-cloud-proxy.sd-rtn.com",i.PROXY_SERVER_TYPE3=["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"];t.setParameter=function(e,t){return void 0!==i[e]&&(i[e]=t,!0)};t.getParameter=function(e){return void 0!==i[e]?i[e]:null}},function(e,t,n){"use strict";n.r(t),n.d(t,"checkValidObject",(function(){return c})),n.d(t,"checkValidString",(function(){return d})),n.d(t,"checkValidNumber",(function(){return u})),n.d(t,"checkValidArray",(function(){return l})),n.d(t,"checkValidFloatNumber",(function(){return f})),n.d(t,"checkValidBoolean",(function(){return p})),n.d(t,"checkValidEnum",(function(){return s})),n.d(t,"checkValidUID",(function(){return g})),n.d(t,"isValidString",(function(){return m})),n.d(t,"isValidNumber",(function(){return h})),n.d(t,"isValidBoolean",(function(){return E})),n.d(t,"isASCII",(function(){return y})),n.d(t,"isInteger",(function(){return R})),n.d(t,"isNumber",(function(){return T})),n.d(t,"isString",(function(){return I})),n.d(t,"isArray",(function(){return b})),n.d(t,"isEmpty",(function(){return A})),n.d(t,"isValidToken",(function(){return S})),n.d(t,"isValidChannelName",(function(){return _}));var r=n(11),i=n.n(r),o=n(10),a=n(0),s=function(e,t,n){for(var r=0;r<n.length;r++)if(e===n[r])return!0;throw new Error("".concat(t," can only be set as ").concat(JSON.stringify(n)))},c=function(e,t){if(!e)throw new Error("Invalid param: ".concat(t||"param"," cannot be empty"));if("object"!==i()(e))throw new Error("".concat(t||"This paramter"," is of the object type"));return!0},d=function(e,t,n,r,i){if(A(n)&&(n=1),r=r||255,A(i)&&(i=!0),A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!m(e,n,r,i))throw new Error("Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))},u=function(e,t,n,r){if(A(n)&&(n=1),r=r||1e4,A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!h(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]. integer only"))},l=function(e,t){if(!Array.isArray(e))throw new Error("".concat(t," should be an array"))},f=function(e,t,n,r){if(null==e)throw new Error("".concat(t||"param"," cannot be null"));if(A(n)&&(n=0),r=r||1e4,A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!v(e,n,r))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(n,",").concat(r,"]."))},p=function(e,t){if(A(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!E(e))throw new Error("Invalid ".concat(t||"boolean param",": The value is of the boolean type."))},g=function(e){if(!Object(o.is32Uint)(e)&&!m(e,1,255))throw a.default.error("Invalid UID ".concat(e," ").concat(i()(e))),new Error("[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")},m=function(e,t,n,r){return t||(t=0),n||(n=Number.MAX_SAFE_INTEGER),A(r)&&(r=!0),I(e)&&(!r||y(e))&&e.length>=t&&e.length<=n},h=function(e,t,n){return R(e)&&e>=t&&e<=n},v=function(e,t,n){return T(e)&&e>=t&&e<=n},E=function(e){return"boolean"==typeof e},S=function(e){return m(e,1,2047)},_=function(e){return I(e)&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e)},y=function(e){if("string"==typeof e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}},R=function(e){return"number"==typeof e&&e%1==0},T=function(e){return"number"==typeof e},I=function(e){return"string"==typeof e},b=function(e){return e instanceof Array},A=function(e){return null==e}},function(e,t,n){"use strict";n.r(t),n.d(t,"APErrorCode",(function(){return r})),n.d(t,"GatewayErrorCode",(function(){return i})),n.d(t,"StringUidErrorCode",(function(){return o})),n.d(t,"JOIN_GS_TRYNEXT_LIST",(function(){return a})),n.d(t,"JOIN_CS_RETRY_LIST",(function(){return s})),n.d(t,"JOIN_PROXY_RETRY_LIST",(function(){return c})),n.d(t,"INJECT_STREAM_STATUS",(function(){return d})),n.d(t,"WEBSOCKET_CLOSE_REASON",(function(){return u}));var r={1010100:"NO_FLAG_SET",1010101:"FLAG_SET_BUT_EMPTY",1010102:"INVALID_FALG_SET",2010005:"INVALID_VENDOR_KEY",2010007:"INVALID_CHANNEL_NAME",2010008:"INTERNAL_ERROR",2010009:"NO_AUTHORIZED",2010010:"DYNAMIC_KEY_TIMEOUT",2010011:"NO_ACTIVE_STATUS",2010013:"DYNAMIC_KEY_EXPIRED",2010014:"STATIC_USE_DYANMIC_KEY",2010015:"DYNAMIC_USE_STATIC_KEY",2010016:"USER_OVERLOAD",2010018:"FORBIDDEN_REGION",2010019:"CANNOT_MEET_AREA_DEMAND"},i={2e3:"ERR_NO_VOCS_AVAILABLE",2001:"ERR_NO_VOS_AVAILABLE",2002:"ERR_JOIN_CHANNEL_TIMEOUT",2003:"WARN_REPEAT_JOIN",2004:"ERR_JOIN_BY_MULTI_IP",2011:"ERR_NOT_JOINED",2012:"WARN_REPEAT_JOIN",2013:"ERR_INVALID_VENDOR_KEY",2014:"ERR_INVALID_CHANNEL_NAME",2015:"ERR_INVALID_STRINGUID",2016:"ERR_TOO_MANY_USERS",2017:"ERR_SET_CLIENT_ROLE_TIMEOUT",2018:"ERR_SET_CLIENT_ROLE_NO_PERMISSION",2019:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",2020:"ERR_PUBLISH_REQUEST_INVALID",2021:"ERR_SUBSCRIBE_REQUEST_INVALID",2022:"ERR_NOT_SUPPORTED_MESSAGE",2023:"ERR_ILLEAGAL_PLUGIN",2028:"ILLEGAL_AES_PASSWORD",101:"ERR_INVALID_VENDOR_KEY",102:"ERR_INVALID_CHANNEL_NAME",103:"WARN_NO_AVAILABLE_CHANNEL",104:"WARN_LOOKUP_CHANNEL_TIMEOUT",105:"WARN_LOOKUP_CHANNEL_REJECTED",106:"WARN_OPEN_CHANNEL_TIMEOUT",107:"WARN_OPEN_CHANNEL_REJECTED",108:"WARN_REQUEST_DEFERRED",109:"ERR_DYNAMIC_KEY_TIMEOUT",110:"ERR_NO_AUTHORIZED",111:"ERR_VOM_SERVICE_UNAVAILABLE",112:"ERR_NO_CHANNEL_AVAILABLE_CODE",113:"ERR_TOO_MANY_USERS",114:"ERR_MASTER_VOCS_UNAVAILABLE",115:"ERR_INTERNAL_ERROR",116:"ERR_NO_ACTIVE_STATUS",117:"ERR_INVALID_UID",118:"ERR_DYNAMIC_KEY_EXPIRED",119:"ERR_STATIC_USE_DYANMIC_KE",120:"ERR_DYNAMIC_USE_STATIC_KE",2:"K_TIMESTAMP_EXPIRED",3:"K_CHANNEL_PERMISSION_INVALID",4:"K_CERTIFICATE_INVALID",5:"K_CHANNEL_NAME_EMPTY",6:"K_CHANNEL_NOT_FOUND",7:"K_TICKET_INVALID",8:"K_CHANNEL_CONFLICTED",9:"K_SERVICE_NOT_READY",10:"K_SERVICE_TOO_HEAVY",14:"K_UID_BANNED",15:"K_IP_BANNED",16:"K_CHANNEL_BANNED"},o={1:"ERROR_ILLEAGAL_APPID",2:"ERROR_ILLEAGAL_UID",3:"INTERNAL_SERVER_ERROR"},a=["ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_TIMEOUT","ERR_VOM_SERVICE_UNAVAILABLE","ERR_TOO_MANY_USERS","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR"],s=["NO_SERVICE_AVAILABLE"],c=["NO_SERVICE_AVAILABLE","REQUEST_PROXY_SERVER_FAILED","REQUEST_PROXY_SERVER_TIME_OUT"],d={INJECT_STREAM_STATUS_START_SUCCESS:0,INJECT_STREAM_STATUS_START_ALREADY_EXISTS:1,INJECT_STREAM_STATUS_START_UNAUTHORIZED:2,INJECT_STREAM_STATUS_START_TIMEDOUT:3,INJECT_STREAM_STATUS_START_FAILED:4,INJECT_STREAM_STATUS_STOP_SUCCESS:5,INJECT_STREAM_STATUS_STOP_NOT_FOUND:6,INJECT_STREAM_STATUS_STOP_UNAUTHORIZED:7,INJECT_STREAM_STATUS_STOP_TIMEDOUT:8,INJECT_STREAM_STATUS_STOP_FAILED:9,INJECT_STREAM_STATUS_BROKEN:10},u={WS_DISCONNECT:"WS_DISCONNECT"};t.default={FAILED:"FAILED",INVALID_KEY:"INVALID_KEY",INVALID_CLIENT_MODE:"INVALID_CLIENT_MODE",INVALID_CLIENT_CODEC:"INVALID_CLIENT_CODEC",CLIENT_MODE_CODEC_MISMATCH:"CLIENT_MODE_CODEC_MISMATCH",WEB_API_NOT_SUPPORTED:"WEB_API_NOT_SUPPORTED",INVALID_PARAMETER:"INVALID_PARAMETER",NO_TRACK_IN_STREAM:"NO_TRACK_IN_STREAM",INVALID_OPERATION:"INVALID_OPERATION",INVALID_LOCAL_STREAM:"INVALID_LOCAL_STREAM",INVALID_REMOTE_STREAM:"INVALID_REMOTE_STREAM",INVALID_DYNAMIC_KEY:"INVALID_DYNAMIC_KEY",DYNAMIC_KEY_TIMEOUT:"DYNAMIC_KEY_TIMEOUT",NO_VOCS_AVAILABLE:"NO_VOCS_AVAILABLE",NO_VOS_AVAILABLE:"ERR_NO_VOS_AVAILABLE",JOIN_CHANNEL_TIMEOUT:"ERR_JOIN_CHANNEL_TIMEOUT",NO_AVAILABLE_CHANNEL:"NO_AVAILABLE_CHANNEL",LOOKUP_CHANNEL_TIMEOUT:"LOOKUP_CHANNEL_TIMEOUT",LOOKUP_CHANNEL_REJECTED:"LOOKUP_CHANNEL_REJECTED",OPEN_CHANNEL_TIMEOUT:"OPEN_CHANNEL_TIMEOUT",OPEN_CHANNEL_REJECTED:"OPEN_CHANNEL_REJECTED",REQUEST_DEFERRED:"REQUEST_DEFERRED",STREAM_ALREADY_PUBLISHED:"STREAM_ALREADY_PUBLISHED",STREAM_NOT_YET_PUBLISHED:"STREAM_NOT_YET_PUBLISHED",JOIN_TOO_FREQUENT:"JOIN_TOO_FREQUENT",SOCKET_ERROR:"SOCKET_ERROR",SOCKET_DISCONNECTED:"SOCKET_DISCONNECTED",PEERCONNECTION_FAILED:"PEERCONNECTION_FAILED",CONNECT_GATEWAY_ERROR:"CONNECT_GATEWAY_ERROR",SERVICE_NOT_AVAILABLE:"SERVICE_NOT_AVAILABLE",JOIN_CHANNEL_FAILED:"JOIN_CHANNEL_FAILED",PUBLISH_STREAM_FAILED:"PUBLISH_STREAM_FAILED",UNPUBLISH_STREAM_FAILED:"UNPUBLISH_STREAM_FAILED",SUBSCRIBE_STREAM_FAILED:"SUBSCRIBE_STREAM_FAILED",UNSUBSCRIBE_STREAM_FAILED:"UNSUBSCRIBE_STREAM_FAILED",NO_SUCH_REMOTE_STREAM:"NO_SUCH_REMOTE_STREAM",ERR_FAILED:"1",ERR_INVALID_VENDOR_KEY:"101",ERR_INVALID_CHANNEL_NAME:"102",WARN_NO_AVAILABLE_CHANNEL:"103",WARN_LOOKUP_CHANNEL_TIMEOUT:"104",WARN_LOOKUP_CHANNEL_REJECTED:"105",WARN_OPEN_CHANNEL_TIMEOUT:"106",WARN_OPEN_CHANNEL_REJECTED:"107",WARN_REQUEST_DEFERRED:"108",ERR_DYNAMIC_KEY_TIMEOUT:"109",ERR_INVALID_DYNAMIC_KEY:"110",ERR_NO_VOCS_AVAILABLE:"2000",ERR_NO_VOS_AVAILABLE:"2001",ERR_JOIN_CHANNEL_TIMEOUT:"2002",IOS_NOT_SUPPORT:"IOS_NOT_SUPPORT",WECHAT_NOT_SUPPORT:"WECHAT_NOT_SUPPORT",SHARING_SCREEN_NOT_SUPPORT:"SHARING_SCREEN_NOT_SUPPORT",STILL_ON_PUBLISHING:"STILL_ON_PUBLISHING",LOW_STREAM_ALREADY_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",LOW_STREAM_NOT_YET_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",HIGH_STREAM_NOT_VIDEO_TRACE:"HIGH_STREAM_NOT_VIDEO_TRACE",NOT_FIND_DEVICE_BY_LABEL:"NOT_FIND_DEVICE_BY_LABEL",ENABLE_DUALSTREAM_FAILED:"ENABLE_DUALSTREAM_FAILED",DISABLE_DUALSTREAM_FAILED:"DISABLE_DUALSTREAM_FAILED",PLAYER_NOT_FOUND:"PLAYER_NOT_FOUND",ELECTRON_NOT_SUPPORT_SHARING_SCREEN:"ELECTRON_NOT_SUPPORT_SHARING_SCREEN",BAD_ENVIRONMENT:"BAD_ENVIRONMENT",LOAD_AUDIO_FAILED:"LOAD_AUDIO_FAILED"}},function(e,t,n){"use strict";n.r(t),n.d(t,"getBrowserInfo",(function(){return E})),n.d(t,"getBrowserVersion",(function(){return f})),n.d(t,"getBrowserOS",(function(){return p})),n.d(t,"isChrome",(function(){return r})),n.d(t,"isSafari",(function(){return i})),n.d(t,"isFireFox",(function(){return a})),n.d(t,"isOpera",(function(){return s})),n.d(t,"isEdge",(function(){return o})),n.d(t,"isQQBrowser",(function(){return c})),n.d(t,"isWeChatBrowser",(function(){return d})),n.d(t,"isLegacyChrome",(function(){return m})),n.d(t,"isSupportedPC",(function(){return u})),n.d(t,"isSupportedMobile",(function(){return l})),n.d(t,"getChromeKernelVersion",(function(){return v})),n.d(t,"isChromeKernel",(function(){return g}));var r=function(){var e=E();return e.name&&"Chrome"===e.name},i=function(){var e=E();return e.name&&"Safari"===e.name},o=function(){var e=E();return e.name&&"Edge"===e.name},a=function(){var e=E();return e.name&&"Firefox"===e.name},s=function(){var e=E();return e.name&&"OPR"===e.name},c=function(){var e=E();return e.name&&"QQBrowser"===e.name},d=function(){var e=E();return e.name&&"MicroMessenger"===e.name},u=function(){var e=p();return"Linux"===e||"Mac OS X"===e||"Mac OS"===e||-1!==e.indexOf("Windows")},l=function(){var e=p();return"Android"===e||"iOS"===e},f=function(){return E().version},p=function(){return E().os},g=function(){return!!navigator.userAgent.match(/chrome\/[\d]+/i)};function m(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}var h,v=function(){var e=navigator.userAgent.match(/chrome\/[\d]+/i);return e&&e[0]&&e[0].split("/")[1]},E=(h=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];"Chrome"===n[1]&&null!=(e=t.match(/(OPR(?=\/))\/?(\d+)/i))&&(n=e),"Safari"===n[1]&&null!=(e=t.match(/version\/(\d+)/i))&&(n[2]=e[1]),~t.toLowerCase().indexOf("qqbrowser")&&null!=(e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("micromessenger")&&null!=(e=t.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("edge")&&null!=(e=t.match(/(edge(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("trident")&&null!=(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&(n=[null,"IE",e[1]]);var r=void 0,i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in i){var a=i[o];if(a.r.test(navigator.userAgent)){r=a.s;break}}return{name:n[1],version:n[2],os:r}}(),function(){return h})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));n(0);var r=function(e,t,n){if(["End2EndDelay","TransportDelay","PacketLossRate","RecvLevel","RecvBitrate","CodecType","MuteState","TotalFreezeTime","TotalPlayDuration","RecordingLevel","SendLevel","SamplingRate","SendBitrate","CodecType","MuteState","End2EndDelay","TransportDelay","PacketLossRate","RecvBitrate","RecvResolutionWidth","RecvResolutionHeight","RenderResolutionHeight","RenderResolutionWidth","RenderFrameRate","TotalFreezeTime","TotalPlayDuration","TargetSendBitrate","SendFrameRate","SendFrameRate","SendBitrate","SendResolutionWidth","SendResolutionHeight","CaptureResolutionHeight","CaptureResolutionWidth","EncodeDelay","MuteState","TotalFreezeTime","TotalDuration","CaptureFrameRate","RTT","OutgoingAvailableBandwidth","Duration","UserCount","SendBytes","RecvBytes","SendBitrate","RecvBitrate","accessDelay","audioSendBytes","audioSendPackets","videoSendBytes","videoSendPackets","videoSendPacketsLost","videoSendFrameRate","audioSendPacketsLost","videoSendResolutionWidth","videoSendResolutionHeight","accessDelay","audioReceiveBytes","audioReceivePackets","audioReceivePacketsLost","videoReceiveBytes","videoReceivePackets","videoReceivePacketsLost","videoReceiveFrameRate","videoReceiveDecodeFrameRate","videoReceiveResolutionWidth","videoReceiveResolutionHeight","endToEndDelay","videoReceiveDelay","audioReceiveDelay","FirstFrameTime","VideoFreezeRate","AudioFreezeRate","RenderResolutionWidth","RenderResolutionHeight","VideoPublishDuration","AudioPublishDuration"].indexOf(t)>-1&&("string"==typeof n||isFinite(n)))return e[t]=""+n},i=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("send")&&-1===e.type.toLowerCase().indexOf("outbound")&&-1===e.id.indexOf("outbound_rtp")&&-1===e.id.indexOf("OutboundRTP")||("audio"===e.mediaType?(r(t,"audioSendBytes",e.bytesSent),r(t,"audioSendPackets",e.packetsSent),r(t,"audioSendPacketsLost",e.packetsLost)):(r(t,"videoSendBytes",e.bytesSent),r(t,"videoSendPackets",e.packetsSent),r(t,"videoSendPacketsLost",e.packetsLost),r(t,"videoSendFrameRate",e.googFrameRateSent),r(t,"videoSendResolutionWidth",e.googFrameWidthSent),r(t,"videoSendResolutionHeight",e.googFrameHeightSent))))})),t},o=function(e){var t={};return e.forEach((function(e){e.id&&e.type&&(-1===e.id.indexOf("recv")&&-1===e.type.toLowerCase().indexOf("inbound")&&-1===e.id.indexOf("inbound_rtp")&&-1===e.id.indexOf("inbound-rtp")&&-1===e.id.indexOf("InboundRTP")||("audio"===e.mediaType?(r(t,"audioReceiveBytes",e.bytesReceived),r(t,"audioReceivePackets",e.packetsReceived),r(t,"audioReceivePacketsLost",e.packetsLost)):(r(t,"videoReceiveBytes",e.bytesReceived),r(t,"videoReceivePacketsLost",e.packetsLost),r(t,"videoReceivePackets",e.packetsReceived),r(t,"videoReceiveFrameRate",e.googFrameRateReceived),r(t,"videoReceiveDecodeFrameRate",e.googFrameRateDecoded),r(t,"videoReceiveResolutionWidth",e.googFrameWidthReceived),r(t,"videoReceiveResolutionHeight",e.googFrameHeightReceived))))})),t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(0),i=function(){var e={dispatcher:{}};return e.dispatcher.eventListeners={},e.addEventListener=function(t,n){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(n)},e.hasListeners=function(t){return!(!e.dispatcher.eventListeners[t]||!e.dispatcher.eventListeners[t].length)},e.on=e.addEventListener,e.removeEventListener=function(t,n){var r;e.dispatcher.eventListeners[t]&&-1!==(r=e.dispatcher.eventListeners[t].indexOf(n))&&e.dispatcher.eventListeners[t].splice(r,1)},e.dispatchEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])if(e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n])try{e.dispatcher.eventListeners[t.type][n](t)}catch(n){r.default.debug("[".concat(e.clientId,"] Error in ").concat(t.type," event"),n)}},e.dispatchSocketEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n]&&e.dispatcher.eventListeners[t.type][n](t.msg)},e},o=function(e){var t={};return t.type=e.type,t},a=function(e){var t=o(e);return t.stream=e.stream,t.reason=e.reason,t.msg=e.msg,t},s=function(e){var t=o(e);return t.uid=e.uid,t.attr=e.attr,t.stream=e.stream,t},c=function(e){var t=o(e);return t.msg=e.msg,t},d=function(e){var t=o(e);return t.url=e.url,t.uid=e.uid,t.status=e.status,t.reason=e.reason,t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(69)),d=n(2),u=s(n(0)),l=n(3),f=n(14),p=n(10),g=function(e){function t(t,n){var r=e.call(this)||this;return r._state=S.RELAY_STATE_IDLE,r._onStatus=function(e){u.default.debug("["+r.clientId+"] ChannelMediaStatus: "+JSON.stringify(e)),e&&e.command&&("onAudioPacketReceived"===e.command&&r.emit("event",E.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&r.emit("event",E.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(r._state=S.RELAY_STATE_FAILURE,r.emit("state",S.RELAY_STATE_FAILURE,_.SRC_TOKEN_EXPIRED)),"onDestTokenPrivilegeDidExpire"===e.command&&(r._state=S.RELAY_STATE_FAILURE,r.emit("state",S.RELAY_STATE_FAILURE,_.DEST_TOKEN_EXPIRED,e.channelName?{came:e.channelName}:null)))},r._onClose=function(){return o(r,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(u.default.debug("["+this.clientId+"] ChannelMediaSocket onClose"),this.emit("event",E.NETWORK_DISCONNECTED),this.state=S.RELAY_STATE_IDLE,!this._prevChannelMediaConfig)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startChannelMediaRelay(this._prevChannelMediaConfig)];case 2:return t.sent(),[3,4];case 3:return(e=t.sent())instanceof R&&(e.message===h.WS_ABORT||e.message===h.AP_REQUEST_ABORT)?[2]:(this.emit("state",S.RELAY_STATE_FAILURE,_.SERVER_CONNECTION_LOST),[3,4]);case 4:return[2]}}))}))},r.token=t.appId,r.appId=t.appId,r.cname=t.cname,r.uid=t.uid,r.sid=t.sid,r.clientId=n,r}return i(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var t=this._state;this._state=e,t!==e&&this.emit("state",e)},enumerable:!0,configurable:!0}),t.prototype.startChannelMediaRelay=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(this.state!==S.RELAY_STATE_IDLE)throw new R(h.BAD_STATE);return this.state=S.RELAY_STATE_CONNECTING,[4,this._connect()];case 1:return t.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: connect success"),[4,this._sendStartRelayMessage(e)];case 2:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.updateChannelMediaRelay=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(this.state!==S.RELAY_STATE_RUNNING)throw new R(h.BAD_STATE);return[4,this._sendUpdateMessage(e)];case 1:return t.sent(),this._prevChannelMediaConfig=e,[2]}}))}))},t.prototype.stopChannelMediaRelay=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._sendStopRelayMessage()];case 1:return e.sent(),u.default.debug("["+this.clientId+"] stopChannelMediaRelay: send stop message success"),this.state=S.RELAY_STATE_IDLE,this.dispose(),[2]}}))}))},t.prototype.dispose=function(){u.default.debug("["+this.clientId+"] disposeChannelMediaRelay"),this.state=S.RELAY_STATE_IDLE,this.emit("dispose"),this._signal&&this._signal.dispose(),this._prevChannelMediaConfig=null,this.removeEvent()},t.prototype._requestOneAP=function(e){var t=this;return new Promise((function(n,r){var i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:"",ts:+new Date,version:d.VERSION,cname:t.cname,uid:t.uid+"",seq:1,requestId:1},o={service_name:"tele_channel",json_body:JSON.stringify(i)},a="https://"+e;f.post(a,o,(function(e){var t=null,i=null;try{t=JSON.parse(e)}catch(e){r(new R(h.AP_JSON_PARSE_ERROR,e))}0!==t.code&&r(new R(h.AP_REQUEST_ERROR,t));try{i=JSON.parse(t.json_body)}catch(e){r(new R(h.AP_JSON_PARSE_ERROR,e))}200!==i.code&&r(new R(h.AP_REQUEST_ERROR,i)),i.servers?n(i.servers):r(new R(h.AP_JSON_PARSE_ERROR,i))}),(function(e){return r(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})}))},t.prototype._requestAP=function(){var e=this,t=d.getParameter("UAP_AP");return new Promise((function(n,r){setTimeout((function(){r(new R(h.AP_REQUEST_TIMEOUT))}),5e3),e.on("dispose",(function(){r(new R(h.AP_REQUEST_ABORT))})),t.forEach((function(t){t+="/api/v1",e._requestOneAP(t).then((function(r){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" success: "+JSON.stringify(r));var i=r[0],o="wss://"+i.address.replace(/\./g,"-")+".edge.agora.io:"+i.wss;n(o)})).catch((function(n){u.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" failed: "+JSON.stringify(n))}))}))}))},t.prototype._connectWebsocket=function(e){return this._signal=new y(this.appId,this.cname,this.uid,this.sid),this._signal.connect(e)},t.prototype._connect=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._requestAP()];case 1:return e=t.sent(),[4,this._connectWebsocket(e)];case 2:return t.sent(),this._signal.on("close",this._onClose.bind(this)),this._signal.on("status",this._onStatus.bind(this)),this.emit("event",E.NETWORK_CONNECTED),[2]}}))}))},t.prototype._sendStartRelayMessage=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return this._checkSignal(),t=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(t)];case 1:return a.sent(),[4,this._signal.waitStatus("Normal Quit")];case 2:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: StopPacketTransfer success"),n=this._genMessage(v.SetSdkProfile,e),[4,this._signal.request(n)];case 3:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSdkProfile success"),r=this._genMessage(v.SetSourceChannel,e),[4,this._signal.request(r)];case 4:return a.sent(),[4,this._signal.waitStatus("SetSourceChannelStatus")];case 5:return a.sent(),this.emit("event",E.PACKET_JOINED_SRC_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceChannel success"),i=this._genMessage(v.SetSourceUserId,e),[4,this._signal.request(i)];case 6:return a.sent(),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceUserId success"),o=this._genMessage(v.SetDestChannel,e),[4,this._signal.request(o)];case 7:return a.sent(),[4,this._signal.waitStatus("SetDestChannelStatus")];case 8:return a.sent(),this.emit("event",E.PACKET_JOINED_DEST_CHANNEL),u.default.debug("["+this.clientId+"] startChannelMediaRelay: SetDestChannel success"),s=this._genMessage(v.StartPacketTransfer,e),[4,this._signal.request(s)];case 9:return a.sent(),this.emit("event",E.PACKET_SENT_TO_DEST_CHANNEL),this.state=S.RELAY_STATE_RUNNING,u.default.debug("["+this.clientId+"] startChannelMediaRelay: StartPacketTransfer success"),[2]}}))}))},t.prototype._sendReconnectMessage=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(v.Reconnect,e),[4,this._signal.request(t)];case 1:return n.sent(),[2]}}))}))},t.prototype._sendUpdateMessage=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this._checkSignal(),t=this._genMessage(v.UpdateDestChannel,e),[4,this._signal.request(t)];case 1:return n.sent(),this.emit("event",E.PACKET_UPDATE_DEST_CHANNEL),u.default.debug("["+this.clientId+"] sendUpdateMessage: UpdateDestChannel success"),[2]}}))}))},t.prototype._sendStopRelayMessage=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return this._checkSignal(),e=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(e)];case 1:return t.sent(),u.default.debug("["+this.clientId+"] sendStopRelayMessage: StopPacketTransfer success"),[2]}}))}))},t.prototype._genMessage=function(e,t){var n=this,r=[],i=[],o=[],a={appId:this.appId,cname:this.cname,uid:this.uid+"",sdkVersion:d.VERSION,sid:this.sid,ts:+new Date,requestId:0,seq:0,allocate:!0,clientRequest:{}},s=null;switch(e){case v.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case v.SetSourceChannel:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceChannel",uid:s.uid+"",channelName:s.channelName,token:s.token||this.appId},a;case v.SetSourceUserId:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceUserId",uid:this.uid+""},a;case v.SetDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.appId)})),a.clientRequest={command:"SetDestChannel",channelName:r,uid:i,token:o},a;case v.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case v.Reconnect:return a.clientRequest={command:"Reconnect"},a;case v.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case v.UpdateDestChannel:return t.getDestChannelMediaInfos().forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.appId)})),a.clientRequest={command:"UpdateDestChannel",channelName:r,uid:i,token:o},a}},t.prototype._checkSignal=function(){if(!this._signal||!this._signal.isConnect())throw new R(h.WS_DISCONNECTED)},t}(c.default);t.default=g;var m=function(){function e(){this.destChannelMediaInfos=new Map}return e.prototype.setSrcChannelInfo=function(e){l.checkValidObject(e,"srcInfo");var t=e.uid,n=e.channelName,r=e.token;if(r&&!l.isValidToken(r))throw new Error("Invalid token in SrcChannelInfo");if(!l.isValidChannelName(n))throw new Error("Invalid channelName in SrcChannelInfo");if(!p.is32Uint(t))throw new Error("Invalid uid in SrcChannelInfo");this.srcChannelMediaInfo=e},e.prototype.setDestChannelInfo=function(e,t){if(!l.isValidChannelName(e))throw new Error("Invalid channelName in DestChannelInfo");l.checkValidObject(t,"destInfo");var n=t.uid,r=t.token,i=t.channelName;if(r&&!l.isValidToken(r))throw new Error("Invalid token in DestChannelInfo");if(!l.isValidChannelName(i))throw new Error("Invalid channelName in DestChannelInfo");if(!p.is32Uint(n))throw new Error("Invalid uid in DestChannelInfo");this.destChannelMediaInfos.set(e,t)},e.prototype.removeDestChannelInfo=function(e){if(!l.isValidChannelName(e))throw new Error("Invalid channelName when invoke removeDestChannelInfo");this.destChannelMediaInfos.delete(e)},e.prototype.getSrcChannelMediaInfo=function(){return this.srcChannelMediaInfo},e.prototype.getDestChannelMediaInfos=function(){return this.destChannelMediaInfos},e}();t.ChannelMediaRelayConfiguration=m;var h,v,E,S,_,y=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o._onOpen=function(){o.emit("open")},o._onClose=function(e){o.emit("close"),o.dispose()},o._onMessage=function(e){var t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(o.emit("status",t.serverStatus),void o.emit(t.serverStatus.command,t.serverStatus)):void 0;o.emit("req_"+t.requestId,t)},o._requestId=1,o.appId=t,o.cname=n,o.uid=r,o.sid=i,o}return i(t,e),t.prototype.isConnect=function(){return this._ws&&this._ws.readyState===WebSocket.OPEN},t.prototype.sendMessage=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new R(h.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,e.seq=t,this._ws.send(JSON.stringify(e)),t},t.prototype.waitStatus=function(e){var t=this;return new Promise((function(n,r){var i=window.setTimeout((function(){r(new R(h.WAIT_STATUS_TIMEOUT,e))}),5e3);t.once(e,(function(t){clearTimeout(i),t.state&&0!==t.state?r(new R(h.WAIT_STATUS_ERROR,e)):n()})),t.once("dispose",(function(){clearTimeout(i),r(new R(h.WS_ABORT))}))}))},t.prototype.request=function(e){var t=this;return new Promise((function(n,r){var i=t.sendMessage(e),o=window.setTimeout((function(){t.removeAllListeners("req_"+i),r(new R(h.REQUEST_TIMEOUT))}),3e3);t.once("req_"+i,(function(e){clearTimeout(o),e&&200===e.code?n(e):r(new R(h.REQUEST_FAILED,e))})),t.once("dispose",(function(){clearTimeout(o),r(new R(h.WS_ABORT))}))}))},t.prototype.connect=function(e){var t=this;return new Promise((function(n,r){t._ws=new WebSocket(e),t._ws.onopen=function(){t._onOpen(),t._prvUrl=e,t._ws.onmessage=t._onMessage,t._ws.onclose=t._onClose,t._startHeartBeatCheck(),n()},t._ws.onclose=function(e){t._ws=null,r(new R(h.CONNECT_FAILED,"websocket error code: "+e.code))},setTimeout((function(){t._ws&&t._ws.readyState!==WebSocket.OPEN&&(t._ws.onopen=null,t._ws.onclose=null,t._ws.close(),t._ws=null,r(new R(h.CONNECT_TIMEOUT)))}),5e3),t.once("dispose",(function(){r(new R(h.WS_ABORT))}))}))},t.prototype.dispose=function(){this._clearHeartBeatCheck(),this.emit("dispose"),this.removeEvent(),this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.close()),this._ws=null},t.prototype._sendPing=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new R(h.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,this._ws.send(JSON.stringify(e)),t},t.prototype._startHeartBeatCheck=function(){var e=this;this._heartBeatTimer=window.setInterval((function(){e._sendPing({command:"ping",appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid,ts:+new Date,requestId:0})}),3e3)},t.prototype._clearHeartBeatCheck=function(){window.clearInterval(this._heartBeatTimer)},t}(c.default),R=function(e,t,n){void 0===e&&(e=""),this.code=n,this.data=t,this.message=e};t.ChannelMediaError=R,function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(h=t.CHANNEL_MEDIA_ERROR||(t.CHANNEL_MEDIA_ERROR={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(v||(v={})),function(e){e[e.NETWORK_DISCONNECTED=0]="NETWORK_DISCONNECTED",e[e.NETWORK_CONNECTED=1]="NETWORK_CONNECTED",e[e.PACKET_JOINED_SRC_CHANNEL=2]="PACKET_JOINED_SRC_CHANNEL",e[e.PACKET_JOINED_DEST_CHANNEL=3]="PACKET_JOINED_DEST_CHANNEL",e[e.PACKET_SENT_TO_DEST_CHANNEL=4]="PACKET_SENT_TO_DEST_CHANNEL",e[e.PACKET_RECEIVED_VIDEO_FROM_SRC=5]="PACKET_RECEIVED_VIDEO_FROM_SRC",e[e.PACKET_RECEIVED_AUDIO_FROM_SRC=6]="PACKET_RECEIVED_AUDIO_FROM_SRC",e[e.PACKET_UPDATE_DEST_CHANNEL=7]="PACKET_UPDATE_DEST_CHANNEL",e[e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=8]="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e[e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=9]="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(E=t.CHANNEL_MEDIA_RELAY_EVENT||(t.CHANNEL_MEDIA_RELAY_EVENT={})),function(e){e[e.RELAY_STATE_IDLE=0]="RELAY_STATE_IDLE",e[e.RELAY_STATE_CONNECTING=1]="RELAY_STATE_CONNECTING",e[e.RELAY_STATE_RUNNING=2]="RELAY_STATE_RUNNING",e[e.RELAY_STATE_FAILURE=3]="RELAY_STATE_FAILURE"}(S=t.CHANNEL_MEDIA_RELAY_STATE||(t.CHANNEL_MEDIA_RELAY_STATE={})),function(e){e[e.RELAY_OK=0]="RELAY_OK",e[e.SERVER_ERROR_RESPONSE=1]="SERVER_ERROR_RESPONSE",e[e.SERVER_NO_RESPONSE=2]="SERVER_NO_RESPONSE",e[e.NO_RESOURCE_AVAILABLE=3]="NO_RESOURCE_AVAILABLE",e[e.FAILED_JOIN_SRC=4]="FAILED_JOIN_SRC",e[e.FAILED_JOIN_DEST=5]="FAILED_JOIN_DEST",e[e.FAILED_PACKET_RECEIVED_FROM_SRC=6]="FAILED_PACKET_RECEIVED_FROM_SRC",e[e.FAILED_PACKET_SENT_TO_DEST=7]="FAILED_PACKET_SENT_TO_DEST",e[e.SERVER_CONNECTION_LOST=8]="SERVER_CONNECTION_LOST",e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR",e[e.SRC_TOKEN_EXPIRED=10]="SRC_TOKEN_EXPIRED",e[e.DEST_TOKEN_EXPIRED=11]="DEST_TOKEN_EXPIRED",e[e.RELAY_ALREADY_START=12]="RELAY_ALREADY_START",e[e.RELAY_NOT_START=13]="RELAY_NOT_START",e[e.OPERATION_ABORT=14]="OPERATION_ABORT"}(_=t.CHANNEL_MEDIA_RELAY_ERROR||(t.CHANNEL_MEDIA_RELAY_ERROR={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isLiveTranscodingValid",(function(){return _})),n.d(t,"generateSessionId",(function(){return v})),n.d(t,"audioLevelHelper",(function(){return g})),n.d(t,"vsResHack",(function(){return E})),n.d(t,"is32Uint",(function(){return S})),n.d(t,"safeCall",(function(){return l})),n.d(t,"random",(function(){return R})),n.d(t,"popBanTip",(function(){return b})),n.d(t,"lengthInUtf8Bytes",(function(){return T})),n.d(t,"audioTimerLoop",(function(){return I})),n.d(t,"generateId",(function(){return h})),n.d(t,"uint8ArrayToBase64",(function(){return f})),n.d(t,"base64ToUint8Array",(function(){return p}));var r=n(11),i=n.n(r),o=n(5),a=n(0),s=n(28),c=n.n(s),d=n(25),u=n(15),l=function(){var e=arguments[0];if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}},f=function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)},p=function(e){for(var t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},g=function(e){return this.audioContext=Object(d.a)(),this.sourceNode=e.otWebkitAudioSource||this.audioContext.createMediaStreamSource(e),this.analyser=this.audioContext.createAnalyser(),this.timeDomainData=new Uint8Array(this.analyser.frequencyBinCount),this.sourceNode.connect(this.analyser),this.getAudioLevel=function(){if(this.analyser){this.analyser.getByteTimeDomainData(this.timeDomainData);for(var e=0,t=0;t<this.timeDomainData.length;t++)e=Math.max(e,Math.abs(this.timeDomainData[t]-128));return e/128}return a.default.warning("can't find analyser in audioLevelHelper"),0},this},m=1e4;function h(){return++m}function v(){return c()().replace(/-/g,"").toUpperCase()}var E=function(e,t,n){try{a.default.debug("start vsResHack",e);var r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: absolute; top: 0; left: 0; width:1px; high:1px;"),document.body.appendChild(r);var i=!1;r.addEventListener("playing",(function(n){o.isFireFox()?r.videoWidth&&(i=!0,a.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove()):(i=!0,a.default.debug("[vsResHack] get stream resolution: ","".concat(r.videoWidth," x ").concat(r.videoHeight),e),t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())})),Object(u.setSrcObject)(r,e),r.play().catch((function(){})),setTimeout((function(){!i&&r&&(t(r.videoWidth,r.videoHeight),r.srcObject=null,r.remove())}),4e3)}catch(e){n(e)}},S=function(e){return"number"==typeof e&&0<=e&&e<=4294967295},_=function(e){var t=["lowLatency","userConfigExtraInfo","transcodingUsers"];for(var n in e)if("lowLatency"===n&&"boolean"!=typeof e[n]||"userConfigExtraInfo"===n&&"object"!==i()(e[n])||"transcodingUsers"===n&&!y(e[n])||!~t.indexOf(n)&&"number"!=typeof e[n])throw new Error("Param ["+n+"] is inValid");return!0},y=function(e){for(var t=0;t<e.length;t++)for(var n in e[t])if("number"!=typeof e[t][n])throw new Error("Param user["+t+"] - ["+n+"] is inValid");return!0},R=function(e){isNaN(e)&&(e=1e3);var t=+new Date,n=(t=(9301*t+49297)%233280)/233280;return Math.ceil(n*e)},T=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},I=function(e,t){var n=1/t,r=Object(d.a)(),i=r.createGain();i.gain.value=0,i.connect(r.destination);var o=!1;return function t(){var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime),o&&(a.onended=function(){})}(),function(){o=!0}},b=function(){if(!document.getElementById("agora-ban-tip")){var e=document.createElement("div");e.id="agora-ban-tip",e.style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; color: #fff;",document.querySelector("body").prepend(e);var t=document.createElement("div");t.style="background: #000; width: 346px; height: 116px; z-index: 100000; opacity: 0.6; border-radius: 10px; box-shadow: 0 2px 4px #000;",e.append(t);var n=document.createElement("div");n.style="height: 76px; display: flex; justify-content: center; align-items: center;";var r=document.createElement("span");r.style="height: 28px; width: 28px; color: #000; text-align: center; line-height: 30px; background: #fff; border-radius: 50%; font-weight: 600; font-size: 20px;margin-right: 5px;",r.innerText="!";var i=document.createElement("span");i.innerText="This browser does not support webRTC",n.append(r),n.append(i);var o=document.createElement("div");o.style="height: 38px; display: flex; border-top: #fff 1px solid; justify-content: center; align-items: center;",o.innerText="OK",t.append(n),t.append(o),o.onclick=function(){var e=document.getElementById("agora-ban-tip");e.parentNode.removeChild(e)}}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){e.exports=n(64)},function(t,n,r){"use strict";var i=r(12),o=r.n(i),a=r(17),s=r.n(a),c=r(11),d=r.n(c),u=r(32),l=r.n(u),f=r(7),p=r.n(f),g=r(22),m=r(8),h=function(e){e&&e.apply(this,[].slice.call(arguments,1))},v=r(0),E=r(1),S=r(10),_=r(14),y=r(2),R=function(e){var t=Object(m.b)(e);t.needReconnect=!0,t.isTimeout=!1,t.isInit=!0,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),t.lastMsgTime=null,t.clientId=e.clientId,t.hostIndex=0,t.requestID=0,e.host instanceof Array?t.host=e.host:t.host=[e.host],t.getSendBytes=function(){return t.sendbytes},t.getRecvBytes=function(){return t.recvbytes},t.getDuration=function(){return Math.ceil((Date.now()-t.startTime)/1e3)},t.getURL=function(){return t.connection.url},t.reconnect=function(){t.isInit=!0,t.creatConnection()},t.connectNext=function(){t.isInit=!0,++t.hostIndex,v.default.debug("["+t.clientId+"] Gateway length:"+t.host.length+" current index:"+t.hostIndex),t.hostIndex>=t.host.length?t.dispatchEvent(Object(m.d)({type:"recover"})):t.creatConnection()},t.replaceHost=function(e){t.host=e||t.host,t.hostIndex=0,t.creatConnection()},t.creatConnection=function(){t.needReconnect=!0,t.lts=(new Date).getTime(),t.connection=new WebSocket("wss://"+t.host[t.hostIndex]),t.connection.binaryType="arraybuffer",t.turnConfig={};var n=e.proxyServerType;if(t.connection.url&&3!==n&&4!==n&&5!==n){var r=t.connection.url.match(/wss\:\/\/([^:]+):(\d+)/),i=t.host[t.hostIndex].split(":"),o=t.connection.url.match(/h=([^:]+)&p=(\d+)/);r?(t.turnConfig.url=r[1],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(r[2])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(r[2])+30)):o?(t.turnConfig.url=o[1],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(o[2])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(o[2])+30)):i&&(t.turnConfig.url=i[0],Object(y.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(i[1])+30),Object(y.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(i[1])+30))}t.connection.onopen=function(e){t.needReconnect=!0,t.isTimeout=!1,t.isInit=!1,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),Object(_.resetHTTPByetsCount)(),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"onopen",event:e,socket:t}))},t.connection.onmessage=function(e){if(e.data instanceof ArrayBuffer)t.dispatchEvent({type:"onBinaryData",data:e.data});else{t.recvbytes+=Object(S.lengthInUtf8Bytes)(e.data);var n=JSON.parse(e.data);t.lastMsgTime=Date.now(),n.hasOwnProperty("_id")?t.dispatchEvent(Object(m.d)({type:n._id,msg:n})):n.hasOwnProperty("_type")&&t.dispatchSocketEvent(Object(m.d)({type:n._type,msg:n._message}))}},t.connection.onclose=function(n){t.needReconnect?t.isTimeout||t.isInit?(v.default.debug("["+t.clientId+"] websockect connect timeout"),E.report.joinGateway(e.sid,{lts:t.lts,succ:!1,ec:"timeout",addr:t.connection.url}),t.connectNext()):(t.dispatchEvent(Object(m.d)({type:"disconnect",event:n})),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])):(v.default.debug("["+t.clientId+"] websockect closeed"),h(e.onFailure,n),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(m.d)({type:"close",event:n})),t.connection.onopen=void 0,t.connection.onclose=void 0,t.connection.onerror=void 0,t.connection.onmessage=void 0,t.connection=void 0)},t.connection.onerror=function(e){};setTimeout((function(){t.connection&&t.connection.readyState!=WebSocket.OPEN&&(t.isTimeout=!0,t.connection.close())}),5e3)},t.creatConnection(),t.sendMessage=function(e,n){if(t.connection&&t.connection.readyState==WebSocket.OPEN){var r=JSON.stringify(e);t.sendbytes+=Object(S.lengthInUtf8Bytes)(r),t.connection.send(r)}else n({error:"Gateway not connected"})},t.disconnect=function(){t.needReconnect=!0,t.connection.close()},t.close=function(){t.needReconnect=!1,t.connection.onclose=void 0,t.connection.close(),clearInterval(t.requestTimer),t.requests&&t.requests instanceof Array&&(t.requests.map((function(e){e.callback("REQUEST_ABORT")})),t.requests=[])},t.sendSignalCommand=function(e,n){e._id="_request_"+t.requestID,t.requestID+=1,"publish_stats"!==e._type&&"subscribe_stats"!==e._type&&"publish_stats_low"!==e._type&&t.on(e._id,(function(r){r.msg&&n&&n(r.msg._result,r.msg.message),delete t.dispatcher.eventListeners[e._id]})),t.sendMessage(e,(function(e){e.reason="NOT_CONNECTED",n&&n(e.reason,e)}))},t.requests=[];var n=function(e){var n=t.requests.findIndex((function(t){return t.id===e.type}));if(n>=0)var r=t.requests.splice(n,1)[0];r&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.msg&&r.callback&&r.callback(e.msg._result,e.msg._message)):v.default.warning("Detached Response",e.type,e.msg)},r=function(e){var n=this,r=t.requests.findIndex((function(e){return e.id===n.id}));r>=0&&(n=t.requests.splice(r,1)[0]),n&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.reason="NOT_CONNECTED",n.callback&&n.callback(e.reason,e)):v.default.warning("handleSendError",n)};return t.sendRequest=function(e,i){e=p()({_id:"_request_"+t.requestID},e),t.requestID+=1;var o={id:e._id,timeoutCounter:0,stalledAt:Date.now(),message:e,callback:i};t.requests.push(o),t.addEventListener(e._id,n),t.sendMessage(e,r.bind(o))},t.checkRequestTimeout=function(){for(var e=Math.ceil(Object(y.getParameter)("SIGNAL_REQUEST_TIMEOUT")/Object(y.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),n=t.requests.length-1;n>=0;n--){var r=t.requests[n];r.timeoutCounter>=e?(t.requests.splice(n,1),v.default.error("Request Timeout",r.timeoutCounter,r.message),r.callback&&r.callback("TIMEOUT")):r.timeoutCounter++}},clearInterval(t.requestTimer),t.requestTimer=setInterval(t.checkRequestTimeout,Object(y.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),t.sendReport=function(e){t.sendMessage(e,(function(){}))},t},T=function(e,t){var n={connect:function(){t.host=e,n.signal=R(t),n.on=n.signal.on,n.dispatchEvent=n.signal.dispatchEvent,n.signal.on("onopen",(function(e){n.signal.onEvent=function(e){n.dispatchEvent(Object(m.d)({type:e.event,msg:e}))},n.dispatchEvent(Object(m.d)({type:"connect",msg:e}))})),n.signal.on("onError",(function(e){var t=e.msg;onError(t.code,"error")}))},getLastMsgTime:function(){return n.signal&&n.signal.lastMsgTime},getSendBytes:function(){return n.signal.getSendBytes()},getRecvBytes:function(){return n.signal.getRecvBytes()},getDuration:function(){return n.signal.getDuration()},disconnect:function(){n.signal.disconnect()},close:function(){n.signal.close()},getURL:function(){return n.signal.getURL()},reconnect:function(){n.signal.reconnect()},connectNext:function(){n.signal.connectNext()},replaceHost:function(e){n.signal.replaceHost(e)},emitSimpleMessage:function(e,t){n.signal.sendSignalCommand(e,t)},emitRequest:function(e,t){n.signal.sendRequest(e,t)},emitReport:function(e){n.signal.sendReport(e)}};return n.connect(),n},I=r(23),b=r(4),A=r(20),O=r(5),C={ERR_NO_VOCS_AVAILABLE:"tryNext",ERR_NO_VOS_AVAILABLE:"tryNext",ERR_JOIN_CHANNEL_TIMEOUT:"tryNext",WARN_REPEAT_JOIN:"quit",ERR_JOIN_BY_MULTI_IP:"recover",WARN_LOOKUP_CHANNEL_TIMEOUT:"tryNext",WARN_OPEN_CHANNEL_TIMEOUT:"tryNext",ERR_VOM_SERVICE_UNAVAILABLE:"tryNext",ERR_TOO_MANY_USERS:"tryNext",ERR_MASTER_VOCS_UNAVAILABLE:"tryNext",ERR_INTERNAL_ERROR:"tryNext",K_SERVICE_NOT_READY:"tryNext",K_SERVICE_TOO_HEAVY:"tryNext",notification_test_recover:"recover",notification_test_tryNext:"tryNext",notification_test_retry:"retry"},N={googActualEncBitrate:"A_aeb",googAvailableSendBandwidth:"A_asb",googRetransmitBitrate:"A_rb",googAvailableReceiveBandwidth:"A_arb",googTargetEncBitrate:"A_teb",googBucketDelay:"A_bd",googTransmitBitrate:"A_tb",googCodecName:"A_cn",bytesSent:"bytesSent",packetsLost:"packetsLost",packetsSent:"packetsSent",googAdaptationChanges:"A_ac",googAvgEncodeMs:"A_aem",googEncodeUsagePercent:"A_eup",googFirsReceived:"A_fr",googFrameHeightInput:"A_fhi",googFrameHeightSent:"A_fhs",googFrameRateInput:"A_fri",googFrameRateSent:"A_frs",googFrameWidthInput:"A_fwi",googFrameWidthSent:"A_fws",googNacksReceived:"A_nr",googPlisReceived:"A_pr",googRtt:"A_rtt",aecDivergentFilterFraction:"A_adff",audioInputLevel:"A_ail",googEchoCancellationReturnLoss:"A_ecrl",googEchoCancellationReturnLossEnhancement:"A_ecrle",googResidualEchoLikelihood:"A_rel",googResidualEchoLikelihoodRecentMax:"A_relrm",googTargetDelayMs:"A_tdm",bytesReceived:"bytesReceived",packetsReceived:"packetsReceived",googDecodeMs:"A_dm",googMaxDecodeMs:"A_mdm",googRenderDelayMs:"A_rdm",googFrameWidthReceived:"A_fwr",googFrameHeightReceived:"A_fhr",googFrameRateReceived:"A_frr",googFrameRateDecoded:"A_frd",googFrameRateOutput:"A_fro",googJitterBufferMs:"A_jbm",googCurrentDelayMs:"A_cdm",googMinPlayoutDelayMs:"A_mpdm",googNacksSent:"A_ns",googPlisSent:"A_ps",googFirsSent:"A_fs",audioOutputLevel:"A_aol",googAccelerateRate:"A_ar",googDecodingCNG:"A_dcng",googDecodingCTN:"A_dctn",googDecodingCTSG:"A_dctsg",googDecodingNormal:"A_dn",googDecodingPLC:"A_dplc",googDecodingPLCCNG:"A_dplccng",googExpandRate:"A_er",googJitterReceived:"A_jr",googPreemptiveExpandRate:"A_per",googPreferredJitterBufferMs:"A_pjbm",googSecondaryDecodedRate:"A_sdr",googSpeechExpandRate:"A_ser",uplink_fraction_lost:"B_ufl",uplink_cumulative_lost:"B_ucl",uplink_available_bandwidth:"B_uab",period_fir:"B_fir",access_delay:"B_acd",uplink_network_quality:"B_unq",downlink_network_quality:"B_dnq",pub_audio_lost_ratio_400ms:"B_palr4",pub_video_lost_ratio_400ms:"B_pvlr4",e2e_delay:"B_ed",audio_delay:"B_ad",video_delay:"B_vd",stream_type:"B_st",e2e_audio_lost_ratio_400ms:"B_ealr4",e2e_video_lost_ratio_400ms:"B_evlr4",downlink_estimate_bandwidth:"B_deb",peer_publish_audio_duration:"B_ppad",peer_publish_video_duration:"B_ppvd"},w={};for(var L in N){var D=N[L];w[D]&&v.default.error("Key Conflict: ".concat(D,": ").concat(N[D],"| ").concat(L)),w[D]=L}var k=function(e){return N[e]||e},M=function(e){return w[e]||e};var P=r(9),x=r.n(P),U=r(54),j=function t(n){var r=!1,i=function(e){return{_type:"control",_message:e}},a=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(n[k(e)]=t[e])})),{_type:"subscribe_related_stats",_message:{stream_type:"high",stream_id:e,stats:n}}},c=function(e){return{_type:"publish",_message:e}},u=function(e,t){var n={};return Object.keys(t).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(n[k(e)]=t[e])})),{_type:"subscribe_stats",_message:{stream_id:e,stats:n}}},f=t.DISCONNECTED,_=t.CONNECTING,R=t.CONNECTED,N=t.DISCONNECTING,w=f,L=Object(m.b)(n);Object.defineProperty(L,"state",{set:function(e){var n=w;w=e,Object(A._setClientConnectionStateRecord)(L.clientId,e),e!==t.CONNECTED&&e!==t.DISCONNECTING&&(L.hasJoined=!1),n!==e&&L.dispatchEvent({type:"connection-state-change",prevState:t.connetionStateMap[n],curState:t.connetionStateMap[e]})},get:function(){return w}}),L.socket=void 0,L.state=f,L.mode=n.mode,L.role=n.role,L.codec=n.codec,L.config={},L.timers={},L.timer_counter={},L.localStreams={},L.remoteStreams={},L.remoteMuteState={},L.attemps=1,L.p2p_attemps=1,L.audioLevel={},L.activeSpeaker=void 0,L.reconnectMode="tryNext",L.rejoinAttempt=0,L.hasChangeBGPAddress=!1,L.traffic_stats={},L.clientId=n.clientId,L.pingpongCounter=0,L.hasInvokeLeave=!1,L.p2ps=new Map,L.liveStreams=new Map,L.injectLiveStreams=new Map,L.remoteStreamsInChannel=new Set,L.subscribeRequestId=new Map,L.publishRequestId=0,L.hasJoined=!1,L.isFirstSuccess=!0,L.peerPublishDurationMap=new Map,function(e){var t=h;e.makeRequest=function(n,r,i){if(void 0===e.socket)return v.default.debug("[".concat(e.clientId,"] No socket available")),void t(i,b.default.INVALID_OPERATION);try{e.socket.emitRequest(n,(function(e,t){var n;"success"===e?"function"==typeof r&&r(t):"function"==typeof i&&(n=t&&t.error_code&&b.GatewayErrorCode[t.error_code]?b.GatewayErrorCode[t.error_code]:t&&t.error_str?t.error_str:t&&t.error_code?"UNKNOW_ERROR_".concat(t.error_code):e,i(n,t))}))}catch(r){v.default.debug("[".concat(e.clientId,"] Socket emit message failed ").concat(JSON.stringify(n))),v.default.debug("[".concat(e.clientId,"] "),r),t(i,b.default.SOCKET_ERROR)}},e.makeReport=function(t){void 0===e.socket&&v.default.debug("[".concat(e.clientId,"] No socket available"));try{e.socket.emitReport(t)}catch(n){v.default.debug("[".concat(e.clientId,"] Socket emit report failed ").concat(JSON.stringify(t)))}}}(L),L.inChannelInfo={joinAt:null,duration:0},L._sendMessage=function(e,t){switch(e){case"SubscribeStats":L.makeReport(u.apply(void 0,l()(t)));break;case"SubscribeRelatedStats":L.makeReport(a.apply(void 0,l()(t)))}};var D=h;L.p2pCounter=Object(S.random)(1e5),L.generateP2PId=function(){return++L.p2pCounter},L.audioVolumeIndication={enabled:!1,sortedAudioVolumes:[],smooth:3,interval:2e3},L.remoteVideoStreamTypes={REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2},L.streamFallbackTypes={STREAM_FALLBACK_OPTION_DISABLED:0,STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:1,STREAM_FALLBACK_OPTION_AUDIO_ONLY:2},L.configPublisher=function(e){L.config=e},L.getGatewayInfo=function(e,t){L.makeRequest({_type:"gateway_info"},e,t)},L.setClientRole=function(e,t){v.default.debug("[".concat(L.clientId,"] setClientRole to ").concat(e));var n=E.report.reportApiInvoke(L.joinInfo.sid,{name:"_setClientRole",callback:t});L.makeRequest({_type:"set_client_role",_message:{role:e}},(function(){L.role=e,L.dispatchEvent({type:"client-role-changed",role:e}),n&&n(null,{role:e})}),(function(t,r){if(r&&r.code&&(t=b.GatewayErrorCode[r.code]||"UNKNOW_ERROR_"+r.code),"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE"===t)return n&&n(null);v.default.error("set Client role error to "+e+": "+t),n&&n(t)}))},L.join=function(e,t,r,i){L.hasInvokeLeave=!1,e.useProxyServer&&(L.hasChangeBGPAddress=!0);var o=(new Date).getTime(),a=e.uid;if(L.inChannelInfo.joinAt&&(L.inChannelInfo.duration+=o-L.inChannelInfo.joinAt),L.inChannelInfo.joinAt=o,L.state!==_)return v.default.error("[".concat(L.clientId,"] GatewayClient.join Failed: state "),L.state),i&&i(b.default.INVALID_OPERATION),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:b.default.INVALID_OPERATION,addr:null});if(null!=a&&parseInt(a)!==a)return v.default.error("[".concat(L.clientId,"] Input uid is invalid")),L.state=f,i&&i(b.default.INVALID_PARAMETER),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:b.default.INVALID_PARAMETER,addr:null});var s=V.register(L,{uid:a,cname:e&&e.cname});if(s)return L.state=f,i&&i(s),void E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:s,addr:null});L.joinInfo=p()({},e),L.uid=a,L.key=t,L.pingpongCounter=0,W(e,(function(t){if(e.useLocalAccessPoint)try{var s=L.socket.signal.connection.url.match(/wss\:\/\/([^:]+):(\d+)/)[1];Object(y.setParameter)("EVENT_REPORT_DOMAIN",s),Object(y.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",s),Object(y.setParameter)("LOG_UPLOAD_SERVER","".concat(s,":6444"))}catch(e){v.default.debug("[".concat(L.clientId,"] LocalAccessPoint error: ").concat(e))}if(L.state===N||L.state===f)return i&&i("LEAVE_BEFORE_JOIN_SUCCESS");L.state=R,v.default.debug("[".concat(L.clientId,"] Connected to gateway server")),clearInterval(L.pingTimer),L.pingTimer=setInterval((function(){var e=Object(y.getParameter)("PING_PONG_TIME_OUT");if(++L.pingpongCounter>=e){var t=Date.now();L.socket&&v.default.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-L.socket.getLastMsgTime(),"ms")),L.socket&&L.socket.getLastMsgTime()&&t-L.socket.getLastMsgTime()>Object(y.getParameter)("WEBSOCKET_TIMEOUT_MIN")&&(L.pingpongCounter=0,L.socket.close(),L.socket.dispatchEvent(Object(m.d)({type:"disconnect",event:{msg:"PING_PONG_TIME_OUT"}})))}var n=Date.now();L.makeRequest({_type:"ping"},(function(){L.pingpongCounter=0;var e=Date.now()-n;Object(y.getParameter)("REPORT_STATS")&&L.makeRequest({_type:"ping_back",_message:{pingpongElapse:e}})}),(function(e,t){"TIMEOUT"!==e&&(v.default.error("Ping Error ".concat(e," ").concat(JSON.stringify(t))),t&&t.error_code&&L.socket&&L.socket.signal&&L.socket.signal.connection&&L.socket.signal.connection.readyState===WebSocket.OPEN&&(v.default.info("Disconnecting websocket connection"),L.socket.signal.connection.close()))}))}),3e3),function(e,t){var r=e.role,i=p()({},L.joinInfo.apResponse),o={session_id:L.joinInfo.sid,app_id:n.appId,channel_key:L.key,channel_name:L.joinInfo.cname,sdk_version:y.VERSION,browser:navigator.userAgent,process_id:Object(E.getProcessId)(),mode:L.mode,codec:L.codec,role:r,has_changed_gateway:Object(y.getParameter)("FORCE_CHANGED_GATEWAY_FLAG")||L.hasChangeBGPAddress,ap_response:i,optionalInfo:L.joinInfo.optionalInfo,extend:Object(y.getParameter)("JOIN_EXTEND"),details:{}};if(L.joinInfo.hasOwnProperty("stringUid")&&(o.string_uid=L.joinInfo.stringUid),L.socket&&L.socket.signal&&L.socket.signal&&(i.addresses&&i.addresses[L.socket.signal.hostIndex]&&(o.ap_response.ticket=i.addresses[L.socket.signal.hostIndex].ticket,delete i.addresses),Object(y.getParameter)("SET_DEFAULT_TURNSERVER")&&L.socket.signal.turnConfig)){var a={username:L.joinInfo.uid.toString(),credential:L.joinInfo.token,forceturn:Object(y.getParameter)("FORCE_TURN")};a.url=L.socket.signal.turnConfig.url,L.socket.signal.turnConfig.tcpport&&(a.tcpport=""+L.socket.signal.turnConfig.tcpport),L.socket.signal.turnConfig.udpport&&(a.udpport=""+L.socket.signal.turnConfig.udpport),!!L.joinInfo.turnServers.find((function(e){if(e.url===a.url)return!0}))||L.joinInfo.turnServers.push(a)}3===L.joinInfo.proxyServerType&&(o.plugin="web_cloud_proxy",o.details.cservice_map="1"),L.joinInfo.aesmode&&L.joinInfo.aespassword?(o.aes_mode=L.joinInfo.aesmode,o.aes_encrypt=!0,L.joinInfo.aes_salt&&(o.aes_salt=L.joinInfo.aes_salt),Object(U.encryptRSA)(L.joinInfo.aespassword).then((function(e){o.aes_secret=e,L.dispatchEvent({type:"join-message-hook",joinMessage:o}),t(null,{_type:"join",_message:o})})).catch((function(e){v.default.error("[".concat(L.clientId,"] encrypt password failed "),e),t("ENCRYPT_PASSWORD_FAILED")}))):(L.dispatchEvent({type:"join-message-hook",joinMessage:o}),t(null,{_type:"join",_message:o}))}({role:L.role},(function(t,n){if(t)return i&&i(t);L.makeRequest(n,(function(t){if(E.report.joinGateway(e.sid,{lts:o,succ:!0,ec:null,vid:e.vid,uid:e.uid,addr:L.socket.getURL(),firstSuccess:L.isFirstSuccess}),L.joinSuccessLts=Date.now(),L.isFirstSuccess=!1,L.rejoinAttempt=0,L.hasJoined=!0,r&&r(t.uid),!0===t.return_vosip||!0===Object(y.getParameter)("ENABLE_LIVE_SERVER_LIST")){var n=null;try{n=L.socket.signal.connection.url}catch(e){v.default.debug("[".concat(L.clientId,"] Can not get gateway ip: ").concat(e))}n?Object(y.setParameter)("LIVE_SERVER_LIST",[n]):Object(y.setParameter)("LIVE_SERVER_LIST",[])}L.dispatchEvent({type:"join"}),clearInterval(L.timers.trafficStats),L.timers.trafficStats=setInterval((function(){L.makeRequest({_type:"traffic_stats"},(function(e){var t={};for(var n in e)t[M(n)]=e[n];if(t.peer_delay&&t.peer_delay.length){var r=[];t.peer_delay.forEach((function(e){var t={};for(var n in e)t[M(n)]=e[n];r.push(t)})),t.peer_delay=r}L.traffic_stats=t,L.traffic_stats.timestamp=Date.now();var i=L.joinInfo.stringUid,o=L.localStreams[a]||L.localStreams[i];o&&(o.traffic_stats={access_delay:t.access_delay}),t.peer_delay&&t.peer_delay.forEach((function(e){var n=L.remoteStreams[e.peer_uid];n&&(n.traffic_stats={access_delay:t.access_delay,e2e_delay:e.e2e_delay,audio_delay:e.audio_delay,video_delay:e.video_delay})})),L.dispatchEvent({type:"after-getTrafficStats",trafficStats:t})}))}),3e3)}),(function(t,n){if(v.default.error("[".concat(L.clientId,"] User join failed [").concat(t,"]")),"ERR_JOIN_BY_MULTI_IP"===t){try{E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:"ERR_JOIN_BY_MULTI_IP",addr:L.socket.getURL()})}catch(e){}return L.dispatchEvent({type:"onMultiIP",option:n.option})}C[t]&&L.rejoinAttempt<4?L._doWithAction(C[t],r,i):i&&i(t),E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:L.socket&&L.socket.getURL()})}))}))}),(function(t){v.default.error("[".concat(L.clientId,"] User join failed [").concat(t,"]")),i&&i(t),E.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:L.socket.getURL()})})),this.remoteMuteState={},L.resetAudioVolumeIndication()},L.leave=function(e,t){var n=V.unregister(L);switch(n&&v.default.debug("[".concat(L.clientId,"] "),n),L.p2ps.clear(),L.state){case f:return v.default.debug("[".concat(L.clientId,"] Client Already in DISCONNECTED status")),void D(e);case N:return v.default.debug("[".concat(L.clientId,"] Client Already in DISCONNECTING status")),void D(t,b.default.INVALID_OPERATION);case _:return L.socket&&L.socket.close(),L.socket=void 0,v.default.info("[".concat(L.clientId,"] Client connecting, Leave channel success")),L.state=f,e&&e()}for(var r in L.state=N,L.channelMediaConfig&&(L.channelMediaRelayController&&L.channelMediaRelayController.dispose(),L.channelMediaConfig,L.channelMediaRelayController=null),clearInterval(L.pingTimer),L.timers)L.timers.hasOwnProperty(r)&&clearInterval(L.timers[r]);for(var r in L.inChannelInfo.joinAt&&(L.inChannelInfo.duration+=Date.now()-L.inChannelInfo.joinAt,L.inChannelInfo.joinAt=null),L.hasJoined?L.makeRequest({_type:"leave"},(function(t){L.socket.close(),L.socket=void 0,v.default.info("[".concat(L.clientId,"] Leave channel success")),L.state=f,e&&e(t)}),(function(e){"TIMEOUT"!==e&&"REQUEST_ABORT"!==e&&(v.default.error("[".concat(L.clientId,"] Leave Channel Failed"),e),L.state=R,t&&t(e))})):(L.socket&&(L.socket.close(),L.socket=void 0),v.default.info("[".concat(L.clientId,"] Leave channel before joined")),L.state=f,e&&e()),L.localStreams)if(L.localStreams.hasOwnProperty(r)){var i=L.localStreams[r];delete L.localStreams[r],void 0!==i.pc&&(i.pc.close(),i.pc=void 0)}q()},L.publish=function(e,t,n,r){var o=(new Date).getTime(),a=!1;if(e.publishLTS=o,"object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid local stream")),r&&r(b.default.INVALID_LOCAL_STREAM),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:b.default.INVALID_LOCAL_STREAM});if(!e.stream&&void 0===e.url)return v.default.error("[".concat(L.clientId,"] Invalid local media stream")),r&&r(b.default.INVALID_LOCAL_STREAM),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:b.default.INVALID_LOCAL_STREAM});if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User is not in the session")),r&&r(b.default.INVALID_OPERATION),void E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:b.default.INVALID_OPERATION});var s=e.getAttributes()||{};if(e.local&&void 0===L.localStreams[e.getId()]&&(e.hasAudio()||e.hasVideo()||e.hasScreen())){var u=L.generateP2PId();if(L.p2ps.set(u,e),e.p2pId=u,void 0!==e.url)G(c({state:"url",audio:e.hasAudio(),video:e.hasVideo(),attributes:e.getAttributes()},e.url),(function(t,n){"success"===t?(e.getUserId()!==n&&e.setUserId(n),L.localStreams[n]=e,e.onClose=function(){L.unpublish(e)}):v.default.error("[".concat(L.clientId,"] Publish local stream failed"),t)}));else{L.localStreams[e.getId()]=e,e.connectionSpec={callback:function(s){s||r&&r("CANNOT_GET_OFFER"),"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution"),L.makeRequest(c({state:"offer",stream_type:1==t.streamType?"low":"high",p2p_id:u,sdp:s,audio:e.audio||e.screenAudio,video:e.screen||e.video,screen:e.screen,attributes:e.getAttributes(),dtx:e.DTX,hq:e.highQuality,lq:e.lowQuality,stereo:e.stereo,speech:e.speech,codec:L.codec,extend:Object(y.getParameter)("PUB_EXTEND")}),(function(t){e.getUserId()!==t.uid&&e.setUserId(t.uid),v.default.info("[".concat(L.clientId,"] Local stream published with uid"),t.uid),e.onClose=function(){L.unpublish(e)},e._onAudioUnmute=function(){L.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()}))},e._onVideoUnmute=function(){L.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))},e._onAudioMute=function(){L.makeReport(i({action:"mute_local_audio",stream_id:e.getId()}))},e._onVideoMute=function(){L.makeReport(i({action:"mute_local_video",stream_id:e.getId()}))},e.getId()===e.getUserId()&&(e.isAudioOn()||e.hasAudio()&&(v.default.debug("[".concat(L.clientId,"] local stream audio mute")),e._onAudioMute()),e.isVideoOn()||(e.hasVideo()||e.hasScreen())&&(v.default.debug("[".concat(L.clientId,"] local stream video mute")),e._onVideoMute())),e.pc.oniceconnectionstatechange=function(t){if("failed"===t){if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"_RelatedStats")),v.default.error("[".concat(L.clientId,"] Publisher connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(u)),L.p2ps.delete(u),v.default.debug("[".concat(L.clientId,"] publish p2p failed: "),L.p2ps),!a)return a=!0,E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:b.default.PEERCONNECTION_FAILED,publishRequestid:L.publishRequestId||0,p2pid:u}),L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e})),r&&r(b.default.PEERCONNECTION_FAILED);L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:e}))}else if("connected"===t&&(v.default.debug("[".concat(L.clientId,"] publish p2p connected: "),L.p2ps),e.getId()===e.getUserId()&&(e._isAudioMuted()?L.makeReport(i({action:"mute_local_audio",stream_id:e.getId()})):L.makeReport(i({action:"unmute_local_audio",stream_id:e.getId()})),e._isVideoMuted()?L.makeReport(i({action:"mute_local_video",stream_id:e.getId()})):L.makeReport(i({action:"unmute_local_video",stream_id:e.getId()}))),!a))return a=!0,E.report.publish(L.joinInfo.sid,{lts:o,succ:!0,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:null,publishRequestid:L.publishRequestId||0,p2pid:u}),n&&n()},e.pc.processSignalingMessage(t.sdp)}),(function(t,n){v.default.error("Publish Failed: ".concat(t)),E.report.publish(L.joinInfo.sid,{lts:o,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:t,publishRequestid:L.publishRequestId||0,p2pid:u}),"TIMEOUT"!=t&&(L.processPublishFailure(e),r&&r(t))}))},audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),optimizationMode:e.optimizationMode,isSubscriber:!1,stunServerUrl:L.stunServerUrl,turnServers:L.joinInfo.turnServers,maxAudioBW:s.maxAudioBW,minVideoBW:s.minVideoBW,maxVideoBW:s.maxVideoBW,mode:L.mode,codec:L.codec,isVideoMute:e.userMuteVideo||e.peerMuteVideo,isAudioMute:e.userMuteAudio||e.peerMuteAudio,maxFrameRate:e.attributes.maxFrameRate,agoraStream:e,clientId:L.clientId,isCloudProxy3:3===L.joinInfo.proxyServerType,onNoIceCandidate:function(){L.dispatchEvent({type:"no_ice_candidate",stream:e})}},e.pc=Object(I.a)(e.connectionSpec),e.pc.addStream(e.stream),v.default.debug("[".concat(L.clientId,"] PeerConnection add stream :"),e.stream),e.pc.onnegotiationneeded=function(n){"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution");var r={state:"negotiation",stream_type:1===t.streamType?"low":"high",p2p_id:u,sdp:n};L.makeRequest(c(r),(function(t){v.default.debug("Negotating Stream ".concat(e.getId())),e.pc.processSignalingMessage(t.sdp)}),(function(e,t){v.default.error("Negotiation failed ".concat(e),t,r)}))},clearInterval(L.timers[e.getId()]),L.timers[e.getId()]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id&&!(/_recv$/.test(n.id)||/^time$/.test(n.id)||~n.type.toLowerCase().indexOf("inbound"))&&e.getUserId()){if(-1===n.id.indexOf("outbound_rtp")&&-1===n.id.indexOf("OutboundRTP")&&-1===n.type.toLowerCase().indexOf("outbound")||"video"!==n.mediaType||(n.googFrameWidthSent=e.videoWidth+"",n.googFrameHeightSent=e.videoHeight+""),"video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vstd=r.enabled?"0":"1"}catch(e){}if("audio"===n.mediaType)try{var i=e.stream.getAudioTracks()[0];n.A_astd=i.enabled?"0":"1"}catch(e){}if(e.getId()==e.getUserId()){var o=200*t;t++,setTimeout((function(){var e=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();e>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStats report blocked by REPORT_STATS_TIMEOUT ".concat(e)):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"high",stats:t}}}(n))}),o)}else{o=200*t;t++,setTimeout((function(){var e=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();e>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStatsLow report blocked by REPORT_STATS_TIMEOUT ".concat(e)):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_stats",_message:{stream_type:"low",stats:t}}}(n))}),o)}}}))}))}}),3e3);var l=function(){Object(y.getParameter)("REPORT_STATS")&&e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){var n,r,i=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();i>Object(y.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(i)):e.getId()===e.getUserId()?L.makeReport((n=t,r={},Object.keys(n).forEach((function(e){Object(y.getParameter)("STATS_FILTER")[e]||(r[k(e)]=n[e])})),{_type:"publish_related_stats",_message:{stream_type:"high",stats:r}})):L.makeReport(function(e){var t={};return Object.keys(e).forEach((function(n){Object(y.getParameter)("STATS_FILTER")[n]||(t[k(n)]=e[n])})),{_type:"publish_related_stats",_message:{stream_type:"low",stats:t}}}(t))}))};l(),clearInterval(L.timers[e.getId()+"_RelatedStats"]),L.timers[e.getId()+"_RelatedStats"]=setInterval(l,1e3)}}},L.unpublish=function(e,t,n,r){if("object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid local stream")),void D(r,b.default.INVALID_LOCAL_STREAM);if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User not in the session")),void D(r,b.default.INVALID_OPERATION);if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()+"_RelatedStats"])),void 0!==L.socket)if(e.local&&void 0!==L.localStreams[e.getId()]){delete L.localStreams[e.getId()];var i={stream_id:e.getUserId(),stream_type:1===t.streamType?"low":"high"};L.makeRequest({_type:"unpublish",_message:i}),(e.hasAudio()||e.hasVideo()||e.hasScreen())&&void 0===e.url&&void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,L.p2ps.delete(e.p2pId),n&&n()}else v.default.error("[".concat(L.clientId,"] Invalid local stream")),D(r,b.default.INVALID_LOCAL_STREAM);else v.default.error("[".concat(L.clientId,"] User not in the session")),D(r,b.default.INVALID_OPERATION)},L.subscribe=function(e,t,n){var r=(new Date).getTime();e.subscribeLTS=r;var o=!1;if(v.default.info("[".concat(L.clientId,"] Gatewayclient ").concat(L.uid," Subscribe ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),"object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),n&&n(b.default.INVALID_REMOTE_STREAM),void E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_REMOTE_STREAM});if(L.state!==R&&(v.default.error("[".concat(L.clientId,"] User is not in the session")),!o))return o=!0,E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_OPERATION}),n&&n(b.default.INVALID_OPERATION);if(!e.local&&L.remoteStreams.hasOwnProperty(e.getId()))if(e.hasAudio()||e.hasVideo()||e.hasScreen()){var s=L.generateP2PId();L.p2ps.set(s,e),e.p2pId=s,e.pc=Object(I.a)({callback:function(t){t||n&&n("CANNOT_GET_OFFER");var i={stream_id:e.getId(),audio:!e.subscribeOptions||e.subscribeOptions.audio,video:!e.subscribeOptions||e.subscribeOptions.video,codec:L.codec,p2p_id:s,sdp:t,tcc:Object(y.getParameter)("SUBSCRIBE_TCC"),extend:Object(y.getParameter)("SUB_EXTEND")};L.makeRequest({_type:"subscribe",_message:i},(function(t){e.pc.processSignalingMessage(t.sdp)}),(function(t,i){v.default.error("[".concat(L.clientId,"] Subscribe remote stream Failed: ").concat(t,", closing stream "),e.getId(),i),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:t}),"TIMEOUT"!=t&&(L.processSubscribeFailure(e),n&&n(t))}))},nop2p:!0,audio:!0,video:!0,screen:e.hasScreen(),isSubscriber:!0,stunServerUrl:L.stunServerUrl,turnServers:L.joinInfo.turnServers,isVideoMute:e.userMuteVideo,isAudioMute:e.userMuteAudio,uid:e.getId(),agoraStream:e,clientId:L.clientId}),e.pc.onaddstream=function(t,n){if(e._onAudioUnmute=function(){L.makeReport(i({action:"unmute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onAudioMute=function(){L.makeReport(i({action:"mute_remote_audio",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoUnmute=function(){L.makeReport(i({action:"unmute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},e._onVideoMute=function(){L.makeReport(i({action:"mute_remote_video",stream_id:e.getId()}),(function(){}),(function(){}))},"ontrack"===n&&"video"===t.track.kind||"onaddstream"===n){v.default.info("[".concat(L.clientId,"] Remote stream subscribed with uid "),e.getId());var r=L.remoteStreams[e.getId()];if(L.remoteStreams[e.getId()].stream="onaddstream"===n?t.stream:t.streams[0],L.remoteStreams[e.getId()].hasVideo()){if(Object(O.isFireFox)()||Object(O.isSafari)()){var o=L.remoteStreams[e.getId()].stream;Object(S.vsResHack)(o,(function(t,n){e.videoWidth=t,e.videoHeight=n}),(function(e){return v.default.warning("[".concat(L.clientId,"] vsResHack failed: ")+e)}))}}else{var a=L.remoteStreams[e.getId()];a.peerMuteVideo=!0,L._adjustPCMuteStatus(a)}r&&r.isPlaying()&&r.elementID&&(v.default.debug("[".concat(L.clientId,"] Reload Player ").concat(r.elementID," StreamId ").concat(r.getId())),e.audioOutput=r.audioOutput,r.stop(),e.play(r.elementID,r.playOptions)),delete e.audioLevelHelper;var s=Object(m.e)({type:"stream-subscribed",stream:L.remoteStreams[e.getId()]});L.dispatchEvent(s)}},clearInterval(L.timers[e.getId()]),L.timers[e.getId()]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate((function(n){n.forEach((function(n){if(n&&n.id){if(/_send$/.test(n.id)||/^time$/.test(n.id)||/^bweforvideo$/.test(n.id))return;-1===n.id.indexOf("inbound_rtp")&&-1===n.id.indexOf("inbound-rtp")&&-1===n.type.toLowerCase().indexOf("inbound")||"video"!==n.mediaType||(n.googFrameWidthReceived=e.videoWidth+"",n.googFrameHeightReceived=e.videoHeight+"");var r=200*t;t++;var i=e.getId();setTimeout((function(){var t=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();if(t>Object(y.getParameter)("REPORT_STATS_TIMEOUT"))v.default.debug("SubscribeStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));else{if("video"===n.mediaType)try{var r=e.stream.getVideoTracks()[0];n.A_vrtd=r.enabled?"0":"1",e.player&&e.player.freezeTimeCounterList.length>0&&(n.A_vrft=e.player.freezeTimeCounterList.splice(0,1)[0].toString())}catch(e){}if("audio"===n.mediaType)try{var o=e.stream.getAudioTracks()[0];n.A_artd=o.enabled?"0":"1"}catch(e){}L.makeReport(u(i,n))}}),r)}else;}))}))}}),3e3),clearInterval(L.timers[e.getId()+"_RelatedStats"]),L.timers[e.getId()+"_RelatedStats"]=setInterval((function(){if(Object(y.getParameter)("REPORT_STATS")&&e&&e.pc){var t=L.socket&&L.socket.getLastMsgTime()&&Date.now()-L.socket.getLastMsgTime();if(t>Object(y.getParameter)("REPORT_STATS_TIMEOUT"))return void v.default.debug("SubscribeRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats((function(t){e.player&&(e.hasVideo()&&!e.peerMuteVideo&&(t.isFreeze=e.player.freezeCount>e.player.lastFreezeCount),e.player.lastFreezeCount=e.player.freezeCount),L.makeReport(a(e.getId(),t))})),e.pc.getAudioRelatedStats&&e.pc.getAudioRelatedStats((function(t){L.makeReport(a(e.getId(),t))}))}}),1e3),L.audioLevel[e.getId()]=0,clearInterval(L.timers[e.getId()+"audio"]),L.timers[e.getId()+"audio"]=setInterval((function(){L.hasListeners("active-speaker")&&e&&e.pc&&"established"===e.pc.state&&e.pc.getStats&&e.pc.getStats((function(t){t.forEach((function(t){if("audio"===t.mediaType){if(t.audioOutputLevel>5e3)for(var n in L.audioLevel[e.getId()]<20&&(L.audioLevel[e.getId()]+=1),L.audioLevel)n!==""+e.getId()&&L.audioLevel[n]>0&&(L.audioLevel[n]-=1);var r=Object.keys(L.audioLevel).sort((function(e,t){return L.audioLevel[t]-L.audioLevel[e]}));if(L.activeSpeaker!==r[0]){var i=Object(m.a)({type:"active-speaker",uid:r[0]});L.dispatchEvent(i),L.activeSpeaker=r[0],v.default.debug("[".concat(L.clientId,"] Update active speaker: ").concat(L.activeSpeaker))}}}))}),50)}),50),e.pc.oniceconnectionstatechange=function(i){if("failed"===i)null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"audio")),v.default.error("[".concat(L.clientId,"] Subscriber connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(s)),v.default.debug("[".concat(L.clientId,"] subscribe p2p failed: "),L.p2ps),o||(o=!0,n&&n(b.default.PEERCONNECTION_FAILED),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.PEERCONNECTION_FAILED,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})),L.remoteStreams[e.getId()]&&L.p2ps.has(s)&&(L.p2ps.delete(s),L.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:e})));else if("connected"===i&&(v.default.debug("[".concat(L.clientId,"] subscribe p2p connected: "),L.p2ps),!o)){o=!0,E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s}),L._adjustPCMuteStatus(e);var a=!1,c=!1,d=!1,u=setInterval((function(){a&&c||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"audio"===t.mediaType){if((t.googDecodingNormal>0||t.audioOutputLevel>0)&&!a){a=!0,L.dispatchEvent({type:"first-audio-frame-decode",stream:e}),a&&c&&clearInterval(u);var n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstAudioDecode(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}if(parseInt(t.packetsReceived)>0&&!c){c=!0,L.dispatchEvent({type:"first-audio-packet-received",stream:e}),a&&c&&clearInterval(u);n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstAudioReceived(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}}}))}),100):clearInterval(u))}),100),l=!1,f=!1,p=setInterval((function(){l&&f||(e.pc?e.pc.getStats((function(t){t.forEach((function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"video"===t.mediaType){if((t.framesDecoded>0||t.googFramesDecoded>0)&&!l){l=!0,L.dispatchEvent({type:"first-video-frame-decode",stream:e}),l&&f&&clearInterval(p);var n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);e.firstFrameTime=(new Date).getTime()-e.subscribeLTS,E.report.firstVideoDecode(L.joinInfo.sid,{peerid:e.uintId,width:parseInt(t.googFrameWidthReceived)||0,height:parseInt(t.googFrameHeightReceived)||0,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}if(t.packetsReceived>0&&!f){f=!0,L.dispatchEvent({type:"first-video-packet-received",stream:e}),l&&f&&clearInterval(p);n=Date.now(),r=E.report.getSessionStartTime(L.joinInfo.sid);E.report.firstVideoReceived(L.joinInfo.sid,{peerid:e.uintId,uid:L.uid,elapse:n-r,subscribeElapse:n-e.subscribeLTS,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:s})}}}))}),100):clearInterval(p))}),100),g=setInterval((function(){if(!d){var t=e.getId(),n=L.traffic_stats;if(n&&n.peer_delay){var r=n.peer_delay.find((function(e){return e.peer_uid==t}));if(r){if(d=!0,L.peerPublishDurationMap.get(e.getId()))return void clearInterval(g);var i=r.peer_publish_audio_duration,o=r.peer_publish_video_duration;if(void 0===i||void 0===o)return;L.peerPublishDurationMap.set(e.getId(),!0);var a=E.report.getSessionStartTime(L.joinInfo.sid),s=(i||o)+(Date.now()-n.timestamp),c=Date.now();E.report.peerPublishStatus({audiotag:i?1:-1,videotag:o?1:-1,lts:c,sid:L.joinInfo.sid,cname:L.joinInfo.cname,cid:L.joinInfo.cid,uid:L.joinInfo.uid,elapse:c-a,peer:e.uintId,peerPublishDuration:s,joinChannelSuccessElapse:c-L.joinSuccessLts,subscribeElapse:c-e.subscribeLTS}),clearInterval(g)}}}}),1e3);return e.sid=L.joinInfo.sid,t&&t()}}}else v.default.error("[".concat(L.clientId,"] Invalid remote stream")),o||(o=!0,n&&n(b.default.INVALID_REMOTE_STREAM),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.INVALID_REMOTE_STREAM}));else v.default.error("[".concat(L.clientId,"] No such remote stream")),o||(o=!0,n&&n(b.default.NO_SUCH_REMOTE_STREAM),E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:b.default.NO_SUCH_REMOTE_STREAM}))},L.subscribeChange=function(e,t,n){var r=Date.now();v.default.info("[".concat(L.clientId,"] Gatewayclient ").concat(L.uid," SubscribeChange ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),L._adjustPCMuteStatus(e);var i={stream_id:e.getId(),audio:e.subscribeOptions.audio,video:e.subscribeOptions.video};L.makeRequest({_type:"subscribe_change",_message:i},(function(n){var i=Object(m.e)({type:"stream-subscribe-changed",stream:L.remoteStreams[e.getId()]});E.report.subscribe(L.joinInfo.sid,{lts:r,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:L.subscribeRequestId.get(e.getId())||0,p2pid:L.p2ps.get(e.getId())}),L.dispatchEvent(i),t&&t()}),(function(t,r){v.default.error("[".concat(L.clientId,"] Subscribe Change Failed ").concat(e.getId()),t,r),n&&n(t,r)}))},L.processPublishFailure=function(e){e.publishLTS=null,e.p2pId&&L.p2ps.get(e.p2pId)===e&&L.p2ps.delete(e.p2pId),L.localStreams[e.getUserId()]===e&&delete L.localStreams[e.getUserId()],L.localStreams[e.getId()]===e&&delete L.localStreams[e.getId()],e.pc&&(e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},L.processSubscribeFailure=function(e){e.p2pId&&L.p2ps.get(e.p2pId)===e&&L.p2ps.delete(e.p2pId),e.pc&&(e.pc.onaddstream=function(){},e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},L._adjustPCMuteStatus=function(e){(v.default.debug("[".concat(L.clientId,"]: use _adjustPCMuteStatus: ").concat(e.getId())),v.default.debug("[".concat(L.clientId,"]: video: ").concat(e.video,", audio: ").concat(e.audio,", suboption: ").concat(JSON.stringify(e.subscribeOptions),",userMuteVideo: ").concat(e.userMuteVideo,", peerMuteVideo: ").concat(e.peerMuteVideo,", userMuteAudio: ").concat(e.userMuteAudio,", peerMuteAudio: ").concat(e.peerMuteAudio)),!e.local&&e.pc&&e.pc.peerConnection.getReceivers)&&e.pc.peerConnection.getReceivers().forEach((function(t){if(t&&t.track&&"audio"===t.track.kind){var n=!e.userMuteAudio&&!e.peerMuteAudio;e.subscribeOptions&&!e.subscribeOptions.audio&&(n=!1),v.default.debug("[".concat(L.clientId,"]: set receiver audio track: ").concat(n)),t.track.enabled=!!n}else if(t&&t.track&&"video"===t.track.kind){var r=!e.userMuteVideo&&!e.peerMuteVideo;e.subscribeOptions&&!e.subscribeOptions.video&&(r=!1),v.default.debug("[".concat(L.clientId,"]: set receiver video track: ").concat(r)),t.track.enabled=!!r}}))},L.unsubscribe=function(e,t,n){if("object"!==d()(e)||null===e)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),void D(n,b.default.INVALID_REMOTE_STREAM);if(L.state!==R)return v.default.error("[".concat(L.clientId,"] User is not in the session")),void D(n,b.default.INVALID_OPERATION);if(null!=L.timers[e.getId()]&&(clearInterval(L.timers[e.getId()]),clearInterval(L.timers[e.getId()]+"audio")),null!=L.audioLevel[e.getId()]&&delete L.audioLevel[e.getId()],null!=L.timer_counter[e.getId()]&&delete L.timer_counter[e.getId()],L.remoteStreams.hasOwnProperty(e.getId())){if(!L.socket)return v.default.error("[".concat(L.clientId,"] User is not in the session")),void D(n,b.default.INVALID_OPERATION);if(e.local)return v.default.error("[".concat(L.clientId,"] Invalid remote stream")),void D(n,b.default.INVALID_REMOTE_STREAM);e.close(),e.stop();var r={stream_id:e.getId()};L.makeRequest({_type:"unsubscribe",_message:r}),void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,delete e.subscribeOptions,L.p2ps.delete(e.p2pId),v.default.info("[".concat(L.clientId,"] Unsubscribe stream success")),t&&t()}else D(n,b.default.NO_SUCH_REMOTE_STREAM)},L.setRemoteVideoStreamType=function(e,t){if(v.default.debug("[".concat(L.clientId,"] Switching remote video stream ").concat(e.getId()," to ").concat(t)),"object"===d()(e)&&null!==e)if(L.state===R){if(!e.local){switch(t){case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_HIGH:case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_LOW:case L.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_MEDIUM:break;default:return}var n={stream_id:e.getId(),stream_type:t};L.makeRequest({_type:"switch_video_stream",_message:n},(function(){v.default.debug("SwitchVideoStream Success ".concat(n.stream_id," ").concat(n.stream_type))}),(function(e,t){v.default.error("SwitchVideoStream Error ".concat(e," ").concat(n.stream_id," ").concat(n.stream_type),t)}))}}else v.default.error("[".concat(L.clientId,"] User is not in the session"));else v.default.error("[".concat(L.clientId,"] Invalid remote stream"))},L.renewToken=function(e,t,n){e?L.key?L.state!==R?(v.default.debug("[".concat(L.clientId,"] Client is not connected. Trying to rejoin")),L.key=e,L.rejoin(),t&&t()):(v.default.debug("[".concat(L.clientId,"] renewToken from ").concat(L.key," to ").concat(e)),L.key=e,L.makeRequest({_type:"renew_token",_message:{token:e}},t,n)):(v.default.error("[".concat(L.clientId,"] Client is previously joined without token")),n&&n(b.default.INVALID_PARAMETER)):(v.default.error("[".concat(L.clientId,"] Invalid Token ").concat(e)),n&&n(b.default.INVALID_PARAMETER))},L.setStreamFallbackOption=function(e,t){if(v.default.debug("[".concat(L.clientId,"] Set stream fallback option ").concat(e.getId()," to ").concat(t)),"object"===d()(e)&&null!==e)if(L.state===R){if(!e.local){switch(t){case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_DISABLED:case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:case L.streamFallbackTypes.STREAM_FALLBACK_OPTION_AUDIO_ONLY:break;default:return}var n={stream_id:e.getId(),fallback_type:t};L.makeRequest({_type:"set_fallback_option",_message:n},(function(){v.default.debug("SetStreamFallbackOption success ".concat(n.stream_id," ").concat(t))}),(function(e,r){v.default.error("Failed to SetStreamFallbackOption ".concat(n.stream_id," ").concat(t," ").concat(e),r)}))}}else v.default.error("[".concat(L.clientId,"] User is not in the session"));else v.default.error("[".concat(L.clientId,"] Invalid remote stream"))},L.enableAudioVolumeIndicator=function(e,t){L.audioVolumeIndication.enabled=!0,L.audioVolumeIndication.interval=e,L.audioVolumeIndication.smooth=t,L.resetAudioVolumeIndication()},L.resetAudioVolumeIndication=function(){if(clearInterval(L.timers.audioVolumeIndication),clearInterval(L.timers.audioVolumeSampling),L.audioVolumeIndication.enabled&&L.audioVolumeIndication.interval){var e=Math.floor(1e3*L.audioVolumeIndication.smooth/100);clearInterval(L.timers.audioVolumeSampling),L.timers.audioVolumeSampling=setInterval((function(){L.audioVolumeSampling||(L.audioVolumeSampling={});var t={};for(var n in L.remoteStreams){var r=L.remoteStreams[n];if(r.stream&&r.hasAudio()){var i=r.getAudioLevel();i>0&&i<1&&(i*=100);var o=L.audioVolumeSampling[n]||[];for(o.push(i);o.length>e;)o.shift();t[n]=o}}L.audioVolumeSampling=t}),100),clearInterval(L.timers.audioVolumeIndication),L.timers.audioVolumeIndication=setInterval((function(){if(L.socket&&L.socket.signal&&L.socket.signal.connection&&L.socket.signal.connection.readyState===WebSocket.OPEN){var e=[];for(var t in L.remoteStreams)if(L.audioVolumeSampling&&L.audioVolumeSampling[t]){var n=L.audioVolumeSampling[t],r=0;n.forEach((function(e){r+=e}));var i={uid:t,level:Math.floor(r/n.length)};i.level&&e.push(i)}var o=e.sort((function(e,t){return e.level-t.level}));v.default.debug("[".concat(L.clientId,"] volume-indicator "),JSON.stringify(o)),L.audioVolumeIndication.sortedAudioVolumes=o;var a=Object(m.a)({type:"volume-indicator",attr:o});L.dispatchEvent(a)}}),L.audioVolumeIndication.interval)}},L.closeGateway=function(){v.default.debug("[".concat(L.clientId,"] close gateway")),L.state=f,L.socket.close(),B()},L.startChannelMediaRelay=function(){var e=s()(o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L.channelMediaRelayController){e.next=2;break}throw new P.ChannelMediaError("RELAY_ALREADY_START","",P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_ALREADY_START);case 2:return n=function(e){L.dispatchEvent({type:"channel-media-relay-event",code:e})},r=function(e,t,n){e===P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE&&t===P.CHANNEL_MEDIA_RELAY_ERROR.SERVER_CONNECTION_LOST&&(L.channelMediaRelayController.dispose(),L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:e,code:t,data:n})},L.channelMediaRelayController=new x.a(L.joinInfo,L.clientId),L.channelMediaRelayController.on("event",n),L.channelMediaRelayController.on("state",r),e.prev=7,e.next=10,L.channelMediaRelayController.startChannelMediaRelay(t);case 10:e.next=22;break;case 12:throw e.prev=12,e.t0=e.catch(7),v.default.debug("[".concat(L.clientId,"] startChannelMediaRelay exception: ").concat(JSON.stringify(e.t0))),i=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,a="",a=e.t0 instanceof P.ChannelMediaError?"SetSourceChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetSourceChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_SRC":"SetDestChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetDestChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_DEST":e.t0.data&&e.t0.data.serverResponse&&"StartPacketTransfer"===e.t0.data.serverResponse.command?"FAILED_PACKET_SENT_TO_DEST":e.t0.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.t0.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.t0.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.t0.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.t0.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_TIMEOUT?"NO_RESOURCE_AVAILABLE":e.t0.message===P.CHANNEL_MEDIA_ERROR.WS_ABORT||e.t0.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-state",state:i,code:P.CHANNEL_MEDIA_RELAY_ERROR[a]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(a,null,P.CHANNEL_MEDIA_RELAY_ERROR[a]);case 22:L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_RUNNING,code:P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_OK}),L.channelMediaConfig=t;case 24:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}(),L.updateChannelMediaRelay=function(){var t=s()(o.a.mark((function t(n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.channelMediaRelayController){t.next=2;break}throw new P.ChannelMediaError("RELAY_NOT_START",null,P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,L.channelMediaRelayController.updateChannelMediaRelay(n);case 5:t.next=18;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(L.clientId,"] updateChannelMediaRelay exception: ").concat(JSON.stringify(e))),r=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,i="",i=e instanceof P.ChannelMediaError?e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.WS_ABORT||e.message===P.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-event",code:P.CHANNEL_MEDIA_RELAY_EVENT.PACKET_UPDATE_DEST_CHANNEL_REFUSED}),L.dispatchEvent({type:"channel-media-relay-state",state:r,code:P.CHANNEL_MEDIA_RELAY_ERROR[i]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(i,null,P.CHANNEL_MEDIA_RELAY_ERROR[i]);case 18:L.channelMediaConfig=n;case 19:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),L.stopChannelMediaRelay=s()(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.channelMediaRelayController){t.next=2;break}throw new P.ChannelMediaError("RELAY_NOT_START",null,P.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,L.channelMediaRelayController.stopChannelMediaRelay();case 5:t.next=17;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(L.clientId,"] stopChannelMediaRelay exception: ").concat(JSON.stringify(e))),n=P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,r="",r=e instanceof P.ChannelMediaError?e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===P.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===P.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":"INTERNAL_ERROR":"INTERNAL_ERROR",L.dispatchEvent({type:"channel-media-relay-state",state:n,code:P.CHANNEL_MEDIA_RELAY_ERROR[r]}),L.channelMediaRelayController&&(L.channelMediaRelayController.dispose(),L.channelMediaConfig=null,L.channelMediaRelayController=null),L.dispatchEvent({type:"channel-media-relay-state",state:P.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new P.ChannelMediaError(r,null,P.CHANNEL_MEDIA_RELAY_ERROR[r]);case 17:L.channelMediaConfig=null,L.channelMediaRelayController=null;case 19:case"end":return t.stop()}}),t,null,[[2,7]])}))),L.sendMetadata=function(e,t){L.makeRequest(function(e){return{_type:"send_metadata",_message:{session_id:L.joinInfo.sid,metadata:window.btoa(unescape(encodeURIComponent(e)))}}}(e),(function(){v.default.debug("[".concat(L.clientId,'] send metadata "').concat(e,'" success')),t&&t(null)}),(function(n){v.default.error("[".concat(L.clientId,'] send metadata "').concat(e,'" failed'),n),t&&t(n)}))},L._reportWebsocketCloseEvent=function(e,t){try{var n=E.report.getSessionStartTime(L.joinInfo.sid),r=Date.now();E.report.webSocketQuit({lts:r,sid:L.joinInfo.sid,cname:L.joinInfo.cname,cid:L.joinInfo.cid,uid:L.joinInfo.uid,elapse:r-n,succ:e,errorCode:t,ip:null})}catch(e){v.default.debug("[".concat(L.clientId,"]: _reportWebsocketCloseEvent exception, ").concat(e))}};var j=function(){v.default.debug("[".concat(L.clientId,"] Reconnect gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="recover",L.state=_,F()};L.recover=j;var B=function(){for(var e in L.dispatchEvent({type:"before-clear-connection"}),L.timers)L.timers.hasOwnProperty(e)&&clearInterval(L.timers[e]);for(var e in L.remoteStreams)if(L.remoteStreams.hasOwnProperty(e)){var t=L.remoteStreams[e],n=Object(m.a)({type:"stream-removed",uid:t.getId(),stream:t});L.dispatchEvent(n)}L.p2ps.clear(),q(),H(),clearInterval(L.pingTimer)};L.rejoin=function(){L.socket&&(clearInterval(L.pingTimer),L.socket.close(),L.socket=void 0),L.state=_,F()};var F=function(e,t){L.dispatchEvent(Object(m.a)({type:"rejoin-start"})),e=e||function(e){v.default.info("[".concat(L.clientId,"] User ").concat(e," is re-joined to ").concat(L.joinInfo.cname)),L.dispatchEvent(Object(m.a)({type:"rejoin"})),L.channelMediaConfig&&L.startChannelMediaRelay(L.channelMediaConfig).then((function(){v.default.debug("[".concat(L.clientId,"] restartChannelMediaRelay success"))})).catch((function(e){v.default.debug("[".concat(L.clientId,"] restartChannelMediaRelay failed: ").concat(JSON.stringify(e)))})),L.liveStreams&&L.liveStreams.size&&L.liveStreams.forEach((function(e,t){e&&L.setLiveTranscoding(L.transcoding),L.startLiveStreaming(t,e)})),L.injectLiveStreams&&L.injectLiveStreams.size&&L.injectLiveStreams.forEach((function(e,t){L.addInjectStreamUrl(t,e)}))},t=t||function(e){v.default.error("[".concat(L.clientId,"] Re-join to channel failed "),e),L.dispatchEvent(Object(m.e)({type:"error",reason:e}))},L.key?(++L.rejoinAttempt,L.join(L.joinInfo,L.key,e,t)):v.default.error("[".concat(L.clientId,"] Connection recover failed [Invalid channel key]"))},W=function(e,t,n){if(L.onConnect=t,L.socket){if(L.dispatchEvent({type:"reconnect"}),"retry"===L.reconnectMode)v.default.debug("[".concat(L.clientId,"] Retry current gateway")),L.socket.reconnect();else if("tryNext"===L.reconnectMode)v.default.debug("[".concat(L.clientId,"] Try next gateway")),L.socket.connectNext();else if("recover"===L.reconnectMode){v.default.debug("[".concat(L.clientId,"] Recover gateway")),v.default.debug("[".concat(L.clientId,"] Try to reconnect choose server and get gateway list again ")),L.reconnectingCS=!0;var i=L.joinInfo&&L.joinInfo.sid;0,Object(A.getGatewayList)(L.joinInfo,(function(e){v.default.debug("[".concat(L.clientId,"] session:  ").concat(i," get gateway list success")),L.joinInfo.apResponse=e.res,L.reconnectingCS?L.socket.replaceHost(e.gateway_addr):v.default.debug("[".concat(L.clientId,"] session:  ").concat(i," already leave"))}))}}else o=e.gatewayAddr,L.socket=T(o,{sid:L.joinInfo.sid,clientId:L.clientId,proxyServerType:L.joinInfo.proxyServerType}),L.socket.on("start-connection",(function(e){L.ticket=e&&e.msg&&e.msg.ticket})),L.socket.on("on_uplink_stats",(function(e){var t={};for(var n in e)t[M(n)]=e[n];if(L.OutgoingAvailableBandwidth=t.uplink_available_bandwidth,L.localStreams[L.uid]){var r=L.localStreams[L.uid].uplinkStats;r&&r.period_fir===t.period_fir||v.default.debug("[".concat(L.clientId,"]: Period fir change to: ").concat(t.period_fir)),L.localStreams[L.uid].uplinkStats=t}})),L.socket.on("connect",(function(){L.dispatchEvent({type:"connected"}),L.attemps=1,L.onConnect()})),L.socket.on("recover",(function(){L.state=_,v.default.debug("[".concat(L.clientId,"] Try to reconnect choose server and get gateway list again ")),L.reconnectingCS=!0;var e=L.joinInfo&&L.joinInfo.sid;Object(A.getGatewayList)(L.joinInfo,(function(t){v.default.debug("[".concat(L.clientId,"] session:  ").concat(e," get gateway list success")),L.reconnectingCS?L.socket.replaceHost(t.gateway_addr):v.default.debug("[".concat(L.clientId,"] session:  ").concat(e," already leave"))}))})),L.socket.on("disconnect",(function(e){if(v.default.debug("[".concat(L.clientId,"] Receive disconnect message")),L.state!==f){L.state=f,L._reportWebsocketCloseEvent(-1,b.WEBSOCKET_CLOSE_REASON.WS_DISCONNECT);var t=Object(m.e)({type:"error",reason:b.default.SOCKET_DISCONNECTED});if(L.dispatchEvent(t),0===L.p2ps.size?L.reconnectMode="tryNext":L.reconnectMode="retry",B(),L.channelMediaRelayController&&L.channelMediaRelayController.dispose(),L.channelMediaRelayController=null,1!=r){var n,i=(n=L.attemps,1e3*Math.min(30,Math.pow(2,n)-1));if(v.default.error("[".concat(L.clientId,"] Disconnect from server [").concat(JSON.stringify(e),"], attempt to recover [#").concat(L.attemps,"] after ").concat(i/1e3," seconds")),L.hasInvokeLeave)return v.default.debug("[".concat(L.clientId,"] No reconnection because Client.leave has been invoked")),void(L.hasInvokeLeave=!1);setTimeout((function(){L.attemps++,L.state=_,L.inChannelInfo&&Date.now()-L.inChannelInfo.joinAt>Object(y.getParameter)("TICKET_RENEW_TIMEOUT")?(v.default.debug("Recovering to renew ticket"),j()):F()}),i)}else{var o=V.unregister(L);o&&v.default.debug("[".concat(L.clientId,"] "),o)}}})),L.socket.on("on_add_audio_stream",(function(e){if(v.default.info("[".concat(L.clientId,"] Newly added audio stream with uid ").concat(e.uid)),L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.remoteStreamsInChannel.has(e.uid)||L.remoteStreamsInChannel.add(e.uid),void 0===L.remoteStreams[e.uid]){var t=Object(g.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});t.peerMuteVideo=!0,L.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});L.dispatchEvent(n);var r=L.remoteMuteState[e.uid];if(r&&r.audio){n=Object(m.a)({type:"mute-audio",uid:e.uid});L.dispatchEvent(n)}if(r&&r.video){n=Object(m.a)({type:"mute-video",uid:e.uid});L.dispatchEvent(n)}}E.report.onAddAudioStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})})),L.socket.on("on_update_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_update_stream:"),e);var t=L.remoteStreams[e.uid];if(L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),t){t.audio=e.audio,t.video=e.video,t.screen=e.screen,t.pc&&L._adjustPCMuteStatus(t);var n=Object(m.e)({type:"stream-updated",stream:t});L.dispatchEvent(n)}else v.default.debug("[".concat(L.clientId,"] Ignoring onUpdateStream event before onAddStream for uid ").concat(e.uid));E.report.onUpdateStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,audio:e.audio,video:e.video,uid:L.uid})})),L.socket.on("on_add_video_stream",(function(e){if(v.default.info("[".concat(L.clientId,"] Newly added remote stream with uid ").concat(e.uid,".")),L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.remoteStreamsInChannel.has(e.uid)||L.remoteStreamsInChannel.add(e.uid),void 0===L.remoteStreams[e.uid]){var t=Object(g.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});L.remoteStreams[e.uid]=t;var n=Object(m.e)({type:"stream-added",stream:t});L.dispatchEvent(n);var r=L.remoteMuteState[e.uid];if(r&&r.audio){n=Object(m.a)({type:"mute-audio",uid:e.uid});L.dispatchEvent(n)}if(r&&r.video){n=Object(m.a)({type:"mute-video",uid:e.uid});L.dispatchEvent(n)}}else{var i=L.remoteStreams[e.uid];if(i.video=!0,i.peerMuteVideo=!1,i.pc&&L._adjustPCMuteStatus(i),v.default.info("[".concat(L.clientId,"] Stream changed: enable video ").concat(e.uid)),void 0!==i.stream&&i.isPlaying()){var o=i.player.elementID;i.stop(),i.play(o,i.playOptions)}}E.report.onAddVideoStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})})),L.socket.on("on_remove_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_remove_stream:"),e),L.remoteStreamsInChannel.has(e.uid)&&L.remoteStreamsInChannel.delete(e.uid);var t=L.remoteStreams[e.uid];if(t){delete L.remoteStreams[e.uid],delete L.remoteMuteState[e.uid];var n=Object(m.e)({type:"stream-removed",stream:t});L.dispatchEvent(n),t.close(),void 0!==t.pc&&(t.pc.close(),t.pc=void 0,L.p2ps.delete(t.p2pId)),E.report.onRemoveStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid})}else v.default.error("ERROR stream ",e.uid," not found onRemoveStream ",e)})),L.socket.on("on_publish_stream",(function(e){v.default.info("[".concat(L.clientId,"] on_publish_stream:"),e);var t=L.localStreams[e.uid];L.dispatchEvent({type:"streamPublished",stream:t,proxy:e.proxy}),E.report.reportApiInvoke(L.joinInfo.sid,{name:"on_publish_stream",options:{proxy:e.proxy}})()})),L.socket.on("mute_audio",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer mute audio: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].audio=!0;var t=Object(m.a)({type:"mute-audio",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteAudio=!0,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("unmute_audio",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer unmute audio: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].audio=!1;var t=Object(m.a)({type:"unmute-audio",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteAudio=!1,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("mute_video",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer mute video: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].video=!0;var t=Object(m.a)({type:"mute-video",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteVideo=!0,n.player&&(n.player.peerVideoReady=!1),n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("unmute_video",(function(e){v.default.info("[".concat(L.clientId,"] rcv peer unmute video: ").concat(e.uid)),L.remoteMuteState[e.uid]=L.remoteMuteState[e.uid]||{audio:!1,video:!1},L.remoteMuteState[e.uid].video=!1;var t=Object(m.a)({type:"unmute-video",uid:e.uid}),n=L.remoteStreams[e.uid];n?(n.peerMuteVideo=!1,n.pc&&L._adjustPCMuteStatus(n),L.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)})),L.socket.on("on_crypt_error",(function(e){v.default.warning("[".concat(L.clientId,"] stream crypt error"));var t=Object(m.a)({type:"crypt-error",cryptType:e.crypt_type});L.dispatchEvent(t)})),L.socket.on("on_user_banned",(function(e){v.default.info("[".concat(L.clientId,"] user banned uid: ").concat(e.uid," error: ").concat(e.error_code));var t=Object(m.a)({type:"client-banned",uid:e.uid,attr:e.error_code});L.dispatchEvent(t),r=!0})),L.socket.on("on_stream_fallback_update",(function(e){v.default.info("[".concat(L.clientId,"] stream fallback peerId: ").concat(e.stream_id," type: ").concat(e.stream_type));var t=Object(m.a)({type:"stream-fallback",uid:e.stream_id,stream:e.stream_id,attr:e.stream_type});L.dispatchEvent(t)})),L.socket.on("stream_recover",(function(e){v.default.info("[".concat(L.clientId,"] stream recover uid: ").concat(e.id," peerId: ").concat(e.peerid," type: ").concat(e.type));var t=Object(m.a)({type:"stream-recover",uid:e.id,stream:e.peerid,attr:e.type});L.dispatchEvent(t)})),L.socket.on("on_p2p_lost",(function(e){v.default.debug("[".concat(L.clientId,"] p2plost: "),e,"p2ps:",L.p2ps);var t,n="DTLS failed";(t=L.localStreams[e.uid]||L.remoteStreams[e.uid])?(t.pc&&t.pc.offerCandidates&&0===t.pc.offerCandidates.length&&(n="NO_CANDIDATES_IN_OFFER"),"publish"===e.event&&E.report.publish(L.joinInfo.sid,{lts:t.publishLTS,succ:!1,audio:t.hasAudio(),video:t.hasVideo(),screenshare:t.hasScreen(),audioName:t.hasAudio()&&t.audioName,videoName:t.hasVideo()&&t.videoName,screenName:t.hasScreen()&&t.screenName,ec:n,publishRequestid:L.publishRequestId||0,p2pid:L.p2ps.get(t.getId())}),"subscribe"===e.event&&E.report.subscribe(L.joinInfo.sid,{lts:t.subscribeLTS,succ:!1,video:t.subscribeOptions&&t.subscribeOptions.video,audio:t.subscribeOptions&&t.subscribeOptions.audio,peerid:e.uid+"",ec:n,subscribeRequestid:L.subscribeRequestId.get(t.getId())||0,p2pid:L.p2ps.get(t.getId())})):v.default.warning("P2PLost Stream Not found",e),v.default.debug("[".concat(L.clientId,"] p2plost:"),e.p2pid),(t=L.p2ps.get(e.p2pid))&&(L.p2ps.delete(e.p2pid),t.local?L.dispatchEvent(Object(m.a)({type:"pubP2PLost",stream:t,attr:n})):L.remoteStreams[t.getId()]&&L.dispatchEvent(Object(m.a)({type:"subP2PLost",stream:t,attr:n})))})),L.socket.on("on_token_privilege_will_expire",(function(e){v.default.debug("[".concat(L.clientId,"] Received Message onTokenPrivilegeWillExpire")),L.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeWillExpire"}))})),L.socket.on("on_token_privilege_did_expire",(function(){v.default.warning("[".concat(L.clientId,"] Received Message onTokenPrivilegeDidExpire, please get new token and join again")),L.closeGateway(),L.dispatchEvent(Object(m.a)({type:"onTokenPrivilegeDidExpire"}))})),L.socket.on("enable_local_video",(function(e){v.default.info("[".concat(L.clientId,"] enable_local_video:"),e),L.dispatchEvent(Object(m.a)({type:"enable-local-video",uid:e.uid}))})),L.socket.on("disable_local_video",(function(e){v.default.info("[".concat(L.clientId,"] disable_local_video:"),e),L.dispatchEvent(Object(m.a)({type:"disable-local-video",uid:e.uid}))})),L._doWithAction=function(e,t,n){"tryNext"===e?function(e,t){v.default.debug("[".concat(L.clientId,"] Connect next gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="tryNext",L.state=_,F(e,t)}(t,n):"retry"===e?function(e,t){v.default.debug("[".concat(L.clientId,"] Reconnect gateway")),L.state=f,L.socket.close(),B(),L.reconnectMode="retry",L.state=_,F(e,t)}(t,n):"quit"===e?(v.default.debug("[".concat(L.clientId,"] quit gateway")),L.state=f,L.socket.close(),B()):"recover"===e&&j()},L.socket.on("on_notification",(function(e){if(v.default.debug("[".concat(L.clientId,"] Receive notification: "),e),"ERR_JOIN_BY_MULTI_IP"===b.GatewayErrorCode[e.code])return L.dispatchEvent({type:"onMultiIP",option:e.option});e.detail?L._doWithAction(C[b.GatewayErrorCode[e.code]]):e.action&&L._doWithAction(e.action)})),L.socket.on("on_user_offline",(function(e){v.default.info("[".concat(L.clientId,"] on_user_offline:"),e);var t=Object(m.a)({type:"peer-leave",uid:e.uid});if(L.remoteStreamsInChannel.has(e.uid)&&L.remoteStreamsInChannel.delete(e.uid),L.remoteStreams.hasOwnProperty(e.uid)&&(t.stream=L.remoteStreams[e.uid]),t.reason=e.reason,L.dispatchEvent(t),v.default.info("[".concat(L.clientId,"] remove remoteMuteState "),e.uid),delete L.remoteMuteState[e.uid],L.remoteStreams.hasOwnProperty(e.uid)){v.default.info("[".concat(L.clientId,"] closing stream on peer leave"),e.uid);var n=L.remoteStreams[e.uid];n.close(),delete L.remoteStreams[e.uid],E.report.onRemoveStream(L.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:L.uid}),void 0!==n.pc&&(n.pc.close(),n.pc=void 0,L.p2ps.delete(n.p2pId))}L.timers.hasOwnProperty(e.uid)&&(clearInterval(L.timers[e.uid]),clearInterval(L.timers[e.uid]+"_RelatedStats"),delete L.timers[e.uid]),null!=L.audioLevel[e.uid]&&delete L.audioLevel[e.uid],null!=L.timer_counter[e.uid]&&delete L.timer_counter[e.uid]})),L.socket.on("onUplinkStats",(function(e){})),L.socket.on("liveStreamingStarted",(function(e){var t=Object(m.c)({type:"liveStreamingStarted",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveStreamingFailed",(function(e){var t=Object(m.c)({type:"liveStreamingFailed",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveStreamingStopped",(function(e){var t=Object(m.c)({type:"liveStreamingStopped",url:e.url});L.dispatchEvent(t)})),L.socket.on("liveTranscodingUpdated",(function(e){var t=Object(m.c)({type:"liveTranscodingUpdated",reason:e.reason});L.dispatchEvent(t)})),L.socket.on("streamInjectedStatus",(function(e){var t=Object(m.c)({type:"streamInjectedStatus",url:e.url,uid:e.uid,status:e.status});L.dispatchEvent(t)})),L.socket.on("on_user_online",(function(e){L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),L.dispatchEvent({type:"peer-online",uid:e.uid})})),L.socket.on("receive_metadata",(function(e){L.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID");var t=decodeURIComponent(escape(window.atob(e.metadata)));v.default.debug("[".concat(L.clientId,"] received ").concat(e.uid," metadata: ").concat(t)),L.dispatchEvent({type:"receive-metadata",uid:e.uid,metadata:t})}));var o},G=function(e,t){if(void 0!==L.socket)try{L.socket.emitSimpleMessage(e,(function(e,n){t&&t(e,n)}))}catch(e){v.default.error("[".concat(L.clientId,"] Error in sendSimpleSdp [").concat(e,"]"))}else v.default.error("[".concat(L.clientId,"] Error in sendSimpleSdp [socket not ready]"))},H=function(){for(var e in L.localStreams)if(void 0!==L.localStreams[e]){var t=L.localStreams[e];delete L.localStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}},q=function(){for(var e in L.remoteStreamsInChannel.clear(),L.remoteStreams)if(L.remoteStreams.hasOwnProperty(e)){var t=L.remoteStreams[e];t.isPlaying()&&t.stop(),t.close(),delete L.remoteStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}};return L},V={_gatewayClients:{},register:function(e,t){if(!t.uid){var n="NO_UID_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),n,t),n}if(t.cname){if(this._gatewayClients[t.cname]&&this._gatewayClients[t.cname][t.uid]&&this._gatewayClients[t.cname][t.uid]!==e){n="UID_CONFLICT";return v.default.error("[".concat(e.clientId,"] "),n,t),n}return v.default.debug("[".concat(e.clientId,"] register client Channel"),t.cname,"Uid",t.uid),this._gatewayClients[t.cname]||(this._gatewayClients[t.cname]={}),this._gatewayClients[t.cname][t.uid]=e,null}var n="NO_CHANNEL_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),n,t),n},unregister:function(e){var t=e&&e.uid,n=e.joinInfo&&e.joinInfo.cname;if(!t||!n){var r="INVALID_GATEWAYCLIENT";return v.default.error("[".concat(e.clientId,"] "),r),r}if(this._gatewayClients[n]&&this._gatewayClients[n][t]){if(this._gatewayClients[n][t]!==e){r="GATEWAYCLIENT_UID_CONFLICT";return v.default.error("[".concat(e.clientId,"] "),r),r}return v.default.debug("[".concat(e.clientId,"] unregister client "),e.uid),delete this._gatewayClients[n][t],null}var r="GATEWEAY_CLIENT_UNREGISTERED";v.default.error("[".concat(e.clientId,"] "),r)}};j.DISCONNECTED=0,j.CONNECTING=1,j.CONNECTED=2,j.DISCONNECTING=3,j.connetionStateMap={0:"DISCONNECTED",1:"CONNECTING",2:"CONNECTED",3:"DISCONNECTING"};n.a=j},function(e,t,n){"use strict";n.r(t),n.d(t,"post",(function(){return l})),n.d(t,"postFormData",(function(){return u})),n.d(t,"shouldUseHttps",(function(){return f})),n.d(t,"getHTTPSendBytes",(function(){return s})),n.d(t,"getHTTPRecvBytes",(function(){return c})),n.d(t,"resetHTTPByetsCount",(function(){return d}));var r=n(2),i=n(10),o=0,a=0,s=function(){return o},c=function(){return a},d=function(){o=0,a=0},u=function(e,t,n,s,c){var d=new XMLHttpRequest;if(d.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),d.open("POST",e,!0),c)for(var u in c)"withCredentials"==u?d.withCredentials=!0:d.setRequestHeader(u,c[u]);d.onload=function(t){a+=Object(i.lengthInUtf8Bytes)(d.responseText),200!==d.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(d.responseText)},d.onerror=function(t){s&&s(t,e)},d.ontimeout=function(t){s&&s(t,e)};var l=JSON.stringify(t);o+=Object(i.lengthInUtf8Bytes)(l);var f=new FormData;f.append("request",l),d.send(f)},l=function(e,t,n,s,c){var d=new XMLHttpRequest;if(d.timeout=t.timeout||Object(r.getParameter)("HTTP_CONNECT_TIMEOUT"),d.open("POST",e,!0),d.setRequestHeader("Content-type","application/json; charset=utf-8"),c)for(var u in c)"withCredentials"==u?d.withCredentials=!0:d.setRequestHeader(u,c[u]);d.onload=function(t){a+=Object(i.lengthInUtf8Bytes)(d.responseText),200!==d.status?s&&s({httpErrorCode:"httpcode-xhr.status"},e):n&&n(d.responseText)},d.onerror=function(t){s&&s(t,e)},d.ontimeout=function(t){s&&s(t,e)};var l=JSON.stringify(t);o+=Object(i.lengthInUtf8Bytes)(l),d.send(l)},f=function(){return"https:"==document.location.protocol}},function(e,t,n){"use strict";n.r(t),n.d(t,"RTCPeerConnection",(function(){return T})),n.d(t,"getUserMedia",(function(){return a})),n.d(t,"attachMediaStream",(function(){return s})),n.d(t,"reattachMediaStream",(function(){return c})),n.d(t,"setSrcObject",(function(){return p})),n.d(t,"getSrcObject",(function(){return g})),n.d(t,"webrtcDetectedBrowser",(function(){return d})),n.d(t,"webrtcDetectedVersion",(function(){return u})),n.d(t,"webrtcMinimumVersion",(function(){return l})),n.d(t,"webrtcTesting",(function(){return I})),n.d(t,"webrtcUtils",(function(){return v}));var r=n(11),i=n.n(r),o=n(5),a=null,s=null,c=null,d=null,u=null,l=null,f=null,p=null,g=null,m=null,h={addStream:null},v={log:function(){},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n])}};if("object"==("undefined"==typeof window?"undefined":i()(window))?(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)?(p=function(e,t){"mozSrcObject"in e?e.mozSrcObject=t:(e._srcObject=t,e.src=t?URL.createObjectURL(t):null)},g=function(e){return"mozSrcObject"in e?e.mozSrcObject:e._srcObject}):(p=function(e,t){e.srcObject=t},g=function(e){return e.srcObject}),a=window.navigator&&window.navigator.getUserMedia):(p=function(e,t){e.srcObject=t},g=function(e){return e.srcObject}),s=function(e,t){p(e,t)},c=function(e,t){p(e,g(t))},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){for(var E in v.log("This appears to be Firefox"),d="firefox",u=v.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),l=31,m=mozRTCPeerConnection,h)h[E]=m.prototype[E];if(f=function(e,t){if(u<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];if(i.hasOwnProperty("urls"))for(var o=0;o<i.urls.length;o++){var a={url:i.urls[o]};0===i.urls[o].indexOf("turn")&&(a.username=i.username,a.credential=i.credential),n.push(a)}else n.push(e.iceServers[r])}e.iceServers=n}var s=new m(e,t);for(var c in h)s[c]=h[c];return s},window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),a=function(e,t,n){var r=function(e){if("object"!==i()(e)||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===i()(e[n])?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var o={};"number"==typeof r.ideal?o[n]={min:r.ideal,max:r.ideal}:o[n]=r.ideal,e.advanced.push(o),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return u<38&&(v.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=r(e.audio)),e.video&&(e.video=r(e.video)),v.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)},navigator.getUserMedia=a,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:R,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},u<41){var S=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return S().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){for(var E in v.log("This appears to be Chrome"),d="chrome",u=v.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),l=38,m=webkitRTCPeerConnection,h)h[E]=m.prototype[E];f=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new m(e,t);for(var r in h)n[r]=h[r];var i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=arguments;r.length>0&&"function"==typeof e&&(t?(n=t,t=e,r=[e=null,t,n]):(t=e,r=[e=null,t]));var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t};if(r.length>=2){var a=function(e){r[1](o(e))};return i.apply(this,[a,r[0]])}return i()},n},["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===i()(arguments[0])){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this;return new Promise((function(r,i){t.apply(n,[e[0],function(){r(),e.length>=2&&e[1].apply(null,[])},function(t){i(t),e.length>=3&&e[2].apply(null,[t])}])}))}}));var _=function(e){if("object"!==i()(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i()(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[o("min",n)]=r.ideal,t.optional.push(a),(a={})[o("max",n)]=r.ideal,t.optional.push(a)):(a[o("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(a=function(e,t,n){return e.audio&&(e.audio=_(e.audio)),e.video&&(e.video=_(e.video)),v.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,n)},navigator.getUserMedia=a,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:R,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){if((Object(o.getBrowserVersion)()?Number(Object(o.getBrowserVersion)().split(".")[0]):void 0)<46){var y=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return v.log("spec:   "+JSON.stringify(e)),e.audio=_(e.audio),e.video=_(e.video),v.log("chrome: "+JSON.stringify(e)),y(e)}}}else navigator.mediaDevices.getUserMedia=function(e){return R(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){v.log("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){v.log("Dummy mediaDevices.removeEventListener called.")}),s=function(e,t){u>=43?p(e,t):void 0!==e.src?e.src=t?URL.createObjectURL(t):null:v.log("Error attaching stream to element.")},c=function(e,t){u>=43?p(e,g(t)):e.src=t.src}}else navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(v.log("This appears to be Edge"),d="edge",u=v.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),l=12):v.log("Browser does not appear to be WebRTC-capable");else v.log("This does not appear to be a browser"),d="not a browser";function R(e){return new Promise((function(t,n){a(e,t,n)}))}var T,I={};try{Object.defineProperty(I,"version",{set:function(e){u=e}})}catch(e){}f?T=f:"undefined"!=typeof window&&(T=window.RTCPeerConnection)},function(e,t,n){"use strict";var r=n(12),i=n.n(r),o=n(17),a=n.n(o),s=n(51),c=n.n(s),d=n(5),u=n(1),l=n(3),f=n(0),p=(n(25),n(2),n(4),n(52)),g=n.n(p),m=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function h(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,o=new Uint8Array(i),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;for(var c=0,d=0;d<256;d++){var u=[a[c=(c+a[d]+t[d%n])%256],a[d]];a[d]=u[0],a[c]=u[1]}var l,f=0;c=0;for(var p=0;p<0+i;p++){var g=[a[c=(c+a[f=(f+1)%256])%256],a[f]];a[f]=g[0],a[c]=g[1],l=a[(a[f]+a[c])%256],p>=0&&(o[p-0]=r[p-0]^l)}var m=String.fromCharCode.apply(null,o);return Function("var winSize = 5; return `"+m+"`")()}function v(e,t){var n=h(t),r=g.a.createProgramFromSources(e,[h(m),n]),i=e.getAttribLocation(r,"a_position"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(i);var a=2,s=e.FLOAT,c=!1,d=0,u=0;e.vertexAttribPointer(i,a,s,c,d,u);var l=e.getAttribLocation(r,"a_texCoord"),f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(l);a=2,s=e.FLOAT,c=!1,d=0,u=0;return e.vertexAttribPointer(l,a,s,c,d,u),r}var E=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];function S(e,t,n){var r=e.gl;this.program=v(r,E),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY");r.uniform1f(e,1)}}var _=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];function y(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,_),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var R=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];function T(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,R),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var I=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];function b(e,t,n){var r=e.gl,i=1/t,o=1/n,a=5;this.program=v(r,I),this.setUniforms=function(){r.getUniformLocation(this.program,"u_image");var e=r.getUniformLocation(this.program,"u_flipY"),t=r.getUniformLocation(this.program,"u_singleStepOffset"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform2f(t,i,o),r.uniform1f(n,a),r.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(a=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,o=1/t}}var A=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144];function O(e,t,n){var r=e.gl,i=5,o=.1,a=.5,s=175/180*3.141593,c=115/180*3.141593,d=173/180*3.141593,u=116/180*3.141593,l=2.04203545,f=0,p=0,g=0,m=[],h=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],S=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];this.program=v(r,A),this.setUniforms=function(){var t=r.getUniformLocation(this.program,"u_flipY"),n=r.getUniformLocation(this.program,"u_denoiseLevel");r.uniform1f(n,i),r.uniform1f(t,1);var h=r.getUniformLocation(this.program,"light");r.uniform1f(h,o);var v=r.getUniformLocation(this.program,"redness");r.uniform1f(v,a);var E=r.getUniformLocation(this.program,"skin_he_max"),S=r.getUniformLocation(this.program,"skin_he_min"),_=r.getUniformLocation(this.program,"skin_hc_max"),y=r.getUniformLocation(this.program,"skin_hc_min"),R=r.getUniformLocation(this.program,"skin_hc_axis"),T=r.getUniformLocation(this.program,"facts_rotate_c"),I=r.getUniformLocation(this.program,"facts_rotate_le"),b=r.getUniformLocation(this.program,"facts_rotate_ge");r.uniform1f(E,s),r.uniform1f(S,c),r.uniform1f(_,d),r.uniform1f(y,u),r.uniform1f(R,l),r.uniform1f(T,f),r.uniform1f(I,p),r.uniform1f(b,g);var A=r.getUniformLocation(this.program,"u_originImage");r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,e.inputTexture),r.uniform1i(A,2);for(var O=["lighten_lut"],C=[r.TEXTURE3],N=0;N<O.length;N++){var w=r.getUniformLocation(this.program,O[N]);r.activeTexture(C[N]),r.bindTexture(r.TEXTURE_2D,m[N]),r.uniform1i(w,N+3)}},this.setParameters=function(e){void 0!==e.denoiseLevel&&(i=e.denoiseLevel),void 0!==e.lightLevel&&(o=e.lightLevel),void 0!==e.rednessLevel&&(a=e.rednessLevel,this._updateRedness(a)),void 0!==e.lighteningContrastLevel&&this._updateLut(e.lighteningContrastLevel)},this._updateRedness=function(e){var t,n,r=3.141593,i=e,o=i;i>1&&(i=1),i<0&&(i=0),o>1&&(o=1),o<0&&(o=0),f=.8*i,o<.8&&(o=0),(l=(117-4*o)/180*r)<(u=(116-4*o)/180*r)&&(l=u),u<r/2&&(u=r/2),l<r/2&&(l=r/2),(c=(115-4*o)/180*r)<r/2&&(c=r/2),(d=173/180*r)>r&&(d=r),l>r&&(l=r),(s=175/180*r)>r&&(s=r),n=d-l,g=(t=s-d)>.01?f*n/t:f,n=l-u,p=(t=u-c)>.01?f*n/t:f},this._updateLut=function(e){var t=null;0==e&&(t=E),1==e&&(t=S),2==e&&(t=h);for(var n=[new Uint8Array(t)],i=[256],o=[1],a=0;a<n.length;a++)r.bindTexture(r.TEXTURE_2D,m[a]),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,i[a],o[a],0,r.LUMINANCE,r.UNSIGNED_BYTE,n[a])},this._init=function(){var e=null;e=E;for(var t=[new Uint8Array(e)],n=[256],i=[1],o=0;o<t.length;o++){var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,n[o],i[o],0,r.LUMINANCE,r.UNSIGNED_BYTE,t[o]),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),m.push(a)}},this._init()}var C=!1;function N(){this.programs=[];var e=this,t=null,n=null;e.gl=null,e.inputTexture=null;var r=[],i=[],o=0,a=0;e._initGl=function(n,s){e.inputTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR);for(var c=0;c<4;c++){var d=t.createTexture();t.bindTexture(t.TEXTURE_2D,d),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),c<2?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,s,0,t.RGBA,t.UNSIGNED_BYTE,null):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,s,n,0,t.RGBA,t.UNSIGNED_BYTE,null);var u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,d,0),r.push(d),i.push(u)}t.viewport(0,0,n,s),o=n,a=s},e.render=function(s){if(t){var c=0;a==s.videoWidth&&o===s.videoHeight&&(c=2),t.viewport(0,0,s.videoWidth,s.videoHeight),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s);for(var d=C?e.programs.length-1:0,u=0;u<=d;u++){var l=e.programs[u].program;t.useProgram(l);var f=t.getUniformLocation(l,"u_image");e.programs[u].setUniforms(),t.bindFramebuffer(t.FRAMEBUFFER,i[c+u%2]),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r[c+u%2]),t.uniform1i(f,0)}t.useProgram(n);var p=t.getUniformLocation(n,"u_flipY");t.uniform1f(p,-1),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)}},e.setEnableBeauty=function(e){C=e},e.init=function(r,i,o){if("undefined"==typeof WebGLRenderingContext)throw new Error("NOT_SUPPORT");t=o.getContext("webgl"),e.gl=t,e._initGl(r,i),e.programs.push(new S(this,r,i)),e.programs.push(new y(this,r,i)),e.programs.push(new T(this,r,i)),e.programs.push(new b(this,r,i)),e.programs.push(new O(this,r,i)),n=e.programs[0].program},e.release=function(){e.gl=null,t=null,n=null,e.inputTexture=null,e.programs=[],r=[],i=[]},e.setDenoiseLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({denoiseLevel:t})}))},e.setLightLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lightLevel:t})}))},e.setRednessLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({rednessLevel:t})}))},e.setContrastLevel=function(t){e.programs.forEach((function(e){e.setParameters&&e.setParameters({lighteningContrastLevel:t})}))},e.setSize=function(t,n){e.programs.forEach((function(e){e.setSize&&e.setSize(t,n)}))}}N._instance=null,N.getInstance=function(){return N._instance||(N._instance=new N),N._instance};t.a={addVideoEffectCapability:function(e){e.videoEffect={canvas:null,video:null,fps:30,stopChromeBackgroundLoop:null,enableBeauty:!1,denoiseLevel:5,lightLevel:.35,rednessLevel:.5,lighteningContrastLevel:1,videoContextInited:!1,originVideoTrack:null,canvasVideoTrack:null,ctx:null},e._initVideoContext=function(){if(e.videoEffect.videoContextInited)throw new Error("Failed to init video context. Already inited");if(!e.stream)throw new Error("Failed to init video context. Local Stream not initialized");e.videoEffect.originVideoTrack=e.stream.getVideoTracks()[0],e.attributes&&e.attributes.maxFrameRate&&(e.videoEffect.fps=e.attributes.maxFrameRate),e.videoEffect.videoContextInited=!0},e._renderWithWebGL=function(t){return new Promise((function(n){e.videoEffect.canvas||(e.videoEffect.canvas=document.createElement("canvas")),e.videoEffect.video||(e.videoEffect.video=document.createElement("video")),e.videoEffect.video.setAttribute("autoplay",""),e.videoEffect.video.setAttribute("muted",""),e.videoEffect.video.muted=!0,e.videoEffect.video.setAttribute("playsinline",""),e.videoEffect.video.setAttribute("style","display:none"),e.videoEffect.video.srcObject=t;var r=t.getVideoTracks()[0].getSettings(),i=r.width,o=r.height;console.log("Width: ".concat(i,", Height: ").concat(o)),e.videoEffect.canvas.setAttribute("width",i),e.videoEffect.canvas.setAttribute("height",o),e.videoEffect.video.setAttribute("width",i),e.videoEffect.video.setAttribute("height",o);var a=N.getInstance();a.init(e.videoEffect.video.width,e.videoEffect.video.height,e.videoEffect.canvas),a.setDenoiseLevel(e.videoEffect.denoiseLevel),a.setLightLevel(e.videoEffect.lightLevel),a.setRednessLevel(e.videoEffect.rednessLevel),a.setContrastLevel(e.videoEffect.lighteningContrastLevel);e.videoEffect.video.addEventListener("playing",(function t(){var r=e.videoEffect.canvas.captureStream(e.videoEffect.fps);e.videoEffect.video.removeEventListener("playing",t,!0),n([r.getVideoTracks()[0],e.videoEffect.video])}),!0),e.videoEffect.video.play()}))},e._disableEffect=function(){e.videoEffect.videoContextInited||e._initVideoContext();var t=e.videoEffect.originVideoTrack;if(!t)return f.default.warning("Video track is null, fail to disable video effect!"),Promise.resolve();if(e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind}));if(n&&n.replaceTrack&&t)return n.replaceTrack(t)}return Promise.resolve()},e._releaseEffect=function(){var t;return t=e.videoEffect.enableBeauty?e._disableEffect():Promise.resolve(),N.getInstance().release(),e.videoEffect.videoContextInited=!1,e.videoEffect.canvasVideoTrack=null,t},e._enableEffect=function(){return e.videoEffect.videoContextInited||e._initVideoContext(),e.videoEffect.originVideoTrack?e.videoEffect.canvasVideoTrack?(e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()):e._renderWithWebGL(e.stream).then((function(t){var n=c()(t,2),r=n[0],i=n[1];e.videoEffect.canvasVideoTrack=r;var o=N.getInstance();return requestAnimationFrame((function t(){e.videoEffect.enableBeauty&&o.render(i),e.videoEffect.videoContextInited&&requestAnimationFrame(t)})),d.isChrome()&&document.addEventListener("visibilitychange",(function(){document.hidden;document.hidden?e.videoEffect.stopChromeBackgroundLoop=function(e,t){var n=1/t,r=new AudioContext,i=r.createGain();i.gain.value=0,i.connect(r.destination),function t(){var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime),o&&(a.onended=function(){r.close()})}();var o=!1;return function(){o=!0}}((function(){e.videoEffect.enableBeauty&&o.render(i)}),e.videoEffect.fps):e.videoEffect.stopChromeBackgroundLoop&&(e.videoEffect.stopChromeBackgroundLoop(),e.videoEffect.stopChromeBackgroundLoop=null)}),!1),e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()})):(f.default.warning("Video track is null, fail to enable video effect!"),Promise.resolve())},e._showEffectInLocalPlayer=function(){if(e.player){var t=e.player.div.children[0];if("none"!==t.style.display&&(e.player.div.appendChild(e.videoEffect.canvas),"video"===t.tagName.toLowerCase())){var n=t.getAttribute("style");e.videoEffect.canvas.setAttribute("style",n),"none"!==t.style.display&&(t.style.display="none")}}},e._removeEffectFromLocalPlayer=function(){if(e.player&&e.player.div&&e.videoEffect.enableBeauty&&e.videoEffect.canvas){e.player.div.removeChild(e.videoEffect.canvas);var t=e.player.div.children[0];"video"===t.tagName.toLowerCase()&&(e.videoEffect.canvas.style.display="none",t.style.display="block")}},e._replaceWithCanvasTrack=function(){var t=null;e.pc&&e.pc.peerConnection&&e.pc.peerConnection&&(t=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"video"==e.track.kind})));return t&&t.replaceTrack&&e.videoEffect.canvasVideoTrack?t.replaceTrack(e.videoEffect.canvasVideoTrack):Promise.resolve()},e.setBeautyEffectOptions=function(){var t=a()(i.a.mark((function t(n,r){var o,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(l.checkValidBoolean)(n,"enabled"),o=N.getInstance(),e.videoEffect.enableBeauty==n){t.next=14;break}if(o.setEnableBeauty(n),!n){t.next=9;break}return t.next=7,e._enableEffect();case 7:t.next=12;break;case 9:return e._removeEffectFromLocalPlayer(),t.next=12,e._releaseEffect();case 12:e.videoEffect.enableBeauty=n,u.report.reportApiInvoke(e.sid,{callback:null,options:a,name:"Stream.setBeautyEffectOptions",tag:"tracer"});case 14:if(n){t.next=16;break}return t.abrupt("return");case 16:if(!r){t.next=20;break}Object(l.checkValidObject)(r,"options"),t.next=21;break;case 20:return t.abrupt("return");case 21:if(void 0!==r.smoothnessLevel&&(Object(l.checkValidFloatNumber)(r.smoothnessLevel,"smoothnessLevel",0,1),e.videoEffect.denoiseLevel=10*r.smoothnessLevel,e.videoEffect.denoiseLevel<.1&&(e.videoEffect.denoiseLevel=.1),o.setDenoiseLevel(e.videoEffect.denoiseLevel)),void 0!==r.lighteningLevel&&(Object(l.checkValidFloatNumber)(r.lighteningLevel,"lighteningLevel",0,1),e.videoEffect.lightLevel=r.lighteningLevel/2,e.videoEffect.lightLevel<.01&&(e.videoEffect.lightLevel=.01),o.setLightLevel(e.videoEffect.lightLevel)),void 0!==r.rednessLevel&&(Object(l.checkValidFloatNumber)(r.rednessLevel,"rednessLevel",0,1),e.videoEffect.rednessLevel=r.rednessLevel,e.videoEffect.rednessLevel<.01&&(e.videoEffect.rednessLevel=.01),o.setRednessLevel(e.videoEffect.rednessLevel)),void 0===r.lighteningContrastLevel){t.next=29;break}if(0===r.lighteningContrastLevel||1===r.lighteningContrastLevel||2===r.lighteningContrastLevel){t.next=27;break}throw new Error("Invalid lighteningContrastLevel: The value should be 0, 1 or 2.");case 27:e.videoEffect.lighteningContrastLevel=parseFloat(r.lighteningContrastLevel),o.setContrastLevel(e.videoEffect.lighteningContrastLevel);case 29:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},restoreVideoEffect:function(e){return e.videoEffect.enableBeauty?e._enableEffect():Promise.resolve()},disableVideoEffect:function(e){return e._releaseEffect?e._releaseEffect():Promise.resolve()},applyEffectInPlayer:function(e){e.videoEffect.enableBeauty&&e.videoEffect.canvas&&e._showEffectInLocalPlayer()},removeEffectFromLocalPlayer:function(e){e._removeEffectFromLocalPlayer()},replaceWithCanvasTrack:function(e){return e.videoEffect.enableBeauty?e._replaceWithCanvasTrack():Promise.resolve()},checkVideoEffectEnabled:function(e){if(e.videoEffect.enableBeauty&&e.videoEffect&&e.videoEffect.videoContextInited){return f.default.error("Operation not permitted: ".concat("VIDEO_EFFECT_ENABLED")),"VIDEO_EFFECT_ENABLED"}return!1}}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";var r=n(38),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),i=n.n(r),o=n(8),a=n(0),s=n(4);function c(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=new function(){var e=Object(o.b)();return e.devicesHistory={},e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.deviceStates={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},e.deviceReloadTimer=null,e._init=function(t,n){e.state=e.states.INITING,e.devicesHistory={},e._reloadDevicesInfo((function(){e.state=e.states.INITED,e.dispatchEvent({type:"inited"}),t&&t()}),(function(t){a.default.warning("Device Detection functionality cannot start properly."),e.state=e.states.UNINIT,n&&n(t)}))},e._enumerateDevices=function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a.default.warning("enumerateDevices() not supported."),t&&t("enumerateDevices() not supported");navigator.mediaDevices.enumerateDevices().then((function(t){e&&setTimeout((function(){e(t)}),0)})).catch((function(e){t&&t(e)}))},e._reloadDevicesInfo=function(t,n){var r=[];e._enumerateDevices((function(n){var o=Date.now();for(var s in n.forEach((function(t){var n=e.devicesHistory[t.deviceId];if((n?n.state:e.deviceStates.INACTIVE)!=e.deviceStates.ACTIVE){var i=n||{initAt:o};i.device=t,i.state=e.deviceStates.ACTIVE,r.push(i),e.devicesHistory[t.deviceId]=i}e.devicesHistory[t.deviceId].lastReloadAt=o})),e.devicesHistory){var c=e.devicesHistory[s];c&&c.state==e.deviceStates.ACTIVE&&c.lastReloadAt!==o&&(c.state=e.deviceStates.INACTIVE,r.push(c)),c.lastReloadAt=o}e.state==e.states.INITED&&r.forEach((function(t){var n=i()({},t);switch(t.device.kind){case"audioinput":n.type="recordingDeviceChanged";break;case"audiooutput":n.type="playoutDeviceChanged";break;case"videoinput":n.type="cameraChanged";break;default:a.default.warning("Unknown device change",n),n.type="unknownDeviceChanged"}e.dispatchEvent(n)})),t&&t()}),n)},e.getDeviceById=function(t,n,r){e.getDevices((function(e){for(var i=0;i<e.length;i++){var o=e[i];if(o&&o.deviceId===t)return n&&n(o)}return r&&r()}))},e.searchDeviceNameById=function(t){var n=e.devicesHistory[t];return n?n.device.label||n.device.deviceId:null},e.getDevices=function(t,n){e._enumerateDevices(t,(function(e){n&&n(e.name+": "+e.message)}))},e.getVideoCameraIdByLabel=function(t,n,r){e.getCameras((function(e){var i,o=c(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.label===t)return n&&n(a.deviceId)}}catch(e){o.e(e)}finally{o.f()}return r&&r(s.default.NOT_FIND_DEVICE_BY_LABEL)}),r)},e.getRecordingDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audioinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getPlayoutDevices=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"audiooutput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e.getCameras=function(t,n){return e._enumerateDevices((function(e){var n=e.filter((function(e){return"videoinput"==e.kind}));t&&t(n)}),(function(e){n&&n(e)}))},e._init((function(){navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",(function(){e._reloadDevicesInfo()})),e.deviceReloadTimer=setInterval(e._reloadDevicesInfo,5e3)})),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"_getReconnectCSTimer",(function(){return A})),n.d(t,"_setClientConnectionStateRecord",(function(){return O})),n.d(t,"getGatewayList",(function(){return N})),n.d(t,"getUserAccount",(function(){return L}));var r=n(11),i=n.n(r),o=n(12),a=n.n(o),s=n(17),c=n.n(s),d=n(2),u=(n(5),n(0)),l=n(14),f=n(1),p=n(4),g=function(e,t){var n=!1,r=0,i=Object(d.getParameter)("PROXY_CS"),o=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),a=0,s={command:"convergeAllocateEdge",sid:e.sid,appId:e.appId,token:e.token,uid:e.uid,cname:e.cname,ts:Math.floor(Date.now()/1e3),version:d.VERSION,seq:0,requestId:1},c=function(c){var d=(new Date).getTime();m("https://"+c+"/api/v1",s,(function(s,p){if(s)return u.default.debug("["+e.clientId+"] Request proxy server failed: ",s),r++,f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:JSON.stringify(s),response:JSON.stringify({err:s,res:p})}),r>=i.length&&t&&t("Get proxy server failed: request all failed"),void(!(r%o)&&r<i.length&&(a++,l()));if(!n)if((p=JSON.parse(p)).json_body){var g=JSON.parse(p.json_body);if(u.default.debug("["+e.clientId+"] App return:",g.servers),200!==g.code){s="Get proxy server failed: response code ["+g.code+"], reason [ "+g.reason+"]";r++,u.default.debug("["+e.clientId+"] "+s),f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:s,response:JSON.stringify({err:s,res:p})}),r>=i.length&&t&&t(s),!(r%o)&&r<i.length&&(a++,l())}else{n=!0;var m=v(g.servers);f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!0,APAddr:c,workerManagerList:JSON.stringify(m),ec:null,response:JSON.stringify({res:p})}),t&&t(null,m)}}else u.default.debug("["+e.clientId+"] Get proxy server failed: no json_body"),f.report.requestProxyAppCenter(e.sid,{lts:d,succ:!1,APAddr:c,workerManagerList:null,ec:"Get proxy server failed: no json_body",response:JSON.stringify({res:p})})}))},l=function(){for(var e=a*o,t=e;t<Math.min(i.length,e+o);t++){var n=i[t];c(n)}};l()},m=function(e,t,n){var r={service_name:"webrtc_proxy",json_body:JSON.stringify(t)};Object(l.post)(e,r,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}),{"X-Packet-Service-Type":0,"X-Packet-URI":61})},h=function(e,t,n){var r=!1,i=0,o={command:"request",gatewayType:"http",appId:e.appId,cname:e.cname,uid:e.uid+"",sdkVersion:"2.3.1",sid:e.sid,seq:1,ts:+new Date,requestId:3,clientRequest:{appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid}};t.map((function(a){var s=(new Date).getTime();!function(e,t,n){Object(l.post)(e,t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))}("https://"+a+":4000/v2/machine",o,(function(o,c){if(o)return u.default.debug("["+e.clientId+"] Request worker manager failed: ",o),i++,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!1,workerManagerAddr:a,ec:JSON.stringify(o),response:JSON.stringify({res:c})}),void(i>=t.length&&n&&n("requeet worker manager server failed: request failed"));if(!r){if(!(c=JSON.parse(c)).serverResponse)return n&&n("requeet worker manager server failed: serverResponse is undefined");r=!0,f.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!0,workerManagerAddr:a,ec:JSON.stringify(o),response:JSON.stringify({res:c})}),n&&n(null,{address:a,serverResponse:c.serverResponse})}}))}))},v=function(e){if(!e||[]instanceof Array==!1)return[];var t=[];return e.forEach((function(e){var n;e.address&&e.tcp?(e.address.match(/^[\.\:\d]+$/)?n="".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(u.default.info("["+joinInfo.clientId+"] "+"Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),n="".concat(e.address,":").concat(e.tcp)),t.push(n)):u.default.error("["+joinInfo.clientId+"] Invalid address format ",e)})),t},E=n(21),S=function(e,t,n,r){var i=Object(d.getParameter)("WEBCS_DOMAIN").concat(Object(d.getParameter)("WEBCS_DOMAIN_BACKUP_LIST")),o=Object(d.getParameter)("PROXY_SERVER_TYPE3");i=i.map((function(e,t){return"".concat(o[(t+1)%o.length],"/ap/?url=").concat(e)}));var a,s=0,c=!0,g=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),m=0,h=function(h){!function(e,t,n,r,i){var o=Date.now(),a=function(e,r){try{f.report.joinChooseServer2(n.sid,{lts:o,succ:!e,csAddr:t,serverList:r&&r.gateway_addr,cid:r&&r.cid+"",uid:r&&r.uid+"",ec:e,chooseServerIp:r&&r.detail&&r.detail[502]})}catch(e){}},s=function(r,i){var a=Date.now();try{f.report.joinWebProxyAP({lts:a,sid:n.sid,cname:n.cname,cid:n.cid,uid:n.uid,sucess:r?-1:1,elapse:a-o,eventType:e,apServerAddr:t,turnServerAddrList:JSON.stringify(i),errorCode:r||"0"})}catch(e){}},c=Object(d.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(E.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),g={appid:n.token,client_ts:Date.now(),opid:133,sid:n.sid,request_bodies:[{uri:22,buffer:{cname:n.cname,detail:{11:c,6:n.stringUid},key:n.token,service_ids:[11,i?20:18],uid:n.uid||0}}]};t="https://".concat(t,"/api/v2/transpond/webrtc?v=2"),Object(l.postFormData)(t,g,(function(e){var o=function(e){return new RegExp(/10102\d{2}$/).test(e)?"NO_SERVICE_AVAILABLE":p.APErrorCode[e]||e};try{var c,l,f=JSON.parse(e);if(30===(f=f.response_body)[0].uri&&0!==f[0].buffer.code){var g=o(f[0].buffer.code);return s(g,f),r(g)}if(4096===f[0].buffer.flag?(l=f[0].buffer,c=f[1].buffer):(l=f[1].buffer,c=f[0].buffer),0!==c.code){g=o(c.code);return u.default.error("[".concat(n.clientId,"] requestProxyServer failed: ").concat(g)),s(g,c),r(g)}if(!c.edges_services||!c.edges_services instanceof Array)return s("UNEXPECTED_ERROR",c),r("UNEXPECTED_ERROR");var m=Object(d.getParameter)("GATEWAY_DOMAINS"),h=0;if(t.indexOf(m[1])>-1&&(h=1),0===c.edges_services.length)return s("EMPTY_PROXY_LIST",c),r("EMPTY_PROXY_LIST");var v=c.edges_services.map((function(e){if(e.ip)return e.ip=i?"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[h++%m.length]):"".concat(e.ip),e}));if(s(null,v),0!==l.code){g=o(l.code);return u.default.error("[".concat(n.clientId,"] requestChooseServer failed: ").concat(g)),a(g),r(g)}var E=[];m=Object(d.getParameter)("GATEWAY_DOMAINS"),h=0;if(t.indexOf(m[1])>-1&&(h=1),l.edges_services.forEach((function(e){var r;if(e.ip&&e.port){if(!e.ip.match(/^[\.\:\d]+$/))return u.default.info("["+n.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),void a("UNEXPECTED_IP");r="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(m[h++%m.length]);var i=Object(d.getParameter)("PROXY_SERVER_TYPE3");r=/sd-rtn/.test(t)?"".concat(i[0],"/ws/?h=").concat(r,"&p=").concat(e.port):"".concat(i[1],"/ws/?h=").concat(r,"&p=").concat(e.port),E.push(r)}else u.default.error("["+n.clientId+"] Invalid address format ",e)})),!E.length)return u.default.error("["+n.clientId+"] Empty Address response",f),a("EMPTY_ADDRESS_RESPONSE"),r("EMPTY_ADDRESS_RESPONSE");l.ticket=l.cert;var S={gateway_addr:E,uid:l.uid,cid:l.cid,vid:l.detail&&l.detail[8],res:l,detail:f.detail};a(null,S),r(null,{gatewayServers:S,turnServers:v})}catch(e){return u.default.error("[".concat(n.clientId,"] requestProxyServer failed with unexpected body "),e),s("UNEXPECTED_ERROR"),r("UNEXPECTED_ERROR")}}),(function(e,t){"timeout"===e.type?(s("REQUEST_PROXY_SERVER_TIME_OUT"),r("REQUEST_PROXY_SERVER_TIME_OUT")):(s("REQUEST_PROXY_SERVER_FAILED"),r("REQUEST_PROXY_SERVER_FAILED"))}))}(e,h,t,(function(e,r){e?(s++,u.default.error("[".concat(t.clientId,"] request ").concat(h," failed: ").concat(e)),e&&-1===p.JOIN_PROXY_RETRY_LIST.indexOf(e)&&(a=e),s===i.length&&(a||(a="RETRYABLE_ERROR"),n(a)),!(s%g)&&s<i.length&&(m++,v())):c&&(/sd-rtn/.test(r.gatewayServers.gateway_addr[0])?Object(d.setParameter)("NGINX",o[0]):Object(d.setParameter)("NGINX",o[1]),c=!1,n(null,r))}),r)},v=function(){for(var e=m*g,t=e;t<Math.min(i.length,e+g);t++){var n=i[t];h(n)}};v()},_=n(13),y=n(29),R=n.n(y),T=n(30),I={},b={},A=function(e){return I[e]},O=function(e,t){b[e]=t},C=function(e,t,n,r,i,o){var a=(new Date).getTime(),s=t,c="";t.multiIP&&t.multiIP.gateway_ip&&(c={vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]});var g=Object(d.getParameter)("AREA_SETTING").reduce((function(e,t,n){var r=Object(E.getAreaCodeByArea)(t);return r?0===n?r:"".concat(e,",").concat(r):e}),""),m={appid:t.token,opid:133,client_ts:+new Date,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:{5:c?JSON.stringify(c):void 0,6:t.stringUid,11:g},key:t.token,service_ids:[11],uid:t.uid||0}}]};Object(l.postFormData)(e,m,(function(i){try{var c=JSON.parse(i),l=(c=c.response_body[0].buffer).code}catch(e){var g="requestChooseServer failed with unexpected body "+i;return u.default.error("["+s.clientId+"]",g),r(g,void 0,void 0,o)}if(l)return E=new RegExp(/10102\d{2}$/).test(l)?"NO_SERVICE_AVAILABLE":p.APErrorCode[c.code]||l,f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:e,serverList:null,ec:E,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+E+"]",e,E,o);var m=[],h=Object(d.getParameter)("GATEWAY_DOMAINS"),v=0;if(e.indexOf(h[1])>-1&&(v=1),c.edges_services.forEach((function(e){var t;e.ip&&e.port?(e.ip.match(/^[\.\:\d]+$/)?t="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(h[v++%h.length],":").concat(e.port):(u.default.info("["+s.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),t="".concat(e.ip,":").concat(e.port)),m.push(t)):u.default.error("["+s.clientId+"] Invalid address format ",e)})),!m.length){u.default.error("["+s.clientId+"] Empty Address response",c);var E="EMPTY_ADDRESS_RESPONSE";return f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:e,serverList:null,ec:E,chooseServerIp:c&&c.detail&&c.detail[502]}),r("Get server node failed ["+E+"]",e,E,o)}c.ticket=c.cert;var S={gateway_addr:m,uid:c.uid,cid:c.cid,vid:c.detail&&c.detail[8],res:c,uni_lbs_ip:c.detail};return n(S,e)}),(function(e,n){"timeout"===e.type?(f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:n,serverList:null,ec:"timeout"}),r("Connect choose server timeout",n,void 0,o)):(f.report.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:n,serverList:null,ec:e.httpErrorCode||"server_wrong"}),r("Connect choose server error",n,void 0,o))}))},N=function(e,t,n){var r=!1,i=null,o=1,a=1,s=e.clientId,c=function t(a,c){if(!r){var l=[];!function(e,t,n){var r,i=(new Date).getTime(),o=!1,a=0,s=0,c=Object(d.getParameter)("WEBCS_DOMAIN"),l=c.length,g=Object(d.getParameter)("WEBCS_DOMAIN_BACKUP_LIST"),m=g.length,h=Object(d.getParameter)("CHOOSE_SERVER_FRAGEMENT_LENGTH"),v=0,S=0,_=function(n,r){var a;try{a=n.res.detail[8]}catch(t){u.default.debug("["+e.clientId+"] get vid failed",t)}if(o)f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:a,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!1);else{if(clearTimeout(I),o=!0,e.proxyServer)for(var s=n.gateway_addr,c=0;c<s.length;c++){var d=s[c].split(":");n.gateway_addr[c]=e.proxyServer+"/ws/?h="+d[0]+"&p="+d[1]}t(n),f.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null,vid:a,chooseServerIp:n.res&&n.res.detail&&n.res.detail[502]},!0)}},y=function(t,i,o,c){"domain"===c&&a++,"backup"===c&&s++,u.default.error("["+e.clientId+"]",t,i,o),o&&-1===p.JOIN_CS_RETRY_LIST.indexOf(o)&&(r=o),a===l&&s===m&&n(r),"domain"===c&&!(a%h)&&a<l&&(v++,R()),"backup"===c&&!(s%h)&&s<m&&(S++,T())},R=function t(){for(var n=v*h,r=n;r<Math.min(l,n+h);++r){var i;if("string"==typeof c[r]){var o=c[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(o+"/api/v2/transpond/webrtc?v=2"):"https://".concat(o,"/api/v2/transpond/webrtc?v=2");var s=Object(E.getAreaCodeByWebCS)(o);u.default.debug("["+e.clientId+"] "+"Connect to choose_server: ".concat(i,", ").concat(s)),C(i,e,_,y,0,"domain")}else a++,u.default.error("["+e.clientId+"] Invalid Host",c[r]),r===n+h-1&&r<l-1-1&&(v++,t())}};R();var T=function t(){if(!o)for(var n=S*h,r=n;r<Math.min(m,n+h);r++){var i;if("string"==typeof g[r]){var a=g[r];i=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(a+"/api/v2/transpond/webrtc?v=2"):"https://".concat(a,"/api/v2/transpond/webrtc?v=2");var c=Object(E.getAreaCodeByWebCS)(a);u.default.debug("["+e.clientId+"] "+"Connect to backup_choose_server: ".concat(i,", ").concat(c)),C(i,e,_,y,0,"backup")}else s++,u.default.error("["+e.clientId+"] Invalid Host",g[r]),r===n+h-1&&r<g-1-1&&(v++,t())}},I=setTimeout(T,1e3)}(e,(function(t){r=!0,!0,l=t,clearTimeout(i),b[s]!==_.a.DISCONNECTED&&b[s]!==_.a.DISCONNECTING?c&&c(l,null):u.default.debug("[".concat(e.clientId,"] Request gateway list success when connection state is ").concat(b[s]))}),(function(r){if(r)return u.default.info("["+e.clientId+"] Join failed: "+r),void(n&&n(r));if(b[s]===_.a.DISCONNECTED||b[s]===_.a.DISCONNECTING)return u.default.debug("[".concat(e.clientId,"] Request gateway list falied when connection state is ").concat(b[s])),void(n&&n("OPERATION_ABORT"));u.default.debug("["+e.clientId+"] Request gateway list will be restart in "+o+"s"),i=setTimeout((function(){t(a,c)}),1e3*o),I[s]=i;var l=Object(d.getParameter)("AP_BACKOFF_MAX_TIME");o=o>=l?l:2*o}))}},l=function n(){!function(e,t){g(e,(function(n,r){if(n)return t&&t(n);u.default.debug("["+e.clientId+"] getProxyServerList: ",r),h(e,r,t)}))}(e,(function(r,o){if(r){u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){n()}),1e3*a),I[s]=i;var l=Object(d.getParameter)("AP_BACKOFF_MAX_TIME");a=a>=l?l:2*a}else{clearTimeout(i);var p=o.address;e.proxyServer=p;var g={mode:"manual",url:o.address,tcpport:o.serverResponse.tcpport||"3433",udpport:o.serverResponse.udpport||"3478",username:o.serverResponse.username||"test",credential:o.serverResponse.password||Object(d.getParameter)("TURN_SERVER_PASSWORD"),forceturn:!0};g.tcpport+="",g.udpport+="",e.turnServers=[],e.turnServers.push(g),f.report.setProxyServer(p),u.default.setProxyServer(p),c(p,t)}}))};e.useProxyServer?1==e.proxyServerType?l():2==e.proxyServerType?function n(){!function(e,t){g(e,(function(n,r){return n?t&&t(n):(u.default.debug("["+e.clientId+"] getProxyServerList: ",r),t&&t(null,{address:r[0],serverResponse:{tcpport:"443",udpport:"3478",username:"test",password:"111111"}}))}))}(e,(function(r,o){if(r)return u.default.debug("["+e.clientId+"]",r),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){n()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a);clearTimeout(i);var l=Object(d.getParameter)("PROXY_SERVER_TYPE2");e.proxyServer=l;var p={mode:"manual",url:o.address,tcpport:o.serverResponse.tcpport||"3433",udpport:o.serverResponse.udpport||"3478",username:o.serverResponse.username||"test",credential:o.serverResponse.password||"111111",forceturn:!0};p.tcpport+="",p.udpport+="",e.turnServers=[],e.turnServers.push(p),f.report.setProxyServer(l),u.default.setProxyServer(l),c(l,t)}))}():3==e.proxyServerType?function r(){S("proxy3",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:"",udpport:t.port||"3478",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}))}():4==e.proxyServerType?function r(){S("proxy4",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!1};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}))}():5==e.proxyServerType?function r(){S("proxy5",e,(function(o,c){if(o)return"RETRYABLE_ERROR"!==o?n&&n(o):(u.default.debug("["+e.clientId+"]",o),u.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),i=setTimeout((function(){r()}),1e3*a),I[s]=i,void(a=a>=3600?3600:2*a));var l=c.gatewayServers,p=c.turnServers;clearTimeout(i);var g=Object(d.getParameter)("NGINX");e.proxyServer=g,e.turnServers=[];var m=Object(T.randomString)();p.map((function(t){var n={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:"",username:t.username||m,credential:t.password||R()(m).toString(),forceturn:!1,useTurns:!0};n.tcpport+="",n.udpport+="",e.turnServers.push(n)})),f.report.setProxyServer(g),u.default.setProxyServer(g),t(l)}),!0)}():l():c(null,t)},w=function(e,t,n,r,i){var o=Date.now();r=r||t.stringUid;var a={sid:t.sid,opid:10,appid:t.appId,string_uid:r};return new Promise((function(i,s){Object(l.post)(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),a,(function(c){try{var d=JSON.parse(c),l=d.code}catch(i){var g="requestUserAccount failed with unexpected body "+c;return u.default.error("["+t.clientId+"]",g),s({retryable:!0,info:g,url:e,error:"UNEXPECTED_ERROR"}),n&&n.dispatchEvent({type:"error",reason:"USER_ACCOUNT_BODY_NOT_JSON"}),void f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,extend:c,errorCode:"USER_ACCOUNT_BODY_NOT_JSON"})}if(l){var m=!1;return"INTERNAL_SERVER_ERROR"===(v=p.StringUidErrorCode[d.code%1e4]||"REQ_ACCOUNT_ERR_".concat(l))&&(m=!0),n&&n.dispatchEvent({type:"error",reason:v}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:v,extend:a}),s({retryable:m,info:g="Get String Uid Failed ["+v+"]",url:e,error:v})}var h=d.uid;if(!(h>0&&h<Math.pow(2,32))){u.default.error("["+t.clientId+"] "+"Invalid Uint Uid ".concat(r," => ").concat(h),d);var v="INVALID_UINT_UID_".concat(h);return n&&n.dispatchEvent({type:"error",reason:v}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:e,stringUid:r,uid:null,errorCode:v,extend:a}),s({retryable:!0,error:v,info:"Get String Uid failed ["+v+"]",url:e})}i({uid:h,url:e}),f.report.reqUserAccount(a.sid,{lts:o,success:!0,serverAddress:e,stringUid:r,uid:h,errorCode:null,extend:a})}),(function(e,t){if("timeout"===e.type){var i="USER_ACCOUNT_TIMEOUT";n&&n.dispatchEvent({type:"error",reason:i}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:i,extend:a}),s({retryable:!0,info:i,url:t,error:i})}else{var c="USER_ACCOUNT_SERVER_WRONG_".concat(e.type);n&&n.dispatchEvent({type:"error",reason:c}),f.report.reqUserAccount(a.sid,{lts:o,success:!1,serverAddress:t,stringUid:r,uid:null,errorCode:c,extend:a}),s({retryable:!0,info:c,url:t,error:c})}}),{"X-Packet-Service-Type":0,"X-Packet-URI":72})}))},L=function(e,t,n){Date.now();var r,o=Object(d.getParameter)("ACCOUNT_REGISTER"),s=!1,l=Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT"),f=null,p=null,g=new Promise(function(){var g=c()(a.a.mark((function c(g,m){var h,v,E;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:f=g,p=m,r=0;case 3:if(!(r<Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_COUNT_MAX"))){c.next=33;break}if(!s){c.next=6;break}return c.abrupt("return");case 6:return h=o[r%o.length],v=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(h+"/api/v1"):"https://".concat(h,"/api/v1"),c.prev=8,c.delegateYield(a.a.mark((function r(){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.proxyServer,r.next=3,w(v,e,t,n);case 3:if(i=r.sent,!s){r.next=6;break}return r.abrupt("return",{v:void 0});case 6:s=!0,setTimeout((function(){u.default.debug("Get UserAccount Successfully",i),f(i)}),0);case 8:case"end":return r.stop()}}),r)}))(),"t0",10);case 10:if(E=c.t0,"object"!==i()(E)){c.next=13;break}return c.abrupt("return",E.v);case 13:c.next=30;break;case 15:if(c.prev=15,c.t1=c.catch(8),!s){c.next=19;break}return c.abrupt("return");case 19:if(!c.t1.retryable){c.next=27;break}return(l=Math.ceil(l*Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_RATIO")))>Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")&&(l=Object(d.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")),u.default.error("".concat(c.t1.info," ").concat(c.t1.url," Will Fetch User Account in ").concat(l/1e3," seconds")),c.next=25,new Promise((function(e){setTimeout(e,l)}));case 25:c.next=30;break;case 27:u.default.error("Get UserAccount Error: ".concat(c.t1.info," ").concat(c.t1.url),c.t1.error),s=!0,p(c.t1.error);case 30:r++,c.next=3;break;case 33:case"end":return c.stop()}}),c,null,[[8,15]])})));return function(e,t){return g.apply(this,arguments)}}());return g.cancel=function(){s||(s=!0,p({info:"Request Cancelled",retryable:!1}))},g.isFinished=function(){return s},g}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=i(n(0));!function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(o||(o={})),t.AREAS=o,function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(a||(a={}));var c={ASIA:{CODE:a.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:a.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:a.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:a.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:a.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:a.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],NGINX:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:a.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],NGINX:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:a.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:a.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:a.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};t.AREA_DOMAIN_MAP=c;var d={GLOBAL:{ASIA:[o.CHINA,o.JAPAN,o.INDIA],EUROPE:[],NORTH_AMERICA:[],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},u=Object.keys(d[o.GLOBAL]),l=[o.CHINA,o.NORTH_AMERICA,o.EUROPE,o.ASIA,o.JAPAN,o.INDIA,o.OCEANIA,o.SOUTH_AMERICA,o.AFRICA],f=function(e,t){var n,i=[];if("string"==typeof e&&(e=[e]),t&&!e.includes(o.GLOBAL)&&(i=e),t||(i=e),t&&e.includes(o.GLOBAL)){var a=[o.GLOBAL,o.OVERSEA],s=Object.keys(c);if(t===o.GLOBAL)throw new Error("Can not set excludedArea to 'GLOBAL'");if(t===o.CHINA)i=[o.OVERSEA];else if(n=t,u.includes(n)){var f=function(e){return void 0===e&&(e=""),d[o.GLOBAL][e]||[]}(t),p=r(a,[t],f);i=s.filter((function(e){return!p.includes(e)}))}else if(function(e){var t=!1;return u.forEach((function(n){d.GLOBAL[n].includes(e)&&(t=!0)})),t}(t)){var g=function(e){void 0===e&&(e="");var t="";return u.forEach((function(n){d.GLOBAL[n].includes(e)&&(t=n)})),t}(t),m=r(a,[g,t]);i=s.filter((function(e){return!m.includes(e)}))}else i=e;i=function(e){var t=[];return l.forEach((function(n){e.includes(n)&&t.push(n)})),t.concat(e.filter((function(e){return!l.includes(e)})))}(i)}return console.log("getAreaCodeAfterCalculation result",i),i};t.getAreaCodeByConfig=function(e){var t=e.areaCode,n=e.excludedArea;return n?f(t,n):t},c.CHINA={CODE:a.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]};t.getAreaCodeByWebCS=function(e){for(var t=Object.keys(c),n=0;n<t.length;n++){var r=t[n],i=c[r];if(i.WEBCS_DOMAIN.includes(e)||i.WEBCS_DOMAIN_BACKUP_LIST.includes(e))return i.CODE===a.OVERSEA?a.ASIA+","+a.EUROPE+","+a.AFRICA+","+a.NORTH_AMERICA+","+a.SOUTH_AMERICA+","+a.OCEANIA:i.CODE}};t.getAreaCodeByArea=function(e){return e===o.OVERSEA?a.ASIA+","+a.EUROPE+","+a.AFRICA+","+a.NORTH_AMERICA+","+a.SOUTH_AMERICA+","+a.OCEANIA:a[e]};t.getAreaDomainConfig=function(e){var t={WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],NGINX:[]};return e.map((function(e){var n=c[e];if(n){var r=Object.keys(n);r?r.map((function(e){"CODE"!==e&&(t[e]=t[e].concat(n[e]))})):s.default.info(e+" is not exist")}else s.default.info(e+" is not exist")})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return C}));var r=n(7),i=n.n(r),o=n(5),a=n(8),s=function(e){var t=Object(a.b)(e);return t.url=".",t},c=n(0),d=n(15),u=n(4),l=n(2),f=n(1),p=0,g=function(e){var t=s({});t.id=e.id,t.playerId=p++,t.destroyed=!1,t.fit=e.options&&e.options.fit,"contain"!==t.fit&&"cover"!==t.fit&&(t.fit=null),t.url=e.url,t.stream=e.stream.stream,t.peerVideoReady=!1,t.isFreeze=!1,t.freezeTimeCounterList=[],t.freezeCount=0,t.lastFreezeCount=0,t.lastTimeupdateTime=0,t.elementID=e.elementID,t.setAudioOutput=function(e,n,r){var i=t.video||t.audio;return i?i.setSinkId?void i.setSinkId(e).then((function(){return c.default.debug("["+t.id+"] "+"video ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),i==t.video&&t.audio?t.audio.setSinkId(e):Promise.resolve()})).then((function(){return c.default.debug("["+t.id+"] "+"audio ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),n&&n()})).catch((function(e){return c.default.error("["+t.id+"] VideoPlayer.setAudioOutput",e),r&&r(e)})):(c.default.error("["+t.id+"] ",u.default.WEB_API_NOT_SUPPORTED),r&&r(u.default.WEB_API_NOT_SUPPORTED)):(c.default.error("["+t.id+"] ",u.default.PLAYER_NOT_FOUND),r&&r(u.default.PLAYER_NOT_FOUND))},t.destroy=function(){c.default.debug("[".concat(t.id,"] destroy ").concat(e.stream.local?"local":"remote"," Player ").concat(t.id)),Object(d.setSrcObject)(t.video,null),Object(d.setSrcObject)(t.audio,null),t.video.load(),t.audio.load(),t.video.pause(),t.video.remove(),t.audio.remove(),t.freezeCheckInterval&&clearInterval(t.freezeCheckInterval),t.destroyed=!0,delete t.resizer,document.getElementById(t.div.id)&&t.parentNode.contains(t.div)&&t.div.remove()&&t.parentNode.removeChild(t.div),["video","audio"].forEach((function(n){t[n];var r=a[n];clearTimeout(r.playDeferTimeout),r.formerMediaState=null;var i={playerId:t.playerId,stateId:r.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"stop",updatedAt:Date.now()};a[n]=i;var o={type:"player-status-change",playerId:t.playerId,mediaType:n,status:i.status,reason:i.reason,isErrorState:!1,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change Triggered by destroy()"),o),e.stream.dispatchEvent(o),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:o,tag:"tracer"})()}))},t.div=document.createElement("div"),t.div.setAttribute("id","player_"+t.id),e.stream.video?t.div.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"):t.div.setAttribute("style","width: 100%; height: 100%; position: relative; overflow: hidden;"),t.video=document.createElement("video"),t.video.setAttribute("id","video"+t.id),e.stream.local&&!e.stream.screen?e.stream.mirror?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; transform: rotateY(180deg); object-fit: ".concat(t.fit||"cover",";")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.video?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.screen?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"contain")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; display: none; object-fit: ".concat(t.fit||"cover"));var n={autoplay:!0,muted:!!e.stream.local||!(!o.isSafari()&&"iOS"!==o.getBrowserOS())&&"video_element_muted",playsinline:!0,controls:!1,volume:null},r=i()({},n,e.options);!0!==r.muted||r.volume||(r.volume=0),t.video.setAttribute("autoplay",""),t.video.setAttribute("muted",""),t.video.muted=!0,t.video.autoplay=!0,r.playsinline&&t.video.setAttribute("playsinline",""),r.controls&&t.video.setAttribute("controls",""),r.contains&&(t.video.controls=!0),Number.isFinite(r.volume)&&(t.video.volume=r.volume),t.audio=document.createElement("audio"),t.audio.setAttribute("id","audio"+t.id),!0===r.muted&&t.audio.setAttribute("muted",""),!0===r.muted&&(t.audio.muted=!0),r.playsinline&&t.audio.setAttribute("playsinline",""),Number.isFinite(r.volume)&&(t.audio.volume=r.volume),void 0!==t.elementID?(document.getElementById(t.elementID).appendChild(t.div),t.container=document.getElementById(t.elementID)):(document.body.appendChild(t.div),t.container=document.body),t.parentNode=t.div.parentNode;var a={video:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()},audio:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()}};t.mediaElemExists=function(e){for(var t=e,n=0;n<Object(l.getParameter)("MEDIA_ELEMENT_EXISTS_DEPTH")&&t;n++)t=t.parentNode;return!!t};var g=function(e){return t.mediaElemExists(e)?e.paused?"paused":"play":"aborted"},m=function(e,t,n){var r=g(e),i=!0;return"paused"===r?("audio"===t&&!0===n.muted&&(i=!1),n.autoplay||(i=!1)):"play"===r?"video"===t?i=!1:!0===n.muted?e.muted&&(i=!1):e.muted||(i=!1):"aborted"===r&&(i=!1),i},h=function(n){var i,o=this;if(o===t.video?i="video":o===t.audio&&(i="audio"),i){if(n.type||c.default.error("[".concat(t.id,"] Unexpected evt"),n),"video"===i&&o.muted&&o.paused)return c.default.debug("[".concat(t.id,"] auto resume video element")),void o.play();var s=g(o);clearTimeout(a[i].playDeferTimeout),a[i].playDeferTimeout=setTimeout((function(){a[i].playDeferTimeout=null;var d=a[i],u=g(o);if(s===u){var l={playerId:t.playerId,stateId:d.stateId+1,playDeferTimeout:null,error:m(o,i,r),status:g(o),reason:n.type,updatedAt:Date.now()};if(d.status!==l.status){a[i]=l;var p={type:"player-status-change",playerId:t.playerId,mediaType:i,status:l.status,reason:l.reason,isErrorState:l.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),p),e.stream.dispatchEvent(p),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:p,tag:"tracer"})()}}else c.default.debug("[".concat(t.id,"] Status Change after event Triggered.")+"Stream ".concat(t.id," PlayerId ").concat(t.playerId," mediaType ").concat(i," Status ").concat(s,"=>").concat(u))}),Object(l.getParameter)("PLAYER_STATE_DEFER"))}else c.default.error("[".concat(t.id,"] Unknown media element"),o)};t.video.addEventListener("playing",(function(e){!function e(){t.video.videoWidth*t.video.videoHeight>4?c.default.debug("["+t.id+"] video dimensions:",t.video.videoWidth,t.video.videoHeight):setTimeout(e,50)}()}));var v=0,E=0,S=0;t.freezeCheckInterval=setInterval((function(){Date.now()-t.lastTimeupdateTime>500&&t.peerVideoReady?(t.isFreeze=!0,t.freezeCount+=1):t.isFreeze=!1}),500),t.video.addEventListener("playing",h),t.video.addEventListener("canplay",h),t.video.addEventListener("abort",h),t.video.addEventListener("onerror",h),t.video.addEventListener("suspend",h),t.video.addEventListener("stalled",h),t.video.addEventListener("pause",h),t.audio.addEventListener("playing",h),t.audio.addEventListener("canplay",h),t.audio.addEventListener("abort",h),t.audio.addEventListener("onerror",h),t.audio.addEventListener("suspend",h),t.audio.addEventListener("stalled",h),t.audio.addEventListener("pause",h);var _=t.audio,y="audio";if(e.stream.hasVideo()||e.stream.hasScreen())t.div.appendChild(t.video),t.div.appendChild(t.audio),o.isEdge()?t.video.srcObject=e.stream.stream:(Object(d.attachMediaStream)(t.video,e.stream.stream),Object(d.attachMediaStream)(t.audio,e.stream.stream)),t.video.addEventListener("timeupdate",(function(){var e=Date.now();if((v+=1)<10)t.lastTimeupdateTime=e;else for(e-t.lastTimeupdateTime>500&&(t.peerVideoReady?E+=e-t.lastTimeupdateTime:t.peerVideoReady=!0),S+=e-t.lastTimeupdateTime,t.lastTimeupdateTime=e;S>=6e3;)S-=6e3,t.freezeTimeCounterList.push(Math.min(6e3,E)),E-=6e3,E=Math.max(E,0)}));else{!1!==r.muted&&"video_element_muted"!==r.muted||(t.video.removeAttribute("muted"),t.video.muted=!1),t.video.removeAttribute("autoplay"),t.video.autoplay=!1,t.div.appendChild(t.video),_=t.video,y="video";var R=a.audio,T={playerId:t.playerId,stateId:R.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"audioonly",updatedAt:Date.now()};a.audio=T;var I={type:"player-status-change",playerId:t.playerId,mediaType:"audio",status:T.status,reason:T.reason,isErrorState:T.error,streamId:t.id};if(c.default.debug("[".concat(t.id,"] Media Player Status Change"),I),Promise.resolve().then((function(){return e.stream.dispatchEvent(I)})),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:I,tag:"tracer"})(),window.MediaStream&&(o.isSafari()||"iOS"===o.getBrowserOS())){var b=new MediaStream(e.stream.stream.getAudioTracks());Object(d.setSrcObject)(t.video,b)}else Object(d.setSrcObject)(t.video,e.stream.stream)}if(r.autoplay&&_){var A=_.play();A&&A.catch&&A.catch((function(n){if(!t.destroyed&&_){var i=a[y],o={playerId:t.playerId,stateId:i.stateId+1,playDeferTimeout:null,error:m(_,y,r),status:g(_),reason:"error",updatedAt:Date.now()};if(i.status!==o.status){c.default.debug("[".concat(t.id,"] Player ").concat(t.playerId," Status Changed Detected by promise error: ").concat(i.status,"=>").concat(o.status),n),a[y]=o;var s={type:"player-status-change",playerId:t.playerId,mediaType:y,status:o.status,reason:o.reason,isErrorState:o.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),s),e.stream.dispatchEvent(s),f.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:s,tag:"tracer"})()}}}))}return t.setAudioVolume=function(e){var n=parseInt(e)/100;isFinite(n)&&(n<0?n=0:n>1&&(n=1),t.video&&(t.video.volume=n),t.audio&&(t.audio.volume=n))},t},m=n(23),h=n(10),v=n(6),E=n(19),S=n(3),_=n(25);var y=n(16),R=n(11),T=n.n(R),I=function(e){Object(S.checkValidString)(e,"profileName"),-1===(e=e.toLowerCase()).indexOf("_")&&(e+="_1"),Object(S.checkValidEnum)(e,"profileName",Object.keys(l.SUPPORT_RESOLUTION_LIST));var t=l.SUPPORT_RESOLUTION_LIST[e];t||(e=Object(l.getParameter)("DEFAULT_PROFILE"),t=l.SUPPORT_RESOLUTION_LIST[e]);var n={profileName:e,video:{width:t[0],height:t[1]},attributes:{resolution:"".concat(t[0],"x").concat(t[1]),minFrameRate:t[2],maxFrameRate:t[3],minVideoBW:t[4],maxVideoBW:t[5]}};return t[2]&&(n.video.frameRate=t[2]),t[6]&&t[7]&&(n.screen={width:t[0],height:t[1],frameRate:{min:t[6],max:t[7]}}),n},b=function(e){return Object.keys(l.SUPPORT_RESOLUTION_LIST).filter((function(t){var n=l.SUPPORT_RESOLUTION_LIST[t],r=["width","height","frameRate"];for(var i in r){var o=r[i];if(e[o]&&n[i]){if("number"==typeof e[o].max&&e[o].max<n[i])return!1;if("number"==typeof e[o].min&&e[o].min>n[i])return!1}}return!0})).reverse()},A=function(e){var t=l.AUDIO_PROFILE_SETTINGS[e]||l.AUDIO_PROFILE_SETTINGS.default;return{highQuality:t[0],stereo:t[1],speech:t[2],lowQuality:t[3]}};var O=function(e){var t=Object(a.b)();if(t.params=i()({},e),t.stream=e.stream,t.url=e.url,t.onClose=void 0,t.local=!1,t.videoSource=e.videoSource,t.audioSource=e.audioSource,e.video=!(!e.videoSource&&!e.video),t.video=e.video,e.audio=!(!e.audioSource&&!e.audio),t.audio=e.audio,t.screen=!!e.screen,t.screenAudio=!!e.screenAudio,t.screenAttributes={width:1920,height:1080,maxFr:5,minFr:1},t.videoSize=e.videoSize,t.player=void 0,t.audioLevelHelper=null,e.attributes=e.attributes||{},t.attributes=e.attributes,t.microphoneId=e.microphoneId,t.cameraId=e.cameraId,t.facingMode=e.facingMode,t.inSwitchDevice=!1,t.userMuteVideo=!1,t.userMuteAudio=!1,t.peerMuteVideo=!1,t.peerMuteAudio=!1,t.lowStream=null,t.videoWidth=0,t.videoHeight=0,t.streamId=e.streamID,t.userId=null,t.uintId=e.uintUID||null,t.mirror=!1!==e.mirror,t.DTX=e.audioProcessing&&e.audioProcessing.DTX,t.audioProcessing=e.audioProcessing,t.optimizationMode=e.optimizationMode,t.highQuality=!1,t.stereo=!1,t.speech=!1,t.screen||delete t.screen,!(void 0===t.videoSize||t.videoSize instanceof Array&&4===t.videoSize.length))throw Error("Invalid Video Size");function n(){var e={};t.getVideoTrack()===this?(c.default.debug("Video Track Ended"),e.type="videoTrackEnded",e.track=this):t.getAudioTrack()===this?(c.default.debug("Audio Track Ended"),e.type="audioTrackEnded",e.track=this):c.default.debug("Detached Track ended",this.kind,this.label,this),e.type&&t.dispatchEvent(e)}return t.videoSize=[640,480,640,480],void 0!==e.local&&!0!==e.local||(t.local=!0),t.initialized=!t.local,t._streamInitID=null,function(e){e.audioMixing={audioContextInited:!1,defaultVolume:100,inEarMonitoring:"FILE",sounds:{},states:{IDLE:"IDLE",STARTING:"STARTING",BUSY:"BUSY",PAUSED:"PAUSED"},inEarMonitoringModes:{NONE:"NONE",FILE:"FILE",MICROPHONE:"MOCROPHONE",ALL:"ALL"},ctx:null,mediaStreamSource:null,mediaStreamDest:null,buffer:{}},e._initSoundIfNotExists=function(t,n){e.audioMixing.sounds[t]||(e.audioMixing.sounds[t]={soundId:t,state:"IDLE",muted:e.userMuteAudio,filePath:n,volume:e.audioMixing.defaultVolume,startAt:null,startOffset:null,pauseAt:null,pauseOffset:null,resumeAt:null,resumeOffset:null,stopAt:null,options:null,source:null})},e._initSoundIfNotExists(-1),e.loadAudioBuffer=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,name:"Stream.loadAudioBuffer",options:arguments,tag:"tracer"});Object(S.checkValidString)(n,"url",1,1024,!1),Object(S.checkValidString)(t,"id",1,1024,!1);var o=function(t){c.default.error("[".concat(e.streamId,"] loadAudioBuffer Failed: ")+t),i(u.default.LOAD_AUDIO_FAILED)},a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>400)o("".concat(a.status," ").concat(a.statusText));else{var n=a.response;e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.ctx.decodeAudioData(n,(function(n){e.audioMixing.buffer[t]=n,i(null)}),(function(t){c.default.error("[".concat(e.streamId,"] decodeAudioData Failed: "),t),i(t)}))}},a.onerror=function(){return o("load error")},a.ontimeout=function(){return o("timeout")},a.send()},e.createAudioBufferSource=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.createAudioBufferSource",options:arguments,tag:"tracer"});if(e.audioMixing.buffer[t.id]){var r=e.audioMixing.buffer[t.id],i=e.audioMixing.ctx.createBufferSource();i.buffer=r;var a=e.audioMixing.ctx.createGain();if(i.connect(a),a.connect(e.audioMixing.mediaStreamDest),i.gainNode=a,t.loop)i.loop=!0,i.start(0,t.playTime/1e3);else if(t.cycle>1)if(Object(o.isChrome)()){i.loop=!0;var s=t.cycle*r.duration*1e3-(t.playTime||0);i.start(0,t.playTime/1e3,s/1e3)}else c.default.warning("[".concat(e.streamId,"] Cycle Param is ignored by current browser")),i.start(0,t.playTime/1e3);else i.start(0,t.playTime/1e3);var d=e.audioMixing.sounds[t.soundId];return d.source=i,e._flushAudioMixingMuteStatus(),i.addEventListener("ended",(function(){i===d.source&&e.dispatchEvent({type:"audioSourceEnded",soundId:t.soundId,source:i,sound:d})})),n(),i}var u="AUDIOBUFFER_NOT_FOUND";return c.default.error("[".concat(e.streamId,"] "),u,t.id),n(!1),!1},e.on("audioSourceEnded",(function(t){var n=t.source,r=t.sound;r&&r.state===e.audioMixing.states.BUSY&&!r.pauseAt&&(r.state=e.audioMixing.states.IDLE,r.startAt=null,r.startOffset=null,r.resumeAt=null,r.resumeOffset=null,n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest))})),e.clearAudioBufferSource=function(){e.audioBufferSource.forEach((function(e){e.stop()}))},e._isSoundExists=function(t){return!!e.audioMixing.sounds[t.soundId]||(c.default.error("SoundId not exists. #".concat(t.soundId)),!1)},e._initAudioContext=function(){if(e.audioMixing.audioContextInited)throw new Error("Failed to init audio context. Already inited");if(!e.stream)throw new Error("Failed to init audio context. Local Stream not initialized");e.audioMixing.ctx=Object(_.a)(),e.audioMixing.mediaStreamSource=e.audioMixing.ctx.createMediaStreamSource(e.stream),e.audioMixing.mediaStreamDest=e.audioMixing.ctx.createMediaStreamDestination(),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest);var t=e.stream.getVideoTracks()[0];if(t&&e.audioMixing.mediaStreamDest.stream.addTrack(t),e._originStream=e.stream,e._isAudioMuted()?(e._unmuteAudio(),e.stream=e.audioMixing.mediaStreamDest.stream,e._muteAudio()):e.stream=e.audioMixing.mediaStreamDest.stream,e.audioLevelHelper=null,e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var n=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find((function(e){return e&&e.track&&"audio"==e.track.kind})),r=e.audioMixing.mediaStreamDest.stream.getAudioTracks()[0];n&&n.replaceTrack&&r&&n.replaceTrack(r)}e.audioMixing.audioContextInited=!0},e._cleanupAudioMixing=function(){if(e.audioMixing.audioContextInited){for(var t in e.audioMixing.sounds){var n=e.audioMixing.sounds[t];n.state!==e.audioMixing.states.BUSY&&n.state!==e.audioMixing.states.PAUSED||e._stopOneEffect({soundId:t})}e.audioLevelHelper=null,e.audioMixing.audioContextInited=!1}},e._reloadInEarMonitoringMode=function(t){if(t){if(!e.audioMixing.inEarMonitoringModes[t])return c.default.error("[".concat(e.streamId,"] Invalid InEarMonitoringMode ").concat(t));e.audioMixing.inEarMonitoring=t}switch(e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.FILE:e.audioMixing.mediaStreamSource.connectedToDestination&&(e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!1);case e.audioMixing.inEarMonitoringModes.ALL:for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&r.source&&!r.source.connectedToDestination&&(r.source.gainNode.connect(e.audioMixing.ctx.destination),r.source.connectedToDestination=!0)}}switch(e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.MICROPHONE:e.audioMixing.source.forEach((function(t){t.connectedToDestination&&(t.gainNode.disconnect(e.audioMixing.ctx.destination),t.connectedToDestination=!1)}));case e.audioMixing.inEarMonitoringModes.ALL:e.audioMixing.mediaStreamSource.connectedToDestination||(e.audioMixing.mediaStreamSource.connect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!0)}},e._startAudioMixingBufferSource=function(t){e.audioMixing.audioContextInited||e._initAudioContext();var n={soundId:t.soundId,id:t.filePath,loop:t.loop,cycle:t.cycle,playTime:t.playTime||0},r=t.replace,i=e.createAudioBufferSource(n);return i.sound=e.audioMixing.sounds[t.soundId],i?(i.addEventListener("ended",e._audioMixingFinishedListener,{once:!0}),e._reloadInEarMonitoringMode(),r&&e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.mediaStreamDest),i):null},e._stopAudioMixingBufferSource=function(t){var n=e.audioMixing.sounds[t.soundId].source;return n?(n.removeEventListener("ended",e._audioMixingFinishedListener),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest),n.stop(),n.gainNode&&n.gainNode.disconnect&&n.gainNode.disconnect(),n.buffer=null,n):null},e._flushAudioMixingMuteStatus=function(t){for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&(void 0!==t&&(r.muted=!!t),r.source&&(r.muted?r.source.gainNode.gain.value=0:r.source.gainNode.gain.value=r.volume/100))}},e._handleAudioMixingInvalidStateError=function(t,n,r){var i=e.audioMixing.sounds[n.soundId],o=-1===n.soundId?"INVALID_AUDIO_MIXING_STATE":"INVALID_PLAY_EFFECT_STATE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(o,", state is ").concat(i.state)),r&&r(o)},e._handleAudioMixingNoSourceError=function(t,n,r){e.audioMixing.sounds[n.soundId].state=e.audioMixing.states.IDLE;var i=-1===n.soundId?"NO_AUDIO_MIXING_SOURCE":"NO_EFFECT_SOURCE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(i)),r&&r(i)},e._getOneEffectStates=function(t){var n=e.audioMixing.sounds[t.soundId];return function(){return n?{state:n.state,startAt:n.startAt,resumeAt:n.resumeAt,pauseOffset:n.pauseOffset,pauseAt:n.pauseAt,resumeOffset:n.resumeOffset,stopAt:n.stopAt,duration:e._getOneEffectDuration(t),position:e._getOneEffectCurrentPosition(t)}:{}}},e._audioMixingFinishedListener=function(){var t=this.sound;t.state===e.audioMixing.states.IDLE&&e.audioMixing.buffer[t.options.filePath]&&!t.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(t.options.filePath)),delete e.audioMixing.buffer[t.options.filePath]),-1===t.soundId&&e.dispatchEvent({type:"audioMixingFinished"})},e._playOneEffect=function(t,n){Object(S.checkValidObject)(t,"options");var r=t.soundId,i=(t.filePath,t.cacheResource);t.cycle,t.loop,t.playTime,t.replace;if(Object(o.isSafari)()&&Object(o.getBrowserVersion)()<12){var a="BROWSER_NOT_SUPPORT";return c.default.error("[".concat(e.streamId,"] Cannot _playOneEffect: "),a),n(a)}e.audioMixing.audioContextInited||e._initAudioContext(),e._initSoundIfNotExists(r);var s=e.audioMixing.sounds[r];if(s.state===e.audioMixing.states.IDLE){if(void 0!==t.cycle&&!t.cycle>0){a="Invalid Parmeter cycle: "+t.cycle;return c.default.error("[".concat(e.streamId,"] ").concat(r),a),n(a)}if(Object(S.isEmpty)(i)&&(t.cacheResource=!0),s.state=e.audioMixing.states.STARTING,s.options=t,e.audioMixing.buffer[t.filePath]){var d=e._startAudioMixingBufferSource(t);if(d)return s.source=d,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);s.state=e.audioMixing.states.IDLE;var u="CREATE_BUFFERSOURCE_FAILED";if(n)return n(u);c.default.error("[".concat(e.streamId,"] "),u)}else e.loadAudioBuffer(t.filePath,t.filePath,(function(r){if(r)s.state=e.audioMixing.states.IDLE,n?n(r):c.default.error("[".concat(e.streamId,"] "),r);else{var i=e._startAudioMixingBufferSource(t);if(i)return s.source=i,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),n(null);s.state=e.audioMixing.states.IDLE;r="CREATE_BUFFERSOURCE_FAILED";if(n)return n(r);c.default.error("[".concat(e.streamId,"] "),r)}}))}else e._handleAudioMixingInvalidStateError("_playEffect",t,n)},e._stopOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];return e._isSoundExists(t)?r.state===e.audioMixing.states.BUSY||r.state===e.audioMixing.states.PAUSED?(e._stopAudioMixingBufferSource(t),r.stopAt=Date.now(),r.state=e.audioMixing.states.IDLE,e.audioMixing.buffer[r.options.filePath]&&!r.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(r.options.filePath)),delete e.audioMixing.buffer[r.options.filePath]),void(n&&n(null))):void e._handleAudioMixingInvalidStateError("_stopOneEffect",t,n):n("SOUND_NOT_EXISTS")},e._pauseOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.BUSY)return e._stopAudioMixingBufferSource(t)?(r.pauseAt=Date.now(),r.state=e.audioMixing.states.PAUSED,r.resumeAt?r.pauseOffset=r.pauseAt-r.resumeAt+r.resumeOffset:r.pauseOffset=r.pauseAt-r.startAt+r.startOffset,n&&n(null)):void e._handleAudioMixingNoSourceError("_pauseOneEffect",t,n);e._handleAudioMixingInvalidStateError("_pauseOneEffect",t,n)},e._resumeOneEffect=function(t,n){var r=e.audioMixing.sounds[t.soundId];if(r.state===e.audioMixing.states.PAUSED){var i={soundId:t.soundId,filePath:r.options.filePath,cycle:r.options.cycle,loop:r.options.loop,playTime:r.pauseOffset,replace:r.options.replace},o=e._startAudioMixingBufferSource(i);if(!o){var a="CREATE_BUFFERSOURCE_FAILED";return n(a),void c.default.error("[".concat(e.streamId,"] "),a)}r.source=o,r.resumeAt=Date.now(),r.resumeOffset=r.pauseOffset,r.state=e.audioMixing.states.BUSY,r.pauseAt=null,r.pauseOffset=null,n(null)}else e._handleAudioMixingInvalidStateError("_resumeOneEffect",t,n)},e._getOneEffectDuration=function(t){var n=e.audioMixing.sounds[t.soundId];return n.options&&n.options.filePath&&e.audioMixing.buffer[n.options.filePath]?1e3*e.audioMixing.buffer[n.options.filePath].duration:null},e._getOneEffectCurrentPosition=function(t,n){var r=e.audioMixing.sounds[t.soundId];return r.state===e.audioMixing.states.PAUSED?r.pauseOffset%e._getOneEffectDuration(t):r.state===e.audioMixing.states.BUSY?r.resumeAt?(Date.now()-r.resumeAt+r.resumeOffset)%e._getOneEffectDuration(t):(Date.now()-r.startAt+r.startOffset)%e._getOneEffectDuration(t):void(n&&e._handleAudioMixingInvalidStateError("_getOneEffectCurrentPosition",t))},e._setOneEffectPosition=function(t,n,r){var i=e.audioMixing.sounds[t.soundId];if(i.state===e.audioMixing.states.BUSY){if(!e._stopAudioMixingBufferSource(t))return void e._handleAudioMixingNoSourceError("_setOneEffectPosition",t,r);var o={soundId:t.soundId,filePath:i.options.filePath,loop:i.options.loop,cycle:i.options.cycle,playTime:n},a=e._startAudioMixingBufferSource(o);if(!a){var s="CREATE_BUFFERSOURCE_FAILED";return r&&r(s),void c.default.error("[".concat(e.streamId,"] "),s)}i.source=a,i.startAt=Date.now(),i.startOffset=n,i.resumeAt=null,i.resumeOffset=null,i.pauseOffset=null,i.pauseAt=null}else{if(i.state!==e.audioMixing.states.PAUSED)return void e._handleAudioMixingInvalidStateError("_setOneEffectPosition",t,r);i.pauseOffset=n}r&&r(null)},e.startAudioMixing=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"audioMixingPlayed"}),n&&n(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.startAudioMixing",options:t});Object(S.checkValidObject)(t,"options");var o=t.filePath,a=t.cacheResource,s=t.cycle,c=t.loop,d=t.playTime,u=t.replace;Object(S.checkValidString)(o,"filePath",1,Object(l.getParameter)("FILEPATH_LENMAX"),!1),Object(S.checkValidNumber)(d,"playTime",0,1e8),!Object(S.isEmpty)(s)&&Object(S.checkValidNumber)(s,"cycle"),!Object(S.isEmpty)(c)&&Object(S.checkValidBoolean)(c,"loop"),!Object(S.isEmpty)(u)&&Object(S.checkValidBoolean)(u,"replace"),!Object(S.isEmpty)(a)&&Object(S.checkValidBoolean)(a,"cacheResource");var p=i()({soundId:-1},t);e._playOneEffect(p,r)},e.stopAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.stopAudioMixing"});e._stopOneEffect({soundId:-1},n)},e.pauseAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.pauseAudioMixing"});return e._pauseOneEffect({soundId:-1},n)},e.resumeAudioMixing=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:function(n,r){if(n)return t&&t(n);e.dispatchEvent({type:"audioMixingPlayed"}),t&&t(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.resumeAudioMixing"});e._resumeOneEffect({soundId:-1},n)},e.adjustAudioMixingVolume=function(t){var n=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.adjustAudioMixingVolume",options:arguments,tag:"tracer"});Object(S.checkValidNumber)(t,"volume",0,100),e.audioMixing.sounds[-1].volume=t,e._flushAudioMixingMuteStatus(),n()},e.getAudioMixingDuration=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingDuration"}),n=e._getOneEffectDuration({soundId:-1});return t(null,n),n},e.getAudioMixingCurrentPosition=function(){var t=f.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingCurrentPosition"}),n=e._getOneEffectCurrentPosition({soundId:-1},!0);return t(null,n),n},e.setAudioMixingPosition=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.setAudioMixingPosition"});Object(S.checkValidNumber)(t,"position",0,1e8),e._setOneEffectPosition({soundId:-1},t,r)},e.playEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return n&&n(t);e.dispatchEvent({type:"effectPlayed"}),n&&n(null)},name:"Stream.playEffect",options:t});Object(S.checkValidObject)(t,"options");var i=t.soundId,o=t.filePath,a=t.cycle;Object(S.checkValidNumber)(i,"soundId",1,1e4),Object(S.checkValidString)(o,"filePath",0,Object(l.getParameter)("FILEPATH_LENMAX"),!1),!Object(S.isEmpty)(a)&&Object(S.checkValidNumber)(a,"cycle"),e._playOneEffect(t,r)},e.stopEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,getStates:e._getOneEffectStates({soundId:t}),name:"Stream.stopEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4),e._stopOneEffect({soundId:t},r)},e.stopAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.stopAllEffect"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds){var c=e.audioMixing.sounds[s];-1!==c.soundId&&(c.state!==e.audioMixing.states.BUSY&&c.state!==e.audioMixing.states.PAUSED||(o++,e._stopOneEffect({soundId:s},a)))}o||n(null)},e.preloadEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.preloadEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4),Object(S.checkValidString)(n,"filePath",1,Object(l.getParameter)("FILEPATH_LENMAX"),!1),e._initSoundIfNotExists(t,n),e.audioMixing.buffer[n]?i(null):e.loadAudioBuffer(n,n,i)},e.unloadEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.unloadEffect"});Object(S.checkValidNumber)(t,"soundId",1,1e4);var i=e.audioMixing.sounds[t];if(!i){var o="SOUND_NOT_EXISTS";return c.default.error(o,t),void r(o)}var a=i.options?i.options.filePath:i.filePath;if(a)delete e.audioMixing.buffer[a],delete e.audioMixing.sounds[t],r(null);else{var s="SOUND_BUFFER_NOT_FOUND";c.default.error(s,t),r(s)}},e.pauseEffect=function(t,n){var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.pauseEffect"});return e._pauseOneEffect({soundId:t},r)},e.pauseAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.pauseAllEffects"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.BUSY&&(o++,e._pauseOneEffect({soundId:s},a));o||n(null)},e.resumeEffect=function(t,n){Object(S.checkValidNumber)(t,"soundId",1,1e4);var r=f.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.resumeEffect"});return e._resumeOneEffect({soundId:t},r)},e.resumeAllEffects=function(t){var n=f.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.resumeAllEffects"}),r=!1,i=0,o=0,a=function(e){r||(e?(n(e),r=!0):i+=1,i===o&&(n(null),r=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.PAUSED&&(o++,e._resumeOneEffect({soundId:s},a));o||n(null)},e.getEffectsVolume=function(){var t=[];for(var n in e.audioMixing.sounds){var r=e.audioMixing.sounds[n];r&&"-1"!==n&&t.push({soundId:parseInt(n),volume:r.volume})}return t},e.setEffectsVolume=function(t,n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setEffectsVolume",options:arguments,tag:"tracer",callback:n});for(var i in Object(S.checkValidNumber)(t,"volume",0,100),e.audioMixing.defaultVolume=t,e.audioMixing.sounds){var o=e.audioMixing.sounds[i];"-1"!==i&&(o.volume=t)}e._flushAudioMixingMuteStatus(),r(null)},e.setVolumeOfEffect=function(t,n,r){var i=f.report.reportApiInvoke(e.sid,{name:"Stream.setVolumeOfEffect",options:arguments,tag:"tracer",callback:r});Object(S.checkValidNumber)(t,"soundId",0,1e4),Object(S.checkValidNumber)(n,"volume",0,100),e._initSoundIfNotExists(t);var o=e.audioMixing.sounds[t];o.volume=n,e._flushAudioMixingMuteStatus(),i(null)}}(t),y.a.addVideoEffectCapability(t),function(e,t){e.videoConstraint={},t.cameraId&&(e.videoConstraint.deviceId={exact:t.cameraId}),t.facingMode&&(e.videoConstraint.facingMode=t.facingMode),e.videoSize&&(e.videoConstraint.width=e.videoSize[0],e.videoConstraint.height=e.videoSize[1]),Object(o.isLegacyChrome)()||(e.videoConstraint.frameRate=30),e.audioConstraint={},t.microphoneId&&(e.audioConstraint.deviceId={exact:t.microphoneId}),Object(o.isLegacyChrome)()||e.audioProcessing&&(void 0!==e.audioProcessing.AGC&&(Object(o.isFireFox)()?e.audioConstraint.autoGainControl=e.audioProcessing.AGC:Object(o.isChrome)()&&(e.audioConstraint.googAutoGainControl=e.audioProcessing.AGC,e.audioConstraint.googAutoGainControl2=e.audioProcessing.AGC)),void 0!==e.audioProcessing.AEC&&(e.audioConstraint.echoCancellation=e.audioProcessing.AEC),void 0!==e.audioProcessing.ANS&&(Object(o.isFireFox)()?e.audioConstraint.noiseSuppression=e.audioProcessing.ANS:Object(o.isChrome)()&&(e.audioConstraint.googNoiseSuppression=e.audioProcessing.ANS))),e.screenConstraint={},t.sourceId&&(e.screenConstraint.sourceId=t.sourceId),t.extensionId&&Object(o.isChrome)()?(e.screenConstraint.extensionId=t.extensionId,e.screenConstraint.mandatory={chromeMediaSource:"desktop",maxWidth:e.screenAttributes.width,maxHeight:e.screenAttributes.height,maxFrameRate:e.screenAttributes.maxFr,minFrameRate:e.screenAttributes.minFr}):(e.screenConstraint.mediaSource="screen",e.screenConstraint.width=e.screenAttributes.width,e.screenConstraint.height=e.screenAttributes.height,e.screenConstraint.frameRate={ideal:e.screenAttributes.maxFr,max:e.screenAttributes.maxFr}),t.mediaSource&&(e.screenConstraint.mediaSource=t.mediaSource),e.setVideoResolution=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoResolution",options:arguments,tag:"tracer"});if(!(n instanceof Array)){var o=I(n+="");return o&&o.video?(e.videoConstraint=i()(e.videoConstraint,{width:{ideal:o.video.width},height:{ideal:o.video.height}}),t.attributes.resolution=o.attributes.resolution,(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),a.applyConstraints(e.videoConstraint).then(r).catch(r)):r(),!0):(r("NO_PROFILE_".concat(n)),!1)}var a,s=n[0],d=n[1];e.videoConstraint=i()(e.videoConstraint,{width:{ideal:s},height:{ideal:d}}),t.attributes.resolution="".concat(s,"x").concat(d),(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),y.a.disableVideoEffect(e).then((function(){return a.applyConstraints(e.videoConstraint).then(r).catch(r)})).then((function(){return y.a.restoreVideoEffect(e)}))):r()},e.setVideoFrameRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoFrameRate",options:arguments,tag:"tracer"});if(Object(o.isFireFox)())return n("FIREFOX_NOT_SUPPORTED"),!1;if("object"===T()(t)&&t instanceof Array&&t.length>1){e.videoConstraint=i()(e.videoConstraint,{frameRate:t[0]}),e.attributes.minFrameRate=t[0],e.attributes.maxFrameRate=t[1];var r=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return r&&r.applyConstraints?(c.default.debug("setVideoFrameRate applyConstraints",e.videoConstraint),r.applyConstraints(e.videoConstraint).then(n).catch(n)):n(),!0}return n("INVALID_PARAM_".concat(JSON.stringify(t))),!1},e.setVideoBitRate=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoBitRate",options:arguments,tag:"tracer"});return"object"===T()(n)&&n instanceof Array&&n.length>1?(t.attributes.minVideoBW=n[0],t.attributes.maxVideoBW=n[1],e.connectionSpec&&(e.connectionSpec.minVideoBW=n[0],e.connectionSpec.maxVideoBW=n[1]),e.pc&&e.pc.renegotiate&&e.pc.renegotiate(),r(),!0):(r("INVALID_PARAM_".concat(JSON.stringify(n))),!1)},e.setScreenBitRate=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenBitRate",options:arguments,tag:"tracer"});return"object"===T()(t)&&t instanceof Array&&t.length>1?(e.screenAttributes.minVideoBW=t[0],e.screenAttributes.maxVideoBW=t[1],n(),!0):(n("INVALID_PARAM_".concat(JSON.stringify(t))),!1)},e.setScreenProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setScreenProfile",options:arguments,tag:"tracer"});Object(S.checkValidEnum)(t,"profile",["480p_1","480p_2","720p_1","720p_2","1080p_1","1080p_2"]);var r=I(t);return r&&r.screen?(e.screenConstraint.mandatory?(e.screenConstraint.mandatory.maxWidth=r.screen.width,e.screenConstraint.mandatory.maxHeight=r.screen.height,r.screen.frameRate&&r.screen.frameRate.min&&r.screen.frameRate.max&&(e.screenConstraint.mandatory.minFrameRate=r.screen.frameRate.min,e.screenConstraint.mandatory.maxFrameRate=r.screen.frameRate.max)):e.screenConstraint=i()(e.screenConstraint,r.screen),e.screenAttributes.width=r.screen.width,e.screenAttributes.height=r.screen.height,e.screenAttributes.minFr=r.screen.frameRate.min,e.screenAttributes.maxFr=r.screen.frameRate.max,n(),!0):(n("NO_SCREEN_PROFILE_".concat(JSON.stringify(t))),!1)},e.setVideoProfileCustom=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution(t[0]),e.setVideoFrameRate([t[1],t[1]]),e.setVideoBitRate([t[2],t[2]]),n()},e.setVideoProfileCustomPlus=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution([n.width,n.height]),t.attributes.resolution="".concat(n.width,"x").concat(n.height),e.setVideoFrameRate([n.framerate,n.framerate]),e.setVideoBitRate([n.bitrate,n.bitrate]),r()},e.setVideoProfile=function(n){var r=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfile",options:arguments,tag:"tracer"}),a=I(n);if(!a){var s="Invalid Profile ".concat(n);throw new Error(s)}if(e.profile=n,a&&a.video){e.profile=a.profileName,e.videoConstraint=i()(e.videoConstraint,a.video),e.connectionSpec&&a.attributes.maxVideoBW&&(e.connectionSpec.minVideoBW=a.attributes.minVideoBW,e.connectionSpec.maxVideoBW=a.attributes.maxVideoBW),Object(o.isEdge)()&&(e.videoConstraint.frameRate.max=60),Object(o.isFireFox)()&&(e.videoConstraint.frameRate=30),t.attributes=i()(t.attributes,a.attributes),e.pc&&e.pc.renegotiate&&e.pc.renegotiate();var d=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return d&&d.applyConstraints?(c.default.debug("setVideoProfile applyConstraints",e.videoConstraint),y.a.disableVideoEffect(e).then((function(){return d.applyConstraints(e.videoConstraint)})).then((function(){return y.a.restoreVideoEffect(e)})).then((function(t){return new Promise((function(n,i){r(t),setTimeout((function(){Object(h.vsResHack)(e.stream,(function(t,r){e.videoWidth=t,e.videoHeight=r,n()}),(function(t){c.default.warning("[".concat(e.streamId,"] vsResHack failed: "),t),i()}))}),2500)}))})).catch(r)):r(),!0}return r("INVALID_VIDEO_PROFILE_".concat(n)),!1},e.setAudioProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setAudioProfile",options:arguments,tag:"tracer"});Object(S.checkValidEnum)(t,"profile",["speech_low_quality","speech_standard","music_standard","standard_stereo","high_quality","high_quality_stereo"]),e.audioProfile=t;var r=A(t);return e.highQuality=r.highQuality,e.stereo=r.stereo,e.speech=r.speech,e.lowQuality=r.lowQuality,e.stereo&&Object(o.isChrome)()&&(e.audioConstraint.googAutoGainControl=!1,e.audioConstraint.googAutoGainControl2=!1,e.audioConstraint.echoCancellation=!1,e.audioConstraint.googNoiseSuppression=!1),n(),!0},e.setVideoEncoderConfiguration=function(t){Object(S.checkValidObject)(t,"config");var n=f.report.reportApiInvoke(e.sid,{name:"Stream.setVideoEncoderConfiguration",options:t,tag:"tracer"});t.resolution&&(Object(S.checkValidNumber)(t.resolution.width,"config.resolution.width"),Object(S.checkValidNumber)(t.resolution.height,"config.resolution.height"),e.setVideoResolution([t.resolution.width,t.resolution.height])),t.frameRate&&(Object(S.checkValidNumber)(t.frameRate.min,"config.frameRate.min"),Object(S.checkValidNumber)(t.frameRate.max,"config.frameRate.max"),e.setVideoFrameRate([t.frameRate.min,t.frameRate.max])),t.bitrate&&(Object(S.checkValidNumber)(t.bitrate.min,"config.bitrate.min",1,1e7),Object(S.checkValidNumber)(t.bitrate.max,"config.bitrate.max",1,1e7),e.setVideoBitRate([t.bitrate.min,t.bitrate.max])),n()},e.getSupportedProfile=function(t){var n=f.report.reportApiInvoke(e.sid,{name:"Stream.getSupportedProfile",options:arguments,tag:"tracer",callback:t});if(!e.local){var r="ONLY_LOCAL_STREAM_SUPPORTED";return c.default.error(r),n(r)}if(!e.stream){r="STREAM_NOT_INIT";return c.default.error(r),n(r)}if(!e.stream.getVideoTracks){r="TRACK_NOT_SUPPORT";return c.default.error(r),n(r)}var i=e.stream.getVideoTracks()[0];if(!i){r="NO_VIDEO_TRACK_FOUND";return c.default.error(r),n(r)}if(!i.getCapabilities){r="GETCAPABILITY_NOT_SUPPORT";return c.default.error(r),n(r)}var o=i.getCapabilities(),a=b(o);return n(null,a)}}(t,e),t.getId=function(){return t.streamId},t.getUserId=function(){return t.userId},t.checkDualStreamEnabled=function(){if(Object(l.getParameter)("DUALSTREAM_OPERATION_CHECK")&&t.isDualStream){return c.default.error("Operation not permitted: ".concat("DUAL_STREAM_ENABLED")),"DUAL_STREAM_ENABLED"}return!1},t.setUserId=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setUserId",options:arguments,tag:"tracer"});t.userId&&c.default.warning("[".concat(t.streamId,"] Stream.userId ").concat(t.userId," => ").concat(e)),t.userId=e,n()},t.getAttributes=function(){return e.screen?t.screenAttributes:e.attributes},t.hasAudio=function(){return!!t.audio},t.hasVideo=function(){return!!t.video},t.hasScreen=function(){return!!t.screen},t.hasScreenAudio=function(){return!!t.screenAudio},t.isVideoOn=function(){return(t.hasVideo()||t.hasScreen())&&!t.userMuteVideo},t.isAudioOn=function(){return t.hasAudio()&&!t.userMuteAudio},t.init=function(r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.init",options:arguments,tag:"tracer"}),a=((new Date).getTime(),arguments[2]);if(void 0===a&&(a=2),!0===t.initialized)return o({type:"warning",msg:"STREAM_ALREADY_INITIALIZED"});if(!0!==t.local)return o({type:"warning",msg:"STREAM_NOT_LOCAL"});var s=Math.random().toString().slice(3);t._streamInitID=s,t.videoSource?t.videoName="videoSource":t.video&&(t.videoName=E.a.searchDeviceNameById(e.cameraId)||"default"),t.audioSource?t.audioName="audioSource":t.audio&&(t.audioName=E.a.searchDeviceNameById(e.microphoneId)||"default"),t.screen&&(t.screenName=e.extensionId||"default");try{if(e.audio||e.video||e.screen||e.screenAudio||e.videoSource||e.audioSource){c.default.debug("[".concat(t.streamId,"] Requested access to local media"));var d={streamId:t.streamId};e.videoSource?d.videoSource=e.videoSource:e.screen?d.screen=t.screenConstraint:e.video&&(d.video=t.videoConstraint),e.audioSource?d.audioSource=e.audioSource:e.screenAudio?d.screenAudio=e.screenAudio:e.audio&&(d.audio=t.audioConstraint),Object(m.b)(d,(function(r){if(d.screenAudio&&!r.getAudioTracks()[0]&&c.default.warning("[".concat(t.streamId,"] Audio sharing is not selected")),d.screen&&c.default.debug("[".concat(t.streamId,"] User has granted access to screen sharing")),(d.video||d.audio)&&c.default.debug("[".concat(t.streamId,"] User has granted access to local media")),null===t._streamInitID){r.getTracks().forEach((function(e){e.stop()}));var i={type:"error",msg:"STREAM_IS_CLOSED",info:"stream is closed and cannot be initialized"};return c.default.error(t.streamId,i.info),void o(i)}if(t._streamInitID!==s){r.getTracks().forEach((function(e){e.stop()}));i={type:"error",msg:"ABORT_OTHER_INIT",info:"stream initialization is aborted because of another stream.init"};return c.default.error(t.streamId,i.info),void o(i)}t.dispatchEvent({type:"accessAllowed"}),t.stream=r,t.initialized=!0,t.reloadDeviceName(),t.hasVideo()&&Object(h.vsResHack)(r,(function(e,n){t.videoWidth=e,t.videoHeight=n}),(function(e){c.default.warning("[".concat(t.streamId,"] vsResHack failed: "),e)})),e.screen&&t.stream&&t.stream.getVideoTracks()[0]&&(t.stream.getVideoTracks()[0].onended=function(){t.dispatchEvent({type:"stopScreenSharing"})}),t.stream&&t.stream.getTracks&&t.stream.getTracks().forEach((function(r){r&&!r.onended&&(r.onended=n),"video"===r.kind&&e.optimizationMode&&(r.contentHint=e.optimizationMode,r.contentHint===e.optimizationMode&&c.default.debug("[".concat(t.streamId,"] set content hint to"),e.optimizationMode))})),o()}),(function(e){var n={type:"error",info:null};switch(e&&(n.msg=e.name||e.code||e,e.message&&(n.info=e.message),e.code&&(n.info?n.info+=". "+e.code:n.info=" "+e.code),e.constraint&&(n.info?n.info+=". Constraint: "+e.constraint:n.info="constraint: "+e.constraint)),n.msg){case"Starting video failed":case"TrackStartError":if(t.videoConstraint&&(delete t.videoConstraint.width,delete t.videoConstraint.height),a>0)return void setTimeout((function(){t.init((function(e){return o(e)}),o,a-1)}),1);n.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":n.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":n.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":case"InvalidStateError":n.msg="PERMISSION_DENIED",t.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":case"NotAllowedError":t.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":n.msg="CONSTRAINT_NOT_SATISFIED";break;default:n.msg||(n.msg="UNDEFINED")}var r="Media access ".concat(n.msg).concat(n.info?": "+n.info:"");c.default.error("[".concat(t.streamId,"] "),r),o(n)}))}else o({type:"warning",msg:"STREAM_HAS_NO_MEDIA_ATTRIBUTES"})}catch(e){c.default.error("[".concat(t.streamId,"] Stream init: "),e),o({type:"error",msg:e.message||e})}},t.reloadDeviceName=function(){if(t.stream){if(t.stream.getVideoTracks){var e=t.stream.getVideoTracks()[0];e&&e.label&&(t.videoName=e.label)}if(t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];n&&n.label&&(t.audioName=n.label)}}},t.close=function(){var e=f.report.reportApiInvoke(null,{name:"Stream.close",options:arguments,tag:"tracer"});if(c.default.debug("[".concat(t.streamId,"] Close stream with id"),t.streamId),t._originStream)try{t._originStream.getTracks().map((function(e){return e.stop()}))}catch(e){}if(void 0!==t.stream){var n=t.stream.getTracks();for(var r in n)n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null);!t.isLowStream&&t.local?y.a.disableVideoEffect(t).then((function(){t.stream=void 0})):(t.stream&&t.stream.clean&&t.stream.clean(),t.stream=void 0)}if(t._originStream){console.log("clear _originStream");n=t._originStream.getTracks();for(var r in n)n.hasOwnProperty(r)&&(n[r].stop(),n[r].onended=null,console.log("clear onended"));!t.isLowStream&&t.local?y.a.disableVideoEffect(t).then((function(){t._originStream=void 0})):(t._originStream&&t._originStream.clean&&t._originStream.clean(),t._originStream=void 0)}if(Object(o.isSafari)()&&t.pc&&t.pc.peerConnection&&t.pc.peerConnection.removeTrack&&t.pc.peerConnection.getSenders){var i=t.pc.peerConnection.getSenders();i.forEach((function(e){e&&(c.default.debug("[".concat(t.streamId,"] Remove Track"),e),t.pc.peerConnection.removeTrack(e))}))}t.local&&(t.initialized=!1),t._streamInitID=null,t._onAudioMute=void 0,t._onAudioUnmute=void 0,t._onVideoMute=void 0,t._onVideoUnmute=void 0,t.lowStream&&t.lowStream.close(),t.player&&t.player.video&&t.player.video.srcObject&&(t.player.video.srcObject=null),t.player&&t.player.audio&&t.player.audio.srcObject&&(t.player.audio.srcObject=null),e()},t.enableAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableAudio",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableAudio is deprecated and will be removed in the future. Use Stream.unmuteAudio instead")),t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already enableAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.disableAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableAudio",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableAudio is deprecated and will be removed in the future. Use Stream.muteAudio instead")),t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already disableAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.enableVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.enableVideo",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(t.streamId,"] Stream.enableVideo is deprecated and will be removed in the future. Use Stream.unmuteVideo instead")),t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already enableVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.disableVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.disableVideo",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(t.streamId,"] Stream.disableVideo is deprecated and will be removed in the future. Use Stream.muteVideo instead")),t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already disableVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t.unmuteAudio=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteAudio",options:arguments,tag:"tracer"});return t.userMuteAudio||c.default.warning("[".concat(t.streamId,"] User already unmuteAudio")),t.userMuteAudio=!1,n(null,e=!t.peerMuteAudio&&t._unmuteAudio()),e},t.muteAudio=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteAudio",options:arguments,tag:"tracer"});t.userMuteAudio&&c.default.warning("[".concat(t.streamId,"] User already muteAudio")),t.userMuteAudio=!0;var n=t._muteAudio();return e(null,n),n},t.unmuteVideo=function(){var e,n=f.report.reportApiInvoke(t.sid,{name:"Stream.unmuteVideo",options:arguments,tag:"tracer"});return t.userMuteVideo||c.default.warning("[".concat(t.streamId,"] User already unmuteVideo")),t.userMuteVideo=!1,t.lowStream&&(t.lowStream.userMuteVideo=!1),n(null,e=!t.peerMuteVideo&&t._unmuteVideo()),e},t.muteVideo=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.muteVideo",options:arguments,tag:"tracer"});t.userMuteVideo&&c.default.warning("[".concat(t.streamId,"] User already muteVideo")),t.userMuteVideo=!0,t.lowStream&&(t.lowStream.userMuteVideo=!0);var n=t._muteVideo();return e(null,n),n},t._unmuteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!1),!(!t.hasAudio()||!t.initialized||void 0===t.stream||!0===t.stream.getAudioTracks()[0].enabled)&&(t._onAudioUnmute&&t._onAudioUnmute(),t.pc&&(t.pc.isAudioMute=!1),t.stream.getAudioTracks()[0].enabled=!0,!0)},t._isAudioMuted=function(){if(t.stream&&t.hasAudio()){var e=t.stream.getAudioTracks();return e.length>0&&!e[0].enabled}return!1},t._isVideoMuted=function(){if(t.stream&&t.hasVideo()){var e=t.stream.getVideoTracks();return e.length>0&&!e[0].enabled}return!1},t._muteAudio=function(){return c.default.debug("[".concat(t.streamId,"] Muted audio stream with id "),t.streamId),t._flushAudioMixingMuteStatus(!0),!!(t.hasAudio()&&t.initialized&&void 0!==t.stream&&t.stream.getAudioTracks()[0].enabled)&&(t._onAudioMute&&t._onAudioMute(),t.pc&&(t.pc.isAudioMute=!0),t.stream.getAudioTracks()[0].enabled=!1,t.sid&&f.report.audioSendingStopped(t.sid,{succ:!0,reason:"muteAudio"}),!0)},t._unmuteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Unmuted video stream with id"),t.streamId),!(!t.initialized||void 0===t.stream||!t.stream.getVideoTracks().length||!0===t.stream.getVideoTracks()[0].enabled)&&(t._onVideoUnmute&&t._onVideoUnmute(),t.pc&&(t.pc.isVideoMute=!1),t.stream.getVideoTracks()[0].enabled=!0,t.lowStream&&t.lowStream._unmuteVideo(),!0)},t._muteVideo=function(){return c.default.debug("[".concat(t.streamId,"] Muted video stream with id"),t.streamId),!!(t.initialized&&void 0!==t.stream&&t.stream.getVideoTracks().length&&t.stream.getVideoTracks()[0].enabled)&&(t._onVideoMute&&t._onVideoMute(),t.pc&&(t.pc.isVideoMute=!0),t.stream.getVideoTracks()[0].enabled=!1,t.lowStream&&t.lowStream._muteVideo(),t.sid&&f.report.videoSendingStopped(t.sid,{succ:!0,reason:"muteVideo"}),!0)},t.addTrack=function(r){if(t.audio&&"audio"===r.kind)c.default.warning("already added audio track");else if(t.video&&"video"===r.kind)c.default.warning("already added video track");else{var i=f.report.reportApiInvoke(t.sid,{name:"Stream.addTrack",options:arguments,tag:"tracer"});if(t.pc&&t.pc.addTrack(r,t.stream),"audio"==r.kind){t._cleanupAudioMixing();var o=new MediaStream;t.userMuteAudio&&(r.enabled=!1),o.addTrack(r);var a=t.stream.getVideoTracks()[0];a&&o.addTrack(a),t.audio=!0,e.audio=!0,t.stream=o,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream)}else t.userMuteVideo&&(r.enabled=!1),t.stream.addTrack(r),t.video=!0,e.video=!0;r.onended||(r.onended=n),i()}},t.removeTrack=function(n){if(n)if(t.audio||"audio"!==n.kind)if(t.video||"video"!==n.kind){var r=f.report.reportApiInvoke(t.sid,{name:"Stream.removeTrack",options:arguments,tag:"tracer"});t.pc&&t.pc.removeTrack(n,t.stream),t.stream.removeTrack(n),t._cleanupAudioMixing(),"audio"===n.kind?(t.audio=!1,e.audio=!1):(t.video=!1,e.video=!1),t.audioLevelHelper=null,"live"==n.readyState&&(n.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(n.kind," Stopped"))),r()}else c.default.warning("already removed video track");else c.default.warning("already removed audio track");else c.default.warning("track doesn't exist.")},t.setAudioOutput=function(e,n,r){var i=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Stream.setAudioOutput",options:arguments,tag:"tracer"});return Object(S.isValidString)(e,1,255)?(t.audioOutput=e,t.player?void t.player.setAudioOutput(e,(function(){return i()}),i):i()):(c.default.error("[".concat(t.streamId,"] setAudioOutput Invalid Parameter"),e),i(u.default.INVALID_PARAMETER))},t.play=function(e,n,r){"function"==typeof n&&(r=n,n=null),c.default.debug("[".concat(t.streamId,"] play()."),e,n);var i=f.report.reportApiInvoke(t.sid,{name:"Stream.play",options:arguments,tag:"tracer",callback:r});if(Object(S.checkValidString)(e,"elementID"),Object(S.isEmpty)(n)||(Object(S.isEmpty)(n.fit)||Object(S.checkValidEnum)(n.fit,"fit",["cover","contain"]),Object(S.isEmpty)(n.muted)||Object(S.checkValidBoolean)(n.muted,"muted")),t.player)c.default.warning("[".concat(t.streamId,"] Stream.play(): Stream is already playing. Fallback to resume stream")),t.resume().then((function(){i(null)})).catch(i);else{t.elementID=e,t.playOptions=n,!t.local||t.video||t.screen?(t.player=new g({id:t.getId(),stream:t,elementID:e,options:n}),t.local&&y.a.applyEffectInPlayer(t)):t.hasAudio()&&(t.player=new g({id:t.getId(),stream:t,elementID:e,options:n}));var o={video:null,audio:null},a=function e(n){if(o[n.mediaType]=n,o.video&&o.audio)if(t.removeEventListener("player-status-change",e),o.video.isErrorState||o.audio.isErrorState){var r=o.video.isErrorState?o.video:o.audio;i({isErrorState:!0,status:r.status,reason:r.reason,video:o.video,audio:o.audio})}else"aborted"===o.video.status&&"aborted"===o.audio.status?i({status:"aborted",reason:"stop",video:o.video,audio:o.audio}):i(null)};t.on("player-status-change",a),t.audioOutput&&t.player.setAudioOutput(t.audioOutput),void 0!==t.audioLevel&&t.player.setAudioVolume(t.audioLevel),t._flushAudioMixingMuteStatus(!1)}},t.stop=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.stop",options:arguments,tag:"tracer"});c.default.debug("[".concat(t.streamId,"] Stop stream player with id "),t.streamId),t.player?(y.a.removeEffectFromLocalPlayer(t),t.player.destroy(),delete t.player):c.default.error("[".concat(t.streamId,"] Stream.stop(): Stream is not playing")),t._flushAudioMixingMuteStatus(!0),e()},t.isPlaying=function(){return!!t.player},t.isPaused=function(){return!!t.player&&(!!(t.player.video&&t.player.video.paused&&t.player.mediaElemExists(t.player.video))||!!(t.player.audio&&t.player.audio.paused&&t.player.mediaElemExists(t.player.audio)))},t.resume=function(){var e,n;return t.player?(t.player.video&&t.player.video.play&&(e=t.player.video.play()),e=e||Promise.resolve(),t.player.audio&&t.player.audio.play&&(n=t.player.audio.play()),n=n||Promise.resolve(),Promise.all([e,n])):Promise.reject("NO_PLAYER_FOUND")},t.getVideoTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getVideoTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getVideoTracks){var n=t.stream.getVideoTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getVideoTrack"),n),e(),n}c.default.info("[".concat(t.streamId,"] getVideoTrack None")),e(null,"getVideoTrack None")},t.getAudioTrack=function(){var e=f.report.reportApiInvoke(t.sid,{name:"Stream.getAudioTrack",options:arguments,tag:"tracer"});if(t.stream&&t.stream.getAudioTracks){var n=t.stream.getAudioTracks()[0];if(n)return c.default.info("[".concat(t.streamId,"] getAudioTracks"),n),e(),n}c.default.info("[".concat(t.streamId,"] getAudioTracks None")),e(null,"getAudioTracks None")},t._hasVideoTracks=function(){return!!(t.stream&&t.stream.getVideoTracks&&t.stream.getVideoTracks()[0])},t._hasAudioTracks=function(){return!!(t.stream&&t.stream.getAudioTracks&&t.stream.getAudioTracks()[0])},t._replaceMediaStreamTrack=function(e,n,r){if(t.stream){if("video"==e.kind){if(o=t.stream.getVideoTracks()[0])return t.userMuteVideo&&(e.enabled=!1),t.stream.removeTrack(o),t.stream.addTrack(e),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(e.kind," SUCCESS")),"live"==o.readyState&&(o.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(o.kind," Stopped"))),n&&n();var i="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}if("audio"==e.kind){var o;if(o=t.stream.getAudioTracks()[0]){t.userMuteAudio&&(e.enabled=!1);var a=new MediaStream;a.addTrack(e);var s=t.stream&&t.stream.getVideoTracks()[0];return s&&a.addTrack(s),t.stream=a,t.audioLevelHelper=null,t.player&&t.player.video&&(t.player.video.srcObject=t.stream),c.default.debug("[".concat(t.streamId,"] _replaceMediaStreamTrack SUCCESS")),"live"==o.readyState&&(o.stop(),c.default.debug("[".concat(t.streamId,"] Track ").concat(o.kind," Stopped"))),n&&n()}i="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(t.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),r(i)}i="INVALID_TRACK_TYPE";return c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i," ").concat(e.kind)),r&&r(i)}i="NO_STREAM_FOUND";return c.default.error("[".concat(t.streamId,"] _replaceMediaStreamTrack ").concat(i)),r&&r(i)},t.replaceTrack=function(e,r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.replaceTrack",options:arguments,tag:"tracer"});return e&&e.kind?(t._cleanupAudioMixing(),e.onended||(e.onended=n),t.pc&&t.pc.hasSender&&t.pc.hasSender(e.kind)?void t.pc.replaceTrack(e,(function(){return c.default.debug("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," SUCCESS")),t._replaceMediaStreamTrack(e,(function(e){return o(null,e)}),o)}),(function(n){return c.default.error("[".concat(t.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," Failed ").concat(n)),o(n)})):t._replaceMediaStreamTrack(e,(function(e){return o(null,e)}),o)):o("INVALID_TRACK")},t.setAudioVolume=function(e){var n=f.report.reportApiInvoke(t.sid,{name:"Stream.setAudioVolume",options:arguments,tag:"tracer"});Object(S.checkValidNumber)(e,"level",0,100),t.audioLevel=e,t.player&&t.player.setAudioVolume(e),n()},t.getStats=function(e,n,r){var a=[];a.push(t._getPCStats(r)),a.push(new Promise((function(e){var n={};t.pc&&t.pc.isSubscriber?null!==window.navigator.userAgent.match("Firefox")&&(Object(v.b)(n,"videoReceiveResolutionHeight",t.videoHeight),Object(v.b)(n,"videoReceiveResolutionWidth",t.videoWidth)):t.pc&&!t.pc.isSubscriber&&((Object(o.isSafari)()||Object(o.isFireFox)())&&(Object(v.b)(n,"videoSendResolutionHeight",t.videoHeight),Object(v.b)(n,"videoSendResolutionWidth",t.videoWidth)),(Object(o.isSafari)()||Object(o.isFireFox)())&&t.uplinkStats&&Object(v.b)(n,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),e(n)}))),a.push(new Promise((function(e){var n={};return t.traffic_stats&&t.pc&&t.pc.isSubscriber?(Object(v.b)(n,"accessDelay",t.traffic_stats.access_delay),Object(v.b)(n,"endToEndDelay",t.traffic_stats.e2e_delay),Object(v.b)(n,"videoReceiveDelay",t.traffic_stats.video_delay),Object(v.b)(n,"audioReceiveDelay",t.traffic_stats.audio_delay)):t.traffic_stats&&t.pc&&!t.pc.isSubscriber&&Object(v.b)(n,"accessDelay",t.traffic_stats.access_delay),e(n)}))),Promise.all(a).then((function(n){for(var r={},o=n.length-1;o>=0;o--){var a=n[o];i()(r,a)}e&&setTimeout(e.bind(t,r),0)})).catch((function(e){n&&setTimeout(n.bind(t,e),0)}))},t._getPCStats=function(e){return new Promise((function(n,r){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats){return r("PEER_CONNECTION_NOT_ESTABLISHED")}t.pc.getStats((function(e){if(!t.pc||"established"!==t.pc.state||!t.pc.getStats){return r("PEER_CONNECTION_STATE_CHANGE")}var i=t.pc.isSubscriber?Object(v.c)(e):Object(v.a)(e);return n(i)}),e)})).then((function(e){return t.pc.isSubscriber?(Object(o.isFireFox)()||Object(o.isSafari)())&&(e.videoReceiveResolutionHeight&&"0"!==e.videoReceiveResolutionHeight||e.videoReceiveResolutionWidth&&"0"!==e.videoReceiveResolutionWidth||(Object(v.b)(e,"videoReceiveResolutionHeight",t.videoHeight),Object(v.b)(e,"videoReceiveResolutionWidth",t.videoWidth))):((Object(o.isSafari)()||Object(o.isFireFox)())&&(e.videoSendResolutionHeight&&"0"!==e.videoSendResolutionHeight||e.videoSendResolutionWidth&&"0"!==e.videoSendResolutionWidth||(Object(v.b)(e,"videoSendResolutionHeight",t.videoHeight),Object(v.b)(e,"videoSendResolutionWidth",t.videoWidth))),(Object(o.isSafari)()||Object(o.isFireFox)())&&t.uplinkStats&&Object(v.b)(e,"videoSendPacketsLost",t.uplinkStats.uplink_cumulative_lost)),Promise.resolve(e)}))},t.getAudioLevel=function(){if(t.audioLevelHelper)return t.audioLevelHelper.getAudioLevel();if(t.stream){if(0!==t.stream.getAudioTracks().length)return t.audioLevelHelper=new h.audioLevelHelper(t.stream),t.audioLevelHelper.getAudioLevel();c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no audio trace in stream"))}else c.default.warning("[".concat(t.streamId,"] can't get audioLevel beacuse no stream exist"))},t.setVideoProfile("480p_1"),t._switchVideoDevice=function(e,n,r){if(e===t.cameraId)return n&&n();var o={video:i()({},t.videoConstraint,{deviceId:{exact:e}}),audio:!1};c.default.debug("[".concat(t.streamId,"] ").concat(o)),Object(m.b)(o,(function(i){try{var o=function(){t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.cameraId=e,t.videoConstraint.deviceId={exact:e},t.userMuteVideo&&(t.stream.getVideoTracks()[0].enabled=!1),y.a.restoreVideoEffect(t).then((function(){n&&n()}))};y.a.disableVideoEffect(t).then((function(){var e=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(e=!0),e?t.replaceTrack(i.getVideoTracks()[0],o,r):(t.removeTrack(t.stream.getVideoTracks()[0]),t.addTrack(i.getVideoTracks()[0]),o())}))}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t._switchAudioDevice=function(e,n,r){if(e===t.microphoneId)return n&&n();var o={video:!1,audio:i()({},t.audioConstraint,{deviceId:{exact:e}})};c.default.debug("[".concat(t.streamId,"] "),o);var a=t.stream.getAudioTracks()[0];a&&a.stop(),Object(m.b)(o,(function(i){var o=function(){t._cleanupAudioMixing(),t.userMuteAudio&&(t.stream.getAudioTracks()[0].enabled=!1),t.isPlaying()&&(t.stop(),t.elementID&&t.play(t.elementID,t.playOptions)),t.microphoneId=e,t.audioConstraint.deviceId={exact:e},n&&n()};try{var a=!1;window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack&&(a=!0),a?t.replaceTrack(i.getAudioTracks()[0],o,r):(t.removeTrack(t.stream.getAudioTracks()[0]),t.addTrack(i.getAudioTracks()[0]),o())}catch(e){return r&&r(e)}}),(function(e){return r&&r(e)}))},t.switchDevice=function(e,n,r,i){var o=f.report.reportApiInvoke(t.sid,{callback:function(e,t){if(e)return i&&i(e);r&&r(t)},name:"Stream.switchDevice",options:arguments,tag:"tracer"});Object(S.checkValidString)(n,"deviceId");var a=function(){return t.inSwitchDevice=!1,o()},s=function(e){t.inSwitchDevice=!1,c.default.error("[".concat(t.streamId,"] "),e),o(e)};if(t.inSwitchDevice)return o("Device switch is in process.");if(t.inSwitchDevice=!0,!t.local)return s("Only the local stream can switch the device.");if(t.screen&&"video"===e)return s("The device cannot be switched during screen-sharing.");if(!t.video&&"video"===e)return s("Video track not exist.");if(!t.audio&&"audio"===e)return s("Audio track not exist.");if(t.videoSource||t.audioSource)return s("The device cannot be switched when using videoSource or audioSource.");var d=!1;for(var u in t.audioMixing.sounds){var l=t.audioMixing.sounds[u];if(l.state!==t.audioMixing.states.IDLE){d=!0;break}}var p=t.audioMixing.audioContextInited;if(p&&d)return s("The device cannot be switched when using audio Mixing.");E.a.getDeviceById(n,(function(){if("video"===e)t._switchVideoDevice(n,a,s);else{if("audio"!==e)return s("Invalid type.");t._switchAudioDevice(n,a,s)}}),(function(){return s("The device does not exist.")}))},t},C=function(e){var t=f.report.reportApiInvoke(null,{name:"createStream",options:arguments,tag:"tracer",getStates:function(){return{audioTrackEnable:e&&e.audioSource?e.audioSource.enabled:null,videoTrackEnable:e&&e.videoSource?e.videoSource.enabled:null}}});Object(S.checkValidObject)(e,"StreamSpec");var n=e.streamID,r=e.audio,i=e.video,o=e.screen,a=e.screenAudio,s=(e.audioSource,e.videoSource,e.cameraId),d=e.facingMode,u=e.microphoneId,l=e.mirror,p=e.extensionId,g=e.mediaSource,m=e.audioProcessing,v=e.optimizationMode;if(!Object(S.isEmpty)(n)&&!Object(h.is32Uint)(n)&&!Object(S.isValidString)(n,1,255))throw new Error("[String streamID] Length of the string: [1,255]. ASCII characters only. [Number streamID] The value range is Uint32");if(Object(S.checkValidBoolean)(r,"audio"),Object(S.checkValidBoolean)(i,"video"),Object(S.isEmpty)(o)||Object(S.checkValidBoolean)(o,"screen"),Object(S.isEmpty)(a)||Object(S.checkValidBoolean)(a,"screenAudio"),Object(S.isEmpty)(s)||Object(S.checkValidString)(s,"cameraId",0,255,!1),Object(S.isEmpty)(d)||Object(S.checkValidEnum)(d,"facingMode",["user","environment","left","right"]),Object(S.isEmpty)(u)||Object(S.checkValidString)(u,"microphoneId",0,255,!1),Object(S.isEmpty)(p)||Object(S.checkValidString)(p,"extensionId"),Object(S.isEmpty)(g)||Object(S.checkValidEnum)(g,"mediaSource",["screen","application","window"]),Object(S.isEmpty)(l)||Object(S.checkValidBoolean)(l,"mirror"),!Object(S.isEmpty)(m)){var E=m.AGC,_=m.AEC,y=m.ANS;Object(S.isEmpty)(E)||Object(S.checkValidBoolean)(E,"AGC"),Object(S.isEmpty)(_)||Object(S.checkValidBoolean)(_,"AEC"),Object(S.isEmpty)(y)||Object(S.checkValidBoolean)(y,"ANS")}Object(S.isEmpty)(v)||Object(S.checkValidEnum)(v,"optimizationMode",["detail","motion"]),c.default.debug("Create stream"),!0===a&&!0===r&&c.default.warning("Do not set both 'screenAudio' and 'audio' to true at the same time"),e.screen&&!v&&(e.optimizationMode="detail");var R=O(e);return t(),R}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return b}));var r=n(5),i=n(7),o=n.n(i),a=n(12),s=n.n(a),c=n(17),d=n.n(c),u=n(0),l=n(15),f=n(2);function p(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t={},n=l.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]};var i={id:"outbound_audio_ssrc_send",type:"ssrc",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"outbound_video_ssrc_send",type:"ssrc",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},c={id:"inbound_audio_ssrc_recv",type:"ssrc",mediaType:"",googCodecName:"opus",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},g={id:"inbound_video_ssrc_recv",type:"ssrc",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesReceived:"0",googFramesDecoded:"0"},m={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"};t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con);var h=t.peerConnection.getConfiguration();h.sdpSemantics&&Object(f.setParameter)("PLAN",h.sdpSemantics)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var v=function(e){return e=e.replace("a=x-google-flag:conference\r\n","")},E=function(n){var r,i;if((r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW){i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n";var o=0,a=0;"h264"===e.codec?(o=n.search(/a=rtpmap:(\d+) H264\/90000\r\n/),a=n.search(/H264\/90000\r\n/)):"vp8"===e.codec?(o=n.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),a=n.search(/VP8\/90000\r\n/)):"vp9"===e.codec&&(o=n.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),a=n.search(/VP9\/90000\r\n/)),-1!==o&&-1!==a&&a-o>10&&(i=i+"a=fmtp:"+n.slice(o+9,a-1)+" x-google-min-bitrate="+e.minVideoBW+"\r\n"),n=(n=n.replace(r[0],i)).replace(/42001f/g,"42e01f"),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)}return(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var r,i=JSON.parse(n);t.incomingMessage=i,"new"===t.state?"OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=v(r.sdp),r.sdp=E(r.sdp),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),r.sdp=r.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),e.isSubscriber&&(r.sdp=r.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="established"):"pr-answer"===i.messageType?(r={sdp:i.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):"offer"===i.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===i.messageType?(r={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){})),t.state="offer-received",t.markActionNeeded()):"ANSWER"===i.messageType?((r={sdp:i.sdp,type:"answer"}).sdp=v(r.sdp),r.sdp=E(r.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)).catch((function(e){}))):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),console.log("senders",r),i=r.find((function(e){return"video"===e.track.kind}))){e.next=5;break}return e.abrupt("return");case 5:return(o=i.getParameters()).degradationPreference=n,e.prev=7,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=11,i.setParameters(o);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();var S=0,_=0;return t.getVideoRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){if(t.isSubscriber){if("video"===n.mediaType&&n.id&&~n.id.indexOf("recv")){if(r.isChromeKernel()&&+r.getBrowserVersion()>=76){var i=+n.googFramesReceived-S,o=+n.googFramesDecoded-_;t._setStat(g,"googFrameRateReceived",i),t._setStat(g,"googFrameRateDecoded",o),t._setStat(g,"googFrameRateOutput",o),S=+n.googFramesReceived,_=+n.googFramesDecoded}e&&e({mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:n.googFrameRateReceived,frameRateDecoded:n.googFrameRateDecoded,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}}else"video"===n.mediaType&&n.id&&~n.id.indexOf("send")&&e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:n.googFrameRateInput,frameRateSent:n.googFrameRateSent,googRtt:n.googRtt})}))}))},t.getAudioRelatedStats=function(e){t.getStats((function(n){n.forEach((function(n){t.isSubscriber&&"audio"===n.mediaType&&n.id&&~n.id.indexOf("recv")&&e&&e({mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:parseInt(n.googDecodingPLC)+parseInt(n.googDecodingPLCCNG)+"",frameReceived:n.googDecodingCTN,googJitterReceived:n.googJitterReceived,bytesReceived:n.bytesReceived,packetsReceived:n.packetsReceived,packetsLost:n.packetsLost})}))}))},t.getStatsRate=function(e){t.getStats((function(t){e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):(t.lastTimeGetStats=Date.now(),this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,e&&e(n,r)})))},t._setStat=function(e,t,n){e.hasOwnProperty(t)&&(null!=n&&n!==1/0&&n==n||(n=0),e[t]=n+"")},t._processGetStatsAfterChrome76=function(e){var n=this;t.lastStats||(t.lastStats=new Map),t.peerConnection.getStats().then((function(r){var s,d=[],u=[],l=new Map,f=new Date,h=p(r.values());try{for(h.s();!(s=h.n()).done;){var v=s.value;"codec"!=v.type?"candidate-pair"!=v.type?("inbound-rtp"===v.type&&"video"===v.mediaType&&l.set("inbound-video",v),"inbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("inbound-audio",v),"outbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("outbound-audio",v),"outbound-rtp"===v.type&&"video"===v.mediaType&&l.set("outbound-video",v),"track"===v.type&&"video"===v.kind&&v.remoteSource&&l.set("remote-video-track",v),"track"===v.type&&"audio"===v.kind&&v.remoteSource&&l.set("remote-audio-track",v),"remote-inbound-rtp"===v.type&&"video"===v.mediaType&&l.set("remote-inbound-video",v),"remote-inbound-rtp"===v.type&&"audio"===v.mediaType&&l.set("remote-inbound-audio",v),"track"!==v.type||"video"!==v.kind||v.remoteSource||l.set("local-video-track",v),"track"!==v.type||"audio"!==v.kind||v.remoteSource||l.set("local-audio-track",v),"media-source"===v.type&&"video"===v.kind&&l.set("media-source-video",v),"media-source"===v.type&&"audio"===v.kind&&l.set("media-source-audio",v)):u.push(v):d.push(v)}}catch(e){h.e(e)}finally{h.f()}l.set("codec",d),l.set("candidatePairs",u),l.set("timestamp",+f);var E=null,S=null;if(g.timestamp=f,c.timestamp=f,i.timestamp=f,i.timestamp=f,m.timestamp=f,n.isSubscriber)(E=l.get("inbound-video"))&&(t._setStat(g,"id","inbound_video_ssrc_recv"),t._setStat(g,"mediaType",E.mediaType),t._setStat(g,"packetsLost",E.packetsLost),t._setStat(g,"googDecodeMs",null),t._setStat(g,"googMaxDecodeMs",null),t._setStat(g,"googRenderDelayMs",null),t._setStat(g,"googMinPlayoutDelayMs",null),t._setStat(g,"googNacksSent",E.nackCount),t._setStat(g,"googPlisSent",E.pliCount),t._setStat(g,"googFirsSent",E.firCount),t._setStat(g,"bytesReceived",E.bytesReceived),t._setStat(g,"packetsReceived",E.packetsReceived)),(E=l.get("inbound-audio"))&&(t._setStat(c,"id","inbound_audio_ssrc_recv"),t._setStat(c,"mediaType",E.mediaType),t._setStat(c,"bytesReceived",E.bytesReceived),t._setStat(c,"packetsLost",E.packetsLost),t._setStat(c,"packetsReceived",E.packetsReceived),t._setStat(c,"googAccelerateRate",E.removedSamplesForAcceleration),t._setStat(c,"googCurrentDelayMs",E.jitterBufferDelay),t._setStat(c,"googDecodingCNG",null),t._setStat(c,"googDecodingCTN",null),t._setStat(c,"googDecodingCTSG",null),t._setStat(c,"googDecodingNormal",null),t._setStat(c,"googDecodingPLC",null),t._setStat(c,"googDecodingPLCCNG",null),t._setStat(c,"googJitterReceived",E.jitter),t._setStat(c,"googPreferredJitterBufferMs",null),t._setStat(c,"googSecondaryDecodedRate",null)),(E=l.get("remote-video-track"))&&(t._setStat(g,"googTargetDelayMs",E.jitterBufferDelay),t._setStat(g,"googFrameWidthReceived",E.frameWidth),t._setStat(g,"googFrameHeightReceived",E.frameHeight),t._setStat(g,"googJitterBufferMs",E.jitterBufferDelay/E.jitterBufferEmittedCount*1e3),t._setStat(g,"googCurrentDelayMs",E.jitterBufferDelay),t._setStat(g,"googFramesDecoded",E.framesDecoded),t._setStat(g,"googFramesReceived",E.framesReceived)),(E=l.get("remote-audio-track"))&&(t._setStat(c,"audioOutputLevel",32767*E.audioLevel),t._setStat(c,"googJitterBufferMs",E.jitterBufferDelay/E.jitterBufferEmittedCount*1e3),t._setStat(c,"googExpandRate",E.concealedSamples),t._setStat(c,"googPreemptiveExpandRate",E.insertedSamplesForDeceleration),t._setStat(c,"googSpeechExpandRate",E.silentConcealedSamples));else{var _=t.lastStats.get("timestamp"),y=t.lastStats.get("outbound-video");if((E=l.get("outbound-audio"))&&(t._setStat(i,"id","outbound_audio_ssrc_send"),t._setStat(i,"mediaType",E.mediaType),t._setStat(i,"aecDivergentFilterFraction",null),t._setStat(i,"bytesSent",E.bytesSent),t._setStat(i,"packetsSent",E.packetsSent),S=E.transportId),E=l.get("outbound-video")){if(t._setStat(a,"id","outbound_video_ssrc_send"),t._setStat(a,"mediaType",E.mediaType),t._setStat(a,"bytesSent",E.bytesSent),t._setStat(a,"packetsSent",E.packetsSent),t._setStat(a,"googAdaptationChanges",E.qualityLimitationDurations),t._setStat(a,"googAvgEncodeMs",null),t._setStat(a,"googEncodeUsagePercent",null),S=E.transportId,E.totalEncodedBytesTarget&&y&&y.totalEncodedBytesTarget){var R=(E.totalEncodedBytesTarget-y.totalEncodedBytesTarget)/(+new Date-_);t._setStat(m,"googTargetEncBitrate",Math.floor(8*R*1e3))}if(E.retransmittedBytesSent&&y&&y.retransmittedBytesSent){var T=(E.retransmittedBytesSent-y.retransmittedBytesSent)/(+new Date-_);t._setStat(m,"googRetransmitBitrate",Math.floor(8*T*1e3))}if(E.bytesSent&&y&&y.bytesSent){var I=(E.bytesSent-y.bytesSent)/(+new Date-_);t._setStat(m,"googTransmitBitrate",Math.floor(8*I*1e3)),t._setStat(m,"googActualEncBitrate",Math.floor(8*I*1e3))}if(E.totalPacketSendDelay&&y&&y.totalPacketSendDelay){var b=(E.totalPacketSendDelay-y.totalPacketSendDelay)/(+new Date-_);t._setStat(m,"googBucketDelay",Math.floor(1e3*b))}}if((E=l.get("remote-inbound-video"))&&(t._setStat(a,"packetsLost",E.packetsLost),t._setStat(a,"googRtt",E.roundTripTime)),(E=l.get("local-video-track"))&&(t._setStat(a,"googFrameHeightSent",E.frameHeight),t._setStat(a,"googFrameWidthSent",E.frameWidth),void 0!==E.framesPerSecond&&t._setStat(a,"googFrameRateSent",E.framesPerSecond)),(E=l.get("local-audio-track"))&&(t._setStat(i,"googEchoCancellationReturnLoss",E.echoReturnLoss),t._setStat(i,"googEchoCancellationReturnLossEnhancement",E.echoReturnLossEnhancement)),(E=l.get("media-source-video"))&&(t._setStat(a,"googFrameHeightInput",E.height),t._setStat(a,"googFrameWidthInput",E.width),t._setStat(a,"googFrameRateInput",E.framesPerSecond)),(E=l.get("media-source-audio"))&&t._setStat(i,"audioInputLevel",32767*E.totalAudioEnergy),(E=l.get("inbound-video"))&&(t._setStat(a,"googFirsReceived",E.firCount),t._setStat(a,"googNacksReceived",E.nackCount),t._setStat(a,"googPlisReceived",E.pliCount)),S)l.get("candidatePairs").map((function(e){S==e.transportId&&t._setStat(m,"googAvailableSendBandwidth",e.availableOutgoingBitrate)}));else{var A=l.get("candidatePairs")[0];A&&t._setStat(m,"googAvailableSendBandwidth",A.availableOutgoingBitrate)}}t.lastStats=l;var O=[o()({},a),o()({},i),o()({},g),o()({},c),o()({},m)];O.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(O)}))},t._processGetStatsBeforeChrome76=function(e){t.peerConnection.getStats((function(n){var r=[],s=[],d=null;Object.keys(n).forEach((function(e){var t=n[e];t&&(s.push(t),d=t.timestamp,"VideoBwe"===t.type?m=t:t.id.indexOf("_send")>-1&&"video"===t.mediaType?a=t:t.id.indexOf("_send")>-1&&"audio"===t.mediaType?i=t:t.id.indexOf("_recv")>-1&&"video"===t.mediaType?g=t:t.id.indexOf("_recv")>-1&&"audio"===t.mediaType&&(c=t))})),(r=[o()({},a),o()({},i),o()({},g),o()({},c),o()({},m)]).push({id:"time",startTime:t.connectedTime,timestamp:d||new Date}),e(r,s)}))},t._getStats=function(e){Object(f.getParameter)("CHROME_NEW_STATS")&&r.isChromeKernel()&&+r.getBrowserVersion()>=76?t._processGetStatsAfterChrome76(e):t._processGetStatsBeforeChrome76(e)},t.addTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r="audio"===e.kind?t._audioSender:t._videoSender;if(r){var i=t.peerConnection.getTransceivers().find((function(e){return e.sender===r}));r.replaceTrack(e).then((function(){i.direction="sendrecv",t.renegotiate()}))}else r=t.peerConnection.addTrack(e,n),"audio"===e.kind?t._audioSender=r:t._videoSender=r}else t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){if("unified-plan"===Object(f.getParameter)("PLAN")){var r=t.peerConnection.getTransceivers().find((function(t){return t.sender.track===e}));r&&(r.direction="inactive",t.peerConnection.removeTrack(r.sender))}else t.peerConnection.removeTrack(t.peerConnection.getSenders().find((function(t){return t.track==e})))},t.addStream=function(e){"unified-plan"===Object(f.getParameter)("PLAN")?e.getTracks().forEach((function(n){var r=t.peerConnection.addTrack(n,e);"audio"===n.kind?t._audioSender=r:t._videoSender=r})):(t.peerConnection.addStream(e),t.markActionNeeded())},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(t.mediaConstraints).then((function(n){return n?n.sdp!==t.prevOffer?(e.isSubscriber&&(n.sdp=n.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded()):void u.default.debug("["+t.clientId+"]Not sending a new offer"):(u.default.debug("["+t.clientId+"]sessionDescription is null"),void t.onsignalingmessage(null))})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}));else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else u.default.debug("[".concat(t.clientId,"] Dazed and confused in state ").concat(t.state,", stopping here'"));t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&(t.onaddstream(e,"ontrack"),t.peerConnection.onaddstream=null)},t.peerConnection.onaddstream=function(e){t.onaddstream&&(t.onaddstream(e,"onaddstream"),t.peerConnection.ontrack=null)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){console.log(e),console.log(t.peerConnection.iceConnectionState),"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return"unified-plan"!==Object(f.getParameter)("PLAN")&&(e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")),e.sdp=v(e.sdp),e.sdp=E(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){console.log("createOffer error: ",e)}))},t.peerConnection.onnegotiationneeded=t.renegotiate,t.onaddstream=null,t.onremovestream=null,t.onnegotiationneeded=null,t.state="new",t.markActionNeeded(),t},h=function(e){var t={},n=l.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[],bundlePolicy:"max-bundle"},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics=Object(f.getParameter)("PLAN"),t.peerConnection=new n(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new n(t.pc_config,t.con)}t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout((function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),1e3)),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var r=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},i=function(n){var r,i;return(r=n.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW&&(i=r[0]+"b=AS:"+e.maxVideoBW+"\r\n",n=n.replace(r[0],i),u.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),(r=n.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(i=r[0]+"b=AS:"+e.maxAudioBW+"\r\n",n=n.replace(r[0],i)),n};t.processSignalingMessage=function(n){var o,a=JSON.parse(n);t.incomingMessage=a,"new"===t.state?"OFFER"===a.messageType?(o={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===a.messageType?((o={sdp:a.sdp,type:"answer"}).sdp=r(o.sdp),o.sdp=i(o.sdp),o.sdp=o.sdp.replace(/a=x-google-flag:conference\r\n/g,""),e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),o.sdp=o.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="established"):"pr-answer"===a.messageType?(o={sdp:a.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o))):"offer"===a.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===a.messageType?(o={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(o)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===a.messageType?((o={sdp:a.sdp,type:"answer"}).sdp=r(o.sdp),o.sdp=i(o.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(o))):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.degradation=n;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t._setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return e&&e.track&&"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(o=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=10,i.setParameters(o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var o={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},c={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},p={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"},g={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"},m=0,h=0,v=0;return t.isRemoteVideoStats=function(e){return!!(e.frameHeight&&e.frameWidth&&e.remoteSource)},t.getVideoRelatedStats=function(n){t.peerConnection.getStats().then((function(r){r.forEach((function(r){if(t.isSubscriber){var i={peerId:t.uid,mediaType:"video",isVideoMute:t.isVideoMute};if("track"===r.type&&(~r.id.indexOf("video")||~r.trackIdentifier.indexOf("v")||t.isRemoteVideoStats(r))){if(!t.lastReport)return void(t.lastReport=r);i.frameRateReceived=r.framesReceived-t.lastReport.framesReceived+"",i.frameRateDecoded=r.framesDecoded-t.lastReport.framesDecoded+"",t.lastReport=r}"inbound-rtp"===r.type&&~r.id.indexOf("Video")&&(i.bytesReceived=r.bytesReceived+"",i.packetsReceived=r.packetsReceived+"",i.packetsLost=r.packetsLost+""),n&&n(i)}else if("outbound-rtp"===r.type&&~r.id.indexOf("Video")){if(!t.lastReport)return void(t.lastReport=r);n&&n({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:e.maxFrameRate+"",frameRateSent:r.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=r}}))}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){n.forEach((function(n){t.isSubscriber&&"inbound-rtp"===n.type&&~n.id.indexOf("Audio")&&e&&e({peerId:t.uid,mediaType:"audio",isAudioMute:t.isAudioMute,frameDropped:n.packetsLost+"",frameReceived:n.packetsReceived+"",googJitterReceived:n.jitter+"",bytesReceived:n.bytesReceived+"",packetsReceived:n.packetsReceived+"",packetsLost:n.packetsLost+""})}))}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&e.googFramesEncoded&&(e.googFrameRateSent=Math.ceil((e.googFramesEncoded-m)/3).toString(),m=e.googFramesEncoded),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(e.googFrameRateReceived&&(e.googFrameRateReceived=Math.ceil((e.googFrameReceived-v)/3).toString(),v=e.googFrameReceived),e.googFrameRateDecoded&&(e.googFrameRateDecoded=Math.ceil((e.googFramesDecoded-h)/3).toString(),h=e.googFramesDecoded))})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){var r=[];t.peerConnection.getStats().then((function(i){i.forEach((function(t){var n;(r.push(t),"outbound-rtp"===t.type&&"audio"===t.mediaType&&(o.id=t.id,o.type=t.type,o.mediaType=t.mediaType,o.bytesSent=t.bytesSent?t.bytesSent+"":"0",o.packetsSent=t.packetsSent?t.packetsSent+"":"0",e.agoraStream.local&&(o.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"outbound-rtp"===t.type&&"video"===t.mediaType)&&(a.id=t.id,a.type=t.type,a.mediaType=t.mediaType,a.bytesSent=t.bytesSent?t.bytesSent+"":"0",a.packetsSent=t.packetsSent?t.packetsSent+"":"0",a.googPlisReceived=t.pliCount?t.pliCount+"":"0",a.googNacksReceived=t.nackCount?t.nackCount+"":"0",a.googFirsReceived=t.firCount?t.firCount+"":"0",a.googFramesEncoded=t.framesEncoded?t.framesEncoded+"":"0",(n=i.get(t.trackId))&&(a.googFrameHeightSent=n.frameHeight&&n.frameHeight.toString(),a.googFrameWidthSent=n.frameWidth&&n.frameWidth.toString()));"inbound-rtp"!==t.type||-1==t.id.indexOf("44444")&&"audio"!==t.mediaType||(c.id=t.id,c.type=t.type,c.mediaType="audio",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",c.packetsLost=t.packetsLost?t.packetsLost+"":"0",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.googJitterReceived=t.jitter?t.jitter+"":"0",(n=i.get(t.trackId))&&(c.audioOutputLevel=n.audioLevel&&Math.round(32767*n.audioLevel).toString()),e.agoraStream.local||c.audioOutputLevel||(c.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString()));"inbound-rtp"!==t.type||-1==t.id.indexOf("55543")&&"video"!==t.mediaType||(p.id=t.id,p.type=t.type,p.mediaType="video",p.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",p.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",p.packetsLost=t.packetsLost?t.packetsLost+"":"0",p.googJitterBufferMs=t.jitter?t.jitter+"":"0",p.googNacksSent=t.nackCount?t.nackCount+"":"0",p.googPlisSent=t.pliCount?t.pliCount+"":"0",p.googFirsSent=t.firCount?t.firCount+"":"0",(n=i.get(t.trackId))&&(p.googFrameHeightReceived=n.frameHeight&&n.frameHeight.toString(),p.googFrameWidthReceived=n.frameWidth&&n.frameWidth.toString(),p.googFrameReceived=n.framesReceived&&n.framesReceived.toString(),p.googFramesDecoded=n.framesDecoded&&n.framesDecoded.toString()));"candidate-pair"===t.type&&(0==t.availableIncomingBitrate?g.googAvailableSendBandwidth=t.availableOutgoingBitrate+"":g.googAvailableReceiveBandwidth=t.availableIncomingBitrate+"")}));var s=[g,o,a,c,p];s.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(s,r)})).catch((function(e){u.default.error("["+t.clientId+"] ",e)}))},t.addTrack=function(e,n){t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){var r=t.peerConnection.getSenders().find((function(t){return t.track==e}));r.replaceTrack(null),t.peerConnection.removeTrack(r)},t.addStream=function(e){window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?e.getTracks().forEach((function(n){return t.peerConnection.addTrack(n,e)})):t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state){if(e.isSubscriber)t.peerConnection.addTransceiver("audio",{direction:"recvonly"}),t.peerConnection.addTransceiver("video",{direction:"recvonly"});t.peerConnection.createOffer(t.mediaConstraints).then((function(n){if(n.sdp=i(n.sdp),e.isSubscriber||(n.sdp=n.sdp.replace(/a=.*video-orientation\r\n/g,"")),n.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")})).catch((function(e){u.default.debug("["+t.clientId+"]peer connection create offer failed ",e)}))}else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(e){u.default.debug("["+t.clientId+"]peer connection create answer failed ",e)}),t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){console.log("!!! ontrack, ",e.track.kind,e.track),t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date,t._setRtpSenderParameters(t.degradation)),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){t.isSubscriber||(u.default.debug("[".concat(t.uid,"]"),"renegotiating"),void 0!==t.prevOffer&&t.peerConnection.createOffer().then((function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),e.sdp=r(e.sdp),e.sdp=i(e.sdp),t.peerConnection.setLocalDescription(e)})).then((function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)})).catch((function(e){console.log("createOffer error: ",e)})))},t.isSubscriber||(t.peerConnection.onnegotiationneeded=t.renegotiate),t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t};function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t={},n=(mozRTCPeerConnection,mozRTCSessionDescription),r=!1;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]},e.iceServers instanceof Array?e.iceServers.map((function(e){0===e.url.indexOf("stun:")&&t.pc_config.iceServers.push({url:e.url})})):(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map((function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})})):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map((function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:(e.useTurns?"turns:":"turn:")+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")})):u.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={offerToReceiveAudio:e.audio,offerToReceiveVideo:e.video,mozDontOfferDataChannel:!0},t.roapSessionId=103,t.peerConnection=new l.RTCPeerConnection(t.pc_config),t.iceCandidateTimer=setTimeout((function(){t.iceCandidateTimer=null,u.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())}),Object(f.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var n,r,i,o;r=(n=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),i=n.match(/a=candidate:.+typ\shost.+\r\n/),o=n.match(/a=candidate:.+typ\srelay.+\r\n/),null===r&&null===i&&null===o||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},t.checkMLineReverseInSDP=function(e){return!(!~e.indexOf("m=audio")||!~e.indexOf("m=video"))&&e.indexOf("m=audio")>e.indexOf("m=video")},t.reverseMLineInSDP=function(e){var t=e.split("m=audio"),n=t[1].split("m=video"),r="m=video"+n[1],i="m=audio"+n[0];return e=t[0]+r+i},t.processSignalingMessage=function(r){var i,o=JSON.parse(r);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(o.sdp=h(o.sdp),i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?(o.sdp=h(o.sdp),o.sdp=o.sdp.replace(/ generation 0/g,""),o.sdp=o.sdp.replace(/ udp /g," UDP "),-1!==o.sdp.indexOf("a=group:BUNDLE")?(o.sdp=o.sdp.replace(/a=group:BUNDLE audio video/,"a=group:BUNDLE sdparta_0 sdparta_1"),o.sdp=o.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),o.sdp=o.sdp.replace(/a=mid:video/,"a=mid:sdparta_1")):(o.sdp=o.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),o.sdp=o.sdp.replace(/a=mid:video/,"a=mid:sdparta_0")),i={sdp:o.sdp,type:"answer"},e.screen&&"detail"===e.optimizationMode&&(u.default.debug("[".concat(t.client,"] remove screen share abs ext")),o.sdp=E(i.sdp)),t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e)})),t.state="established"):"pr-answer"===o.messageType?(i={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)}))):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),(function(){u.default.debug("["+t.clientId+"]setRemoteDescription succeeded")}),(function(e){u.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=d()(s.a.mark((function e(n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.peerConnection.getSenders(),i=r.find((function(e){return"video"===e.track.kind}))){e.next=4;break}return e.abrupt("return");case 4:return(o=i.getParameters()).degradationPreference=n,e.prev=6,u.default.debug("[".concat(t.clientId,"] setParameters"),o),e.next=10,i.setParameters(o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),u.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();var i={id:"",type:"",mediaType:"opus",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},o={id:"",type:"",mediaType:"",googCodecName:e.codec?e.codec.toUpperCase():"",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},a={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesDecoded:"0"},p=0,g=0,m=0;t.getVideoRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=v(n.values());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.isSubscriber){if(("inbound-rtp"===o.type||"inboundrtp"===o.type)&&"video"===o.mediaType){if(!t.lastReport)return void(t.lastReport=o);e&&e({browser:"firefox",mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:Math.round(o.framerateMean)+"",frameRateDecoded:o.framesDecoded-t.lastReport.framesDecoded+"",bytesReceived:o.bytesReceived+"",packetsReceived:o.packetsReceived+"",packetsLost:o.packetsLost+""}),t.lastReport=o}}else if(("outbound-rtp"===o.type||"outboundrtp"===o.type)&&"video"===o.mediaType){if(!t.lastReport)return void(t.lastReport=o);e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:Math.round(o.framerateMean)+"",frameRateSent:o.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=o}}}catch(e){i.e(e)}finally{i.f()}}))},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then((function(n){var r,i=v(n.values());try{for(i.s();!(r=i.n()).done;){var o=r.value;t.isSubscriber&&("inbound-rtp"!==o.type&&"inboundrtp"!==o.type||"audio"!==o.mediaType||e&&e({browser:"firefox",mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:o.packetsLost+"",frameReceived:o.packetsReceived+"",googJitterReceived:o.jitter+"",bytesReceived:o.bytesReceived+"",packetsReceived:o.packetsReceived+"",packetsLost:o.packetsLost+""}))}}catch(e){i.e(e)}finally{i.f()}}))},t.getStatsRate=function(e){t.getStats((function(t){t.forEach((function(e){})),e(t)}))},t.getStats=function(e,n){n=(n=n||500)>500?500:n,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<n?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats((function(n,r){t.filterStatsCache=n,t.originStatsCache=r,t.lastTimeGetStats=Date.now(),e&&e(n,r)}))},t._getStats=function(n){t.peerConnection.getStats().then((function(r){var s,d=[],u=v(r.values());try{for(u.s();!(s=u.n()).done;){var l=s.value;d.push(l),"outbound-rtp"!==l.type&&"outboundrtp"!==l.type||"video"!==l.mediaType||-1!==l.id.indexOf("rtcp")||(o.id=l.id,o.type=l.type,o.mediaType=l.mediaType,o.bytesSent=l.bytesSent?l.bytesSent+"":"0",o.packetsSent=l.packetsSent?l.packetsSent+"":"0",o.googPlisReceived=l.pliCount?l.pliCount+"":"0",o.googNacksReceived=l.nackCount?l.nackCount+"":"0",o.googFirsReceived=l.firCount?l.firCount+"":"0",o.googFrameRateSent=l.framerateMean?Math.round(l.framerateMean)+"":"0"),"outbound-rtp"!==l.type&&"outboundrtp"!==l.type||"audio"!==l.mediaType||-1!==l.id.indexOf("rtcp")||(i.id=l.id,i.type=l.type,i.mediaType=l.mediaType,i.bytesSent=l.bytesSent?l.bytesSent+"":"0",i.packetsSent=l.packetsSent?l.packetsSent+"":"0",e.agoraStream.local&&(i.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==l.type&&"inboundrtp"!==l.type||"audio"!==l.mediaType||l.isRemote||-1!==l.id.indexOf("rtcp")||(a.id=l.id,a.type=l.type,a.mediaType=l.mediaType,a.bytesReceived=l.bytesReceived?l.bytesReceived+"":"0",a.packetsLost=l.packetsLost?l.packetsLost+"":"0",a.packetsReceived=l.packetsReceived?l.packetsReceived+"":"0",a.googJitterReceived=l.jitter?l.jitter+"":"0",e.agoraStream.local||(a.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==l.type&&"inboundrtp"!==l.type||"video"!==l.mediaType||l.isRemote||-1!==l.id.indexOf("rtcp")||(c.id=l.id,c.type=l.type,c.mediaType=l.mediaType,c.bytesReceived=l.bytesReceived?l.bytesReceived+"":"0",c.googFrameRateReceived=l.framerateMean?Math.round(l.framerateMean)+"":"0",c.googFramesDecoded=l.framesDecoded?l.framesDecoded+"":"0",Date.now()-m>=1e3?(c.googFrameRateDecoded=(l.framesDecoded-p)/((Date.now()-m)/1e3),c.googFrameRateDecoded=Math.round(Math.max(0,c.googFrameRateDecoded)),m=Date.now(),g=c.googFrameRateDecoded,p=l.framesDecoded,c.googFrameRateDecoded=c.googFrameRateDecoded.toString()):c.googFrameRateDecoded=g.toString(),c.packetsLost=l.packetsLost?l.packetsLost+"":"0",c.packetsReceived=l.packetsReceived?l.packetsReceived+"":"0",c.googJitterBufferMs=l.jitter?l.jitter+"":"0",c.googNacksSent=l.nackCount?l.nackCount+"":"0",c.googPlisSent=l.pliCount?l.pliCount+"":"0",c.googFirsSent=l.firCount?l.firCount+"":"0"),-1!==l.id.indexOf("outbound_rtcp_video")&&(o.packetsLost=l.packetsLost?l.packetsLost+"":"0")}}catch(e){u.e(e)}finally{u.f()}var f=[o,i,a,c];f.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),n(f,d)}),(function(e){u.default.error("["+t.clientId+"]"+e)}))},t.addStream=function(e){r=!0,t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater((function(){t.onstablestate()}))},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){if(t.actionNeeded){if("new"===t.state||"established"===t.state){r&&(t.mediaConstraints=void 0),t.peerConnection.createOffer((function(e){if(e.sdp=h(e.sdp),e.sdp=e.sdp.replace(/a=extmap:1 http:\/\/www.webrtc.org\/experiments\/rtp-hdrext\/abs-send-time/,"a=extmap:3 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();u.default.debug("["+t.clientId+"]Not sending a new offer")}),(function(e){u.default.debug("["+t.clientId+"]Ups! create offer failed ",e)}),t.mediaConstraints)}else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(e.isCloudProxy3&&e.onNoIceCandidate&&e.onNoIceCandidate(),u.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(f.getParameter)("SHIM_CANDIDATE")?(u.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):u.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer((function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;u.default.debug("["+t.clientId+"]"+n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}}),(function(){u.default.debug("["+t.clientId+"]Ups! Something went wrong")}));else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;var n=t.peerConnection.localDescription.sdp;t.sendMessage("ANSWER",n),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,n){var r={};r.messageType=e,r.sdp=n,"OFFER"===e?(r.offererSessionId=t.sessionId,r.answererSessionId=t.otherSessionId,r.seq=t.sequenceNumber+=1,r.tiebreaker=Math.floor(429496723*Math.random()+1)):(r.offererSessionId=t.incomingMessage.offererSessionId,r.answererSessionId=t.sessionId,r.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(r))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders().find((function(t){return t.track.kind==e}));if(n)return n}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,r){var i=t._getSender(e.kind);if(!i){return r("NO_SENDER_FOUND")}try{i.replaceTrack(e)}catch(e){return r&&r(e)}setTimeout((function(){return n&&n()}),50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)};var h=function(t){var n;if(e.video&&e.maxVideoBW&&(null==(n=t.match(/m=video.*\r\n/))&&(n=t.match(/m=video.*\n/)),n&&n.length>0)){var r=n[0]+"b=TIAS:"+1e3*e.maxVideoBW+"\r\n";t=t.replace(n[0],r)}if(e.audio&&e.maxAudioBW&&(null==(n=t.match(/m=audio.*\r\n/))&&(n=t.match(/m=audio.*\n/)),n&&n.length>0)){r=n[0]+"b=TIAS:"+1e3*e.maxAudioBW+"\r\n";t=t.replace(n[0],r)}return t},E=function(e){return(e=e.replace(/a=.*abs-send-time\r\n/g,"")).replace(/a=.*goog-remb\r\n/g,"")};return t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t},_=n(50),y=n.n(_),R=n(26),T=(n(4),103),I=function(e){var t={};if(t.clientId=e.clientId,e.session_id=T+=1,"undefined"==typeof window||!window.navigator)throw u.default.error("["+t.streamId+"]["+t.clientId+"]Publish/subscribe video/audio streams not supported yet"),new Error("NON_BROWSER_ENV_DETECTED");return null!==window.navigator.userAgent.match("Firefox")?(t.browser="mozilla",t=S(e)):"iOS"===r.getBrowserOS()||r.isSafari()?(u.default.debug("["+t.streamId+"]["+t.clientId+"]Safari"),(t=h(e)).browser="safari"):~window.navigator.userAgent.indexOf("Edge")?t=new y.a(e):(t=m(e)).browser="chrome-stable",t},b=function(e,t,n){var i={};i.config=e,i.streamId=e.streamId,delete e.streamId,navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var o=0,a=1,s=!1,c=null,d=function(e){if(o++,c)if(c===e)u.default.debug("Using Video Source/ Audio Source");else{var n=c.getVideoTracks()[0],r=c.getAudioTracks()[0],i=e.getVideoTracks()[0],d=e.getAudioTracks()[0];i&&(n&&c.removeTrack(n),c.addTrack(i)),d&&(r&&c.removeTrack(r),c.addTrack(d))}else c=e;o!==a||s||(s=!0,setTimeout((function(){t(c)}),0))},l=function(e){u.default.error("Failed to GetUserMedia",e.name,e.code,e.message,e),o++,s||(s=!0,setTimeout((function(){n&&n(e)}),0))},f=function(){var t={video:e.video,audio:e.audio};if(u.default.debug("GetUserMedia",JSON.stringify(t)),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(t).then(d).catch(l);else if("undefined"!=typeof navigator&&navigator.getMedia)navigator.getMedia(e,d,l);else{var r={name:"MEDIA_NOT_SUPPORT",message:"Video/audio streams not supported yet"};u.default.error("["+i.streamId+"]"+r.message),n&&n(r)}};if((e.videoSource||e.audioSource)&&(c=new MediaStream,e.videoSource&&c.addTrack(e.videoSource),e.audioSource&&c.addTrack(e.audioSource)),e.video||e.audio||e.screen||e.screenAudio){if(!e.screen&&e.screenAudio)return n&&n({code:"Set screen to true before sharing the audio"});if(e.screen){if(R.a.isElectron())return e.screen.sourceId?R.a.getScreenStream(e.screen.sourceId,e.screen,(function(t,n){t?l(t):(e.audio&&(a++,f()),d(n))})):R.a.shareScreen(e.screen,(function(t,n){t?l(t):(e.audio&&(a++,f()),d(n))}));if(r.isFireFox()){u.default.debug("["+i.streamId+"]Screen access requested");if(!~["screen","window","application"].indexOf(e.screen.mediaSource))return n&&n({code:"Invalid mediaSource, mediaSource should be one of [screen, window, application]"});navigator.getMedia({video:e.screen},(function(t){e.audio&&(a++,f()),d(t)}),l)}else if(r.isChromeKernel()&&e.screen.extensionId){if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<34)return void n({code:"This browser does not support screen sharing"});u.default.debug("["+i.streamId+"]Screen access on chrome stable, looking for extension");try{chrome.runtime.sendMessage(e.screen.extensionId,{getStream:!0},(function(t){if(void 0===t){u.default.error("["+i.streamId+"]No response from Chrome Plugin. Plugin not installed properly");l({name:"PluginNotInstalledProperly",message:"No response from Chrome Plugin. Plugin not installed properly."})}else e.screen.mandatory.chromeMediaSourceId=t.streamId,navigator.getMedia({video:e.screen},(function(t){e.audio&&(a++,f()),d(t)}),l)}))}catch(e){u.default.debug("["+i.streamId+"]AgoraRTC screensharing plugin is not accessible");return void n({code:"no_plugin_present"})}}else{if(window.navigator.mediaDevices.getDisplayMedia){var p={};return"number"==typeof e.screen.width&&"number"==typeof e.screen.height?p.video={width:{ideal:e.screen.width},height:{ideal:e.screen.height}}:p.video={width:e.screen.width,height:e.screen.height},e.screen.frameRate&&e.screen.frameRate.min?p.video.frameRate={ideal:e.screen.frameRate.max,max:e.screen.frameRate.max}:p.video.frameRate=e.screen.frameRate,e.screenAudio&&(p.audio=e.screenAudio),u.default.debug("use getDisplayMedia, constraints:",p),window.navigator.mediaDevices.getDisplayMedia(p).then((function(t){!e.screenAudio&&e.audio&&(a++,f()),d(t)})).catch(l)}u.default.error("["+i.streamId+"]This browser does not support screenSharing"),n({code:"This browser does not support screen sharing"})}}else f()}else d(c)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=function(){function e(e,t,n){void 0===t&&(t=""),this.name="AgoraRTCException",this.code=e,this.message="AgoraRTCError "+this.code+": "+t,this.data=n}return e.prototype.toString=function(){return this.data?this.message+" data: "+JSON.stringify(this.data):this.message},e.prototype.throw=function(){throw i.default.error(this.toString()),this},e}();t.AgoraRTCError=o,function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_SUPPORT="NOT_SUPPORT",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORT="OPERATION_ABORT",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.STREAM_ALREADY_INITIALIZED="STREAM_ALREADY_INITIALIZED",e.STREAM_IS_CLOSED="STREAM_IS_CLOSED",e.ABORT_OTHER_INIT="ABORT_OTHER_INIT",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.CAN_NOT_AUTOPLAY="CAN_NOT_AUTOPLAY",e.HIGH_STREAM_NO_VIDEO_TRACK="HIGH_STREAM_NO_VIDEO_TRACK",e.SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM="SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.TOKEN_GENERATOR_FUNCTION_ERROR="TOKEN_GENERATOR_FUNCTION_ERROR",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.SUBSCRIPTION_IS_IN_PROGRESS="SUBSCRIPTION_IS_IN_PROGRESS",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.EFFECT_ID_CONFLICTED="EFFECT_ID_CONFLICTED",e.EFFECT_SOUND_ID_NOT_FOUND="EFFECT_SOUND_ID_NOT_FOUND",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER="CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT="LIVE_STREAMING_TRANSCODING_NOT_SUPPORT",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE"}(t.AgoraRTCErrorCode||(t.AgoraRTCErrorCode={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=window.AudioContext||window.webkitAudioContext,o=n(2),a=o.getParameter,s=o.setParameter,c=function(){return a("AUDIO_CONTEXT")||(console.log("Creating Audio Context"),s("AUDIO_CONTEXT",function(){if(i){var e=new i;return window.ctx=e,new Promise((function(e){document.body?e():window.addEventListener("load",e)})).then((function(){var t=function t(){"suspended"==e.state?(r.default.debug("AudioContext is suspended, auto resume"),e.resume().then((function(){r.default.debug("AudioContext resume success"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0)}))):(r.default.debug("AudioContext is running"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0))};r.default.debug(">>> add event listener >>>>"),document.body.addEventListener("touchend",t,!0),document.body.addEventListener("mousedown",t,!0)})),e}throw new Error("AUDIO_CONTEXT_NOT_SUPPORTED")}())),a("AUDIO_CONTEXT")};c()},function(e,t,n){"use strict";var r=n(1),i=null;var o=function(){try{i=window.require("electron")}catch(e){}return i},a=function(e){var t=r.report.reportApiInvoke(null,{callback:e,name:"getScreenSources",options:arguments,tag:"tracer"}),n=o();if(!n)return t&&t("electron is null");try{var i=n.desktopCapturer.getSources({types:["window","screen"]})}catch(e){console.log(e)}if(i instanceof Promise)console.log("electron.desktopCapturer.getSources return type is Promise"),i.then((function(e){return t&&t(null,e)})).catch((function(e){return t&&t(e)}));else i=n.desktopCapturer.getSources({types:["window","screen"]},(function(e,n){console.log("electron.desktopCapturer.getSources return type is callback"),t&&t(null,n)}))},s=function(e,t,n){var r=t.width;t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:t.height,maxWidth:r,maxFrameRate:t.frameRate&&t.frameRate.max,minFrameRate:t.frameRate&&t.frameRate.min}}};navigator.webkitGetUserMedia(t,(function(e){n&&n(null,e)}),(function(e){n&&n(e)}))};t.a={isElectron:function(){return!!o()},getElectronInstance:o,getScreenSources:a,getScreenStream:s,shareScreen:function(e,t){a((function(n,r){if(n)return t&&t(n);!function(e,t){var n=document.createElement("div");n.innerText="share screen",n.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var r=document.createElement("div");r.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var i=document.createElement("div");i.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",i.setAttribute("style","height: 12%;");var o=document.createElement("div");o.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var a=document.createElement("div");a.setAttribute("style","text-align: right; padding: 16px 0;");var s=document.createElement("button");s.innerHTML="cancel",s.setAttribute("style","width: 85px;"),s.onclick=function(){document.body.removeChild(c),t&&t("NotAllowedError")},a.appendChild(s),r.appendChild(i),r.appendChild(o),r.appendChild(a);var c=document.createElement("div");c.setAttribute("style","position: absolute; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),c.appendChild(n),c.appendChild(r),document.body.appendChild(c),e.map((function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var r=e.thumbnail;r.getSize().width>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=function(){document.body.removeChild(c),t&&t(null,e.id)},o.appendChild(n)}}))}(r,(function(n,r){if(n)return t&&t(n);s(r,e,t)}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(t.LiveStreamingServiceMode||(t.LiveStreamingServiceMode={})),t.DEFAULT_LIVE_STREAMING_TRANSCODING_USER={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},t.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},t.isLiveStreamingTranscodingConfig=function(e){return r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e6),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate"),r.isEmpty(e.lowLatency)||r.checkValidBoolean(e.lowLatency,"config.lowLatency"),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,128),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop"),r.isEmpty(e.videoCodecProfile)||r.checkValidEnum(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),r.isEmpty(e.userCount)||r.checkValidNumber(e.userCount,"config.userCount",0,17),r.isEmpty(e.backgroundColor)||r.checkValidNumber(e.backgroundColor,"config.backgroundColor",0,16777215),e.transcodingUsers&&!r.isEmpty(e.transcodingUsers)&&(r.checkValidArray(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach((function(e,t){r.checkValidUID(e.uid),r.isEmpty(e.x)||r.checkValidNumber(e.x,"transcodingUser["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"transcodingUser["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"transcodingUser["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"transcodingUser["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder-1,"transcodingUser["+t+"].zOrder",0,100),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"transcodingUser["+t+"].alpha",0,1)}))),e.images&&!r.isEmpty(e.images)&&(r.checkValidArray(e.images,"config.images"),e.images.forEach((function(e,t){r.checkValidString(e.url,"images["+t+"].url",1,1e3,!1),r.isEmpty(e.x)||r.checkValidNumber(e.x,"images["+t+"].x",0,1e4),r.isEmpty(e.y)||r.checkValidNumber(e.y,"images["+t+"].y",0,1e4),r.isEmpty(e.width)||r.checkValidNumber(e.width,"images["+t+"].width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"images["+t+"].height",0,1e4),r.isEmpty(e.zOrder)||r.checkValidNumber(e.zOrder,"images["+t+"].zOrder",0,255),r.isEmpty(e.alpha)||r.checkValidFloatNumber(e.alpha,"images["+t+"].alpha",0,1)}))),!0},t.DEFAULT_TRANSCODING_CONFIG={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFramerate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},t.isInjectStreamConfig=function(e){return r.isEmpty(e.audioVolume)||r.checkValidNumber(e.audioVolume,"config.audioVolume",0,1e3),r.isEmpty(e.audioBitrate)||r.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,1e4),r.isEmpty(e.audioChannels)||r.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2]),r.isEmpty(e.audioSampleRate)||r.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),r.isEmpty(e.width)||r.checkValidNumber(e.width,"config.width",0,1e4),r.isEmpty(e.height)||r.checkValidNumber(e.height,"config.height",0,1e4),r.isEmpty(e.videoBitrate)||r.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e4),r.isEmpty(e.videoFramerate)||r.checkValidNumber(e.videoFramerate,"config.videoFramerate",1,1e4),r.isEmpty(e.videoGop)||r.checkValidNumber(e.videoGop,"config.videoGop",1,1e4),!0},t.DEFAULT_INJECT_CONFIG={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30},function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(t.LiveStreamingUapSignalEvents||(t.LiveStreamingUapSignalEvents={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(t.LiveStreamingInternalEvents||(t.LiveStreamingInternalEvents={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE=505]="LIVE_STREAM_RESPONSE_INGNORE_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(t.LIVE_STREAM_ERROR_CODE||(t.LIVE_STREAM_ERROR_CODE={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls"}(t.WebSocketManagerEvents||(t.WebSocketManagerEvents={}))},function(e,t,n){var r=n(57),i=n(58);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){var r;e.exports=(r=n(73),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var d=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],f=n[7],p=0;p<64;p++){if(p<16)d[p]=0|e[t+p];else{var g=d[p-15],m=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,h=d[p-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;d[p]=m+d[p-7]+v+d[p-16]}var E=r&i^r&o^i&o,S=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&l)+c[p]+d[p];f=l,l=u,u=s,s=a+_|0,a=o,o=i,i=r,r=_+(S+E)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomString=function(e){void 0===e&&(e=8);for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=a(n(37)),d=n(24),u=a(n(0)),l=n(1);function f(e){return new Promise((function(t){window.setTimeout(t,e)}))}function p(e,t){return new Promise((function(n,r){t.timeout=t.timeout||s.getParameter("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&(t.data=JSON.stringify(t.data)),t.headers=t.headers||{},t.headers["Content-Type"]="application/json",t.method="POST",t.url=e,c.default.request(t).then((function(e){n(e.data)})).catch((function(e){c.default.isCancel(e)?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.OPERATION_ABORT,"cancel token canceled")):"ECONNABORTED"===e.code?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_TIMEOUT,e.message)):e.response?r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR,e.response.status)):r(new d.AgoraRTCError(d.AgoraRTCErrorCode.NETWORK_ERROR,e.message))}))}))}function g(e,n,r,a){var s=this,c=Object.assign({},t.DEFAULT_RETRY_CONFIG,a),u=c.timeout,l=function(){return i(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,f(u)];case 1:return e.sent(),u*=c.timeoutFactor,u=Math.min(c.maxRetryTimeout,u),[2]}}))}))},p=!1,g=new Promise((function(t,a){return i(s,void 0,void 0,(function(){var i,s,u;return o(this,(function(o){switch(o.label){case 0:n=n||function(){return!1},r=r||function(){return!0},i=0,o.label=1;case 1:if(!(i<c.maxRetryCount))return[3,12];if(p)return[2,a(new d.AgoraRTCError(d.AgoraRTCErrorCode.OPERATION_ABORT))];o.label=2;case 2:return o.trys.push([2,7,,11]),[4,e()];case 3:return s=o.sent(),n(s,i)?i+1===c.maxRetryCount?[2,t(s)]:[4,l()]:[3,5];case 4:return o.sent(),[3,6];case 5:return[2,t(s)];case 6:return[3,11];case 7:return u=o.sent(),r(u,i)?i+1===c.maxRetryCount?[2,a(u)]:[4,l()]:[3,9];case 8:return o.sent(),[3,10];case 9:return[2,a(u)];case 10:return[3,11];case 11:return i+=1,[3,1];case 12:return[2]}}))}))}));return g.cancel=function(){return p=!0},g}function m(e,t){return{addressList:e.servers.map((function(e,n){return"wss://"+e.address.replace(/\./g,"-")+".edge.agora.io:"+e.wss+"?serviceName="+encodeURIComponent(t)})),workerToken:e.workerToken,vid:e.vid}}t.wait=f,t.post=p,t.DEFAULT_RETRY_CONFIG={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},t.getRetryWaitTime=function(e,t){var n=t.timeout*Math.pow(t.timeoutFactor,e);return Math.min(t.maxRetryTimeout,n)},t.retryable=g,t.liveStreamingServerResponseToResult=m;var h=1;function v(e,n,a,c,f){var v=this;void 0===f&&(f=t.DEFAULT_RETRY_CONFIG),h+=1;var E,S,_={sid:a.sid,command:"convergeAllocateEdge",uid:"666",appId:a.appId,ts:Math.floor(Date.now()/1e3),seq:h,requestId:h,version:s.VERSION,cname:a.cname},y={service_name:n,json_body:JSON.stringify(_)},R=e[0];return g((function(){return i(v,void 0,void 0,(function(){var e,t,i,a,l;return o(this,(function(o){switch(o.label){case 0:return E=Date.now(),[4,p(R,{data:y,cancelToken:c,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}})];case 1:if(e=o.sent(),S=Date.now()-E,0!==e.code)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0}),u.default.error(i.toString()),i;if(200!==(t=JSON.parse(e.json_body)).code)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center error, code: "+t.code+", reason: "+t.reason),u.default.error(i.toString()),i;if(!t.servers||0===t.servers.length)throw i=new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center empty server"),u.default.error(i.toString()),i;if(a=m(t,n),s.getParameter("LIVE_STREAMING_ADDRESS"))try{l=JSON.parse(s.getParameter("LIVE_STREAMING_ADDRESS")),a.addressList=l}catch(e){a.addressList=[s.getParameter("LIVE_STREAMING_ADDRESS")]}return[2,r(r({},a),{responseTime:S})]}}))}))}),(function(t,r){return l.report.requestApWorkerEvent(a.sid,{success:!0,sc:200,serviceName:n,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===r,responseTime:S,serverIp:e[r%e.length]}),!1}),(function(t,r){return l.report.requestApWorkerEvent(a.sid,{success:!1,sc:t.data&&t.data.code||200,serviceName:n,responseTime:S,serverIp:e[r%e.length]}),!!(t.code!==d.AgoraRTCErrorCode.OPERATION_ABORT&&t.code!==d.AgoraRTCErrorCode.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(R=e[(r+1)%e.length],!0)}),f)}t.requestLiveStreamingWorkerManager=v,t.getLiveStreamingWorkerMangerResult=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:r=s.getParameter("UAP_AP").map((function(e){return t.proxyServer?"https://"+t.proxyServer+"/ap/?url="+e+"/api/v1?action=uap":"https://"+e+"/api/v1?action=uap"})),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,v(r,e,t,n)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),l.report.requestApWorkerEvent(t.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:e,responseTime:i.data&&i.data.responseTime}),i;case 4:return[2]}}))}))}},function(e,t,n){var r=n(70),i=n(71),o=n(34),a=n(72);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(35);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=function(){function e(){this._events={},this.addListener=this.on}return e.prototype.getListeners=function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]},e.prototype.on=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})},e.prototype.once=function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})},e.prototype.off=function(e,t){if(this._events[e]){var n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}},e.prototype.removeAllListeners=function(e){e?delete this._events[e]:this._events={}},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._events[e]||(this._events[e]=[]);for(var r=this._events[e].map((function(e){return e})),i=0;i<r.length;i+=1){var o=r[i];o.once&&this.off(e,o.listener),o.listener.apply(this,t||[])}},e.prototype._indexOfListener=function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1},e}();function a(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=null,s=null;if(e.emit.apply(e,r([t],n,[function(e){a=e},function(e){s=e}])),null!==s)throw s;if(null===a)throw new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"handler is not sync");return a}t.EventEmitter=o,t.emitAsPromise=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return 0===e.getListeners(t).length?Promise.reject(new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not emit promise")):new Promise((function(i,o){e.emit.apply(e,r([t],n,[i,o]))}))},t.emitAsInvokerNoResponse=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return 0===e.getListeners(t).length?null:a.apply(void 0,r([e,t],n))},t.emitAsInvoker=a},function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(18);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(18),i=n(84),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(42)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(83))},function(e,t,n){"use strict";var r=n(18),i=n(85),o=n(39),a=n(87),s=n(90),c=n(91),d=n(43);e.exports=function(e){return new Promise((function(t,u){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(g+":"+m)}var h=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(h,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,u,r),p=null}},p.onabort=function(){p&&(u(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(d(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(92),E=(e.withCredentials||c(h))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;E&&(f[e.xsrfHeaderName]=E)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===l&&(l=null),p.send(l)}))}},function(e,t,n){"use strict";var r=n(86);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=i.concat(o).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(59)),c=a(n(62)),d=a(n(63)),u=o(n(0)),l=n(2),f=s.default.Root.fromJSON(d),p=function(){function e(){this.requestArray=[],this.retryBackoffCount=0,this.state=0}return e.prototype.setProxy=function(e){this.proxyServer=e},e.prototype.sendReportList=function(e,t){var n=this,r=this._dataConvert("ProtoRaws",{vid:t,sendTs:Math.round(Date.now()/1e3),payloads:e.map((function(e){return{id:c[e.type],msg:n._dataConvert(e.type,e.data)}}))});this.send(r)},e.prototype._dataConvert=function(e,t){var n;try{n=f.lookupType("protobuf."+e)}catch(t){u.default.error("[send-proto] invalid proto name "+e)}var r=n.create(t);return n.encode(r).finish()},e.prototype.send=function(e){0==this.state?this._send(e):this.requestArray.push(e)},e.prototype._send=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),this.state=1,[4,this.request(e)];case 1:return t.sent(),this.retryBackoffCount=0,0!==this.requestArray.length?this._send(this.requestArray.shift()):this.state=0,[3,4];case 2:return t.sent(),[4,g(this.retryBackoffCount++<2?200:1e4)];case 3:return t.sent(),this._send(e),[3,4];case 4:return[2]}}))}))},e.prototype.request=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:t=this._getAddress(),n=this._getBackupAddress(),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._request(t,e)];case 2:return r.sent(),[3,5];case 3:return r.sent(),[4,this._request(n,e)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))},e.prototype._request=function(e,t){return this._post(e,t)},e.prototype._post=function(e,t){var n=this;return new Promise((function(r,i){var o=new XMLHttpRequest;o.timeout=l.getParameter("HTTP_CONNECT_TIMEOUT"),o.open("POST",e,!0),o.setRequestHeader("Content-type","application/octet-stream"),n.proxyServer||(o.setRequestHeader("Cache-Control","no-cache, no-store"),o.setRequestHeader("Pragma","no-cache"),o.setRequestHeader("Expires","0")),o.onload=function(e){r(o.responseText)},o.onerror=function(e){i(e)},o.ontimeout=function(e){i(e)},o.send(t)}))},e.prototype._getAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+l.getParameter("EVENT_REPORT_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+l.getParameter("EVENT_REPORT_DOMAIN")+":6443/events/proto-raws"},e.prototype._getBackupAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+l.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+l.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+":6443/events/proto-raws"},e}();t.default=p;var g=function(e){return new Promise((function(t){window.setTimeout(t,e)}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=o(n(0)),c=n(15);!function(e){e.NEW="new",e.PREPARING_OFFER="preparing-offer",e.OFFER_SENT="offer-sent",e.ESTABLISHED="established",e.CLOSED="closed"}(a||(a={}));var d=function(){function e(e){this.candidate=null,this.state=a.NEW,this.config=e,this.isSubscriber=this.config.isSubscriber,this.peerConnection=this.initPeecConnection(e),this.peerConnection.onicecandidate=this._onicecandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this._oniceconnectionstatechange.bind(this),this.peerConnection.onaddstream=this._onaddstream.bind(this),this.peerConnection.ontrack=this._ontrack.bind(this),this.processSignalingMessage=this.setAnswer.bind(this),this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.setLocalSDP.bind(this)),this.sendVideoStats={id:"",type:"",mediaType:"",googCodecName:this.config.codec.toUpperCase(),bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},this.sendAudioStats={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},this.receiveAudioStats={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},this.receiveVideoStats={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"}}return e.prototype.addStream=function(e){this.peerConnection.addStream(e)},e.prototype.setRtpSenderParameters=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))},e.prototype.setAnswer=function(e){var t=JSON.parse(e);this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:t.sdp,type:"answer"})),this.onsignalingmessage&&this.onsignalingmessage("")},e.prototype.close=function(){this.peerConnection.close()},e.prototype.getStats=function(e,t){if(void 0===t&&(t=500),t=t>500?500:t,Date.now()-this.lastTimeGetStats<t){var n=[];this.config.isSubscriber?(n.push(this.receiveVideoStats),n.push(this.receiveAudioStats)):(n.push(this.sendAudioStats),n.push(this.sendVideoStats)),n.push({id:"time",startTime:this.connectedTime,timestamp:Date.now()}),e&&e(n)}else this._getStats(e)},e.prototype._getStats=function(e){var t=this,n=[];this.peerConnection.getStats(null).then((function(r){t.lastTimeGetStats=Date.now(),Object.keys(r).map((function(e){var n=r[e];t.config.isSubscriber?n.type&&"inboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.receiveAudioStats.id=n.id+"recv",t.receiveAudioStats.type=n.type+"",t.receiveAudioStats.mediaType=n.mediaType+"",t.receiveAudioStats.packetsReceived=n.packetsReceived+"",t.receiveAudioStats.bytesReceived=n.bytesReceived+"",t.receiveAudioStats.packetsLost=n.packetsLost+"",t.receiveAudioStats.googJitterReceived=n.jitter+""):n.type&&"inboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.receiveVideoStats.id=n.id+"recv",t.receiveVideoStats.type=n.type+"",t.receiveVideoStats.mediaType=n.mediaType+"",t.receiveVideoStats.packetsReceived=n.packetsReceived+"",t.receiveVideoStats.bytesReceived=n.bytesReceived+"",t.receiveVideoStats.packetsLost=n.packetsLost+"",t.receiveVideoStats.googJitterBufferMs=n.jitter+"",t.receiveVideoStats.googPlisSent=n.pliCount+"",t.receiveVideoStats.googFirsSent=n.firCount+"",t.receiveVideoStats.googNacksSent=n.nackCount+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("v")?(t.receiveVideoStats.googFrameHeightReceived=n.frameHeight+"",t.receiveVideoStats.googFrameWidthReceived=n.frameWidth+"",t.receiveVideoStats.googFrameRateDecoded=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateOutput=n.framesPerSecond+"",t.receiveVideoStats.googFrameRateReceived=n.framesPerSecond+"",t.receiveVideoStats.googFramesDecoded=n.framesDecoded+"",t.receiveVideoStats.googFrameReceived=n.framesReceived+""):n.remoteSource&&n.type&&"track"===n.type&&n.trackIdentifier&&-1!==n.trackIdentifier.indexOf("a")&&(t.receiveAudioStats.audioOutputLevel=n.audioLevel+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"audio"===n.mediaType?(t.sendAudioStats.id=n.id+"send",t.sendAudioStats.type=n.type+"",t.sendAudioStats.mediaType=n.mediaType+"",t.sendAudioStats.packetsSent=n.packetsSent+"",t.sendAudioStats.bytesSent=n.bytesSent+""):!n.isRemote&&n.type&&"outboundrtp"===n.type&&n.mediaType&&"video"===n.mediaType?(t.sendVideoStats.id=n.id+"send",t.sendVideoStats.type=n.type+"",t.sendVideoStats.mediaType=n.mediaType+"",t.sendVideoStats.packetsSent=n.packetsSent+"",t.sendVideoStats.bytesSent=n.bytesSent+"",t.sendVideoStats.googRtt=n.roundTripTime+"",t.sendVideoStats.googPlisReceived=n.pliCount+"",t.sendVideoStats.googFirsReceived=n.firCount+"",t.sendVideoStats.googNacksReceived=n.nackCount+""):!n.remoteSource&&n.type&&"track"===n.type&&n.framesSent&&0!==n.framesSent&&(t.sendVideoStats.googFrameHeightSent=n.frameHeight+"",t.sendVideoStats.googFrameHeightInput=n.frameHeight+"",t.sendVideoStats.googFrameWidthSent=n.frameWidth+"",t.sendVideoStats.googFrameWidthInput=n.frameWidth+"",t.sendVideoStats.googFramesEncoded=n.framesSent+"",t.sendVideoStats.googFrameRateSent=n.framesPerSecond+"")})),t.config.isSubscriber?(n.push(t.receiveVideoStats),n.push(t.receiveAudioStats)):(n.push(t.sendAudioStats),n.push(t.sendVideoStats)),n.push({id:"time",startTime:t.connectedTime,timestamp:Date.now()}),e&&e(n)}))},e.prototype.getStatsRate=function(e){this.getStats(e)},e.prototype.initPeecConnection=function(e){var t=e.stunServerUrl,n=e.turnServer,r=e.iceServers;return this.pcConfig={iceServers:[]},r instanceof Array?this.pcConfig.iceServers=e.iceServers:t&&(t instanceof Array?t.map((function(e){"string"==typeof e&&""!==e&&this.pcConfig.iceServers.push({urls:e})})):"string"==typeof t&&""!==t&&this.pcConfig.iceServers.push({urls:t})),n&&(n instanceof Array?n.map((function(e){"string"==typeof e.url&&""!==e.url&&this.pcConfig.iceServers.push({username:e.username,credential:e.credential,url:e.url})})):"auto"!==n.mode&&"manual"!==n.mode||(n.udpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.udpport+"?transport=udp"}),"string"==typeof n.tcpport&&""!==n.tcpport&&this.pcConfig.iceServers.push({username:n.username,credential:n.credential,credentialType:"password",urls:"turn:"+n.url+":"+n.tcpport+"?transport=tcp"}),!0===n.forceturn&&(this.pcConfig.iceTransportPolicy="relay"))),new c.RTCPeerConnection(this.pcConfig)},e.prototype._ontrack=function(e){this.onaddstream&&this.onaddstream(e,"ontrack")},e.prototype._onaddstream=function(e){this.onaddstream&&this.onaddstream(e,"onaddstream")},e.prototype._oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(this.state=a.ESTABLISHED,this.connectedTime=Date.now()),this.oniceconnectionstatechange&&this.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},e.prototype._onicecandidate=function(e){!this.candidate&&e&&(this.candidate=e.candidate,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.editLocalSDP.bind(this)).then(this.setLocalSDP.bind(this)).then(this.sendOffer.bind(this)).catch())},e.prototype.setLocalSDP=function(e){return this.peerConnection.setLocalDescription(new RTCSessionDescription({sdp:e.sdp,type:"offer"})),this.state=a.PREPARING_OFFER,e},e.prototype.editLocalSDP=function(e){return e.sdp=this.setBandWidth(e.sdp),e.sdp=this.reviseOpus(e.sdp),e.sdp=this.addCandidate(e.sdp),e},e.prototype.setSendRecv=function(e){return e=(e=(e=e.replace(/a=recvonly\r\n/g,"a=sendrecv\r\n")).replace(/a=sendonly\r\n/g,"a=sendrecv\r\n")).replace(/a=inactive\r\n/g,"a=sendrecv\r\n")},e.prototype.setBandWidth=function(e){var t,n,r=this.config,i=r.codec,o=r.minVideoBW,a=r.maxVideoBW,c=r.maxAudioBW,d=r.clientId;if((t=e.match(/m=video.*\r\n/))&&o&&a){n=t[0]+"b=AS:"+a+"\r\n";var u=0,l=0;"h264"===i?(u=e.search(/a=rtpmap:(\d+) H264\/90000\r\n/),l=e.search(/H264\/90000\r\n/)):"vp8"===i?(u=e.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),l=e.search(/VP8\/90000\r\n/)):"vp9"===i&&(u=e.search(/a=rtpmap:(\d+) VP9\/90000\r\n/),l=e.search(/VP9\/90000\r\n/)),-1!==u&&-1!==l&&l-u>10&&(n=n+"a=fmtp:"+e.slice(u+9,l-1)+" x-google-min-bitrate="+o+"\r\n"),e=e.replace(t[0],n),s.default.debug("["+d+"]Set Video Bitrate - min:"+o+" max:"+a)}return(t=e.match(/m=audio.*\r\n/))&&c&&(n=t[0]+"b=AS:"+c+"\r\n",e=e.replace(t[0],n)),e},e.prototype.reviseOpus=function(e){return e=(e=e.replace(/a=rtpmap:102 opus\/48000\/2/g,"a=rtpmap:111 opus/48000/2")).replace(/m=audio 9 UDP\/TLS\/RTP\/SAVPF 102 0 8 97 13 118 101/g,"m=audio 9 UDP/TLS/RTP/SAVPF 111 0 8 97 13 118 101")},e.prototype.addCandidate=function(e){return e+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"},e.prototype.sendOffer=function(e){this.config.callback(JSON.stringify({sdp:e.sdp,messageType:"OFFER",tiebreaker:Math.floor(429496723*Math.random()+1)})),this.state=a.OFFER_SENT},e}();t.default=d},function(e,t,n){var r=n(65),i=n(66),o=n(34),a=n(67);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){var r,i,o;i=this,o=function(){"use strict";var e,t=this;function n(e){t.console&&(t.console.error?t.console.error(e):t.console.log&&t.console.log(e))}function r(e,t,r,i){var o=i||n,a=e.createShader(r);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(o("*** Error compiling shader '"+a+"':"+e.getShaderInfoLog(a)),e.deleteShader(a),null)}function i(e,t,r,i,o){var a=o||n,s=e.createProgram();return t.forEach((function(t){e.attachShader(s,t)})),r&&r.forEach((function(t,n){e.bindAttribLocation(s,i?i[n]:n,t)})),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)?s:(a("Error in program linking:"+e.getProgramInfoLog(s)),e.deleteProgram(s),null)}(e=e||t)===e.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html"));var o,a=["VERTEX_SHADER","FRAGMENT_SHADER"];return!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(o=HTMLCanvasElement.prototype.getContext,function(){var e=arguments,t=e[0];return"webgl"===t&&((e=[].slice.call(arguments))[0]="experimental-webgl"),o.apply(this,e)})),{createProgram:i,createProgramFromSources:function(e,t,n,o,s){for(var c=[],d=0;d<t.length;++d)c.push(r(e,t[d],e[a[d]],s));return i(e,c,n,o,s)}}},void 0===(r=function(){return o.call(i)}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(68),s=n(5),c=o(n(0));t.getSupportedCodec=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,o,u;return i(this,(function(i){switch(i.label){case 0:return t={video:[],audio:[]},"undefined"!=typeof window?[3,1]:("NOT_BROWSER_ENV",c.default.error("getSupportedCodec: NOT_BROWSER_ENV"),[2,Promise.reject("NOT_BROWSER_ENV")]);case 1:try{n=a.createRTCPeerConnection({iceServers:[]})}catch(e){return c.default.error("Failed to init RTCPeerConnection",e),[2,Promise.reject(e)]}return n?[3,2]:(c.default.warning("getSupportedCodec: no RTCPeerConnection constructor is detected"),[2,Promise.resolve(t)]);case 2:return e&&e.stream?[3,7]:(r={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},o=void 0,(s.isSafari()||s.isFireFox()||s.isWeChatBrowser())&&n.addTransceiver?(n.addTransceiver("audio"),n.addTransceiver("video"),[4,n.createOffer()]):[3,4]);case 3:return o=i.sent(),[3,6];case 4:return[4,new Promise((function(e,t){var i=setTimeout((function(){t("CREATEOFFER_TIMEOUT")}),3e3);n.createOffer((function(t){clearTimeout(i),e(t)}),(function(e){clearTimeout(i),t(e)}),r)}))];case 5:o=i.sent(),i.label=6;case 6:return n.close(),u=o.sdp,[2,d(u)];case 7:return e.stream.getTracks&&n.addTrack?e.stream.getTracks().forEach((function(t){n.addTrack(t,e.stream)})):n.addStream(e.stream),o=void 0,s.isSafari()||s.isFireFox()?[4,n.createOffer()]:[3,9];case 8:return o=i.sent(),[3,11];case 9:return[4,new Promise((function(e,t){n.createOffer(e,t)}))];case 10:o=i.sent(),i.label=11;case 11:return n.close(),u=o.sdp,[2,d(u)]}}))}))};var d=function(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),Promise.resolve(t)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10);function a(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}t.encryptRSA=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r,s;return i(this,(function(i){switch(i.label){case 0:return t=o.base64ToUint8Array("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),[4,window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])];case 1:return n=i.sent(),c=e,r=(new TextEncoder).encode(c),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r)];case 2:return s=i.sent(),[2,a(new Uint8Array(s))]}var c}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),s=n(75),c=n(24),d=n(1),u=n(27);t.addLiveStreamingCapability=function(e,t){var n=this,o=function(t){var n=t.type;if(!e.joinInfo)return new c.AgoraRTCError(c.AgoraRTCErrorCode.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();switch(n){case u.LiveStreamingServiceMode.INJECT:return e._injectStreamingClient||(e._injectStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._injectStreamingClient.onInjectStatusChange=function(t,n,r){e.gatewayClient.dispatchEvent({type:"streamInjectedStatus",url:r,status:t})}),e._injectStreamingClient;case u.LiveStreamingServiceMode.RAW:return e._liveRawStreamingClient||(e._liveRawStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveRawStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveRawStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask()})),e._liveRawStreamingClient.onLiveStreamError=function(t,n){a.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveRawStreamingClient.onLiveStreamWarning=function(t,n){a.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n.code})}),e._liveRawStreamingClient;case u.LiveStreamingServiceMode.TRANSCODE:return e._liveTranscodeStreamingClient||(e._liveTranscodeStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveTranscodeStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",(function(t){e._liveTranscodeStreamingClient.setGatewayConnectionState(t.curState),"CONNECTING"===t.prevState&&"CONNECTED"===t.curState&&e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask()})),e._liveTranscodeStreamingClient.onLiveStreamError=function(t,n){a.default.error("LIVE_STREAMING_ERROR",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:n.code})},e._liveTranscodeStreamingClient.onLiveStreamWarning=function(t,n){a.default.warning("LIVE_STREAMING_WARNING",n.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:n})}),e._liveTranscodeStreamingClient}};e.gatewayClient.addEventListener("join",(function(t){e._injectStreamingClient&&e._injectStreamingClient.resetAllTask()})),e.gatewayClient.addEventListener("stream-unpublished",(function(t){t.options&&0===t.options.streamType&&(e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask(),e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask())})),e.gatewayClient.addEventListener("stream-published",(function(e){})),e.startLiveStreaming=function(n,r){a.default.debug("startLiveStreaming");var i=d.report.reportApiInvoke(t.sessionId,{name:"Client.startLiveStreaming",options:arguments,tag:"tracer"});if(e.gatewayClient&&"audience"===e.gatewayClient.role){var o={code:403,reason:"AUDIENCE_STREAMING_FORBIDDEN"};throw i(o),o}var s=e._startLiveStreaming(n,r);return s.then((function(e){i(null,e)})).catch((function(t){a.default.error("LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),i(t)})),s},e._startLiveStreaming=function(s,d){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return d||("vp8"===t.codec&&a.default.warning("VP8 is not supported by raw_streaming. Subscriber side will suffer"),"vp9"===t.codec&&a.default.warning("VP9 is not supported by raw_streaming. Subscriber side will suffer"),"rtc"===t.mode&&a.default.warning("RTC mode is not supported by raw_streaming. Subscriber side will suffer")),(e._liveRawStreamingClient&&e._liveRawStreamingClient.haveUrl(s)||e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.haveUrl(s))&&new c.AgoraRTCError(c.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw(),n=d?u.LiveStreamingServiceMode.TRANSCODE:u.LiveStreamingServiceMode.RAW,[4,o({type:n}).startLiveStreamingTask(s,n)];case 1:return r.sent(),e.gatewayClient.dispatchEvent({type:"liveStreamingStarted",url:s}),[2]}}))}))},e.setLiveTranscoding=function(n){a.default.debug("setLiveTranscoding: "+JSON.stringify(n));var r=d.report.reportApiInvoke(t.sessionId,{name:"Client.setLiveTranscoding",options:arguments,tag:"tracer"}),i=o({type:u.LiveStreamingServiceMode.TRANSCODE});return i.setTranscodingConfig(n).then((function(){e.gatewayClient.dispatchEvent({type:"liveTranscodingUpdated"}),r(null)})).catch((function(t){a.default.error("SET_LIVE_TRANSCODING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",reason:t.code}),r(t)}))},e.stopLiveStreaming=function(n){var r=d.report.reportApiInvoke(t.sessionId,{name:"Client.stopLiveStreaming",options:arguments,tag:"tracer"}),i=e._stopLiveStreaming(n);return i.then((function(e){r(null,e)})).catch((function(t){a.default.error("STOP_LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:n,reason:t.code}),r(t)})),i},e._stopLiveStreaming=function(t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return a.default.debug("stopLiveStreaming: "+JSON.stringify(t)),n=[e._liveRawStreamingClient,e._liveTranscodeStreamingClient],[4,Promise.all(n.map((function(e){return e&&e.haveUrl(t)&&e.stopLiveStreamingTask(t)})))];case 1:return r.sent(),a.default.debug("stopLiveStreaming sucess: "+JSON.stringify(t)),e.gatewayClient.dispatchEvent({type:"liveStreamingStopped",url:t}),[2]}}))}))},e.addInjectStreamUrl=function(n,r){var i=d.report.reportApiInvoke(t.sessionId,{name:"Client.addInjectStreamUrl",options:[n,r],tag:"tracer"});if("audience"===e.gatewayClient.role){var o={code:403,reason:"AUDIENCE_INJECTING_FORBIDDEN"};throw i(o),o}var s=e._addInjectStreamUrl(n,r);return s.then((function(e){i(null,e)})).catch((function(e){a.default.error("ADD_INJECT_STREAM_ERROR",e.toString()),i(e)})),s},e._addInjectStreamUrl=function(e,t){return r(n,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=o({type:u.LiveStreamingServiceMode.INJECT})).setInjectStreamConfig(t,0),[4,n.startLiveStreamingTask(e,u.LiveStreamingServiceMode.INJECT)];case 1:return r.sent(),[2]}}))}))},e.removeInjectStreamUrl=function(n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){return r=d.report.reportApiInvoke(t.sessionId,{name:"Client.removeInjectStreamUrl",options:[n],tag:"tracer"}),(o=e._removeInjectStreamUrl(n)).then((function(e){r(null,e)})).catch((function(e){a.default.error("REMOVE_INJECT_STREAM_ERROR",e.toString()),r(e)})),[2,o]}))}))},e._removeInjectStreamUrl=function(e){return r(n,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,o({type:u.LiveStreamingServiceMode.INJECT}).stopLiveStreamingTask(e)];case 1:return t.sent(),[2]}}))}))},e._terminateLiveStreaming=function(){return r(n,void 0,void 0,(function(){return i(this,(function(t){return[e._injectStreamingClient,e._liveRawStreamingClient,e._liveTranscodeStreamingClient].forEach((function(e){e&&e.terminate()})),[2]}))}))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(0)),a=n(10);t.default=function(e,t){void 0===t&&(t={width:160,height:120,framerate:15});var n=t.width,r=t.height,s=t.framerate,c=e.stream;if(!c)throw i.default.INVALID_LOCAL_STREAM;if(!c.getVideoTracks()[0])throw i.default.HIGH_STREAM_NOT_VIDEO_TRACE;var d=c.getVideoTracks()[0];o.default.debug("Start getLowStream");var u=document.createElement("video"),l=document.createElement("canvas");u.setAttribute("style","display:none"),u.setAttribute("muted",""),u.muted=!0,u.setAttribute("autoplay",""),u.autoplay=!0,u.setAttribute("playsinline",""),l.setAttribute("style","display:none"),l.setAttribute("width",n.toString()),l.setAttribute("height",r.toString());var f=l.getContext("2d");if(!f)throw new Error("not get canvas context");u.srcObject=c,document.body.append(u),document.body.append(l),u.play(),o.default.debug("Start render lowStream");var p=a.audioTimerLoop((function(){return function(){if(u.paused&&u.play(),u.videoHeight>2&&u.videoWidth>2){var t=u.videoWidth,n=u.videoHeight/t,r=l.width*n;Math.abs(r-l.height)>=2&&(o.default.debug("adjust low stream resolution",l.width+"x"+l.height+" -> "+l.width+"x"+r),l.height=r)}f.drawImage(u,0,0,l.width,l.height);var i=e.stream;if(i){var a=i.getVideoTracks()[0];d!==a&&(o.default.debug("adjust low stream track"),u.srcObject=i,d=a)}}()}),s),g=l.captureStream(s),m=g.getVideoTracks()[0];return m.requestFrame&&m.requestFrame(),g.clean=function(){o.default.debug("Start clean lowStream"),p(),(u||u.parentNode||u.parentNode.removeChild)&&u.parentNode.removeChild(u),(l||l.parentNode||l.parentNode.removeChild)&&l.parentNode.removeChild(l),o.default.debug("Clean lowStream")},g}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * protobuf.js v6.10.0 (c) 2016, daniel wirtz
 * compiled wed, 15 jul 2020 23:34:13 utc
 * licensed under the bsd-3-clause license
 * see: https://github.com/dcodeio/protobuf.js for details
 */!function(undefined){"use strict";!function(e,t,n){var r=function n(r){var i=t[r];return i||e[r][0].call(i=t[r]={exports:{}},n,i,i.exports),i.exports}(n[0]);r.util.global.protobuf=r,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(61)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(r.util.Long=e,r.configure()),r}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=r)}({1:[function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},{}],2:[function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,c=0;t<n;){var d=e[t++];switch(c){case 0:a[s++]=i[d>>2],r=(3&d)<<4,c=1;break;case 1:a[s++]=i[r|d>>4],r=(15&d)<<2,c=2;break;case 2:a[s++]=i[r|d>>6],a[s++]=i[63&d],c=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,n){for(var r,i=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if((c=o[c])===undefined)throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),d=0;d<a.length;)s[d]=a[d],c[d]=e[a[d++]];return s[d]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),l=0;l<u.length;)u[l]=arguments[++l];if(l=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[l++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),l!==u.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1},{}],4:[function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=o;var r=e(1),i=e(7)("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},{1:1,7:7}],6:[function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,o+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,c=a>>>20&2047,d=4294967296*(1048575&a)+o;return 2047===c?d?NaN:s*(1/0):0===c?5e-324*s*d:s*Math.pow(2,c-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},{}],10:[function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},{}],11:[function(e,t,n){var r=n,i=e(14),o=e(33);function a(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,a=Object.keys(o),s=0;s<a.length;++s)t.repeated&&o[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",o[a[s]])("m%s=%j",r,o[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function s(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,o?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var s=t[r].resolve(),c=o.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,s,r,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,s,r,c+"[i]")("}")("}")):(s.resolvedType instanceof i||n("if(d%s!=null){",c),a(n,s,r,c),s.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var n=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],d=0;d<t.length;++d)t[d].partOf||(t[d].resolve().repeated?r:t[d].map?a:c).push(t[d]);if(r.length){for(n("if(o.arrays||o.defaults){"),d=0;d<r.length;++d)n("d%s=[]",o.safeProp(r[d].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),d=0;d<a.length;++d)n("d%s={}",o.safeProp(a[d].name));n("}")}if(c.length){for(n("if(o.defaults){"),d=0;d<c.length;++d){var u=c[d],l=o.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,u.typeDefault)}n("}")}var p=!1;for(d=0;d<t.length;++d){u=t[d];var g=e._fieldsArray.indexOf(u);l=o.safeProp(u.name);u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),s(n,u,g,l+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),s(n,u,g,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),s(n,u,g,l),u.partOf&&n("if(o.oneofs)")("d%s=%j",o.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},{14:14,33:33}],12:[function(e,t,n){t.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof r?"int32":s.type,d="m"+o.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",d)("%s={}",d)("var c2 = r.uint32()+r.pos"),i.defaults[s.keyType]!==undefined?t("k=%j",i.defaults[s.keyType]):t("k=null"),i.defaults[c]!==undefined?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),i.basic[c]===undefined?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),i.long[s.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',d):t("%s[k]=value",d)):s.repeated?(t("if(!(%s&&%s.length))",d,d)("%s=[]",d),i.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",d,c)("}else"),i.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",d,n):t("%s.push(r.%s())",d,c)):i.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",d,n):t("%s=r.%s()",d,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",a(u))}return t("return m")};var r=e(14),i=e(32),o=e(33);function a(e){return"missing required '"+e.name+"'"}},{14:14,32:32,33:33}],13:[function(e,t,n){t.exports=function(e){for(var t,n=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<s.length;++c){var d=s[c].resolve(),u=e._fieldsArray.indexOf(d),l=d.resolvedType instanceof r?"int32":d.type,f=i.basic[l];t="m"+o.safeProp(d.name),d.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,d.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(d.id<<3|2)>>>0,8|i.mapKey[d.keyType],d.keyType),f===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,l,t),n("}")("}")):d.repeated?(n("if(%s!=null&&%s.length){",t,t),d.packed&&i.packed[l]!==undefined?n("w.uint32(%i).fork()",(d.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",l,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),f===undefined?a(n,d,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(d.id<<3|f)>>>0,l,t)),n("}")):(d.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,d.name),f===undefined?a(n,d,u,t):n("w.uint32(%i).%s(%s)",(d.id<<3|f)>>>0,l,t))}return n("return w")};var r=e(14),i=e(32),o=e(33);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},{14:14,32:32,33:33}],14:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var i=e(21),o=e(33);function a(e,t,n,i,o){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=undefined,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},a.prototype.add=function(e,t,n){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{21:21,22:22,33:33}],15:[function(e,t,n){t.exports=d;var r=e(22);((d.prototype=Object.create(r.prototype)).constructor=d).className="Field";var i,o=e(14),a=e(32),s=e(33),c=/^required|optional|repeated$/;function d(e,t,n,i,o,d,u){if(s.isObject(i)?(u=o,d=i,i=o=undefined):s.isObject(o)&&(u=d,d=o,o=undefined),r.call(this,e,d),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(o!==undefined&&!s.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:undefined,this.type=n,this.id=t,this.extend=o||undefined,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&a.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}d.fromJSON=function(e,t){return new d(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(d.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),d.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},d.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},d.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=a.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},d.d=function(e,t,n,r){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new d(o,e,t,n,{default:r}))}},d._configure=function(e){i=e}},{14:14,22:22,32:32,33:33}],16:[function(e,t,n){var r=t.exports=e(17);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=e(13),r.decoder=e(12),r.verifier=e(36),r.converter=e(11),r.ReflectionObject=e(22),r.Namespace=e(21),r.Root=e(26),r.Enum=e(14),r.Type=e(31),r.Field=e(15),r.OneOf=e(23),r.MapField=e(18),r.Service=e(30),r.Method=e(20),r.Message=e(19),r.wrappers=e(37),r.types=e(32),r.util=e(33),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},{11:11,12:12,13:13,14:14,15:15,17:17,18:18,19:19,20:20,21:21,22:22,23:23,26:26,30:30,31:31,32:32,33:33,36:36,37:37}],17:[function(e,t,n){var r=n;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(38),r.BufferWriter=e(39),r.Reader=e(24),r.BufferReader=e(25),r.util=e(35),r.rpc=e(28),r.roots=e(27),r.configure=i,i()},{24:24,25:25,27:27,28:28,35:35,38:38,39:39}],18:[function(e,t,n){t.exports=a;var r=e(15);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var i=e(32),o=e(33);function a(e,t,n,i,a,s){if(r.call(this,e,t,i,undefined,undefined,a,s),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},a.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=o.decorateType(n).name:n&&"object"==typeof n&&(n=o.decorateEnum(n).name),function(r,i){o.decorateType(r.constructor).add(new a(i,e,t,n))}}},{15:15,32:32,33:33}],19:[function(e,t,n){t.exports=i;var r=e(35);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},{35:35}],20:[function(e,t,n){t.exports=o;var r=e(22);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var i=e(33);function o(e,t,n,o,a,s,c,d){if(i.isObject(a)?(c=a,a=s=undefined):i.isObject(s)&&(c=s,s=undefined),t!==undefined&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||undefined,this.responseType=o,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=d}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},{22:22,33:33}],21:[function(e,t,n){t.exports=u;var r=e(22);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,o,a,s=e(15),c=e(33);function d(e,t){if(!e||!e.length)return undefined;for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}function u(e,t){r.call(this,e,t),this.nested=undefined,this._nestedArray=null}function l(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=d,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",d(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((t.fields!==undefined?i.fromJSON:t.values!==undefined?a.fromJSON:t.methods!==undefined?o.fromJSON:t.id!==undefined?s.fromJSON:u.fromJSON)(n[r],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&e.extend!==undefined||e instanceof i||e instanceof a||e instanceof o||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),l(this)},u.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),l(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,o=t,a=n}},{15:15,22:22,33:33}],22:[function(e,t,n){t.exports=o,o.className="ReflectionObject";var r,i=e(33);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},o.prototype.getOption=function(e){return this.options?this.options[e]:undefined},o.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},o.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var o=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(o){var a=o[e];i.setProperty(a,n,t)}else(o={})[e]=i.setProperty({},n,t),r.push(o)}else{var s={};s[e]=t,r.push(s)}return this},o.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){r=e}},{33:33}],23:[function(e,t,n){t.exports=a;var r=e(22);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var i=e(15),o=e(33);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=undefined),r.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){o.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},{15:15,22:22,33:33}],24:[function(e,t,n){t.exports=c;var r,i=e(35),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var d,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function f(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return d}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},{35:35}],25:[function(e,t,n){t.exports=o;var r=e(24);(o.prototype=Object.create(r.prototype)).constructor=o;var i=e(35);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},{24:24,35:35}],26:[function(e,t,n){t.exports=l;var r=e(21);((l.prototype=Object.create(r.prototype)).constructor=l).className="Root";var i,o,a,s=e(15),c=e(14),d=e(23),u=e(33);function l(e){r.call(this,"",e),this.deferred=[],this.files=[]}function f(){}l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=u.path.resolve,l.prototype.fetch=u.fetch,l.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=undefined);var i=this;if(!r)return u.asPromise(e,i,t,n);var s=r===f;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function d(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in a)return n}return null}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){o.filename=e;var r,a=o(t,i,n),l=0;if(a.imports)for(;l<a.imports.length;++l)(r=d(a.imports[l])||i.resolvePath(e,a.imports[l]))&&p(r);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(r=d(a.weakImports[l])||i.resolvePath(e,a.weakImports[l]))&&p(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||g||c(null,i)}function p(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?l(e,a[e]):(++g,setTimeout((function(){--g,l(e,a[e])})));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}l(e,n)}else++g,i.fetch(e,(function(n,o){--g,r&&(n?t?g||c(null,i):c(n):l(e,o))}))}var g=0;u.isString(t)&&(t=[t]);for(var m,h=0;h<t.length;++h)(m=i.resolvePath("",t[h]))&&p(m);return s?i:(g||c(null,i),undefined)},l.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,f)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function g(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,undefined,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}l.prototype._handleAdd=function(e){if(e instanceof s)e.extend===undefined||e.extensionField||g(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof d)){if(e instanceof i)for(var t=0;t<this.deferred.length;)g(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},l.prototype._handleRemove=function(e){if(e instanceof s){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},l._configure=function(e,t,n){i=e,o=t,a=n}},{14:14,15:15,21:21,23:23,33:33}],27:[function(e,t,n){t.exports={}},{}],28:[function(e,t,n){n.Service=e(29)},{29:29}],29:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(!s.rpcImpl)return setTimeout((function(){a(Error("already ended"))}),0),undefined;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null===n)return s.end(!0),undefined;if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}))}catch(e){return s.emit("error",e,t),setTimeout((function(){a(e)}),0),undefined}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{35:35}],30:[function(e,t,n){t.exports=s;var r=e(21);((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var i=e(20),o=e(33),a=e(28);function s(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),o=0;o<r.length;++o)n.add(i.fromJSON(r[o],t.methods[r[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||undefined,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=o.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},{20:20,21:21,28:28,33:33}],31:[function(e,t,n){t.exports=E;var r=e(21);((E.prototype=Object.create(r.prototype)).constructor=E).className="Type";var i=e(14),o=e(23),a=e(15),s=e(18),c=e(30),d=e(19),u=e(24),l=e(38),f=e(33),p=e(13),g=e(12),m=e(36),h=e(11),v=e(37);function E(e,t){r.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function S(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(E.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=E.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof d||((e.prototype=new d).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,d,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),E.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},E.fromJSON=function(e,t){var n=new E(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var d=Object.keys(t.fields),u=0;u<d.length;++u)n.add((void 0!==t.fields[d[u]].keyType?s.fromJSON:a.fromJSON)(d[u],t.fields[d[u]]));if(t.oneofs)for(d=Object.keys(t.oneofs),u=0;u<d.length;++u)n.add(o.fromJSON(d[u],t.oneofs[d[u]]));if(t.nested)for(d=Object.keys(t.nested),u=0;u<d.length;++u){var l=t.nested[d[u]];n.add((l.id!==undefined?a.fromJSON:l.fields!==undefined?E.fromJSON:l.values!==undefined?i.fromJSON:l.methods!==undefined?c.fromJSON:r.fromJSON)(d[u],l))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},E.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||undefined,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},E.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},E.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},E.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),S(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),S(this)):r.prototype.add.call(this,e)},E.prototype.remove=function(e){if(e instanceof a&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),S(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),S(this)}return r.prototype.remove.call(this,e)},E.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},E.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},E.prototype.create=function(e){return new this.ctor(e)},E.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:l,types:t,util:f}),this.decode=g(this)({Reader:u,types:t,util:f}),this.verify=m(this)({types:t,util:f}),this.fromObject=h.fromObject(this)({types:t,util:f}),this.toObject=h.toObject(this)({types:t,util:f});var r=v[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},E.prototype.encode=function(e,t){return this.setup().encode(e,t)},E.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},E.prototype.decode=function(e,t){return this.setup().decode(e,t)},E.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},E.prototype.verify=function(e){return this.setup().verify(e)},E.prototype.fromObject=function(e){return this.setup().fromObject(e)},E.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},E.d=function(e){return function(t){f.decorateType(t,e)}}},{11:11,12:12,13:13,14:14,15:15,18:18,19:19,21:21,23:23,24:24,30:30,33:33,36:36,37:37,38:38}],32:[function(e,t,n){var r=n,i=e(33),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[o[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},{33:33}],33:[function(e,t,n){var r,i,o=t.exports=e(35),a=e(27);o.codegen=e(3),o.fetch=e(5),o.path=e(8),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},o.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];i!==undefined&&(t[r]=i)}return t};var s=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var d=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(d,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(o.decorateRoot.remove(t.$type),t.$type.name=n,o.decorateRoot.add(t.$type)),t.$type;r||(r=e(31));var i=new r(n||t.name);return o.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;o.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=e(14));var n=new i("Enum"+u++,t);return o.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},o.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if(n.length>0)t[i]=e(t[i]||{},n,r);else{var o=t[i];o&&(r=[].concat(o).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(o,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e(26)))}})},{14:14,26:26,27:27,3:3,31:31,35:35,5:5,8:8}],34:[function(e,t,n){t.exports=i;var r=e(35);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{35:35}],35:[function(e,t,n){var r=n;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)e[r[i]]!==undefined&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=e(1),r.base64=e(2),r.EventEmitter=e(4),r.float=e(6),r.inquire=e(7),r.utf8=e(10),r.pool=e(9),r.LongBits=e(34),r.isNode=Boolean(void 0!==global&&global&&global.process&&global.process.versions&&global.process.versions.node),r.global=r.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&this[e[n]]!==undefined&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,34:34,4:4,6:6,7:7,9:9}],36:[function(e,t,n){t.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,r={};n.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var d=e._fieldsArray[c].resolve(),u="m"+i.safeProp(d.name);if(d.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,d.name),d.map)t("if(!util.isObject(%s))",u)("return%j",o(d,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),s(t,d,"k[i]"),a(t,d,c,u+"[k[i]]")("}");else if(d.repeated)t("if(!Array.isArray(%s))",u)("return%j",o(d,"array"))("for(var i=0;i<%s.length;++i){",u),a(t,d,c,u+"[i]")("}");else{if(d.partOf){var l=i.safeProp(d.partOf.name);1===r[d.partOf.name]&&t("if(p%s===1)",l)("return%j",d.partOf.name+": multiple values"),r[d.partOf.name]=1,t("p%s=1",l)}a(t,d,c,u)}d.optional&&t("}")}return t("return null")};var r=e(14),i=e(33);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",o(t,"boolean key"))}return e}},{14:14,33:33}],37:[function(e,t,n){var r=n,i=e(19);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(r);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=r,a}return this.toObject(e,t)}}},{19:19}],38:[function(e,t,n){t.exports=l;var r,i=e(35),o=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function d(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(d,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function p(e,t,n){t[n]=255&e}function g(e,t){this.len=e,this.next=undefined,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function h(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=f(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},g.prototype=Object.create(c.prototype),g.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(p,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(h,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(h,4,t.lo)._push(h,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=l.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},l.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(d,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(d,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=f(),r._configure()}},{35:35}],39:[function(e,t,n){t.exports=o;var r=e(38);(o.prototype=Object.create(r.prototype)).constructor=o;var i=e(35);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},{35:35,38:38}]},{},[16])}()}).call(this,__webpack_require__(33),__webpack_require__(60)(module))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},a={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=d(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=d(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function c(e,t){if(isNaN(e))return t?E:v;if(t){if(e<0)return E;if(e>=g)return T}else{if(e<=-m)return I;if(e+1>=m)return R}return e<0?c(-e,t).neg():d(e%p|0,e/p|0,t)}function d(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=d;var u=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=c(u(n,8)),o=v,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+s),n);if(s<8){var f=c(u(n,s));o=o.mul(f).add(c(d))}else o=(o=o.mul(i)).add(c(d))}return o.unsigned=t,o}function f(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?l(e,t):d(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=f;var p=4294967296,g=p*p,m=g/2,h=s(1<<24),v=s(0);r.ZERO=v;var E=s(0,!0);r.UZERO=E;var S=s(1);r.ONE=S;var _=s(1,!0);r.UONE=_;var y=s(-1);r.NEG_ONE=y;var R=d(-1,2147483647,!1);r.MAX_VALUE=R;var T=d(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var I=d(0,-2147483648,!1);r.MIN_VALUE=I;var b=r.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(u(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),d=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return d+a;for(;d.length<6;)d="0"+d;a=""+d+a}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return 1==(1&this.low)},b.isEven=function(){return 0==(1&this.low)},b.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(S)},b.neg=b.negate,b.add=function(e){i(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,l=0,p=0,g=0;return p+=(g+=o+(65535&e.low))>>>16,l+=(p+=r+c)>>>16,u+=(l+=n+s)>>>16,u+=t+a,d((p&=65535)<<16|(g&=65535),(u&=65535)<<16|(l&=65535),this.unsigned)},b.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=f(e)),n)return d(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(I))return e.isOdd()?I:v;if(e.eq(I))return this.isOdd()?I:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,u=65535&e.high,l=e.low>>>16,p=65535&e.low,g=0,m=0,E=0,S=0;return E+=(S+=a*p)>>>16,m+=(E+=o*p)>>>16,E&=65535,m+=(E+=a*l)>>>16,g+=(m+=r*p)>>>16,m&=65535,g+=(m+=o*l)>>>16,m&=65535,g+=(m+=a*u)>>>16,g+=t*p+r*l+o*u+a*s,d((E&=65535)<<16|(S&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?d((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?E:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return E;if(e.gt(this.shru(1)))return _;o=E}else{if(this.eq(I))return e.eq(S)||e.eq(y)?I:e.eq(I)?S:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?S:y:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(I))return this.unsigned?E:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:u(2,a-48),l=c(t),p=l.mul(e);p.isNegative()||p.gt(r);)p=(l=c(t-=s,this.unsigned)).mul(e);l.isZero()&&(l=S),o=o.add(l),r=r.sub(p)}return o},b.div=b.divide,b.modulo=function(e){return i(e)||(e=f(e)),n?d((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return d(~this.low,~this.high,this.unsigned)},b.and=function(e){return i(e)||(e=f(e)),d(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return i(e)||(e=f(e)),d(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return i(e)||(e=f(e)),d(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):d(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):d(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?d(this.low>>>e|t<<32-e,t>>>e,this.unsigned):d(32===e?t:t>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.toSigned=function(){return this.unsigned?d(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:d(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e){e.exports=JSON.parse('{"PeerPublishStatus":408,"JoinChannelTimeout":407,"OnUpdateStream":356,"OnRemoveStream":355,"OnAddVideoStream":353,"OnAddAudioStream":352,"FirstAudioDecode":351,"FirstVideoDecode":350,"FirstAudioReceived":349,"FirstVideoReceived":348,"ReqUserAccount":196,"ApiInvoke":41,"RequestProxyWorkerManager":36,"RequestProxyAppCenter":35,"VideoSendingStopped":34,"AudioSendingStopped":33,"StreamSwitch":32,"FirstFrame":31,"Publish":30,"Subscribe":29,"JoinGateway":28,"JoinChooseServer":27,"Session":26,"APWorkerEvent":160,"WorkerEvent":156,"JoinWebProxyAP":700,"WebSocketQuit":671}')},function(e){e.exports=JSON.parse('{"nested":{"protobuf":{"nested":{"Session":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"version":{"type":"string","id":11},"browser":{"type":"string","id":12},"appid":{"type":"string","id":13},"mode":{"type":"string","id":14},"extend":{"type":"string","id":15},"process":{"type":"string","id":16},"build":{"type":"string","id":17},"ipv6":{"type":"string","id":18},"sourceHost":{"type":"string","id":19},"sourcePath":{"type":"string","id":20},"collectorHost":{"type":"string","id":21},"collectorName":{"type":"string","id":22}}},"JoinChooseServer":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"chooseServerAddr":{"type":"string","id":11},"chooseServerAddrList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"chooseServerIp":{"type":"string","id":15}}},"JoinGateway":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"gatewayAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"firstSuccess":{"type":"bool","id":14}}},"Subscribe":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"video":{"type":"bool","id":16},"audio":{"type":"bool","id":17},"subscribeRequestid":{"type":"int32","id":18},"p2pid":{"type":"int32","id":19}}},"Publish":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"videoName":{"type":"string","id":16},"audioName":{"type":"string","id":17},"screenName":{"type":"string","id":18},"video":{"type":"bool","id":19},"audio":{"type":"bool","id":20},"publishRequestid":{"type":"int32","id":21},"p2pid":{"type":"int32","id":22},"screenshare":{"type":"bool","id":23}}},"FirstFrame":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"extend":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"width":{"type":"int64","id":13},"height":{"type":"int64","id":14}}},"StreamSwitch":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"isDual":{"type":"bool","id":11}}},"AudioSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"VideoSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"RequestProxyAppCenter":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"APAddr":{"type":"string","id":11},"workerManagerList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"extend":{"type":"string","id":15},"response":{"type":"string","id":16}}},"RequestProxyWorkerManager":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"workerManagerAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"extend":{"type":"string","id":14},"response":{"type":"string","id":15}}},"ApiInvoke":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"apiName":{"type":"string","id":9},"errorCode":{"type":"string","id":10},"options":{"type":"string","id":11},"execElapse":{"type":"int64","id":12},"execStates":{"type":"string","id":13},"execResult":{"type":"string","id":14},"invokeId":{"type":"int64","id":15}}},"ReqUserAccount":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"serverAddress":{"type":"string","id":10},"stringUid":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"extend":{"type":"string","id":13}}},"FirstVideoReceived":{"fields":{"lts":{"type":"int64","id":1},"peer":{"type":"int64","id":2},"elapse":{"type":"int64","id":3},"sid":{"type":"string","id":4},"cname":{"type":"string","id":5},"cid":{"type":"int64","id":6},"uid":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstAudioReceived":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstVideoDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"videowidth":{"type":"int32","id":9},"videoheight":{"type":"int32","id":10},"subscribeRequestid":{"type":"int32","id":11},"p2pid":{"type":"int32","id":12},"subscribeElapse":{"type":"int64","id":13}}},"FirstAudioDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"OnAddAudioStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnAddVideoStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnRemoveStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnUpdateStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"audio":{"type":"bool","id":8},"video":{"type":"bool","id":9}}},"JoinChannelTimeout":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"timeout":{"type":"int32","id":7}}},"PeerPublishStatus":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"peer":{"type":"int64","id":6},"elapse":{"type":"int64","id":7},"peerPublishDuration":{"type":"int64","id":8},"joinChannelSuccessElapse":{"type":"int64","id":9},"subscribeElapse":{"type":"int64","id":10},"audiotag":{"type":"int32","id":11},"videotag":{"type":"int32","id":12},"screensharetag":{"type":"int32","id":13},"firsttimetag":{"type":"int32","id":14}}},"WebSocketQuit":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"succ":{"type":"int32","id":7},"errorCode":{"type":"string","id":8},"ip":{"type":"string","id":9}}},"Message":{"fields":{"id":{"type":"int64","id":1},"msg":{"type":"bytes","id":2}}},"ProtoRaws":{"fields":{"sendTs":{"type":"int64","id":1},"payloads":{"rule":"repeated","type":"Message","id":2},"vid":{"type":"int32","id":3}}},"APWorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"ec":{"type":"int32","id":10},"sc":{"type":"int32","id":11},"serverIp":{"type":"string","id":12},"firstSuccess":{"type":"bool","id":13},"responseTime":{"type":"int32","id":14},"serviceName":{"type":"string","id":15},"responseDetail":{"type":"string","id":16}}},"WorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"command":{"type":"string","id":10},"actionType":{"type":"string","id":11},"url":{"type":"string","id":12},"payload":{"type":"string","id":13},"serverCode":{"type":"int32","id":14},"code":{"type":"int32","id":15},"traceId":{"type":"string","id":16},"workerType":{"type":"int32","id":17},"responseTime":{"type":"int32","id":18},"requestId":{"type":"int64","id":19},"packIndex":{"type":"int32","id":20},"requestByUser":{"type":"bool","id":21},"tid":{"type":"string","id":22}}},"JoinWebProxyAP":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"sucess":{"type":"int32","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"apServerAddr":{"type":"string","id":10},"turnServerAddrList":{"type":"string","id":11},"errorCode":{"type":"string","id":12}}}}}}}')},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function u(){}function l(){}function f(){}var p={};p[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==t&&n.call(m,i)&&(p=m);var h=f.prototype=u.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var d=c(e[i],e,o);if("throw"!==d.type){var u=d.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(d.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return l.prototype=h.constructor=f,f.constructor=l,f[a]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(h),h[a]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;y(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof window&&window.RTCPeerConnection,i="object"==typeof window&&window.webkitRTCPeerConnection,o="object"==typeof window&&window.mozRTCPeerConnection;t.createRTCPeerConnection=function(e){var t=r||i||o;return t?new t(e):null}},function(e,t,n){var r;
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function i(){}var o=i.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],t))&&i[r].splice(n,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=a,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){var r=n(35);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){(function(t){var r;e.exports=(r=r||function(e,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(74)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},c=s.lib={},d=c.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=d.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=d.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new u.init(t,e)}}),l=s.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},p=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},g=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},m=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,d=e.min(4*c,o);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(i,l);n=i.splice(0,c),r.sigBytes-=d}return new u.init(n,d)},clone:function(){var e=d.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(c.Hasher=m.extend({cfg:d.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)}).call(this,n(33))},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(76),c=n(27),d=n(95),u=n(20),l=n(24),f=n(31),p=a(n(0)),g=a(n(37)),m=function(){function e(e){this.retryTimeout=1e4,this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.taskMutex=new d.PromiseMutex("LS"),this.cancelToken=g.default.CancelToken.source(),this.injectConfig=r({},c.DEFAULT_INJECT_CONFIG),this.injectLoopTimes=0,this.lastTaskId=1,this.statusError=new Map,this.spec=e}return Object.defineProperty(e.prototype,"isNeedReset",{get:function(){for(var e=this,t=0,n=Array.from(this.streamingTasks.values());t<n.length;t++){var r=n[t];if(r.mode===c.LiveStreamingServiceMode.INJECT)return!0;if(r.mode===c.LiveStreamingServiceMode.TRANSCODE)if((this.transcodingConfig&&(this.transcodingConfig.userConfigs||this.transcodingConfig.transcodingUsers)||[]).find((function(t){return t.uid===e.spec.uid})))return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.setTranscodingConfig=function(e){return i(this,void 0,void 0,(function(){var t,n,i,a,s,d=this;return o(this,(function(o){switch(o.label){case 0:(t=r(r({},c.DEFAULT_TRANSCODING_CONFIG),e)).transcodingUsers||(t.transcodingUsers=t.userConfigs),66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(p.default.debug("["+this.spec.clientId+"] set transcoding config, fix video codec profile: "+t.videoCodecProfile+" -> 100"),t.videoCodecProfile=100),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((function(e){return r(r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_USER),e),{zOrder:e.zOrder?e.zOrder+1:1})}))),t.images&&(t.images=t.images.map((function(e){return r(r({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK),e)})));try{c.isLiveStreamingTranscodingConfig(t)}catch(e){throw e}return t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((function(e){return r({},e)})),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers),n=(t.userConfigs||[]).map((function(e){return"number"==typeof e.uid?Promise.resolve(e.uid):u.getUserAccount(d.spec,null,e.uid)})),[4,this.taskMutex.lock()];case 1:return i=o.sent(),[4,Promise.all(n)];case 2:if(o.sent().forEach((function(e,n){t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e&&e.uid||e)})),this.transcodingConfig=t,!this.connection)return i(),[2];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(this.streamingTasks.values()).map((function(e){return e.taskId})).join("#")})];case 4:return a=o.sent(),i(),p.default.debug("["+this.spec.clientId+"] update live transcoding config success, code: "+a.code+", config:",JSON.stringify(this.transcodingConfig)),[3,6];case 5:if(s=o.sent(),i(),!s.data||!s.data.retry)throw s;return s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((function(e){p.default.warning("["+d.spec.clientId+"] live streaming receive error",s.toString(),"try to republish",e.url),d.startLiveStreamingTask(e.url,e.mode,s).then((function(){p.default.debug("["+d.spec.clientId+"] live streaming republish "+e.url+" success")})).catch((function(t){p.default.error("["+d.spec.clientId+"] live streaming republish failed",e.url,t.toString()),d.onLiveStreamError&&d.onLiveStreamError(e.url,t)}))})),[3,6];case 6:return[2]}}))}))},e.prototype.setInjectStreamConfig=function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t},e.prototype.startLiveStreamingTask=function(e,t,n){return i(this,void 0,void 0,(function(){var i,a,s,d,u,g,m,h,v=this;return o(this,(function(o){switch(o.label){case 0:return Array.from(this.streamingTasks.values()).find((function(e){return e.mode===c.LiveStreamingServiceMode.INJECT}))&&t===c.LiveStreamingServiceMode.INJECT?[2,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw()]:(i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:30},p.default.debug("["+this.spec.clientId+"] start live streaming "+e+", mode: "+t),[4,this.taskMutex.lock()]);case 1:if(a=o.sent(),!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");if(!this.connection&&n)return a(),[2];if(this.streamingTasks.get(e)&&!n)return a(),[2,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw()];if(!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");o.label=2;case 2:return o.trys.push([2,5,,6]),this.connection?[3,4]:(s=this,[4,this.connect(t)]);case 3:s.connection=o.sent(),o.label=4;case 4:return[3,6];case 5:throw d=o.sent(),a(),d;case 6:switch(t){case c.LiveStreamingServiceMode.TRANSCODE:i.transcodingConfig=r({},this.transcodingConfig);break;case c.LiveStreamingServiceMode.RAW:break;case c.LiveStreamingServiceMode.INJECT:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,u=this.lastTaskId++,o.label=7;case 7:return o.trys.push([7,9,,14]),g=new Promise((function(t,r){f.wait(v.retryTimeout).then((function(){if(n)return r(n);var t=v.statusError.get(e);return t?(v.statusError.delete(e),r(t)):void 0}))})),[4,Promise.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!n,tid:u.toString()}),g])];case 8:return m=o.sent(),this.isStartingStreamingTask=!1,p.default.debug("["+this.spec.clientId+"] live streaming started, code: "+m.code),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:u}),a(),[3,14];case 9:if(h=o.sent(),a(),this.isStartingStreamingTask=!1,!h.data||!h.data.retry||n)throw h;return h.data.changeAddress?[3,11]:[4,this.startLiveStreamingTask(e,t,h)];case 10:return[2,o.sent()];case 11:return this.connection.tryNextAddress(),[4,this.startLiveStreamingTask(e,t,h)];case 12:return[2,o.sent()];case 13:return[3,14];case 14:return[2]}}))}))},e.prototype.stopLiveStreamingTask=function(e){var t=this;return new Promise((function(n,r){var i=t.streamingTasks.get(e);if(!i||!t.connection)return new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var o=i.mode;i.abortTask=function(){p.default.debug("["+t.spec.clientId+"] stop live streaming success(worker exception)"),t.streamingTasks.delete(e),n()},p.default.debug("stop live streaming task request: "+JSON.stringify(e)),t.connection.request("request",{clientRequest:{command:o===c.LiveStreamingServiceMode.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:o===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(r){p.default.debug("["+t.spec.clientId+"] stop live streaming success, code: "+r.code),t.streamingTasks.delete(e),0===t.streamingTasks.size&&o!==c.LiveStreamingServiceMode.INJECT&&(t.connection.close(),t.connection=void 0),n()})).catch(r)}))},e.prototype.controlInjectStream=function(e,t,n,r){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:if(!(i=this.streamingTasks.get(e))||!this.connection||i.mode!==c.LiveStreamingServiceMode.INJECT)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.INVALID_OPERATION,"can not find inject stream task to control");return[4,this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})];case 1:return[2,o.sent().serverResponse]}}))}))},e.prototype.resetAllTask=function(){var e=this,t=Array.from(this.streamingTasks.values());this.terminate();for(var n=function(t){r.startLiveStreamingTask(t.url,t.mode).catch((function(n){e.onLiveStreamError&&e.onLiveStreamError(t.url,n)}))},r=this,i=0,o=t;i<o.length;i++){n(o[i])}},e.prototype.setGatewayConnectionState=function(e){this.connection&&(this.connection.gatewayConnectionState=e)},e.prototype.terminate=function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=g.default.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0},e.prototype.connect=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){switch(r.label){case 0:if(this.connection)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"live streaming connection has already connected");return[4,f.getLiveStreamingWorkerMangerResult(e,this.spec,this.cancelToken.token)];case 1:return t=r.sent(),this.uapResponse=t,this.connection=new s.AgoraLiveStreamingUapSignal(t.workerToken,this.spec,e),this.connection.on(c.LiveStreamingUapSignalEvents.WARNING,(function(e,t){return n.onLiveStreamWarning&&n.onLiveStreamWarning(t,e)})),this.connection.on(c.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,(function(e){return n.handlePublishStreamServer(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,(function(e){return n.handleInjectStreamServerStatus(e)})),this.connection.on(c.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS,(function(t,r){if(!n.connection)return r(new l.AgoraRTCError(l.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not get new live streaming address list"));f.getLiveStreamingWorkerMangerResult(e,n.spec,n.cancelToken.token).then((function(e){n.uapResponse=e,t(e.addressList)})).catch(r)})),[4,this.connection.init(t.addressList)];case 2:return r.sent(),[2,this.connection]}}))}))},e.prototype.handlePublishStreamServer=function(e){var t=this,n=e.serverStatus&&e.serverStatus.url;if(!n)throw new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"empty url",{code:e.code});var r=this.streamingTasks.get(n);switch(e.code){case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var i=new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(r)return p.default.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,i);if(!this.isStartingStreamingTask)return;this.statusError.set(n,i);case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(!this.connection||0===this.streamingTasks.size)return;this.connection.tryNextAddress();for(var o=Array.from(this.streamingTasks.values()),a=function(n){if(n.abortTask)return n.abortTask(),"continue";p.default.warning("["+s.spec.clientId+"] publish stream status code",e.code,"try to republish",n.url),s.startLiveStreamingTask(n.url,n.mode,new l.AgoraRTCError(l.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){p.default.debug("["+t.spec.clientId+"] republish live stream success",n.url)})).catch((function(e){p.default.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)}))},s=this,d=0,u=o;d<u.length;d++){a(u[d])}return}},e.prototype.handleInjectStreamServerStatus=function(e){var t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(0,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(1,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(2,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(10,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(3,t,n),void this.streamingTasks.delete(n);default:return void p.default.debug("inject stream server status",e)}},e.prototype.haveUrl=function(e){return this.streamingTasks.has(e)||void 0},e}();t.AgoraRTCLiveStreamingClient=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(27),u=n(77),l=n(36),f=n(24),p=n(2),g=c(n(0)),m=n(1),h=n(31),v=function(e){function t(t,n,r){var i=e.call(this)||this;return i._gatewayConnectionState="CONNECTED",i.reconnectMode="retry",i.reqId=0,i.commandReqId=0,i.waitingResponseList=[],i.handleWebSocketOpen=function(){i.reconnectMode="retry",i.startPingPong()},i.handleWebSocketMessage=function(e){if(e.data){var t=JSON.parse(e.data);if(t.requestId)i.emit("@"+t.requestId,t);else if(i.serviceMode===d.LiveStreamingServiceMode.INJECT)i.emit(d.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,t);else{m.report.requestWorkerEvent(i.spec.sid,{actionType:"status",serverCode:t.code,workerType:i.serviceMode===d.LiveStreamingServiceMode.TRANSCODE?1:2});var n=t.serverStatus&&t.serverStatus.url;n&&i.waitingResponseList.includes(n)&&200===t.code&&i.emit(n),i.emit(d.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,t)}}},i.spec=n,i.token=t,i.serviceMode=r,i.websocket=new u.AgoraWebSocketManager("live-streaming"),i.websocket.on(d.WebSocketManagerEvents.CONNECTED,i.handleWebSocketOpen),i.websocket.on(d.WebSocketManagerEvents.ON_MESSAGE,i.handleWebSocketMessage),i.websocket.on(d.WebSocketManagerEvents.REQUEST_NEW_URLS,(function(e,t){l.emitAsPromise(i,d.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS).then(e).catch(t)})),i.websocket.on(d.WebSocketManagerEvents.RECONNECTING,(function(){i.websocket.reconnectMode=i.reconnectMode})),i}return i(t,e),Object.defineProperty(t.prototype,"gatewayConnectionState",{get:function(){return this._gatewayConnectionState},set:function(e){this._gatewayConnectionState=e,"CONNECTED"===e&&this.emit("gateway-connected",e)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){return this.websocket.init(e)},t.prototype.request=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,a,c,u,l,g,v,E,S,_,y=this;return s(this,(function(s){switch(s.label){case 0:if(this.reqId+=1,i=this.reqId,"request"===e&&(this.commandReqId+=1),a=this.commandReqId,!i||!this.websocket)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_ERROR);if(c=p.VERSION,"closed"===this.websocket.state)throw new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_DISCONNECT);return u=function(){return new Promise((function(e,t){var n=function(){"CONNECTED"===y.gatewayConnectionState&&"connected"===y.websocket.state&&(y.off("gateway-connected",n),y.websocket.off(d.WebSocketManagerEvents.CONNECTED,n),e(void 0))};y.on("gateway-connected",n),y.websocket.once(d.WebSocketManagerEvents.CLOSED,(function(){return t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))})),y.websocket.on(d.WebSocketManagerEvents.CONNECTED,n)}))},"connected"===this.websocket.state&&"CONNECTED"===this.gatewayConnectionState?[3,2]:[4,u()];case 1:s.sent(),s.label=2;case 2:l=Promise.race([new Promise((function(e,t){var n=function(){t(new f.AgoraRTCError(f.AgoraRTCErrorCode.WS_ABORT))};y.websocket.once(d.WebSocketManagerEvents.RECONNECTING,n),y.websocket.once(d.WebSocketManagerEvents.CLOSED,n),y.once("@"+i,(function(t){e(t)}))})),h.wait(p.getParameter("LIVE_STREAMING_TIMEOUT")).then((function(){return!1}))]),(g=o({command:e,sdkVersion:c,seq:i,requestId:i,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t)).clientRequest&&(g.clientRequest.workerToken=this.token),r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0})),v=Date.now(),this.websocket.sendMessage(g),E=null,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,l];case 4:return E=s.sent(),[3,8];case 5:if(S=s.sent(),"closed"===this.websocket.state)throw S;return[4,u()];case 6:return s.sent(),[4,this.request(e,t,n,r)];case 7:return[2,s.sent()];case 8:if(!1===E)throw _=new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_TIMEOUT,(t&&t.clientRequest&&t.clientRequest.command)+" timeout",{changeAddress:!0,retry:!0}),this.emit(d.LiveStreamingUapSignalEvents.WARNING,_,r&&r.url||"unknown url"),r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"response",payload:"TIMEOUT",serverCode:0,success:0,responseTime:Date.now()-v})),_;return r&&m.report.requestWorkerEvent(this.spec.sid,o(o({},r),{requestId:a,actionType:"response",payload:JSON.stringify(E.serverResponse),serverCode:E.code,success:200===E.code,responseTime:Date.now()-v})),200===E.code?[3,10]:[4,this.handleResponseError(E)];case 9:s.sent(),s.label=10;case 10:return[2,E]}}))}))},t.prototype.tryNextAddress=function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")},t.prototype.close=function(){var e="__VERSION__"===p.VERSION?"0.0.1":p.VERSION;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)},t.prototype.handleResponseError=function(e){return a(this,void 0,void 0,(function(){var t,n,r,i,o=this;return s(this,(function(a){switch(g.default.debug("[live-streaming] receive response error "+e.code),e.code){case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return g.default.warning("live stream response already exists stream"),t=e.serverResponse.url,this.emit(d.LiveStreamingUapSignalEvents.WARNING,"live stream response already exists stream, code 454",t),this.waitingResponseList.includes(t)||this.waitingResponseList.push(t),[2,new Promise((function(n,r){o.once(t,(function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(t),1),n()})),setTimeout((function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(t),1),r(new f.AgoraRTCError(f.AgoraRTCErrorCode.TIMEOUT,"live stream timeout waiting 454",{code:e.code}))}),1e4)}))];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_BAD_STREAM:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INGNORE_MESSAGE:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return n=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),[2,this.emit(d.LiveStreamingUapSignalEvents.WARNING,n,e.serverResponse.url)];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw()];case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case d.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return[2];if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return[2,new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw()];throw new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case d.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return r=e.serverResponse.url,this.waitingResponseList.includes(r)||this.waitingResponseList.push(r),i=new f.AgoraRTCError(f.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}),this.emit(d.LiveStreamingUapSignalEvents.WARNING,i,r),[2,new Promise((function(e,t){o.once(r,(function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(r),1),e()})),setTimeout((function(){o.waitingResponseList.splice(o.waitingResponseList.indexOf(r),1),t(i)}),1e4)}))]}return[2]}))}))},t.prototype.startPingPong=function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch((function(){}))}),6e3)},t}(l.EventEmitter);t.AgoraLiveStreamingUapSignal=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(24),d=n(36),u=n(31),l=n(27),f=s(n(0)),p=function(e){function t(t){var n=e.call(this)||this;return n.connectionID=0,n.currentURLIndex=0,n.reconnectMode="tryNext",n._state="closed",n.retryConfig=u.DEFAULT_RETRY_CONFIG,n.reconnectCount=0,n.name=t,n}return i(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this.websocket?this.websocket.url:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(l.WebSocketManagerEvents.RECONNECTING,this.reconnectMode):"connected"===this._state?this.emit(l.WebSocketManagerEvents.CONNECTED):"closed"===this._state?this.emit(l.WebSocketManagerEvents.CLOSED):"failed"===this._state&&this.emit(l.WebSocketManagerEvents.FAILED))},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;return new Promise((function(n,r){t.urls=e;var i=t.urls[t.currentURLIndex];t.state="connecting",t.createWebSocketConnection(i).then(n).catch(r),t.once(l.WebSocketManagerEvents.CLOSED,(function(){return r(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT))})),t.once(l.WebSocketManagerEvents.CONNECTED,(function(){return n()}))}))},t.prototype.close=function(e,t){if(this.currentURLIndex=0,this.reconnectCount=0,this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var n=this.websocket;t?setTimeout((function(){return n.close()}),500):n.close(),this.websocket=void 0}this.state=e?"failed":"closed"},t.prototype.reconnect=function(e){if(this.websocket){void 0!==e&&(this.reconnectMode=e);var t=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),t&&t.bind(this.websocket)({code:9999})}else f.default.warning("["+this.name+"] can not reconnect, no websocket")},t.prototype.sendMessage=function(e){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ABORT,"websocket is not ready");var t=JSON.stringify(e);try{this.websocket.send(t)}catch(e){throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"send websocket message error"+e.toString())}},t.prototype.createWebSocketConnection=function(e){return o(this,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){return this.connectionID+=1,t=this.connectionID,[2,new Promise((function(r,i){n.websocket&&(n.websocket.onclose=null,n.websocket.close()),f.default.debug("["+n.name+"] start connect, url: "+e);try{n.websocket=new WebSocket(e),n.websocket.binaryType="arraybuffer"}catch(e){var s=new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"init websocket failed! Error: "+e.toString());return f.default.error("["+n.name+"]"+s),void i(s)}u.wait(5e3).then((function(){t===n.connectionID&&n.websocket&&n.websocket.readyState!==WebSocket.OPEN&&n.websocket&&n.websocket.close()})),n.websocket.onopen=function(){f.default.debug("["+n.name+"] websockect opened:",e),n.reconnectMode="retry",n.state="connected",n.reconnectCount=0,r()},n.websocket.onclose=function(e){return o(n,void 0,void 0,(function(){var t,n;return a(this,(function(o){switch(o.label){case 0:return f.default.debug("["+this.name+"] websocket close "+(this.websocket&&this.websocket.url)+", code: "+e.code+", reason: "+e.reason+", current mode: "+this.reconnectMode),this.reconnectCount<this.retryConfig.maxRetryCount?("connected"===this.state&&(this.state="reconnecting"),t=d.emitAsInvokerNoResponse(this,l.WebSocketManagerEvents.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,[4,this.reconnectWithAction(t)]):[3,2];case 1:return n=o.sent(),"closed"===this.state?(f.default.debug("["+this.connectionID+"] ws is closed, no need to reconnect"),[2]):n?(r(),[3,3]):(i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket reconnect failed: "+e.code)),this.close(!0),[2]);case 2:i(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket close: "+e.code)),this.close(),o.label=3;case 3:return[2]}}))}))},n.websocket.onmessage=function(e){n.emit(l.WebSocketManagerEvents.ON_MESSAGE,e)}}))]}))}))},t.prototype.reconnectWithAction=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return!t&&this.reconnectCount>=this.retryConfig.maxRetryCount?[2,!1]:this.urls?"closed"===this.state?[2,!1]:(n=u.getRetryWaitTime(this.reconnectCount,this.retryConfig),f.default.debug("["+this.name+"] wait "+n+"ms to reconnect websocket, mode: "+e),[4,u.wait(n)]):[2,!1];case 1:if(a.sent(),"closed"===this.state)return[2,!1];this.reconnectCount+=1,a.label=2;case 2:return a.trys.push([2,12,,14]),"retry"!==e?[3,4]:(i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)]);case 3:return a.sent(),[3,11];case 4:return"tryNext"!==e?[3,8]:(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length?[4,this.reconnectWithAction("recover")]:[3,6]);case 5:return[2,a.sent()];case 6:return f.default.debug("["+this.name+"] websocket url length: "+this.urls.length+" current index: "+this.currentURLIndex),i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 7:return a.sent(),[3,11];case 8:return"recover"!==e?[3,11]:(f.default.debug("["+this.name+"] request new urls"),r=this,[4,d.emitAsPromise(this,l.WebSocketManagerEvents.REQUEST_NEW_URLS)]);case 9:return r.urls=a.sent(),this.currentURLIndex=0,i=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(i)];case 10:a.sent(),a.label=11;case 11:return[2,!0];case 12:return o=a.sent(),f.default.error("["+this.name+"] reconnect failed",o.toString()),[4,this.reconnectWithAction(e)];case 13:return[2,a.sent()];case 14:return[2]}}))}))},t}(d.EventEmitter);t.AgoraWebSocketManager=p},function(e,t,n){"use strict";var r=n(18),i=n(38),o=n(79),a=n(44);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(41));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(45),c.CancelToken=n(93),c.isCancel=n(40),c.all=function(e){return Promise.all(e)},c.spread=n(94),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(18),i=n(39),o=n(80),a=n(81),s=n(44);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(18);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(18),i=n(82),o=n(40),a=n(41);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,d=[],u=!1,l=-1;function f(){u&&c&&(u=!1,c.length?d=c.concat(d):l=-1,d.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=d.length;t;){for(c=d,d=[];++l<t;)c&&c[l].run();l=-1,t=d.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(88),i=n(89);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(45);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=1,a=function(){function e(e){this.lockingPromise=Promise.resolve(),this.locks=0,this.name="",this.lockId=o++,e&&(this.name=e),i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is created.")}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.locks>0},enumerable:!0,configurable:!0}),e.prototype.lock=function(){var e,t=this;this.locks+=1,i.default.debug("[lock-"+this.name+"-"+this.lockId+"] is locked, current queue "+this.locks+".");var n=new Promise((function(n){e=function(){t.locks-=1,i.default.debug("[lock-"+t.name+"-"+t.lockId+"] is not locked, current queue "+t.locks+"."),n()}})),r=this.lockingPromise.then((function(){return e}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r},e}();t.PromiseMutex=a},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(0),o=n(1),a=n(8),s=n(5),c=function(){};c.prototype.set=function(e,t){["BatteryLevel"].indexOf(e)>-1&&(this[e]=t)};var d=new function(){var e=Object(a.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.batteryManager=null,e._init=function(t,n){e.state=e.states.INITING,navigator.getBattery?navigator.getBattery().then((function(n){e.batteryManager=n,t&&setTimeout((function(){t()}),0)})).catch((function(e){i.default.debug("navigator.getBattery is disabled",e),t&&t()})):(e.state=e.states.INITED,t&&t())},e._getBatteryStats=function(){var t={};return e.batteryManager&&e.batteryManager.level?t.BatteryLevel=Math.floor(100*e.batteryManager.level):t.BatteryLevel="UNSUPPORTED",t},e.getStats=function(t,n){var r=new c,i=e._getBatteryStats();i&&i.BatteryLevel&&r.set("BatteryLevel",i.BatteryLevel),t&&t(r)},e._init(),e},u=n(22),l=n(19),f=n(26),p=n(53),g=n(9),m=["live","rtc","web","interop","h264_interop","web-only"],h=["vp8","vp9","h264"],v=["aes-128-gcm","aes-256-gcm","aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-256-gcm2","aes-128-gcm2"],E=n(11),S=n.n(E),_=n(7),y=n.n(_),R=n(13),T=n(4),I=n(10),b=n(20),A=n(6),O=n(14),C={1001:"FRAMERATE_INPUT_TOO_LOW",1002:"FRAMERATE_SENT_TOO_LOW",1003:"SEND_VIDEO_BITRATE_TOO_LOW",1005:"RECV_VIDEO_DECODE_FAILED",2001:"AUDIO_INPUT_LEVEL_TOO_LOW",2002:"AUDIO_OUTPUT_LEVEL_TOO_LOW",2003:"SEND_AUDIO_BITRATE_TOO_LOW",2005:"RECV_AUDIO_DECODE_FAILED",3001:"FRAMERATE_INPUT_TOO_LOW_RECOVER",3002:"FRAMERATE_SENT_TOO_LOW_RECOVER",3003:"SEND_VIDEO_BITRATE_TOO_LOW_RECOVER",3005:"RECV_VIDEO_DECODE_FAILED_RECOVER",4001:"AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",4002:"AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",4003:"SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",4005:"RECV_AUDIO_DECODE_FAILED_RECOVER"},N={FramerateInput:1001,FramerateSent:1002,SendVideoBitrate:1003,VideoDecode:1005,AudioIntputLevel:2001,AudioOutputLevel:2002,SendAudioBitrate:2003,AudioDecode:2005},w=function(e){var t={remoteStreamStorage:{},localStreamStorage:{}};return t.gatewayClient=e,t.checkAudioOutputLevel=function(e){return!(e&&parseInt(e.audioRecvBytesDelta)>0&&parseInt(e.audioDecodingNormalDelta)>0&&0===parseInt(e.audioOutputLevel))},t.checkAudioIntputLevel=function(e){return!e||0!==parseInt(e.audioInputLevel)},t.checkFramerateInput=function(e,t){if(!e||!t.attributes)return!0;var n=parseInt(t.attributes.maxFrameRate),r=parseInt(e.googFrameRateInput);return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)},t.checkFramerateSent=function(e){return!(e&&parseInt(e.googFrameRateInput)>5&&parseInt(e.googFrameRateSent)<=1)},t.checkSendVideoBitrate=function(e){return!e||0!==parseInt(e.videoSendBytesDelta)},t.checkSendAudioBitrate=function(e){return!e||0!==parseInt(e.audioSendBytesDelta)},t.checkVideoDecode=function(e){return!e||0===parseInt(e.videoRecvBytesDelta)||0!==parseInt(e.googFrameRateDecoded)},t.checkAudioDecode=function(e){return!e||0===parseInt(e.audioRecvBytesDelta)||0!==parseInt(e.audioDecodingNormalDelta)},t.record=function(e,n,r,i,o){r[e]||(r[e]={isPrevNormal:!0,record:[]});var a=r[e],s=t["check"+e](n,o);if(a.record.push(s),a.record.length>=5){a.isCurNormal=-1!==a.record.indexOf(!0);var c=N[e];a.isPrevNormal&&!a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c,msg:C[c],uid:i}),!a.isPrevNormal&&a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c+2e3,msg:C[c+2e3],uid:i}),a.isPrevNormal=a.isCurNormal,a.record=[]}},t.setLocalStats=function(e){var n={};Object.keys(e).map((function(r){var i=e[r],o=t.gatewayClient.localStreams[parseInt(r)],a=t.localStreamStorage[r]||{};o&&o.hasVideo()&&(t.record("SendVideoBitrate",i.videoStats,a,r),t.record("FramerateInput",i.videoStats,a,r,o),t.record("FramerateSent",i.videoStats,a,r)),o&&o.hasAudio()&&(t.record("AudioIntputLevel",i.audioStats,a,r),t.record("SendAudioBitrate",i.audioStats,a,r)),n[r]=a})),t.localStreamStorage=n},t.setRemoteStats=function(n){var r={};Object.keys(n).map((function(i){var o=n[i],a=e.remoteStreams[i],s=t.remoteStreamStorage[i]||{};a&&a.hasVideo()&&a.isPlaying()&&t.record("VideoDecode",o.videoStats,s,i),a&&a.hasAudio()&&a.isPlaying()&&(t.record("AudioOutputLevel",o.audioStats,s,i),t.record("AudioDecode",o.audioStats,s,i)),r[i]=s})),t.remoteStreamStorage=r},t};function L(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k,M=n(3),P=new function(){var e=Object(a.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.type=null,e.lastConnectedAt=null,e.lastDisconnectedAt=null,e.lastTypeChangedAt=null,e.networkChangeTimer=null,e._init=function(t,n){if(e.state=e.states.INITING,navigator.connection&&navigator.connection.addEventListener){var r=e._getNetworkInfo();e.type=r&&r.type,e.state=e.states.INITED,t&&t()}else e.state=e.states.UNINIT,n&&n("DO_NOT_SUPPORT")},e._getNetworkInfo=function(){return navigator.connection},e._reloadNetworkInfo=function(){var t=e._getNetworkInfo(),n=t&&t.type||"UNSUPPORTED",r=Date.now();if(n!==e.type){e.lastTypeChangedAt=r,"none"==n?e.lastDisconnectedAt=r:"none"==e.type&&(e.lastConnectedAt=r),e.type=n;var i={type:"networkTypeChanged",networkType:n};e.dispatchEvent(i)}},e.getStats=function(t,n){var r={},i=e._getNetworkInfo();i&&(r.NetworkType=i.type||"UNSUPPORTED"),setTimeout((function(){t(r)}),0)},e._init((function(){navigator.connection.addEventListener("change",(function(){e._reloadNetworkInfo()})),e.networkChangeTimer=setInterval((function(){e._reloadNetworkInfo()}),5e3)}),(function(e){})),e},x=n(55),U=n(16),j=n(56),V=n.n(j),B=n(21),F=function(){return"HTTPS"===(k||k||(k=(window.location.protocol.split(":")[0]||"").toUpperCase()))},W=function(){return void 0!==window.isSecureContext},G="host",H=function(e){var t={key:void 0,highStream:null,lowStream:null,lowStreamParameter:null,isDualStream:!1,highStreamState:2,lowStreamState:2,proxyServer:null,turnServers:[],useProxyServer:!1,useLocalAccessPoint:!1};t.mode=e.mode,t.codec=e.codec,t.clientId=Object(I.generateSessionId)().slice(0,5),t.uintUid=null,t.customReportCount=0;e=y()({},e);if(t.aespassword=null,t.aesmode="none",t.hasPublished=!1,t.getSessionId=function(){return e.sessionId},t.startChannelMediaRelay=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.startChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof g.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var a=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(M.isEmpty)(a))throw"srcChannelMediaInfo should not be empty";if(Object(M.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(a.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(M.isValidChannelName)(a.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(a.token&&!Object(M.isValidToken)(a.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(M.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(M.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==R.a.CONNECTED)throw"startChannelMediaRelay should be used after join";t.gatewayClient.startChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.updateChannelMediaRelay=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.updateChannelMediaRelay",options:arguments,tag:"tracer"});if(!(n instanceof g.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var a=n.getSrcChannelMediaInfo(),s=n.getDestChannelMediaInfos();if(Object(M.isEmpty)(a))throw"srcChannelMediaInfo should not be empty";if(Object(M.isEmpty)(s)||0===s.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(a.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(M.isValidChannelName)(a.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(a.token&&!Object(M.isValidToken)(a.token))throw"Invalid token in srcChannelMediaInfo";if(s.forEach((function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(M.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(M.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"})),t.gatewayClient.state!==R.a.CONNECTED)throw"updateChannelMediaRelay should be used after join";t.gatewayClient.updateChannelMediaRelay(n).then((function(){i&&i()})).catch((function(e){i&&i(e)}))},t.stopChannelMediaRelay=function(n){var r=o.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return n&&n(e);n&&n()},name:"Client.stopChannelMediaRelay",options:arguments,tag:"tracer"});t.gatewayClient.stopChannelMediaRelay().then((function(){r&&r()})).catch((function(e){r&&r(e)}))},t.getConnectionState=function(){var n=o.report.reportApiInvoke(e.sessionId,{name:"Client.getConnectionState",options:arguments,tag:"tracer"}),r=R.a.connetionStateMap[t.gatewayClient.state];return n(),r},t.setClientRole=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:r,name:"Client.setClientRole",options:arguments,tag:"tracer"});if(Object(M.checkValidEnum)(n,"setClientRole",[G,"audience"]),"rtc"===t.mode){var s="RTC mode can not use setClientRole";return i.default.warning("[".concat(t.clientId,"] ").concat(s)),a&&a(s)}t.gatewayClient&&t.gatewayClient.state===R.a.CONNECTED?("audience"===n&&(0===this.highStreamState?this._unpublish(this.highStream,(function(){a&&a(null,{role:n})}),(function(e){a&&a(e)})):t.gatewayClient.setClientRole("audience",a)),n===G&&t.gatewayClient.setClientRole(G,a)):(t.gatewayClient.role=n,a&&a(null,{role:n}))},t.getGatewayInfo=function(e){if(t.gatewayClient.state!==R.a.CONNECTED){var n="Client is not in connected state";return i.default.error("[".concat(t.clientId,"] ").concat(n)),void e(n)}t.gatewayClient.getGatewayInfo((function(t){e(null,t)}),e)},t.renewToken=function(n,r,a){var s=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return i.default.error("Failed to renew token ".concat(e),t),a&&a(e);r&&r(t)},name:"Client.renewToken",options:arguments,tag:"tracer"});if(!Object(M.isValidToken)(n))throw new Error("Invalid token: Token is of the string type .Length of the string: [1,255]. ASCII characters only.");return t.gatewayClient?t.key?(t.key=n,void t.gatewayClient.renewToken(n,(function(e){return s(null,e)}),s)):(i.default.error("[".concat(t.clientId,"] renewToken should not be called before user join")),s(T.default.INVALID_OPERATION)):(i.default.error("[".concat(t.clientId,"] renewToken Failed. GatewayClient not Exist")),s(T.default.INVALID_OPERATION))},t.setLowStreamParameter=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setLowStreamParameter",options:arguments,tag:"tracer"});Object(M.checkValidObject)(n,"param");var a=n.width,s=n.height,c=n.framerate,d=n.bitrate;Object(M.isEmpty)(a)||Object(M.checkValidNumber)(a,"width"),Object(M.isEmpty)(s)||Object(M.checkValidNumber)(s,"height"),Object(M.isEmpty)(c)||Object(M.checkValidNumber)(c,"framerate"),Object(M.isEmpty)(d)||Object(M.checkValidNumber)(d,"bitrate",1,1e7),(!a&&s||a&&!s)&&i.default.warning("[".concat(t.clientId,"] The width and height parameters take effect only when both are set")),t.lowStreamParameter=n,r()},t.init=function(t,n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.init",options:arguments,tag:"tracer"});Object(M.checkValidString)(t),Object(s.isChromeKernel)()&&Object(s.getChromeKernelVersion)()<=48?r?i(T.default.BAD_ENVIRONMENT):Object(I.popBanTip)():(e.appId=t,e.sessionId=Object(I.generateSessionId)(),i())},t.setTurnServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setTurnServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Set turn server before join channel");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");n instanceof Array||(n=[n]);var a=[];n.map((function(e,n){Object(M.checkValidObject)(e,"turnServer");var r=e.turnServerURL,o=e.username,s=e.password,c=e.udpport,d=e.forceturn,u=e.tcpport;if(Object(M.checkValidString)(r,"turnServerURL"),Object(M.checkValidString)(o,"username"),Object(M.checkValidString)(s,"password"),Object(M.checkValidString)(c,"udpport"),0===parseInt(c))throw new Error("udpport should not be ".concat(c));Object(M.isEmpty)(d)||Object(M.checkValidBoolean)(d,"forceturn");var l={mode:"manual"};if(l.url=r,l.udpport=c,l.username=o,l.credential=s,l.forceturn=d||!1,!Object(M.isEmpty)(u)){if(Object(M.checkValidString)(u,"tcpport"),0===parseInt(u))throw new Error("tcpport should not be ".concat(u));l.tcpport=u,i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] tcpurl. ").concat(l.url,":").concat(l.tcpport))}i.default.info("[".concat(t.clientId,"] Set turnserver[").concat(n,"] udpurl. ").concat(l.url,":").concat(l.udpport,",username: ").concat(l.username)),a.push(l)})),t.turnServers=a,r()},t.setProxyServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Set proxy server before join channel");if(!n)throw new Error("Do not set the proxyServer parameter as empty");if(t.useProxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");Object(M.checkValidString)(n,"proxyServer"),t.proxyServer=n,o.report.setProxyServer(n),i.default.setProxyServer(n),r()},t.startProxyServer=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.startProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Start proxy server before join channel");if(t.proxyServer)throw new Error("You have already set the proxy");if(t.useLocalAccessPoint)throw new Error("You have already set the local proxy");t.useProxyServer=!0,t.proxyServerType=n||1,r()},t.stopProxyServer=function(){var n=o.report.reportApiInvoke(e.sessionId,{name:"Client.stopProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==R.a.DISCONNECTED)throw new Error("Stop proxy server after leave channel");o.report.setProxyServer(),i.default.setProxyServer(),t.turnServers=[],t.proxyServer=null,t.useProxyServer=!1,t.proxyServerType=null,n()},t.setEncryptionSecret=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionSecret",options:arguments,tag:"tracer"});Object(M.checkValidString)(n,"password");var i=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");i.test(n)||console.warn("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer,\n      "),t.aespassword=n,r()},t.setEncryptionMode=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionMode",options:arguments,tag:"tracer"});if(Object(M.checkValidString)(n,"encryptionMode"),-1===v.indexOf(n))throw new Error('Invalid encryptionMode: encryptionMode should be "aes-128-xts" | "aes-256-xts" | "aes-128-ecb" | "sm4-128-ecb" | "aes-128-gcm" | "aes-256-gcm" | "aes-128-gcm2" | "aes-256-gcm2"');var a=["aes-128-gcm2","aes-256-gcm2"];if(-1!==a.indexOf(n)){if(!r||!(r instanceof Uint8Array&&32===r.length))throw Error("salt must be an Uint8Array and exactly equal to 32 bytes")}else if(r)throw new Error("Only ".concat("aes-128-gcm2"," and ").concat("aes-256-gcm2"," support use salt"));r&&(t.aesSalt=Object(I.uint8ArrayToBase64)(r)),t.aesmode=n,i()},t.configPublisher=function(n){var r=o.report.reportApiInvoke(e.sessionId,{name:"Client.configPublisher",options:arguments,tag:"tracer"});Object(M.checkValidObject)(n,"config");var i=n.width,a=n.height,s=n.framerate,c=n.bitrate,d=n.publisherUrl;Object(M.checkValidNumber)(i,"width"),Object(M.checkValidNumber)(a,"height"),Object(M.checkValidNumber)(s,"framerate"),Object(M.checkValidNumber)(c,"bitrate",1,1e7),d&&Object(M.checkValidString)(d,"publisherUrl"),t.gatewayClient.configPublisher(n),r()},t.enableDualStream=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.enableDualStream",options:arguments,tag:"tracer"});return"iOS"===Object(s.getBrowserOS)()?(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),a(T.default.IOS_NOT_SUPPORT)):Object(s.isWeChatBrowser)()?(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),a(T.default.WECHAT_NOT_SUPPORT)):(o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!0}),t.isDualStream=!0,t.highStream&&(t.highStream.isDualStream=!0),void(0===t.highStreamState?t._publishLowStream((function(e){return a(null,e)}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),a(T.default.ENABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?a(T.default.STILL_ON_PUBLISHING):a(null)))},t.disableDualStream=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);n&&n(t)},name:"Client.disableDualStream",options:arguments,tag:"tracer"});o.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!1,succ:!0}),t.isDualStream=!1,t.highStream&&(t.highStream.isDualStream=!1),0===t.highStreamState?t._unpublishLowStream((function(){t.highStream.lowStream=null,a()}),(function(e){i.default.warning("[".concat(t.clientId,"]"),e),a(T.default.DISABLE_DUALSTREAM_FAILED)})):1===t.highStreamState?a(T.default.STILL_ON_PUBLISHING):a()},t._getLowStream=function(e,n){t.lowStream?e(t.lowStream):t._createLowStream((function(n){t.lowStream=n,e(t.lowStream)}),n)},t._createLowStream=function(e,n){if(t.highStream&&t.highStream.stream){var r=y()({},t.highStream.params);if(r.streamID+=1,r.audio=!1,r.video)if(t.highStream.stream.getVideoTracks()[0]){var i=new u.a(r);i.isLowStream=!0,i.streamId=t.highStream.getId()+1;var o={};t.lowStreamParameter&&(o=y()({},t.lowStreamParameter)),o.width&&o.height||(o.width=160,o.height=120),o.framerate=o.framerate||15,o.bitrate=o.bitrate||50,i.setVideoProfileCustomPlus(o);try{var a=V()(t.highStream,{width:i.videoConstraint.width.ideal,height:i.videoConstraint.height.ideal,framerate:i.videoConstraint.frameRate});return i.stream=a,t.highStream.lowStream=i,t.highStream.userMuteVideo&&i.muteVideo(),e&&e(i)}catch(e){return n&&n(e)}}else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE);else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else n&&n(T.default.HIGH_STREAM_NOT_VIDEO_TRACE)},t._publishLowStream=function(e,n){return 2!==t.lowStreamState?n&&n(T.default.LOW_STREAM_ALREADY_PUBLISHED):t.highStream&&t.highStream.hasScreen()?n&&n(T.default.SHARING_SCREEN_NOT_SUPPORT):void t._getLowStream((function(r){t.lowStreamState=1,t.gatewayClient.publish(r,{streamType:1},(function(){t.lowStreamState=0,e&&e()}),(function(e){1===t.lowStreamState&&(t.lowStreamState=2),i.default.debug("[".concat(t.clientId,"] publish low stream failed")),n&&n(e)}))}),n)},t._unpublishLowStream=function(e,n){if(0!==t.lowStreamState)return n&&n(T.default.LOW_STREAM_NOT_YET_PUBLISHED);t.lowStream&&(t.gatewayClient.unpublish(t.lowStream,{streamType:1},(function(){}),(function(e){i.default.debug("[".concat(t.clientId,"] unpublish low stream failed")),n&&n(e)})),t.lowStream.close(),t.lowStream=null,t.lowStreamState=2,e&&e())},t.join=function(n,r,a,s,c,d){s&&"function"==typeof s&&(d=c,c=s,s=null);var u=F(),l="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser",f=W()?window.isSecureContext:"Browser Not Support",p=function(){i.default.warning(l)};W()?window.isSecureContext||p():u||p();var g=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return d&&d(e);c&&c(t)},name:"Client.join",options:arguments,getStates:function(){return{isHttps:u,isSecureContext:f}},tag:"tracer"});if(n&&!Object(M.isValidToken)(n))return i.default.warning("[".concat(t.clientId,"] Param channelKey should be string")),g(T.default.INVALID_PARAMETER);if(!Object(M.isValidChannelName)(r))return i.default.error("Invalid Channel Name ".concat(r)),i.default.warning("[".concat(t.clientId,"] The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")),g(T.default.INVALID_PARAMETER);if("string"==typeof r&&""===r)return i.default.warning("[".concat(t.clientId,"] Param channel should not be empty")),g(T.default.INVALID_PARAMETER);if(s&&!Object(M.isValidString)(s))return i.default.warning("[".concat(t.clientId,"] optionalInfo should be string")),g(T.default.INVALID_PARAMETER);if(a&&!Object(I.is32Uint)(a)&&!Object(M.isValidString)(a,1,255))return i.default.error("Invalid UID ".concat(a," ").concat(S()(a))),i.default.warning("[".concat(t.clientId,"] [String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is 32Uint")),g(T.default.INVALID_PARAMETER);if("string"==typeof a&&0==a.length)return i.default.warning("[".concat(t.clientId,"] String uid should not be empty")),g(T.default.INVALID_PARAMETER);if("string"==typeof a&&a.length>256)return i.default.warning("[".concat(t.clientId,"] Length of string uid should be less than 255")),g(T.default.INVALID_PARAMETER);i.default.stopWaitJoin(),t.highStream=null,t.lowStream=null,t.lowStreamParameter=null,t.isDualStream=!1,t.highStreamState=2,t.lowStreamState=2;var m=Date.now(),h=setTimeout((function(){if(1!=t.gatewayClient.hasJoined){i.default.debug("[".concat(t.clientId,"] The time to join the channel is greater than 5 seconds "));var n=Date.now();o.report.joinChannelTimeOut({lts:n,sid:e.sessionId,cname:r,cid:v&&v.cid,uid:v.uid||("string"==typeof a?void 0:a),elapse:n-m,timeout:5})}}),5e3),v={clientId:t.clientId,appId:e.appId,sid:e.sessionId,cname:r,uid:a,turnServers:t.turnServers.concat(),proxyServer:t.proxyServer,token:n||e.appId,useProxyServer:t.useProxyServer,useLocalAccessPoint:t.useLocalAccessPoint,proxyServerType:t.proxyServerType,optionalInfo:s};if("string"==typeof a&&(v.stringUid=a,t.uintUid?(v.uid=t.uintUid,delete t.uintUid):v.uid=0),t.aespassword&&"none"!==t.aesmode&&y()(v,{aespassword:t.aespassword,aesmode:t.aesmode}),t.aesSalt&&(v.aes_salt=t.aesSalt),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),cname:r,appid:e.appId,mode:e.mode,succ:!0}),t.onSuccess=function(e){clearTimeout(h),t.rtcStatsCollector.startNetworkQualityTimer(),t.onSuccess=null,g(null,e)},t.onFailure=function(e){return g(e)},t.channel=r,t.gatewayClient.state!==R.a.DISCONNECTED)return i.default.error("[".concat(t.clientId,"] Client already in connecting/connected state")),g(T.default.INVALID_OPERATION),void o.report.joinGateway(e.sessionId,{lts:Date.now(),succ:!1,ec:T.default.INVALID_OPERATION,addr:null});t.gatewayClient.state=R.a.CONNECTING;var E=function(o,a){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(r)),t.gatewayClient.dispatchEvent({type:"config-distribute",config:a,joinInfo:v}),t.key=n||e.appId,v.cid=o.cid,v.uid||(v.uid=o.uid),v.vid=o.vid,v.clientId=t.clientId,v.apResponse=o.res,o.uni_lbs_ip&&o.uni_lbs_ip[1]&&(v.uni_lbs_ip=o.uni_lbs_ip[1]),v.gatewayAddr=o.gateway_addr,t.joinInfo=v,t.gatewayClient.join(v,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(r," success, join with uid: ").concat(e,".")),t.onSuccess=null,t.rtcStatsCollector.startNetworkQualityTimer(),g(null,e)}),(function(e){return g(e)}))};v.stringUid&&!v.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(b.getUserAccount)(v,t.gatewayClient),t.userAccountReq.then((function(e){i.default.debug("getUserAccount Success ".concat(e.url," ").concat(v.stringUid," => ").concat(e.uid)),v.uid=e.uid,Object(b.getGatewayList)(v,E,(function(e){return g(e)}))})).catch((function(e){i.default.error("getUserAccount rejected",e),g(e)}))):Object(b.getGatewayList)(v,E,(function(e){return g(e)}))},t.renewChannelKey=function(n,r,a){var s=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return a&&a(e);r&&r(t)},name:"Client.renewChannelKey",options:arguments,tag:"tracer"});Object(M.checkValidString)(n,"key",1,2047),void 0===t.key?(i.default.error("[".concat(t.clientId,"] renewChannelKey should not be called before user join")),s(T.default.INVALID_OPERATION)):(t.key=n,t.gatewayClient.joinInfo.token=n,t.gatewayClient.key=n,t.gatewayClient.recover(),s())},t.leave=function(n,a){t.gatewayClient.isFirstSuccess=!0,t.gatewayClient.hasInvokeLeave=!0;var s=!1,c=o.report.reportApiInvoke(e.sessionId,{callback:function(e,r){if(e)return a&&a(e);t.gatewayClient.reconnectingCS=!1,t.gatewayClient.state=R.a.DISCONNECTED,clearTimeout(Object(b._getReconnectCSTimer)(t.clientId)),t._renewSession(),t.rtcStatsCollector.clearNetworkQualityTimer(),n&&n(r)},name:"Client.leave",options:arguments,tag:"tracer"});i.default.info("[".concat(t.clientId,"] Leaving channel")),t.userAccountReq&&!t.userAccountReq.isFinished()&&(t.userAccountReq.cancel(),t.gatewayClient.state===R.a.CONNECTING&&(t.gatewayClient.state=R.a.DISCONNECTED)),t._terminateLiveStreaming(),t.gatewayClient.leave((function(e){s=!0,c(null,e)}),c),setTimeout((function(){s||(t.gatewayClient.socket&&(t.gatewayClient.socket.close(),t.gatewayClient.socket=null),t.gatewayClient.state=R.a.DISCONNECTED,c(null,"LEAVE_MSG_TIMEOUT"))}),Object(r.getParameter)("LEAVE_MSG_TIMEOUT"))},t._renewSession=function(){var n=Object(I.generateSessionId)();if(i.default.debug("renewSession ".concat(e.sessionId," => ").concat(n)),e.sessionId=n,t.gatewayClient.peerPublishDurationMap.clear(),t.joinInfo&&(t.joinInfo.sid=n),t.gatewayClient&&(t.gatewayClient.joinInfo&&(t.gatewayClient.joinInfo.sid=n),t.gatewayClient.localStreams))for(var r in t.gatewayClient.localStreams){var o=t.gatewayClient.localStreams[r];o&&(o.sid=n)}},t._publish=function(n,o,a,s){if(2!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't publish stream when stream already publish ").concat(n.getId())),a&&a(T.default.STREAM_ALREADY_PUBLISHED);if(0===t.turnServers.length&&Object(r.getParameter)("FORCE_TURN")&&!Object(r.getParameter)("TURN_ENABLE_TCP")&&!Object(r.getParameter)("TURN_ENABLE_UDP"))throw new Error("force TURN With No TURN Configuration");i.default.info("[".concat(t.clientId,"] Publishing stream, uid ").concat(n.getId())),t.highStream=n,t.highStreamState=1,t.highStream.streamId=t.joinInfo.stringUid||t.joinInfo.uid,t.hasPublished=!1;var c=function(n,r,o){t.gatewayClient.publish(n,{streamType:0},(function(){n.sid=e.sessionId,t.highStreamState=0,i.default.info("[".concat(t.clientId,"] Publish success, uid: ").concat(n.getId())),t.highStream&&(t.highStream.isDualStream=t.isDualStream),t.isDualStream?t._publishLowStream((function(){r&&r()}),(function(e){i.default.warning("[".concat(t.clientId,"] "),e),U.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))})):U.a.replaceWithCanvasTrack(n).then((function(){r&&r()}))}),o)};"audience"!==t.gatewayClient.role||"live"!==t.mode||s?c(n,o,a):t.gatewayClient.setClientRole(G,(function(e){if(e)return a&&a(e);c(n,o,a)}))},t._unpublish=function(e,n,r,o){if(0!==t.highStreamState)return i.default.warning("[".concat(t.clientId,"] Can't unpublish stream when stream not publish")),r&&r(T.default.STREAM_NOT_YET_PUBLISHED);i.default.info("[".concat(t.clientId,"] Unpublish stream, uid ").concat(e.getId()));var a=function(e,n,r){t.isDualStream&&t.lowStream&&t._unpublishLowStream(null,r),t.gatewayClient.unpublish(e,{streamType:0},(function(){t.highStreamState=2,i.default.info("[".concat(t.clientId,"] Unpublish stream success, uid: ").concat(e.getId())),t.gatewayClient.dispatchEvent({type:"stream-unpublished",stream:e}),n&&n()}),(function(n){i.default.info("[".concat(t.clientId,"] Unpublish stream fail, uid: ").concat(e.getId())),r&&r(n)}))};t.gatewayClient.role!==G||"live"!==t.mode||o?a(e,n,r):t.gatewayClient.setClientRole("audience",(function(t){if(t)return r&&r(t);a(e,n,r)}))},t.publish=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{callback:function(e,n){if(e)return 1===t.highStreamState&&"REQUEST_ABORT"!==e&&(t.highStreamState=2),r&&r(e)},name:"Client.publish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});2===t.highStreamState?n._hasVideoTracks()||n._hasAudioTracks()?(t.gatewayClient.publishRequestId=Object(I.generateId)(),t._publish(n,(function(e){return i(null,e)}),(function(e){return i(e)}))):i(T.default.NO_TRACK_IN_STREAM):i(T.default.STREAM_ALREADY_PUBLISHED)},t.unpublish=function(n,r,i){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e);i&&i(t)},name:"Client.unpublish",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});0===t.highStreamState?(t.gatewayClient.publishRequestId=null,t._unpublish(n,(function(e){return a(null,e)}),(function(e){return a(e)}))):a(T.default.STREAM_NOT_YET_PUBLISHED)},t.subscribe=function(n,r,a){var c=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return a&&a(e)},name:"Client.subscribe",tag:"tracer",options:{stream:"too long to show",options:r,onFailure:!!a}});"function"==typeof r&&(a=r,r=null),Object(M.checkValidObject)(n,"stream"),Object(M.isEmpty)(r)||(Object(M.checkValidObject)(r,"options"),Object(M.isEmpty)(r.video)||Object(M.checkValidBoolean)(r.video,"options.video"),Object(M.isEmpty)(r.audio)||Object(M.checkValidBoolean)(r.audio,"options.audio"));var d={video:!0,audio:!0};if(!Object(M.isEmpty)(r)){if(Object(s.isSafari)()&&(!r.video||!r.audio)){var u="SAFARI_NOT_SUPPORTED_FOR_TRACK_SUBSCRIPTION";return i.default.error("[".concat(t.clientId,"] "),u),void c(u)}if(!Object(M.isEmpty)(r.video)&&!Object(M.isValidBoolean)(r.video)||!Object(M.isEmpty)(r.audio)&&!Object(M.isValidBoolean)(r.audio)||!1===r.audio&&!1===r.video){u="INVALID_PARAMETER ".concat(JSON.stringify(r));return i.default.error("[".concat(t.clientId,"] "),u),void c(u)}}n.subscribeOptions?(y()(n.subscribeOptions,d,r),t.gatewayClient.subscribeChange(n,(function(e){return c(null,e)}),c)):(t.gatewayClient.subscribeRequestId.set(n.getId(),Object(I.generateId)()),n.subscribeOptions=y()({},d,r),t.gatewayClient.subscribe(n,(function(e){return c(null,e)}),c))},t.unsubscribe=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return r&&r(e)},name:"Client.unsubscribe",tag:"tracer",options:{stream:"too long to show",onFailure:!!r}});i.default.info("[".concat(t.clientId,"] Unsubscribe stream, uid: ").concat(n.getId())),t.gatewayClient.subscribeRequestId.delete(n.getId()),t.gatewayClient.unsubscribe(n,(function(e){return a(null,e)}),a)},t.setRemoteVideoStreamType=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setRemoteVideoStreamType",tag:"tracer",options:{stream:"too long to show",streamType:r}});Object(M.checkValidEnum)(r,"streamType",[0,1]),t.gatewayClient.setRemoteVideoStreamType(n,r),i()},t.setStreamFallbackOption=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.setStreamFallbackOption",tag:"tracer",options:{stream:"too long to show",fallbackType:r}});Object(M.checkValidEnum)(r,"fallbackType",[0,1,2]),t.gatewayClient.setStreamFallbackOption(n,r),i()},t.enableAudioVolumeIndicator=function(n,r){var a=o.report.reportApiInvoke(e.sessionId,{name:"Client.enableAudioVolumeIndicator",options:arguments,tag:"tracer"});n=n||2e3,r=r||3,Object(M.checkValidNumber)(r,"smooth",1,100),Object(M.checkValidNumber)(n,"interval",50,1e5),t.audioVolumeIndication=t.audioVolumeIndication||{enabled:!0},t.audioVolumeIndication.interval=n,t.audioVolumeIndication.smooth=r,t.audioVolumeIndication={interval:n,smooth:r},i.default.info("[".concat(t.clientId,"] enableAudioVolumeIndicator interval ").concat(n," smooth ").concat(r)),t.gatewayClient.enableAudioVolumeIndicator(n,r),a()},t.getNetworkStats=function(e,n){return i.default.deprecate("[".concat(t.clientId,"] client.getNetworkStats is deprecated. Use client.getTransportStats instead.")),P.getStats(e,n)},t.getSystemStats=function(e,t){return d.getStats(e,t)},t.getRecordingDevices=function(e,t){return l.a.getRecordingDevices(e,t)},t.getPlayoutDevices=function(e,t){return l.a.getPlayoutDevices(e,t)},t.getCameras=function(e,t){return l.a.getCameras(e,t)},t.getRemoteAudioStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioStats(e,n)},t.getLocalAudioStats=function(e,n){return t.rtcStatsCollector.getLocalAudioStats(e,n)},t.getRemoteVideoStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoStats(e,n)},t.getLocalVideoStats=function(e,n){return t.rtcStatsCollector.getLocalVideoStats(e,n)},t._getRemoteVideoQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoQualityStats(e,n)},t._getRemoteAudioQualityStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioQualityStats(e,n)},t.getTransportStats=function(e,n){return t.rtcStatsCollector.getTransportStats((function(t){return P.getStats((function(n){var r=y()({},t,n);e&&e(r)}),n)}),n)},t.getSessionStats=function(e,n){return t.rtcStatsCollector.getSessionStats(e,n)},t.onNetworkQuality=function(){return t.rtcStatsCollector.onNetworkQuality(onSuccess,onFailure)},t.sendMetadata=function(n,r){var i=o.report.reportApiInvoke(e.sessionId,{name:"Client.sendMetadata",tag:"tracer",callback:function(e){if(e)return r&&r(e);r&&r()}});t.gatewayClient.sendMetadata(n,i)},t.sendCustomReportMessage=function(n,a,s,c,d,u){Object(r.getParameter)("CR")?t.customReportCount>Object(r.getParameter)("CRL")?u&&u("REPORT_LIMITED"):(t.gatewayClient.hasJoined||(i.default.WARNING("Should invoke Client.sendCustomReportMessage after join"),u&&u("REPORT_BEFORE_JOINED")),t.customReportTimer||(t.customReportTimer=setInterval((function(){t.customReportCount=0}),Object(r.getParameter)("CRI"))),Object(M.checkValidString)(n,"reportId",0,100,!1),Object(M.checkValidString)(a,"category",0,100,!1),Object(M.checkValidString)(s,"event",0,100,!1),Object(M.checkValidString)(c,"label",0,100,!1),Object(M.checkValidNumber)(d,"value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.customReportCount++,o.report.sendCustomReportMessage(e.sessionId,{reportId:n,category:a,event:s,label:c,value:d,lts:Date.now()},(function(e){e?u&&u("REPORT_FAILED"):u&&u()}))):u&&u("REPORT_FORBIDDEN")},t.setLocalAccessPoints=function(n,i){var a=o.report.reportApiInvoke(e.sessionId,{name:"Client.setLocalAccessPoints",tag:"tracer"});if(Object(M.checkValidArray)(n,"serverList"),Object(M.checkValidString)(i,"domain"),t.useProxyServer)throw new Error("You have already set the proxy");var s=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;n=n.map((function(e){return s.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(i):e})),t.useLocalAccessPoint=!0,Object(r.setParameter)("WEBCS_DOMAIN",n),Object(r.setParameter)("WEBCS_DOMAIN_BACKUP_LIST",n),Object(r.setParameter)("GATEWAY_DOMAINS",[i]),Object(r.setParameter)("EVENT_REPORT_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("EVENT_REPORT_BACKUP_DOMAIN",n[Math.floor(Math.random()*n.length)]),Object(r.setParameter)("LOG_UPLOAD_SERVER","".concat(n[Math.floor(Math.random()*n.length)],":6444")),a()},e.clientId=t.clientId,t.gatewayClient=Object(R.a)(e),t.listenerLoggerTimer=null,t.listenerLoggerCache=[],t.on=function(e,n){t.gatewayClient.on(e,n),t.listenerLoggerCache.push("".concat(e).concat(n.name?":"+n.name:"")),t.listenerLoggerTimer?clearTimeout(t.listenerLoggerTimer):i.default.info("[".concat(t.clientId,"] Adding event handler on ").concat(e)),t.listenerLoggerTimer=setTimeout((function(){t.listenerLoggerCache.length&&(t.listenerLoggerTimer=null,i.default.info("[".concat(t.clientId,"] Added event handler on ").concat(t.listenerLoggerCache.join(", "))),t.listenerLoggerCache=[])}),0)},t.off=function(e,n){i.default.info("remove event handler from [".concat(e,"]")),t.gatewayClient.removeEventListener(e,n)},t.rtcStatsCollector=function(e){var t=Object(a.b)();return t.gatewayClient=e,t.exceptionMonitor=new w(e),t.localStats={},t.remoteStats={},t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0},t.getRemoteAudioStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];if(Object(A.b)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.audio_delay),Object(A.b)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(A.b)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_audio_lost_ratio_400ms),Object(A.b)(o,"RecvLevel",a.audioStats&&a.audioStats.audioOutputLevel),Object(A.b)(o,"RecvBitrate",a.audioRecvBitrate),Object(A.b)(o,"CodecType",a.audioStats&&a.audioStats.googCodecName),Object(A.b)(o,"MuteState",a.audioDisabled),Object(A.b)(o,"TotalFreezeTime",a.audioStats&&a.audioStats.audioTotalFreezeTime),Object(A.b)(o,"TotalPlayDuration",a.audioStats&&a.audioStats.audioTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_audio_duration+(Date.now()-n.timestamp);Object(A.b)(o,"AudioPublishDuration",c)}else Object(A.b)(o,"AudioPublishDuration",-1)}r[i]=o}e&&e(r)},t.getLocalAudioStats=function(e){var n={};for(var r in t.localStats){var i={},o=t.localStats[r];Object(A.b)(i,"RecordingLevel",o.audioStats&&o.audioStats.audioInputLevel),Object(A.b)(i,"SendLevel",o.audioStats&&o.audioStats.totalAudioEnergy),Object(A.b)(i,"SamplingRate",o.audioStats&&o.audioStats.totalSamplesDuration),Object(A.b)(i,"SendBitrate",o.audioSendBitrate),Object(A.b)(i,"CodecType",o.audioStats&&o.audioStats.googCodecName),Object(A.b)(i,"MuteState",o.audioDisabled),Object(A.b)(i,"audioSendPacketsLost",o.audioStats&&o.audioStats.packetsLost);var a=t.gatewayClient.localStreams[r];a&&a.isPlaying()&&Object(A.b)(i,"MuteState",a.userMuteAudio?"1":"0"),n[r]=i}e&&e(n)},t.getRemoteVideoStats=function(e){var n=t.gatewayClient.traffic_stats,r={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];if(Object(A.b)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.video_delay),Object(A.b)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(A.b)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_video_lost_ratio_400ms),Object(A.b)(o,"RecvBitrate",a.videoRecvBitrate),Object(A.b)(o,"RecvResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthReceived),Object(A.b)(o,"RecvResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightReceived),Object(A.b)(o,"RenderResolutionWidth",a.videoStats&&a.videoStats.renderRemoteWidth),Object(A.b)(o,"RenderResolutionHeight",a.videoStats&&a.videoStats.renderRemoteHeight),Object(A.b)(o,"RenderFrameRate",a.videoStats&&a.videoStats.googFrameRateOutput),Object(A.b)(o,"MuteState",a.videoDisabled),Object(A.b)(o,"TotalFreezeTime",a.videoStats&&a.videoStats.videoTotalFreezeTime),Object(A.b)(o,"TotalPlayDuration",a.videoStats&&a.videoStats.videoTotalPlayDuration),n&&n.peer_delay){var s=n.peer_delay.find((function(e){return e.peer_uid==i}));if(s){var c=s.peer_publish_video_duration+(Date.now()-n.timestamp);Object(A.b)(o,"VideoPublishDuration",c)}else Object(A.b)(o,"VideoPublishDuration",-1)}r[i]=o}e&&e(r)},t.getLocalVideoStats=function(e){var n={};for(var r in t.localStats){var i={},o=t.localStats[r];Object(A.b)(i,"TargetSendBitrate",o.videoTargetSendBitrate),Object(A.b)(i,"SendFrameRate",o.videoStats&&o.videoStats.googFrameRateSent),Object(A.b)(i,"SendBitrate",o.videoSendBitrate),Object(A.b)(i,"SendResolutionWidth",o.videoStats&&o.videoStats.googFrameWidthSent),Object(A.b)(i,"SendResolutionHeight",o.videoStats&&o.videoStats.googFrameHeightSent),Object(A.b)(i,"CaptureResolutionWidth",o.videoStats&&o.videoStats.googFrameWidthInput),Object(A.b)(i,"CaptureResolutionHeight",o.videoStats&&o.videoStats.googFrameHeightInput),Object(A.b)(i,"EncodeDelay",o.videoStats&&o.videoStats.googAvgEncodeMs),Object(A.b)(i,"MuteState",o.videoDisabled),Object(A.b)(i,"TotalFreezeTime",o.videoStats&&o.videoStats.videoTotalFreezeTime),Object(A.b)(i,"TotalDuration",o.videoStats&&o.videoStats.videoTotalPlayDuration),Object(A.b)(i,"CaptureFrameRate",o.videoStats&&o.videoStats.googFrameRateSent),Object(A.b)(i,"videoSendPacketsLost",o.videoStats&&o.videoStats.packetsLost),o.videoStats&&!o.videoStats.googFrameWidthInput&&Object(A.b)(i,"CaptureResolutionWidth",o.videoStats&&o.videoStats.renderLocalWidth),o.videoStats&&!o.videoStats.googFrameHeightInput&&Object(A.b)(i,"CaptureResolutionHeight",o.videoStats&&o.videoStats.renderLocalHeight),n[r]=i}e&&e(n)},t.getRemoteVideoQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},o=t.remoteStats[r];Object(A.b)(i,"videoReceiveDelay",o.videoStats&&o.videoStats.googCurrentDelayMs),Object(A.b)(i,"VideoFreezeRate",o.videoStats&&o.videoStats.videoFreezeRate),Object(A.b)(i,"FirstFrameTime",o.firstFrameTime),n[r]=i}e&&e(n)},t.getRemoteAudioQualityStats=function(e){var n={};for(var r in t.remoteStats){var i={},o=t.remoteStats[r];Object(A.b)(i,"audioReceiveDelay",o.audioStats&&o.audioStats.googCurrentDelayMs),Object(A.b)(i,"AudioFreezeRate",o.videoStats&&o.videoStats.videoFreezeRate),n[r]=i}e&&e(n)},t.getTransportStats=function(e){var n={},r={},i=t.gatewayClient.traffic_stats,o=i.peer_delay;if(Object(A.b)(n,"OutgoingAvailableBandwidth",t.gatewayClient.OutgoingAvailableBandwidth/1e3),Object(A.b)(n,"RTT",i&&2*i.access_delay),o){var a,s=L(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.downlink_estimate_bandwidth&&(r[c.peer_uid]=c.downlink_estimate_bandwidth/1e3+"")}}catch(e){s.e(e)}finally{s.f()}}n.IncomingAvailableBandwidth=r,e&&e(n)},t.getSessionStats=function(e){var n={},r=t.gatewayClient.traffic_stats,i=t.gatewayClient.socket,o=0,a=0;for(var s in t.remoteStats){(c=t.remoteStats[s])&&c.videoStats&&c.videoStats.videoRecvBytesDelta&&(a+=parseInt(c.videoStats.videoRecvBytesDelta)),c&&c.audioStats&&c.audioStats.audioRecvBytesDelta&&(a+=parseInt(c.audioStats.audioRecvBytesDelta))}for(var s in t.localStats){var c;(c=t.localStats[s])&&c.videoStats&&c.videoStats.videoSendBytesDelta&&(o+=parseInt(c.videoStats.videoSendBytesDelta)),c&&c.audioStats&&c.audioStats.audioSendBytesDelta&&(o+=parseInt(c.audioStats.audioSendBytesDelta))}var d=o+t.session.WSSendBytesDelta+t.session.HTTPSendBytesDelta,u=a+t.session.WSRecvBytesDelta+t.session.HTTPRecvBytesDelta,l=t.session.sendBytes+Object(O.getHTTPSendBytes)(),f=t.session.recvBytes+Object(O.getHTTPRecvBytes)();t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED&&(l+=i.getSendBytes(),f+=i.getRecvBytes());var p=1;r.peer_delay&&(p=r.peer_delay.length,p+=1),i?Object(A.b)(n,"Duration",i.getDuration()):Object(A.b)(n,"Duration",0),Object(A.b)(n,"UserCount",p),Object(A.b)(n,"SendBytes",l),Object(A.b)(n,"RecvBytes",f),Object(A.b)(n,"SendBitrate",8*d/1e3),Object(A.b)(n,"RecvBitrate",8*u/1e3),e&&e(n)},t.isLocalVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateInput,r=e.googFrameRateSent;else if(Object(s.isSafari)())n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framerateMean),r=parseInt(e.framesEncoded)-parseInt(t.framesEncoded)}return n>5&&r<3},t.isRemoteVideoFreeze=function(e,t){var n=0,r=0;if(!e||!t)return!1;if(Object(s.isChrome)()||Object(s.isOpera)())n=e.googFrameRateReceived,r=e.googFrameRateDecoded;else if(Object(s.isSafari)())n=e.framerateMean,r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded);else{if(!Object(s.isFireFox)())return!1;n=parseInt(e.framesReceived)-parseInt(t.framesReceived),r=parseInt(e.framesDecoded)-parseInt(t.framesDecoded)}return n>5&&n<10&&r<3||(n>10&&n<20&&r<4||n>20&&r<5)},t.isAudioFreeze=function(e){if(Object(s.isChrome)()&&e){if(e.googDecodingPLC&&e.googDecodingPLCCNG&&e.googDecodingCTN)return(parseInt(e.googDecodingPLC)+parseInt(e.googDecodingPLCCNG))/parseInt(e.googDecodingCTN)>.2}else if((Object(s.isSafari)()||Object(s.isFireFox)())&&e.packetsLost&&e.packetsReceived)return parseInt(e.packetsLost)/(parseInt(e.packetsLost)+parseInt(e.packetsReceived))>.2;return!1},t.isAudioDecodeFailed=function(e){return!!((Object(s.isChrome)()||Object(s.isOpera)())&&e&&parseInt(e.bytesReceived)>0&&0===parseInt(e.googDecodingNormal))},t.startNetworkQualityTimer=function(){t.clearNetworkQualityTimer(),t.networkQualityTimer=setInterval((function(){if(t.gatewayClient.state===R.a.CONNECTED&&navigator.onLine){var e=t.gatewayClient.traffic_stats;t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:t.networkQualityTrans(e.uplink_network_quality),downlinkNetworkQuality:t.networkQualityTrans(e.downlink_network_quality)})}else t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3)},t.clearNetworkQualityTimer=function(){t.networkQualityTimer&&clearInterval(t.networkQualityTimer)},t.networkQualityTrans=function(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0},t.getStatsTimer=setInterval((function(){var e=t.gatewayClient.traffic_stats,n=Date.now();t.gatewayClient.dispatchEvent({type:"_testException"}),Object.keys(t.localStats).length&&t.exceptionMonitor.setLocalStats(t.localStats),Object.keys(t.remoteStats).length&&t.exceptionMonitor.setRemoteStats(t.remoteStats);var r={};Object.keys(t.gatewayClient.remoteStreams).forEach((function(i){var o=t.gatewayClient.remoteStreams[i],a=t.remoteStats[i],s={id:i,updatedAt:n};r[i]=s,s.firstFrameTime=o.firstFrameTime,a?(s.audioTotalPlayDuration=a.audioTotalPlayDuration+1,s.audioTotalFreezeTime=a.audioTotalFreezeTime,s.isAudioFreeze=!1,s.isAudioDecodeFailed=!1,s.videoTotalPlayDuration=a.videoTotalPlayDuration+1,s.videoTotalFreezeTime=a.videoTotalFreezeTime,s.isVideoFreeze=!1):(s.audioTotalPlayDuration=1,s.audioTotalFreezeTime=0,s.videoTotalPlayDuration=1,s.videoTotalFreezeTime=0);var c=e&&e.peer_delay&&e.peer_delay.find((function(e){return e.peer_uid==i}));c&&(s.peer_delay=c),o&&(o.isPlaying()&&(s.audioDisabled=o.userMuteAudio||o.peerMuteAudio?"1":"0",s.videoDisabled=o.userMuteVideo||o.peerMuteVideo?"1":"0"),a&&a.peer_delay&&c&&a.peer_delay.stream_type!==c.stream_type&&t.gatewayClient.dispatchEvent({type:"streamTypeChange",uid:i,streamType:c.stream_type}),o.pc&&"established"==o.pc.state&&o.pc.getStats((function(e){if(s.pcStats=e,s.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),s.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)})),a&&a.audioStats&&s.audioStats){var n=parseInt(s.audioStats.bytesReceived)-parseInt(a.audioStats.bytesReceived),r=parseInt(s.audioStats.googDecodingNormal)-parseInt(a.audioStats.googDecodingNormal);if(s.audioStats.audioRecvBytesDelta=n,s.audioStats.audioDecodingNormalDelta=r,t.session.recvBytes+=n,isFinite(n)&&s.audioStats.timestamp){var i=s.audioStats.timestamp.getTime()-a.audioStats.timestamp.getTime();s.audioRecvBitrate=Math.floor(8*n/i)}t.isAudioFreeze(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.audioTotalFreezeTime++,s.isAudioFreeze=!0),t.isAudioDecodeFailed(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.isAudioDecodeFailed=!0),s.audioStats.audioTotalFreezeTime=s.audioTotalFreezeTime,s.audioStats.audioTotalPlayDuration=s.audioTotalPlayDuration,s.audioStats.audioFreezeRate=Math.ceil(100*s.audioTotalFreezeTime/s.audioTotalPlayDuration)}if(a&&a.videoStats&&s.videoStats){var c=parseInt(s.videoStats.bytesReceived)-parseInt(a.videoStats.bytesReceived);if(s.videoStats.videoRecvBytesDelta=c,t.session.recvBytes+=c,isFinite(c)&&s.videoStats.timestamp){i=s.videoStats.timestamp.getTime()-a.videoStats.timestamp.getTime();s.videoRecvBitrate=Math.floor(8*c/i)}t.isRemoteVideoFreeze(s.videoStats,a.videoStats)&&(s.videoTotalFreezeTime++,s.isVideoFreeze=!0),s.videoStats.videoTotalFreezeTime=s.videoTotalFreezeTime,s.videoStats.videoTotalPlayDuration=s.videoTotalPlayDuration,s.videoStats.videoFreezeRate=Math.ceil(100*s.videoTotalFreezeTime/s.videoTotalPlayDuration),o.player&&o.player.video&&o.player.video.videoWidth&&o.player.video.videoHeight?(s.videoStats.renderRemoteWidth=o.player.video.videoWidth,s.videoStats.renderRemoteHeight=o.player.video.videoHeight):(s.videoStats.renderRemoteWidth=o.videoWidth||s.videoStats.googFrameWidthReceived,s.videoStats.renderRemoteHeight=o.videoHeight||s.videoStats.googFrameHeightReceived)}})))})),t.remoteStats=r;var i={};if(Object.keys(t.gatewayClient.localStreams).forEach((function(e){var r=t.gatewayClient.localStreams[e],o=t.localStats[e],a={id:e,updatedAt:n};i[e]=a,o?(a.videoTotalPlayDuration=o.videoTotalPlayDuration+1,a.videoTotalFreezeTime=o.videoTotalFreezeTime,a.isVideoFreeze=!1):(a.videoTotalPlayDuration=1,a.videoTotalFreezeTime=0),r&&(r.isPlaying()&&(a.audioDisabled=r.userMuteAudio?"1":"0",a.videoDisabled=r.userMuteVideo?"1":"0"),r.video&&r.attributes.maxVideoBW?a.videoTargetSendBitrate=r.attributes.maxVideoBW:r.video&&r.screenAttributes&&(a.videoTargetSendBitrate=r.screenAttributes.maxVideoBW),r.pc&&"established"==r.pc.state&&r.pc.getStats((function(e){if(a.pcStats=e.reverse(),a.audioStats=e.find((function(e){return"audio"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),a.videoStats=e.find((function(e){return"video"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)})),a.audioStats&&o&&o.audioStats){var n=parseInt(a.audioStats.bytesSent)-parseInt(o.audioStats.bytesSent);if(a.audioStats.audioSendBytesDelta=n,t.session.sendBytes+=n,isFinite(n)&&a.audioStats.timestamp){var i=a.audioStats.timestamp.getTime()-o.audioStats.timestamp.getTime();a.audioSendBitrate=Math.floor(8*n/i)}}if(a.videoStats&&o&&o.videoStats){var s=parseInt(a.videoStats.bytesSent)-parseInt(o.videoStats.bytesSent);if(a.videoStats.videoSendBytesDelta=s,t.session.sendBytes+=s,isFinite(s)&&a.videoStats.timestamp){i=a.videoStats.timestamp.getTime()-o.videoStats.timestamp.getTime();a.videoSendBitrate=Math.floor(8*s/i)}t.isLocalVideoFreeze(a.videoStats,o.videoStats)&&(a.videoTotalFreezeTime++,a.isVideoFreeze=!0),a.videoStats.videoTotalFreezeTime=a.videoTotalFreezeTime,a.videoStats.videoTotalPlayDuration=a.videoTotalPlayDuration,a.videoStats.videoFreezeRate=Math.ceil(100*a.videoTotalFreezeTime/a.videoTotalPlayDuration),a.videoStats.renderLocalWidth=r.videoWidth||a.videoStats.googFrameWidthSent,a.videoStats.renderLocalHeight=r.videoHeight||a.videoStats.googFrameHeightSent}})))})),t.localStats=i,t.session.HTTPSendBytesDelta=Object(O.getHTTPSendBytes)()-t.session.HTTPSendBytes,t.session.HTTPSendBytes=Object(O.getHTTPSendBytes)(),t.session.HTTPRecvBytesDelta=Object(O.getHTTPRecvBytes)()-t.session.HTTPRecvBytes,t.session.HTTPRecvBytes=Object(O.getHTTPRecvBytes)(),t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED){var o=t.gatewayClient.socket;t.session.WSSendBytesDelta=o.getSendBytes()-t.session.WSSendBytes,t.session.WSSendBytes=o.getSendBytes(),t.session.WSRecvBytesDelta=o.getRecvBytes()-t.session.WSRecvBytes,t.session.WSRecvBytes=o.getRecvBytes()}}),1e3),t.gatewayClient.on("join",(function(){t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0}})),t}(t.gatewayClient),t.configDistributManager=function(e){var t={};return t.client=e,t.client.gatewayClient&&t.client.gatewayClient.on("config-distribute",(function(n){var a=n.joinInfo,s=n.config;if(s){Object(M.isEmpty)(s.uploadLog)||(Object(r.setParameter)("UPLOAD_LOG",s.uploadLog),o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"uploadLog",value:s.uploadLog}})()),Object(M.isEmpty)(s.dualStream)||(e.isDualStream=s.dualStream,o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"dualStream",value:s.dualStream}})()),Object(M.isEmpty)(s.streamFallbackOption)||t.client.gatewayClient&&t.client.gatewayClient.on("stream-subscribed",(function(e){var n=e.stream;n?(t.client.gatewayClient.setStreamFallbackOption(n,s.streamFallbackOption),o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId()}})()):o.report.reportApiInvoke(a.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:s.streamFallbackOption,streamId:n.getId(),err:"invalid stream"}})()}));try{i.default.debug("[".concat(e.clientId,"] setParameter in distribution: ").concat(JSON.stringify(s))),Object.keys(s).map((function(e){return Object(r.setParameter)(e,s[e])}))}catch(t){i.default.debug("[".concat(e.clientId,"] setParameter in distribution failed: ").concat(JSON.stringify(s)))}}})),t}(t),Object(x.addLiveStreamingCapability)(t,e),e.areaCode){var n=e,c=n.areaCode,f=n.excludedArea,p=Object(B.getAreaCodeByConfig)({areaCode:c,excludedArea:f});Object(r.setParameter)("AREA_SETTING",p);var m=Object(B.getAreaDomainConfig)(p);Object.keys(m).map((function(e){var t=m[e];"LOG_UPLOAD_SERVER"==e||"EVENT_REPORT_DOMAIN"==e||"EVENT_REPORT_BACKUP_DOMAIN"==e||"NGINX"==e?Object(r.setParameter)(e,t[0]):Object(r.setParameter)(e,t)}))}return Object(M.isEmpty)(e.turnServer)||t.setTurnServer(e.turnServer),Object(M.isEmpty)(e.proxyServer)||t.setProxyServer(e.proxyServer),"live"===t.mode&&(t.gatewayClient.role="audience"),"rtc"===t.mode&&(t.gatewayClient.role=G),t.gatewayClient.on("onMultiIP",(function(e){t.gatewayClient.closeGateway(),t.gatewayClient.socket=void 0,t.gatewayClient.hasChangeBGPAddress=!0,t.joinInfo.multiIP=e.option,t.gatewayClient.state=R.a.CONNECTING;var n=function(e){i.default.info("[".concat(t.clientId,"] Joining channel: ").concat(t.channel)),t.joinInfo.cid=e.cid,t.joinInfo.uid||(t.joinInfo.uid=e.uid),t.joinInfo.uni_lbs_ip=e.uni_lbs_ip,t.joinInfo.gatewayAddr=e.gateway_addr,t.onSuccess?t.gatewayClient.join(t.joinInfo,t.key,(function(e){i.default.info("[".concat(t.clientId,"] Join channel ").concat(t.channel," success"));var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(e)}),t.onFailure):(t.gatewayClient.joinInfo=y()({},t.joinInfo),t.gatewayClient.rejoin())};t.joinInfo.stringUid&&!t.joinInfo.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(b.getUserAccount)(joinInfo,t.gatewayClient),t.userAccountReq.then((function(e){i.default.error("getUserAccount Success ".concat(e.url," ").concat(joinInfo.stringUid," => ").concat(e.uid)),t.joinInfo.uid=e.uid,Object(b.getGatewayList)(t.joinInfo,n,t.onFailure)})).catch((function(e){i.default.error("getUserAccount rejected",e),t.onFailure(e)}))):Object(b.getGatewayList)(t.joinInfo,n,t.onFailure)})),t.gatewayClient.on("rejoin-start",(function(){t._renewSession(),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{rejoin:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("recover",(function(){t._renewSession(),console.log("recover",e.sessionId),o.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{recover:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})})),t.gatewayClient.on("rejoin",(function(){var e=t.highStreamState;if(i.default.debug("[".concat(t.clientId,"] Client local stream preState: ").concat(e)),t.onSuccess){var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(t.joinInfo.uid)}!t.highStream||0!==e&&1!==e||(i.default.info("[".concat(t.clientId,"] publish after rejoin")),t.highStreamState=2,t.lowStreamState=2,t.publish(t.highStream,(function(e){e&&i.default.info("[".concat(t.clientId,"] "),e)})))})),t.gatewayClient.on("streamPublished",(function(e){t.hasPublished||(t.hasPublished=!0,t.gatewayClient.dispatchEvent({type:"stream-published",stream:e.stream,proxy:e.proxy}))})),t.gatewayClient.on("pubP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect local peerConnection: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:t.highStream.getId()}),1===t.highStreamState&&(t.highStreamState=0,t.lowStreamState=0),t._unpublish(t.highStream,(function(){t._publish(t.highStream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection success: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!0,reason:""})}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)}),(function(e){i.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})}),!0)})),t.gatewayClient.on("subP2PLost",(function(e){i.default.debug("[".concat(t.clientId,"] Start reconnect remote peerConnection: ").concat(e.stream.getId()," ").concat(e.stream.subscribeOptions)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:e.stream.getId()});var n=e.stream.subscribeOptions;console.log("Re-subscribe stream",n,e.stream),t.gatewayClient.unsubscribe(e.stream,(function(){e.stream.subscribeOptions=n,t.gatewayClient.subscribe(e.stream,(function(){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection success: ").concat(e.stream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!0,reason:""})}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))}),(function(n){i.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:n})}))})),P.on("networkTypeChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"network-type-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("recordingDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"recording-device-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("playoutDeviceChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"playout-device-changed"});t.gatewayClient.dispatchEvent(n)})),l.a.on("cameraChanged",(function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var n=y()({},e,{type:"camera-changed"});t.gatewayClient.dispatchEvent(n)})),t.gatewayClient.on("streamTypeChange",(function(n){var r=y()({},n,{type:"stream-type-changed"});t.gatewayClient.dispatchEvent(r),o.report.reportApiInvoke(e.sessionId,{name:"streamTypeChange"})(null,JSON.stringify(n))})),t},q={width:640,height:360,videoBitrate:400,videoFramerate:15,lowLatency:!1,audioSampleRate:48e3,audioBitrate:48,audioChannels:1,videoGop:30,videoCodecProfile:100,userCount:0,userConfigExtraInfo:{},backgroundColor:0,transcodingUsers:[]},J=function(e){switch(e){case"h264_interop":return"h264";default:return"vp8"}},Y=function(e){return-1===m.indexOf(e.mode)?T.default.INVALID_CLIENT_MODE:-1===h.indexOf(e.codec)?T.default.INVALID_CLIENT_CODEC:"h264_interop"==e.mode&&"h264"!==e.codec&&T.default.CLIENT_MODE_CODEC_MISMATCH},K=function(e){switch(e.mode){case"interop":case"h264_interop":e.mode="live";break;case"web-only":e.mode="rtc"}},z=l.a.getDevices,X=f.a.getScreenSources,Q=JSON.parse(JSON.stringify(r.SUPPORT_RESOLUTION_LIST));t.default={TranscodingUser:{uid:0,x:0,y:0,width:0,height:0,zOrder:0,alpha:1},LiveTranscoding:q,createClient:function(e){var t=o.report.reportApiInvoke(null,{name:"createClient",options:arguments,tag:"tracer"});(e=y()({},e||{})).codec||(e.codec=J(e.mode));var n=Y(e);if(n)throw i.default.error("Invalid parameter setting MODE: ".concat(e.mode," CODEC: ").concat(e.codec," ERROR ").concat(n)),t(n),new Error(n);return i.default.info("Creating client, MODE: ".concat(e.mode," CODEC: ").concat(e.codec)),K(e),t(null,e),H(e)},createStream:u.b,Logger:i.default,report:o.report,getDevices:z,getScreenSources:X,getParameter:r.getParameter,setParameter:r.setParameter,checkSystemRequirements:function(){var e=o.report.reportApiInvoke(null,{name:"checkSystemRequirements",options:arguments,tag:"tracer"}),t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket,a=!!t&&!!n&&!!r,c=!1;s.isChrome()&&s.getBrowserVersion()>=58&&"iOS"!==s.getBrowserOS()&&(c=!0),s.isFireFox()&&s.getBrowserVersion()>=56&&(c=!0),s.isOpera()&&s.getBrowserVersion()>=45&&(c=!0),s.isSafari()&&s.getBrowserVersion()>=11&&(c=!0),s.isEdge()&&(c=!0),(s.isWeChatBrowser()||s.isQQBrowser())&&"iOS"!==s.getBrowserOS()&&(c=!0),s.isSupportedPC()||s.isSupportedMobile()||(c=!1),i.default.debug(s.getBrowserInfo(),"isAPISupport: "+a+", isVendorAndVersionSupport: "+c);var d=a&&c;return e(null,d),d},getSupportedCodec:p.getSupportedCodec,ChannelMediaRelayConfiguration:g.ChannelMediaRelayConfiguration,VERSION:r.VERSION,BUILD:r.BUILD,PROFILE_TABLE:Q,AUDIO_SAMPLE_RATE_32000:32e3,AUDIO_SAMPLE_RATE_44100:44100,AUDIO_SAMPLE_RATE_48000:48e3,VIDEO_CODEC_PROFILE_BASELINE:66,VIDEO_CODEC_PROFILE_MAIN:77,VIDEO_CODEC_PROFILE_HIGH:100,REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2,AREAS:B.AREAS,AREA_VERSION:"global"}}]).default}));

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

		// Support: Chrome <=57, Firefox <=52
		// In some browsers, typeof returns "function" for HTML <object> elements
		// (i.e., `typeof document.createElement( "object" ) === "function"`).
		// We don't want to classify *any* DOM node as a function.
		// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5
		// Plus for old WebKit, typeof returns "function" for HTML collections
		// (e.g., `typeof document.getElementsByTagName("div") === "function"`). (gh-4756)
		return typeof obj === "function" && typeof obj.nodeType !== "number" &&
			typeof obj.item !== "function";
	};


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.6.0",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a provided context; falls back to the global one
	// if not specified.
	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
						[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return flat( ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
	function( _i, name ) {
		class2type[ "[object " + name + "]" ] = name.toLowerCase();
	} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
( function( window ) {
var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ( {} ).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	pushNative = arr.push,
	push = arr.push,
	slice = arr.slice,

	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[ i ] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +
		"ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +

		// "Attribute values must be CSS identifiers [capture 5]
		// or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +
		whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +
		"*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
			whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
			whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),

		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		return nonHex ?

			// Strip the backslash prefix from a non-hex escape sequence
			nonHex :

			// Replace a hexadecimal escape sequence with the encoded Unicode code point
			// Support: IE <=11+
			// For values outside the Basic Multilingual Plane (BMP), manually construct a
			// surrogate pair
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" +
				ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	// Support: Android<4.0
	// Detect silently failing push.apply
	// eslint-disable-next-line no-unused-expressions
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;

			// Can't trust NodeList.length
			while ( ( target[ j++ ] = els[ i++ ] ) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				// ID selector
				if ( ( m = match[ 1 ] ) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&

				// Support: IE 8 only
				// Exclude object elements
				( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// The technique has to be used as well when a leading combinator is used
				// as such selectors are not recognized by querySelectorAll.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					// We can use :scope instead of the ID hack if the browser
					// supports it & if we're not changing the context.
					if ( newContext !== context || !support.scope ) {

						// Capture the context ID, setting it first if necessary
						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = nid.replace( rcssescape, fcssescape );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {

		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split( "|" ),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[ i ] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( ( cur = cur.nextSibling ) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return ( name === "input" || name === "button" ) && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
					inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem && elem.namespaceURI,
		docElem = elem && ( elem.ownerDocument || elem ).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9 - 11+, Edge 12 - 18+
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
	// Safari 4 - 5 only, Opera <=11.6 - 12.x only
	// IE/Edge & older browsers don't support the :scope pseudo-class.
	// Support: Safari 6.0 only
	// Safari 6.0 supports :scope but it's an alias of :root there.
	support.scope = assert( function( el ) {
		docElem.appendChild( el ).appendChild( document.createElement( "div" ) );
		return typeof el.querySelectorAll !== "undefined" &&
			!el.querySelectorAll( ":scope fieldset div" ).length;
	} );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert( function( el ) {
		el.className = "i";
		return !el.getAttribute( "className" );
	} );

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert( function( el ) {
		el.appendChild( document.createComment( "" ) );
		return !el.getElementsByTagName( "*" ).length;
	} );

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert( function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	} );

	// ID filter and find
	if ( support.getById ) {
		Expr.filter[ "ID" ] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter[ "ID" ] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find[ "TAG" ] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,

				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( ( elem = results[ i++ ] ) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert( function( el ) {

			var input;

			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll( "[selected]" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push( "~=" );
			}

			// Support: IE 11+, Edge 15 - 18+
			// IE 11/Edge don't find elements on a `[name='']` query in some cases.
			// Adding a temporary attribute to the document before the selection works
			// around the issue.
			// Interestingly, IE 10 & older don't seem to have the issue.
			input = document.createElement( "input" );
			input.setAttribute( "name", "" );
			el.appendChild( input );
			if ( !el.querySelectorAll( "[name='']" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
					whitespace + "*(?:''|\"\")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll( ":checked" ).length ) {
				rbuggyQSA.push( ":checked" );
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push( ".#.+[+~]" );
			}

			// Support: Firefox <=3.6 - 5 only
			// Old Firefox doesn't throw on a badly-escaped identifier.
			el.querySelectorAll( "\\\f" );
			rbuggyQSA.push( "[\\r\\n\\f]" );
		} );

		assert( function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement( "input" );
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll( "[name=d]" ).length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll( ":enabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: Opera 10 - 11 only
			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll( "*,:x" );
			rbuggyQSA.push( ",.*:" );
		} );
	}

	if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector ) ) ) ) {

		assert( function( el ) {

			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		} );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			) );
		} :
		function( a, b ) {
			if ( b ) {
				while ( ( b = b.parentNode ) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		// Support: IE 11+, Edge 17 - 18+
		// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
		// two documents; shallow comparisons work.
		// eslint-disable-next-line eqeqeq
		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			// Choose the first element that is related to our preferred document
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( a == document || a.ownerDocument == preferredDoc &&
				contains( preferredDoc, a ) ) {
				return -1;
			}

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( b == document || b.ownerDocument == preferredDoc &&
				contains( preferredDoc, b ) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			return a == document ? -1 :
				b == document ? 1 :
				/* eslint-enable eqeqeq */
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( ( cur = cur.parentNode ) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( ( cur = cur.parentNode ) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[ i ] === bp[ i ] ) {
			i++;
		}

		return i ?

			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[ i ], bp[ i ] ) :

			// Otherwise nodes in our document sort first
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			ap[ i ] == preferredDoc ? -1 :
			bp[ i ] == preferredDoc ? 1 :
			/* eslint-enable eqeqeq */
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||

				// As well, disconnected nodes are said to be in a document
				// fragment in IE 9
				elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			( val = elem.getAttributeNode( name ) ) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {

		// If no nodeType, this is expected to be an array
		while ( ( node = elem[ i++ ] ) ) {

			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {

			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}

	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[ 3 ] = ( match[ 3 ] || match[ 4 ] ||
				match[ 5 ] || "" ).replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {

			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				// nth-* requires argument
				if ( !match[ 3 ] ) {
					Sizzle.error( match[ 0 ] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

				// other types prohibit arguments
			} else if ( match[ 3 ] ) {
				Sizzle.error( match[ 0 ] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&

				// Get excess from tokenize (recursively)
				( excess = tokenize( unquoted, true ) ) &&

				// advance to the next closing parenthesis
				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				// excess is a negative index
				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace +
					")" + className + "(" + whitespace + "|$)" ) ) && classCache(
						className, function( elem ) {
							return pattern.test(
								typeof elem.className === "string" && elem.className ||
								typeof elem.getAttribute !== "undefined" &&
									elem.getAttribute( "class" ) ||
								""
							);
				} );
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				/* eslint-disable max-len */

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
				/* eslint-enable max-len */

			};
		},

		"CHILD": function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}

								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || ( node[ expando ] = {} );

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								( outerCache[ node.uniqueID ] = {} );

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							// Use previously-cached element index if available
							if ( useCache ) {

								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || ( node[ expando ] = {} );

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									( outerCache[ node.uniqueID ] = {} );

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {

								// Use the same loop as above to seek `elem` from the start
								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												( outerCache[ node.uniqueID ] = {} );

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {

			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		// Potentially complex pseudos
		"not": markFunction( function( selector ) {

			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					// Don't keep the element (issue #299)
					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		"has": markFunction( function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		} ),

		"contains": markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		} ),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {

			// lang value must be a valid identifier
			if ( !ridentifier.test( lang || "" ) ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement &&
				( !document.hasFocus || document.hasFocus() ) &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {

			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return ( nodeName === "input" && !!elem.checked ) ||
				( nodeName === "option" && !!elem.selected );
		},

		"selected": function( elem ) {

			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				// eslint-disable-next-line no-unused-expressions
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {

			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos[ "empty" ]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		"last": createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		"even": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"odd": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		// Combinators
		if ( ( match = rcombinators.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				// Cast descendant combinators to space
				type: match[ 0 ].replace( rtrim, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :

			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] ||
							( outerCache[ elem.uniqueID ] = {} );

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = uniqueCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts(
				selector || "*",
				context.nodeType ? [ context ] : context,
				[]
			),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?

				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							// Restore matcherIn since elem is not yet a final match
							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {

				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

					// If the preceding token was a descendant combinator, insert an implicit any-element `*`
					tokens
						.slice( 0, i - 1 )
						.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),

				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				// Support: IE 11+, Edge 17 - 18+
				// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
				// two documents; shallow comparisons work.
				// eslint-disable-next-line eqeqeq
				outermostContext = context == document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					// Support: IE 11+, Edge 17 - 18+
					// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
					// two documents; shallow comparisons work.
					// eslint-disable-next-line eqeqeq
					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {

					// They will have gone through all possible matchers
					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache(
			selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers )
		);

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
			context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find[ "ID" ]( token.matches[ 0 ]
				.replace( runescape, funescape ), context ) || [] )[ 0 ];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			// Abort if we hit a combinator
			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				// Search, expanding context for leading sibling combinators
				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||
						context
				) ) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert( function( el ) {

	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert( function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute( "href" ) === "#";
} ) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	} );
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert( function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
} ) ) {
	addHandle( "value", function( elem, _name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	} );
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert( function( el ) {
	return el.getAttribute( "disabled" ) == null;
} ) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
				( val = elem.getAttributeNode( name ) ) && val.specified ?
					val.value :
					null;
		}
	} );
}

return Sizzle;

} )( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

	return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

}
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			// Support: IE 11+
			// <object> elements with no `data` attribute has an object
			// `contentDocument` with a `null` prototype.
			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the primary Deferred
			primary = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						primary.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( primary.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return primary.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );
		}

		return primary.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
						value :
						value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// Support: IE <=9 only
	// IE <=9 replaces <option> tags with their contents when inserted outside of
	// the select element.
	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: IE <=9 only
if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Only attach events to objects that accept data
		if ( !acceptData( elem ) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( nativeEvent ),

			handlers = (
				dataPriv.get( this, "events" ) || Object.create( null )
			)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
						return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
						return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();

						// Support: Chrome 86+
						// In Chrome, if an element having a focusout handler is blurred by
						// clicking outside of it, it invokes the handler synchronously. If
						// that handler calls `.remove()` on the element, the data is cleared,
						// leaving `result` undefined. We need to guard against this.
						return result && result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,
	which: true
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		// Suppress native focus or blur as it's already being fired
		// in leverageNative.
		_default: function() {
			return true;
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		// Support: IE 9 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Behavior in IE 9 is more subtle than in newer versions & it passes
		// some versions of this test; make sure not to make it pass there!
		//
		// Support: Firefox 70+
		// Only Firefox includes border widths
		// in computed dimensions. (gh-4529)
		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";
				tr.style.cssText = "border:1px solid";

				// Support: Chrome 86+
				// Height set through cssText does not get applied.
				// Computed height then comes back as 0.
				tr.style.height = "1px";
				trChild.style.height = "9px";

				// Support: Android 8 Chrome 86+
				// In our bodyBackground.html iframe,
				// display for all div elements is set to "inline",
				// which causes a problem only in Android 8 Chrome 86.
				// Ensuring the div is display: block
				// gets around this issue.
				trChild.style.display = "block";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +
					parseInt( trStyle.borderTopWidth, 10 ) +
					parseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Support: IE 9 - 11 only
	// Use offsetWidth/offsetHeight for when box sizing is unreliable.
	// In those cases, the computed value can be trusted to be border-box.
	if ( ( !support.boxSizingReliable() && isBorderBox ||

		// Support: IE 10 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Interestingly, in some cases IE 9 doesn't suffer from this issue.
		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		// Fall back to offsetWidth/offsetHeight when value is "auto"
		// This happens for inline elements with no explicit setting (gh-3571)
		val === "auto" ||

		// Support: Android <=4.1 - 4.3 only
		// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		// Make sure the element is visible & connected
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
					swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, dimension, extra );
					} ) :
					getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
			) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
				jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

				/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
					animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};

		doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
							"" :
							dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || Object.create( null ) )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {

				// Handle: regular nodes (via `this.ownerDocument`), window
				// (via `this.document`) & document (via `this`).
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, parserErrorElem;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {}

	parserErrorElem = xml && xml.getElementsByTagName( "parsererror" )[ 0 ];
	if ( !xml || parserErrorElem ) {
		jQuery.error( "Invalid XML: " + (
			parserErrorElem ?
				jQuery.map( parserErrorElem.childNodes, function( el ) {
					return el.textContent;
				} ).join( "\n" ) :
				data
		) );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} ).filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} ).map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );

originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Use a noop converter for missing script but not if jsonp
			if ( !isSuccess &&
				jQuery.inArray( "script", s.dataTypes ) > -1 &&
				jQuery.inArray( "json", s.dataTypes ) < 0 ) {
				s.converters[ "text script" ] = function() {};
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( {
		padding: "inner" + name,
		content: type,
		"": "outer" + name
	}, function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );

jQuery.each(
	( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	}
);




// Support: Android <=4.0 only
// Make sure we trim BOM and NBSP
var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "" );
};



// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery, $, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */
var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */
(function (factory) {
  window.cash = factory();
})(function () {
  var doc = document,
      win = window,
      ArrayProto = Array.prototype,
      slice = ArrayProto.slice,
      filter = ArrayProto.filter,
      push = ArrayProto.push;

  var noop = function () {},
      isFunction = function (item) {
    // @see https://crbug.com/568448
    return typeof item === typeof noop && item.call;
  },
      isString = function (item) {
    return typeof item === typeof "";
  };

  var idMatch = /^#[\w-]*$/,
      classMatch = /^\.[\w-]*$/,
      htmlMatch = /<.+>/,
      singlet = /^\w+$/;

  function find(selector, context) {
    context = context || doc;
    var elems = classMatch.test(selector) ? context.getElementsByClassName(selector.slice(1)) : singlet.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);
    return elems;
  }

  var frag;
  function parseHTML(str) {
    if (!frag) {
      frag = doc.implementation.createHTMLDocument(null);
      var base = frag.createElement("base");
      base.href = doc.location.href;
      frag.head.appendChild(base);
    }

    frag.body.innerHTML = str;

    return frag.body.childNodes;
  }

  function onReady(fn) {
    if (doc.readyState !== "loading") {
      fn();
    } else {
      doc.addEventListener("DOMContentLoaded", fn);
    }
  }

  function Init(selector, context) {
    if (!selector) {
      return this;
    }

    // If already a cash collection, don't do any further processing
    if (selector.cash && selector !== win) {
      return selector;
    }

    var elems = selector,
        i = 0,
        length;

    if (isString(selector)) {
      elems = idMatch.test(selector) ?
      // If an ID use the faster getElementById check
      doc.getElementById(selector.slice(1)) : htmlMatch.test(selector) ?
      // If HTML, parse it into real elements
      parseHTML(selector) :
      // else use `find`
      find(selector, context);

      // If function, use as shortcut for DOM ready
    } else if (isFunction(selector)) {
      onReady(selector);return this;
    }

    if (!elems) {
      return this;
    }

    // If a single DOM element is passed in or received via ID, return the single element
    if (elems.nodeType || elems === win) {
      this[0] = elems;
      this.length = 1;
    } else {
      // Treat like an array and loop through each item.
      length = this.length = elems.length;
      for (; i < length; i++) {
        this[i] = elems[i];
      }
    }

    return this;
  }

  function cash(selector, context) {
    return new Init(selector, context);
  }

  var fn = cash.fn = cash.prototype = Init.prototype = { // jshint ignore:line
    cash: true,
    length: 0,
    push: push,
    splice: ArrayProto.splice,
    map: ArrayProto.map,
    init: Init
  };

  Object.defineProperty(fn, "constructor", { value: cash });

  cash.parseHTML = parseHTML;
  cash.noop = noop;
  cash.isFunction = isFunction;
  cash.isString = isString;

  cash.extend = fn.extend = function (target) {
    target = target || {};

    var args = slice.call(arguments),
        length = args.length,
        i = 1;

    if (args.length === 1) {
      target = this;
      i = 0;
    }

    for (; i < length; i++) {
      if (!args[i]) {
        continue;
      }
      for (var key in args[i]) {
        if (args[i].hasOwnProperty(key)) {
          target[key] = args[i][key];
        }
      }
    }

    return target;
  };

  function each(collection, callback) {
    var l = collection.length,
        i = 0;

    for (; i < l; i++) {
      if (callback.call(collection[i], collection[i], i, collection) === false) {
        break;
      }
    }
  }

  function matches(el, selector) {
    var m = el && (el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector || el.oMatchesSelector);
    return !!m && m.call(el, selector);
  }

  function getCompareFunction(selector) {
    return (
      /* Use browser's `matches` function if string */
      isString(selector) ? matches :
      /* Match a cash element */
      selector.cash ? function (el) {
        return selector.is(el);
      } :
      /* Direct comparison */
      function (el, selector) {
        return el === selector;
      }
    );
  }

  function unique(collection) {
    return cash(slice.call(collection).filter(function (item, index, self) {
      return self.indexOf(item) === index;
    }));
  }

  cash.extend({
    merge: function (first, second) {
      var len = +second.length,
          i = first.length,
          j = 0;

      for (; j < len; i++, j++) {
        first[i] = second[j];
      }

      first.length = i;
      return first;
    },

    each: each,
    matches: matches,
    unique: unique,
    isArray: Array.isArray,
    isNumeric: function (n) {
      return !isNaN(parseFloat(n)) && isFinite(n);
    }

  });

  var uid = cash.uid = "_cash" + Date.now();

  function getDataCache(node) {
    return node[uid] = node[uid] || {};
  }

  function setData(node, key, value) {
    return getDataCache(node)[key] = value;
  }

  function getData(node, key) {
    var c = getDataCache(node);
    if (c[key] === undefined) {
      c[key] = node.dataset ? node.dataset[key] : cash(node).attr("data-" + key);
    }
    return c[key];
  }

  function removeData(node, key) {
    var c = getDataCache(node);
    if (c) {
      delete c[key];
    } else if (node.dataset) {
      delete node.dataset[key];
    } else {
      cash(node).removeAttr("data-" + name);
    }
  }

  fn.extend({
    data: function (name, value) {
      if (isString(name)) {
        return value === undefined ? getData(this[0], name) : this.each(function (v) {
          return setData(v, name, value);
        });
      }

      for (var key in name) {
        this.data(key, name[key]);
      }

      return this;
    },

    removeData: function (key) {
      return this.each(function (v) {
        return removeData(v, key);
      });
    }

  });

  var notWhiteMatch = /\S+/g;

  function getClasses(c) {
    return isString(c) && c.match(notWhiteMatch);
  }

  function hasClass(v, c) {
    return v.classList ? v.classList.contains(c) : new RegExp("(^| )" + c + "( |$)", "gi").test(v.className);
  }

  function addClass(v, c, spacedName) {
    if (v.classList) {
      v.classList.add(c);
    } else if (spacedName.indexOf(" " + c + " ")) {
      v.className += " " + c;
    }
  }

  function removeClass(v, c) {
    if (v.classList) {
      v.classList.remove(c);
    } else {
      v.className = v.className.replace(c, "");
    }
  }

  fn.extend({
    addClass: function (c) {
      var classes = getClasses(c);

      return classes ? this.each(function (v) {
        var spacedName = " " + v.className + " ";
        each(classes, function (c) {
          addClass(v, c, spacedName);
        });
      }) : this;
    },

    attr: function (name, value) {
      if (!name) {
        return undefined;
      }

      if (isString(name)) {
        if (value === undefined) {
          return this[0] ? this[0].getAttribute ? this[0].getAttribute(name) : this[0][name] : undefined;
        }

        return this.each(function (v) {
          if (v.setAttribute) {
            v.setAttribute(name, value);
          } else {
            v[name] = value;
          }
        });
      }

      for (var key in name) {
        this.attr(key, name[key]);
      }

      return this;
    },

    hasClass: function (c) {
      var check = false,
          classes = getClasses(c);
      if (classes && classes.length) {
        this.each(function (v) {
          check = hasClass(v, classes[0]);
          return !check;
        });
      }
      return check;
    },

    prop: function (name, value) {
      if (isString(name)) {
        return value === undefined ? this[0][name] : this.each(function (v) {
          v[name] = value;
        });
      }

      for (var key in name) {
        this.prop(key, name[key]);
      }

      return this;
    },

    removeAttr: function (name) {
      return this.each(function (v) {
        if (v.removeAttribute) {
          v.removeAttribute(name);
        } else {
          delete v[name];
        }
      });
    },

    removeClass: function (c) {
      if (!arguments.length) {
        return this.attr("class", "");
      }
      var classes = getClasses(c);
      return classes ? this.each(function (v) {
        each(classes, function (c) {
          removeClass(v, c);
        });
      }) : this;
    },

    removeProp: function (name) {
      return this.each(function (v) {
        delete v[name];
      });
    },

    toggleClass: function (c, state) {
      if (state !== undefined) {
        return this[state ? "addClass" : "removeClass"](c);
      }
      var classes = getClasses(c);
      return classes ? this.each(function (v) {
        var spacedName = " " + v.className + " ";
        each(classes, function (c) {
          if (hasClass(v, c)) {
            removeClass(v, c);
          } else {
            addClass(v, c, spacedName);
          }
        });
      }) : this;
    } });

  fn.extend({
    add: function (selector, context) {
      return unique(cash.merge(this, cash(selector, context)));
    },

    each: function (callback) {
      each(this, callback);
      return this;
    },

    eq: function (index) {
      return cash(this.get(index));
    },

    filter: function (selector) {
      if (!selector) {
        return this;
      }

      var comparator = isFunction(selector) ? selector : getCompareFunction(selector);

      return cash(filter.call(this, function (e) {
        return comparator(e, selector);
      }));
    },

    first: function () {
      return this.eq(0);
    },

    get: function (index) {
      if (index === undefined) {
        return slice.call(this);
      }
      return index < 0 ? this[index + this.length] : this[index];
    },

    index: function (elem) {
      var child = elem ? cash(elem)[0] : this[0],
          collection = elem ? this : cash(child).parent().children();
      return slice.call(collection).indexOf(child);
    },

    last: function () {
      return this.eq(-1);
    }

  });

  var camelCase = function () {
    var camelRegex = /(?:^\w|[A-Z]|\b\w)/g,
        whiteSpace = /[\s-_]+/g;
    return function (str) {
      return str.replace(camelRegex, function (letter, index) {
        return letter[index === 0 ? "toLowerCase" : "toUpperCase"]();
      }).replace(whiteSpace, "");
    };
  }();

  var getPrefixedProp = function () {
    var cache = {},
        doc = document,
        div = doc.createElement("div"),
        style = div.style;

    return function (prop) {
      prop = camelCase(prop);
      if (cache[prop]) {
        return cache[prop];
      }

      var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),
          prefixes = ["webkit", "moz", "ms", "o"],
          props = (prop + " " + prefixes.join(ucProp + " ") + ucProp).split(" ");

      each(props, function (p) {
        if (p in style) {
          cache[p] = prop = cache[prop] = p;
          return false;
        }
      });

      return cache[prop];
    };
  }();

  cash.prefixedProp = getPrefixedProp;
  cash.camelCase = camelCase;

  fn.extend({
    css: function (prop, value) {
      if (isString(prop)) {
        prop = getPrefixedProp(prop);
        return arguments.length > 1 ? this.each(function (v) {
          return v.style[prop] = value;
        }) : win.getComputedStyle(this[0])[prop];
      }

      for (var key in prop) {
        this.css(key, prop[key]);
      }

      return this;
    }

  });

  function compute(el, prop) {
    return parseInt(win.getComputedStyle(el[0], null)[prop], 10) || 0;
  }

  each(["Width", "Height"], function (v) {
    var lower = v.toLowerCase();

    fn[lower] = function () {
      return this[0].getBoundingClientRect()[lower];
    };

    fn["inner" + v] = function () {
      return this[0]["client" + v];
    };

    fn["outer" + v] = function (margins) {
      return this[0]["offset" + v] + (margins ? compute(this, "margin" + (v === "Width" ? "Left" : "Top")) + compute(this, "margin" + (v === "Width" ? "Right" : "Bottom")) : 0);
    };
  });

  function registerEvent(node, eventName, callback) {
    var eventCache = getData(node, "_cashEvents") || setData(node, "_cashEvents", {});
    eventCache[eventName] = eventCache[eventName] || [];
    eventCache[eventName].push(callback);
    node.addEventListener(eventName, callback);
  }

  function removeEvent(node, eventName, callback) {
    var events = getData(node, "_cashEvents"),
        eventCache = events && events[eventName],
        index;

    if (!eventCache) {
      return;
    }

    if (callback) {
      node.removeEventListener(eventName, callback);
      index = eventCache.indexOf(callback);
      if (index >= 0) {
        eventCache.splice(index, 1);
      }
    } else {
      each(eventCache, function (event) {
        node.removeEventListener(eventName, event);
      });
      eventCache = [];
    }
  }

  fn.extend({
    off: function (eventName, callback) {
      return this.each(function (v) {
        return removeEvent(v, eventName, callback);
      });
    },

    on: function (eventName, delegate, callback, runOnce) {
      // jshint ignore:line
      var originalCallback;
      if (!isString(eventName)) {
        for (var key in eventName) {
          this.on(key, delegate, eventName[key]);
        }
        return this;
      }

      if (isFunction(delegate)) {
        callback = delegate;
        delegate = null;
      }

      if (eventName === "ready") {
        onReady(callback);
        return this;
      }

      if (delegate) {
        originalCallback = callback;
        callback = function (e) {
          var t = e.target;
          while (!matches(t, delegate)) {
            if (t === this || t === null) {
              return t = false;
            }

            t = t.parentNode;
          }

          if (t) {
            originalCallback.call(t, e);
          }
        };
      }

      return this.each(function (v) {
        var finalCallback = callback;
        if (runOnce) {
          finalCallback = function () {
            callback.apply(this, arguments);
            removeEvent(v, eventName, finalCallback);
          };
        }
        registerEvent(v, eventName, finalCallback);
      });
    },

    one: function (eventName, delegate, callback) {
      return this.on(eventName, delegate, callback, true);
    },

    ready: onReady,

    /**
     * Modified
     * Triggers browser event
     * @param String eventName
     * @param Object data - Add properties to event object
     */
    trigger: function (eventName, data) {
      if (document.createEvent) {
        var evt = document.createEvent('HTMLEvents');
        evt.initEvent(eventName, true, false);
        evt = this.extend(evt, data);
        return this.each(function (v) {
          return v.dispatchEvent(evt);
        });
      }
    }

  });

  function encode(name, value) {
    return "&" + encodeURIComponent(name) + "=" + encodeURIComponent(value).replace(/%20/g, "+");
  }

  function getSelectMultiple_(el) {
    var values = [];
    each(el.options, function (o) {
      if (o.selected) {
        values.push(o.value);
      }
    });
    return values.length ? values : null;
  }

  function getSelectSingle_(el) {
    var selectedIndex = el.selectedIndex;
    return selectedIndex >= 0 ? el.options[selectedIndex].value : null;
  }

  function getValue(el) {
    var type = el.type;
    if (!type) {
      return null;
    }
    switch (type.toLowerCase()) {
      case "select-one":
        return getSelectSingle_(el);
      case "select-multiple":
        return getSelectMultiple_(el);
      case "radio":
        return el.checked ? el.value : null;
      case "checkbox":
        return el.checked ? el.value : null;
      default:
        return el.value ? el.value : null;
    }
  }

  fn.extend({
    serialize: function () {
      var query = "";

      each(this[0].elements || this, function (el) {
        if (el.disabled || el.tagName === "FIELDSET") {
          return;
        }
        var name = el.name;
        switch (el.type.toLowerCase()) {
          case "file":
          case "reset":
          case "submit":
          case "button":
            break;
          case "select-multiple":
            var values = getValue(el);
            if (values !== null) {
              each(values, function (value) {
                query += encode(name, value);
              });
            }
            break;
          default:
            var value = getValue(el);
            if (value !== null) {
              query += encode(name, value);
            }
        }
      });

      return query.substr(1);
    },

    val: function (value) {
      if (value === undefined) {
        return getValue(this[0]);
      }

      return this.each(function (v) {
        return v.value = value;
      });
    }

  });

  function insertElement(el, child, prepend) {
    if (prepend) {
      var first = el.childNodes[0];
      el.insertBefore(child, first);
    } else {
      el.appendChild(child);
    }
  }

  function insertContent(parent, child, prepend) {
    var str = isString(child);

    if (!str && child.length) {
      each(child, function (v) {
        return insertContent(parent, v, prepend);
      });
      return;
    }

    each(parent, str ? function (v) {
      return v.insertAdjacentHTML(prepend ? "afterbegin" : "beforeend", child);
    } : function (v, i) {
      return insertElement(v, i === 0 ? child : child.cloneNode(true), prepend);
    });
  }

  fn.extend({
    after: function (selector) {
      cash(selector).insertAfter(this);
      return this;
    },

    append: function (content) {
      insertContent(this, content);
      return this;
    },

    appendTo: function (parent) {
      insertContent(cash(parent), this);
      return this;
    },

    before: function (selector) {
      cash(selector).insertBefore(this);
      return this;
    },

    clone: function () {
      return cash(this.map(function (v) {
        return v.cloneNode(true);
      }));
    },

    empty: function () {
      this.html("");
      return this;
    },

    html: function (content) {
      if (content === undefined) {
        return this[0].innerHTML;
      }
      var source = content.nodeType ? content[0].outerHTML : content;
      return this.each(function (v) {
        return v.innerHTML = source;
      });
    },

    insertAfter: function (selector) {
      var _this = this;

      cash(selector).each(function (el, i) {
        var parent = el.parentNode,
            sibling = el.nextSibling;
        _this.each(function (v) {
          parent.insertBefore(i === 0 ? v : v.cloneNode(true), sibling);
        });
      });

      return this;
    },

    insertBefore: function (selector) {
      var _this2 = this;
      cash(selector).each(function (el, i) {
        var parent = el.parentNode;
        _this2.each(function (v) {
          parent.insertBefore(i === 0 ? v : v.cloneNode(true), el);
        });
      });
      return this;
    },

    prepend: function (content) {
      insertContent(this, content, true);
      return this;
    },

    prependTo: function (parent) {
      insertContent(cash(parent), this, true);
      return this;
    },

    remove: function () {
      return this.each(function (v) {
        if (!!v.parentNode) {
          return v.parentNode.removeChild(v);
        }
      });
    },

    text: function (content) {
      if (content === undefined) {
        return this[0].textContent;
      }
      return this.each(function (v) {
        return v.textContent = content;
      });
    }

  });

  var docEl = doc.documentElement;

  fn.extend({
    position: function () {
      var el = this[0];
      return {
        left: el.offsetLeft,
        top: el.offsetTop
      };
    },

    offset: function () {
      var rect = this[0].getBoundingClientRect();
      return {
        top: rect.top + win.pageYOffset - docEl.clientTop,
        left: rect.left + win.pageXOffset - docEl.clientLeft
      };
    },

    offsetParent: function () {
      return cash(this[0].offsetParent);
    }

  });

  fn.extend({
    children: function (selector) {
      var elems = [];
      this.each(function (el) {
        push.apply(elems, el.children);
      });
      elems = unique(elems);

      return !selector ? elems : elems.filter(function (v) {
        return matches(v, selector);
      });
    },

    closest: function (selector) {
      if (!selector || this.length < 1) {
        return cash();
      }
      if (this.is(selector)) {
        return this.filter(selector);
      }
      return this.parent().closest(selector);
    },

    is: function (selector) {
      if (!selector) {
        return false;
      }

      var match = false,
          comparator = getCompareFunction(selector);

      this.each(function (el) {
        match = comparator(el, selector);
        return !match;
      });

      return match;
    },

    find: function (selector) {
      if (!selector || selector.nodeType) {
        return cash(selector && this.has(selector).length ? selector : null);
      }

      var elems = [];
      this.each(function (el) {
        push.apply(elems, find(selector, el));
      });

      return unique(elems);
    },

    has: function (selector) {
      var comparator = isString(selector) ? function (el) {
        return find(selector, el).length !== 0;
      } : function (el) {
        return el.contains(selector);
      };

      return this.filter(comparator);
    },

    next: function () {
      return cash(this[0].nextElementSibling);
    },

    not: function (selector) {
      if (!selector) {
        return this;
      }

      var comparator = getCompareFunction(selector);

      return this.filter(function (el) {
        return !comparator(el, selector);
      });
    },

    parent: function () {
      var result = [];

      this.each(function (item) {
        if (item && item.parentNode) {
          result.push(item.parentNode);
        }
      });

      return unique(result);
    },

    parents: function (selector) {
      var last,
          result = [];

      this.each(function (item) {
        last = item;

        while (last && last.parentNode && last !== doc.body.parentNode) {
          last = last.parentNode;

          if (!selector || selector && matches(last, selector)) {
            result.push(last);
          }
        }
      });

      return unique(result);
    },

    prev: function () {
      return cash(this[0].previousElementSibling);
    },

    siblings: function (selector) {
      var collection = this.parent().children(selector),
          el = this[0];

      return collection.filter(function (i) {
        return i !== el;
      });
    }

  });

  return cash;
});
;
var Component = function () {
  /**
   * Generic constructor for all components
   * @constructor
   * @param {Element} el
   * @param {Object} options
   */
  function Component(classDef, el, options) {
    _classCallCheck(this, Component);

    // Display error if el is valid HTML Element
    if (!(el instanceof Element)) {
      console.error(Error(el + ' is not an HTML Element'));
    }

    // If exists, destroy and reinitialize in child
    var ins = classDef.getInstance(el);
    if (!!ins) {
      ins.destroy();
    }

    this.el = el;
    this.$el = cash(el);
  }

  /**
   * Initializes components
   * @param {class} classDef
   * @param {Element | NodeList | jQuery} els
   * @param {Object} options
   */


  _createClass(Component, null, [{
    key: "init",
    value: function init(classDef, els, options) {
      var instances = null;
      if (els instanceof Element) {
        instances = new classDef(els, options);
      } else if (!!els && (els.jquery || els.cash || els instanceof NodeList)) {
        var instancesArr = [];
        for (var i = 0; i < els.length; i++) {
          instancesArr.push(new classDef(els[i], options));
        }
        instances = instancesArr;
      }

      return instances;
    }
  }]);

  return Component;
}();

; // Required for Meteor package, the use of window prevents export by Meteor
(function (window) {
  if (window.Package) {
    M = {};
  } else {
    window.M = {};
  }

  // Check for jQuery
  M.jQueryLoaded = !!window.jQuery;
})(window);

// AMD
if (true) {
  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
    return M;
  }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

  // Common JS
} else {}

M.version = '1.0.0';

M.keys = {
  TAB: 9,
  ENTER: 13,
  ESC: 27,
  ARROW_UP: 38,
  ARROW_DOWN: 40
};

/**
 * TabPress Keydown handler
 */
M.tabPressed = false;
M.keyDown = false;
var docHandleKeydown = function (e) {
  M.keyDown = true;
  if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {
    M.tabPressed = true;
  }
};
var docHandleKeyup = function (e) {
  M.keyDown = false;
  if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {
    M.tabPressed = false;
  }
};
var docHandleFocus = function (e) {
  if (M.keyDown) {
    document.body.classList.add('keyboard-focused');
  }
};
var docHandleBlur = function (e) {
  document.body.classList.remove('keyboard-focused');
};
document.addEventListener('keydown', docHandleKeydown, true);
document.addEventListener('keyup', docHandleKeyup, true);
document.addEventListener('focus', docHandleFocus, true);
document.addEventListener('blur', docHandleBlur, true);

/**
 * Initialize jQuery wrapper for plugin
 * @param {Class} plugin  javascript class
 * @param {string} pluginName  jQuery plugin name
 * @param {string} classRef  Class reference name
 */
M.initializeJqueryWrapper = function (plugin, pluginName, classRef) {
  jQuery.fn[pluginName] = function (methodOrOptions) {
    // Call plugin method if valid method name is passed in
    if (plugin.prototype[methodOrOptions]) {
      var params = Array.prototype.slice.call(arguments, 1);

      // Getter methods
      if (methodOrOptions.slice(0, 3) === 'get') {
        var instance = this.first()[0][classRef];
        return instance[methodOrOptions].apply(instance, params);
      }

      // Void methods
      return this.each(function () {
        var instance = this[classRef];
        instance[methodOrOptions].apply(instance, params);
      });

      // Initialize plugin if options or no argument is passed in
    } else if (typeof methodOrOptions === 'object' || !methodOrOptions) {
      plugin.init(this, arguments[0]);
      return this;
    }

    // Return error if an unrecognized  method name is passed in
    jQuery.error("Method " + methodOrOptions + " does not exist on jQuery." + pluginName);
  };
};

/**
 * Automatically initialize components
 * @param {Element} context  DOM Element to search within for components
 */
M.AutoInit = function (context) {
  // Use document.body if no context is given
  var root = !!context ? context : document.body;

  var registry = {
    Autocomplete: root.querySelectorAll('.autocomplete:not(.no-autoinit)'),
    Carousel: root.querySelectorAll('.carousel:not(.no-autoinit)'),
    Chips: root.querySelectorAll('.chips:not(.no-autoinit)'),
    Collapsible: root.querySelectorAll('.collapsible:not(.no-autoinit)'),
    Datepicker: root.querySelectorAll('.datepicker:not(.no-autoinit)'),
    Dropdown: root.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),
    Materialbox: root.querySelectorAll('.materialboxed:not(.no-autoinit)'),
    Modal: root.querySelectorAll('.modal:not(.no-autoinit)'),
    Parallax: root.querySelectorAll('.parallax:not(.no-autoinit)'),
    Pushpin: root.querySelectorAll('.pushpin:not(.no-autoinit)'),
    ScrollSpy: root.querySelectorAll('.scrollspy:not(.no-autoinit)'),
    FormSelect: root.querySelectorAll('select:not(.no-autoinit)'),
    Sidenav: root.querySelectorAll('.sidenav:not(.no-autoinit)'),
    Tabs: root.querySelectorAll('.tabs:not(.no-autoinit)'),
    TapTarget: root.querySelectorAll('.tap-target:not(.no-autoinit)'),
    Timepicker: root.querySelectorAll('.timepicker:not(.no-autoinit)'),
    Tooltip: root.querySelectorAll('.tooltipped:not(.no-autoinit)'),
    FloatingActionButton: root.querySelectorAll('.fixed-action-btn:not(.no-autoinit)')
  };

  for (var pluginName in registry) {
    var plugin = M[pluginName];
    plugin.init(registry[pluginName]);
  }
};

/**
 * Generate approximated selector string for a jQuery object
 * @param {jQuery} obj  jQuery object to be parsed
 * @returns {string}
 */
M.objectSelectorString = function (obj) {
  var tagStr = obj.prop('tagName') || '';
  var idStr = obj.attr('id') || '';
  var classStr = obj.attr('class') || '';
  return (tagStr + idStr + classStr).replace(/\s/g, '');
};

// Unique Random ID
M.guid = function () {
  function s4() {
    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
  }
  return function () {
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
  };
}();

/**
 * Escapes hash from special characters
 * @param {string} hash  String returned from this.hash
 * @returns {string}
 */
M.escapeHash = function (hash) {
  return hash.replace(/(:|\.|\[|\]|,|=|\/)/g, '\\$1');
};

M.elementOrParentIsFixed = function (element) {
  var $element = $(element);
  var $checkElements = $element.add($element.parents());
  var isFixed = false;
  $checkElements.each(function () {
    if ($(this).css('position') === 'fixed') {
      isFixed = true;
      return false;
    }
  });
  return isFixed;
};

/**
 * @typedef {Object} Edges
 * @property {Boolean} top  If the top edge was exceeded
 * @property {Boolean} right  If the right edge was exceeded
 * @property {Boolean} bottom  If the bottom edge was exceeded
 * @property {Boolean} left  If the left edge was exceeded
 */

/**
 * @typedef {Object} Bounding
 * @property {Number} left  left offset coordinate
 * @property {Number} top  top offset coordinate
 * @property {Number} width
 * @property {Number} height
 */

/**
 * Escapes hash from special characters
 * @param {Element} container  Container element that acts as the boundary
 * @param {Bounding} bounding  element bounding that is being checked
 * @param {Number} offset  offset from edge that counts as exceeding
 * @returns {Edges}
 */
M.checkWithinContainer = function (container, bounding, offset) {
  var edges = {
    top: false,
    right: false,
    bottom: false,
    left: false
  };

  var containerRect = container.getBoundingClientRect();
  // If body element is smaller than viewport, use viewport height instead.
  var containerBottom = container === document.body ? Math.max(containerRect.bottom, window.innerHeight) : containerRect.bottom;

  var scrollLeft = container.scrollLeft;
  var scrollTop = container.scrollTop;

  var scrolledX = bounding.left - scrollLeft;
  var scrolledY = bounding.top - scrollTop;

  // Check for container and viewport for each edge
  if (scrolledX < containerRect.left + offset || scrolledX < offset) {
    edges.left = true;
  }

  if (scrolledX + bounding.width > containerRect.right - offset || scrolledX + bounding.width > window.innerWidth - offset) {
    edges.right = true;
  }

  if (scrolledY < containerRect.top + offset || scrolledY < offset) {
    edges.top = true;
  }

  if (scrolledY + bounding.height > containerBottom - offset || scrolledY + bounding.height > window.innerHeight - offset) {
    edges.bottom = true;
  }

  return edges;
};

M.checkPossibleAlignments = function (el, container, bounding, offset) {
  var canAlign = {
    top: true,
    right: true,
    bottom: true,
    left: true,
    spaceOnTop: null,
    spaceOnRight: null,
    spaceOnBottom: null,
    spaceOnLeft: null
  };

  var containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';
  var containerRect = container.getBoundingClientRect();
  var containerHeight = Math.min(containerRect.height, window.innerHeight);
  var containerWidth = Math.min(containerRect.width, window.innerWidth);
  var elOffsetRect = el.getBoundingClientRect();

  var scrollLeft = container.scrollLeft;
  var scrollTop = container.scrollTop;

  var scrolledX = bounding.left - scrollLeft;
  var scrolledYTopEdge = bounding.top - scrollTop;
  var scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;

  // Check for container and viewport for left
  canAlign.spaceOnRight = !containerAllowsOverflow ? containerWidth - (scrolledX + bounding.width) : window.innerWidth - (elOffsetRect.left + bounding.width);
  if (canAlign.spaceOnRight < 0) {
    canAlign.left = false;
  }

  // Check for container and viewport for Right
  canAlign.spaceOnLeft = !containerAllowsOverflow ? scrolledX - bounding.width + elOffsetRect.width : elOffsetRect.right - bounding.width;
  if (canAlign.spaceOnLeft < 0) {
    canAlign.right = false;
  }

  // Check for container and viewport for Top
  canAlign.spaceOnBottom = !containerAllowsOverflow ? containerHeight - (scrolledYTopEdge + bounding.height + offset) : window.innerHeight - (elOffsetRect.top + bounding.height + offset);
  if (canAlign.spaceOnBottom < 0) {
    canAlign.top = false;
  }

  // Check for container and viewport for Bottom
  canAlign.spaceOnTop = !containerAllowsOverflow ? scrolledYBottomEdge - (bounding.height - offset) : elOffsetRect.bottom - (bounding.height + offset);
  if (canAlign.spaceOnTop < 0) {
    canAlign.bottom = false;
  }

  return canAlign;
};

M.getOverflowParent = function (element) {
  if (element == null) {
    return null;
  }

  if (element === document.body || getComputedStyle(element).overflow !== 'visible') {
    return element;
  }

  return M.getOverflowParent(element.parentElement);
};

/**
 * Gets id of component from a trigger
 * @param {Element} trigger  trigger
 * @returns {string}
 */
M.getIdFromTrigger = function (trigger) {
  var id = trigger.getAttribute('data-target');
  if (!id) {
    id = trigger.getAttribute('href');
    if (id) {
      id = id.slice(1);
    } else {
      id = '';
    }
  }
  return id;
};

/**
 * Multi browser support for document scroll top
 * @returns {Number}
 */
M.getDocumentScrollTop = function () {
  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
};

/**
 * Multi browser support for document scroll left
 * @returns {Number}
 */
M.getDocumentScrollLeft = function () {
  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
};

/**
 * @typedef {Object} Edges
 * @property {Boolean} top  If the top edge was exceeded
 * @property {Boolean} right  If the right edge was exceeded
 * @property {Boolean} bottom  If the bottom edge was exceeded
 * @property {Boolean} left  If the left edge was exceeded
 */

/**
 * @typedef {Object} Bounding
 * @property {Number} left  left offset coordinate
 * @property {Number} top  top offset coordinate
 * @property {Number} width
 * @property {Number} height
 */

/**
 * Get time in ms
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @type {function}
 * @return {number}
 */
var getTime = Date.now || function () {
  return new Date().getTime();
};

/**
 * Returns a function, that, when invoked, will only be triggered at most once
 * during a given window of time. Normally, the throttled function will run
 * as much as it can, without ever going more than once per `wait` duration;
 * but if you'd like to disable the execution on the leading edge, pass
 * `{leading: false}`. To disable execution on the trailing edge, ditto.
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @param {function} func
 * @param {number} wait
 * @param {Object=} options
 * @returns {Function}
 */
M.throttle = function (func, wait, options) {
  var context = void 0,
      args = void 0,
      result = void 0;
  var timeout = null;
  var previous = 0;
  options || (options = {});
  var later = function () {
    previous = options.leading === false ? 0 : getTime();
    timeout = null;
    result = func.apply(context, args);
    context = args = null;
  };
  return function () {
    var now = getTime();
    if (!previous && options.leading === false) previous = now;
    var remaining = wait - (now - previous);
    context = this;
    args = arguments;
    if (remaining <= 0) {
      clearTimeout(timeout);
      timeout = null;
      previous = now;
      result = func.apply(context, args);
      context = args = null;
    } else if (!timeout && options.trailing !== false) {
      timeout = setTimeout(later, remaining);
    }
    return result;
  };
};
; /*
  v2.2.0
  2017 Julian Garnier
  Released under the MIT license
  */
var $jscomp = { scope: {} };$jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function (e, r, p) {
  if (p.get || p.set) throw new TypeError("ES3 does not support getters and setters.");e != Array.prototype && e != Object.prototype && (e[r] = p.value);
};$jscomp.getGlobal = function (e) {
  return "undefined" != typeof window && window === e ? e : "undefined" != typeof global && null != global ? global : e;
};$jscomp.global = $jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function () {
  $jscomp.initSymbol = function () {};$jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol);
};$jscomp.symbolCounter_ = 0;$jscomp.Symbol = function (e) {
  return $jscomp.SYMBOL_PREFIX + (e || "") + $jscomp.symbolCounter_++;
};
$jscomp.initSymbolIterator = function () {
  $jscomp.initSymbol();var e = $jscomp.global.Symbol.iterator;e || (e = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));"function" != typeof Array.prototype[e] && $jscomp.defineProperty(Array.prototype, e, { configurable: !0, writable: !0, value: function () {
      return $jscomp.arrayIterator(this);
    } });$jscomp.initSymbolIterator = function () {};
};$jscomp.arrayIterator = function (e) {
  var r = 0;return $jscomp.iteratorPrototype(function () {
    return r < e.length ? { done: !1, value: e[r++] } : { done: !0 };
  });
};
$jscomp.iteratorPrototype = function (e) {
  $jscomp.initSymbolIterator();e = { next: e };e[$jscomp.global.Symbol.iterator] = function () {
    return this;
  };return e;
};$jscomp.array = $jscomp.array || {};$jscomp.iteratorFromArray = function (e, r) {
  $jscomp.initSymbolIterator();e instanceof String && (e += "");var p = 0,
      m = { next: function () {
      if (p < e.length) {
        var u = p++;return { value: r(u, e[u]), done: !1 };
      }m.next = function () {
        return { done: !0, value: void 0 };
      };return m.next();
    } };m[Symbol.iterator] = function () {
    return m;
  };return m;
};
$jscomp.polyfill = function (e, r, p, m) {
  if (r) {
    p = $jscomp.global;e = e.split(".");for (m = 0; m < e.length - 1; m++) {
      var u = e[m];u in p || (p[u] = {});p = p[u];
    }e = e[e.length - 1];m = p[e];r = r(m);r != m && null != r && $jscomp.defineProperty(p, e, { configurable: !0, writable: !0, value: r });
  }
};$jscomp.polyfill("Array.prototype.keys", function (e) {
  return e ? e : function () {
    return $jscomp.iteratorFromArray(this, function (e) {
      return e;
    });
  };
}, "es6-impl", "es3");var $jscomp$this = this;
(function (r) {
  M.anime = r();
})(function () {
  function e(a) {
    if (!h.col(a)) try {
      return document.querySelectorAll(a);
    } catch (c) {}
  }function r(a, c) {
    for (var d = a.length, b = 2 <= arguments.length ? arguments[1] : void 0, f = [], n = 0; n < d; n++) {
      if (n in a) {
        var k = a[n];c.call(b, k, n, a) && f.push(k);
      }
    }return f;
  }function p(a) {
    return a.reduce(function (a, d) {
      return a.concat(h.arr(d) ? p(d) : d);
    }, []);
  }function m(a) {
    if (h.arr(a)) return a;
    h.str(a) && (a = e(a) || a);return a instanceof NodeList || a instanceof HTMLCollection ? [].slice.call(a) : [a];
  }function u(a, c) {
    return a.some(function (a) {
      return a === c;
    });
  }function C(a) {
    var c = {},
        d;for (d in a) {
      c[d] = a[d];
    }return c;
  }function D(a, c) {
    var d = C(a),
        b;for (b in a) {
      d[b] = c.hasOwnProperty(b) ? c[b] : a[b];
    }return d;
  }function z(a, c) {
    var d = C(a),
        b;for (b in c) {
      d[b] = h.und(a[b]) ? c[b] : a[b];
    }return d;
  }function T(a) {
    a = a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (a, c, d, k) {
      return c + c + d + d + k + k;
    });var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
    a = parseInt(c[1], 16);var d = parseInt(c[2], 16),
        c = parseInt(c[3], 16);return "rgba(" + a + "," + d + "," + c + ",1)";
  }function U(a) {
    function c(a, c, b) {
      0 > b && (b += 1);1 < b && --b;return b < 1 / 6 ? a + 6 * (c - a) * b : .5 > b ? c : b < 2 / 3 ? a + (c - a) * (2 / 3 - b) * 6 : a;
    }var d = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(a);a = parseInt(d[1]) / 360;var b = parseInt(d[2]) / 100,
        f = parseInt(d[3]) / 100,
        d = d[4] || 1;if (0 == b) f = b = a = f;else {
      var n = .5 > f ? f * (1 + b) : f + b - f * b,
          k = 2 * f - n,
          f = c(k, n, a + 1 / 3),
          b = c(k, n, a);a = c(k, n, a - 1 / 3);
    }return "rgba(" + 255 * f + "," + 255 * b + "," + 255 * a + "," + d + ")";
  }function y(a) {
    if (a = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a)) return a[2];
  }function V(a) {
    if (-1 < a.indexOf("translate") || "perspective" === a) return "px";if (-1 < a.indexOf("rotate") || -1 < a.indexOf("skew")) return "deg";
  }function I(a, c) {
    return h.fnc(a) ? a(c.target, c.id, c.total) : a;
  }function E(a, c) {
    if (c in a.style) return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0";
  }function J(a, c) {
    if (h.dom(a) && u(W, c)) return "transform";if (h.dom(a) && (a.getAttribute(c) || h.svg(a) && a[c])) return "attribute";if (h.dom(a) && "transform" !== c && E(a, c)) return "css";if (null != a[c]) return "object";
  }function X(a, c) {
    var d = V(c),
        d = -1 < c.indexOf("scale") ? 1 : 0 + d;a = a.style.transform;if (!a) return d;for (var b = [], f = [], n = [], k = /(\w+)\((.+?)\)/g; b = k.exec(a);) {
      f.push(b[1]), n.push(b[2]);
    }a = r(n, function (a, b) {
      return f[b] === c;
    });return a.length ? a[0] : d;
  }function K(a, c) {
    switch (J(a, c)) {case "transform":
        return X(a, c);case "css":
        return E(a, c);case "attribute":
        return a.getAttribute(c);}return a[c] || 0;
  }function L(a, c) {
    var d = /^(\*=|\+=|-=)/.exec(a);if (!d) return a;var b = y(a) || 0;c = parseFloat(c);a = parseFloat(a.replace(d[0], ""));switch (d[0][0]) {case "+":
        return c + a + b;case "-":
        return c - a + b;case "*":
        return c * a + b;}
  }function F(a, c) {
    return Math.sqrt(Math.pow(c.x - a.x, 2) + Math.pow(c.y - a.y, 2));
  }function M(a) {
    a = a.points;for (var c = 0, d, b = 0; b < a.numberOfItems; b++) {
      var f = a.getItem(b);0 < b && (c += F(d, f));d = f;
    }return c;
  }function N(a) {
    if (a.getTotalLength) return a.getTotalLength();switch (a.tagName.toLowerCase()) {case "circle":
        return 2 * Math.PI * a.getAttribute("r");case "rect":
        return 2 * a.getAttribute("width") + 2 * a.getAttribute("height");case "line":
        return F({ x: a.getAttribute("x1"), y: a.getAttribute("y1") }, { x: a.getAttribute("x2"), y: a.getAttribute("y2") });case "polyline":
        return M(a);case "polygon":
        var c = a.points;return M(a) + F(c.getItem(c.numberOfItems - 1), c.getItem(0));}
  }function Y(a, c) {
    function d(b) {
      b = void 0 === b ? 0 : b;return a.el.getPointAtLength(1 <= c + b ? c + b : 0);
    }var b = d(),
        f = d(-1),
        n = d(1);switch (a.property) {case "x":
        return b.x;case "y":
        return b.y;
      case "angle":
        return 180 * Math.atan2(n.y - f.y, n.x - f.x) / Math.PI;}
  }function O(a, c) {
    var d = /-?\d*\.?\d+/g,
        b;b = h.pth(a) ? a.totalLength : a;if (h.col(b)) {
      if (h.rgb(b)) {
        var f = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(b);b = f ? "rgba(" + f[1] + ",1)" : b;
      } else b = h.hex(b) ? T(b) : h.hsl(b) ? U(b) : void 0;
    } else f = (f = y(b)) ? b.substr(0, b.length - f.length) : b, b = c && !/\s/g.test(b) ? f + c : f;b += "";return { original: b, numbers: b.match(d) ? b.match(d).map(Number) : [0], strings: h.str(a) || c ? b.split(d) : [] };
  }function P(a) {
    a = a ? p(h.arr(a) ? a.map(m) : m(a)) : [];return r(a, function (a, d, b) {
      return b.indexOf(a) === d;
    });
  }function Z(a) {
    var c = P(a);return c.map(function (a, b) {
      return { target: a, id: b, total: c.length };
    });
  }function aa(a, c) {
    var d = C(c);if (h.arr(a)) {
      var b = a.length;2 !== b || h.obj(a[0]) ? h.fnc(c.duration) || (d.duration = c.duration / b) : a = { value: a };
    }return m(a).map(function (a, b) {
      b = b ? 0 : c.delay;a = h.obj(a) && !h.pth(a) ? a : { value: a };h.und(a.delay) && (a.delay = b);return a;
    }).map(function (a) {
      return z(a, d);
    });
  }function ba(a, c) {
    var d = {},
        b;for (b in a) {
      var f = I(a[b], c);h.arr(f) && (f = f.map(function (a) {
        return I(a, c);
      }), 1 === f.length && (f = f[0]));d[b] = f;
    }d.duration = parseFloat(d.duration);d.delay = parseFloat(d.delay);return d;
  }function ca(a) {
    return h.arr(a) ? A.apply(this, a) : Q[a];
  }function da(a, c) {
    var d;return a.tweens.map(function (b) {
      b = ba(b, c);var f = b.value,
          e = K(c.target, a.name),
          k = d ? d.to.original : e,
          k = h.arr(f) ? f[0] : k,
          w = L(h.arr(f) ? f[1] : f, k),
          e = y(w) || y(k) || y(e);b.from = O(k, e);b.to = O(w, e);b.start = d ? d.end : a.offset;b.end = b.start + b.delay + b.duration;b.easing = ca(b.easing);b.elasticity = (1E3 - Math.min(Math.max(b.elasticity, 1), 999)) / 1E3;b.isPath = h.pth(f);b.isColor = h.col(b.from.original);b.isColor && (b.round = 1);return d = b;
    });
  }function ea(a, c) {
    return r(p(a.map(function (a) {
      return c.map(function (b) {
        var c = J(a.target, b.name);if (c) {
          var d = da(b, a);b = { type: c, property: b.name, animatable: a, tweens: d, duration: d[d.length - 1].end, delay: d[0].delay };
        } else b = void 0;return b;
      });
    })), function (a) {
      return !h.und(a);
    });
  }function R(a, c, d, b) {
    var f = "delay" === a;return c.length ? (f ? Math.min : Math.max).apply(Math, c.map(function (b) {
      return b[a];
    })) : f ? b.delay : d.offset + b.delay + b.duration;
  }function fa(a) {
    var c = D(ga, a),
        d = D(S, a),
        b = Z(a.targets),
        f = [],
        e = z(c, d),
        k;for (k in a) {
      e.hasOwnProperty(k) || "targets" === k || f.push({ name: k, offset: e.offset, tweens: aa(a[k], d) });
    }a = ea(b, f);return z(c, { children: [], animatables: b, animations: a, duration: R("duration", a, c, d), delay: R("delay", a, c, d) });
  }function q(a) {
    function c() {
      return window.Promise && new Promise(function (a) {
        return p = a;
      });
    }function d(a) {
      return g.reversed ? g.duration - a : a;
    }function b(a) {
      for (var b = 0, c = {}, d = g.animations, f = d.length; b < f;) {
        var e = d[b],
            k = e.animatable,
            h = e.tweens,
            n = h.length - 1,
            l = h[n];n && (l = r(h, function (b) {
          return a < b.end;
        })[0] || l);for (var h = Math.min(Math.max(a - l.start - l.delay, 0), l.duration) / l.duration, w = isNaN(h) ? 1 : l.easing(h, l.elasticity), h = l.to.strings, p = l.round, n = [], m = void 0, m = l.to.numbers.length, t = 0; t < m; t++) {
          var x = void 0,
              x = l.to.numbers[t],
              q = l.from.numbers[t],
              x = l.isPath ? Y(l.value, w * x) : q + w * (x - q);p && (l.isColor && 2 < t || (x = Math.round(x * p) / p));n.push(x);
        }if (l = h.length) for (m = h[0], w = 0; w < l; w++) {
          p = h[w + 1], t = n[w], isNaN(t) || (m = p ? m + (t + p) : m + (t + " "));
        } else m = n[0];ha[e.type](k.target, e.property, m, c, k.id);e.currentValue = m;b++;
      }if (b = Object.keys(c).length) for (d = 0; d < b; d++) {
        H || (H = E(document.body, "transform") ? "transform" : "-webkit-transform"), g.animatables[d].target.style[H] = c[d].join(" ");
      }g.currentTime = a;g.progress = a / g.duration * 100;
    }function f(a) {
      if (g[a]) g[a](g);
    }function e() {
      g.remaining && !0 !== g.remaining && g.remaining--;
    }function k(a) {
      var k = g.duration,
          n = g.offset,
          w = n + g.delay,
          r = g.currentTime,
          x = g.reversed,
          q = d(a);if (g.children.length) {
        var u = g.children,
            v = u.length;
        if (q >= g.currentTime) for (var G = 0; G < v; G++) {
          u[G].seek(q);
        } else for (; v--;) {
          u[v].seek(q);
        }
      }if (q >= w || !k) g.began || (g.began = !0, f("begin")), f("run");if (q > n && q < k) b(q);else if (q <= n && 0 !== r && (b(0), x && e()), q >= k && r !== k || !k) b(k), x || e();f("update");a >= k && (g.remaining ? (t = h, "alternate" === g.direction && (g.reversed = !g.reversed)) : (g.pause(), g.completed || (g.completed = !0, f("complete"), "Promise" in window && (p(), m = c()))), l = 0);
    }a = void 0 === a ? {} : a;var h,
        t,
        l = 0,
        p = null,
        m = c(),
        g = fa(a);g.reset = function () {
      var a = g.direction,
          c = g.loop;g.currentTime = 0;g.progress = 0;g.paused = !0;g.began = !1;g.completed = !1;g.reversed = "reverse" === a;g.remaining = "alternate" === a && 1 === c ? 2 : c;b(0);for (a = g.children.length; a--;) {
        g.children[a].reset();
      }
    };g.tick = function (a) {
      h = a;t || (t = h);k((l + h - t) * q.speed);
    };g.seek = function (a) {
      k(d(a));
    };g.pause = function () {
      var a = v.indexOf(g);-1 < a && v.splice(a, 1);g.paused = !0;
    };g.play = function () {
      g.paused && (g.paused = !1, t = 0, l = d(g.currentTime), v.push(g), B || ia());
    };g.reverse = function () {
      g.reversed = !g.reversed;t = 0;l = d(g.currentTime);
    };g.restart = function () {
      g.pause();
      g.reset();g.play();
    };g.finished = m;g.reset();g.autoplay && g.play();return g;
  }var ga = { update: void 0, begin: void 0, run: void 0, complete: void 0, loop: 1, direction: "normal", autoplay: !0, offset: 0 },
      S = { duration: 1E3, delay: 0, easing: "easeOutElastic", elasticity: 500, round: 0 },
      W = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),
      H,
      h = { arr: function (a) {
      return Array.isArray(a);
    }, obj: function (a) {
      return -1 < Object.prototype.toString.call(a).indexOf("Object");
    },
    pth: function (a) {
      return h.obj(a) && a.hasOwnProperty("totalLength");
    }, svg: function (a) {
      return a instanceof SVGElement;
    }, dom: function (a) {
      return a.nodeType || h.svg(a);
    }, str: function (a) {
      return "string" === typeof a;
    }, fnc: function (a) {
      return "function" === typeof a;
    }, und: function (a) {
      return "undefined" === typeof a;
    }, hex: function (a) {
      return (/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)
      );
    }, rgb: function (a) {
      return (/^rgb/.test(a)
      );
    }, hsl: function (a) {
      return (/^hsl/.test(a)
      );
    }, col: function (a) {
      return h.hex(a) || h.rgb(a) || h.hsl(a);
    } },
      A = function () {
    function a(a, d, b) {
      return (((1 - 3 * b + 3 * d) * a + (3 * b - 6 * d)) * a + 3 * d) * a;
    }return function (c, d, b, f) {
      if (0 <= c && 1 >= c && 0 <= b && 1 >= b) {
        var e = new Float32Array(11);if (c !== d || b !== f) for (var k = 0; 11 > k; ++k) {
          e[k] = a(.1 * k, c, b);
        }return function (k) {
          if (c === d && b === f) return k;if (0 === k) return 0;if (1 === k) return 1;for (var h = 0, l = 1; 10 !== l && e[l] <= k; ++l) {
            h += .1;
          }--l;var l = h + (k - e[l]) / (e[l + 1] - e[l]) * .1,
              n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;if (.001 <= n) {
            for (h = 0; 4 > h; ++h) {
              n = 3 * (1 - 3 * b + 3 * c) * l * l + 2 * (3 * b - 6 * c) * l + 3 * c;if (0 === n) break;var m = a(l, c, b) - k,
                  l = l - m / n;
            }k = l;
          } else if (0 === n) k = l;else {
            var l = h,
                h = h + .1,
                g = 0;do {
              m = l + (h - l) / 2, n = a(m, c, b) - k, 0 < n ? h = m : l = m;
            } while (1e-7 < Math.abs(n) && 10 > ++g);k = m;
          }return a(k, d, f);
        };
      }
    };
  }(),
      Q = function () {
    function a(a, b) {
      return 0 === a || 1 === a ? a : -Math.pow(2, 10 * (a - 1)) * Math.sin(2 * (a - 1 - b / (2 * Math.PI) * Math.asin(1)) * Math.PI / b);
    }var c = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),
        d = { In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], a], Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (b, c) {
        return 1 - a(1 - b, c);
      }], InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (b, c) {
        return .5 > b ? a(2 * b, c) / 2 : 1 - a(-2 * b + 2, c) / 2;
      }] },
        b = { linear: A(.25, .25, .75, .75) },
        f = {},
        e;for (e in d) {
      f.type = e, d[f.type].forEach(function (a) {
        return function (d, f) {
          b["ease" + a.type + c[f]] = h.fnc(d) ? d : A.apply($jscomp$this, d);
        };
      }(f)), f = { type: f.type };
    }return b;
  }(),
      ha = { css: function (a, c, d) {
      return a.style[c] = d;
    }, attribute: function (a, c, d) {
      return a.setAttribute(c, d);
    }, object: function (a, c, d) {
      return a[c] = d;
    }, transform: function (a, c, d, b, f) {
      b[f] || (b[f] = []);b[f].push(c + "(" + d + ")");
    } },
      v = [],
      B = 0,
      ia = function () {
    function a() {
      B = requestAnimationFrame(c);
    }function c(c) {
      var b = v.length;if (b) {
        for (var d = 0; d < b;) {
          v[d] && v[d].tick(c), d++;
        }a();
      } else cancelAnimationFrame(B), B = 0;
    }return a;
  }();q.version = "2.2.0";q.speed = 1;q.running = v;q.remove = function (a) {
    a = P(a);for (var c = v.length; c--;) {
      for (var d = v[c], b = d.animations, f = b.length; f--;) {
        u(a, b[f].animatable.target) && (b.splice(f, 1), b.length || d.pause());
      }
    }
  };q.getValue = K;q.path = function (a, c) {
    var d = h.str(a) ? e(a)[0] : a,
        b = c || 100;return function (a) {
      return { el: d, property: a, totalLength: N(d) * (b / 100) };
    };
  };q.setDashoffset = function (a) {
    var c = N(a);a.setAttribute("stroke-dasharray", c);return c;
  };q.bezier = A;q.easings = Q;q.timeline = function (a) {
    var c = q(a);c.pause();c.duration = 0;c.add = function (d) {
      c.children.forEach(function (a) {
        a.began = !0;a.completed = !0;
      });m(d).forEach(function (b) {
        var d = z(b, D(S, a || {}));d.targets = d.targets || a.targets;b = c.duration;var e = d.offset;d.autoplay = !1;d.direction = c.direction;d.offset = h.und(e) ? b : L(e, b);c.began = !0;c.completed = !0;c.seek(d.offset);d = q(d);d.began = !0;d.completed = !0;d.duration > b && (c.duration = d.duration);c.children.push(d);
      });c.seek(0);c.reset();c.autoplay && c.restart();return c;
    };return c;
  };q.random = function (a, c) {
    return Math.floor(Math.random() * (c - a + 1)) + a;
  };return q;
});
;(function ($, anim) {
  'use strict';

  var _defaults = {
    accordion: true,
    onOpenStart: undefined,
    onOpenEnd: undefined,
    onCloseStart: undefined,
    onCloseEnd: undefined,
    inDuration: 300,
    outDuration: 300
  };

  /**
   * @class
   *
   */

  var Collapsible = function (_Component) {
    _inherits(Collapsible, _Component);

    /**
     * Construct Collapsible instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Collapsible(el, options) {
      _classCallCheck(this, Collapsible);

      var _this3 = _possibleConstructorReturn(this, (Collapsible.__proto__ || Object.getPrototypeOf(Collapsible)).call(this, Collapsible, el, options));

      _this3.el.M_Collapsible = _this3;

      /**
       * Options for the collapsible
       * @member Collapsible#options
       * @prop {Boolean} [accordion=false] - Type of the collapsible
       * @prop {Function} onOpenStart - Callback function called before collapsible is opened
       * @prop {Function} onOpenEnd - Callback function called after collapsible is opened
       * @prop {Function} onCloseStart - Callback function called before collapsible is closed
       * @prop {Function} onCloseEnd - Callback function called after collapsible is closed
       * @prop {Number} inDuration - Transition in duration in milliseconds.
       * @prop {Number} outDuration - Transition duration in milliseconds.
       */
      _this3.options = $.extend({}, Collapsible.defaults, options);

      // Setup tab indices
      _this3.$headers = _this3.$el.children('li').children('.collapsible-header');
      _this3.$headers.attr('tabindex', 0);

      _this3._setupEventHandlers();

      // Open first active
      var $activeBodies = _this3.$el.children('li.active').children('.collapsible-body');
      if (_this3.options.accordion) {
        // Handle Accordion
        $activeBodies.first().css('display', 'block');
      } else {
        // Handle Expandables
        $activeBodies.css('display', 'block');
      }
      return _this3;
    }

    _createClass(Collapsible, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Collapsible = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this4 = this;

        this._handleCollapsibleClickBound = this._handleCollapsibleClick.bind(this);
        this._handleCollapsibleKeydownBound = this._handleCollapsibleKeydown.bind(this);
        this.el.addEventListener('click', this._handleCollapsibleClickBound);
        this.$headers.each(function (header) {
          header.addEventListener('keydown', _this4._handleCollapsibleKeydownBound);
        });
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this5 = this;

        this.el.removeEventListener('click', this._handleCollapsibleClickBound);
        this.$headers.each(function (header) {
          header.removeEventListener('keydown', _this5._handleCollapsibleKeydownBound);
        });
      }

      /**
       * Handle Collapsible Click
       * @param {Event} e
       */

    }, {
      key: "_handleCollapsibleClick",
      value: function _handleCollapsibleClick(e) {
        var $header = $(e.target).closest('.collapsible-header');
        if (e.target && $header.length) {
          var $collapsible = $header.closest('.collapsible');
          if ($collapsible[0] === this.el) {
            var $collapsibleLi = $header.closest('li');
            var $collapsibleLis = $collapsible.children('li');
            var isActive = $collapsibleLi[0].classList.contains('active');
            var index = $collapsibleLis.index($collapsibleLi);

            if (isActive) {
              this.close(index);
            } else {
              this.open(index);
            }
          }
        }
      }

      /**
       * Handle Collapsible Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleCollapsibleKeydown",
      value: function _handleCollapsibleKeydown(e) {
        if (e.keyCode === 13) {
          this._handleCollapsibleClickBound(e);
        }
      }

      /**
       * Animate in collapsible slide
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "_animateIn",
      value: function _animateIn(index) {
        var _this6 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length) {
          var $body = $collapsibleLi.children('.collapsible-body');

          anim.remove($body[0]);
          $body.css({
            display: 'block',
            overflow: 'hidden',
            height: 0,
            paddingTop: '',
            paddingBottom: ''
          });

          var pTop = $body.css('padding-top');
          var pBottom = $body.css('padding-bottom');
          var finalHeight = $body[0].scrollHeight;
          $body.css({
            paddingTop: 0,
            paddingBottom: 0
          });

          anim({
            targets: $body[0],
            height: finalHeight,
            paddingTop: pTop,
            paddingBottom: pBottom,
            duration: this.options.inDuration,
            easing: 'easeInOutCubic',
            complete: function (anim) {
              $body.css({
                overflow: '',
                paddingTop: '',
                paddingBottom: '',
                height: ''
              });

              // onOpenEnd callback
              if (typeof _this6.options.onOpenEnd === 'function') {
                _this6.options.onOpenEnd.call(_this6, $collapsibleLi[0]);
              }
            }
          });
        }
      }

      /**
       * Animate out collapsible slide
       * @param {Number} index - 0th index of slide to open
       */

    }, {
      key: "_animateOut",
      value: function _animateOut(index) {
        var _this7 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length) {
          var $body = $collapsibleLi.children('.collapsible-body');
          anim.remove($body[0]);
          $body.css('overflow', 'hidden');
          anim({
            targets: $body[0],
            height: 0,
            paddingTop: 0,
            paddingBottom: 0,
            duration: this.options.outDuration,
            easing: 'easeInOutCubic',
            complete: function () {
              $body.css({
                height: '',
                overflow: '',
                padding: '',
                display: ''
              });

              // onCloseEnd callback
              if (typeof _this7.options.onCloseEnd === 'function') {
                _this7.options.onCloseEnd.call(_this7, $collapsibleLi[0]);
              }
            }
          });
        }
      }

      /**
       * Open Collapsible
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "open",
      value: function open(index) {
        var _this8 = this;

        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length && !$collapsibleLi[0].classList.contains('active')) {
          // onOpenStart callback
          if (typeof this.options.onOpenStart === 'function') {
            this.options.onOpenStart.call(this, $collapsibleLi[0]);
          }

          // Handle accordion behavior
          if (this.options.accordion) {
            var $collapsibleLis = this.$el.children('li');
            var $activeLis = this.$el.children('li.active');
            $activeLis.each(function (el) {
              var index = $collapsibleLis.index($(el));
              _this8.close(index);
            });
          }

          // Animate in
          $collapsibleLi[0].classList.add('active');
          this._animateIn(index);
        }
      }

      /**
       * Close Collapsible
       * @param {Number} index - 0th index of slide
       */

    }, {
      key: "close",
      value: function close(index) {
        var $collapsibleLi = this.$el.children('li').eq(index);
        if ($collapsibleLi.length && $collapsibleLi[0].classList.contains('active')) {
          // onCloseStart callback
          if (typeof this.options.onCloseStart === 'function') {
            this.options.onCloseStart.call(this, $collapsibleLi[0]);
          }

          // Animate out
          $collapsibleLi[0].classList.remove('active');
          this._animateOut(index);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Collapsible.__proto__ || Object.getPrototypeOf(Collapsible), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Collapsible;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Collapsible;
  }(Component);

  M.Collapsible = Collapsible;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Collapsible, 'collapsible', 'M_Collapsible');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    alignment: 'left',
    autoFocus: true,
    constrainWidth: true,
    container: null,
    coverTrigger: true,
    closeOnClick: true,
    hover: false,
    inDuration: 150,
    outDuration: 250,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    onItemClick: null
  };

  /**
   * @class
   */

  var Dropdown = function (_Component2) {
    _inherits(Dropdown, _Component2);

    function Dropdown(el, options) {
      _classCallCheck(this, Dropdown);

      var _this9 = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, Dropdown, el, options));

      _this9.el.M_Dropdown = _this9;
      Dropdown._dropdowns.push(_this9);

      _this9.id = M.getIdFromTrigger(el);
      _this9.dropdownEl = document.getElementById(_this9.id);
      _this9.$dropdownEl = $(_this9.dropdownEl);

      /**
       * Options for the dropdown
       * @member Dropdown#options
       * @prop {String} [alignment='left'] - Edge which the dropdown is aligned to
       * @prop {Boolean} [autoFocus=true] - Automatically focus dropdown el for keyboard
       * @prop {Boolean} [constrainWidth=true] - Constrain width to width of the button
       * @prop {Element} container - Container element to attach dropdown to (optional)
       * @prop {Boolean} [coverTrigger=true] - Place dropdown over trigger
       * @prop {Boolean} [closeOnClick=true] - Close on click of dropdown item
       * @prop {Boolean} [hover=false] - Open dropdown on hover
       * @prop {Number} [inDuration=150] - Duration of open animation in ms
       * @prop {Number} [outDuration=250] - Duration of close animation in ms
       * @prop {Function} onOpenStart - Function called when dropdown starts opening
       * @prop {Function} onOpenEnd - Function called when dropdown finishes opening
       * @prop {Function} onCloseStart - Function called when dropdown starts closing
       * @prop {Function} onCloseEnd - Function called when dropdown finishes closing
       */
      _this9.options = $.extend({}, Dropdown.defaults, options);

      /**
       * Describes open/close state of dropdown
       * @type {Boolean}
       */
      _this9.isOpen = false;

      /**
       * Describes if dropdown content is scrollable
       * @type {Boolean}
       */
      _this9.isScrollable = false;

      /**
       * Describes if touch moving on dropdown content
       * @type {Boolean}
       */
      _this9.isTouchMoving = false;

      _this9.focusedIndex = -1;
      _this9.filterQuery = [];

      // Move dropdown-content after dropdown-trigger
      if (!!_this9.options.container) {
        $(_this9.options.container).append(_this9.dropdownEl);
      } else {
        _this9.$el.after(_this9.dropdownEl);
      }

      _this9._makeDropdownFocusable();
      _this9._resetFilterQueryBound = _this9._resetFilterQuery.bind(_this9);
      _this9._handleDocumentClickBound = _this9._handleDocumentClick.bind(_this9);
      _this9._handleDocumentTouchmoveBound = _this9._handleDocumentTouchmove.bind(_this9);
      _this9._handleDropdownClickBound = _this9._handleDropdownClick.bind(_this9);
      _this9._handleDropdownKeydownBound = _this9._handleDropdownKeydown.bind(_this9);
      _this9._handleTriggerKeydownBound = _this9._handleTriggerKeydown.bind(_this9);
      _this9._setupEventHandlers();
      return _this9;
    }

    _createClass(Dropdown, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._resetDropdownStyles();
        this._removeEventHandlers();
        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);
        this.el.M_Dropdown = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        // Trigger keydown handler
        this.el.addEventListener('keydown', this._handleTriggerKeydownBound);

        // Item click handler
        this.dropdownEl.addEventListener('click', this._handleDropdownClickBound);

        // Hover event handlers
        if (this.options.hover) {
          this._handleMouseEnterBound = this._handleMouseEnter.bind(this);
          this.el.addEventListener('mouseenter', this._handleMouseEnterBound);
          this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);
          this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);
          this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeaveBound);

          // Click event handlers
        } else {
          this._handleClickBound = this._handleClick.bind(this);
          this.el.addEventListener('click', this._handleClickBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('keydown', this._handleTriggerKeydownBound);
        this.dropdownEl.removeEventListener('click', this._handleDropdownClickBound);

        if (this.options.hover) {
          this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);
          this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);
          this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeaveBound);
        } else {
          this.el.removeEventListener('click', this._handleClickBound);
        }
      }
    }, {
      key: "_setupTemporaryEventHandlers",
      value: function _setupTemporaryEventHandlers() {
        // Use capture phase event handler to prevent click
        document.body.addEventListener('click', this._handleDocumentClickBound, true);
        document.body.addEventListener('touchend', this._handleDocumentClickBound);
        document.body.addEventListener('touchmove', this._handleDocumentTouchmoveBound);
        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydownBound);
      }
    }, {
      key: "_removeTemporaryEventHandlers",
      value: function _removeTemporaryEventHandlers() {
        // Use capture phase event handler to prevent click
        document.body.removeEventListener('click', this._handleDocumentClickBound, true);
        document.body.removeEventListener('touchend', this._handleDocumentClickBound);
        document.body.removeEventListener('touchmove', this._handleDocumentTouchmoveBound);
        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydownBound);
      }
    }, {
      key: "_handleClick",
      value: function _handleClick(e) {
        e.preventDefault();
        this.open();
      }
    }, {
      key: "_handleMouseEnter",
      value: function _handleMouseEnter() {
        this.open();
      }
    }, {
      key: "_handleMouseLeave",
      value: function _handleMouseLeave(e) {
        var toEl = e.toElement || e.relatedTarget;
        var leaveToDropdownContent = !!$(toEl).closest('.dropdown-content').length;
        var leaveToActiveDropdownTrigger = false;

        var $closestTrigger = $(toEl).closest('.dropdown-trigger');
        if ($closestTrigger.length && !!$closestTrigger[0].M_Dropdown && $closestTrigger[0].M_Dropdown.isOpen) {
          leaveToActiveDropdownTrigger = true;
        }

        // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content
        if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {
          this.close();
        }
      }
    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        var _this10 = this;

        var $target = $(e.target);
        if (this.options.closeOnClick && $target.closest('.dropdown-content').length && !this.isTouchMoving) {
          // isTouchMoving to check if scrolling on mobile.
          setTimeout(function () {
            _this10.close();
          }, 0);
        } else if ($target.closest('.dropdown-trigger').length || !$target.closest('.dropdown-content').length) {
          setTimeout(function () {
            _this10.close();
          }, 0);
        }
        this.isTouchMoving = false;
      }
    }, {
      key: "_handleTriggerKeydown",
      value: function _handleTriggerKeydown(e) {
        // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown
        if ((e.which === M.keys.ARROW_DOWN || e.which === M.keys.ENTER) && !this.isOpen) {
          e.preventDefault();
          this.open();
        }
      }

      /**
       * Handle Document Touchmove
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentTouchmove",
      value: function _handleDocumentTouchmove(e) {
        var $target = $(e.target);
        if ($target.closest('.dropdown-content').length) {
          this.isTouchMoving = true;
        }
      }

      /**
       * Handle Dropdown Click
       * @param {Event} e
       */

    }, {
      key: "_handleDropdownClick",
      value: function _handleDropdownClick(e) {
        // onItemClick callback
        if (typeof this.options.onItemClick === 'function') {
          var itemEl = $(e.target).closest('li')[0];
          this.options.onItemClick.call(this, itemEl);
        }
      }

      /**
       * Handle Dropdown Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleDropdownKeydown",
      value: function _handleDropdownKeydown(e) {
        if (e.which === M.keys.TAB) {
          e.preventDefault();
          this.close();

          // Navigate down dropdown list
        } else if ((e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) && this.isOpen) {
          e.preventDefault();
          var direction = e.which === M.keys.ARROW_DOWN ? 1 : -1;
          var newFocusedIndex = this.focusedIndex;
          var foundNewIndex = false;
          do {
            newFocusedIndex = newFocusedIndex + direction;

            if (!!this.dropdownEl.children[newFocusedIndex] && this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {
              foundNewIndex = true;
              break;
            }
          } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);

          if (foundNewIndex) {
            this.focusedIndex = newFocusedIndex;
            this._focusFocusedItem();
          }

          // ENTER selects choice on focused item
        } else if (e.which === M.keys.ENTER && this.isOpen) {
          // Search for <a> and <button>
          var focusedElement = this.dropdownEl.children[this.focusedIndex];
          var $activatableElement = $(focusedElement).find('a, button').first();

          // Click a or button tag if exists, otherwise click li tag
          if (!!$activatableElement.length) {
            $activatableElement[0].click();
          } else if (!!focusedElement) {
            focusedElement.click();
          }

          // Close dropdown on ESC
        } else if (e.which === M.keys.ESC && this.isOpen) {
          e.preventDefault();
          this.close();
        }

        // CASE WHEN USER TYPE LETTERS
        var letter = String.fromCharCode(e.which).toLowerCase(),
            nonLetters = [9, 13, 27, 38, 40];
        if (letter && nonLetters.indexOf(e.which) === -1) {
          this.filterQuery.push(letter);

          var string = this.filterQuery.join(''),
              newOptionEl = $(this.dropdownEl).find('li').filter(function (el) {
            return $(el).text().toLowerCase().indexOf(string) === 0;
          })[0];

          if (newOptionEl) {
            this.focusedIndex = $(newOptionEl).index();
            this._focusFocusedItem();
          }
        }

        this.filterTimeout = setTimeout(this._resetFilterQueryBound, 1000);
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_resetFilterQuery",
      value: function _resetFilterQuery() {
        this.filterQuery = [];
      }
    }, {
      key: "_resetDropdownStyles",
      value: function _resetDropdownStyles() {
        this.$dropdownEl.css({
          display: '',
          width: '',
          height: '',
          left: '',
          top: '',
          'transform-origin': '',
          transform: '',
          opacity: ''
        });
      }
    }, {
      key: "_makeDropdownFocusable",
      value: function _makeDropdownFocusable() {
        // Needed for arrow key navigation
        this.dropdownEl.tabIndex = 0;

        // Only set tabindex if it hasn't been set by user
        $(this.dropdownEl).children().each(function (el) {
          if (!el.getAttribute('tabindex')) {
            el.setAttribute('tabindex', 0);
          }
        });
      }
    }, {
      key: "_focusFocusedItem",
      value: function _focusFocusedItem() {
        if (this.focusedIndex >= 0 && this.focusedIndex < this.dropdownEl.children.length && this.options.autoFocus) {
          this.dropdownEl.children[this.focusedIndex].focus();
        }
      }
    }, {
      key: "_getDropdownPosition",
      value: function _getDropdownPosition() {
        var offsetParentBRect = this.el.offsetParent.getBoundingClientRect();
        var triggerBRect = this.el.getBoundingClientRect();
        var dropdownBRect = this.dropdownEl.getBoundingClientRect();

        var idealHeight = dropdownBRect.height;
        var idealWidth = dropdownBRect.width;
        var idealXPos = triggerBRect.left - dropdownBRect.left;
        var idealYPos = triggerBRect.top - dropdownBRect.top;

        var dropdownBounds = {
          left: idealXPos,
          top: idealYPos,
          height: idealHeight,
          width: idealWidth
        };

        // Countainer here will be closest ancestor with overflow: hidden
        var closestOverflowParent = !!this.dropdownEl.offsetParent ? this.dropdownEl.offsetParent : this.dropdownEl.parentNode;

        var alignments = M.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);

        var verticalAlignment = 'top';
        var horizontalAlignment = this.options.alignment;
        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;

        // Reset isScrollable
        this.isScrollable = false;

        if (!alignments.top) {
          if (alignments.bottom) {
            verticalAlignment = 'bottom';
          } else {
            this.isScrollable = true;

            // Determine which side has most space and cutoff at correct height
            if (alignments.spaceOnTop > alignments.spaceOnBottom) {
              verticalAlignment = 'bottom';
              idealHeight += alignments.spaceOnTop;
              idealYPos -= alignments.spaceOnTop;
            } else {
              idealHeight += alignments.spaceOnBottom;
            }
          }
        }

        // If preferred horizontal alignment is possible
        if (!alignments[horizontalAlignment]) {
          var oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';
          if (alignments[oppositeAlignment]) {
            horizontalAlignment = oppositeAlignment;
          } else {
            // Determine which side has most space and cutoff at correct height
            if (alignments.spaceOnLeft > alignments.spaceOnRight) {
              horizontalAlignment = 'right';
              idealWidth += alignments.spaceOnLeft;
              idealXPos -= alignments.spaceOnLeft;
            } else {
              horizontalAlignment = 'left';
              idealWidth += alignments.spaceOnRight;
            }
          }
        }

        if (verticalAlignment === 'bottom') {
          idealYPos = idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);
        }
        if (horizontalAlignment === 'right') {
          idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;
        }
        return {
          x: idealXPos,
          y: idealYPos,
          verticalAlignment: verticalAlignment,
          horizontalAlignment: horizontalAlignment,
          height: idealHeight,
          width: idealWidth
        };
      }

      /**
       * Animate in dropdown
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        var _this11 = this;

        anim.remove(this.dropdownEl);
        anim({
          targets: this.dropdownEl,
          opacity: {
            value: [0, 1],
            easing: 'easeOutQuad'
          },
          scaleX: [0.3, 1],
          scaleY: [0.3, 1],
          duration: this.options.inDuration,
          easing: 'easeOutQuint',
          complete: function (anim) {
            if (_this11.options.autoFocus) {
              _this11.dropdownEl.focus();
            }

            // onOpenEnd callback
            if (typeof _this11.options.onOpenEnd === 'function') {
              _this11.options.onOpenEnd.call(_this11, _this11.el);
            }
          }
        });
      }

      /**
       * Animate out dropdown
       */

    }, {
      key: "_animateOut",
      value: function _animateOut() {
        var _this12 = this;

        anim.remove(this.dropdownEl);
        anim({
          targets: this.dropdownEl,
          opacity: {
            value: 0,
            easing: 'easeOutQuint'
          },
          scaleX: 0.3,
          scaleY: 0.3,
          duration: this.options.outDuration,
          easing: 'easeOutQuint',
          complete: function (anim) {
            _this12._resetDropdownStyles();

            // onCloseEnd callback
            if (typeof _this12.options.onCloseEnd === 'function') {
              _this12.options.onCloseEnd.call(_this12, _this12.el);
            }
          }
        });
      }

      /**
       * Place dropdown
       */

    }, {
      key: "_placeDropdown",
      value: function _placeDropdown() {
        // Set width before calculating positionInfo
        var idealWidth = this.options.constrainWidth ? this.el.getBoundingClientRect().width : this.dropdownEl.getBoundingClientRect().width;
        this.dropdownEl.style.width = idealWidth + 'px';

        var positionInfo = this._getDropdownPosition();
        this.dropdownEl.style.left = positionInfo.x + 'px';
        this.dropdownEl.style.top = positionInfo.y + 'px';
        this.dropdownEl.style.height = positionInfo.height + 'px';
        this.dropdownEl.style.width = positionInfo.width + 'px';
        this.dropdownEl.style.transformOrigin = (positionInfo.horizontalAlignment === 'left' ? '0' : '100%') + " " + (positionInfo.verticalAlignment === 'top' ? '0' : '100%');
      }

      /**
       * Open Dropdown
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }
        this.isOpen = true;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Reset styles
        this._resetDropdownStyles();
        this.dropdownEl.style.display = 'block';

        this._placeDropdown();
        this._animateIn();
        this._setupTemporaryEventHandlers();
      }

      /**
       * Close Dropdown
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }
        this.isOpen = false;
        this.focusedIndex = -1;

        // onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        this._animateOut();
        this._removeTemporaryEventHandlers();

        if (this.options.autoFocus) {
          this.el.focus();
        }
      }

      /**
       * Recalculate dimensions
       */

    }, {
      key: "recalculateDimensions",
      value: function recalculateDimensions() {
        if (this.isOpen) {
          this.$dropdownEl.css({
            width: '',
            height: '',
            left: '',
            top: '',
            'transform-origin': ''
          });
          this._placeDropdown();
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Dropdown.__proto__ || Object.getPrototypeOf(Dropdown), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Dropdown;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Dropdown;
  }(Component);

  /**
   * @static
   * @memberof Dropdown
   */


  Dropdown._dropdowns = [];

  M.Dropdown = Dropdown;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Dropdown, 'dropdown', 'M_Dropdown');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    opacity: 0.5,
    inDuration: 250,
    outDuration: 250,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    preventScrolling: true,
    dismissible: true,
    startingTop: '4%',
    endingTop: '10%'
  };

  /**
   * @class
   *
   */

  var Modal = function (_Component3) {
    _inherits(Modal, _Component3);

    /**
     * Construct Modal instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Modal(el, options) {
      _classCallCheck(this, Modal);

      var _this13 = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, Modal, el, options));

      _this13.el.M_Modal = _this13;

      /**
       * Options for the modal
       * @member Modal#options
       * @prop {Number} [opacity=0.5] - Opacity of the modal overlay
       * @prop {Number} [inDuration=250] - Length in ms of enter transition
       * @prop {Number} [outDuration=250] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Callback function called before modal is opened
       * @prop {Function} onOpenEnd - Callback function called after modal is opened
       * @prop {Function} onCloseStart - Callback function called before modal is closed
       * @prop {Function} onCloseEnd - Callback function called after modal is closed
       * @prop {Boolean} [dismissible=true] - Allow modal to be dismissed by keyboard or overlay click
       * @prop {String} [startingTop='4%'] - startingTop
       * @prop {String} [endingTop='10%'] - endingTop
       */
      _this13.options = $.extend({}, Modal.defaults, options);

      /**
       * Describes open/close state of modal
       * @type {Boolean}
       */
      _this13.isOpen = false;

      _this13.id = _this13.$el.attr('id');
      _this13._openingTrigger = undefined;
      _this13.$overlay = $('<div class="modal-overlay"></div>');
      _this13.el.tabIndex = 0;
      _this13._nthModalOpened = 0;

      Modal._count++;
      _this13._setupEventHandlers();
      return _this13;
    }

    _createClass(Modal, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        Modal._count--;
        this._removeEventHandlers();
        this.el.removeAttribute('style');
        this.$overlay.remove();
        this.el.M_Modal = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleOverlayClickBound = this._handleOverlayClick.bind(this);
        this._handleModalCloseClickBound = this._handleModalCloseClick.bind(this);

        if (Modal._count === 1) {
          document.body.addEventListener('click', this._handleTriggerClick);
        }
        this.$overlay[0].addEventListener('click', this._handleOverlayClickBound);
        this.el.addEventListener('click', this._handleModalCloseClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (Modal._count === 0) {
          document.body.removeEventListener('click', this._handleTriggerClick);
        }
        this.$overlay[0].removeEventListener('click', this._handleOverlayClickBound);
        this.el.removeEventListener('click', this._handleModalCloseClickBound);
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target).closest('.modal-trigger');
        if ($trigger.length) {
          var modalId = M.getIdFromTrigger($trigger[0]);
          var modalInstance = document.getElementById(modalId).M_Modal;
          if (modalInstance) {
            modalInstance.open($trigger);
          }
          e.preventDefault();
        }
      }

      /**
       * Handle Overlay Click
       */

    }, {
      key: "_handleOverlayClick",
      value: function _handleOverlayClick() {
        if (this.options.dismissible) {
          this.close();
        }
      }

      /**
       * Handle Modal Close Click
       * @param {Event} e
       */

    }, {
      key: "_handleModalCloseClick",
      value: function _handleModalCloseClick(e) {
        var $closeTrigger = $(e.target).closest('.modal-close');
        if ($closeTrigger.length) {
          this.close();
        }
      }

      /**
       * Handle Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleKeydown",
      value: function _handleKeydown(e) {
        // ESC key
        if (e.keyCode === 27 && this.options.dismissible) {
          this.close();
        }
      }

      /**
       * Handle Focus
       * @param {Event} e
       */

    }, {
      key: "_handleFocus",
      value: function _handleFocus(e) {
        // Only trap focus if this modal is the last model opened (prevents loops in nested modals).
        if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {
          this.el.focus();
        }
      }

      /**
       * Animate in modal
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        var _this14 = this;

        // Set initial styles
        $.extend(this.el.style, {
          display: 'block',
          opacity: 0
        });
        $.extend(this.$overlay[0].style, {
          display: 'block',
          opacity: 0
        });

        // Animate overlay
        anim({
          targets: this.$overlay[0],
          opacity: this.options.opacity,
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });

        // Define modal animation options
        var enterAnimOptions = {
          targets: this.el,
          duration: this.options.inDuration,
          easing: 'easeOutCubic',
          // Handle modal onOpenEnd callback
          complete: function () {
            if (typeof _this14.options.onOpenEnd === 'function') {
              _this14.options.onOpenEnd.call(_this14, _this14.el, _this14._openingTrigger);
            }
          }
        };

        // Bottom sheet animation
        if (this.el.classList.contains('bottom-sheet')) {
          $.extend(enterAnimOptions, {
            bottom: 0,
            opacity: 1
          });
          anim(enterAnimOptions);

          // Normal modal animation
        } else {
          $.extend(enterAnimOptions, {
            top: [this.options.startingTop, this.options.endingTop],
            opacity: 1,
            scaleX: [0.8, 1],
            scaleY: [0.8, 1]
          });
          anim(enterAnimOptions);
        }
      }

      /**
       * Animate out modal
       */

    }, {
      key: "_animateOut",
      value: function _animateOut() {
        var _this15 = this;

        // Animate overlay
        anim({
          targets: this.$overlay[0],
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuart'
        });

        // Define modal animation options
        var exitAnimOptions = {
          targets: this.el,
          duration: this.options.outDuration,
          easing: 'easeOutCubic',
          // Handle modal ready callback
          complete: function () {
            _this15.el.style.display = 'none';
            _this15.$overlay.remove();

            // Call onCloseEnd callback
            if (typeof _this15.options.onCloseEnd === 'function') {
              _this15.options.onCloseEnd.call(_this15, _this15.el);
            }
          }
        };

        // Bottom sheet animation
        if (this.el.classList.contains('bottom-sheet')) {
          $.extend(exitAnimOptions, {
            bottom: '-100%',
            opacity: 0
          });
          anim(exitAnimOptions);

          // Normal modal animation
        } else {
          $.extend(exitAnimOptions, {
            top: [this.options.endingTop, this.options.startingTop],
            opacity: 0,
            scaleX: 0.8,
            scaleY: 0.8
          });
          anim(exitAnimOptions);
        }
      }

      /**
       * Open Modal
       * @param {cash} [$trigger]
       */

    }, {
      key: "open",
      value: function open($trigger) {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        Modal._modalsOpen++;
        this._nthModalOpened = Modal._modalsOpen;

        // Set Z-Index based on number of currently open modals
        this.$overlay[0].style.zIndex = 1000 + Modal._modalsOpen * 2;
        this.el.style.zIndex = 1000 + Modal._modalsOpen * 2 + 1;

        // Set opening trigger, undefined indicates modal was opened by javascript
        this._openingTrigger = !!$trigger ? $trigger[0] : undefined;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el, this._openingTrigger);
        }

        if (this.options.preventScrolling) {
          document.body.style.overflow = 'hidden';
        }

        this.el.classList.add('open');
        this.el.insertAdjacentElement('afterend', this.$overlay[0]);

        if (this.options.dismissible) {
          this._handleKeydownBound = this._handleKeydown.bind(this);
          this._handleFocusBound = this._handleFocus.bind(this);
          document.addEventListener('keydown', this._handleKeydownBound);
          document.addEventListener('focus', this._handleFocusBound, true);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);
        this._animateIn();

        // Focus modal
        this.el.focus();

        return this;
      }

      /**
       * Close Modal
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        Modal._modalsOpen--;
        this._nthModalOpened = 0;

        // Call onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        this.el.classList.remove('open');

        // Enable body scrolling only if there are no more modals open.
        if (Modal._modalsOpen === 0) {
          document.body.style.overflow = '';
        }

        if (this.options.dismissible) {
          document.removeEventListener('keydown', this._handleKeydownBound);
          document.removeEventListener('focus', this._handleFocusBound, true);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);
        this._animateOut();
        return this;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Modal.__proto__ || Object.getPrototypeOf(Modal), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Modal;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Modal;
  }(Component);

  /**
   * @static
   * @memberof Modal
   */


  Modal._modalsOpen = 0;

  /**
   * @static
   * @memberof Modal
   */
  Modal._count = 0;

  M.Modal = Modal;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Modal, 'modal', 'M_Modal');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    inDuration: 275,
    outDuration: 200,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null
  };

  /**
   * @class
   *
   */

  var Materialbox = function (_Component4) {
    _inherits(Materialbox, _Component4);

    /**
     * Construct Materialbox instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Materialbox(el, options) {
      _classCallCheck(this, Materialbox);

      var _this16 = _possibleConstructorReturn(this, (Materialbox.__proto__ || Object.getPrototypeOf(Materialbox)).call(this, Materialbox, el, options));

      _this16.el.M_Materialbox = _this16;

      /**
       * Options for the modal
       * @member Materialbox#options
       * @prop {Number} [inDuration=275] - Length in ms of enter transition
       * @prop {Number} [outDuration=200] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Callback function called before materialbox is opened
       * @prop {Function} onOpenEnd - Callback function called after materialbox is opened
       * @prop {Function} onCloseStart - Callback function called before materialbox is closed
       * @prop {Function} onCloseEnd - Callback function called after materialbox is closed
       */
      _this16.options = $.extend({}, Materialbox.defaults, options);

      _this16.overlayActive = false;
      _this16.doneAnimating = true;
      _this16.placeholder = $('<div></div>').addClass('material-placeholder');
      _this16.originalWidth = 0;
      _this16.originalHeight = 0;
      _this16.originInlineStyles = _this16.$el.attr('style');
      _this16.caption = _this16.el.getAttribute('data-caption') || '';

      // Wrap
      _this16.$el.before(_this16.placeholder);
      _this16.placeholder.append(_this16.$el);

      _this16._setupEventHandlers();
      return _this16;
    }

    _createClass(Materialbox, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Materialbox = undefined;

        // Unwrap image
        $(this.placeholder).after(this.el).remove();

        this.$el.removeAttr('style');
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleMaterialboxClickBound = this._handleMaterialboxClick.bind(this);
        this.el.addEventListener('click', this._handleMaterialboxClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleMaterialboxClickBound);
      }

      /**
       * Handle Materialbox Click
       * @param {Event} e
       */

    }, {
      key: "_handleMaterialboxClick",
      value: function _handleMaterialboxClick(e) {
        // If already modal, return to original
        if (this.doneAnimating === false || this.overlayActive && this.doneAnimating) {
          this.close();
        } else {
          this.open();
        }
      }

      /**
       * Handle Window Scroll
       */

    }, {
      key: "_handleWindowScroll",
      value: function _handleWindowScroll() {
        if (this.overlayActive) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        if (this.overlayActive) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       * @param {Event} e
       */

    }, {
      key: "_handleWindowEscape",
      value: function _handleWindowEscape(e) {
        // ESC key
        if (e.keyCode === 27 && this.doneAnimating && this.overlayActive) {
          this.close();
        }
      }

      /**
       * Find ancestors with overflow: hidden; and make visible
       */

    }, {
      key: "_makeAncestorsOverflowVisible",
      value: function _makeAncestorsOverflowVisible() {
        this.ancestorsChanged = $();
        var ancestor = this.placeholder[0].parentNode;
        while (ancestor !== null && !$(ancestor).is(document)) {
          var curr = $(ancestor);
          if (curr.css('overflow') !== 'visible') {
            curr.css('overflow', 'visible');
            if (this.ancestorsChanged === undefined) {
              this.ancestorsChanged = curr;
            } else {
              this.ancestorsChanged = this.ancestorsChanged.add(curr);
            }
          }
          ancestor = ancestor.parentNode;
        }
      }

      /**
       * Animate image in
       */

    }, {
      key: "_animateImageIn",
      value: function _animateImageIn() {
        var _this17 = this;

        var animOptions = {
          targets: this.el,
          height: [this.originalHeight, this.newHeight],
          width: [this.originalWidth, this.newWidth],
          left: M.getDocumentScrollLeft() + this.windowWidth / 2 - this.placeholder.offset().left - this.newWidth / 2,
          top: M.getDocumentScrollTop() + this.windowHeight / 2 - this.placeholder.offset().top - this.newHeight / 2,
          duration: this.options.inDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this17.doneAnimating = true;

            // onOpenEnd callback
            if (typeof _this17.options.onOpenEnd === 'function') {
              _this17.options.onOpenEnd.call(_this17, _this17.el);
            }
          }
        };

        // Override max-width or max-height if needed
        this.maxWidth = this.$el.css('max-width');
        this.maxHeight = this.$el.css('max-height');
        if (this.maxWidth !== 'none') {
          animOptions.maxWidth = this.newWidth;
        }
        if (this.maxHeight !== 'none') {
          animOptions.maxHeight = this.newHeight;
        }

        anim(animOptions);
      }

      /**
       * Animate image out
       */

    }, {
      key: "_animateImageOut",
      value: function _animateImageOut() {
        var _this18 = this;

        var animOptions = {
          targets: this.el,
          width: this.originalWidth,
          height: this.originalHeight,
          left: 0,
          top: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this18.placeholder.css({
              height: '',
              width: '',
              position: '',
              top: '',
              left: ''
            });

            // Revert to width or height attribute
            if (_this18.attrWidth) {
              _this18.$el.attr('width', _this18.attrWidth);
            }
            if (_this18.attrHeight) {
              _this18.$el.attr('height', _this18.attrHeight);
            }

            _this18.$el.removeAttr('style');
            _this18.originInlineStyles && _this18.$el.attr('style', _this18.originInlineStyles);

            // Remove class
            _this18.$el.removeClass('active');
            _this18.doneAnimating = true;

            // Remove overflow overrides on ancestors
            if (_this18.ancestorsChanged.length) {
              _this18.ancestorsChanged.css('overflow', '');
            }

            // onCloseEnd callback
            if (typeof _this18.options.onCloseEnd === 'function') {
              _this18.options.onCloseEnd.call(_this18, _this18.el);
            }
          }
        };

        anim(animOptions);
      }

      /**
       * Update open and close vars
       */

    }, {
      key: "_updateVars",
      value: function _updateVars() {
        this.windowWidth = window.innerWidth;
        this.windowHeight = window.innerHeight;
        this.caption = this.el.getAttribute('data-caption') || '';
      }

      /**
       * Open Materialbox
       */

    }, {
      key: "open",
      value: function open() {
        var _this19 = this;

        this._updateVars();
        this.originalWidth = this.el.getBoundingClientRect().width;
        this.originalHeight = this.el.getBoundingClientRect().height;

        // Set states
        this.doneAnimating = false;
        this.$el.addClass('active');
        this.overlayActive = true;

        // onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Set positioning for placeholder
        this.placeholder.css({
          width: this.placeholder[0].getBoundingClientRect().width + 'px',
          height: this.placeholder[0].getBoundingClientRect().height + 'px',
          position: 'relative',
          top: 0,
          left: 0
        });

        this._makeAncestorsOverflowVisible();

        // Set css on origin
        this.$el.css({
          position: 'absolute',
          'z-index': 1000,
          'will-change': 'left, top, width, height'
        });

        // Change from width or height attribute to css
        this.attrWidth = this.$el.attr('width');
        this.attrHeight = this.$el.attr('height');
        if (this.attrWidth) {
          this.$el.css('width', this.attrWidth + 'px');
          this.$el.removeAttr('width');
        }
        if (this.attrHeight) {
          this.$el.css('width', this.attrHeight + 'px');
          this.$el.removeAttr('height');
        }

        // Add overlay
        this.$overlay = $('<div id="materialbox-overlay"></div>').css({
          opacity: 0
        }).one('click', function () {
          if (_this19.doneAnimating) {
            _this19.close();
          }
        });

        // Put before in origin image to preserve z-index layering.
        this.$el.before(this.$overlay);

        // Set dimensions if needed
        var overlayOffset = this.$overlay[0].getBoundingClientRect();
        this.$overlay.css({
          width: this.windowWidth + 'px',
          height: this.windowHeight + 'px',
          left: -1 * overlayOffset.left + 'px',
          top: -1 * overlayOffset.top + 'px'
        });

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);

        // Animate Overlay
        anim({
          targets: this.$overlay[0],
          opacity: 1,
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });

        // Add and animate caption if it exists
        if (this.caption !== '') {
          if (this.$photocaption) {
            anim.remove(this.$photoCaption[0]);
          }
          this.$photoCaption = $('<div class="materialbox-caption"></div>');
          this.$photoCaption.text(this.caption);
          $('body').append(this.$photoCaption);
          this.$photoCaption.css({ display: 'inline' });

          anim({
            targets: this.$photoCaption[0],
            opacity: 1,
            duration: this.options.inDuration,
            easing: 'easeOutQuad'
          });
        }

        // Resize Image
        var ratio = 0;
        var widthPercent = this.originalWidth / this.windowWidth;
        var heightPercent = this.originalHeight / this.windowHeight;
        this.newWidth = 0;
        this.newHeight = 0;

        if (widthPercent > heightPercent) {
          ratio = this.originalHeight / this.originalWidth;
          this.newWidth = this.windowWidth * 0.9;
          this.newHeight = this.windowWidth * 0.9 * ratio;
        } else {
          ratio = this.originalWidth / this.originalHeight;
          this.newWidth = this.windowHeight * 0.9 * ratio;
          this.newHeight = this.windowHeight * 0.9;
        }

        this._animateImageIn();

        // Handle Exit triggers
        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);
        this._handleWindowResizeBound = this._handleWindowResize.bind(this);
        this._handleWindowEscapeBound = this._handleWindowEscape.bind(this);

        window.addEventListener('scroll', this._handleWindowScrollBound);
        window.addEventListener('resize', this._handleWindowResizeBound);
        window.addEventListener('keyup', this._handleWindowEscapeBound);
      }

      /**
       * Close Materialbox
       */

    }, {
      key: "close",
      value: function close() {
        var _this20 = this;

        this._updateVars();
        this.doneAnimating = false;

        // onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        anim.remove(this.el);
        anim.remove(this.$overlay[0]);

        if (this.caption !== '') {
          anim.remove(this.$photoCaption[0]);
        }

        // disable exit handlers
        window.removeEventListener('scroll', this._handleWindowScrollBound);
        window.removeEventListener('resize', this._handleWindowResizeBound);
        window.removeEventListener('keyup', this._handleWindowEscapeBound);

        anim({
          targets: this.$overlay[0],
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            _this20.overlayActive = false;
            _this20.$overlay.remove();
          }
        });

        this._animateImageOut();

        // Remove Caption + reset css settings on image
        if (this.caption !== '') {
          anim({
            targets: this.$photoCaption[0],
            opacity: 0,
            duration: this.options.outDuration,
            easing: 'easeOutQuad',
            complete: function () {
              _this20.$photoCaption.remove();
            }
          });
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Materialbox.__proto__ || Object.getPrototypeOf(Materialbox), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Materialbox;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Materialbox;
  }(Component);

  M.Materialbox = Materialbox;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Materialbox, 'materialbox', 'M_Materialbox');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    responsiveThreshold: 0 // breakpoint for swipeable
  };

  var Parallax = function (_Component5) {
    _inherits(Parallax, _Component5);

    function Parallax(el, options) {
      _classCallCheck(this, Parallax);

      var _this21 = _possibleConstructorReturn(this, (Parallax.__proto__ || Object.getPrototypeOf(Parallax)).call(this, Parallax, el, options));

      _this21.el.M_Parallax = _this21;

      /**
       * Options for the Parallax
       * @member Parallax#options
       * @prop {Number} responsiveThreshold
       */
      _this21.options = $.extend({}, Parallax.defaults, options);
      _this21._enabled = window.innerWidth > _this21.options.responsiveThreshold;

      _this21.$img = _this21.$el.find('img').first();
      _this21.$img.each(function () {
        var el = this;
        if (el.complete) $(el).trigger('load');
      });

      _this21._updateParallax();
      _this21._setupEventHandlers();
      _this21._setupStyles();

      Parallax._parallaxes.push(_this21);
      return _this21;
    }

    _createClass(Parallax, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);
        this.$img[0].style.transform = '';
        this._removeEventHandlers();

        this.$el[0].M_Parallax = undefined;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleImageLoadBound = this._handleImageLoad.bind(this);
        this.$img[0].addEventListener('load', this._handleImageLoadBound);

        if (Parallax._parallaxes.length === 0) {
          Parallax._handleScrollThrottled = M.throttle(Parallax._handleScroll, 5);
          window.addEventListener('scroll', Parallax._handleScrollThrottled);

          Parallax._handleWindowResizeThrottled = M.throttle(Parallax._handleWindowResize, 5);
          window.addEventListener('resize', Parallax._handleWindowResizeThrottled);
        }
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.$img[0].removeEventListener('load', this._handleImageLoadBound);

        if (Parallax._parallaxes.length === 0) {
          window.removeEventListener('scroll', Parallax._handleScrollThrottled);
          window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);
        }
      }
    }, {
      key: "_setupStyles",
      value: function _setupStyles() {
        this.$img[0].style.opacity = 1;
      }
    }, {
      key: "_handleImageLoad",
      value: function _handleImageLoad() {
        this._updateParallax();
      }
    }, {
      key: "_updateParallax",
      value: function _updateParallax() {
        var containerHeight = this.$el.height() > 0 ? this.el.parentNode.offsetHeight : 500;
        var imgHeight = this.$img[0].offsetHeight;
        var parallaxDist = imgHeight - containerHeight;
        var bottom = this.$el.offset().top + containerHeight;
        var top = this.$el.offset().top;
        var scrollTop = M.getDocumentScrollTop();
        var windowHeight = window.innerHeight;
        var windowBottom = scrollTop + windowHeight;
        var percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);
        var parallax = parallaxDist * percentScrolled;

        if (!this._enabled) {
          this.$img[0].style.transform = '';
        } else if (bottom > scrollTop && top < scrollTop + windowHeight) {
          this.$img[0].style.transform = "translate3D(-50%, " + parallax + "px, 0)";
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Parallax.__proto__ || Object.getPrototypeOf(Parallax), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Parallax;
      }
    }, {
      key: "_handleScroll",
      value: function _handleScroll() {
        for (var i = 0; i < Parallax._parallaxes.length; i++) {
          var parallaxInstance = Parallax._parallaxes[i];
          parallaxInstance._updateParallax.call(parallaxInstance);
        }
      }
    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        for (var i = 0; i < Parallax._parallaxes.length; i++) {
          var parallaxInstance = Parallax._parallaxes[i];
          parallaxInstance._enabled = window.innerWidth > parallaxInstance.options.responsiveThreshold;
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Parallax;
  }(Component);

  /**
   * @static
   * @memberof Parallax
   */


  Parallax._parallaxes = [];

  M.Parallax = Parallax;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Parallax, 'parallax', 'M_Parallax');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    duration: 300,
    onShow: null,
    swipeable: false,
    responsiveThreshold: Infinity // breakpoint for swipeable
  };

  /**
   * @class
   *
   */

  var Tabs = function (_Component6) {
    _inherits(Tabs, _Component6);

    /**
     * Construct Tabs instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Tabs(el, options) {
      _classCallCheck(this, Tabs);

      var _this22 = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, Tabs, el, options));

      _this22.el.M_Tabs = _this22;

      /**
       * Options for the Tabs
       * @member Tabs#options
       * @prop {Number} duration
       * @prop {Function} onShow
       * @prop {Boolean} swipeable
       * @prop {Number} responsiveThreshold
       */
      _this22.options = $.extend({}, Tabs.defaults, options);

      // Setup
      _this22.$tabLinks = _this22.$el.children('li.tab').children('a');
      _this22.index = 0;
      _this22._setupActiveTabLink();

      // Setup tabs content
      if (_this22.options.swipeable) {
        _this22._setupSwipeableTabs();
      } else {
        _this22._setupNormalTabs();
      }

      // Setup tabs indicator after content to ensure accurate widths
      _this22._setTabsAndTabWidth();
      _this22._createIndicator();

      _this22._setupEventHandlers();
      return _this22;
    }

    _createClass(Tabs, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._indicator.parentNode.removeChild(this._indicator);

        if (this.options.swipeable) {
          this._teardownSwipeableTabs();
        } else {
          this._teardownNormalTabs();
        }

        this.$el[0].M_Tabs = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleWindowResizeBound = this._handleWindowResize.bind(this);
        window.addEventListener('resize', this._handleWindowResizeBound);

        this._handleTabClickBound = this._handleTabClick.bind(this);
        this.el.addEventListener('click', this._handleTabClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        window.removeEventListener('resize', this._handleWindowResizeBound);
        this.el.removeEventListener('click', this._handleTabClickBound);
      }

      /**
       * Handle window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        this._setTabsAndTabWidth();

        if (this.tabWidth !== 0 && this.tabsWidth !== 0) {
          this._indicator.style.left = this._calcLeftPos(this.$activeTabLink) + 'px';
          this._indicator.style.right = this._calcRightPos(this.$activeTabLink) + 'px';
        }
      }

      /**
       * Handle tab click
       * @param {Event} e
       */

    }, {
      key: "_handleTabClick",
      value: function _handleTabClick(e) {
        var _this23 = this;

        var tab = $(e.target).closest('li.tab');
        var tabLink = $(e.target).closest('a');

        // Handle click on tab link only
        if (!tabLink.length || !tabLink.parent().hasClass('tab')) {
          return;
        }

        if (tab.hasClass('disabled')) {
          e.preventDefault();
          return;
        }

        // Act as regular link if target attribute is specified.
        if (!!tabLink.attr('target')) {
          return;
        }

        // Make the old tab inactive.
        this.$activeTabLink.removeClass('active');
        var $oldContent = this.$content;

        // Update the variables with the new link and content
        this.$activeTabLink = tabLink;
        this.$content = $(M.escapeHash(tabLink[0].hash));
        this.$tabLinks = this.$el.children('li.tab').children('a');

        // Make the tab active.
        this.$activeTabLink.addClass('active');
        var prevIndex = this.index;
        this.index = Math.max(this.$tabLinks.index(tabLink), 0);

        // Swap content
        if (this.options.swipeable) {
          if (this._tabsCarousel) {
            this._tabsCarousel.set(this.index, function () {
              if (typeof _this23.options.onShow === 'function') {
                _this23.options.onShow.call(_this23, _this23.$content[0]);
              }
            });
          }
        } else {
          if (this.$content.length) {
            this.$content[0].style.display = 'block';
            this.$content.addClass('active');
            if (typeof this.options.onShow === 'function') {
              this.options.onShow.call(this, this.$content[0]);
            }

            if ($oldContent.length && !$oldContent.is(this.$content)) {
              $oldContent[0].style.display = 'none';
              $oldContent.removeClass('active');
            }
          }
        }

        // Update widths after content is swapped (scrollbar bugfix)
        this._setTabsAndTabWidth();

        // Update indicator
        this._animateIndicator(prevIndex);

        // Prevent the anchor's default click action
        e.preventDefault();
      }

      /**
       * Generate elements for tab indicator.
       */

    }, {
      key: "_createIndicator",
      value: function _createIndicator() {
        var _this24 = this;

        var indicator = document.createElement('li');
        indicator.classList.add('indicator');

        this.el.appendChild(indicator);
        this._indicator = indicator;

        setTimeout(function () {
          _this24._indicator.style.left = _this24._calcLeftPos(_this24.$activeTabLink) + 'px';
          _this24._indicator.style.right = _this24._calcRightPos(_this24.$activeTabLink) + 'px';
        }, 0);
      }

      /**
       * Setup first active tab link.
       */

    }, {
      key: "_setupActiveTabLink",
      value: function _setupActiveTabLink() {
        // If the location.hash matches one of the links, use that as the active tab.
        this.$activeTabLink = $(this.$tabLinks.filter('[href="' + location.hash + '"]'));

        // If no match is found, use the first link or any with class 'active' as the initial active tab.
        if (this.$activeTabLink.length === 0) {
          this.$activeTabLink = this.$el.children('li.tab').children('a.active').first();
        }
        if (this.$activeTabLink.length === 0) {
          this.$activeTabLink = this.$el.children('li.tab').children('a').first();
        }

        this.$tabLinks.removeClass('active');
        this.$activeTabLink[0].classList.add('active');

        this.index = Math.max(this.$tabLinks.index(this.$activeTabLink), 0);

        if (this.$activeTabLink.length) {
          this.$content = $(M.escapeHash(this.$activeTabLink[0].hash));
          this.$content.addClass('active');
        }
      }

      /**
       * Setup swipeable tabs
       */

    }, {
      key: "_setupSwipeableTabs",
      value: function _setupSwipeableTabs() {
        var _this25 = this;

        // Change swipeable according to responsive threshold
        if (window.innerWidth > this.options.responsiveThreshold) {
          this.options.swipeable = false;
        }

        var $tabsContent = $();
        this.$tabLinks.each(function (link) {
          var $currContent = $(M.escapeHash(link.hash));
          $currContent.addClass('carousel-item');
          $tabsContent = $tabsContent.add($currContent);
        });

        var $tabsWrapper = $('<div class="tabs-content carousel carousel-slider"></div>');
        $tabsContent.first().before($tabsWrapper);
        $tabsWrapper.append($tabsContent);
        $tabsContent[0].style.display = '';

        // Keep active tab index to set initial carousel slide
        var activeTabIndex = this.$activeTabLink.closest('.tab').index();

        this._tabsCarousel = M.Carousel.init($tabsWrapper[0], {
          fullWidth: true,
          noWrap: true,
          onCycleTo: function (item) {
            var prevIndex = _this25.index;
            _this25.index = $(item).index();
            _this25.$activeTabLink.removeClass('active');
            _this25.$activeTabLink = _this25.$tabLinks.eq(_this25.index);
            _this25.$activeTabLink.addClass('active');
            _this25._animateIndicator(prevIndex);
            if (typeof _this25.options.onShow === 'function') {
              _this25.options.onShow.call(_this25, _this25.$content[0]);
            }
          }
        });

        // Set initial carousel slide to active tab
        this._tabsCarousel.set(activeTabIndex);
      }

      /**
       * Teardown normal tabs.
       */

    }, {
      key: "_teardownSwipeableTabs",
      value: function _teardownSwipeableTabs() {
        var $tabsWrapper = this._tabsCarousel.$el;
        this._tabsCarousel.destroy();

        // Unwrap
        $tabsWrapper.after($tabsWrapper.children());
        $tabsWrapper.remove();
      }

      /**
       * Setup normal tabs.
       */

    }, {
      key: "_setupNormalTabs",
      value: function _setupNormalTabs() {
        // Hide Tabs Content
        this.$tabLinks.not(this.$activeTabLink).each(function (link) {
          if (!!link.hash) {
            var $currContent = $(M.escapeHash(link.hash));
            if ($currContent.length) {
              $currContent[0].style.display = 'none';
            }
          }
        });
      }

      /**
       * Teardown normal tabs.
       */

    }, {
      key: "_teardownNormalTabs",
      value: function _teardownNormalTabs() {
        // show Tabs Content
        this.$tabLinks.each(function (link) {
          if (!!link.hash) {
            var $currContent = $(M.escapeHash(link.hash));
            if ($currContent.length) {
              $currContent[0].style.display = '';
            }
          }
        });
      }

      /**
       * set tabs and tab width
       */

    }, {
      key: "_setTabsAndTabWidth",
      value: function _setTabsAndTabWidth() {
        this.tabsWidth = this.$el.width();
        this.tabWidth = Math.max(this.tabsWidth, this.el.scrollWidth) / this.$tabLinks.length;
      }

      /**
       * Finds right attribute for indicator based on active tab.
       * @param {cash} el
       */

    }, {
      key: "_calcRightPos",
      value: function _calcRightPos(el) {
        return Math.ceil(this.tabsWidth - el.position().left - el[0].getBoundingClientRect().width);
      }

      /**
       * Finds left attribute for indicator based on active tab.
       * @param {cash} el
       */

    }, {
      key: "_calcLeftPos",
      value: function _calcLeftPos(el) {
        return Math.floor(el.position().left);
      }
    }, {
      key: "updateTabIndicator",
      value: function updateTabIndicator() {
        this._setTabsAndTabWidth();
        this._animateIndicator(this.index);
      }

      /**
       * Animates Indicator to active tab.
       * @param {Number} prevIndex
       */

    }, {
      key: "_animateIndicator",
      value: function _animateIndicator(prevIndex) {
        var leftDelay = 0,
            rightDelay = 0;

        if (this.index - prevIndex >= 0) {
          leftDelay = 90;
        } else {
          rightDelay = 90;
        }

        // Animate
        var animOptions = {
          targets: this._indicator,
          left: {
            value: this._calcLeftPos(this.$activeTabLink),
            delay: leftDelay
          },
          right: {
            value: this._calcRightPos(this.$activeTabLink),
            delay: rightDelay
          },
          duration: this.options.duration,
          easing: 'easeOutQuad'
        };
        anim.remove(this._indicator);
        anim(animOptions);
      }

      /**
       * Select tab.
       * @param {String} tabId
       */

    }, {
      key: "select",
      value: function select(tabId) {
        var tab = this.$tabLinks.filter('[href="#' + tabId + '"]');
        if (tab.length) {
          tab.trigger('click');
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Tabs.__proto__ || Object.getPrototypeOf(Tabs), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Tabs;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Tabs;
  }(Component);

  M.Tabs = Tabs;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Tabs, 'tabs', 'M_Tabs');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    exitDelay: 200,
    enterDelay: 0,
    html: null,
    margin: 5,
    inDuration: 250,
    outDuration: 200,
    position: 'bottom',
    transitionMovement: 10
  };

  /**
   * @class
   *
   */

  var Tooltip = function (_Component7) {
    _inherits(Tooltip, _Component7);

    /**
     * Construct Tooltip instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Tooltip(el, options) {
      _classCallCheck(this, Tooltip);

      var _this26 = _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, Tooltip, el, options));

      _this26.el.M_Tooltip = _this26;
      _this26.options = $.extend({}, Tooltip.defaults, options);

      _this26.isOpen = false;
      _this26.isHovered = false;
      _this26.isFocused = false;
      _this26._appendTooltipEl();
      _this26._setupEventHandlers();
      return _this26;
    }

    _createClass(Tooltip, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        $(this.tooltipEl).remove();
        this._removeEventHandlers();
        this.el.M_Tooltip = undefined;
      }
    }, {
      key: "_appendTooltipEl",
      value: function _appendTooltipEl() {
        var tooltipEl = document.createElement('div');
        tooltipEl.classList.add('material-tooltip');
        this.tooltipEl = tooltipEl;

        var tooltipContentEl = document.createElement('div');
        tooltipContentEl.classList.add('tooltip-content');
        tooltipContentEl.innerHTML = this.options.html;
        tooltipEl.appendChild(tooltipContentEl);
        document.body.appendChild(tooltipEl);
      }
    }, {
      key: "_updateTooltipContent",
      value: function _updateTooltipContent() {
        this.tooltipEl.querySelector('.tooltip-content').innerHTML = this.options.html;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleMouseEnterBound = this._handleMouseEnter.bind(this);
        this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);
        this._handleFocusBound = this._handleFocus.bind(this);
        this._handleBlurBound = this._handleBlur.bind(this);
        this.el.addEventListener('mouseenter', this._handleMouseEnterBound);
        this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);
        this.el.addEventListener('focus', this._handleFocusBound, true);
        this.el.addEventListener('blur', this._handleBlurBound, true);
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);
        this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);
        this.el.removeEventListener('focus', this._handleFocusBound, true);
        this.el.removeEventListener('blur', this._handleBlurBound, true);
      }
    }, {
      key: "open",
      value: function open(isManual) {
        if (this.isOpen) {
          return;
        }
        isManual = isManual === undefined ? true : undefined; // Default value true
        this.isOpen = true;
        // Update tooltip content with HTML attribute options
        this.options = $.extend({}, this.options, this._getAttributeOptions());
        this._updateTooltipContent();
        this._setEnterDelayTimeout(isManual);
      }
    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isHovered = false;
        this.isFocused = false;
        this.isOpen = false;
        this._setExitDelayTimeout();
      }

      /**
       * Create timeout which delays when the tooltip closes
       */

    }, {
      key: "_setExitDelayTimeout",
      value: function _setExitDelayTimeout() {
        var _this27 = this;

        clearTimeout(this._exitDelayTimeout);

        this._exitDelayTimeout = setTimeout(function () {
          if (_this27.isHovered || _this27.isFocused) {
            return;
          }

          _this27._animateOut();
        }, this.options.exitDelay);
      }

      /**
       * Create timeout which delays when the toast closes
       */

    }, {
      key: "_setEnterDelayTimeout",
      value: function _setEnterDelayTimeout(isManual) {
        var _this28 = this;

        clearTimeout(this._enterDelayTimeout);

        this._enterDelayTimeout = setTimeout(function () {
          if (!_this28.isHovered && !_this28.isFocused && !isManual) {
            return;
          }

          _this28._animateIn();
        }, this.options.enterDelay);
      }
    }, {
      key: "_positionTooltip",
      value: function _positionTooltip() {
        var origin = this.el,
            tooltip = this.tooltipEl,
            originHeight = origin.offsetHeight,
            originWidth = origin.offsetWidth,
            tooltipHeight = tooltip.offsetHeight,
            tooltipWidth = tooltip.offsetWidth,
            newCoordinates = void 0,
            margin = this.options.margin,
            targetTop = void 0,
            targetLeft = void 0;

        this.xMovement = 0, this.yMovement = 0;

        targetTop = origin.getBoundingClientRect().top + M.getDocumentScrollTop();
        targetLeft = origin.getBoundingClientRect().left + M.getDocumentScrollLeft();

        if (this.options.position === 'top') {
          targetTop += -tooltipHeight - margin;
          targetLeft += originWidth / 2 - tooltipWidth / 2;
          this.yMovement = -this.options.transitionMovement;
        } else if (this.options.position === 'right') {
          targetTop += originHeight / 2 - tooltipHeight / 2;
          targetLeft += originWidth + margin;
          this.xMovement = this.options.transitionMovement;
        } else if (this.options.position === 'left') {
          targetTop += originHeight / 2 - tooltipHeight / 2;
          targetLeft += -tooltipWidth - margin;
          this.xMovement = -this.options.transitionMovement;
        } else {
          targetTop += originHeight + margin;
          targetLeft += originWidth / 2 - tooltipWidth / 2;
          this.yMovement = this.options.transitionMovement;
        }

        newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);
        $(tooltip).css({
          top: newCoordinates.y + 'px',
          left: newCoordinates.x + 'px'
        });
      }
    }, {
      key: "_repositionWithinScreen",
      value: function _repositionWithinScreen(x, y, width, height) {
        var scrollLeft = M.getDocumentScrollLeft();
        var scrollTop = M.getDocumentScrollTop();
        var newX = x - scrollLeft;
        var newY = y - scrollTop;

        var bounding = {
          left: newX,
          top: newY,
          width: width,
          height: height
        };

        var offset = this.options.margin + this.options.transitionMovement;
        var edges = M.checkWithinContainer(document.body, bounding, offset);

        if (edges.left) {
          newX = offset;
        } else if (edges.right) {
          newX -= newX + width - window.innerWidth;
        }

        if (edges.top) {
          newY = offset;
        } else if (edges.bottom) {
          newY -= newY + height - window.innerHeight;
        }

        return {
          x: newX + scrollLeft,
          y: newY + scrollTop
        };
      }
    }, {
      key: "_animateIn",
      value: function _animateIn() {
        this._positionTooltip();
        this.tooltipEl.style.visibility = 'visible';
        anim.remove(this.tooltipEl);
        anim({
          targets: this.tooltipEl,
          opacity: 1,
          translateX: this.xMovement,
          translateY: this.yMovement,
          duration: this.options.inDuration,
          easing: 'easeOutCubic'
        });
      }
    }, {
      key: "_animateOut",
      value: function _animateOut() {
        anim.remove(this.tooltipEl);
        anim({
          targets: this.tooltipEl,
          opacity: 0,
          translateX: 0,
          translateY: 0,
          duration: this.options.outDuration,
          easing: 'easeOutCubic'
        });
      }
    }, {
      key: "_handleMouseEnter",
      value: function _handleMouseEnter() {
        this.isHovered = true;
        this.isFocused = false; // Allows close of tooltip when opened by focus.
        this.open(false);
      }
    }, {
      key: "_handleMouseLeave",
      value: function _handleMouseLeave() {
        this.isHovered = false;
        this.isFocused = false; // Allows close of tooltip when opened by focus.
        this.close();
      }
    }, {
      key: "_handleFocus",
      value: function _handleFocus() {
        if (M.tabPressed) {
          this.isFocused = true;
          this.open(false);
        }
      }
    }, {
      key: "_handleBlur",
      value: function _handleBlur() {
        this.isFocused = false;
        this.close();
      }
    }, {
      key: "_getAttributeOptions",
      value: function _getAttributeOptions() {
        var attributeOptions = {};
        var tooltipTextOption = this.el.getAttribute('data-tooltip');
        var positionOption = this.el.getAttribute('data-position');

        if (tooltipTextOption) {
          attributeOptions.html = tooltipTextOption;
        }

        if (positionOption) {
          attributeOptions.position = positionOption;
        }
        return attributeOptions;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Tooltip.__proto__ || Object.getPrototypeOf(Tooltip), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Tooltip;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Tooltip;
  }(Component);

  M.Tooltip = Tooltip;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Tooltip, 'tooltip', 'M_Tooltip');
  }
})(cash, M.anime);
; /*!
  * Waves v0.6.4
  * http://fian.my.id/Waves
  *
  * Copyright 2014 Alfiana E. Sibuea and other contributors
  * Released under the MIT license
  * https://github.com/fians/Waves/blob/master/LICENSE
  */

;(function (window) {
  'use strict';

  var Waves = Waves || {};
  var $$ = document.querySelectorAll.bind(document);

  // Find exact position of element
  function isWindow(obj) {
    return obj !== null && obj === obj.window;
  }

  function getWindow(elem) {
    return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;
  }

  function offset(elem) {
    var docElem,
        win,
        box = { top: 0, left: 0 },
        doc = elem && elem.ownerDocument;

    docElem = doc.documentElement;

    if (typeof elem.getBoundingClientRect !== typeof undefined) {
      box = elem.getBoundingClientRect();
    }
    win = getWindow(doc);
    return {
      top: box.top + win.pageYOffset - docElem.clientTop,
      left: box.left + win.pageXOffset - docElem.clientLeft
    };
  }

  function convertStyle(obj) {
    var style = '';

    for (var a in obj) {
      if (obj.hasOwnProperty(a)) {
        style += a + ':' + obj[a] + ';';
      }
    }

    return style;
  }

  var Effect = {

    // Effect delay
    duration: 750,

    show: function (e, element) {

      // Disable right click
      if (e.button === 2) {
        return false;
      }

      var el = element || this;

      // Create ripple
      var ripple = document.createElement('div');
      ripple.className = 'waves-ripple';
      el.appendChild(ripple);

      // Get click coordinate and element witdh
      var pos = offset(el);
      var relativeY = e.pageY - pos.top;
      var relativeX = e.pageX - pos.left;
      var scale = 'scale(' + el.clientWidth / 100 * 10 + ')';

      // Support for touch devices
      if ('touches' in e) {
        relativeY = e.touches[0].pageY - pos.top;
        relativeX = e.touches[0].pageX - pos.left;
      }

      // Attach data to element
      ripple.setAttribute('data-hold', Date.now());
      ripple.setAttribute('data-scale', scale);
      ripple.setAttribute('data-x', relativeX);
      ripple.setAttribute('data-y', relativeY);

      // Set ripple position
      var rippleStyle = {
        'top': relativeY + 'px',
        'left': relativeX + 'px'
      };

      ripple.className = ripple.className + ' waves-notransition';
      ripple.setAttribute('style', convertStyle(rippleStyle));
      ripple.className = ripple.className.replace('waves-notransition', '');

      // Scale the ripple
      rippleStyle['-webkit-transform'] = scale;
      rippleStyle['-moz-transform'] = scale;
      rippleStyle['-ms-transform'] = scale;
      rippleStyle['-o-transform'] = scale;
      rippleStyle.transform = scale;
      rippleStyle.opacity = '1';

      rippleStyle['-webkit-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['-moz-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['-o-transition-duration'] = Effect.duration + 'ms';
      rippleStyle['transition-duration'] = Effect.duration + 'ms';

      rippleStyle['-webkit-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['-moz-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['-o-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';
      rippleStyle['transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';

      ripple.setAttribute('style', convertStyle(rippleStyle));
    },

    hide: function (e) {
      TouchHandler.touchup(e);

      var el = this;
      var width = el.clientWidth * 1.4;

      // Get first ripple
      var ripple = null;
      var ripples = el.getElementsByClassName('waves-ripple');
      if (ripples.length > 0) {
        ripple = ripples[ripples.length - 1];
      } else {
        return false;
      }

      var relativeX = ripple.getAttribute('data-x');
      var relativeY = ripple.getAttribute('data-y');
      var scale = ripple.getAttribute('data-scale');

      // Get delay beetween mousedown and mouse leave
      var diff = Date.now() - Number(ripple.getAttribute('data-hold'));
      var delay = 350 - diff;

      if (delay < 0) {
        delay = 0;
      }

      // Fade out ripple after delay
      setTimeout(function () {
        var style = {
          'top': relativeY + 'px',
          'left': relativeX + 'px',
          'opacity': '0',

          // Duration
          '-webkit-transition-duration': Effect.duration + 'ms',
          '-moz-transition-duration': Effect.duration + 'ms',
          '-o-transition-duration': Effect.duration + 'ms',
          'transition-duration': Effect.duration + 'ms',
          '-webkit-transform': scale,
          '-moz-transform': scale,
          '-ms-transform': scale,
          '-o-transform': scale,
          'transform': scale
        };

        ripple.setAttribute('style', convertStyle(style));

        setTimeout(function () {
          try {
            el.removeChild(ripple);
          } catch (e) {
            return false;
          }
        }, Effect.duration);
      }, delay);
    },

    // Little hack to make <input> can perform waves effect
    wrapInput: function (elements) {
      for (var a = 0; a < elements.length; a++) {
        var el = elements[a];

        if (el.tagName.toLowerCase() === 'input') {
          var parent = el.parentNode;

          // If input already have parent just pass through
          if (parent.tagName.toLowerCase() === 'i' && parent.className.indexOf('waves-effect') !== -1) {
            continue;
          }

          // Put element class and style to the specified parent
          var wrapper = document.createElement('i');
          wrapper.className = el.className + ' waves-input-wrapper';

          var elementStyle = el.getAttribute('style');

          if (!elementStyle) {
            elementStyle = '';
          }

          wrapper.setAttribute('style', elementStyle);

          el.className = 'waves-button-input';
          el.removeAttribute('style');

          // Put element as child
          parent.replaceChild(wrapper, el);
          wrapper.appendChild(el);
        }
      }
    }
  };

  /**
   * Disable mousedown event for 500ms during and after touch
   */
  var TouchHandler = {
    /* uses an integer rather than bool so there's no issues with
     * needing to clear timeouts if another touch event occurred
     * within the 500ms. Cannot mouseup between touchstart and
     * touchend, nor in the 500ms after touchend. */
    touches: 0,
    allowEvent: function (e) {
      var allow = true;

      if (e.type === 'touchstart') {
        TouchHandler.touches += 1; //push
      } else if (e.type === 'touchend' || e.type === 'touchcancel') {
        setTimeout(function () {
          if (TouchHandler.touches > 0) {
            TouchHandler.touches -= 1; //pop after 500ms
          }
        }, 500);
      } else if (e.type === 'mousedown' && TouchHandler.touches > 0) {
        allow = false;
      }

      return allow;
    },
    touchup: function (e) {
      TouchHandler.allowEvent(e);
    }
  };

  /**
   * Delegated click handler for .waves-effect element.
   * returns null when .waves-effect element not in "click tree"
   */
  function getWavesEffectElement(e) {
    if (TouchHandler.allowEvent(e) === false) {
      return null;
    }

    var element = null;
    var target = e.target || e.srcElement;

    while (target.parentNode !== null) {
      if (!(target instanceof SVGElement) && target.className.indexOf('waves-effect') !== -1) {
        element = target;
        break;
      }
      target = target.parentNode;
    }
    return element;
  }

  /**
   * Bubble the click and show effect if .waves-effect elem was found
   */
  function showEffect(e) {
    var element = getWavesEffectElement(e);

    if (element !== null) {
      Effect.show(e, element);

      if ('ontouchstart' in window) {
        element.addEventListener('touchend', Effect.hide, false);
        element.addEventListener('touchcancel', Effect.hide, false);
      }

      element.addEventListener('mouseup', Effect.hide, false);
      element.addEventListener('mouseleave', Effect.hide, false);
      element.addEventListener('dragend', Effect.hide, false);
    }
  }

  Waves.displayEffect = function (options) {
    options = options || {};

    if ('duration' in options) {
      Effect.duration = options.duration;
    }

    //Wrap input inside <i> tag
    Effect.wrapInput($$('.waves-effect'));

    if ('ontouchstart' in window) {
      document.body.addEventListener('touchstart', showEffect, false);
    }

    document.body.addEventListener('mousedown', showEffect, false);
  };

  /**
   * Attach Waves to an input element (or any element which doesn't
   * bubble mouseup/mousedown events).
   *   Intended to be used with dynamically loaded forms/inputs, or
   * where the user doesn't want a delegated click handler.
   */
  Waves.attach = function (element) {
    //FUTURE: automatically add waves classes and allow users
    // to specify them with an options param? Eg. light/classic/button
    if (element.tagName.toLowerCase() === 'input') {
      Effect.wrapInput([element]);
      element = element.parentNode;
    }

    if ('ontouchstart' in window) {
      element.addEventListener('touchstart', showEffect, false);
    }

    element.addEventListener('mousedown', showEffect, false);
  };

  window.Waves = Waves;

  document.addEventListener('DOMContentLoaded', function () {
    Waves.displayEffect();
  }, false);
})(window);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    html: '',
    displayLength: 4000,
    inDuration: 300,
    outDuration: 375,
    classes: '',
    completeCallback: null,
    activationPercent: 0.8
  };

  var Toast = function () {
    function Toast(options) {
      _classCallCheck(this, Toast);

      /**
       * Options for the toast
       * @member Toast#options
       */
      this.options = $.extend({}, Toast.defaults, options);
      this.message = this.options.html;

      /**
       * Describes current pan state toast
       * @type {Boolean}
       */
      this.panning = false;

      /**
       * Time remaining until toast is removed
       */
      this.timeRemaining = this.options.displayLength;

      if (Toast._toasts.length === 0) {
        Toast._createContainer();
      }

      // Create new toast
      Toast._toasts.push(this);
      var toastElement = this._createToast();
      toastElement.M_Toast = this;
      this.el = toastElement;
      this.$el = $(toastElement);
      this._animateIn();
      this._setTimer();
    }

    _createClass(Toast, [{
      key: "_createToast",


      /**
       * Create toast and append it to toast container
       */
      value: function _createToast() {
        var toast = document.createElement('div');
        toast.classList.add('toast');

        // Add custom classes onto toast
        if (!!this.options.classes.length) {
          $(toast).addClass(this.options.classes);
        }

        // Set content
        if (typeof HTMLElement === 'object' ? this.message instanceof HTMLElement : this.message && typeof this.message === 'object' && this.message !== null && this.message.nodeType === 1 && typeof this.message.nodeName === 'string') {
          toast.appendChild(this.message);

          // Check if it is jQuery object
        } else if (!!this.message.jquery) {
          $(toast).append(this.message[0]);

          // Insert as html;
        } else {
          toast.innerHTML = this.message;
        }

        // Append toasft
        Toast._container.appendChild(toast);
        return toast;
      }

      /**
       * Animate in toast
       */

    }, {
      key: "_animateIn",
      value: function _animateIn() {
        // Animate toast in
        anim({
          targets: this.el,
          top: 0,
          opacity: 1,
          duration: this.options.inDuration,
          easing: 'easeOutCubic'
        });
      }

      /**
       * Create setInterval which automatically removes toast when timeRemaining >= 0
       * has been reached
       */

    }, {
      key: "_setTimer",
      value: function _setTimer() {
        var _this29 = this;

        if (this.timeRemaining !== Infinity) {
          this.counterInterval = setInterval(function () {
            // If toast is not being dragged, decrease its time remaining
            if (!_this29.panning) {
              _this29.timeRemaining -= 20;
            }

            // Animate toast out
            if (_this29.timeRemaining <= 0) {
              _this29.dismiss();
            }
          }, 20);
        }
      }

      /**
       * Dismiss toast with animation
       */

    }, {
      key: "dismiss",
      value: function dismiss() {
        var _this30 = this;

        window.clearInterval(this.counterInterval);
        var activationDistance = this.el.offsetWidth * this.options.activationPercent;

        if (this.wasSwiped) {
          this.el.style.transition = 'transform .05s, opacity .05s';
          this.el.style.transform = "translateX(" + activationDistance + "px)";
          this.el.style.opacity = 0;
        }

        anim({
          targets: this.el,
          opacity: 0,
          marginTop: -40,
          duration: this.options.outDuration,
          easing: 'easeOutExpo',
          complete: function () {
            // Call the optional callback
            if (typeof _this30.options.completeCallback === 'function') {
              _this30.options.completeCallback();
            }
            // Remove toast from DOM
            _this30.$el.remove();
            Toast._toasts.splice(Toast._toasts.indexOf(_this30), 1);
            if (Toast._toasts.length === 0) {
              Toast._removeContainer();
            }
          }
        });
      }
    }], [{
      key: "getInstance",


      /**
       * Get Instance
       */
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Toast;
      }

      /**
       * Append toast container and add event handlers
       */

    }, {
      key: "_createContainer",
      value: function _createContainer() {
        var container = document.createElement('div');
        container.setAttribute('id', 'toast-container');

        // Add event handler
        container.addEventListener('touchstart', Toast._onDragStart);
        container.addEventListener('touchmove', Toast._onDragMove);
        container.addEventListener('touchend', Toast._onDragEnd);

        container.addEventListener('mousedown', Toast._onDragStart);
        document.addEventListener('mousemove', Toast._onDragMove);
        document.addEventListener('mouseup', Toast._onDragEnd);

        document.body.appendChild(container);
        Toast._container = container;
      }

      /**
       * Remove toast container and event handlers
       */

    }, {
      key: "_removeContainer",
      value: function _removeContainer() {
        // Add event handler
        document.removeEventListener('mousemove', Toast._onDragMove);
        document.removeEventListener('mouseup', Toast._onDragEnd);

        $(Toast._container).remove();
        Toast._container = null;
      }

      /**
       * Begin drag handler
       * @param {Event} e
       */

    }, {
      key: "_onDragStart",
      value: function _onDragStart(e) {
        if (e.target && $(e.target).closest('.toast').length) {
          var $toast = $(e.target).closest('.toast');
          var toast = $toast[0].M_Toast;
          toast.panning = true;
          Toast._draggedToast = toast;
          toast.el.classList.add('panning');
          toast.el.style.transition = '';
          toast.startingXPos = Toast._xPos(e);
          toast.time = Date.now();
          toast.xPos = Toast._xPos(e);
        }
      }

      /**
       * Drag move handler
       * @param {Event} e
       */

    }, {
      key: "_onDragMove",
      value: function _onDragMove(e) {
        if (!!Toast._draggedToast) {
          e.preventDefault();
          var toast = Toast._draggedToast;
          toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));
          toast.xPos = Toast._xPos(e);
          toast.velocityX = toast.deltaX / (Date.now() - toast.time);
          toast.time = Date.now();

          var totalDeltaX = toast.xPos - toast.startingXPos;
          var activationDistance = toast.el.offsetWidth * toast.options.activationPercent;
          toast.el.style.transform = "translateX(" + totalDeltaX + "px)";
          toast.el.style.opacity = 1 - Math.abs(totalDeltaX / activationDistance);
        }
      }

      /**
       * End drag handler
       */

    }, {
      key: "_onDragEnd",
      value: function _onDragEnd() {
        if (!!Toast._draggedToast) {
          var toast = Toast._draggedToast;
          toast.panning = false;
          toast.el.classList.remove('panning');

          var totalDeltaX = toast.xPos - toast.startingXPos;
          var activationDistance = toast.el.offsetWidth * toast.options.activationPercent;
          var shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;

          // Remove toast
          if (shouldBeDismissed) {
            toast.wasSwiped = true;
            toast.dismiss();

            // Animate toast back to original position
          } else {
            toast.el.style.transition = 'transform .2s, opacity .2s';
            toast.el.style.transform = '';
            toast.el.style.opacity = '';
          }
          Toast._draggedToast = null;
        }
      }

      /**
       * Get x position of mouse or touch event
       * @param {Event} e
       */

    }, {
      key: "_xPos",
      value: function _xPos(e) {
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientX;
        }
        // mouse event
        return e.clientX;
      }

      /**
       * Remove all toasts
       */

    }, {
      key: "dismissAll",
      value: function dismissAll() {
        for (var toastIndex in Toast._toasts) {
          Toast._toasts[toastIndex].dismiss();
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Toast;
  }();

  /**
   * @static
   * @memberof Toast
   * @type {Array.<Toast>}
   */


  Toast._toasts = [];

  /**
   * @static
   * @memberof Toast
   */
  Toast._container = null;

  /**
   * @static
   * @memberof Toast
   * @type {Toast}
   */
  Toast._draggedToast = null;

  M.Toast = Toast;
  M.toast = function (options) {
    return new Toast(options);
  };
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    edge: 'left',
    draggable: true,
    inDuration: 250,
    outDuration: 200,
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    preventScrolling: true
  };

  /**
   * @class
   */

  var Sidenav = function (_Component8) {
    _inherits(Sidenav, _Component8);

    /**
     * Construct Sidenav instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Sidenav(el, options) {
      _classCallCheck(this, Sidenav);

      var _this31 = _possibleConstructorReturn(this, (Sidenav.__proto__ || Object.getPrototypeOf(Sidenav)).call(this, Sidenav, el, options));

      _this31.el.M_Sidenav = _this31;
      _this31.id = _this31.$el.attr('id');

      /**
       * Options for the Sidenav
       * @member Sidenav#options
       * @prop {String} [edge='left'] - Side of screen on which Sidenav appears
       * @prop {Boolean} [draggable=true] - Allow swipe gestures to open/close Sidenav
       * @prop {Number} [inDuration=250] - Length in ms of enter transition
       * @prop {Number} [outDuration=200] - Length in ms of exit transition
       * @prop {Function} onOpenStart - Function called when sidenav starts entering
       * @prop {Function} onOpenEnd - Function called when sidenav finishes entering
       * @prop {Function} onCloseStart - Function called when sidenav starts exiting
       * @prop {Function} onCloseEnd - Function called when sidenav finishes exiting
       */
      _this31.options = $.extend({}, Sidenav.defaults, options);

      /**
       * Describes open/close state of Sidenav
       * @type {Boolean}
       */
      _this31.isOpen = false;

      /**
       * Describes if Sidenav is fixed
       * @type {Boolean}
       */
      _this31.isFixed = _this31.el.classList.contains('sidenav-fixed');

      /**
       * Describes if Sidenav is being draggeed
       * @type {Boolean}
       */
      _this31.isDragged = false;

      // Window size variables for window resize checks
      _this31.lastWindowWidth = window.innerWidth;
      _this31.lastWindowHeight = window.innerHeight;

      _this31._createOverlay();
      _this31._createDragTarget();
      _this31._setupEventHandlers();
      _this31._setupClasses();
      _this31._setupFixed();

      Sidenav._sidenavs.push(_this31);
      return _this31;
    }

    _createClass(Sidenav, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._enableBodyScrolling();
        this._overlay.parentNode.removeChild(this._overlay);
        this.dragTarget.parentNode.removeChild(this.dragTarget);
        this.el.M_Sidenav = undefined;
        this.el.style.transform = '';

        var index = Sidenav._sidenavs.indexOf(this);
        if (index >= 0) {
          Sidenav._sidenavs.splice(index, 1);
        }
      }
    }, {
      key: "_createOverlay",
      value: function _createOverlay() {
        var overlay = document.createElement('div');
        this._closeBound = this.close.bind(this);
        overlay.classList.add('sidenav-overlay');

        overlay.addEventListener('click', this._closeBound);

        document.body.appendChild(overlay);
        this._overlay = overlay;
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        if (Sidenav._sidenavs.length === 0) {
          document.body.addEventListener('click', this._handleTriggerClick);
        }

        this._handleDragTargetDragBound = this._handleDragTargetDrag.bind(this);
        this._handleDragTargetReleaseBound = this._handleDragTargetRelease.bind(this);
        this._handleCloseDragBound = this._handleCloseDrag.bind(this);
        this._handleCloseReleaseBound = this._handleCloseRelease.bind(this);
        this._handleCloseTriggerClickBound = this._handleCloseTriggerClick.bind(this);

        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDragBound);
        this.dragTarget.addEventListener('touchend', this._handleDragTargetReleaseBound);
        this._overlay.addEventListener('touchmove', this._handleCloseDragBound);
        this._overlay.addEventListener('touchend', this._handleCloseReleaseBound);
        this.el.addEventListener('touchmove', this._handleCloseDragBound);
        this.el.addEventListener('touchend', this._handleCloseReleaseBound);
        this.el.addEventListener('click', this._handleCloseTriggerClickBound);

        // Add resize for side nav fixed
        if (this.isFixed) {
          this._handleWindowResizeBound = this._handleWindowResize.bind(this);
          window.addEventListener('resize', this._handleWindowResizeBound);
        }
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (Sidenav._sidenavs.length === 1) {
          document.body.removeEventListener('click', this._handleTriggerClick);
        }

        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDragBound);
        this.dragTarget.removeEventListener('touchend', this._handleDragTargetReleaseBound);
        this._overlay.removeEventListener('touchmove', this._handleCloseDragBound);
        this._overlay.removeEventListener('touchend', this._handleCloseReleaseBound);
        this.el.removeEventListener('touchmove', this._handleCloseDragBound);
        this.el.removeEventListener('touchend', this._handleCloseReleaseBound);
        this.el.removeEventListener('click', this._handleCloseTriggerClickBound);

        // Remove resize for side nav fixed
        if (this.isFixed) {
          window.removeEventListener('resize', this._handleWindowResizeBound);
        }
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target).closest('.sidenav-trigger');
        if (e.target && $trigger.length) {
          var sidenavId = M.getIdFromTrigger($trigger[0]);

          var sidenavInstance = document.getElementById(sidenavId).M_Sidenav;
          if (sidenavInstance) {
            sidenavInstance.open($trigger);
          }
          e.preventDefault();
        }
      }

      /**
       * Set variables needed at the beggining of drag
       * and stop any current transition.
       * @param {Event} e
       */

    }, {
      key: "_startDrag",
      value: function _startDrag(e) {
        var clientX = e.targetTouches[0].clientX;
        this.isDragged = true;
        this._startingXpos = clientX;
        this._xPos = this._startingXpos;
        this._time = Date.now();
        this._width = this.el.getBoundingClientRect().width;
        this._overlay.style.display = 'block';
        this._initialScrollTop = this.isOpen ? this.el.scrollTop : M.getDocumentScrollTop();
        this._verticallyScrolling = false;
        anim.remove(this.el);
        anim.remove(this._overlay);
      }

      /**
       * Set variables needed at each drag move update tick
       * @param {Event} e
       */

    }, {
      key: "_dragMoveUpdate",
      value: function _dragMoveUpdate(e) {
        var clientX = e.targetTouches[0].clientX;
        var currentScrollTop = this.isOpen ? this.el.scrollTop : M.getDocumentScrollTop();
        this.deltaX = Math.abs(this._xPos - clientX);
        this._xPos = clientX;
        this.velocityX = this.deltaX / (Date.now() - this._time);
        this._time = Date.now();
        if (this._initialScrollTop !== currentScrollTop) {
          this._verticallyScrolling = true;
        }
      }

      /**
       * Handles Dragging of Sidenav
       * @param {Event} e
       */

    }, {
      key: "_handleDragTargetDrag",
      value: function _handleDragTargetDrag(e) {
        // Check if draggable
        if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {
          return;
        }

        // If not being dragged, set initial drag start variables
        if (!this.isDragged) {
          this._startDrag(e);
        }

        // Run touchmove updates
        this._dragMoveUpdate(e);

        // Calculate raw deltaX
        var totalDeltaX = this._xPos - this._startingXpos;

        // dragDirection is the attempted user drag direction
        var dragDirection = totalDeltaX > 0 ? 'right' : 'left';

        // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction
        totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));
        if (this.options.edge === dragDirection) {
          totalDeltaX = 0;
        }

        /**
         * transformX is the drag displacement
         * transformPrefix is the initial transform placement
         * Invert values if Sidenav is right edge
         */
        var transformX = totalDeltaX;
        var transformPrefix = 'translateX(-100%)';
        if (this.options.edge === 'right') {
          transformPrefix = 'translateX(100%)';
          transformX = -transformX;
        }

        // Calculate open/close percentage of sidenav, with open = 1 and close = 0
        this.percentOpen = Math.min(1, totalDeltaX / this._width);

        // Set transform and opacity styles
        this.el.style.transform = transformPrefix + " translateX(" + transformX + "px)";
        this._overlay.style.opacity = this.percentOpen;
      }

      /**
       * Handle Drag Target Release
       */

    }, {
      key: "_handleDragTargetRelease",
      value: function _handleDragTargetRelease() {
        if (this.isDragged) {
          if (this.percentOpen > 0.2) {
            this.open();
          } else {
            this._animateOut();
          }

          this.isDragged = false;
          this._verticallyScrolling = false;
        }
      }

      /**
       * Handle Close Drag
       * @param {Event} e
       */

    }, {
      key: "_handleCloseDrag",
      value: function _handleCloseDrag(e) {
        if (this.isOpen) {
          // Check if draggable
          if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {
            return;
          }

          // If not being dragged, set initial drag start variables
          if (!this.isDragged) {
            this._startDrag(e);
          }

          // Run touchmove updates
          this._dragMoveUpdate(e);

          // Calculate raw deltaX
          var totalDeltaX = this._xPos - this._startingXpos;

          // dragDirection is the attempted user drag direction
          var dragDirection = totalDeltaX > 0 ? 'right' : 'left';

          // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction
          totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));
          if (this.options.edge !== dragDirection) {
            totalDeltaX = 0;
          }

          var transformX = -totalDeltaX;
          if (this.options.edge === 'right') {
            transformX = -transformX;
          }

          // Calculate open/close percentage of sidenav, with open = 1 and close = 0
          this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);

          // Set transform and opacity styles
          this.el.style.transform = "translateX(" + transformX + "px)";
          this._overlay.style.opacity = this.percentOpen;
        }
      }

      /**
       * Handle Close Release
       */

    }, {
      key: "_handleCloseRelease",
      value: function _handleCloseRelease() {
        if (this.isOpen && this.isDragged) {
          if (this.percentOpen > 0.8) {
            this._animateIn();
          } else {
            this.close();
          }

          this.isDragged = false;
          this._verticallyScrolling = false;
        }
      }

      /**
       * Handles closing of Sidenav when element with class .sidenav-close
       */

    }, {
      key: "_handleCloseTriggerClick",
      value: function _handleCloseTriggerClick(e) {
        var $closeTrigger = $(e.target).closest('.sidenav-close');
        if ($closeTrigger.length && !this._isCurrentlyFixed()) {
          this.close();
        }
      }

      /**
       * Handle Window Resize
       */

    }, {
      key: "_handleWindowResize",
      value: function _handleWindowResize() {
        // Only handle horizontal resizes
        if (this.lastWindowWidth !== window.innerWidth) {
          if (window.innerWidth > 992) {
            this.open();
          } else {
            this.close();
          }
        }

        this.lastWindowWidth = window.innerWidth;
        this.lastWindowHeight = window.innerHeight;
      }
    }, {
      key: "_setupClasses",
      value: function _setupClasses() {
        if (this.options.edge === 'right') {
          this.el.classList.add('right-aligned');
          this.dragTarget.classList.add('right-aligned');
        }
      }
    }, {
      key: "_removeClasses",
      value: function _removeClasses() {
        this.el.classList.remove('right-aligned');
        this.dragTarget.classList.remove('right-aligned');
      }
    }, {
      key: "_setupFixed",
      value: function _setupFixed() {
        if (this._isCurrentlyFixed()) {
          this.open();
        }
      }
    }, {
      key: "_isCurrentlyFixed",
      value: function _isCurrentlyFixed() {
        return this.isFixed && window.innerWidth > 992;
      }
    }, {
      key: "_createDragTarget",
      value: function _createDragTarget() {
        var dragTarget = document.createElement('div');
        dragTarget.classList.add('drag-target');
        document.body.appendChild(dragTarget);
        this.dragTarget = dragTarget;
      }
    }, {
      key: "_preventBodyScrolling",
      value: function _preventBodyScrolling() {
        var body = document.body;
        body.style.overflow = 'hidden';
      }
    }, {
      key: "_enableBodyScrolling",
      value: function _enableBodyScrolling() {
        var body = document.body;
        body.style.overflow = '';
      }
    }, {
      key: "open",
      value: function open() {
        if (this.isOpen === true) {
          return;
        }

        this.isOpen = true;

        // Run onOpenStart callback
        if (typeof this.options.onOpenStart === 'function') {
          this.options.onOpenStart.call(this, this.el);
        }

        // Handle fixed Sidenav
        if (this._isCurrentlyFixed()) {
          anim.remove(this.el);
          anim({
            targets: this.el,
            translateX: 0,
            duration: 0,
            easing: 'easeOutQuad'
          });
          this._enableBodyScrolling();
          this._overlay.style.display = 'none';

          // Handle non-fixed Sidenav
        } else {
          if (this.options.preventScrolling) {
            this._preventBodyScrolling();
          }

          if (!this.isDragged || this.percentOpen != 1) {
            this._animateIn();
          }
        }
      }
    }, {
      key: "close",
      value: function close() {
        if (this.isOpen === false) {
          return;
        }

        this.isOpen = false;

        // Run onCloseStart callback
        if (typeof this.options.onCloseStart === 'function') {
          this.options.onCloseStart.call(this, this.el);
        }

        // Handle fixed Sidenav
        if (this._isCurrentlyFixed()) {
          var transformX = this.options.edge === 'left' ? '-105%' : '105%';
          this.el.style.transform = "translateX(" + transformX + ")";

          // Handle non-fixed Sidenav
        } else {
          this._enableBodyScrolling();

          if (!this.isDragged || this.percentOpen != 0) {
            this._animateOut();
          } else {
            this._overlay.style.display = 'none';
          }
        }
      }
    }, {
      key: "_animateIn",
      value: function _animateIn() {
        this._animateSidenavIn();
        this._animateOverlayIn();
      }
    }, {
      key: "_animateSidenavIn",
      value: function _animateSidenavIn() {
        var _this32 = this;

        var slideOutPercent = this.options.edge === 'left' ? -1 : 1;
        if (this.isDragged) {
          slideOutPercent = this.options.edge === 'left' ? slideOutPercent + this.percentOpen : slideOutPercent - this.percentOpen;
        }

        anim.remove(this.el);
        anim({
          targets: this.el,
          translateX: [slideOutPercent * 100 + "%", 0],
          duration: this.options.inDuration,
          easing: 'easeOutQuad',
          complete: function () {
            // Run onOpenEnd callback
            if (typeof _this32.options.onOpenEnd === 'function') {
              _this32.options.onOpenEnd.call(_this32, _this32.el);
            }
          }
        });
      }
    }, {
      key: "_animateOverlayIn",
      value: function _animateOverlayIn() {
        var start = 0;
        if (this.isDragged) {
          start = this.percentOpen;
        } else {
          $(this._overlay).css({
            display: 'block'
          });
        }

        anim.remove(this._overlay);
        anim({
          targets: this._overlay,
          opacity: [start, 1],
          duration: this.options.inDuration,
          easing: 'easeOutQuad'
        });
      }
    }, {
      key: "_animateOut",
      value: function _animateOut() {
        this._animateSidenavOut();
        this._animateOverlayOut();
      }
    }, {
      key: "_animateSidenavOut",
      value: function _animateSidenavOut() {
        var _this33 = this;

        var endPercent = this.options.edge === 'left' ? -1 : 1;
        var slideOutPercent = 0;
        if (this.isDragged) {
          slideOutPercent = this.options.edge === 'left' ? endPercent + this.percentOpen : endPercent - this.percentOpen;
        }

        anim.remove(this.el);
        anim({
          targets: this.el,
          translateX: [slideOutPercent * 100 + "%", endPercent * 105 + "%"],
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            // Run onOpenEnd callback
            if (typeof _this33.options.onCloseEnd === 'function') {
              _this33.options.onCloseEnd.call(_this33, _this33.el);
            }
          }
        });
      }
    }, {
      key: "_animateOverlayOut",
      value: function _animateOverlayOut() {
        var _this34 = this;

        anim.remove(this._overlay);
        anim({
          targets: this._overlay,
          opacity: 0,
          duration: this.options.outDuration,
          easing: 'easeOutQuad',
          complete: function () {
            $(_this34._overlay).css('display', 'none');
          }
        });
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Sidenav.__proto__ || Object.getPrototypeOf(Sidenav), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Sidenav;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Sidenav;
  }(Component);

  /**
   * @static
   * @memberof Sidenav
   * @type {Array.<Sidenav>}
   */


  Sidenav._sidenavs = [];

  M.Sidenav = Sidenav;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Sidenav, 'sidenav', 'M_Sidenav');
  }
})(cash, M.anime);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    throttle: 100,
    scrollOffset: 200, // offset - 200 allows elements near bottom of page to scroll
    activeClass: 'active',
    getActiveElement: function (id) {
      return 'a[href="#' + id + '"]';
    }
  };

  /**
   * @class
   *
   */

  var ScrollSpy = function (_Component9) {
    _inherits(ScrollSpy, _Component9);

    /**
     * Construct ScrollSpy instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function ScrollSpy(el, options) {
      _classCallCheck(this, ScrollSpy);

      var _this35 = _possibleConstructorReturn(this, (ScrollSpy.__proto__ || Object.getPrototypeOf(ScrollSpy)).call(this, ScrollSpy, el, options));

      _this35.el.M_ScrollSpy = _this35;

      /**
       * Options for the modal
       * @member Modal#options
       * @prop {Number} [throttle=100] - Throttle of scroll handler
       * @prop {Number} [scrollOffset=200] - Offset for centering element when scrolled to
       * @prop {String} [activeClass='active'] - Class applied to active elements
       * @prop {Function} [getActiveElement] - Used to find active element
       */
      _this35.options = $.extend({}, ScrollSpy.defaults, options);

      // setup
      ScrollSpy._elements.push(_this35);
      ScrollSpy._count++;
      ScrollSpy._increment++;
      _this35.tickId = -1;
      _this35.id = ScrollSpy._increment;
      _this35._setupEventHandlers();
      _this35._handleWindowScroll();
      return _this35;
    }

    _createClass(ScrollSpy, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);
        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);
        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.$el), 1);
        ScrollSpy._count--;
        this._removeEventHandlers();
        $(this.options.getActiveElement(this.$el.attr('id'))).removeClass(this.options.activeClass);
        this.el.M_ScrollSpy = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var throttledResize = M.throttle(this._handleWindowScroll, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);
        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);
        if (ScrollSpy._count === 1) {
          window.addEventListener('scroll', this._handleWindowScrollBound);
          window.addEventListener('resize', this._handleThrottledResizeBound);
          document.body.addEventListener('click', this._handleTriggerClick);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (ScrollSpy._count === 0) {
          window.removeEventListener('scroll', this._handleWindowScrollBound);
          window.removeEventListener('resize', this._handleThrottledResizeBound);
          document.body.removeEventListener('click', this._handleTriggerClick);
        }
      }

      /**
       * Handle Trigger Click
       * @param {Event} e
       */

    }, {
      key: "_handleTriggerClick",
      value: function _handleTriggerClick(e) {
        var $trigger = $(e.target);
        for (var i = ScrollSpy._elements.length - 1; i >= 0; i--) {
          var scrollspy = ScrollSpy._elements[i];
          if ($trigger.is('a[href="#' + scrollspy.$el.attr('id') + '"]')) {
            e.preventDefault();
            var offset = scrollspy.$el.offset().top + 1;

            anim({
              targets: [document.documentElement, document.body],
              scrollTop: offset - scrollspy.options.scrollOffset,
              duration: 400,
              easing: 'easeOutCubic'
            });
            break;
          }
        }
      }

      /**
       * Handle Window Scroll
       */

    }, {
      key: "_handleWindowScroll",
      value: function _handleWindowScroll() {
        // unique tick id
        ScrollSpy._ticks++;

        // viewport rectangle
        var top = M.getDocumentScrollTop(),
            left = M.getDocumentScrollLeft(),
            right = left + window.innerWidth,
            bottom = top + window.innerHeight;

        // determine which elements are in view
        var intersections = ScrollSpy._findElements(top, right, bottom, left);
        for (var i = 0; i < intersections.length; i++) {
          var scrollspy = intersections[i];
          var lastTick = scrollspy.tickId;
          if (lastTick < 0) {
            // entered into view
            scrollspy._enter();
          }

          // update tick id
          scrollspy.tickId = ScrollSpy._ticks;
        }

        for (var _i = 0; _i < ScrollSpy._elementsInView.length; _i++) {
          var _scrollspy = ScrollSpy._elementsInView[_i];
          var _lastTick = _scrollspy.tickId;
          if (_lastTick >= 0 && _lastTick !== ScrollSpy._ticks) {
            // exited from view
            _scrollspy._exit();
            _scrollspy.tickId = -1;
          }
        }

        // remember elements in view for next tick
        ScrollSpy._elementsInView = intersections;
      }

      /**
       * Find elements that are within the boundary
       * @param {number} top
       * @param {number} right
       * @param {number} bottom
       * @param {number} left
       * @return {Array.<ScrollSpy>}   A collection of elements
       */

    }, {
      key: "_enter",
      value: function _enter() {
        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {
          return value.height() != 0;
        });

        if (ScrollSpy._visibleElements[0]) {
          $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);
          if (ScrollSpy._visibleElements[0][0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0][0].M_ScrollSpy.id) {
            ScrollSpy._visibleElements.unshift(this.$el);
          } else {
            ScrollSpy._visibleElements.push(this.$el);
          }
        } else {
          ScrollSpy._visibleElements.push(this.$el);
        }

        $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);
      }
    }, {
      key: "_exit",
      value: function _exit() {
        var _this36 = this;

        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {
          return value.height() != 0;
        });

        if (ScrollSpy._visibleElements[0]) {
          $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);

          ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (el) {
            return el.attr('id') != _this36.$el.attr('id');
          });
          if (ScrollSpy._visibleElements[0]) {
            // Check if empty
            $(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);
          }
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(ScrollSpy.__proto__ || Object.getPrototypeOf(ScrollSpy), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_ScrollSpy;
      }
    }, {
      key: "_findElements",
      value: function _findElements(top, right, bottom, left) {
        var hits = [];
        for (var i = 0; i < ScrollSpy._elements.length; i++) {
          var scrollspy = ScrollSpy._elements[i];
          var currTop = top + scrollspy.options.scrollOffset || 200;

          if (scrollspy.$el.height() > 0) {
            var elTop = scrollspy.$el.offset().top,
                elLeft = scrollspy.$el.offset().left,
                elRight = elLeft + scrollspy.$el.width(),
                elBottom = elTop + scrollspy.$el.height();

            var isIntersect = !(elLeft > right || elRight < left || elTop > bottom || elBottom < currTop);

            if (isIntersect) {
              hits.push(scrollspy);
            }
          }
        }
        return hits;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return ScrollSpy;
  }(Component);

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<ScrollSpy>}
   */


  ScrollSpy._elements = [];

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<ScrollSpy>}
   */
  ScrollSpy._elementsInView = [];

  /**
   * @static
   * @memberof ScrollSpy
   * @type {Array.<cash>}
   */
  ScrollSpy._visibleElements = [];

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._count = 0;

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._increment = 0;

  /**
   * @static
   * @memberof ScrollSpy
   */
  ScrollSpy._ticks = 0;

  M.ScrollSpy = ScrollSpy;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(ScrollSpy, 'scrollSpy', 'M_ScrollSpy');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    data: {}, // Autocomplete data set
    limit: Infinity, // Limit of results the autocomplete shows
    onAutocomplete: null, // Callback for when autocompleted
    minLength: 1, // Min characters before autocomplete starts
    sortFunction: function (a, b, inputString) {
      // Sort function for sorting autocomplete results
      return a.indexOf(inputString) - b.indexOf(inputString);
    }
  };

  /**
   * @class
   *
   */

  var Autocomplete = function (_Component10) {
    _inherits(Autocomplete, _Component10);

    /**
     * Construct Autocomplete instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Autocomplete(el, options) {
      _classCallCheck(this, Autocomplete);

      var _this37 = _possibleConstructorReturn(this, (Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call(this, Autocomplete, el, options));

      _this37.el.M_Autocomplete = _this37;

      /**
       * Options for the autocomplete
       * @member Autocomplete#options
       * @prop {Number} duration
       * @prop {Number} dist
       * @prop {number} shift
       * @prop {number} padding
       * @prop {Boolean} fullWidth
       * @prop {Boolean} indicators
       * @prop {Boolean} noWrap
       * @prop {Function} onCycleTo
       */
      _this37.options = $.extend({}, Autocomplete.defaults, options);

      // Setup
      _this37.isOpen = false;
      _this37.count = 0;
      _this37.activeIndex = -1;
      _this37.oldVal;
      _this37.$inputField = _this37.$el.closest('.input-field');
      _this37.$active = $();
      _this37._mousedown = false;
      _this37._setupDropdown();

      _this37._setupEventHandlers();
      return _this37;
    }

    _createClass(Autocomplete, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeDropdown();
        this.el.M_Autocomplete = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputBlurBound = this._handleInputBlur.bind(this);
        this._handleInputKeyupAndFocusBound = this._handleInputKeyupAndFocus.bind(this);
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleContainerMousedownAndTouchstartBound = this._handleContainerMousedownAndTouchstart.bind(this);
        this._handleContainerMouseupAndTouchendBound = this._handleContainerMouseupAndTouchend.bind(this);

        this.el.addEventListener('blur', this._handleInputBlurBound);
        this.el.addEventListener('keyup', this._handleInputKeyupAndFocusBound);
        this.el.addEventListener('focus', this._handleInputKeyupAndFocusBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.el.addEventListener('click', this._handleInputClickBound);
        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);
        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);

        if (typeof window.ontouchstart !== 'undefined') {
          this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);
          this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchendBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('blur', this._handleInputBlurBound);
        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocusBound);
        this.el.removeEventListener('focus', this._handleInputKeyupAndFocusBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);
        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);

        if (typeof window.ontouchstart !== 'undefined') {
          this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);
          this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchendBound);
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupDropdown",
      value: function _setupDropdown() {
        var _this38 = this;

        this.container = document.createElement('ul');
        this.container.id = "autocomplete-options-" + M.guid();
        $(this.container).addClass('autocomplete-content dropdown-content');
        this.$inputField.append(this.container);
        this.el.setAttribute('data-target', this.container.id);

        this.dropdown = M.Dropdown.init(this.el, {
          autoFocus: false,
          closeOnClick: false,
          coverTrigger: false,
          onItemClick: function (itemEl) {
            _this38.selectOption($(itemEl));
          }
        });

        // Sketchy removal of dropdown click handler
        this.el.removeEventListener('click', this.dropdown._handleClickBound);
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeDropdown",
      value: function _removeDropdown() {
        this.container.parentNode.removeChild(this.container);
      }

      /**
       * Handle Input Blur
       */

    }, {
      key: "_handleInputBlur",
      value: function _handleInputBlur() {
        if (!this._mousedown) {
          this.close();
          this._resetAutocomplete();
        }
      }

      /**
       * Handle Input Keyup and Focus
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeyupAndFocus",
      value: function _handleInputKeyupAndFocus(e) {
        if (e.type === 'keyup') {
          Autocomplete._keydown = false;
        }

        this.count = 0;
        var val = this.el.value.toLowerCase();

        // Don't capture enter or arrow key usage.
        if (e.keyCode === 13 || e.keyCode === 38 || e.keyCode === 40) {
          return;
        }

        // Check if the input isn't empty
        // Check if focus triggered by tab
        if (this.oldVal !== val && (M.tabPressed || e.type !== 'focus')) {
          this.open();
        }

        // Update oldVal
        this.oldVal = val;
      }

      /**
       * Handle Input Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        Autocomplete._keydown = true;

        // Arrow keys and enter key usage
        var keyCode = e.keyCode,
            liElement = void 0,
            numItems = $(this.container).children('li').length;

        // select element on Enter
        if (keyCode === M.keys.ENTER && this.activeIndex >= 0) {
          liElement = $(this.container).children('li').eq(this.activeIndex);
          if (liElement.length) {
            this.selectOption(liElement);
            e.preventDefault();
          }
          return;
        }

        // Capture up and down key
        if (keyCode === M.keys.ARROW_UP || keyCode === M.keys.ARROW_DOWN) {
          e.preventDefault();

          if (keyCode === M.keys.ARROW_UP && this.activeIndex > 0) {
            this.activeIndex--;
          }

          if (keyCode === M.keys.ARROW_DOWN && this.activeIndex < numItems - 1) {
            this.activeIndex++;
          }

          this.$active.removeClass('active');
          if (this.activeIndex >= 0) {
            this.$active = $(this.container).children('li').eq(this.activeIndex);
            this.$active.addClass('active');
          }
        }
      }

      /**
       * Handle Input Click
       * @param {Event} e
       */

    }, {
      key: "_handleInputClick",
      value: function _handleInputClick(e) {
        this.open();
      }

      /**
       * Handle Container Mousedown and Touchstart
       * @param {Event} e
       */

    }, {
      key: "_handleContainerMousedownAndTouchstart",
      value: function _handleContainerMousedownAndTouchstart(e) {
        this._mousedown = true;
      }

      /**
       * Handle Container Mouseup and Touchend
       * @param {Event} e
       */

    }, {
      key: "_handleContainerMouseupAndTouchend",
      value: function _handleContainerMouseupAndTouchend(e) {
        this._mousedown = false;
      }

      /**
       * Highlight partial match
       */

    }, {
      key: "_highlight",
      value: function _highlight(string, $el) {
        var img = $el.find('img');
        var matchStart = $el.text().toLowerCase().indexOf('' + string.toLowerCase() + ''),
            matchEnd = matchStart + string.length - 1,
            beforeMatch = $el.text().slice(0, matchStart),
            matchText = $el.text().slice(matchStart, matchEnd + 1),
            afterMatch = $el.text().slice(matchEnd + 1);
        $el.html("<span>" + beforeMatch + "<span class='highlight'>" + matchText + "</span>" + afterMatch + "</span>");
        if (img.length) {
          $el.prepend(img);
        }
      }

      /**
       * Reset current element position
       */

    }, {
      key: "_resetCurrentElement",
      value: function _resetCurrentElement() {
        this.activeIndex = -1;
        this.$active.removeClass('active');
      }

      /**
       * Reset autocomplete elements
       */

    }, {
      key: "_resetAutocomplete",
      value: function _resetAutocomplete() {
        $(this.container).empty();
        this._resetCurrentElement();
        this.oldVal = null;
        this.isOpen = false;
        this._mousedown = false;
      }

      /**
       * Select autocomplete option
       * @param {Element} el  Autocomplete option list item element
       */

    }, {
      key: "selectOption",
      value: function selectOption(el) {
        var text = el.text().trim();
        this.el.value = text;
        this.$el.trigger('change');
        this._resetAutocomplete();
        this.close();

        // Handle onAutocomplete callback.
        if (typeof this.options.onAutocomplete === 'function') {
          this.options.onAutocomplete.call(this, text);
        }
      }

      /**
       * Render dropdown content
       * @param {Object} data  data set
       * @param {String} val  current input value
       */

    }, {
      key: "_renderDropdown",
      value: function _renderDropdown(data, val) {
        var _this39 = this;

        this._resetAutocomplete();

        var matchingData = [];

        // Gather all matching data
        for (var key in data) {
          if (data.hasOwnProperty(key) && key.toLowerCase().indexOf(val) !== -1) {
            // Break if past limit
            if (this.count >= this.options.limit) {
              break;
            }

            var entry = {
              data: data[key],
              key: key
            };
            matchingData.push(entry);

            this.count++;
          }
        }

        // Sort
        if (this.options.sortFunction) {
          var sortFunctionBound = function (a, b) {
            return _this39.options.sortFunction(a.key.toLowerCase(), b.key.toLowerCase(), val.toLowerCase());
          };
          matchingData.sort(sortFunctionBound);
        }

        // Render
        for (var i = 0; i < matchingData.length; i++) {
          var _entry = matchingData[i];
          var $autocompleteOption = $('<li></li>');
          if (!!_entry.data) {
            $autocompleteOption.append("<img src=\"" + _entry.data + "\" class=\"right circle\"><span>" + _entry.key + "</span>");
          } else {
            $autocompleteOption.append('<span>' + _entry.key + '</span>');
          }

          $(this.container).append($autocompleteOption);
          this._highlight(val, $autocompleteOption);
        }
      }

      /**
       * Open Autocomplete Dropdown
       */

    }, {
      key: "open",
      value: function open() {
        var val = this.el.value.toLowerCase();

        this._resetAutocomplete();

        if (val.length >= this.options.minLength) {
          this.isOpen = true;
          this._renderDropdown(this.options.data, val);
        }

        // Open dropdown
        if (!this.dropdown.isOpen) {
          this.dropdown.open();
        } else {
          // Recalculate dropdown when its already open
          this.dropdown.recalculateDimensions();
        }
      }

      /**
       * Close Autocomplete Dropdown
       */

    }, {
      key: "close",
      value: function close() {
        this.dropdown.close();
      }

      /**
       * Update Data
       * @param {Object} data
       */

    }, {
      key: "updateData",
      value: function updateData(data) {
        var val = this.el.value.toLowerCase();
        this.options.data = data;

        if (this.isOpen) {
          this._renderDropdown(data, val);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Autocomplete;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Autocomplete;
  }(Component);

  /**
   * @static
   * @memberof Autocomplete
   */


  Autocomplete._keydown = false;

  M.Autocomplete = Autocomplete;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Autocomplete, 'autocomplete', 'M_Autocomplete');
  }
})(cash);
;(function ($) {
  // Function to update labels of text fields
  M.updateTextFields = function () {
    var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea';
    $(input_selector).each(function (element, index) {
      var $this = $(this);
      if (element.value.length > 0 || $(element).is(':focus') || element.autofocus || $this.attr('placeholder') !== null) {
        $this.siblings('label').addClass('active');
      } else if (element.validity) {
        $this.siblings('label').toggleClass('active', element.validity.badInput === true);
      } else {
        $this.siblings('label').removeClass('active');
      }
    });
  };

  M.validate_field = function (object) {
    var hasLength = object.attr('data-length') !== null;
    var lenAttr = parseInt(object.attr('data-length'));
    var len = object[0].value.length;

    if (len === 0 && object[0].validity.badInput === false && !object.is(':required')) {
      if (object.hasClass('validate')) {
        object.removeClass('valid');
        object.removeClass('invalid');
      }
    } else {
      if (object.hasClass('validate')) {
        // Check for character counter attributes
        if (object.is(':valid') && hasLength && len <= lenAttr || object.is(':valid') && !hasLength) {
          object.removeClass('invalid');
          object.addClass('valid');
        } else {
          object.removeClass('valid');
          object.addClass('invalid');
        }
      }
    }
  };

  M.textareaAutoResize = function ($textarea) {
    // Wrap if native element
    if ($textarea instanceof Element) {
      $textarea = $($textarea);
    }

    if (!$textarea.length) {
      console.error('No textarea element found');
      return;
    }

    // Textarea Auto Resize
    var hiddenDiv = $('.hiddendiv').first();
    if (!hiddenDiv.length) {
      hiddenDiv = $('<div class="hiddendiv common"></div>');
      $('body').append(hiddenDiv);
    }

    // Set font properties of hiddenDiv
    var fontFamily = $textarea.css('font-family');
    var fontSize = $textarea.css('font-size');
    var lineHeight = $textarea.css('line-height');

    // Firefox can't handle padding shorthand.
    var paddingTop = $textarea.css('padding-top');
    var paddingRight = $textarea.css('padding-right');
    var paddingBottom = $textarea.css('padding-bottom');
    var paddingLeft = $textarea.css('padding-left');

    if (fontSize) {
      hiddenDiv.css('font-size', fontSize);
    }
    if (fontFamily) {
      hiddenDiv.css('font-family', fontFamily);
    }
    if (lineHeight) {
      hiddenDiv.css('line-height', lineHeight);
    }
    if (paddingTop) {
      hiddenDiv.css('padding-top', paddingTop);
    }
    if (paddingRight) {
      hiddenDiv.css('padding-right', paddingRight);
    }
    if (paddingBottom) {
      hiddenDiv.css('padding-bottom', paddingBottom);
    }
    if (paddingLeft) {
      hiddenDiv.css('padding-left', paddingLeft);
    }

    // Set original-height, if none
    if (!$textarea.data('original-height')) {
      $textarea.data('original-height', $textarea.height());
    }

    if ($textarea.attr('wrap') === 'off') {
      hiddenDiv.css('overflow-wrap', 'normal').css('white-space', 'pre');
    }

    hiddenDiv.text($textarea[0].value + '\n');
    var content = hiddenDiv.html().replace(/\n/g, '<br>');
    hiddenDiv.html(content);

    // When textarea is hidden, width goes crazy.
    // Approximate with half of window size

    if ($textarea[0].offsetWidth > 0 && $textarea[0].offsetHeight > 0) {
      hiddenDiv.css('width', $textarea.width() + 'px');
    } else {
      hiddenDiv.css('width', window.innerWidth / 2 + 'px');
    }

    /**
     * Resize if the new height is greater than the
     * original height of the textarea
     */
    if ($textarea.data('original-height') <= hiddenDiv.innerHeight()) {
      $textarea.css('height', hiddenDiv.innerHeight() + 'px');
    } else if ($textarea[0].value.length < $textarea.data('previous-length')) {
      /**
       * In case the new height is less than original height, it
       * means the textarea has less text than before
       * So we set the height to the original one
       */
      $textarea.css('height', $textarea.data('original-height') + 'px');
    }
    $textarea.data('previous-length', $textarea[0].value.length);
  };

  $(document).ready(function () {
    // Text based inputs
    var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea';

    // Add active if form auto complete
    $(document).on('change', input_selector, function () {
      if (this.value.length !== 0 || $(this).attr('placeholder') !== null) {
        $(this).siblings('label').addClass('active');
      }
      M.validate_field($(this));
    });

    // Add active if input element has been pre-populated on document ready
    $(document).ready(function () {
      M.updateTextFields();
    });

    // HTML DOM FORM RESET handling
    $(document).on('reset', function (e) {
      var formReset = $(e.target);
      if (formReset.is('form')) {
        formReset.find(input_selector).removeClass('valid').removeClass('invalid');
        formReset.find(input_selector).each(function (e) {
          if (this.value.length) {
            $(this).siblings('label').removeClass('active');
          }
        });

        // Reset select (after native reset)
        setTimeout(function () {
          formReset.find('select').each(function () {
            // check if initialized
            if (this.M_FormSelect) {
              $(this).trigger('change');
            }
          });
        }, 0);
      }
    });

    /**
     * Add active when element has focus
     * @param {Event} e
     */
    document.addEventListener('focus', function (e) {
      if ($(e.target).is(input_selector)) {
        $(e.target).siblings('label, .prefix').addClass('active');
      }
    }, true);

    /**
     * Remove active when element is blurred
     * @param {Event} e
     */
    document.addEventListener('blur', function (e) {
      var $inputElement = $(e.target);
      if ($inputElement.is(input_selector)) {
        var selector = '.prefix';

        if ($inputElement[0].value.length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') === null) {
          selector += ', label';
        }
        $inputElement.siblings(selector).removeClass('active');
        M.validate_field($inputElement);
      }
    }, true);

    // Radio and Checkbox focus class
    var radio_checkbox = 'input[type=radio], input[type=checkbox]';
    $(document).on('keyup', radio_checkbox, function (e) {
      // TAB, check if tabbing to radio or checkbox.
      if (e.which === M.keys.TAB) {
        $(this).addClass('tabbed');
        var $this = $(this);
        $this.one('blur', function (e) {
          $(this).removeClass('tabbed');
        });
        return;
      }
    });

    var text_area_selector = '.materialize-textarea';
    $(text_area_selector).each(function () {
      var $textarea = $(this);
      /**
       * Resize textarea on document load after storing
       * the original height and the original length
       */
      $textarea.data('original-height', $textarea.height());
      $textarea.data('previous-length', this.value.length);
      M.textareaAutoResize($textarea);
    });

    $(document).on('keyup', text_area_selector, function () {
      M.textareaAutoResize($(this));
    });
    $(document).on('keydown', text_area_selector, function () {
      M.textareaAutoResize($(this));
    });

    // File Input Path
    $(document).on('change', '.file-field input[type="file"]', function () {
      var file_field = $(this).closest('.file-field');
      var path_input = file_field.find('input.file-path');
      var files = $(this)[0].files;
      var file_names = [];
      for (var i = 0; i < files.length; i++) {
        file_names.push(files[i].name);
      }
      path_input[0].value = file_names.join(', ');
      path_input.trigger('change');
    });
  }); // End of $(document).ready
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    indicators: true,
    height: 400,
    duration: 500,
    interval: 6000
  };

  /**
   * @class
   *
   */

  var Slider = function (_Component11) {
    _inherits(Slider, _Component11);

    /**
     * Construct Slider instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Slider(el, options) {
      _classCallCheck(this, Slider);

      var _this40 = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, Slider, el, options));

      _this40.el.M_Slider = _this40;

      /**
       * Options for the modal
       * @member Slider#options
       * @prop {Boolean} [indicators=true] - Show indicators
       * @prop {Number} [height=400] - height of slider
       * @prop {Number} [duration=500] - Length in ms of slide transition
       * @prop {Number} [interval=6000] - Length in ms of slide interval
       */
      _this40.options = $.extend({}, Slider.defaults, options);

      // setup
      _this40.$slider = _this40.$el.find('.slides');
      _this40.$slides = _this40.$slider.children('li');
      _this40.activeIndex = _this40.$slides.filter(function (item) {
        return $(item).hasClass('active');
      }).first().index();
      if (_this40.activeIndex != -1) {
        _this40.$active = _this40.$slides.eq(_this40.activeIndex);
      }

      _this40._setSliderHeight();

      // Set initial positions of captions
      _this40.$slides.find('.caption').each(function (el) {
        _this40._animateCaptionIn(el, 0);
      });

      // Move img src into background-image
      _this40.$slides.find('img').each(function (el) {
        var placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
        if ($(el).attr('src') !== placeholderBase64) {
          $(el).css('background-image', 'url("' + $(el).attr('src') + '")');
          $(el).attr('src', placeholderBase64);
        }
      });

      _this40._setupIndicators();

      // Show active slide
      if (_this40.$active) {
        _this40.$active.css('display', 'block');
      } else {
        _this40.$slides.first().addClass('active');
        anim({
          targets: _this40.$slides.first()[0],
          opacity: 1,
          duration: _this40.options.duration,
          easing: 'easeOutQuad'
        });

        _this40.activeIndex = 0;
        _this40.$active = _this40.$slides.eq(_this40.activeIndex);

        // Update indicators
        if (_this40.options.indicators) {
          _this40.$indicators.eq(_this40.activeIndex).addClass('active');
        }
      }

      // Adjust height to current slide
      _this40.$active.find('img').each(function (el) {
        anim({
          targets: _this40.$active.find('.caption')[0],
          opacity: 1,
          translateX: 0,
          translateY: 0,
          duration: _this40.options.duration,
          easing: 'easeOutQuad'
        });
      });

      _this40._setupEventHandlers();

      // auto scroll
      _this40.start();
      return _this40;
    }

    _createClass(Slider, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this.pause();
        this._removeIndicators();
        this._removeEventHandlers();
        this.el.M_Slider = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this41 = this;

        this._handleIntervalBound = this._handleInterval.bind(this);
        this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);

        if (this.options.indicators) {
          this.$indicators.each(function (el) {
            el.addEventListener('click', _this41._handleIndicatorClickBound);
          });
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this42 = this;

        if (this.options.indicators) {
          this.$indicators.each(function (el) {
            el.removeEventListener('click', _this42._handleIndicatorClickBound);
          });
        }
      }

      /**
       * Handle indicator click
       * @param {Event} e
       */

    }, {
      key: "_handleIndicatorClick",
      value: function _handleIndicatorClick(e) {
        var currIndex = $(e.target).index();
        this.set(currIndex);
      }

      /**
       * Handle Interval
       */

    }, {
      key: "_handleInterval",
      value: function _handleInterval() {
        var newActiveIndex = this.$slider.find('.active').index();
        if (this.$slides.length === newActiveIndex + 1) newActiveIndex = 0;
        // loop to start
        else newActiveIndex += 1;

        this.set(newActiveIndex);
      }

      /**
       * Animate in caption
       * @param {Element} caption
       * @param {Number} duration
       */

    }, {
      key: "_animateCaptionIn",
      value: function _animateCaptionIn(caption, duration) {
        var animOptions = {
          targets: caption,
          opacity: 0,
          duration: duration,
          easing: 'easeOutQuad'
        };

        if ($(caption).hasClass('center-align')) {
          animOptions.translateY = -100;
        } else if ($(caption).hasClass('right-align')) {
          animOptions.translateX = 100;
        } else if ($(caption).hasClass('left-align')) {
          animOptions.translateX = -100;
        }

        anim(animOptions);
      }

      /**
       * Set height of slider
       */

    }, {
      key: "_setSliderHeight",
      value: function _setSliderHeight() {
        // If fullscreen, do nothing
        if (!this.$el.hasClass('fullscreen')) {
          if (this.options.indicators) {
            // Add height if indicators are present
            this.$el.css('height', this.options.height + 40 + 'px');
          } else {
            this.$el.css('height', this.options.height + 'px');
          }
          this.$slider.css('height', this.options.height + 'px');
        }
      }

      /**
       * Setup indicators
       */

    }, {
      key: "_setupIndicators",
      value: function _setupIndicators() {
        var _this43 = this;

        if (this.options.indicators) {
          this.$indicators = $('<ul class="indicators"></ul>');
          this.$slides.each(function (el, index) {
            var $indicator = $('<li class="indicator-item"></li>');
            _this43.$indicators.append($indicator[0]);
          });
          this.$el.append(this.$indicators[0]);
          this.$indicators = this.$indicators.children('li.indicator-item');
        }
      }

      /**
       * Remove indicators
       */

    }, {
      key: "_removeIndicators",
      value: function _removeIndicators() {
        this.$el.find('ul.indicators').remove();
      }

      /**
       * Cycle to nth item
       * @param {Number} index
       */

    }, {
      key: "set",
      value: function set(index) {
        var _this44 = this;

        // Wrap around indices.
        if (index >= this.$slides.length) index = 0;else if (index < 0) index = this.$slides.length - 1;

        // Only do if index changes
        if (this.activeIndex != index) {
          this.$active = this.$slides.eq(this.activeIndex);
          var $caption = this.$active.find('.caption');
          this.$active.removeClass('active');

          anim({
            targets: this.$active[0],
            opacity: 0,
            duration: this.options.duration,
            easing: 'easeOutQuad',
            complete: function () {
              _this44.$slides.not('.active').each(function (el) {
                anim({
                  targets: el,
                  opacity: 0,
                  translateX: 0,
                  translateY: 0,
                  duration: 0,
                  easing: 'easeOutQuad'
                });
              });
            }
          });

          this._animateCaptionIn($caption[0], this.options.duration);

          // Update indicators
          if (this.options.indicators) {
            this.$indicators.eq(this.activeIndex).removeClass('active');
            this.$indicators.eq(index).addClass('active');
          }

          anim({
            targets: this.$slides.eq(index)[0],
            opacity: 1,
            duration: this.options.duration,
            easing: 'easeOutQuad'
          });

          anim({
            targets: this.$slides.eq(index).find('.caption')[0],
            opacity: 1,
            translateX: 0,
            translateY: 0,
            duration: this.options.duration,
            delay: this.options.duration,
            easing: 'easeOutQuad'
          });

          this.$slides.eq(index).addClass('active');
          this.activeIndex = index;

          // Reset interval
          this.start();
        }
      }

      /**
       * Pause slider interval
       */

    }, {
      key: "pause",
      value: function pause() {
        clearInterval(this.interval);
      }

      /**
       * Start slider interval
       */

    }, {
      key: "start",
      value: function start() {
        clearInterval(this.interval);
        this.interval = setInterval(this._handleIntervalBound, this.options.duration + this.options.interval);
      }

      /**
       * Move to next slide
       */

    }, {
      key: "next",
      value: function next() {
        var newIndex = this.activeIndex + 1;

        // Wrap around indices.
        if (newIndex >= this.$slides.length) newIndex = 0;else if (newIndex < 0) newIndex = this.$slides.length - 1;

        this.set(newIndex);
      }

      /**
       * Move to previous slide
       */

    }, {
      key: "prev",
      value: function prev() {
        var newIndex = this.activeIndex - 1;

        // Wrap around indices.
        if (newIndex >= this.$slides.length) newIndex = 0;else if (newIndex < 0) newIndex = this.$slides.length - 1;

        this.set(newIndex);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Slider.__proto__ || Object.getPrototypeOf(Slider), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Slider;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Slider;
  }(Component);

  M.Slider = Slider;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Slider, 'slider', 'M_Slider');
  }
})(cash, M.anime);
;(function ($, anim) {
  $(document).on('click', '.card', function (e) {
    if ($(this).children('.card-reveal').length) {
      var $card = $(e.target).closest('.card');
      if ($card.data('initialOverflow') === undefined) {
        $card.data('initialOverflow', $card.css('overflow') === undefined ? '' : $card.css('overflow'));
      }
      var $cardReveal = $(this).find('.card-reveal');
      if ($(e.target).is($('.card-reveal .card-title')) || $(e.target).is($('.card-reveal .card-title i'))) {
        // Make Reveal animate down and display none
        anim({
          targets: $cardReveal[0],
          translateY: 0,
          duration: 225,
          easing: 'easeInOutQuad',
          complete: function (anim) {
            var el = anim.animatables[0].target;
            $(el).css({ display: 'none' });
            $card.css('overflow', $card.data('initialOverflow'));
          }
        });
      } else if ($(e.target).is($('.card .activator')) || $(e.target).is($('.card .activator i'))) {
        $card.css('overflow', 'hidden');
        $cardReveal.css({ display: 'block' });
        anim({
          targets: $cardReveal[0],
          translateY: '-100%',
          duration: 300,
          easing: 'easeInOutQuad'
        });
      }
    }
  });
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    data: [],
    placeholder: '',
    secondaryPlaceholder: '',
    autocompleteOptions: {},
    limit: Infinity,
    onChipAdd: null,
    onChipSelect: null,
    onChipDelete: null
  };

  /**
   * @typedef {Object} chip
   * @property {String} tag  chip tag string
   * @property {String} [image]  chip avatar image string
   */

  /**
   * @class
   *
   */

  var Chips = function (_Component12) {
    _inherits(Chips, _Component12);

    /**
     * Construct Chips instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Chips(el, options) {
      _classCallCheck(this, Chips);

      var _this45 = _possibleConstructorReturn(this, (Chips.__proto__ || Object.getPrototypeOf(Chips)).call(this, Chips, el, options));

      _this45.el.M_Chips = _this45;

      /**
       * Options for the modal
       * @member Chips#options
       * @prop {Array} data
       * @prop {String} placeholder
       * @prop {String} secondaryPlaceholder
       * @prop {Object} autocompleteOptions
       */
      _this45.options = $.extend({}, Chips.defaults, options);

      _this45.$el.addClass('chips input-field');
      _this45.chipsData = [];
      _this45.$chips = $();
      _this45._setupInput();
      _this45.hasAutocomplete = Object.keys(_this45.options.autocompleteOptions).length > 0;

      // Set input id
      if (!_this45.$input.attr('id')) {
        _this45.$input.attr('id', M.guid());
      }

      // Render initial chips
      if (_this45.options.data.length) {
        _this45.chipsData = _this45.options.data;
        _this45._renderChips(_this45.chipsData);
      }

      // Setup autocomplete if needed
      if (_this45.hasAutocomplete) {
        _this45._setupAutocomplete();
      }

      _this45._setPlaceholder();
      _this45._setupLabel();
      _this45._setupEventHandlers();
      return _this45;
    }

    _createClass(Chips, [{
      key: "getData",


      /**
       * Get Chips Data
       */
      value: function getData() {
        return this.chipsData;
      }

      /**
       * Teardown component
       */

    }, {
      key: "destroy",
      value: function destroy() {
        this._removeEventHandlers();
        this.$chips.remove();
        this.el.M_Chips = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleChipClickBound = this._handleChipClick.bind(this);
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputFocusBound = this._handleInputFocus.bind(this);
        this._handleInputBlurBound = this._handleInputBlur.bind(this);

        this.el.addEventListener('click', this._handleChipClickBound);
        document.addEventListener('keydown', Chips._handleChipsKeydown);
        document.addEventListener('keyup', Chips._handleChipsKeyup);
        this.el.addEventListener('blur', Chips._handleChipsBlur, true);
        this.$input[0].addEventListener('focus', this._handleInputFocusBound);
        this.$input[0].addEventListener('blur', this._handleInputBlurBound);
        this.$input[0].addEventListener('keydown', this._handleInputKeydownBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleChipClickBound);
        document.removeEventListener('keydown', Chips._handleChipsKeydown);
        document.removeEventListener('keyup', Chips._handleChipsKeyup);
        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);
        this.$input[0].removeEventListener('focus', this._handleInputFocusBound);
        this.$input[0].removeEventListener('blur', this._handleInputBlurBound);
        this.$input[0].removeEventListener('keydown', this._handleInputKeydownBound);
      }

      /**
       * Handle Chip Click
       * @param {Event} e
       */

    }, {
      key: "_handleChipClick",
      value: function _handleChipClick(e) {
        var $chip = $(e.target).closest('.chip');
        var clickedClose = $(e.target).is('.close');
        if ($chip.length) {
          var index = $chip.index();
          if (clickedClose) {
            // delete chip
            this.deleteChip(index);
            this.$input[0].focus();
          } else {
            // select chip
            this.selectChip(index);
          }

          // Default handle click to focus on input
        } else {
          this.$input[0].focus();
        }
      }

      /**
       * Handle Chips Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputFocus",


      /**
       * Handle Input Focus
       */
      value: function _handleInputFocus() {
        this.$el.addClass('focus');
      }

      /**
       * Handle Input Blur
       */

    }, {
      key: "_handleInputBlur",
      value: function _handleInputBlur() {
        this.$el.removeClass('focus');
      }

      /**
       * Handle Input Keydown
       * @param {Event} e
       */

    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        Chips._keydown = true;

        // enter
        if (e.keyCode === 13) {
          // Override enter if autocompleting.
          if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {
            return;
          }

          e.preventDefault();
          this.addChip({
            tag: this.$input[0].value
          });
          this.$input[0].value = '';

          // delete or left
        } else if ((e.keyCode === 8 || e.keyCode === 37) && this.$input[0].value === '' && this.chipsData.length) {
          e.preventDefault();
          this.selectChip(this.chipsData.length - 1);
        }
      }

      /**
       * Render Chip
       * @param {chip} chip
       * @return {Element}
       */

    }, {
      key: "_renderChip",
      value: function _renderChip(chip) {
        if (!chip.tag) {
          return;
        }

        var renderedChip = document.createElement('div');
        var closeIcon = document.createElement('i');
        renderedChip.classList.add('chip');
        renderedChip.textContent = chip.tag;
        renderedChip.setAttribute('tabindex', 0);
        $(closeIcon).addClass('material-icons close');
        closeIcon.textContent = 'close';

        // attach image if needed
        if (chip.image) {
          var img = document.createElement('img');
          img.setAttribute('src', chip.image);
          renderedChip.insertBefore(img, renderedChip.firstChild);
        }

        renderedChip.appendChild(closeIcon);
        return renderedChip;
      }

      /**
       * Render Chips
       */

    }, {
      key: "_renderChips",
      value: function _renderChips() {
        this.$chips.remove();
        for (var i = 0; i < this.chipsData.length; i++) {
          var chipEl = this._renderChip(this.chipsData[i]);
          this.$el.append(chipEl);
          this.$chips.add(chipEl);
        }

        // move input to end
        this.$el.append(this.$input[0]);
      }

      /**
       * Setup Autocomplete
       */

    }, {
      key: "_setupAutocomplete",
      value: function _setupAutocomplete() {
        var _this46 = this;

        this.options.autocompleteOptions.onAutocomplete = function (val) {
          _this46.addChip({
            tag: val
          });
          _this46.$input[0].value = '';
          _this46.$input[0].focus();
        };

        this.autocomplete = M.Autocomplete.init(this.$input[0], this.options.autocompleteOptions);
      }

      /**
       * Setup Input
       */

    }, {
      key: "_setupInput",
      value: function _setupInput() {
        this.$input = this.$el.find('input');
        if (!this.$input.length) {
          this.$input = $('<input></input>');
          this.$el.append(this.$input);
        }

        this.$input.addClass('input');
      }

      /**
       * Setup Label
       */

    }, {
      key: "_setupLabel",
      value: function _setupLabel() {
        this.$label = this.$el.find('label');
        if (this.$label.length) {
          this.$label.setAttribute('for', this.$input.attr('id'));
        }
      }

      /**
       * Set placeholder
       */

    }, {
      key: "_setPlaceholder",
      value: function _setPlaceholder() {
        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {
          $(this.$input).prop('placeholder', this.options.placeholder);
        } else if ((this.chipsData === undefined || !!this.chipsData.length) && this.options.secondaryPlaceholder) {
          $(this.$input).prop('placeholder', this.options.secondaryPlaceholder);
        }
      }

      /**
       * Check if chip is valid
       * @param {chip} chip
       */

    }, {
      key: "_isValid",
      value: function _isValid(chip) {
        if (chip.hasOwnProperty('tag') && chip.tag !== '') {
          var exists = false;
          for (var i = 0; i < this.chipsData.length; i++) {
            if (this.chipsData[i].tag === chip.tag) {
              exists = true;
              break;
            }
          }
          return !exists;
        }

        return false;
      }

      /**
       * Add chip
       * @param {chip} chip
       */

    }, {
      key: "addChip",
      value: function addChip(chip) {
        if (!this._isValid(chip) || this.chipsData.length >= this.options.limit) {
          return;
        }

        var renderedChip = this._renderChip(chip);
        this.$chips.add(renderedChip);
        this.chipsData.push(chip);
        $(this.$input).before(renderedChip);
        this._setPlaceholder();

        // fire chipAdd callback
        if (typeof this.options.onChipAdd === 'function') {
          this.options.onChipAdd.call(this, this.$el, renderedChip);
        }
      }

      /**
       * Delete chip
       * @param {Number} chip
       */

    }, {
      key: "deleteChip",
      value: function deleteChip(chipIndex) {
        var $chip = this.$chips.eq(chipIndex);
        this.$chips.eq(chipIndex).remove();
        this.$chips = this.$chips.filter(function (el) {
          return $(el).index() >= 0;
        });
        this.chipsData.splice(chipIndex, 1);
        this._setPlaceholder();

        // fire chipDelete callback
        if (typeof this.options.onChipDelete === 'function') {
          this.options.onChipDelete.call(this, this.$el, $chip[0]);
        }
      }

      /**
       * Select chip
       * @param {Number} chip
       */

    }, {
      key: "selectChip",
      value: function selectChip(chipIndex) {
        var $chip = this.$chips.eq(chipIndex);
        this._selectedChip = $chip;
        $chip[0].focus();

        // fire chipSelect callback
        if (typeof this.options.onChipSelect === 'function') {
          this.options.onChipSelect.call(this, this.$el, $chip[0]);
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Chips.__proto__ || Object.getPrototypeOf(Chips), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Chips;
      }
    }, {
      key: "_handleChipsKeydown",
      value: function _handleChipsKeydown(e) {
        Chips._keydown = true;

        var $chips = $(e.target).closest('.chips');
        var chipsKeydown = e.target && $chips.length;

        // Don't handle keydown inputs on input and textarea
        if ($(e.target).is('input, textarea') || !chipsKeydown) {
          return;
        }

        var currChips = $chips[0].M_Chips;

        // backspace and delete
        if (e.keyCode === 8 || e.keyCode === 46) {
          e.preventDefault();

          var selectIndex = currChips.chipsData.length;
          if (currChips._selectedChip) {
            var index = currChips._selectedChip.index();
            currChips.deleteChip(index);
            currChips._selectedChip = null;

            // Make sure selectIndex doesn't go negative
            selectIndex = Math.max(index - 1, 0);
          }

          if (currChips.chipsData.length) {
            currChips.selectChip(selectIndex);
          }

          // left arrow key
        } else if (e.keyCode === 37) {
          if (currChips._selectedChip) {
            var _selectIndex = currChips._selectedChip.index() - 1;
            if (_selectIndex < 0) {
              return;
            }
            currChips.selectChip(_selectIndex);
          }

          // right arrow key
        } else if (e.keyCode === 39) {
          if (currChips._selectedChip) {
            var _selectIndex2 = currChips._selectedChip.index() + 1;

            if (_selectIndex2 >= currChips.chipsData.length) {
              currChips.$input[0].focus();
            } else {
              currChips.selectChip(_selectIndex2);
            }
          }
        }
      }

      /**
       * Handle Chips Keyup
       * @param {Event} e
       */

    }, {
      key: "_handleChipsKeyup",
      value: function _handleChipsKeyup(e) {
        Chips._keydown = false;
      }

      /**
       * Handle Chips Blur
       * @param {Event} e
       */

    }, {
      key: "_handleChipsBlur",
      value: function _handleChipsBlur(e) {
        if (!Chips._keydown) {
          var $chips = $(e.target).closest('.chips');
          var currChips = $chips[0].M_Chips;

          currChips._selectedChip = null;
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Chips;
  }(Component);

  /**
   * @static
   * @memberof Chips
   */


  Chips._keydown = false;

  M.Chips = Chips;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Chips, 'chips', 'M_Chips');
  }

  $(document).ready(function () {
    // Handle removal of static chips.
    $(document.body).on('click', '.chip .close', function () {
      var $chips = $(this).closest('.chips');
      if ($chips.length && $chips[0].M_Chips) {
        return;
      }
      $(this).closest('.chip').remove();
    });
  });
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    top: 0,
    bottom: Infinity,
    offset: 0,
    onPositionChange: null
  };

  /**
   * @class
   *
   */

  var Pushpin = function (_Component13) {
    _inherits(Pushpin, _Component13);

    /**
     * Construct Pushpin instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Pushpin(el, options) {
      _classCallCheck(this, Pushpin);

      var _this47 = _possibleConstructorReturn(this, (Pushpin.__proto__ || Object.getPrototypeOf(Pushpin)).call(this, Pushpin, el, options));

      _this47.el.M_Pushpin = _this47;

      /**
       * Options for the modal
       * @member Pushpin#options
       */
      _this47.options = $.extend({}, Pushpin.defaults, options);

      _this47.originalOffset = _this47.el.offsetTop;
      Pushpin._pushpins.push(_this47);
      _this47._setupEventHandlers();
      _this47._updatePosition();
      return _this47;
    }

    _createClass(Pushpin, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this.el.style.top = null;
        this._removePinClasses();
        this._removeEventHandlers();

        // Remove pushpin Inst
        var index = Pushpin._pushpins.indexOf(this);
        Pushpin._pushpins.splice(index, 1);
      }
    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        document.addEventListener('scroll', Pushpin._updateElements);
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        document.removeEventListener('scroll', Pushpin._updateElements);
      }
    }, {
      key: "_updatePosition",
      value: function _updatePosition() {
        var scrolled = M.getDocumentScrollTop() + this.options.offset;

        if (this.options.top <= scrolled && this.options.bottom >= scrolled && !this.el.classList.contains('pinned')) {
          this._removePinClasses();
          this.el.style.top = this.options.offset + "px";
          this.el.classList.add('pinned');

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pinned');
          }
        }

        // Add pin-top (when scrolled position is above top)
        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {
          this._removePinClasses();
          this.el.style.top = 0;
          this.el.classList.add('pin-top');

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pin-top');
          }
        }

        // Add pin-bottom (when scrolled position is below bottom)
        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {
          this._removePinClasses();
          this.el.classList.add('pin-bottom');
          this.el.style.top = this.options.bottom - this.originalOffset + "px";

          // onPositionChange callback
          if (typeof this.options.onPositionChange === 'function') {
            this.options.onPositionChange.call(this, 'pin-bottom');
          }
        }
      }
    }, {
      key: "_removePinClasses",
      value: function _removePinClasses() {
        // IE 11 bug (can't remove multiple classes in one line)
        this.el.classList.remove('pin-top');
        this.el.classList.remove('pinned');
        this.el.classList.remove('pin-bottom');
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Pushpin.__proto__ || Object.getPrototypeOf(Pushpin), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Pushpin;
      }
    }, {
      key: "_updateElements",
      value: function _updateElements() {
        for (var elIndex in Pushpin._pushpins) {
          var pInstance = Pushpin._pushpins[elIndex];
          pInstance._updatePosition();
        }
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Pushpin;
  }(Component);

  /**
   * @static
   * @memberof Pushpin
   */


  Pushpin._pushpins = [];

  M.Pushpin = Pushpin;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Pushpin, 'pushpin', 'M_Pushpin');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {
    direction: 'top',
    hoverEnabled: true,
    toolbarEnabled: false
  };

  $.fn.reverse = [].reverse;

  /**
   * @class
   *
   */

  var FloatingActionButton = function (_Component14) {
    _inherits(FloatingActionButton, _Component14);

    /**
     * Construct FloatingActionButton instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function FloatingActionButton(el, options) {
      _classCallCheck(this, FloatingActionButton);

      var _this48 = _possibleConstructorReturn(this, (FloatingActionButton.__proto__ || Object.getPrototypeOf(FloatingActionButton)).call(this, FloatingActionButton, el, options));

      _this48.el.M_FloatingActionButton = _this48;

      /**
       * Options for the fab
       * @member FloatingActionButton#options
       * @prop {Boolean} [direction] - Direction fab menu opens
       * @prop {Boolean} [hoverEnabled=true] - Enable hover vs click
       * @prop {Boolean} [toolbarEnabled=false] - Enable toolbar transition
       */
      _this48.options = $.extend({}, FloatingActionButton.defaults, options);

      _this48.isOpen = false;
      _this48.$anchor = _this48.$el.children('a').first();
      _this48.$menu = _this48.$el.children('ul').first();
      _this48.$floatingBtns = _this48.$el.find('ul .btn-floating');
      _this48.$floatingBtnsReverse = _this48.$el.find('ul .btn-floating').reverse();
      _this48.offsetY = 0;
      _this48.offsetX = 0;

      _this48.$el.addClass("direction-" + _this48.options.direction);
      if (_this48.options.direction === 'top') {
        _this48.offsetY = 40;
      } else if (_this48.options.direction === 'right') {
        _this48.offsetX = -40;
      } else if (_this48.options.direction === 'bottom') {
        _this48.offsetY = -40;
      } else {
        _this48.offsetX = 40;
      }
      _this48._setupEventHandlers();
      return _this48;
    }

    _createClass(FloatingActionButton, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_FloatingActionButton = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleFABClickBound = this._handleFABClick.bind(this);
        this._handleOpenBound = this.open.bind(this);
        this._handleCloseBound = this.close.bind(this);

        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {
          this.el.addEventListener('mouseenter', this._handleOpenBound);
          this.el.addEventListener('mouseleave', this._handleCloseBound);
        } else {
          this.el.addEventListener('click', this._handleFABClickBound);
        }
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {
          this.el.removeEventListener('mouseenter', this._handleOpenBound);
          this.el.removeEventListener('mouseleave', this._handleCloseBound);
        } else {
          this.el.removeEventListener('click', this._handleFABClickBound);
        }
      }

      /**
       * Handle FAB Click
       */

    }, {
      key: "_handleFABClick",
      value: function _handleFABClick() {
        if (this.isOpen) {
          this.close();
        } else {
          this.open();
        }
      }

      /**
       * Handle Document Click
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        if (!$(e.target).closest(this.$menu).length) {
          this.close();
        }
      }

      /**
       * Open FAB
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        if (this.options.toolbarEnabled) {
          this._animateInToolbar();
        } else {
          this._animateInFAB();
        }
        this.isOpen = true;
      }

      /**
       * Close FAB
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        if (this.options.toolbarEnabled) {
          window.removeEventListener('scroll', this._handleCloseBound, true);
          document.body.removeEventListener('click', this._handleDocumentClickBound, true);
          this._animateOutToolbar();
        } else {
          this._animateOutFAB();
        }
        this.isOpen = false;
      }

      /**
       * Classic FAB Menu open
       */

    }, {
      key: "_animateInFAB",
      value: function _animateInFAB() {
        var _this49 = this;

        this.$el.addClass('active');

        var time = 0;
        this.$floatingBtnsReverse.each(function (el) {
          anim({
            targets: el,
            opacity: 1,
            scale: [0.4, 1],
            translateY: [_this49.offsetY, 0],
            translateX: [_this49.offsetX, 0],
            duration: 275,
            delay: time,
            easing: 'easeInOutQuad'
          });
          time += 40;
        });
      }

      /**
       * Classic FAB Menu close
       */

    }, {
      key: "_animateOutFAB",
      value: function _animateOutFAB() {
        var _this50 = this;

        this.$floatingBtnsReverse.each(function (el) {
          anim.remove(el);
          anim({
            targets: el,
            opacity: 0,
            scale: 0.4,
            translateY: _this50.offsetY,
            translateX: _this50.offsetX,
            duration: 175,
            easing: 'easeOutQuad',
            complete: function () {
              _this50.$el.removeClass('active');
            }
          });
        });
      }

      /**
       * Toolbar transition Menu open
       */

    }, {
      key: "_animateInToolbar",
      value: function _animateInToolbar() {
        var _this51 = this;

        var scaleFactor = void 0;
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var btnRect = this.el.getBoundingClientRect();
        var backdrop = $('<div class="fab-backdrop"></div>');
        var fabColor = this.$anchor.css('background-color');
        this.$anchor.append(backdrop);

        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;
        this.offsetY = windowHeight - btnRect.bottom;
        scaleFactor = windowWidth / backdrop[0].clientWidth;
        this.btnBottom = btnRect.bottom;
        this.btnLeft = btnRect.left;
        this.btnWidth = btnRect.width;

        // Set initial state
        this.$el.addClass('active');
        this.$el.css({
          'text-align': 'center',
          width: '100%',
          bottom: 0,
          left: 0,
          transform: 'translateX(' + this.offsetX + 'px)',
          transition: 'none'
        });
        this.$anchor.css({
          transform: 'translateY(' + -this.offsetY + 'px)',
          transition: 'none'
        });
        backdrop.css({
          'background-color': fabColor
        });

        setTimeout(function () {
          _this51.$el.css({
            transform: '',
            transition: 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s'
          });
          _this51.$anchor.css({
            overflow: 'visible',
            transform: '',
            transition: 'transform .2s'
          });

          setTimeout(function () {
            _this51.$el.css({
              overflow: 'hidden',
              'background-color': fabColor
            });
            backdrop.css({
              transform: 'scale(' + scaleFactor + ')',
              transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'
            });
            _this51.$menu.children('li').children('a').css({
              opacity: 1
            });

            // Scroll to close.
            _this51._handleDocumentClickBound = _this51._handleDocumentClick.bind(_this51);
            window.addEventListener('scroll', _this51._handleCloseBound, true);
            document.body.addEventListener('click', _this51._handleDocumentClickBound, true);
          }, 100);
        }, 0);
      }

      /**
       * Toolbar transition Menu close
       */

    }, {
      key: "_animateOutToolbar",
      value: function _animateOutToolbar() {
        var _this52 = this;

        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var backdrop = this.$el.find('.fab-backdrop');
        var fabColor = this.$anchor.css('background-color');

        this.offsetX = this.btnLeft - windowWidth / 2 + this.btnWidth / 2;
        this.offsetY = windowHeight - this.btnBottom;

        // Hide backdrop
        this.$el.removeClass('active');
        this.$el.css({
          'background-color': 'transparent',
          transition: 'none'
        });
        this.$anchor.css({
          transition: 'none'
        });
        backdrop.css({
          transform: 'scale(0)',
          'background-color': fabColor
        });
        this.$menu.children('li').children('a').css({
          opacity: ''
        });

        setTimeout(function () {
          backdrop.remove();

          // Set initial state.
          _this52.$el.css({
            'text-align': '',
            width: '',
            bottom: '',
            left: '',
            overflow: '',
            'background-color': '',
            transform: 'translate3d(' + -_this52.offsetX + 'px,0,0)'
          });
          _this52.$anchor.css({
            overflow: '',
            transform: 'translate3d(0,' + _this52.offsetY + 'px,0)'
          });

          setTimeout(function () {
            _this52.$el.css({
              transform: 'translate3d(0,0,0)',
              transition: 'transform .2s'
            });
            _this52.$anchor.css({
              transform: 'translate3d(0,0,0)',
              transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'
            });
          }, 20);
        }, 200);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(FloatingActionButton.__proto__ || Object.getPrototypeOf(FloatingActionButton), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_FloatingActionButton;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return FloatingActionButton;
  }(Component);

  M.FloatingActionButton = FloatingActionButton;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(FloatingActionButton, 'floatingActionButton', 'M_FloatingActionButton');
  }
})(cash, M.anime);
;(function ($) {
  'use strict';

  var _defaults = {
    // Close when date is selected
    autoClose: false,

    // the default output format for the input field value
    format: 'mmm dd, yyyy',

    // Used to create date object from current input string
    parse: null,

    // The initial date to view when first opened
    defaultDate: null,

    // Make the `defaultDate` the initial selected value
    setDefaultDate: false,

    disableWeekends: false,

    disableDayFn: null,

    // First day of week (0: Sunday, 1: Monday etc)
    firstDay: 0,

    // The earliest date that can be selected
    minDate: null,
    // Thelatest date that can be selected
    maxDate: null,

    // Number of years either side, or array of upper/lower range
    yearRange: 10,

    // used internally (don't config outside)
    minYear: 0,
    maxYear: 9999,
    minMonth: undefined,
    maxMonth: undefined,

    startRange: null,
    endRange: null,

    isRTL: false,

    // Render the month after year in the calendar title
    showMonthAfterYear: false,

    // Render days of the calendar grid that fall in the next or previous month
    showDaysInNextAndPreviousMonths: false,

    // Specify a DOM element to render the calendar in
    container: null,

    // Show clear button
    showClearBtn: false,

    // internationalization
    i18n: {
      cancel: 'Cancel',
      clear: 'Clear',
      done: 'Ok',
      previousMonth: '‹',
      nextMonth: '›',
      months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
      weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']
    },

    // events array
    events: [],

    // callback function
    onSelect: null,
    onOpen: null,
    onClose: null,
    onDraw: null
  };

  /**
   * @class
   *
   */

  var Datepicker = function (_Component15) {
    _inherits(Datepicker, _Component15);

    /**
     * Construct Datepicker instance and set up overlay
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Datepicker(el, options) {
      _classCallCheck(this, Datepicker);

      var _this53 = _possibleConstructorReturn(this, (Datepicker.__proto__ || Object.getPrototypeOf(Datepicker)).call(this, Datepicker, el, options));

      _this53.el.M_Datepicker = _this53;

      _this53.options = $.extend({}, Datepicker.defaults, options);

      // make sure i18n defaults are not lost when only few i18n option properties are passed
      if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {
        _this53.options.i18n = $.extend({}, Datepicker.defaults.i18n, options.i18n);
      }

      // Remove time component from minDate and maxDate options
      if (_this53.options.minDate) _this53.options.minDate.setHours(0, 0, 0, 0);
      if (_this53.options.maxDate) _this53.options.maxDate.setHours(0, 0, 0, 0);

      _this53.id = M.guid();

      _this53._setupVariables();
      _this53._insertHTMLIntoDOM();
      _this53._setupModal();

      _this53._setupEventHandlers();

      if (!_this53.options.defaultDate) {
        _this53.options.defaultDate = new Date(Date.parse(_this53.el.value));
      }

      var defDate = _this53.options.defaultDate;
      if (Datepicker._isDate(defDate)) {
        if (_this53.options.setDefaultDate) {
          _this53.setDate(defDate, true);
          _this53.setInputValue();
        } else {
          _this53.gotoDate(defDate);
        }
      } else {
        _this53.gotoDate(new Date());
      }

      /**
       * Describes open/close state of datepicker
       * @type {Boolean}
       */
      _this53.isOpen = false;
      return _this53;
    }

    _createClass(Datepicker, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.modal.destroy();
        $(this.modalEl).remove();
        this.destroySelects();
        this.el.M_Datepicker = undefined;
      }
    }, {
      key: "destroySelects",
      value: function destroySelects() {
        var oldYearSelect = this.calendarEl.querySelector('.orig-select-year');
        if (oldYearSelect) {
          M.FormSelect.getInstance(oldYearSelect).destroy();
        }
        var oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');
        if (oldMonthSelect) {
          M.FormSelect.getInstance(oldMonthSelect).destroy();
        }
      }
    }, {
      key: "_insertHTMLIntoDOM",
      value: function _insertHTMLIntoDOM() {
        if (this.options.showClearBtn) {
          $(this.clearBtn).css({ visibility: '' });
          this.clearBtn.innerHTML = this.options.i18n.clear;
        }

        this.doneBtn.innerHTML = this.options.i18n.done;
        this.cancelBtn.innerHTML = this.options.i18n.cancel;

        if (this.options.container) {
          this.$modalEl.appendTo(this.options.container);
        } else {
          this.$modalEl.insertBefore(this.el);
        }
      }
    }, {
      key: "_setupModal",
      value: function _setupModal() {
        var _this54 = this;

        this.modalEl.id = 'modal-' + this.id;
        this.modal = M.Modal.init(this.modalEl, {
          onCloseEnd: function () {
            _this54.isOpen = false;
          }
        });
      }
    }, {
      key: "toString",
      value: function toString(format) {
        var _this55 = this;

        format = format || this.options.format;
        if (!Datepicker._isDate(this.date)) {
          return '';
        }

        var formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);
        var formattedDate = formatArray.map(function (label) {
          if (_this55.formats[label]) {
            return _this55.formats[label]();
          }

          return label;
        }).join('');
        return formattedDate;
      }
    }, {
      key: "setDate",
      value: function setDate(date, preventOnSelect) {
        if (!date) {
          this.date = null;
          this._renderDateDisplay();
          return this.draw();
        }
        if (typeof date === 'string') {
          date = new Date(Date.parse(date));
        }
        if (!Datepicker._isDate(date)) {
          return;
        }

        var min = this.options.minDate,
            max = this.options.maxDate;

        if (Datepicker._isDate(min) && date < min) {
          date = min;
        } else if (Datepicker._isDate(max) && date > max) {
          date = max;
        }

        this.date = new Date(date.getTime());

        this._renderDateDisplay();

        Datepicker._setToStartOfDay(this.date);
        this.gotoDate(this.date);

        if (!preventOnSelect && typeof this.options.onSelect === 'function') {
          this.options.onSelect.call(this, this.date);
        }
      }
    }, {
      key: "setInputValue",
      value: function setInputValue() {
        this.el.value = this.toString();
        this.$el.trigger('change', { firedBy: this });
      }
    }, {
      key: "_renderDateDisplay",
      value: function _renderDateDisplay() {
        var displayDate = Datepicker._isDate(this.date) ? this.date : new Date();
        var i18n = this.options.i18n;
        var day = i18n.weekdaysShort[displayDate.getDay()];
        var month = i18n.monthsShort[displayDate.getMonth()];
        var date = displayDate.getDate();
        this.yearTextEl.innerHTML = displayDate.getFullYear();
        this.dateTextEl.innerHTML = day + ", " + month + " " + date;
      }

      /**
       * change view to a specific date
       */

    }, {
      key: "gotoDate",
      value: function gotoDate(date) {
        var newCalendar = true;

        if (!Datepicker._isDate(date)) {
          return;
        }

        if (this.calendars) {
          var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
              lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1),
              visibleDate = date.getTime();
          // get the end of the month
          lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);
          lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);
          newCalendar = visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;
        }

        if (newCalendar) {
          this.calendars = [{
            month: date.getMonth(),
            year: date.getFullYear()
          }];
        }

        this.adjustCalendars();
      }
    }, {
      key: "adjustCalendars",
      value: function adjustCalendars() {
        this.calendars[0] = this.adjustCalendar(this.calendars[0]);
        this.draw();
      }
    }, {
      key: "adjustCalendar",
      value: function adjustCalendar(calendar) {
        if (calendar.month < 0) {
          calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);
          calendar.month += 12;
        }
        if (calendar.month > 11) {
          calendar.year += Math.floor(Math.abs(calendar.month) / 12);
          calendar.month -= 12;
        }
        return calendar;
      }
    }, {
      key: "nextMonth",
      value: function nextMonth() {
        this.calendars[0].month++;
        this.adjustCalendars();
      }
    }, {
      key: "prevMonth",
      value: function prevMonth() {
        this.calendars[0].month--;
        this.adjustCalendars();
      }
    }, {
      key: "render",
      value: function render(year, month, randId) {
        var opts = this.options,
            now = new Date(),
            days = Datepicker._getDaysInMonth(year, month),
            before = new Date(year, month, 1).getDay(),
            data = [],
            row = [];
        Datepicker._setToStartOfDay(now);
        if (opts.firstDay > 0) {
          before -= opts.firstDay;
          if (before < 0) {
            before += 7;
          }
        }
        var previousMonth = month === 0 ? 11 : month - 1,
            nextMonth = month === 11 ? 0 : month + 1,
            yearOfPreviousMonth = month === 0 ? year - 1 : year,
            yearOfNextMonth = month === 11 ? year + 1 : year,
            daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);
        var cells = days + before,
            after = cells;
        while (after > 7) {
          after -= 7;
        }
        cells += 7 - after;
        var isWeekSelected = false;
        for (var i = 0, r = 0; i < cells; i++) {
          var day = new Date(year, month, 1 + (i - before)),
              isSelected = Datepicker._isDate(this.date) ? Datepicker._compareDates(day, this.date) : false,
              isToday = Datepicker._compareDates(day, now),
              hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
              isEmpty = i < before || i >= days + before,
              dayNumber = 1 + (i - before),
              monthNumber = month,
              yearNumber = year,
              isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day),
              isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day),
              isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
              isDisabled = opts.minDate && day < opts.minDate || opts.maxDate && day > opts.maxDate || opts.disableWeekends && Datepicker._isWeekend(day) || opts.disableDayFn && opts.disableDayFn(day);

          if (isEmpty) {
            if (i < before) {
              dayNumber = daysInPreviousMonth + dayNumber;
              monthNumber = previousMonth;
              yearNumber = yearOfPreviousMonth;
            } else {
              dayNumber = dayNumber - days;
              monthNumber = nextMonth;
              yearNumber = yearOfNextMonth;
            }
          }

          var dayConfig = {
            day: dayNumber,
            month: monthNumber,
            year: yearNumber,
            hasEvent: hasEvent,
            isSelected: isSelected,
            isToday: isToday,
            isDisabled: isDisabled,
            isEmpty: isEmpty,
            isStartRange: isStartRange,
            isEndRange: isEndRange,
            isInRange: isInRange,
            showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths
          };

          row.push(this.renderDay(dayConfig));

          if (++r === 7) {
            data.push(this.renderRow(row, opts.isRTL, isWeekSelected));
            row = [];
            r = 0;
            isWeekSelected = false;
          }
        }
        return this.renderTable(opts, data, randId);
      }
    }, {
      key: "renderDay",
      value: function renderDay(opts) {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
          if (opts.showDaysInNextAndPreviousMonths) {
            arr.push('is-outside-current-month');
            arr.push('is-selection-disabled');
          } else {
            return '<td class="is-empty"></td>';
          }
        }
        if (opts.isDisabled) {
          arr.push('is-disabled');
        }

        if (opts.isToday) {
          arr.push('is-today');
        }
        if (opts.isSelected) {
          arr.push('is-selected');
          ariaSelected = 'true';
        }
        if (opts.hasEvent) {
          arr.push('has-event');
        }
        if (opts.isInRange) {
          arr.push('is-inrange');
        }
        if (opts.isStartRange) {
          arr.push('is-startrange');
        }
        if (opts.isEndRange) {
          arr.push('is-endrange');
        }
        return "<td data-day=\"" + opts.day + "\" class=\"" + arr.join(' ') + "\" aria-selected=\"" + ariaSelected + "\">" + ("<button class=\"datepicker-day-button\" type=\"button\" data-year=\"" + opts.year + "\" data-month=\"" + opts.month + "\" data-day=\"" + opts.day + "\">" + opts.day + "</button>") + '</td>';
      }
    }, {
      key: "renderRow",
      value: function renderRow(days, isRTL, isRowSelected) {
        return '<tr class="datepicker-row' + (isRowSelected ? ' is-selected' : '') + '">' + (isRTL ? days.reverse() : days).join('') + '</tr>';
      }
    }, {
      key: "renderTable",
      value: function renderTable(opts, data, randId) {
        return '<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="' + randId + '">' + this.renderHead(opts) + this.renderBody(data) + '</table></div>';
      }
    }, {
      key: "renderHead",
      value: function renderHead(opts) {
        var i = void 0,
            arr = [];
        for (i = 0; i < 7; i++) {
          arr.push("<th scope=\"col\"><abbr title=\"" + this.renderDayName(opts, i) + "\">" + this.renderDayName(opts, i, true) + "</abbr></th>");
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
      }
    }, {
      key: "renderBody",
      value: function renderBody(rows) {
        return '<tbody>' + rows.join('') + '</tbody>';
      }
    }, {
      key: "renderTitle",
      value: function renderTitle(instance, c, year, month, refYear, randId) {
        var i = void 0,
            j = void 0,
            arr = void 0,
            opts = this.options,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="datepicker-controls" role="heading" aria-live="assertive">',
            monthHtml = void 0,
            yearHtml = void 0,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
          arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' + (i === month ? ' selected="selected"' : '') + (isMinYear && i < opts.minMonth || isMaxYear && i > opts.maxMonth ? 'disabled="disabled"' : '') + '>' + opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<select class="datepicker-select orig-select-month" tabindex="-1">' + arr.join('') + '</select>';

        if ($.isArray(opts.yearRange)) {
          i = opts.yearRange[0];
          j = opts.yearRange[1] + 1;
        } else {
          i = year - opts.yearRange;
          j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
          if (i >= opts.minYear) {
            arr.push("<option value=\"" + i + "\" " + (i === year ? 'selected="selected"' : '') + ">" + i + "</option>");
          }
        }

        yearHtml = "<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">" + arr.join('') + "</select>";

        var leftArrow = '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>';
        html += "<button class=\"month-prev" + (prev ? '' : ' is-disabled') + "\" type=\"button\">" + leftArrow + "</button>";

        html += '<div class="selects-container">';
        if (opts.showMonthAfterYear) {
          html += yearHtml + monthHtml;
        } else {
          html += monthHtml + yearHtml;
        }
        html += '</div>';

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
          prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
          next = false;
        }

        var rightArrow = '<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>';
        html += "<button class=\"month-next" + (next ? '' : ' is-disabled') + "\" type=\"button\">" + rightArrow + "</button>";

        return html += '</div>';
      }

      /**
       * refresh the HTML
       */

    }, {
      key: "draw",
      value: function draw(force) {
        if (!this.isOpen && !force) {
          return;
        }
        var opts = this.options,
            minYear = opts.minYear,
            maxYear = opts.maxYear,
            minMonth = opts.minMonth,
            maxMonth = opts.maxMonth,
            html = '',
            randId = void 0;

        if (this._y <= minYear) {
          this._y = minYear;
          if (!isNaN(minMonth) && this._m < minMonth) {
            this._m = minMonth;
          }
        }
        if (this._y >= maxYear) {
          this._y = maxYear;
          if (!isNaN(maxMonth) && this._m > maxMonth) {
            this._m = maxMonth;
          }
        }

        randId = 'datepicker-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);

        for (var c = 0; c < 1; c++) {
          this._renderDateDisplay();
          html += this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);
        }

        this.destroySelects();

        this.calendarEl.innerHTML = html;

        // Init Materialize Select
        var yearSelect = this.calendarEl.querySelector('.orig-select-year');
        var monthSelect = this.calendarEl.querySelector('.orig-select-month');
        M.FormSelect.init(yearSelect, {
          classes: 'select-year',
          dropdownOptions: { container: document.body, constrainWidth: false }
        });
        M.FormSelect.init(monthSelect, {
          classes: 'select-month',
          dropdownOptions: { container: document.body, constrainWidth: false }
        });

        // Add change handlers for select
        yearSelect.addEventListener('change', this._handleYearChange.bind(this));
        monthSelect.addEventListener('change', this._handleMonthChange.bind(this));

        if (typeof this.options.onDraw === 'function') {
          this.options.onDraw(this);
        }
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleInputChangeBound = this._handleInputChange.bind(this);
        this._handleCalendarClickBound = this._handleCalendarClick.bind(this);
        this._finishSelectionBound = this._finishSelection.bind(this);
        this._handleMonthChange = this._handleMonthChange.bind(this);
        this._closeBound = this.close.bind(this);

        this.el.addEventListener('click', this._handleInputClickBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.el.addEventListener('change', this._handleInputChangeBound);
        this.calendarEl.addEventListener('click', this._handleCalendarClickBound);
        this.doneBtn.addEventListener('click', this._finishSelectionBound);
        this.cancelBtn.addEventListener('click', this._closeBound);

        if (this.options.showClearBtn) {
          this._handleClearClickBound = this._handleClearClick.bind(this);
          this.clearBtn.addEventListener('click', this._handleClearClickBound);
        }
      }
    }, {
      key: "_setupVariables",
      value: function _setupVariables() {
        var _this56 = this;

        this.$modalEl = $(Datepicker._template);
        this.modalEl = this.$modalEl[0];

        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');

        this.yearTextEl = this.modalEl.querySelector('.year-text');
        this.dateTextEl = this.modalEl.querySelector('.date-text');
        if (this.options.showClearBtn) {
          this.clearBtn = this.modalEl.querySelector('.datepicker-clear');
        }
        this.doneBtn = this.modalEl.querySelector('.datepicker-done');
        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');

        this.formats = {
          d: function () {
            return _this56.date.getDate();
          },
          dd: function () {
            var d = _this56.date.getDate();
            return (d < 10 ? '0' : '') + d;
          },
          ddd: function () {
            return _this56.options.i18n.weekdaysShort[_this56.date.getDay()];
          },
          dddd: function () {
            return _this56.options.i18n.weekdays[_this56.date.getDay()];
          },
          m: function () {
            return _this56.date.getMonth() + 1;
          },
          mm: function () {
            var m = _this56.date.getMonth() + 1;
            return (m < 10 ? '0' : '') + m;
          },
          mmm: function () {
            return _this56.options.i18n.monthsShort[_this56.date.getMonth()];
          },
          mmmm: function () {
            return _this56.options.i18n.months[_this56.date.getMonth()];
          },
          yy: function () {
            return ('' + _this56.date.getFullYear()).slice(2);
          },
          yyyy: function () {
            return _this56.date.getFullYear();
          }
        };
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
        this.el.removeEventListener('change', this._handleInputChangeBound);
        this.calendarEl.removeEventListener('click', this._handleCalendarClickBound);
      }
    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        this.open();
      }
    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        if (e.which === M.keys.ENTER) {
          e.preventDefault();
          this.open();
        }
      }
    }, {
      key: "_handleCalendarClick",
      value: function _handleCalendarClick(e) {
        if (!this.isOpen) {
          return;
        }

        var $target = $(e.target);
        if (!$target.hasClass('is-disabled')) {
          if ($target.hasClass('datepicker-day-button') && !$target.hasClass('is-empty') && !$target.parent().hasClass('is-disabled')) {
            this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));
            if (this.options.autoClose) {
              this._finishSelection();
            }
          } else if ($target.closest('.month-prev').length) {
            this.prevMonth();
          } else if ($target.closest('.month-next').length) {
            this.nextMonth();
          }
        }
      }
    }, {
      key: "_handleClearClick",
      value: function _handleClearClick() {
        this.date = null;
        this.setInputValue();
        this.close();
      }
    }, {
      key: "_handleMonthChange",
      value: function _handleMonthChange(e) {
        this.gotoMonth(e.target.value);
      }
    }, {
      key: "_handleYearChange",
      value: function _handleYearChange(e) {
        this.gotoYear(e.target.value);
      }

      /**
       * change view to a specific month (zero-index, e.g. 0: January)
       */

    }, {
      key: "gotoMonth",
      value: function gotoMonth(month) {
        if (!isNaN(month)) {
          this.calendars[0].month = parseInt(month, 10);
          this.adjustCalendars();
        }
      }

      /**
       * change view to a specific full year (e.g. "2012")
       */

    }, {
      key: "gotoYear",
      value: function gotoYear(year) {
        if (!isNaN(year)) {
          this.calendars[0].year = parseInt(year, 10);
          this.adjustCalendars();
        }
      }
    }, {
      key: "_handleInputChange",
      value: function _handleInputChange(e) {
        var date = void 0;

        // Prevent change event from being fired when triggered by the plugin
        if (e.firedBy === this) {
          return;
        }
        if (this.options.parse) {
          date = this.options.parse(this.el.value, this.options.format);
        } else {
          date = new Date(Date.parse(this.el.value));
        }

        if (Datepicker._isDate(date)) {
          this.setDate(date);
        }
      }
    }, {
      key: "renderDayName",
      value: function renderDayName(opts, day, abbr) {
        day += opts.firstDay;
        while (day >= 7) {
          day -= 7;
        }
        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];
      }

      /**
       * Set input value to the selected date and close Datepicker
       */

    }, {
      key: "_finishSelection",
      value: function _finishSelection() {
        this.setInputValue();
        this.close();
      }

      /**
       * Open Datepicker
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        if (typeof this.options.onOpen === 'function') {
          this.options.onOpen.call(this);
        }
        this.draw();
        this.modal.open();
        return this;
      }

      /**
       * Close Datepicker
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        if (typeof this.options.onClose === 'function') {
          this.options.onClose.call(this);
        }
        this.modal.close();
        return this;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Datepicker.__proto__ || Object.getPrototypeOf(Datepicker), "init", this).call(this, this, els, options);
      }
    }, {
      key: "_isDate",
      value: function _isDate(obj) {
        return (/Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime())
        );
      }
    }, {
      key: "_isWeekend",
      value: function _isWeekend(date) {
        var day = date.getDay();
        return day === 0 || day === 6;
      }
    }, {
      key: "_setToStartOfDay",
      value: function _setToStartOfDay(date) {
        if (Datepicker._isDate(date)) date.setHours(0, 0, 0, 0);
      }
    }, {
      key: "_getDaysInMonth",
      value: function _getDaysInMonth(year, month) {
        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
      }
    }, {
      key: "_isLeapYear",
      value: function _isLeapYear(year) {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
      }
    }, {
      key: "_compareDates",
      value: function _compareDates(a, b) {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
      }
    }, {
      key: "_setToStartOfDay",
      value: function _setToStartOfDay(date) {
        if (Datepicker._isDate(date)) date.setHours(0, 0, 0, 0);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Datepicker;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Datepicker;
  }(Component);

  Datepicker._template = ['<div class= "modal datepicker-modal">', '<div class="modal-content datepicker-container">', '<div class="datepicker-date-display">', '<span class="year-text"></span>', '<span class="date-text"></span>', '</div>', '<div class="datepicker-calendar-container">', '<div class="datepicker-calendar"></div>', '<div class="datepicker-footer">', '<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>', '<div class="confirmation-btns">', '<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>', '<button class="btn-flat datepicker-done waves-effect" type="button"></button>', '</div>', '</div>', '</div>', '</div>', '</div>'].join('');

  M.Datepicker = Datepicker;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Datepicker, 'datepicker', 'M_Datepicker');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    dialRadius: 135,
    outerRadius: 105,
    innerRadius: 70,
    tickRadius: 20,
    duration: 350,
    container: null,
    defaultTime: 'now', // default time, 'now' or '13:14' e.g.
    fromNow: 0, // Millisecond offset from the defaultTime
    showClearBtn: false,

    // internationalization
    i18n: {
      cancel: 'Cancel',
      clear: 'Clear',
      done: 'Ok'
    },

    autoClose: false, // auto close when minute is selected
    twelveHour: true, // change to 12 hour AM/PM clock from 24 hour
    vibrate: true, // vibrate the device when dragging clock hand

    // Callbacks
    onOpenStart: null,
    onOpenEnd: null,
    onCloseStart: null,
    onCloseEnd: null,
    onSelect: null
  };

  /**
   * @class
   *
   */

  var Timepicker = function (_Component16) {
    _inherits(Timepicker, _Component16);

    function Timepicker(el, options) {
      _classCallCheck(this, Timepicker);

      var _this57 = _possibleConstructorReturn(this, (Timepicker.__proto__ || Object.getPrototypeOf(Timepicker)).call(this, Timepicker, el, options));

      _this57.el.M_Timepicker = _this57;

      _this57.options = $.extend({}, Timepicker.defaults, options);

      _this57.id = M.guid();
      _this57._insertHTMLIntoDOM();
      _this57._setupModal();
      _this57._setupVariables();
      _this57._setupEventHandlers();

      _this57._clockSetup();
      _this57._pickerSetup();
      return _this57;
    }

    _createClass(Timepicker, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.modal.destroy();
        $(this.modalEl).remove();
        this.el.M_Timepicker = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);
        this._handleClockClickStartBound = this._handleClockClickStart.bind(this);
        this._handleDocumentClickMoveBound = this._handleDocumentClickMove.bind(this);
        this._handleDocumentClickEndBound = this._handleDocumentClickEnd.bind(this);

        this.el.addEventListener('click', this._handleInputClickBound);
        this.el.addEventListener('keydown', this._handleInputKeydownBound);
        this.plate.addEventListener('mousedown', this._handleClockClickStartBound);
        this.plate.addEventListener('touchstart', this._handleClockClickStartBound);

        $(this.spanHours).on('click', this.showView.bind(this, 'hours'));
        $(this.spanMinutes).on('click', this.showView.bind(this, 'minutes'));
      }
    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleInputClickBound);
        this.el.removeEventListener('keydown', this._handleInputKeydownBound);
      }
    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        this.open();
      }
    }, {
      key: "_handleInputKeydown",
      value: function _handleInputKeydown(e) {
        if (e.which === M.keys.ENTER) {
          e.preventDefault();
          this.open();
        }
      }
    }, {
      key: "_handleClockClickStart",
      value: function _handleClockClickStart(e) {
        e.preventDefault();
        var clockPlateBR = this.plate.getBoundingClientRect();
        var offset = { x: clockPlateBR.left, y: clockPlateBR.top };

        this.x0 = offset.x + this.options.dialRadius;
        this.y0 = offset.y + this.options.dialRadius;
        this.moved = false;
        var clickPos = Timepicker._Pos(e);
        this.dx = clickPos.x - this.x0;
        this.dy = clickPos.y - this.y0;

        // Set clock hands
        this.setHand(this.dx, this.dy, false);

        // Mousemove on document
        document.addEventListener('mousemove', this._handleDocumentClickMoveBound);
        document.addEventListener('touchmove', this._handleDocumentClickMoveBound);

        // Mouseup on document
        document.addEventListener('mouseup', this._handleDocumentClickEndBound);
        document.addEventListener('touchend', this._handleDocumentClickEndBound);
      }
    }, {
      key: "_handleDocumentClickMove",
      value: function _handleDocumentClickMove(e) {
        e.preventDefault();
        var clickPos = Timepicker._Pos(e);
        var x = clickPos.x - this.x0;
        var y = clickPos.y - this.y0;
        this.moved = true;
        this.setHand(x, y, false, true);
      }
    }, {
      key: "_handleDocumentClickEnd",
      value: function _handleDocumentClickEnd(e) {
        var _this58 = this;

        e.preventDefault();
        document.removeEventListener('mouseup', this._handleDocumentClickEndBound);
        document.removeEventListener('touchend', this._handleDocumentClickEndBound);
        var clickPos = Timepicker._Pos(e);
        var x = clickPos.x - this.x0;
        var y = clickPos.y - this.y0;
        if (this.moved && x === this.dx && y === this.dy) {
          this.setHand(x, y);
        }

        if (this.currentView === 'hours') {
          this.showView('minutes', this.options.duration / 2);
        } else if (this.options.autoClose) {
          $(this.minutesView).addClass('timepicker-dial-out');
          setTimeout(function () {
            _this58.done();
          }, this.options.duration / 2);
        }

        if (typeof this.options.onSelect === 'function') {
          this.options.onSelect.call(this, this.hours, this.minutes);
        }

        // Unbind mousemove event
        document.removeEventListener('mousemove', this._handleDocumentClickMoveBound);
        document.removeEventListener('touchmove', this._handleDocumentClickMoveBound);
      }
    }, {
      key: "_insertHTMLIntoDOM",
      value: function _insertHTMLIntoDOM() {
        this.$modalEl = $(Timepicker._template);
        this.modalEl = this.$modalEl[0];
        this.modalEl.id = 'modal-' + this.id;

        // Append popover to input by default
        var containerEl = document.querySelector(this.options.container);
        if (this.options.container && !!containerEl) {
          this.$modalEl.appendTo(containerEl);
        } else {
          this.$modalEl.insertBefore(this.el);
        }
      }
    }, {
      key: "_setupModal",
      value: function _setupModal() {
        var _this59 = this;

        this.modal = M.Modal.init(this.modalEl, {
          onOpenStart: this.options.onOpenStart,
          onOpenEnd: this.options.onOpenEnd,
          onCloseStart: this.options.onCloseStart,
          onCloseEnd: function () {
            if (typeof _this59.options.onCloseEnd === 'function') {
              _this59.options.onCloseEnd.call(_this59);
            }
            _this59.isOpen = false;
          }
        });
      }
    }, {
      key: "_setupVariables",
      value: function _setupVariables() {
        this.currentView = 'hours';
        this.vibrate = navigator.vibrate ? 'vibrate' : navigator.webkitVibrate ? 'webkitVibrate' : null;

        this._canvas = this.modalEl.querySelector('.timepicker-canvas');
        this.plate = this.modalEl.querySelector('.timepicker-plate');

        this.hoursView = this.modalEl.querySelector('.timepicker-hours');
        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');
        this.spanHours = this.modalEl.querySelector('.timepicker-span-hours');
        this.spanMinutes = this.modalEl.querySelector('.timepicker-span-minutes');
        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');
        this.footer = this.modalEl.querySelector('.timepicker-footer');
        this.amOrPm = 'PM';
      }
    }, {
      key: "_pickerSetup",
      value: function _pickerSetup() {
        var $clearBtn = $("<button class=\"btn-flat timepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\" tabindex=\"" + (this.options.twelveHour ? '3' : '1') + "\">" + this.options.i18n.clear + "</button>").appendTo(this.footer).on('click', this.clear.bind(this));
        if (this.options.showClearBtn) {
          $clearBtn.css({ visibility: '' });
        }

        var confirmationBtnsContainer = $('<div class="confirmation-btns"></div>');
        $('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="' + (this.options.twelveHour ? '3' : '1') + '">' + this.options.i18n.cancel + '</button>').appendTo(confirmationBtnsContainer).on('click', this.close.bind(this));
        $('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="' + (this.options.twelveHour ? '3' : '1') + '">' + this.options.i18n.done + '</button>').appendTo(confirmationBtnsContainer).on('click', this.done.bind(this));
        confirmationBtnsContainer.appendTo(this.footer);
      }
    }, {
      key: "_clockSetup",
      value: function _clockSetup() {
        if (this.options.twelveHour) {
          this.$amBtn = $('<div class="am-btn">AM</div>');
          this.$pmBtn = $('<div class="pm-btn">PM</div>');
          this.$amBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);
          this.$pmBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);
        }

        this._buildHoursView();
        this._buildMinutesView();
        this._buildSVGClock();
      }
    }, {
      key: "_buildSVGClock",
      value: function _buildSVGClock() {
        // Draw clock hands and others
        var dialRadius = this.options.dialRadius;
        var tickRadius = this.options.tickRadius;
        var diameter = dialRadius * 2;

        var svg = Timepicker._createSVGEl('svg');
        svg.setAttribute('class', 'timepicker-svg');
        svg.setAttribute('width', diameter);
        svg.setAttribute('height', diameter);
        var g = Timepicker._createSVGEl('g');
        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');
        var bearing = Timepicker._createSVGEl('circle');
        bearing.setAttribute('class', 'timepicker-canvas-bearing');
        bearing.setAttribute('cx', 0);
        bearing.setAttribute('cy', 0);
        bearing.setAttribute('r', 4);
        var hand = Timepicker._createSVGEl('line');
        hand.setAttribute('x1', 0);
        hand.setAttribute('y1', 0);
        var bg = Timepicker._createSVGEl('circle');
        bg.setAttribute('class', 'timepicker-canvas-bg');
        bg.setAttribute('r', tickRadius);
        g.appendChild(hand);
        g.appendChild(bg);
        g.appendChild(bearing);
        svg.appendChild(g);
        this._canvas.appendChild(svg);

        this.hand = hand;
        this.bg = bg;
        this.bearing = bearing;
        this.g = g;
      }
    }, {
      key: "_buildHoursView",
      value: function _buildHoursView() {
        var $tick = $('<div class="timepicker-tick"></div>');
        // Hours view
        if (this.options.twelveHour) {
          for (var i = 1; i < 13; i += 1) {
            var tick = $tick.clone();
            var radian = i / 6 * Math.PI;
            var radius = this.options.outerRadius;
            tick.css({
              left: this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px',
              top: this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px'
            });
            tick.html(i === 0 ? '00' : i);
            this.hoursView.appendChild(tick[0]);
            // tick.on(mousedownEvent, mousedown);
          }
        } else {
          for (var _i2 = 0; _i2 < 24; _i2 += 1) {
            var _tick = $tick.clone();
            var _radian = _i2 / 6 * Math.PI;
            var inner = _i2 > 0 && _i2 < 13;
            var _radius = inner ? this.options.innerRadius : this.options.outerRadius;
            _tick.css({
              left: this.options.dialRadius + Math.sin(_radian) * _radius - this.options.tickRadius + 'px',
              top: this.options.dialRadius - Math.cos(_radian) * _radius - this.options.tickRadius + 'px'
            });
            _tick.html(_i2 === 0 ? '00' : _i2);
            this.hoursView.appendChild(_tick[0]);
            // tick.on(mousedownEvent, mousedown);
          }
        }
      }
    }, {
      key: "_buildMinutesView",
      value: function _buildMinutesView() {
        var $tick = $('<div class="timepicker-tick"></div>');
        // Minutes view
        for (var i = 0; i < 60; i += 5) {
          var tick = $tick.clone();
          var radian = i / 30 * Math.PI;
          tick.css({
            left: this.options.dialRadius + Math.sin(radian) * this.options.outerRadius - this.options.tickRadius + 'px',
            top: this.options.dialRadius - Math.cos(radian) * this.options.outerRadius - this.options.tickRadius + 'px'
          });
          tick.html(Timepicker._addLeadingZero(i));
          this.minutesView.appendChild(tick[0]);
        }
      }
    }, {
      key: "_handleAmPmClick",
      value: function _handleAmPmClick(e) {
        var $btnClicked = $(e.target);
        this.amOrPm = $btnClicked.hasClass('am-btn') ? 'AM' : 'PM';
        this._updateAmPmView();
      }
    }, {
      key: "_updateAmPmView",
      value: function _updateAmPmView() {
        if (this.options.twelveHour) {
          this.$amBtn.toggleClass('text-primary', this.amOrPm === 'AM');
          this.$pmBtn.toggleClass('text-primary', this.amOrPm === 'PM');
        }
      }
    }, {
      key: "_updateTimeFromInput",
      value: function _updateTimeFromInput() {
        // Get the time
        var value = ((this.el.value || this.options.defaultTime || '') + '').split(':');
        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {
          if (value[1].toUpperCase().indexOf('AM') > 0) {
            this.amOrPm = 'AM';
          } else {
            this.amOrPm = 'PM';
          }
          value[1] = value[1].replace('AM', '').replace('PM', '');
        }
        if (value[0] === 'now') {
          var now = new Date(+new Date() + this.options.fromNow);
          value = [now.getHours(), now.getMinutes()];
          if (this.options.twelveHour) {
            this.amOrPm = value[0] >= 12 && value[0] < 24 ? 'PM' : 'AM';
          }
        }
        this.hours = +value[0] || 0;
        this.minutes = +value[1] || 0;
        this.spanHours.innerHTML = this.hours;
        this.spanMinutes.innerHTML = Timepicker._addLeadingZero(this.minutes);

        this._updateAmPmView();
      }
    }, {
      key: "showView",
      value: function showView(view, delay) {
        if (view === 'minutes' && $(this.hoursView).css('visibility') === 'visible') {
          // raiseCallback(this.options.beforeHourSelect);
        }
        var isHours = view === 'hours',
            nextView = isHours ? this.hoursView : this.minutesView,
            hideView = isHours ? this.minutesView : this.hoursView;
        this.currentView = view;

        $(this.spanHours).toggleClass('text-primary', isHours);
        $(this.spanMinutes).toggleClass('text-primary', !isHours);

        // Transition view
        hideView.classList.add('timepicker-dial-out');
        $(nextView).css('visibility', 'visible').removeClass('timepicker-dial-out');

        // Reset clock hand
        this.resetClock(delay);

        // After transitions ended
        clearTimeout(this.toggleViewTimer);
        this.toggleViewTimer = setTimeout(function () {
          $(hideView).css('visibility', 'hidden');
        }, this.options.duration);
      }
    }, {
      key: "resetClock",
      value: function resetClock(delay) {
        var view = this.currentView,
            value = this[view],
            isHours = view === 'hours',
            unit = Math.PI / (isHours ? 6 : 30),
            radian = value * unit,
            radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius,
            x = Math.sin(radian) * radius,
            y = -Math.cos(radian) * radius,
            self = this;

        if (delay) {
          $(this.canvas).addClass('timepicker-canvas-out');
          setTimeout(function () {
            $(self.canvas).removeClass('timepicker-canvas-out');
            self.setHand(x, y);
          }, delay);
        } else {
          this.setHand(x, y);
        }
      }
    }, {
      key: "setHand",
      value: function setHand(x, y, roundBy5) {
        var _this60 = this;

        var radian = Math.atan2(x, -y),
            isHours = this.currentView === 'hours',
            unit = Math.PI / (isHours || roundBy5 ? 6 : 30),
            z = Math.sqrt(x * x + y * y),
            inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2,
            radius = inner ? this.options.innerRadius : this.options.outerRadius;

        if (this.options.twelveHour) {
          radius = this.options.outerRadius;
        }

        // Radian should in range [0, 2PI]
        if (radian < 0) {
          radian = Math.PI * 2 + radian;
        }

        // Get the round value
        var value = Math.round(radian / unit);

        // Get the round radian
        radian = value * unit;

        // Correct the hours or minutes
        if (this.options.twelveHour) {
          if (isHours) {
            if (value === 0) value = 12;
          } else {
            if (roundBy5) value *= 5;
            if (value === 60) value = 0;
          }
        } else {
          if (isHours) {
            if (value === 12) {
              value = 0;
            }
            value = inner ? value === 0 ? 12 : value : value === 0 ? 0 : value + 12;
          } else {
            if (roundBy5) {
              value *= 5;
            }
            if (value === 60) {
              value = 0;
            }
          }
        }

        // Once hours or minutes changed, vibrate the device
        if (this[this.currentView] !== value) {
          if (this.vibrate && this.options.vibrate) {
            // Do not vibrate too frequently
            if (!this.vibrateTimer) {
              navigator[this.vibrate](10);
              this.vibrateTimer = setTimeout(function () {
                _this60.vibrateTimer = null;
              }, 100);
            }
          }
        }

        this[this.currentView] = value;
        if (isHours) {
          this['spanHours'].innerHTML = value;
        } else {
          this['spanMinutes'].innerHTML = Timepicker._addLeadingZero(value);
        }

        // Set clock hand and others' position
        var cx1 = Math.sin(radian) * (radius - this.options.tickRadius),
            cy1 = -Math.cos(radian) * (radius - this.options.tickRadius),
            cx2 = Math.sin(radian) * radius,
            cy2 = -Math.cos(radian) * radius;
        this.hand.setAttribute('x2', cx1);
        this.hand.setAttribute('y2', cy1);
        this.bg.setAttribute('cx', cx2);
        this.bg.setAttribute('cy', cy2);
      }
    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        this.isOpen = true;
        this._updateTimeFromInput();
        this.showView('hours');

        this.modal.open();
      }
    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        this.isOpen = false;
        this.modal.close();
      }

      /**
       * Finish timepicker selection.
       */

    }, {
      key: "done",
      value: function done(e, clearValue) {
        // Set input value
        var last = this.el.value;
        var value = clearValue ? '' : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);
        this.time = value;
        if (!clearValue && this.options.twelveHour) {
          value = value + " " + this.amOrPm;
        }
        this.el.value = value;

        // Trigger change event
        if (value !== last) {
          this.$el.trigger('change');
        }

        this.close();
        this.el.focus();
      }
    }, {
      key: "clear",
      value: function clear() {
        this.done(null, true);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Timepicker.__proto__ || Object.getPrototypeOf(Timepicker), "init", this).call(this, this, els, options);
      }
    }, {
      key: "_addLeadingZero",
      value: function _addLeadingZero(num) {
        return (num < 10 ? '0' : '') + num;
      }
    }, {
      key: "_createSVGEl",
      value: function _createSVGEl(name) {
        var svgNS = 'http://www.w3.org/2000/svg';
        return document.createElementNS(svgNS, name);
      }

      /**
       * @typedef {Object} Point
       * @property {number} x The X Coordinate
       * @property {number} y The Y Coordinate
       */

      /**
       * Get x position of mouse or touch event
       * @param {Event} e
       * @return {Point} x and y location
       */

    }, {
      key: "_Pos",
      value: function _Pos(e) {
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };
        }
        // mouse event
        return { x: e.clientX, y: e.clientY };
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Timepicker;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Timepicker;
  }(Component);

  Timepicker._template = ['<div class= "modal timepicker-modal">', '<div class="modal-content timepicker-container">', '<div class="timepicker-digital-display">', '<div class="timepicker-text-container">', '<div class="timepicker-display-column">', '<span class="timepicker-span-hours text-primary"></span>', ':', '<span class="timepicker-span-minutes"></span>', '</div>', '<div class="timepicker-display-column timepicker-display-am-pm">', '<div class="timepicker-span-am-pm"></div>', '</div>', '</div>', '</div>', '<div class="timepicker-analog-display">', '<div class="timepicker-plate">', '<div class="timepicker-canvas"></div>', '<div class="timepicker-dial timepicker-hours"></div>', '<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>', '</div>', '<div class="timepicker-footer"></div>', '</div>', '</div>', '</div>'].join('');

  M.Timepicker = Timepicker;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Timepicker, 'timepicker', 'M_Timepicker');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {};

  /**
   * @class
   *
   */

  var CharacterCounter = function (_Component17) {
    _inherits(CharacterCounter, _Component17);

    /**
     * Construct CharacterCounter instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function CharacterCounter(el, options) {
      _classCallCheck(this, CharacterCounter);

      var _this61 = _possibleConstructorReturn(this, (CharacterCounter.__proto__ || Object.getPrototypeOf(CharacterCounter)).call(this, CharacterCounter, el, options));

      _this61.el.M_CharacterCounter = _this61;

      /**
       * Options for the character counter
       */
      _this61.options = $.extend({}, CharacterCounter.defaults, options);

      _this61.isInvalid = false;
      _this61.isValidLength = false;
      _this61._setupCounter();
      _this61._setupEventHandlers();
      return _this61;
    }

    _createClass(CharacterCounter, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.CharacterCounter = undefined;
        this._removeCounter();
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleUpdateCounterBound = this.updateCounter.bind(this);

        this.el.addEventListener('focus', this._handleUpdateCounterBound, true);
        this.el.addEventListener('input', this._handleUpdateCounterBound, true);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('focus', this._handleUpdateCounterBound, true);
        this.el.removeEventListener('input', this._handleUpdateCounterBound, true);
      }

      /**
       * Setup counter element
       */

    }, {
      key: "_setupCounter",
      value: function _setupCounter() {
        this.counterEl = document.createElement('span');
        $(this.counterEl).addClass('character-counter').css({
          float: 'right',
          'font-size': '12px',
          height: 1
        });

        this.$el.parent().append(this.counterEl);
      }

      /**
       * Remove counter element
       */

    }, {
      key: "_removeCounter",
      value: function _removeCounter() {
        $(this.counterEl).remove();
      }

      /**
       * Update counter
       */

    }, {
      key: "updateCounter",
      value: function updateCounter() {
        var maxLength = +this.$el.attr('data-length'),
            actualLength = this.el.value.length;
        this.isValidLength = actualLength <= maxLength;
        var counterString = actualLength;

        if (maxLength) {
          counterString += '/' + maxLength;
          this._validateInput();
        }

        $(this.counterEl).html(counterString);
      }

      /**
       * Add validation classes
       */

    }, {
      key: "_validateInput",
      value: function _validateInput() {
        if (this.isValidLength && this.isInvalid) {
          this.isInvalid = false;
          this.$el.removeClass('invalid');
        } else if (!this.isValidLength && !this.isInvalid) {
          this.isInvalid = true;
          this.$el.removeClass('valid');
          this.$el.addClass('invalid');
        }
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(CharacterCounter.__proto__ || Object.getPrototypeOf(CharacterCounter), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_CharacterCounter;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return CharacterCounter;
  }(Component);

  M.CharacterCounter = CharacterCounter;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(CharacterCounter, 'characterCounter', 'M_CharacterCounter');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    duration: 200, // ms
    dist: -100, // zoom scale TODO: make this more intuitive as an option
    shift: 0, // spacing for center image
    padding: 0, // Padding between non center items
    numVisible: 5, // Number of visible items in carousel
    fullWidth: false, // Change to full width styles
    indicators: false, // Toggle indicators
    noWrap: false, // Don't wrap around and cycle through items.
    onCycleTo: null // Callback for when a new slide is cycled to.
  };

  /**
   * @class
   *
   */

  var Carousel = function (_Component18) {
    _inherits(Carousel, _Component18);

    /**
     * Construct Carousel instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Carousel(el, options) {
      _classCallCheck(this, Carousel);

      var _this62 = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, Carousel, el, options));

      _this62.el.M_Carousel = _this62;

      /**
       * Options for the carousel
       * @member Carousel#options
       * @prop {Number} duration
       * @prop {Number} dist
       * @prop {Number} shift
       * @prop {Number} padding
       * @prop {Number} numVisible
       * @prop {Boolean} fullWidth
       * @prop {Boolean} indicators
       * @prop {Boolean} noWrap
       * @prop {Function} onCycleTo
       */
      _this62.options = $.extend({}, Carousel.defaults, options);

      // Setup
      _this62.hasMultipleSlides = _this62.$el.find('.carousel-item').length > 1;
      _this62.showIndicators = _this62.options.indicators && _this62.hasMultipleSlides;
      _this62.noWrap = _this62.options.noWrap || !_this62.hasMultipleSlides;
      _this62.pressed = false;
      _this62.dragged = false;
      _this62.offset = _this62.target = 0;
      _this62.images = [];
      _this62.itemWidth = _this62.$el.find('.carousel-item').first().innerWidth();
      _this62.itemHeight = _this62.$el.find('.carousel-item').first().innerHeight();
      _this62.dim = _this62.itemWidth * 2 + _this62.options.padding || 1; // Make sure dim is non zero for divisions.
      _this62._autoScrollBound = _this62._autoScroll.bind(_this62);
      _this62._trackBound = _this62._track.bind(_this62);

      // Full Width carousel setup
      if (_this62.options.fullWidth) {
        _this62.options.dist = 0;
        _this62._setCarouselHeight();

        // Offset fixed items when indicators.
        if (_this62.showIndicators) {
          _this62.$el.find('.carousel-fixed-item').addClass('with-indicators');
        }
      }

      // Iterate through slides
      _this62.$indicators = $('<ul class="indicators"></ul>');
      _this62.$el.find('.carousel-item').each(function (el, i) {
        _this62.images.push(el);
        if (_this62.showIndicators) {
          var $indicator = $('<li class="indicator-item"></li>');

          // Add active to first by default.
          if (i === 0) {
            $indicator[0].classList.add('active');
          }

          _this62.$indicators.append($indicator);
        }
      });
      if (_this62.showIndicators) {
        _this62.$el.append(_this62.$indicators);
      }
      _this62.count = _this62.images.length;

      // Cap numVisible at count
      _this62.options.numVisible = Math.min(_this62.count, _this62.options.numVisible);

      // Setup cross browser string
      _this62.xform = 'transform';
      ['webkit', 'Moz', 'O', 'ms'].every(function (prefix) {
        var e = prefix + 'Transform';
        if (typeof document.body.style[e] !== 'undefined') {
          _this62.xform = e;
          return false;
        }
        return true;
      });

      _this62._setupEventHandlers();
      _this62._scroll(_this62.offset);
      return _this62;
    }

    _createClass(Carousel, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.M_Carousel = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this63 = this;

        this._handleCarouselTapBound = this._handleCarouselTap.bind(this);
        this._handleCarouselDragBound = this._handleCarouselDrag.bind(this);
        this._handleCarouselReleaseBound = this._handleCarouselRelease.bind(this);
        this._handleCarouselClickBound = this._handleCarouselClick.bind(this);

        if (typeof window.ontouchstart !== 'undefined') {
          this.el.addEventListener('touchstart', this._handleCarouselTapBound);
          this.el.addEventListener('touchmove', this._handleCarouselDragBound);
          this.el.addEventListener('touchend', this._handleCarouselReleaseBound);
        }

        this.el.addEventListener('mousedown', this._handleCarouselTapBound);
        this.el.addEventListener('mousemove', this._handleCarouselDragBound);
        this.el.addEventListener('mouseup', this._handleCarouselReleaseBound);
        this.el.addEventListener('mouseleave', this._handleCarouselReleaseBound);
        this.el.addEventListener('click', this._handleCarouselClickBound);

        if (this.showIndicators && this.$indicators) {
          this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);
          this.$indicators.find('.indicator-item').each(function (el, i) {
            el.addEventListener('click', _this63._handleIndicatorClickBound);
          });
        }

        // Resize
        var throttledResize = M.throttle(this._handleResize, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);

        window.addEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this64 = this;

        if (typeof window.ontouchstart !== 'undefined') {
          this.el.removeEventListener('touchstart', this._handleCarouselTapBound);
          this.el.removeEventListener('touchmove', this._handleCarouselDragBound);
          this.el.removeEventListener('touchend', this._handleCarouselReleaseBound);
        }
        this.el.removeEventListener('mousedown', this._handleCarouselTapBound);
        this.el.removeEventListener('mousemove', this._handleCarouselDragBound);
        this.el.removeEventListener('mouseup', this._handleCarouselReleaseBound);
        this.el.removeEventListener('mouseleave', this._handleCarouselReleaseBound);
        this.el.removeEventListener('click', this._handleCarouselClickBound);

        if (this.showIndicators && this.$indicators) {
          this.$indicators.find('.indicator-item').each(function (el, i) {
            el.removeEventListener('click', _this64._handleIndicatorClickBound);
          });
        }

        window.removeEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Handle Carousel Tap
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselTap",
      value: function _handleCarouselTap(e) {
        // Fixes firefox draggable image bug
        if (e.type === 'mousedown' && $(e.target).is('img')) {
          e.preventDefault();
        }
        this.pressed = true;
        this.dragged = false;
        this.verticalDragged = false;
        this.reference = this._xpos(e);
        this.referenceY = this._ypos(e);

        this.velocity = this.amplitude = 0;
        this.frame = this.offset;
        this.timestamp = Date.now();
        clearInterval(this.ticker);
        this.ticker = setInterval(this._trackBound, 100);
      }

      /**
       * Handle Carousel Drag
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselDrag",
      value: function _handleCarouselDrag(e) {
        var x = void 0,
            y = void 0,
            delta = void 0,
            deltaY = void 0;
        if (this.pressed) {
          x = this._xpos(e);
          y = this._ypos(e);
          delta = this.reference - x;
          deltaY = Math.abs(this.referenceY - y);
          if (deltaY < 30 && !this.verticalDragged) {
            // If vertical scrolling don't allow dragging.
            if (delta > 2 || delta < -2) {
              this.dragged = true;
              this.reference = x;
              this._scroll(this.offset + delta);
            }
          } else if (this.dragged) {
            // If dragging don't allow vertical scroll.
            e.preventDefault();
            e.stopPropagation();
            return false;
          } else {
            // Vertical scrolling.
            this.verticalDragged = true;
          }
        }

        if (this.dragged) {
          // If dragging don't allow vertical scroll.
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      }

      /**
       * Handle Carousel Release
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselRelease",
      value: function _handleCarouselRelease(e) {
        if (this.pressed) {
          this.pressed = false;
        } else {
          return;
        }

        clearInterval(this.ticker);
        this.target = this.offset;
        if (this.velocity > 10 || this.velocity < -10) {
          this.amplitude = 0.9 * this.velocity;
          this.target = this.offset + this.amplitude;
        }
        this.target = Math.round(this.target / this.dim) * this.dim;

        // No wrap of items.
        if (this.noWrap) {
          if (this.target >= this.dim * (this.count - 1)) {
            this.target = this.dim * (this.count - 1);
          } else if (this.target < 0) {
            this.target = 0;
          }
        }
        this.amplitude = this.target - this.offset;
        this.timestamp = Date.now();
        requestAnimationFrame(this._autoScrollBound);

        if (this.dragged) {
          e.preventDefault();
          e.stopPropagation();
        }
        return false;
      }

      /**
       * Handle Carousel CLick
       * @param {Event} e
       */

    }, {
      key: "_handleCarouselClick",
      value: function _handleCarouselClick(e) {
        // Disable clicks if carousel was dragged.
        if (this.dragged) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        } else if (!this.options.fullWidth) {
          var clickedIndex = $(e.target).closest('.carousel-item').index();
          var diff = this._wrap(this.center) - clickedIndex;

          // Disable clicks if carousel was shifted by click
          if (diff !== 0) {
            e.preventDefault();
            e.stopPropagation();
          }
          this._cycleTo(clickedIndex);
        }
      }

      /**
       * Handle Indicator CLick
       * @param {Event} e
       */

    }, {
      key: "_handleIndicatorClick",
      value: function _handleIndicatorClick(e) {
        e.stopPropagation();

        var indicator = $(e.target).closest('.indicator-item');
        if (indicator.length) {
          this._cycleTo(indicator.index());
        }
      }

      /**
       * Handle Throttle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleResize",
      value: function _handleResize(e) {
        if (this.options.fullWidth) {
          this.itemWidth = this.$el.find('.carousel-item').first().innerWidth();
          this.imageHeight = this.$el.find('.carousel-item.active').height();
          this.dim = this.itemWidth * 2 + this.options.padding;
          this.offset = this.center * 2 * this.itemWidth;
          this.target = this.offset;
          this._setCarouselHeight(true);
        } else {
          this._scroll();
        }
      }

      /**
       * Set carousel height based on first slide
       * @param {Booleam} imageOnly - true for image slides
       */

    }, {
      key: "_setCarouselHeight",
      value: function _setCarouselHeight(imageOnly) {
        var _this65 = this;

        var firstSlide = this.$el.find('.carousel-item.active').length ? this.$el.find('.carousel-item.active').first() : this.$el.find('.carousel-item').first();
        var firstImage = firstSlide.find('img').first();
        if (firstImage.length) {
          if (firstImage[0].complete) {
            // If image won't trigger the load event
            var imageHeight = firstImage.height();
            if (imageHeight > 0) {
              this.$el.css('height', imageHeight + 'px');
            } else {
              // If image still has no height, use the natural dimensions to calculate
              var naturalWidth = firstImage[0].naturalWidth;
              var naturalHeight = firstImage[0].naturalHeight;
              var adjustedHeight = this.$el.width() / naturalWidth * naturalHeight;
              this.$el.css('height', adjustedHeight + 'px');
            }
          } else {
            // Get height when image is loaded normally
            firstImage.one('load', function (el, i) {
              _this65.$el.css('height', el.offsetHeight + 'px');
            });
          }
        } else if (!imageOnly) {
          var slideHeight = firstSlide.height();
          this.$el.css('height', slideHeight + 'px');
        }
      }

      /**
       * Get x position from event
       * @param {Event} e
       */

    }, {
      key: "_xpos",
      value: function _xpos(e) {
        // touch event
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientX;
        }

        // mouse event
        return e.clientX;
      }

      /**
       * Get y position from event
       * @param {Event} e
       */

    }, {
      key: "_ypos",
      value: function _ypos(e) {
        // touch event
        if (e.targetTouches && e.targetTouches.length >= 1) {
          return e.targetTouches[0].clientY;
        }

        // mouse event
        return e.clientY;
      }

      /**
       * Wrap index
       * @param {Number} x
       */

    }, {
      key: "_wrap",
      value: function _wrap(x) {
        return x >= this.count ? x % this.count : x < 0 ? this._wrap(this.count + x % this.count) : x;
      }

      /**
       * Tracks scrolling information
       */

    }, {
      key: "_track",
      value: function _track() {
        var now = void 0,
            elapsed = void 0,
            delta = void 0,
            v = void 0;

        now = Date.now();
        elapsed = now - this.timestamp;
        this.timestamp = now;
        delta = this.offset - this.frame;
        this.frame = this.offset;

        v = 1000 * delta / (1 + elapsed);
        this.velocity = 0.8 * v + 0.2 * this.velocity;
      }

      /**
       * Auto scrolls to nearest carousel item.
       */

    }, {
      key: "_autoScroll",
      value: function _autoScroll() {
        var elapsed = void 0,
            delta = void 0;

        if (this.amplitude) {
          elapsed = Date.now() - this.timestamp;
          delta = this.amplitude * Math.exp(-elapsed / this.options.duration);
          if (delta > 2 || delta < -2) {
            this._scroll(this.target - delta);
            requestAnimationFrame(this._autoScrollBound);
          } else {
            this._scroll(this.target);
          }
        }
      }

      /**
       * Scroll to target
       * @param {Number} x
       */

    }, {
      key: "_scroll",
      value: function _scroll(x) {
        var _this66 = this;

        // Track scrolling state
        if (!this.$el.hasClass('scrolling')) {
          this.el.classList.add('scrolling');
        }
        if (this.scrollingTimeout != null) {
          window.clearTimeout(this.scrollingTimeout);
        }
        this.scrollingTimeout = window.setTimeout(function () {
          _this66.$el.removeClass('scrolling');
        }, this.options.duration);

        // Start actual scroll
        var i = void 0,
            half = void 0,
            delta = void 0,
            dir = void 0,
            tween = void 0,
            el = void 0,
            alignment = void 0,
            zTranslation = void 0,
            tweenedOpacity = void 0,
            centerTweenedOpacity = void 0;
        var lastCenter = this.center;
        var numVisibleOffset = 1 / this.options.numVisible;

        this.offset = typeof x === 'number' ? x : this.offset;
        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);
        delta = this.offset - this.center * this.dim;
        dir = delta < 0 ? 1 : -1;
        tween = -dir * delta * 2 / this.dim;
        half = this.count >> 1;

        if (this.options.fullWidth) {
          alignment = 'translateX(0)';
          centerTweenedOpacity = 1;
        } else {
          alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';
          alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';
          centerTweenedOpacity = 1 - numVisibleOffset * tween;
        }

        // Set indicator active
        if (this.showIndicators) {
          var diff = this.center % this.count;
          var activeIndicator = this.$indicators.find('.indicator-item.active');
          if (activeIndicator.index() !== diff) {
            activeIndicator.removeClass('active');
            this.$indicators.find('.indicator-item').eq(diff)[0].classList.add('active');
          }
        }

        // center
        // Don't show wrapped items.
        if (!this.noWrap || this.center >= 0 && this.center < this.count) {
          el = this.images[this._wrap(this.center)];

          // Add active class to center item.
          if (!$(el).hasClass('active')) {
            this.$el.find('.carousel-item').removeClass('active');
            el.classList.add('active');
          }
          var transformString = alignment + " translateX(" + -delta / 2 + "px) translateX(" + dir * this.options.shift * tween * i + "px) translateZ(" + this.options.dist * tween + "px)";
          this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);
        }

        for (i = 1; i <= half; ++i) {
          // right side
          if (this.options.fullWidth) {
            zTranslation = this.options.dist;
            tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;
          } else {
            zTranslation = this.options.dist * (i * 2 + tween * dir);
            tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);
          }
          // Don't show wrapped items.
          if (!this.noWrap || this.center + i < this.count) {
            el = this.images[this._wrap(this.center + i)];
            var _transformString = alignment + " translateX(" + (this.options.shift + (this.dim * i - delta) / 2) + "px) translateZ(" + zTranslation + "px)";
            this._updateItemStyle(el, tweenedOpacity, -i, _transformString);
          }

          // left side
          if (this.options.fullWidth) {
            zTranslation = this.options.dist;
            tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;
          } else {
            zTranslation = this.options.dist * (i * 2 - tween * dir);
            tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);
          }
          // Don't show wrapped items.
          if (!this.noWrap || this.center - i >= 0) {
            el = this.images[this._wrap(this.center - i)];
            var _transformString2 = alignment + " translateX(" + (-this.options.shift + (-this.dim * i - delta) / 2) + "px) translateZ(" + zTranslation + "px)";
            this._updateItemStyle(el, tweenedOpacity, -i, _transformString2);
          }
        }

        // center
        // Don't show wrapped items.
        if (!this.noWrap || this.center >= 0 && this.center < this.count) {
          el = this.images[this._wrap(this.center)];
          var _transformString3 = alignment + " translateX(" + -delta / 2 + "px) translateX(" + dir * this.options.shift * tween + "px) translateZ(" + this.options.dist * tween + "px)";
          this._updateItemStyle(el, centerTweenedOpacity, 0, _transformString3);
        }

        // onCycleTo callback
        var $currItem = this.$el.find('.carousel-item').eq(this._wrap(this.center));
        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {
          this.options.onCycleTo.call(this, $currItem[0], this.dragged);
        }

        // One time callback
        if (typeof this.oneTimeCallback === 'function') {
          this.oneTimeCallback.call(this, $currItem[0], this.dragged);
          this.oneTimeCallback = null;
        }
      }

      /**
       * Cycle to target
       * @param {Element} el
       * @param {Number} opacity
       * @param {Number} zIndex
       * @param {String} transform
       */

    }, {
      key: "_updateItemStyle",
      value: function _updateItemStyle(el, opacity, zIndex, transform) {
        el.style[this.xform] = transform;
        el.style.zIndex = zIndex;
        el.style.opacity = opacity;
        el.style.visibility = 'visible';
      }

      /**
       * Cycle to target
       * @param {Number} n
       * @param {Function} callback
       */

    }, {
      key: "_cycleTo",
      value: function _cycleTo(n, callback) {
        var diff = this.center % this.count - n;

        // Account for wraparound.
        if (!this.noWrap) {
          if (diff < 0) {
            if (Math.abs(diff + this.count) < Math.abs(diff)) {
              diff += this.count;
            }
          } else if (diff > 0) {
            if (Math.abs(diff - this.count) < diff) {
              diff -= this.count;
            }
          }
        }

        this.target = this.dim * Math.round(this.offset / this.dim);
        // Next
        if (diff < 0) {
          this.target += this.dim * Math.abs(diff);

          // Prev
        } else if (diff > 0) {
          this.target -= this.dim * diff;
        }

        // Set one time callback
        if (typeof callback === 'function') {
          this.oneTimeCallback = callback;
        }

        // Scroll
        if (this.offset !== this.target) {
          this.amplitude = this.target - this.offset;
          this.timestamp = Date.now();
          requestAnimationFrame(this._autoScrollBound);
        }
      }

      /**
       * Cycle to next item
       * @param {Number} [n]
       */

    }, {
      key: "next",
      value: function next(n) {
        if (n === undefined || isNaN(n)) {
          n = 1;
        }

        var index = this.center + n;
        if (index >= this.count || index < 0) {
          if (this.noWrap) {
            return;
          }

          index = this._wrap(index);
        }
        this._cycleTo(index);
      }

      /**
       * Cycle to previous item
       * @param {Number} [n]
       */

    }, {
      key: "prev",
      value: function prev(n) {
        if (n === undefined || isNaN(n)) {
          n = 1;
        }

        var index = this.center - n;
        if (index >= this.count || index < 0) {
          if (this.noWrap) {
            return;
          }

          index = this._wrap(index);
        }

        this._cycleTo(index);
      }

      /**
       * Cycle to nth item
       * @param {Number} [n]
       * @param {Function} callback
       */

    }, {
      key: "set",
      value: function set(n, callback) {
        if (n === undefined || isNaN(n)) {
          n = 0;
        }

        if (n > this.count || n < 0) {
          if (this.noWrap) {
            return;
          }

          n = this._wrap(n);
        }

        this._cycleTo(n, callback);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Carousel.__proto__ || Object.getPrototypeOf(Carousel), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Carousel;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Carousel;
  }(Component);

  M.Carousel = Carousel;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Carousel, 'carousel', 'M_Carousel');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    onOpen: undefined,
    onClose: undefined
  };

  /**
   * @class
   *
   */

  var TapTarget = function (_Component19) {
    _inherits(TapTarget, _Component19);

    /**
     * Construct TapTarget instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function TapTarget(el, options) {
      _classCallCheck(this, TapTarget);

      var _this67 = _possibleConstructorReturn(this, (TapTarget.__proto__ || Object.getPrototypeOf(TapTarget)).call(this, TapTarget, el, options));

      _this67.el.M_TapTarget = _this67;

      /**
       * Options for the select
       * @member TapTarget#options
       * @prop {Function} onOpen - Callback function called when feature discovery is opened
       * @prop {Function} onClose - Callback function called when feature discovery is closed
       */
      _this67.options = $.extend({}, TapTarget.defaults, options);

      _this67.isOpen = false;

      // setup
      _this67.$origin = $('#' + _this67.$el.attr('data-target'));
      _this67._setup();

      _this67._calculatePositioning();
      _this67._setupEventHandlers();
      return _this67;
    }

    _createClass(TapTarget, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this.el.TapTarget = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);
        this._handleTargetClickBound = this._handleTargetClick.bind(this);
        this._handleOriginClickBound = this._handleOriginClick.bind(this);

        this.el.addEventListener('click', this._handleTargetClickBound);
        this.originEl.addEventListener('click', this._handleOriginClickBound);

        // Resize
        var throttledResize = M.throttle(this._handleResize, 200);
        this._handleThrottledResizeBound = throttledResize.bind(this);

        window.addEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('click', this._handleTargetClickBound);
        this.originEl.removeEventListener('click', this._handleOriginClickBound);
        window.removeEventListener('resize', this._handleThrottledResizeBound);
      }

      /**
       * Handle Target Click
       * @param {Event} e
       */

    }, {
      key: "_handleTargetClick",
      value: function _handleTargetClick(e) {
        this.open();
      }

      /**
       * Handle Origin Click
       * @param {Event} e
       */

    }, {
      key: "_handleOriginClick",
      value: function _handleOriginClick(e) {
        this.close();
      }

      /**
       * Handle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleResize",
      value: function _handleResize(e) {
        this._calculatePositioning();
      }

      /**
       * Handle Resize
       * @param {Event} e
       */

    }, {
      key: "_handleDocumentClick",
      value: function _handleDocumentClick(e) {
        if (!$(e.target).closest('.tap-target-wrapper').length) {
          this.close();
          e.preventDefault();
          e.stopPropagation();
        }
      }

      /**
       * Setup Tap Target
       */

    }, {
      key: "_setup",
      value: function _setup() {
        // Creating tap target
        this.wrapper = this.$el.parent()[0];
        this.waveEl = $(this.wrapper).find('.tap-target-wave')[0];
        this.originEl = $(this.wrapper).find('.tap-target-origin')[0];
        this.contentEl = this.$el.find('.tap-target-content')[0];

        // Creating wrapper
        if (!$(this.wrapper).hasClass('.tap-target-wrapper')) {
          this.wrapper = document.createElement('div');
          this.wrapper.classList.add('tap-target-wrapper');
          this.$el.before($(this.wrapper));
          this.wrapper.append(this.el);
        }

        // Creating content
        if (!this.contentEl) {
          this.contentEl = document.createElement('div');
          this.contentEl.classList.add('tap-target-content');
          this.$el.append(this.contentEl);
        }

        // Creating foreground wave
        if (!this.waveEl) {
          this.waveEl = document.createElement('div');
          this.waveEl.classList.add('tap-target-wave');

          // Creating origin
          if (!this.originEl) {
            this.originEl = this.$origin.clone(true, true);
            this.originEl.addClass('tap-target-origin');
            this.originEl.removeAttr('id');
            this.originEl.removeAttr('style');
            this.originEl = this.originEl[0];
            this.waveEl.append(this.originEl);
          }

          this.wrapper.append(this.waveEl);
        }
      }

      /**
       * Calculate positioning
       */

    }, {
      key: "_calculatePositioning",
      value: function _calculatePositioning() {
        // Element or parent is fixed position?
        var isFixed = this.$origin.css('position') === 'fixed';
        if (!isFixed) {
          var parents = this.$origin.parents();
          for (var i = 0; i < parents.length; i++) {
            isFixed = $(parents[i]).css('position') == 'fixed';
            if (isFixed) {
              break;
            }
          }
        }

        // Calculating origin
        var originWidth = this.$origin.outerWidth();
        var originHeight = this.$origin.outerHeight();
        var originTop = isFixed ? this.$origin.offset().top - M.getDocumentScrollTop() : this.$origin.offset().top;
        var originLeft = isFixed ? this.$origin.offset().left - M.getDocumentScrollLeft() : this.$origin.offset().left;

        // Calculating screen
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var centerX = windowWidth / 2;
        var centerY = windowHeight / 2;
        var isLeft = originLeft <= centerX;
        var isRight = originLeft > centerX;
        var isTop = originTop <= centerY;
        var isBottom = originTop > centerY;
        var isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;

        // Calculating tap target
        var tapTargetWidth = this.$el.outerWidth();
        var tapTargetHeight = this.$el.outerHeight();
        var tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;
        var tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;
        var tapTargetPosition = isFixed ? 'fixed' : 'absolute';

        // Calculating content
        var tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;
        var tapTargetTextHeight = tapTargetHeight / 2;
        var tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;
        var tapTargetTextBottom = 0;
        var tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;
        var tapTargetTextRight = 0;
        var tapTargetTextPadding = originWidth;
        var tapTargetTextAlign = isBottom ? 'bottom' : 'top';

        // Calculating wave
        var tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;
        var tapTargetWaveHeight = tapTargetWaveWidth;
        var tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;
        var tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;

        // Setting tap target
        var tapTargetWrapperCssObj = {};
        tapTargetWrapperCssObj.top = isTop ? tapTargetTop + 'px' : '';
        tapTargetWrapperCssObj.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth + 'px' : '';
        tapTargetWrapperCssObj.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';
        tapTargetWrapperCssObj.left = isLeft ? tapTargetLeft + 'px' : '';
        tapTargetWrapperCssObj.position = tapTargetPosition;
        $(this.wrapper).css(tapTargetWrapperCssObj);

        // Setting content
        $(this.contentEl).css({
          width: tapTargetTextWidth + 'px',
          height: tapTargetTextHeight + 'px',
          top: tapTargetTextTop + 'px',
          right: tapTargetTextRight + 'px',
          bottom: tapTargetTextBottom + 'px',
          left: tapTargetTextLeft + 'px',
          padding: tapTargetTextPadding + 'px',
          verticalAlign: tapTargetTextAlign
        });

        // Setting wave
        $(this.waveEl).css({
          top: tapTargetWaveTop + 'px',
          left: tapTargetWaveLeft + 'px',
          width: tapTargetWaveWidth + 'px',
          height: tapTargetWaveHeight + 'px'
        });
      }

      /**
       * Open TapTarget
       */

    }, {
      key: "open",
      value: function open() {
        if (this.isOpen) {
          return;
        }

        // onOpen callback
        if (typeof this.options.onOpen === 'function') {
          this.options.onOpen.call(this, this.$origin[0]);
        }

        this.isOpen = true;
        this.wrapper.classList.add('open');

        document.body.addEventListener('click', this._handleDocumentClickBound, true);
        document.body.addEventListener('touchend', this._handleDocumentClickBound);
      }

      /**
       * Close Tap Target
       */

    }, {
      key: "close",
      value: function close() {
        if (!this.isOpen) {
          return;
        }

        // onClose callback
        if (typeof this.options.onClose === 'function') {
          this.options.onClose.call(this, this.$origin[0]);
        }

        this.isOpen = false;
        this.wrapper.classList.remove('open');

        document.body.removeEventListener('click', this._handleDocumentClickBound, true);
        document.body.removeEventListener('touchend', this._handleDocumentClickBound);
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(TapTarget.__proto__ || Object.getPrototypeOf(TapTarget), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_TapTarget;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return TapTarget;
  }(Component);

  M.TapTarget = TapTarget;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(TapTarget, 'tapTarget', 'M_TapTarget');
  }
})(cash);
;(function ($) {
  'use strict';

  var _defaults = {
    classes: '',
    dropdownOptions: {}
  };

  /**
   * @class
   *
   */

  var FormSelect = function (_Component20) {
    _inherits(FormSelect, _Component20);

    /**
     * Construct FormSelect instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function FormSelect(el, options) {
      _classCallCheck(this, FormSelect);

      // Don't init if browser default version
      var _this68 = _possibleConstructorReturn(this, (FormSelect.__proto__ || Object.getPrototypeOf(FormSelect)).call(this, FormSelect, el, options));

      if (_this68.$el.hasClass('browser-default')) {
        return _possibleConstructorReturn(_this68);
      }

      _this68.el.M_FormSelect = _this68;

      /**
       * Options for the select
       * @member FormSelect#options
       */
      _this68.options = $.extend({}, FormSelect.defaults, options);

      _this68.isMultiple = _this68.$el.prop('multiple');

      // Setup
      _this68.el.tabIndex = -1;
      _this68._keysSelected = {};
      _this68._valueDict = {}; // Maps key to original and generated option element.
      _this68._setupDropdown();

      _this68._setupEventHandlers();
      return _this68;
    }

    _createClass(FormSelect, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeDropdown();
        this.el.M_FormSelect = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        var _this69 = this;

        this._handleSelectChangeBound = this._handleSelectChange.bind(this);
        this._handleOptionClickBound = this._handleOptionClick.bind(this);
        this._handleInputClickBound = this._handleInputClick.bind(this);

        $(this.dropdownOptions).find('li:not(.optgroup)').each(function (el) {
          el.addEventListener('click', _this69._handleOptionClickBound);
        });
        this.el.addEventListener('change', this._handleSelectChangeBound);
        this.input.addEventListener('click', this._handleInputClickBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        var _this70 = this;

        $(this.dropdownOptions).find('li:not(.optgroup)').each(function (el) {
          el.removeEventListener('click', _this70._handleOptionClickBound);
        });
        this.el.removeEventListener('change', this._handleSelectChangeBound);
        this.input.removeEventListener('click', this._handleInputClickBound);
      }

      /**
       * Handle Select Change
       * @param {Event} e
       */

    }, {
      key: "_handleSelectChange",
      value: function _handleSelectChange(e) {
        this._setValueToInput();
      }

      /**
       * Handle Option Click
       * @param {Event} e
       */

    }, {
      key: "_handleOptionClick",
      value: function _handleOptionClick(e) {
        e.preventDefault();
        var option = $(e.target).closest('li')[0];
        var key = option.id;
        if (!$(option).hasClass('disabled') && !$(option).hasClass('optgroup') && key.length) {
          var selected = true;

          if (this.isMultiple) {
            // Deselect placeholder option if still selected.
            var placeholderOption = $(this.dropdownOptions).find('li.disabled.selected');
            if (placeholderOption.length) {
              placeholderOption.removeClass('selected');
              placeholderOption.find('input[type="checkbox"]').prop('checked', false);
              this._toggleEntryFromArray(placeholderOption[0].id);
            }
            selected = this._toggleEntryFromArray(key);
          } else {
            $(this.dropdownOptions).find('li').removeClass('selected');
            $(option).toggleClass('selected', selected);
          }

          // Set selected on original select option
          // Only trigger if selected state changed
          var prevSelected = $(this._valueDict[key].el).prop('selected');
          if (prevSelected !== selected) {
            $(this._valueDict[key].el).prop('selected', selected);
            this.$el.trigger('change');
          }
        }

        e.stopPropagation();
      }

      /**
       * Handle Input Click
       */

    }, {
      key: "_handleInputClick",
      value: function _handleInputClick() {
        if (this.dropdown && this.dropdown.isOpen) {
          this._setValueToInput();
          this._setSelectedStates();
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupDropdown",
      value: function _setupDropdown() {
        var _this71 = this;

        this.wrapper = document.createElement('div');
        $(this.wrapper).addClass('select-wrapper ' + this.options.classes);
        this.$el.before($(this.wrapper));
        this.wrapper.appendChild(this.el);

        if (this.el.disabled) {
          this.wrapper.classList.add('disabled');
        }

        // Create dropdown
        this.$selectOptions = this.$el.children('option, optgroup');
        this.dropdownOptions = document.createElement('ul');
        this.dropdownOptions.id = "select-options-" + M.guid();
        $(this.dropdownOptions).addClass('dropdown-content select-dropdown ' + (this.isMultiple ? 'multiple-select-dropdown' : ''));

        // Create dropdown structure.
        if (this.$selectOptions.length) {
          this.$selectOptions.each(function (el) {
            if ($(el).is('option')) {
              // Direct descendant option.
              var optionEl = void 0;
              if (_this71.isMultiple) {
                optionEl = _this71._appendOptionWithIcon(_this71.$el, el, 'multiple');
              } else {
                optionEl = _this71._appendOptionWithIcon(_this71.$el, el);
              }

              _this71._addOptionToValueDict(el, optionEl);
            } else if ($(el).is('optgroup')) {
              // Optgroup.
              var selectOptions = $(el).children('option');
              $(_this71.dropdownOptions).append($('<li class="optgroup"><span>' + el.getAttribute('label') + '</span></li>')[0]);

              selectOptions.each(function (el) {
                var optionEl = _this71._appendOptionWithIcon(_this71.$el, el, 'optgroup-option');
                _this71._addOptionToValueDict(el, optionEl);
              });
            }
          });
        }

        this.$el.after(this.dropdownOptions);

        // Add input dropdown
        this.input = document.createElement('input');
        $(this.input).addClass('select-dropdown dropdown-trigger');
        this.input.setAttribute('type', 'text');
        this.input.setAttribute('readonly', 'true');
        this.input.setAttribute('data-target', this.dropdownOptions.id);
        if (this.el.disabled) {
          $(this.input).prop('disabled', 'true');
        }

        this.$el.before(this.input);
        this._setValueToInput();

        // Add caret
        var dropdownIcon = $('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
        this.$el.before(dropdownIcon[0]);

        // Initialize dropdown
        if (!this.el.disabled) {
          var dropdownOptions = $.extend({}, this.options.dropdownOptions);

          // Add callback for centering selected option when dropdown content is scrollable
          dropdownOptions.onOpenEnd = function (el) {
            var selectedOption = $(_this71.dropdownOptions).find('.selected').first();

            if (selectedOption.length) {
              // Focus selected option in dropdown
              M.keyDown = true;
              _this71.dropdown.focusedIndex = selectedOption.index();
              _this71.dropdown._focusFocusedItem();
              M.keyDown = false;

              // Handle scrolling to selected option
              if (_this71.dropdown.isScrollable) {
                var scrollOffset = selectedOption[0].getBoundingClientRect().top - _this71.dropdownOptions.getBoundingClientRect().top; // scroll to selected option
                scrollOffset -= _this71.dropdownOptions.clientHeight / 2; // center in dropdown
                _this71.dropdownOptions.scrollTop = scrollOffset;
              }
            }
          };

          if (this.isMultiple) {
            dropdownOptions.closeOnClick = false;
          }
          this.dropdown = M.Dropdown.init(this.input, dropdownOptions);
        }

        // Add initial selections
        this._setSelectedStates();
      }

      /**
       * Add option to value dict
       * @param {Element} el  original option element
       * @param {Element} optionEl  generated option element
       */

    }, {
      key: "_addOptionToValueDict",
      value: function _addOptionToValueDict(el, optionEl) {
        var index = Object.keys(this._valueDict).length;
        var key = this.dropdownOptions.id + index;
        var obj = {};
        optionEl.id = key;

        obj.el = el;
        obj.optionEl = optionEl;
        this._valueDict[key] = obj;
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeDropdown",
      value: function _removeDropdown() {
        $(this.wrapper).find('.caret').remove();
        $(this.input).remove();
        $(this.dropdownOptions).remove();
        $(this.wrapper).before(this.$el);
        $(this.wrapper).remove();
      }

      /**
       * Setup dropdown
       * @param {Element} select  select element
       * @param {Element} option  option element from select
       * @param {String} type
       * @return {Element}  option element added
       */

    }, {
      key: "_appendOptionWithIcon",
      value: function _appendOptionWithIcon(select, option, type) {
        // Add disabled attr if disabled
        var disabledClass = option.disabled ? 'disabled ' : '';
        var optgroupClass = type === 'optgroup-option' ? 'optgroup-option ' : '';
        var multipleCheckbox = this.isMultiple ? "<label><input type=\"checkbox\"" + disabledClass + "\"/><span>" + option.innerHTML + "</span></label>" : option.innerHTML;
        var liEl = $('<li></li>');
        var spanEl = $('<span></span>');
        spanEl.html(multipleCheckbox);
        liEl.addClass(disabledClass + " " + optgroupClass);
        liEl.append(spanEl);

        // add icons
        var iconUrl = option.getAttribute('data-icon');
        if (!!iconUrl) {
          var imgEl = $("<img alt=\"\" src=\"" + iconUrl + "\">");
          liEl.prepend(imgEl);
        }

        // Check for multiple type.
        $(this.dropdownOptions).append(liEl[0]);
        return liEl[0];
      }

      /**
       * Toggle entry from option
       * @param {String} key  Option key
       * @return {Boolean}  if entry was added or removed
       */

    }, {
      key: "_toggleEntryFromArray",
      value: function _toggleEntryFromArray(key) {
        var notAdded = !this._keysSelected.hasOwnProperty(key);
        var $optionLi = $(this._valueDict[key].optionEl);

        if (notAdded) {
          this._keysSelected[key] = true;
        } else {
          delete this._keysSelected[key];
        }

        $optionLi.toggleClass('selected', notAdded);

        // Set checkbox checked value
        $optionLi.find('input[type="checkbox"]').prop('checked', notAdded);

        // use notAdded instead of true (to detect if the option is selected or not)
        $optionLi.prop('selected', notAdded);

        return notAdded;
      }

      /**
       * Set text value to input
       */

    }, {
      key: "_setValueToInput",
      value: function _setValueToInput() {
        var values = [];
        var options = this.$el.find('option');

        options.each(function (el) {
          if ($(el).prop('selected')) {
            var text = $(el).text();
            values.push(text);
          }
        });

        if (!values.length) {
          var firstDisabled = this.$el.find('option:disabled').eq(0);
          if (firstDisabled.length && firstDisabled[0].value === '') {
            values.push(firstDisabled.text());
          }
        }

        this.input.value = values.join(', ');
      }

      /**
       * Set selected state of dropdown to match actual select element
       */

    }, {
      key: "_setSelectedStates",
      value: function _setSelectedStates() {
        this._keysSelected = {};

        for (var key in this._valueDict) {
          var option = this._valueDict[key];
          var optionIsSelected = $(option.el).prop('selected');
          $(option.optionEl).find('input[type="checkbox"]').prop('checked', optionIsSelected);
          if (optionIsSelected) {
            this._activateOption($(this.dropdownOptions), $(option.optionEl));
            this._keysSelected[key] = true;
          } else {
            $(option.optionEl).removeClass('selected');
          }
        }
      }

      /**
       * Make option as selected and scroll to selected position
       * @param {jQuery} collection  Select options jQuery element
       * @param {Element} newOption  element of the new option
       */

    }, {
      key: "_activateOption",
      value: function _activateOption(collection, newOption) {
        if (newOption) {
          if (!this.isMultiple) {
            collection.find('li.selected').removeClass('selected');
          }
          var option = $(newOption);
          option.addClass('selected');
        }
      }

      /**
       * Get Selected Values
       * @return {Array}  Array of selected values
       */

    }, {
      key: "getSelectedValues",
      value: function getSelectedValues() {
        var selectedValues = [];
        for (var key in this._keysSelected) {
          selectedValues.push(this._valueDict[key].el.value);
        }
        return selectedValues;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(FormSelect.__proto__ || Object.getPrototypeOf(FormSelect), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_FormSelect;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return FormSelect;
  }(Component);

  M.FormSelect = FormSelect;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(FormSelect, 'formSelect', 'M_FormSelect');
  }
})(cash);
;(function ($, anim) {
  'use strict';

  var _defaults = {};

  /**
   * @class
   *
   */

  var Range = function (_Component21) {
    _inherits(Range, _Component21);

    /**
     * Construct Range instance
     * @constructor
     * @param {Element} el
     * @param {Object} options
     */
    function Range(el, options) {
      _classCallCheck(this, Range);

      var _this72 = _possibleConstructorReturn(this, (Range.__proto__ || Object.getPrototypeOf(Range)).call(this, Range, el, options));

      _this72.el.M_Range = _this72;

      /**
       * Options for the range
       * @member Range#options
       */
      _this72.options = $.extend({}, Range.defaults, options);

      _this72._mousedown = false;

      // Setup
      _this72._setupThumb();

      _this72._setupEventHandlers();
      return _this72;
    }

    _createClass(Range, [{
      key: "destroy",


      /**
       * Teardown component
       */
      value: function destroy() {
        this._removeEventHandlers();
        this._removeThumb();
        this.el.M_Range = undefined;
      }

      /**
       * Setup Event Handlers
       */

    }, {
      key: "_setupEventHandlers",
      value: function _setupEventHandlers() {
        this._handleRangeChangeBound = this._handleRangeChange.bind(this);
        this._handleRangeMousedownTouchstartBound = this._handleRangeMousedownTouchstart.bind(this);
        this._handleRangeInputMousemoveTouchmoveBound = this._handleRangeInputMousemoveTouchmove.bind(this);
        this._handleRangeMouseupTouchendBound = this._handleRangeMouseupTouchend.bind(this);
        this._handleRangeBlurMouseoutTouchleaveBound = this._handleRangeBlurMouseoutTouchleave.bind(this);

        this.el.addEventListener('change', this._handleRangeChangeBound);

        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstartBound);
        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstartBound);

        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);

        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchendBound);
        this.el.addEventListener('touchend', this._handleRangeMouseupTouchendBound);

        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);
      }

      /**
       * Remove Event Handlers
       */

    }, {
      key: "_removeEventHandlers",
      value: function _removeEventHandlers() {
        this.el.removeEventListener('change', this._handleRangeChangeBound);

        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstartBound);
        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstartBound);

        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);
        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);

        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchendBound);
        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchendBound);

        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);
        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);
      }

      /**
       * Handle Range Change
       * @param {Event} e
       */

    }, {
      key: "_handleRangeChange",
      value: function _handleRangeChange() {
        $(this.value).html(this.$el.val());

        if (!$(this.thumb).hasClass('active')) {
          this._showRangeBubble();
        }

        var offsetLeft = this._calcRangeOffset();
        $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
      }

      /**
       * Handle Range Mousedown and Touchstart
       * @param {Event} e
       */

    }, {
      key: "_handleRangeMousedownTouchstart",
      value: function _handleRangeMousedownTouchstart(e) {
        // Set indicator value
        $(this.value).html(this.$el.val());

        this._mousedown = true;
        this.$el.addClass('active');

        if (!$(this.thumb).hasClass('active')) {
          this._showRangeBubble();
        }

        if (e.type !== 'input') {
          var offsetLeft = this._calcRangeOffset();
          $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
        }
      }

      /**
       * Handle Range Input, Mousemove and Touchmove
       */

    }, {
      key: "_handleRangeInputMousemoveTouchmove",
      value: function _handleRangeInputMousemoveTouchmove() {
        if (this._mousedown) {
          if (!$(this.thumb).hasClass('active')) {
            this._showRangeBubble();
          }

          var offsetLeft = this._calcRangeOffset();
          $(this.thumb).addClass('active').css('left', offsetLeft + 'px');
          $(this.value).html(this.$el.val());
        }
      }

      /**
       * Handle Range Mouseup and Touchend
       */

    }, {
      key: "_handleRangeMouseupTouchend",
      value: function _handleRangeMouseupTouchend() {
        this._mousedown = false;
        this.$el.removeClass('active');
      }

      /**
       * Handle Range Blur, Mouseout and Touchleave
       */

    }, {
      key: "_handleRangeBlurMouseoutTouchleave",
      value: function _handleRangeBlurMouseoutTouchleave() {
        if (!this._mousedown) {
          var paddingLeft = parseInt(this.$el.css('padding-left'));
          var marginLeft = 7 + paddingLeft + 'px';

          if ($(this.thumb).hasClass('active')) {
            anim.remove(this.thumb);
            anim({
              targets: this.thumb,
              height: 0,
              width: 0,
              top: 10,
              easing: 'easeOutQuad',
              marginLeft: marginLeft,
              duration: 100
            });
          }
          $(this.thumb).removeClass('active');
        }
      }

      /**
       * Setup dropdown
       */

    }, {
      key: "_setupThumb",
      value: function _setupThumb() {
        this.thumb = document.createElement('span');
        this.value = document.createElement('span');
        $(this.thumb).addClass('thumb');
        $(this.value).addClass('value');
        $(this.thumb).append(this.value);
        this.$el.after(this.thumb);
      }

      /**
       * Remove dropdown
       */

    }, {
      key: "_removeThumb",
      value: function _removeThumb() {
        $(this.thumb).remove();
      }

      /**
       * morph thumb into bubble
       */

    }, {
      key: "_showRangeBubble",
      value: function _showRangeBubble() {
        var paddingLeft = parseInt($(this.thumb).parent().css('padding-left'));
        var marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?
        anim.remove(this.thumb);
        anim({
          targets: this.thumb,
          height: 30,
          width: 30,
          top: -30,
          marginLeft: marginLeft,
          duration: 300,
          easing: 'easeOutQuint'
        });
      }

      /**
       * Calculate the offset of the thumb
       * @return {Number}  offset in pixels
       */

    }, {
      key: "_calcRangeOffset",
      value: function _calcRangeOffset() {
        var width = this.$el.width() - 15;
        var max = parseFloat(this.$el.attr('max')) || 100; // Range default max
        var min = parseFloat(this.$el.attr('min')) || 0; // Range default min
        var percent = (parseFloat(this.$el.val()) - min) / (max - min);
        return percent * width;
      }
    }], [{
      key: "init",
      value: function init(els, options) {
        return _get(Range.__proto__ || Object.getPrototypeOf(Range), "init", this).call(this, this, els, options);
      }

      /**
       * Get Instance
       */

    }, {
      key: "getInstance",
      value: function getInstance(el) {
        var domElem = !!el.jquery ? el[0] : el;
        return domElem.M_Range;
      }
    }, {
      key: "defaults",
      get: function () {
        return _defaults;
      }
    }]);

    return Range;
  }(Component);

  M.Range = Range;

  if (M.jQueryLoaded) {
    M.initializeJqueryWrapper(Range, 'range', 'M_Range');
  }

  Range.init($('input[type=range]'));
})(cash, M.anime);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2), __webpack_require__(2), __webpack_require__(6)))

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RTCClient; });
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }



console.log('agora sdk version: ' + agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.VERSION + ' compatible: ' + agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.checkSystemRequirements());

var RTCClient = /*#__PURE__*/function () {
  function RTCClient() {
    _classCallCheck(this, RTCClient);

    this._client = null;
    this._joined = false;
    this._published = false;
    this._localStream = null;
    this._remoteStreams = [];
    this._params = {};
    this._showProfile = false;
  }

  _createClass(RTCClient, [{
    key: "handleEvents",
    value: function handleEvents() {
      var _this = this;

      this._client.on('error', function (err) {
        console.log(err);
      }); // Occurs when the peer user leaves the channel; for example, the peer user calls Client.leave.


      this._client.on('peer-leave', function (evt) {
        var id = evt.uid;

        var streams = _this._remoteStreams.filter(function (e) {
          return id !== e.getId();
        });

        var peerStream = _this._remoteStreams.find(function (e) {
          return id === e.getId();
        });

        peerStream && peerStream.stop();
        _this._remoteStreams = streams;

        if (id !== _this._params.uid) {
          Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        }

        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('peer leave');
        console.log('peer-leave', id);
      }); // Occurs when the local stream is _published.


      this._client.on('stream-published', function () {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('stream published success');
        console.log('stream-published');
      }); // Occurs when the remote stream is added.


      this._client.on('stream-added', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-added uid: ' + id);

        if (id !== _this._params.uid) {// this._client.subscribe(remoteStream, (err) => {
          //   console.log('stream subscribe failed', err)
          // })
        }

        console.log('stream-added remote-uid: ', id);
      }); // Occurs when a user subscribes to a remote stream.


      this._client.on('stream-subscribed', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();

        _this._remoteStreams.push(remoteStream);

        Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* addView */ "b"])(id, _this._showProfile);
        remoteStream.play('remote_video_' + id, {
          fit: 'cover'
        });
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-subscribed remote-uid: ' + id);
        console.log('stream-subscribed remote-uid: ', id);
      }); // Occurs when the remote stream is removed; for example, a peer user calls Client.unpublish.


      this._client.on('stream-removed', function (evt) {
        var remoteStream = evt.stream;
        var id = remoteStream.getId();
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('stream-removed uid: ' + id);
        remoteStream.stop();
        _this._remoteStreams = _this._remoteStreams.filter(function (stream) {
          return stream.getId() !== id;
        });
        Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        console.log('stream-removed remote-uid: ', id);
      });

      this._client.on('onTokenPrivilegeWillExpire', function () {
        // After requesting a new token
        // this._client.renewToken(token);
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('onTokenPrivilegeWillExpire');
        console.log('onTokenPrivilegeWillExpire');
      });

      this._client.on('onTokenPrivilegeDidExpire', function () {
        // After requesting a new token
        // client.renewToken(token);
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('onTokenPrivilegeDidExpire');
        console.log('onTokenPrivilegeDidExpire');
      });
    }
  }, {
    key: "join",
    value: function join(data) {
      var _this2 = this;

      return new Promise(function (resolve) {
        if (_this2._joined) {
          _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your already joined');
          return;
        }
        /**
         * A class defining the properties of the config parameter in the createClient method.
         * Note:
         *    Ensure that you do not leave mode and codec as empty.
         *    Ensure that you set these properties before calling Client.join.
         *  You could find more detail here. https://docs.agora.io/en/Video/API%20Reference/web/interfaces/agorartc.clientconfig.html
        **/


        _this2._client = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.createClient({
          mode: data.mode,
          codec: data.codec
        });
        _this2._params = data; // handle AgoraRTC client event

        _this2.handleEvents(); // init client


        _this2._client.init(data.appID, function () {
          console.log('init success');
          /**
           * Joins an AgoraRTC Channel
           * This method joins an AgoraRTC channel.
           * Parameters
           * tokenOrKey: string | null
           *    Low security requirements: Pass null as the parameter value.
           *    High security requirements: Pass the string of the Token or Channel Key as the parameter value. See Use Security Keys for details.
           *  channel: string
           *    A string that provides a unique channel name for the Agora session. The length must be within 64 bytes. Supported character scopes:
           *    26 lowercase English letters a-z
           *    26 uppercase English letters A-Z
           *    10 numbers 0-9
           *    Space
           *    "!", "#", "$", "%", "&", "(", ")", "+", "-", ":", ";", "<", "=", ".", ">", "?", "@", "[", "]", "^", "_", "{", "}", "|", "~", ","
           *  uid: number | null
           *    The user ID, an integer. Ensure this ID is unique. If you set the uid to null, the server assigns one and returns it in the onSuccess callback.
           *   Note:
           *      All users in the same channel should have the same type (number) of uid.
           *      If you use a number as the user ID, it should be a 32-bit unsigned integer with a value ranging from 0 to (232-1).
          **/

          _this2._client.join(data.token ? data.token : null, data.channel, data.uid ? +data.uid : null, function (uid) {
            _this2._params.uid = uid;
            _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('join channel: ' + data.channel + ' success, uid: ' + uid);
            console.log('join channel: ' + data.channel + ' success, uid: ' + uid);
            _this2._joined = true; // start stream interval stats
            // if you don't need show stream profile you can comment this

            if (!_this2._interval) {
              _this2._interval = setInterval(function () {
                _this2._updateVideoInfo();
              }, 0);
            } // create local stream


            _this2._localStream = agora_rtc_sdk__WEBPACK_IMPORTED_MODULE_0___default.a.createStream({
              streamID: _this2._params.uid,
              audio: false,
              video: true,
              screen: false,
              // microphoneId: data.microphoneId,
              cameraId: data.cameraId
            });

            _this2._localStream.on('player-status-change', function (evt) {
              console.log('player status change', evt);
            });

            if (data.cameraResolution && data.cameraResolution != 'default') {
              // set local video resolution
              _this2._localStream.setVideoProfile(data.cameraResolution);
            } // init local stream


            _this2._localStream.init(function () {
              console.log('init local stream success'); // play stream with html element id "local_stream"

              _this2._localStream.play('local_stream', {
                fit: 'cover'
              }); // run callback


              resolve();
            }, function (err) {
              _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('stream init failed, please open console see more detail');
              console.error(err);
            });
          }, function (err) {
            _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('client join failed, please open console see more detail');
            console.error(err);
          });
        }, function (err) {
          _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('client init failed, please open console see more detail');
          console.error(err);
        });
      });
    }
  }, {
    key: "publish",
    value: function publish() {
      var _this3 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First');
        return;
      }

      if (this._published) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your already published');
        return;
      }

      var oldState = this._published; // publish localStream

      this._client.publish(this._localStream, function (err) {
        _this3._published = oldState;
        console.log('publish failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('publish failed');
        console.error(err);
      });

      _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('publish');
      this._published = true;
    }
  }, {
    key: "unpublish",
    value: function unpublish() {
      var _this4 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First');
        return;
      }

      if (!this._published) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Your didn\'t publish');
        return;
      }

      var oldState = this._published;

      this._client.unpublish(this._localStream, function (err) {
        _this4._published = oldState;
        console.log('unpublish failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('unpublish failed');
        console.error(err);
      });

      _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].info('unpublish');
      this._published = false;
    }
  }, {
    key: "leave",
    value: function leave() {
      var _this5 = this;

      if (!this._client) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('Please Join First!');
        return;
      }

      if (!this._joined) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('You are not in channel');
        return;
      } // leave channel


      this._client.leave(function () {
        // close stream
        _this5._localStream.close();

        $('#local_video_info').addClass('hide'); // stop stream

        _this5._localStream.stop();

        for (var i = 0; i < _this5._remoteStreams.length; i++) {
          var stream = _this5._remoteStreams.shift();

          var id = stream.getId();
          stream.stop();
          Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* removeView */ "d"])(id);
        }

        _this5._localStream = null;
        _this5._remoteStreams = [];
        _this5._client = null;
        console.log('client leaves channel success');
        _this5._published = false;
        _this5._joined = false;
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('leave success');
      }, function (err) {
        console.log('channel leave failed');
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('leave success');
        console.error(err);
      });
    }
  }, {
    key: "_getLostRate",
    value: function _getLostRate(lostPackets, arrivedPackets) {
      var lost = lostPackets ? +lostPackets : 0;
      var arrived = arrivedPackets ? +arrivedPackets : 0;
      if (arrived == 0) return 0;
      var result = (lost / (lost + arrived)).toFixed(2) * 100;
      return result;
    }
  }, {
    key: "_updateVideoInfo",
    value: function _updateVideoInfo() {
      var _this6 = this;

      this._localStream && this._localStream.getStats(function (stats) {
        var localStreamProfile = [['Uid: ', _this6._localStream && _this6._localStream.getId()].join(''), ['SDN access delay: ', stats.accessDelay, 'ms'].join(''), ['Video send: ', stats.videoSendFrameRate, 'fps ', stats.videoSendResolutionWidth + 'x' + stats.videoSendResolutionHeight].join('')].join('<br/>');
        $('#local_video_info')[0].innerHTML = localStreamProfile;
      });

      if (this._remoteStreams.length > 0) {
        var _iterator = _createForOfIteratorHelper(this._remoteStreams),
            _step;

        try {
          var _loop = function _loop() {
            var remoteStream = _step.value;
            remoteStream.getStats(function (stats) {
              var remoteStreamProfile = [['Uid: ', remoteStream.getId()].join(''), ['SDN access delay: ', stats.accessDelay, 'ms'].join(''), ['End to end delay: ', stats.endToEndDelay, 'ms'].join(''), ['Video recv: ', stats.videoReceiveFrameRate, 'fps ', stats.videoReceiveResolutionWidth + 'x' + stats.videoReceiveResolutionHeight].join('')].join('<br/>');

              if ($('#remote_video_info_' + remoteStream.getId())[0]) {
                $('#remote_video_info_' + remoteStream.getId())[0].innerHTML = remoteStreamProfile;
              }
            });
          };

          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            _loop();
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
    }
  }, {
    key: "setNetworkQualityAndStreamStats",
    value: function setNetworkQualityAndStreamStats(enable) {
      this._showProfile = enable;
      this._showProfile ? $('.video-profile').removeClass('hide') : $('.video-profile').addClass('hide');
    }
  }]);

  return RTCClient;
}();


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _rtc_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);
/* harmony import */ var _assets_style_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var _assets_style_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_style_css__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);
/* harmony import */ var materialize_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(materialize_css__WEBPACK_IMPORTED_MODULE_3__);



 // import {setFormData, parseFromSearch} from './searchParam';

$(function () {
  Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* requestPermission */ "e"])(function (hasPermission) {
    if (!hasPermission) {
      _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('no camera or microphone permission!');
    }

    Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* getDevices */ "c"])(function (devices) {
      //   devices.audios.forEach(function (audio) {
      //     $('<option/>', {
      //       value: audio.value,
      //       text: audio.name,
      //     }).appendTo('#microphoneId')
      //   })
      devices.videos.forEach(function (video) {
        $('<option/>', {
          value: video.value,
          text: video.name
        }).appendTo('#cameraId');
      });
      _common__WEBPACK_IMPORTED_MODULE_1__[/* resolutions */ "f"].forEach(function (resolution) {
        $('<option/>', {
          value: resolution.value,
          text: resolution.name
        }).appendTo('#cameraResolution');
      });
      materialize_css__WEBPACK_IMPORTED_MODULE_3__["AutoInit"]();
    });
  });
  var fields = ['appID', 'channel'];
  var rtc = new _rtc_client__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]();
  $('.autoplay-fallback').on('click', function (e) {
    e.preventDefault();
    var id = e.target.getAttribute('id').split('video_autoplay_')[1];
    console.log('autoplay fallback');

    if (id === 'local') {
      rtc._localStream.resume().then(function () {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('local resume');
        $(e.target).addClass('hide');
      })["catch"](function (err) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('resume failed, please open console see more details');
        console.error(err);
      });

      return;
    }

    var remoteStream = rtc._remoteStreams.find(function (item) {
      return "".concat(item.getId()) == id;
    });

    if (remoteStream) {
      remoteStream.resume().then(function () {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].notice('remote resume');
        $(e.target).addClass('hide');
      })["catch"](function (err) {
        _common__WEBPACK_IMPORTED_MODULE_1__[/* Toast */ "a"].error('resume failed, please open console see more details');
        console.error(err);
      });
    }
  });
  $('#show_profile').on('change', function (e) {
    e.preventDefault();
    rtc.setNetworkQualityAndStreamStats(this.checked);
  });
  $('#join').on('click', function (e) {
    e.preventDefault();
    console.log('join');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* validator */ "h"])(params, fields)) {
      rtc.join(params).then(function () {
        rtc.publish();
      });
    }
  });
  $('#publish').on('click', function (e) {
    e.preventDefault();
    console.log('startLiveStreaming');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* validator */ "h"])(params, fields)) {
      rtc.publish();
    }
  });
  $('#unpublish').on('click', function (e) {
    e.preventDefault();
    console.log('stopLiveStreaming');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* validator */ "h"])(params, fields)) {
      rtc.unpublish();
    }
  });
  $('#leave').on('click', function (e) {
    e.preventDefault();
    console.log('leave');
    var params = Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* serializeFormData */ "g"])();

    if (Object(_common__WEBPACK_IMPORTED_MODULE_1__[/* validator */ "h"])(params, fields)) {
      rtc.leave();
    }
  });
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))

/***/ }),
/* 6 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXNkay9BZ29yYVJUQ1NESy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWxpemUtY3NzL2Rpc3QvanMvbWF0ZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3J0Yy1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zdHlsZS5jc3M/ZWY1MCJdLCJuYW1lcyI6WyJyZXNvbHV0aW9ucyIsIm5hbWUiLCJ2YWx1ZSIsIlRvYXN0aWZ5Iiwib3B0aW9ucyIsIk0iLCJodG1sIiwidGV4dCIsImNsYXNzZXMiLCJUb2FzdCIsImluZm8iLCJtc2ciLCJub3RpY2UiLCJlcnJvciIsInZhbGlkYXRvciIsImZvcm1EYXRhIiwiZmllbGRzIiwia2V5cyIsIk9iamVjdCIsImtleSIsImluZGV4T2YiLCJzZXJpYWxpemVGb3JtRGF0YSIsIiQiLCJzZXJpYWxpemVBcnJheSIsIm9iaiIsIml0ZW0iLCJ2YWwiLCJ1aWQiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc05hTiIsImFkZFZpZXciLCJpZCIsInNob3ciLCJhcHBlbmRUbyIsInJlbW92ZVZpZXciLCJyZW1vdmUiLCJyZXF1ZXN0UGVybWlzc2lvbiIsIm5leHQiLCJ0ZW1wQXVkaW9WaWRlb1N0cmVhbSIsIkFnb3JhUlRDIiwiY3JlYXRlU3RyZWFtIiwiYXVkaW8iLCJ2aWRlbyIsImNhbGxiYWNrIiwiaGFzUGVybWlzc2lvbiIsImNsb3NlIiwiaW5pdCIsImdldERldmljZXMiLCJpdGVtcyIsImZpbHRlciIsImtpbmQiLCJtYXAiLCJsYWJlbCIsImRldmljZUlkIiwidmlkZW9zIiwiYXVkaW9zIiwiaSIsImxlbmd0aCIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiVkVSU0lPTiIsImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzIiwiUlRDQ2xpZW50IiwiX2NsaWVudCIsIl9qb2luZWQiLCJfcHVibGlzaGVkIiwiX2xvY2FsU3RyZWFtIiwiX3JlbW90ZVN0cmVhbXMiLCJfcGFyYW1zIiwiX3Nob3dQcm9maWxlIiwib24iLCJlcnIiLCJldnQiLCJzdHJlYW1zIiwiZSIsImdldElkIiwicGVlclN0cmVhbSIsImZpbmQiLCJzdG9wIiwicmVtb3RlU3RyZWFtIiwic3RyZWFtIiwicGxheSIsImZpdCIsImRhdGEiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNyZWF0ZUNsaWVudCIsIm1vZGUiLCJjb2RlYyIsImhhbmRsZUV2ZW50cyIsImFwcElEIiwiam9pbiIsInRva2VuIiwiY2hhbm5lbCIsIl9pbnRlcnZhbCIsInNldEludGVydmFsIiwiX3VwZGF0ZVZpZGVvSW5mbyIsInN0cmVhbUlEIiwic2NyZWVuIiwiY2FtZXJhSWQiLCJjYW1lcmFSZXNvbHV0aW9uIiwic2V0VmlkZW9Qcm9maWxlIiwib2xkU3RhdGUiLCJwdWJsaXNoIiwidW5wdWJsaXNoIiwibGVhdmUiLCJhZGRDbGFzcyIsInNoaWZ0IiwibG9zdFBhY2tldHMiLCJhcnJpdmVkUGFja2V0cyIsImxvc3QiLCJhcnJpdmVkIiwicmVzdWx0IiwidG9GaXhlZCIsImdldFN0YXRzIiwic3RhdHMiLCJsb2NhbFN0cmVhbVByb2ZpbGUiLCJhY2Nlc3NEZWxheSIsInZpZGVvU2VuZEZyYW1lUmF0ZSIsInZpZGVvU2VuZFJlc29sdXRpb25XaWR0aCIsInZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHQiLCJpbm5lckhUTUwiLCJyZW1vdGVTdHJlYW1Qcm9maWxlIiwiZW5kVG9FbmREZWxheSIsInZpZGVvUmVjZWl2ZUZyYW1lUmF0ZSIsInZpZGVvUmVjZWl2ZVJlc29sdXRpb25XaWR0aCIsInZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHQiLCJlbmFibGUiLCJyZW1vdmVDbGFzcyIsImRldmljZXMiLCJmb3JFYWNoIiwicmVzb2x1dGlvbiIsInJ0YyIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJyZXN1bWUiLCJ0aGVuIiwic2V0TmV0d29ya1F1YWxpdHlBbmRTdHJlYW1TdGF0cyIsImNoZWNrZWQiLCJwYXJhbXMiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEZBO0NBRUE7O0FBRU8sSUFBTUEsV0FBVyxHQUFHLENBQ3pCO0FBQ0VDLE1BQUksRUFBRSxTQURSO0FBRUVDLE9BQUssRUFBRTtBQUZULENBRHlCLEVBS3pCO0FBQ0VELE1BQUksRUFBRSxNQURSO0FBRUVDLE9BQUssRUFBRTtBQUZULENBTHlCLEVBU3pCO0FBQ0VELE1BQUks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QXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLGFBQWEsd0JBQXdCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLGNBQWMsd0JBQXdCLGdCQUFnQix1QkFBdUIsVUFBVSxzQkFBc0IsVUFBVSxzQkFBc0IsdUJBQXVCLHVCQUF1QixVQUFVLHlCQUF5QixZQUFZLFVBQVUsT0FBTyx1QkFBdUIsVUFBVSx1QkFBdUIsUUFBUSxzQkFBc0IsUUFBUSxzQkFBc0IsT0FBTyx1QkFBdUIsUUFBUSxzQkFBc0IsWUFBWSxxQkFBcUIsV0FBVyxzQkFBc0IsU0FBUyxzQkFBc0IsY0FBYyx3QkFBd0IsYUFBYSx3QkFBd0IsY0FBYyx3QkFBd0IsV0FBVyx3QkFBd0IsY0FBYyx3QkFBd0IsZ0JBQWdCLHVCQUF1QixjQUFjLHdCQUF3QixjQUFjLHdCQUF3QixlQUFlLHdCQUF3QixVQUFVLHNCQUFzQixVQUFVLHNCQUFzQixxQkFBcUIsdUJBQXVCLFVBQVUsdUJBQXVCLGdCQUFnQix3QkFBd0IsZUFBZSxVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLGNBQWMsd0JBQXdCLFVBQVUsdUJBQXVCLFdBQVcseUJBQXlCLGlCQUFpQixVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLGNBQWMsd0JBQXdCLFdBQVcsd0JBQXdCLHdCQUF3QixVQUFVLE9BQU8sdUJBQXVCLFVBQVUsdUJBQXVCLFFBQVEsc0JBQXNCLFFBQVEsc0JBQXNCLE9BQU8sdUJBQXVCLFFBQVEsc0JBQXNCLFlBQVkscUJBQXFCLFdBQVcsc0JBQXNCLFNBQVMsc0JBQXNCLFdB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE1BQU0sS0FBMEI7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFlBQVk7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixvQkFBb0I7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLDZDQUE2QztBQUM3QztBQUNBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxZQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsSUFBSTtBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLElBQUk7O0FBRXBCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxJQUFJO0FBQzlDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRLDZCQUE2QjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGVBQWU7O0FBRWYsU0FBUzs7QUFFVDtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDLFFBQVEsb0JBQW9CO0FBQzVCLFFBQVEsc0NBQXNDO0FBQzlDLFFBQVE7QUFDUixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDZEQUE2RDs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhEQUE4RDs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsOENBQThDOztBQUU5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSxpRUFBaUUsVUFBVTtBQUMzRSxzQ0FBc0MsMkJBQTJCO0FBQ2pFO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxH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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlEQUFpRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsVUFBVSw0Q0FBNEM7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBLENBQUM7Ozs7QUFJRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQSxRQUFRLEdBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7OztBQUlBOztBQUVBOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQiwwQkFBMEIsd0JBQXdCOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSwwQ0FBMEM7QUFDMUMsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0NBQXdDLHNDQUFzQztBQUM5RSxvQ0FBb0MsdUNBQXVDO0FBQzNFLG9DQUFvQyxzQ0FBc0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQztBQUNwQyxxQ0FBcUM7QUFDckMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7O0FBS0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsYUFBYTtBQUNwQyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixTQUFTO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7QUFHQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGOztBQUVBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLCtEQUErRDtBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsY0FBYzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1Q0FBdUM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVEQUF1RDtBQUM5RTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtDQUErQztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsY0FBYyxxQ0FBcUM7QUFDbkQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztB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VyxZQUFZO0FBQ3ZDLGNBQWM7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxjQUFjO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpREFBaUQsMEJBQTBCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVB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O0FBQ0Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxpQ0FBaUM7QUFDakM7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOzs7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQUs7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQ0FBcUM7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQSxhQUFhOztBQUViOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsYUFBYSx1Q0FBdUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLHNEQUFzRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QyxjQUFjOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUssRUFBRTs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTzs7QUFFUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QztBQUM5Qzs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsS0FBSztBQUN0Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQyxPQUFPO0FBQ1A7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixNQUFNO0FBQ3ZCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHlCQUF5QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0JBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsRUFBRTtBQUNMLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0RBQW9EOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGdCQUFnQjtBQUNwRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixXQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw0QkFBNEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSCwrYkFBK2I7O0FBRS9iOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0dBQStHO0FBQy9HO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyQkFBMkIsVUFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsT0FBTztBQUMxQixvQkFBb0IsT0FBTztBQUMzQixvQkFBb0IsT0FBTztBQUMzQjs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU07QUFDdkIsa0JBQWtCLE1BQU07QUFDeEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQzs7QUFFbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTs7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RUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTTtBQUN2Qjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztB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QUNGLEdBUEQ7QUFTQW5GLEdBQUMsQ0FBQyxZQUFELENBQUQsQ0FBZ0JrRCxFQUFoQixDQUFtQixPQUFuQixFQUE0QixVQUFVSSxDQUFWLEVBQWE7QUFDdkNBLEtBQUMsQ0FBQzJELGNBQUY7QUFDQTNFLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFaO0FBQ0EsUUFBTWtGLE1BQU0sR0FBRzFILHlFQUFpQixFQUFoQzs7QUFDQSxRQUFJUCxpRUFBUyxDQUFDaUksTUFBRCxFQUFTL0gsTUFBVCxDQUFiLEVBQStCO0FBQzdCc0gsU0FBRyxDQUFDNUIsU0FBSjtBQUNEO0FBQ0YsR0FQRDtBQVNBcEYsR0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZa0QsRUFBWixDQUFlLE9BQWYsRUFBd0IsVUFBVUksQ0FBVixFQUFhO0FBQ25DQSxLQUFDLENBQUMyRCxjQUFGO0FBQ0EzRSxXQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaO0FBQ0EsUUFBTWtGLE1BQU0sR0FBRzFILHlFQUFpQixFQUFoQzs7QUFDQSxRQUFJUCxpRUFBUyxDQUFDaUksTUFBRCxFQUFTL0gsTUFBVCxDQUFiLEVBQStCO0FBQzdCc0gsU0FBRyxDQUFDM0IsS0FBSjtBQUNEO0FBQ0YsR0FQRDtBQVFELENBcEdBLENBQUQsQzs7Ozs7OztBQ05BOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1Qzs7Ozs7OztBQ25CQSx1QyIsImZpbGUiOiJpbmRleC5lNWI0YjY4ZmJiMmY3MmIzMmI5Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsImltcG9ydCBBZ29yYVJUQyBmcm9tICdhZ29yYS1ydGMtc2RrJ1xuaW1wb3J0ICogYXMgTSBmcm9tICdtYXRlcmlhbGl6ZS1jc3MnXG4vLyBpbXBvcnQgeyByZXBsYWNlU2VhcmNoU3RyaW5nLCBzdHJpbmdpZnkgfSBmcm9tICcuL3NlYXJjaFBhcmFtJ1xuXG5leHBvcnQgY29uc3QgcmVzb2x1dGlvbnMgPSBbXG4gIHtcbiAgICBuYW1lOiAnZGVmYXVsdCcsXG4gICAgdmFsdWU6ICdkZWZhdWx0JyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICc0ODBwJyxcbiAgICB2YWx1ZTogJzQ4MHAnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJzcyMHAnLFxuICAgIHZhbHVlOiAnNzIwcCcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnMTA4MHAnLFxuICAgIHZhbHVlOiAnMTA4MHAnXG4gIH1cbl1cblxuZnVuY3Rpb24gVG9hc3RpZnkgKG9wdGlvbnMpIHtcbiAgTS50b2FzdCh7aHRtbDogb3B0aW9ucy50ZXh0LCBjbGFzc2VzOiBvcHRpb25zLmNsYXNzZXN9KVxufVxuXG5leHBvcnQgY29uc3QgVG9hc3QgPSB7XG4gIGluZm86IChtc2cpID0+IHtcbiAgICBUb2FzdGlmeSh7XG4gICAgICB0ZXh0OiBtc2csXG4gICAgICBjbGFzc2VzOiAnaW5mby10b2FzdCdcbiAgICB9KVxuICB9LFxuICBub3RpY2U6IChtc2cpID0+IHtcbiAgICBUb2FzdGlmeSh7XG4gICAgICB0ZXh0OiBtc2csXG4gICAgICBjbGFzc2VzOiAnbm90aWNlLXRvYXN0J1xuICAgIH0pXG4gIH0sXG4gIGVycm9yOiAobXNnKSA9PiB7XG4gICAgVG9hc3RpZnkoe1xuICAgICAgdGV4dDogbXNnLFxuICAgICAgY2xhc3NlczogJ2Vycm9yLXRvYXN0J1xuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRvcihmb3JtRGF0YSwgZmllbGRzKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmb3JtRGF0YSlcbiAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoZmllbGRzLmluZGV4T2Yoa2V5KSAhPSAtMSkge1xuICAgICAgaWYgKCFmb3JtRGF0YVtrZXldKSB7XG4gICAgICAgIFRvYXN0LmVycm9yKCdQbGVhc2UgRW50ZXIgJyArIGtleSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVGb3JtRGF0YSgpIHtcbiAgY29uc3QgZm9ybURhdGEgPSAkKCcjZm9ybScpLnNlcmlhbGl6ZUFycmF5KClcbiAgY29uc3Qgb2JqID0ge31cbiAgZm9yICh2YXIgaXRlbSBvZiBmb3JtRGF0YSkge1xuICAgIHZhciBrZXkgPSBpdGVtLm5hbWVcbiAgICB2YXIgdmFsID0gaXRlbS52YWx1ZVxuICAgIG9ialtrZXldID0gdmFsXG4gIH1cbiAgaWYgKG9iai51aWQgIT0gdW5kZWZpbmVkXG4gICAgJiYgIU51bWJlci5pc05hTigrb2JqLnVpZCkpIHtcbiAgICBvYmoudWlkID0gK29iai51aWRcbiAgfVxuICByZXR1cm4gb2JqXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRWaWV3IChpZCwgc2hvdykge1xuICBpZiAoISQoJyMnICsgaWQpWzBdKSB7XG4gICAgJCgnPGRpdi8+Jywge1xuICAgICAgaWQ6ICdyZW1vdGVfdmlkZW9fcGFuZWxfJyArIGlkLFxuICAgICAgY2xhc3M6ICd2aWRlby12aWV3JyxcbiAgICB9KS5hcHBlbmRUbygnI3ZpZGVvJylcblxuICAgICQoJzxkaXYvPicsIHtcbiAgICAgIGlkOiAncmVtb3RlX3ZpZGVvXycgKyBpZCxcbiAgICAgIGNsYXNzOiAndmlkZW8tcGxhY2Vob2xkZXInLFxuICAgIH0pLmFwcGVuZFRvKCcjcmVtb3RlX3ZpZGVvX3BhbmVsXycgKyBpZClcblxuICAgICQoJzxkaXYvPicsIHtcbiAgICAgIGlkOiAncmVtb3RlX3ZpZGVvX2luZm9fJyArIGlkLFxuICAgICAgY2xhc3M6ICd2aWRlby1wcm9maWxlICcgKyAoc2hvdyA/ICcnIDogICdoaWRlJyksXG4gICAgfSkuYXBwZW5kVG8oJyNyZW1vdGVfdmlkZW9fcGFuZWxfJyArIGlkKVxuXG4gICAgJCgnPGRpdi8+Jywge1xuICAgICAgaWQ6ICd2aWRlb19hdXRvcGxheV8nKyBpZCxcbiAgICAgIGNsYXNzOiAnYXV0b3BsYXktZmFsbGJhY2sgaGlkZScsXG4gICAgfSkuYXBwZW5kVG8oJyNyZW1vdGVfdmlkZW9fcGFuZWxfJyArIGlkKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWaWV3IChpZCkge1xuICBpZiAoJCgnI3JlbW90ZV92aWRlb19wYW5lbF8nICsgaWQpWzBdKSB7XG4gICAgJCgnI3JlbW90ZV92aWRlb19wYW5lbF8nK2lkKS5yZW1vdmUoKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0UGVybWlzc2lvbihuZXh0KSB7XG4gIGNvbnN0IHRlbXBBdWRpb1ZpZGVvU3RyZWFtID0gQWdvcmFSVEMuY3JlYXRlU3RyZWFtKHsgYXVkaW86IHRydWUsIHZpZGVvOiB0cnVlIH0pXG4gIGNvbnN0IGNhbGxiYWNrID0gZnVuY3Rpb24gKGhhc1Blcm1pc3Npb24pIHtcbiAgICB0ZW1wQXVkaW9WaWRlb1N0cmVhbS5jbG9zZSgpXG4gICAgbmV4dChoYXNQZXJtaXNzaW9uKVxuICB9XG4gIHRlbXBBdWRpb1ZpZGVvU3RyZWFtLmluaXQoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKHRydWUpXG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayhmYWxzZSlcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERldmljZXMgKG5leHQpIHtcbiAgQWdvcmFSVEMuZ2V0RGV2aWNlcyhmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBbJ2F1ZGlvaW5wdXQnLCAndmlkZW9pbnB1dCddLmluZGV4T2YoaXRlbS5raW5kKSAhPT0gLTFcbiAgICB9KVxuICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGl0ZW0ubGFiZWwsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uZGV2aWNlSWQsXG4gICAgICAgICAga2luZDogaXRlbS5raW5kLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIHZhciB2aWRlb3MgPSBbXVxuICAgIHZhciBhdWRpb3MgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gaXRlbXNbaV1cbiAgICAgIGlmICgndmlkZW9pbnB1dCcgPT0gaXRlbS5raW5kKSB7XG4gICAgICAgIHZhciBuYW1lID0gaXRlbS5sYWJlbFxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtLmRldmljZUlkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgIG5hbWUgPSAnY2FtZXJhLScgKyB2aWRlb3MubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgICAgdmlkZW9zLnB1c2goe1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIGtpbmQ6IGl0ZW0ua2luZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKCdhdWRpb2lucHV0JyA9PSBpdGVtLmtpbmQpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBpdGVtLmxhYmVsXG4gICAgICAgIGxldCB2YWx1ZSA9IGl0ZW0uZGV2aWNlSWRcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgbmFtZSA9ICdtaWNyb3Bob25lLScgKyBhdWRpb3MubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgICAgYXVkaW9zLnB1c2goe1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIGtpbmQ6IGl0ZW0ua2luZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHt2aWRlb3M6IHZpZGVvcywgYXVkaW9zOiBhdWRpb3N9KVxuICB9KVxufSIsIi8qISBBZ29yYVJUQ3xCVUlMRCB2My42LjktMC1nMzEwNzEyMCAqL1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJBZ29yYVJUQ1wiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQWdvcmFSVEM9dCgpOmUuQWdvcmFSVEM9dCgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBpPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIGkgaW4gZSluLmQocixpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9OTYpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgcixpPW4oMTEpLG89bi5uKGkpLGE9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gZS50b1RpbWVTdHJpbmcoKS5zcGxpdChcIiBcIilbMF0rXCI6XCIrZS5nZXRNaWxsaXNlY29uZHMoKX0scz1uKDE0KSxjPW4oMiksZD1uKDEpLHU9big0OCksbD1uLm4odSksZj1uKDQ5KSxwPW4ubihmKSxnPW5ldyBBcnJheSgzMikuZmlsbCh2b2lkIDApO2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGdbZV19Zy5wdXNoKHZvaWQgMCxudWxsLCEwLCExKTt2YXIgaD1nLmxlbmd0aDtmdW5jdGlvbiB2KGUpe3ZhciB0PW0oZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2U8MzZ8fChnW2VdPWgsaD1lKX0oZSksdH12YXIgRT1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiLHtpZ25vcmVCT006ITAsZmF0YWw6ITB9KTtFLmRlY29kZSgpO3ZhciBTPW51bGw7ZnVuY3Rpb24gXygpe3JldHVybiBudWxsIT09UyYmUy5idWZmZXI9PT1yLm1lbW9yeS5idWZmZXJ8fChTPW5ldyBVaW50OEFycmF5KHIubWVtb3J5LmJ1ZmZlcikpLFN9ZnVuY3Rpb24geShlLHQpe3JldHVybiBFLmRlY29kZShfKCkuc3ViYXJyYXkoZSxlK3QpKX1mdW5jdGlvbiBSKGUpe2g9PT1nLmxlbmd0aCYmZy5wdXNoKGcubGVuZ3RoKzEpO3ZhciB0PWg7cmV0dXJuIGg9Z1t0XSxnW3RdPWUsdH12YXIgVD0wLEk9bmV3IFRleHRFbmNvZGVyKFwidXRmLThcIiksYj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBJLmVuY29kZUludG8/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSS5lbmNvZGVJbnRvKGUsdCl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49SS5lbmNvZGUoZSk7cmV0dXJuIHQuc2V0KG4pLHtyZWFkOmUubGVuZ3RoLHdyaXR0ZW46bi5sZW5ndGh9fTt2YXIgQT1udWxsO2Z1bmN0aW9uIE8oKXtyZXR1cm4gbnVsbCE9PUEmJkEuYnVmZmVyPT09ci5tZW1vcnkuYnVmZmVyfHwoQT1uZXcgSW50MzJBcnJheShyLm1lbW9yeS5idWZmZXIpKSxBfXZhciBDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2woKSh0aGlzLGUpfXJldHVybiBwKCkoZSxbe2tleTpcImZyZWVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHRyO3RoaXMucHRyPTAsci5fX3diZ19zaWdubWFuYWdlcl9mcmVlKGUpfX0se2tleTpcImdldF9kaWdlc3RcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdihyLnNpZ25tYW5hZ2VyX2dldF9kaWdlc3QodGhpcy5wdHIsUihlKSkpfX1dLFt7a2V5OlwiX193cmFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSk7cmV0dXJuIG4ucHRyPXQsbn19LHtrZXk6XCJuZXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXIuc2lnbm1hbmFnZXJfbmV3KCk7cmV0dXJuIGUuX193cmFwKHQpfX1dKSxlfSgpLE49ITEsdz1udWxsO3ZhciBMLEQ9MCxrPVwiZnJlZVwiLE09W10sUD1bXSx4PTA7KHc/UHJvbWlzZS5yZXNvbHZlKHcpOm5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtOfHxyfHxmdW5jdGlvbiBlKCl7dmFyIHQ9e3diZzp7fX07dC53YmcuX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWY9ZnVuY3Rpb24oZSl7dihlKX0sdC53YmcuX193YmluZGdlbl9zdHJpbmdfbmV3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFIoeShlLHQpKX0sdC53YmcuX193YmluZGdlbl9zdHJpbmdfZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KSxpPVwic3RyaW5nXCI9PXR5cGVvZiBuP246dm9pZCAwLG89bnVsbD09aT8wOmZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1uKXt2YXIgcj1JLmVuY29kZShlKSxpPXQoci5sZW5ndGgpO3JldHVybiBfKCkuc3ViYXJyYXkoaSxpK3IubGVuZ3RoKS5zZXQociksVD1yLmxlbmd0aCxpfWZvcih2YXIgbz1lLmxlbmd0aCxhPShpPXQobyksXygpKSxzPTA7czxvO3MrKyl7dmFyIGM9ZS5jaGFyQ29kZUF0KHMpO2lmKGM+MTI3KWJyZWFrO2FbaStzXT1jfWlmKHMhPT1vKXswIT09cyYmKGU9ZS5zbGljZShzKSksaT1uKGksbyxvPXMrMyplLmxlbmd0aCk7dmFyIGQ9XygpLnN1YmFycmF5KGkrcyxpK28pO3MrPWIoZSxkKS53cml0dGVufXJldHVybiBUPXMsaX0oaSxyLl9fd2JpbmRnZW5fbWFsbG9jLHIuX193YmluZGdlbl9yZWFsbG9jKSxhPVQ7TygpW2UvNCsxXT1hLE8oKVtlLzQrMF09b30sdC53YmcuX193YmluZGdlbl90aHJvdz1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcih5KGUsdCkpfTtmb3IodmFyIG49VWludDhBcnJheS5mcm9tKGF0b2IoXCI1NVpCZ00vMkJ6bTJKR2hObi8vbGpKc1NvcmhXVVlFNjZhMUhmOE83cGZRR1IyemZvbDhxUlA2Q0Roc2kzaUc3bkZadTlzdFN5UHEvcXUyUnIydzhRa1RHUDZHbTJjZzNKNXFzUWdxNWJjSEE5bURwR3YvYjI0dUV3c2l4WlZsMWVHa2RWNFNCLzZheXcydjQ4aExtTkErdzVVbG5UQ2lXd2VyekVTUVBpZHBTVU1iYW1YTDNwVTgxNUVRbTEyR2hoWjlhV3pvNTY4Z2RadlhldkJjL1dIZkZLUVN1VGdXdmE0ZTRlU21XN1V4cEg4c1k0SGxEc0NUTXUwV3dFQjhCOTVYc1p3T3AzR0xnZk9RbUpCdzAzNkRnSUtVK1hHbjRLcElFcTc3V0UvaDZSN3NaS3NGVXArdSsyY0RuVzdJUE5lN3hmZDlhcmVGbzBFVWgwLzlLOUNxeFVrTHFNQjVobGdTMWZ3UUhSektQaFE3Z0FMeWM2SHdNQ1Bvb1MwTTFOcnpqZGZIM3ZVbjBQZVExR0JsbnJuWGdpdThUdW5mSGc1VGNiQmZQRWJ4YnlpaW93MU5wK1ZFQmxITmgwMFBpQVd5dTAyNE5IYVBiREdmTXR6dTRXRjAyZmdraDhQeGI3YkNTcENabmRqVHl0UWdBemZaeGsyYmJlNk5vSEhGbnN2aXFZekhWcHhvUEVrN2ljSFJXY1pDMjhkMm11dGhxNjczS0NNUWF5MWZKY1BxU1R1WWhXVVpTNWV5bElndVQzM2xQK1RCYk9XUUk4S3RDekJONUZ6cUlMZkt6Umt6ckozTDE5MkJVRjhTSUxkd21yaXYxMEhVOVpsUUF5UUExVmRlZ256T2wvZFlrMkdHc0IzNzI0eTd3LzdhSkxISnpFZndyZkl6RmQ1Q29BZnQ3Y3QrelFXMkc0V20ya3BvejZ1SmZnck55eWtRZ3dDTzZwa1B5MUFEckJVdUpvbjl5U2poZ2NGcnU2QUthOTl3VGxJaHpCdzNGS0Z0OUFhMS8xS1dXeTdXMXdBSUd6UlRzLzdyTFhSa0tGak5xR1ZYQmRvVk5UcEhGdGZFRnN1WDBYOThJU3IwQmVubmx4MGgyWWwvQ0dOYjVLYzdpM2JpbzFYSkhYMjRhdmNNc0VBd2ZkZnNrQ2tpNC9ka1N0bjdRQzk3WUpDM3orN2dEODRJaUVFZUdjbm43Z0hKeWVBTHIwc3NicURVY0txeEV5aGV5RnM5RlRvSnppTEIrZVl3Nm5NUUxtWVRyUXlyZzNiKzNZQmRneDdwek5FRFN5ejN0bWFQYWlrd2NMU3lCL0lnbzZVL29QL2ZTMlRaTHRtTjAzbTRpUzc2WXJESkFnSSsyVzFHYm9hYnVpeFZjTGR4bTZTUTRDelVuSFNQbDFrbmhjR2hXLytPY0thNTN0QjVqNUM0d0VwaUVOdjZUOVBVdTRLMFl3dEVBcUZiZC9lTjJ3VkFZQ0tuL25sVkE4dWlFU3hDZmdzMDQxMW1SRms0aTFwaXhKTFBQNUFGUEc5UUZabmo2WDE5VHFtaG1JaGw4RDZRMXJPdlBDcVBaVi96MDRIamF5WDRxUHpQelAvNU5WaWxOL3NIaFFlN3VscmlHbVUvM3JqNVFFdWlPeW1zTDdFZENRTWMvNG1YRFBkVnJEQmZidDZkbnYxMW9MWUdtcU9QMW9TQmowMkZ0c21Zck1uOXBSZzdISm9DaDg2akFuenVPWW40dEduUTRndy84OXNiNjROQVhjb0liVElqeWlIQkFRQ0NLMlluNEkvZk5GMTBya1FsdlN2a3BxTEcyZVlwSm1wV3Jjb3VOREVVdEpGUjYwN29OcmFMZG1VS3lMYzFnN1NOcFMrb2ZwMUZMNnJ1YS9IRlNyYjVrVEYyVmN5MmdsKzZNQUNiRlJDaEtvUC91bjdJYllKdU9pbWEvSldGWmNzL01Yb2tJeCtpanVxak10VkthWVJUek5JNW5jUGEyeS9FWFROZFVVRnBNaGJFN3NhMzlVb2g2SGNpL3ZpWHkyS0ZUTmJpdytCa1dPUG55T3IwNExqSVlLbEo4dWQvS3ZqdXZOVUdRT0hKdmo2dHBaSnhqOTd0cjBPcmdaQ0F4U0hHVTVKUWZxRWQvVTBRZnpHTThXaDN6ZHNuZDlMaG9JSVJKQXR5QTJQbWp3Sms0elR4ZVlsZ3dQcUFWVFUzKzliQTFRRCtqTFpaM0ZmazNNUnErQXIyUlQ4WU42QVNSNGJJdHQzb21CajBMSmUwemVHWTNPemZobGpMNkxBMW00K0lVcCtDemVXbzBhRWpudlJrM2lDSmVhamdkQytOVUdCNXFoOFBXS3RCZUM1OHdvYXZuUmp2Uk5waFhTNGI5TTdBeW1jZnEyNkIyWVkybFMrd0xmNzYzT25HSmxWZFYvc3JneUFVSkpaamFyeG9tNHpyWXkyM2tMRkI4ekZ6V3V3U011ZTVYbTFZV2FwZTkxSkdEdVJMSWN0ckpXVTQ3L1hmTG02WmdlaTR4T3dxMVJjamlrR3VhWnREd2NGZzlhS3RPK0pPR0pzQ2p5OUFpUG5tdCtybWRYODNHc1QzS3RURVRuTHY2WlFjbkd0bXQ0SDhBakZnR1llUGRRYzQwY2o4VkFPVjhOQ0xzcHlXNXc2M2IzZzM3R1hKcnpqbTlGeW0zZmgyN3Bzam81UnVUczdYQ1NyTkVOeEttOWpDY1hQcVd4eXVYSlNuNmRoZFdudzVTQW5Vaml4WHZpV1M0SHNuWWp3NFh0NGNTd2txQ0I5bmFMc3RWWHQ1RDJIZ0c0ZnpIRk5Idm5FVGZ0MG1yaFU4MUlCRFRTeU5GZER2RkVYOGNpZm9jNkZjTnE3cHpYbG90bDJaUzFGSXpOWGRkWnJkWHBCTllaUFY1Mmd0Q29rNmVQcFVSL1k4anlKcEU5UDNxOGRtRlZpdlZHZ21LVGNCS01ERGJ6ZU9mbDRNcE9HQnRCWC9MYWIva3pxRzQyc1R5T3lHVXlPb0ZYWUdNVVdKMzNHUEkyS05hL21XOHpWbCtpbXNoZmJqN1BpSzFxUlVuNzRLakFrSDR3aktudTUwQU9OWVVhaXZlU2R3bkVjMXpDalpTSjNkbUJLU3hoV0FjTzJQZEhCZzVtOStKQ2lQR0NWZks5ZHpvTThCbTd4eDlub0ppcXQ0aE5pVmE1ZGkxRmQxSlJONHJuZDFEYktnbEtwQVZTb3F2SlB4bXV5SDU2VEZFNEJRamhmS2JETVplelFKcXgrS1hEaVcxSldHZURZYVBWQldQWWVaWDZTVEl6Qy9EalM3VUZscW9LZ0dHQUdQMTd4OHdtTVJFNk8vYXhHNWpEemxvQ0d4Q21yeW1UMFpHQ2g0ZzU0TzFpRFlVdG1KcjdCbzFkK0g5UlFqMlkxMEJ4Y01rTEZUSVpWam05ZTN2dEliZVJ4ME9kWEUxT3UzN0ovV2VKWnlQWG4xZnN6dnAvS29uQ3FWbnQ4NjJMcnhmb0IvMHNGNWdrNFkvZjZMVm5lVTVodW45L1YxT1ZyZTlYcm5EQmhjVmFRYTlZZTZnczhzSFc5SENOY2hhRmJrVXB4U2l5eFZFRlpJbGJlamJqU1BGbGtZT0xodFFIZHV3WldSSFdBOWFrcXlrSk5HM1BLdk9aQWFKRzVuV1FxOCtlNEswSkYvQVhUS0lJcjRKN3pEdDhaUjR4YjlUMmd4amwxbmZxemlkTVJJWTVCNHJrdzBvZXR0YStqOHJxa0ZwVEVHQStoVS90dzdiRHRwa1BZdkNndXduY25DandVTE5GVDlJOWpYeDNINFdzM1dXTUNpdDI5RjdrR3EyS2ErclUvTWpudVAwbHNYa29CMXJyOExhd0hINWdhZjhyYWpxL0JoS3JHVElmakRpWkc1cXorTDdTWkJac01TWlo5cE0xUWhLanUrR1REOWlDKzlIbGhmWE10ajk0Z3o4VTRoN2VHWHppRU83bG83THdMTDYvRFZNckdia3Y2OEpZVVloR3oyeUJtLzhjYlFFaDV2aGFrYmhtcHYxSzZYWU05cnpkc2Q5YndZY1l0M2NmS0UzbSsvTnJVYTQyK1JwSkJkRmc3Y0FteHNaNy8wVE15Vnc2QXF1Mmd6bGRiMmFnNGlMclBORXlXMXl3YUoyRFhNZ1BpL3NqbkR6aHVvK3ZJVXJjODZqNFpMaFQ0R0FONnVxd2JuWHE1VUR6WDdUZnVCNDhvTXZ2RTFzSzVxNm93a2RXZmtsZ25DNnBTQnBLN3dsK2Uza3V2YVluR1JHSkpNQlF1VmdXTDFhd0hyVnRmT1RzU0UxdmMwWmRHK2EvSmJ6YTZwSGJ5Zmk1TDdGWEpBR2RRVGswRVAzVlQ1NCtGN1JaL01KOWZqNTZhTXh6aEpSd1FKNmRmM2NNMjZxU2M1YlcvelAzUEZYeXBUT0J3ekN2VnR3R1F6a0d2RFc3WEd3Z0xiVE5IRHBRWE9kMkJRNVpkOWJqUXFHZytTK2tJcVdaVlpDcVZMZnlGUEY5YkVPSGZQZXBMNm5SREpVRDJsNXVSblhxZVR2aWRhU0lvcVMxRmJjNm1MUHRZbmJwNnV1dHM2UW84VGJNekZ1STdOdWFQdUtuUUl5VnU3dlVHSjhqZzF1Vk9qbE1OS2RWdExQcjkvWkVLVlpWajdsc0ZBK25tM3pSampyMURSS2hyL3dZMUNJMWlYS1ZUZVFaMGkyUFNuTjk5ajRpVlRTd05BWVFMV1dEK0t5Wi94UkxWeG1aUVB1U2tMZUtCUkFrYXZ4alduSUZRYjFkbjcyd01TVWRjQjljTkNOSk5keVRrcmw0NE1SUitwVXVpVnJUQW5UbHpMMzNYMzJlRVl3VCt2bjU2NHl4RkpMVUR5SU1OakowbngrR3JlS1NPZ2xJMmV0MGtBd1JIS1lGY2xIOUdWVGlWbEIwVFdlVUpHRCs3SllvZ0Y3Qml6alRHeVBPVUVXUUNndUlFbXRDNGZIRDU0NjFUODBaM01wN3JoTlRJK0Nzd3VrbnI5aHJJWm1wUnlGU3JTclA4UjRTMUNmMzRUdTRSTnJEeHBvZlZLOW5HVGtsWlBzWU02ZWlQMjlMeDI2NGZzWDlvTGRZaHE3dkN3Y3JSTUoxYTVkMFFIWFVZUlY1SXFURkJvVVNweGtRNklISEw4Y2tNNE5DendrOEswQ0EzcGo1SnAyYTl3WmpmS3E3Ui9ldWt6UUZ1aE14VjJxZ0hmMkUzdDcvU0E4TjdzTXZzbUYwcDNKOTZRUkUzckE4NWVrSDFxOG5yQlZ1amxJcWFobUwwUXRvMytKeGRxQWZuS01DYmxRR1NLVldaZ1dMTW04Mk1HLzlwamhka016RzdDMkdSTEdNdHkyeThOaFgxcFpXSE5iTE9tdmFDNDI0TE56L05sNXRrUHY3ZlZiQ1QySXRCKy9keDNaaFZobWdTTGQxekwrMlBzTkZtajdWR0JydVR0dGV6bG8xbURLRXJqWTI3blRzd2pmMmZZL1VxOGxQY1ZBZ1JwSk0rbTdqUy84ZGs4Y2RsN2ZrWTdUdWo0VGZpU2UwdGlOU29KZ1p3b200KzloYW9CUTY1QWlmYUI3cFVpVGMwTUFYQ3ZHK25EeWRrUkliS3g1Zkw2Z0FseU1BbkJiUWYrUWgxbmFMZnp6d0xWVFAwRUV5b2VuVzJXMXpLcWZNcWw1cndHbHlDQjltU2EyczI1eUhmNFNEU0JsZ0VWTUp0cGxwUmdlZ1p2RGFrcFdES2d4M1VSNFc3eUtXK1JEN2JkN3JFYS9HUW1BL3EwUllBT0lhWGZPLzJDZ0VVUHROaFBTMnVxeTI5bEJZRlBQdjVTSFEwdC9qUnhRTEJwZTA5YXRlQVdLeXB0OVRXUzdaNWd5bk9lUFM1TTJOQzE2QWhGMFh6NnM3RFVqdEkweE5obzlZNkdLMTZKNVY4SHFIeXBWL09BejcrVkJ6VGFpUjU3WEdINHI2MkdvQWlKcWZXT003b2t6S0NlZVNCbk9JS1BIdHdnTTBTUWJ2Q3Z2N3JtUzZaQWFjdTRCYlhaNVI5Z09oZFI5SDNiaTdsV0xCTm5xcUxQSXkwazZtNFhCaHRsNDBCNnovNUFjSnhqdEtmd3ZJRXhsN1ZzUVJxYlc4Z3BQTXNtSlpmU3AzdUMzNWcxQWtQK0JKbGp1M1JWb0ZaTm8zSlIxOEE1dWM2ME5HRDR6dnpJZEdUQU90aDRaQVp4MFpHUUl0SHVOY0x6LzBDaWF2SmRrakQ2NWg0YXZmMXZmN0xGWjF1b2dKejZ2TEszdURpc1hJQklHa1hPbElweFRkampqVFF0NktoeTUwYlliWHNHOUpCclNVR2hzQldwZVJVbnEyY1pXT2lmaGZ1ZVk5NWdGSURBdTM3b0tSM0ZRMVl4R01nM1VNcStMMlZOMnJ0cW9kZWxTSG9mOFN5WVpWUVdzN0wwYmp0Z29sSWQxdEFBakhJN0oxLytKSVJYZVVCamphR0dRQVUrYXo5WEZmaXFuK1ZSQUdHOEpEZFAvV21FcWpoWXBjeTAwTElCSUJ6Q0Y5STltYlhDdjhJWDlmaFBsSTVOcVdHTy92MGlrcGZuK2hiNVUxNkZjUFlzeCt4TGI0bGE2blNidnJURFA1TXRoUHllTElJWTdaRS9yTlU0YWpnUG1JMC8zUnZEN1d0RWJvOFVHUGpuZXY1NU4yRUx1RnBFUHprTnU5TXpYcXE4SzBjV3hrNGxUMkRRUGkzckRPOHg4aTVqWDd3V1FpOGUwbmVDTWIwU1VPNjd6UmZhZWtaT05HZmFGbDQ3TEJ5Y2lVdXk1ZGhxeE1Qb2toVEUyV2J6eHFDeXQvczJUcUc2NlIwb2NZSG16djlmN3RKK1RFUzhORnl6TDNmaE5vWm9XNUl4V05FK3N0WVd1dGQzTFB3YTdIS2hoUkFibDV1Q0ViRUdqclV6VFh3YnpHMHF2cG1OdHBuWW5tS2p6VGFTQUZOQ3hmdzllZGNqYXhDaVJLS0lEZDZHUy9lRHNHQmdUdkpleERmd0dtVldtOWphZFpoZWU5alJGaVpGdEw2bTdzWTFvUWE4Rjl5Y3hTdVBBTlhDcVdrQXBjYUVmUUxrdDF5eWZlUnM1eUM1Ty82WEdKNFRFdEptQ1RQSkZScjk1YXUyMFNUSVBna29FRjFtelorNVpSdFdLVVl1V0pWWkR3Y0EvbFR5Nm9ZcDAvZDBMR1BSVVhuWFJtMHF0SVhRVmRub1ZoS1pQZVdBQ3Q5cnVqUkw1N01FRGkya0h0ZlYvdWN1K2swM2JOMGZRbGJhbFVKMGZhWTk5R0M2TDhNTzhNWFRTbXFEQXhOU3BxcElGUGhnSGdBZzBZSy9HWmhsUWpiUVhFNHRNREVETzlvYk5mcDRXNm04ZmR6bk1lc1NTUklOQkc1RkRmLy9Ea1Q5cFNSUXNJZFNnNFZLN1c3ajJkMmpzUVVJeWpKbWJkLzJ6Q1RhcWgwWXEwY0g2bVMvNWcvY3EzZUdPaUpiYUNObzZvVndHVVJ6WFZBZVZhR0lmSkZoZDJBNTlzVnArclZmZTFmOEI2YlZiQ0xJS2dHVWdwVW9rTzB2VGc2b3VBeFhHUUt0dmVNaGhCVDgzdWtQSVJaMDIrcUYxa3ZNK25OQ1Z5OHV6ckIwK1c5UUlLYk1pbzJtLzd6Vzc4eGQ1VGY5aXRvY3BMYlJ1TkM1Y3VTL0d5UkdYdzZmekZ6ak0xVUlUbFE1ZGx2b3lZeHV2YjdvbDRTMU15aGtmTU5aYmlmNi94aWMwd0IzdVNTY2V6M29GVFJiQ0hCZDBjYkpMM2NMd2ZRakNCcEdCclJWQzcxNzRxVzRYV253MGVZR1NTelRWU0VET2xNYVRVSUdKTytzNy96OEp4YVpwcmNFc29CNCt2dDkvK3V3dE0vaXlxTFZQaWR1OFpUaCtGMXJzRVdLd1poREFnL2dpVmM2VnpScStESkNyaG44MWIvTFlsTEpPZGdvQWpJRDJWbndnVSttUWhDTDZLaGdJcXFpVnJhRDI1VUlZRXF4TWNaMWFSY1p2SGE4eDVnaDVvblB0c1ZjbDUzWGVrOUJPWXFreWo2NGFjWDkyMXp3cW9ZMGxtTkE4MU5FN0J6VnRzM2N3V0RaNERrNnV1end0Zkp1SmM3dlZTK2ZkVkRFZzNBVHdDOW9HNS9WYjFzd1R5elRzbDJWNG0rOTNiU1FvNVNURkc1QXJ1VERXVHltNkx4dHQ0T3JBZUlWZ2RveVRKTCtrZUhpSFROaUwwL25PNW9Zd2Z0U1FLMWFZQnVBMGUxMnQvRlZOK0xzQ2swTC9oZkNDY2tlODlMdVA0ZDQ2cW5GbzNOTHBIYitORnJ2ZWtYVlQ0R2laZ01XMkgwb3JJWTBUcFMxNXdseFZVYUdDVW83WVNOMHlXRFJVNStwNDFkQ09zNS92WHExZG83SytCeWpqMzUvbVBsUStWRURxcUY3T0lCUXJYZkhnQ1hZUHk4eWUzSWgzaW8rdFlBNm5LMC8yY2xJRVJycEEwQU1IS0xUR0VPN3EvSXpJY09Dd1lOOVcvSVNINHY0dWs5TWh6TnU3RmcySVBDcTVDUUYxR0x1elF1K3dOdjJoOTROSUEyVUp5ZGF3djVYMmJIa1pqditrQi9XUUNZanhVTkVVOHNzVWR4RFpzdHB2MnFOQUhtSTZCTUQ4NG9seE1pd0ZkSzVKODB6Yzl4N2RlL2N6M1pOSWtrR0lwTUNaSnFLS2thTFZvMU1MblIvaC9oUWVVdmZxSm12a1BlSXJlM0VqbmxpTmtLSktMMEtOYXVwSHpZN0VvenRhajBjTk9oSjVkeElSQjJpczNrTGNTSzFGWnN3UkpSMEI1T1hYK1E0VWxGSXJoUjEwbElnZTNGZzVEbmFHb1pvT3lGYWFIenRyZEYyNTFKdWJEc0NaUkRTV0EweTZ5c3lrTytoNGpoWHR1V0Y3RDVXcDdCNEh4M0VRdktzbVBQWlljTGV2b3dqbFdnaEhiUkJFaHdQSTNiempoTldYbHF0eW01T2JZQWVZeHVIeXZ5WXVlMlg0NjUxZjdPbTMrbThLVDdZL0pxTFdYd2dheUNkenhIdUppZHRpMUlUdWYvb1h6ZUNmVFJiRzV5dFhsRGsvZXBYMDYxVzZCTzA3NGpJN25WNTE4T2tZdFJKRG5QcWRERkFmMHVXY0FUZmswaDE3K2dQN0dIankwUmMwSXZlOVhtdkE2Z0Nrb01qTmpNRUE3R1EzeHk3ZTEyRHpmTnBJZk5EN0dLS29qTWlmVHJ2a0RYcmZhM280d05Za3RZNi9WbEJkSHRyY0g5Rjd1TVdJQ2VqL0JqWlhWWDgzV0ZHY1ZIeDNuT1h4U0w1OWtFOWJTbUhjM1hwOGlEYlB1U0c1R0lScDNmVEZIbm1UenpHZWRsNmFsMmdVYkdGS3RrQzBqRk50S1RrMnJyOExFT2JpR2dmQ29TcFRXa252QVlEUUJvajkzczBLaVJOUE9xZ1krK1hrYTJjUWlEd3FVc0xsOC9pNTdZQy9WNnN5NS9OdmhWaVJSWmdDemN5ak5IR3pac1lBNVlNdFVudHlmQzFnTkZQN2NMM0F3VkErMzI2TkpJN01RSm94VHFjSEwvWWhudHNuWVRSNVI2R1ZWdkZZSWxXOE52OXFuM2Rhb0dYTXowTW9Bc1hwQ3piaUhaMFhXa2Z3MnFsSmttWmpnUXRNQUVoSFhOZ29rR1JQZk9wcm10bHZOWmFObEdCMUVqUVRWWDFZNHRDeUpGWmhkaElENENvd0IyM3VRRjE2TmlmeXhIK0RHblFybnhla2xuRzdVUVYyQlJWZHI2WkVLWll2N0dqK1BicG9qekFza3ZiZHRhRnNhdGFxUHJMRG9lampjNlpmUEE1ekEwaVljQ3ZjTmp6dXk5U3VUMHVHOE5XTVRMdjJPc0ltTCsrUFFWMXNpZlVFTkF3aTRPM3lCdnpUeTRKNzdCN21NQnBqQ1lHWEF5akZHRlpMNGVBYXpTbXZaOHRoSjBGRlcra2VMSEwrZnQxZFFCS21YWTZKYXRlbEdlYmNJQy9QeUxCSGRmWDliUmNhdUdnNHhFTzdtTWw4QWpsY1BNY3prUG5pTlFwaVFGcWNESllyRkdveE1WMmhza3hNbjBiUlFUOEFqYzZ3NnNRWWtHbDBDUVVJbVByR2ZpZTlkc2s0bXJDTE1JRk9xY20wV1Q4TzhBaVJFRUdtb29CVE83V0kwcWs1MDZOc1Y3ZmZ2YzByVkpFUkpLY3lSeUNtRlpkVFNuL1NyQmZqVjdTWFQzcFFsZ2x1b1k0RkJVQ0REa3p3Qmdqa3JFMW9GVUEzbHMreFZQMTB3NWpqQklNd0tCU1FxUlZBRURYdytEeWorakgzaWxhOGN6VUxXc0NLaFdkNHFHc01GTjcrK09HQkF6OWVYSGpBTzltKyttVFhGNnFpeUczNVErNjF5allRS3NCcmpSNE5OZXhyd1ZHcUJ3QVpBNmNyNW1wOEFob3l6UG9tSjZUTGZXRUpqRWVSSTNRc1g1b1FrTnV5Rjd1NjUwUUZrYStWakZlTlJZNkFMa2xsZVRXOUkwdjRBQktEQ1hUR2tqdjgwdnFWTmsrRlRMMGJKSzduZFNqak1KRDdPQkZJRXl3QlBKRnJ4VGR5em9jbXhFZ0cwenUxVkRnc1F1WElUWUN4MVJSdHk4OUEvRitDZFNBbGJNbElrcHRDQzBHckYvakZTOFBBVSs2VE5WMWVCcUpyQ3I5QmdIMW10aDhGdGRmRTdkcnVSK3h5WktuNWlkZlVLekdXNkFDR0Y0TTYxSVJvU3M5bzZ4bWFqM2RuQVZRdkZXVXNNY1I2TUkzeFRLSk55TXhraFhoaHZUMEl4aWFsbkc3aS9CQnpYZk1YWWg1amw0Qlh6Q1NObHhVNCthYm9FZ0lEcjQ4LytwZmo4SjNXY05jY0ZmelY2ZWlYMDVxa05rdG1hZm9CY3hyRXNyTThXUVYwVlZTUnliUXlYUE9xSjF5bmR3Qkk2Qk9HTzlvR3hHREFkK0hjS2FabHB0Q01Kc1IxQ3AzbTdGOUhwQkZTdS9OWVZqK1dTRFk3aldTRkJsVEJTQ0Z5eVBFVW44UzlObUJWYSttd0dWc3owUStmeGUyM3cxdzZ3Vk83c1ZuWnFScG1YSmVYZzcyUUZrbDdRZGExbEJ6bi9GVytyUndMdkZ4Q3N1YWQ2N1dtemFiMVJKZHpQR3N1cThBelc2dEwrSml3Vy9WUFVTQmJCbVYxK0VqcVEyOHgxdTlXNUVveTd6aHNVOE5UODdDdE5iWjBsUEVwc29XTWV3eEM4MGtQYW5mV1ByUVhtaXhXRFhYejd1ZjFrQlRyMUovaVl1bHM3ZlVzeUFDaFhqS2NLT2FDRjR5U3FraE1UR21qTnFZaUc1am9CVWkvU1pwV3ZneGsyOHB5SVBoZjI4WVVMSU5pcW1iV1BCS3VUQ0xGcnVWN0pmUmdHTTg3WGZORUZjN3Rnbll4NTAzay8wVVhKZnBtang2d0tiS2N2VjVmcXJjdHgrT3JJbisrVHhSeFNLbFRTY0VJd2Qydkc1bWcvcDV3c1FEcGlEK1g5MVhia1JlS0xCMjVKdnAvSUphSmg3MTVSWHFCendDd2xZM1VSb255eStvWm9URDhZbThYTU12L2RNbGxoMExDRlprWkZuMmdZY0xHOWlPK0k1Uy9HeXh3amFqUUxRdHdIN28rbjUwdmltQytFUzhlUE9wUER3bHU0b0c4S2hTN05ML09UZElXUElIYlNhNi85RGZqT3E5VzY2RXBhSzU3Ujc4UHBFelZOTGtUUDJMNmxsbHFEVDZTRGhJREl2UVMzU1FieEc5NmtoWGd2Vy9yTUUrdGlYRlhpK0JDMHVkaTlrZXlHbGMzc0xCTjNDUDNRWHpzd2hCR1R4dnoyTG1STWtVM3JMdVNrWVIxR3pyN3ZqMVZ4VE4xeTFpY2lBMERzd3NQWjM4ZUI2WDEwVXprNkhacWp6QksrRUo1b3NKSkovczNiME1GUklXWWxNMTVUUG0xdXplT2sxelE5NnF1Q2xRTEVaYnB4bVYvZUFkdUlvdFhVWVFaaldBa1R1bEJKdDdrdzl1RW5MbzdPcFpyZjhrKzBaUVAwYWdjT1RMYmZyZWtIamk4Nk14cjdyVHd2ZTgybWVQS29Ba2tFdGhFNDVWSStmMVZxcHlXTlcxa2JCYlZWZnVhdEt0Nk1FS3F5VFV5eFNGR0hrODFrWTdDeGtnTU5leGlpa04wK0llaVVOc2Z1a3RqZk9BaU1mRGhiVGU0cnR4U0VQdk80Q0NVR2FrdEE1OFRHblNPOHJIZENpY21Ha05yd1dzblhnVVdqaHA4YmxsTmNuUU4xMFRid3hZUEF3UUtXL0pKaVlRYWRyNFRIWE8rdld1ZGlxM0k0N3ZxbUVNL0FiM0RscTExUTdSbVJXbnRZT0V5RVNiVEk4UFpZd2J0c21qY1N3QnRUQUlIUTVoM0k2MzNoM0ZwT2tUMmMwUGxNanpqMFEvT3VxYVRWdDYzOWZvd1ZwcHF2U2xOY0s1S3VwQm5yeGZLSFFLK1NvS1N1YU84UE5Na1lrYmNFQWM5RjBJNHV6UGZSVlAvcTVRa3ZKVnNWb0o4QkVXVy9xMStraXZIRU1RZmIrSjJOZkpqU1RHK1doakhqTDhlcWk3RmdmVmV3eHdtcUc5SU9uVGt3RGpBSFVhSk1JeWhWa2FkVy8rR1FqTHlOUDR6eUhjTEFkV2NCNXpRMmtjL2JsQXgyUktmRytPTjNSZkMraVE1VGg3VjJpNWFia295MHBqZnlPd1RqSXZhcTlzbFNDdG9OR0JaZ2dCRE9pV3dhdTBDWDROQUlUaEZ5cXU5VldDTHI4VHNxaFFadlFQK3hyeXdvdkdzNkEwNzlVN1lCamhFWHlRdzRRM3JiUVkxRVFueFRQWE5sSGZuOXZRbnVoc0pueng2UFpyQ3FyeThmaWRQejJVMXNjbUFNVlBIeGEvaW5qSWYraER6aUVVMDJ4V205b3U2N09nZWJrdE9OOVY2d3dWb3RvTk96Vk5KaGlEQmxIYmt0QndPalgxQmxKSHliTG94NXkvN05oUjd1YzhmODVPNnhkeHVlYWJod3RKalljQnphYzU2djZSYnVJOUlSdlB6T25OYmx0ajhIaDBmdHd3aFd5SEF5aUVhdDBvRFNFVlo5MjVqbXhKS0FxVG80L3VIbmtvemdNRHNua3pYUFhCREoxc0RUYXdYeTIzbVh1VEpPWVY2WlZXcmVydk1hR0dHUXBnUWpBbmZQN0tQWnJvK09LdC9NcG5vTTBOZUdRZ0lGQWlIN2RVN05sMVFiY01pd082LzVuSW9zSnRyRkI4dzFrcHFiNk9qSTlCZ1pIRzFuelRNR0ErK0hOcmw0V1FOY3EzU2FqRDRDOXV0UVlBdS9mRVRQRk1NSmVDRHdIUkNuUHVSQWxxSjV0MEU1aDNXbGgxTnc1N0xRMzZrRGpDM2xTOXcwYTg5ZUk4eW02QnpFQTI1Q2R6M0xRQXl6OTRGdmpxcDdNeUhycG0zUHptc1YvdGJTTEY5TkpCakZteldQUThUZmd2ajNmaThkZzc4dFh2RWF0cXRVaEx4c05wMlZDVTZJelNxYWZ4V3c5MytXazQ3c2tKdjVxeE0rdHY3Q3JwWUt2V0xFeWxKTkVYbGg3R0htOVVlbk5mMi9zelpPbCs1NFA0Wldrc2gxcjYrcnBoTDY4UVlobXFXN0RxS1ZyYzJyanpQWWN2RkRtS3RDR0wvRjYyaTNyaU1WOXorTG9MbnVWYU1uNGR0cE5ORm1RRVE0dUVoRGZMWVU0eDhHMk9IQ3o3Z254TENhNHpFNENGbzltLytFQ21kenppVnVtSE0vUDAwL0JFU0gycnhVWU1CTDgvOU5SRzVmaXNrRkpyNEFPMHFOVUtVQ2dUUmdFaUZzVGJHWHRQNERUVHpjOFpBbWZOSnVKUUU1S3A3VzdVN1FabkJYS2VwZlNIa1lURXFnT2hxbzk1Snc5aTU2a1lHdDRCV3dYNTBtQzI3Q0NXOTJTVk1sNHRiVUVoQkRTQjM2emd6dHo1WnRzMDU2M0tqYzM0Qis2WlVuTUlrK0JpUU52cVNrWkhuazNySE5TYVl0aE83MklXTEl4aWowaGN2N24yMjh5YzgyRnNRTEs5am1wdGpZNmVzdERmSDNPU01hQWorcG9DTEt3UkZYdlhXYjZqd005bUc0bnUxeXVnMENjNEw4OXc0RVllazZkblYxN1ZCZkl4QjJkbUZGUWRwMGtxeDNCTTlnZE1BcjBLUzdXTE9TZjNjbjVlREl0RExQMlVXN01XYUlSK0dKMEVHY0VMM2VqQmR1MHRvNnZEaDA0SmNSTU5VNTV1c21TbjNqcDc0bXl6V0UzYXpNSVQ5NndyMzlGNjJjM0cvbGRHc2ticVRJTVRrM2dNZzYxdk5CUTBjSlNJeFZkY2dOYjN4RkRvd3dWeUlxWXo1NEY4UnFnMHVRRTRGSWlVR1p4SmhORC9BV2hrdWtxSXFMTFpFcHhqMDdrUEJONlpiMnBXaHQvWDVKckM4eUp6UGx2RmhmSm5kUTRqY2dqRnlodnltci9hMTd1eFRLSHBLTldERW9MNG5OYTkvUHJmN1RZUnc2R3lvNnZjd1ljVUhrMTdTTWI5YUVkVm54MjRtc05DREVLYmowT1Z6UmFBM2dGSmVYWlBPYnFKS3ZXcUZsYXZHcHhYblArNFpZVGwwRG1jcmk2dk1kd1g2ODdBcEcreWdpR0haRHdOelU2OEY0Sk1QUTlKQjQ1dkxrQ3NFMnc1MFFOUDFrSlpsSTU2ZFZHemZLMU15UnFQNEo2VnNoZXNmT1Q0aHpSNk1ZcTM3M0lvT05sTHZFTmRZWE42cFR4bzVlUnpRa3drMnRaMXptWnFjekN5dHFURWhwd2VLY0JDQ1ovRmhpemdMbTgveDVTY0JsTzB3RVhIWm05MG1wbUwxZ1IvSjJDVW56M3dEVTk5WUZGS3FtMDFBWjhxMlM1Rm5oODFDYkQ2ODdjN0syT2pXbFpnZHZFSkE5TTBKVDNlS2RJUmQ5R0N4NmcxVE81UFdURThPT3BoVURLZGF6eVlubU1xRmhGeGZKLy9jV0pUc2dZYm9sMmE3T2IvUTY5Rnkza2I5SzdhWkx6SCtLbC91Q3pXbnFUT3JRb25WTDdMVEZQcjd3YlRhZXBmQWw1elNnTUluanJHWFkrR3NwdytmQ05nRVUxenlDMFN1dW02VkZ5SEJqZEtXZnQ3c3Ryck9YcU9TUXd4c1lYcDRGMDEzbU45Z1p5dTRIYzg0QTRkeklITjVVTlhteE5uK3ZQalM4MkpNNmtseVNXQjlwTEN6TEJVZ1hpTURsbGFHNmZUMlBTQnYvYit5YXJ1eVdCVmNwc09LdUVhUTM3VzNBM3Q5WUZSY2dCNXJGTURqd09uM2MwbGZzZys1VitkQlgyRW1XTFRTZWxOWmtlcTY3Q0ZueGFLdG5sc0FKUlBCcVl2b1dWWmNKS24welNlbHJPMlR3bmFpbE83emdBSGFNUm1RWWJYbzliZUJzMTZKV2Y3VjhMallHUy9EWVVLVFRFMXpLRUNDL3BLMUVLZjZteElnbVYrbUorTWM4aDA0cWVwK29rSUlFWGFOMzUxSjNOMFZVazdjRUVhT0xFMXJGRjNXNHZxUmNvZFBmYkxxSU5GNlF0VHNmbnkxK080Nko1YWhsYW1aRXl4Z2xadHBqRWtLZDl5S0RzZ3duenFvQVBONW83NklzSStGUmFCYzh1MXFMQld4cEtVNjE1Y2hUVmVnTkZSNVY0bzFUMkpHd1ZrdWVENkNqQWhPcGxQblJ5djhzYXVNbk15MndFTUFSUjZBbUNROFM1ZWJMMG5DRXFqU3p0TW9VeUFFalE2RkRZcWtHd2V1NDhEa0JSNUhqd2xCbG9LVmF3WWNEZXp4S0JIOFdXbk1wSktaajFPbCtPSE1tZzVpcTl4RHN3THgwaVROa3VqZ2F0T2tlUlUwYy9HbVNTSCs3R1RUTUxRSmRqNTFsM0Vrb2pqRXdXT2p3OFhCT204OEdxQzRiV1BFRStVLzVYWXRaTkpHL1g0RllqZ0l2VmQ2OVJZVmJNRU1mUFNLSjgyNWUzWFE2UkJlc3AvRytsa01rNFZJeFJha3lVQlBMTzF1MFVZbk5HOUV4QW5QZE9PME9mRnZjUE9MOXJCSk84YlIrcTlMcDkvaStmSDMyS2thTlIyV2dveFFZM0ZZK3JTMk5VdnRDT2daQWFGOXZueTE2V0cvM3plVXRSUDlWMjhQY0dpdkFIQXd3Q2NSazBEMGlvaGpBZmdML0VLWEprcjhnSUZxYk5xN2xYVUZSS3FNYnBCYTE4Mm9sNzdTcUpxMU01c2V0R1VKdVNCS3FZQllLZERadjNYZFQvdTZKNWFLS2tMdkE1ZXo2UHVXWDBSVDdrRUxTS0RLZmc5dzlud1NtTW1KSGpibnIwYmxNMld2cGlpclIvbkxpZDZTUk45KzVLb0xVYitwTHczUXpEOEpsUzNYMnEwbTRCTlJ4Zmx0cjVLV3FyeU91dUdEdDZJT0hTRTgvenFHWE1pVHFnclVPZkRINThOb1dlMHRlNG1GYzFHeHN3dmhaWFdKWm1hV2FNSm8yU0JudVhhNytqSWZGYm5oTkg3NFo2anlnd2NxWHNsZFlmSS9aaDhCWmJxVGgySTdIdTQ0ZGlsZmJYOFVoMThOVkIzcGhSblR3cFVvbktxdVVzL2laWFJuREZqdEVtS2cyWVJRbTJDUDFGV1JiL0I5MkhxSmxIVDdIcy9UcGwzUnJseHZrb3NrcE5sVzUzLzZVanNlMGZrSExOZVVtOTdUbERzYVJYcGZaa1IxdVdNVHdoUHY0b1lNMkJ2OTQxUitjN25RMHlCZEZOVlFwWlJrcGVqbUlmakZyZFFVQTdEUHdSNjlhcTZQem1rM0lYYXJJTUtHNlI0TUJka0IzajNIV3hvaG5aTFdwYU55L0JNeFMrODRlNHZQUGZPLzcrbkxXVlpzZHBVWS9uR0RrUXRzME5HblJwWksvbFc2MHRtbmNNb1RlcFk1Zk1ib3cxR3lLaHFTWExiT1prejU5bDhERzl2OVpIUHdBMXJvS3ozTVcvajJ0Ti9VK2xQUVZZWFRhNmgxZVBRa1NXUjJicDlPSG1DQ3ZUNnM4djlQVkcydWZLN2RrYnBZNTAwZ054N2ZkQXJ6SDN5Q2pZMzNGYTVUYk91eWJMTmRXOGp1SnlKdGlrRG4rNWpNbk16SVdQLyt2MTJYa2FYajE5NXhrNmVPS3V2QTV6ZUtrMWkxUHJTbm1XQTQ2Q2EybGRnTnFKMHJ2THFNOVgyRVBuL1F1TWpMbkxnMGlWSjRINHI1UzJQZ3BHZFNkZlZvaVgvckJBcTZ5VkRjMzB2OERPVWFlNG9xdVNNMFlEQ0lhZkxRK2h2RW1CNWIvZitRc1RGdEFSMHpJVldlTHlZYm1yeDNnOWdIaFZSZmVsQ3o5L2V4aDE5QUdzeVhjd3VTYUJpQ3pRSW9jdFl2eWhoa2RDc0MvY2RaRGNlLzFGYXYzNUpRdCtSSkZBamlNUlFoQ2RFNGVTM1NtZnNSRUhlOUxaYTBFbE9MaHh4dnM1dVMvU25NWXNzeUs5RnhpdWNSampPcWZhSXAyTjhDbXVOSnFnM1d2dE1rK01sYkFZZWppOUs5NHJ4NlU3bmo5TDFUR2hWY0F5eitHYjRzaWIyMUFXOTRIUnpXYlRyUktFa3g1K0tMRTY5VmMrOENqMVZ1MkdrWjFBQTJFNGthSjJhVGpzRUwyQzBzckFJTlhSQWpueHdJM3A1RUQwTlJZbjlzVDFpWTlHUEJKd2hoZDZXWEVKL1o0NEQwcnVmYURPQThkVWoxU0lxeXdSczJiN1NqWWNDWVM4ZWVma3dkV2xwTjBEdm5lY2R3SFZjM1RxeUNjVXk3SzJQTVMybDJLWkh6WmZMQ1RDUGFQcS9OVmMvTmxjNWhWSm9Gdm5OVXBLV1pjVHN4VmVIZkgxbW5FTFJFRUNxOVlFUzl2NkZjdk9OQ3hYTFFtZjBrM1MyZHlObXN4YnZsWE0wdTdsU3FreDgxbWQwcmFkM0UzM1BQdVBwREdNOVVpQmhTZUpuM1Nlam14K0xkTENpWlljVnhvdzU5bkNxclVtWEdBYnNSNE83d1ZRenlIZEw2RFg1czhrNUJqSFhsT056MFBhSXFTODl4TWhrWWV0TXc2dzdKWjVjL29KQkgyamRaUGJTNktiUjBScEVlMTZCQVRMelU0UWlIeWJ4QXJyakJNOE1LS1A4Wno2TVZiZy9kOHliNzZVOG5RekNLNEVxYTVvbWJCbTcvNnhvMmRSOU8vQnlmY1U2cUR1K2VmZExGQVA0TGlDcjZDM2FpaERQamlnVVl1eTB2b0x1WDNGbGV2bDd4WFJ0Ulo0VmM0OGoydGdBN3RLMHdxdjRPakx3Q3paSm45bFlJUXVTY1FCRUZNQmpBNlZqOEZUcDRoM09waEI2ZzB1QTEzblRuVkxtS1EremZFTGwrNnpuV1g1bkNXdmJ3YWswdDNxNHF3V0szTUFQS0UydnFERWVDc0ZLdm1KMldzK1ZPcW5yQStla0NrOWphc3pCc1pkNzFJbkFEV2lqVDRTSG55Vm1jNTVkdjVpdlhsMWZFRDR2d05yeGJpWkhXZUdpblMzSW1jb0RBVDF2R2lMcFAvRDNOYWlJUHE5QTJoNURUNVNnYUNWQ2gwSkt1N0RLc0hqVzlaQUFDUnhIZ1RTbzVqclZXVUpmR0t3ZWcyYXVRdWl0dFZpZEIrSmFDZHdZZDB4OW9KNGp5STVVeWdyQjlOemkyZ2JMVmNDbnB1KzF5dHNpV0NiSmIxWHhhczhGaEcvRVg4NnRhRzZmbFpaYXVoYUducFJ5ZkJCNW9qR2RzZFBCVkhFdGI4Ujk1MW9hTlR2S1hLN0NkZFNlV2FlT2kyRklEUEVoV2hBazE5Unp1Ujl3U0tFd3Z2aThuUUZ6NjQ5K2ZVbEJNdURMN1ZtVUJTc0MxRXhXd3FZK3VTZE5Lb3dFa3BzQmIrL0twV2w2b0d4eW15Ui9lNHVLamlwQkpyVlBYZzBuRTJqNkhMMkpiQ0hOaDAxbFYrLys2RlVnbGhWOEdUeXB6ZHZkZmhZYzd0MFpZdGt5SC8xN3dEYWtVN3IxR0FkVUlYWG10eGFtaEsyRmRlbEJhNEJQcnlibENDOWdKRzlodEp1ZTlMTXJOUzdtTTZnYlJBMXhTRm5XTnN6aUR1R1plUzNEY3U0YmpzV2FJZWJyZ05ueHBsL3BMR3hWNUV0a0Z3RGVoOGZQeWZQVThDWkFNL0xqazMrVmk3alV0TlptWk04K2Y3ZDR3bFVJa1RIaUFVTFJVS3UwT0RGSWV5azIwQmlxTEI3dnZBVDM0MlNJRFArejVGUGFhNlRqeXFoL0FzWDJqRmhiZUlYS3hETWI4ZmlkMGpIQVdrNkpLaHN3YnR2dFA2YkR6K2xZanZYSVB3VjFZK255ZnQydU04YzFhVXhtREhBVW1abkpCdlpYVDQzbXhqWERIUDA1UjEvZEtmb0V4Y2djWXp2M3dPNW1hemk3dWdTMDF6Nm9VbUJ5S3RmUTZmQTIrTVF5blBDb0RIY3AxZUR0YWcvRTNIUXBITVdBZ0drTmg5d1dSNVk0OFlHMFc0Q2d2T3JuZ0kxMTFqL3grTUl1SDV4RmxWa3hxcHRTalcraG5WYnQ5cXh0WG5kRUg1UnRueFdmZDllUCtrbGkveDNMVTFXR3NaVkFrVkVsWEQyNzRMQkdLMGJNdmVFVWJqLzZFcG5vY0VudlJTbGdscEU0R2lBTzVTNEpkWWI0dVlkNm9lSzh2dVp2VFFhV01TM2RFSUoyc3NDeFd6OERxWW1jL2IzOHluejBEV0NDZUYxZ0N5aXBhTEcyS3E5d3FmSHozUzZtN0NTK0g0Mm5tRFlBejJkWWN4NzdNOHB1ckdPUzV0UTRheWtKWElEUUJ3SGpJR1NVKzUyTSsxT1Y1M3JwNEIzSmJJWGVjUVdFamZrOWdrVm96OFQ2SEpiSWhGZ20zcXVOTWsrY0l5Ukhsai9CZFVSWFk4bzdIN2RCUWZzZHBMSmhBc3hTLzFKdE1rWThKb1A0WWR5T3h6Slk1eC8rQTlzY09UWHZQVm9RQU1xZ21QODk5czZHdlJ0ek5GR1hMWDdWSFNuVWo3VlBPOEsxcXhhUy9hLzZ2L1loUmxVdE5nbnFudGgzSm8vREtiZGhkUG42SGdCOVlqVTVHdU4xdVB5VVhaSkRaWWZGd01mZHFOUFZvSThkMWNzb0hNSzV0cXVHb0swNjBtSXdCSE1rM3BGR3FCb3NhanI5Zy81a0JQcnJ0dUlJRVBGWm5hQUtTQ1FxTGRlUXEyQjZCczhXeEQ4K0RmekdKMm51MFhlYjU4c3BQb2lIWkFWVitJNWxSVXNlVUUwSUE0RTg0NFV6RllBRE5ZY0xCVzN6c1A3YVd6TG5VWm9RUHVJRFIzRlgzYmtNNW1DdW52WGFQU2k0UFJrS25JdEV2OC9PWWlxOFJTS1FjYVR3eFg5WWdkTmJnUHVYTHdiNUFSb2Z2MFpqM1dwSGhObmxUcTJRdS9sd3ZNM1BVYXF2OEw3a3BGcVFSOWFSYVhmRmFuYkxnYnl4SjJrQXg5b0Exa1JNeUgzSlhJMDZvUWhSaVpRMUx0V3orUUtLeG1lMHpBZ0kycTYvZG1ZQXBzQTdXR2VCYWU1K1kzZXFrcURqWHlTN1ErTHpZZ3JNM0VpcUdIc2liYUtaS2dGZWN4cEdpTUxYWTUra2t1REtCZE1rajJCZDh1VEtJK2FUV3B1OTdnTnA3OGZtODkxell1VDY4c0lFekU1SmdncFdqbFdGU3B6WWF5eHZuT3hKM0pZSy9xOFdiQ3kxNEtodENGaGRMT3hDRUF2eXFYTjNLK29QNTJaemR4SGlDQWFjNUxYMlRPNUNUbWt4cDZ6Q1Q1SlpESUJnbm5tUVU4R0Jvd0V2b2dmUG5pMTdmRTFzbGpkNTVQMkM0bVdDTkRyOGwzaE1IKzR6cHlacXAzaUZiSngyMG5HdFUrOUxKb3psME94TnJrL2MwQzljaEVlK2s0dlVFQ25VYVhiUzhKcWRueW1xYloxU0NJKzQrMUJZTVc0bnpZS0RMYXFMM05tMDhDL1VnN3pOZzJCdXdoV2VwWHJrcWFSWDU4TENXTFBEUXlVem4zNjlFMWRydGVrZXVOY0k0U2dkbXlRWi83eGhYWjZzT0tnOUcvSEVpSlFzcmlSUVRodkh6NEJoYUZhWGljNG5scno0TGhVdGhHQkxibm5CNnR1Zkppell4NGM2YjJyWTFFNjNwTERBOFFkWnNUT0Q3ZXVOTWt1MWEwVDJuTlE5ck9QQllQRHlrc2FQK0VtS1R2cWNnUnljS010emhIaDM3bUFxVkVSdXpJSU1zL3pYRTlqR0JwSkJCV2I4S0NQWm5lNlN4dzArVUZsWTYvVmVYSlVIdW5IWFkxY3NmYzQwVHc5NVhya3BMenhxWC9McnNhWU03WTBVUS9RZTZQVGpNUVVYRHNlU01oWXdIVFhDb2h5U1ErMWZJanoveWpaV1JGSTEvYTRkOWVReldMb0dqejhPOGxkUGh6aHBXRnd3bGFSMFQxZ3BNUDNWZUh2RE94NFJKb2NISk9TUlErSDQvbkhKc2l1WFdES293WVpaVzhKazl2VWl3MmpFeGVkbjdnbEFzQy9iZ04xTnJnSXAxeSt5M3RtTGQyVjl4N3lLVkMrUUs2TU9GcTE5ZGxRZmxqMzUwcVVhdkJVTE1DVG4wQnZDUlFZNHE2VmpuaVU2WEhJU1VzYUFwQ1ZvUWVldkFPdUNVRmNud1dmSys0NFhEbzFxU3BQRjF3Y25iSDdOOWFPK0F6RDIxMlBnRmxHa1hsYVEzR2JmejlYSVVNanVsZ0dVUkVlbHI2SVgrdFIySzlIL3llcDk1OXo1V0xYbFo4MVo4SENJVjhDeVUwSktZemtJZUZxZjZvMnl3YjJPNzNvUmk3aThGNlZjbjJ6VTFWV1pwTGZTWGdUTmtSdHFNN3I1czEzVWltTFd0QVZaczk3ckxjTVJsd1h6WXA5OFpuS3ZRTGovZHBLbjhuZk5uVTlWMkJwOTBmcmxRZWRlS3Q2emQ0bVBSNTNGS1ExSjRyOTVuMUc4cGgwWEczN0RDOWIxODVzV2Jub3lDNFExaVV2eXk1SU94QnJJcWJxbi9KU1VXemRybE9pWkdESnJVNUlHdXpVbDVUYXVwVVRJZ0ZlTGZUNnVoMGdJRUo1blpRLzhYakIwbW1FWnhUdm9jclUvQkZvT2FVdlYvTjQ4VzNXL2FRdTVuUjNLd3NTQnlmU0RBRXE2cUJxVFZUa1p0a2FBZC8xUmllMmprZFJsWnZ4Rk11ME1HbkxjMFNIUElJOGVPei9iamZJaFNRaEFiMzhkU1JjRm1mUmIrZnBEckRIZWF6RUQ2RUhOYXl5MGtFU29SRytYRmJKYTZ4V0I2T2xid0hWRHdkTzlLYTdiSU9xTFJIcFpqd1htdi8yRFI5bnUrMnh3eEUzOWNCSHEvN1Z2OTlIY3ZIOFpKZUdtZ0hyOG1CS1FtT0NUa3ZMa3hmNWs0RnJxWnVOcGFSTmhDQjNwdUZ1RjVkMm5uUWJoZ0FhQU5MTUNZQWlHc0poWDJiRk0vcjNCR2hSL2RrR1BYZUJRVUo0dFRBUlFuVnFBMDdtVy80MkR2Mms3V2E3aFdVL3d2N0ZUSVdMd1d5SFgwVnFkZzRCSHJsSjd6aCtiK1Q2ZkgrVzNkNTNMUzVya1hLNUdJY3RNSXR0Sytvc2ZHWUl2T0QwQmtrWEJKUjBFWVVtdGVUb0l4cG9hTVZLWm1DUkMyQmJtQkxkVVRJWmlJMWtWWUtZbnE5UTV4TUdPRHUrNnZDVDJvZnZZRTBwbUdiUTlMbjZ3bkJEWVpVRC9CTDlybWlQbjNuMjhaczMzT3NIVVFjTHAydmpVRVY1c09CTE8yU2N5ZXNjR3UwTjU4eTFxMU5TTkp1WEN6STRmdTRSV0p0U0luM1AzKzllQXNNby8yTnVwRmVhZjcwL3VzTEdkMlowRjI3RWpMb0lqK25tSjQvUTVlZFBGaFZOcFBVUlFyVXpQQUxOTnpFdngzZTgyckR0UHBiWmp1Z3Y3QWJtMnEydk1Hd3o1VytoR0gwaGtDelhkWmhQRmJMazBzUjV2VmhTY0xnQVBkWklWWklqVHV6d0lLVnVXbXZwTXI3R3d4Z2lnbHB5OGVjZk9BWmNDcFhSekc2bE51UkI2NEQ0RzlBV0Q5dlFpL2NyV1Y0WHE1VmpKblJqUWMzZzRiSmUrTW1rc2pFY3RnaG4yN241aTVQSFp2Vy9nTTBCc1h6bzhQb3U2eU9MbnA0OWRHWHBLL29MQWJPZE9lbDloK2tEcUV0WnVudnNYYTlFRm9tZGwwUWJEdmsrSDU4U2pzekNWcVZPWFNnRHBPZFpqWFdmWnBGTDZTL2ZkMUxxOEZRUzNMa2xnaU5oZHZFNUd6Z1NPOHVxM2d0ajhJMm8rSnp1Y25yVVNydG94YTZJZWptVlFMR3pGM3JTQ3kzZmRoQlBoWm5EZGdjdEM4OWRSSitQVGZXNGdhNVdXQXlhV3NwekZnNTI1MUZvQnlCOExVYkQzQXhodlY2TTFBUk5YUko0TmhQZTJqOVdPbHU1STJLbUNNR3ZHUDVDYkhBeVprM1loaXVJZHREZ092cmU5Q3oweU9XdkhINUZwWlF6cXp5SEU1WGtUVEZNVTJKaEcxbnZuZTlTQ2k5ek52UG5HajloL2JRWGdwdWU3OHJwb2dYSmw4b0RTZk13ejlmcDRvY3lPeEVWMUpDRXNsU3NSdm9kRXpQYlVzTVVZV0RFUk56UjZmNDVLdTZFbVczcWRENDhkY0ZRdGM5cnIyd0Yzbzg1ZWRaLzJTWTBCU2tPZFFYMWFod1BWQlA1NTRRMVo0bGJkMGQvdnJSQ081azNRQldPYjNpTUwwdkk0TVJraUt3cXQ3MzVRMmZrcTBYbDFwSTNuazRsbDUxY1NFSE9yRlRjdGt4d0xPaVFsNkhKaDJxM2lxSEZtdE9DU28wQTRZTGwrbWxsb2xtN0ZMcGUvNzlnTW9lN0E1Y2JGUENiWDlaM0doSTQzRmdCYldvcThwd2FJb0Rsa2xSaW1WYXVPeDM1NXB2N3YyNlAwTUxyZ2lxV1RPeEphSUdPL1VoSGY3R1NPbTByMU81bTFzUFlZbjFiYXRobUVrWWZyUUxpRVdRMi8zSWp1bnNJeGdBbWk2dDRKc3hhbFl4RTRZeXZENTlFcHp2c3dPalpVdlNna0h3UFpvblZ0YWlNVExYblYzcDBkS3BDU1N6MzhLdjhRYk5GenFMYndiQkJSVUh3L25IU3hOaXBObTV2dGpma3VmMDZqV1J3a2N0Z3U4d1pxS3dTLzdJY0duRnRtd25iSkZQaHBHY3lWOUdWRnpDQ0crVE9lTmdBV3hPVVBnbXRMZEQ4SmF3VlZEVitlM2lSOGtIdWFaWElrbm5jSS8zdUZuYmxUZDJQL09kV3Z4bCs5Q1hicUpiMUNTOG9zZzJmZy9xYUE5S3ZNM0ZRb1pRNzlKUlpDL1VwbTkwQUJQQ0d6a3NUV0o3WHk5VkhwblBaQ2dHekFWYkpobXVycTh0bTI0QmpCdm5tMUdPS2ZvdHZDcVh5SVhGRTFiWVRSUzFXdHpnWnJHV2dSL29PVURuTmdEUFhxVWZUbXlGUGZOQ0Q5TVgyMmh2dUJhbnMvS2wxRHVzdGlUdW5sOUtyYXZqME5HMURzNW5rVHFsUVNZT2ZoZ3ZSSW93aW1tV0FZV21hNTVlcXZhUUw5R3ZIbXVIL2hJVkIvdGlONnM3eU9XMmlhaFJlTDhkTmRkSWJNSjZCTFZndUo0bjFkbnF1VjNaTnFpNlYwSC9WbjAwajBjRTgwRVJzWlRnc0hQSjBlVWp4WWlrK2VEdGFFSG55QXNZZVIyQWpSY0d3PT1cIiksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCl9KSksaT1uZXcgVWludDhBcnJheShbMTc3LDE1NiwyMTUsODksMTMsMTExLDIzMCwxXSksbz1uZXcgVWludDhBcnJheShuLmxlbmd0aCksYT1uZXcgVWludDhBcnJheSgyNTYpLHM9MDtzPDI1NjtzKyspYVtzXT1zO3ZhciBjLGQ9MDtmb3Iocz0wO3M8MjU2O3MrKyl7ZD0oZCthW3NdK2lbcyVpLmxlbmd0aF0pJTI1Njt2YXIgdT1bYVtkXSxhW3NdXTthW3NdPXVbMF0sYVtkXT11WzFdfXM9MCxkPTA7Zm9yKHZhciBsPTA7bDwwK24ubGVuZ3RoO2wrKyl7ZD0oZCthW3M9KHMrMSklMjU2XSklMjU2O3ZhciBmPVthW2RdLGFbc11dO2Fbc109ZlswXSxhW2RdPWZbMV0sYz1hWyhhW3NdK2FbZF0pJTI1Nl0sbD49MCYmKG9bbC0wXT1uW2wtMF1eYyl9cmV0dXJuIE49ITAsbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4peyhmdW5jdGlvbihlLHQpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShlLHQpfSkoby5idWZmZXIsdCkudGhlbigoZnVuY3Rpb24odCl7Tj0hMSxyPXQuaW5zdGFuY2UuZXhwb3J0cyxlLl9fd2JpbmRnZW5fd2FzbV9tb2R1bGU9dC5tb2R1bGUsbigpfSkpfSkpfSgpLnRoZW4oKGZ1bmN0aW9uKCl7dz1DLm5ldygpLGUodyl9KSl9KSkpLnRoZW4oKGZ1bmN0aW9uKGUpe0w9ZX0pKTt2YXIgVT0hMDtzZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtPYmplY3QoYy5nZXRQYXJhbWV0ZXIpKFwiVVBMT0FEX0xPR1wiKSYmai5pbmZvKFwiY29uc29sZSBsb2cgdXBsb2FkXCIpfSksOWU1KTt2YXIgaj1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksdSxsPW51bGwsZj1bXCJERUJVR1wiLFwiSU5GT1wiLFwiV0FSTklOR1wiLFwiRVJST1JcIixcIk5PTkVcIl0scD0wLGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9O0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2xvZ19pdGVtX2lkOkQrKyxsb2dfbGV2ZWw6ZS5sb2dfbGV2ZWwscGF5bG9hZF9zdHI6ZS5wYXlsb2FkfX0pKSxyPXt0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZGtfdmVyc2lvbjpjLlZFUlNJT04scHJvY2Vzc19pZDpPYmplY3QoZC5nZXRQcm9jZXNzSWQpKCkscGF5bG9hZDpKU09OLnN0cmluZ2lmeShlKX0sTD9yLmhhc2g9TC5nZXRfZGlnZXN0KFwiXCIuY29uY2F0KHIucGF5bG9hZCkuY29uY2F0KHIucHJvY2Vzc19pZCkuY29uY2F0KHIudGltZXN0YW1wKSk6biYmbigpO3RyeXt2YXIgaT1sLG89bHx8XCJodHRwczovL1wiLmNvbmNhdChPYmplY3QoYy5nZXRQYXJhbWV0ZXIpKFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCIvdXBsb2FkL3YyXCIpO09iamVjdChzLnBvc3QpKG8sciwoZnVuY3Rpb24oZSl7XCJPS1wiPT09ZT90JiZ0KGUpOm4mJm4oZSl9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pLGk/e3dpdGhDcmVkZW50aWFsczohMH06e3dpdGhDcmVkZW50aWFsczohMCxcIkNhY2hlLUNvbnRyb2xcIjpcIm5vLWNhY2hlLCBuby1zdG9yZVwiLFByYWdtYTpcIm5vLWNhY2hlXCIsRXhwaXJlczpcIjBcIn0pfWNhdGNoKGUpe24mJm4oZSl9fSxtPWZ1bmN0aW9uKGUsdCl7aWYoT2JqZWN0KGMuZ2V0UGFyYW1ldGVyKShcIlVQTE9BRF9MT0dcIikpdHJ5e3Q9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7dmFyIG49XCJcIjtpZih0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wib2JqZWN0XCI9PT1vKCkoZSkmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxuPW4rZStcIiBcIn0pKSxNLnB1c2goe3BheWxvYWQ6bixsb2dfbGV2ZWw6ZX0pLFUpcmV0dXJuO1wiZnJlZVwiPT09ayYmZnVuY3Rpb24gZSh0KXtrPVwidXBsb2FkaW5nXCIsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtnKHQsKGZ1bmN0aW9uKCl7eD0wLDAhPT1NLmxlbmd0aD8oUD1NLmxlbmd0aDwxMD9NLnNwbGljZSgwLE0ubGVuZ3RoKTpNLnNwbGljZSgwLDEwKSxlKFApKTprPVwiZnJlZVwifSksKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlKFApfSkseCsrPDI/MjAwOjFlNCl9KSl9KSwzZTMpfShQPU0ubGVuZ3RoPDEwP00uc3BsaWNlKDAsTS5sZW5ndGgpOk0uc3BsaWNlKDAsMTApKX1jYXRjaChlKXt9fTt0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVswXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTtlLmFwcGx5KHRoaXMsdCl9LG49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WzFdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO2UuYXBwbHkodGhpcyx0KX0scj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bMl0sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7ZS5hcHBseSh0aGlzLHQpfSxpPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVszXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTtlLmFwcGx5KHRoaXMsdCl9O3ZhciBoPXt9O3JldHVybiB1PWZ1bmN0aW9uKGUpe2hbZV18fChyLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpLGhbZV09ITApfSx7REVCVUc6MCxJTkZPOjEsV0FSTklORzoyLEVSUk9SOjMsTk9ORTo0LHN0b3BXYWl0Sm9pbjpmdW5jdGlvbigpe1U9ITF9LGVuYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe09iamVjdChjLnNldFBhcmFtZXRlcikoXCJVUExPQURfTE9HXCIsITApfSxkaXNhYmxlTG9nVXBsb2FkOmZ1bmN0aW9uKCl7T2JqZWN0KGMuc2V0UGFyYW1ldGVyKShcIlVQTE9BRF9MT0dcIiwhMSl9LHNldFByb3h5U2VydmVyOmZ1bmN0aW9uKGUpe2w9ZT9cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvbHMvP2g9XCIpLmNvbmNhdChPYmplY3QoYy5nZXRQYXJhbWV0ZXIpKFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCImcD00NDMmZD11cGxvYWQvdjJcIik6XCJodHRwczovL1wiLmNvbmNhdChPYmplY3QoYy5nZXRQYXJhbWV0ZXIpKFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCIvdXBsb2FkL3YyXCIpfSxzZXRMb2dMZXZlbDpmdW5jdGlvbihlKXtlPjQ/ZT00OmU8MCYmKGU9MCkscD1lfSxsb2c6ZT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXSx0PWFyZ3VtZW50cztpZih0WzBdPWEoKStcIiBBZ29yYS1TREsgW1wiKyhmW2VdfHxcIkRFRkFVTFRcIikrXCJdOlwiLG0oZSx0KSwhKGU8cCkpc3dpdGNoKGUpe2Nhc2UgMDpjYXNlIDE6Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSx0KTticmVhaztjYXNlIDI6Y29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsdCk7YnJlYWs7Y2FzZSAzOmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsdCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLHQpfX0sZGVidWc6dCxpbmZvOm4sd2FybmluZzpyLGRlcHJlY2F0ZTp1LGVycm9yOml9fSgpO3QuZGVmYXVsdD1qfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwicmVwb3J0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksbi5kKHQsXCJTRVNTSU9OX0lOSVRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCxcIkpPSU5fQ0hPT1NFX1NFUlZFUlwiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LFwiSk9JTl9HQVRFV0FZXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKHQsXCJQVUJMSVNIXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsXCJTVUJTQ1JJQkVcIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCxcImdldFByb2Nlc3NJZFwiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oNDYpLGk9bi5uKHIpLG89big3KSxhPW4ubihvKSxzPW4oMiksYz1uKDApLGQ9bigxNCksdT1uKDI4KSxsPW4ubih1KSxmPW4oNDcpO2Z1bmN0aW9uIHAoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGcoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgbSxoLHY9XCJzZXNzaW9uX2luaXRcIixFPVwiam9pbl9jaG9vc2Vfc2VydmVyXCIsUz1cImpvaW5fZ2F0ZXdheVwiLF89XCJwdWJsaXNoXCIseT1cInN1YnNjcmliZVwiLFI9bmV3KG4ubihmKS5hKSxUPXtldmVudFR5cGU6bnVsbCxzaWQ6bnVsbCxsdHM6bnVsbCxzdWNjZXNzOm51bGwsY25hbWU6bnVsbCx1aWQ6bnVsbCxwZWVyOm51bGwsY2lkOm51bGwsZWxhcHNlOm51bGwsZXh0ZW5kOm51bGwsdmlkOjB9LEk9bnVsbCxiPWZ1bmN0aW9uKCl7cmV0dXJuIEl8fChJPVwicHJvY2Vzcy1cIitsKCkoKSxjLmRlZmF1bHQuaW5mbyhcInByb2Nlc3NJZDogXCIrSSkpLEl9LEE9KGg9MCwobT17bGlzdDp7fSxzZXRQcm94eVNlcnZlcjpmdW5jdGlvbihlKXtSLnNldFByb3h5KGUpLG0ucHJveHlTZXJ2ZXJVUkw9ZX0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIG0ucHJveHlTZXJ2ZXJVUkw/XCJodHRwczovL1wiLmNvbmNhdChtLnByb3h5U2VydmVyVVJMLFwiL3JzLz9oPVwiKS5jb25jYXQoT2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCImcD02NDQzJmQ9ZXZlbnRzL21lc3NhZ2VcIik6XCJodHRwczovL1wiLmNvbmNhdChPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiKSxcIjo2NDQzL2V2ZW50cy9tZXNzYWdlXCIpfSxnZXRCYWNrVXJsOmZ1bmN0aW9uKCl7cmV0dXJuIG0ucHJveHlTZXJ2ZXJVUkw/XCJodHRwczovL1wiLmNvbmNhdChtLnByb3h5U2VydmVyVVJMLFwiL3JzLz9oPVwiKS5jb25jYXQoT2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiJnA9NjQ0MyZkPWV2ZW50cy9tZXNzYWdlXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoT2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiOjY0NDMvZXZlbnRzL21lc3NhZ2VcIil9LGdldFNlc3Npb25TdGFydFRpbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG0ubGlzdFtlXT9tLmxpc3RbZV0uc3RhcnRUaW1lOihjLmRlZmF1bHQuREVCVUcoXCJbZ2V0U2Vzc2lvblN0YXJ0VGltZV06IHNlc3Npb24gXCIuY29uY2F0KGUsXCIgbm8gZXhpdFwiKSksMCl9LHNlc3Npb25Jbml0OmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LFQpO24uc3RhcnRUaW1lPStuZXcgRGF0ZSxuLnNpZD1lLG4uY25hbWU9dC5jbmFtZSxtLmxpc3RbZV09bjt2YXIgcj1hKCkoe30se3dpbGxVcGxvYWRDb25zb2xlTG9nOk9iamVjdChzLmdldFBhcmFtZXRlcikoXCJVUExPQURfTE9HXCIpLGFyZWFWZXJzaW9uOlwiZ2xvYmFsXCJ9LHQuZXh0ZW5kKSxpPWEoKSh7fSxuKTtpLmV2ZW50VHlwZT12LGkuYXBwaWQ9dC5hcHBpZCxpLmJyb3dzZXI9bmF2aWdhdG9yLnVzZXJBZ2VudCxpLmJ1aWxkPXMuQlVJTEQsaS5sdHM9K25ldyBEYXRlLGkuZWxhcHNlPWkubHRzLWkuc3RhcnRUaW1lLGkuZXh0ZW5kPUpTT04uc3RyaW5naWZ5KHIpLGkubW9kZT10Lm1vZGUsaS5wcm9jZXNzPWIoKSxpLnN1Y2Nlc3M9dC5zdWNjLGkudmVyc2lvbj1zLlZFUlNJT04sZGVsZXRlIGkuc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIlNlc3Npb25cIixkYXRhOml9KSxtLl9mbHVzaEludm9rZVJlcG9ydChlKX0sam9pbkNob29zZVNlcnZlcjI6ZnVuY3Rpb24oZSx0LG4pe2lmKG0ubGlzdFtlXSl7bS5saXN0W2VdLnVpZHx8KHQudWlkJiYobS5saXN0W2VdLnVpZD1wYXJzZUludCh0LnVpZCkpLHQuY2lkJiYobS5saXN0W2VdLmNpZD1wYXJzZUludCh0LmNpZCkpLHQudmlkJiYobS5saXN0W2VdLnZpZD1wYXJzZUludCh0LnZpZCkpKTt2YXIgcj1hKCkoe30sbS5saXN0W2VdKTtyLmV2ZW50VHlwZT1FO3ZhciBpPXQubHRzO3IubHRzPURhdGUubm93KCksci5ldmVudEVsYXBzZT1yLmx0cy1pLHIuY2hvb3NlU2VydmVyQWRkcj10LmNzQWRkcixyLmVycm9yQ29kZT10LmVjLHIuZWxhcHNlPXIubHRzLXIuc3RhcnRUaW1lLHIuc3VjY2Vzcz10LnN1Y2Msci5jaG9vc2VTZXJ2ZXJJcD10LmNob29zZVNlcnZlcklwfHxcIlwiLHIuY2hvb3NlU2VydmVyQWRkckxpc3Q9SlNPTi5zdHJpbmdpZnkodC5zZXJ2ZXJMaXN0KSxkZWxldGUgci5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiSm9pbkNob29zZVNlcnZlclwiLGRhdGE6cn0pfX0sam9pbkNob29zZVNlcnZlcjpmdW5jdGlvbihlLHQsbil7aWYobS5saXN0W2VdKXtuJiYodC51aWQmJihtLmxpc3RbZV0udWlkPXBhcnNlSW50KHQudWlkKSksdC5jaWQmJihtLmxpc3RbZV0uY2lkPXBhcnNlSW50KHQuY2lkKSksdC52aWQmJihtLmxpc3RbZV0udmlkPXBhcnNlSW50KHQudmlkKSkpO3ZhciByPWEoKSh7fSxtLmxpc3RbZV0pO3IuZXZlbnRUeXBlPUU7dmFyIGk9dC5sdHM7ci5sdHM9RGF0ZS5ub3coKSxyLmV2ZW50RWxhcHNlPXIubHRzLWksci5jaG9vc2VTZXJ2ZXJBZGRyPXQuY3NBZGRyLHIuZXJyb3JDb2RlPXQuZWMsci5lbGFwc2U9ci5sdHMtci5zdGFydFRpbWUsci5zdWNjZXNzPXQuc3VjYyxyLmNob29zZVNlcnZlcklwPXQuY2hvb3NlU2VydmVySXB8fFwiXCIsci5jaG9vc2VTZXJ2ZXJBZGRyTGlzdD1KU09OLnN0cmluZ2lmeSh0LnNlcnZlckxpc3QpLGRlbGV0ZSByLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJKb2luQ2hvb3NlU2VydmVyXCIsZGF0YTpyfSl9fSxyZXFVc2VyQWNjb3VudDpmdW5jdGlvbihlLHQpe3QudmlkJiYobS5saXN0W2VdLnZpZD1wYXJzZUludCh0LnZpZCkpO3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pLHI9dC5sdHM7bi5ldmVudFR5cGU9XCJyZXFfdXNlcl9hY2NvdW50XCIsbi5sdHM9RGF0ZS5ub3coKSxuLnN1Y2Nlc3M9dC5zdWNjZXNzLG4uc2VydmVyQWRkcmVzcz10LnNlcnZlckFkZHJlc3Msbi5zdHJpbmdVaWQ9dC5zdHJpbmdVaWQsbi51aWQ9dC51aWQsbi5lcnJvckNvZGU9dC5lcnJvckNvZGUsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5ldmVudEVsYXBzZT1uLmx0cy1yLG4uZXh0ZW5kPVwic3RyaW5nXCI9PXR5cGVvZiB0LmV4dGVuZD90LmV4dGVuZDpKU09OLnN0cmluZ2lmeSh0LmV4dGVuZCksZGVsZXRlIG4uc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIlJlcVVzZXJBY2NvdW50XCIsZGF0YTpufSl9LGpvaW5HYXRld2F5OmZ1bmN0aW9uKGUsdCl7dC52aWQmJihtLmxpc3RbZV0udmlkPXBhcnNlSW50KHQudmlkKSksdC51aWQmJihtLmxpc3RbZV0udWlkPXBhcnNlSW50KHQudWlkKSk7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSkscj10Lmx0cztuLmV2ZW50VHlwZT1TLG4uZmlyc3RTdWNjZXNzPXQuZmlyc3RTdWNjZXNzLG4ubHRzPURhdGUubm93KCksbi5nYXRld2F5QWRkcj10LmFkZHIsbi5zdWNjZXNzPXQuc3VjYyxuLmVycm9yQ29kZT10LmVjLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4uZXZlbnRFbGFwc2U9bi5sdHMtcixkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiSm9pbkdhdGV3YXlcIixkYXRhOm59KX0scHVibGlzaDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPV87dmFyIHI9dC5sdHM7bi5sdHM9RGF0ZS5ub3coKSxuLmV2ZW50RWxhcHNlPW4ubHRzLXIsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5zdWNjZXNzPXQuc3VjYyxuLmVycm9yQ29kZT10LmVjLG4uYXVkaW89dC5hdWRpbyxuLnZpZGVvPXQudmlkZW8sbi5zY3JlZW5zaGFyZT10LnNjcmVlbnNoYXJlLG4ucHVibGlzaFJlcXVlc3RpZD10LnB1Ymxpc2hSZXF1ZXN0aWQsbi5wMnBpZD10LnAycGlkLHQudmlkZW9OYW1lJiYobi52aWRlb05hbWU9dC52aWRlb05hbWUpLHQuYXVkaW9OYW1lJiYobi5hdWRpb05hbWU9dC5hdWRpb05hbWUpLHQuc2NyZWVuTmFtZSYmKG4uc2NyZWVuTmFtZT10LnNjcmVlbk5hbWUpLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJQdWJsaXNoXCIsZGF0YTpufSksbS5fZmx1c2hJbnZva2VSZXBvcnQoZSl9LHN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPXk7dmFyIHI9dC5sdHM7bi5sdHM9RGF0ZS5ub3coKSxuLmV2ZW50RWxhcHNlPW4ubHRzLXIsbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5lcnJvckNvZGU9dC5lYyxuLnN1Y2Nlc3M9dC5zdWNjLG4uc3Vic2NyaWJlUmVxdWVzdGlkPXQuc3Vic2NyaWJlUmVxdWVzdGlkLG4ucDJwaWQ9dC5wMnBpZCxpc0Zpbml0ZSh0LnBlZXJpZCk/bi5wZWVyPXQucGVlcmlkOm4ucGVlclN1aWQ9XCJcIit0LnBlZXJpZCxcImJvb2xlYW5cIj09dHlwZW9mIHQudmlkZW8mJihuLnZpZGVvPXQudmlkZW8pLFwiYm9vbGVhblwiPT10eXBlb2YgdC5hdWRpbyYmKG4uYXVkaW89dC5hdWRpbyksZGVsZXRlIG4uc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIlN1YnNjcmliZVwiLGRhdGE6bn0pLG0uX2ZsdXNoSW52b2tlUmVwb3J0KGUpfSxmaXJzdFJlbW90ZUZyYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJmaXJzdF9yZW1vdGVfZnJhbWVcIjt2YXIgcj10Lmx0cztuLmx0cz1EYXRlLm5vdygpLG4uZXZlbnRFbGFwc2U9bi5sdHMtcixuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLndpZHRoPXQud2lkdGgsbi5oZWlnaHQ9dC5oZWlnaHQsbi5zdWNjZXNzPXQuc3VjYyxuLmVycm9yQ29kZT10LmVjLGlzRmluaXRlKHQucGVlcmlkKT9uLnBlZXI9dC5wZWVyaWQ6bi5wZWVyU3VpZD1cIlwiK3QucGVlcmlkLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJGaXJzdEZyYW1lXCIsZGF0YTpufSl9LGZpcnN0VmlkZW9SZWNlaXZlZDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwiZmlyc3RfdmlkZW9fcmVjZWl2ZWRcIixuLmx0cz1EYXRlLm5vdygpLG4ucGVlcj10LnBlZXJpZCxuLnVpZD10LnVpZCxuLmVsYXBzZT10LmVsYXBzZSxuLnN1YnNjcmliZUVsYXBzZT10LnN1YnNjcmliZUVsYXBzZSxuLnN1YnNjcmliZVJlcXVlc3RpZD10LnN1YnNjcmliZVJlcXVlc3RpZCxuLnAycGlkPXQucDJwaWQsbS5zZW5kKHt0eXBlOlwiRmlyc3RWaWRlb1JlY2VpdmVkXCIsZGF0YTpufSl9LGZpcnN0QXVkaW9SZWNlaXZlZDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwiZmlyc3RfYXVkaW9fcmVjZWl2ZWRcIixuLmx0cz1EYXRlLm5vdygpLG4ucGVlcj10LnBlZXJpZCxuLnVpZD10LnVpZCxuLmVsYXBzZT10LmVsYXBzZSxuLnN1YnNjcmliZUVsYXBzZT10LnN1YnNjcmliZUVsYXBzZSxuLnN1YnNjcmliZVJlcXVlc3RpZD10LnN1YnNjcmliZVJlcXVlc3RpZCxuLnAycGlkPXQucDJwaWQsbS5zZW5kKHt0eXBlOlwiRmlyc3RBdWRpb1JlY2VpdmVkXCIsZGF0YTpufSl9LGZpcnN0VmlkZW9EZWNvZGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cImZpcnN0X3ZpZGVvX2RlY29kZVwiLG4ubHRzPURhdGUubm93KCksbi5wZWVyPXQucGVlcmlkLG4udWlkPXQudWlkLG4uZWxhcHNlPXQuZWxhcHNlLG4udmlkZW93aWR0aD10LndpZHRoLG4udmlkZW9oZWlnaHQ9dC5oZWlnaHQsbi5zdWJzY3JpYmVFbGFwc2U9dC5zdWJzY3JpYmVFbGFwc2Usbi5zdWJzY3JpYmVSZXF1ZXN0aWQ9dC5zdWJzY3JpYmVSZXF1ZXN0aWQsbi5wMnBpZD10LnAycGlkLG0uc2VuZCh7dHlwZTpcIkZpcnN0VmlkZW9EZWNvZGVcIixkYXRhOm59KX0sZmlyc3RBdWRpb0RlY29kZTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwiZmlyc3RfYXVkaW9fZGVjb2RlXCIsbi5sdHM9RGF0ZS5ub3coKSxuLnVpZD10LnVpZCxuLnBlZXI9dC5wZWVyaWQsbi5lbGFwc2U9dC5lbGFwc2Usbi5zdWJzY3JpYmVFbGFwc2U9dC5zdWJzY3JpYmVFbGFwc2Usbi5zdWJzY3JpYmVSZXF1ZXN0aWQ9dC5zdWJzY3JpYmVSZXF1ZXN0aWQsbi5wMnBpZD10LnAycGlkLG0uc2VuZCh7dHlwZTpcIkZpcnN0QXVkaW9EZWNvZGVcIixkYXRhOm59KX0sb25BZGRBdWRpb1N0cmVhbTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwib25fYWRkX2F1ZGlvX3N0cmVhbVwiLG4ubHRzPURhdGUubm93KCksbi51aWQ9dC51aWQsbi5wZWVyPXQucGVlcmlkLG0uc2VuZCh7dHlwZTpcIk9uQWRkQXVkaW9TdHJlYW1cIixkYXRhOm59KX0sb25BZGRWaWRlb1N0cmVhbTpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLG4ubHRzPURhdGUubm93KCksbi51aWQ9dC51aWQsbi5wZWVyPXQucGVlcmlkLG0uc2VuZCh7dHlwZTpcIk9uQWRkVmlkZW9TdHJlYW1cIixkYXRhOm59KX0sb25VcGRhdGVTdHJlYW06ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cIm9uX3VwZGF0ZV9zdHJlYW1cIixuLmx0cz1EYXRlLm5vdygpLG4udWlkPXQudWlkLG4ucGVlcj10LnBlZXJpZCxuLmF1ZGlvPXQuYXVkaW8sbi52aWRlbz10LnZpZGVvLG0uc2VuZCh7dHlwZTpcIk9uVXBkYXRlU3RyZWFtXCIsZGF0YTpufSl9LG9uUmVtb3ZlU3RyZWFtOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJvbl9yZW1vdmVfc3RyZWFtXCIsbi5sdHM9RGF0ZS5ub3coKSxuLnVpZD10LnVpZCxuLnBlZXI9dC5wZWVyaWQsbS5zZW5kKHt0eXBlOlwiT25SZW1vdmVTdHJlYW1cIixkYXRhOm59KX0sc3RyZWFtU3dpdGNoOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSk7bi5ldmVudFR5cGU9XCJzdHJlYW1fc3dpdGNoXCIsbi5sdHM9RGF0ZS5ub3coKSxuLmlzRHVhbD10LmlzZHVhbCxuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLnN1Y2Nlc3M9bi5zdWNjLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJTdHJlYW1Td2l0Y2hcIixkYXRhOm59KX0sYXVkaW9TZW5kaW5nU3RvcHBlZDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pO24uZXZlbnRUeXBlPVwiYXVkaW9fc2VuZGluZ19zdG9wcGVkXCIsbi5sdHM9RGF0ZS5ub3coKSxuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLnJlYXNvbj10LnJlYXNvbixuLnN1Y2Nlc3M9dC5zdWNjLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJBdWRpb1NlbmRpbmdTdG9wcGVkXCIsZGF0YTpufSl9LHZpZGVvU2VuZGluZ1N0b3BwZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKTtuLmV2ZW50VHlwZT1cInZpZGVvX3NlbmRpbmdfc3RvcHBlZFwiLG4ubHRzPURhdGUubm93KCksbi5lbGFwc2U9bi5sdHMtbi5zdGFydFRpbWUsbi5yZXNvbj10LnJlYXNvbixuLnN1Y2Nlc3M9dC5zdWNjLGRlbGV0ZSBuLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJWaWRlb1NlbmRpbmdTdG9wcGVkXCIsZGF0YTpufSl9LHJlcXVlc3RQcm94eUFwcENlbnRlcjpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pLHI9dC5sdHM7bi5ldmVudFR5cGU9XCJyZXF1ZXN0X3Byb3h5X2FwcGNlbnRlclwiLG4ubHRzPURhdGUubm93KCksbi5ldmVudEVsYXBzZT1uLmx0cy1yLG4uZWxhcHNlPW4ubHRzLW4uc3RhcnRUaW1lLG4uZXh0ZW5kPXQuZXh0ZW5kK1wiXCIsbi5BUEFkZHI9dC5BUEFkZHIsbi53b3JrZXJNYW5hZ2VyTGlzdD10Lndvcmtlck1hbmFnZXJMaXN0LG4ucmVzcG9uc2U9dC5yZXNwb25zZSxuLmVycm9yQ29kZT10LmVjLG4uc3VjY2Vzcz10LnN1Y2MsZGVsZXRlIG4uc3RhcnRUaW1lLG0uc2VuZCh7dHlwZTpcIlJlcXVlc3RQcm94eUFwcENlbnRlclwiLGRhdGE6bn0pfSxyZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyOmZ1bmN0aW9uKGUsdCl7dmFyIG49YSgpKHt9LG0ubGlzdFtlXSkscj10Lmx0cztuLmV2ZW50VHlwZT1cInJlcXVlc3RfcHJveHlfd29ya2VyX21hbmFnZXJcIixuLmx0cz1EYXRlLm5vdygpLG4uZXZlbnRFbGFwc2U9bi5sdHMtcixuLmVsYXBzZT1uLmx0cy1uLnN0YXJ0VGltZSxuLmV4dGVuZD10LmV4dGVuZCxuLndvcmtlck1hbmFnZXJBZGRyPXQud29ya2VyTWFuYWdlckFkZHIsbi5yZXNwb25zZT10LnJlc3BvbnNlLG4uZXJyb3JDb2RlPXQuZWMsbi5zdWNjZXNzPXQuc3VjYyxkZWxldGUgbi5zdGFydFRpbWUsbS5zZW5kKHt0eXBlOlwiUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiLGRhdGE6bn0pfSxyZXF1ZXN0V29ya2VyRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKCkoe30sbS5saXN0W2VdKSxyPW4uc3RhcnRUaW1lLGk9RGF0ZS5ub3coKTtkZWxldGUobj1nKHt9LG4se30sdCx7ZWxhcHNlOmktcixsdHM6aSxwcm9kdWN0VHlwZTpcIldlYlJUQ1wifSkpLnN0YXJ0VGltZSxtLnNlbmQoe3R5cGU6XCJXb3JrZXJFdmVudFwiLGRhdGE6bn0pfSxyZXF1ZXN0QXBXb3JrZXJFdmVudDpmdW5jdGlvbihlLHQpe3ZhciBuPWEoKSh7fSxtLmxpc3RbZV0pLHI9bi5zdGFydFRpbWUsaT1EYXRlLm5vdygpO249Zyh7fSxuLHt9LHQse2VsYXBzZTppLXIsbHRzOml9KSxtLnNlbmQoe3R5cGU6XCJBUFdvcmtlckV2ZW50XCIsZGF0YTpufSl9LHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17dHlwZTpcIlVzZXJBbmFseXRpY3NcIixkYXRhOmcoe3NpZDplfSx0KX0saT1tLmdldFVybCgpLG89ISFtLnByb3h5U2VydmVyVVJMO09iamVjdChkLnBvc3QpKGksciwoZnVuY3Rpb24oZSl7biYmbigpfSksKGZ1bmN0aW9uKGUpe3ZhciB0PW0uZ2V0QmFja1VybCgpO09iamVjdChkLnBvc3QpKHQsciwoZnVuY3Rpb24oZSl7biYmbigpfSksKGZ1bmN0aW9uKGUpe24mJm4oXCJGYWlsZWRcIil9KSxvP3t0aW1lb3V0Ok9iamVjdChzLmdldFBhcmFtZXRlcikoXCJDVVNUT01FUl9SRVBPUlRfVElNRU9VVFwiKX06e3RpbWVvdXQ6T2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkNVU1RPTUVSX1JFUE9SVF9USU1FT1VUXCIpLFwiQ2FjaGUtQ29udHJvbFwiOlwibm8tY2FjaGUsIG5vLXN0b3JlXCIsUHJhZ21hOlwibm8tY2FjaGVcIixFeHBpcmVzOlwiMFwifSl9KSxvP3t0aW1lb3V0Ok9iamVjdChzLmdldFBhcmFtZXRlcikoXCJDVVNUT01FUl9SRVBPUlRfVElNRU9VVFwiKX06e3RpbWVvdXQ6T2JqZWN0KHMuZ2V0UGFyYW1ldGVyKShcIkNVU1RPTUVSX1JFUE9SVF9USU1FT1VUXCIpLFwiQ2FjaGUtQ29udHJvbFwiOlwibm8tY2FjaGUsIG5vLXN0b3JlXCIsUHJhZ21hOlwibm8tY2FjaGVcIixFeHBpcmVzOlwiMFwifSl9LGpvaW5DaGFubmVsVGltZU91dDpmdW5jdGlvbihlKXttLnNlbmQoe3R5cGU6XCJKb2luQ2hhbm5lbFRpbWVvdXRcIixkYXRhOmcoe30sZSl9KX0scGVlclB1Ymxpc2hTdGF0dXM6ZnVuY3Rpb24oZSl7bS5zZW5kKHt0eXBlOlwiUGVlclB1Ymxpc2hTdGF0dXNcIixkYXRhOmcoe30sZSl9KX0sam9pbldlYlByb3h5QVA6ZnVuY3Rpb24oZSl7bS5zZW5kKHt0eXBlOlwiSm9pbldlYlByb3h5QVBcIixkYXRhOmcoe30sZSl9KX0sd2ViU29ja2V0UXVpdDpmdW5jdGlvbihlKXttLnNlbmQoe3R5cGU6XCJXZWJTb2NrZXRRdWl0XCIsZGF0YTpnKHt9LGUpfSl9fSkucmVwb3J0QXBpSW52b2tlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC50YWcscj10Lm5hbWUsaT10LmdldFN0YXRlcyxvPXQub3B0aW9ucyxhPXQudGltZW91dCxkPXZvaWQgMD09PWE/NmU0OmEsdT10LmNhbGxiYWNrLGw9dC5yZXBvcnRSZXN1bHQsZj12b2lkIDA9PT1sfHxsLHA9RGF0ZS5ub3coKSxtPTAsdj1oKyssRT1mdW5jdGlvbigpe3JldHVybiBnKHt0YWc6bixpbnZva2VJZDp2LHNpZDplLG5hbWU6cixhcGlJbnZva2VUaW1lOnAsb3B0aW9uczpvfSxpJiZ7c3RhdGVzOih0PWkoKSxPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZTtyZXR1cm4gbnVsbCE9dFtuXSYmKHJbbl09dFtuXSkscn0pLHt9KSl9KTt2YXIgdH0sUz0hIU9iamVjdChzLmdldFBhcmFtZXRlcikoXCJTSE9XX1JFUE9SVF9JTlZPS0VSX0xPR1wiKTtTJiZjLmRlZmF1bHQuaW5mbyhcIlwiLmNvbmNhdChyLFwiIHN0YXJ0XCIpKTt2YXIgXz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe0EuX3NlbmRBcGlJbnZva2UoZyh7fSxFKCkse2Vycm9yOlwiQVBJX0lOVk9LRV9USU1FT1VUXCIsc3VjY2VzczohMX0pKX0pLGQpO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKGNsZWFyVGltZW91dChfKSwrK20+MSYmKGU9XCJFWEVDVVRPUl9JTlZPS0VfXCIuY29uY2F0KG0pKSxlKXJldHVybiBBLl9zZW5kQXBpSW52b2tlKGcoe30sRSgpLHtzdWNjZXNzOiExLGVycm9yOmV9LGkmJntzdGF0ZXM6aSgpfSkpLFMmJmMuZGVmYXVsdC5pbmZvKFwiXCIuY29uY2F0KHIsXCIgb25GYWlsdXJlXCIpLGUpLHUmJnUoZSk7QS5fc2VuZEFwaUludm9rZShnKHt9LEUoKSx7c3VjY2VzczohMH0sZiYme3Jlc3VsdDp0fSx7fSxpJiZ7c3RhdGVzOmkoKX0pKSxTJiZjLmRlZmF1bHQuaW5mbyhcIlwiLmNvbmNhdChyLFwiIG9uU3VjY2Vzc1wiKSksdSYmdShudWxsLHQpfX0sbS5fY2FjaGVkSXRlbXM9W10sbS5fY2FjaGVJbnZva2VSZXBvcnQ9ZnVuY3Rpb24oZSl7ZS5sdHN8fChlLmx0cz1EYXRlLm5vdygpKSxtLl9jYWNoZWRJdGVtcy5wdXNoKGUpLG0uX2NhY2hlZEl0ZW1zLmxlbmd0aD41MCYmbS5fY2FjaGVkSXRlbXMuc2hpZnQoKX0sbS5fZmx1c2hJbnZva2VSZXBvcnQ9ZnVuY3Rpb24oZSl7aWYobS5fY2FjaGVkSXRlbXMubGVuZ3RoKXt2YXIgdD1tLl9jYWNoZWRJdGVtczttLl9jYWNoZWRJdGVtcz1bXSxjLmRlZmF1bHQuZGVidWcoXCJGbHVzaCBjYWNoZWQgZXZlbnQgcmVwb3J0aW5nOlwiLHQubGVuZ3RoKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dC5zaWQ9ZSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe20uX3NlbmRBcGlJbnZva2UodCl9KSw1ZTMrNTAwKm4pfSkpfX0sbS5fc2VuZEFwaUludm9rZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhZyxuPWUuaW52b2tlSWQscj1lLnNpZCxpPWUubmFtZSxvPWUucmVzdWx0LGE9ZS5zdGF0ZXMsYz1lLm9wdGlvbnMsZD1lLmVycm9yLHU9ZS5zdWNjZXNzLGw9ZS5hcGlJbnZva2VUaW1lLGY9ZS5sdHMscD1PYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiTk9UX1JFUE9SVF9FVkVOVFwiKTtpZighKHQmJnAgaW5zdGFuY2VvZiBBcnJheSYmLTEhPT1wLmluZGV4T2YodCkpKWlmKG0ubGlzdFtyXSl7dmFyIGg9bS5saXN0W3JdLHY9aC5zdGFydFRpbWUsRT1oLmNuYW1lLFM9aC51aWQsXz1oLmNpZCx5PShmPWZ8fERhdGUubm93KCkpLXYsUj1mLWwsVD1cIlwiO2lmKGMpdHJ5e1Q9SlNPTi5zdHJpbmdpZnkoYyl9Y2F0Y2goZSl7VD1jLnRvU3RyaW5nKCl9dmFyIEk9Zyh7aW52b2tlSWQ6bixzaWQ6cixjbmFtZTpFLGNpZDpfLGx0czpmLHVpZDpTLHN1Y2Nlc3M6dSxlbGFwc2U6eSxhcGlOYW1lOmksZXhlY0VsYXBzZTpSfSx2b2lkIDAhPT1jJiZ7b3B0aW9uczpUfSx7fSx2b2lkIDAhPT1hJiZ7ZXhlY1N0YXRlczpKU09OLnN0cmluZ2lmeShhKX0se30sdm9pZCAwIT09ZCYme2Vycm9yQ29kZTpKU09OLnN0cmluZ2lmeShkKX0se30sdm9pZCAwIT09byYme2V4ZWNSZXN1bHQ6SlNPTi5zdHJpbmdpZnkobyl9KTttLnNlbmQoe3R5cGU6XCJBcGlJbnZva2VcIixkYXRhOkl9KX1lbHNlIG0uX2NhY2hlSW52b2tlUmVwb3J0KGFyZ3VtZW50c1swXSl9LG0uc2VuZENhY2hlPVtdLG0uc2VuZFRpbWVyPW51bGwsbS5zZW5kPWZ1bmN0aW9uKGUpe2lmKGUuZGF0YSl7dmFyIHQ9ZS5kYXRhO20uX2xhc3RMdHMmJm0uX2xhc3RMdHM+PXQubHRzJiYodC5sdHM9bS5fbGFzdEx0cysxKSxtLl9sYXN0THRzPXQubHRzfWlmKG0uc2VuZENhY2hlLnB1c2goZSksbnVsbD09PW0uc2VuZFRpbWVyKXJldHVybiBmdW5jdGlvbiBlKCl7bS5zZW5kVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpZigwIT09bS5zZW5kQ2FjaGUubGVuZ3RoKXt2YXIgdD1tLnNlbmRDYWNoZS5sZW5ndGg8MTA/bS5zZW5kQ2FjaGUuc3BsaWNlKDAsbS5zZW5kQ2FjaGUubGVuZ3RoKTptLnNlbmRDYWNoZS5zcGxpY2UoMCwxMCksbj1tLmxpc3RbdFswXS5kYXRhLnNpZF0udmlkO3JldHVybiBSLnNlbmRSZXBvcnRMaXN0KHQsbiksZSgpfW0uc2VuZFRpbWVyPW51bGx9KSxPYmplY3Qocy5nZXRQYXJhbWV0ZXIpKFwiRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUxcIikpfSgpfSxtKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuQlVJTEQ9XCJ2My42LjktMC1nMzEwNzEyMFwiO3QuVkVSU0lPTj1cIjMuNi45XCI7dmFyIHI9MCpEYXRlLm5vdygpKzExNDk5Kzg2NjA0KzU2MTUrNjU0Nys4NDY7dC5TVVBQT1JUX1JFU09MVVRJT05fTElTVD17XCI5MHBfMVwiOlsxNjAsOTAsbnVsbCxudWxsLG51bGwsbnVsbF0sXCIxMjBwXzFcIjpbMTYwLDEyMCwxNSwxNSwzMCw2NV0sXCIxMjBwXzNcIjpbMTIwLDEyMCwxNSwxNSwzMCw1MF0sXCIxMjBwXzRcIjpbMjEyLDEyMCxudWxsLG51bGwsbnVsbCxudWxsXSxcIjE4MHBfMVwiOlszMjAsMTgwLDE1LDE1LDMwLDE0MF0sXCIxODBwXzNcIjpbMTgwLDE4MCwxNSwxNSwzMCwxMDBdLFwiMTgwcF80XCI6WzI0MCwxODAsMTUsMTUsMzAsMTIwXSxcIjI0MHBfMVwiOlszMjAsMjQwLDE1LDE1LDQwLDIwMF0sXCIyNDBwXzNcIjpbMjQwLDI0MCwxNSwxNSw0MCwxNDBdLFwiMjQwcF80XCI6WzQyNCwyNDAsMTUsMTUsNDAsMjIwXSxcIjM2MHBfMVwiOls2NDAsMzYwLDE1LDE1LDgwLDQwMF0sXCIzNjBwXzNcIjpbMzYwLDM2MCwxNSwxNSw4MCwyNjBdLFwiMzYwcF80XCI6WzY0MCwzNjAsMzAsMzAsODAsNjAwXSxcIjM2MHBfNlwiOlszNjAsMzYwLDMwLDMwLDgwLDQwMF0sXCIzNjBwXzdcIjpbNDgwLDM2MCwxNSwxNSw4MCwzMjBdLFwiMzYwcF84XCI6WzQ4MCwzNjAsMzAsMzAsODAsNDkwXSxcIjM2MHBfOVwiOls2NDAsMzYwLDE1LDE1LDgwLDgwMF0sXCIzNjBwXzEwXCI6WzY0MCwzNjAsMjQsMjQsODAsODAwXSxcIjM2MHBfMTFcIjpbNjQwLDM2MCwyNCwyNCw4MCwxZTNdLFwiNDgwcF8xXCI6WzY0MCw0ODAsMTUsMTUsMTAwLDUwMCwxLDVdLFwiNDgwcF8yXCI6WzY0MCw0ODAsMzAsMzAsMTAwLDFlMywyNSwzMF0sXCI0ODBwXzNcIjpbNDgwLDQ4MCwxNSwxNSwxMDAsNDAwXSxcIjQ4MHBfNFwiOls2NDAsNDgwLDMwLDMwLDEwMCw3NTBdLFwiNDgwcF82XCI6WzQ4MCw0ODAsMzAsMzAsMTAwLDYwMF0sXCI0ODBwXzhcIjpbODQ4LDQ4MCwxNSwxNSwxMDAsNjEwXSxcIjQ4MHBfOVwiOls4NDgsNDgwLDMwLDMwLDEwMCw5MzBdLFwiNDgwcF8xMFwiOls2NDAsNDgwLDEwLDEwLDEwMCw0MDBdLFwiNzIwcF8xXCI6WzEyODAsNzIwLDE1LDE1LDEyMCwxMTMwLDEsNV0sXCI3MjBwXzJcIjpbMTI4MCw3MjAsMzAsMzAsMTIwLDJlMywyNSwzMF0sXCI3MjBwXzNcIjpbMTI4MCw3MjAsMzAsMzAsMTIwLDE3MTBdLFwiNzIwcF81XCI6Wzk2MCw3MjAsMTUsMTUsMTIwLDkxMF0sXCI3MjBwXzZcIjpbOTYwLDcyMCwzMCwzMCwxMjAsMTM4MF0sXCIxMDgwcF8xXCI6WzE5MjAsMTA4MCwxNSwxNSwxMjAsMjA4MCwxLDVdLFwiMTA4MHBfMlwiOlsxOTIwLDk2MCwzMCwzMCwxMjAsM2UzLDI1LDMwXSxcIjEwODBwXzNcIjpbMTkyMCwxMDgwLDMwLDMwLDEyMCwzMTUwXSxcIjEwODBwXzVcIjpbMTkyMCwxMDgwLDYwLDYwLDEyMCw0NzgwXSxcIjE0NDBwXzFcIjpbMjU2MCwxNDQwLDMwLDMwLDEyMCw0ODUwXSxcIjE0NDBwXzJcIjpbMjU2MCwxNDQwLDYwLDYwLDEyMCw3MzUwXSxcIjRrXzFcIjpbMzg0MCwyMTYwLDMwLDMwLDEyMCw4OTEwXSxcIjRrXzNcIjpbMzg0MCwyMTYwLDYwLDYwLDEyMCwxMzUwMF19O3QuQVVESU9fUFJPRklMRV9TRVRUSU5HUz17c3BlZWNoX2xvd19xdWFsaXR5OlshMSwhMSwhMCwhMF0sc3BlZWNoX3N0YW5kYXJkOlshMSwhMSwhMCwhMV0sbXVzaWNfc3RhbmRhcmQ6WyExLCExLCExLCExXSxzdGFuZGFyZF9zdGVyZW86WyExLCEwLCExLCExXSxoaWdoX3F1YWxpdHk6WyEwLCExLCExLCExXSxoaWdoX3F1YWxpdHlfc3RlcmVvOlshMCwhMCwhMSwhMV0sZGVmYXVsdDpbITEsITEsITEsITFdfTt2YXIgaT17QVJFQV9TRVRUSU5HOltcIk5PUlRIX0FNRVJJQ0FcIixcIk9WRVJTRUFcIl0sV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpcImxvZ3NlcnZpY2Utb3ZlcnNlYS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9ET01BSU46XCJzdGF0c2NvbGxlY3Rvci0xLW92ZXJzZWEuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiLEVOQUJMRV9MSVZFX1NFUlZFUl9MSVNUOiExLExJVkVfU0VSVkVSX0xJU1Q6W10sQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUOjEsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9SQVRJTzoyLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVF9NQVg6NmU0LEFDQ09VTlRfUkVHSVNURVJfUkVUUllfQ09VTlRfTUFYOjFlNSxBVURJT19DT05URVhUOm51bGwsR0FURVdBWV9ET01BSU5TOltcImVkZ2UuYWdvcmEuaW9cIl0sV0VCQ1NfQkFDS1VQX0NPTk5FQ1RfVElNRU9VVDo2ZTMsTElWRVNUUkVBTUlOR19BTElHTjohMCxIVFRQX0NPTk5FQ1RfVElNRU9VVDo1ZTMsUExBWUVSX1NUQVRFX0RFRkVSOjJlMyxTSUdOQUxfUkVRVUVTVF9USU1FT1VUOjFlNyxTSUdOQUxfUkVRVUVTVF9XQVRDSF9JTlRFUlZBTDoxZTMsUkVQT1JUX1NUQVRTOiEwLFJFUE9SVF9TVEFUU19USU1FT1VUOjNlMyxVUExPQURfTE9HOiExLE5PVF9SRVBPUlRfRVZFTlQ6W10sRklMRVBBVEhfTEVOTUFYOjI1NSxTVUJTQ1JJQkVfVENDOiExLFBJTkdfUE9OR19USU1FX09VVDoxMCxEVUFMU1RSRUFNX09QRVJBVElPTl9DSEVDSzohMCxXRUJTT0NLRVRfVElNRU9VVF9NSU46MWU0LEVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMOjFlMyxNRURJQV9FTEVNRU5UX0VYSVNUU19ERVBUSDozLENBTkRJREFURV9USU1FT1VUOjJlMyxTSElNX0NBTkRJREFURTohMSxMRUFWRV9NU0dfVElNRU9VVDoyZTMsVElDS0VUX1JFTkVXX1RJTUVPVVQ6ODI4ZTUsTElWRV9TVFJFQU1JTkdfVElNRU9VVDoxMmU0LFNIT1dfUkVQT1JUX0lOVk9LRVJfTE9HOiExLFNUQVRTX0ZJTFRFUjp7dHJhbnNwb3J0SWQ6ITAsZ29vZ1RyYWNrSWQ6ITB9LEZPUkNFX1RVUk46ITEsVFVSTl9FTkFCTEVfVENQOiEwLFRVUk5fRU5BQkxFX1VEUDohMCxGT1JDRV9DSEFOR0VEX0dBVEVXQVlfRkxBRzohMSxKT0lOX0VYVEVORDpcIlwiLFBVQl9FWFRFTkQ6XCJcIixTVUJfRVhURU5EOlwiXCIsQ0hST01FX05FV19TVEFUUzohMSxBUF9CQUNLT0ZGX01BWF9USU1FOjgsU0VUX0RFRkFVTFRfVFVSTlNFUlZFUjohMCxUVVJOX1NFUlZFUl9QQVNTV09SRDpyLnRvU3RyaW5nKCksUFJPWFlfU0VSVkVSX1RZUEUyOlwid2VibmdpbngtcHJveHkuYWdvcmEuaW9cIixOR0lOWDpcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiLFwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCJdLENSOiEwLENSTDoxMCxDUkk6NixDVVNUT01FUl9SRVBPUlRfVElNRU9VVDo1ZTMsTElWRV9TVFJFQU1JTkdfQUREUkVTUzpcIlwiLENIT09TRV9TRVJWRVJfRlJBR0VNRU5UX0xFTkdUSDo0LFBMQU46XCJwbGFuLWJcIn07aS5BUkVBX1NFVFRJTkc9W1wiQ0hJTkFcIixcIkdMT0JBTFwiXSxpLldFQkNTX0RPTUFJTj1bXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxpLldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVD1bXCJ3ZWJydGMyLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTQuYXAuc2QtcnRuLmNvbVwiXSxpLlBST1hZX0NTPVtcImFwLXByb3h5LTEuYWdvcmEuaW9cIixcImFwLXByb3h5LTIuYWdvcmEuaW9cIl0saS5DRFNfQVA9W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxpLkFDQ09VTlRfUkVHSVNURVI9W1wic3VhLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJzdWEtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxpLlVBUF9BUD1bXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtYXAtd2ViLTMuYWdvcmEuaW9cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLGkuTE9HX1VQTE9BRF9TRVJWRVI9XCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCIsaS5FVkVOVF9SRVBPUlRfRE9NQUlOPVwid2ViLTIuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiLGkuRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU49XCJ3ZWItMy5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsaS5HQVRFV0FZX0RPTUFJTlM9W1wiZWRnZS5hZ29yYS5pb1wiLFwiZWRnZS5zZC1ydG4uY29tXCJdLGkuTkdJTlg9XCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiLGkuUFJPWFlfU0VSVkVSX1RZUEUzPVtcIndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCIsXCJ3ZWJydGMtY2xvdWQtcHJveHkuYWdvcmEuaW9cIl07dC5zZXRQYXJhbWV0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09aVtlXSYmKGlbZV09dCwhMCl9O3QuZ2V0UGFyYW1ldGVyPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1pW2VdP2lbZV06bnVsbH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJjaGVja1ZhbGlkT2JqZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsXCJjaGVja1ZhbGlkU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsXCJjaGVja1ZhbGlkTnVtYmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsXCJjaGVja1ZhbGlkQXJyYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCxcImNoZWNrVmFsaWRGbG9hdE51bWJlclwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LFwiY2hlY2tWYWxpZEJvb2xlYW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQodCxcImNoZWNrVmFsaWRFbnVtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJjaGVja1ZhbGlkVUlEXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKHQsXCJpc1ZhbGlkU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKHQsXCJpc1ZhbGlkTnVtYmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsXCJpc1ZhbGlkQm9vbGVhblwiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LFwiaXNBU0NJSVwiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZCh0LFwiaXNJbnRlZ2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKHQsXCJpc051bWJlclwiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLG4uZCh0LFwiaXNTdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCxcImlzQXJyYXlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCxcImlzRW1wdHlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQodCxcImlzVmFsaWRUb2tlblwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLG4uZCh0LFwiaXNWYWxpZENoYW5uZWxOYW1lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDEwKSxhPW4oMCkscz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspaWYoZT09PW5bcl0pcmV0dXJuITA7dGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHQsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKX0sYz1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW06IFwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZihcIm9iamVjdFwiIT09aSgpKGUpKXRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0fHxcIlRoaXMgcGFyYW10ZXJcIixcIiBpcyBvZiB0aGUgb2JqZWN0IHR5cGVcIikpO3JldHVybiEwfSxkPWZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYoQShuKSYmKG49MSkscj1yfHwyNTUsQShpKSYmKGk9ITApLEEoZSkpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHR8fFwicGFyYW1cIixcIiBjYW5ub3QgYmUgZW1wdHlcIikpO2lmKCFtKGUsbixyLGkpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgXCIuY29uY2F0KHR8fFwic3RyaW5nIHBhcmFtXCIsXCI6IExlbmd0aCBvZiB0aGUgc3RyaW5nOiBbXCIpLmNvbmNhdChuLFwiLFwiKS5jb25jYXQocixcIl0uXCIpLmNvbmNhdChpP1wiIEFTQ0lJIGNoYXJhY3RlcnMgb25seS5cIjpcIlwiKSl9LHU9ZnVuY3Rpb24oZSx0LG4scil7aWYoQShuKSYmKG49MSkscj1yfHwxZTQsQShlKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodHx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBlbXB0eVwiKSk7aWYoIWgoZSxuLHIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgXCIuY29uY2F0KHR8fFwibnVtYmVyIHBhcmFtXCIsXCI6IFRoZSB2YWx1ZSByYW5nZSBpcyBbXCIpLmNvbmNhdChuLFwiLFwiKS5jb25jYXQocixcIl0uIGludGVnZXIgb25seVwiKSl9LGw9ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodCxcIiBzaG91bGQgYmUgYW4gYXJyYXlcIikpfSxmPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHR8fFwicGFyYW1cIixcIiBjYW5ub3QgYmUgbnVsbFwiKSk7aWYoQShuKSYmKG49MCkscj1yfHwxZTQsQShlKSl0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQodHx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBlbXB0eVwiKSk7aWYoIXYoZSxuLHIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgXCIuY29uY2F0KHR8fFwibnVtYmVyIHBhcmFtXCIsXCI6IFRoZSB2YWx1ZSByYW5nZSBpcyBbXCIpLmNvbmNhdChuLFwiLFwiKS5jb25jYXQocixcIl0uXCIpKX0scD1mdW5jdGlvbihlLHQpe2lmKEEoZSkpdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHR8fFwicGFyYW1cIixcIiBjYW5ub3QgYmUgZW1wdHlcIikpO2lmKCFFKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgXCIuY29uY2F0KHR8fFwiYm9vbGVhbiBwYXJhbVwiLFwiOiBUaGUgdmFsdWUgaXMgb2YgdGhlIGJvb2xlYW4gdHlwZS5cIikpfSxnPWZ1bmN0aW9uKGUpe2lmKCFPYmplY3Qoby5pczMyVWludCkoZSkmJiFtKGUsMSwyNTUpKXRocm93IGEuZGVmYXVsdC5lcnJvcihcIkludmFsaWQgVUlEIFwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoaSgpKGUpKSksbmV3IEVycm9yKFwiW1N0cmluZyB1aWRdIExlbmd0aCBvZiB0aGUgc3RyaW5nOiBbMSwyNTVdLiBBU0NJSSBjaGFyYWN0ZXJzIG9ubHkuIFtOdW1iZXIgdWlkXSBUaGUgdmFsdWUgcmFuZ2UgaXMgWzAsMTAwMDBdXCIpfSxtPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0fHwodD0wKSxufHwobj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksQShyKSYmKHI9ITApLEkoZSkmJighcnx8eShlKSkmJmUubGVuZ3RoPj10JiZlLmxlbmd0aDw9bn0saD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFIoZSkmJmU+PXQmJmU8PW59LHY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBUKGUpJiZlPj10JiZlPD1ufSxFPWZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZX0sUz1mdW5jdGlvbihlKXtyZXR1cm4gbShlLDEsMjA0Nyl9LF89ZnVuY3Rpb24oZSl7cmV0dXJuIEkoZSkmJi9eW2EtekEtWjAtOSBcXCFcXCNcXCRcXCVcXCZcXChcXClcXCtcXC1cXDpcXDtcXDxcXD1cXC5cXD5cXD9cXEBcXFtcXF1cXF5cXF9cXHtcXH1cXHxcXH5cXCxdezEsNjR9JC8udGVzdChlKX0seT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWUuY2hhckNvZGVBdCh0KTtpZihuPDB8fG4+MjU1KXJldHVybiExfXJldHVybiEwfX0sUj1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZSUxPT0wfSxUPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfSxJPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxiPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXl9LEE9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiQVBFcnJvckNvZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCxcIkdhdGV3YXlFcnJvckNvZGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCxcIlN0cmluZ1VpZEVycm9yQ29kZVwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LFwiSk9JTl9HU19UUllORVhUX0xJU1RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCxcIkpPSU5fQ1NfUkVUUllfTElTVFwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LFwiSk9JTl9QUk9YWV9SRVRSWV9MSVNUXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsXCJJTkpFQ1RfU1RSRUFNX1NUQVRVU1wiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZCh0LFwiV0VCU09DS0VUX0NMT1NFX1JFQVNPTlwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPXsxMDEwMTAwOlwiTk9fRkxBR19TRVRcIiwxMDEwMTAxOlwiRkxBR19TRVRfQlVUX0VNUFRZXCIsMTAxMDEwMjpcIklOVkFMSURfRkFMR19TRVRcIiwyMDEwMDA1OlwiSU5WQUxJRF9WRU5ET1JfS0VZXCIsMjAxMDAwNzpcIklOVkFMSURfQ0hBTk5FTF9OQU1FXCIsMjAxMDAwODpcIklOVEVSTkFMX0VSUk9SXCIsMjAxMDAwOTpcIk5PX0FVVEhPUklaRURcIiwyMDEwMDEwOlwiRFlOQU1JQ19LRVlfVElNRU9VVFwiLDIwMTAwMTE6XCJOT19BQ1RJVkVfU1RBVFVTXCIsMjAxMDAxMzpcIkRZTkFNSUNfS0VZX0VYUElSRURcIiwyMDEwMDE0OlwiU1RBVElDX1VTRV9EWUFOTUlDX0tFWVwiLDIwMTAwMTU6XCJEWU5BTUlDX1VTRV9TVEFUSUNfS0VZXCIsMjAxMDAxNjpcIlVTRVJfT1ZFUkxPQURcIiwyMDEwMDE4OlwiRk9SQklEREVOX1JFR0lPTlwiLDIwMTAwMTk6XCJDQU5OT1RfTUVFVF9BUkVBX0RFTUFORFwifSxpPXsyZTM6XCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIiwyMDAxOlwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIiwyMDAyOlwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsMjAwMzpcIldBUk5fUkVQRUFUX0pPSU5cIiwyMDA0OlwiRVJSX0pPSU5fQllfTVVMVElfSVBcIiwyMDExOlwiRVJSX05PVF9KT0lORURcIiwyMDEyOlwiV0FSTl9SRVBFQVRfSk9JTlwiLDIwMTM6XCJFUlJfSU5WQUxJRF9WRU5ET1JfS0VZXCIsMjAxNDpcIkVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRVwiLDIwMTU6XCJFUlJfSU5WQUxJRF9TVFJJTkdVSURcIiwyMDE2OlwiRVJSX1RPT19NQU5ZX1VTRVJTXCIsMjAxNzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLDIwMTg6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX05PX1BFUk1JU1NJT05cIiwyMDE5OlwiRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRVwiLDIwMjA6XCJFUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURcIiwyMDIxOlwiRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURcIiwyMDIyOlwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLDIwMjM6XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsMjAyODpcIklMTEVHQUxfQUVTX1BBU1NXT1JEXCIsMTAxOlwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLDEwMjpcIkVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRVwiLDEwMzpcIldBUk5fTk9fQVZBSUxBQkxFX0NIQU5ORUxcIiwxMDQ6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRcIiwxMDU6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsMTA2OlwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLDEwNzpcIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsMTA4OlwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsMTA5OlwiRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRcIiwxMTA6XCJFUlJfTk9fQVVUSE9SSVpFRFwiLDExMTpcIkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRVwiLDExMjpcIkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXCIsMTEzOlwiRVJSX1RPT19NQU5ZX1VTRVJTXCIsMTE0OlwiRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXCIsMTE1OlwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsMTE2OlwiRVJSX05PX0FDVElWRV9TVEFUVVNcIiwxMTc6XCJFUlJfSU5WQUxJRF9VSURcIiwxMTg6XCJFUlJfRFlOQU1JQ19LRVlfRVhQSVJFRFwiLDExOTpcIkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VcIiwxMjA6XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsMjpcIktfVElNRVNUQU1QX0VYUElSRURcIiwzOlwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLDQ6XCJLX0NFUlRJRklDQVRFX0lOVkFMSURcIiw1OlwiS19DSEFOTkVMX05BTUVfRU1QVFlcIiw2OlwiS19DSEFOTkVMX05PVF9GT1VORFwiLDc6XCJLX1RJQ0tFVF9JTlZBTElEXCIsODpcIktfQ0hBTk5FTF9DT05GTElDVEVEXCIsOTpcIktfU0VSVklDRV9OT1RfUkVBRFlcIiwxMDpcIktfU0VSVklDRV9UT09fSEVBVllcIiwxNDpcIktfVUlEX0JBTk5FRFwiLDE1OlwiS19JUF9CQU5ORURcIiwxNjpcIktfQ0hBTk5FTF9CQU5ORURcIn0sbz17MTpcIkVSUk9SX0lMTEVBR0FMX0FQUElEXCIsMjpcIkVSUk9SX0lMTEVBR0FMX1VJRFwiLDM6XCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIn0sYT1bXCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIixcIkVSUl9OT19WT1NfQVZBSUxBQkxFXCIsXCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIixcIldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVFwiLFwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLFwiRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFXCIsXCJFUlJfVE9PX01BTllfVVNFUlNcIixcIkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRVwiLFwiRVJSX0lOVEVSTkFMX0VSUk9SXCJdLHM9W1wiTk9fU0VSVklDRV9BVkFJTEFCTEVcIl0sYz1bXCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiLFwiUkVRVUVTVF9QUk9YWV9TRVJWRVJfRkFJTEVEXCIsXCJSRVFVRVNUX1BST1hZX1NFUlZFUl9USU1FX09VVFwiXSxkPXtJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9TVUNDRVNTOjAsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfQUxSRUFEWV9FWElTVFM6MSxJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9VTkFVVEhPUklaRUQ6MixJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9USU1FRE9VVDozLElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX0ZBSUxFRDo0LElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfU1VDQ0VTUzo1LElOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfTk9UX0ZPVU5EOjYsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9VTkFVVEhPUklaRUQ6NyxJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1RJTUVET1VUOjgsSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9GQUlMRUQ6OSxJTkpFQ1RfU1RSRUFNX1NUQVRVU19CUk9LRU46MTB9LHU9e1dTX0RJU0NPTk5FQ1Q6XCJXU19ESVNDT05ORUNUXCJ9O3QuZGVmYXVsdD17RkFJTEVEOlwiRkFJTEVEXCIsSU5WQUxJRF9LRVk6XCJJTlZBTElEX0tFWVwiLElOVkFMSURfQ0xJRU5UX01PREU6XCJJTlZBTElEX0NMSUVOVF9NT0RFXCIsSU5WQUxJRF9DTElFTlRfQ09ERUM6XCJJTlZBTElEX0NMSUVOVF9DT0RFQ1wiLENMSUVOVF9NT0RFX0NPREVDX01JU01BVENIOlwiQ0xJRU5UX01PREVfQ09ERUNfTUlTTUFUQ0hcIixXRUJfQVBJX05PVF9TVVBQT1JURUQ6XCJXRUJfQVBJX05PVF9TVVBQT1JURURcIixJTlZBTElEX1BBUkFNRVRFUjpcIklOVkFMSURfUEFSQU1FVEVSXCIsTk9fVFJBQ0tfSU5fU1RSRUFNOlwiTk9fVFJBQ0tfSU5fU1RSRUFNXCIsSU5WQUxJRF9PUEVSQVRJT046XCJJTlZBTElEX09QRVJBVElPTlwiLElOVkFMSURfTE9DQUxfU1RSRUFNOlwiSU5WQUxJRF9MT0NBTF9TVFJFQU1cIixJTlZBTElEX1JFTU9URV9TVFJFQU06XCJJTlZBTElEX1JFTU9URV9TVFJFQU1cIixJTlZBTElEX0RZTkFNSUNfS0VZOlwiSU5WQUxJRF9EWU5BTUlDX0tFWVwiLERZTkFNSUNfS0VZX1RJTUVPVVQ6XCJEWU5BTUlDX0tFWV9USU1FT1VUXCIsTk9fVk9DU19BVkFJTEFCTEU6XCJOT19WT0NTX0FWQUlMQUJMRVwiLE5PX1ZPU19BVkFJTEFCTEU6XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLEpPSU5fQ0hBTk5FTF9USU1FT1VUOlwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsTk9fQVZBSUxBQkxFX0NIQU5ORUw6XCJOT19BVkFJTEFCTEVfQ0hBTk5FTFwiLExPT0tVUF9DSEFOTkVMX1RJTUVPVVQ6XCJMT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsTE9PS1VQX0NIQU5ORUxfUkVKRUNURUQ6XCJMT09LVVBfQ0hBTk5FTF9SRUpFQ1RFRFwiLE9QRU5fQ0hBTk5FTF9USU1FT1VUOlwiT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixPUEVOX0NIQU5ORUxfUkVKRUNURUQ6XCJPUEVOX0NIQU5ORUxfUkVKRUNURURcIixSRVFVRVNUX0RFRkVSUkVEOlwiUkVRVUVTVF9ERUZFUlJFRFwiLFNUUkVBTV9BTFJFQURZX1BVQkxJU0hFRDpcIlNUUkVBTV9BTFJFQURZX1BVQkxJU0hFRFwiLFNUUkVBTV9OT1RfWUVUX1BVQkxJU0hFRDpcIlNUUkVBTV9OT1RfWUVUX1BVQkxJU0hFRFwiLEpPSU5fVE9PX0ZSRVFVRU5UOlwiSk9JTl9UT09fRlJFUVVFTlRcIixTT0NLRVRfRVJST1I6XCJTT0NLRVRfRVJST1JcIixTT0NLRVRfRElTQ09OTkVDVEVEOlwiU09DS0VUX0RJU0NPTk5FQ1RFRFwiLFBFRVJDT05ORUNUSU9OX0ZBSUxFRDpcIlBFRVJDT05ORUNUSU9OX0ZBSUxFRFwiLENPTk5FQ1RfR0FURVdBWV9FUlJPUjpcIkNPTk5FQ1RfR0FURVdBWV9FUlJPUlwiLFNFUlZJQ0VfTk9UX0FWQUlMQUJMRTpcIlNFUlZJQ0VfTk9UX0FWQUlMQUJMRVwiLEpPSU5fQ0hBTk5FTF9GQUlMRUQ6XCJKT0lOX0NIQU5ORUxfRkFJTEVEXCIsUFVCTElTSF9TVFJFQU1fRkFJTEVEOlwiUFVCTElTSF9TVFJFQU1fRkFJTEVEXCIsVU5QVUJMSVNIX1NUUkVBTV9GQUlMRUQ6XCJVTlBVQkxJU0hfU1RSRUFNX0ZBSUxFRFwiLFNVQlNDUklCRV9TVFJFQU1fRkFJTEVEOlwiU1VCU0NSSUJFX1NUUkVBTV9GQUlMRURcIixVTlNVQlNDUklCRV9TVFJFQU1fRkFJTEVEOlwiVU5TVUJTQ1JJQkVfU1RSRUFNX0ZBSUxFRFwiLE5PX1NVQ0hfUkVNT1RFX1NUUkVBTTpcIk5PX1NVQ0hfUkVNT1RFX1NUUkVBTVwiLEVSUl9GQUlMRUQ6XCIxXCIsRVJSX0lOVkFMSURfVkVORE9SX0tFWTpcIjEwMVwiLEVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRTpcIjEwMlwiLFdBUk5fTk9fQVZBSUxBQkxFX0NIQU5ORUw6XCIxMDNcIixXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVQ6XCIxMDRcIixXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEOlwiMTA1XCIsV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVDpcIjEwNlwiLFdBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEOlwiMTA3XCIsV0FSTl9SRVFVRVNUX0RFRkVSUkVEOlwiMTA4XCIsRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVQ6XCIxMDlcIixFUlJfSU5WQUxJRF9EWU5BTUlDX0tFWTpcIjExMFwiLEVSUl9OT19WT0NTX0FWQUlMQUJMRTpcIjIwMDBcIixFUlJfTk9fVk9TX0FWQUlMQUJMRTpcIjIwMDFcIixFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVQ6XCIyMDAyXCIsSU9TX05PVF9TVVBQT1JUOlwiSU9TX05PVF9TVVBQT1JUXCIsV0VDSEFUX05PVF9TVVBQT1JUOlwiV0VDSEFUX05PVF9TVVBQT1JUXCIsU0hBUklOR19TQ1JFRU5fTk9UX1NVUFBPUlQ6XCJTSEFSSU5HX1NDUkVFTl9OT1RfU1VQUE9SVFwiLFNUSUxMX09OX1BVQkxJU0hJTkc6XCJTVElMTF9PTl9QVUJMSVNISU5HXCIsTE9XX1NUUkVBTV9BTFJFQURZX1BVQkxJU0hFRDpcIkxPV19TVFJFQU1fQUxSRUFEWV9QVUJMSVNIRURcIixMT1dfU1RSRUFNX05PVF9ZRVRfUFVCTElTSEVEOlwiTE9XX1NUUkVBTV9BTFJFQURZX1BVQkxJU0hFRFwiLEhJR0hfU1RSRUFNX05PVF9WSURFT19UUkFDRTpcIkhJR0hfU1RSRUFNX05PVF9WSURFT19UUkFDRVwiLE5PVF9GSU5EX0RFVklDRV9CWV9MQUJFTDpcIk5PVF9GSU5EX0RFVklDRV9CWV9MQUJFTFwiLEVOQUJMRV9EVUFMU1RSRUFNX0ZBSUxFRDpcIkVOQUJMRV9EVUFMU1RSRUFNX0ZBSUxFRFwiLERJU0FCTEVfRFVBTFNUUkVBTV9GQUlMRUQ6XCJESVNBQkxFX0RVQUxTVFJFQU1fRkFJTEVEXCIsUExBWUVSX05PVF9GT1VORDpcIlBMQVlFUl9OT1RfRk9VTkRcIixFTEVDVFJPTl9OT1RfU1VQUE9SVF9TSEFSSU5HX1NDUkVFTjpcIkVMRUNUUk9OX05PVF9TVVBQT1JUX1NIQVJJTkdfU0NSRUVOXCIsQkFEX0VOVklST05NRU5UOlwiQkFEX0VOVklST05NRU5UXCIsTE9BRF9BVURJT19GQUlMRUQ6XCJMT0FEX0FVRElPX0ZBSUxFRFwifX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcImdldEJyb3dzZXJJbmZvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsXCJnZXRCcm93c2VyVmVyc2lvblwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LFwiZ2V0QnJvd3Nlck9TXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKHQsXCJpc0Nocm9tZVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LFwiaXNTYWZhcmlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCxcImlzRmlyZUZveFwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LFwiaXNPcGVyYVwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LFwiaXNFZGdlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsXCJpc1FRQnJvd3NlclwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LFwiaXNXZUNoYXRCcm93c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsXCJpc0xlZ2FjeUNocm9tZVwiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZCh0LFwiaXNTdXBwb3J0ZWRQQ1wiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LFwiaXNTdXBwb3J0ZWRNb2JpbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCxcImdldENocm9tZUtlcm5lbFZlcnNpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCxcImlzQ2hyb21lS2VybmVsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgZT1FKCk7cmV0dXJuIGUubmFtZSYmXCJDaHJvbWVcIj09PWUubmFtZX0saT1mdW5jdGlvbigpe3ZhciBlPUUoKTtyZXR1cm4gZS5uYW1lJiZcIlNhZmFyaVwiPT09ZS5uYW1lfSxvPWZ1bmN0aW9uKCl7dmFyIGU9RSgpO3JldHVybiBlLm5hbWUmJlwiRWRnZVwiPT09ZS5uYW1lfSxhPWZ1bmN0aW9uKCl7dmFyIGU9RSgpO3JldHVybiBlLm5hbWUmJlwiRmlyZWZveFwiPT09ZS5uYW1lfSxzPWZ1bmN0aW9uKCl7dmFyIGU9RSgpO3JldHVybiBlLm5hbWUmJlwiT1BSXCI9PT1lLm5hbWV9LGM9ZnVuY3Rpb24oKXt2YXIgZT1FKCk7cmV0dXJuIGUubmFtZSYmXCJRUUJyb3dzZXJcIj09PWUubmFtZX0sZD1mdW5jdGlvbigpe3ZhciBlPUUoKTtyZXR1cm4gZS5uYW1lJiZcIk1pY3JvTWVzc2VuZ2VyXCI9PT1lLm5hbWV9LHU9ZnVuY3Rpb24oKXt2YXIgZT1wKCk7cmV0dXJuXCJMaW51eFwiPT09ZXx8XCJNYWMgT1MgWFwiPT09ZXx8XCJNYWMgT1NcIj09PWV8fC0xIT09ZS5pbmRleE9mKFwiV2luZG93c1wiKX0sbD1mdW5jdGlvbigpe3ZhciBlPXAoKTtyZXR1cm5cIkFuZHJvaWRcIj09PWV8fFwiaU9TXCI9PT1lfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKS52ZXJzaW9ufSxwPWZ1bmN0aW9uKCl7cmV0dXJuIEUoKS5vc30sZz1mdW5jdGlvbigpe3JldHVybiEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvY2hyb21lXFwvW1xcZF0rL2kpfTtmdW5jdGlvbiBtKCl7cmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbiYmbnVsbCE9PXdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLykmJndpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLylbMV08PTM1fXZhciBoLHY9ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9jaHJvbWVcXC9bXFxkXSsvaSk7cmV0dXJuIGUmJmVbMF0mJmVbMF0uc3BsaXQoXCIvXCIpWzFdfSxFPShoPWZ1bmN0aW9uKCl7dmFyIGUsdD1uYXZpZ2F0b3IudXNlckFnZW50LG49dC5tYXRjaCgvKG9wZXJhfGNocm9tZXxzYWZhcml8ZmlyZWZveHxtc2llfHRyaWRlbnQoPz1cXC8pKVxcLz9cXHMqKFxcZCspL2kpfHxbXTtcIkNocm9tZVwiPT09blsxXSYmbnVsbCE9KGU9dC5tYXRjaCgvKE9QUig/PVxcLykpXFwvPyhcXGQrKS9pKSkmJihuPWUpLFwiU2FmYXJpXCI9PT1uWzFdJiZudWxsIT0oZT10Lm1hdGNoKC92ZXJzaW9uXFwvKFxcZCspL2kpKSYmKG5bMl09ZVsxXSksfnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwicXFicm93c2VyXCIpJiZudWxsIT0oZT10Lm1hdGNoKC8ocXFicm93c2VyKD89XFwvKSlcXC8/KFxcZCspL2kpKSYmKG49ZSksfnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwibWljcm9tZXNzZW5nZXJcIikmJm51bGwhPShlPXQubWF0Y2goLyhtaWNyb21lc3Nlbmdlcig/PVxcLykpXFwvPyhcXGQrKS9pKSkmJihuPWUpLH50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImVkZ2VcIikmJm51bGwhPShlPXQubWF0Y2goLyhlZGdlKD89XFwvKSlcXC8/KFxcZCspL2kpKSYmKG49ZSksfnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwidHJpZGVudFwiKSYmbnVsbCE9KGU9L1xcYnJ2WyA6XSsoXFxkKykvZy5leGVjKHQpfHxbXSkmJihuPVtudWxsLFwiSUVcIixlWzFdXSk7dmFyIHI9dm9pZCAwLGk9W3tzOlwiV2luZG93cyAxMFwiLHI6LyhXaW5kb3dzIDEwLjB8V2luZG93cyBOVCAxMC4wKS99LHtzOlwiV2luZG93cyA4LjFcIixyOi8oV2luZG93cyA4LjF8V2luZG93cyBOVCA2LjMpL30se3M6XCJXaW5kb3dzIDhcIixyOi8oV2luZG93cyA4fFdpbmRvd3MgTlQgNi4yKS99LHtzOlwiV2luZG93cyA3XCIscjovKFdpbmRvd3MgN3xXaW5kb3dzIE5UIDYuMSkvfSx7czpcIldpbmRvd3MgVmlzdGFcIixyOi9XaW5kb3dzIE5UIDYuMC99LHtzOlwiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLHI6L1dpbmRvd3MgTlQgNS4yL30se3M6XCJXaW5kb3dzIFhQXCIscjovKFdpbmRvd3MgTlQgNS4xfFdpbmRvd3MgWFApL30se3M6XCJXaW5kb3dzIDIwMDBcIixyOi8oV2luZG93cyBOVCA1LjB8V2luZG93cyAyMDAwKS99LHtzOlwiV2luZG93cyBNRVwiLHI6LyhXaW4gOXggNC45MHxXaW5kb3dzIE1FKS99LHtzOlwiV2luZG93cyA5OFwiLHI6LyhXaW5kb3dzIDk4fFdpbjk4KS99LHtzOlwiV2luZG93cyA5NVwiLHI6LyhXaW5kb3dzIDk1fFdpbjk1fFdpbmRvd3NfOTUpL30se3M6XCJXaW5kb3dzIE5UIDQuMFwiLHI6LyhXaW5kb3dzIE5UIDQuMHxXaW5OVDQuMHxXaW5OVHxXaW5kb3dzIE5UKS99LHtzOlwiV2luZG93cyBDRVwiLHI6L1dpbmRvd3MgQ0UvfSx7czpcIldpbmRvd3MgMy4xMVwiLHI6L1dpbjE2L30se3M6XCJBbmRyb2lkXCIscjovQW5kcm9pZC99LHtzOlwiT3BlbiBCU0RcIixyOi9PcGVuQlNEL30se3M6XCJTdW4gT1NcIixyOi9TdW5PUy99LHtzOlwiTGludXhcIixyOi8oTGludXh8WDExKS99LHtzOlwiaU9TXCIscjovKGlQaG9uZXxpUGFkfGlQb2QpL30se3M6XCJNYWMgT1MgWFwiLHI6L01hYyBPUyBYL30se3M6XCJNYWMgT1NcIixyOi8oTWFjUFBDfE1hY0ludGVsfE1hY19Qb3dlclBDfE1hY2ludG9zaCkvfSx7czpcIlFOWFwiLHI6L1FOWC99LHtzOlwiVU5JWFwiLHI6L1VOSVgvfSx7czpcIkJlT1NcIixyOi9CZU9TL30se3M6XCJPUy8yXCIscjovT1NcXC8yL30se3M6XCJTZWFyY2ggQm90XCIscjovKG51aGt8R29vZ2xlYm90fFlhbW15Ym90fE9wZW5ib3R8U2x1cnB8TVNOQm90fEFzayBKZWV2ZXNcXC9UZW9tYXxpYV9hcmNoaXZlcikvfV07Zm9yKHZhciBvIGluIGkpe3ZhciBhPWlbb107aWYoYS5yLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3I9YS5zO2JyZWFrfX1yZXR1cm57bmFtZTpuWzFdLHZlcnNpb246blsyXSxvczpyfX0oKSxmdW5jdGlvbigpe3JldHVybiBofSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTtuKDApO3ZhciByPWZ1bmN0aW9uKGUsdCxuKXtpZihbXCJFbmQyRW5kRGVsYXlcIixcIlRyYW5zcG9ydERlbGF5XCIsXCJQYWNrZXRMb3NzUmF0ZVwiLFwiUmVjdkxldmVsXCIsXCJSZWN2Qml0cmF0ZVwiLFwiQ29kZWNUeXBlXCIsXCJNdXRlU3RhdGVcIixcIlRvdGFsRnJlZXplVGltZVwiLFwiVG90YWxQbGF5RHVyYXRpb25cIixcIlJlY29yZGluZ0xldmVsXCIsXCJTZW5kTGV2ZWxcIixcIlNhbXBsaW5nUmF0ZVwiLFwiU2VuZEJpdHJhdGVcIixcIkNvZGVjVHlwZVwiLFwiTXV0ZVN0YXRlXCIsXCJFbmQyRW5kRGVsYXlcIixcIlRyYW5zcG9ydERlbGF5XCIsXCJQYWNrZXRMb3NzUmF0ZVwiLFwiUmVjdkJpdHJhdGVcIixcIlJlY3ZSZXNvbHV0aW9uV2lkdGhcIixcIlJlY3ZSZXNvbHV0aW9uSGVpZ2h0XCIsXCJSZW5kZXJSZXNvbHV0aW9uSGVpZ2h0XCIsXCJSZW5kZXJSZXNvbHV0aW9uV2lkdGhcIixcIlJlbmRlckZyYW1lUmF0ZVwiLFwiVG90YWxGcmVlemVUaW1lXCIsXCJUb3RhbFBsYXlEdXJhdGlvblwiLFwiVGFyZ2V0U2VuZEJpdHJhdGVcIixcIlNlbmRGcmFtZVJhdGVcIixcIlNlbmRGcmFtZVJhdGVcIixcIlNlbmRCaXRyYXRlXCIsXCJTZW5kUmVzb2x1dGlvbldpZHRoXCIsXCJTZW5kUmVzb2x1dGlvbkhlaWdodFwiLFwiQ2FwdHVyZVJlc29sdXRpb25IZWlnaHRcIixcIkNhcHR1cmVSZXNvbHV0aW9uV2lkdGhcIixcIkVuY29kZURlbGF5XCIsXCJNdXRlU3RhdGVcIixcIlRvdGFsRnJlZXplVGltZVwiLFwiVG90YWxEdXJhdGlvblwiLFwiQ2FwdHVyZUZyYW1lUmF0ZVwiLFwiUlRUXCIsXCJPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aFwiLFwiRHVyYXRpb25cIixcIlVzZXJDb3VudFwiLFwiU2VuZEJ5dGVzXCIsXCJSZWN2Qnl0ZXNcIixcIlNlbmRCaXRyYXRlXCIsXCJSZWN2Qml0cmF0ZVwiLFwiYWNjZXNzRGVsYXlcIixcImF1ZGlvU2VuZEJ5dGVzXCIsXCJhdWRpb1NlbmRQYWNrZXRzXCIsXCJ2aWRlb1NlbmRCeXRlc1wiLFwidmlkZW9TZW5kUGFja2V0c1wiLFwidmlkZW9TZW5kUGFja2V0c0xvc3RcIixcInZpZGVvU2VuZEZyYW1lUmF0ZVwiLFwiYXVkaW9TZW5kUGFja2V0c0xvc3RcIixcInZpZGVvU2VuZFJlc29sdXRpb25XaWR0aFwiLFwidmlkZW9TZW5kUmVzb2x1dGlvbkhlaWdodFwiLFwiYWNjZXNzRGVsYXlcIixcImF1ZGlvUmVjZWl2ZUJ5dGVzXCIsXCJhdWRpb1JlY2VpdmVQYWNrZXRzXCIsXCJhdWRpb1JlY2VpdmVQYWNrZXRzTG9zdFwiLFwidmlkZW9SZWNlaXZlQnl0ZXNcIixcInZpZGVvUmVjZWl2ZVBhY2tldHNcIixcInZpZGVvUmVjZWl2ZVBhY2tldHNMb3N0XCIsXCJ2aWRlb1JlY2VpdmVGcmFtZVJhdGVcIixcInZpZGVvUmVjZWl2ZURlY29kZUZyYW1lUmF0ZVwiLFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoXCIsXCJ2aWRlb1JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0XCIsXCJlbmRUb0VuZERlbGF5XCIsXCJ2aWRlb1JlY2VpdmVEZWxheVwiLFwiYXVkaW9SZWNlaXZlRGVsYXlcIixcIkZpcnN0RnJhbWVUaW1lXCIsXCJWaWRlb0ZyZWV6ZVJhdGVcIixcIkF1ZGlvRnJlZXplUmF0ZVwiLFwiUmVuZGVyUmVzb2x1dGlvbldpZHRoXCIsXCJSZW5kZXJSZXNvbHV0aW9uSGVpZ2h0XCIsXCJWaWRlb1B1Ymxpc2hEdXJhdGlvblwiLFwiQXVkaW9QdWJsaXNoRHVyYXRpb25cIl0uaW5kZXhPZih0KT4tMSYmKFwic3RyaW5nXCI9PXR5cGVvZiBufHxpc0Zpbml0ZShuKSkpcmV0dXJuIGVbdF09XCJcIitufSxpPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaWQmJmUudHlwZSYmKC0xPT09ZS5pZC5pbmRleE9mKFwic2VuZFwiKSYmLTE9PT1lLnR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwib3V0Ym91bmRcIikmJi0xPT09ZS5pZC5pbmRleE9mKFwib3V0Ym91bmRfcnRwXCIpJiYtMT09PWUuaWQuaW5kZXhPZihcIk91dGJvdW5kUlRQXCIpfHwoXCJhdWRpb1wiPT09ZS5tZWRpYVR5cGU/KHIodCxcImF1ZGlvU2VuZEJ5dGVzXCIsZS5ieXRlc1NlbnQpLHIodCxcImF1ZGlvU2VuZFBhY2tldHNcIixlLnBhY2tldHNTZW50KSxyKHQsXCJhdWRpb1NlbmRQYWNrZXRzTG9zdFwiLGUucGFja2V0c0xvc3QpKToocih0LFwidmlkZW9TZW5kQnl0ZXNcIixlLmJ5dGVzU2VudCkscih0LFwidmlkZW9TZW5kUGFja2V0c1wiLGUucGFja2V0c1NlbnQpLHIodCxcInZpZGVvU2VuZFBhY2tldHNMb3N0XCIsZS5wYWNrZXRzTG9zdCkscih0LFwidmlkZW9TZW5kRnJhbWVSYXRlXCIsZS5nb29nRnJhbWVSYXRlU2VudCkscih0LFwidmlkZW9TZW5kUmVzb2x1dGlvbldpZHRoXCIsZS5nb29nRnJhbWVXaWR0aFNlbnQpLHIodCxcInZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHRcIixlLmdvb2dGcmFtZUhlaWdodFNlbnQpKSkpfSkpLHR9LG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5pZCYmZS50eXBlJiYoLTE9PT1lLmlkLmluZGV4T2YoXCJyZWN2XCIpJiYtMT09PWUudHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpJiYtMT09PWUuaWQuaW5kZXhPZihcImluYm91bmRfcnRwXCIpJiYtMT09PWUuaWQuaW5kZXhPZihcImluYm91bmQtcnRwXCIpJiYtMT09PWUuaWQuaW5kZXhPZihcIkluYm91bmRSVFBcIil8fChcImF1ZGlvXCI9PT1lLm1lZGlhVHlwZT8ocih0LFwiYXVkaW9SZWNlaXZlQnl0ZXNcIixlLmJ5dGVzUmVjZWl2ZWQpLHIodCxcImF1ZGlvUmVjZWl2ZVBhY2tldHNcIixlLnBhY2tldHNSZWNlaXZlZCkscih0LFwiYXVkaW9SZWNlaXZlUGFja2V0c0xvc3RcIixlLnBhY2tldHNMb3N0KSk6KHIodCxcInZpZGVvUmVjZWl2ZUJ5dGVzXCIsZS5ieXRlc1JlY2VpdmVkKSxyKHQsXCJ2aWRlb1JlY2VpdmVQYWNrZXRzTG9zdFwiLGUucGFja2V0c0xvc3QpLHIodCxcInZpZGVvUmVjZWl2ZVBhY2tldHNcIixlLnBhY2tldHNSZWNlaXZlZCkscih0LFwidmlkZW9SZWNlaXZlRnJhbWVSYXRlXCIsZS5nb29nRnJhbWVSYXRlUmVjZWl2ZWQpLHIodCxcInZpZGVvUmVjZWl2ZURlY29kZUZyYW1lUmF0ZVwiLGUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQpLHIodCxcInZpZGVvUmVjZWl2ZVJlc29sdXRpb25XaWR0aFwiLGUuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCkscih0LFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbkhlaWdodFwiLGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpKSkpfSkpLHR9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gZS5leHBvcnRzPW49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0sbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCxcImVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCxcImRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcj1uKDApLGk9ZnVuY3Rpb24oKXt2YXIgZT17ZGlzcGF0Y2hlcjp7fX07cmV0dXJuIGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVycz17fSxlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxuKXt2b2lkIDA9PT1lLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF0mJihlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF09W10pLGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XS5wdXNoKG4pfSxlLmhhc0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4hKCFlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF18fCFlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdF0ubGVuZ3RoKX0sZS5vbj1lLmFkZEV2ZW50TGlzdGVuZXIsZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsbil7dmFyIHI7ZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3RdJiYtMSE9PShyPWUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0XS5pbmRleE9mKG4pKSYmZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3RdLnNwbGljZShyLDEpfSxlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIG47Zm9yKG4gaW4gZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV0paWYoZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV0mJmUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdLmhhc093blByb3BlcnR5KG4pJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXVtuXSl0cnl7ZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV1bbl0odCl9Y2F0Y2gobil7ci5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBFcnJvciBpbiBcIikuY29uY2F0KHQudHlwZSxcIiBldmVudFwiKSxuKX19LGUuZGlzcGF0Y2hTb2NrZXRFdmVudD1mdW5jdGlvbih0KXt2YXIgbjtmb3IobiBpbiBlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXSllLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXSYmZS5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW3QudHlwZV0uaGFzT3duUHJvcGVydHkobikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1t0LnR5cGVdW25dJiZlLmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbdC50eXBlXVtuXSh0Lm1zZyl9LGV9LG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQudHlwZT1lLnR5cGUsdH0sYT1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO3JldHVybiB0LnN0cmVhbT1lLnN0cmVhbSx0LnJlYXNvbj1lLnJlYXNvbix0Lm1zZz1lLm1zZyx0fSxzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQudWlkPWUudWlkLHQuYXR0cj1lLmF0dHIsdC5zdHJlYW09ZS5zdHJlYW0sdH0sYz1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO3JldHVybiB0Lm1zZz1lLm1zZyx0fSxkPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJuIHQudXJsPWUudXJsLHQudWlkPWUudWlkLHQuc3RhdHVzPWUuc3RhdHVzLHQucmVhc29uPWUucmVhc29uLHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksbz10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGE9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0scz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1zKG4oNjkpKSxkPW4oMiksdT1zKG4oMCkpLGw9bigzKSxmPW4oMTQpLHA9bigxMCksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9zdGF0ZT1TLlJFTEFZX1NUQVRFX0lETEUsci5fb25TdGF0dXM9ZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3IuY2xpZW50SWQrXCJdIENoYW5uZWxNZWRpYVN0YXR1czogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLGUmJmUuY29tbWFuZCYmKFwib25BdWRpb1BhY2tldFJlY2VpdmVkXCI9PT1lLmNvbW1hbmQmJnIuZW1pdChcImV2ZW50XCIsRS5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkMpLFwib25WaWRlb1BhY2tldFJlY2VpdmVkXCI9PT1lLmNvbW1hbmQmJnIuZW1pdChcImV2ZW50XCIsRS5QQUNLRVRfUkVDRUlWRURfVklERU9fRlJPTV9TUkMpLFwib25TcmNUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiPT09ZS5jb21tYW5kJiYoci5fc3RhdGU9Uy5SRUxBWV9TVEFURV9GQUlMVVJFLHIuZW1pdChcInN0YXRlXCIsUy5SRUxBWV9TVEFURV9GQUlMVVJFLF8uU1JDX1RPS0VOX0VYUElSRUQpKSxcIm9uRGVzdFRva2VuUHJpdmlsZWdlRGlkRXhwaXJlXCI9PT1lLmNvbW1hbmQmJihyLl9zdGF0ZT1TLlJFTEFZX1NUQVRFX0ZBSUxVUkUsci5lbWl0KFwic3RhdGVcIixTLlJFTEFZX1NUQVRFX0ZBSUxVUkUsXy5ERVNUX1RPS0VOX0VYUElSRUQsZS5jaGFubmVsTmFtZT97Y2FtZTplLmNoYW5uZWxOYW1lfTpudWxsKSkpfSxyLl9vbkNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIG8ocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYodS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIENoYW5uZWxNZWRpYVNvY2tldCBvbkNsb3NlXCIpLHRoaXMuZW1pdChcImV2ZW50XCIsRS5ORVRXT1JLX0RJU0NPTk5FQ1RFRCksdGhpcy5zdGF0ZT1TLlJFTEFZX1NUQVRFX0lETEUsIXRoaXMuX3ByZXZDaGFubmVsTWVkaWFDb25maWcpcmV0dXJuWzMsNF07dC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLFs0LHRoaXMuc3RhcnRDaGFubmVsTWVkaWFSZWxheSh0aGlzLl9wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMyw0XTtjYXNlIDM6cmV0dXJuKGU9dC5zZW50KCkpaW5zdGFuY2VvZiBSJiYoZS5tZXNzYWdlPT09aC5XU19BQk9SVHx8ZS5tZXNzYWdlPT09aC5BUF9SRVFVRVNUX0FCT1JUKT9bMl06KHRoaXMuZW1pdChcInN0YXRlXCIsUy5SRUxBWV9TVEFURV9GQUlMVVJFLF8uU0VSVkVSX0NPTk5FQ1RJT05fTE9TVCksWzMsNF0pO2Nhc2UgNDpyZXR1cm5bMl19fSkpfSkpfSxyLnRva2VuPXQuYXBwSWQsci5hcHBJZD10LmFwcElkLHIuY25hbWU9dC5jbmFtZSxyLnVpZD10LnVpZCxyLnNpZD10LnNpZCxyLmNsaWVudElkPW4scn1yZXR1cm4gaSh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0YXRlO3RoaXMuX3N0YXRlPWUsdCE9PWUmJnRoaXMuZW1pdChcInN0YXRlXCIsZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuc3RhcnRDaGFubmVsTWVkaWFSZWxheT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih0aGlzLnN0YXRlIT09Uy5SRUxBWV9TVEFURV9JRExFKXRocm93IG5ldyBSKGguQkFEX1NUQVRFKTtyZXR1cm4gdGhpcy5zdGF0ZT1TLlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkcsWzQsdGhpcy5fY29ubmVjdCgpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBjb25uZWN0IHN1Y2Nlc3NcIiksWzQsdGhpcy5fc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKGUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHRoaXMuX3ByZXZDaGFubmVsTWVkaWFDb25maWc9ZSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS51cGRhdGVDaGFubmVsTWVkaWFSZWxheT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih0aGlzLnN0YXRlIT09Uy5SRUxBWV9TVEFURV9SVU5OSU5HKXRocm93IG5ldyBSKGguQkFEX1NUQVRFKTtyZXR1cm5bNCx0aGlzLl9zZW5kVXBkYXRlTWVzc2FnZShlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLl9wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPWUsWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuc3RvcENoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fc2VuZFN0b3BSZWxheU1lc3NhZ2UoKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RvcENoYW5uZWxNZWRpYVJlbGF5OiBzZW5kIHN0b3AgbWVzc2FnZSBzdWNjZXNzXCIpLHRoaXMuc3RhdGU9Uy5SRUxBWV9TVEFURV9JRExFLHRoaXMuZGlzcG9zZSgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gZGlzcG9zZUNoYW5uZWxNZWRpYVJlbGF5XCIpLHRoaXMuc3RhdGU9Uy5SRUxBWV9TVEFURV9JRExFLHRoaXMuZW1pdChcImRpc3Bvc2VcIiksdGhpcy5fc2lnbmFsJiZ0aGlzLl9zaWduYWwuZGlzcG9zZSgpLHRoaXMuX3ByZXZDaGFubmVsTWVkaWFDb25maWc9bnVsbCx0aGlzLnJlbW92ZUV2ZW50KCl9LHQucHJvdG90eXBlLl9yZXF1ZXN0T25lQVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDp0LnNpZCxhcHBJZDp0LmFwcElkLHRva2VuOlwiXCIsdHM6K25ldyBEYXRlLHZlcnNpb246ZC5WRVJTSU9OLGNuYW1lOnQuY25hbWUsdWlkOnQudWlkK1wiXCIsc2VxOjEscmVxdWVzdElkOjF9LG89e3NlcnZpY2VfbmFtZTpcInRlbGVfY2hhbm5lbFwiLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeShpKX0sYT1cImh0dHBzOi8vXCIrZTtmLnBvc3QoYSxvLChmdW5jdGlvbihlKXt2YXIgdD1udWxsLGk9bnVsbDt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe3IobmV3IFIoaC5BUF9KU09OX1BBUlNFX0VSUk9SLGUpKX0wIT09dC5jb2RlJiZyKG5ldyBSKGguQVBfUkVRVUVTVF9FUlJPUix0KSk7dHJ5e2k9SlNPTi5wYXJzZSh0Lmpzb25fYm9keSl9Y2F0Y2goZSl7cihuZXcgUihoLkFQX0pTT05fUEFSU0VfRVJST1IsZSkpfTIwMCE9PWkuY29kZSYmcihuZXcgUihoLkFQX1JFUVVFU1RfRVJST1IsaSkpLGkuc2VydmVycz9uKGkuc2VydmVycyk6cihuZXcgUihoLkFQX0pTT05fUEFSU0VfRVJST1IsaSkpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKGUpfSkse1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfSl9KSl9LHQucHJvdG90eXBlLl9yZXF1ZXN0QVA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZC5nZXRQYXJhbWV0ZXIoXCJVQVBfQVBcIik7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cihuZXcgUihoLkFQX1JFUVVFU1RfVElNRU9VVCkpfSksNWUzKSxlLm9uKFwiZGlzcG9zZVwiLChmdW5jdGlvbigpe3IobmV3IFIoaC5BUF9SRVFVRVNUX0FCT1JUKSl9KSksdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0Kz1cIi9hcGkvdjFcIixlLl9yZXF1ZXN0T25lQVAodCkudGhlbigoZnVuY3Rpb24ocil7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkgcmVxdWVzdCBBUCBcIit0K1wiIHN1Y2Nlc3M6IFwiK0pTT04uc3RyaW5naWZ5KHIpKTt2YXIgaT1yWzBdLG89XCJ3c3M6Ly9cIitpLmFkZHJlc3MucmVwbGFjZSgvXFwuL2csXCItXCIpK1wiLmVkZ2UuYWdvcmEuaW86XCIraS53c3M7bihvKX0pKS5jYXRjaCgoZnVuY3Rpb24obil7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkgcmVxdWVzdCBBUCBcIit0K1wiIGZhaWxlZDogXCIrSlNPTi5zdHJpbmdpZnkobikpfSkpfSkpfSkpfSx0LnByb3RvdHlwZS5fY29ubmVjdFdlYnNvY2tldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2lnbmFsPW5ldyB5KHRoaXMuYXBwSWQsdGhpcy5jbmFtZSx0aGlzLnVpZCx0aGlzLnNpZCksdGhpcy5fc2lnbmFsLmNvbm5lY3QoZSl9LHQucHJvdG90eXBlLl9jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5fcmVxdWVzdEFQKCldO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxbNCx0aGlzLl9jb25uZWN0V2Vic29ja2V0KGUpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHRoaXMuX3NpZ25hbC5vbihcImNsb3NlXCIsdGhpcy5fb25DbG9zZS5iaW5kKHRoaXMpKSx0aGlzLl9zaWduYWwub24oXCJzdGF0dXNcIix0aGlzLl9vblN0YXR1cy5iaW5kKHRoaXMpKSx0aGlzLmVtaXQoXCJldmVudFwiLEUuTkVUV09SS19DT05ORUNURUQpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9zZW5kU3RhcnRSZWxheU1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scixpLG8scztyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9jaGVja1NpZ25hbCgpLHQ9dGhpcy5fZ2VuTWVzc2FnZSh2LlN0b3BQYWNrZXRUcmFuc2ZlciksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QodCldO2Nhc2UgMTpyZXR1cm4gYS5zZW50KCksWzQsdGhpcy5fc2lnbmFsLndhaXRTdGF0dXMoXCJOb3JtYWwgUXVpdFwiKV07Y2FzZSAyOnJldHVybiBhLnNlbnQoKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RvcFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIiksbj10aGlzLl9nZW5NZXNzYWdlKHYuU2V0U2RrUHJvZmlsZSxlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdChuKV07Y2FzZSAzOnJldHVybiBhLnNlbnQoKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U2RrUHJvZmlsZSBzdWNjZXNzXCIpLHI9dGhpcy5fZ2VuTWVzc2FnZSh2LlNldFNvdXJjZUNoYW5uZWwsZSksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QocildO2Nhc2UgNDpyZXR1cm4gYS5zZW50KCksWzQsdGhpcy5fc2lnbmFsLndhaXRTdGF0dXMoXCJTZXRTb3VyY2VDaGFubmVsU3RhdHVzXCIpXTtjYXNlIDU6cmV0dXJuIGEuc2VudCgpLHRoaXMuZW1pdChcImV2ZW50XCIsRS5QQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlQ2hhbm5lbCBzdWNjZXNzXCIpLGk9dGhpcy5fZ2VuTWVzc2FnZSh2LlNldFNvdXJjZVVzZXJJZCxlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdChpKV07Y2FzZSA2OnJldHVybiBhLnNlbnQoKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5jbGllbnRJZCtcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlVXNlcklkIHN1Y2Nlc3NcIiksbz10aGlzLl9nZW5NZXNzYWdlKHYuU2V0RGVzdENoYW5uZWwsZSksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QobyldO2Nhc2UgNzpyZXR1cm4gYS5zZW50KCksWzQsdGhpcy5fc2lnbmFsLndhaXRTdGF0dXMoXCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiKV07Y2FzZSA4OnJldHVybiBhLnNlbnQoKSx0aGlzLmVtaXQoXCJldmVudFwiLEUuUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUwpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXREZXN0Q2hhbm5lbCBzdWNjZXNzXCIpLHM9dGhpcy5fZ2VuTWVzc2FnZSh2LlN0YXJ0UGFja2V0VHJhbnNmZXIsZSksWzQsdGhpcy5fc2lnbmFsLnJlcXVlc3QocyldO2Nhc2UgOTpyZXR1cm4gYS5zZW50KCksdGhpcy5lbWl0KFwiZXZlbnRcIixFLlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTCksdGhpcy5zdGF0ZT1TLlJFTEFZX1NUQVRFX1JVTk5JTkcsdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY2xpZW50SWQrXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFN0YXJ0UGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fc2VuZFJlY29ubmVjdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX2NoZWNrU2lnbmFsKCksdD10aGlzLl9nZW5NZXNzYWdlKHYuUmVjb25uZWN0LGUpLFs0LHRoaXMuX3NpZ25hbC5yZXF1ZXN0KHQpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyXX19KSl9KSl9LHQucHJvdG90eXBlLl9zZW5kVXBkYXRlTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fY2hlY2tTaWduYWwoKSx0PXRoaXMuX2dlbk1lc3NhZ2Uodi5VcGRhdGVEZXN0Q2hhbm5lbCxlKSxbNCx0aGlzLl9zaWduYWwucmVxdWVzdCh0KV07Y2FzZSAxOnJldHVybiBuLnNlbnQoKSx0aGlzLmVtaXQoXCJldmVudFwiLEUuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUwpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzZW5kVXBkYXRlTWVzc2FnZTogVXBkYXRlRGVzdENoYW5uZWwgc3VjY2Vzc1wiKSxbMl19fSkpfSkpfSx0LnByb3RvdHlwZS5fc2VuZFN0b3BSZWxheU1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fY2hlY2tTaWduYWwoKSxlPXRoaXMuX2dlbk1lc3NhZ2Uodi5TdG9wUGFja2V0VHJhbnNmZXIpLFs0LHRoaXMuX3NpZ25hbC5yZXF1ZXN0KGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLmNsaWVudElkK1wiXSBzZW5kU3RvcFJlbGF5TWVzc2FnZTogU3RvcFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIiksWzJdfX0pKX0pKX0sdC5wcm90b3R5cGUuX2dlbk1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9W10saT1bXSxvPVtdLGE9e2FwcElkOnRoaXMuYXBwSWQsY25hbWU6dGhpcy5jbmFtZSx1aWQ6dGhpcy51aWQrXCJcIixzZGtWZXJzaW9uOmQuVkVSU0lPTixzaWQ6dGhpcy5zaWQsdHM6K25ldyBEYXRlLHJlcXVlc3RJZDowLHNlcTowLGFsbG9jYXRlOiEwLGNsaWVudFJlcXVlc3Q6e319LHM9bnVsbDtzd2l0Y2goZSl7Y2FzZSB2LlNldFNka1Byb2ZpbGU6cmV0dXJuIGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNka1Byb2ZpbGVcIix0eXBlOlwibXVsdGlfY2hhbm5lbFwifSxhO2Nhc2Ugdi5TZXRTb3VyY2VDaGFubmVsOnJldHVybiBzPXQuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZUNoYW5uZWxcIix1aWQ6cy51aWQrXCJcIixjaGFubmVsTmFtZTpzLmNoYW5uZWxOYW1lLHRva2VuOnMudG9rZW58fHRoaXMuYXBwSWR9LGE7Y2FzZSB2LlNldFNvdXJjZVVzZXJJZDpyZXR1cm4gcz10LmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSxhLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRTb3VyY2VVc2VySWRcIix1aWQ6dGhpcy51aWQrXCJcIn0sYTtjYXNlIHYuU2V0RGVzdENoYW5uZWw6cmV0dXJuIHQuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm9zKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdXNoKGUuY2hhbm5lbE5hbWUpLGkucHVzaChlLnVpZCtcIlwiKSxvLnB1c2goZS50b2tlbnx8bi5hcHBJZCl9KSksYS5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0RGVzdENoYW5uZWxcIixjaGFubmVsTmFtZTpyLHVpZDppLHRva2VuOm99LGE7Y2FzZSB2LlN0YXJ0UGFja2V0VHJhbnNmZXI6cmV0dXJuIGEuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIn0sYTtjYXNlIHYuUmVjb25uZWN0OnJldHVybiBhLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJSZWNvbm5lY3RcIn0sYTtjYXNlIHYuU3RvcFBhY2tldFRyYW5zZmVyOnJldHVybiBhLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTdG9wUGFja2V0VHJhbnNmZXJcIn0sYTtjYXNlIHYuVXBkYXRlRGVzdENoYW5uZWw6cmV0dXJuIHQuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm9zKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdXNoKGUuY2hhbm5lbE5hbWUpLGkucHVzaChlLnVpZCtcIlwiKSxvLnB1c2goZS50b2tlbnx8bi5hcHBJZCl9KSksYS5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiVXBkYXRlRGVzdENoYW5uZWxcIixjaGFubmVsTmFtZTpyLHVpZDppLHRva2VuOm99LGF9fSx0LnByb3RvdHlwZS5fY2hlY2tTaWduYWw9ZnVuY3Rpb24oKXtpZighdGhpcy5fc2lnbmFsfHwhdGhpcy5fc2lnbmFsLmlzQ29ubmVjdCgpKXRocm93IG5ldyBSKGguV1NfRElTQ09OTkVDVEVEKX0sdH0oYy5kZWZhdWx0KTt0LmRlZmF1bHQ9Zzt2YXIgbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcz1uZXcgTWFwfXJldHVybiBlLnByb3RvdHlwZS5zZXRTcmNDaGFubmVsSW5mbz1mdW5jdGlvbihlKXtsLmNoZWNrVmFsaWRPYmplY3QoZSxcInNyY0luZm9cIik7dmFyIHQ9ZS51aWQsbj1lLmNoYW5uZWxOYW1lLHI9ZS50b2tlbjtpZihyJiYhbC5pc1ZhbGlkVG9rZW4ocikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0b2tlbiBpbiBTcmNDaGFubmVsSW5mb1wiKTtpZighbC5pc1ZhbGlkQ2hhbm5lbE5hbWUobikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBTcmNDaGFubmVsSW5mb1wiKTtpZighcC5pczMyVWludCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVpZCBpbiBTcmNDaGFubmVsSW5mb1wiKTt0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm89ZX0sZS5wcm90b3R5cGUuc2V0RGVzdENoYW5uZWxJbmZvPWZ1bmN0aW9uKGUsdCl7aWYoIWwuaXNWYWxpZENoYW5uZWxOYW1lKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2hhbm5lbE5hbWUgaW4gRGVzdENoYW5uZWxJbmZvXCIpO2wuY2hlY2tWYWxpZE9iamVjdCh0LFwiZGVzdEluZm9cIik7dmFyIG49dC51aWQscj10LnRva2VuLGk9dC5jaGFubmVsTmFtZTtpZihyJiYhbC5pc1ZhbGlkVG9rZW4ocikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0b2tlbiBpbiBEZXN0Q2hhbm5lbEluZm9cIik7aWYoIWwuaXNWYWxpZENoYW5uZWxOYW1lKGkpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2hhbm5lbE5hbWUgaW4gRGVzdENoYW5uZWxJbmZvXCIpO2lmKCFwLmlzMzJVaW50KG4pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdWlkIGluIERlc3RDaGFubmVsSW5mb1wiKTt0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcy5zZXQoZSx0KX0sZS5wcm90b3R5cGUucmVtb3ZlRGVzdENoYW5uZWxJbmZvPWZ1bmN0aW9uKGUpe2lmKCFsLmlzVmFsaWRDaGFubmVsTmFtZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYW5uZWxOYW1lIHdoZW4gaW52b2tlIHJlbW92ZURlc3RDaGFubmVsSW5mb1wiKTt0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcy5kZWxldGUoZSl9LGUucHJvdG90eXBlLmdldFNyY0NoYW5uZWxNZWRpYUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcmNDaGFubmVsTWVkaWFJbmZvfSxlLnByb3RvdHlwZS5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mb3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3N9LGV9KCk7dC5DaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb249bTt2YXIgaCx2LEUsUyxfLHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scixpKXt2YXIgbz1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uX29uT3Blbj1mdW5jdGlvbigpe28uZW1pdChcIm9wZW5cIil9LG8uX29uQ2xvc2U9ZnVuY3Rpb24oZSl7by5lbWl0KFwiY2xvc2VcIiksby5kaXNwb3NlKCl9LG8uX29uTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYoIXR8fFwic2VydmVyUmVzcG9uc2VcIiE9PXQuY29tbWFuZHx8IXQucmVxdWVzdElkKXJldHVybiB0JiZcInNlcnZlclN0YXR1c1wiPT09dC5jb21tYW5kJiZ0LnNlcnZlclN0YXR1cyYmdC5zZXJ2ZXJTdGF0dXMuY29tbWFuZD8oby5lbWl0KFwic3RhdHVzXCIsdC5zZXJ2ZXJTdGF0dXMpLHZvaWQgby5lbWl0KHQuc2VydmVyU3RhdHVzLmNvbW1hbmQsdC5zZXJ2ZXJTdGF0dXMpKTp2b2lkIDA7by5lbWl0KFwicmVxX1wiK3QucmVxdWVzdElkLHQpfSxvLl9yZXF1ZXN0SWQ9MSxvLmFwcElkPXQsby5jbmFtZT1uLG8udWlkPXIsby5zaWQ9aSxvfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuaXNDb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dzJiZ0aGlzLl93cy5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU59LHQucHJvdG90eXBlLnNlbmRNZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl93c3x8dGhpcy5fd3MucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOKXRocm93IG5ldyBSKGguV1NfRElTQ09OTkVDVEVEKTt2YXIgdD10aGlzLl9yZXF1ZXN0SWQrKztyZXR1cm4gZS5yZXF1ZXN0SWQ9dCxlLnNlcT10LHRoaXMuX3dzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZSkpLHR9LHQucHJvdG90eXBlLndhaXRTdGF0dXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cihuZXcgUihoLldBSVRfU1RBVFVTX1RJTUVPVVQsZSkpfSksNWUzKTt0Lm9uY2UoZSwoZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KGkpLHQuc3RhdGUmJjAhPT10LnN0YXRlP3IobmV3IFIoaC5XQUlUX1NUQVRVU19FUlJPUixlKSk6bigpfSkpLHQub25jZShcImRpc3Bvc2VcIiwoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSkscihuZXcgUihoLldTX0FCT1JUKSl9KSl9KSl9LHQucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9dC5zZW5kTWVzc2FnZShlKSxvPXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVxX1wiK2kpLHIobmV3IFIoaC5SRVFVRVNUX1RJTUVPVVQpKX0pLDNlMyk7dC5vbmNlKFwicmVxX1wiK2ksKGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChvKSxlJiYyMDA9PT1lLmNvZGU/bihlKTpyKG5ldyBSKGguUkVRVUVTVF9GQUlMRUQsZSkpfSkpLHQub25jZShcImRpc3Bvc2VcIiwoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobykscihuZXcgUihoLldTX0FCT1JUKSl9KSl9KSl9LHQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5fd3M9bmV3IFdlYlNvY2tldChlKSx0Ll93cy5vbm9wZW49ZnVuY3Rpb24oKXt0Ll9vbk9wZW4oKSx0Ll9wcnZVcmw9ZSx0Ll93cy5vbm1lc3NhZ2U9dC5fb25NZXNzYWdlLHQuX3dzLm9uY2xvc2U9dC5fb25DbG9zZSx0Ll9zdGFydEhlYXJ0QmVhdENoZWNrKCksbigpfSx0Ll93cy5vbmNsb3NlPWZ1bmN0aW9uKGUpe3QuX3dzPW51bGwscihuZXcgUihoLkNPTk5FQ1RfRkFJTEVELFwid2Vic29ja2V0IGVycm9yIGNvZGU6IFwiK2UuY29kZSkpfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuX3dzJiZ0Ll93cy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJih0Ll93cy5vbm9wZW49bnVsbCx0Ll93cy5vbmNsb3NlPW51bGwsdC5fd3MuY2xvc2UoKSx0Ll93cz1udWxsLHIobmV3IFIoaC5DT05ORUNUX1RJTUVPVVQpKSl9KSw1ZTMpLHQub25jZShcImRpc3Bvc2VcIiwoZnVuY3Rpb24oKXtyKG5ldyBSKGguV1NfQUJPUlQpKX0pKX0pKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFySGVhcnRCZWF0Q2hlY2soKSx0aGlzLmVtaXQoXCJkaXNwb3NlXCIpLHRoaXMucmVtb3ZlRXZlbnQoKSx0aGlzLl93cyYmKHRoaXMuX3dzLm9ub3Blbj1udWxsLHRoaXMuX3dzLm9uY2xvc2U9bnVsbCx0aGlzLl93cy5vbm1lc3NhZ2U9bnVsbCx0aGlzLl93cy5jbG9zZSgpKSx0aGlzLl93cz1udWxsfSx0LnByb3RvdHlwZS5fc2VuZFBpbmc9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX3dzfHx0aGlzLl93cy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4pdGhyb3cgbmV3IFIoaC5XU19ESVNDT05ORUNURUQpO3ZhciB0PXRoaXMuX3JlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD10LHRoaXMuX3dzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZSkpLHR9LHQucHJvdG90eXBlLl9zdGFydEhlYXJ0QmVhdENoZWNrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9oZWFydEJlYXRUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5fc2VuZFBpbmcoe2NvbW1hbmQ6XCJwaW5nXCIsYXBwSWQ6ZS5hcHBJZCxjbmFtZTplLmNuYW1lLHVpZDplLnVpZCtcIlwiLHNpZDplLnNpZCx0czorbmV3IERhdGUscmVxdWVzdElkOjB9KX0pLDNlMyl9LHQucHJvdG90eXBlLl9jbGVhckhlYXJ0QmVhdENoZWNrPWZ1bmN0aW9uKCl7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5faGVhcnRCZWF0VGltZXIpfSx0fShjLmRlZmF1bHQpLFI9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PWUmJihlPVwiXCIpLHRoaXMuY29kZT1uLHRoaXMuZGF0YT10LHRoaXMubWVzc2FnZT1lfTt0LkNoYW5uZWxNZWRpYUVycm9yPVIsZnVuY3Rpb24oZSl7ZS5DT05ORUNUX0ZBSUxFRD1cImNvbm5lY3QgZmFpbGVkXCIsZS5DT05ORUNUX1RJTUVPVVQ9XCJjb25uZWN0IHRpbWVvdXRcIixlLldTX0RJU0NPTk5FQ1RFRD1cIndlYnNvY2tldCBkaXNjb25uZWN0ZWRcIixlLlJFUVVFU1RfVElNRU9VVD1cInJlcXVlc3QgdGltZW91dFwiLGUuUkVRVUVTVF9GQUlMRUQ9XCJyZXF1ZXN0IGZhaWxlZFwiLGUuV0FJVF9TVEFUVVNfVElNRU9VVD1cIndhaXQgc3RhdHVzIHRpbWVvdXRcIixlLldBSVRfU1RBVFVTX0VSUk9SPVwid2FpdCBzdGF0dXMgZXJyb3JcIixlLkJBRF9TVEFURT1cImJhZCBzdGF0ZVwiLGUuV1NfQUJPUlQ9XCJ3cyBhYm9ydFwiLGUuQVBfUkVRVUVTVF9USU1FT1VUPVwiQVAgcmVxdWVzdCB0aW1lb3V0XCIsZS5BUF9KU09OX1BBUlNFX0VSUk9SPVwiQVAganNvbiBwYXJzZSBlcnJvclwiLGUuQVBfUkVRVUVTVF9FUlJPUj1cIkFQIHJlcXVlc3QgZXJyb3JcIixlLkFQX1JFUVVFU1RfQUJPUlQ9XCJBUCByZXF1ZXN0IGFib3J0XCJ9KGg9dC5DSEFOTkVMX01FRElBX0VSUk9SfHwodC5DSEFOTkVMX01FRElBX0VSUk9SPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlNldFNka1Byb2ZpbGU9MF09XCJTZXRTZGtQcm9maWxlXCIsZVtlLlNldFNvdXJjZUNoYW5uZWw9MV09XCJTZXRTb3VyY2VDaGFubmVsXCIsZVtlLlNldFNvdXJjZVVzZXJJZD0yXT1cIlNldFNvdXJjZVVzZXJJZFwiLGVbZS5TZXREZXN0Q2hhbm5lbD0zXT1cIlNldERlc3RDaGFubmVsXCIsZVtlLlN0YXJ0UGFja2V0VHJhbnNmZXI9NF09XCJTdGFydFBhY2tldFRyYW5zZmVyXCIsZVtlLlN0b3BQYWNrZXRUcmFuc2Zlcj01XT1cIlN0b3BQYWNrZXRUcmFuc2ZlclwiLGVbZS5VcGRhdGVEZXN0Q2hhbm5lbD02XT1cIlVwZGF0ZURlc3RDaGFubmVsXCIsZVtlLlJlY29ubmVjdD03XT1cIlJlY29ubmVjdFwiLGVbZS5TZXRWaWRlb1Byb2ZpbGU9OF09XCJTZXRWaWRlb1Byb2ZpbGVcIn0odnx8KHY9e30pKSxmdW5jdGlvbihlKXtlW2UuTkVUV09SS19ESVNDT05ORUNURUQ9MF09XCJORVRXT1JLX0RJU0NPTk5FQ1RFRFwiLGVbZS5ORVRXT1JLX0NPTk5FQ1RFRD0xXT1cIk5FVFdPUktfQ09OTkVDVEVEXCIsZVtlLlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUw9Ml09XCJQQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMXCIsZVtlLlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMPTNdPVwiUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUxcIixlW2UuUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMPTRdPVwiUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMXCIsZVtlLlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQz01XT1cIlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQ1wiLGVbZS5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkM9Nl09XCJQQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkNcIixlW2UuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUw9N109XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTFwiLGVbZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEPThdPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfUkVGVVNFRFwiLGVbZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFPTldPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRVwifShFPXQuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVHx8KHQuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVD17fSkpLGZ1bmN0aW9uKGUpe2VbZS5SRUxBWV9TVEFURV9JRExFPTBdPVwiUkVMQVlfU1RBVEVfSURMRVwiLGVbZS5SRUxBWV9TVEFURV9DT05ORUNUSU5HPTFdPVwiUkVMQVlfU1RBVEVfQ09OTkVDVElOR1wiLGVbZS5SRUxBWV9TVEFURV9SVU5OSU5HPTJdPVwiUkVMQVlfU1RBVEVfUlVOTklOR1wiLGVbZS5SRUxBWV9TVEFURV9GQUlMVVJFPTNdPVwiUkVMQVlfU1RBVEVfRkFJTFVSRVwifShTPXQuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURXx8KHQuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5SRUxBWV9PSz0wXT1cIlJFTEFZX09LXCIsZVtlLlNFUlZFUl9FUlJPUl9SRVNQT05TRT0xXT1cIlNFUlZFUl9FUlJPUl9SRVNQT05TRVwiLGVbZS5TRVJWRVJfTk9fUkVTUE9OU0U9Ml09XCJTRVJWRVJfTk9fUkVTUE9OU0VcIixlW2UuTk9fUkVTT1VSQ0VfQVZBSUxBQkxFPTNdPVwiTk9fUkVTT1VSQ0VfQVZBSUxBQkxFXCIsZVtlLkZBSUxFRF9KT0lOX1NSQz00XT1cIkZBSUxFRF9KT0lOX1NSQ1wiLGVbZS5GQUlMRURfSk9JTl9ERVNUPTVdPVwiRkFJTEVEX0pPSU5fREVTVFwiLGVbZS5GQUlMRURfUEFDS0VUX1JFQ0VJVkVEX0ZST01fU1JDPTZdPVwiRkFJTEVEX1BBQ0tFVF9SRUNFSVZFRF9GUk9NX1NSQ1wiLGVbZS5GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVD03XT1cIkZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUXCIsZVtlLlNFUlZFUl9DT05ORUNUSU9OX0xPU1Q9OF09XCJTRVJWRVJfQ09OTkVDVElPTl9MT1NUXCIsZVtlLklOVEVSTkFMX0VSUk9SPTldPVwiSU5URVJOQUxfRVJST1JcIixlW2UuU1JDX1RPS0VOX0VYUElSRUQ9MTBdPVwiU1JDX1RPS0VOX0VYUElSRURcIixlW2UuREVTVF9UT0tFTl9FWFBJUkVEPTExXT1cIkRFU1RfVE9LRU5fRVhQSVJFRFwiLGVbZS5SRUxBWV9BTFJFQURZX1NUQVJUPTEyXT1cIlJFTEFZX0FMUkVBRFlfU1RBUlRcIixlW2UuUkVMQVlfTk9UX1NUQVJUPTEzXT1cIlJFTEFZX05PVF9TVEFSVFwiLGVbZS5PUEVSQVRJT05fQUJPUlQ9MTRdPVwiT1BFUkFUSU9OX0FCT1JUXCJ9KF89dC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SfHwodC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJpc0xpdmVUcmFuc2NvZGluZ1ZhbGlkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsXCJnZW5lcmF0ZVNlc3Npb25JZFwiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LFwiYXVkaW9MZXZlbEhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZCh0LFwidnNSZXNIYWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsXCJpczMyVWludFwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLG4uZCh0LFwic2FmZUNhbGxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCxcInJhbmRvbVwiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZCh0LFwicG9wQmFuVGlwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKHQsXCJsZW5ndGhJblV0ZjhCeXRlc1wiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLG4uZCh0LFwiYXVkaW9UaW1lckxvb3BcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCxcImdlbmVyYXRlSWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQodCxcInVpbnQ4QXJyYXlUb0Jhc2U2NFwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LFwiYmFzZTY0VG9VaW50OEFycmF5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDUpLGE9bigwKSxzPW4oMjgpLGM9bi5uKHMpLGQ9bigyNSksdT1uKDE1KSxsPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmFwcGx5KG51bGwsdCl9fSxmPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49MDtuPGUubGVuZ3RoO24rPTEpdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gd2luZG93LmJ0b2EodCl9LHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXdpbmRvdy5hdG9iKGUpLG49bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSkscj0wO3I8dC5sZW5ndGg7cis9MSluW3JdPXQuY2hhckNvZGVBdChyKTtyZXR1cm4gbn0sZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hdWRpb0NvbnRleHQ9T2JqZWN0KGQuYSkoKSx0aGlzLnNvdXJjZU5vZGU9ZS5vdFdlYmtpdEF1ZGlvU291cmNlfHx0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShlKSx0aGlzLmFuYWx5c2VyPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy50aW1lRG9tYWluRGF0YT1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KSx0aGlzLnNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmFuYWx5c2VyKSx0aGlzLmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtpZih0aGlzLmFuYWx5c2VyKXt0aGlzLmFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLnRpbWVEb21haW5EYXRhKTtmb3IodmFyIGU9MCx0PTA7dDx0aGlzLnRpbWVEb21haW5EYXRhLmxlbmd0aDt0KyspZT1NYXRoLm1heChlLE1hdGguYWJzKHRoaXMudGltZURvbWFpbkRhdGFbdF0tMTI4KSk7cmV0dXJuIGUvMTI4fXJldHVybiBhLmRlZmF1bHQud2FybmluZyhcImNhbid0IGZpbmQgYW5hbHlzZXIgaW4gYXVkaW9MZXZlbEhlbHBlclwiKSwwfSx0aGlzfSxtPTFlNDtmdW5jdGlvbiBoKCl7cmV0dXJuKyttfWZ1bmN0aW9uIHYoKXtyZXR1cm4gYygpKCkucmVwbGFjZSgvLS9nLFwiXCIpLnRvVXBwZXJDYXNlKCl9dmFyIEU9ZnVuY3Rpb24oZSx0LG4pe3RyeXthLmRlZmF1bHQuZGVidWcoXCJzdGFydCB2c1Jlc0hhY2tcIixlKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ci5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLHIuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxyLm11dGVkPSEwLHIuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6MXB4OyBoaWdoOjFweDtcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKTt2YXIgaT0hMTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKGZ1bmN0aW9uKG4pe28uaXNGaXJlRm94KCk/ci52aWRlb1dpZHRoJiYoaT0hMCxhLmRlZmF1bHQuZGVidWcoXCJbdnNSZXNIYWNrXSBnZXQgc3RyZWFtIHJlc29sdXRpb246IFwiLFwiXCIuY29uY2F0KHIudmlkZW9XaWR0aCxcIiB4IFwiKS5jb25jYXQoci52aWRlb0hlaWdodCksZSksdChyLnZpZGVvV2lkdGgsci52aWRlb0hlaWdodCksci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpKTooaT0hMCxhLmRlZmF1bHQuZGVidWcoXCJbdnNSZXNIYWNrXSBnZXQgc3RyZWFtIHJlc29sdXRpb246IFwiLFwiXCIuY29uY2F0KHIudmlkZW9XaWR0aCxcIiB4IFwiKS5jb25jYXQoci52aWRlb0hlaWdodCksZSksdChyLnZpZGVvV2lkdGgsci52aWRlb0hlaWdodCksci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpKX0pKSxPYmplY3QodS5zZXRTcmNPYmplY3QpKHIsZSksci5wbGF5KCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7IWkmJnImJih0KHIudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0KSxyLnNyY09iamVjdD1udWxsLHIucmVtb3ZlKCkpfSksNGUzKX1jYXRjaChlKXtuKGUpfX0sUz1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmMDw9ZSYmZTw9NDI5NDk2NzI5NX0sXz1mdW5jdGlvbihlKXt2YXIgdD1bXCJsb3dMYXRlbmN5XCIsXCJ1c2VyQ29uZmlnRXh0cmFJbmZvXCIsXCJ0cmFuc2NvZGluZ1VzZXJzXCJdO2Zvcih2YXIgbiBpbiBlKWlmKFwibG93TGF0ZW5jeVwiPT09biYmXCJib29sZWFuXCIhPXR5cGVvZiBlW25dfHxcInVzZXJDb25maWdFeHRyYUluZm9cIj09PW4mJlwib2JqZWN0XCIhPT1pKCkoZVtuXSl8fFwidHJhbnNjb2RpbmdVc2Vyc1wiPT09biYmIXkoZVtuXSl8fCF+dC5pbmRleE9mKG4pJiZcIm51bWJlclwiIT10eXBlb2YgZVtuXSl0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbSBbXCIrbitcIl0gaXMgaW5WYWxpZFwiKTtyZXR1cm4hMH0seT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylmb3IodmFyIG4gaW4gZVt0XSlpZihcIm51bWJlclwiIT10eXBlb2YgZVt0XVtuXSl0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbSB1c2VyW1wiK3QrXCJdIC0gW1wiK24rXCJdIGlzIGluVmFsaWRcIik7cmV0dXJuITB9LFI9ZnVuY3Rpb24oZSl7aXNOYU4oZSkmJihlPTFlMyk7dmFyIHQ9K25ldyBEYXRlLG49KHQ9KDkzMDEqdCs0OTI5NyklMjMzMjgwKS8yMzMyODA7cmV0dXJuIE1hdGguY2VpbChuKmUpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0PWVuY29kZVVSSUNvbXBvbmVudChlKS5tYXRjaCgvJVs4OUFCYWJdL2cpO3JldHVybiBlLmxlbmd0aCsodD90Lmxlbmd0aDowKX0sST1mdW5jdGlvbihlLHQpe3ZhciBuPTEvdCxyPU9iamVjdChkLmEpKCksaT1yLmNyZWF0ZUdhaW4oKTtpLmdhaW4udmFsdWU9MCxpLmNvbm5lY3Qoci5kZXN0aW5hdGlvbik7dmFyIG89ITE7cmV0dXJuIGZ1bmN0aW9uIHQoKXt2YXIgYT1yLmNyZWF0ZU9zY2lsbGF0b3IoKTthLm9uZW5kZWQ9dCxhLmNvbm5lY3QoaSksYS5zdGFydCgwKSxhLnN0b3Aoci5jdXJyZW50VGltZStuKSxlKHIuY3VycmVudFRpbWUpLG8mJihhLm9uZW5kZWQ9ZnVuY3Rpb24oKXt9KX0oKSxmdW5jdGlvbigpe289ITB9fSxiPWZ1bmN0aW9uKCl7aWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWdvcmEtYmFuLXRpcFwiKSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmlkPVwiYWdvcmEtYmFuLXRpcFwiLGUuc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBjb2xvcjogI2ZmZjtcIixkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5wcmVwZW5kKGUpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZT1cImJhY2tncm91bmQ6ICMwMDA7IHdpZHRoOiAzNDZweDsgaGVpZ2h0OiAxMTZweDsgei1pbmRleDogMTAwMDAwOyBvcGFjaXR5OiAwLjY7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGJveC1zaGFkb3c6IDAgMnB4IDRweCAjMDAwO1wiLGUuYXBwZW5kKHQpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZT1cImhlaWdodDogNzZweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ci5zdHlsZT1cImhlaWdodDogMjhweDsgd2lkdGg6IDI4cHg7IGNvbG9yOiAjMDAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiAzMHB4OyBiYWNrZ3JvdW5kOiAjZmZmOyBib3JkZXItcmFkaXVzOiA1MCU7IGZvbnQtd2VpZ2h0OiA2MDA7IGZvbnQtc2l6ZTogMjBweDttYXJnaW4tcmlnaHQ6IDVweDtcIixyLmlubmVyVGV4dD1cIiFcIjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpLmlubmVyVGV4dD1cIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYlJUQ1wiLG4uYXBwZW5kKHIpLG4uYXBwZW5kKGkpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zdHlsZT1cImhlaWdodDogMzhweDsgZGlzcGxheTogZmxleDsgYm9yZGVyLXRvcDogI2ZmZiAxcHggc29saWQ7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyO1wiLG8uaW5uZXJUZXh0PVwiT0tcIix0LmFwcGVuZChuKSx0LmFwcGVuZChvKSxvLm9uY2xpY2s9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFnb3JhLWJhbi10aXBcIik7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfX19fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2UuZXhwb3J0cz1uPWZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZS5leHBvcnRzPW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sbih0KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDY0KX0sZnVuY3Rpb24odCxuLHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTIpLG89ci5uKGkpLGE9cigxNykscz1yLm4oYSksYz1yKDExKSxkPXIubihjKSx1PXIoMzIpLGw9ci5uKHUpLGY9cig3KSxwPXIubihmKSxnPXIoMjIpLG09cig4KSxoPWZ1bmN0aW9uKGUpe2UmJmUuYXBwbHkodGhpcyxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LHY9cigwKSxFPXIoMSksUz1yKDEwKSxfPXIoMTQpLHk9cigyKSxSPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChtLmIpKGUpO3QubmVlZFJlY29ubmVjdD0hMCx0LmlzVGltZW91dD0hMSx0LmlzSW5pdD0hMCx0LnNlbmRieXRlcz0wLHQucmVjdmJ5dGVzPTAsdC5zdGFydFRpbWU9RGF0ZS5ub3coKSx0Lmxhc3RNc2dUaW1lPW51bGwsdC5jbGllbnRJZD1lLmNsaWVudElkLHQuaG9zdEluZGV4PTAsdC5yZXF1ZXN0SUQ9MCxlLmhvc3QgaW5zdGFuY2VvZiBBcnJheT90Lmhvc3Q9ZS5ob3N0OnQuaG9zdD1bZS5ob3N0XSx0LmdldFNlbmRCeXRlcz1mdW5jdGlvbigpe3JldHVybiB0LnNlbmRieXRlc30sdC5nZXRSZWN2Qnl0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZWN2Ynl0ZXN9LHQuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5jZWlsKChEYXRlLm5vdygpLXQuc3RhcnRUaW1lKS8xZTMpfSx0LmdldFVSTD1mdW5jdGlvbigpe3JldHVybiB0LmNvbm5lY3Rpb24udXJsfSx0LnJlY29ubmVjdD1mdW5jdGlvbigpe3QuaXNJbml0PSEwLHQuY3JlYXRDb25uZWN0aW9uKCl9LHQuY29ubmVjdE5leHQ9ZnVuY3Rpb24oKXt0LmlzSW5pdD0hMCwrK3QuaG9zdEluZGV4LHYuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXSBHYXRld2F5IGxlbmd0aDpcIit0Lmhvc3QubGVuZ3RoK1wiIGN1cnJlbnQgaW5kZXg6XCIrdC5ob3N0SW5kZXgpLHQuaG9zdEluZGV4Pj10Lmhvc3QubGVuZ3RoP3QuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcInJlY292ZXJcIn0pKTp0LmNyZWF0Q29ubmVjdGlvbigpfSx0LnJlcGxhY2VIb3N0PWZ1bmN0aW9uKGUpe3QuaG9zdD1lfHx0Lmhvc3QsdC5ob3N0SW5kZXg9MCx0LmNyZWF0Q29ubmVjdGlvbigpfSx0LmNyZWF0Q29ubmVjdGlvbj1mdW5jdGlvbigpe3QubmVlZFJlY29ubmVjdD0hMCx0Lmx0cz0obmV3IERhdGUpLmdldFRpbWUoKSx0LmNvbm5lY3Rpb249bmV3IFdlYlNvY2tldChcIndzczovL1wiK3QuaG9zdFt0Lmhvc3RJbmRleF0pLHQuY29ubmVjdGlvbi5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0LnR1cm5Db25maWc9e307dmFyIG49ZS5wcm94eVNlcnZlclR5cGU7aWYodC5jb25uZWN0aW9uLnVybCYmMyE9PW4mJjQhPT1uJiY1IT09bil7dmFyIHI9dC5jb25uZWN0aW9uLnVybC5tYXRjaCgvd3NzXFw6XFwvXFwvKFteOl0rKTooXFxkKykvKSxpPXQuaG9zdFt0Lmhvc3RJbmRleF0uc3BsaXQoXCI6XCIpLG89dC5jb25uZWN0aW9uLnVybC5tYXRjaCgvaD0oW146XSspJnA9KFxcZCspLyk7cj8odC50dXJuQ29uZmlnLnVybD1yWzFdLE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJih0LnR1cm5Db25maWcudGNwcG9ydD1wYXJzZUludChyWzJdKSszMCksT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1VEUFwiKSYmKHQudHVybkNvbmZpZy51ZHBwb3J0PXBhcnNlSW50KHJbMl0pKzMwKSk6bz8odC50dXJuQ29uZmlnLnVybD1vWzFdLE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJih0LnR1cm5Db25maWcudGNwcG9ydD1wYXJzZUludChvWzJdKSszMCksT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1VEUFwiKSYmKHQudHVybkNvbmZpZy51ZHBwb3J0PXBhcnNlSW50KG9bMl0pKzMwKSk6aSYmKHQudHVybkNvbmZpZy51cmw9aVswXSxPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiVFVSTl9FTkFCTEVfVENQXCIpJiYodC50dXJuQ29uZmlnLnRjcHBvcnQ9cGFyc2VJbnQoaVsxXSkrMzApLE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJUVVJOX0VOQUJMRV9VRFBcIikmJih0LnR1cm5Db25maWcudWRwcG9ydD1wYXJzZUludChpWzFdKSszMCkpfXQuY29ubmVjdGlvbi5vbm9wZW49ZnVuY3Rpb24oZSl7dC5uZWVkUmVjb25uZWN0PSEwLHQuaXNUaW1lb3V0PSExLHQuaXNJbml0PSExLHQuc2VuZGJ5dGVzPTAsdC5yZWN2Ynl0ZXM9MCx0LnN0YXJ0VGltZT1EYXRlLm5vdygpLE9iamVjdChfLnJlc2V0SFRUUEJ5ZXRzQ291bnQpKCksY2xlYXJUaW1lb3V0KHQudGltZW91dENoZWNrKSx0LmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZCkoe3R5cGU6XCJvbm9wZW5cIixldmVudDplLHNvY2tldDp0fSkpfSx0LmNvbm5lY3Rpb24ub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm9uQmluYXJ5RGF0YVwiLGRhdGE6ZS5kYXRhfSk7ZWxzZXt0LnJlY3ZieXRlcys9T2JqZWN0KFMubGVuZ3RoSW5VdGY4Qnl0ZXMpKGUuZGF0YSk7dmFyIG49SlNPTi5wYXJzZShlLmRhdGEpO3QubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxuLmhhc093blByb3BlcnR5KFwiX2lkXCIpP3QuZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpuLl9pZCxtc2c6bn0pKTpuLmhhc093blByb3BlcnR5KFwiX3R5cGVcIikmJnQuZGlzcGF0Y2hTb2NrZXRFdmVudChPYmplY3QobS5kKSh7dHlwZTpuLl90eXBlLG1zZzpuLl9tZXNzYWdlfSkpfX0sdC5jb25uZWN0aW9uLm9uY2xvc2U9ZnVuY3Rpb24obil7dC5uZWVkUmVjb25uZWN0P3QuaXNUaW1lb3V0fHx0LmlzSW5pdD8odi5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdIHdlYnNvY2tlY3QgY29ubmVjdCB0aW1lb3V0XCIpLEUucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6dC5sdHMsc3VjYzohMSxlYzpcInRpbWVvdXRcIixhZGRyOnQuY29ubmVjdGlvbi51cmx9KSx0LmNvbm5lY3ROZXh0KCkpOih0LmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZCkoe3R5cGU6XCJkaXNjb25uZWN0XCIsZXZlbnQ6bn0pKSx0LnJlcXVlc3RzJiZ0LnJlcXVlc3RzIGluc3RhbmNlb2YgQXJyYXkmJih0LnJlcXVlc3RzLm1hcCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjayhcIlJFUVVFU1RfQUJPUlRcIil9KSksdC5yZXF1ZXN0cz1bXSkpOih2LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl0gd2Vic29ja2VjdCBjbG9zZWVkXCIpLGgoZS5vbkZhaWx1cmUsbiksY2xlYXJUaW1lb3V0KHQudGltZW91dENoZWNrKSx0LmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZCkoe3R5cGU6XCJjbG9zZVwiLGV2ZW50Om59KSksdC5jb25uZWN0aW9uLm9ub3Blbj12b2lkIDAsdC5jb25uZWN0aW9uLm9uY2xvc2U9dm9pZCAwLHQuY29ubmVjdGlvbi5vbmVycm9yPXZvaWQgMCx0LmNvbm5lY3Rpb24ub25tZXNzYWdlPXZvaWQgMCx0LmNvbm5lY3Rpb249dm9pZCAwKX0sdC5jb25uZWN0aW9uLm9uZXJyb3I9ZnVuY3Rpb24oZSl7fTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29ubmVjdGlvbiYmdC5jb25uZWN0aW9uLnJlYWR5U3RhdGUhPVdlYlNvY2tldC5PUEVOJiYodC5pc1RpbWVvdXQ9ITAsdC5jb25uZWN0aW9uLmNsb3NlKCkpfSksNWUzKX0sdC5jcmVhdENvbm5lY3Rpb24oKSx0LnNlbmRNZXNzYWdlPWZ1bmN0aW9uKGUsbil7aWYodC5jb25uZWN0aW9uJiZ0LmNvbm5lY3Rpb24ucmVhZHlTdGF0ZT09V2ViU29ja2V0Lk9QRU4pe3ZhciByPUpTT04uc3RyaW5naWZ5KGUpO3Quc2VuZGJ5dGVzKz1PYmplY3QoUy5sZW5ndGhJblV0ZjhCeXRlcykociksdC5jb25uZWN0aW9uLnNlbmQocil9ZWxzZSBuKHtlcnJvcjpcIkdhdGV3YXkgbm90IGNvbm5lY3RlZFwifSl9LHQuZGlzY29ubmVjdD1mdW5jdGlvbigpe3QubmVlZFJlY29ubmVjdD0hMCx0LmNvbm5lY3Rpb24uY2xvc2UoKX0sdC5jbG9zZT1mdW5jdGlvbigpe3QubmVlZFJlY29ubmVjdD0hMSx0LmNvbm5lY3Rpb24ub25jbG9zZT12b2lkIDAsdC5jb25uZWN0aW9uLmNsb3NlKCksY2xlYXJJbnRlcnZhbCh0LnJlcXVlc3RUaW1lciksdC5yZXF1ZXN0cyYmdC5yZXF1ZXN0cyBpbnN0YW5jZW9mIEFycmF5JiYodC5yZXF1ZXN0cy5tYXAoKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2soXCJSRVFVRVNUX0FCT1JUXCIpfSkpLHQucmVxdWVzdHM9W10pfSx0LnNlbmRTaWduYWxDb21tYW5kPWZ1bmN0aW9uKGUsbil7ZS5faWQ9XCJfcmVxdWVzdF9cIit0LnJlcXVlc3RJRCx0LnJlcXVlc3RJRCs9MSxcInB1Ymxpc2hfc3RhdHNcIiE9PWUuX3R5cGUmJlwic3Vic2NyaWJlX3N0YXRzXCIhPT1lLl90eXBlJiZcInB1Ymxpc2hfc3RhdHNfbG93XCIhPT1lLl90eXBlJiZ0Lm9uKGUuX2lkLChmdW5jdGlvbihyKXtyLm1zZyYmbiYmbihyLm1zZy5fcmVzdWx0LHIubXNnLm1lc3NhZ2UpLGRlbGV0ZSB0LmRpc3BhdGNoZXIuZXZlbnRMaXN0ZW5lcnNbZS5faWRdfSkpLHQuc2VuZE1lc3NhZ2UoZSwoZnVuY3Rpb24oZSl7ZS5yZWFzb249XCJOT1RfQ09OTkVDVEVEXCIsbiYmbihlLnJlYXNvbixlKX0pKX0sdC5yZXF1ZXN0cz1bXTt2YXIgbj1mdW5jdGlvbihlKXt2YXIgbj10LnJlcXVlc3RzLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lLnR5cGV9KSk7aWYobj49MCl2YXIgcj10LnJlcXVlc3RzLnNwbGljZShuLDEpWzBdO3ImJnQuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1tlLnR5cGVdPyhkZWxldGUgdC5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW2UudHlwZV0sZS5tc2cmJnIuY2FsbGJhY2smJnIuY2FsbGJhY2soZS5tc2cuX3Jlc3VsdCxlLm1zZy5fbWVzc2FnZSkpOnYuZGVmYXVsdC53YXJuaW5nKFwiRGV0YWNoZWQgUmVzcG9uc2VcIixlLnR5cGUsZS5tc2cpfSxyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj10LnJlcXVlc3RzLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1uLmlkfSkpO3I+PTAmJihuPXQucmVxdWVzdHMuc3BsaWNlKHIsMSlbMF0pLG4mJnQuZGlzcGF0Y2hlci5ldmVudExpc3RlbmVyc1tlLnR5cGVdPyhkZWxldGUgdC5kaXNwYXRjaGVyLmV2ZW50TGlzdGVuZXJzW2UudHlwZV0sZS5yZWFzb249XCJOT1RfQ09OTkVDVEVEXCIsbi5jYWxsYmFjayYmbi5jYWxsYmFjayhlLnJlYXNvbixlKSk6di5kZWZhdWx0Lndhcm5pbmcoXCJoYW5kbGVTZW5kRXJyb3JcIixuKX07cmV0dXJuIHQuc2VuZFJlcXVlc3Q9ZnVuY3Rpb24oZSxpKXtlPXAoKSh7X2lkOlwiX3JlcXVlc3RfXCIrdC5yZXF1ZXN0SUR9LGUpLHQucmVxdWVzdElEKz0xO3ZhciBvPXtpZDplLl9pZCx0aW1lb3V0Q291bnRlcjowLHN0YWxsZWRBdDpEYXRlLm5vdygpLG1lc3NhZ2U6ZSxjYWxsYmFjazppfTt0LnJlcXVlc3RzLnB1c2gobyksdC5hZGRFdmVudExpc3RlbmVyKGUuX2lkLG4pLHQuc2VuZE1lc3NhZ2UoZSxyLmJpbmQobykpfSx0LmNoZWNrUmVxdWVzdFRpbWVvdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9TWF0aC5jZWlsKE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpL09iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTSUdOQUxfUkVRVUVTVF9XQVRDSF9JTlRFUlZBTFwiKSksbj10LnJlcXVlc3RzLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgcj10LnJlcXVlc3RzW25dO3IudGltZW91dENvdW50ZXI+PWU/KHQucmVxdWVzdHMuc3BsaWNlKG4sMSksdi5kZWZhdWx0LmVycm9yKFwiUmVxdWVzdCBUaW1lb3V0XCIsci50aW1lb3V0Q291bnRlcixyLm1lc3NhZ2UpLHIuY2FsbGJhY2smJnIuY2FsbGJhY2soXCJUSU1FT1VUXCIpKTpyLnRpbWVvdXRDb3VudGVyKyt9fSxjbGVhckludGVydmFsKHQucmVxdWVzdFRpbWVyKSx0LnJlcXVlc3RUaW1lcj1zZXRJbnRlcnZhbCh0LmNoZWNrUmVxdWVzdFRpbWVvdXQsT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNJR05BTF9SRVFVRVNUX1dBVENIX0lOVEVSVkFMXCIpKSx0LnNlbmRSZXBvcnQ9ZnVuY3Rpb24oZSl7dC5zZW5kTWVzc2FnZShlLChmdW5jdGlvbigpe30pKX0sdH0sVD1mdW5jdGlvbihlLHQpe3ZhciBuPXtjb25uZWN0OmZ1bmN0aW9uKCl7dC5ob3N0PWUsbi5zaWduYWw9Uih0KSxuLm9uPW4uc2lnbmFsLm9uLG4uZGlzcGF0Y2hFdmVudD1uLnNpZ25hbC5kaXNwYXRjaEV2ZW50LG4uc2lnbmFsLm9uKFwib25vcGVuXCIsKGZ1bmN0aW9uKGUpe24uc2lnbmFsLm9uRXZlbnQ9ZnVuY3Rpb24oZSl7bi5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmQpKHt0eXBlOmUuZXZlbnQsbXNnOmV9KSl9LG4uZGlzcGF0Y2hFdmVudChPYmplY3QobS5kKSh7dHlwZTpcImNvbm5lY3RcIixtc2c6ZX0pKX0pKSxuLnNpZ25hbC5vbihcIm9uRXJyb3JcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tc2c7b25FcnJvcih0LmNvZGUsXCJlcnJvclwiKX0pKX0sZ2V0TGFzdE1zZ1RpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaWduYWwmJm4uc2lnbmFsLmxhc3RNc2dUaW1lfSxnZXRTZW5kQnl0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaWduYWwuZ2V0U2VuZEJ5dGVzKCl9LGdldFJlY3ZCeXRlczpmdW5jdGlvbigpe3JldHVybiBuLnNpZ25hbC5nZXRSZWN2Qnl0ZXMoKX0sZ2V0RHVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaWduYWwuZ2V0RHVyYXRpb24oKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe24uc2lnbmFsLmRpc2Nvbm5lY3QoKX0sY2xvc2U6ZnVuY3Rpb24oKXtuLnNpZ25hbC5jbG9zZSgpfSxnZXRVUkw6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zaWduYWwuZ2V0VVJMKCl9LHJlY29ubmVjdDpmdW5jdGlvbigpe24uc2lnbmFsLnJlY29ubmVjdCgpfSxjb25uZWN0TmV4dDpmdW5jdGlvbigpe24uc2lnbmFsLmNvbm5lY3ROZXh0KCl9LHJlcGxhY2VIb3N0OmZ1bmN0aW9uKGUpe24uc2lnbmFsLnJlcGxhY2VIb3N0KGUpfSxlbWl0U2ltcGxlTWVzc2FnZTpmdW5jdGlvbihlLHQpe24uc2lnbmFsLnNlbmRTaWduYWxDb21tYW5kKGUsdCl9LGVtaXRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7bi5zaWduYWwuc2VuZFJlcXVlc3QoZSx0KX0sZW1pdFJlcG9ydDpmdW5jdGlvbihlKXtuLnNpZ25hbC5zZW5kUmVwb3J0KGUpfX07cmV0dXJuIG4uY29ubmVjdCgpLG59LEk9cigyMyksYj1yKDQpLEE9cigyMCksTz1yKDUpLEM9e0VSUl9OT19WT0NTX0FWQUlMQUJMRTpcInRyeU5leHRcIixFUlJfTk9fVk9TX0FWQUlMQUJMRTpcInRyeU5leHRcIixFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVQ6XCJ0cnlOZXh0XCIsV0FSTl9SRVBFQVRfSk9JTjpcInF1aXRcIixFUlJfSk9JTl9CWV9NVUxUSV9JUDpcInJlY292ZXJcIixXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVQ6XCJ0cnlOZXh0XCIsV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVDpcInRyeU5leHRcIixFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEU6XCJ0cnlOZXh0XCIsRVJSX1RPT19NQU5ZX1VTRVJTOlwidHJ5TmV4dFwiLEVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRTpcInRyeU5leHRcIixFUlJfSU5URVJOQUxfRVJST1I6XCJ0cnlOZXh0XCIsS19TRVJWSUNFX05PVF9SRUFEWTpcInRyeU5leHRcIixLX1NFUlZJQ0VfVE9PX0hFQVZZOlwidHJ5TmV4dFwiLG5vdGlmaWNhdGlvbl90ZXN0X3JlY292ZXI6XCJyZWNvdmVyXCIsbm90aWZpY2F0aW9uX3Rlc3RfdHJ5TmV4dDpcInRyeU5leHRcIixub3RpZmljYXRpb25fdGVzdF9yZXRyeTpcInJldHJ5XCJ9LE49e2dvb2dBY3R1YWxFbmNCaXRyYXRlOlwiQV9hZWJcIixnb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aDpcIkFfYXNiXCIsZ29vZ1JldHJhbnNtaXRCaXRyYXRlOlwiQV9yYlwiLGdvb2dBdmFpbGFibGVSZWNlaXZlQmFuZHdpZHRoOlwiQV9hcmJcIixnb29nVGFyZ2V0RW5jQml0cmF0ZTpcIkFfdGViXCIsZ29vZ0J1Y2tldERlbGF5OlwiQV9iZFwiLGdvb2dUcmFuc21pdEJpdHJhdGU6XCJBX3RiXCIsZ29vZ0NvZGVjTmFtZTpcIkFfY25cIixieXRlc1NlbnQ6XCJieXRlc1NlbnRcIixwYWNrZXRzTG9zdDpcInBhY2tldHNMb3N0XCIscGFja2V0c1NlbnQ6XCJwYWNrZXRzU2VudFwiLGdvb2dBZGFwdGF0aW9uQ2hhbmdlczpcIkFfYWNcIixnb29nQXZnRW5jb2RlTXM6XCJBX2FlbVwiLGdvb2dFbmNvZGVVc2FnZVBlcmNlbnQ6XCJBX2V1cFwiLGdvb2dGaXJzUmVjZWl2ZWQ6XCJBX2ZyXCIsZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQ6XCJBX2ZoaVwiLGdvb2dGcmFtZUhlaWdodFNlbnQ6XCJBX2Zoc1wiLGdvb2dGcmFtZVJhdGVJbnB1dDpcIkFfZnJpXCIsZ29vZ0ZyYW1lUmF0ZVNlbnQ6XCJBX2Zyc1wiLGdvb2dGcmFtZVdpZHRoSW5wdXQ6XCJBX2Z3aVwiLGdvb2dGcmFtZVdpZHRoU2VudDpcIkFfZndzXCIsZ29vZ05hY2tzUmVjZWl2ZWQ6XCJBX25yXCIsZ29vZ1BsaXNSZWNlaXZlZDpcIkFfcHJcIixnb29nUnR0OlwiQV9ydHRcIixhZWNEaXZlcmdlbnRGaWx0ZXJGcmFjdGlvbjpcIkFfYWRmZlwiLGF1ZGlvSW5wdXRMZXZlbDpcIkFfYWlsXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzOlwiQV9lY3JsXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzRW5oYW5jZW1lbnQ6XCJBX2VjcmxlXCIsZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2Q6XCJBX3JlbFwiLGdvb2dSZXNpZHVhbEVjaG9MaWtlbGlob29kUmVjZW50TWF4OlwiQV9yZWxybVwiLGdvb2dUYXJnZXREZWxheU1zOlwiQV90ZG1cIixieXRlc1JlY2VpdmVkOlwiYnl0ZXNSZWNlaXZlZFwiLHBhY2tldHNSZWNlaXZlZDpcInBhY2tldHNSZWNlaXZlZFwiLGdvb2dEZWNvZGVNczpcIkFfZG1cIixnb29nTWF4RGVjb2RlTXM6XCJBX21kbVwiLGdvb2dSZW5kZXJEZWxheU1zOlwiQV9yZG1cIixnb29nRnJhbWVXaWR0aFJlY2VpdmVkOlwiQV9md3JcIixnb29nRnJhbWVIZWlnaHRSZWNlaXZlZDpcIkFfZmhyXCIsZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkOlwiQV9mcnJcIixnb29nRnJhbWVSYXRlRGVjb2RlZDpcIkFfZnJkXCIsZ29vZ0ZyYW1lUmF0ZU91dHB1dDpcIkFfZnJvXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiQV9qYm1cIixnb29nQ3VycmVudERlbGF5TXM6XCJBX2NkbVwiLGdvb2dNaW5QbGF5b3V0RGVsYXlNczpcIkFfbXBkbVwiLGdvb2dOYWNrc1NlbnQ6XCJBX25zXCIsZ29vZ1BsaXNTZW50OlwiQV9wc1wiLGdvb2dGaXJzU2VudDpcIkFfZnNcIixhdWRpb091dHB1dExldmVsOlwiQV9hb2xcIixnb29nQWNjZWxlcmF0ZVJhdGU6XCJBX2FyXCIsZ29vZ0RlY29kaW5nQ05HOlwiQV9kY25nXCIsZ29vZ0RlY29kaW5nQ1ROOlwiQV9kY3RuXCIsZ29vZ0RlY29kaW5nQ1RTRzpcIkFfZGN0c2dcIixnb29nRGVjb2RpbmdOb3JtYWw6XCJBX2RuXCIsZ29vZ0RlY29kaW5nUExDOlwiQV9kcGxjXCIsZ29vZ0RlY29kaW5nUExDQ05HOlwiQV9kcGxjY25nXCIsZ29vZ0V4cGFuZFJhdGU6XCJBX2VyXCIsZ29vZ0ppdHRlclJlY2VpdmVkOlwiQV9qclwiLGdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZTpcIkFfcGVyXCIsZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zOlwiQV9wamJtXCIsZ29vZ1NlY29uZGFyeURlY29kZWRSYXRlOlwiQV9zZHJcIixnb29nU3BlZWNoRXhwYW5kUmF0ZTpcIkFfc2VyXCIsdXBsaW5rX2ZyYWN0aW9uX2xvc3Q6XCJCX3VmbFwiLHVwbGlua19jdW11bGF0aXZlX2xvc3Q6XCJCX3VjbFwiLHVwbGlua19hdmFpbGFibGVfYmFuZHdpZHRoOlwiQl91YWJcIixwZXJpb2RfZmlyOlwiQl9maXJcIixhY2Nlc3NfZGVsYXk6XCJCX2FjZFwiLHVwbGlua19uZXR3b3JrX3F1YWxpdHk6XCJCX3VucVwiLGRvd25saW5rX25ldHdvcmtfcXVhbGl0eTpcIkJfZG5xXCIscHViX2F1ZGlvX2xvc3RfcmF0aW9fNDAwbXM6XCJCX3BhbHI0XCIscHViX3ZpZGVvX2xvc3RfcmF0aW9fNDAwbXM6XCJCX3B2bHI0XCIsZTJlX2RlbGF5OlwiQl9lZFwiLGF1ZGlvX2RlbGF5OlwiQl9hZFwiLHZpZGVvX2RlbGF5OlwiQl92ZFwiLHN0cmVhbV90eXBlOlwiQl9zdFwiLGUyZV9hdWRpb19sb3N0X3JhdGlvXzQwMG1zOlwiQl9lYWxyNFwiLGUyZV92aWRlb19sb3N0X3JhdGlvXzQwMG1zOlwiQl9ldmxyNFwiLGRvd25saW5rX2VzdGltYXRlX2JhbmR3aWR0aDpcIkJfZGViXCIscGVlcl9wdWJsaXNoX2F1ZGlvX2R1cmF0aW9uOlwiQl9wcGFkXCIscGVlcl9wdWJsaXNoX3ZpZGVvX2R1cmF0aW9uOlwiQl9wcHZkXCJ9LHc9e307Zm9yKHZhciBMIGluIE4pe3ZhciBEPU5bTF07d1tEXSYmdi5kZWZhdWx0LmVycm9yKFwiS2V5IENvbmZsaWN0OiBcIi5jb25jYXQoRCxcIjogXCIpLmNvbmNhdChOW0RdLFwifCBcIikuY29uY2F0KEwpKSx3W0RdPUx9dmFyIGs9ZnVuY3Rpb24oZSl7cmV0dXJuIE5bZV18fGV9LE09ZnVuY3Rpb24oZSl7cmV0dXJuIHdbZV18fGV9O3ZhciBQPXIoOSkseD1yLm4oUCksVT1yKDU0KSxqPWZ1bmN0aW9uIHQobil7dmFyIHI9ITEsaT1mdW5jdGlvbihlKXtyZXR1cm57X3R5cGU6XCJjb250cm9sXCIsX21lc3NhZ2U6ZX19LGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNUQVRTX0ZJTFRFUlwiKVtlXXx8KG5bayhlKV09dFtlXSl9KSkse190eXBlOlwic3Vic2NyaWJlX3JlbGF0ZWRfc3RhdHNcIixfbWVzc2FnZTp7c3RyZWFtX3R5cGU6XCJoaWdoXCIsc3RyZWFtX2lkOmUsc3RhdHM6bn19fSxjPWZ1bmN0aW9uKGUpe3JldHVybntfdHlwZTpcInB1Ymxpc2hcIixfbWVzc2FnZTplfX0sdT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW2VdfHwobltrKGUpXT10W2VdKX0pKSx7X3R5cGU6XCJzdWJzY3JpYmVfc3RhdHNcIixfbWVzc2FnZTp7c3RyZWFtX2lkOmUsc3RhdHM6bn19fSxmPXQuRElTQ09OTkVDVEVELF89dC5DT05ORUNUSU5HLFI9dC5DT05ORUNURUQsTj10LkRJU0NPTk5FQ1RJTkcsdz1mLEw9T2JqZWN0KG0uYikobik7T2JqZWN0LmRlZmluZVByb3BlcnR5KEwsXCJzdGF0ZVwiLHtzZXQ6ZnVuY3Rpb24oZSl7dmFyIG49dzt3PWUsT2JqZWN0KEEuX3NldENsaWVudENvbm5lY3Rpb25TdGF0ZVJlY29yZCkoTC5jbGllbnRJZCxlKSxlIT09dC5DT05ORUNURUQmJmUhPT10LkRJU0NPTk5FQ1RJTkcmJihMLmhhc0pvaW5lZD0hMSksbiE9PWUmJkwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIscHJldlN0YXRlOnQuY29ubmV0aW9uU3RhdGVNYXBbbl0sY3VyU3RhdGU6dC5jb25uZXRpb25TdGF0ZU1hcFtlXX0pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd319KSxMLnNvY2tldD12b2lkIDAsTC5zdGF0ZT1mLEwubW9kZT1uLm1vZGUsTC5yb2xlPW4ucm9sZSxMLmNvZGVjPW4uY29kZWMsTC5jb25maWc9e30sTC50aW1lcnM9e30sTC50aW1lcl9jb3VudGVyPXt9LEwubG9jYWxTdHJlYW1zPXt9LEwucmVtb3RlU3RyZWFtcz17fSxMLnJlbW90ZU11dGVTdGF0ZT17fSxMLmF0dGVtcHM9MSxMLnAycF9hdHRlbXBzPTEsTC5hdWRpb0xldmVsPXt9LEwuYWN0aXZlU3BlYWtlcj12b2lkIDAsTC5yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLEwucmVqb2luQXR0ZW1wdD0wLEwuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMSxMLnRyYWZmaWNfc3RhdHM9e30sTC5jbGllbnRJZD1uLmNsaWVudElkLEwucGluZ3BvbmdDb3VudGVyPTAsTC5oYXNJbnZva2VMZWF2ZT0hMSxMLnAycHM9bmV3IE1hcCxMLmxpdmVTdHJlYW1zPW5ldyBNYXAsTC5pbmplY3RMaXZlU3RyZWFtcz1uZXcgTWFwLEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbD1uZXcgU2V0LEwuc3Vic2NyaWJlUmVxdWVzdElkPW5ldyBNYXAsTC5wdWJsaXNoUmVxdWVzdElkPTAsTC5oYXNKb2luZWQ9ITEsTC5pc0ZpcnN0U3VjY2Vzcz0hMCxMLnBlZXJQdWJsaXNoRHVyYXRpb25NYXA9bmV3IE1hcCxmdW5jdGlvbihlKXt2YXIgdD1oO2UubWFrZVJlcXVlc3Q9ZnVuY3Rpb24obixyLGkpe2lmKHZvaWQgMD09PWUuc29ja2V0KXJldHVybiB2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIE5vIHNvY2tldCBhdmFpbGFibGVcIikpLHZvaWQgdChpLGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7dHJ5e2Uuc29ja2V0LmVtaXRSZXF1ZXN0KG4sKGZ1bmN0aW9uKGUsdCl7dmFyIG47XCJzdWNjZXNzXCI9PT1lP1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIodCk6XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKG49dCYmdC5lcnJvcl9jb2RlJiZiLkdhdGV3YXlFcnJvckNvZGVbdC5lcnJvcl9jb2RlXT9iLkdhdGV3YXlFcnJvckNvZGVbdC5lcnJvcl9jb2RlXTp0JiZ0LmVycm9yX3N0cj90LmVycm9yX3N0cjp0JiZ0LmVycm9yX2NvZGU/XCJVTktOT1dfRVJST1JfXCIuY29uY2F0KHQuZXJyb3JfY29kZSk6ZSxpKG4sdCkpfSkpfWNhdGNoKHIpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gU29ja2V0IGVtaXQgbWVzc2FnZSBmYWlsZWQgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLHIpLHQoaSxiLmRlZmF1bHQuU09DS0VUX0VSUk9SKX19LGUubWFrZVJlcG9ydD1mdW5jdGlvbih0KXt2b2lkIDA9PT1lLnNvY2tldCYmdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBObyBzb2NrZXQgYXZhaWxhYmxlXCIpKTt0cnl7ZS5zb2NrZXQuZW1pdFJlcG9ydCh0KX1jYXRjaChuKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFNvY2tldCBlbWl0IHJlcG9ydCBmYWlsZWQgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSkpfX19KEwpLEwuaW5DaGFubmVsSW5mbz17am9pbkF0Om51bGwsZHVyYXRpb246MH0sTC5fc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZVwiU3Vic2NyaWJlU3RhdHNcIjpMLm1ha2VSZXBvcnQodS5hcHBseSh2b2lkIDAsbCgpKHQpKSk7YnJlYWs7Y2FzZVwiU3Vic2NyaWJlUmVsYXRlZFN0YXRzXCI6TC5tYWtlUmVwb3J0KGEuYXBwbHkodm9pZCAwLGwoKSh0KSkpfX07dmFyIEQ9aDtMLnAycENvdW50ZXI9T2JqZWN0KFMucmFuZG9tKSgxZTUpLEwuZ2VuZXJhdGVQMlBJZD1mdW5jdGlvbigpe3JldHVybisrTC5wMnBDb3VudGVyfSxMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbj17ZW5hYmxlZDohMSxzb3J0ZWRBdWRpb1ZvbHVtZXM6W10sc21vb3RoOjMsaW50ZXJ2YWw6MmUzfSxMLnJlbW90ZVZpZGVvU3RyZWFtVHlwZXM9e1JFTU9URV9WSURFT19TVFJFQU1fSElHSDowLFJFTU9URV9WSURFT19TVFJFQU1fTE9XOjEsUkVNT1RFX1ZJREVPX1NUUkVBTV9NRURJVU06Mn0sTC5zdHJlYW1GYWxsYmFja1R5cGVzPXtTVFJFQU1fRkFMTEJBQ0tfT1BUSU9OX0RJU0FCTEVEOjAsU1RSRUFNX0ZBTExCQUNLX09QVElPTl9WSURFT19TVFJFQU1fTE9XOjEsU1RSRUFNX0ZBTExCQUNLX09QVElPTl9BVURJT19PTkxZOjJ9LEwuY29uZmlnUHVibGlzaGVyPWZ1bmN0aW9uKGUpe0wuY29uZmlnPWV9LEwuZ2V0R2F0ZXdheUluZm89ZnVuY3Rpb24oZSx0KXtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcImdhdGV3YXlfaW5mb1wifSxlLHQpfSxMLnNldENsaWVudFJvbGU9ZnVuY3Rpb24oZSx0KXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHNldENsaWVudFJvbGUgdG8gXCIpLmNvbmNhdChlKSk7dmFyIG49RS5yZXBvcnQucmVwb3J0QXBpSW52b2tlKEwuam9pbkluZm8uc2lkLHtuYW1lOlwiX3NldENsaWVudFJvbGVcIixjYWxsYmFjazp0fSk7TC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJzZXRfY2xpZW50X3JvbGVcIixfbWVzc2FnZTp7cm9sZTplfX0sKGZ1bmN0aW9uKCl7TC5yb2xlPWUsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2xpZW50LXJvbGUtY2hhbmdlZFwiLHJvbGU6ZX0pLG4mJm4obnVsbCx7cm9sZTplfSl9KSwoZnVuY3Rpb24odCxyKXtpZihyJiZyLmNvZGUmJih0PWIuR2F0ZXdheUVycm9yQ29kZVtyLmNvZGVdfHxcIlVOS05PV19FUlJPUl9cIityLmNvZGUpLFwiRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRVwiPT09dClyZXR1cm4gbiYmbihudWxsKTt2LmRlZmF1bHQuZXJyb3IoXCJzZXQgQ2xpZW50IHJvbGUgZXJyb3IgdG8gXCIrZStcIjogXCIrdCksbiYmbih0KX0pKX0sTC5qb2luPWZ1bmN0aW9uKGUsdCxyLGkpe0wuaGFzSW52b2tlTGVhdmU9ITEsZS51c2VQcm94eVNlcnZlciYmKEwuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCk7dmFyIG89KG5ldyBEYXRlKS5nZXRUaW1lKCksYT1lLnVpZDtpZihMLmluQ2hhbm5lbEluZm8uam9pbkF0JiYoTC5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uKz1vLUwuaW5DaGFubmVsSW5mby5qb2luQXQpLEwuaW5DaGFubmVsSW5mby5qb2luQXQ9byxMLnN0YXRlIT09XylyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBHYXRld2F5Q2xpZW50LmpvaW4gRmFpbGVkOiBzdGF0ZSBcIiksTC5zdGF0ZSksaSYmaShiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pLHZvaWQgRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITEsZWM6Yi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OLGFkZHI6bnVsbH0pO2lmKG51bGwhPWEmJnBhcnNlSW50KGEpIT09YSlyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnB1dCB1aWQgaXMgaW52YWxpZFwiKSksTC5zdGF0ZT1mLGkmJmkoYi5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKSx2b2lkIEUucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6byxzdWNjOiExLGVjOmIuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUixhZGRyOm51bGx9KTt2YXIgcz1WLnJlZ2lzdGVyKEwse3VpZDphLGNuYW1lOmUmJmUuY25hbWV9KTtpZihzKXJldHVybiBMLnN0YXRlPWYsaSYmaShzKSx2b2lkIEUucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6byxzdWNjOiExLGVjOnMsYWRkcjpudWxsfSk7TC5qb2luSW5mbz1wKCkoe30sZSksTC51aWQ9YSxMLmtleT10LEwucGluZ3BvbmdDb3VudGVyPTAsVyhlLChmdW5jdGlvbih0KXtpZihlLnVzZUxvY2FsQWNjZXNzUG9pbnQpdHJ5e3ZhciBzPUwuc29ja2V0LnNpZ25hbC5jb25uZWN0aW9uLnVybC5tYXRjaCgvd3NzXFw6XFwvXFwvKFteOl0rKTooXFxkKykvKVsxXTtPYmplY3QoeS5zZXRQYXJhbWV0ZXIpKFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLHMpLE9iamVjdCh5LnNldFBhcmFtZXRlcikoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLHMpLE9iamVjdCh5LnNldFBhcmFtZXRlcikoXCJMT0dfVVBMT0FEX1NFUlZFUlwiLFwiXCIuY29uY2F0KHMsXCI6NjQ0NFwiKSl9Y2F0Y2goZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBMb2NhbEFjY2Vzc1BvaW50IGVycm9yOiBcIikuY29uY2F0KGUpKX1pZihMLnN0YXRlPT09Tnx8TC5zdGF0ZT09PWYpcmV0dXJuIGkmJmkoXCJMRUFWRV9CRUZPUkVfSk9JTl9TVUNDRVNTXCIpO0wuc3RhdGU9Uix2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIENvbm5lY3RlZCB0byBnYXRld2F5IHNlcnZlclwiKSksY2xlYXJJbnRlcnZhbChMLnBpbmdUaW1lciksTC5waW5nVGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlBJTkdfUE9OR19USU1FX09VVFwiKTtpZigrK0wucGluZ3BvbmdDb3VudGVyPj1lKXt2YXIgdD1EYXRlLm5vdygpO0wuc29ja2V0JiZ2LmRlZmF1bHQud2FybmluZyhcIlBJTkdQT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiLmNvbmNhdCh0LUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCksXCJtc1wiKSksTC5zb2NrZXQmJkwuc29ja2V0LmdldExhc3RNc2dUaW1lKCkmJnQtTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKT5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiV0VCU09DS0VUX1RJTUVPVVRfTUlOXCIpJiYoTC5waW5ncG9uZ0NvdW50ZXI9MCxMLnNvY2tldC5jbG9zZSgpLEwuc29ja2V0LmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uZCkoe3R5cGU6XCJkaXNjb25uZWN0XCIsZXZlbnQ6e21zZzpcIlBJTkdfUE9OR19USU1FX09VVFwifX0pKSl9dmFyIG49RGF0ZS5ub3coKTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInBpbmdcIn0sKGZ1bmN0aW9uKCl7TC5waW5ncG9uZ0NvdW50ZXI9MDt2YXIgZT1EYXRlLm5vdygpLW47T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU1wiKSYmTC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJwaW5nX2JhY2tcIixfbWVzc2FnZTp7cGluZ3BvbmdFbGFwc2U6ZX19KX0pLChmdW5jdGlvbihlLHQpe1wiVElNRU9VVFwiIT09ZSYmKHYuZGVmYXVsdC5lcnJvcihcIlBpbmcgRXJyb3IgXCIuY29uY2F0KGUsXCIgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSkpLHQmJnQuZXJyb3JfY29kZSYmTC5zb2NrZXQmJkwuc29ja2V0LnNpZ25hbCYmTC5zb2NrZXQuc2lnbmFsLmNvbm5lY3Rpb24mJkwuc29ja2V0LnNpZ25hbC5jb25uZWN0aW9uLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTiYmKHYuZGVmYXVsdC5pbmZvKFwiRGlzY29ubmVjdGluZyB3ZWJzb2NrZXQgY29ubmVjdGlvblwiKSxMLnNvY2tldC5zaWduYWwuY29ubmVjdGlvbi5jbG9zZSgpKSl9KSl9KSwzZTMpLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5yb2xlLGk9cCgpKHt9LEwuam9pbkluZm8uYXBSZXNwb25zZSksbz17c2Vzc2lvbl9pZDpMLmpvaW5JbmZvLnNpZCxhcHBfaWQ6bi5hcHBJZCxjaGFubmVsX2tleTpMLmtleSxjaGFubmVsX25hbWU6TC5qb2luSW5mby5jbmFtZSxzZGtfdmVyc2lvbjp5LlZFUlNJT04sYnJvd3NlcjpuYXZpZ2F0b3IudXNlckFnZW50LHByb2Nlc3NfaWQ6T2JqZWN0KEUuZ2V0UHJvY2Vzc0lkKSgpLG1vZGU6TC5tb2RlLGNvZGVjOkwuY29kZWMscm9sZTpyLGhhc19jaGFuZ2VkX2dhdGV3YXk6T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIkZPUkNFX0NIQU5HRURfR0FURVdBWV9GTEFHXCIpfHxMLmhhc0NoYW5nZUJHUEFkZHJlc3MsYXBfcmVzcG9uc2U6aSxvcHRpb25hbEluZm86TC5qb2luSW5mby5vcHRpb25hbEluZm8sZXh0ZW5kOk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJKT0lOX0VYVEVORFwiKSxkZXRhaWxzOnt9fTtpZihMLmpvaW5JbmZvLmhhc093blByb3BlcnR5KFwic3RyaW5nVWlkXCIpJiYoby5zdHJpbmdfdWlkPUwuam9pbkluZm8uc3RyaW5nVWlkKSxMLnNvY2tldCYmTC5zb2NrZXQuc2lnbmFsJiZMLnNvY2tldC5zaWduYWwmJihpLmFkZHJlc3NlcyYmaS5hZGRyZXNzZXNbTC5zb2NrZXQuc2lnbmFsLmhvc3RJbmRleF0mJihvLmFwX3Jlc3BvbnNlLnRpY2tldD1pLmFkZHJlc3Nlc1tMLnNvY2tldC5zaWduYWwuaG9zdEluZGV4XS50aWNrZXQsZGVsZXRlIGkuYWRkcmVzc2VzKSxPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU0VUX0RFRkFVTFRfVFVSTlNFUlZFUlwiKSYmTC5zb2NrZXQuc2lnbmFsLnR1cm5Db25maWcpKXt2YXIgYT17dXNlcm5hbWU6TC5qb2luSW5mby51aWQudG9TdHJpbmcoKSxjcmVkZW50aWFsOkwuam9pbkluZm8udG9rZW4sZm9yY2V0dXJuOk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJGT1JDRV9UVVJOXCIpfTthLnVybD1MLnNvY2tldC5zaWduYWwudHVybkNvbmZpZy51cmwsTC5zb2NrZXQuc2lnbmFsLnR1cm5Db25maWcudGNwcG9ydCYmKGEudGNwcG9ydD1cIlwiK0wuc29ja2V0LnNpZ25hbC50dXJuQ29uZmlnLnRjcHBvcnQpLEwuc29ja2V0LnNpZ25hbC50dXJuQ29uZmlnLnVkcHBvcnQmJihhLnVkcHBvcnQ9XCJcIitMLnNvY2tldC5zaWduYWwudHVybkNvbmZpZy51ZHBwb3J0KSwhIUwuam9pbkluZm8udHVyblNlcnZlcnMuZmluZCgoZnVuY3Rpb24oZSl7aWYoZS51cmw9PT1hLnVybClyZXR1cm4hMH0pKXx8TC5qb2luSW5mby50dXJuU2VydmVycy5wdXNoKGEpfTM9PT1MLmpvaW5JbmZvLnByb3h5U2VydmVyVHlwZSYmKG8ucGx1Z2luPVwid2ViX2Nsb3VkX3Byb3h5XCIsby5kZXRhaWxzLmNzZXJ2aWNlX21hcD1cIjFcIiksTC5qb2luSW5mby5hZXNtb2RlJiZMLmpvaW5JbmZvLmFlc3Bhc3N3b3JkPyhvLmFlc19tb2RlPUwuam9pbkluZm8uYWVzbW9kZSxvLmFlc19lbmNyeXB0PSEwLEwuam9pbkluZm8uYWVzX3NhbHQmJihvLmFlc19zYWx0PUwuam9pbkluZm8uYWVzX3NhbHQpLE9iamVjdChVLmVuY3J5cHRSU0EpKEwuam9pbkluZm8uYWVzcGFzc3dvcmQpLnRoZW4oKGZ1bmN0aW9uKGUpe28uYWVzX3NlY3JldD1lLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImpvaW4tbWVzc2FnZS1ob29rXCIsam9pbk1lc3NhZ2U6b30pLHQobnVsbCx7X3R5cGU6XCJqb2luXCIsX21lc3NhZ2U6b30pfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIGVuY3J5cHQgcGFzc3dvcmQgZmFpbGVkIFwiKSxlKSx0KFwiRU5DUllQVF9QQVNTV09SRF9GQUlMRURcIil9KSkpOihMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJqb2luLW1lc3NhZ2UtaG9va1wiLGpvaW5NZXNzYWdlOm99KSx0KG51bGwse190eXBlOlwiam9pblwiLF9tZXNzYWdlOm99KSl9KHtyb2xlOkwucm9sZX0sKGZ1bmN0aW9uKHQsbil7aWYodClyZXR1cm4gaSYmaSh0KTtMLm1ha2VSZXF1ZXN0KG4sKGZ1bmN0aW9uKHQpe2lmKEUucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6byxzdWNjOiEwLGVjOm51bGwsdmlkOmUudmlkLHVpZDplLnVpZCxhZGRyOkwuc29ja2V0LmdldFVSTCgpLGZpcnN0U3VjY2VzczpMLmlzRmlyc3RTdWNjZXNzfSksTC5qb2luU3VjY2Vzc0x0cz1EYXRlLm5vdygpLEwuaXNGaXJzdFN1Y2Nlc3M9ITEsTC5yZWpvaW5BdHRlbXB0PTAsTC5oYXNKb2luZWQ9ITAsciYmcih0LnVpZCksITA9PT10LnJldHVybl92b3NpcHx8ITA9PT1PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiRU5BQkxFX0xJVkVfU0VSVkVSX0xJU1RcIikpe3ZhciBuPW51bGw7dHJ5e249TC5zb2NrZXQuc2lnbmFsLmNvbm5lY3Rpb24udXJsfWNhdGNoKGUpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ2FuIG5vdCBnZXQgZ2F0ZXdheSBpcDogXCIpLmNvbmNhdChlKSl9bj9PYmplY3QoeS5zZXRQYXJhbWV0ZXIpKFwiTElWRV9TRVJWRVJfTElTVFwiLFtuXSk6T2JqZWN0KHkuc2V0UGFyYW1ldGVyKShcIkxJVkVfU0VSVkVSX0xJU1RcIixbXSl9TC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiam9pblwifSksY2xlYXJJbnRlcnZhbChMLnRpbWVycy50cmFmZmljU3RhdHMpLEwudGltZXJzLnRyYWZmaWNTdGF0cz1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInRyYWZmaWNfc3RhdHNcIn0sKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbTShuKV09ZVtuXTtpZih0LnBlZXJfZGVsYXkmJnQucGVlcl9kZWxheS5sZW5ndGgpe3ZhciByPVtdO3QucGVlcl9kZWxheS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W00obildPWVbbl07ci5wdXNoKHQpfSkpLHQucGVlcl9kZWxheT1yfUwudHJhZmZpY19zdGF0cz10LEwudHJhZmZpY19zdGF0cy50aW1lc3RhbXA9RGF0ZS5ub3coKTt2YXIgaT1MLmpvaW5JbmZvLnN0cmluZ1VpZCxvPUwubG9jYWxTdHJlYW1zW2FdfHxMLmxvY2FsU3RyZWFtc1tpXTtvJiYoby50cmFmZmljX3N0YXRzPXthY2Nlc3NfZGVsYXk6dC5hY2Nlc3NfZGVsYXl9KSx0LnBlZXJfZGVsYXkmJnQucGVlcl9kZWxheS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1MLnJlbW90ZVN0cmVhbXNbZS5wZWVyX3VpZF07biYmKG4udHJhZmZpY19zdGF0cz17YWNjZXNzX2RlbGF5OnQuYWNjZXNzX2RlbGF5LGUyZV9kZWxheTplLmUyZV9kZWxheSxhdWRpb19kZWxheTplLmF1ZGlvX2RlbGF5LHZpZGVvX2RlbGF5OmUudmlkZW9fZGVsYXl9KX0pKSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJhZnRlci1nZXRUcmFmZmljU3RhdHNcIix0cmFmZmljU3RhdHM6dH0pfSkpfSksM2UzKX0pLChmdW5jdGlvbih0LG4pe2lmKHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBqb2luIGZhaWxlZCBbXCIpLmNvbmNhdCh0LFwiXVwiKSksXCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiPT09dCl7dHJ5e0UucmVwb3J0LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6byxzdWNjOiExLGVjOlwiRVJSX0pPSU5fQllfTVVMVElfSVBcIixhZGRyOkwuc29ja2V0LmdldFVSTCgpfSl9Y2F0Y2goZSl7fXJldHVybiBMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJvbk11bHRpSVBcIixvcHRpb246bi5vcHRpb259KX1DW3RdJiZMLnJlam9pbkF0dGVtcHQ8ND9MLl9kb1dpdGhBY3Rpb24oQ1t0XSxyLGkpOmkmJmkodCksRS5yZXBvcnQuam9pbkdhdGV3YXkoZS5zaWQse2x0czpvLHN1Y2M6ITEsZWM6dCxhZGRyOkwuc29ja2V0JiZMLnNvY2tldC5nZXRVUkwoKX0pfSkpfSkpfSksKGZ1bmN0aW9uKHQpe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBqb2luIGZhaWxlZCBbXCIpLmNvbmNhdCh0LFwiXVwiKSksaSYmaSh0KSxFLnJlcG9ydC5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm8sc3VjYzohMSxlYzp0LGFkZHI6TC5zb2NrZXQuZ2V0VVJMKCl9KX0pKSx0aGlzLnJlbW90ZU11dGVTdGF0ZT17fSxMLnJlc2V0QXVkaW9Wb2x1bWVJbmRpY2F0aW9uKCl9LEwubGVhdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1WLnVucmVnaXN0ZXIoTCk7c3dpdGNoKG4mJnYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gXCIpLG4pLEwucDJwcy5jbGVhcigpLEwuc3RhdGUpe2Nhc2UgZjpyZXR1cm4gdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDbGllbnQgQWxyZWFkeSBpbiBESVNDT05ORUNURUQgc3RhdHVzXCIpKSx2b2lkIEQoZSk7Y2FzZSBOOnJldHVybiB2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIENsaWVudCBBbHJlYWR5IGluIERJU0NPTk5FQ1RJTkcgc3RhdHVzXCIpKSx2b2lkIEQodCxiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pO2Nhc2UgXzpyZXR1cm4gTC5zb2NrZXQmJkwuc29ja2V0LmNsb3NlKCksTC5zb2NrZXQ9dm9pZCAwLHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBDbGllbnQgY29ubmVjdGluZywgTGVhdmUgY2hhbm5lbCBzdWNjZXNzXCIpKSxMLnN0YXRlPWYsZSYmZSgpfWZvcih2YXIgciBpbiBMLnN0YXRlPU4sTC5jaGFubmVsTWVkaWFDb25maWcmJihMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlciYmTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuZGlzcG9zZSgpLEwuY2hhbm5lbE1lZGlhQ29uZmlnLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyPW51bGwpLGNsZWFySW50ZXJ2YWwoTC5waW5nVGltZXIpLEwudGltZXJzKUwudGltZXJzLmhhc093blByb3BlcnR5KHIpJiZjbGVhckludGVydmFsKEwudGltZXJzW3JdKTtmb3IodmFyIHIgaW4gTC5pbkNoYW5uZWxJbmZvLmpvaW5BdCYmKEwuaW5DaGFubmVsSW5mby5kdXJhdGlvbis9RGF0ZS5ub3coKS1MLmluQ2hhbm5lbEluZm8uam9pbkF0LEwuaW5DaGFubmVsSW5mby5qb2luQXQ9bnVsbCksTC5oYXNKb2luZWQ/TC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJsZWF2ZVwifSwoZnVuY3Rpb24odCl7TC5zb2NrZXQuY2xvc2UoKSxMLnNvY2tldD12b2lkIDAsdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIExlYXZlIGNoYW5uZWwgc3VjY2Vzc1wiKSksTC5zdGF0ZT1mLGUmJmUodCl9KSwoZnVuY3Rpb24oZSl7XCJUSU1FT1VUXCIhPT1lJiZcIlJFUVVFU1RfQUJPUlRcIiE9PWUmJih2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIExlYXZlIENoYW5uZWwgRmFpbGVkXCIpLGUpLEwuc3RhdGU9Uix0JiZ0KGUpKX0pKTooTC5zb2NrZXQmJihMLnNvY2tldC5jbG9zZSgpLEwuc29ja2V0PXZvaWQgMCksdi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIExlYXZlIGNoYW5uZWwgYmVmb3JlIGpvaW5lZFwiKSksTC5zdGF0ZT1mLGUmJmUoKSksTC5sb2NhbFN0cmVhbXMpaWYoTC5sb2NhbFN0cmVhbXMuaGFzT3duUHJvcGVydHkocikpe3ZhciBpPUwubG9jYWxTdHJlYW1zW3JdO2RlbGV0ZSBMLmxvY2FsU3RyZWFtc1tyXSx2b2lkIDAhPT1pLnBjJiYoaS5wYy5jbG9zZSgpLGkucGM9dm9pZCAwKX1xKCl9LEwucHVibGlzaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz0obmV3IERhdGUpLmdldFRpbWUoKSxhPSExO2lmKGUucHVibGlzaExUUz1vLFwib2JqZWN0XCIhPT1kKCkoZSl8fG51bGw9PT1lKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgbG9jYWwgc3RyZWFtXCIpKSxyJiZyKGIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTSksdm9pZCBFLnJlcG9ydC5wdWJsaXNoKEwuam9pbkluZm8uc2lkLHtsdHM6byxzdWNjOiExLGF1ZGlvOiExLHZpZGVvOiExLHNjcmVlbnNoYXJlOiExLGF1ZGlvTmFtZTpcIlwiLHZpZGVvTmFtZTpcIlwiLHNjcmVlbk5hbWU6XCJcIixlYzpiLmRlZmF1bHQuSU5WQUxJRF9MT0NBTF9TVFJFQU19KTtpZighZS5zdHJlYW0mJnZvaWQgMD09PWUudXJsKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgbG9jYWwgbWVkaWEgc3RyZWFtXCIpKSxyJiZyKGIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTSksdm9pZCBFLnJlcG9ydC5wdWJsaXNoKEwuam9pbkluZm8uc2lkLHtsdHM6byxzdWNjOiExLGF1ZGlvOiExLHZpZGVvOiExLHNjcmVlbnNoYXJlOiExLGF1ZGlvTmFtZTpcIlwiLHZpZGVvTmFtZTpcIlwiLHNjcmVlbk5hbWU6XCJcIixlYzpiLmRlZmF1bHQuSU5WQUxJRF9MT0NBTF9TVFJFQU19KTtpZihMLnN0YXRlIT09UilyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGlzIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSksciYmcihiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pLHZvaWQgRS5yZXBvcnQucHVibGlzaChMLmpvaW5JbmZvLnNpZCx7bHRzOm8sc3VjYzohMSxhdWRpbzplLmhhc0F1ZGlvKCksdmlkZW86ZS5oYXNWaWRlbygpLHNjcmVlbnNoYXJlOmUuaGFzU2NyZWVuKCksYXVkaW9OYW1lOmUuaGFzQXVkaW8oKSYmZS5hdWRpb05hbWUsdmlkZW9OYW1lOmUuaGFzVmlkZW8oKSYmZS52aWRlb05hbWUsc2NyZWVuTmFtZTplLmhhc1NjcmVlbigpJiZlLnNjcmVlbk5hbWUsZWM6Yi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OfSk7dmFyIHM9ZS5nZXRBdHRyaWJ1dGVzKCl8fHt9O2lmKGUubG9jYWwmJnZvaWQgMD09PUwubG9jYWxTdHJlYW1zW2UuZ2V0SWQoKV0mJihlLmhhc0F1ZGlvKCl8fGUuaGFzVmlkZW8oKXx8ZS5oYXNTY3JlZW4oKSkpe3ZhciB1PUwuZ2VuZXJhdGVQMlBJZCgpO2lmKEwucDJwcy5zZXQodSxlKSxlLnAycElkPXUsdm9pZCAwIT09ZS51cmwpRyhjKHtzdGF0ZTpcInVybFwiLGF1ZGlvOmUuaGFzQXVkaW8oKSx2aWRlbzplLmhhc1ZpZGVvKCksYXR0cmlidXRlczplLmdldEF0dHJpYnV0ZXMoKX0sZS51cmwpLChmdW5jdGlvbih0LG4pe1wic3VjY2Vzc1wiPT09dD8oZS5nZXRVc2VySWQoKSE9PW4mJmUuc2V0VXNlcklkKG4pLEwubG9jYWxTdHJlYW1zW25dPWUsZS5vbkNsb3NlPWZ1bmN0aW9uKCl7TC51bnB1Ymxpc2goZSl9KTp2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFB1Ymxpc2ggbG9jYWwgc3RyZWFtIGZhaWxlZFwiKSx0KX0pKTtlbHNle0wubG9jYWxTdHJlYW1zW2UuZ2V0SWQoKV09ZSxlLmNvbm5lY3Rpb25TcGVjPXtjYWxsYmFjazpmdW5jdGlvbihzKXtzfHxyJiZyKFwiQ0FOTk9UX0dFVF9PRkZFUlwiKSxcIm1vdGlvblwiPT09ZS5vcHRpbWl6YXRpb25Nb2RlJiZlLnBjLnNldFJ0cFNlbmRlclBhcmFtZXRlcnMoXCJtYWludGFpbi1mcmFtZXJhdGVcIiksXCJkZXRhaWxcIj09PWUub3B0aW1pemF0aW9uTW9kZSYmZS5wYy5zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKFwibWFpbnRhaW4tcmVzb2x1dGlvblwiKSxMLm1ha2VSZXF1ZXN0KGMoe3N0YXRlOlwib2ZmZXJcIixzdHJlYW1fdHlwZToxPT10LnN0cmVhbVR5cGU/XCJsb3dcIjpcImhpZ2hcIixwMnBfaWQ6dSxzZHA6cyxhdWRpbzplLmF1ZGlvfHxlLnNjcmVlbkF1ZGlvLHZpZGVvOmUuc2NyZWVufHxlLnZpZGVvLHNjcmVlbjplLnNjcmVlbixhdHRyaWJ1dGVzOmUuZ2V0QXR0cmlidXRlcygpLGR0eDplLkRUWCxocTplLmhpZ2hRdWFsaXR5LGxxOmUubG93UXVhbGl0eSxzdGVyZW86ZS5zdGVyZW8sc3BlZWNoOmUuc3BlZWNoLGNvZGVjOkwuY29kZWMsZXh0ZW5kOk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJQVUJfRVhURU5EXCIpfSksKGZ1bmN0aW9uKHQpe2UuZ2V0VXNlcklkKCkhPT10LnVpZCYmZS5zZXRVc2VySWQodC51aWQpLHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBMb2NhbCBzdHJlYW0gcHVibGlzaGVkIHdpdGggdWlkXCIpLHQudWlkKSxlLm9uQ2xvc2U9ZnVuY3Rpb24oKXtMLnVucHVibGlzaChlKX0sZS5fb25BdWRpb1VubXV0ZT1mdW5jdGlvbigpe0wubWFrZVJlcG9ydChpKHthY3Rpb246XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpfSxlLl9vblZpZGVvVW5tdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcInVubXV0ZV9sb2NhbF92aWRlb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSl9LGUuX29uQXVkaW9NdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfbG9jYWxfYXVkaW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpfSxlLl9vblZpZGVvTXV0ZT1mdW5jdGlvbigpe0wubWFrZVJlcG9ydChpKHthY3Rpb246XCJtdXRlX2xvY2FsX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pKX0sZS5nZXRJZCgpPT09ZS5nZXRVc2VySWQoKSYmKGUuaXNBdWRpb09uKCl8fGUuaGFzQXVkaW8oKSYmKHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gbG9jYWwgc3RyZWFtIGF1ZGlvIG11dGVcIikpLGUuX29uQXVkaW9NdXRlKCkpLGUuaXNWaWRlb09uKCl8fChlLmhhc1ZpZGVvKCl8fGUuaGFzU2NyZWVuKCkpJiYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBsb2NhbCBzdHJlYW0gdmlkZW8gbXV0ZVwiKSksZS5fb25WaWRlb011dGUoKSkpLGUucGMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZnVuY3Rpb24odCl7aWYoXCJmYWlsZWRcIj09PXQpe2lmKG51bGwhPUwudGltZXJzW2UuZ2V0SWQoKV0mJihjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKV0pLGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXStcIl9SZWxhdGVkU3RhdHNcIikpLHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUHVibGlzaGVyIGNvbm5lY3Rpb24gaXMgbG9zdCAtLSBzdHJlYW1JZDogXCIpLmNvbmNhdChlLmdldElkKCksXCIsIHAycElkOiBcIikuY29uY2F0KHUpKSxMLnAycHMuZGVsZXRlKHUpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcHVibGlzaCBwMnAgZmFpbGVkOiBcIiksTC5wMnBzKSwhYSlyZXR1cm4gYT0hMCxFLnJlcG9ydC5wdWJsaXNoKEwuam9pbkluZm8uc2lkLHtsdHM6byxzdWNjOiExLGF1ZGlvOmUuaGFzQXVkaW8oKSx2aWRlbzplLmhhc1ZpZGVvKCksc2NyZWVuc2hhcmU6ZS5oYXNTY3JlZW4oKSxhdWRpb05hbWU6ZS5oYXNBdWRpbygpJiZlLmF1ZGlvTmFtZSx2aWRlb05hbWU6ZS5oYXNWaWRlbygpJiZlLnZpZGVvTmFtZSxzY3JlZW5OYW1lOmUuaGFzU2NyZWVuKCkmJmUuc2NyZWVuTmFtZSxlYzpiLmRlZmF1bHQuUEVFUkNPTk5FQ1RJT05fRkFJTEVELHB1Ymxpc2hSZXF1ZXN0aWQ6TC5wdWJsaXNoUmVxdWVzdElkfHwwLHAycGlkOnV9KSxMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJwdWJQMlBMb3N0XCIsc3RyZWFtOmV9KSksciYmcihiLmRlZmF1bHQuUEVFUkNPTk5FQ1RJT05fRkFJTEVEKTtMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJwdWJQMlBMb3N0XCIsc3RyZWFtOmV9KSl9ZWxzZSBpZihcImNvbm5lY3RlZFwiPT09dCYmKHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcHVibGlzaCBwMnAgY29ubmVjdGVkOiBcIiksTC5wMnBzKSxlLmdldElkKCk9PT1lLmdldFVzZXJJZCgpJiYoZS5faXNBdWRpb011dGVkKCk/TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfbG9jYWxfYXVkaW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpOkwubWFrZVJlcG9ydChpKHthY3Rpb246XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSkpLGUuX2lzVmlkZW9NdXRlZCgpP0wubWFrZVJlcG9ydChpKHthY3Rpb246XCJtdXRlX2xvY2FsX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pKTpMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwidW5tdXRlX2xvY2FsX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pKSksIWEpKXJldHVybiBhPSEwLEUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czpvLHN1Y2M6ITAsYXVkaW86ZS5oYXNBdWRpbygpLHZpZGVvOmUuaGFzVmlkZW8oKSxzY3JlZW5zaGFyZTplLmhhc1NjcmVlbigpLGF1ZGlvTmFtZTplLmhhc0F1ZGlvKCkmJmUuYXVkaW9OYW1lLHZpZGVvTmFtZTplLmhhc1ZpZGVvKCkmJmUudmlkZW9OYW1lLHNjcmVlbk5hbWU6ZS5oYXNTY3JlZW4oKSYmZS5zY3JlZW5OYW1lLGVjOm51bGwscHVibGlzaFJlcXVlc3RpZDpMLnB1Ymxpc2hSZXF1ZXN0SWR8fDAscDJwaWQ6dX0pLG4mJm4oKX0sZS5wYy5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZSh0LnNkcCl9KSwoZnVuY3Rpb24odCxuKXt2LmRlZmF1bHQuZXJyb3IoXCJQdWJsaXNoIEZhaWxlZDogXCIuY29uY2F0KHQpKSxFLnJlcG9ydC5wdWJsaXNoKEwuam9pbkluZm8uc2lkLHtsdHM6byxzdWNjOiExLGF1ZGlvOmUuaGFzQXVkaW8oKSx2aWRlbzplLmhhc1ZpZGVvKCksc2NyZWVuc2hhcmU6ZS5oYXNTY3JlZW4oKSxhdWRpb05hbWU6ZS5oYXNBdWRpbygpJiZlLmF1ZGlvTmFtZSx2aWRlb05hbWU6ZS5oYXNWaWRlbygpJiZlLnZpZGVvTmFtZSxzY3JlZW5OYW1lOmUuaGFzU2NyZWVuKCkmJmUuc2NyZWVuTmFtZSxlYzp0LHB1Ymxpc2hSZXF1ZXN0aWQ6TC5wdWJsaXNoUmVxdWVzdElkfHwwLHAycGlkOnV9KSxcIlRJTUVPVVRcIiE9dCYmKEwucHJvY2Vzc1B1Ymxpc2hGYWlsdXJlKGUpLHImJnIodCkpfSkpfSxhdWRpbzplLmhhc0F1ZGlvKCksdmlkZW86ZS5oYXNWaWRlbygpLHNjcmVlbjplLmhhc1NjcmVlbigpLG9wdGltaXphdGlvbk1vZGU6ZS5vcHRpbWl6YXRpb25Nb2RlLGlzU3Vic2NyaWJlcjohMSxzdHVuU2VydmVyVXJsOkwuc3R1blNlcnZlclVybCx0dXJuU2VydmVyczpMLmpvaW5JbmZvLnR1cm5TZXJ2ZXJzLG1heEF1ZGlvQlc6cy5tYXhBdWRpb0JXLG1pblZpZGVvQlc6cy5taW5WaWRlb0JXLG1heFZpZGVvQlc6cy5tYXhWaWRlb0JXLG1vZGU6TC5tb2RlLGNvZGVjOkwuY29kZWMsaXNWaWRlb011dGU6ZS51c2VyTXV0ZVZpZGVvfHxlLnBlZXJNdXRlVmlkZW8saXNBdWRpb011dGU6ZS51c2VyTXV0ZUF1ZGlvfHxlLnBlZXJNdXRlQXVkaW8sbWF4RnJhbWVSYXRlOmUuYXR0cmlidXRlcy5tYXhGcmFtZVJhdGUsYWdvcmFTdHJlYW06ZSxjbGllbnRJZDpMLmNsaWVudElkLGlzQ2xvdWRQcm94eTM6Mz09PUwuam9pbkluZm8ucHJveHlTZXJ2ZXJUeXBlLG9uTm9JY2VDYW5kaWRhdGU6ZnVuY3Rpb24oKXtMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJub19pY2VfY2FuZGlkYXRlXCIsc3RyZWFtOmV9KX19LGUucGM9T2JqZWN0KEkuYSkoZS5jb25uZWN0aW9uU3BlYyksZS5wYy5hZGRTdHJlYW0oZS5zdHJlYW0pLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUGVlckNvbm5lY3Rpb24gYWRkIHN0cmVhbSA6XCIpLGUuc3RyZWFtKSxlLnBjLm9ubmVnb3RpYXRpb25uZWVkZWQ9ZnVuY3Rpb24obil7XCJtb3Rpb25cIj09PWUub3B0aW1pemF0aW9uTW9kZSYmZS5wYy5zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKFwibWFpbnRhaW4tZnJhbWVyYXRlXCIpLFwiZGV0YWlsXCI9PT1lLm9wdGltaXphdGlvbk1vZGUmJmUucGMuc2V0UnRwU2VuZGVyUGFyYW1ldGVycyhcIm1haW50YWluLXJlc29sdXRpb25cIik7dmFyIHI9e3N0YXRlOlwibmVnb3RpYXRpb25cIixzdHJlYW1fdHlwZToxPT09dC5zdHJlYW1UeXBlP1wibG93XCI6XCJoaWdoXCIscDJwX2lkOnUsc2RwOm59O0wubWFrZVJlcXVlc3QoYyhyKSwoZnVuY3Rpb24odCl7di5kZWZhdWx0LmRlYnVnKFwiTmVnb3RhdGluZyBTdHJlYW0gXCIuY29uY2F0KGUuZ2V0SWQoKSkpLGUucGMucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2UodC5zZHApfSksKGZ1bmN0aW9uKGUsdCl7di5kZWZhdWx0LmVycm9yKFwiTmVnb3RpYXRpb24gZmFpbGVkIFwiLmNvbmNhdChlKSx0LHIpfSkpfSxjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKV0pLEwudGltZXJzW2UuZ2V0SWQoKV09c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoT2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU1wiKSl7dmFyIHQ9MDtlJiZlLnBjJiZlLnBjLmdldFN0YXRzJiZlLnBjLmdldFN0YXRzUmF0ZSgoZnVuY3Rpb24obil7bi5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihuJiZuLmlkJiYhKC9fcmVjdiQvLnRlc3Qobi5pZCl8fC9edGltZSQvLnRlc3Qobi5pZCl8fH5uLnR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaW5ib3VuZFwiKSkmJmUuZ2V0VXNlcklkKCkpe2lmKC0xPT09bi5pZC5pbmRleE9mKFwib3V0Ym91bmRfcnRwXCIpJiYtMT09PW4uaWQuaW5kZXhPZihcIk91dGJvdW5kUlRQXCIpJiYtMT09PW4udHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJvdXRib3VuZFwiKXx8XCJ2aWRlb1wiIT09bi5tZWRpYVR5cGV8fChuLmdvb2dGcmFtZVdpZHRoU2VudD1lLnZpZGVvV2lkdGgrXCJcIixuLmdvb2dGcmFtZUhlaWdodFNlbnQ9ZS52aWRlb0hlaWdodCtcIlwiKSxcInZpZGVvXCI9PT1uLm1lZGlhVHlwZSl0cnl7dmFyIHI9ZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtuLkFfdnN0ZD1yLmVuYWJsZWQ/XCIwXCI6XCIxXCJ9Y2F0Y2goZSl7fWlmKFwiYXVkaW9cIj09PW4ubWVkaWFUeXBlKXRyeXt2YXIgaT1lLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO24uQV9hc3RkPWkuZW5hYmxlZD9cIjBcIjpcIjFcIn1jYXRjaChlKXt9aWYoZS5nZXRJZCgpPT1lLmdldFVzZXJJZCgpKXt2YXIgbz0yMDAqdDt0Kyssc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1MLnNvY2tldCYmTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKSYmRGF0ZS5ub3coKS1MLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpO2U+T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU19USU1FT1VUXCIpP3YuZGVmYXVsdC5kZWJ1ZyhcIlB1Ymxpc2hTdGF0cyByZXBvcnQgYmxvY2tlZCBieSBSRVBPUlRfU1RBVFNfVElNRU9VVCBcIi5jb25jYXQoZSkpOkwubWFrZVJlcG9ydChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNUQVRTX0ZJTFRFUlwiKVtuXXx8KHRbayhuKV09ZVtuXSl9KSkse190eXBlOlwicHVibGlzaF9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1fdHlwZTpcImhpZ2hcIixzdGF0czp0fX19KG4pKX0pLG8pfWVsc2V7bz0yMDAqdDt0Kyssc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT1MLnNvY2tldCYmTC5zb2NrZXQuZ2V0TGFzdE1zZ1RpbWUoKSYmRGF0ZS5ub3coKS1MLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpO2U+T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU19USU1FT1VUXCIpP3YuZGVmYXVsdC5kZWJ1ZyhcIlB1Ymxpc2hTdGF0c0xvdyByZXBvcnQgYmxvY2tlZCBieSBSRVBPUlRfU1RBVFNfVElNRU9VVCBcIi5jb25jYXQoZSkpOkwubWFrZVJlcG9ydChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNUQVRTX0ZJTFRFUlwiKVtuXXx8KHRbayhuKV09ZVtuXSl9KSkse190eXBlOlwicHVibGlzaF9zdGF0c1wiLF9tZXNzYWdlOntzdHJlYW1fdHlwZTpcImxvd1wiLHN0YXRzOnR9fX0obikpfSksbyl9fX0pKX0pKX19KSwzZTMpO3ZhciBsPWZ1bmN0aW9uKCl7T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlJFUE9SVF9TVEFUU1wiKSYmZSYmZS5wYyYmZS5wYy5nZXRWaWRlb1JlbGF0ZWRTdGF0cyYmZS5wYy5nZXRWaWRlb1JlbGF0ZWRTdGF0cygoZnVuY3Rpb24odCl7dmFyIG4scixpPUwuc29ja2V0JiZMLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpJiZEYXRlLm5vdygpLUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCk7aT5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTX1RJTUVPVVRcIik/di5kZWZhdWx0LmRlYnVnKFwiUHVibGlzaFJlbGF0ZWRTdGF0cyByZXBvcnQgYmxvY2tlZCBieSBSRVBPUlRfU1RBVFNfVElNRU9VVCBcIi5jb25jYXQoaSkpOmUuZ2V0SWQoKT09PWUuZ2V0VXNlcklkKCk/TC5tYWtlUmVwb3J0KChuPXQscj17fSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW2VdfHwocltrKGUpXT1uW2VdKX0pKSx7X3R5cGU6XCJwdWJsaXNoX3JlbGF0ZWRfc3RhdHNcIixfbWVzc2FnZTp7c3RyZWFtX3R5cGU6XCJoaWdoXCIsc3RhdHM6cn19KSk6TC5tYWtlUmVwb3J0KGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiU1RBVFNfRklMVEVSXCIpW25dfHwodFtrKG4pXT1lW25dKX0pKSx7X3R5cGU6XCJwdWJsaXNoX3JlbGF0ZWRfc3RhdHNcIixfbWVzc2FnZTp7c3RyZWFtX3R5cGU6XCJsb3dcIixzdGF0czp0fX19KHQpKX0pKX07bCgpLGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpK1wiX1JlbGF0ZWRTdGF0c1wiXSksTC50aW1lcnNbZS5nZXRJZCgpK1wiX1JlbGF0ZWRTdGF0c1wiXT1zZXRJbnRlcnZhbChsLDFlMyl9fX0sTC51bnB1Ymxpc2g9ZnVuY3Rpb24oZSx0LG4scil7aWYoXCJvYmplY3RcIiE9PWQoKShlKXx8bnVsbD09PWUpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCBsb2NhbCBzdHJlYW1cIikpLHZvaWQgRChyLGIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTSk7aWYoTC5zdGF0ZSE9PVIpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBub3QgaW4gdGhlIHNlc3Npb25cIikpLHZvaWQgRChyLGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7aWYobnVsbCE9TC50aW1lcnNbZS5nZXRJZCgpXSYmKGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXSksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCkrXCJfUmVsYXRlZFN0YXRzXCJdKSksdm9pZCAwIT09TC5zb2NrZXQpaWYoZS5sb2NhbCYmdm9pZCAwIT09TC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXSl7ZGVsZXRlIEwubG9jYWxTdHJlYW1zW2UuZ2V0SWQoKV07dmFyIGk9e3N0cmVhbV9pZDplLmdldFVzZXJJZCgpLHN0cmVhbV90eXBlOjE9PT10LnN0cmVhbVR5cGU/XCJsb3dcIjpcImhpZ2hcIn07TC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJ1bnB1Ymxpc2hcIixfbWVzc2FnZTppfSksKGUuaGFzQXVkaW8oKXx8ZS5oYXNWaWRlbygpfHxlLmhhc1NjcmVlbigpKSYmdm9pZCAwPT09ZS51cmwmJnZvaWQgMCE9PWUucGMmJihlLnBjLmNsb3NlKCksZS5wYz12b2lkIDApLGUub25DbG9zZT12b2lkIDAsZS5fb25BdWRpb011dGU9dm9pZCAwLGUuX29uQXVkaW9VbnV0ZT12b2lkIDAsZS5fb25WaWRlb011dGU9dm9pZCAwLGUuX29uVmlkZW9Vbm11dGU9dm9pZCAwLEwucDJwcy5kZWxldGUoZS5wMnBJZCksbiYmbigpfWVsc2Ugdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnZhbGlkIGxvY2FsIHN0cmVhbVwiKSksRChyLGIuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTSk7ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVzZXIgbm90IGluIHRoZSBzZXNzaW9uXCIpKSxEKHIsYi5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKX0sTC5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Uuc3Vic2NyaWJlTFRTPXI7dmFyIG89ITE7aWYodi5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEdhdGV3YXljbGllbnQgXCIpLmNvbmNhdChMLnVpZCxcIiBTdWJzY3JpYmUgXCIpLmNvbmNhdChlLmdldElkKCksXCI6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZS5zdWJzY3JpYmVPcHRpb25zKSkpLFwib2JqZWN0XCIhPT1kKCkoZSl8fG51bGw9PT1lKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgcmVtb3RlIHN0cmVhbVwiKSksbiYmbihiLmRlZmF1bHQuSU5WQUxJRF9SRU1PVEVfU1RSRUFNKSx2b2lkIEUucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMSx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOmIuZGVmYXVsdC5JTlZBTElEX1JFTU9URV9TVFJFQU19KTtpZihMLnN0YXRlIT09UiYmKHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBpcyBub3QgaW4gdGhlIHNlc3Npb25cIikpLCFvKSlyZXR1cm4gbz0hMCxFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITEsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzpiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT059KSxuJiZuKGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7aWYoIWUubG9jYWwmJkwucmVtb3RlU3RyZWFtcy5oYXNPd25Qcm9wZXJ0eShlLmdldElkKCkpKWlmKGUuaGFzQXVkaW8oKXx8ZS5oYXNWaWRlbygpfHxlLmhhc1NjcmVlbigpKXt2YXIgcz1MLmdlbmVyYXRlUDJQSWQoKTtMLnAycHMuc2V0KHMsZSksZS5wMnBJZD1zLGUucGM9T2JqZWN0KEkuYSkoe2NhbGxiYWNrOmZ1bmN0aW9uKHQpe3R8fG4mJm4oXCJDQU5OT1RfR0VUX09GRkVSXCIpO3ZhciBpPXtzdHJlYW1faWQ6ZS5nZXRJZCgpLGF1ZGlvOiFlLnN1YnNjcmliZU9wdGlvbnN8fGUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyx2aWRlbzohZS5zdWJzY3JpYmVPcHRpb25zfHxlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sY29kZWM6TC5jb2RlYyxwMnBfaWQ6cyxzZHA6dCx0Y2M6T2JqZWN0KHkuZ2V0UGFyYW1ldGVyKShcIlNVQlNDUklCRV9UQ0NcIiksZXh0ZW5kOk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJTVUJfRVhURU5EXCIpfTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInN1YnNjcmliZVwiLF9tZXNzYWdlOml9LChmdW5jdGlvbih0KXtlLnBjLnByb2Nlc3NTaWduYWxpbmdNZXNzYWdlKHQuc2RwKX0pLChmdW5jdGlvbih0LGkpe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gU3Vic2NyaWJlIHJlbW90ZSBzdHJlYW0gRmFpbGVkOiBcIikuY29uY2F0KHQsXCIsIGNsb3Npbmcgc3RyZWFtIFwiKSxlLmdldElkKCksaSksRS5yZXBvcnQuc3Vic2NyaWJlKEwuam9pbkluZm8uc2lkLHtsdHM6cixzdWNjOiExLHZpZGVvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvLGF1ZGlvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHBlZXJpZDplLmdldElkKCksZWM6dH0pLFwiVElNRU9VVFwiIT10JiYoTC5wcm9jZXNzU3Vic2NyaWJlRmFpbHVyZShlKSxuJiZuKHQpKX0pKX0sbm9wMnA6ITAsYXVkaW86ITAsdmlkZW86ITAsc2NyZWVuOmUuaGFzU2NyZWVuKCksaXNTdWJzY3JpYmVyOiEwLHN0dW5TZXJ2ZXJVcmw6TC5zdHVuU2VydmVyVXJsLHR1cm5TZXJ2ZXJzOkwuam9pbkluZm8udHVyblNlcnZlcnMsaXNWaWRlb011dGU6ZS51c2VyTXV0ZVZpZGVvLGlzQXVkaW9NdXRlOmUudXNlck11dGVBdWRpbyx1aWQ6ZS5nZXRJZCgpLGFnb3JhU3RyZWFtOmUsY2xpZW50SWQ6TC5jbGllbnRJZH0pLGUucGMub25hZGRzdHJlYW09ZnVuY3Rpb24odCxuKXtpZihlLl9vbkF1ZGlvVW5tdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcInVubXV0ZV9yZW1vdGVfYXVkaW9cIixzdHJlYW1faWQ6ZS5nZXRJZCgpfSksKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKCl7fSkpfSxlLl9vbkF1ZGlvTXV0ZT1mdW5jdGlvbigpe0wubWFrZVJlcG9ydChpKHthY3Rpb246XCJtdXRlX3JlbW90ZV9hdWRpb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9LGUuX29uVmlkZW9Vbm11dGU9ZnVuY3Rpb24oKXtMLm1ha2VSZXBvcnQoaSh7YWN0aW9uOlwidW5tdXRlX3JlbW90ZV92aWRlb1wiLHN0cmVhbV9pZDplLmdldElkKCl9KSwoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9LGUuX29uVmlkZW9NdXRlPWZ1bmN0aW9uKCl7TC5tYWtlUmVwb3J0KGkoe2FjdGlvbjpcIm11dGVfcmVtb3RlX3ZpZGVvXCIsc3RyZWFtX2lkOmUuZ2V0SWQoKX0pLChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX0sXCJvbnRyYWNrXCI9PT1uJiZcInZpZGVvXCI9PT10LnRyYWNrLmtpbmR8fFwib25hZGRzdHJlYW1cIj09PW4pe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZW1vdGUgc3RyZWFtIHN1YnNjcmliZWQgd2l0aCB1aWQgXCIpLGUuZ2V0SWQoKSk7dmFyIHI9TC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV07aWYoTC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV0uc3RyZWFtPVwib25hZGRzdHJlYW1cIj09PW4/dC5zdHJlYW06dC5zdHJlYW1zWzBdLEwucmVtb3RlU3RyZWFtc1tlLmdldElkKCldLmhhc1ZpZGVvKCkpe2lmKE9iamVjdChPLmlzRmlyZUZveCkoKXx8T2JqZWN0KE8uaXNTYWZhcmkpKCkpe3ZhciBvPUwucmVtb3RlU3RyZWFtc1tlLmdldElkKCldLnN0cmVhbTtPYmplY3QoUy52c1Jlc0hhY2spKG8sKGZ1bmN0aW9uKHQsbil7ZS52aWRlb1dpZHRoPXQsZS52aWRlb0hlaWdodD1ufSksKGZ1bmN0aW9uKGUpe3JldHVybiB2LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gdnNSZXNIYWNrIGZhaWxlZDogXCIpK2UpfSkpfX1lbHNle3ZhciBhPUwucmVtb3RlU3RyZWFtc1tlLmdldElkKCldO2EucGVlck11dGVWaWRlbz0hMCxMLl9hZGp1c3RQQ011dGVTdGF0dXMoYSl9ciYmci5pc1BsYXlpbmcoKSYmci5lbGVtZW50SUQmJih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlbG9hZCBQbGF5ZXIgXCIpLmNvbmNhdChyLmVsZW1lbnRJRCxcIiBTdHJlYW1JZCBcIikuY29uY2F0KHIuZ2V0SWQoKSkpLGUuYXVkaW9PdXRwdXQ9ci5hdWRpb091dHB1dCxyLnN0b3AoKSxlLnBsYXkoci5lbGVtZW50SUQsci5wbGF5T3B0aW9ucykpLGRlbGV0ZSBlLmF1ZGlvTGV2ZWxIZWxwZXI7dmFyIHM9T2JqZWN0KG0uZSkoe3R5cGU6XCJzdHJlYW0tc3Vic2NyaWJlZFwiLHN0cmVhbTpMLnJlbW90ZVN0cmVhbXNbZS5nZXRJZCgpXX0pO0wuZGlzcGF0Y2hFdmVudChzKX19LGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXSksTC50aW1lcnNbZS5nZXRJZCgpXT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZihPYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTXCIpKXt2YXIgdD0wO2UmJmUucGMmJmUucGMuZ2V0U3RhdHMmJmUucGMuZ2V0U3RhdHNSYXRlKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKG4mJm4uaWQpe2lmKC9fc2VuZCQvLnRlc3Qobi5pZCl8fC9edGltZSQvLnRlc3Qobi5pZCl8fC9eYndlZm9ydmlkZW8kLy50ZXN0KG4uaWQpKXJldHVybjstMT09PW4uaWQuaW5kZXhPZihcImluYm91bmRfcnRwXCIpJiYtMT09PW4uaWQuaW5kZXhPZihcImluYm91bmQtcnRwXCIpJiYtMT09PW4udHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpfHxcInZpZGVvXCIhPT1uLm1lZGlhVHlwZXx8KG4uZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZD1lLnZpZGVvV2lkdGgrXCJcIixuLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkPWUudmlkZW9IZWlnaHQrXCJcIik7dmFyIHI9MjAwKnQ7dCsrO3ZhciBpPWUuZ2V0SWQoKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciB0PUwuc29ja2V0JiZMLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpJiZEYXRlLm5vdygpLUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCk7aWYodD5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTX1RJTUVPVVRcIikpdi5kZWZhdWx0LmRlYnVnKFwiU3Vic2NyaWJlU3RhdHMgcmVwb3J0IGJsb2NrZWQgYnkgUkVQT1JUX1NUQVRTX1RJTUVPVVQgXCIuY29uY2F0KHQpKTtlbHNle2lmKFwidmlkZW9cIj09PW4ubWVkaWFUeXBlKXRyeXt2YXIgcj1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO24uQV92cnRkPXIuZW5hYmxlZD9cIjBcIjpcIjFcIixlLnBsYXllciYmZS5wbGF5ZXIuZnJlZXplVGltZUNvdW50ZXJMaXN0Lmxlbmd0aD4wJiYobi5BX3ZyZnQ9ZS5wbGF5ZXIuZnJlZXplVGltZUNvdW50ZXJMaXN0LnNwbGljZSgwLDEpWzBdLnRvU3RyaW5nKCkpfWNhdGNoKGUpe31pZihcImF1ZGlvXCI9PT1uLm1lZGlhVHlwZSl0cnl7dmFyIG89ZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtuLkFfYXJ0ZD1vLmVuYWJsZWQ/XCIwXCI6XCIxXCJ9Y2F0Y2goZSl7fUwubWFrZVJlcG9ydCh1KGksbikpfX0pLHIpfWVsc2U7fSkpfSkpfX0pLDNlMyksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCkrXCJfUmVsYXRlZFN0YXRzXCJdKSxMLnRpbWVyc1tlLmdldElkKCkrXCJfUmVsYXRlZFN0YXRzXCJdPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKE9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJSRVBPUlRfU1RBVFNcIikmJmUmJmUucGMpe3ZhciB0PUwuc29ja2V0JiZMLnNvY2tldC5nZXRMYXN0TXNnVGltZSgpJiZEYXRlLm5vdygpLUwuc29ja2V0LmdldExhc3RNc2dUaW1lKCk7aWYodD5PYmplY3QoeS5nZXRQYXJhbWV0ZXIpKFwiUkVQT1JUX1NUQVRTX1RJTUVPVVRcIikpcmV0dXJuIHZvaWQgdi5kZWZhdWx0LmRlYnVnKFwiU3Vic2NyaWJlUmVsYXRlZFN0YXRzIHJlcG9ydCBibG9ja2VkIGJ5IFJFUE9SVF9TVEFUU19USU1FT1VUIFwiLmNvbmNhdCh0KSk7ZS5wYy5nZXRWaWRlb1JlbGF0ZWRTdGF0cyYmZS5wYy5nZXRWaWRlb1JlbGF0ZWRTdGF0cygoZnVuY3Rpb24odCl7ZS5wbGF5ZXImJihlLmhhc1ZpZGVvKCkmJiFlLnBlZXJNdXRlVmlkZW8mJih0LmlzRnJlZXplPWUucGxheWVyLmZyZWV6ZUNvdW50PmUucGxheWVyLmxhc3RGcmVlemVDb3VudCksZS5wbGF5ZXIubGFzdEZyZWV6ZUNvdW50PWUucGxheWVyLmZyZWV6ZUNvdW50KSxMLm1ha2VSZXBvcnQoYShlLmdldElkKCksdCkpfSkpLGUucGMuZ2V0QXVkaW9SZWxhdGVkU3RhdHMmJmUucGMuZ2V0QXVkaW9SZWxhdGVkU3RhdHMoKGZ1bmN0aW9uKHQpe0wubWFrZVJlcG9ydChhKGUuZ2V0SWQoKSx0KSl9KSl9fSksMWUzKSxMLmF1ZGlvTGV2ZWxbZS5nZXRJZCgpXT0wLGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpK1wiYXVkaW9cIl0pLEwudGltZXJzW2UuZ2V0SWQoKStcImF1ZGlvXCJdPXNldEludGVydmFsKChmdW5jdGlvbigpe0wuaGFzTGlzdGVuZXJzKFwiYWN0aXZlLXNwZWFrZXJcIikmJmUmJmUucGMmJlwiZXN0YWJsaXNoZWRcIj09PWUucGMuc3RhdGUmJmUucGMuZ2V0U3RhdHMmJmUucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoXCJhdWRpb1wiPT09dC5tZWRpYVR5cGUpe2lmKHQuYXVkaW9PdXRwdXRMZXZlbD41ZTMpZm9yKHZhciBuIGluIEwuYXVkaW9MZXZlbFtlLmdldElkKCldPDIwJiYoTC5hdWRpb0xldmVsW2UuZ2V0SWQoKV0rPTEpLEwuYXVkaW9MZXZlbCluIT09XCJcIitlLmdldElkKCkmJkwuYXVkaW9MZXZlbFtuXT4wJiYoTC5hdWRpb0xldmVsW25dLT0xKTt2YXIgcj1PYmplY3Qua2V5cyhMLmF1ZGlvTGV2ZWwpLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEwuYXVkaW9MZXZlbFt0XS1MLmF1ZGlvTGV2ZWxbZV19KSk7aWYoTC5hY3RpdmVTcGVha2VyIT09clswXSl7dmFyIGk9T2JqZWN0KG0uYSkoe3R5cGU6XCJhY3RpdmUtc3BlYWtlclwiLHVpZDpyWzBdfSk7TC5kaXNwYXRjaEV2ZW50KGkpLEwuYWN0aXZlU3BlYWtlcj1yWzBdLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXBkYXRlIGFjdGl2ZSBzcGVha2VyOiBcIikuY29uY2F0KEwuYWN0aXZlU3BlYWtlcikpfX19KSl9KSw1MCl9KSw1MCksZS5wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihpKXtpZihcImZhaWxlZFwiPT09aSludWxsIT1MLnRpbWVyc1tlLmdldElkKCldJiYoY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldKSxjbGVhckludGVydmFsKEwudGltZXJzW2UuZ2V0SWQoKV0rXCJhdWRpb1wiKSksdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTdWJzY3JpYmVyIGNvbm5lY3Rpb24gaXMgbG9zdCAtLSBzdHJlYW1JZDogXCIpLmNvbmNhdChlLmdldElkKCksXCIsIHAycElkOiBcIikuY29uY2F0KHMpKSx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHN1YnNjcmliZSBwMnAgZmFpbGVkOiBcIiksTC5wMnBzKSxvfHwobz0hMCxuJiZuKGIuZGVmYXVsdC5QRUVSQ09OTkVDVElPTl9GQUlMRUQpLEUucmVwb3J0LnN1YnNjcmliZShMLmpvaW5JbmZvLnNpZCx7bHRzOnIsc3VjYzohMSx2aWRlbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMmJmUuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS5nZXRJZCgpLGVjOmIuZGVmYXVsdC5QRUVSQ09OTkVDVElPTl9GQUlMRUQsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KSksTC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV0mJkwucDJwcy5oYXMocykmJihMLnAycHMuZGVsZXRlKHMpLEwuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInN1YlAyUExvc3RcIixzdHJlYW06ZX0pKSk7ZWxzZSBpZihcImNvbm5lY3RlZFwiPT09aSYmKHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHAycCBjb25uZWN0ZWQ6IFwiKSxMLnAycHMpLCFvKSl7bz0hMCxFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITAsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzpudWxsLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQoZS5nZXRJZCgpKXx8MCxwMnBpZDpzfSksTC5fYWRqdXN0UENNdXRlU3RhdHVzKGUpO3ZhciBhPSExLGM9ITEsZD0hMSx1PXNldEludGVydmFsKChmdW5jdGlvbigpe2EmJmN8fChlLnBjP2UucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoKC0xIT09dC5pZC5pbmRleE9mKFwicmVjdlwiKXx8dC50eXBlJiYtMSE9PXQudHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcImluYm91bmRfcnRwXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcImluYm91bmQtcnRwXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcIkluYm91bmRSVFBcIikpJiZcImF1ZGlvXCI9PT10Lm1lZGlhVHlwZSl7aWYoKHQuZ29vZ0RlY29kaW5nTm9ybWFsPjB8fHQuYXVkaW9PdXRwdXRMZXZlbD4wKSYmIWEpe2E9ITAsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZmlyc3QtYXVkaW8tZnJhbWUtZGVjb2RlXCIsc3RyZWFtOmV9KSxhJiZjJiZjbGVhckludGVydmFsKHUpO3ZhciBuPURhdGUubm93KCkscj1FLnJlcG9ydC5nZXRTZXNzaW9uU3RhcnRUaW1lKEwuam9pbkluZm8uc2lkKTtFLnJlcG9ydC5maXJzdEF1ZGlvRGVjb2RlKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50SWQsdWlkOkwudWlkLGVsYXBzZTpuLXIsc3Vic2NyaWJlRWxhcHNlOm4tZS5zdWJzY3JpYmVMVFMsc3Vic2NyaWJlUmVxdWVzdGlkOkwuc3Vic2NyaWJlUmVxdWVzdElkLmdldChlLmdldElkKCkpfHwwLHAycGlkOnN9KX1pZihwYXJzZUludCh0LnBhY2tldHNSZWNlaXZlZCk+MCYmIWMpe2M9ITAsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZmlyc3QtYXVkaW8tcGFja2V0LXJlY2VpdmVkXCIsc3RyZWFtOmV9KSxhJiZjJiZjbGVhckludGVydmFsKHUpO249RGF0ZS5ub3coKSxyPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpO0UucmVwb3J0LmZpcnN0QXVkaW9SZWNlaXZlZChMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludElkLHVpZDpMLnVpZCxlbGFwc2U6bi1yLHN1YnNjcmliZUVsYXBzZTpuLWUuc3Vic2NyaWJlTFRTLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQoZS5nZXRJZCgpKXx8MCxwMnBpZDpzfSl9fX0pKX0pLDEwMCk6Y2xlYXJJbnRlcnZhbCh1KSl9KSwxMDApLGw9ITEsZj0hMSxwPXNldEludGVydmFsKChmdW5jdGlvbigpe2wmJmZ8fChlLnBjP2UucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoKC0xIT09dC5pZC5pbmRleE9mKFwicmVjdlwiKXx8dC50eXBlJiYtMSE9PXQudHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpbmJvdW5kXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcImluYm91bmRfcnRwXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcImluYm91bmQtcnRwXCIpfHwtMSE9PXQuaWQuaW5kZXhPZihcIkluYm91bmRSVFBcIikpJiZcInZpZGVvXCI9PT10Lm1lZGlhVHlwZSl7aWYoKHQuZnJhbWVzRGVjb2RlZD4wfHx0Lmdvb2dGcmFtZXNEZWNvZGVkPjApJiYhbCl7bD0hMCxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaXJzdC12aWRlby1mcmFtZS1kZWNvZGVcIixzdHJlYW06ZX0pLGwmJmYmJmNsZWFySW50ZXJ2YWwocCk7dmFyIG49RGF0ZS5ub3coKSxyPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpO2UuZmlyc3RGcmFtZVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCktZS5zdWJzY3JpYmVMVFMsRS5yZXBvcnQuZmlyc3RWaWRlb0RlY29kZShMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludElkLHdpZHRoOnBhcnNlSW50KHQuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCl8fDAsaGVpZ2h0OnBhcnNlSW50KHQuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpfHwwLHVpZDpMLnVpZCxlbGFwc2U6bi1yLHN1YnNjcmliZUVsYXBzZTpuLWUuc3Vic2NyaWJlTFRTLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQoZS5nZXRJZCgpKXx8MCxwMnBpZDpzfSl9aWYodC5wYWNrZXRzUmVjZWl2ZWQ+MCYmIWYpe2Y9ITAsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZmlyc3QtdmlkZW8tcGFja2V0LXJlY2VpdmVkXCIsc3RyZWFtOmV9KSxsJiZmJiZjbGVhckludGVydmFsKHApO249RGF0ZS5ub3coKSxyPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpO0UucmVwb3J0LmZpcnN0VmlkZW9SZWNlaXZlZChMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludElkLHVpZDpMLnVpZCxlbGFwc2U6bi1yLHN1YnNjcmliZUVsYXBzZTpuLWUuc3Vic2NyaWJlTFRTLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQoZS5nZXRJZCgpKXx8MCxwMnBpZDpzfSl9fX0pKX0pLDEwMCk6Y2xlYXJJbnRlcnZhbChwKSl9KSwxMDApLGc9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoIWQpe3ZhciB0PWUuZ2V0SWQoKSxuPUwudHJhZmZpY19zdGF0cztpZihuJiZuLnBlZXJfZGVsYXkpe3ZhciByPW4ucGVlcl9kZWxheS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wZWVyX3VpZD09dH0pKTtpZihyKXtpZihkPSEwLEwucGVlclB1Ymxpc2hEdXJhdGlvbk1hcC5nZXQoZS5nZXRJZCgpKSlyZXR1cm4gdm9pZCBjbGVhckludGVydmFsKGcpO3ZhciBpPXIucGVlcl9wdWJsaXNoX2F1ZGlvX2R1cmF0aW9uLG89ci5wZWVyX3B1Ymxpc2hfdmlkZW9fZHVyYXRpb247aWYodm9pZCAwPT09aXx8dm9pZCAwPT09bylyZXR1cm47TC5wZWVyUHVibGlzaER1cmF0aW9uTWFwLnNldChlLmdldElkKCksITApO3ZhciBhPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpLHM9KGl8fG8pKyhEYXRlLm5vdygpLW4udGltZXN0YW1wKSxjPURhdGUubm93KCk7RS5yZXBvcnQucGVlclB1Ymxpc2hTdGF0dXMoe2F1ZGlvdGFnOmk/MTotMSx2aWRlb3RhZzpvPzE6LTEsbHRzOmMsc2lkOkwuam9pbkluZm8uc2lkLGNuYW1lOkwuam9pbkluZm8uY25hbWUsY2lkOkwuam9pbkluZm8uY2lkLHVpZDpMLmpvaW5JbmZvLnVpZCxlbGFwc2U6Yy1hLHBlZXI6ZS51aW50SWQscGVlclB1Ymxpc2hEdXJhdGlvbjpzLGpvaW5DaGFubmVsU3VjY2Vzc0VsYXBzZTpjLUwuam9pblN1Y2Nlc3NMdHMsc3Vic2NyaWJlRWxhcHNlOmMtZS5zdWJzY3JpYmVMVFN9KSxjbGVhckludGVydmFsKGcpfX19fSksMWUzKTtyZXR1cm4gZS5zaWQ9TC5qb2luSW5mby5zaWQsdCYmdCgpfX19ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgcmVtb3RlIHN0cmVhbVwiKSksb3x8KG89ITAsbiYmbihiLmRlZmF1bHQuSU5WQUxJRF9SRU1PVEVfU1RSRUFNKSxFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITEsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzpiLmRlZmF1bHQuSU5WQUxJRF9SRU1PVEVfU1RSRUFNfSkpO2Vsc2Ugdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBObyBzdWNoIHJlbW90ZSBzdHJlYW1cIikpLG98fChvPSEwLG4mJm4oYi5kZWZhdWx0Lk5PX1NVQ0hfUkVNT1RFX1NUUkVBTSksRS5yZXBvcnQuc3Vic2NyaWJlKEwuam9pbkluZm8uc2lkLHtsdHM6cixzdWNjOiExLHZpZGVvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvLGF1ZGlvOmUuc3Vic2NyaWJlT3B0aW9ucyYmZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvLHBlZXJpZDplLmdldElkKCksZWM6Yi5kZWZhdWx0Lk5PX1NVQ0hfUkVNT1RFX1NUUkVBTX0pKX0sTC5zdWJzY3JpYmVDaGFuZ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPURhdGUubm93KCk7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEdhdGV3YXljbGllbnQgXCIpLmNvbmNhdChMLnVpZCxcIiBTdWJzY3JpYmVDaGFuZ2UgXCIpLmNvbmNhdChlLmdldElkKCksXCI6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZS5zdWJzY3JpYmVPcHRpb25zKSkpLEwuX2FkanVzdFBDTXV0ZVN0YXR1cyhlKTt2YXIgaT17c3RyZWFtX2lkOmUuZ2V0SWQoKSxhdWRpbzplLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8sdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zLnZpZGVvfTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInN1YnNjcmliZV9jaGFuZ2VcIixfbWVzc2FnZTppfSwoZnVuY3Rpb24obil7dmFyIGk9T2JqZWN0KG0uZSkoe3R5cGU6XCJzdHJlYW0tc3Vic2NyaWJlLWNoYW5nZWRcIixzdHJlYW06TC5yZW1vdGVTdHJlYW1zW2UuZ2V0SWQoKV19KTtFLnJlcG9ydC5zdWJzY3JpYmUoTC5qb2luSW5mby5zaWQse2x0czpyLHN1Y2M6ITAsdmlkZW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMudmlkZW8sYXVkaW86ZS5zdWJzY3JpYmVPcHRpb25zJiZlLnN1YnNjcmliZU9wdGlvbnMuYXVkaW8scGVlcmlkOmUuZ2V0SWQoKSxlYzpudWxsLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQoZS5nZXRJZCgpKXx8MCxwMnBpZDpMLnAycHMuZ2V0KGUuZ2V0SWQoKSl9KSxMLmRpc3BhdGNoRXZlbnQoaSksdCYmdCgpfSksKGZ1bmN0aW9uKHQscil7di5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTdWJzY3JpYmUgQ2hhbmdlIEZhaWxlZCBcIikuY29uY2F0KGUuZ2V0SWQoKSksdCxyKSxuJiZuKHQscil9KSl9LEwucHJvY2Vzc1B1Ymxpc2hGYWlsdXJlPWZ1bmN0aW9uKGUpe2UucHVibGlzaExUUz1udWxsLGUucDJwSWQmJkwucDJwcy5nZXQoZS5wMnBJZCk9PT1lJiZMLnAycHMuZGVsZXRlKGUucDJwSWQpLEwubG9jYWxTdHJlYW1zW2UuZ2V0VXNlcklkKCldPT09ZSYmZGVsZXRlIEwubG9jYWxTdHJlYW1zW2UuZ2V0VXNlcklkKCldLEwubG9jYWxTdHJlYW1zW2UuZ2V0SWQoKV09PT1lJiZkZWxldGUgTC5sb2NhbFN0cmVhbXNbZS5nZXRJZCgpXSxlLnBjJiYoZS5wYy5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZT1mdW5jdGlvbigpe30sZS5wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe30sZS5wYy5jbG9zZSgpLGRlbGV0ZSBlLnBjKSxkZWxldGUgZS5vbkNsb3NlLGRlbGV0ZSBlLl9vbkF1ZGlvVW5tdXRlLGRlbGV0ZSBlLl9vblZpZGVvVW5tdXRlLGRlbGV0ZSBlLl9vbkF1ZGlvTXV0ZSxkZWxldGUgZS5fb25WaWRlb011dGUsZGVsZXRlIGUuX29uQXVkaW9Vbm11dGV9LEwucHJvY2Vzc1N1YnNjcmliZUZhaWx1cmU9ZnVuY3Rpb24oZSl7ZS5wMnBJZCYmTC5wMnBzLmdldChlLnAycElkKT09PWUmJkwucDJwcy5kZWxldGUoZS5wMnBJZCksZS5wYyYmKGUucGMub25hZGRzdHJlYW09ZnVuY3Rpb24oKXt9LGUucGMucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2U9ZnVuY3Rpb24oKXt9LGUucGMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt9LGUucGMuY2xvc2UoKSxkZWxldGUgZS5wYyksZGVsZXRlIGUub25DbG9zZSxkZWxldGUgZS5fb25BdWRpb1VubXV0ZSxkZWxldGUgZS5fb25WaWRlb1VubXV0ZSxkZWxldGUgZS5fb25BdWRpb011dGUsZGVsZXRlIGUuX29uVmlkZW9NdXRlLGRlbGV0ZSBlLl9vbkF1ZGlvVW5tdXRlfSxMLl9hZGp1c3RQQ011dGVTdGF0dXM9ZnVuY3Rpb24oZSl7KHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl06IHVzZSBfYWRqdXN0UENNdXRlU3RhdHVzOiBcIikuY29uY2F0KGUuZ2V0SWQoKSkpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl06IHZpZGVvOiBcIikuY29uY2F0KGUudmlkZW8sXCIsIGF1ZGlvOiBcIikuY29uY2F0KGUuYXVkaW8sXCIsIHN1Ym9wdGlvbjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlLnN1YnNjcmliZU9wdGlvbnMpLFwiLHVzZXJNdXRlVmlkZW86IFwiKS5jb25jYXQoZS51c2VyTXV0ZVZpZGVvLFwiLCBwZWVyTXV0ZVZpZGVvOiBcIikuY29uY2F0KGUucGVlck11dGVWaWRlbyxcIiwgdXNlck11dGVBdWRpbzogXCIpLmNvbmNhdChlLnVzZXJNdXRlQXVkaW8sXCIsIHBlZXJNdXRlQXVkaW86IFwiKS5jb25jYXQoZS5wZWVyTXV0ZUF1ZGlvKSksIWUubG9jYWwmJmUucGMmJmUucGMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKSYmZS5wYy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZih0JiZ0LnRyYWNrJiZcImF1ZGlvXCI9PT10LnRyYWNrLmtpbmQpe3ZhciBuPSFlLnVzZXJNdXRlQXVkaW8mJiFlLnBlZXJNdXRlQXVkaW87ZS5zdWJzY3JpYmVPcHRpb25zJiYhZS5zdWJzY3JpYmVPcHRpb25zLmF1ZGlvJiYobj0hMSksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXTogc2V0IHJlY2VpdmVyIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KG4pKSx0LnRyYWNrLmVuYWJsZWQ9ISFufWVsc2UgaWYodCYmdC50cmFjayYmXCJ2aWRlb1wiPT09dC50cmFjay5raW5kKXt2YXIgcj0hZS51c2VyTXV0ZVZpZGVvJiYhZS5wZWVyTXV0ZVZpZGVvO2Uuc3Vic2NyaWJlT3B0aW9ucyYmIWUuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyYmKHI9ITEpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl06IHNldCByZWNlaXZlciB2aWRlbyB0cmFjazogXCIpLmNvbmNhdChyKSksdC50cmFjay5lbmFibGVkPSEhcn19KSl9LEwudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0LG4pe2lmKFwib2JqZWN0XCIhPT1kKCkoZSl8fG51bGw9PT1lKXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgcmVtb3RlIHN0cmVhbVwiKSksdm9pZCBEKG4sYi5kZWZhdWx0LklOVkFMSURfUkVNT1RFX1NUUkVBTSk7aWYoTC5zdGF0ZSE9PVIpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBpcyBub3QgaW4gdGhlIHNlc3Npb25cIikpLHZvaWQgRChuLGIuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTik7aWYobnVsbCE9TC50aW1lcnNbZS5nZXRJZCgpXSYmKGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS5nZXRJZCgpXSksY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLmdldElkKCldK1wiYXVkaW9cIikpLG51bGwhPUwuYXVkaW9MZXZlbFtlLmdldElkKCldJiZkZWxldGUgTC5hdWRpb0xldmVsW2UuZ2V0SWQoKV0sbnVsbCE9TC50aW1lcl9jb3VudGVyW2UuZ2V0SWQoKV0mJmRlbGV0ZSBMLnRpbWVyX2NvdW50ZXJbZS5nZXRJZCgpXSxMLnJlbW90ZVN0cmVhbXMuaGFzT3duUHJvcGVydHkoZS5nZXRJZCgpKSl7aWYoIUwuc29ja2V0KXJldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFVzZXIgaXMgbm90IGluIHRoZSBzZXNzaW9uXCIpKSx2b2lkIEQobixiLmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pO2lmKGUubG9jYWwpcmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCByZW1vdGUgc3RyZWFtXCIpKSx2b2lkIEQobixiLmRlZmF1bHQuSU5WQUxJRF9SRU1PVEVfU1RSRUFNKTtlLmNsb3NlKCksZS5zdG9wKCk7dmFyIHI9e3N0cmVhbV9pZDplLmdldElkKCl9O0wubWFrZVJlcXVlc3Qoe190eXBlOlwidW5zdWJzY3JpYmVcIixfbWVzc2FnZTpyfSksdm9pZCAwIT09ZS5wYyYmKGUucGMuY2xvc2UoKSxlLnBjPXZvaWQgMCksZS5vbkNsb3NlPXZvaWQgMCxlLl9vbkF1ZGlvTXV0ZT12b2lkIDAsZS5fb25BdWRpb1VudXRlPXZvaWQgMCxlLl9vblZpZGVvTXV0ZT12b2lkIDAsZS5fb25WaWRlb1VubXV0ZT12b2lkIDAsZGVsZXRlIGUuc3Vic2NyaWJlT3B0aW9ucyxMLnAycHMuZGVsZXRlKGUucDJwSWQpLHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVbnN1YnNjcmliZSBzdHJlYW0gc3VjY2Vzc1wiKSksdCYmdCgpfWVsc2UgRChuLGIuZGVmYXVsdC5OT19TVUNIX1JFTU9URV9TVFJFQU0pfSxMLnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZT1mdW5jdGlvbihlLHQpe2lmKHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gU3dpdGNoaW5nIHJlbW90ZSB2aWRlbyBzdHJlYW0gXCIpLmNvbmNhdChlLmdldElkKCksXCIgdG8gXCIpLmNvbmNhdCh0KSksXCJvYmplY3RcIj09PWQoKShlKSYmbnVsbCE9PWUpaWYoTC5zdGF0ZT09PVIpe2lmKCFlLmxvY2FsKXtzd2l0Y2godCl7Y2FzZSBMLnJlbW90ZVZpZGVvU3RyZWFtVHlwZXMuUkVNT1RFX1ZJREVPX1NUUkVBTV9ISUdIOmNhc2UgTC5yZW1vdGVWaWRlb1N0cmVhbVR5cGVzLlJFTU9URV9WSURFT19TVFJFQU1fTE9XOmNhc2UgTC5yZW1vdGVWaWRlb1N0cmVhbVR5cGVzLlJFTU9URV9WSURFT19TVFJFQU1fTUVESVVNOmJyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBuPXtzdHJlYW1faWQ6ZS5nZXRJZCgpLHN0cmVhbV90eXBlOnR9O0wubWFrZVJlcXVlc3Qoe190eXBlOlwic3dpdGNoX3ZpZGVvX3N0cmVhbVwiLF9tZXNzYWdlOm59LChmdW5jdGlvbigpe3YuZGVmYXVsdC5kZWJ1ZyhcIlN3aXRjaFZpZGVvU3RyZWFtIFN1Y2Nlc3MgXCIuY29uY2F0KG4uc3RyZWFtX2lkLFwiIFwiKS5jb25jYXQobi5zdHJlYW1fdHlwZSkpfSksKGZ1bmN0aW9uKGUsdCl7di5kZWZhdWx0LmVycm9yKFwiU3dpdGNoVmlkZW9TdHJlYW0gRXJyb3IgXCIuY29uY2F0KGUsXCIgXCIpLmNvbmNhdChuLnN0cmVhbV9pZCxcIiBcIikuY29uY2F0KG4uc3RyZWFtX3R5cGUpLHQpfSkpfX1lbHNlIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVXNlciBpcyBub3QgaW4gdGhlIHNlc3Npb25cIikpO2Vsc2Ugdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBJbnZhbGlkIHJlbW90ZSBzdHJlYW1cIikpfSxMLnJlbmV3VG9rZW49ZnVuY3Rpb24oZSx0LG4pe2U/TC5rZXk/TC5zdGF0ZSE9PVI/KHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuIFRyeWluZyB0byByZWpvaW5cIikpLEwua2V5PWUsTC5yZWpvaW4oKSx0JiZ0KCkpOih2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gZnJvbSBcIikuY29uY2F0KEwua2V5LFwiIHRvIFwiKS5jb25jYXQoZSkpLEwua2V5PWUsTC5tYWtlUmVxdWVzdCh7X3R5cGU6XCJyZW5ld190b2tlblwiLF9tZXNzYWdlOnt0b2tlbjplfX0sdCxuKSk6KHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ2xpZW50IGlzIHByZXZpb3VzbHkgam9pbmVkIHdpdGhvdXQgdG9rZW5cIikpLG4mJm4oYi5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKSk6KHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSW52YWxpZCBUb2tlbiBcIikuY29uY2F0KGUpKSxuJiZuKGIuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUikpfSxMLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBTZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvbiBcIikuY29uY2F0KGUuZ2V0SWQoKSxcIiB0byBcIikuY29uY2F0KHQpKSxcIm9iamVjdFwiPT09ZCgpKGUpJiZudWxsIT09ZSlpZihMLnN0YXRlPT09Uil7aWYoIWUubG9jYWwpe3N3aXRjaCh0KXtjYXNlIEwuc3RyZWFtRmFsbGJhY2tUeXBlcy5TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OX0RJU0FCTEVEOmNhc2UgTC5zdHJlYW1GYWxsYmFja1R5cGVzLlNUUkVBTV9GQUxMQkFDS19PUFRJT05fVklERU9fU1RSRUFNX0xPVzpjYXNlIEwuc3RyZWFtRmFsbGJhY2tUeXBlcy5TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OX0FVRElPX09OTFk6YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIG49e3N0cmVhbV9pZDplLmdldElkKCksZmFsbGJhY2tfdHlwZTp0fTtMLm1ha2VSZXF1ZXN0KHtfdHlwZTpcInNldF9mYWxsYmFja19vcHRpb25cIixfbWVzc2FnZTpufSwoZnVuY3Rpb24oKXt2LmRlZmF1bHQuZGVidWcoXCJTZXRTdHJlYW1GYWxsYmFja09wdGlvbiBzdWNjZXNzIFwiLmNvbmNhdChuLnN0cmVhbV9pZCxcIiBcIikuY29uY2F0KHQpKX0pLChmdW5jdGlvbihlLHIpe3YuZGVmYXVsdC5lcnJvcihcIkZhaWxlZCB0byBTZXRTdHJlYW1GYWxsYmFja09wdGlvbiBcIi5jb25jYXQobi5zdHJlYW1faWQsXCIgXCIpLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQoZSkscil9KSl9fWVsc2Ugdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIGlzIG5vdCBpbiB0aGUgc2Vzc2lvblwiKSk7ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEludmFsaWQgcmVtb3RlIHN0cmVhbVwiKSl9LEwuZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3I9ZnVuY3Rpb24oZSx0KXtMLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbi5lbmFibGVkPSEwLEwuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uLmludGVydmFsPWUsTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uc21vb3RoPXQsTC5yZXNldEF1ZGlvVm9sdW1lSW5kaWNhdGlvbigpfSxMLnJlc2V0QXVkaW9Wb2x1bWVJbmRpY2F0aW9uPWZ1bmN0aW9uKCl7aWYoY2xlYXJJbnRlcnZhbChMLnRpbWVycy5hdWRpb1ZvbHVtZUluZGljYXRpb24pLGNsZWFySW50ZXJ2YWwoTC50aW1lcnMuYXVkaW9Wb2x1bWVTYW1wbGluZyksTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uZW5hYmxlZCYmTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uaW50ZXJ2YWwpe3ZhciBlPU1hdGguZmxvb3IoMWUzKkwuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uLnNtb290aC8xMDApO2NsZWFySW50ZXJ2YWwoTC50aW1lcnMuYXVkaW9Wb2x1bWVTYW1wbGluZyksTC50aW1lcnMuYXVkaW9Wb2x1bWVTYW1wbGluZz1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtMLmF1ZGlvVm9sdW1lU2FtcGxpbmd8fChMLmF1ZGlvVm9sdW1lU2FtcGxpbmc9e30pO3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBMLnJlbW90ZVN0cmVhbXMpe3ZhciByPUwucmVtb3RlU3RyZWFtc1tuXTtpZihyLnN0cmVhbSYmci5oYXNBdWRpbygpKXt2YXIgaT1yLmdldEF1ZGlvTGV2ZWwoKTtpPjAmJmk8MSYmKGkqPTEwMCk7dmFyIG89TC5hdWRpb1ZvbHVtZVNhbXBsaW5nW25dfHxbXTtmb3Ioby5wdXNoKGkpO28ubGVuZ3RoPmU7KW8uc2hpZnQoKTt0W25dPW99fUwuYXVkaW9Wb2x1bWVTYW1wbGluZz10fSksMTAwKSxjbGVhckludGVydmFsKEwudGltZXJzLmF1ZGlvVm9sdW1lSW5kaWNhdGlvbiksTC50aW1lcnMuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKEwuc29ja2V0JiZMLnNvY2tldC5zaWduYWwmJkwuc29ja2V0LnNpZ25hbC5jb25uZWN0aW9uJiZMLnNvY2tldC5zaWduYWwuY29ubmVjdGlvbi5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4pe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBMLnJlbW90ZVN0cmVhbXMpaWYoTC5hdWRpb1ZvbHVtZVNhbXBsaW5nJiZMLmF1ZGlvVm9sdW1lU2FtcGxpbmdbdF0pe3ZhciBuPUwuYXVkaW9Wb2x1bWVTYW1wbGluZ1t0XSxyPTA7bi5mb3JFYWNoKChmdW5jdGlvbihlKXtyKz1lfSkpO3ZhciBpPXt1aWQ6dCxsZXZlbDpNYXRoLmZsb29yKHIvbi5sZW5ndGgpfTtpLmxldmVsJiZlLnB1c2goaSl9dmFyIG89ZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLmxldmVsLXQubGV2ZWx9KSk7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSB2b2x1bWUtaW5kaWNhdG9yIFwiKSxKU09OLnN0cmluZ2lmeShvKSksTC5hdWRpb1ZvbHVtZUluZGljYXRpb24uc29ydGVkQXVkaW9Wb2x1bWVzPW87dmFyIGE9T2JqZWN0KG0uYSkoe3R5cGU6XCJ2b2x1bWUtaW5kaWNhdG9yXCIsYXR0cjpvfSk7TC5kaXNwYXRjaEV2ZW50KGEpfX0pLEwuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uLmludGVydmFsKX19LEwuY2xvc2VHYXRld2F5PWZ1bmN0aW9uKCl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBjbG9zZSBnYXRld2F5XCIpKSxMLnN0YXRlPWYsTC5zb2NrZXQuY2xvc2UoKSxCKCl9LEwuc3RhcnRDaGFubmVsTWVkaWFSZWxheT1mdW5jdGlvbigpe3ZhciBlPXMoKShvLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYTtyZXR1cm4gby5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCFMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcil7ZS5uZXh0PTI7YnJlYWt9dGhyb3cgbmV3IFAuQ2hhbm5lbE1lZGlhRXJyb3IoXCJSRUxBWV9BTFJFQURZX1NUQVJUXCIsXCJcIixQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1IuUkVMQVlfQUxSRUFEWV9TVEFSVCk7Y2FzZSAyOnJldHVybiBuPWZ1bmN0aW9uKGUpe0wuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNoYW5uZWwtbWVkaWEtcmVsYXktZXZlbnRcIixjb2RlOmV9KX0scj1mdW5jdGlvbihlLHQsbil7ZT09PVAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9GQUlMVVJFJiZ0PT09UC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SLlNFUlZFUl9DT05ORUNUSU9OX0xPU1QmJihMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5kaXNwb3NlKCksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbCksTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOmUsY29kZTp0LGRhdGE6bn0pfSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcj1uZXcgeC5hKEwuam9pbkluZm8sTC5jbGllbnRJZCksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIub24oXCJldmVudFwiLG4pLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyLm9uKFwic3RhdGVcIixyKSxlLnByZXY9NyxlLm5leHQ9MTAsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuc3RhcnRDaGFubmVsTWVkaWFSZWxheSh0KTtjYXNlIDEwOmUubmV4dD0yMjticmVhaztjYXNlIDEyOnRocm93IGUucHJldj0xMixlLnQwPWUuY2F0Y2goNyksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5IGV4Y2VwdGlvbjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlLnQwKSkpLGk9UC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFLlJFTEFZX1NUQVRFX0ZBSUxVUkUsYT1cIlwiLGE9ZS50MCBpbnN0YW5jZW9mIFAuQ2hhbm5lbE1lZGlhRXJyb3I/XCJTZXRTb3VyY2VDaGFubmVsU3RhdHVzXCI9PT1lLnQwLmRhdGF8fGUudDAuZGF0YSYmZS50MC5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlNldFNvdXJjZUNoYW5uZWxcIj09PWUudDAuZGF0YS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kP1wiRkFJTEVEX0pPSU5fU1JDXCI6XCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiPT09ZS50MC5kYXRhfHxlLnQwLmRhdGEmJmUudDAuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTZXREZXN0Q2hhbm5lbFwiPT09ZS50MC5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ/XCJGQUlMRURfSk9JTl9ERVNUXCI6ZS50MC5kYXRhJiZlLnQwLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU3RhcnRQYWNrZXRUcmFuc2ZlclwiPT09ZS50MC5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ/XCJGQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVFwiOmUudDAubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5SRVFVRVNUX1RJTUVPVVR8fGUudDAubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5XQUlUX1NUQVRVU19USU1FT1VUP1wiU0VSVkVSX05PX1JFU1BPTlNFXCI6ZS50MC5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLlJFUVVFU1RfRkFJTEVEfHxlLnQwLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV0FJVF9TVEFUVVNfRVJST1I/XCJTRVJWRVJfRVJST1JfUkVTUE9OU0VcIjplLnQwLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuQVBfUkVRVUVTVF9USU1FT1VUP1wiTk9fUkVTT1VSQ0VfQVZBSUxBQkxFXCI6ZS50MC5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLldTX0FCT1JUfHxlLnQwLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuQVBfUkVRVUVTVF9BQk9SVD9cIk9QRVJBVElPTl9BQk9SVFwiOlwiSU5URVJOQUxfRVJST1JcIjpcIklOVEVSTkFMX0VSUk9SXCIsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOmksY29kZTpQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1JbYV19KSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlciYmKEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyLmRpc3Bvc2UoKSxMLmNoYW5uZWxNZWRpYUNvbmZpZz1udWxsLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyPW51bGwpLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNoYW5uZWwtbWVkaWEtcmVsYXktc3RhdGVcIixzdGF0ZTpQLkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUuUkVMQVlfU1RBVEVfSURMRX0pLG5ldyBQLkNoYW5uZWxNZWRpYUVycm9yKGEsbnVsbCxQLkNIQU5ORUxfTUVESUFfUkVMQVlfRVJST1JbYV0pO2Nhc2UgMjI6TC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9SVU5OSU5HLGNvZGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SLlJFTEFZX09LfSksTC5jaGFubmVsTWVkaWFDb25maWc9dDtjYXNlIDI0OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s3LDEyXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxMLnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKCl7dmFyIHQ9cygpKG8uYS5tYXJrKChmdW5jdGlvbiB0KG4pe3ZhciByLGk7cmV0dXJuIG8uYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcil7dC5uZXh0PTI7YnJlYWt9dGhyb3cgbmV3IFAuQ2hhbm5lbE1lZGlhRXJyb3IoXCJSRUxBWV9OT1RfU1RBUlRcIixudWxsLFAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUi5SRUxBWV9OT1RfU1RBUlQpO2Nhc2UgMjpyZXR1cm4gdC5wcmV2PTIsdC5uZXh0PTUsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkobik7Y2FzZSA1OnQubmV4dD0xODticmVhaztjYXNlIDc6dGhyb3cgdC5wcmV2PTcsdC50MD10LmNhdGNoKDIpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkgZXhjZXB0aW9uOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSkscj1QLkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUuUkVMQVlfU1RBVEVfRkFJTFVSRSxpPVwiXCIsaT1lIGluc3RhbmNlb2YgUC5DaGFubmVsTWVkaWFFcnJvcj9lLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuUkVRVUVTVF9USU1FT1VUfHxlLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV0FJVF9TVEFUVVNfVElNRU9VVD9cIlNFUlZFUl9OT19SRVNQT05TRVwiOmUubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5SRVFVRVNUX0ZBSUxFRHx8ZS5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLldBSVRfU1RBVFVTX0VSUk9SP1wiU0VSVkVSX0VSUk9SX1JFU1BPTlNFXCI6ZS5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLldTX0FCT1JUfHxlLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuQVBfUkVRVUVTVF9BQk9SVD9cIk9QRVJBVElPTl9BQk9SVFwiOlwiSU5URVJOQUxfRVJST1JcIjpcIklOVEVSTkFMX0VSUk9SXCIsTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1ldmVudFwiLGNvZGU6UC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5ULlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRUR9KSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6cixjb2RlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUltpXX0pLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyJiYoTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuZGlzcG9zZSgpLEwuY2hhbm5lbE1lZGlhQ29uZmlnPW51bGwsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbCksTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9JRExFfSksbmV3IFAuQ2hhbm5lbE1lZGlhRXJyb3IoaSxudWxsLFAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUltpXSk7Y2FzZSAxODpMLmNoYW5uZWxNZWRpYUNvbmZpZz1uO2Nhc2UgMTk6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQsbnVsbCxbWzIsN11dKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksTC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXk9cygpKG8uYS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIG4scjtyZXR1cm4gby5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyKXt0Lm5leHQ9MjticmVha310aHJvdyBuZXcgUC5DaGFubmVsTWVkaWFFcnJvcihcIlJFTEFZX05PVF9TVEFSVFwiLG51bGwsUC5DSEFOTkVMX01FRElBX1JFTEFZX0VSUk9SLlJFTEFZX05PVF9TVEFSVCk7Y2FzZSAyOnJldHVybiB0LnByZXY9Mix0Lm5leHQ9NSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlci5zdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKTtjYXNlIDU6dC5uZXh0PTE3O2JyZWFrO2Nhc2UgNzp0aHJvdyB0LnByZXY9Nyx0LnQwPXQuY2F0Y2goMiksdi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdG9wQ2hhbm5lbE1lZGlhUmVsYXkgZXhjZXB0aW9uOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksbj1QLkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUuUkVMQVlfU1RBVEVfRkFJTFVSRSxyPVwiXCIscj1lIGluc3RhbmNlb2YgUC5DaGFubmVsTWVkaWFFcnJvcj9lLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuUkVRVUVTVF9USU1FT1VUfHxlLm1lc3NhZ2U9PT1QLkNIQU5ORUxfTUVESUFfRVJST1IuV0FJVF9TVEFUVVNfVElNRU9VVD9cIlNFUlZFUl9OT19SRVNQT05TRVwiOmUubWVzc2FnZT09PVAuQ0hBTk5FTF9NRURJQV9FUlJPUi5SRVFVRVNUX0ZBSUxFRHx8ZS5tZXNzYWdlPT09UC5DSEFOTkVMX01FRElBX0VSUk9SLldBSVRfU1RBVFVTX0VSUk9SP1wiU0VSVkVSX0VSUk9SX1JFU1BPTlNFXCI6XCJJTlRFUk5BTF9FUlJPUlwiOlwiSU5URVJOQUxfRVJST1JcIixMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsc3RhdGU6bixjb2RlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUltyXX0pLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyJiYoTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXIuZGlzcG9zZSgpLEwuY2hhbm5lbE1lZGlhQ29uZmlnPW51bGwsTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXI9bnVsbCksTC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHN0YXRlOlAuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURS5SRUxBWV9TVEFURV9JRExFfSksbmV3IFAuQ2hhbm5lbE1lZGlhRXJyb3IocixudWxsLFAuQ0hBTk5FTF9NRURJQV9SRUxBWV9FUlJPUltyXSk7Y2FzZSAxNzpMLmNoYW5uZWxNZWRpYUNvbmZpZz1udWxsLEwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyPW51bGw7Y2FzZSAxOTpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMiw3XV0pfSkpKSxMLnNlbmRNZXRhZGF0YT1mdW5jdGlvbihlLHQpe0wubWFrZVJlcXVlc3QoZnVuY3Rpb24oZSl7cmV0dXJue190eXBlOlwic2VuZF9tZXRhZGF0YVwiLF9tZXNzYWdlOntzZXNzaW9uX2lkOkwuam9pbkluZm8uc2lkLG1ldGFkYXRhOndpbmRvdy5idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkpfX19KGUpLChmdW5jdGlvbigpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCwnXSBzZW5kIG1ldGFkYXRhIFwiJykuY29uY2F0KGUsJ1wiIHN1Y2Nlc3MnKSksdCYmdChudWxsKX0pLChmdW5jdGlvbihuKXt2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsJ10gc2VuZCBtZXRhZGF0YSBcIicpLmNvbmNhdChlLCdcIiBmYWlsZWQnKSxuKSx0JiZ0KG4pfSkpfSxMLl9yZXBvcnRXZWJzb2NrZXRDbG9zZUV2ZW50PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPUUucmVwb3J0LmdldFNlc3Npb25TdGFydFRpbWUoTC5qb2luSW5mby5zaWQpLHI9RGF0ZS5ub3coKTtFLnJlcG9ydC53ZWJTb2NrZXRRdWl0KHtsdHM6cixzaWQ6TC5qb2luSW5mby5zaWQsY25hbWU6TC5qb2luSW5mby5jbmFtZSxjaWQ6TC5qb2luSW5mby5jaWQsdWlkOkwuam9pbkluZm8udWlkLGVsYXBzZTpyLW4sc3VjYzplLGVycm9yQ29kZTp0LGlwOm51bGx9KX1jYXRjaChlKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdOiBfcmVwb3J0V2Vic29ja2V0Q2xvc2VFdmVudCBleGNlcHRpb24sIFwiKS5jb25jYXQoZSkpfX07dmFyIGo9ZnVuY3Rpb24oKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlY29ubmVjdCBnYXRld2F5XCIpKSxMLnN0YXRlPWYsTC5zb2NrZXQuY2xvc2UoKSxCKCksTC5yZWNvbm5lY3RNb2RlPVwicmVjb3ZlclwiLEwuc3RhdGU9XyxGKCl9O0wucmVjb3Zlcj1qO3ZhciBCPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImJlZm9yZS1jbGVhci1jb25uZWN0aW9uXCJ9KSxMLnRpbWVycylMLnRpbWVycy5oYXNPd25Qcm9wZXJ0eShlKSYmY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlXSk7Zm9yKHZhciBlIGluIEwucmVtb3RlU3RyZWFtcylpZihMLnJlbW90ZVN0cmVhbXMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PUwucmVtb3RlU3RyZWFtc1tlXSxuPU9iamVjdChtLmEpKHt0eXBlOlwic3RyZWFtLXJlbW92ZWRcIix1aWQ6dC5nZXRJZCgpLHN0cmVhbTp0fSk7TC5kaXNwYXRjaEV2ZW50KG4pfUwucDJwcy5jbGVhcigpLHEoKSxIKCksY2xlYXJJbnRlcnZhbChMLnBpbmdUaW1lcil9O0wucmVqb2luPWZ1bmN0aW9uKCl7TC5zb2NrZXQmJihjbGVhckludGVydmFsKEwucGluZ1RpbWVyKSxMLnNvY2tldC5jbG9zZSgpLEwuc29ja2V0PXZvaWQgMCksTC5zdGF0ZT1fLEYoKX07dmFyIEY9ZnVuY3Rpb24oZSx0KXtMLmRpc3BhdGNoRXZlbnQoT2JqZWN0KG0uYSkoe3R5cGU6XCJyZWpvaW4tc3RhcnRcIn0pKSxlPWV8fGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBVc2VyIFwiKS5jb25jYXQoZSxcIiBpcyByZS1qb2luZWQgdG8gXCIpLmNvbmNhdChMLmpvaW5JbmZvLmNuYW1lKSksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwicmVqb2luXCJ9KSksTC5jaGFubmVsTWVkaWFDb25maWcmJkwuc3RhcnRDaGFubmVsTWVkaWFSZWxheShMLmNoYW5uZWxNZWRpYUNvbmZpZykudGhlbigoZnVuY3Rpb24oKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJlc3RhcnRDaGFubmVsTWVkaWFSZWxheSBzdWNjZXNzXCIpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSByZXN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkgZmFpbGVkOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSl9KSksTC5saXZlU3RyZWFtcyYmTC5saXZlU3RyZWFtcy5zaXplJiZMLmxpdmVTdHJlYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ZSYmTC5zZXRMaXZlVHJhbnNjb2RpbmcoTC50cmFuc2NvZGluZyksTC5zdGFydExpdmVTdHJlYW1pbmcodCxlKX0pKSxMLmluamVjdExpdmVTdHJlYW1zJiZMLmluamVjdExpdmVTdHJlYW1zLnNpemUmJkwuaW5qZWN0TGl2ZVN0cmVhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtMLmFkZEluamVjdFN0cmVhbVVybCh0LGUpfSkpfSx0PXR8fGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmUtam9pbiB0byBjaGFubmVsIGZhaWxlZCBcIiksZSksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmUpKHt0eXBlOlwiZXJyb3JcIixyZWFzb246ZX0pKX0sTC5rZXk/KCsrTC5yZWpvaW5BdHRlbXB0LEwuam9pbihMLmpvaW5JbmZvLEwua2V5LGUsdCkpOnYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gQ29ubmVjdGlvbiByZWNvdmVyIGZhaWxlZCBbSW52YWxpZCBjaGFubmVsIGtleV1cIikpfSxXPWZ1bmN0aW9uKGUsdCxuKXtpZihMLm9uQ29ubmVjdD10LEwuc29ja2V0KXtpZihMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJyZWNvbm5lY3RcIn0pLFwicmV0cnlcIj09PUwucmVjb25uZWN0TW9kZSl2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJldHJ5IGN1cnJlbnQgZ2F0ZXdheVwiKSksTC5zb2NrZXQucmVjb25uZWN0KCk7ZWxzZSBpZihcInRyeU5leHRcIj09PUwucmVjb25uZWN0TW9kZSl2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFRyeSBuZXh0IGdhdGV3YXlcIikpLEwuc29ja2V0LmNvbm5lY3ROZXh0KCk7ZWxzZSBpZihcInJlY292ZXJcIj09PUwucmVjb25uZWN0TW9kZSl7di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZWNvdmVyIGdhdGV3YXlcIikpLHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gVHJ5IHRvIHJlY29ubmVjdCBjaG9vc2Ugc2VydmVyIGFuZCBnZXQgZ2F0ZXdheSBsaXN0IGFnYWluIFwiKSksTC5yZWNvbm5lY3RpbmdDUz0hMDt2YXIgaT1MLmpvaW5JbmZvJiZMLmpvaW5JbmZvLnNpZDswLE9iamVjdChBLmdldEdhdGV3YXlMaXN0KShMLmpvaW5JbmZvLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHNlc3Npb246ICBcIikuY29uY2F0KGksXCIgZ2V0IGdhdGV3YXkgbGlzdCBzdWNjZXNzXCIpKSxMLmpvaW5JbmZvLmFwUmVzcG9uc2U9ZS5yZXMsTC5yZWNvbm5lY3RpbmdDUz9MLnNvY2tldC5yZXBsYWNlSG9zdChlLmdhdGV3YXlfYWRkcik6di5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzZXNzaW9uOiAgXCIpLmNvbmNhdChpLFwiIGFscmVhZHkgbGVhdmVcIikpfSkpfX1lbHNlIG89ZS5nYXRld2F5QWRkcixMLnNvY2tldD1UKG8se3NpZDpMLmpvaW5JbmZvLnNpZCxjbGllbnRJZDpMLmNsaWVudElkLHByb3h5U2VydmVyVHlwZTpMLmpvaW5JbmZvLnByb3h5U2VydmVyVHlwZX0pLEwuc29ja2V0Lm9uKFwic3RhcnQtY29ubmVjdGlvblwiLChmdW5jdGlvbihlKXtMLnRpY2tldD1lJiZlLm1zZyYmZS5tc2cudGlja2V0fSkpLEwuc29ja2V0Lm9uKFwib25fdXBsaW5rX3N0YXRzXCIsKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbTShuKV09ZVtuXTtpZihMLk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoPXQudXBsaW5rX2F2YWlsYWJsZV9iYW5kd2lkdGgsTC5sb2NhbFN0cmVhbXNbTC51aWRdKXt2YXIgcj1MLmxvY2FsU3RyZWFtc1tMLnVpZF0udXBsaW5rU3RhdHM7ciYmci5wZXJpb2RfZmlyPT09dC5wZXJpb2RfZmlyfHx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdOiBQZXJpb2QgZmlyIGNoYW5nZSB0bzogXCIpLmNvbmNhdCh0LnBlcmlvZF9maXIpKSxMLmxvY2FsU3RyZWFtc1tMLnVpZF0udXBsaW5rU3RhdHM9dH19KSksTC5zb2NrZXQub24oXCJjb25uZWN0XCIsKGZ1bmN0aW9uKCl7TC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiY29ubmVjdGVkXCJ9KSxMLmF0dGVtcHM9MSxMLm9uQ29ubmVjdCgpfSkpLEwuc29ja2V0Lm9uKFwicmVjb3ZlclwiLChmdW5jdGlvbigpe0wuc3RhdGU9Xyx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFRyeSB0byByZWNvbm5lY3QgY2hvb3NlIHNlcnZlciBhbmQgZ2V0IGdhdGV3YXkgbGlzdCBhZ2FpbiBcIikpLEwucmVjb25uZWN0aW5nQ1M9ITA7dmFyIGU9TC5qb2luSW5mbyYmTC5qb2luSW5mby5zaWQ7T2JqZWN0KEEuZ2V0R2F0ZXdheUxpc3QpKEwuam9pbkluZm8sKGZ1bmN0aW9uKHQpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc2Vzc2lvbjogIFwiKS5jb25jYXQoZSxcIiBnZXQgZ2F0ZXdheSBsaXN0IHN1Y2Nlc3NcIikpLEwucmVjb25uZWN0aW5nQ1M/TC5zb2NrZXQucmVwbGFjZUhvc3QodC5nYXRld2F5X2FkZHIpOnYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc2Vzc2lvbjogIFwiKS5jb25jYXQoZSxcIiBhbHJlYWR5IGxlYXZlXCIpKX0pKX0pKSxMLnNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwoZnVuY3Rpb24oZSl7aWYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZWNlaXZlIGRpc2Nvbm5lY3QgbWVzc2FnZVwiKSksTC5zdGF0ZSE9PWYpe0wuc3RhdGU9ZixMLl9yZXBvcnRXZWJzb2NrZXRDbG9zZUV2ZW50KC0xLGIuV0VCU09DS0VUX0NMT1NFX1JFQVNPTi5XU19ESVNDT05ORUNUKTt2YXIgdD1PYmplY3QobS5lKSh7dHlwZTpcImVycm9yXCIscmVhc29uOmIuZGVmYXVsdC5TT0NLRVRfRElTQ09OTkVDVEVEfSk7aWYoTC5kaXNwYXRjaEV2ZW50KHQpLDA9PT1MLnAycHMuc2l6ZT9MLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCI6TC5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIixCKCksTC5jaGFubmVsTWVkaWFSZWxheUNvbnRyb2xsZXImJkwuY2hhbm5lbE1lZGlhUmVsYXlDb250cm9sbGVyLmRpc3Bvc2UoKSxMLmNoYW5uZWxNZWRpYVJlbGF5Q29udHJvbGxlcj1udWxsLDEhPXIpe3ZhciBuLGk9KG49TC5hdHRlbXBzLDFlMypNYXRoLm1pbigzMCxNYXRoLnBvdygyLG4pLTEpKTtpZih2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIERpc2Nvbm5lY3QgZnJvbSBzZXJ2ZXIgW1wiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSksXCJdLCBhdHRlbXB0IHRvIHJlY292ZXIgWyNcIikuY29uY2F0KEwuYXR0ZW1wcyxcIl0gYWZ0ZXIgXCIpLmNvbmNhdChpLzFlMyxcIiBzZWNvbmRzXCIpKSxMLmhhc0ludm9rZUxlYXZlKXJldHVybiB2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIE5vIHJlY29ubmVjdGlvbiBiZWNhdXNlIENsaWVudC5sZWF2ZSBoYXMgYmVlbiBpbnZva2VkXCIpKSx2b2lkKEwuaGFzSW52b2tlTGVhdmU9ITEpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7TC5hdHRlbXBzKyssTC5zdGF0ZT1fLEwuaW5DaGFubmVsSW5mbyYmRGF0ZS5ub3coKS1MLmluQ2hhbm5lbEluZm8uam9pbkF0Pk9iamVjdCh5LmdldFBhcmFtZXRlcikoXCJUSUNLRVRfUkVORVdfVElNRU9VVFwiKT8odi5kZWZhdWx0LmRlYnVnKFwiUmVjb3ZlcmluZyB0byByZW5ldyB0aWNrZXRcIiksaigpKTpGKCl9KSxpKX1lbHNle3ZhciBvPVYudW5yZWdpc3RlcihMKTtvJiZ2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFwiKSxvKX19fSkpLEwuc29ja2V0Lm9uKFwib25fYWRkX2F1ZGlvX3N0cmVhbVwiLChmdW5jdGlvbihlKXtpZih2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gTmV3bHkgYWRkZWQgYXVkaW8gc3RyZWFtIHdpdGggdWlkIFwiKS5jb25jYXQoZS51aWQpKSxMLmpvaW5JbmZvLnN0cmluZ1VpZCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZ2LmRlZmF1bHQuZXJyb3IoXCJTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpLEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5oYXMoZS51aWQpfHxMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuYWRkKGUudWlkKSx2b2lkIDA9PT1MLnJlbW90ZVN0cmVhbXNbZS51aWRdKXt2YXIgdD1PYmplY3QoZy5hKSh7c3RyZWFtSUQ6ZS51aWQsbG9jYWw6ITEsYXVkaW86ZS5hdWRpbyx2aWRlbzplLnZpZGVvLHVpbnRVSUQ6ZS51aW50X2lkfHxlLnVpZH0pO3QucGVlck11dGVWaWRlbz0hMCxMLnJlbW90ZVN0cmVhbXNbZS51aWRdPXQ7dmFyIG49T2JqZWN0KG0uZSkoe3R5cGU6XCJzdHJlYW0tYWRkZWRcIixzdHJlYW06dH0pO0wuZGlzcGF0Y2hFdmVudChuKTt2YXIgcj1MLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF07aWYociYmci5hdWRpbyl7bj1PYmplY3QobS5hKSh7dHlwZTpcIm11dGUtYXVkaW9cIix1aWQ6ZS51aWR9KTtMLmRpc3BhdGNoRXZlbnQobil9aWYociYmci52aWRlbyl7bj1PYmplY3QobS5hKSh7dHlwZTpcIm11dGUtdmlkZW9cIix1aWQ6ZS51aWR9KTtMLmRpc3BhdGNoRXZlbnQobil9fUUucmVwb3J0Lm9uQWRkQXVkaW9TdHJlYW0oTC5qb2luSW5mby5zaWQse3BlZXJpZDplLnVpbnRfaWR8fGUudWlkLHVpZDpMLnVpZH0pfSkpLEwuc29ja2V0Lm9uKFwib25fdXBkYXRlX3N0cmVhbVwiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gb25fdXBkYXRlX3N0cmVhbTpcIiksZSk7dmFyIHQ9TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtpZihMLmpvaW5JbmZvLnN0cmluZ1VpZCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZ2LmRlZmF1bHQuZXJyb3IoXCJTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpLHQpe3QuYXVkaW89ZS5hdWRpbyx0LnZpZGVvPWUudmlkZW8sdC5zY3JlZW49ZS5zY3JlZW4sdC5wYyYmTC5fYWRqdXN0UENNdXRlU3RhdHVzKHQpO3ZhciBuPU9iamVjdChtLmUpKHt0eXBlOlwic3RyZWFtLXVwZGF0ZWRcIixzdHJlYW06dH0pO0wuZGlzcGF0Y2hFdmVudChuKX1lbHNlIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gSWdub3Jpbmcgb25VcGRhdGVTdHJlYW0gZXZlbnQgYmVmb3JlIG9uQWRkU3RyZWFtIGZvciB1aWQgXCIpLmNvbmNhdChlLnVpZCkpO0UucmVwb3J0Lm9uVXBkYXRlU3RyZWFtKEwuam9pbkluZm8uc2lkLHtwZWVyaWQ6ZS51aW50X2lkfHxlLnVpZCxhdWRpbzplLmF1ZGlvLHZpZGVvOmUudmlkZW8sdWlkOkwudWlkfSl9KSksTC5zb2NrZXQub24oXCJvbl9hZGRfdmlkZW9fc3RyZWFtXCIsKGZ1bmN0aW9uKGUpe2lmKHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBOZXdseSBhZGRlZCByZW1vdGUgc3RyZWFtIHdpdGggdWlkIFwiKS5jb25jYXQoZS51aWQsXCIuXCIpKSxMLmpvaW5JbmZvLnN0cmluZ1VpZCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZ2LmRlZmF1bHQuZXJyb3IoXCJTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpLEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5oYXMoZS51aWQpfHxMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuYWRkKGUudWlkKSx2b2lkIDA9PT1MLnJlbW90ZVN0cmVhbXNbZS51aWRdKXt2YXIgdD1PYmplY3QoZy5hKSh7c3RyZWFtSUQ6ZS51aWQsbG9jYWw6ITEsYXVkaW86ZS5hdWRpbyx2aWRlbzplLnZpZGVvLHVpbnRVSUQ6ZS51aW50X2lkfHxlLnVpZH0pO0wucmVtb3RlU3RyZWFtc1tlLnVpZF09dDt2YXIgbj1PYmplY3QobS5lKSh7dHlwZTpcInN0cmVhbS1hZGRlZFwiLHN0cmVhbTp0fSk7TC5kaXNwYXRjaEV2ZW50KG4pO3ZhciByPUwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXTtpZihyJiZyLmF1ZGlvKXtuPU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS1hdWRpb1wiLHVpZDplLnVpZH0pO0wuZGlzcGF0Y2hFdmVudChuKX1pZihyJiZyLnZpZGVvKXtuPU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS12aWRlb1wiLHVpZDplLnVpZH0pO0wuZGlzcGF0Y2hFdmVudChuKX19ZWxzZXt2YXIgaT1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO2lmKGkudmlkZW89ITAsaS5wZWVyTXV0ZVZpZGVvPSExLGkucGMmJkwuX2FkanVzdFBDTXV0ZVN0YXR1cyhpKSx2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gU3RyZWFtIGNoYW5nZWQ6IGVuYWJsZSB2aWRlbyBcIikuY29uY2F0KGUudWlkKSksdm9pZCAwIT09aS5zdHJlYW0mJmkuaXNQbGF5aW5nKCkpe3ZhciBvPWkucGxheWVyLmVsZW1lbnRJRDtpLnN0b3AoKSxpLnBsYXkobyxpLnBsYXlPcHRpb25zKX19RS5yZXBvcnQub25BZGRWaWRlb1N0cmVhbShMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludF9pZHx8ZS51aWQsdWlkOkwudWlkfSl9KSksTC5zb2NrZXQub24oXCJvbl9yZW1vdmVfc3RyZWFtXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBvbl9yZW1vdmVfc3RyZWFtOlwiKSxlKSxMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuaGFzKGUudWlkKSYmTC5yZW1vdGVTdHJlYW1zSW5DaGFubmVsLmRlbGV0ZShlLnVpZCk7dmFyIHQ9TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtpZih0KXtkZWxldGUgTC5yZW1vdGVTdHJlYW1zW2UudWlkXSxkZWxldGUgTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdO3ZhciBuPU9iamVjdChtLmUpKHt0eXBlOlwic3RyZWFtLXJlbW92ZWRcIixzdHJlYW06dH0pO0wuZGlzcGF0Y2hFdmVudChuKSx0LmNsb3NlKCksdm9pZCAwIT09dC5wYyYmKHQucGMuY2xvc2UoKSx0LnBjPXZvaWQgMCxMLnAycHMuZGVsZXRlKHQucDJwSWQpKSxFLnJlcG9ydC5vblJlbW92ZVN0cmVhbShMLmpvaW5JbmZvLnNpZCx7cGVlcmlkOmUudWludF9pZHx8ZS51aWQsdWlkOkwudWlkfSl9ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJFUlJPUiBzdHJlYW0gXCIsZS51aWQsXCIgbm90IGZvdW5kIG9uUmVtb3ZlU3RyZWFtIFwiLGUpfSkpLEwuc29ja2V0Lm9uKFwib25fcHVibGlzaF9zdHJlYW1cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIG9uX3B1Ymxpc2hfc3RyZWFtOlwiKSxlKTt2YXIgdD1MLmxvY2FsU3RyZWFtc1tlLnVpZF07TC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtUHVibGlzaGVkXCIsc3RyZWFtOnQscHJveHk6ZS5wcm94eX0pLEUucmVwb3J0LnJlcG9ydEFwaUludm9rZShMLmpvaW5JbmZvLnNpZCx7bmFtZTpcIm9uX3B1Ymxpc2hfc3RyZWFtXCIsb3B0aW9uczp7cHJveHk6ZS5wcm94eX19KSgpfSkpLEwuc29ja2V0Lm9uKFwibXV0ZV9hdWRpb1wiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcmN2IHBlZXIgbXV0ZSBhdWRpbzogXCIpLmNvbmNhdChlLnVpZCkpLEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXT1MLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF18fHthdWRpbzohMSx2aWRlbzohMX0sTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdLmF1ZGlvPSEwO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwibXV0ZS1hdWRpb1wiLHVpZDplLnVpZH0pLG49TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtuPyhuLnBlZXJNdXRlQXVkaW89ITAsbi5wYyYmTC5fYWRqdXN0UENNdXRlU3RhdHVzKG4pLEwuZGlzcGF0Y2hFdmVudCh0KSk6di5kZWZhdWx0LmRlYnVnKFwiSWdub3JpbmcgZXZlbnQgXCIuY29uY2F0KGUudHlwZSksZSl9KSksTC5zb2NrZXQub24oXCJ1bm11dGVfYXVkaW9cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJjdiBwZWVyIHVubXV0ZSBhdWRpbzogXCIpLmNvbmNhdChlLnVpZCkpLEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXT1MLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF18fHthdWRpbzohMSx2aWRlbzohMX0sTC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdLmF1ZGlvPSExO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwidW5tdXRlLWF1ZGlvXCIsdWlkOmUudWlkfSksbj1MLnJlbW90ZVN0cmVhbXNbZS51aWRdO24/KG4ucGVlck11dGVBdWRpbz0hMSxuLnBjJiZMLl9hZGp1c3RQQ011dGVTdGF0dXMobiksTC5kaXNwYXRjaEV2ZW50KHQpKTp2LmRlZmF1bHQuZGVidWcoXCJJZ25vcmluZyBldmVudCBcIi5jb25jYXQoZS50eXBlKSxlKX0pKSxMLnNvY2tldC5vbihcIm11dGVfdmlkZW9cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJjdiBwZWVyIG11dGUgdmlkZW86IFwiKS5jb25jYXQoZS51aWQpKSxMLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF09TC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdfHx7YXVkaW86ITEsdmlkZW86ITF9LEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXS52aWRlbz0hMDt2YXIgdD1PYmplY3QobS5hKSh7dHlwZTpcIm11dGUtdmlkZW9cIix1aWQ6ZS51aWR9KSxuPUwucmVtb3RlU3RyZWFtc1tlLnVpZF07bj8obi5wZWVyTXV0ZVZpZGVvPSEwLG4ucGxheWVyJiYobi5wbGF5ZXIucGVlclZpZGVvUmVhZHk9ITEpLG4ucGMmJkwuX2FkanVzdFBDTXV0ZVN0YXR1cyhuKSxMLmRpc3BhdGNoRXZlbnQodCkpOnYuZGVmYXVsdC5kZWJ1ZyhcIklnbm9yaW5nIGV2ZW50IFwiLmNvbmNhdChlLnR5cGUpLGUpfSkpLEwuc29ja2V0Lm9uKFwidW5tdXRlX3ZpZGVvXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSByY3YgcGVlciB1bm11dGUgdmlkZW86IFwiKS5jb25jYXQoZS51aWQpKSxMLnJlbW90ZU11dGVTdGF0ZVtlLnVpZF09TC5yZW1vdGVNdXRlU3RhdGVbZS51aWRdfHx7YXVkaW86ITEsdmlkZW86ITF9LEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXS52aWRlbz0hMTt2YXIgdD1PYmplY3QobS5hKSh7dHlwZTpcInVubXV0ZS12aWRlb1wiLHVpZDplLnVpZH0pLG49TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtuPyhuLnBlZXJNdXRlVmlkZW89ITEsbi5wYyYmTC5fYWRqdXN0UENNdXRlU3RhdHVzKG4pLEwuZGlzcGF0Y2hFdmVudCh0KSk6di5kZWZhdWx0LmRlYnVnKFwiSWdub3JpbmcgZXZlbnQgXCIuY29uY2F0KGUudHlwZSksZSl9KSksTC5zb2NrZXQub24oXCJvbl9jcnlwdF9lcnJvclwiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc3RyZWFtIGNyeXB0IGVycm9yXCIpKTt2YXIgdD1PYmplY3QobS5hKSh7dHlwZTpcImNyeXB0LWVycm9yXCIsY3J5cHRUeXBlOmUuY3J5cHRfdHlwZX0pO0wuZGlzcGF0Y2hFdmVudCh0KX0pKSxMLnNvY2tldC5vbihcIm9uX3VzZXJfYmFubmVkXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSB1c2VyIGJhbm5lZCB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3I6IFwiKS5jb25jYXQoZS5lcnJvcl9jb2RlKSk7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJjbGllbnQtYmFubmVkXCIsdWlkOmUudWlkLGF0dHI6ZS5lcnJvcl9jb2RlfSk7TC5kaXNwYXRjaEV2ZW50KHQpLHI9ITB9KSksTC5zb2NrZXQub24oXCJvbl9zdHJlYW1fZmFsbGJhY2tfdXBkYXRlXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBzdHJlYW0gZmFsbGJhY2sgcGVlcklkOiBcIikuY29uY2F0KGUuc3RyZWFtX2lkLFwiIHR5cGU6IFwiKS5jb25jYXQoZS5zdHJlYW1fdHlwZSkpO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwic3RyZWFtLWZhbGxiYWNrXCIsdWlkOmUuc3RyZWFtX2lkLHN0cmVhbTplLnN0cmVhbV9pZCxhdHRyOmUuc3RyZWFtX3R5cGV9KTtMLmRpc3BhdGNoRXZlbnQodCl9KSksTC5zb2NrZXQub24oXCJzdHJlYW1fcmVjb3ZlclwiLChmdW5jdGlvbihlKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gc3RyZWFtIHJlY292ZXIgdWlkOiBcIikuY29uY2F0KGUuaWQsXCIgcGVlcklkOiBcIikuY29uY2F0KGUucGVlcmlkLFwiIHR5cGU6IFwiKS5jb25jYXQoZS50eXBlKSk7dmFyIHQ9T2JqZWN0KG0uYSkoe3R5cGU6XCJzdHJlYW0tcmVjb3ZlclwiLHVpZDplLmlkLHN0cmVhbTplLnBlZXJpZCxhdHRyOmUudHlwZX0pO0wuZGlzcGF0Y2hFdmVudCh0KX0pKSxMLnNvY2tldC5vbihcIm9uX3AycF9sb3N0XCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gcDJwbG9zdDogXCIpLGUsXCJwMnBzOlwiLEwucDJwcyk7dmFyIHQsbj1cIkRUTFMgZmFpbGVkXCI7KHQ9TC5sb2NhbFN0cmVhbXNbZS51aWRdfHxMLnJlbW90ZVN0cmVhbXNbZS51aWRdKT8odC5wYyYmdC5wYy5vZmZlckNhbmRpZGF0ZXMmJjA9PT10LnBjLm9mZmVyQ2FuZGlkYXRlcy5sZW5ndGgmJihuPVwiTk9fQ0FORElEQVRFU19JTl9PRkZFUlwiKSxcInB1Ymxpc2hcIj09PWUuZXZlbnQmJkUucmVwb3J0LnB1Ymxpc2goTC5qb2luSW5mby5zaWQse2x0czp0LnB1Ymxpc2hMVFMsc3VjYzohMSxhdWRpbzp0Lmhhc0F1ZGlvKCksdmlkZW86dC5oYXNWaWRlbygpLHNjcmVlbnNoYXJlOnQuaGFzU2NyZWVuKCksYXVkaW9OYW1lOnQuaGFzQXVkaW8oKSYmdC5hdWRpb05hbWUsdmlkZW9OYW1lOnQuaGFzVmlkZW8oKSYmdC52aWRlb05hbWUsc2NyZWVuTmFtZTp0Lmhhc1NjcmVlbigpJiZ0LnNjcmVlbk5hbWUsZWM6bixwdWJsaXNoUmVxdWVzdGlkOkwucHVibGlzaFJlcXVlc3RJZHx8MCxwMnBpZDpMLnAycHMuZ2V0KHQuZ2V0SWQoKSl9KSxcInN1YnNjcmliZVwiPT09ZS5ldmVudCYmRS5yZXBvcnQuc3Vic2NyaWJlKEwuam9pbkluZm8uc2lkLHtsdHM6dC5zdWJzY3JpYmVMVFMsc3VjYzohMSx2aWRlbzp0LnN1YnNjcmliZU9wdGlvbnMmJnQuc3Vic2NyaWJlT3B0aW9ucy52aWRlbyxhdWRpbzp0LnN1YnNjcmliZU9wdGlvbnMmJnQuc3Vic2NyaWJlT3B0aW9ucy5hdWRpbyxwZWVyaWQ6ZS51aWQrXCJcIixlYzpuLHN1YnNjcmliZVJlcXVlc3RpZDpMLnN1YnNjcmliZVJlcXVlc3RJZC5nZXQodC5nZXRJZCgpKXx8MCxwMnBpZDpMLnAycHMuZ2V0KHQuZ2V0SWQoKSl9KSk6di5kZWZhdWx0Lndhcm5pbmcoXCJQMlBMb3N0IFN0cmVhbSBOb3QgZm91bmRcIixlKSx2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHAycGxvc3Q6XCIpLGUucDJwaWQpLCh0PUwucDJwcy5nZXQoZS5wMnBpZCkpJiYoTC5wMnBzLmRlbGV0ZShlLnAycGlkKSx0LmxvY2FsP0wuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInB1YlAyUExvc3RcIixzdHJlYW06dCxhdHRyOm59KSk6TC5yZW1vdGVTdHJlYW1zW3QuZ2V0SWQoKV0mJkwuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcInN1YlAyUExvc3RcIixzdHJlYW06dCxhdHRyOm59KSkpfSkpLEwuc29ja2V0Lm9uKFwib25fdG9rZW5fcHJpdmlsZWdlX3dpbGxfZXhwaXJlXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmVjZWl2ZWQgTWVzc2FnZSBvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZVwiKSksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwib25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmVcIn0pKX0pKSxMLnNvY2tldC5vbihcIm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsKGZ1bmN0aW9uKCl7di5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIFJlY2VpdmVkIE1lc3NhZ2Ugb25Ub2tlblByaXZpbGVnZURpZEV4cGlyZSwgcGxlYXNlIGdldCBuZXcgdG9rZW4gYW5kIGpvaW4gYWdhaW5cIikpLEwuY2xvc2VHYXRld2F5KCksTC5kaXNwYXRjaEV2ZW50KE9iamVjdChtLmEpKHt0eXBlOlwib25Ub2tlblByaXZpbGVnZURpZEV4cGlyZVwifSkpfSkpLEwuc29ja2V0Lm9uKFwiZW5hYmxlX2xvY2FsX3ZpZGVvXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBlbmFibGVfbG9jYWxfdmlkZW86XCIpLGUpLEwuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcImVuYWJsZS1sb2NhbC12aWRlb1wiLHVpZDplLnVpZH0pKX0pKSxMLnNvY2tldC5vbihcImRpc2FibGVfbG9jYWxfdmlkZW9cIiwoZnVuY3Rpb24oZSl7di5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIGRpc2FibGVfbG9jYWxfdmlkZW86XCIpLGUpLEwuZGlzcGF0Y2hFdmVudChPYmplY3QobS5hKSh7dHlwZTpcImRpc2FibGUtbG9jYWwtdmlkZW9cIix1aWQ6ZS51aWR9KSl9KSksTC5fZG9XaXRoQWN0aW9uPWZ1bmN0aW9uKGUsdCxuKXtcInRyeU5leHRcIj09PWU/ZnVuY3Rpb24oZSx0KXt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIENvbm5lY3QgbmV4dCBnYXRld2F5XCIpKSxMLnN0YXRlPWYsTC5zb2NrZXQuY2xvc2UoKSxCKCksTC5yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLEwuc3RhdGU9XyxGKGUsdCl9KHQsbik6XCJyZXRyeVwiPT09ZT9mdW5jdGlvbihlLHQpe3YuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IGdhdGV3YXlcIikpLEwuc3RhdGU9ZixMLnNvY2tldC5jbG9zZSgpLEIoKSxMLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLEwuc3RhdGU9XyxGKGUsdCl9KHQsbik6XCJxdWl0XCI9PT1lPyh2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHF1aXQgZ2F0ZXdheVwiKSksTC5zdGF0ZT1mLEwuc29ja2V0LmNsb3NlKCksQigpKTpcInJlY292ZXJcIj09PWUmJmooKX0sTC5zb2NrZXQub24oXCJvbl9ub3RpZmljYXRpb25cIiwoZnVuY3Rpb24oZSl7aWYodi5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBSZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpLFwiRVJSX0pPSU5fQllfTVVMVElfSVBcIj09PWIuR2F0ZXdheUVycm9yQ29kZVtlLmNvZGVdKXJldHVybiBMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJvbk11bHRpSVBcIixvcHRpb246ZS5vcHRpb259KTtlLmRldGFpbD9MLl9kb1dpdGhBY3Rpb24oQ1tiLkdhdGV3YXlFcnJvckNvZGVbZS5jb2RlXV0pOmUuYWN0aW9uJiZMLl9kb1dpdGhBY3Rpb24oZS5hY3Rpb24pfSkpLEwuc29ja2V0Lm9uKFwib25fdXNlcl9vZmZsaW5lXCIsKGZ1bmN0aW9uKGUpe3YuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSBvbl91c2VyX29mZmxpbmU6XCIpLGUpO3ZhciB0PU9iamVjdChtLmEpKHt0eXBlOlwicGVlci1sZWF2ZVwiLHVpZDplLnVpZH0pO2lmKEwucmVtb3RlU3RyZWFtc0luQ2hhbm5lbC5oYXMoZS51aWQpJiZMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuZGVsZXRlKGUudWlkKSxMLnJlbW90ZVN0cmVhbXMuaGFzT3duUHJvcGVydHkoZS51aWQpJiYodC5zdHJlYW09TC5yZW1vdGVTdHJlYW1zW2UudWlkXSksdC5yZWFzb249ZS5yZWFzb24sTC5kaXNwYXRjaEV2ZW50KHQpLHYuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdChMLmNsaWVudElkLFwiXSByZW1vdmUgcmVtb3RlTXV0ZVN0YXRlIFwiKSxlLnVpZCksZGVsZXRlIEwucmVtb3RlTXV0ZVN0YXRlW2UudWlkXSxMLnJlbW90ZVN0cmVhbXMuaGFzT3duUHJvcGVydHkoZS51aWQpKXt2LmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gY2xvc2luZyBzdHJlYW0gb24gcGVlciBsZWF2ZVwiKSxlLnVpZCk7dmFyIG49TC5yZW1vdGVTdHJlYW1zW2UudWlkXTtuLmNsb3NlKCksZGVsZXRlIEwucmVtb3RlU3RyZWFtc1tlLnVpZF0sRS5yZXBvcnQub25SZW1vdmVTdHJlYW0oTC5qb2luSW5mby5zaWQse3BlZXJpZDplLnVpbnRfaWR8fGUudWlkLHVpZDpMLnVpZH0pLHZvaWQgMCE9PW4ucGMmJihuLnBjLmNsb3NlKCksbi5wYz12b2lkIDAsTC5wMnBzLmRlbGV0ZShuLnAycElkKSl9TC50aW1lcnMuaGFzT3duUHJvcGVydHkoZS51aWQpJiYoY2xlYXJJbnRlcnZhbChMLnRpbWVyc1tlLnVpZF0pLGNsZWFySW50ZXJ2YWwoTC50aW1lcnNbZS51aWRdK1wiX1JlbGF0ZWRTdGF0c1wiKSxkZWxldGUgTC50aW1lcnNbZS51aWRdKSxudWxsIT1MLmF1ZGlvTGV2ZWxbZS51aWRdJiZkZWxldGUgTC5hdWRpb0xldmVsW2UudWlkXSxudWxsIT1MLnRpbWVyX2NvdW50ZXJbZS51aWRdJiZkZWxldGUgTC50aW1lcl9jb3VudGVyW2UudWlkXX0pKSxMLnNvY2tldC5vbihcIm9uVXBsaW5rU3RhdHNcIiwoZnVuY3Rpb24oZSl7fSkpLEwuc29ja2V0Lm9uKFwibGl2ZVN0cmVhbWluZ1N0YXJ0ZWRcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYykoe3R5cGU6XCJsaXZlU3RyZWFtaW5nU3RhcnRlZFwiLHVybDplLnVybH0pO0wuZGlzcGF0Y2hFdmVudCh0KX0pKSxMLnNvY2tldC5vbihcImxpdmVTdHJlYW1pbmdGYWlsZWRcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYykoe3R5cGU6XCJsaXZlU3RyZWFtaW5nRmFpbGVkXCIsdXJsOmUudXJsfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwibGl2ZVN0cmVhbWluZ1N0b3BwZWRcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYykoe3R5cGU6XCJsaXZlU3RyZWFtaW5nU3RvcHBlZFwiLHVybDplLnVybH0pO0wuZGlzcGF0Y2hFdmVudCh0KX0pKSxMLnNvY2tldC5vbihcImxpdmVUcmFuc2NvZGluZ1VwZGF0ZWRcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYykoe3R5cGU6XCJsaXZlVHJhbnNjb2RpbmdVcGRhdGVkXCIscmVhc29uOmUucmVhc29ufSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwic3RyZWFtSW5qZWN0ZWRTdGF0dXNcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG0uYykoe3R5cGU6XCJzdHJlYW1JbmplY3RlZFN0YXR1c1wiLHVybDplLnVybCx1aWQ6ZS51aWQsc3RhdHVzOmUuc3RhdHVzfSk7TC5kaXNwYXRjaEV2ZW50KHQpfSkpLEwuc29ja2V0Lm9uKFwib25fdXNlcl9vbmxpbmVcIiwoZnVuY3Rpb24oZSl7TC5qb2luSW5mby5zdHJpbmdVaWQmJlwic3RyaW5nXCIhPXR5cGVvZiBlLnVpZCYmdi5kZWZhdWx0LmVycm9yKFwiU3RyaW5nVUlEIGlzIE1peGVkIHdpdGggVWludFVJRFwiKSxMLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJwZWVyLW9ubGluZVwiLHVpZDplLnVpZH0pfSkpLEwuc29ja2V0Lm9uKFwicmVjZWl2ZV9tZXRhZGF0YVwiLChmdW5jdGlvbihlKXtMLmpvaW5JbmZvLnN0cmluZ1VpZCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZ2LmRlZmF1bHQuZXJyb3IoXCJTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpO3ZhciB0PWRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUod2luZG93LmF0b2IoZS5tZXRhZGF0YSkpKTt2LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIHJlY2VpdmVkIFwiKS5jb25jYXQoZS51aWQsXCIgbWV0YWRhdGE6IFwiKS5jb25jYXQodCkpLEwuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInJlY2VpdmUtbWV0YWRhdGFcIix1aWQ6ZS51aWQsbWV0YWRhdGE6dH0pfSkpO3ZhciBvfSxHPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09TC5zb2NrZXQpdHJ5e0wuc29ja2V0LmVtaXRTaW1wbGVNZXNzYWdlKGUsKGZ1bmN0aW9uKGUsbil7dCYmdChlLG4pfSkpfWNhdGNoKGUpe3YuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoTC5jbGllbnRJZCxcIl0gRXJyb3IgaW4gc2VuZFNpbXBsZVNkcCBbXCIpLmNvbmNhdChlLFwiXVwiKSl9ZWxzZSB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KEwuY2xpZW50SWQsXCJdIEVycm9yIGluIHNlbmRTaW1wbGVTZHAgW3NvY2tldCBub3QgcmVhZHldXCIpKX0sSD1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBMLmxvY2FsU3RyZWFtcylpZih2b2lkIDAhPT1MLmxvY2FsU3RyZWFtc1tlXSl7dmFyIHQ9TC5sb2NhbFN0cmVhbXNbZV07ZGVsZXRlIEwubG9jYWxTdHJlYW1zW2VdLHZvaWQgMCE9PXQucGMmJih0LnBjLmNsb3NlKCksdC5wYz12b2lkIDApfX0scT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBMLnJlbW90ZVN0cmVhbXNJbkNoYW5uZWwuY2xlYXIoKSxMLnJlbW90ZVN0cmVhbXMpaWYoTC5yZW1vdGVTdHJlYW1zLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1MLnJlbW90ZVN0cmVhbXNbZV07dC5pc1BsYXlpbmcoKSYmdC5zdG9wKCksdC5jbG9zZSgpLGRlbGV0ZSBMLnJlbW90ZVN0cmVhbXNbZV0sdm9pZCAwIT09dC5wYyYmKHQucGMuY2xvc2UoKSx0LnBjPXZvaWQgMCl9fTtyZXR1cm4gTH0sVj17X2dhdGV3YXlDbGllbnRzOnt9LHJlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7aWYoIXQudWlkKXt2YXIgbj1cIk5PX1VJRF9QUk9WSURFRFwiO3JldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFwiKSxuLHQpLG59aWYodC5jbmFtZSl7aWYodGhpcy5fZ2F0ZXdheUNsaWVudHNbdC5jbmFtZV0mJnRoaXMuX2dhdGV3YXlDbGllbnRzW3QuY25hbWVdW3QudWlkXSYmdGhpcy5fZ2F0ZXdheUNsaWVudHNbdC5jbmFtZV1bdC51aWRdIT09ZSl7bj1cIlVJRF9DT05GTElDVFwiO3JldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFwiKSxuLHQpLG59cmV0dXJuIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gcmVnaXN0ZXIgY2xpZW50IENoYW5uZWxcIiksdC5jbmFtZSxcIlVpZFwiLHQudWlkKSx0aGlzLl9nYXRld2F5Q2xpZW50c1t0LmNuYW1lXXx8KHRoaXMuX2dhdGV3YXlDbGllbnRzW3QuY25hbWVdPXt9KSx0aGlzLl9nYXRld2F5Q2xpZW50c1t0LmNuYW1lXVt0LnVpZF09ZSxudWxsfXZhciBuPVwiTk9fQ0hBTk5FTF9QUk9WSURFRFwiO3JldHVybiB2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFwiKSxuLHQpLG59LHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS51aWQsbj1lLmpvaW5JbmZvJiZlLmpvaW5JbmZvLmNuYW1lO2lmKCF0fHwhbil7dmFyIHI9XCJJTlZBTElEX0dBVEVXQVlDTElFTlRcIjtyZXR1cm4gdi5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBcIikscikscn1pZih0aGlzLl9nYXRld2F5Q2xpZW50c1tuXSYmdGhpcy5fZ2F0ZXdheUNsaWVudHNbbl1bdF0pe2lmKHRoaXMuX2dhdGV3YXlDbGllbnRzW25dW3RdIT09ZSl7cj1cIkdBVEVXQVlDTElFTlRfVUlEX0NPTkZMSUNUXCI7cmV0dXJuIHYuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gXCIpLHIpLHJ9cmV0dXJuIHYuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gdW5yZWdpc3RlciBjbGllbnQgXCIpLGUudWlkKSxkZWxldGUgdGhpcy5fZ2F0ZXdheUNsaWVudHNbbl1bdF0sbnVsbH12YXIgcj1cIkdBVEVXRUFZX0NMSUVOVF9VTlJFR0lTVEVSRURcIjt2LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFwiKSxyKX19O2ouRElTQ09OTkVDVEVEPTAsai5DT05ORUNUSU5HPTEsai5DT05ORUNURUQ9MixqLkRJU0NPTk5FQ1RJTkc9MyxqLmNvbm5ldGlvblN0YXRlTWFwPXswOlwiRElTQ09OTkVDVEVEXCIsMTpcIkNPTk5FQ1RJTkdcIiwyOlwiQ09OTkVDVEVEXCIsMzpcIkRJU0NPTk5FQ1RJTkdcIn07bi5hPWp9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJwb3N0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsXCJwb3N0Rm9ybURhdGFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCxcInNob3VsZFVzZUh0dHBzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsXCJnZXRIVFRQU2VuZEJ5dGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJnZXRIVFRQUmVjdkJ5dGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsXCJyZXNldEhUVFBCeWV0c0NvdW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIHI9bigyKSxpPW4oMTApLG89MCxhPTAscz1mdW5jdGlvbigpe3JldHVybiBvfSxjPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LGQ9ZnVuY3Rpb24oKXtvPTAsYT0wfSx1PWZ1bmN0aW9uKGUsdCxuLHMsYyl7dmFyIGQ9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGQudGltZW91dD10LnRpbWVvdXR8fE9iamVjdChyLmdldFBhcmFtZXRlcikoXCJIVFRQX0NPTk5FQ1RfVElNRU9VVFwiKSxkLm9wZW4oXCJQT1NUXCIsZSwhMCksYylmb3IodmFyIHUgaW4gYylcIndpdGhDcmVkZW50aWFsc1wiPT11P2Qud2l0aENyZWRlbnRpYWxzPSEwOmQuc2V0UmVxdWVzdEhlYWRlcih1LGNbdV0pO2Qub25sb2FkPWZ1bmN0aW9uKHQpe2ErPU9iamVjdChpLmxlbmd0aEluVXRmOEJ5dGVzKShkLnJlc3BvbnNlVGV4dCksMjAwIT09ZC5zdGF0dXM/cyYmcyh7aHR0cEVycm9yQ29kZTpcImh0dHBjb2RlLXhoci5zdGF0dXNcIn0sZSk6biYmbihkLnJlc3BvbnNlVGV4dCl9LGQub25lcnJvcj1mdW5jdGlvbih0KXtzJiZzKHQsZSl9LGQub250aW1lb3V0PWZ1bmN0aW9uKHQpe3MmJnModCxlKX07dmFyIGw9SlNPTi5zdHJpbmdpZnkodCk7bys9T2JqZWN0KGkubGVuZ3RoSW5VdGY4Qnl0ZXMpKGwpO3ZhciBmPW5ldyBGb3JtRGF0YTtmLmFwcGVuZChcInJlcXVlc3RcIixsKSxkLnNlbmQoZil9LGw9ZnVuY3Rpb24oZSx0LG4scyxjKXt2YXIgZD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoZC50aW1lb3V0PXQudGltZW91dHx8T2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkhUVFBfQ09OTkVDVF9USU1FT1VUXCIpLGQub3BlbihcIlBPU1RcIixlLCEwKSxkLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIiksYylmb3IodmFyIHUgaW4gYylcIndpdGhDcmVkZW50aWFsc1wiPT11P2Qud2l0aENyZWRlbnRpYWxzPSEwOmQuc2V0UmVxdWVzdEhlYWRlcih1LGNbdV0pO2Qub25sb2FkPWZ1bmN0aW9uKHQpe2ErPU9iamVjdChpLmxlbmd0aEluVXRmOEJ5dGVzKShkLnJlc3BvbnNlVGV4dCksMjAwIT09ZC5zdGF0dXM/cyYmcyh7aHR0cEVycm9yQ29kZTpcImh0dHBjb2RlLXhoci5zdGF0dXNcIn0sZSk6biYmbihkLnJlc3BvbnNlVGV4dCl9LGQub25lcnJvcj1mdW5jdGlvbih0KXtzJiZzKHQsZSl9LGQub250aW1lb3V0PWZ1bmN0aW9uKHQpe3MmJnModCxlKX07dmFyIGw9SlNPTi5zdHJpbmdpZnkodCk7bys9T2JqZWN0KGkubGVuZ3RoSW5VdGY4Qnl0ZXMpKGwpLGQuc2VuZChsKX0sZj1mdW5jdGlvbigpe3JldHVyblwiaHR0cHM6XCI9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcIlJUQ1BlZXJDb25uZWN0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKHQsXCJnZXRVc2VyTWVkaWFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCxcImF0dGFjaE1lZGlhU3RyZWFtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJyZWF0dGFjaE1lZGlhU3RyZWFtXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsXCJzZXRTcmNPYmplY3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQodCxcImdldFNyY09iamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZCh0LFwid2VicnRjRGV0ZWN0ZWRCcm93c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsXCJ3ZWJydGNEZXRlY3RlZFZlcnNpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCxcIndlYnJ0Y01pbmltdW1WZXJzaW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsXCJ3ZWJydGNUZXN0aW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksbi5kKHQsXCJ3ZWJydGNVdGlsc1wiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciByPW4oMTEpLGk9bi5uKHIpLG89big1KSxhPW51bGwscz1udWxsLGM9bnVsbCxkPW51bGwsdT1udWxsLGw9bnVsbCxmPW51bGwscD1udWxsLGc9bnVsbCxtPW51bGwsaD17YWRkU3RyZWFtOm51bGx9LHY9e2xvZzpmdW5jdGlvbigpe30sZXh0cmFjdFZlcnNpb246ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUubWF0Y2godCk7cmV0dXJuIHImJnIubGVuZ3RoPj1uJiZwYXJzZUludChyW25dKX19O2lmKFwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCI6aSgpKHdpbmRvdykpPyh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudCYmIShcInNyY09iamVjdFwiaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKT8ocD1mdW5jdGlvbihlLHQpe1wibW96U3JjT2JqZWN0XCJpbiBlP2UubW96U3JjT2JqZWN0PXQ6KGUuX3NyY09iamVjdD10LGUuc3JjPXQ/VVJMLmNyZWF0ZU9iamVjdFVSTCh0KTpudWxsKX0sZz1mdW5jdGlvbihlKXtyZXR1cm5cIm1velNyY09iamVjdFwiaW4gZT9lLm1velNyY09iamVjdDplLl9zcmNPYmplY3R9KToocD1mdW5jdGlvbihlLHQpe2Uuc3JjT2JqZWN0PXR9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjT2JqZWN0fSksYT13aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLmdldFVzZXJNZWRpYSk6KHA9ZnVuY3Rpb24oZSx0KXtlLnNyY09iamVjdD10fSxnPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNyY09iamVjdH0pLHM9ZnVuY3Rpb24oZSx0KXtwKGUsdCl9LGM9ZnVuY3Rpb24oZSx0KXtwKGUsZyh0KSl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3IpaWYobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSYmd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uKXtmb3IodmFyIEUgaW4gdi5sb2coXCJUaGlzIGFwcGVhcnMgdG8gYmUgRmlyZWZveFwiKSxkPVwiZmlyZWZveFwiLHU9di5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LC9GaXJlZm94XFwvKFswLTldKylcXC4vLDEpLGw9MzEsbT1tb3pSVENQZWVyQ29ubmVjdGlvbixoKWhbRV09bS5wcm90b3R5cGVbRV07aWYoZj1mdW5jdGlvbihlLHQpe2lmKHU8MzgmJmUmJmUuaWNlU2VydmVycyl7Zm9yKHZhciBuPVtdLHI9MDtyPGUuaWNlU2VydmVycy5sZW5ndGg7cisrKXt2YXIgaT1lLmljZVNlcnZlcnNbcl07aWYoaS5oYXNPd25Qcm9wZXJ0eShcInVybHNcIikpZm9yKHZhciBvPTA7bzxpLnVybHMubGVuZ3RoO28rKyl7dmFyIGE9e3VybDppLnVybHNbb119OzA9PT1pLnVybHNbb10uaW5kZXhPZihcInR1cm5cIikmJihhLnVzZXJuYW1lPWkudXNlcm5hbWUsYS5jcmVkZW50aWFsPWkuY3JlZGVudGlhbCksbi5wdXNoKGEpfWVsc2Ugbi5wdXNoKGUuaWNlU2VydmVyc1tyXSl9ZS5pY2VTZXJ2ZXJzPW59dmFyIHM9bmV3IG0oZSx0KTtmb3IodmFyIGMgaW4gaClzW2NdPWhbY107cmV0dXJuIHN9LHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb258fCh3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPW1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbiksd2luZG93LlJUQ0ljZUNhbmRpZGF0ZXx8KHdpbmRvdy5SVENJY2VDYW5kaWRhdGU9bW96UlRDSWNlQ2FuZGlkYXRlKSxhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT09aSgpKGUpfHxlLnJlcXVpcmUpcmV0dXJuIGU7dmFyIHQ9W107cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKFwicmVxdWlyZVwiIT09biYmXCJhZHZhbmNlZFwiIT09biYmXCJtZWRpYVNvdXJjZVwiIT09bil7dmFyIHI9ZVtuXT1cIm9iamVjdFwiPT09aSgpKGVbbl0pP2Vbbl06e2lkZWFsOmVbbl19O2lmKHZvaWQgMD09PXIubWluJiZ2b2lkIDA9PT1yLm1heCYmdm9pZCAwPT09ci5leGFjdHx8dC5wdXNoKG4pLHZvaWQgMCE9PXIuZXhhY3QmJihcIm51bWJlclwiPT10eXBlb2Ygci5leGFjdD9yLm1pbj1yLm1heD1yLmV4YWN0OmVbbl09ci5leGFjdCxkZWxldGUgci5leGFjdCksdm9pZCAwIT09ci5pZGVhbCl7ZS5hZHZhbmNlZD1lLmFkdmFuY2VkfHxbXTt2YXIgbz17fTtcIm51bWJlclwiPT10eXBlb2Ygci5pZGVhbD9vW25dPXttaW46ci5pZGVhbCxtYXg6ci5pZGVhbH06b1tuXT1yLmlkZWFsLGUuYWR2YW5jZWQucHVzaChvKSxkZWxldGUgci5pZGVhbCxPYmplY3Qua2V5cyhyKS5sZW5ndGh8fGRlbGV0ZSBlW25dfX19KSksdC5sZW5ndGgmJihlLnJlcXVpcmU9dCksZX07cmV0dXJuIHU8MzgmJih2LmxvZyhcInNwZWM6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxlLmF1ZGlvJiYoZS5hdWRpbz1yKGUuYXVkaW8pKSxlLnZpZGVvJiYoZS52aWRlbz1yKGUudmlkZW8pKSx2LmxvZyhcImZmMzc6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSksbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYShlLHQsbil9LG5hdmlnYXRvci5nZXRVc2VyTWVkaWE9YSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOlIsYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe319KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXM9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzfHxmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7ZShbe2tpbmQ6XCJhdWRpb2lucHV0XCIsZGV2aWNlSWQ6XCJkZWZhdWx0XCIsbGFiZWw6XCJcIixncm91cElkOlwiXCJ9LHtraW5kOlwidmlkZW9pbnB1dFwiLGRldmljZUlkOlwiZGVmYXVsdFwiLGxhYmVsOlwiXCIsZ3JvdXBJZDpcIlwifV0pfSkpfSx1PDQxKXt2YXIgUz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gUygpLnRoZW4odm9pZCAwLChmdW5jdGlvbihlKXtpZihcIk5vdEZvdW5kRXJyb3JcIj09PWUubmFtZSlyZXR1cm5bXTt0aHJvdyBlfSkpfX19ZWxzZSBpZihuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhJiZ3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pe2Zvcih2YXIgRSBpbiB2LmxvZyhcIlRoaXMgYXBwZWFycyB0byBiZSBDaHJvbWVcIiksZD1cImNocm9tZVwiLHU9di5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oWzAtOV0rKVxcLi8sMiksbD0zOCxtPXdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLGgpaFtFXT1tLnByb3RvdHlwZVtFXTtmPWZ1bmN0aW9uKGUsdCl7ZSYmZS5pY2VUcmFuc3BvcnRQb2xpY3kmJihlLmljZVRyYW5zcG9ydHM9ZS5pY2VUcmFuc3BvcnRQb2xpY3kpO3ZhciBuPW5ldyBtKGUsdCk7Zm9yKHZhciByIGluIGgpbltyXT1oW3JdO3ZhciBpPW4uZ2V0U3RhdHMuYmluZChuKTtyZXR1cm4gbi5nZXRTdGF0cz1mdW5jdGlvbihlLHQsbil7dmFyIHI9YXJndW1lbnRzO3IubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PyhuPXQsdD1lLHI9W2U9bnVsbCx0LG5dKToodD1lLHI9W2U9bnVsbCx0XSkpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcCx0eXBlOmUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZS5zdGF0KHQpfSkpLHRbbi5pZF09bn0pKSx0fTtpZihyLmxlbmd0aD49Mil7dmFyIGE9ZnVuY3Rpb24oZSl7clsxXShvKGUpKX07cmV0dXJuIGkuYXBwbHkodGhpcyxbYSxyWzBdXSl9cmV0dXJuIGkoKX0sbn0sW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD13ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV07d2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihhcmd1bWVudHMubGVuZ3RoPDF8fDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcIm9iamVjdFwiPT09aSgpKGFyZ3VtZW50c1swXSkpe3ZhciBuPTE9PT1hcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3QuYXBwbHkoZSxbcixpLG5dKX0pKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9d2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO3dlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cyxuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3QuYXBwbHkobixbZVswXSxmdW5jdGlvbigpe3IoKSxlLmxlbmd0aD49MiYmZVsxXS5hcHBseShudWxsLFtdKX0sZnVuY3Rpb24odCl7aSh0KSxlLmxlbmd0aD49MyYmZVsyXS5hcHBseShudWxsLFt0XSl9XSl9KSl9fSkpO3ZhciBfPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPT1pKCkoZSl8fGUubWFuZGF0b3J5fHxlLm9wdGlvbmFsKXJldHVybiBlO3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihcInJlcXVpcmVcIiE9PW4mJlwiYWR2YW5jZWRcIiE9PW4mJlwibWVkaWFTb3VyY2VcIiE9PW4pe3ZhciByPVwib2JqZWN0XCI9PT1pKCkoZVtuXSk/ZVtuXTp7aWRlYWw6ZVtuXX07dm9pZCAwIT09ci5leGFjdCYmXCJudW1iZXJcIj09dHlwZW9mIHIuZXhhY3QmJihyLm1pbj1yLm1heD1yLmV4YWN0KTt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBlP2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXQ/XCJzb3VyY2VJZFwiOnR9O2lmKHZvaWQgMCE9PXIuaWRlYWwpe3Qub3B0aW9uYWw9dC5vcHRpb25hbHx8W107dmFyIGE9e307XCJudW1iZXJcIj09dHlwZW9mIHIuaWRlYWw/KGFbbyhcIm1pblwiLG4pXT1yLmlkZWFsLHQub3B0aW9uYWwucHVzaChhKSwoYT17fSlbbyhcIm1heFwiLG4pXT1yLmlkZWFsLHQub3B0aW9uYWwucHVzaChhKSk6KGFbbyhcIlwiLG4pXT1yLmlkZWFsLHQub3B0aW9uYWwucHVzaChhKSl9dm9pZCAwIT09ci5leGFjdCYmXCJudW1iZXJcIiE9dHlwZW9mIHIuZXhhY3Q/KHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtvKFwiXCIsbildPXIuZXhhY3QpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PXJbZV0mJih0Lm1hbmRhdG9yeT10Lm1hbmRhdG9yeXx8e30sdC5tYW5kYXRvcnlbbyhlLG4pXT1yW2VdKX0pKX19KSksZS5hZHZhbmNlZCYmKHQub3B0aW9uYWw9KHQub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5hZHZhbmNlZCkpLHR9O2lmKGE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmF1ZGlvJiYoZS5hdWRpbz1fKGUuYXVkaW8pKSxlLnZpZGVvJiYoZS52aWRlbz1fKGUudmlkZW8pKSx2LmxvZyhcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoZSx0LG4pfSxuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPWEsbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8KG5hdmlnYXRvci5tZWRpYURldmljZXM9e2dldFVzZXJNZWRpYTpSLGVudW1lcmF0ZURldmljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciB0PXthdWRpbzpcImF1ZGlvaW5wdXRcIix2aWRlbzpcInZpZGVvaW5wdXRcIn07cmV0dXJuIE1lZGlhU3RyZWFtVHJhY2suZ2V0U291cmNlcygoZnVuY3Rpb24obil7ZShuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2xhYmVsOmUubGFiZWwsa2luZDp0W2Uua2luZF0sZGV2aWNlSWQ6ZS5pZCxncm91cElkOlwiXCJ9fSkpKX0pKX0pKX19KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7aWYoKE9iamVjdChvLmdldEJyb3dzZXJWZXJzaW9uKSgpP051bWJlcihPYmplY3Qoby5nZXRCcm93c2VyVmVyc2lvbikoKS5zcGxpdChcIi5cIilbMF0pOnZvaWQgMCk8NDYpe3ZhciB5PW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHYubG9nKFwic3BlYzogICBcIitKU09OLnN0cmluZ2lmeShlKSksZS5hdWRpbz1fKGUuYXVkaW8pLGUudmlkZW89XyhlLnZpZGVvKSx2LmxvZyhcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHkoZSl9fX1lbHNlIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBSKGUpfTt2b2lkIDA9PT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXt2LmxvZyhcIkR1bW15IG1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyIGNhbGxlZC5cIil9KSx2b2lkIDA9PT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXt2LmxvZyhcIkR1bW15IG1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyIGNhbGxlZC5cIil9KSxzPWZ1bmN0aW9uKGUsdCl7dT49NDM/cChlLHQpOnZvaWQgMCE9PWUuc3JjP2Uuc3JjPXQ/VVJMLmNyZWF0ZU9iamVjdFVSTCh0KTpudWxsOnYubG9nKFwiRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LlwiKX0sYz1mdW5jdGlvbihlLHQpe3U+PTQzP3AoZSxnKHQpKTplLnNyYz10LnNyY319ZWxzZSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKSQvKT8odi5sb2coXCJUaGlzIGFwcGVhcnMgdG8gYmUgRWRnZVwiKSxkPVwiZWRnZVwiLHU9di5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LC9FZGdlXFwvKFxcZCspLihcXGQrKSQvLDIpLGw9MTIpOnYubG9nKFwiQnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgV2ViUlRDLWNhcGFibGVcIik7ZWxzZSB2LmxvZyhcIlRoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgYnJvd3NlclwiKSxkPVwibm90IGEgYnJvd3NlclwiO2Z1bmN0aW9uIFIoZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2EoZSx0LG4pfSkpfXZhciBULEk9e307dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShJLFwidmVyc2lvblwiLHtzZXQ6ZnVuY3Rpb24oZSl7dT1lfX0pfWNhdGNoKGUpe31mP1Q9ZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoVD13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDE3KSxhPW4ubihvKSxzPW4oNTEpLGM9bi5uKHMpLGQ9big1KSx1PW4oMSksbD1uKDMpLGY9bigwKSxwPShuKDI1KSxuKDIpLG4oNCksbig1MikpLGc9bi5uKHApLG09WzMxLDIyMiwyMzksMTU5LDE5MiwyMzYsMTY0LDgxLDU0LDIyNywxNzYsMTQ5LDIsMjQ3LDc1LDE0MSwxODMsNTQsMjEzLDIxNiwxNTgsOTIsMTExLDQ5LDIyOCwxMTEsMTUwLDYsMTM1LDc5LDM1LDIxMiw0LDE1NSwyMDAsMTY4LDM3LDEwNywyNDMsMTEwLDE0NCwxNzksNTEsODEsNTUsNzgsMjIzLDI0MiwxOTEsMjExLDc0LDExOSwyMDMsMTUxLDE0Miw2MiwzMSw0MSwxMzIsMjIsMzUsMTU1LDg3LDEyMywxMTksMTE3LDIxNiw1NywyMDEsNTMsMjI4LDY3LDIwMSw0MCwxMDYsMjQsODAsMTc2LDE4NywyNTMsNjAsNjMsMTM2LDEwMCwyMCwxMiwxNzcsOTksNjQsMzgsMTAxLDE0MywxMTEsMTc2LDI1MSwyMTEsMTQ1LDEzNiwzNCwyMyw3OSwxMzYsMjAyLDk1LDEwNSwxOTksMTI1LDY3LDE4MCw0NCwyMTAsMTc5LDIyOCw0LDg1LDE2MCwxODgsNjQsMjYsNDYsNiw2MSwyMDEsMTAzLDI0OCwxOCw5NywyNTQsMTQwLDM2LDExNSwxMDYsNDgsMTI0LDEwMiwyMTYsMTU1LDEyMCwzNiwyMjcsMTY1LDIxNyw3LDIyNywxOTEsMTI4LDIxMiwxNTcsODAsMzcsMTE3LDE3NSwyNCwyMTQsNDcsMjIxLDE4MywyMTEsNTEsMTc0LDI1MSwyMjMsMTU5LDE2NywxNTIsNTMsMzYsMTA3LDE5OSwyMjMsOTEsNjIsNDYsMTk0LDExLDgwLDEyMSwxODgsMjE5LDIsOTksOTksMjMyLDIyOSwxNzMsMjM0LDIxLDMwLDIzNiwxNzcsMjQzLDE0Miw5Nyw0OCwxMDgsNTYsNjIsMTcyLDU2LDIxNiwzLDQyLDc5LDEzOCwyMyw4OCwxODIsMzksNSwxMTgsNjgsMTM1LDE3OCw1Niw5LDk0LDE4OSw0NCwxMDQsOSwyMzgsMjMxLDE3NCwxMjIsODUsMjQ3LDIzMSw4Niw3NCw4LDE4OSwxNDcsMjE4LDE4MCw1OCw3NiwyMjcsMTcsNDYsOTAsMTk0LDEwMCw1MSwxNzgsNzIsMTYzLDE1MSwyNDMsMTY2LDEzMCw4NSwxLDIyMywxMzAsMTUyLDI0Miw4NSwyNTUsMjgsMTczLDk3LDI1MiwxMTksMjE1LDE3NywxMTksODYsMTA0LDEzNiw4Miw0MCw3Miw1MywxMSwxOCwyNiwyNDAsMTg4LDc2LDExMCwzOSwzMSwxODldO2Z1bmN0aW9uIGgoZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KFs5OSwxMTQsMTIxLDExMiwxMTYsMTA1LDEwNV0pLG49dC5sZW5ndGgscj1lLGk9ci5sZW5ndGgsbz1uZXcgVWludDhBcnJheShpKSxhPW5ldyBVaW50OEFycmF5KDI1Nikscz0wO3M8MjU2O3MrKylhW3NdPXM7Zm9yKHZhciBjPTAsZD0wO2Q8MjU2O2QrKyl7dmFyIHU9W2FbYz0oYythW2RdK3RbZCVuXSklMjU2XSxhW2RdXTthW2RdPXVbMF0sYVtjXT11WzFdfXZhciBsLGY9MDtjPTA7Zm9yKHZhciBwPTA7cDwwK2k7cCsrKXt2YXIgZz1bYVtjPShjK2FbZj0oZisxKSUyNTZdKSUyNTZdLGFbZl1dO2FbZl09Z1swXSxhW2NdPWdbMV0sbD1hWyhhW2ZdK2FbY10pJTI1Nl0scD49MCYmKG9bcC0wXT1yW3AtMF1ebCl9dmFyIG09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG8pO3JldHVybiBGdW5jdGlvbihcInZhciB3aW5TaXplID0gNTsgcmV0dXJuIGBcIittK1wiYFwiKSgpfWZ1bmN0aW9uIHYoZSx0KXt2YXIgbj1oKHQpLHI9Zy5hLmNyZWF0ZVByb2dyYW1Gcm9tU291cmNlcyhlLFtoKG0pLG5dKSxpPWUuZ2V0QXR0cmliTG9jYXRpb24ocixcImFfcG9zaXRpb25cIiksbz1lLmNyZWF0ZUJ1ZmZlcigpO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUixvKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwwLDEsMCwxLDEsMCwxLDFdKSxlLlNUQVRJQ19EUkFXKSxlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO3ZhciBhPTIscz1lLkZMT0FULGM9ITEsZD0wLHU9MDtlLnZlcnRleEF0dHJpYlBvaW50ZXIoaSxhLHMsYyxkLHUpO3ZhciBsPWUuZ2V0QXR0cmliTG9jYXRpb24ocixcImFfdGV4Q29vcmRcIiksZj1lLmNyZWF0ZUJ1ZmZlcigpO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUixmKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwwLDEsMCwxLDEsMCwxLDFdKSxlLlNUQVRJQ19EUkFXKSxlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGwpO2E9MixzPWUuRkxPQVQsYz0hMSxkPTAsdT0wO3JldHVybiBlLnZlcnRleEF0dHJpYlBvaW50ZXIobCxhLHMsYyxkLHUpLHJ9dmFyIEU9WzExLDE5NiwyNDIsMTM5LDE5OCwyNTIsMTg4LDUsNTksMTcwLDE2MSwxNTIsMTcsMjI5LDI0LDE0MSwxMzMsNTQsMjE0LDIwNiwxMzMsMjYsNjYsMTI2LDI1NSwxMSwyNDUsMTAsMTQ2LDkyLDUyLDEzNCwxMDgsMTUyLDIyMSwxOTEsMTI0LDExNiwyNDgsMTA2LDEzMCwyNTEsNTksMTA1LDQzLDkxLDEzNSwxOTksMTgxLDIyMywxMCw1MSwxMzQsMTk0LDI0MCw0Niw5LDMsMTQxLDIyLDM1LDE0Niw3NiwyMywxMDksMTE3LDIwOCw0MSwyMDEsNDUsMjE4LDc2LDIwMywxMDUsNTEsNTgsOTcsMTU0LDE0NSwyMzYsNDksMTgsMTgzLDEyNywyNywxMiwyMTAsMTIyLDczLDQyLDM3LDE0MywzNiwyMDcsMjUxLDIxMSwxNDUsMTkxLDU2LDEwLDg4LDIyMiwxODEsMTI1LDIyLDIzOCwxMjMsNzEsMTc3LDEwNywyMTgsMjU0LDE3MywyOCwzNCwyNTMsMjQ5LDY3LDgzLDk3LDczLDExMSwyMTksNDMsMTgxLDgyLDM4LDIzMCwxMzYsMTA5LDIyLDY3XTtmdW5jdGlvbiBTKGUsdCxuKXt2YXIgcj1lLmdsO3RoaXMucHJvZ3JhbT12KHIsRSksdGhpcy5zZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3IuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfaW1hZ2VcIik7dmFyIGU9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9mbGlwWVwiKTtyLnVuaWZvcm0xZihlLDEpfX12YXIgXz1bMTEsMTk2LDI0MiwxMzksMTk4LDI1MiwxODgsNSw1OSwxNzAsMTYxLDE1MiwxNywyMjksMjQsMTQxLDEzMyw1NCwyMTQsMjA2LDEzMywyNiw2NiwxMjYsMjU1LDExLDI0NSwxMCwxNDYsOTIsNTIsMTM0LDEwOCwxNTUsMjEwLDE2NCw5OSwxMTQsMjI4LDk2LDEzMCwyNTEsNTksMTA1LDQzLDkxLDEzNSwxOTksMTgxLDIyMywxMCw1MSwxMzMsMTk0LDI0NywzNCwzMSwzOSwxNDIsMjgsMiwxMzAsMTgsMTA5LDg0LDEyNCwyMjMsNjIsMTQwLDUyLDEyOCw0NywyMDgsNDcsMTE1LDM5LDQsMjAwLDIyMCwxNzEsNTMsMzYsMTUwLDEwMSwxMCw3NSwyNDcsMTIxLDc0LDM2LDM1LDE0MywxMDgsMTc2LDIzNSwyMTEsMTM1LDE2NCwzNiwxMSw4OCwxNjAsMTQ4LDM1LDYsMjIxLDQxLDMyLDE2NiwxMDksMjA1LDE3MSwyMjgsNCwyNiwxNjksMjQ0LDgyLDExOSwxMDIsODYsNjEsMjAxLDEwMywyNDgsMTgsOTcsMjQyLDE4MiwzNCwxMjEsNzAsMjgsNzEsMTI2LDE5NywyMjMsMTI2LDE0LDI0NCwxNDksMTkyLDEyLDE3NiwxODcsMTQ5LDIxMiwxNTYsMjIsNDQsMzYsMTMzLDEwLDIxNiw2MywxOTgsMjEzLDE1NCwxMTYsMjMwLDI1MywxNTQsMTU0LDI0OSwyMTUsNTUsNjAsMzQsMTk2LDIyOSw3Niw1MCw0NCwxMzUsMjIsNzcsMTEzLDI0NywxNDIsOTQsNjAsMjMsMTcyLDE0NSwxNzUsMjE4LDgxLDg2LDE2MiwyMzksMTgwLDIwNSw2MywxMTgsMywxMTAsMTIzLDIyNCwxMjcsMTU4LDEyNCwxNSwxMjcsMTU3LDI3LDY2LDE3NiwzMywyNCw1MSw1MywxOTQsMTc4LDU2LDYsNzQsMTkxLDExMSw1MSw3OCwxNzQsMTU3LDIyOSwxNywyMiwxNzgsMjMxLDkyLDI1LDIzLDE5MSwxNTcsMTM3LDE4OCw1NCw2NCwxNzYsMTMsMjIsODEsMjA3LDQ1LDEwOCwyMDMsODMsMTg2LDEzMCwyMzcsMTg2LDE1MywxMTAsOCwxOTYsMTY4LDE1MiwxNjEsMjgsMjM4LDQ2LDE4NCwzNiwxODUsMjAsMjAzLDE4Myw5OCw5NSw0MSwxNDksOTMsMTA1LDM3LDExNiw5MSw2OCwxMDUsMTY0LDIxNywzMCw0Miw2MCw1MywxNzMsMjEzLDE3NywyMTYsMTk1LDUzLDIwNCwxNzMsMTI4LDI0Myw0MiwxMjIsMjA1LDY1LDk3LDEyOSwxOTQsNjgsMjE4LDkxLDE0MSwxMSwyMjQsMTI0LDEzMiwxMzgsMTE5LDM2LDIyMCwxNjEsMzksMjE0LDE0NiwxODMsMTkzLDIyNSwyMywxNzcsMjAxLDI0MywxMjgsMTYwLDMzLDc1LDg2LDEyNiwxMzksMjU0LDIzMiwxNCwxMyw4NSwyLDExMiwxNywxNTAsMzYsMTgwLDg2LDIyNiwyMjUsMTI2LDE5NywxNywyMjgsMjI1LDE0MiwyNDUsMzcsMTcwLDM5LDk2LDE4NywxOTAsMiwzNSw4NSwyMzcsMTEsMTg5LDEsNzksMjM3LDIsMSwxMTQsMjQ2LDEwOSwxOTAsNjYsNTQsMTUzLDQzLDIxOCwyMDQsNzAsNiwyMDQsMTYyLDI0NywxOCwxMzAsMTIzLDMwLDYwLDE2NSwxMzAsMTQyLDIxMCwxMzMsOTEsMTI3LDExNyw3MSwzOCwxNDUsMTcyLDcsNSwxNiwyMjAsMjIyLDExMSw5OCwxNDEsMjM5LDIwOCwxMjUsMjYsMjM4LDI4LDAsMjE2LDg5LDEzLDcsMTE5LDEzNCwxOTQsNzUsNDEsNjcsMTc0LDEsMjE3LDgwLDEwMSw0MCwyNiw1OSwyOCw1OSw0NiwxMDgsMTM4LDM4LDE1NywxNjcsMjgsMjM0LDczLDE3Nyw0Miw0MiwxMDIsMTA4LDI2LDE4MSwyNywxNzgsNDIsNDMsNTIsMjgsMTEwLDExNywxOTgsMTczLDE3NiwxNzgsMTAxLDIyNSwxNTAsMzYsMTM5LDEwOCwxMDUsMTAsMjM3LDIyMiwzLDE0MywxMjYsMTgsMTQ0LDExNSw3NCw1NiwxMTQsMTM0LDIzMSwxNTksMjEyLDYyLDEyNiw4MCwxNzMsMjE2LDE2Nyw0LDgxLDE4LDUyLDE3LDE0NCwyMTgsMzIsMTM5LDIwNywxMDQsMTI4LDIyOSw5OSw4NCwxMjAsMzEsODcsMjI3LDE1NCw5MSwxOTYsNjMsMTIzLDExMSwxMjUsMzYsNTIsNTcsMTY4LDExMywxNTAsMTg5LDIwNCwyNCwxMDQsMTk2LDIzNyw4NiwxNjMsNjgsMTk3LDIwMiwxNzAsMjEyLDE5MSw4MSwxOTMsMTExLDI1NSwxNjIsMTgxLDIwMiwxNTYsMTQ2LDE5Niw5NiwxNiwxMTgsMTE3LDU1LDcxLDE1NiwzMSwxNjMsMjQyLDIwNCwyMzksMTEsMTUwLDI3LDEyNiwxMTUsMTU0LDEwNywyNDcsMTM0LDE1OCwxMjUsMjU1LDE0NiwzNSwxODMsMjA5LDM2LDExNiw4NywyMTUsMTcyLDUsMjUxLDEzMywxMTQsMjU0LDE0MSwxOTUsNiwxNDUsNCwxMTEsMTgyLDE2Nyw3NCwxNTQsMTUyLDY4LDE4LDE0Niw4OCwxMDYsMjAwLDE1NCwxNSwxNzYsOTQsODYsNjYsMTc4LDEwMSwyMTksMzUsMTg4LDEyOSw2NiwyOCw0MSwxMTAsMTc0LDUzLDg4LDE3NCw2NCwxOTEsMjA2LDEyNyw0OCwxMjYsMjE0LDIxNiw5MywxMTksMiwxNjYsOTksMTgxLDIyMiwyOSwyMTgsMjgsMTk1LDIxOSwxMjUsNDQsNTAsMTYsOTksMTc0LDIyNSw1MSwxMzMsMTIwLDE4NCwxNTksMTY4LDc1LDI0MiwxNjIsMTI0LDI1NSw4MSwyNSwxNTMsMTA5LDY5LDIyMCwxNzYsNCwyMzcsMTk2LDIzMywxOSw4LDI0MCwxNjAsMzksMTIyLDgxLDI5LDE4OCwxNDQsMjQ5LDE3MCwxNzQsMTM3LDMwLDEwLDkzLDEzMywxNTEsMTk5LDI0OCwxNzUsMzgsNDEsMTQ0LDIyOSwyNDUsMTQ5LDI1LDI0MCwxMzgsMTc5LDExNCwxODIsODQsNTAsMTAzLDk1LDMxLDE5OSwzMSw4NywyMDgsMjAzLDE5OSwxMzUsNDksMjExLDQzLDUyLDM2LDc0LDU5LDM3LDIyLDEzNiwxNzEsMjQ0LDEyNiwxOCwyNTEsMzksMTU5LDI0MSw2NiwyMDYsMTI3LDE0OSwxNTksMTgyLDE0MywyMzIsMTk5LDEzNiw0NiwxNTAsMzIsNTEsMjIxLDc0LDIyLDEwMiw5MywyMiw0NCwxMzIsMTQwLDE5OSw0Myw2OSwyNDksNzcsNzUsMTQwLDcwLDQsMjUyLDk4LDIzNSw3NywxOTAsMTI1LDE4LDU2LDIxLDEwLDI0NCw0MiwyLDI0Niw2MiwxMjcsMjQxLDEyMywxMzcsMjIsMjQ3LDIxOSwxNzcsMTYwLDg0LDE4LDEwLDg0LDk3LDI1MSwxMjcsMTAyLDE2LDIwOSwxODEsMTAwLDk0LDU2LDIzOCwyMDksMjA3LDc2LDE4OSw5NSwxNSwxNjUsMTM5LDE0MywxODksOTYsMjI1LDU1LDExMiwxNzgsMjcsMjE4LDE5OCwyMjMsMjUxLDUyLDEyMyw5NCwxMzAsMjIwLDE0MiwyMTYsMTE2LDIzNywxOCwyNTQsNDksNTksMTI4LDQxLDI5LDE1LDE3OSwxNjQsODUsNzYsMTY3LDE2NiwxNTEsMzksMjIxLDIsMTkwLDY4LDE2NywyNiwxNzcsMTE0LDE0MSw0LDY3LDI1LDY5LDE4MiwzOCwxNjYsMTYwLDI3LDE1MSwxNDgsMTA4LDQ4LDIyNyw2MCwxMTIsNDgsMjIsMTU5LDc2LDEyNywyNTEsNjMsMjU0LDE3NywxMTMsMjE3LDE5Nyw5NSwxNzksMTA5LDEyOCwxMzgsOTksMjcsMjQ5LDEwLDE3NCwxNTUsMTI5LDgwLDM5LDE2NSwyNTIsODUsNjAsMTMxLDE4Myw5OCwxMDcsNjgsMjA3LDE5LDIzMywyMzEsNTUsMjI1LDEyNiw3Nyw0OSw1MywxNDUsMjAzLDExMywyOSwyMDgsNjQsMjM3LDE4MiwyMjksMTY1LDcsMTEsMTY5LDEwNiwyNTMsMTE2LDE0MSwyMDAsNjIsMTYsMzgsMTIxLDU1LDE0OCw5MSw4MywxNjAsMTQwLDEyNiwxMjEsMTIsNzksMTg5LDcyLDE3MiwzMSwyNDMsMjQwLDIwOSwyMjksMzIsMjIwLDkxLDIyOSw4MSw5NCwyNDcsMTIxLDE1MywxNTEsMjMyLDE4MiwxNzEsMTk4LDUwLDMxLDE1MiwyNDUsMTcyLDE1MSwxMzAsNTUsNjIsMTI1LDM4LDE1NSwyMjksNzgsMjA3LDE0OCwyMDEsMiw3OCw2MywxMTksMTA3LDE2OCw3OCwxMzksMTQxLDE2MywxNzcsMTkxLDIzOSwxNDEsMzksMTgyLDE3NCw0MCw3NiwyMjYsNjIsMTI1LDIwOSw2LDYsMzQsMzcsMTQ3LDg1LDIwNCwxMDMsNTEsMTkxLDM2LDI0OCwxNywxNzUsMjAsMSw1MywxNiwzNSwxNDMsMjM3LDE3NywxMjUsODYsMjksMjE5LDIzNSwyMCwxMjEsMjA1LDU5LDUsMjUwLDEwNywxMDksMzIsMjI0LDMwLDE1MiwxNDMsMTEzLDE1MSw5NSw4NSwxOSwyNTQsMTY0LDEzNSwxMjQsNjgsMTM2LDE5OSwyOSwzMSwyNDQsOTEsMTAsODQsMTI3LDEwMSwyMTAsNzAsMjI2LDE5NSwxNDAsNzAsMTY2LDU0LDIxNywxNjUsODQsNDIsMTY1LDE3NSwxMDAsMjM0LDEyNCwxMjEsMTA1LDUzLDEwMSwxMTgsMTc0LDEwMSwyMjAsMTQ3LDY4LDE2MSwzNywwLDE4MiwyMjAsMTQyLDIyMSwxNTUsMjMwLDExNSwxNjQsMTAsMjE0LDIwOCwxMjAsOTEsMTUyLDY2LDI3LDgxLDE4NCw0OCw4NCw3MCw3LDEyOCwxNTMsMjE3LDIxOCwyNDksMjI2LDcwLDEzMCwyMDAsMTU2LDYxLDIyNywyMSwxNjQsMTM3LDE5MywyMjEsMTE5LDEwLDEzNCwyMDQsMjMsMjAsMTcsOTAsOTQsMTA1LDIwNCwzOSw5OSwxLDY0LDE1Myw0NSwyMTMsMTksMjQ3LDk3LDE5NCw0OSwzNSwxMjUsMjU1LDE5NSwxMzksNjMsMjA5LDE3NSwyMDgsMTQ3LDE4OSwyNDQsMjA0LDI0LDIxMSw5OSwxNDIsMTgsOTIsMTMwLDI1NCwxODIsMjMxLDIzNSw5MywxMCwxMjcsMTc1LDg3LDM1LDYyLDExMCwxMzcsMTg0LDM5LDExNCwyMDAsMTUwLDExLDE5MCw0MCwxNjIsMTY4LDIyMywyMDMsMTEwLDI0MiwxOTIsMjM0LDI2LDExLDU0LDE1NSwzOCw0OCw3OSwxMDksMTAxLDExOSwxNjUsMTg3LDIyMyw1LDIwLDE2OCwxNzEsMjQxLDIwLDI0MywxMDgsMTk5LDMsMTU1LDY5LDI0NCwxNDksMCwxODcsMTEwLDEyLDIzMyw0MiwxNTEsMTg5LDEzOSwxMzMsMTA0LDMsMzAsMTYsMjAwLDY5LDQsMTIzLDEwMywxNDQsMTIsMTA2LDE4MiwxLDEyNyw5MSwxMjUsMTU4LDEyLDE0NCwyMzgsMjMyLDIwOSwxMDEsMTU5LDU2LDE2MywyNDAsMTc5LDUwLDE2OSwxMjAsMjE5LDE3Niw4Nyw3Nyw0NSwyNDcsMTUzLDE5MCw4MiwxMzIsNTAsMTM3LDIwOSw5NywxOSwzNSwyNDcsMTYxLDYyLDc3LDE2LDcxLDE1Miw3Miw2MSw1MCw5OSwxNTcsMTU0LDU2LDU4LDE3NSwyNyw3MywxMjEsMjI5LDE5NSwyMjgsMTMyLDY5LDIzMywxNjksMTAwLDIxLDEyMywxNywzLDE2NCw2LDE0NiwxMDYsMTk2LDI5LDMsMjUwLDIxNywxNjQsMjMsMTcxLDIwMywxNCwyNDIsMjM5LDI0OSwxNjksMTE2LDEzOCwyMDksOTgsMTEzLDE4MSwxMjIsMzUsMTYyLDIxNiw0NiwyMzAsNCwxNTUsMTQyLDExOCwyMTYsMjMyLDIyOSwyOCwxMiwxNTgsMTUzLDEyNiwxNDksMTcxLDE3MiwyMzEsOTksMjExLDU3LDExNCwxMzYsMTgzLDExNCw3NCwzNSwyMzMsMTE1LDEyNywyNTMsMTU3LDM4LDQ5LDEzNiwxNDEsMjUsMTYxLDI1NSwyMzIsMTEwLDEwMSwyMDgsMTY2LDE4NiwyMjYsMTIsMTg1LDE5LDE1NSw1Myw5MywxNTUsMzksMTYxLDcsMTI0LDIxMyw1MiwyMjMsMTI1LDIxMSwyNDIsMjUzLDIyLDEzLDEzMSwxMTUsMTY3LDE5OCwxODgsOTAsMjA5LDYzLDIyNCw5MiwxMTIsMTE4LDIyMCwxNjUsMzEsMTY0LDQzLDU4LDE5Nyw3NywxNywyNDcsNzcsMTY0LDc0LDc3LDIxOCwxOCwxODcsNDEsNzYsMTg5LDEyNyw5OCwxOCwyMjYsMjMxLDcxLDExNSwyMzYsNjgsMTgzLDExMSw1MCwxNjgsODgsMjQ3LDksMTIzLDY1LDE4MCw4OCw3NCw0NCwxMDEsMTAxLDE3MywxMV07ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9ZS5nbCxpPTEvdCxvPTEvbixhPTU7dGhpcy5wcm9ncmFtPXYocixfKSx0aGlzLnNldFVuaWZvcm1zPWZ1bmN0aW9uKCl7ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9pbWFnZVwiKTt2YXIgZT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ZsaXBZXCIpLHQ9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9zaW5nbGVTdGVwT2Zmc2V0XCIpLG49ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9kZW5vaXNlTGV2ZWxcIik7ci51bmlmb3JtMmYodCxpLG8pLHIudW5pZm9ybTFmKG4sYSksci51bmlmb3JtMWYoZSwxKX0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuZGVub2lzZUxldmVsJiYoYT1lLmRlbm9pc2VMZXZlbCl9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbihlLHQpe2k9MS9lLG89MS90fX12YXIgUj1bMTEsMTk2LDI0MiwxMzksMTk4LDI1MiwxODgsNSwzMiwxNjIsMTcxLDEyOCwxMywxNjAsMjUsMjIyLDE3MiwxMDIsMjA3LDI0NCwxNTgsNjksMTAzLDU3LDIzOSwxMTEsMTUwLDE4LDE1Nyw4Miw1NSwyMTAsMjAsMTMxLDE1NiwxNjUsMTA4LDEyMiwyNTQsMTI1LDEzMCwyMjksNTUsMTA5LDExMywxMSwyMTAsMjM4LDE2MywyMTMsODYsMTE2LDE1NiwyNDgsMjE1LDYzLDIwLDQ4LDE3MywzMSw1NSwxMzMsMTgsMTA1LDMyLDE2LDIwNCwzNSwxMjgsMzgsMjEyLDg3LDIwMCw5NywxMTQsNDAsMTIsMjEwLDE5MywxNzEsNTksMzMsMTU4LDEwOCwxNCw3NSwyMjgsNzQsNjUsMzIsNTcsMTkyLDExMiwxNTYsMjM0LDI1MCwxNDAsMTg5LDQwLDIwLDYsMjMwLDEzNSw1MiwxNywyMDAsMTIzLDY4LDE4Myw0NCwyMTUsMTg3LDIzNCwyLDEzLDE2OSwyMzQsOTQsMTE1LDYwLDYsMTA3LDIyNCwxMTgsMjU0LDg4LDIsMjM1LDEzNCwzNiwxMjAsNSw4NSw5NCwxMjYsMjIyLDIyMywxMDEsMTA1LDIyNywxNDcsMTk5LDY0LDE4NSwyNDYsMTQzLDE4MywyMTAsMzAsMzcsMTI3LDIyNiw3OSwxNTYsMTE4LDE0NywyMDgsMTMxLDUxLDI0OCwyMzIsMjE3LDIwNiwxODEsMjE4LDU4LDYxLDExMiwyNDQsMjI3LDY4LDQ1LDQxLDIwNiw2OSwxMiw0NSwxNjMsMjA1LDc1LDYsMjMsMTY3LDE0NSwyNTAsMjM3LDkyLDg0LDE2NCwyNDAsMjUzLDIxNiw1NCw4NSw3LDEwOCw2MiwyNTUsNDIsMjE3LDMsMjcsMCwxOTYsOTQsMjgsMjQxLDEyMCw4MCw5Miw4OSwxMzUsMjI4LDEyNSwyLDMsMjQyLDM5LDExNiw2NCwyNDgsMjE2LDE3NywxMjIsNjYsMTc4LDE4MCw5LDcsMzMsMTg2LDIwOCwyMTMsMTg4LDU5LDc4LDI0Myw5NSwxMjMsMjgsMTQyLDQ1LDk5LDEzMCw3LDE2NywxOTQsMTU2LDIzOCwxOTksMTAsNzEsMTQxLDI1MSwyMjEsMTU4LDE2LDI1NSwzOCwxODEsMzYsMTg0LDIwLDEzNiwyNDAsNTUsMjcsNTEsMTkxLDgyLDEwNSw1NSw5Nyw3OCw3NCwxMjEsMTkxLDE2MSw5MSwxMjYsMTA1LDEwMywxNzQsMTM5LDIyMywxNDUsMTUwLDEyMCwxNTYsMjQwLDI1MiwxODIsMTA1LDEwNCwyMDUsNjUsOTcsMTI5LDE5NCw2OCwyMTgsOTEsMTQxLDExLDIyNCwxMjQsMTMyLDEzOCwxMTksMzYsMjAxLDIxMSwzOSwyMDMsMTQ2LDIyNSwyNDYsMjUyLDIxLDE2MSwyNTAsMTg4LDEzNywxOTAsNDIsNCw5MCwxMjYsMjExLDE3MSwyNDAsMTEzLDY3LDI4LDkyLDU3LDc3LDIwMCwxMjUsMjI0LDE5LDE3OCwxNDIsMTEyLDIwMiw1LDIzMywyMjksMTI4LDIzNSwxMDUsMjM5LDEwMiw1MiwxNzksMjI0LDg3LDQ1LDY4LDIxMSwxMCwxODcsOSwzOCwxOTAsODYsMjUsNDMsMTc1LDU2LDIzMSwxMSwxMDgsMjIwLDM2LDEyOSwxMzEsMTksOTMsMTYzLDIzOSwxNjksMTE4LDIwNSw1MCw3NywxMjEsMTM5LDEzOSwxNDEsMTk3LDE3MCwyMCw0NCwzOSwxOSw5NywyMDUsMjI4LDgsMTA2LDY3LDIxMCwxMzUsMTExLDEyNywxNDEsMTg1LDE3NSwxMjMsMjYsMjI2LDQyLDI5LDIxNywxNiw5OSw5LDQ2LDE1NywyMzIsMjIsMywxMDUsMTc0LDczLDE0NCwyMywxMTAsNTUsODQsNDYsNCwxMTYsMzksMTEzLDIwNSw1OCwxNTgsMjQyLDcsMjA4LDc1LDE2Miw1NSwxMTUsMzUsNTIsMTI0LDIzNSwxMTQsMTc4LDU1LDQzLDk4LDE3LDEwMCwzMywxMzQsMjM3LDE5MCwyMzAsNjAsMTg0LDE5MiwxMDQsMTQ2LDUyLDU4LDc5LDE3NCwxODAsODEsMTU1LDExNCwwLDE1MywxMTMsOTAsNTEsODYsMTUwLDI1NCwxMzYsMjA1LDEwNCwzOSwxMSwxOTAsMTg3LDIzMyw4MCw4MSw4MSw1NiwxOCwyMjIsMTQ4LDExNiwxNTUsMTU2LDMzLDEzMiwyMjYsMTI3LDg0LDM0LDgzLDI4LDI0OSwxNTMsMTgsMTk3LDEwLDExNiwxMDIsMTI1LDQ1LDQ3LDM2LDIzNSw0NiwyMTIsMTY2LDIwOSwzLDEyNSwxMzIsMjM3LDEyNCwxNjMsNjgsMTk3LDIwMiwyMzIsMTUyLDIzNCw3NSwyMzUsMTAzLDI0OCwxNjAsMjQxLDIxMywxNTEsMTQ0LDEzMCwzNywyMyw1MSw0OCw1NSwxMiwyMjcsMzEsMTYzLDI0MiwyNTEsMjQ1LDIyLDEyOSw3NywyMCwzNSwxNTAsMjAsMTgxLDIwMywxMzgsNjksMjMzLDIxNSwxMDksMTc4LDIwOSw1Miw4NSw5NiwyMjEsMTc5LDU2LDI0OSwxMzgsMTExLDI1MCwxNDEsMTM0LDk1LDE1Miw5MiwxMDksMTgzLDE3NCwxMDQsMTUxLDE1NiwzMSw2NiwyMTEsMTAsNTcsMTQxLDE2NywxOCwxNzcsMjcsMTI2LDc0LDI1MiwyOSwxNDMsMTIxLDE3MywyMDMsOCwyNyw0NCwxMjMsMTQ4LDU3LDg4LDE2Myw2OCwyMjgsMTU4LDYyLDk4LDEyMSwxOTIsMjI4LDk0LDkyLDcyLDI0MSwzMywyMzAsMTczLDAsMTk3LDEsMTk0LDE0NCwxMTEsOTEsNjAsMCwxMDYsMTgxLDIwMyw1MSwxMzMsMTIwLDI1MCwxNTgsMTg0LDkzLDIxNiwxODQsMTI2LDI1MywyMSwyMiwxNTUsOTksODAsMjA1LDIyNyw2OSwyMzEsMTQxLDE2NSw3MSw3MCwyNTIsMjIzLDEwNSw1MSw5MywyMiwxNjUsMTM1LDIzMywxNzcsMTY0LDEzOSw1Myw1LDg1LDE1MSwxMzQsMjE0LDE2NSwyNDksMTAwLDI0LDE4NiwyMDcsMjQ1LDE0OSw2OCwyMTgsMjA0LDI1MiwzMiwxOTAsOTAsNDgsNzYsNTcsMzEsMjAxLDE1LDUyLDEzMCwxMzUsMTUyLDIwNiw2MywxOTgsMTAwLDEyNiwzNiwyLDEwNCwxMTYsMCwxNjAsMTYzLDE4NiwyLDkxLDE2NSw1NywxNDksMTYzLDEyLDIzOSwxMjEsMTUyLDIwOSwyMjQsMTM2LDI0OCwxMzUsMTM2LDQ2LDE1MCwzMiw1MSwxNTQsNiwxMDUsMCw3MSwzMCw0NCwxNzUsMTQ3LDEzOSwzNCw5MSwxODQsNzgsMzEsMTQ1LDE4LDMsMjUwLDEyMiwxNjYsNDcsMjUyLDEwOSwxOSw0MCwxMCwxMjMsMTYzLDk5LDc2LDEzMywxMTksMzcsMTgwLDM4LDIwNyw3OSwxNzEsMTg1LDE4OF07ZnVuY3Rpb24gVChlLHQsbil7dmFyIHI9ZS5nbCxpPTEvdCxvPTEvbixhPTU7dGhpcy5wcm9ncmFtPXYocixSKSx0aGlzLnNldFVuaWZvcm1zPWZ1bmN0aW9uKCl7ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9pbWFnZVwiKTt2YXIgZT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X2ZsaXBZXCIpLHQ9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9zaW5nbGVTdGVwT2Zmc2V0XCIpLG49ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9kZW5vaXNlTGV2ZWxcIik7ci51bmlmb3JtMmYodCxpLG8pLHIudW5pZm9ybTFmKG4sYSksci51bmlmb3JtMWYoZSwxKX0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUuZGVub2lzZUxldmVsJiYoYT1lLmRlbm9pc2VMZXZlbCl9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbihlLHQpe2k9MS9lLG89MS90fX12YXIgST1bMTEsMTk2LDI0MiwxMzksMTk4LDI1MiwxODgsNSwzMiwxNjIsMTcxLDEyOCwxMywxNjAsMjUsMjIyLDE3MiwxMDIsMjA3LDI0NCwxNTgsNjksMTAzLDU3LDIzOSwxMTEsMTUwLDE4LDE1Nyw4Miw1NSwyMTAsMjAsMTMxLDE1NiwxNjAsOTYsMTIxLDI1NSwxMjAsMjA3LDIyNywxMTQsMTIwLDM4LDcyLDE0OSwxNDUsMTY1LDIyNyw3NSwxMjIsMTU4LDI1MCwyMzIsNDYsMzQsNTIsMTM1LDksMzAsMTQ0LDE3LDExMCwxMjYsMTEwLDEzMCw3MSwxNTYsNDYsMjEwLDY3LDIwMiw1MSwxMTksOTcsMywyMTEsMjE0LDIyNyw0NSwxMDksMTUxLDk3LDIxLDEwLDIyOSw1Myw4MCwyNiw1MSwyMDIsMTE5LDEyOCwyMzAsMTk3LDE0MCwxMzUsNDAsMTQsODgsMTI4LDIwMiw5NSwyMSwyMDgsOTYsODMsMTg1LDk4LDIxNiwyNDIsMjI0LDE1LDI1LDIyNCwyMzMsODYsOTYsNDYsODAsMTIwLDIyMCw0OCwxODcsODYsMzAsMjQwLDE0MCw0Niw5NSw4MSw0OCw5MCwxMTcsMTQwLDE3Nyw1MSwxMDcsMjM1LDE1OCwxMzcsNSwyNDEsMTkxLDE1NCwxNDksMjE5LDMwLDEyNiw4NSwxNzUsMTAsMjE2LDYzLDEzOSwyMTYsMTUxLDEyMiwyNTEsMjI0LDIwMiwyMjAsMjI3LDIyMSw1MywxMjIsMzQsMjEzLDIyNCw5NCw0NSwxNCwyMDAsNjgsMzEsNjEsMTc1LDIwOCwxNywxMjAsODIsMjQ0LDEzOCwyMDgsMTY1LDIxLDE5LDIzNiwyMzIsMTgwLDIxNyw1MCw3NCw3MCwxMjYsMTE0LDIyNyw2MiwxOTIsMTI0LDksODUsMTQ4LDMzLDc3LDI1NSwxMTcsNzUsMTAyLDg3LDE1MSwyNTUsODcsNzQsNzQsMTgxLDExMSwxMDgsOSwyNDksMjIwLDE3NCw1OSw4MCwyNTQsMTY4LDI5LDMwLDk0LDE3MSwxMzMsMTMzLDE5NSwxMDUsNjQsMjU0LDY4LDY1LDE4LDE1OCw1NCw3MywyMDMsNjUsMTc1LDE1MSwxNzAsMjM2LDEzOCwxNywxMTksMTI4LDIzNywyMTQsMTg5LDI4LDI1MCwzOCwxNDksOTcsMjQyLDgxLDIxMiwyNTQsNTcsMTgsMTIwLDE1NSw2NCw5NiwxMDgsNzUsNzgsNzQsMTIxLDE5MSwyNDMsMzAsNDIsNjAsMTAzLDE2NSwxOTYsMTYwLDE5NSwyMTYsOTksMTgyLDE3MywyMTQsMTgyLDEwNSw1MywyMzEsMyw0NSwyMTIsMTQ0LDEwMSwyMTcsNjUsMTQxLDQ0LDIzMCwxMjUsMTUxLDE1NCwxMjMsNTcsMTM0LDIyMyw5OCwxMzMsMTU2LDIzOCwxMzcsMTgxLDgwLDE3NSwyMzAsMTY3LDEzMSwxODAsMTMsNjksNzcsNDQsMTU2LDE2NSwyNTIsMTQsMjcsODUsNzEsMSw4MiwxOTYsNjQsMjQzLDI2LDE2NywxNDYsOTgsMjAxLDYsMTk1LDI0NywyMDAsMjI0LDQ0LDE3NywxMDQsMTA5LDE4NywyMzEsODMsMTE4LDI4LDE1OSw5MiwxNzksMjgsMTQsMTYyLDgxLDg0LDIxLDE2OCwzNCwxNTYsMjEsMTI3LDIxNSw4OCwyMTgsMjA4LDExLDkyLDE2MSwyMzksMjM5LDgyLDIyMSw1OSw4Niw4MywyMDEsMTk5LDIxNiwxNTEsMTM5LDIzLDU0LDM5LDUyLDEwMywyMDQsMjQ3LDI0LDEwMiw5NCwxNTcsMTM4LDQyLDQ5LDEzMSwxODMsMjA4LDUwLDk1LDIzNiw1NCw2LDIxMSwyNiw2OCw3Miw1NiwyMTIsMTM0LDI0LDkxLDExNCwxMzIsMSwyMTcsODAsMzgsNDcsMjksNDcsMCwxMDcsMTAyLDk5LDEyOSwzMywxNDAsMjQzLDc0LDI1MSw4OSwyNDcsMTAzLDEyLDExNCw1OCwxMTMsMjQwLDcyLDE4OCwzOSw0OCw3Miw4OSw0NSwxMDIsMjA2LDI0NSwyNDcsMjMxLDU2LDE2NywxMjksMTIyLDIyMiw0Nyw0MCw3OCwyMjcsMTU5LDY0LDIwNiwzNCwxMjcsMjAzLDEyNyw4Nyw0MCwxMDgsMTUyLDIzOCwxNDcsMjMxLDQ2LDEwNCw4OSwxODIsMTgwLDIzMiw4Niw4OSw5MSw1NywxMCwyMjIsMjAyLDU5LDE5OSwxMzUsNjAsMTk5LDE4OSw0MCw4NCwxMjUsMjgsODQsMTYyLDIxMCw5MSwxNDMsMzQsMTA2LDExNywxMTgsMywxMjUsMTI2LDIzNyw2MCwxMzEsMTczLDE1Myw2OSw0OSwyMTIsMjA0LDExNywxNjMsMzEsMjM5LDIwMiwyMzIsMTUyLDIzNCwzLDE2MiwzMiwxNzYsMTg0LDE4NCwxOTYsMTU0LDEzMSwxNDQsMTE1LDYsNTMsMTIyLDU1LDY5LDE2NiwxOSwyMzAsMTgzLDE3NSwyNDQsMSwxNTYsMTEsMzcsMTIxLDEzNCwxMjEsMTUyLDE0MiwxNTgsMTI1LDIyOSwxNTAsNDQsMTgzLDIxNiwxMDksNyw2NSwyMjIsMTY5LDU2LDIyMiwxNDAsMTEwLDIzMywxNTcsMTM4LDY2LDIwOCw2LDExMSwxNjYsMTg4LDc2LDIwOCwyMjIsNCwxMDQsMjExLDEwLDU3LDE0MSwyNDMsNjUsMjI4LDg2LDg1LDg4LDE2OSw5MSwyMzcsNTYsMjQ5LDEzMyw3NywyMSwzMiwzNywyMzAsNTUsMCwxODQsMTEwLDIyOCwxNTgsNjIsOTgsNDUsMTQ3LDE3NywxOSwxMTksODksMTY0LDEwMywxMzIsMjM5LDg0LDEzOSw2OCwyMDQsMTU3LDQ5LDQxLDUwLDg5LDExMywxNTksMjAzLDUxLDEzMywxMjAsMTg0LDIxMCwyMzcsMTUsMjQ5LDE4NywxMDAsMjUzLDUwLDE2LDE1NCwxMTIsNjQsMTkzLDI1NCwxMCwyMzUsMjAwLDI1Myw4NCwzMSwxNjksMTcxLDM5LDEyMiw3MCw0NiwxODYsMTM5LDIxMiwxNjIsMTczLDE1OCw0MSwyMyw4NiwxNDgsMTcyLDE5NiwyMzcsMjQyLDU4LDEwMiwxODAsMTUwLDIzOCwxOTEsMjUsMjQwLDIwNCwyNTIsMTI1LDE0OCwyOSwxMjQsNTEsOTUsMTAsMTk2LDU1LDQ5LDE1OSwxMzgsMTQ0LDI1NSwxMjYsMjA1LDQzLDQ5LDQyLDE3LDU5LDYwLDc3LDEzOSwxNzcsMjM5LDY0LDM2LDIyNCw5OCwyMDUsMjM0LDcwLDE5OSwxMDMsMTM5LDIxOCwyMDYsMjA3LDE3OCwyMTcsMjU1LDMyLDEzNCw1OSwyNSwyMjEsNzQsMjIsMTAyLDgyLDE5LDIwLDE3MCwxNDIsMTM0LDQyLDEwNiwyNDksNjQsODAsMjIyLDI4LDIxLDE2OSw1MCwyMzUsNCwyMzcsNTYsODEsODcsNzYsMzIsMjUxLDQyLDYsMTczLDEwNSw1NCwxOTEsOCwxMzYsNSwyNDUsMjA2LDIzOSwxNzYsOSwxMTYsMjRdO2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByPWUuZ2wsaT0xL3Qsbz0xL24sYT01O3RoaXMucHJvZ3JhbT12KHIsSSksdGhpcy5zZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3IuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfaW1hZ2VcIik7dmFyIGU9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9mbGlwWVwiKSx0PXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfc2luZ2xlU3RlcE9mZnNldFwiKSxuPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfZGVub2lzZUxldmVsXCIpO3IudW5pZm9ybTJmKHQsaSxvKSxyLnVuaWZvcm0xZihuLGEpLHIudW5pZm9ybTFmKGUsMSl9LHRoaXMuc2V0UGFyYW1ldGVycz1mdW5jdGlvbihlKXt2b2lkIDAhPT1lLmRlbm9pc2VMZXZlbCYmKGE9ZS5kZW5vaXNlTGV2ZWwpfSx0aGlzLnNldFNpemU9ZnVuY3Rpb24oZSx0KXtpPTEvZSxvPTEvdH19dmFyIEE9WzExLDE5NiwyNDIsMTM5LDE5OCwyNTIsMTg4LDUsMzIsMTYyLDE3MSwxMjgsMTMsMTYwLDI1LDIyMiwxNzIsMTAyLDIwNywyNDQsMTU4LDY5LDEwMyw1NywyMzksMTExLDE1MCwxOCwxNTcsODIsNTUsMjEwLDIwLDEzMSwxNTYsMTkwLDEwMCwxMTIsMjMwLDk3LDE5OSwyMjUsOTYsNzQsOTksOTQsMjQ4LDIyMiwxNjIsMjEzLDk1LDEyMiwxNTgsMjEyLDIzMyw0MiwyMiwzNywyMTcsMTE1LDM2LDE1MiwzMCwxMjMsMTE2LDEwNCwyMTIsMTA5LDEyOSw0MSwyMjAsNzcsMjEzLDk3LDEyNCw0NSw0LDIxOSwxOTcsMTcxLDQwLDE4LDE0OSwxMDQsMjAsNCwyNDgsMTAyLDY0LDksNTAsMjE3LDEyNCwxMzEsMTgwLDE4OCwxNTksMTcwLDYzLDEsODQsMTMwLDE1MCwxMTcsMTQsMjEyLDExOCw2NywxNjUsOTcsMjA3LDI0MiwyNTEsMTUsMzAsMTg3LDE4OCw3Nyw3OSwxMjIsNjcsMTAxLDI1MiwxMDksMjQ0LDgyLDM3LDE5MSwyMjcsMzUsMTE0LDg3LDU3LDcxLDk5LDIxOCwxNTUsNTQsMTAxLDIzOSwxMzgsMTk3LDEzLDIyNiwyMjgsMTc2LDE1NywxNTgsODcsOTgsNTUsMjUxLDc5LDE1MCw2NCwxMzgsMjAwLDEzNSw0MCwxMzIsMTM1LDIwNywxNDYsMjUyLDIyMiw1Nyw1OCwxMTEsMTUxLDIyNSw3OCw1OSwzNiwyMTAsNzAsMjksMTIxLDE2MCwyMTAsMzEsMTA5LDY3LDE2NywxOTQsMTc3LDIzNiw5MSwxMDgsMTY0LDIyOSwxMzAsMjExLDU5LDY2LDkzLDE4LDEwNywyMjYsNTQsMjEwLDUxLDgsNzcsMjE3LDE5LDczLDE4NywzMywzMCw1OSw5LDEzNSwxNjIsNDksNSwxMSwyMjUsMTExLDExOSwxMSwyNDcsMjE4LDEyOSwxMTUsODMsMjA1LDE3MCwyMSw0LDY5LDIxMCwxMzMsMTM0LDI0NSwxMDksMTUsMTc3LDksODEsODEsMjAzLDEwNSw0MiwxNTgsMTIsMjU1LDE1MSwxNjUsMjMwLDIwNSw1LDkyLDE5NiwyNTEsMjExLDE4NywyNywyMTQsNDMsMTg2LDkxLDIzMyw4NSwxOTIsMjI5LDE1LDcxLDM4LDIyMCwyMCwzOCwxMDEsNDQsNzgsNyw2MCwyNTEsMTg2LDc1LDEwMywxMDgsNTMsMTY2LDIyMCwxODYsMjA4LDE5NCwxMjAsMjA3LDIzMCwxNTksMjQ4LDIyLDMyLDE0MiwxMjQsOTYsMTU3LDIyMiw2MCwxOTEsNjUsMTQ1LDYsMjM5LDEyNSwxNTEsMTQ3LDUwLDU4LDEzMCwyMDcsMTEwLDEzMSwyMjMsMjMxLDEzNywyMzgsMjgsMTgyLDIxNiwxNjcsMTk4LDE5MSwzNyw2Nyw3NiwxLDE0NCwyMzIsMjE4LDc5LDcyLDI4LDY1LDEwMSw0MywyMTYsNjQsMjUzLDE2LDE3MywxNzksMTIzLDE0MCwyNywyMzMsMjQ1LDE5OSwyMzAsMzYsMTgxLDEwMiwxMTQsMjQ3LDE2MiwxOCwzNCwyMCwyMTIsMjUsMTcxLDI0LDI4LDE0Myw4MCw5NCw0MCwxNjcsMzQsMjA5LDYxLDExNywxMzAsMSwxOTgsMTk2LDcsMjEsMjUyLDE4MCwyNTUsOTIsMTI4LDExOSw5LDQ4LDE1NiwxMzgsMTM2LDE1MSwxNDMsMjMsNDQsNTIsMyw0MCwxOTcsMjI4LDMxLDEyMyw2NywxNjMsMTQwLDMyLDU0LDIwNCwxODcsMTQ5LDgwLDE5LDI1NSw4MiwxMjAsMTk1LDEyLDExMCw2NSw1NiwyMTIsMTQzLDIyLDc4LDQ0LDIzNCw3MiwxNDAsMjksMTE4LDEwMywxOCwzNiw3LDEyMiw1MCwzNywxMzksNDcsMTQyLDI0MywyNSwyMDgsODgsMjM3LDEyNiw1MCwxMDMsMTI3LDE5LDE4MywyOSwxNjksMjksMSw1NSwyMywxMDAsMzIsMTI5LDIzOSwyNDMsMTYwLDYxLDE3OCwxOTcsMTE3LDE5OSw0NSw1NywyNiwxNjUsMTM1LDkyLDIxOCw1OSwwLDE5Nyw1NCwxMyw5Niw0MCwxNDEsMjEyLDIyMSwxMzEsMTAzLDQ2LDIyLDIyOCwxOTEsMTY3LDczLDIwLDg2LDYyLDExLDE0NywyMTcsMTE2LDIwNSwyMDMsMTEwLDEzNCwyNDksNTEsNiwxMjMsMjMsODYsMjMxLDE1Nyw4LDE0NCw4MywxMjYsMTE1LDExOCwzNSw5NiwzNiwyMjksMzYsMjIwLDIyOCwxNDMsNzEsNDUsMjIzLDEyOSw0OCwyMzYsNSwxNDUsMjAyLDE4OCwyMDgsMTg0LDcwLDI0MSwxMDQsMjU1LDE4OCwxODEsMTQ2LDIxMCwyMDYsMTQ0LDUzLDc3LDEwMSwxMjAsMzgsOCwyNDUsODAsMjMwLDE2NSwxNjAsMTgzLDgzLDIwMiw3OSwxMjcsNTcsMjE0LDEyNiwyNDIsMTUwLDIwOCw0MCwyMzksMTQ4LDM1LDE2MywyMDEsOTcsNzQsNzAsMjE0LDE4MSw2MywyNDAsMTQ3LDMzLDI1MywxNDksMTQwLDc3LDE5Nyw4MiwxMjYsMTg5LDIzMSw3LDE5NiwyMTIsODAsMTQsMTUxLDI0LDU3LDE0NCwyNDMsODEsMjM0LDY2LDI0LDE5LDIzNiwyLDEzNywxMjEsMjQ2LDEyOSw2NSw3LDk5LDExMCwxNzQsNTQsNzQsMTgyLDgxLDIzNCwxNDIsMzcsNzIsMTEwLDIyMCwyNTUsNjQsMTE5LDEwLDE4OCwxMTEsMTkxLDIyOCwxLDIwNSw5LDIwNCwxNDMsNTYsNjIsMTI1LDg0LDEwNiwyMjUsMTMxLDk3LDE5Miw0MywyNDAsMTU3LDE2MSw3NSwxNjgsMjQ3LDQ0LDE3NSw2NSw4MSwxOTIsNDgsMjEsMTU3LDE2Nyw4MCwxOTEsMTMwLDE2MSw3NSw4NSwxODYsMTc0LDQyLDExNywxLDY4LDI1MiwyMDQsMTM4LDI1NCwyMDMsMTUyLDIxLDEzLDY0LDE0NCwxOTUsMjA3LDIzOCwyMjksNTQsMTAzLDI0NywxNTksMjQ1LDIxMSw4NSwxOTEsMTQxLDE2OCwzMiwyMzQsODUsNDYsMTE4LDEyLDUsMTk5LDQsMTksMjE3LDIwMywyMDIsMTU2LDMzLDE0MywxMTQsMTE2LDYwLDY2LDQwLDU4LDc3LDIwOCwyMzcsMTcxLDI2LDcyLDE3NSwxMTQsMjA1LDI0OCw4NywxMzcsNjIsMjEwLDE0MywxNTEsMTk3LDE2NywyMTAsMjQxLDEyMiwxNTAsMTA0LDEyMiwxNTQsMiw3MCwxMDIsODMsMTksMzYsMTQxLDEzNiwxOTksNDIsNzksMjI5LDcxLDg2LDE5NCwxMDksMzEsMjM2LDgwLDE2NiwxNywyMzAsMTA5LDEsNDAsMjgsNDYsMjI0LDU2LDIwLDIzMCw0NywxMDAsMjU0LDExNiwyMDgsNzYsMTY5LDE1NywyNDEsMTc1LDMsNzAsODUsMzEsMzgsMjQ1LDU4LDMzLDgwLDE0NSwyMzcsOCwyMiw3MSwyMjQsMTU4LDE1NiwzMSwyNDksODEsODcsMjQ3LDIzMCwxOTksMjM3LDk2LDE2NywxMjMsNjMsMjQzLDc5LDE1NiwyMDYsMjAzLDE2MCw1NCwxMjQsNjgsMjUzLDIxNSwxMzIsMjM1LDU3LDE4NSw5MiwyMzgsNTUsNTksMjEwLDEwNCw3MSwyNiwxODMsMTgwLDcxLDEyLDI1NSwyMjQsMTkyLDY1LDE1NCw3MiwyNDQsOCwxNjQsMTAsMjQ4LDQ2LDIwNywzMCw5MiwxLDgwLDI0NCwzMSwxODksMTM4LDg4LDIxNiwyMTgsNjMsMTAwLDIyNywxMTYsNTcsMTE5LDk0LDEzNSw1LDEyNiwyNTUsMzIsMTkxLDE2Myw2MSwyMDksMTk0LDg4LDI0OCwxMTIsMTM5LDE3Myw0Myw2OSwxMzQsMywxNjAsMTUxLDEzNywyNSw5OCwyMzksMTY2LDE5LDEyMywyMDgsMTgwLDMxLDEyMCwzMCwxOTEsNzUsMTgzLDE3OSwxMjYsMTgwLDEyNSw5MiwxMDcsMTA1LDIwNiwxMzgsMjgsNjcsMTM5LDMsMTg4LDIzMCwxODQsMjU1LDEyMSwxMywxODEsNDUsMTYwLDExNCwyMDIsMTk0LDEyMyw4Nyw1NSwxMjQsOTcsMTY0LDgyLDk1LDIzMiwyMTYsMTE3LDYyLDUsOTAsMTc2LDgyLDE2Nyw1MiwxNjAsMTUzLDE3NCwxNjgsMTA1LDE0Niw5MSwyNDgsODEsNzksMjQ5LDk3LDEzOCwxMzMsMTcwLDI0NSwyMjksMTMyLDYxLDUsMTQ5LDIyNCwyNDYsMTk0LDIxMyw2MSwxMiwxMDksNDQsMTM2LDIzNSw5NSwyMTksMTMzLDIyMCwyNyw5MywzNiw5MywxMjQsMTgwLDgxLDE0MSwxNTIsMjIwLDE3MCwxNjMsMjI5LDE5NywxMjQsMTcxLDIzMiw0OCw3MCwyNTEsMTA2LDExOSwxNTAsMjAsMTYsNDksMTE5LDI0Nyw0MiwxMzIsMzYsNzYsMjU0LDEyNCwxNzcsNjYsMTc1LDksMSwzOSw5MiwxMjcsMTk1LDE3MSwxOTgsMzQsMiw2NCwxNDQsMTc5LDcyLDQwLDE1MSwxMTAsODksMjI5LDQyLDEyNSwzMywyMzgsMTYsMjIwLDIyOCw1MSwyMDMsOCwxLDY4LDE0NSwyNTMsMTMzLDExOCw5MywxNjMsMTI5LDIyLDEzLDI0OCw2NSwxMiw0LDYzLDEwMSwyMTAsNzAsMTcwLDEzOCwyMDMsMTQsMjQ2LDU0LDE5NCwxOTUsMjcsMTA3LDI0MSwxNzUsMzUsMTcxLDQ5LDUyLDEwNiwxMjEsNDUsMzYsMTUyLDg1LDIxNSwxMzIsNzgsMTY3LDM0LDE4LDE2NywyNDUsMTUyLDEzMywxMzQsMTcwLDEyMCwxODIsMTAsMTQ2LDE5MSwzNywyLDIwNSw0NywxMjUsMjAsMjAzLDQ0LDg4LDgxLDMyLDE1MCwyMjMsMjIwLDIxOCwyMzgsMjU0LDMwLDIxMiwxNjcsMjIxLDExNSwxNTYsODIsMjI2LDEzNywyMjAsMjIxLDk3LDMsMTM5LDIwMiwzMyw5LDI3LDI2LDEyNiw0MCwyMTUsMjUsMTI2LDksODIsMjA4LDQ5LDIxNywxNCwxNjEsODEsMTk2LDYxLDYwLDg3LDI1NCwyMTMsMTk0LDgxLDIxNiwxNjEsMTUxLDIwOSwxNjYsMjIyLDIzMCwyNCwxMjgsMTE3LDE0MCw5Miw0LDIwMywyNTQsMTcwLDI1MywyNDksODgsOTAsMTEyLDIyNiwxOCw0NCwxMjIsMzksMTU4LDE1OCw1Niw2OSwyMDQsMTU5LDUsMTc5LDUxLDE5NywyMzMsMTM5LDIxNiwxMDIsMjI2LDIwNiwyNDgsMTUsNzgsMTEyLDIxNCwxMjYsNjcsMjgsNDAsMzgsOTgsMTkwLDE3OCwyMDYsNjcsOTQsMjQ1LDI1NCwxNjAsMTAxLDE3NiwzMiwxNTcsMjYsMTMyLDgzLDI1MiwyMjgsODcsMjQyLDMyLDEyNywxNjAsMTEyLDIxMCwyMjQsMTMzLDE0OSwxMTUsNDEsMzAsMTYsMjAwLDY5LDg5LDgxLDc3LDE0NCwxMiwxMDYsMTgyLDczLDU0LDI4LDUzLDE5NSwyOCwyMTYsMTc5LDE3OSwxMzYsMzUsMTQxLDEwMiwyMzQsMTc3LDI0MCwzNCwxODYsMTA2LDE0NSwyNDUsMyw4NCw0OCwyNTEsMTU3LDI0NSwxMSwyMTcsMTExLDIyNywxMzgsNDIsNjcsMTE0LDIxMSwxNzcsMzcsMTAzLDE2LDcxLDE1Miw3MiwxMTcsMTIzLDM2LDIxMywyMDIsNTYsMTI0LDIyNyw4NCw4LDQ1LDIyOSwxNDksMTY1LDIxNCw2OSwyNDQsMTY5LDU1LDY4LDYyLDk0LDEwNCwyMjgsNzQsMjA1LDEyMywyMjIsMTcsNywxNzIsMTU4LDIyNyw3NCwyMDYsMTQ5LDY3LDE3NSwxNzEsMjUxLDE4NSwxMjEsMTUxLDIyMyw2MywzNSwyMjksMzIsNDksMTkwLDIwOSwxMjAsMTM3LDY5LDIxMywyMTQsMTksMTUwLDE4NywxNzcsMjgsMTIsMTU4LDE1MywxMjYsMTQ5LDE3MSwxNjcsMjM0LDEyMCwxMjksMTA5LDMyLDE1NywxODAsNzUsNjYsNTYsMjMzLDExNSwxMjcsMjMwLDE1NywzMiwzNCwxNDMsMTU2LDMxLDIzMCwxNjgsMTc0LDEyNSwxMTgsMTk1LDI0OSwyNDMsMTY1LDgxLDI0NiwxMCwxNDQsMTUsMTAzLDEzOSw1NSwxNzMsNyw1OSwxMzYsNjksMTcyLDU0LDEzMiwxNjUsMTQwLDc4LDc3LDIzMCwzMywxNjksMTI5LDE4OCw3MSwyMDksMTA5LDE2MSw4LDU3LDU3LDE5OSwxNDMsMzEsMTY0LDQzLDU4LDEzMCwxLDExMCwxNDUsMzEsMjI5LDEzLDQ2LDE0OSw5NCwyNDQsMTA2LDc2LDIzOCwxMDUsMTA3LDEsMTgzLDE3NywxMCw2MSwyMjUsOTQsMTg1LDExNiw1OCwxODMsOTUsMjI1LDIyLDExOSwxOSwyNDgsMjgsMTMsMTIzLDEyNSwxMDgsMTU4LDY0LDE4NCw3NywyNDUsMTUzLDE2MiwyMTcsMjI3LDIwOCw0MSwxODUsMjExLDIzNSw0MSwxNTMsMTgxLDU0LDE2NiwxNjUsMTEsMTU0LDU1LDIxLDE4NCwyMDksMTkyLDI0OSw0NCwxNjQsMTYwLDI5LDIyOSwxNTksODIsMTU2LDE5OCwyNDEsMTgzLDExNCw4MywxMzcsMTg2LDE1MSwxNDgsMzEsMjEsMTk3LDIxNiwxNDUsMzIsMTMsNTAsMjIsMjQxLDEzNywzOSw3MSwyOCwxNDIsMTYwLDIxNSwxMDcsMjIxLDQ1LDIwMiwxMDQsMjI3LDExMCwxODYsMTIsMTUwLDE0NSwyNDAsNTEsNDksNDQsMTk2LDExNSwyMjQsMjM4LDE0OSwxODksMTM0LDk5LDY3LDI0MSw2MiwxNTcsMjQwLDExNCwyNDcsMTk1LDI2LDIwMCwxNDEsOTcsMTQ3LDI0OSwyMywxNTAsMTc0LDEwLDEzLDIxOSw4MSw3Myw1OCwyNDIsOTYsMjUwLDI0MywxNSw0OSwyMTgsNTgsMjMwLDEwNCwyNTIsMTc1LDE1MCwxMjMsODYsMTg1LDg0LDkwLDE5OCw2LDM2LDAsOTksNzIsMjgsMTY2LDIzOCwxMTUsMjMxLDE3MSwyNDksMTc5LDcxLDE3NCw2OCwxNTYsMjI3LDE3LDE5OCw3OSw3MywxNDIsOTksMTQ0LDIwLDgwLDYyLDgwLDE5MSwxNDIsNDYsNzEsOSwyNDMsNiw4LDIxNCwxMTYsNzIsMTkwLDEwNiwxNjEsMTksMTg1LDEwMCw5LDE4Nyw2NCw5NCw4NiwyMDMsMTc0LDE1NiwyNDUsMjIyLDk1LDU0LDMwLDE0OCwxOSwxMSw1MCwxMTIsOTYsNjEsMjM3LDE1OSwxNzMsNywxNTQsMTI3LDE3NSw3OSw0OCw5Nyw4OSw3OCwxMjYsNjYsMTcxLDIwNCwxNTgsMTk1LDI3LDIyNiwyMDUsMjIyLDE1Nyw4OSwyNTEsOTAsMTI1LDM3LDIxMiwyNyw5NywzLDE0MSwyNDcsMTc1LDUwLDEyMSw3LDE4Nyw2OCwxOTYsMTgxLDIwMiwxNjcsMTg5LDU3LDg0LDgxLDIyMiwyMywyNyw4NCwxMzAsMTc2LDk4LDY2LDI0MCwyMDcsMTgsMjMsMjgsMTYzLDE2MywxOTQsNDUsMzcsMTI5LDIwMiwxNzAsOTcsMTg5LDAsODEsMjM4LDAsMzksMTk5LDE2MywzNSwyMTEsMjA2LDI0Nyw2NSwyOSwxMTYsMjQyLDY3LDEwMiwyMzUsMTMsMTM2LDIzMiwyMzAsMTE0LDE0NiwxODcsNywyNTQsMTQyLDI2LDEyMSwxNiwyMzcsNSwxNjAsMjAxLDExNCw5NCwxNzgsMTk5LDk1LDIxMiwyNDEsNDUsMTEyLDE4MCwxODgsNzIsODYsMTE0LDE4OSwxNTUsMTQ5LDE0OSwxNjMsMjEwLDExMiwxMDEsMTIsNjksMjI1LDc1LDIwMiwyMjMsMjgsMjQyLDkwLDIxNSwxNTYsMTY5LDIyNCwyNDUsMTM1LDEyOCw5MiwxNDgsMjE3LDEzMSwyMDgsMjU1LDI1LDEzNSwxMTcsMTM2LDUsMTA0LDE4NSwyNDksMTYxLDIyOCwyMTQsMTYsMTA1LDIwNCw5LDE4MiwxMzUsMTUzLDIyMCwxMDEsMjQ0LDE2MCwyMDcsNTgsMTgyLDExOCwxODUsMjQwLDU3LDI0NSwxMjMsMTMsMTEyLDE4MiwxMDYsMjI5LDIyMCw5MCwyOSw4NiwyMTUsOTYsMTQ3LDIzMiwyLDU1LDEzMSwyMjUsMTM3LDY4LDI0NSw4OSwxNDEsMjUyLDk3LDMsMTI5LDE1NSwyMTYsMjIzLDk4LDExNiw0NSw3OCw4NSwxNDEsMTYxLDc0LDIxNSw3LDE1MCwxNzEsMjI1LDU5LDc4LDIyMSwxNTIsMjM2LDE0LDExNywxMDAsMjA4LDE1OCw4NiwxMywxODUsMTI0LDg3LDE1NywxMTEsNDAsMTg3LDE4MiwxMjQsMTczLDcxLDE3MywyMywxOTksNTIsMTU1LDE5MCwxMzQsMTEsMjMsNjQsMjUsMjE1LDM5LDExNSwyMzEsMTczLDc3LDcyLDExNCw1NCwyNTIsMTE2LDE3OCw1OSwyMjEsMTA2LDI0MSwxMTksMjU0LDMwLDIyNiwyNDEsMjA0LDIzMywxMTMsMTk3LDk2LDE0NiwwLDQxLDY3LDMsMjMxLDEyNiwxMiwyMTgsMjAyLDIyLDE3MSwxMTQsMjQ5LDE3NiwxMzQsMTYwLDE5LDIxNiwzMSwyMjksMTE4LDIyNiw2MiwyNDIsMTI2LDEyNiw0MiwxMjcsMTMwLDY4LDIxOCwyMTgsODEsMjAyLDEwNiwyMTcsMTkxLDI1LDE3Nyw4Miw5Nyw4MSwzNiwyMzIsMTM3LDU4LDkwLDIxNiwxOTAsMTE3LDIzNSwyMCwxOTQsMTQ0LDc2LDE3OCwyNywyMTMsMTMsMjA4LDE4LDI5LDExOCwxMjYsNDksOTgsMjAzLDE3OSwxMjgsMjM3LDEwMCwzMiwyNDIsMTg5LDIxMiw2LDIxMCwyMTAsMTg4LDE2MSwyMDUsMTMsMTI0LDExOSwxMywyMTUsMTEyLDQxLDE4MywxNzYsMjE1LDE2OCwyMTAsMTgyLDExMSwxLDExNSwyLDIzOSwxNDEsOCwxNzcsMTI0LDExMiw0OCwxOTcsMiwyMzksMTEsOTksNCwzNiw3Nyw2OSw0NywyNDQsMTksMTUzLDYxLDE5LDIsOTYsMTc2LDcsMTEyLDEyMiwxMzEsMTY5LDI1LDE4OSwxMTYsMTcxLDQ5LDEyLDEyMSwxNjIsNzksMTU0LDc0LDI1MSw1MCwyMzMsMTgyLDYzLDE4MCwyMjQsMTE4LDQ5LDI1MywyMSwyMCwxNiwzMSwxNDQsMTg0LDkzLDE3NCwyMzEsMjQ0LDE4MywxMyw0OSwyMjUsMTg5LDIxMSw3MywxODUsNDksMTEwLDE0MiwyNSwyMjYsNDUsMTc2LDIzMywyMDQsNzQsMzMsMTYsMjA1LDg4LDEzMSw5MiwxNTcsMTcwLDE3NSw2OCwxNzAsNjEsNTMsMTE2LDE2NSwxNiwyNywxODIsMTYwLDE4MSw4NywyNDEsMTUsMTUxLDg1LDEwNyw3NiwxNjcsMTI5LDI1LDE3MiwxMjcsMTg0LDEzOCwxNTMsMjIyLDIyOCwxMjUsNjQsNDQsNDUsMzIsMTIsMjI3LDE0OCwxMDYsMTUyLDgzLDI0MCwxNjYsNTQsMjM1LDMyLDE5MCwxMiwyNDIsMTY0LDEyMywxODksNTMsMTk0LDE0MSwxMDQsNDMsMjAyLDExMCw0LDE2OCwxMTksMjQ1LDIzMiwxNzksMTc4LDE5OCwxLDIyNCw4Nyw4NiwxNjAsMzEsMTksMTQwLDIzMywxMDIsMTkxLDIwNCw0LDk4LDEzOCwxNjMsMTkxLDEwNiwyNCwyMTMsNDcsMjA4LDgyLDEzNywxMzIsMTMxLDE2LDI1Myw4NCwyNSwxNDQsOTAsMTU5LDE0OCwxNiwxOTYsODQsMTY2LDYxLDE2MCwxMDEsMjI5LDIyNyw5MywxMTgsNTksODcsNjYsMTYsMTI4LDU5LDk2LDEzMSwyNTAsMjAsMTg0LDE1MCwyMDUsOTEsMjI3LDIwMSw2MiwzNSw3OSwxODAsMTcyLDE3Myw4NSwxOTcsMTA2LDE1MywyMzgsMjI5LDYwLDIwNCw2NSwxOTMsMjMwLDk0LDEwMSwxNzcsMTM0LDYsMTY1LDUzLDE3MSwxNDIsMjA4LDE1NSwyLDExLDQsMjAyLDEyNyw1NCwxNywxNDIsMTE3LDIyNywxMjEsMTI4LDIwNCwxOTIsMTQ3LDE0Nyw5MiwxODksNSwyMjQsMTQ4LDcyLDE4LDgzLDEwMSwxMjYsMTI0LDIyOCwxNTMsMjQyLDEyMywyMjksMjQ3LDkyLDIyMSw2LDczLDIyNywyNTAsODcsMTY3LDE5NCwxMjksMTg3LDczLDM4LDE4NSwxMDksMjE3LDI0MCwxOTMsODgsNTAsMTc4LDE4MCwxNTEsNTQsMTk3LDE4NywxMzcsMTkwLDE2NiwyMzMsMSwxMDMsMjA0LDg4LDMxLDEyNywxODUsMjksNjUsMSwyOSwyNTQsMjIzLDE0LDgzLDE2NywyMTUsMTE0LDI0OCwzMCwxNzMsODksMTczLDE4Nyw2OSw1LDEwNSwxMTcsMTUsMTA2LDk0LDE3Myw2MywyMjcsMjUsMjMwLDE5MCwxMzYsMTY4LDE3NywxNzUsMTA3LDkxLDEyNiwyNTQsMzQsMTg4LDI1LDExOCw0OCwxMiwyMjYsMTMwLDE1MywxNjIsNTcsNDcsMTgxLDIxMiw3OSwxNjAsOTcsNjQsMTU3LDI0Niw5MCw1Myw0MywxNDksNzYsMTAyLDE1LDE5NSwxMDcsNTgsMjQyLDg0LDE3MiwyOSw4MSwxOTgsMTEzLDgxLDI1MSwxMzgsMTgyLDE1NCwxMTEsMzAsMTcxLDEyOSw1NiwxNyw0NSwyMTQsMTUzLDExMiwxMTcsMjAzLDE3NCw0MCwzOCwyMzQsMjM2LDMyLDQsMTEyLDIyNSwyNiwxODcsMTk1LDI0NiwyNTIsOSwyMTgsNjksMTYwLDIyMywxNzgsNTQsMTQ4LDgxLDgsMTM0LDE1MSw3NSwyNDgsNjMsMjI0LDI0MCw0OCw3NSwyNTAsMjIxLDg1LDQ2LDEwMCw1MCwzLDcwLDY0LDEwMiwxMTEsMTYwLDE1NSwyMzMsNTksMTQ3LDE4NCw1Nyw2MSw2LDEyNiw3OSwxNzYsMTYsMTg1LDk0LDE2NiwzMywxMzUsNzgsNDIsNzUsMTQwLDIwOCwxNDAsNDQsMTUzLDE4Nyw2NCwxMDMsMTE5LDE2MCwyMzYsMTYsMjM5LDc0LDIxOCwyMTksMjEyLDIwNywxMTAsNTMsMzAsNzYsMjQ4LDQwLDExMSw5OCw0NCwyMCwxMTMsMjA0LDIzMywxMDksMTM1LDk2LDEwNywzOSwxNjMsMjAzLDEyNSw0NSwxNTcsMTUyLDcxLDIzOSwxNzUsMTc0LDE1OSwxNDcsODAsMTExLDkzLDM4LDI1MywyMjgsMTU0LDIyNSwxODEsMTAxLDEyLDI0MSwxMjcsNjUsNDksMTg5LDUsODUsMTUxLDIzNywyMTMsMTQzLDE0LDEwNCwxMzgsNTQsNTIsMjcsNCwxMzIsNjcsMzUsMTU2LDg2LDE1Nyw3MywxNiwyMjksMjIyLDI0NSwxMTAsNzksMTY1LDE3OSw1NiwxNzksNTMsMjE4LDIyOSwxMDAsNTgsODcsMTQ5LDQ4LDIzMSw2NCw2MywxMTUsNjcsMywxNzIsNiwxODYsMTE1LDE1NCw2MCw1MywyMTQsMTUyLDE0OSw4OSwyMzQsMzcsMTQzLDgyLDI1NSw2NCwyOCwxODMsOTMsMTEyLDM5LDcwLDE4NSw1NywwLDE5OSw5LDYxLDE3NSwyMTksNDEsNzYsMzcsMTc2LDgyLDEyNSw2NSw1MywxNjAsMjE0LDEwNSw2MiwxNTMsMjQ0LDIyMiw5NiwyMDUsNiwxNzgsODUsNDEsMjQwLDExMywwLDk2LDE0OSwzOCwzLDE5NSwxOCwxNTIsNDEsMjQ2LDMsMTAzLDI5LDExMCwxMzQsMzAsMTAxLDc1LDQ2LDEwMywxOTksMTg0LDIwLDIzMCw4LDU1LDEyMCw0LDIyOSwxNjgsMzUsNDMsNywyOCwxNjEsMTQzLDg3LDI3LDg3LDc5LDI1NSwxODYsNDQsMTk1LDE1OCwxNTUsMTgxLDExOSw4MSwxNzIsMjE3LDEwNyw5NSw5OCw1NSwyNDMsMTg2LDY2LDEwNSw0OCwyMjQsMTIzLDIzMiw4NCwxNTYsMjAsMTAsMTU2LDIwOCwyMDQsNTIsMzQsMjI4LDEzNiw5NywyNDIsMjAwLDI0NiwyMTEsNjcsMjAyLDQwLDI0MSw5MSw5MiwyNTMsOSw1NCw3MiwxMzEsMjIxLDEwNiwxNzgsMzIsNDQsMTgyLDQsMjI1LDE5MywzNywyMCwyNDksMjQ5LDIzMSwxMCwyMDYsMTgsNzEsMjU0LDIyMSwxODcsMTcyLDg4LDIwNCw2LDEyNywxMzgsMTAyLDcsMjA4LDc1LDE0NywyMTksMTk5LDE3Nyw3OSwzNiwxNzAsMTAxLDIwNywxNzcsMTA5LDk1LDE0MywyMTcsNDEsMTk5LDgwLDE4MywyMDEsMiwyNTQsMTIsNTUsMjMsMTk4LDE0LDI1NSw2OSwyNDUsMTM4LDE1NSwxMjksMjI3LDE2NywxNjgsMTMwLDE1NiwxMzUsMTQsOTYsOTMsNDgsOTksMTQzLDEwNywxMjYsOTIsMTE3LDE0MywxMTIsMTA4LDE5MywyMjgsODQsMTMsNDEsMTg2LDI3LDE3Miw5MiwyMDEsMTQ5LDExNiwxOSwxMTIsMTk3LDExNiwyMDksMTI4LDEwMiwxLDU1LDE1MiwxNzcsMjgsMzcsMzQsNTAsODMsNDEsMTk5LDc0LDE3OCw1OSwxMTEsNjcsMTE4LDM1LDI1MiwzNiwzMyw4NywyOCwxNzAsMTcsMjE1LDQ3LDkwLDE1NCwxMjQsMTM3LDE1LDE0LDIxMSw1OSw3NSw1OSwzMCw3NywwLDQ5LDM3LDIyNSwxOTEsODcsMTAxLDEyNywyMTQsMjI3LDE2MCw5OSwxNzQsMjM0LDgyLDE0OCwyMzUsMTYsMjQxLDIxOSwxNDcsMTcwLDEyNywyMjEsMjUwLDExNiwzOSwyMTgsMTU2LDcyLDIyNywxNzIsNTUsMCw3OSwxODgsNzYsNTEsMjIyLDIzMiwyNCwzNiw2Miw5NCwxNTQsMyw2MSwyMzAsMTQ2LDExNCwyNTMsMCwxMjgsNTgsMjUzLDkwLDcyLDIxMSwyNDIsMzgsMzksMTMzLDE1MywxNjEsMTE5LDEwNSwxOTUsMTUyLDIyNSwyMDgsMTA1LDE0MCw4MCwyMTcsMTg2LDE5NiwxNTcsMjEsMTE2LDIzMCwxMTYsMTM5LDI1LDE1OSwxNDMsMTE4LDEyOCw3NywyMDEsMjM4LDI0NywyMjgsMTUsMTY4LDQsMTMzLDE0OCwyMSwxNDgsMTIsNDQsMjQxLDcsMTE1LDE3LDEyOSwxNzYsMjAyLDQ2LDEzMCwxMjIsMTI5LDIzNSwxNDEsMjIzLDg1LDIxLDE5OSw2NSwxODEsMTY5LDUyLDE3NCwxNjEsMTUzLDYyLDI1LDE2NCwxMTUsMjEzLDg5LDEzOCwxOTksMTAzLDc5LDIwMCwxNjUsMTM1LDI0OSwyNDQsMjcsMjA5LDE3OCwyNDAsMTI5LDIxMSw2MSw5LDExMSwxNTcsMTQ3LDExOSwzNiwxMTksMjU1LDExMCwxMzAsODQsNDksMjEwLDIyNSwyNDcsMTAwLDI2LDEyMSwxMjcsMTYzLDE2MCwyNiw3OSw5OSwyNCw3Nyw2NSwzMiwxNzgsMTA5LDM2LDI3LDI1MywxNzMsMTEwLDE4MywxMSwxNCwyMTEsNTcsMTMwLDI1NCwxMjQsMTA0LDE2NSwyMTksMzEsNzAsOTcsMTQsMTk0LDM5LDYxLDI2LDE0MSwxMjUsMjI4LDEyNiwxOTQsMTg0LDEwMSwxNjAsMjA0LDEwNiwxMjgsMTQ0LDEwNiwxMDMsMTcxLDE4LDI0NiwxMjksMjIwLDg1LDE3MiwxNTEsMTIzLDUsNzMsMTU1LDE5MiwxNzUsOTEsMTU3LDIzOSw2MSwyMzcsMTE2LDE3MCw2NSwyMzMsNTYsMTksNDksMTE0LDE2OCwxOTAsMywyMTQsNTMsMjUwLDkwLDIxMywyNDQsODgsMTAxLDMwLDIyOSwyNDgsMTI0LDE1LDcxLDE0MSwyNywxNzIsMjM1LDIxLDEyOSwyMTEsNzIsNjEsMTcyLDExMiwxNzAsMTI4LDEzNSw5NiwxOTYsMjIxLDI1NSwyNywxNzYsMTA1LDE4OCwxODMsMTIxLDMzLDM3LDE0OSw1MywxMzEsMjI2LDIzMywyOSwxNjcsMjM0LDIxOCwxMDksNTMsMTg1LDE1MiwzNiwyNDgsNTMsNjEsMjM1LDc4LDIxLDIwMSwyMTQsMjEwLDE2MywxMiwyNTEsMTg3LDQ1LDE4OCwxMzcsMTI2LDEyNywyMzcsOTIsMjM0LDkxLDI0MCwyMjUsMzgsMTk0LDU3LDIxMywyNTEsMjM3LDE3MSwzMCw5OSw1MiwxNCw0OSw4NCwxMDEsMjUyLDIzNyw3LDE2NiwxMjIsMTE0LDMyLDEwNywzMiwyMDcsMjM5LDEzNiwxNjgsMTc4LDEyLDExLDI0MSwyMzMsMjMwLDE0NiwxMzIsMTgsODMsMjMzLDQxLDE3MiwxNyw2LDE2MSw0MiwxMTMsODcsNDAsMjU1LDE4NSwxLDE0NiwxMjgsNSwyNDAsMTI2LDEzMSw3MSw0Miw1NCwxMjQsMjA1LDIsMTIyLDcxLDMwLDIyMiwyMjksNDAsMTM0LDE0MiwxMDIsOTcsMjM5LDE1MSwxNzcsMSwyMzAsMjMxLDQ5LDEyMywyMTksMjgsMTI5LDkxLDE1MiwxMTIsMTMsMTU0LDgxLDE5NywyMjYsMjU1LDExMiwxNTgsMTc4LDE3Nyw1NSwxODEsMTA4LDEzOCwxODUsMjQ1LDI5LDE4NiwyMSw3MywxODgsMjA5LDE1NCwyMDAsODksMTE2LDIzNSwxOTgsMTQ0LDM2LDg3LDI0OCwyMiw3LDIwMCwxMjIsNywxNDgsNDQsNDIsODcsMTQwLDIzOCwyMDQsOTUsMjMxLDI1MiwwLDEzNiwwLDIyLDM5LDcwLDEyMywxMjUsMTY1LDExMywyMjcsMTcyLDE0NiwxNjMsMTI4LDE1OCwzNiw1Miw5MSwxOSwzNiwyNDUsMjcsMTUwLDEzOCwxNDEsMTEsNjcsMjM5LDIyNCw2NSwyNCwxMTYsMTAxLDcsMzksNDYsMTQyLDE3MiwxNjQsMjQzLDE0OCwwLDMzLDIyNiw1OSw0NywyMDMsMTM3LDE1NiwyNDEsNjYsMjUwLDE1NywzMCwyMDQsMTAxLDE0MywxMzQsOTgsMjM4LDE1NSwyMjYsMjUsMTg0LDEzNiwyMTksODksMTAwLDE5MywxMSwxNDMsNzEsMTM5LDI0MywyMzAsMTUxLDAsMjQ5LDEsNzgsMjYsMzIsOTMsMTA0LDE1Nyw2Nyw5NywxNjQsMjQ4LDg2LDEyNCwxNDYsOTMsNzQsMjIyLDIyOCwxNjcsNTUsNTMsMTAwLDEzNSwyMTYsMTA5LDEzLDY0LDM3LDEwNiwxNzcsMjAwLDIwMCwxODIsOTIsMjUxLDY5LDMxLDI0Myw4OSw4MCwxOTgsMTQsMTMyLDIwMyw3MiwxMDMsMjgsMTA0LDIxNywyNCw5NywyMjMsMTEzLDExLDI5LDE3OCwxOTEsMjEwLDQ2LDE2MiwyNTUsNjgsOTksOCwyMzcsMjEzLDE2MiwxNTIsMTkzLDE4MywxMjEsMjAzLDE5LDEwOCwxODIsMjksODYsMjYsMTkyLDEwMywyMjAsMTAzLDIwNSwxNTQsMTc5LDE5Nyw5LDIyLDczLDEyNywxNzUsMTQ2LDM4LDExOSwyMTAsMCwyNCwxODAsMjEsMjQ1LDIxNSwyMDQsOTEsMTg2LDExOSwxMzgsMTgzLDIzOSwxNSwxNTUsMjMxLDI0OCwxMzMsMzksMjQsMTAxLDE0NCwyMzYsMTAsMjMwLDU0LDE3NCwyMjcsNzMsMjEsMTEwLDEwLDE2MCwyNDEsMjMyLDEzMSwxNCwyMTIsMTI3LDIzMiw1OSwxMjIsNjUsMTQ2LDU0LDE2Myw5LDE4OSwxOTAsMTIxLDg4LDE3MCw2MiwxOTQsMTQsMjA0LDE1MiwyNDUsMzgsMTMxLDM3LDkxLDgxLDcyLDExNCwyOSwxMTUsMjM5LDE4Miw1Niw0NCwxNTYsMTU5LDE3NywxODAsODIsMTYwLDkzLDk3LDg2LDE4MywyMzYsNTAsOTUsODUsMzksNzEsMTgxLDIyNSwxNTIsMTQzLDYzLDEyMywxMTcsMzQsNDQsMTA5LDE2MCwxNjYsMjI5LDI0MCw5MSwxMzgsMTAyLDU0LDE4MCwxNzMsNDQsNTAsODAsNDIsMTI0LDcsNTAsMTI0LDIxMSwyMzksMjEsOTQsMTk3LDE4NSwyMzksMjEzLDEwNywxNDIsNjQsOTUsMTI0LDEyNSwxNywxODAsOTcsMTg5LDEwMSw1Miw0OCwxOSwxMTIsMTIsNzAsOSwyMTIsMTc3LDU0LDExOCw2Niw4NCwxNDcsMjM2LDI0OCwyNiwxMjQsOTUsMTAzLDEzNSwyNTQsMTI0LDQ5LDExMiwxODYsOTksMTIwLDkwLDgsMTk0LDE5MSw4OCw1NywyNDIsNjUsNjEsMTAsMTA0LDI0NiwxOTcsMjUyLDE5LDE1OSw1OCwxOTQsNzUsMTczLDI0MiwxMDMsOCwxMTUsODQsNjksMjM4LDE0OSwyNiwxNSwxNTksMTgyLDE0MSwxMzIsMTE5LDcwLDI5LDUzLDIwLDE0Myw0NiwxNjMsMjA0LDYsMjM2LDU5LDQ1LDE4NSwxNzIsODksMTE5LDgzLDM4LDE0NCwzNiwyMjIsOTYsMTUxLDI2LDk5LDE5NSwxNjMsMTcwLDEzMyw5MiwxNTksMjE0LDUzLDE1MCwxMTYsOTAsMTc2LDY5LDE0NSwxMzAsMTUsMTcyLDE0MCwyMTcsMjE1LDEwMSwxNjMsMTE1LDE2MSw2NSwxMDEsOCw3LDE4MywxMTMsMjEzLDEzNCw1OCwxNzUsMTMwLDI1MSwxNDMsMTczLDI0OCwxNjgsMTM1LDYwLDE1OSwzMCwxOTQsNjgsMjA4LDExOSwxMjAsMiw0MCwxNzgsMjI3LDI0NywxNjEsNzcsNDcsMTM2LDQ2LDI0NCwxNjMsNzIsNjUsMTU4LDI1LDIyNSwxOTUsNjEsMTMyLDE4MiwyMDQsMTc3LDE4NiwyMDAsODEsMiw2NSwxMDUsMjEyLDcyLDk0LDIwMywyMzIsMjE3LDE4MiwxMjMsMjUxLDIyOCwxNjAsMSwxNjEsMjA0LDEyMywyMCwzNywxLDc3LDIwOCwxNzksNDUsMTQ5LDE4MSwxMjIsMTAyLDE5MCwxMjMsMjEzLDE2NCwyMzEsNDEsMjE2LDEzMCwyMzQsMjQ4LDIwOCwyNTEsMjUyLDIyMCw4NCwyMDksNjcsNDcsNjEsMjIwLDUsMTQyLDE2MiwyNiwyMzYsMTIxLDE0MiwyNDgsMTMyLDI1NSw2NSwxMjIsMjAzLDE5NiwxMDIsMTkxLDE4NywyLDE5NSwxMjcsMjU1LDE5Myw5Miw0OSw5MSwxODYsMTU0LDM5LDE1NiwyOSwyMTEsMTcyLDQ5LDEwNCwyNDUsMTE0LDE1MywyMjMsMjExLDE5OSwyNDksMzUsMTMwLDE2MCwxMjgsMCwxNTIsMTc2LDE4MywyMCwyMzYsMTEzLDE5MywxMDgsMjYsMjU1LDExLDIzNywxMDIsMTMzLDI0NSw5NCwxMTUsMTE0LDEwLDg5LDIyOSwyMTQsMjIxLDk5LDE0OSwzMCw5OSwzNywyNDYsMTAsMjYsMjYsMzksOTIsMTIzLDE3MCw3MywyMTEsMTI3LDIyNyw1NCwzMCw4NiwxMzMsMTU5LDExMiwyMjUsOTEsMTQ4LDEwMCwxNzQsMTQ5LDc1LDE0MywxNCwxNDAsMjAsNDQsNjQsMjEyLDUsMjQzLDgsMTE2LDYzLDMwLDk3LDQyLDEyMywyMCw3MywyMTIsODUsMjA3LDgzLDEyMiwyNywyNTEsMjMzLDg0LDEwLDE3LDIzNiwyMzIsODMsMjAwLDEyNywxMTksMTQzLDE2MywyMDQsMjIwLDE2Nyw1OSwyMzEsMjAsMTA2LDE4NiwyMjIsMTkxLDgsNDAsMjM0LDIxLDI1LDE4MCwxMywxMTYsMjUwLDE1MiwyMjQsMTc0LDc1LDMsMjA1LDM4LDE3MywyMTUsMjM2LDE1MSwxODUsMTIxLDI1NCwyNDQsMTU0LDIzOSwxNyw1MywxMDYsMTY0LDYxLDQ5LDExNiwyMTYsMTE4LDk0LDE1MCwzNSwxODEsMjYsMjM4LDY2LDQ5LDIxMSwyMjEsMTMyLDE0NiwxNjYsMTE1LDM5LDEzNiwzNiwyMDUsMjMwLDE3OSwzMSwxOTcsNTEsMTQ4LDE2NSwxMDksMzgsNzAsMzcsMTQ4LDUyLDQ0LDIwOSwyNTAsOTgsNTgsMjQ2LDIyNSwxMDMsMTk4LDEwMSwyNiwyNSwxOTYsMjA3LDgsMTY2LDIxLDg4LDI1MiwxNzUsMjUzLDEwLDg4LDEwNywxNTcsMTksMjI1LDYxLDEyLDI0NiwyMjEsMzcsMjM5LDE4NiwxNjcsMTM3LDE0MiwxMzUsMjIyLDEyOCwxNzQsNjIsOTUsMjE2LDM4LDE0MSwxNTcsNDUsMjMyLDk3LDIxNywxNzMsMjAzLDIzNCwxMTYsMTI5LDY5LDIwNiwxODksOTQsMjIxLDEyLDU0LDEzOSwxODYsMjQ3LDE4NCwxNiwyMDAsMTIxLDI0NCwxMDQsOCw3LDM1LDExMSw0NywxODgsMTAsMTQwLDkyLDczLDE0MywyMDYsMjAzLDcyLDEyMiwxODQsMjAsMTAyLDE5NywxMzAsNjQsMTUwLDYzLDk2LDIzOSw4LDEzMiwxMTEsMjE3LDg0LDkxLDE5OCwzMiw0MywxMDAsMTM4LDI0MSwxNSwxNjAsNDIsMTkwLDI1MywxOTMsMTg0LDE2NCwxMjQsMjksMjEwLDk2LDY3LDIyNCwyMjEsMTgyLDI5LDIxOCwxMjksMTQ5LDI5LDEyOCwxNzQsOTgsODgsODgsMTI1LDU2LDQwLDI1NSwxMjAsNSwwLDg3LDE3NCw0MiwxNTAsOTAsMTEyLDIwMSwxODMsMTY5LDE5LDU3LDE5NSwxOTEsMTIsNTgsMjQ0LDIzNSwxMzIsMjUsMTQ1LDcyLDE0NiwyMTQsOCwxMjUsMTAwLDEzNSwxMiw1LDEwMiw5NywyNDgsMTc0LDI0LDE1OSw5MCwzMyw0MywxODcsNiw2MSwyMTIsMjQxLDIyNSwxOTAsMjE5LDI1MiwxOTcsMTIzLDEyOSwxNjQsMTA4LDEyMyw1NSwyMzAsNCwxNTMsMTY2LDEwNSwyMzQsMTUsODUsMjE2LDIzLDU2LDMyLDMsNDEsMTEwLDY4LDE0NiwxNzIsMTMzLDIwMiw5OCw0MSw3LDQ3LDE1MiwzNSwyNTUsMTY4LDEwNiwyNDEsMjI2LDIyMiw3NywyNDQsNTIsMTg1LDY1LDI1MiwyMjcsMzIsNjYsMzgsMTEsMTcyLDYwLDI4LDI4LDEwMyw4NCwxLDEsMjA1LDE4MiwxOTAsMjgsMTg5LDEwMiwyNTMsNDMsMSwxOTEsMTQ4LDExNiwxMCwyMjcsMTgsODEsOTMsODAsMjM5LDE1NywyMzIsMjE1LDE4MCwxNjMsMTY1LDE2MSwxMDksMTc3LDcxLDE1MCwyNDQsMTQ0LDIwOCwxNjAsMTEwLDIyLDE3NCw2MCwyMDYsNDMsMTAzLDEyMSw1NSwxMDMsMTE0LDExNSwxNzMsMjM4LDEzLDEwLDIyNywyNTEsNDEsMTc2LDIxNiwxNTgsMjI5LDIxNiw1NSwyMzQsMTI4LDEyOCwyMCwxNjcsMTA2LDE4MSw4NiwxNjMsMTMwLDIxNSwxMTAsMTQ5LDE5MSwxMCwyMjcsMjE1LDgsMjE0LDE1NCwxNzgsMTgxLDE1LDE5LDAsMjQ3LDI1MCw5Nyw3NCw0MywxNTcsNTUsOTQsMTc0LDQxLDQxLDksMTk5LDk3LDIwLDkxLDMyLDE4LDEwLDQzLDk4LDI0MCwyNDcsMjAzLDIwLDI1MCwxMTcsMTYwLDQ0LDIyOSwyMDIsMTg3LDY0LDU0LDEyNCwxNSwxODQsMTY5LDEyOSwyNywxNjAsMjQwLDI2LDYxLDI1NSw2MCwxNjYsNjAsMTQ0LDIwOSw4NCw1NSwxODcsMTg2LDE2OCwxMywxMjQsMTI1LDI5LDE3LDEwMCwyNDksMjI3LDYyLDIwNSw3OCwxNzksMTYzLDE2OCwxMzksMTY4LDIxLDM4LDgzLDIzOSwxNTEsNzQsNDMsNjYsMiw5Miw3Miw3MSw5NCwyMTYsMTM0LDIzOCwyMCw0NSwxNTgsMjEzLDE2NCw3Myw1Nyw4MCw0NywxOTgsMTg0LDEzMCwyMjMsMjI3LDcxLDEzMiwxMzMsMjM1LDE3Nyw4NSwxNzQsMTQyLDEyNCwxNzIsMjAwLDU0LDIyOSw0MCwxMjYsNjAsNzYsOTIsMjE2LDE1Myw1NiwyNDEsMTc0LDY2LDE0MSw5MCwyMjYsMywzMCw2OCwyMzQsNzEsMTg3LDE2MywxMTIsMTQ2LDI1NSwyMiwxNDMsMTcwLDIwNCwzLDEyNywxNzksODEsMTM5LDE2MCwzNyw3NywyNDYsMTI4LDIyMCwxOTYsMTU4LDE1Myw3MywxNzcsNjUsMTk5LDExOSwyOSwxOTcsMTQ0LDEzMCwyNDgsMjA2LDE1NSwyNTMsMTA4LDIxMywxMjQsNywyMjMsMjIxLDE2MiwxNDYsMTM0LDI0Miw2NSw5OSwxNjIsMTA3LDEyMCwyNDcsMjE0LDIwNyw5NiwxNTAsMTY5LDEzMSwyMDgsMjE4LDIyMSwyOCwyNCwxMTIsMjA4LDIzLDEsMTMwLDE0MiwyMzIsNTYsMTA0LDQ1LDMzLDE1OCw5NSwyNTUsMTIzLDMxLDc0LDc2LDEyMCwxNzgsMTU1LDIxMyw2LDE5NSwxNjQsOCw4LDY5LDI0MSwxOTcsMTI3LDgzLDE2OSwyMSwxNjcsMTksOTQsMTQzLDI1MiwzMywxNTksMjQ4LDI0MSwxNzAsMTUzLDE0NywxLDE0OSwxOTksMjAxLDEzMSwxNzAsNzksMjM2LDIxMiwyMDksMTQzLDEwNyw5OCwyNCwxMjMsNTYsMzMsMTkzLDg1LDI0Nyw2NCwyMjUsMTM1LDIxMCw3OCwxNDUsNTcsMTYsMTQ1LDcxLDE3MCwyMCwxMzMsODcsMjM1LDQsMTY2LDIzOSwxMDAsODIsMjM1LDgxLDUwLDIyMyw5LDE5Myw1Miw0OSw4NiwxMjksMTkwLDE5Niw4MiwxNjUsMTA3LDYzLDExNSwxNjEsOTgsMzMsMjAsMTkzLDI5LDQyLDE1MSwyMDUsMjUyLDEyNCw3MiwyNDUsNDgsMTgxLDY3LDcsMTMsMjEsMTI3LDU5LDIyNiwxODgsMTQ0LDEyOSwxMTIsMjQ0LDE5MiwxMjEsMjEzLDgwLDQyLDE5NiwxLDEzLDEwNywxMDgsNzgsMCw0MCwxMjEsMjI1LDE0OCwyMzcsMjM0LDIwOSwyMTYsMjM4LDksMTQ3LDIyNiwyNTQsOTYsODksMjEyLDcyLDE5MywxMDYsNzUsMTM1LDc0LDIyNyw2NywyNTUsOTIsMTkxLDgxLDE4OCwxMjQsMjI2LDE0OSwxNTIsMTQyLDE1LDE1OSwxOTUsMjM4LDExNCw1NSwyNTUsMTY2LDE1NywyMzAsNTksMTQ4LDE3MCwxNjYsMTUxLDY1LDIxMywxMDQsMjUzLDI1MywxMTIsMTUwLDgyLDE0NywxMzcsMjcsMjE0LDEwMCwyNDcsNjUsODEsOTIsNDcsODYsMjE3LDcsNDUsMTIwLDgxLDEzMCwzMSwyMzYsMjQzLDc2LDc4LDMsNDUsMTA1LDE3MiwyMjAsNzEsNDgsMjIwLDk0LDE5NiwyNDksMTYzLDE5MywxMzMsNTAsMjM2LDIwNSwyMCw1NSwyLDYzLDE0LDEyNyw2OSwxMTMsMjEyLDIwNCwxMiw1OCw3OSw4OSw4NiwyOSw2MSwxOTksMjAxLDY0LDE0OSw2LDE0NCwxODIsMTUwLDEyOSwzMSwxOCwxNjcsMTIwLDI0OCw4MiwxMDcsMjUsMTQzLDEyOCwyNywxNjEsMjgsMjUsMTUzLDE4MywyMTcsMjM4LDc4LDE4NiwxMDYsOTIsMjcsMjAyLDIxOSwxNjUsOTYsMCwyMTYsMjM0LDE2OSw3MywxMDEsMzksMTgyLDExMywyMTcsMjQwLDE3MCwxMTYsMTcyLDIyMSwyNTAsMjMzLDQ4LDQ5LDI0Miw4MywyMjcsOTIsMTgxLDE4NCw3MiwyMzAsMTgwLDIxLDE1LDEwOCwxMzUsMjUsMzgsMTUzLDI1LDEyNCwyMjcsMjYsMTQ5LDczLDIzNiwzOSwyMTEsMjQ0LDE0OSw1OCwxODMsMTMyLDI2LDIyMywyMTksMTc0LDE0NCwxMTcsMjMzLDIxOSwxNjUsMjA1LDE1NywxNTksMjIyLDE4NCw1Miw0NywyNDEsMjAxLDEyMyw2NSwyNCw0NCw1NSwyMTUsMTc3LDE2OCwyNTAsMTc5LDExNSwxOTAsMjI3LDEyMywxNTgsMTYzLDE3OSwyMjQsNjksMTk2LDY2LDIwNywyNTQsMjQzLDEwMSwyMjEsMTkzLDE0MCwyNTAsNCwyOCwyMjIsNTIsOTYsMTM4LDE2MCwzMywyMTgsNjQsMTE4LDIxNCwyMzQsMjAxLDE1MiwxNDgsOTEsMTc4LDExMSwxMDcsMTQ0LDE0Miw2LDE4MiwxMDIsNzIsMTg4LDM0LDIxMywxODEsMjYsMjIzLDU4LDI1NSwxMDMsODEsMTcsNDcsMTY5LDExLDI0NSwyMjQsMTIzLDE0OCwyMTUsMjM3LDE4NiwxMDcsNzUsMTUyLDkwLDIwMiwxNjYsMjIsMTQ5LDE5Nyw1LDI0NiwyMzgsNzgsNzYsMjI5LDEwNiwxOTksOTQsMTI3LDE5NSwwLDQ1LDgyLDYsMTU5LDEwMyw5NiwxMzgsMjMxLDcxLDQ2LDEwNyw1OSwyMTYsMzksNDMsMTIsMjIxLDI3LDIxNCw1NiwxNTUsMTQ1LDY2LDE4NywxNjksMjUwLDIzNSw3OCwyMTEsMTc5LDIzOSwxODMsMTk4LDE2Myw5Myw1LDE5NiwyNCwxNzQsMTQzLDIyNSwxMDYsMTM5LDg5LDk4LDEzLDEyNywyMDcsMTg0LDE5NCwzMCwxLDE2NSwxOTgsMTY5LDgsMTk3LDExOCw4NiwxNjMsMjIxLDEzOCwyMywyMDksNjEsMTE2LDc5LDk5LDIzMyw0MywxMzAsNjAsMjQ0LDg1LDIyOSwyNDMsMTcyLDEyMywxNDgsMjAwLDEyMCwxOTIsMTI3LDIxMSw1MiwxMSwxNTksNDEsOTUsMjEyLDIzMCwxODgsMTY5LDE1NiwxMzcsMjksMjEyLDEyLDE0OCwxNjgsMTQ4LDEzMywyNDMsNDQsMjQxLDEzOSwxMjcsMjQsMjQ2LDIyMCwyMjcsMTI1LDIwOSw5Nyw2MCw1MiwxNjIsMTkyLDE0Niw0OSwxNjEsOTIsMTM4LDExMiwxODksMTI4LDU5LDEyNiwxMjUsNDYsMjA3LDYwLDc5LDIzMSwxNzQsMTUyLDIwOSw2OCwyMjMsMjA1LDIsMzgsMTQsOTEsMTE2LDE1OSwyNTUsMjgsMjcsMTc4LDI0OCwxNjQsMTA0LDE1OCw3OSw2OSwyMTQsMjM0LDE1NywxMiw3NSwxNjMsODMsMjUzLDI0NSwyMDIsNjEsMjEzLDE3Niw2LDE5NywyMzAsMjksMjA4LDE2NiwyNTMsMTk0LDI1NCwyMzUsMjksMTQxLDI0MSw3MCwyNDksMTUsNjIsMCwxNDgsMTYzLDEzNSw1MiwxMjIsNDAsOTYsODcsMzEsMTc5LDE1Miw1MSwyMTYsMTMzLDE4NCwxMjIsMTk4LDIwMyw2MCwxMTUsMjE4LDE5MSwxOTMsMTYsMTc4LDI1LDE0OCwyNTIsMTEyLDEwNCwxMDMsMjUyLDM2LDkyLDIyMSwyOCwxNzksNDMsMTk5LDE5OCwxNTEsMTI4LDEwMCwyNTIsMjE3LDE2MSwyNDksMzQsMjAxLDE3MiwxMTgsNTIsMTgwLDI1MiwxMDQsNywyMjMsNDQsMTE2LDEwMiwyMTIsMjEsNDAsMjI0LDE4NCw1NSwxNjMsMjEwLDIxLDIwNywxNjEsMjM5LDUxLDU0LDE1NSw0MSwxMzMsMTgsNjcsNDgsMywxNjUsMTMwLDI1MSw0LDc5LDIxNCw1Nyw3MiwxMzAsMTU3LDIxMiwxNDRdO2Z1bmN0aW9uIE8oZSx0LG4pe3ZhciByPWUuZ2wsaT01LG89LjEsYT0uNSxzPTE3NS8xODAqMy4xNDE1OTMsYz0xMTUvMTgwKjMuMTQxNTkzLGQ9MTczLzE4MCozLjE0MTU5Myx1PTExNi8xODAqMy4xNDE1OTMsbD0yLjA0MjAzNTQ1LGY9MCxwPTAsZz0wLG09W10saD1bMCwxLDMsNCw2LDcsOSwxMCwxMiwxMywxNSwxNiwxOCwxOSwyMSwyMiwyNCwyNiwyOSwzMSwzNCwzNiwzOSw0MSw0NCw0Niw0OSw1MSw1NCw1Niw1OSw2MSw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3Miw3Myw3NCw3NSw3Niw3Nyw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Nyw4OCw4OSw5MCw5MSw5Miw5NCw5NSw5Niw5Nyw5OCw5OSwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIzLDEyNCwxMjUsMTI2LDEyNywxMjgsMTI5LDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NSwxNDYsMTQ3LDE0OCwxNDksMTUwLDE1MSwxNTMsMTU0LDE1NSwxNTYsMTU3LDE1OCwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY4LDE2OSwxNzAsMTcxLDE3MiwxNzMsMTc1LDE3NiwxNzcsMTc4LDE3OSwxODAsMTgyLDE4MywxODQsMTg1LDE4NiwxODcsMTg4LDE5MCwxOTEsMTkyLDE5MywxOTQsMTk1LDE5NywxOTgsMTk5LDIwMCwyMDEsMjAyLDIwNCwyMDUsMjA2LDIwNywyMDgsMjA5LDIxMCwyMTIsMjEzLDIxNCwyMTUsMjE2LDIxNywyMTksMjIwLDIyMSwyMjIsMjIzLDIyNCwyMjYsMjI2LDIyNiwyMjcsMjI3LDIyNywyMjgsMjI4LDIyOCwyMjksMjI5LDIyOSwyMzAsMjMwLDIzMSwyMzEsMjMxLDIzMiwyMzIsMjMyLDIzMywyMzMsMjMzLDIzNCwyMzQsMjM1LDIzNSwyMzUsMjM2LDIzNiwyMzYsMjM3LDIzNywyMzcsMjM4LDIzOCwyMzksMjM5LDIzOSwyNDAsMjQwLDI0MCwyNDEsMjQxLDI0MSwyNDIsMjQyLDI0MywyNDMsMjQzLDI0NCwyNDQsMjQ0LDI0NSwyNDUsMjQ1LDI0NiwyNDYsMjQ2LDI0NywyNDcsMjQ3LDI0OCwyNDgsMjQ4LDI0OSwyNDksMjQ5LDI1MCwyNTAsMjUwLDI1MSwyNTEsMjUxLDI1MiwyNTIsMjUyLDI1MywyNTMsMjUzLDI1NCwyNTQsMjU0LDI1NV0sRT1bMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMiwzMywzNSwzNiwzNywzOSw0MCw0Miw0Myw0NCw0Niw0Nyw0OSw1MCw1MSw1Myw1NCw1Niw1Nyw1OCw1OSw2MSw2Miw2Myw2NCw2Niw2Nyw2OCw2OSw3MSw3Miw3Myw3NCw3Niw3Nyw3OCw3OSw4MSw4Miw4Myw4NCw4Niw4Nyw4OCw5MCw5MSw5Miw5Myw5NSw5Niw5Nyw5OCwxMDAsMTAxLDEwMiwxMDMsMTA1LDEwNiwxMDcsMTA4LDExMCwxMTEsMTEyLDExMywxMTUsMTE2LDExNywxMTgsMTIwLDEyMSwxMjIsMTI0LDEyNSwxMjYsMTI3LDEyOSwxMzAsMTMxLDEzMiwxMzQsMTM1LDEzNiwxMzcsMTM5LDE0MCwxNDEsMTQyLDE0NCwxNDUsMTQ2LDE0NywxNDksMTUwLDE1MSwxNTIsMTU0LDE1NSwxNTYsMTU4LDE1OSwxNjAsMTYxLDE2MywxNjQsMTY1LDE2NiwxNjgsMTY5LDE3MCwxNzEsMTczLDE3NCwxNzUsMTc2LDE3OCwxNzksMTgwLDE4MSwxODMsMTg0LDE4NSwxODYsMTg4LDE4OSwxOTAsMTkyLDE5MywxOTQsMTk1LDE5NywxOTgsMTk5LDIwMCwyMDIsMjAzLDIwNCwyMDUsMjA3LDIwOCwyMDksMjEwLDIxMiwyMTMsMjE0LDIxNSwyMTcsMjE4LDIxOSwyMjAsMjIyLDIyMywyMjQsMjI2LDIyNiwyMjYsMjI3LDIyNywyMjgsMjI4LDIyOSwyMjksMjMwLDIzMCwyMzEsMjMxLDIzMiwyMzIsMjMzLDIzMywyMzQsMjM0LDIzNCwyMzUsMjM1LDIzNiwyMzYsMjM3LDIzNywyMzgsMjM4LDIzOSwyMzksMjQwLDI0MCwyNDEsMjQxLDI0MiwyNDIsMjQzLDI0MywyNDMsMjQ0LDI0NCwyNDQsMjQ1LDI0NSwyNDUsMjQ2LDI0NiwyNDYsMjQ3LDI0NywyNDcsMjQ4LDI0OCwyNDgsMjQ5LDI0OSwyNDksMjUwLDI1MCwyNTAsMjUxLDI1MSwyNTEsMjUyLDI1MiwyNTIsMjUzLDI1MywyNTMsMjU0LDI1NCwyNTQsMjU1XSxTPVsxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNSwzNiwzNywzOCwzOSw0MCw0MSw0Myw0NCw0NSw0Niw0Nyw0OCw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1OCw1OSw2MCw2MSw2Miw2Myw2NSw2Niw2Nyw2OCw2OSw3MCw3Miw3Myw3NCw3Niw3Nyw3OCw4MCw4MSw4Myw4NCw4NSw4Nyw4OCw4OSw5MSw5Miw5NCw5NSw5Niw5OCw5OSwxMDAsMTAyLDEwMywxMDUsMTA2LDEwNywxMDksMTEwLDExMSwxMTMsMTE0LDExNiwxMTcsMTE4LDEyMCwxMjEsMTIyLDEyNCwxMjUsMTI3LDEyOCwxMjksMTMxLDEzMiwxMzMsMTM1LDEzNiwxMzgsMTM5LDE0MCwxNDIsMTQzLDE0NCwxNDYsMTQ3LDE0OSwxNTAsMTUxLDE1MywxNTQsMTU1LDE1NywxNTgsMTYwLDE2MSwxNjIsMTYzLDE2NCwxNjUsMTY2LDE2NywxNjgsMTY5LDE3MCwxNzEsMTcyLDE3MywxNzQsMTc1LDE3NiwxNzcsMTc4LDE3OSwxODAsMTgxLDE4MiwxODMsMTg0LDE4NSwxODYsMTg3LDE4OCwxODksMTkwLDE5MSwxOTIsMTkyLDE5MywxOTMsMTk0LDE5NSwxOTUsMTk2LDE5NywxOTcsMTk4LDE5OSwxOTksMjAwLDIwMSwyMDEsMjAyLDIwMywyMDMsMjA0LDIwNSwyMDUsMjA2LDIwNywyMDcsMjA4LDIwOSwyMDksMjEwLDIxMSwyMTEsMjEyLDIxMywyMTMsMjE0LDIxNSwyMTUsMjE2LDIxNywyMTcsMjE4LDIxOSwyMTksMjIwLDIyMSwyMjEsMjIyLDIyMywyMjMsMjI0LDIyNSwyMjUsMjI2LDIyNywyMjcsMjI4LDIyOSwyMjksMjMwLDIzMSwyMzEsMjMyLDIzMywyMzMsMjM0LDIzNSwyMzUsMjM2LDIzNywyMzcsMjM4LDIzOSwyMzksMjQwLDI0MSwyNDEsMjQyLDI0MywyNDMsMjQ0LDI0NSwyNDUsMjQ2LDI0NywyNDcsMjQ4LDI0OSwyNDksMjUwLDI1MSwyNTEsMjUyLDI1MywyNTMsMjU0LDI1NV07dGhpcy5wcm9ncmFtPXYocixBKSx0aGlzLnNldFVuaWZvcm1zPWZ1bmN0aW9uKCl7dmFyIHQ9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwidV9mbGlwWVwiKSxuPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInVfZGVub2lzZUxldmVsXCIpO3IudW5pZm9ybTFmKG4saSksci51bmlmb3JtMWYodCwxKTt2YXIgaD1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJsaWdodFwiKTtyLnVuaWZvcm0xZihoLG8pO3ZhciB2PXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInJlZG5lc3NcIik7ci51bmlmb3JtMWYodixhKTt2YXIgRT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJza2luX2hlX21heFwiKSxTPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInNraW5faGVfbWluXCIpLF89ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwic2tpbl9oY19tYXhcIikseT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJza2luX2hjX21pblwiKSxSPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcInNraW5faGNfYXhpc1wiKSxUPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxcImZhY3RzX3JvdGF0ZV9jXCIpLEk9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwiZmFjdHNfcm90YXRlX2xlXCIpLGI9ci5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLFwiZmFjdHNfcm90YXRlX2dlXCIpO3IudW5pZm9ybTFmKEUscyksci51bmlmb3JtMWYoUyxjKSxyLnVuaWZvcm0xZihfLGQpLHIudW5pZm9ybTFmKHksdSksci51bmlmb3JtMWYoUixsKSxyLnVuaWZvcm0xZihULGYpLHIudW5pZm9ybTFmKEkscCksci51bmlmb3JtMWYoYixnKTt2YXIgQT1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sXCJ1X29yaWdpbkltYWdlXCIpO3IuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUyKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxlLmlucHV0VGV4dHVyZSksci51bmlmb3JtMWkoQSwyKTtmb3IodmFyIE89W1wibGlnaHRlbl9sdXRcIl0sQz1bci5URVhUVVJFM10sTj0wO048Ty5sZW5ndGg7TisrKXt2YXIgdz1yLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sT1tOXSk7ci5hY3RpdmVUZXh0dXJlKENbTl0pLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELG1bTl0pLHIudW5pZm9ybTFpKHcsTiszKX19LHRoaXMuc2V0UGFyYW1ldGVycz1mdW5jdGlvbihlKXt2b2lkIDAhPT1lLmRlbm9pc2VMZXZlbCYmKGk9ZS5kZW5vaXNlTGV2ZWwpLHZvaWQgMCE9PWUubGlnaHRMZXZlbCYmKG89ZS5saWdodExldmVsKSx2b2lkIDAhPT1lLnJlZG5lc3NMZXZlbCYmKGE9ZS5yZWRuZXNzTGV2ZWwsdGhpcy5fdXBkYXRlUmVkbmVzcyhhKSksdm9pZCAwIT09ZS5saWdodGVuaW5nQ29udHJhc3RMZXZlbCYmdGhpcy5fdXBkYXRlTHV0KGUubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWwpfSx0aGlzLl91cGRhdGVSZWRuZXNzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj0zLjE0MTU5MyxpPWUsbz1pO2k+MSYmKGk9MSksaTwwJiYoaT0wKSxvPjEmJihvPTEpLG88MCYmKG89MCksZj0uOCppLG88LjgmJihvPTApLChsPSgxMTctNCpvKS8xODAqcik8KHU9KDExNi00Km8pLzE4MCpyKSYmKGw9dSksdTxyLzImJih1PXIvMiksbDxyLzImJihsPXIvMiksKGM9KDExNS00Km8pLzE4MCpyKTxyLzImJihjPXIvMiksKGQ9MTczLzE4MCpyKT5yJiYoZD1yKSxsPnImJihsPXIpLChzPTE3NS8xODAqcik+ciYmKHM9ciksbj1kLWwsZz0odD1zLWQpPi4wMT9mKm4vdDpmLG49bC11LHA9KHQ9dS1jKT4uMDE/ZipuL3Q6Zn0sdGhpcy5fdXBkYXRlTHV0PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7MD09ZSYmKHQ9RSksMT09ZSYmKHQ9UyksMj09ZSYmKHQ9aCk7Zm9yKHZhciBuPVtuZXcgVWludDhBcnJheSh0KV0saT1bMjU2XSxvPVsxXSxhPTA7YTxuLmxlbmd0aDthKyspci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsbVthXSksci50ZXhJbWFnZTJEKHIuVEVYVFVSRV8yRCwwLHIuTFVNSU5BTkNFLGlbYV0sb1thXSwwLHIuTFVNSU5BTkNFLHIuVU5TSUdORURfQllURSxuW2FdKX0sdGhpcy5faW5pdD1mdW5jdGlvbigpe3ZhciBlPW51bGw7ZT1FO2Zvcih2YXIgdD1bbmV3IFVpbnQ4QXJyYXkoZSldLG49WzI1Nl0saT1bMV0sbz0wO288dC5sZW5ndGg7bysrKXt2YXIgYT1yLmNyZWF0ZVRleHR1cmUoKTtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxhKSxyLnRleEltYWdlMkQoci5URVhUVVJFXzJELDAsci5MVU1JTkFOQ0UsbltvXSxpW29dLDAsci5MVU1JTkFOQ0Usci5VTlNJR05FRF9CWVRFLHRbb10pLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfUyxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfVCxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01JTl9GSUxURVIsci5MSU5FQVIpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01BR19GSUxURVIsci5MSU5FQVIpLG0ucHVzaChhKX19LHRoaXMuX2luaXQoKX12YXIgQz0hMTtmdW5jdGlvbiBOKCl7dGhpcy5wcm9ncmFtcz1bXTt2YXIgZT10aGlzLHQ9bnVsbCxuPW51bGw7ZS5nbD1udWxsLGUuaW5wdXRUZXh0dXJlPW51bGw7dmFyIHI9W10saT1bXSxvPTAsYT0wO2UuX2luaXRHbD1mdW5jdGlvbihuLHMpe2UuaW5wdXRUZXh0dXJlPXQuY3JlYXRlVGV4dHVyZSgpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUuaW5wdXRUZXh0dXJlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTElORUFSKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTElORUFSKTtmb3IodmFyIGM9MDtjPDQ7YysrKXt2YXIgZD10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxkKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTElORUFSKSxjPDI/dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSxuLHMsMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLG51bGwpOnQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEscyxuLDAsdC5SR0JBLHQuVU5TSUdORURfQllURSxudWxsKTt2YXIgdT10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUix1KSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsZCwwKSxyLnB1c2goZCksaS5wdXNoKHUpfXQudmlld3BvcnQoMCwwLG4scyksbz1uLGE9c30sZS5yZW5kZXI9ZnVuY3Rpb24ocyl7aWYodCl7dmFyIGM9MDthPT1zLnZpZGVvV2lkdGgmJm89PT1zLnZpZGVvSGVpZ2h0JiYoYz0yKSx0LnZpZXdwb3J0KDAsMCxzLnZpZGVvV2lkdGgscy52aWRlb0hlaWdodCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS5pbnB1dFRleHR1cmUpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxzKTtmb3IodmFyIGQ9Qz9lLnByb2dyYW1zLmxlbmd0aC0xOjAsdT0wO3U8PWQ7dSsrKXt2YXIgbD1lLnByb2dyYW1zW3VdLnByb2dyYW07dC51c2VQcm9ncmFtKGwpO3ZhciBmPXQuZ2V0VW5pZm9ybUxvY2F0aW9uKGwsXCJ1X2ltYWdlXCIpO2UucHJvZ3JhbXNbdV0uc2V0VW5pZm9ybXMoKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGlbYyt1JTJdKSx0LmNsZWFyQ29sb3IoMCwwLDAsMSksdC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLHQuZHJhd0FycmF5cyh0LlRSSUFOR0xFUywwLDYpLHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwKSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxyW2MrdSUyXSksdC51bmlmb3JtMWkoZiwwKX10LnVzZVByb2dyYW0obik7dmFyIHA9dC5nZXRVbmlmb3JtTG9jYXRpb24obixcInVfZmxpcFlcIik7dC51bmlmb3JtMWYocCwtMSksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKSx0LmNsZWFyQ29sb3IoMCwwLDAsMSksdC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLHQuZHJhd0FycmF5cyh0LlRSSUFOR0xFUywwLDYpfX0sZS5zZXRFbmFibGVCZWF1dHk9ZnVuY3Rpb24oZSl7Qz1lfSxlLmluaXQ9ZnVuY3Rpb24ocixpLG8pe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwiTk9UX1NVUFBPUlRcIik7dD1vLmdldENvbnRleHQoXCJ3ZWJnbFwiKSxlLmdsPXQsZS5faW5pdEdsKHIsaSksZS5wcm9ncmFtcy5wdXNoKG5ldyBTKHRoaXMscixpKSksZS5wcm9ncmFtcy5wdXNoKG5ldyB5KHRoaXMscixpKSksZS5wcm9ncmFtcy5wdXNoKG5ldyBUKHRoaXMscixpKSksZS5wcm9ncmFtcy5wdXNoKG5ldyBiKHRoaXMscixpKSksZS5wcm9ncmFtcy5wdXNoKG5ldyBPKHRoaXMscixpKSksbj1lLnByb2dyYW1zWzBdLnByb2dyYW19LGUucmVsZWFzZT1mdW5jdGlvbigpe2UuZ2w9bnVsbCx0PW51bGwsbj1udWxsLGUuaW5wdXRUZXh0dXJlPW51bGwsZS5wcm9ncmFtcz1bXSxyPVtdLGk9W119LGUuc2V0RGVub2lzZUxldmVsPWZ1bmN0aW9uKHQpe2UucHJvZ3JhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZXRQYXJhbWV0ZXJzJiZlLnNldFBhcmFtZXRlcnMoe2Rlbm9pc2VMZXZlbDp0fSl9KSl9LGUuc2V0TGlnaHRMZXZlbD1mdW5jdGlvbih0KXtlLnByb2dyYW1zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0UGFyYW1ldGVycyYmZS5zZXRQYXJhbWV0ZXJzKHtsaWdodExldmVsOnR9KX0pKX0sZS5zZXRSZWRuZXNzTGV2ZWw9ZnVuY3Rpb24odCl7ZS5wcm9ncmFtcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldFBhcmFtZXRlcnMmJmUuc2V0UGFyYW1ldGVycyh7cmVkbmVzc0xldmVsOnR9KX0pKX0sZS5zZXRDb250cmFzdExldmVsPWZ1bmN0aW9uKHQpe2UucHJvZ3JhbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZXRQYXJhbWV0ZXJzJiZlLnNldFBhcmFtZXRlcnMoe2xpZ2h0ZW5pbmdDb250cmFzdExldmVsOnR9KX0pKX0sZS5zZXRTaXplPWZ1bmN0aW9uKHQsbil7ZS5wcm9ncmFtcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldFNpemUmJmUuc2V0U2l6ZSh0LG4pfSkpfX1OLl9pbnN0YW5jZT1udWxsLE4uZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gTi5faW5zdGFuY2V8fChOLl9pbnN0YW5jZT1uZXcgTiksTi5faW5zdGFuY2V9O3QuYT17YWRkVmlkZW9FZmZlY3RDYXBhYmlsaXR5OmZ1bmN0aW9uKGUpe2UudmlkZW9FZmZlY3Q9e2NhbnZhczpudWxsLHZpZGVvOm51bGwsZnBzOjMwLHN0b3BDaHJvbWVCYWNrZ3JvdW5kTG9vcDpudWxsLGVuYWJsZUJlYXV0eTohMSxkZW5vaXNlTGV2ZWw6NSxsaWdodExldmVsOi4zNSxyZWRuZXNzTGV2ZWw6LjUsbGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWw6MSx2aWRlb0NvbnRleHRJbml0ZWQ6ITEsb3JpZ2luVmlkZW9UcmFjazpudWxsLGNhbnZhc1ZpZGVvVHJhY2s6bnVsbCxjdHg6bnVsbH0sZS5faW5pdFZpZGVvQ29udGV4dD1mdW5jdGlvbigpe2lmKGUudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0IHZpZGVvIGNvbnRleHQuIEFscmVhZHkgaW5pdGVkXCIpO2lmKCFlLnN0cmVhbSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdCB2aWRlbyBjb250ZXh0LiBMb2NhbCBTdHJlYW0gbm90IGluaXRpYWxpemVkXCIpO2UudmlkZW9FZmZlY3Qub3JpZ2luVmlkZW9UcmFjaz1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLGUuYXR0cmlidXRlcyYmZS5hdHRyaWJ1dGVzLm1heEZyYW1lUmF0ZSYmKGUudmlkZW9FZmZlY3QuZnBzPWUuYXR0cmlidXRlcy5tYXhGcmFtZVJhdGUpLGUudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkPSEwfSxlLl9yZW5kZXJXaXRoV2ViR0w9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtlLnZpZGVvRWZmZWN0LmNhbnZhc3x8KGUudmlkZW9FZmZlY3QuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLGUudmlkZW9FZmZlY3QudmlkZW98fChlLnZpZGVvRWZmZWN0LnZpZGVvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSksZS52aWRlb0VmZmVjdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLGUudmlkZW9FZmZlY3QudmlkZW8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxlLnZpZGVvRWZmZWN0LnZpZGVvLm11dGVkPSEwLGUudmlkZW9FZmZlY3QudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxlLnZpZGVvRWZmZWN0LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksZS52aWRlb0VmZmVjdC52aWRlby5zcmNPYmplY3Q9dDt2YXIgcj10LmdldFZpZGVvVHJhY2tzKClbMF0uZ2V0U2V0dGluZ3MoKSxpPXIud2lkdGgsbz1yLmhlaWdodDtjb25zb2xlLmxvZyhcIldpZHRoOiBcIi5jb25jYXQoaSxcIiwgSGVpZ2h0OiBcIikuY29uY2F0KG8pKSxlLnZpZGVvRWZmZWN0LmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGkpLGUudmlkZW9FZmZlY3QuY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLG8pLGUudmlkZW9FZmZlY3QudmlkZW8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixpKSxlLnZpZGVvRWZmZWN0LnZpZGVvLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLG8pO3ZhciBhPU4uZ2V0SW5zdGFuY2UoKTthLmluaXQoZS52aWRlb0VmZmVjdC52aWRlby53aWR0aCxlLnZpZGVvRWZmZWN0LnZpZGVvLmhlaWdodCxlLnZpZGVvRWZmZWN0LmNhbnZhcyksYS5zZXREZW5vaXNlTGV2ZWwoZS52aWRlb0VmZmVjdC5kZW5vaXNlTGV2ZWwpLGEuc2V0TGlnaHRMZXZlbChlLnZpZGVvRWZmZWN0LmxpZ2h0TGV2ZWwpLGEuc2V0UmVkbmVzc0xldmVsKGUudmlkZW9FZmZlY3QucmVkbmVzc0xldmVsKSxhLnNldENvbnRyYXN0TGV2ZWwoZS52aWRlb0VmZmVjdC5saWdodGVuaW5nQ29udHJhc3RMZXZlbCk7ZS52aWRlb0VmZmVjdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLChmdW5jdGlvbiB0KCl7dmFyIHI9ZS52aWRlb0VmZmVjdC5jYW52YXMuY2FwdHVyZVN0cmVhbShlLnZpZGVvRWZmZWN0LmZwcyk7ZS52aWRlb0VmZmVjdC52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHQsITApLG4oW3IuZ2V0VmlkZW9UcmFja3MoKVswXSxlLnZpZGVvRWZmZWN0LnZpZGVvXSl9KSwhMCksZS52aWRlb0VmZmVjdC52aWRlby5wbGF5KCl9KSl9LGUuX2Rpc2FibGVFZmZlY3Q9ZnVuY3Rpb24oKXtlLnZpZGVvRWZmZWN0LnZpZGVvQ29udGV4dEluaXRlZHx8ZS5faW5pdFZpZGVvQ29udGV4dCgpO3ZhciB0PWUudmlkZW9FZmZlY3Qub3JpZ2luVmlkZW9UcmFjaztpZighdClyZXR1cm4gZi5kZWZhdWx0Lndhcm5pbmcoXCJWaWRlbyB0cmFjayBpcyBudWxsLCBmYWlsIHRvIGRpc2FibGUgdmlkZW8gZWZmZWN0IVwiKSxQcm9taXNlLnJlc29sdmUoKTtpZihlLnBjJiZlLnBjLnBlZXJDb25uZWN0aW9uJiZlLnBjLnBlZXJDb25uZWN0aW9uKXt2YXIgbj0oZS5wYy5wZWVyQ29ubmVjdGlvbiYmZS5wYy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRyYWNrJiZcInZpZGVvXCI9PWUudHJhY2sua2luZH0pKTtpZihuJiZuLnJlcGxhY2VUcmFjayYmdClyZXR1cm4gbi5yZXBsYWNlVHJhY2sodCl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxlLl9yZWxlYXNlRWZmZWN0PWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9ZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHk/ZS5fZGlzYWJsZUVmZmVjdCgpOlByb21pc2UucmVzb2x2ZSgpLE4uZ2V0SW5zdGFuY2UoKS5yZWxlYXNlKCksZS52aWRlb0VmZmVjdC52aWRlb0NvbnRleHRJbml0ZWQ9ITEsZS52aWRlb0VmZmVjdC5jYW52YXNWaWRlb1RyYWNrPW51bGwsdH0sZS5fZW5hYmxlRWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGUudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkfHxlLl9pbml0VmlkZW9Db250ZXh0KCksZS52aWRlb0VmZmVjdC5vcmlnaW5WaWRlb1RyYWNrP2UudmlkZW9FZmZlY3QuY2FudmFzVmlkZW9UcmFjaz8oZS5fc2hvd0VmZmVjdEluTG9jYWxQbGF5ZXIoKSxlLl9yZXBsYWNlV2l0aENhbnZhc1RyYWNrKCkpOmUuX3JlbmRlcldpdGhXZWJHTChlLnN0cmVhbSkudGhlbigoZnVuY3Rpb24odCl7dmFyIG49YygpKHQsMikscj1uWzBdLGk9blsxXTtlLnZpZGVvRWZmZWN0LmNhbnZhc1ZpZGVvVHJhY2s9cjt2YXIgbz1OLmdldEluc3RhbmNlKCk7cmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24gdCgpe2UudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5JiZvLnJlbmRlcihpKSxlLnZpZGVvRWZmZWN0LnZpZGVvQ29udGV4dEluaXRlZCYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpfSkpLGQuaXNDaHJvbWUoKSYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwoZnVuY3Rpb24oKXtkb2N1bWVudC5oaWRkZW47ZG9jdW1lbnQuaGlkZGVuP2UudmlkZW9FZmZlY3Quc3RvcENocm9tZUJhY2tncm91bmRMb29wPWZ1bmN0aW9uKGUsdCl7dmFyIG49MS90LHI9bmV3IEF1ZGlvQ29udGV4dCxpPXIuY3JlYXRlR2FpbigpO2kuZ2Fpbi52YWx1ZT0wLGkuY29ubmVjdChyLmRlc3RpbmF0aW9uKSxmdW5jdGlvbiB0KCl7dmFyIGE9ci5jcmVhdGVPc2NpbGxhdG9yKCk7YS5vbmVuZGVkPXQsYS5jb25uZWN0KGkpLGEuc3RhcnQoMCksYS5zdG9wKHIuY3VycmVudFRpbWUrbiksZShyLmN1cnJlbnRUaW1lKSxvJiYoYS5vbmVuZGVkPWZ1bmN0aW9uKCl7ci5jbG9zZSgpfSl9KCk7dmFyIG89ITE7cmV0dXJuIGZ1bmN0aW9uKCl7bz0hMH19KChmdW5jdGlvbigpe2UudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5JiZvLnJlbmRlcihpKX0pLGUudmlkZW9FZmZlY3QuZnBzKTplLnZpZGVvRWZmZWN0LnN0b3BDaHJvbWVCYWNrZ3JvdW5kTG9vcCYmKGUudmlkZW9FZmZlY3Quc3RvcENocm9tZUJhY2tncm91bmRMb29wKCksZS52aWRlb0VmZmVjdC5zdG9wQ2hyb21lQmFja2dyb3VuZExvb3A9bnVsbCl9KSwhMSksZS5fc2hvd0VmZmVjdEluTG9jYWxQbGF5ZXIoKSxlLl9yZXBsYWNlV2l0aENhbnZhc1RyYWNrKCl9KSk6KGYuZGVmYXVsdC53YXJuaW5nKFwiVmlkZW8gdHJhY2sgaXMgbnVsbCwgZmFpbCB0byBlbmFibGUgdmlkZW8gZWZmZWN0IVwiKSxQcm9taXNlLnJlc29sdmUoKSl9LGUuX3Nob3dFZmZlY3RJbkxvY2FsUGxheWVyPWZ1bmN0aW9uKCl7aWYoZS5wbGF5ZXIpe3ZhciB0PWUucGxheWVyLmRpdi5jaGlsZHJlblswXTtpZihcIm5vbmVcIiE9PXQuc3R5bGUuZGlzcGxheSYmKGUucGxheWVyLmRpdi5hcHBlbmRDaGlsZChlLnZpZGVvRWZmZWN0LmNhbnZhcyksXCJ2aWRlb1wiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKXt2YXIgbj10LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO2UudmlkZW9FZmZlY3QuY2FudmFzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsbiksXCJub25lXCIhPT10LnN0eWxlLmRpc3BsYXkmJih0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfX19LGUuX3JlbW92ZUVmZmVjdEZyb21Mb2NhbFBsYXllcj1mdW5jdGlvbigpe2lmKGUucGxheWVyJiZlLnBsYXllci5kaXYmJmUudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5JiZlLnZpZGVvRWZmZWN0LmNhbnZhcyl7ZS5wbGF5ZXIuZGl2LnJlbW92ZUNoaWxkKGUudmlkZW9FZmZlY3QuY2FudmFzKTt2YXIgdD1lLnBsYXllci5kaXYuY2hpbGRyZW5bMF07XCJ2aWRlb1wiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihlLnZpZGVvRWZmZWN0LmNhbnZhcy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpfX0sZS5fcmVwbGFjZVdpdGhDYW52YXNUcmFjaz1mdW5jdGlvbigpe3ZhciB0PW51bGw7ZS5wYyYmZS5wYy5wZWVyQ29ubmVjdGlvbiYmZS5wYy5wZWVyQ29ubmVjdGlvbiYmKHQ9KGUucGMucGVlckNvbm5lY3Rpb24mJmUucGMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS50cmFjayYmXCJ2aWRlb1wiPT1lLnRyYWNrLmtpbmR9KSkpO3JldHVybiB0JiZ0LnJlcGxhY2VUcmFjayYmZS52aWRlb0VmZmVjdC5jYW52YXNWaWRlb1RyYWNrP3QucmVwbGFjZVRyYWNrKGUudmlkZW9FZmZlY3QuY2FudmFzVmlkZW9UcmFjayk6UHJvbWlzZS5yZXNvbHZlKCl9LGUuc2V0QmVhdXR5RWZmZWN0T3B0aW9ucz1mdW5jdGlvbigpe3ZhciB0PWEoKShpLmEubWFyaygoZnVuY3Rpb24gdChuLHIpe3ZhciBvLGE9YXJndW1lbnRzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoT2JqZWN0KGwuY2hlY2tWYWxpZEJvb2xlYW4pKG4sXCJlbmFibGVkXCIpLG89Ti5nZXRJbnN0YW5jZSgpLGUudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5PT1uKXt0Lm5leHQ9MTQ7YnJlYWt9aWYoby5zZXRFbmFibGVCZWF1dHkobiksIW4pe3QubmV4dD05O2JyZWFrfXJldHVybiB0Lm5leHQ9NyxlLl9lbmFibGVFZmZlY3QoKTtjYXNlIDc6dC5uZXh0PTEyO2JyZWFrO2Nhc2UgOTpyZXR1cm4gZS5fcmVtb3ZlRWZmZWN0RnJvbUxvY2FsUGxheWVyKCksdC5uZXh0PTEyLGUuX3JlbGVhc2VFZmZlY3QoKTtjYXNlIDEyOmUudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5PW4sdS5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpudWxsLG9wdGlvbnM6YSxuYW1lOlwiU3RyZWFtLnNldEJlYXV0eUVmZmVjdE9wdGlvbnNcIix0YWc6XCJ0cmFjZXJcIn0pO2Nhc2UgMTQ6aWYobil7dC5uZXh0PTE2O2JyZWFrfXJldHVybiB0LmFicnVwdChcInJldHVyblwiKTtjYXNlIDE2OmlmKCFyKXt0Lm5leHQ9MjA7YnJlYWt9T2JqZWN0KGwuY2hlY2tWYWxpZE9iamVjdCkocixcIm9wdGlvbnNcIiksdC5uZXh0PTIxO2JyZWFrO2Nhc2UgMjA6cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgMjE6aWYodm9pZCAwIT09ci5zbW9vdGhuZXNzTGV2ZWwmJihPYmplY3QobC5jaGVja1ZhbGlkRmxvYXROdW1iZXIpKHIuc21vb3RobmVzc0xldmVsLFwic21vb3RobmVzc0xldmVsXCIsMCwxKSxlLnZpZGVvRWZmZWN0LmRlbm9pc2VMZXZlbD0xMCpyLnNtb290aG5lc3NMZXZlbCxlLnZpZGVvRWZmZWN0LmRlbm9pc2VMZXZlbDwuMSYmKGUudmlkZW9FZmZlY3QuZGVub2lzZUxldmVsPS4xKSxvLnNldERlbm9pc2VMZXZlbChlLnZpZGVvRWZmZWN0LmRlbm9pc2VMZXZlbCkpLHZvaWQgMCE9PXIubGlnaHRlbmluZ0xldmVsJiYoT2JqZWN0KGwuY2hlY2tWYWxpZEZsb2F0TnVtYmVyKShyLmxpZ2h0ZW5pbmdMZXZlbCxcImxpZ2h0ZW5pbmdMZXZlbFwiLDAsMSksZS52aWRlb0VmZmVjdC5saWdodExldmVsPXIubGlnaHRlbmluZ0xldmVsLzIsZS52aWRlb0VmZmVjdC5saWdodExldmVsPC4wMSYmKGUudmlkZW9FZmZlY3QubGlnaHRMZXZlbD0uMDEpLG8uc2V0TGlnaHRMZXZlbChlLnZpZGVvRWZmZWN0LmxpZ2h0TGV2ZWwpKSx2b2lkIDAhPT1yLnJlZG5lc3NMZXZlbCYmKE9iamVjdChsLmNoZWNrVmFsaWRGbG9hdE51bWJlcikoci5yZWRuZXNzTGV2ZWwsXCJyZWRuZXNzTGV2ZWxcIiwwLDEpLGUudmlkZW9FZmZlY3QucmVkbmVzc0xldmVsPXIucmVkbmVzc0xldmVsLGUudmlkZW9FZmZlY3QucmVkbmVzc0xldmVsPC4wMSYmKGUudmlkZW9FZmZlY3QucmVkbmVzc0xldmVsPS4wMSksby5zZXRSZWRuZXNzTGV2ZWwoZS52aWRlb0VmZmVjdC5yZWRuZXNzTGV2ZWwpKSx2b2lkIDA9PT1yLmxpZ2h0ZW5pbmdDb250cmFzdExldmVsKXt0Lm5leHQ9Mjk7YnJlYWt9aWYoMD09PXIubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWx8fDE9PT1yLmxpZ2h0ZW5pbmdDb250cmFzdExldmVsfHwyPT09ci5saWdodGVuaW5nQ29udHJhc3RMZXZlbCl7dC5uZXh0PTI3O2JyZWFrfXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWw6IFRoZSB2YWx1ZSBzaG91bGQgYmUgMCwgMSBvciAyLlwiKTtjYXNlIDI3OmUudmlkZW9FZmZlY3QubGlnaHRlbmluZ0NvbnRyYXN0TGV2ZWw9cGFyc2VGbG9hdChyLmxpZ2h0ZW5pbmdDb250cmFzdExldmVsKSxvLnNldENvbnRyYXN0TGV2ZWwoZS52aWRlb0VmZmVjdC5saWdodGVuaW5nQ29udHJhc3RMZXZlbCk7Y2FzZSAyOTpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkpO3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCl9LHJlc3RvcmVWaWRlb0VmZmVjdDpmdW5jdGlvbihlKXtyZXR1cm4gZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHk/ZS5fZW5hYmxlRWZmZWN0KCk6UHJvbWlzZS5yZXNvbHZlKCl9LGRpc2FibGVWaWRlb0VmZmVjdDpmdW5jdGlvbihlKXtyZXR1cm4gZS5fcmVsZWFzZUVmZmVjdD9lLl9yZWxlYXNlRWZmZWN0KCk6UHJvbWlzZS5yZXNvbHZlKCl9LGFwcGx5RWZmZWN0SW5QbGF5ZXI6ZnVuY3Rpb24oZSl7ZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHkmJmUudmlkZW9FZmZlY3QuY2FudmFzJiZlLl9zaG93RWZmZWN0SW5Mb2NhbFBsYXllcigpfSxyZW1vdmVFZmZlY3RGcm9tTG9jYWxQbGF5ZXI6ZnVuY3Rpb24oZSl7ZS5fcmVtb3ZlRWZmZWN0RnJvbUxvY2FsUGxheWVyKCl9LHJlcGxhY2VXaXRoQ2FudmFzVHJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudmlkZW9FZmZlY3QuZW5hYmxlQmVhdXR5P2UuX3JlcGxhY2VXaXRoQ2FudmFzVHJhY2soKTpQcm9taXNlLnJlc29sdmUoKX0sY2hlY2tWaWRlb0VmZmVjdEVuYWJsZWQ6ZnVuY3Rpb24oZSl7aWYoZS52aWRlb0VmZmVjdC5lbmFibGVCZWF1dHkmJmUudmlkZW9FZmZlY3QmJmUudmlkZW9FZmZlY3QudmlkZW9Db250ZXh0SW5pdGVkKXtyZXR1cm4gZi5kZWZhdWx0LmVycm9yKFwiT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQ6IFwiLmNvbmNhdChcIlZJREVPX0VGRkVDVF9FTkFCTEVEXCIpKSxcIlZJREVPX0VGRkVDVF9FTkFCTEVEXCJ9cmV0dXJuITF9fX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCxuLHIsaSxvLGEpe3RyeXt2YXIgcz1lW29dKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsaSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe3ZhciBhPWUuYXBwbHkodCxyKTtmdW5jdGlvbiBzKGUpe24oYSxpLG8scyxjLFwibmV4dFwiLGUpfWZ1bmN0aW9uIGMoZSl7bihhLGksbyxzLGMsXCJ0aHJvd1wiLGUpfXModm9pZCAwKX0pKX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzOCksaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIG8oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09aS5jYWxsKGUpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09aS5jYWxsKGUpfWZ1bmN0aW9uIGQoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLG8oZSkpZm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXQuY2FsbChudWxsLGVbbl0sbixlKTtlbHNlIGZvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZ0LmNhbGwobnVsbCxlW2ldLGksZSl9ZS5leHBvcnRzPXtpc0FycmF5Om8saXNBcnJheUJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1pLmNhbGwoZSl9LGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZSYmIWEoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhYShlLmNvbnN0cnVjdG9yKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKX0saXNGb3JtRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgRm9ybURhdGEmJmUgaW5zdGFuY2VvZiBGb3JtRGF0YX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0saXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9LGlzT2JqZWN0OnMsaXNVbmRlZmluZWQ6YSxpc0RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1pLmNhbGwoZSl9LGlzRmlsZTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRmlsZV1cIj09PWkuY2FsbChlKX0saXNCbG9iOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBCbG9iXVwiPT09aS5jYWxsKGUpfSxpc0Z1bmN0aW9uOmMsaXNTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSkmJmMoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVSTFNlYXJjaFBhcmFtcyYmZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtc30saXNTdGFuZGFyZEJyb3dzZXJFbnY6ZnVuY3Rpb24oKXtyZXR1cm4oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcnx8XCJSZWFjdE5hdGl2ZVwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTmF0aXZlU2NyaXB0XCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOU1wiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KX0sZm9yRWFjaDpkLG1lcmdlOmZ1bmN0aW9uIGUoKXt2YXIgdD17fTtmdW5jdGlvbiBuKG4scil7XCJvYmplY3RcIj09dHlwZW9mIHRbcl0mJlwib2JqZWN0XCI9PXR5cGVvZiBuP3Rbcl09ZSh0W3JdLG4pOnRbcl09bn1mb3IodmFyIHI9MCxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylkKGFyZ3VtZW50c1tyXSxuKTtyZXR1cm4gdH0sZGVlcE1lcmdlOmZ1bmN0aW9uIGUoKXt2YXIgdD17fTtmdW5jdGlvbiBuKG4scil7XCJvYmplY3RcIj09dHlwZW9mIHRbcl0mJlwib2JqZWN0XCI9PXR5cGVvZiBuP3Rbcl09ZSh0W3JdLG4pOnRbcl09XCJvYmplY3RcIj09dHlwZW9mIG4/ZSh7fSxuKTpufWZvcih2YXIgcj0wLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWQoYXJndW1lbnRzW3JdLG4pO3JldHVybiB0fSxleHRlbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBkKHQsKGZ1bmN0aW9uKHQsaSl7ZVtpXT1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3IodCxuKTp0fSkpLGV9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlxccyovLFwiXCIpLnJlcGxhY2UoL1xccyokLyxcIlwiKX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9big3KSxpPW4ubihyKSxvPW4oOCksYT1uKDApLHM9big0KTtmdW5jdGlvbiBjKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGQoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7XCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uKXJldHVybiBBcnJheS5mcm9tKG4pO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gZChlLHQpfShlKSkpe3ZhciB0PTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIHQ+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3QrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLGksbz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1lW1N5bWJvbC5pdGVyYXRvcl0oKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fWZ1bmN0aW9uIGQoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdT1uZXcgZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qoby5iKSgpO3JldHVybiBlLmRldmljZXNIaXN0b3J5PXt9LGUuc3RhdGVzPXtVTklOSVQ6XCJVTklOSVRcIixJTklUSU5HOlwiSU5JVElOR1wiLElOSVRFRDpcIklOSVRFRFwifSxlLnN0YXRlPWUuc3RhdGVzLlVOSU5JVCxlLmRldmljZVN0YXRlcz17QUNUSVZFOlwiQUNUSVZFXCIsSU5BQ1RJVkU6XCJJTkFDVElWRVwifSxlLmRldmljZVJlbG9hZFRpbWVyPW51bGwsZS5faW5pdD1mdW5jdGlvbih0LG4pe2Uuc3RhdGU9ZS5zdGF0ZXMuSU5JVElORyxlLmRldmljZXNIaXN0b3J5PXt9LGUuX3JlbG9hZERldmljZXNJbmZvKChmdW5jdGlvbigpe2Uuc3RhdGU9ZS5zdGF0ZXMuSU5JVEVELGUuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImluaXRlZFwifSksdCYmdCgpfSksKGZ1bmN0aW9uKHQpe2EuZGVmYXVsdC53YXJuaW5nKFwiRGV2aWNlIERldGVjdGlvbiBmdW5jdGlvbmFsaXR5IGNhbm5vdCBzdGFydCBwcm9wZXJseS5cIiksZS5zdGF0ZT1lLnN0YXRlcy5VTklOSVQsbiYmbih0KX0pKX0sZS5fZW51bWVyYXRlRGV2aWNlcz1mdW5jdGlvbihlLHQpe2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKXJldHVybiBhLmRlZmF1bHQud2FybmluZyhcImVudW1lcmF0ZURldmljZXMoKSBub3Qgc3VwcG9ydGVkLlwiKSx0JiZ0KFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWRcIik7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlKHQpfSksMCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QmJnQoZSl9KSl9LGUuX3JlbG9hZERldmljZXNJbmZvPWZ1bmN0aW9uKHQsbil7dmFyIHI9W107ZS5fZW51bWVyYXRlRGV2aWNlcygoZnVuY3Rpb24obil7dmFyIG89RGF0ZS5ub3coKTtmb3IodmFyIHMgaW4gbi5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1lLmRldmljZXNIaXN0b3J5W3QuZGV2aWNlSWRdO2lmKChuP24uc3RhdGU6ZS5kZXZpY2VTdGF0ZXMuSU5BQ1RJVkUpIT1lLmRldmljZVN0YXRlcy5BQ1RJVkUpe3ZhciBpPW58fHtpbml0QXQ6b307aS5kZXZpY2U9dCxpLnN0YXRlPWUuZGV2aWNlU3RhdGVzLkFDVElWRSxyLnB1c2goaSksZS5kZXZpY2VzSGlzdG9yeVt0LmRldmljZUlkXT1pfWUuZGV2aWNlc0hpc3RvcnlbdC5kZXZpY2VJZF0ubGFzdFJlbG9hZEF0PW99KSksZS5kZXZpY2VzSGlzdG9yeSl7dmFyIGM9ZS5kZXZpY2VzSGlzdG9yeVtzXTtjJiZjLnN0YXRlPT1lLmRldmljZVN0YXRlcy5BQ1RJVkUmJmMubGFzdFJlbG9hZEF0IT09byYmKGMuc3RhdGU9ZS5kZXZpY2VTdGF0ZXMuSU5BQ1RJVkUsci5wdXNoKGMpKSxjLmxhc3RSZWxvYWRBdD1vfWUuc3RhdGU9PWUuc3RhdGVzLklOSVRFRCYmci5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1pKCkoe30sdCk7c3dpdGNoKHQuZGV2aWNlLmtpbmQpe2Nhc2VcImF1ZGlvaW5wdXRcIjpuLnR5cGU9XCJyZWNvcmRpbmdEZXZpY2VDaGFuZ2VkXCI7YnJlYWs7Y2FzZVwiYXVkaW9vdXRwdXRcIjpuLnR5cGU9XCJwbGF5b3V0RGV2aWNlQ2hhbmdlZFwiO2JyZWFrO2Nhc2VcInZpZGVvaW5wdXRcIjpuLnR5cGU9XCJjYW1lcmFDaGFuZ2VkXCI7YnJlYWs7ZGVmYXVsdDphLmRlZmF1bHQud2FybmluZyhcIlVua25vd24gZGV2aWNlIGNoYW5nZVwiLG4pLG4udHlwZT1cInVua25vd25EZXZpY2VDaGFuZ2VkXCJ9ZS5kaXNwYXRjaEV2ZW50KG4pfSkpLHQmJnQoKX0pLG4pfSxlLmdldERldmljZUJ5SWQ9ZnVuY3Rpb24odCxuLHIpe2UuZ2V0RGV2aWNlcygoZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07aWYobyYmby5kZXZpY2VJZD09PXQpcmV0dXJuIG4mJm4obyl9cmV0dXJuIHImJnIoKX0pKX0sZS5zZWFyY2hEZXZpY2VOYW1lQnlJZD1mdW5jdGlvbih0KXt2YXIgbj1lLmRldmljZXNIaXN0b3J5W3RdO3JldHVybiBuP24uZGV2aWNlLmxhYmVsfHxuLmRldmljZS5kZXZpY2VJZDpudWxsfSxlLmdldERldmljZXM9ZnVuY3Rpb24odCxuKXtlLl9lbnVtZXJhdGVEZXZpY2VzKHQsKGZ1bmN0aW9uKGUpe24mJm4oZS5uYW1lK1wiOiBcIitlLm1lc3NhZ2UpfSkpfSxlLmdldFZpZGVvQ2FtZXJhSWRCeUxhYmVsPWZ1bmN0aW9uKHQsbixyKXtlLmdldENhbWVyYXMoKGZ1bmN0aW9uKGUpe3ZhciBpLG89YyhlKTt0cnl7Zm9yKG8ucygpOyEoaT1vLm4oKSkuZG9uZTspe3ZhciBhPWkudmFsdWU7aWYoYS5sYWJlbD09PXQpcmV0dXJuIG4mJm4oYS5kZXZpY2VJZCl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfXJldHVybiByJiZyKHMuZGVmYXVsdC5OT1RfRklORF9ERVZJQ0VfQllfTEFCRUwpfSkscil9LGUuZ2V0UmVjb3JkaW5nRGV2aWNlcz1mdW5jdGlvbih0LG4pe3JldHVybiBlLl9lbnVtZXJhdGVEZXZpY2VzKChmdW5jdGlvbihlKXt2YXIgbj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJhdWRpb2lucHV0XCI9PWUua2luZH0pKTt0JiZ0KG4pfSksKGZ1bmN0aW9uKGUpe24mJm4oZSl9KSl9LGUuZ2V0UGxheW91dERldmljZXM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fZW51bWVyYXRlRGV2aWNlcygoZnVuY3Rpb24oZSl7dmFyIG49ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiYXVkaW9vdXRwdXRcIj09ZS5raW5kfSkpO3QmJnQobil9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pKX0sZS5nZXRDYW1lcmFzPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX2VudW1lcmF0ZURldmljZXMoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cInZpZGVvaW5wdXRcIj09ZS5raW5kfSkpO3QmJnQobil9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pKX0sZS5faW5pdCgoZnVuY3Rpb24oKXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLChmdW5jdGlvbigpe2UuX3JlbG9hZERldmljZXNJbmZvKCl9KSksZS5kZXZpY2VSZWxvYWRUaW1lcj1zZXRJbnRlcnZhbChlLl9yZWxvYWREZXZpY2VzSW5mbyw1ZTMpfSkpLGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiX2dldFJlY29ubmVjdENTVGltZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKSxuLmQodCxcIl9zZXRDbGllbnRDb25uZWN0aW9uU3RhdGVSZWNvcmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCxcImdldEdhdGV3YXlMaXN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKHQsXCJnZXRVc2VyQWNjb3VudFwiLChmdW5jdGlvbigpe3JldHVybiBMfSkpO3ZhciByPW4oMTEpLGk9bi5uKHIpLG89bigxMiksYT1uLm4obykscz1uKDE3KSxjPW4ubihzKSxkPW4oMiksdT0obig1KSxuKDApKSxsPW4oMTQpLGY9bigxKSxwPW4oNCksZz1mdW5jdGlvbihlLHQpe3ZhciBuPSExLHI9MCxpPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJQUk9YWV9DU1wiKSxvPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJDSE9PU0VfU0VSVkVSX0ZSQUdFTUVOVF9MRU5HVEhcIiksYT0wLHM9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDplLnNpZCxhcHBJZDplLmFwcElkLHRva2VuOmUudG9rZW4sdWlkOmUudWlkLGNuYW1lOmUuY25hbWUsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyksdmVyc2lvbjpkLlZFUlNJT04sc2VxOjAscmVxdWVzdElkOjF9LGM9ZnVuY3Rpb24oYyl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bShcImh0dHBzOi8vXCIrYytcIi9hcGkvdjFcIixzLChmdW5jdGlvbihzLHApe2lmKHMpcmV0dXJuIHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBSZXF1ZXN0IHByb3h5IHNlcnZlciBmYWlsZWQ6IFwiLHMpLHIrKyxmLnJlcG9ydC5yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZS5zaWQse2x0czpkLHN1Y2M6ITEsQVBBZGRyOmMsd29ya2VyTWFuYWdlckxpc3Q6bnVsbCxlYzpKU09OLnN0cmluZ2lmeShzKSxyZXNwb25zZTpKU09OLnN0cmluZ2lmeSh7ZXJyOnMscmVzOnB9KX0pLHI+PWkubGVuZ3RoJiZ0JiZ0KFwiR2V0IHByb3h5IHNlcnZlciBmYWlsZWQ6IHJlcXVlc3QgYWxsIGZhaWxlZFwiKSx2b2lkKCEociVvKSYmcjxpLmxlbmd0aCYmKGErKyxsKCkpKTtpZighbilpZigocD1KU09OLnBhcnNlKHApKS5qc29uX2JvZHkpe3ZhciBnPUpTT04ucGFyc2UocC5qc29uX2JvZHkpO2lmKHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBBcHAgcmV0dXJuOlwiLGcuc2VydmVycyksMjAwIT09Zy5jb2RlKXtzPVwiR2V0IHByb3h5IHNlcnZlciBmYWlsZWQ6IHJlc3BvbnNlIGNvZGUgW1wiK2cuY29kZStcIl0sIHJlYXNvbiBbIFwiK2cucmVhc29uK1wiXVwiO3IrKyx1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gXCIrcyksZi5yZXBvcnQucmVxdWVzdFByb3h5QXBwQ2VudGVyKGUuc2lkLHtsdHM6ZCxzdWNjOiExLEFQQWRkcjpjLHdvcmtlck1hbmFnZXJMaXN0Om51bGwsZWM6cyxyZXNwb25zZTpKU09OLnN0cmluZ2lmeSh7ZXJyOnMscmVzOnB9KX0pLHI+PWkubGVuZ3RoJiZ0JiZ0KHMpLCEociVvKSYmcjxpLmxlbmd0aCYmKGErKyxsKCkpfWVsc2V7bj0hMDt2YXIgbT12KGcuc2VydmVycyk7Zi5yZXBvcnQucmVxdWVzdFByb3h5QXBwQ2VudGVyKGUuc2lkLHtsdHM6ZCxzdWNjOiEwLEFQQWRkcjpjLHdvcmtlck1hbmFnZXJMaXN0OkpTT04uc3RyaW5naWZ5KG0pLGVjOm51bGwscmVzcG9uc2U6SlNPTi5zdHJpbmdpZnkoe3JlczpwfSl9KSx0JiZ0KG51bGwsbSl9fWVsc2UgdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIEdldCBwcm94eSBzZXJ2ZXIgZmFpbGVkOiBubyBqc29uX2JvZHlcIiksZi5yZXBvcnQucmVxdWVzdFByb3h5QXBwQ2VudGVyKGUuc2lkLHtsdHM6ZCxzdWNjOiExLEFQQWRkcjpjLHdvcmtlck1hbmFnZXJMaXN0Om51bGwsZWM6XCJHZXQgcHJveHkgc2VydmVyIGZhaWxlZDogbm8ganNvbl9ib2R5XCIscmVzcG9uc2U6SlNPTi5zdHJpbmdpZnkoe3JlczpwfSl9KX0pKX0sbD1mdW5jdGlvbigpe2Zvcih2YXIgZT1hKm8sdD1lO3Q8TWF0aC5taW4oaS5sZW5ndGgsZStvKTt0Kyspe3ZhciBuPWlbdF07YyhuKX19O2woKX0sbT1mdW5jdGlvbihlLHQsbil7dmFyIHI9e3NlcnZpY2VfbmFtZTpcIndlYnJ0Y19wcm94eVwiLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeSh0KX07T2JqZWN0KGwucG9zdCkoZSxyLChmdW5jdGlvbihlKXtuJiZuKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pLHtcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo2MX0pfSxoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0hMSxpPTAsbz17Y29tbWFuZDpcInJlcXVlc3RcIixnYXRld2F5VHlwZTpcImh0dHBcIixhcHBJZDplLmFwcElkLGNuYW1lOmUuY25hbWUsdWlkOmUudWlkK1wiXCIsc2RrVmVyc2lvbjpcIjIuMy4xXCIsc2lkOmUuc2lkLHNlcToxLHRzOituZXcgRGF0ZSxyZXF1ZXN0SWQ6MyxjbGllbnRSZXF1ZXN0OnthcHBJZDplLmFwcElkLGNuYW1lOmUuY25hbWUsdWlkOmUudWlkK1wiXCIsc2lkOmUuc2lkfX07dC5tYXAoKGZ1bmN0aW9uKGEpe3ZhciBzPShuZXcgRGF0ZSkuZ2V0VGltZSgpOyFmdW5jdGlvbihlLHQsbil7T2JqZWN0KGwucG9zdCkoZSx0LChmdW5jdGlvbihlKXtuJiZuKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pKX0oXCJodHRwczovL1wiK2ErXCI6NDAwMC92Mi9tYWNoaW5lXCIsbywoZnVuY3Rpb24obyxjKXtpZihvKXJldHVybiB1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gUmVxdWVzdCB3b3JrZXIgbWFuYWdlciBmYWlsZWQ6IFwiLG8pLGkrKyxmLnJlcG9ydC5yZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyKGUuc2lkLHtsdHM6cyxzdWNjOiExLHdvcmtlck1hbmFnZXJBZGRyOmEsZWM6SlNPTi5zdHJpbmdpZnkobykscmVzcG9uc2U6SlNPTi5zdHJpbmdpZnkoe3JlczpjfSl9KSx2b2lkKGk+PXQubGVuZ3RoJiZuJiZuKFwicmVxdWVldCB3b3JrZXIgbWFuYWdlciBzZXJ2ZXIgZmFpbGVkOiByZXF1ZXN0IGZhaWxlZFwiKSk7aWYoIXIpe2lmKCEoYz1KU09OLnBhcnNlKGMpKS5zZXJ2ZXJSZXNwb25zZSlyZXR1cm4gbiYmbihcInJlcXVlZXQgd29ya2VyIG1hbmFnZXIgc2VydmVyIGZhaWxlZDogc2VydmVyUmVzcG9uc2UgaXMgdW5kZWZpbmVkXCIpO3I9ITAsZi5yZXBvcnQucmVxdWVzdFByb3h5V29ya2VyTWFuYWdlcihlLnNpZCx7bHRzOnMsc3VjYzohMCx3b3JrZXJNYW5hZ2VyQWRkcjphLGVjOkpTT04uc3RyaW5naWZ5KG8pLHJlc3BvbnNlOkpTT04uc3RyaW5naWZ5KHtyZXM6Y30pfSksbiYmbihudWxsLHthZGRyZXNzOmEsc2VydmVyUmVzcG9uc2U6Yy5zZXJ2ZXJSZXNwb25zZX0pfX0pKX0pKX0sdj1mdW5jdGlvbihlKXtpZighZXx8W11pbnN0YW5jZW9mIEFycmF5PT0hMSlyZXR1cm5bXTt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbjtlLmFkZHJlc3MmJmUudGNwPyhlLmFkZHJlc3MubWF0Y2goL15bXFwuXFw6XFxkXSskLyk/bj1cIlwiLmNvbmNhdChlLmFkZHJlc3MucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLmVkZ2UuYWdvcmEuaW9cIik6KHUuZGVmYXVsdC5pbmZvKFwiW1wiK2pvaW5JbmZvLmNsaWVudElkK1wiXSBcIitcIkNhbm5vdCByZWNvZ25pemVkIGFzIElQIGFkZHJlc3MgXCIuY29uY2F0KGUuYWRkcmVzcyxcIi4gVXNlZCBBcyBIb3N0IGluc3RlYWRcIikpLG49XCJcIi5jb25jYXQoZS5hZGRyZXNzLFwiOlwiKS5jb25jYXQoZS50Y3ApKSx0LnB1c2gobikpOnUuZGVmYXVsdC5lcnJvcihcIltcIitqb2luSW5mby5jbGllbnRJZCtcIl0gSW52YWxpZCBhZGRyZXNzIGZvcm1hdCBcIixlKX0pKSx0fSxFPW4oMjEpLFM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIldFQkNTX0RPTUFJTlwiKS5jb25jYXQoT2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKSksbz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpO2k9aS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJcIi5jb25jYXQob1sodCsxKSVvLmxlbmd0aF0sXCIvYXAvP3VybD1cIikuY29uY2F0KGUpfSkpO3ZhciBhLHM9MCxjPSEwLGc9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkNIT09TRV9TRVJWRVJfRlJBR0VNRU5UX0xFTkdUSFwiKSxtPTAsaD1mdW5jdGlvbihoKXshZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz1EYXRlLm5vdygpLGE9ZnVuY3Rpb24oZSxyKXt0cnl7Zi5yZXBvcnQuam9pbkNob29zZVNlcnZlcjIobi5zaWQse2x0czpvLHN1Y2M6IWUsY3NBZGRyOnQsc2VydmVyTGlzdDpyJiZyLmdhdGV3YXlfYWRkcixjaWQ6ciYmci5jaWQrXCJcIix1aWQ6ciYmci51aWQrXCJcIixlYzplLGNob29zZVNlcnZlcklwOnImJnIuZGV0YWlsJiZyLmRldGFpbFs1MDJdfSl9Y2F0Y2goZSl7fX0scz1mdW5jdGlvbihyLGkpe3ZhciBhPURhdGUubm93KCk7dHJ5e2YucmVwb3J0LmpvaW5XZWJQcm94eUFQKHtsdHM6YSxzaWQ6bi5zaWQsY25hbWU6bi5jbmFtZSxjaWQ6bi5jaWQsdWlkOm4udWlkLHN1Y2VzczpyPy0xOjEsZWxhcHNlOmEtbyxldmVudFR5cGU6ZSxhcFNlcnZlckFkZHI6dCx0dXJuU2VydmVyQWRkckxpc3Q6SlNPTi5zdHJpbmdpZnkoaSksZXJyb3JDb2RlOnJ8fFwiMFwifSl9Y2F0Y2goZSl7fX0sYz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQVJFQV9TRVRUSU5HXCIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdChFLmdldEFyZWFDb2RlQnlBcmVhKSh0KTtyZXR1cm4gcj8wPT09bj9yOlwiXCIuY29uY2F0KGUsXCIsXCIpLmNvbmNhdChyKTplfSksXCJcIiksZz17YXBwaWQ6bi50b2tlbixjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOjEzMyxzaWQ6bi5zaWQscmVxdWVzdF9ib2RpZXM6W3t1cmk6MjIsYnVmZmVyOntjbmFtZTpuLmNuYW1lLGRldGFpbDp7MTE6Yyw2Om4uc3RyaW5nVWlkfSxrZXk6bi50b2tlbixzZXJ2aWNlX2lkczpbMTEsaT8yMDoxOF0sdWlkOm4udWlkfHwwfX1dfTt0PVwiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksT2JqZWN0KGwucG9zdEZvcm1EYXRhKSh0LGcsKGZ1bmN0aW9uKGUpe3ZhciBvPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKC8xMDEwMlxcZHsyfSQvKS50ZXN0KGUpP1wiTk9fU0VSVklDRV9BVkFJTEFCTEVcIjpwLkFQRXJyb3JDb2RlW2VdfHxlfTt0cnl7dmFyIGMsbCxmPUpTT04ucGFyc2UoZSk7aWYoMzA9PT0oZj1mLnJlc3BvbnNlX2JvZHkpWzBdLnVyaSYmMCE9PWZbMF0uYnVmZmVyLmNvZGUpe3ZhciBnPW8oZlswXS5idWZmZXIuY29kZSk7cmV0dXJuIHMoZyxmKSxyKGcpfWlmKDQwOTY9PT1mWzBdLmJ1ZmZlci5mbGFnPyhsPWZbMF0uYnVmZmVyLGM9ZlsxXS5idWZmZXIpOihsPWZbMV0uYnVmZmVyLGM9ZlswXS5idWZmZXIpLDAhPT1jLmNvZGUpe2c9byhjLmNvZGUpO3JldHVybiB1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KG4uY2xpZW50SWQsXCJdIHJlcXVlc3RQcm94eVNlcnZlciBmYWlsZWQ6IFwiKS5jb25jYXQoZykpLHMoZyxjKSxyKGcpfWlmKCFjLmVkZ2VzX3NlcnZpY2VzfHwhYy5lZGdlc19zZXJ2aWNlcyBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBzKFwiVU5FWFBFQ1RFRF9FUlJPUlwiLGMpLHIoXCJVTkVYUEVDVEVEX0VSUk9SXCIpO3ZhciBtPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJHQVRFV0FZX0RPTUFJTlNcIiksaD0wO2lmKHQuaW5kZXhPZihtWzFdKT4tMSYmKGg9MSksMD09PWMuZWRnZXNfc2VydmljZXMubGVuZ3RoKXJldHVybiBzKFwiRU1QVFlfUFJPWFlfTElTVFwiLGMpLHIoXCJFTVBUWV9QUk9YWV9MSVNUXCIpO3ZhciB2PWMuZWRnZXNfc2VydmljZXMubWFwKChmdW5jdGlvbihlKXtpZihlLmlwKXJldHVybiBlLmlwPWk/XCJcIi5jb25jYXQoZS5pcC5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChtW2grKyVtLmxlbmd0aF0pOlwiXCIuY29uY2F0KGUuaXApLGV9KSk7aWYocyhudWxsLHYpLDAhPT1sLmNvZGUpe2c9byhsLmNvZGUpO3JldHVybiB1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KG4uY2xpZW50SWQsXCJdIHJlcXVlc3RDaG9vc2VTZXJ2ZXIgZmFpbGVkOiBcIikuY29uY2F0KGcpKSxhKGcpLHIoZyl9dmFyIEU9W107bT1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiR0FURVdBWV9ET01BSU5TXCIpLGg9MDtpZih0LmluZGV4T2YobVsxXSk+LTEmJihoPTEpLGwuZWRnZXNfc2VydmljZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI7aWYoZS5pcCYmZS5wb3J0KXtpZighZS5pcC5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKSlyZXR1cm4gdS5kZWZhdWx0LmluZm8oXCJbXCIrbi5jbGllbnRJZCtcIl0gXCIrXCJDYW5ub3QgcmVjb2duaXplZCBhcyBJUCBhZGRyZXNzIFwiLmNvbmNhdChlLmlwLFwiLiBVc2VkIEFzIEhvc3QgaW5zdGVhZFwiKSksdm9pZCBhKFwiVU5FWFBFQ1RFRF9JUFwiKTtyPVwiXCIuY29uY2F0KGUuaXAucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQobVtoKyslbS5sZW5ndGhdKTt2YXIgaT1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpO3I9L3NkLXJ0bi8udGVzdCh0KT9cIlwiLmNvbmNhdChpWzBdLFwiL3dzLz9oPVwiKS5jb25jYXQocixcIiZwPVwiKS5jb25jYXQoZS5wb3J0KTpcIlwiLmNvbmNhdChpWzFdLFwiL3dzLz9oPVwiKS5jb25jYXQocixcIiZwPVwiKS5jb25jYXQoZS5wb3J0KSxFLnB1c2gocil9ZWxzZSB1LmRlZmF1bHQuZXJyb3IoXCJbXCIrbi5jbGllbnRJZCtcIl0gSW52YWxpZCBhZGRyZXNzIGZvcm1hdCBcIixlKX0pKSwhRS5sZW5ndGgpcmV0dXJuIHUuZGVmYXVsdC5lcnJvcihcIltcIituLmNsaWVudElkK1wiXSBFbXB0eSBBZGRyZXNzIHJlc3BvbnNlXCIsZiksYShcIkVNUFRZX0FERFJFU1NfUkVTUE9OU0VcIikscihcIkVNUFRZX0FERFJFU1NfUkVTUE9OU0VcIik7bC50aWNrZXQ9bC5jZXJ0O3ZhciBTPXtnYXRld2F5X2FkZHI6RSx1aWQ6bC51aWQsY2lkOmwuY2lkLHZpZDpsLmRldGFpbCYmbC5kZXRhaWxbOF0scmVzOmwsZGV0YWlsOmYuZGV0YWlsfTthKG51bGwsUykscihudWxsLHtnYXRld2F5U2VydmVyczpTLHR1cm5TZXJ2ZXJzOnZ9KX1jYXRjaChlKXtyZXR1cm4gdS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChuLmNsaWVudElkLFwiXSByZXF1ZXN0UHJveHlTZXJ2ZXIgZmFpbGVkIHdpdGggdW5leHBlY3RlZCBib2R5IFwiKSxlKSxzKFwiVU5FWFBFQ1RFRF9FUlJPUlwiKSxyKFwiVU5FWFBFQ1RFRF9FUlJPUlwiKX19KSwoZnVuY3Rpb24oZSx0KXtcInRpbWVvdXRcIj09PWUudHlwZT8ocyhcIlJFUVVFU1RfUFJPWFlfU0VSVkVSX1RJTUVfT1VUXCIpLHIoXCJSRVFVRVNUX1BST1hZX1NFUlZFUl9USU1FX09VVFwiKSk6KHMoXCJSRVFVRVNUX1BST1hZX1NFUlZFUl9GQUlMRURcIikscihcIlJFUVVFU1RfUFJPWFlfU0VSVkVSX0ZBSUxFRFwiKSl9KSl9KGUsaCx0LChmdW5jdGlvbihlLHIpe2U/KHMrKyx1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHJlcXVlc3QgXCIpLmNvbmNhdChoLFwiIGZhaWxlZDogXCIpLmNvbmNhdChlKSksZSYmLTE9PT1wLkpPSU5fUFJPWFlfUkVUUllfTElTVC5pbmRleE9mKGUpJiYoYT1lKSxzPT09aS5sZW5ndGgmJihhfHwoYT1cIlJFVFJZQUJMRV9FUlJPUlwiKSxuKGEpKSwhKHMlZykmJnM8aS5sZW5ndGgmJihtKyssdigpKSk6YyYmKC9zZC1ydG4vLnRlc3Qoci5nYXRld2F5U2VydmVycy5nYXRld2F5X2FkZHJbMF0pP09iamVjdChkLnNldFBhcmFtZXRlcikoXCJOR0lOWFwiLG9bMF0pOk9iamVjdChkLnNldFBhcmFtZXRlcikoXCJOR0lOWFwiLG9bMV0pLGM9ITEsbihudWxsLHIpKX0pLHIpfSx2PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW0qZyx0PWU7dDxNYXRoLm1pbihpLmxlbmd0aCxlK2cpO3QrKyl7dmFyIG49aVt0XTtoKG4pfX07digpfSxfPW4oMTMpLHk9bigyOSksUj1uLm4oeSksVD1uKDMwKSxJPXt9LGI9e30sQT1mdW5jdGlvbihlKXtyZXR1cm4gSVtlXX0sTz1mdW5jdGlvbihlLHQpe2JbZV09dH0sQz1mdW5jdGlvbihlLHQsbixyLGksbyl7dmFyIGE9KG5ldyBEYXRlKS5nZXRUaW1lKCkscz10LGM9XCJcIjt0Lm11bHRpSVAmJnQubXVsdGlJUC5nYXRld2F5X2lwJiYoYz17dm9jc19pcDpbdC5tdWx0aUlQLnVuaV9sYnNfaXBdLHZvc19pcDpbdC5tdWx0aUlQLmdhdGV3YXlfaXBdfSk7dmFyIGc9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFSRUFfU0VUVElOR1wiKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1PYmplY3QoRS5nZXRBcmVhQ29kZUJ5QXJlYSkodCk7cmV0dXJuIHI/MD09PW4/cjpcIlwiLmNvbmNhdChlLFwiLFwiKS5jb25jYXQocik6ZX0pLFwiXCIpLG09e2FwcGlkOnQudG9rZW4sb3BpZDoxMzMsY2xpZW50X3RzOituZXcgRGF0ZSxzaWQ6dC5zaWQscmVxdWVzdF9ib2RpZXM6W3t1cmk6MjIsYnVmZmVyOntjbmFtZTp0LmNuYW1lLGRldGFpbDp7NTpjP0pTT04uc3RyaW5naWZ5KGMpOnZvaWQgMCw2OnQuc3RyaW5nVWlkLDExOmd9LGtleTp0LnRva2VuLHNlcnZpY2VfaWRzOlsxMV0sdWlkOnQudWlkfHwwfX1dfTtPYmplY3QobC5wb3N0Rm9ybURhdGEpKGUsbSwoZnVuY3Rpb24oaSl7dHJ5e3ZhciBjPUpTT04ucGFyc2UoaSksbD0oYz1jLnJlc3BvbnNlX2JvZHlbMF0uYnVmZmVyKS5jb2RlfWNhdGNoKGUpe3ZhciBnPVwicmVxdWVzdENob29zZVNlcnZlciBmYWlsZWQgd2l0aCB1bmV4cGVjdGVkIGJvZHkgXCIraTtyZXR1cm4gdS5kZWZhdWx0LmVycm9yKFwiW1wiK3MuY2xpZW50SWQrXCJdXCIsZykscihnLHZvaWQgMCx2b2lkIDAsbyl9aWYobClyZXR1cm4gRT1uZXcgUmVnRXhwKC8xMDEwMlxcZHsyfSQvKS50ZXN0KGwpP1wiTk9fU0VSVklDRV9BVkFJTEFCTEVcIjpwLkFQRXJyb3JDb2RlW2MuY29kZV18fGwsZi5yZXBvcnQuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOmEsc3VjYzohMSxjc0FkZHI6ZSxzZXJ2ZXJMaXN0Om51bGwsZWM6RSxjaG9vc2VTZXJ2ZXJJcDpjJiZjLmRldGFpbCYmYy5kZXRhaWxbNTAyXX0pLHIoXCJHZXQgc2VydmVyIG5vZGUgZmFpbGVkIFtcIitFK1wiXVwiLGUsRSxvKTt2YXIgbT1bXSxoPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJHQVRFV0FZX0RPTUFJTlNcIiksdj0wO2lmKGUuaW5kZXhPZihoWzFdKT4tMSYmKHY9MSksYy5lZGdlc19zZXJ2aWNlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDtlLmlwJiZlLnBvcnQ/KGUuaXAubWF0Y2goL15bXFwuXFw6XFxkXSskLyk/dD1cIlwiLmNvbmNhdChlLmlwLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGhbdisrJWgubGVuZ3RoXSxcIjpcIikuY29uY2F0KGUucG9ydCk6KHUuZGVmYXVsdC5pbmZvKFwiW1wiK3MuY2xpZW50SWQrXCJdIFwiK1wiQ2Fubm90IHJlY29nbml6ZWQgYXMgSVAgYWRkcmVzcyBcIi5jb25jYXQoZS5pcCxcIi4gVXNlZCBBcyBIb3N0IGluc3RlYWRcIikpLHQ9XCJcIi5jb25jYXQoZS5pcCxcIjpcIikuY29uY2F0KGUucG9ydCkpLG0ucHVzaCh0KSk6dS5kZWZhdWx0LmVycm9yKFwiW1wiK3MuY2xpZW50SWQrXCJdIEludmFsaWQgYWRkcmVzcyBmb3JtYXQgXCIsZSl9KSksIW0ubGVuZ3RoKXt1LmRlZmF1bHQuZXJyb3IoXCJbXCIrcy5jbGllbnRJZCtcIl0gRW1wdHkgQWRkcmVzcyByZXNwb25zZVwiLGMpO3ZhciBFPVwiRU1QVFlfQUREUkVTU19SRVNQT05TRVwiO3JldHVybiBmLnJlcG9ydC5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6YSxzdWNjOiExLGNzQWRkcjplLHNlcnZlckxpc3Q6bnVsbCxlYzpFLGNob29zZVNlcnZlcklwOmMmJmMuZGV0YWlsJiZjLmRldGFpbFs1MDJdfSkscihcIkdldCBzZXJ2ZXIgbm9kZSBmYWlsZWQgW1wiK0UrXCJdXCIsZSxFLG8pfWMudGlja2V0PWMuY2VydDt2YXIgUz17Z2F0ZXdheV9hZGRyOm0sdWlkOmMudWlkLGNpZDpjLmNpZCx2aWQ6Yy5kZXRhaWwmJmMuZGV0YWlsWzhdLHJlczpjLHVuaV9sYnNfaXA6Yy5kZXRhaWx9O3JldHVybiBuKFMsZSl9KSwoZnVuY3Rpb24oZSxuKXtcInRpbWVvdXRcIj09PWUudHlwZT8oZi5yZXBvcnQuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOmEsc3VjYzohMSxjc0FkZHI6bixzZXJ2ZXJMaXN0Om51bGwsZWM6XCJ0aW1lb3V0XCJ9KSxyKFwiQ29ubmVjdCBjaG9vc2Ugc2VydmVyIHRpbWVvdXRcIixuLHZvaWQgMCxvKSk6KGYucmVwb3J0LmpvaW5DaG9vc2VTZXJ2ZXIodC5zaWQse2x0czphLHN1Y2M6ITEsY3NBZGRyOm4sc2VydmVyTGlzdDpudWxsLGVjOmUuaHR0cEVycm9yQ29kZXx8XCJzZXJ2ZXJfd3JvbmdcIn0pLHIoXCJDb25uZWN0IGNob29zZSBzZXJ2ZXIgZXJyb3JcIixuLHZvaWQgMCxvKSl9KSl9LE49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSExLGk9bnVsbCxvPTEsYT0xLHM9ZS5jbGllbnRJZCxjPWZ1bmN0aW9uIHQoYSxjKXtpZighcil7dmFyIGw9W107IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG89ITEsYT0wLHM9MCxjPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJXRUJDU19ET01BSU5cIiksbD1jLmxlbmd0aCxnPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIiksbT1nLmxlbmd0aCxoPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJDSE9PU0VfU0VSVkVSX0ZSQUdFTUVOVF9MRU5HVEhcIiksdj0wLFM9MCxfPWZ1bmN0aW9uKG4scil7dmFyIGE7dHJ5e2E9bi5yZXMuZGV0YWlsWzhdfWNhdGNoKHQpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBnZXQgdmlkIGZhaWxlZFwiLHQpfWlmKG8pZi5yZXBvcnQuam9pbkNob29zZVNlcnZlcihlLnNpZCx7bHRzOmksc3VjYzohMCxjc0FkZHI6cixzZXJ2ZXJMaXN0Om4uZ2F0ZXdheV9hZGRyLGNpZDpuLmNpZCtcIlwiLHVpZDpuLnVpZCtcIlwiLGVjOm51bGwsdmlkOmEsY2hvb3NlU2VydmVySXA6bi5yZXMmJm4ucmVzLmRldGFpbCYmbi5yZXMuZGV0YWlsWzUwMl19LCExKTtlbHNle2lmKGNsZWFyVGltZW91dChJKSxvPSEwLGUucHJveHlTZXJ2ZXIpZm9yKHZhciBzPW4uZ2F0ZXdheV9hZGRyLGM9MDtjPHMubGVuZ3RoO2MrKyl7dmFyIGQ9c1tjXS5zcGxpdChcIjpcIik7bi5nYXRld2F5X2FkZHJbY109ZS5wcm94eVNlcnZlcitcIi93cy8/aD1cIitkWzBdK1wiJnA9XCIrZFsxXX10KG4pLGYucmVwb3J0LmpvaW5DaG9vc2VTZXJ2ZXIoZS5zaWQse2x0czppLHN1Y2M6ITAsY3NBZGRyOnIsc2VydmVyTGlzdDpuLmdhdGV3YXlfYWRkcixjaWQ6bi5jaWQrXCJcIix1aWQ6bi51aWQrXCJcIixlYzpudWxsLHZpZDphLGNob29zZVNlcnZlcklwOm4ucmVzJiZuLnJlcy5kZXRhaWwmJm4ucmVzLmRldGFpbFs1MDJdfSwhMCl9fSx5PWZ1bmN0aW9uKHQsaSxvLGMpe1wiZG9tYWluXCI9PT1jJiZhKyssXCJiYWNrdXBcIj09PWMmJnMrKyx1LmRlZmF1bHQuZXJyb3IoXCJbXCIrZS5jbGllbnRJZCtcIl1cIix0LGksbyksbyYmLTE9PT1wLkpPSU5fQ1NfUkVUUllfTElTVC5pbmRleE9mKG8pJiYocj1vKSxhPT09bCYmcz09PW0mJm4ociksXCJkb21haW5cIj09PWMmJiEoYSVoKSYmYTxsJiYodisrLFIoKSksXCJiYWNrdXBcIj09PWMmJiEocyVoKSYmczxtJiYoUysrLFQoKSl9LFI9ZnVuY3Rpb24gdCgpe2Zvcih2YXIgbj12Kmgscj1uO3I8TWF0aC5taW4obCxuK2gpOysrcil7dmFyIGk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGNbcl0pe3ZhciBvPWNbcl07aT1lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQobytcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdChvLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTt2YXIgcz1PYmplY3QoRS5nZXRBcmVhQ29kZUJ5V2ViQ1MpKG8pO3UuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBcIitcIkNvbm5lY3QgdG8gY2hvb3NlX3NlcnZlcjogXCIuY29uY2F0KGksXCIsIFwiKS5jb25jYXQocykpLEMoaSxlLF8seSwwLFwiZG9tYWluXCIpfWVsc2UgYSsrLHUuZGVmYXVsdC5lcnJvcihcIltcIitlLmNsaWVudElkK1wiXSBJbnZhbGlkIEhvc3RcIixjW3JdKSxyPT09bitoLTEmJnI8bC0xLTEmJih2KyssdCgpKX19O1IoKTt2YXIgVD1mdW5jdGlvbiB0KCl7aWYoIW8pZm9yKHZhciBuPVMqaCxyPW47cjxNYXRoLm1pbihtLG4raCk7cisrKXt2YXIgaTtpZihcInN0cmluZ1wiPT10eXBlb2YgZ1tyXSl7dmFyIGE9Z1tyXTtpPWUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChhK1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KGEsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpO3ZhciBjPU9iamVjdChFLmdldEFyZWFDb2RlQnlXZWJDUykoYSk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFwiK1wiQ29ubmVjdCB0byBiYWNrdXBfY2hvb3NlX3NlcnZlcjogXCIuY29uY2F0KGksXCIsIFwiKS5jb25jYXQoYykpLEMoaSxlLF8seSwwLFwiYmFja3VwXCIpfWVsc2UgcysrLHUuZGVmYXVsdC5lcnJvcihcIltcIitlLmNsaWVudElkK1wiXSBJbnZhbGlkIEhvc3RcIixnW3JdKSxyPT09bitoLTEmJnI8Zy0xLTEmJih2KyssdCgpKX19LEk9c2V0VGltZW91dChULDFlMyl9KGUsKGZ1bmN0aW9uKHQpe3I9ITAsITAsbD10LGNsZWFyVGltZW91dChpKSxiW3NdIT09Xy5hLkRJU0NPTk5FQ1RFRCYmYltzXSE9PV8uYS5ESVNDT05ORUNUSU5HP2MmJmMobCxudWxsKTp1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIFJlcXVlc3QgZ2F0ZXdheSBsaXN0IHN1Y2Nlc3Mgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiKS5jb25jYXQoYltzXSkpfSksKGZ1bmN0aW9uKHIpe2lmKHIpcmV0dXJuIHUuZGVmYXVsdC5pbmZvKFwiW1wiK2UuY2xpZW50SWQrXCJdIEpvaW4gZmFpbGVkOiBcIityKSx2b2lkKG4mJm4ocikpO2lmKGJbc109PT1fLmEuRElTQ09OTkVDVEVEfHxiW3NdPT09Xy5hLkRJU0NPTk5FQ1RJTkcpcmV0dXJuIHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gUmVxdWVzdCBnYXRld2F5IGxpc3QgZmFsaWVkIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIikuY29uY2F0KGJbc10pKSx2b2lkKG4mJm4oXCJPUEVSQVRJT05fQUJPUlRcIikpO3UuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBSZXF1ZXN0IGdhdGV3YXkgbGlzdCB3aWxsIGJlIHJlc3RhcnQgaW4gXCIrbytcInNcIiksaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QoYSxjKX0pLDFlMypvKSxJW3NdPWk7dmFyIGw9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFQX0JBQ0tPRkZfTUFYX1RJTUVcIik7bz1vPj1sP2w6MipvfSkpfX0sbD1mdW5jdGlvbiBuKCl7IWZ1bmN0aW9uKGUsdCl7ZyhlLChmdW5jdGlvbihuLHIpe2lmKG4pcmV0dXJuIHQmJnQobik7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIGdldFByb3h5U2VydmVyTGlzdDogXCIsciksaChlLHIsdCl9KSl9KGUsKGZ1bmN0aW9uKHIsbyl7aWYocil7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdXCIsciksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgd2lsbCBiZSByZXN0YXJ0IGluIFwiK2ErXCJzXCIpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuKCl9KSwxZTMqYSksSVtzXT1pO3ZhciBsPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBUF9CQUNLT0ZGX01BWF9USU1FXCIpO2E9YT49bD9sOjIqYX1lbHNle2NsZWFyVGltZW91dChpKTt2YXIgcD1vLmFkZHJlc3M7ZS5wcm94eVNlcnZlcj1wO3ZhciBnPXttb2RlOlwibWFudWFsXCIsdXJsOm8uYWRkcmVzcyx0Y3Bwb3J0Om8uc2VydmVyUmVzcG9uc2UudGNwcG9ydHx8XCIzNDMzXCIsdWRwcG9ydDpvLnNlcnZlclJlc3BvbnNlLnVkcHBvcnR8fFwiMzQ3OFwiLHVzZXJuYW1lOm8uc2VydmVyUmVzcG9uc2UudXNlcm5hbWV8fFwidGVzdFwiLGNyZWRlbnRpYWw6by5zZXJ2ZXJSZXNwb25zZS5wYXNzd29yZHx8T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIlRVUk5fU0VSVkVSX1BBU1NXT1JEXCIpLGZvcmNldHVybjohMH07Zy50Y3Bwb3J0Kz1cIlwiLGcudWRwcG9ydCs9XCJcIixlLnR1cm5TZXJ2ZXJzPVtdLGUudHVyblNlcnZlcnMucHVzaChnKSxmLnJlcG9ydC5zZXRQcm94eVNlcnZlcihwKSx1LmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIocCksYyhwLHQpfX0pKX07ZS51c2VQcm94eVNlcnZlcj8xPT1lLnByb3h5U2VydmVyVHlwZT9sKCk6Mj09ZS5wcm94eVNlcnZlclR5cGU/ZnVuY3Rpb24gbigpeyFmdW5jdGlvbihlLHQpe2coZSwoZnVuY3Rpb24obixyKXtyZXR1cm4gbj90JiZ0KG4pOih1LmRlZmF1bHQuZGVidWcoXCJbXCIrZS5jbGllbnRJZCtcIl0gZ2V0UHJveHlTZXJ2ZXJMaXN0OiBcIixyKSx0JiZ0KG51bGwse2FkZHJlc3M6clswXSxzZXJ2ZXJSZXNwb25zZTp7dGNwcG9ydDpcIjQ0M1wiLHVkcHBvcnQ6XCIzNDc4XCIsdXNlcm5hbWU6XCJ0ZXN0XCIscGFzc3dvcmQ6XCIxMTExMTFcIn19KSl9KSl9KGUsKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdXCIsciksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgd2lsbCBiZSByZXN0YXJ0IGluIFwiK2ErXCJzXCIpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuKCl9KSwxZTMqYSksSVtzXT1pLHZvaWQoYT1hPj0zNjAwPzM2MDA6MiphKTtjbGVhclRpbWVvdXQoaSk7dmFyIGw9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIlBST1hZX1NFUlZFUl9UWVBFMlwiKTtlLnByb3h5U2VydmVyPWw7dmFyIHA9e21vZGU6XCJtYW51YWxcIix1cmw6by5hZGRyZXNzLHRjcHBvcnQ6by5zZXJ2ZXJSZXNwb25zZS50Y3Bwb3J0fHxcIjM0MzNcIix1ZHBwb3J0Om8uc2VydmVyUmVzcG9uc2UudWRwcG9ydHx8XCIzNDc4XCIsdXNlcm5hbWU6by5zZXJ2ZXJSZXNwb25zZS51c2VybmFtZXx8XCJ0ZXN0XCIsY3JlZGVudGlhbDpvLnNlcnZlclJlc3BvbnNlLnBhc3N3b3JkfHxcIjExMTExMVwiLGZvcmNldHVybjohMH07cC50Y3Bwb3J0Kz1cIlwiLHAudWRwcG9ydCs9XCJcIixlLnR1cm5TZXJ2ZXJzPVtdLGUudHVyblNlcnZlcnMucHVzaChwKSxmLnJlcG9ydC5zZXRQcm94eVNlcnZlcihsKSx1LmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIobCksYyhsLHQpfSkpfSgpOjM9PWUucHJveHlTZXJ2ZXJUeXBlP2Z1bmN0aW9uIHIoKXtTKFwicHJveHkzXCIsZSwoZnVuY3Rpb24obyxjKXtpZihvKXJldHVyblwiUkVUUllBQkxFX0VSUk9SXCIhPT1vP24mJm4obyk6KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXVwiLG8pLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBSZXF1ZXN0IHByb3h5IHdpbGwgYmUgcmVzdGFydCBpbiBcIithK1wic1wiKSxpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cigpfSksMWUzKmEpLElbc109aSx2b2lkKGE9YT49MzYwMD8zNjAwOjIqYSkpO3ZhciBsPWMuZ2F0ZXdheVNlcnZlcnMscD1jLnR1cm5TZXJ2ZXJzO2NsZWFyVGltZW91dChpKTt2YXIgZz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiTkdJTlhcIik7ZS5wcm94eVNlcnZlcj1nLGUudHVyblNlcnZlcnM9W107dmFyIG09T2JqZWN0KFQucmFuZG9tU3RyaW5nKSgpO3AubWFwKChmdW5jdGlvbih0KXt2YXIgbj17bW9kZTpcIm1hbnVhbFwiLHVybDp0LmlwLHRjcHBvcnQ6XCJcIix1ZHBwb3J0OnQucG9ydHx8XCIzNDc4XCIsdXNlcm5hbWU6dC51c2VybmFtZXx8bSxjcmVkZW50aWFsOnQucGFzc3dvcmR8fFIoKShtKS50b1N0cmluZygpLGZvcmNldHVybjohMH07bi50Y3Bwb3J0Kz1cIlwiLG4udWRwcG9ydCs9XCJcIixlLnR1cm5TZXJ2ZXJzLnB1c2gobil9KSksZi5yZXBvcnQuc2V0UHJveHlTZXJ2ZXIoZyksdS5kZWZhdWx0LnNldFByb3h5U2VydmVyKGcpLHQobCl9KSl9KCk6ND09ZS5wcm94eVNlcnZlclR5cGU/ZnVuY3Rpb24gcigpe1MoXCJwcm94eTRcIixlLChmdW5jdGlvbihvLGMpe2lmKG8pcmV0dXJuXCJSRVRSWUFCTEVfRVJST1JcIiE9PW8/biYmbihvKToodS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdXCIsbyksdS5kZWZhdWx0LmRlYnVnKFwiW1wiK2UuY2xpZW50SWQrXCJdIFJlcXVlc3QgcHJveHkgd2lsbCBiZSByZXN0YXJ0IGluIFwiK2ErXCJzXCIpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyKCl9KSwxZTMqYSksSVtzXT1pLHZvaWQoYT1hPj0zNjAwPzM2MDA6MiphKSk7dmFyIGw9Yy5nYXRld2F5U2VydmVycyxwPWMudHVyblNlcnZlcnM7Y2xlYXJUaW1lb3V0KGkpO3ZhciBnPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJOR0lOWFwiKTtlLnByb3h5U2VydmVyPWcsZS50dXJuU2VydmVycz1bXTt2YXIgbT1PYmplY3QoVC5yYW5kb21TdHJpbmcpKCk7cC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPXttb2RlOlwibWFudWFsXCIsdXJsOnQuaXAsdGNwcG9ydDp0LnBvcnR8fFwiNDQzXCIsdWRwcG9ydDpcIlwiLHVzZXJuYW1lOnQudXNlcm5hbWV8fG0sY3JlZGVudGlhbDp0LnBhc3N3b3JkfHxSKCkobSkudG9TdHJpbmcoKSxmb3JjZXR1cm46ITF9O24udGNwcG9ydCs9XCJcIixuLnVkcHBvcnQrPVwiXCIsZS50dXJuU2VydmVycy5wdXNoKG4pfSkpLGYucmVwb3J0LnNldFByb3h5U2VydmVyKGcpLHUuZGVmYXVsdC5zZXRQcm94eVNlcnZlcihnKSx0KGwpfSkpfSgpOjU9PWUucHJveHlTZXJ2ZXJUeXBlP2Z1bmN0aW9uIHIoKXtTKFwicHJveHk1XCIsZSwoZnVuY3Rpb24obyxjKXtpZihvKXJldHVyblwiUkVUUllBQkxFX0VSUk9SXCIhPT1vP24mJm4obyk6KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXVwiLG8pLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIitlLmNsaWVudElkK1wiXSBSZXF1ZXN0IHByb3h5IHdpbGwgYmUgcmVzdGFydCBpbiBcIithK1wic1wiKSxpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cigpfSksMWUzKmEpLElbc109aSx2b2lkKGE9YT49MzYwMD8zNjAwOjIqYSkpO3ZhciBsPWMuZ2F0ZXdheVNlcnZlcnMscD1jLnR1cm5TZXJ2ZXJzO2NsZWFyVGltZW91dChpKTt2YXIgZz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiTkdJTlhcIik7ZS5wcm94eVNlcnZlcj1nLGUudHVyblNlcnZlcnM9W107dmFyIG09T2JqZWN0KFQucmFuZG9tU3RyaW5nKSgpO3AubWFwKChmdW5jdGlvbih0KXt2YXIgbj17bW9kZTpcIm1hbnVhbFwiLHVybDp0LmlwLHRjcHBvcnQ6dC5wb3J0fHxcIjQ0M1wiLHVkcHBvcnQ6XCJcIix1c2VybmFtZTp0LnVzZXJuYW1lfHxtLGNyZWRlbnRpYWw6dC5wYXNzd29yZHx8UigpKG0pLnRvU3RyaW5nKCksZm9yY2V0dXJuOiExLHVzZVR1cm5zOiEwfTtuLnRjcHBvcnQrPVwiXCIsbi51ZHBwb3J0Kz1cIlwiLGUudHVyblNlcnZlcnMucHVzaChuKX0pKSxmLnJlcG9ydC5zZXRQcm94eVNlcnZlcihnKSx1LmRlZmF1bHQuc2V0UHJveHlTZXJ2ZXIoZyksdChsKX0pLCEwKX0oKTpsKCk6YyhudWxsLHQpfSx3PWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89RGF0ZS5ub3coKTtyPXJ8fHQuc3RyaW5nVWlkO3ZhciBhPXtzaWQ6dC5zaWQsb3BpZDoxMCxhcHBpZDp0LmFwcElkLHN0cmluZ191aWQ6cn07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHMpe09iamVjdChsLnBvc3QpKGUrXCJcIi5jb25jYXQoLTE9PT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiLFwiYWN0aW9uPXN0cmluZ3VpZFwiKSxhLChmdW5jdGlvbihjKXt0cnl7dmFyIGQ9SlNPTi5wYXJzZShjKSxsPWQuY29kZX1jYXRjaChpKXt2YXIgZz1cInJlcXVlc3RVc2VyQWNjb3VudCBmYWlsZWQgd2l0aCB1bmV4cGVjdGVkIGJvZHkgXCIrYztyZXR1cm4gdS5kZWZhdWx0LmVycm9yKFwiW1wiK3QuY2xpZW50SWQrXCJdXCIsZykscyh7cmV0cnlhYmxlOiEwLGluZm86Zyx1cmw6ZSxlcnJvcjpcIlVORVhQRUNURURfRVJST1JcIn0pLG4mJm4uZGlzcGF0Y2hFdmVudCh7dHlwZTpcImVycm9yXCIscmVhc29uOlwiVVNFUl9BQ0NPVU5UX0JPRFlfTk9UX0pTT05cIn0pLHZvaWQgZi5yZXBvcnQucmVxVXNlckFjY291bnQoYS5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcmVzczplLHN0cmluZ1VpZDpyLHVpZDpudWxsLGV4dGVuZDpjLGVycm9yQ29kZTpcIlVTRVJfQUNDT1VOVF9CT0RZX05PVF9KU09OXCJ9KX1pZihsKXt2YXIgbT0hMTtyZXR1cm5cIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiPT09KHY9cC5TdHJpbmdVaWRFcnJvckNvZGVbZC5jb2RlJTFlNF18fFwiUkVRX0FDQ09VTlRfRVJSX1wiLmNvbmNhdChsKSkmJihtPSEwKSxuJiZuLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJlcnJvclwiLHJlYXNvbjp2fSksZi5yZXBvcnQucmVxVXNlckFjY291bnQoYS5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcmVzczplLHN0cmluZ1VpZDpyLHVpZDpudWxsLGVycm9yQ29kZTp2LGV4dGVuZDphfSkscyh7cmV0cnlhYmxlOm0saW5mbzpnPVwiR2V0IFN0cmluZyBVaWQgRmFpbGVkIFtcIit2K1wiXVwiLHVybDplLGVycm9yOnZ9KX12YXIgaD1kLnVpZDtpZighKGg+MCYmaDxNYXRoLnBvdygyLDMyKSkpe3UuZGVmYXVsdC5lcnJvcihcIltcIit0LmNsaWVudElkK1wiXSBcIitcIkludmFsaWQgVWludCBVaWQgXCIuY29uY2F0KHIsXCIgPT4gXCIpLmNvbmNhdChoKSxkKTt2YXIgdj1cIklOVkFMSURfVUlOVF9VSURfXCIuY29uY2F0KGgpO3JldHVybiBuJiZuLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJlcnJvclwiLHJlYXNvbjp2fSksZi5yZXBvcnQucmVxVXNlckFjY291bnQoYS5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcmVzczplLHN0cmluZ1VpZDpyLHVpZDpudWxsLGVycm9yQ29kZTp2LGV4dGVuZDphfSkscyh7cmV0cnlhYmxlOiEwLGVycm9yOnYsaW5mbzpcIkdldCBTdHJpbmcgVWlkIGZhaWxlZCBbXCIrditcIl1cIix1cmw6ZX0pfWkoe3VpZDpoLHVybDplfSksZi5yZXBvcnQucmVxVXNlckFjY291bnQoYS5zaWQse2x0czpvLHN1Y2Nlc3M6ITAsc2VydmVyQWRkcmVzczplLHN0cmluZ1VpZDpyLHVpZDpoLGVycm9yQ29kZTpudWxsLGV4dGVuZDphfSl9KSwoZnVuY3Rpb24oZSx0KXtpZihcInRpbWVvdXRcIj09PWUudHlwZSl7dmFyIGk9XCJVU0VSX0FDQ09VTlRfVElNRU9VVFwiO24mJm4uZGlzcGF0Y2hFdmVudCh7dHlwZTpcImVycm9yXCIscmVhc29uOml9KSxmLnJlcG9ydC5yZXFVc2VyQWNjb3VudChhLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyZXNzOnQsc3RyaW5nVWlkOnIsdWlkOm51bGwsZXJyb3JDb2RlOmksZXh0ZW5kOmF9KSxzKHtyZXRyeWFibGU6ITAsaW5mbzppLHVybDp0LGVycm9yOml9KX1lbHNle3ZhciBjPVwiVVNFUl9BQ0NPVU5UX1NFUlZFUl9XUk9OR19cIi5jb25jYXQoZS50eXBlKTtuJiZuLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJlcnJvclwiLHJlYXNvbjpjfSksZi5yZXBvcnQucmVxVXNlckFjY291bnQoYS5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcmVzczp0LHN0cmluZ1VpZDpyLHVpZDpudWxsLGVycm9yQ29kZTpjLGV4dGVuZDphfSkscyh7cmV0cnlhYmxlOiEwLGluZm86Yyx1cmw6dCxlcnJvcjpjfSl9fSkse1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjcyfSl9KSl9LEw9ZnVuY3Rpb24oZSx0LG4pe0RhdGUubm93KCk7dmFyIHIsbz1PYmplY3QoZC5nZXRQYXJhbWV0ZXIpKFwiQUNDT1VOVF9SRUdJU1RFUlwiKSxzPSExLGw9T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVFwiKSxmPW51bGwscD1udWxsLGc9bmV3IFByb21pc2UoZnVuY3Rpb24oKXt2YXIgZz1jKCkoYS5hLm1hcmsoKGZ1bmN0aW9uIGMoZyxtKXt2YXIgaCx2LEU7cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbihjKXtmb3IoOzspc3dpdGNoKGMucHJldj1jLm5leHQpe2Nhc2UgMDpmPWcscD1tLHI9MDtjYXNlIDM6aWYoIShyPE9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX0NPVU5UX01BWFwiKSkpe2MubmV4dD0zMzticmVha31pZighcyl7Yy5uZXh0PTY7YnJlYWt9cmV0dXJuIGMuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNjpyZXR1cm4gaD1vW3Ilby5sZW5ndGhdLHY9ZS5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGgrXCIvYXBpL3YxXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoaCxcIi9hcGkvdjFcIiksYy5wcmV2PTgsYy5kZWxlZ2F0ZVlpZWxkKGEuYS5tYXJrKChmdW5jdGlvbiByKCl7dmFyIGk7cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5wcm94eVNlcnZlcixyLm5leHQ9Myx3KHYsZSx0LG4pO2Nhc2UgMzppZihpPXIuc2VudCwhcyl7ci5uZXh0PTY7YnJlYWt9cmV0dXJuIHIuYWJydXB0KFwicmV0dXJuXCIse3Y6dm9pZCAwfSk7Y2FzZSA2OnM9ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXt1LmRlZmF1bHQuZGVidWcoXCJHZXQgVXNlckFjY291bnQgU3VjY2Vzc2Z1bGx5XCIsaSksZihpKX0pLDApO2Nhc2UgODpjYXNlXCJlbmRcIjpyZXR1cm4gci5zdG9wKCl9fSkscil9KSkoKSxcInQwXCIsMTApO2Nhc2UgMTA6aWYoRT1jLnQwLFwib2JqZWN0XCIhPT1pKCkoRSkpe2MubmV4dD0xMzticmVha31yZXR1cm4gYy5hYnJ1cHQoXCJyZXR1cm5cIixFLnYpO2Nhc2UgMTM6Yy5uZXh0PTMwO2JyZWFrO2Nhc2UgMTU6aWYoYy5wcmV2PTE1LGMudDE9Yy5jYXRjaCg4KSwhcyl7Yy5uZXh0PTE5O2JyZWFrfXJldHVybiBjLmFicnVwdChcInJldHVyblwiKTtjYXNlIDE5OmlmKCFjLnQxLnJldHJ5YWJsZSl7Yy5uZXh0PTI3O2JyZWFrfXJldHVybihsPU1hdGguY2VpbChsKk9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1JBVElPXCIpKSk+T2JqZWN0KGQuZ2V0UGFyYW1ldGVyKShcIkFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVF9NQVhcIikmJihsPU9iamVjdChkLmdldFBhcmFtZXRlcikoXCJBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVRfTUFYXCIpKSx1LmRlZmF1bHQuZXJyb3IoXCJcIi5jb25jYXQoYy50MS5pbmZvLFwiIFwiKS5jb25jYXQoYy50MS51cmwsXCIgV2lsbCBGZXRjaCBVc2VyIEFjY291bnQgaW4gXCIpLmNvbmNhdChsLzFlMyxcIiBzZWNvbmRzXCIpKSxjLm5leHQ9MjUsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSxsKX0pKTtjYXNlIDI1OmMubmV4dD0zMDticmVhaztjYXNlIDI3OnUuZGVmYXVsdC5lcnJvcihcIkdldCBVc2VyQWNjb3VudCBFcnJvcjogXCIuY29uY2F0KGMudDEuaW5mbyxcIiBcIikuY29uY2F0KGMudDEudXJsKSxjLnQxLmVycm9yKSxzPSEwLHAoYy50MS5lcnJvcik7Y2FzZSAzMDpyKyssYy5uZXh0PTM7YnJlYWs7Y2FzZSAzMzpjYXNlXCJlbmRcIjpyZXR1cm4gYy5zdG9wKCl9fSksYyxudWxsLFtbOCwxNV1dKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSk7cmV0dXJuIGcuY2FuY2VsPWZ1bmN0aW9uKCl7c3x8KHM9ITAscCh7aW5mbzpcIlJlcXVlc3QgQ2FuY2VsbGVkXCIscmV0cnlhYmxlOiExfSkpfSxnLmlzRmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gc30sZ319LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKyllKz1hcmd1bWVudHNbdF0ubGVuZ3RoO3ZhciByPUFycmF5KGUpLGk9MDtmb3IodD0wO3Q8bjt0KyspZm9yKHZhciBvPWFyZ3VtZW50c1t0XSxhPTAscz1vLmxlbmd0aDthPHM7YSsrLGkrKylyW2ldPW9bYV07cmV0dXJuIHJ9LGk9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG8sYSxzPWkobigwKSk7IWZ1bmN0aW9uKGUpe2UuQ0hJTkE9XCJDSElOQVwiLGUuQVNJQT1cIkFTSUFcIixlLk5PUlRIX0FNRVJJQ0E9XCJOT1JUSF9BTUVSSUNBXCIsZS5FVVJPUEU9XCJFVVJPUEVcIixlLkpBUEFOPVwiSkFQQU5cIixlLklORElBPVwiSU5ESUFcIixlLk9DRUFOSUE9XCJPQ0VBTklBXCIsZS5TT1VUSF9BTUVSSUNBPVwiU09VVEhfQU1FUklDQVwiLGUuQUZSSUNBPVwiQUZSSUNBXCIsZS5PVkVSU0VBPVwiT1ZFUlNFQVwiLGUuR0xPQkFMPVwiR0xPQkFMXCJ9KG98fChvPXt9KSksdC5BUkVBUz1vLGZ1bmN0aW9uKGUpe2UuQ0hJTkE9XCJDTlwiLGUuQVNJQT1cIkFTXCIsZS5OT1JUSF9BTUVSSUNBPVwiTkFcIixlLkVVUk9QRT1cIkVVXCIsZS5KQVBBTj1cIkpQXCIsZS5JTkRJQT1cIklOXCIsZS5PQ0VBTklBPVwiT0NcIixlLlNPVVRIX0FNRVJJQ0E9XCJTQVwiLGUuQUZSSUNBPVwiQUZcIixlLk9WRVJTRUE9XCJPVkVSU0VBXCIsZS5HTE9CQUw9XCJHTE9CQUxcIn0oYXx8KGE9e30pKTt2YXIgYz17QVNJQTp7Q09ERTphLkFTSUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFzaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWFzaWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFzaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hc2lhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItYXNpYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWFzaWEuYWdvcmEuaW9cIl0sTkdJTlg6W1wic291dGhlYXN0LWFzaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE5PUlRIX0FNRVJJQ0E6e0NPREU6YS5OT1JUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLE5HSU5YOltcImVhc3QtdXNhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxFVVJPUEU6e0NPREU6YS5FVVJPUEUsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWV1cm9wZS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWV1cm9wZTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWV1cm9wZTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWV1cm9wZS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWV1cm9wZS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWV1cm9wZS5hZ29yYS5pb1wiXSxOR0lOWDpbXCJldXJvcGUud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEpBUEFOOntDT0RFOmEuSkFQQU4sV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWphcGFuLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1qYXBhbi5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcImNkcy1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcIlxcdHVhcC1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1qYXBhbi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWphcGFuLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtamFwYW4uYWdvcmEuaW9cIl0sTkdJTlg6W1wiamFwYW4ud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LElORElBOntDT0RFOmEuSU5ESUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWluZGlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1pbmRpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWluZGlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaW5kaWEuYWdvcmEuaW9cIl0sTkdJTlg6W1wiaW5kaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE9WRVJTRUE6e0NPREU6YS5PVkVSU0VBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vdmVyc2VhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb3ZlcnNlYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vdmVyc2VhLmFnb3JhLmlvXCJdLE5HSU5YOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXX0sR0xPQkFMOntDT0RFOmEuR0xPQkFMLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJ3ZWJydGMyLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcImFwLXByb3h5LTEuYWdvcmEuaW9cIixcImFwLXByb3h5LTIuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLTMuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi0zLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UuYWdvcmEuaW9cIl0sTkdJTlg6W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE9DRUFOSUE6e0NPREU6YS5PQ0VBTklBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vY2VhbmlhLmFnb3JhLmlvXCJdLE5HSU5YOltcIm9jZWFuaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LFNPVVRIX0FNRVJJQ0E6e0NPREU6YS5TT1VUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItc291dGgtYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItc291dGgtYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLE5HSU5YOltcInNvdXRoLWFtZXJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEFGUklDQTp7Q09ERTphLkFGUklDQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtYWZyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWFmcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFmcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFmcmljYS5hZ29yYS5pb1wiXSxOR0lOWDpbXCJhZnJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19fTt0LkFSRUFfRE9NQUlOX01BUD1jO3ZhciBkPXtHTE9CQUw6e0FTSUE6W28uQ0hJTkEsby5KQVBBTixvLklORElBXSxFVVJPUEU6W10sTk9SVEhfQU1FUklDQTpbXSxTT1VUSF9BTUVSSUNBOltdLE9DRUFOSUE6W10sQUZSSUNBOltdfX0sdT1PYmplY3Qua2V5cyhkW28uR0xPQkFMXSksbD1bby5DSElOQSxvLk5PUlRIX0FNRVJJQ0Esby5FVVJPUEUsby5BU0lBLG8uSkFQQU4sby5JTkRJQSxvLk9DRUFOSUEsby5TT1VUSF9BTUVSSUNBLG8uQUZSSUNBXSxmPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1bXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W2VdKSx0JiYhZS5pbmNsdWRlcyhvLkdMT0JBTCkmJihpPWUpLHR8fChpPWUpLHQmJmUuaW5jbHVkZXMoby5HTE9CQUwpKXt2YXIgYT1bby5HTE9CQUwsby5PVkVSU0VBXSxzPU9iamVjdC5rZXlzKGMpO2lmKHQ9PT1vLkdMT0JBTCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IHNldCBleGNsdWRlZEFyZWEgdG8gJ0dMT0JBTCdcIik7aWYodD09PW8uQ0hJTkEpaT1bby5PVkVSU0VBXTtlbHNlIGlmKG49dCx1LmluY2x1ZGVzKG4pKXt2YXIgZj1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksZFtvLkdMT0JBTF1bZV18fFtdfSh0KSxwPXIoYSxbdF0sZik7aT1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXAuaW5jbHVkZXMoZSl9KSl9ZWxzZSBpZihmdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gdS5mb3JFYWNoKChmdW5jdGlvbihuKXtkLkdMT0JBTFtuXS5pbmNsdWRlcyhlKSYmKHQ9ITApfSkpLHR9KHQpKXt2YXIgZz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1cIlwiKTt2YXIgdD1cIlwiO3JldHVybiB1LmZvckVhY2goKGZ1bmN0aW9uKG4pe2QuR0xPQkFMW25dLmluY2x1ZGVzKGUpJiYodD1uKX0pKSx0fSh0KSxtPXIoYSxbZyx0XSk7aT1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW0uaW5jbHVkZXMoZSl9KSl9ZWxzZSBpPWU7aT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmluY2x1ZGVzKG4pJiZ0LnB1c2gobil9KSksdC5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFsLmluY2x1ZGVzKGUpfSkpKX0oaSl9cmV0dXJuIGNvbnNvbGUubG9nKFwiZ2V0QXJlYUNvZGVBZnRlckNhbGN1bGF0aW9uIHJlc3VsdFwiLGkpLGl9O3QuZ2V0QXJlYUNvZGVCeUNvbmZpZz1mdW5jdGlvbihlKXt2YXIgdD1lLmFyZWFDb2RlLG49ZS5leGNsdWRlZEFyZWE7cmV0dXJuIG4/Zih0LG4pOnR9LGMuQ0hJTkE9e0NPREU6YS5DSElOQSxXRUJDU19ET01BSU46W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcInByb3h5LXdlYi5hcC5zZC1ydG4uY29tXCJdLENEU19BUDpbXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcIndlYi0zLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wid2ViLTQuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWNoaW5hLmFnb3JhLmlvXCJdLE5HSU5YOltcImVhc3QtY24ud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19O3QuZ2V0QXJlYUNvZGVCeVdlYkNTPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhjKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0saT1jW3JdO2lmKGkuV0VCQ1NfRE9NQUlOLmluY2x1ZGVzKGUpfHxpLldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVC5pbmNsdWRlcyhlKSlyZXR1cm4gaS5DT0RFPT09YS5PVkVSU0VBP2EuQVNJQStcIixcIithLkVVUk9QRStcIixcIithLkFGUklDQStcIixcIithLk5PUlRIX0FNRVJJQ0ErXCIsXCIrYS5TT1VUSF9BTUVSSUNBK1wiLFwiK2EuT0NFQU5JQTppLkNPREV9fTt0LmdldEFyZWFDb2RlQnlBcmVhPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09by5PVkVSU0VBP2EuQVNJQStcIixcIithLkVVUk9QRStcIixcIithLkFGUklDQStcIixcIithLk5PUlRIX0FNRVJJQ0ErXCIsXCIrYS5TT1VUSF9BTUVSSUNBK1wiLFwiK2EuT0NFQU5JQTphW2VdfTt0LmdldEFyZWFEb21haW5Db25maWc9ZnVuY3Rpb24oZSl7dmFyIHQ9e1dFQkNTX0RPTUFJTjpbXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W10sUFJPWFlfQ1M6W10sQ0RTX0FQOltdLEFDQ09VTlRfUkVHSVNURVI6W10sVUFQX0FQOltdLEVWRU5UX1JFUE9SVF9ET01BSU46W10sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W10sTE9HX1VQTE9BRF9TRVJWRVI6W10sTkdJTlg6W119O3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49Y1tlXTtpZihuKXt2YXIgcj1PYmplY3Qua2V5cyhuKTtyP3IubWFwKChmdW5jdGlvbihlKXtcIkNPREVcIiE9PWUmJih0W2VdPXRbZV0uY29uY2F0KG5bZV0pKX0pKTpzLmRlZmF1bHQuaW5mbyhlK1wiIGlzIG5vdCBleGlzdFwiKX1lbHNlIHMuZGVmYXVsdC5pbmZvKGUrXCIgaXMgbm90IGV4aXN0XCIpfSkpLHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKHQsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9big3KSxpPW4ubihyKSxvPW4oNSksYT1uKDgpLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuYikoZSk7cmV0dXJuIHQudXJsPVwiLlwiLHR9LGM9bigwKSxkPW4oMTUpLHU9big0KSxsPW4oMiksZj1uKDEpLHA9MCxnPWZ1bmN0aW9uKGUpe3ZhciB0PXMoe30pO3QuaWQ9ZS5pZCx0LnBsYXllcklkPXArKyx0LmRlc3Ryb3llZD0hMSx0LmZpdD1lLm9wdGlvbnMmJmUub3B0aW9ucy5maXQsXCJjb250YWluXCIhPT10LmZpdCYmXCJjb3ZlclwiIT09dC5maXQmJih0LmZpdD1udWxsKSx0LnVybD1lLnVybCx0LnN0cmVhbT1lLnN0cmVhbS5zdHJlYW0sdC5wZWVyVmlkZW9SZWFkeT0hMSx0LmlzRnJlZXplPSExLHQuZnJlZXplVGltZUNvdW50ZXJMaXN0PVtdLHQuZnJlZXplQ291bnQ9MCx0Lmxhc3RGcmVlemVDb3VudD0wLHQubGFzdFRpbWV1cGRhdGVUaW1lPTAsdC5lbGVtZW50SUQ9ZS5lbGVtZW50SUQsdC5zZXRBdWRpb091dHB1dD1mdW5jdGlvbihlLG4scil7dmFyIGk9dC52aWRlb3x8dC5hdWRpbztyZXR1cm4gaT9pLnNldFNpbmtJZD92b2lkIGkuc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmlkK1wiXSBcIitcInZpZGVvIFwiLmNvbmNhdCh0LmlkLFwiIHNldEF1ZGlvT3V0cHV0IFwiKS5jb25jYXQoZSxcIiBTVUNDRVNTXCIpKSxpPT10LnZpZGVvJiZ0LmF1ZGlvP3QuYXVkaW8uc2V0U2lua0lkKGUpOlByb21pc2UucmVzb2x2ZSgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmlkK1wiXSBcIitcImF1ZGlvIFwiLmNvbmNhdCh0LmlkLFwiIHNldEF1ZGlvT3V0cHV0IFwiKS5jb25jYXQoZSxcIiBTVUNDRVNTXCIpKSxuJiZuKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIrdC5pZCtcIl0gVmlkZW9QbGF5ZXIuc2V0QXVkaW9PdXRwdXRcIixlKSxyJiZyKGUpfSkpOihjLmRlZmF1bHQuZXJyb3IoXCJbXCIrdC5pZCtcIl0gXCIsdS5kZWZhdWx0LldFQl9BUElfTk9UX1NVUFBPUlRFRCksciYmcih1LmRlZmF1bHQuV0VCX0FQSV9OT1RfU1VQUE9SVEVEKSk6KGMuZGVmYXVsdC5lcnJvcihcIltcIit0LmlkK1wiXSBcIix1LmRlZmF1bHQuUExBWUVSX05PVF9GT1VORCksciYmcih1LmRlZmF1bHQuUExBWUVSX05PVF9GT1VORCkpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oKXtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIGRlc3Ryb3kgXCIpLmNvbmNhdChlLnN0cmVhbS5sb2NhbD9cImxvY2FsXCI6XCJyZW1vdGVcIixcIiBQbGF5ZXIgXCIpLmNvbmNhdCh0LmlkKSksT2JqZWN0KGQuc2V0U3JjT2JqZWN0KSh0LnZpZGVvLG51bGwpLE9iamVjdChkLnNldFNyY09iamVjdCkodC5hdWRpbyxudWxsKSx0LnZpZGVvLmxvYWQoKSx0LmF1ZGlvLmxvYWQoKSx0LnZpZGVvLnBhdXNlKCksdC52aWRlby5yZW1vdmUoKSx0LmF1ZGlvLnJlbW92ZSgpLHQuZnJlZXplQ2hlY2tJbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0LmZyZWV6ZUNoZWNrSW50ZXJ2YWwpLHQuZGVzdHJveWVkPSEwLGRlbGV0ZSB0LnJlc2l6ZXIsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5kaXYuaWQpJiZ0LnBhcmVudE5vZGUuY29udGFpbnModC5kaXYpJiZ0LmRpdi5yZW1vdmUoKSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuZGl2KSxbXCJ2aWRlb1wiLFwiYXVkaW9cIl0uZm9yRWFjaCgoZnVuY3Rpb24obil7dFtuXTt2YXIgcj1hW25dO2NsZWFyVGltZW91dChyLnBsYXlEZWZlclRpbWVvdXQpLHIuZm9ybWVyTWVkaWFTdGF0ZT1udWxsO3ZhciBpPXtwbGF5ZXJJZDp0LnBsYXllcklkLHN0YXRlSWQ6ci5zdGF0ZUlkKzEscGxheURlZmVyVGltZW91dDpudWxsLGVycm9yOiExLHN0YXR1czpcImFib3J0ZWRcIixyZWFzb246XCJzdG9wXCIsdXBkYXRlZEF0OkRhdGUubm93KCl9O2Fbbl09aTt2YXIgbz17dHlwZTpcInBsYXllci1zdGF0dXMtY2hhbmdlXCIscGxheWVySWQ6dC5wbGF5ZXJJZCxtZWRpYVR5cGU6bixzdGF0dXM6aS5zdGF0dXMscmVhc29uOmkucmVhc29uLGlzRXJyb3JTdGF0ZTohMSxzdHJlYW1JZDp0LmlkfTtjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIE1lZGlhIFBsYXllciBTdGF0dXMgQ2hhbmdlIFRyaWdnZXJlZCBieSBkZXN0cm95KClcIiksbyksZS5zdHJlYW0uZGlzcGF0Y2hFdmVudChvKSxmLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zdHJlYW0uc2lkLHtuYW1lOlwiU3RyZWFtLnBsYXllclN0YXR1c0NoYW5nZVwiLG9wdGlvbnM6byx0YWc6XCJ0cmFjZXJcIn0pKCl9KSl9LHQuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdC5kaXYuc2V0QXR0cmlidXRlKFwiaWRcIixcInBsYXllcl9cIit0LmlkKSxlLnN0cmVhbS52aWRlbz90LmRpdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlOyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgb3ZlcmZsb3c6IGhpZGRlbjtcIik6dC5kaXYuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiByZWxhdGl2ZTsgb3ZlcmZsb3c6IGhpZGRlbjtcIiksdC52aWRlbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwidmlkZW9cIit0LmlkKSxlLnN0cmVhbS5sb2NhbCYmIWUuc3RyZWFtLnNjcmVlbj9lLnN0cmVhbS5taXJyb3I/dC52aWRlby5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTsgb2JqZWN0LWZpdDogXCIuY29uY2F0KHQuZml0fHxcImNvdmVyXCIsXCI7XCIpKTp0LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IG9iamVjdC1maXQ6IFwiLmNvbmNhdCh0LmZpdHx8XCJjb3ZlclwiLFwiO1wiKSk6ZS5zdHJlYW0udmlkZW8/dC52aWRlby5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyBvYmplY3QtZml0OiBcIi5jb25jYXQodC5maXR8fFwiY292ZXJcIixcIjtcIikpOmUuc3RyZWFtLnNjcmVlbj90LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IG9iamVjdC1maXQ6IFwiLmNvbmNhdCh0LmZpdHx8XCJjb250YWluXCIpKTp0LnZpZGVvLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IGRpc3BsYXk6IG5vbmU7IG9iamVjdC1maXQ6IFwiLmNvbmNhdCh0LmZpdHx8XCJjb3ZlclwiKSk7dmFyIG49e2F1dG9wbGF5OiEwLG11dGVkOiEhZS5zdHJlYW0ubG9jYWx8fCEoIW8uaXNTYWZhcmkoKSYmXCJpT1NcIiE9PW8uZ2V0QnJvd3Nlck9TKCkpJiZcInZpZGVvX2VsZW1lbnRfbXV0ZWRcIixwbGF5c2lubGluZTohMCxjb250cm9sczohMSx2b2x1bWU6bnVsbH0scj1pKCkoe30sbixlLm9wdGlvbnMpOyEwIT09ci5tdXRlZHx8ci52b2x1bWV8fChyLnZvbHVtZT0wKSx0LnZpZGVvLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHQudmlkZW8ubXV0ZWQ9ITAsdC52aWRlby5hdXRvcGxheT0hMCxyLnBsYXlzaW5saW5lJiZ0LnZpZGVvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksci5jb250cm9scyYmdC52aWRlby5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLFwiXCIpLHIuY29udGFpbnMmJih0LnZpZGVvLmNvbnRyb2xzPSEwKSxOdW1iZXIuaXNGaW5pdGUoci52b2x1bWUpJiYodC52aWRlby52b2x1bWU9ci52b2x1bWUpLHQuYXVkaW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpLHQuYXVkaW8uc2V0QXR0cmlidXRlKFwiaWRcIixcImF1ZGlvXCIrdC5pZCksITA9PT1yLm11dGVkJiZ0LmF1ZGlvLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksITA9PT1yLm11dGVkJiYodC5hdWRpby5tdXRlZD0hMCksci5wbGF5c2lubGluZSYmdC5hdWRpby5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLE51bWJlci5pc0Zpbml0ZShyLnZvbHVtZSkmJih0LmF1ZGlvLnZvbHVtZT1yLnZvbHVtZSksdm9pZCAwIT09dC5lbGVtZW50SUQ/KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuZWxlbWVudElEKS5hcHBlbmRDaGlsZCh0LmRpdiksdC5jb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5lbGVtZW50SUQpKTooZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0LmRpdiksdC5jb250YWluZXI9ZG9jdW1lbnQuYm9keSksdC5wYXJlbnROb2RlPXQuZGl2LnBhcmVudE5vZGU7dmFyIGE9e3ZpZGVvOntwbGF5ZXJJZDp0LnBsYXllcklkLHN0YXRlSWQ6MCxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6ITEsc3RhdHVzOlwiaW5pdFwiLHJlYXNvbjpudWxsLHVwZGF0ZWRBdDpEYXRlLm5vdygpfSxhdWRpbzp7cGxheWVySWQ6dC5wbGF5ZXJJZCxzdGF0ZUlkOjAscGxheURlZmVyVGltZW91dDpudWxsLGVycm9yOiExLHN0YXR1czpcImluaXRcIixyZWFzb246bnVsbCx1cGRhdGVkQXQ6RGF0ZS5ub3coKX19O3QubWVkaWFFbGVtRXhpc3RzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLG49MDtuPE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJNRURJQV9FTEVNRU5UX0VYSVNUU19ERVBUSFwiKSYmdDtuKyspdD10LnBhcmVudE5vZGU7cmV0dXJuISF0fTt2YXIgZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5tZWRpYUVsZW1FeGlzdHMoZSk/ZS5wYXVzZWQ/XCJwYXVzZWRcIjpcInBsYXlcIjpcImFib3J0ZWRcIn0sbT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZyhlKSxpPSEwO3JldHVyblwicGF1c2VkXCI9PT1yPyhcImF1ZGlvXCI9PT10JiYhMD09PW4ubXV0ZWQmJihpPSExKSxuLmF1dG9wbGF5fHwoaT0hMSkpOlwicGxheVwiPT09cj9cInZpZGVvXCI9PT10P2k9ITE6ITA9PT1uLm11dGVkP2UubXV0ZWQmJihpPSExKTplLm11dGVkfHwoaT0hMSk6XCJhYm9ydGVkXCI9PT1yJiYoaT0hMSksaX0saD1mdW5jdGlvbihuKXt2YXIgaSxvPXRoaXM7aWYobz09PXQudmlkZW8/aT1cInZpZGVvXCI6bz09PXQuYXVkaW8mJihpPVwiYXVkaW9cIiksaSl7aWYobi50eXBlfHxjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuaWQsXCJdIFVuZXhwZWN0ZWQgZXZ0XCIpLG4pLFwidmlkZW9cIj09PWkmJm8ubXV0ZWQmJm8ucGF1c2VkKXJldHVybiBjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIGF1dG8gcmVzdW1lIHZpZGVvIGVsZW1lbnRcIikpLHZvaWQgby5wbGF5KCk7dmFyIHM9ZyhvKTtjbGVhclRpbWVvdXQoYVtpXS5wbGF5RGVmZXJUaW1lb3V0KSxhW2ldLnBsYXlEZWZlclRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXthW2ldLnBsYXlEZWZlclRpbWVvdXQ9bnVsbDt2YXIgZD1hW2ldLHU9ZyhvKTtpZihzPT09dSl7dmFyIGw9e3BsYXllcklkOnQucGxheWVySWQsc3RhdGVJZDpkLnN0YXRlSWQrMSxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6bShvLGksciksc3RhdHVzOmcobykscmVhc29uOm4udHlwZSx1cGRhdGVkQXQ6RGF0ZS5ub3coKX07aWYoZC5zdGF0dXMhPT1sLnN0YXR1cyl7YVtpXT1sO3ZhciBwPXt0eXBlOlwicGxheWVyLXN0YXR1cy1jaGFuZ2VcIixwbGF5ZXJJZDp0LnBsYXllcklkLG1lZGlhVHlwZTppLHN0YXR1czpsLnN0YXR1cyxyZWFzb246bC5yZWFzb24saXNFcnJvclN0YXRlOmwuZXJyb3Isc3RyZWFtSWQ6dC5pZH07Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmlkLFwiXSBNZWRpYSBQbGF5ZXIgU3RhdHVzIENoYW5nZVwiKSxwKSxlLnN0cmVhbS5kaXNwYXRjaEV2ZW50KHApLGYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnN0cmVhbS5zaWQse25hbWU6XCJTdHJlYW0ucGxheWVyU3RhdHVzQ2hhbmdlXCIsb3B0aW9uczpwLHRhZzpcInRyYWNlclwifSkoKX19ZWxzZSBjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuaWQsXCJdIFN0YXR1cyBDaGFuZ2UgYWZ0ZXIgZXZlbnQgVHJpZ2dlcmVkLlwiKStcIlN0cmVhbSBcIi5jb25jYXQodC5pZCxcIiBQbGF5ZXJJZCBcIikuY29uY2F0KHQucGxheWVySWQsXCIgbWVkaWFUeXBlIFwiKS5jb25jYXQoaSxcIiBTdGF0dXMgXCIpLmNvbmNhdChzLFwiPT5cIikuY29uY2F0KHUpKX0pLE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJQTEFZRVJfU1RBVEVfREVGRVJcIikpfWVsc2UgYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmlkLFwiXSBVbmtub3duIG1lZGlhIGVsZW1lbnRcIiksbyl9O3QudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uIGUoKXt0LnZpZGVvLnZpZGVvV2lkdGgqdC52aWRlby52aWRlb0hlaWdodD40P2MuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmlkK1wiXSB2aWRlbyBkaW1lbnNpb25zOlwiLHQudmlkZW8udmlkZW9XaWR0aCx0LnZpZGVvLnZpZGVvSGVpZ2h0KTpzZXRUaW1lb3V0KGUsNTApfSgpfSkpO3ZhciB2PTAsRT0wLFM9MDt0LmZyZWV6ZUNoZWNrSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7RGF0ZS5ub3coKS10Lmxhc3RUaW1ldXBkYXRlVGltZT41MDAmJnQucGVlclZpZGVvUmVhZHk/KHQuaXNGcmVlemU9ITAsdC5mcmVlemVDb3VudCs9MSk6dC5pc0ZyZWV6ZT0hMX0pLDUwMCksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLGgpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIixoKSx0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGgpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcIm9uZXJyb3JcIixoKSx0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJzdXNwZW5kXCIsaCksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwic3RhbGxlZFwiLGgpLHQudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsaCksdC5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLGgpLHQuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIixoKSx0LmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGgpLHQuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcIm9uZXJyb3JcIixoKSx0LmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJzdXNwZW5kXCIsaCksdC5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwic3RhbGxlZFwiLGgpLHQuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsaCk7dmFyIF89dC5hdWRpbyx5PVwiYXVkaW9cIjtpZihlLnN0cmVhbS5oYXNWaWRlbygpfHxlLnN0cmVhbS5oYXNTY3JlZW4oKSl0LmRpdi5hcHBlbmRDaGlsZCh0LnZpZGVvKSx0LmRpdi5hcHBlbmRDaGlsZCh0LmF1ZGlvKSxvLmlzRWRnZSgpP3QudmlkZW8uc3JjT2JqZWN0PWUuc3RyZWFtLnN0cmVhbTooT2JqZWN0KGQuYXR0YWNoTWVkaWFTdHJlYW0pKHQudmlkZW8sZS5zdHJlYW0uc3RyZWFtKSxPYmplY3QoZC5hdHRhY2hNZWRpYVN0cmVhbSkodC5hdWRpbyxlLnN0cmVhbS5zdHJlYW0pKSx0LnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aW1ldXBkYXRlXCIsKGZ1bmN0aW9uKCl7dmFyIGU9RGF0ZS5ub3coKTtpZigodis9MSk8MTApdC5sYXN0VGltZXVwZGF0ZVRpbWU9ZTtlbHNlIGZvcihlLXQubGFzdFRpbWV1cGRhdGVUaW1lPjUwMCYmKHQucGVlclZpZGVvUmVhZHk/RSs9ZS10Lmxhc3RUaW1ldXBkYXRlVGltZTp0LnBlZXJWaWRlb1JlYWR5PSEwKSxTKz1lLXQubGFzdFRpbWV1cGRhdGVUaW1lLHQubGFzdFRpbWV1cGRhdGVUaW1lPWU7Uz49NmUzOylTLT02ZTMsdC5mcmVlemVUaW1lQ291bnRlckxpc3QucHVzaChNYXRoLm1pbig2ZTMsRSkpLEUtPTZlMyxFPU1hdGgubWF4KEUsMCl9KSk7ZWxzZXshMSE9PXIubXV0ZWQmJlwidmlkZW9fZWxlbWVudF9tdXRlZFwiIT09ci5tdXRlZHx8KHQudmlkZW8ucmVtb3ZlQXR0cmlidXRlKFwibXV0ZWRcIiksdC52aWRlby5tdXRlZD0hMSksdC52aWRlby5yZW1vdmVBdHRyaWJ1dGUoXCJhdXRvcGxheVwiKSx0LnZpZGVvLmF1dG9wbGF5PSExLHQuZGl2LmFwcGVuZENoaWxkKHQudmlkZW8pLF89dC52aWRlbyx5PVwidmlkZW9cIjt2YXIgUj1hLmF1ZGlvLFQ9e3BsYXllcklkOnQucGxheWVySWQsc3RhdGVJZDpSLnN0YXRlSWQrMSxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6ITEsc3RhdHVzOlwiYWJvcnRlZFwiLHJlYXNvbjpcImF1ZGlvb25seVwiLHVwZGF0ZWRBdDpEYXRlLm5vdygpfTthLmF1ZGlvPVQ7dmFyIEk9e3R5cGU6XCJwbGF5ZXItc3RhdHVzLWNoYW5nZVwiLHBsYXllcklkOnQucGxheWVySWQsbWVkaWFUeXBlOlwiYXVkaW9cIixzdGF0dXM6VC5zdGF0dXMscmVhc29uOlQucmVhc29uLGlzRXJyb3JTdGF0ZTpULmVycm9yLHN0cmVhbUlkOnQuaWR9O2lmKGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gTWVkaWEgUGxheWVyIFN0YXR1cyBDaGFuZ2VcIiksSSksUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5zdHJlYW0uZGlzcGF0Y2hFdmVudChJKX0pKSxmLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zdHJlYW0uc2lkLHtuYW1lOlwiU3RyZWFtLnBsYXllclN0YXR1c0NoYW5nZVwiLG9wdGlvbnM6SSx0YWc6XCJ0cmFjZXJcIn0pKCksd2luZG93Lk1lZGlhU3RyZWFtJiYoby5pc1NhZmFyaSgpfHxcImlPU1wiPT09by5nZXRCcm93c2VyT1MoKSkpe3ZhciBiPW5ldyBNZWRpYVN0cmVhbShlLnN0cmVhbS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKSk7T2JqZWN0KGQuc2V0U3JjT2JqZWN0KSh0LnZpZGVvLGIpfWVsc2UgT2JqZWN0KGQuc2V0U3JjT2JqZWN0KSh0LnZpZGVvLGUuc3RyZWFtLnN0cmVhbSl9aWYoci5hdXRvcGxheSYmXyl7dmFyIEE9Xy5wbGF5KCk7QSYmQS5jYXRjaCYmQS5jYXRjaCgoZnVuY3Rpb24obil7aWYoIXQuZGVzdHJveWVkJiZfKXt2YXIgaT1hW3ldLG89e3BsYXllcklkOnQucGxheWVySWQsc3RhdGVJZDppLnN0YXRlSWQrMSxwbGF5RGVmZXJUaW1lb3V0Om51bGwsZXJyb3I6bShfLHksciksc3RhdHVzOmcoXykscmVhc29uOlwiZXJyb3JcIix1cGRhdGVkQXQ6RGF0ZS5ub3coKX07aWYoaS5zdGF0dXMhPT1vLnN0YXR1cyl7Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmlkLFwiXSBQbGF5ZXIgXCIpLmNvbmNhdCh0LnBsYXllcklkLFwiIFN0YXR1cyBDaGFuZ2VkIERldGVjdGVkIGJ5IHByb21pc2UgZXJyb3I6IFwiKS5jb25jYXQoaS5zdGF0dXMsXCI9PlwiKS5jb25jYXQoby5zdGF0dXMpLG4pLGFbeV09bzt2YXIgcz17dHlwZTpcInBsYXllci1zdGF0dXMtY2hhbmdlXCIscGxheWVySWQ6dC5wbGF5ZXJJZCxtZWRpYVR5cGU6eSxzdGF0dXM6by5zdGF0dXMscmVhc29uOm8ucmVhc29uLGlzRXJyb3JTdGF0ZTpvLmVycm9yLHN0cmVhbUlkOnQuaWR9O2MuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5pZCxcIl0gTWVkaWEgUGxheWVyIFN0YXR1cyBDaGFuZ2VcIikscyksZS5zdHJlYW0uZGlzcGF0Y2hFdmVudChzKSxmLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zdHJlYW0uc2lkLHtuYW1lOlwiU3RyZWFtLnBsYXllclN0YXR1c0NoYW5nZVwiLG9wdGlvbnM6cyx0YWc6XCJ0cmFjZXJcIn0pKCl9fX0pKX1yZXR1cm4gdC5zZXRBdWRpb1ZvbHVtZT1mdW5jdGlvbihlKXt2YXIgbj1wYXJzZUludChlKS8xMDA7aXNGaW5pdGUobikmJihuPDA/bj0wOm4+MSYmKG49MSksdC52aWRlbyYmKHQudmlkZW8udm9sdW1lPW4pLHQuYXVkaW8mJih0LmF1ZGlvLnZvbHVtZT1uKSl9LHR9LG09bigyMyksaD1uKDEwKSx2PW4oNiksRT1uKDE5KSxTPW4oMyksXz1uKDI1KTt2YXIgeT1uKDE2KSxSPW4oMTEpLFQ9bi5uKFIpLEk9ZnVuY3Rpb24oZSl7T2JqZWN0KFMuY2hlY2tWYWxpZFN0cmluZykoZSxcInByb2ZpbGVOYW1lXCIpLC0xPT09KGU9ZS50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKFwiX1wiKSYmKGUrPVwiXzFcIiksT2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKGUsXCJwcm9maWxlTmFtZVwiLE9iamVjdC5rZXlzKGwuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1QpKTt2YXIgdD1sLlNVUFBPUlRfUkVTT0xVVElPTl9MSVNUW2VdO3R8fChlPU9iamVjdChsLmdldFBhcmFtZXRlcikoXCJERUZBVUxUX1BST0ZJTEVcIiksdD1sLlNVUFBPUlRfUkVTT0xVVElPTl9MSVNUW2VdKTt2YXIgbj17cHJvZmlsZU5hbWU6ZSx2aWRlbzp7d2lkdGg6dFswXSxoZWlnaHQ6dFsxXX0sYXR0cmlidXRlczp7cmVzb2x1dGlvbjpcIlwiLmNvbmNhdCh0WzBdLFwieFwiKS5jb25jYXQodFsxXSksbWluRnJhbWVSYXRlOnRbMl0sbWF4RnJhbWVSYXRlOnRbM10sbWluVmlkZW9CVzp0WzRdLG1heFZpZGVvQlc6dFs1XX19O3JldHVybiB0WzJdJiYobi52aWRlby5mcmFtZVJhdGU9dFsyXSksdFs2XSYmdFs3XSYmKG4uc2NyZWVuPXt3aWR0aDp0WzBdLGhlaWdodDp0WzFdLGZyYW1lUmF0ZTp7bWluOnRbNl0sbWF4OnRbN119fSksbn0sYj1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMobC5TVVBQT1JUX1JFU09MVVRJT05fTElTVCkuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgbj1sLlNVUFBPUlRfUkVTT0xVVElPTl9MSVNUW3RdLHI9W1wid2lkdGhcIixcImhlaWdodFwiLFwiZnJhbWVSYXRlXCJdO2Zvcih2YXIgaSBpbiByKXt2YXIgbz1yW2ldO2lmKGVbb10mJm5baV0pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW29dLm1heCYmZVtvXS5tYXg8bltpXSlyZXR1cm4hMTtpZihcIm51bWJlclwiPT10eXBlb2YgZVtvXS5taW4mJmVbb10ubWluPm5baV0pcmV0dXJuITF9fXJldHVybiEwfSkpLnJldmVyc2UoKX0sQT1mdW5jdGlvbihlKXt2YXIgdD1sLkFVRElPX1BST0ZJTEVfU0VUVElOR1NbZV18fGwuQVVESU9fUFJPRklMRV9TRVRUSU5HUy5kZWZhdWx0O3JldHVybntoaWdoUXVhbGl0eTp0WzBdLHN0ZXJlbzp0WzFdLHNwZWVjaDp0WzJdLGxvd1F1YWxpdHk6dFszXX19O3ZhciBPPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmIpKCk7aWYodC5wYXJhbXM9aSgpKHt9LGUpLHQuc3RyZWFtPWUuc3RyZWFtLHQudXJsPWUudXJsLHQub25DbG9zZT12b2lkIDAsdC5sb2NhbD0hMSx0LnZpZGVvU291cmNlPWUudmlkZW9Tb3VyY2UsdC5hdWRpb1NvdXJjZT1lLmF1ZGlvU291cmNlLGUudmlkZW89ISghZS52aWRlb1NvdXJjZSYmIWUudmlkZW8pLHQudmlkZW89ZS52aWRlbyxlLmF1ZGlvPSEoIWUuYXVkaW9Tb3VyY2UmJiFlLmF1ZGlvKSx0LmF1ZGlvPWUuYXVkaW8sdC5zY3JlZW49ISFlLnNjcmVlbix0LnNjcmVlbkF1ZGlvPSEhZS5zY3JlZW5BdWRpbyx0LnNjcmVlbkF0dHJpYnV0ZXM9e3dpZHRoOjE5MjAsaGVpZ2h0OjEwODAsbWF4RnI6NSxtaW5GcjoxfSx0LnZpZGVvU2l6ZT1lLnZpZGVvU2l6ZSx0LnBsYXllcj12b2lkIDAsdC5hdWRpb0xldmVsSGVscGVyPW51bGwsZS5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlc3x8e30sdC5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlcyx0Lm1pY3JvcGhvbmVJZD1lLm1pY3JvcGhvbmVJZCx0LmNhbWVyYUlkPWUuY2FtZXJhSWQsdC5mYWNpbmdNb2RlPWUuZmFjaW5nTW9kZSx0LmluU3dpdGNoRGV2aWNlPSExLHQudXNlck11dGVWaWRlbz0hMSx0LnVzZXJNdXRlQXVkaW89ITEsdC5wZWVyTXV0ZVZpZGVvPSExLHQucGVlck11dGVBdWRpbz0hMSx0Lmxvd1N0cmVhbT1udWxsLHQudmlkZW9XaWR0aD0wLHQudmlkZW9IZWlnaHQ9MCx0LnN0cmVhbUlkPWUuc3RyZWFtSUQsdC51c2VySWQ9bnVsbCx0LnVpbnRJZD1lLnVpbnRVSUR8fG51bGwsdC5taXJyb3I9ITEhPT1lLm1pcnJvcix0LkRUWD1lLmF1ZGlvUHJvY2Vzc2luZyYmZS5hdWRpb1Byb2Nlc3NpbmcuRFRYLHQuYXVkaW9Qcm9jZXNzaW5nPWUuYXVkaW9Qcm9jZXNzaW5nLHQub3B0aW1pemF0aW9uTW9kZT1lLm9wdGltaXphdGlvbk1vZGUsdC5oaWdoUXVhbGl0eT0hMSx0LnN0ZXJlbz0hMSx0LnNwZWVjaD0hMSx0LnNjcmVlbnx8ZGVsZXRlIHQuc2NyZWVuLCEodm9pZCAwPT09dC52aWRlb1NpemV8fHQudmlkZW9TaXplIGluc3RhbmNlb2YgQXJyYXkmJjQ9PT10LnZpZGVvU2l6ZS5sZW5ndGgpKXRocm93IEVycm9yKFwiSW52YWxpZCBWaWRlbyBTaXplXCIpO2Z1bmN0aW9uIG4oKXt2YXIgZT17fTt0LmdldFZpZGVvVHJhY2soKT09PXRoaXM/KGMuZGVmYXVsdC5kZWJ1ZyhcIlZpZGVvIFRyYWNrIEVuZGVkXCIpLGUudHlwZT1cInZpZGVvVHJhY2tFbmRlZFwiLGUudHJhY2s9dGhpcyk6dC5nZXRBdWRpb1RyYWNrKCk9PT10aGlzPyhjLmRlZmF1bHQuZGVidWcoXCJBdWRpbyBUcmFjayBFbmRlZFwiKSxlLnR5cGU9XCJhdWRpb1RyYWNrRW5kZWRcIixlLnRyYWNrPXRoaXMpOmMuZGVmYXVsdC5kZWJ1ZyhcIkRldGFjaGVkIFRyYWNrIGVuZGVkXCIsdGhpcy5raW5kLHRoaXMubGFiZWwsdGhpcyksZS50eXBlJiZ0LmRpc3BhdGNoRXZlbnQoZSl9cmV0dXJuIHQudmlkZW9TaXplPVs2NDAsNDgwLDY0MCw0ODBdLHZvaWQgMCE9PWUubG9jYWwmJiEwIT09ZS5sb2NhbHx8KHQubG9jYWw9ITApLHQuaW5pdGlhbGl6ZWQ9IXQubG9jYWwsdC5fc3RyZWFtSW5pdElEPW51bGwsZnVuY3Rpb24oZSl7ZS5hdWRpb01peGluZz17YXVkaW9Db250ZXh0SW5pdGVkOiExLGRlZmF1bHRWb2x1bWU6MTAwLGluRWFyTW9uaXRvcmluZzpcIkZJTEVcIixzb3VuZHM6e30sc3RhdGVzOntJRExFOlwiSURMRVwiLFNUQVJUSU5HOlwiU1RBUlRJTkdcIixCVVNZOlwiQlVTWVwiLFBBVVNFRDpcIlBBVVNFRFwifSxpbkVhck1vbml0b3JpbmdNb2Rlczp7Tk9ORTpcIk5PTkVcIixGSUxFOlwiRklMRVwiLE1JQ1JPUEhPTkU6XCJNT0NST1BIT05FXCIsQUxMOlwiQUxMXCJ9LGN0eDpudWxsLG1lZGlhU3RyZWFtU291cmNlOm51bGwsbWVkaWFTdHJlYW1EZXN0Om51bGwsYnVmZmVyOnt9fSxlLl9pbml0U291bmRJZk5vdEV4aXN0cz1mdW5jdGlvbih0LG4pe2UuYXVkaW9NaXhpbmcuc291bmRzW3RdfHwoZS5hdWRpb01peGluZy5zb3VuZHNbdF09e3NvdW5kSWQ6dCxzdGF0ZTpcIklETEVcIixtdXRlZDplLnVzZXJNdXRlQXVkaW8sZmlsZVBhdGg6bix2b2x1bWU6ZS5hdWRpb01peGluZy5kZWZhdWx0Vm9sdW1lLHN0YXJ0QXQ6bnVsbCxzdGFydE9mZnNldDpudWxsLHBhdXNlQXQ6bnVsbCxwYXVzZU9mZnNldDpudWxsLHJlc3VtZUF0Om51bGwscmVzdW1lT2Zmc2V0Om51bGwsc3RvcEF0Om51bGwsb3B0aW9uczpudWxsLHNvdXJjZTpudWxsfSl9LGUuX2luaXRTb3VuZElmTm90RXhpc3RzKC0xKSxlLmxvYWRBdWRpb0J1ZmZlcj1mdW5jdGlvbih0LG4scil7dmFyIGk9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpyLG5hbWU6XCJTdHJlYW0ubG9hZEF1ZGlvQnVmZmVyXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShuLFwidXJsXCIsMSwxMDI0LCExKSxPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKSh0LFwiaWRcIiwxLDEwMjQsITEpO3ZhciBvPWZ1bmN0aW9uKHQpe2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gbG9hZEF1ZGlvQnVmZmVyIEZhaWxlZDogXCIpK3QpLGkodS5kZWZhdWx0LkxPQURfQVVESU9fRkFJTEVEKX0sYT1uZXcgWE1MSHR0cFJlcXVlc3Q7YS5vcGVuKFwiR0VUXCIsbiwhMCksYS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLGEub25sb2FkPWZ1bmN0aW9uKCl7aWYoYS5zdGF0dXM+NDAwKW8oXCJcIi5jb25jYXQoYS5zdGF0dXMsXCIgXCIpLmNvbmNhdChhLnN0YXR1c1RleHQpKTtlbHNle3ZhciBuPWEucmVzcG9uc2U7ZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWR8fGUuX2luaXRBdWRpb0NvbnRleHQoKSxlLmF1ZGlvTWl4aW5nLmN0eC5kZWNvZGVBdWRpb0RhdGEobiwoZnVuY3Rpb24obil7ZS5hdWRpb01peGluZy5idWZmZXJbdF09bixpKG51bGwpfSksKGZ1bmN0aW9uKHQpe2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gZGVjb2RlQXVkaW9EYXRhIEZhaWxlZDogXCIpLHQpLGkodCl9KSl9fSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbyhcImxvYWQgZXJyb3JcIil9LGEub250aW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG8oXCJ0aW1lb3V0XCIpfSxhLnNlbmQoKX0sZS5jcmVhdGVBdWRpb0J1ZmZlclNvdXJjZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uY3JlYXRlQXVkaW9CdWZmZXJTb3VyY2VcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKGUuYXVkaW9NaXhpbmcuYnVmZmVyW3QuaWRdKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLmJ1ZmZlclt0LmlkXSxpPWUuYXVkaW9NaXhpbmcuY3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2kuYnVmZmVyPXI7dmFyIGE9ZS5hdWRpb01peGluZy5jdHguY3JlYXRlR2FpbigpO2lmKGkuY29ubmVjdChhKSxhLmNvbm5lY3QoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3QpLGkuZ2Fpbk5vZGU9YSx0Lmxvb3ApaS5sb29wPSEwLGkuc3RhcnQoMCx0LnBsYXlUaW1lLzFlMyk7ZWxzZSBpZih0LmN5Y2xlPjEpaWYoT2JqZWN0KG8uaXNDaHJvbWUpKCkpe2kubG9vcD0hMDt2YXIgcz10LmN5Y2xlKnIuZHVyYXRpb24qMWUzLSh0LnBsYXlUaW1lfHwwKTtpLnN0YXJ0KDAsdC5wbGF5VGltZS8xZTMscy8xZTMpfWVsc2UgYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIEN5Y2xlIFBhcmFtIGlzIGlnbm9yZWQgYnkgY3VycmVudCBicm93c2VyXCIpKSxpLnN0YXJ0KDAsdC5wbGF5VGltZS8xZTMpO2Vsc2UgaS5zdGFydCgwLHQucGxheVRpbWUvMWUzKTt2YXIgZD1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO3JldHVybiBkLnNvdXJjZT1pLGUuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzKCksaS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwoZnVuY3Rpb24oKXtpPT09ZC5zb3VyY2UmJmUuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImF1ZGlvU291cmNlRW5kZWRcIixzb3VuZElkOnQuc291bmRJZCxzb3VyY2U6aSxzb3VuZDpkfSl9KSksbigpLGl9dmFyIHU9XCJBVURJT0JVRkZFUl9OT1RfRk9VTkRcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBcIiksdSx0LmlkKSxuKCExKSwhMX0sZS5vbihcImF1ZGlvU291cmNlRW5kZWRcIiwoZnVuY3Rpb24odCl7dmFyIG49dC5zb3VyY2Uscj10LnNvdW5kO3ImJnIuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZJiYhci5wYXVzZUF0JiYoci5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5JRExFLHIuc3RhcnRBdD1udWxsLHIuc3RhcnRPZmZzZXQ9bnVsbCxyLnJlc3VtZUF0PW51bGwsci5yZXN1bWVPZmZzZXQ9bnVsbCxuLmdhaW5Ob2RlJiZuLmdhaW5Ob2RlLmRpc2Nvbm5lY3QmJm4uZ2Fpbk5vZGUuZGlzY29ubmVjdCgpLG4uYnVmZmVyPW51bGwsZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0KGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0KSl9KSksZS5jbGVhckF1ZGlvQnVmZmVyU291cmNlPWZ1bmN0aW9uKCl7ZS5hdWRpb0J1ZmZlclNvdXJjZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0b3AoKX0pKX0sZS5faXNTb3VuZEV4aXN0cz1mdW5jdGlvbih0KXtyZXR1cm4hIWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF18fChjLmRlZmF1bHQuZXJyb3IoXCJTb3VuZElkIG5vdCBleGlzdHMuICNcIi5jb25jYXQodC5zb3VuZElkKSksITEpfSxlLl9pbml0QXVkaW9Db250ZXh0PWZ1bmN0aW9uKCl7aWYoZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWQpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXQgYXVkaW8gY29udGV4dC4gQWxyZWFkeSBpbml0ZWRcIik7aWYoIWUuc3RyZWFtKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0IGF1ZGlvIGNvbnRleHQuIExvY2FsIFN0cmVhbSBub3QgaW5pdGlhbGl6ZWRcIik7ZS5hdWRpb01peGluZy5jdHg9T2JqZWN0KF8uYSkoKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlPWUuYXVkaW9NaXhpbmcuY3R4LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUuc3RyZWFtKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdD1lLmF1ZGlvTWl4aW5nLmN0eC5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0KGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0KTt2YXIgdD1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO2lmKHQmJmUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0LnN0cmVhbS5hZGRUcmFjayh0KSxlLl9vcmlnaW5TdHJlYW09ZS5zdHJlYW0sZS5faXNBdWRpb011dGVkKCk/KGUuX3VubXV0ZUF1ZGlvKCksZS5zdHJlYW09ZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3Quc3RyZWFtLGUuX211dGVBdWRpbygpKTplLnN0cmVhbT1lLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdC5zdHJlYW0sZS5hdWRpb0xldmVsSGVscGVyPW51bGwsZS5wYyYmZS5wYy5wZWVyQ29ubmVjdGlvbiYmZS5wYy5wZWVyQ29ubmVjdGlvbil7dmFyIG49KGUucGMucGVlckNvbm5lY3Rpb24mJmUucGMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS50cmFjayYmXCJhdWRpb1wiPT1lLnRyYWNrLmtpbmR9KSkscj1lLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtRGVzdC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtuJiZuLnJlcGxhY2VUcmFjayYmciYmbi5yZXBsYWNlVHJhY2socil9ZS5hdWRpb01peGluZy5hdWRpb0NvbnRleHRJbml0ZWQ9ITB9LGUuX2NsZWFudXBBdWRpb01peGluZz1mdW5jdGlvbigpe2lmKGUuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkKXtmb3IodmFyIHQgaW4gZS5hdWRpb01peGluZy5zb3VuZHMpe3ZhciBuPWUuYXVkaW9NaXhpbmcuc291bmRzW3RdO24uc3RhdGUhPT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZJiZuLnN0YXRlIT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEfHxlLl9zdG9wT25lRWZmZWN0KHtzb3VuZElkOnR9KX1lLmF1ZGlvTGV2ZWxIZWxwZXI9bnVsbCxlLmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZD0hMX19LGUuX3JlbG9hZEluRWFyTW9uaXRvcmluZ01vZGU9ZnVuY3Rpb24odCl7aWYodCl7aWYoIWUuYXVkaW9NaXhpbmcuaW5FYXJNb25pdG9yaW5nTW9kZXNbdF0pcmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gSW52YWxpZCBJbkVhck1vbml0b3JpbmdNb2RlIFwiKS5jb25jYXQodCkpO2UuYXVkaW9NaXhpbmcuaW5FYXJNb25pdG9yaW5nPXR9c3dpdGNoKGUuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkfHxlLl9pbml0QXVkaW9Db250ZXh0KCksZS5hdWRpb01peGluZy5pbkVhck1vbml0b3Jpbmcpe2Nhc2UgZS5hdWRpb01peGluZy5pbkVhck1vbml0b3JpbmdNb2Rlcy5GSUxFOmUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1Tb3VyY2UuY29ubmVjdGVkVG9EZXN0aW5hdGlvbiYmKGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1Tb3VyY2UuZGlzY29ubmVjdChlLmF1ZGlvTWl4aW5nLmN0eC5kZXN0aW5hdGlvbiksZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9uPSExKTtjYXNlIGUuYXVkaW9NaXhpbmcuaW5FYXJNb25pdG9yaW5nTW9kZXMuQUxMOmZvcih2YXIgbiBpbiBlLmF1ZGlvTWl4aW5nLnNvdW5kcyl7dmFyIHI9ZS5hdWRpb01peGluZy5zb3VuZHNbbl07ciYmci5zb3VyY2UmJiFyLnNvdXJjZS5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9uJiYoci5zb3VyY2UuZ2Fpbk5vZGUuY29ubmVjdChlLmF1ZGlvTWl4aW5nLmN0eC5kZXN0aW5hdGlvbiksci5zb3VyY2UuY29ubmVjdGVkVG9EZXN0aW5hdGlvbj0hMCl9fXN3aXRjaChlLmF1ZGlvTWl4aW5nLmluRWFyTW9uaXRvcmluZyl7Y2FzZSBlLmF1ZGlvTWl4aW5nLmluRWFyTW9uaXRvcmluZ01vZGVzLk1JQ1JPUEhPTkU6ZS5hdWRpb01peGluZy5zb3VyY2UuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9uJiYodC5nYWluTm9kZS5kaXNjb25uZWN0KGUuYXVkaW9NaXhpbmcuY3R4LmRlc3RpbmF0aW9uKSx0LmNvbm5lY3RlZFRvRGVzdGluYXRpb249ITEpfSkpO2Nhc2UgZS5hdWRpb01peGluZy5pbkVhck1vbml0b3JpbmdNb2Rlcy5BTEw6ZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0ZWRUb0Rlc3RpbmF0aW9ufHwoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5jb25uZWN0KGUuYXVkaW9NaXhpbmcuY3R4LmRlc3RpbmF0aW9uKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3RlZFRvRGVzdGluYXRpb249ITApfX0sZS5fc3RhcnRBdWRpb01peGluZ0J1ZmZlclNvdXJjZT1mdW5jdGlvbih0KXtlLmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZHx8ZS5faW5pdEF1ZGlvQ29udGV4dCgpO3ZhciBuPXtzb3VuZElkOnQuc291bmRJZCxpZDp0LmZpbGVQYXRoLGxvb3A6dC5sb29wLGN5Y2xlOnQuY3ljbGUscGxheVRpbWU6dC5wbGF5VGltZXx8MH0scj10LnJlcGxhY2UsaT1lLmNyZWF0ZUF1ZGlvQnVmZmVyU291cmNlKG4pO3JldHVybiBpLnNvdW5kPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF0saT8oaS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixlLl9hdWRpb01peGluZ0ZpbmlzaGVkTGlzdGVuZXIse29uY2U6ITB9KSxlLl9yZWxvYWRJbkVhck1vbml0b3JpbmdNb2RlKCksciYmZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbVNvdXJjZS5kaXNjb25uZWN0KGUuYXVkaW9NaXhpbmcubWVkaWFTdHJlYW1EZXN0KSxpKTpudWxsfSxlLl9zdG9wQXVkaW9NaXhpbmdCdWZmZXJTb3VyY2U9ZnVuY3Rpb24odCl7dmFyIG49ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXS5zb3VyY2U7cmV0dXJuIG4/KG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZS5fYXVkaW9NaXhpbmdGaW5pc2hlZExpc3RlbmVyKSxlLmF1ZGlvTWl4aW5nLm1lZGlhU3RyZWFtU291cmNlLmNvbm5lY3QoZS5hdWRpb01peGluZy5tZWRpYVN0cmVhbURlc3QpLG4uc3RvcCgpLG4uZ2Fpbk5vZGUmJm4uZ2Fpbk5vZGUuZGlzY29ubmVjdCYmbi5nYWluTm9kZS5kaXNjb25uZWN0KCksbi5idWZmZXI9bnVsbCxuKTpudWxsfSxlLl9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cz1mdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gZS5hdWRpb01peGluZy5zb3VuZHMpe3ZhciByPWUuYXVkaW9NaXhpbmcuc291bmRzW25dO3ImJih2b2lkIDAhPT10JiYoci5tdXRlZD0hIXQpLHIuc291cmNlJiYoci5tdXRlZD9yLnNvdXJjZS5nYWluTm9kZS5nYWluLnZhbHVlPTA6ci5zb3VyY2UuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT1yLnZvbHVtZS8xMDApKX19LGUuX2hhbmRsZUF1ZGlvTWl4aW5nSW52YWxpZFN0YXRlRXJyb3I9ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUuYXVkaW9NaXhpbmcuc291bmRzW24uc291bmRJZF0sbz0tMT09PW4uc291bmRJZD9cIklOVkFMSURfQVVESU9fTUlYSU5HX1NUQVRFXCI6XCJJTlZBTElEX1BMQVlfRUZGRUNUX1NUQVRFXCI7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBDYW5ub3QgXCIpLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KG8sXCIsIHN0YXRlIGlzIFwiKS5jb25jYXQoaS5zdGF0ZSkpLHImJnIobyl9LGUuX2hhbmRsZUF1ZGlvTWl4aW5nTm9Tb3VyY2VFcnJvcj1mdW5jdGlvbih0LG4scil7ZS5hdWRpb01peGluZy5zb3VuZHNbbi5zb3VuZElkXS5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5JRExFO3ZhciBpPS0xPT09bi5zb3VuZElkP1wiTk9fQVVESU9fTUlYSU5HX1NPVVJDRVwiOlwiTk9fRUZGRUNUX1NPVVJDRVwiO2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gQ2Fubm90IFwiKS5jb25jYXQodCxcIjogXCIpLmNvbmNhdChpKSksciYmcihpKX0sZS5fZ2V0T25lRWZmZWN0U3RhdGVzPWZ1bmN0aW9uKHQpe3ZhciBuPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4/e3N0YXRlOm4uc3RhdGUsc3RhcnRBdDpuLnN0YXJ0QXQscmVzdW1lQXQ6bi5yZXN1bWVBdCxwYXVzZU9mZnNldDpuLnBhdXNlT2Zmc2V0LHBhdXNlQXQ6bi5wYXVzZUF0LHJlc3VtZU9mZnNldDpuLnJlc3VtZU9mZnNldCxzdG9wQXQ6bi5zdG9wQXQsZHVyYXRpb246ZS5fZ2V0T25lRWZmZWN0RHVyYXRpb24odCkscG9zaXRpb246ZS5fZ2V0T25lRWZmZWN0Q3VycmVudFBvc2l0aW9uKHQpfTp7fX19LGUuX2F1ZGlvTWl4aW5nRmluaXNoZWRMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc291bmQ7dC5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUmJmUuYXVkaW9NaXhpbmcuYnVmZmVyW3Qub3B0aW9ucy5maWxlUGF0aF0mJiF0Lm9wdGlvbnMuY2FjaGVSZXNvdXJjZSYmKGMuZGVmYXVsdC5kZWJ1ZyhcIlJlY3ljbGVkIGJ1ZmZlciBcIi5jb25jYXQodC5vcHRpb25zLmZpbGVQYXRoKSksZGVsZXRlIGUuYXVkaW9NaXhpbmcuYnVmZmVyW3Qub3B0aW9ucy5maWxlUGF0aF0pLC0xPT09dC5zb3VuZElkJiZlLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJhdWRpb01peGluZ0ZpbmlzaGVkXCJ9KX0sZS5fcGxheU9uZUVmZmVjdD1mdW5jdGlvbih0LG4pe09iamVjdChTLmNoZWNrVmFsaWRPYmplY3QpKHQsXCJvcHRpb25zXCIpO3ZhciByPXQuc291bmRJZCxpPSh0LmZpbGVQYXRoLHQuY2FjaGVSZXNvdXJjZSk7dC5jeWNsZSx0Lmxvb3AsdC5wbGF5VGltZSx0LnJlcGxhY2U7aWYoT2JqZWN0KG8uaXNTYWZhcmkpKCkmJk9iamVjdChvLmdldEJyb3dzZXJWZXJzaW9uKSgpPDEyKXt2YXIgYT1cIkJST1dTRVJfTk9UX1NVUFBPUlRcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdChlLnN0cmVhbUlkLFwiXSBDYW5ub3QgX3BsYXlPbmVFZmZlY3Q6IFwiKSxhKSxuKGEpfWUuYXVkaW9NaXhpbmcuYXVkaW9Db250ZXh0SW5pdGVkfHxlLl9pbml0QXVkaW9Db250ZXh0KCksZS5faW5pdFNvdW5kSWZOb3RFeGlzdHMocik7dmFyIHM9ZS5hdWRpb01peGluZy5zb3VuZHNbcl07aWYocy5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUpe2lmKHZvaWQgMCE9PXQuY3ljbGUmJiF0LmN5Y2xlPjApe2E9XCJJbnZhbGlkIFBhcm1ldGVyIGN5Y2xlOiBcIit0LmN5Y2xlO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIFwiKS5jb25jYXQociksYSksbihhKX1pZihPYmplY3QoUy5pc0VtcHR5KShpKSYmKHQuY2FjaGVSZXNvdXJjZT0hMCkscy5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5TVEFSVElORyxzLm9wdGlvbnM9dCxlLmF1ZGlvTWl4aW5nLmJ1ZmZlclt0LmZpbGVQYXRoXSl7dmFyIGQ9ZS5fc3RhcnRBdWRpb01peGluZ0J1ZmZlclNvdXJjZSh0KTtpZihkKXJldHVybiBzLnNvdXJjZT1kLHMuc3RhcnRBdD1EYXRlLm5vdygpLHMucmVzdW1lQXQ9bnVsbCxzLnBhdXNlT2Zmc2V0PW51bGwscy5wYXVzZUF0PW51bGwscy5yZXN1bWVPZmZzZXQ9bnVsbCxzLnN0b3BBdD1udWxsLHMuc3RhcnRPZmZzZXQ9dC5wbGF5VGltZXx8MCxzLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1ksZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxuKG51bGwpO3Muc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRTt2YXIgdT1cIkNSRUFURV9CVUZGRVJTT1VSQ0VfRkFJTEVEXCI7aWYobilyZXR1cm4gbih1KTtjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIFwiKSx1KX1lbHNlIGUubG9hZEF1ZGlvQnVmZmVyKHQuZmlsZVBhdGgsdC5maWxlUGF0aCwoZnVuY3Rpb24ocil7aWYocilzLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUsbj9uKHIpOmMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLHIpO2Vsc2V7dmFyIGk9ZS5fc3RhcnRBdWRpb01peGluZ0J1ZmZlclNvdXJjZSh0KTtpZihpKXJldHVybiBzLnNvdXJjZT1pLHMuc3RhcnRBdD1EYXRlLm5vdygpLHMucmVzdW1lQXQ9bnVsbCxzLnBhdXNlT2Zmc2V0PW51bGwscy5wYXVzZUF0PW51bGwscy5yZXN1bWVPZmZzZXQ9bnVsbCxzLnN0b3BBdD1udWxsLHMuc3RhcnRPZmZzZXQ9dC5wbGF5VGltZXx8MCxzLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1ksZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxuKG51bGwpO3Muc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuSURMRTtyPVwiQ1JFQVRFX0JVRkZFUlNPVVJDRV9GQUlMRURcIjtpZihuKXJldHVybiBuKHIpO2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLHIpfX0pKX1lbHNlIGUuX2hhbmRsZUF1ZGlvTWl4aW5nSW52YWxpZFN0YXRlRXJyb3IoXCJfcGxheUVmZmVjdFwiLHQsbil9LGUuX3N0b3BPbmVFZmZlY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO3JldHVybiBlLl9pc1NvdW5kRXhpc3RzKHQpP3Iuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZfHxyLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEPyhlLl9zdG9wQXVkaW9NaXhpbmdCdWZmZXJTb3VyY2UodCksci5zdG9wQXQ9RGF0ZS5ub3coKSxyLnN0YXRlPWUuYXVkaW9NaXhpbmcuc3RhdGVzLklETEUsZS5hdWRpb01peGluZy5idWZmZXJbci5vcHRpb25zLmZpbGVQYXRoXSYmIXIub3B0aW9ucy5jYWNoZVJlc291cmNlJiYoYy5kZWZhdWx0LmRlYnVnKFwiUmVjeWNsZWQgYnVmZmVyIFwiLmNvbmNhdChyLm9wdGlvbnMuZmlsZVBhdGgpKSxkZWxldGUgZS5hdWRpb01peGluZy5idWZmZXJbci5vcHRpb25zLmZpbGVQYXRoXSksdm9pZChuJiZuKG51bGwpKSk6dm9pZCBlLl9oYW5kbGVBdWRpb01peGluZ0ludmFsaWRTdGF0ZUVycm9yKFwiX3N0b3BPbmVFZmZlY3RcIix0LG4pOm4oXCJTT1VORF9OT1RfRVhJU1RTXCIpfSxlLl9wYXVzZU9uZUVmZmVjdD1mdW5jdGlvbih0LG4pe3ZhciByPWUuYXVkaW9NaXhpbmcuc291bmRzW3Quc291bmRJZF07aWYoci5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLkJVU1kpcmV0dXJuIGUuX3N0b3BBdWRpb01peGluZ0J1ZmZlclNvdXJjZSh0KT8oci5wYXVzZUF0PURhdGUubm93KCksci5zdGF0ZT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUQsci5yZXN1bWVBdD9yLnBhdXNlT2Zmc2V0PXIucGF1c2VBdC1yLnJlc3VtZUF0K3IucmVzdW1lT2Zmc2V0OnIucGF1c2VPZmZzZXQ9ci5wYXVzZUF0LXIuc3RhcnRBdCtyLnN0YXJ0T2Zmc2V0LG4mJm4obnVsbCkpOnZvaWQgZS5faGFuZGxlQXVkaW9NaXhpbmdOb1NvdXJjZUVycm9yKFwiX3BhdXNlT25lRWZmZWN0XCIsdCxuKTtlLl9oYW5kbGVBdWRpb01peGluZ0ludmFsaWRTdGF0ZUVycm9yKFwiX3BhdXNlT25lRWZmZWN0XCIsdCxuKX0sZS5fcmVzdW1lT25lRWZmZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXTtpZihyLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEKXt2YXIgaT17c291bmRJZDp0LnNvdW5kSWQsZmlsZVBhdGg6ci5vcHRpb25zLmZpbGVQYXRoLGN5Y2xlOnIub3B0aW9ucy5jeWNsZSxsb29wOnIub3B0aW9ucy5sb29wLHBsYXlUaW1lOnIucGF1c2VPZmZzZXQscmVwbGFjZTpyLm9wdGlvbnMucmVwbGFjZX0sbz1lLl9zdGFydEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlKGkpO2lmKCFvKXt2YXIgYT1cIkNSRUFURV9CVUZGRVJTT1VSQ0VfRkFJTEVEXCI7cmV0dXJuIG4oYSksdm9pZCBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KGUuc3RyZWFtSWQsXCJdIFwiKSxhKX1yLnNvdXJjZT1vLHIucmVzdW1lQXQ9RGF0ZS5ub3coKSxyLnJlc3VtZU9mZnNldD1yLnBhdXNlT2Zmc2V0LHIuc3RhdGU9ZS5hdWRpb01peGluZy5zdGF0ZXMuQlVTWSxyLnBhdXNlQXQ9bnVsbCxyLnBhdXNlT2Zmc2V0PW51bGwsbihudWxsKX1lbHNlIGUuX2hhbmRsZUF1ZGlvTWl4aW5nSW52YWxpZFN0YXRlRXJyb3IoXCJfcmVzdW1lT25lRWZmZWN0XCIsdCxuKX0sZS5fZ2V0T25lRWZmZWN0RHVyYXRpb249ZnVuY3Rpb24odCl7dmFyIG49ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXTtyZXR1cm4gbi5vcHRpb25zJiZuLm9wdGlvbnMuZmlsZVBhdGgmJmUuYXVkaW9NaXhpbmcuYnVmZmVyW24ub3B0aW9ucy5maWxlUGF0aF0/MWUzKmUuYXVkaW9NaXhpbmcuYnVmZmVyW24ub3B0aW9ucy5maWxlUGF0aF0uZHVyYXRpb246bnVsbH0sZS5fZ2V0T25lRWZmZWN0Q3VycmVudFBvc2l0aW9uPWZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5hdWRpb01peGluZy5zb3VuZHNbdC5zb3VuZElkXTtyZXR1cm4gci5zdGF0ZT09PWUuYXVkaW9NaXhpbmcuc3RhdGVzLlBBVVNFRD9yLnBhdXNlT2Zmc2V0JWUuX2dldE9uZUVmZmVjdER1cmF0aW9uKHQpOnIuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZP3IucmVzdW1lQXQ/KERhdGUubm93KCktci5yZXN1bWVBdCtyLnJlc3VtZU9mZnNldCklZS5fZ2V0T25lRWZmZWN0RHVyYXRpb24odCk6KERhdGUubm93KCktci5zdGFydEF0K3Iuc3RhcnRPZmZzZXQpJWUuX2dldE9uZUVmZmVjdER1cmF0aW9uKHQpOnZvaWQobiYmZS5faGFuZGxlQXVkaW9NaXhpbmdJbnZhbGlkU3RhdGVFcnJvcihcIl9nZXRPbmVFZmZlY3RDdXJyZW50UG9zaXRpb25cIix0KSl9LGUuX3NldE9uZUVmZmVjdFBvc2l0aW9uPWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0LnNvdW5kSWRdO2lmKGkuc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZKXtpZighZS5fc3RvcEF1ZGlvTWl4aW5nQnVmZmVyU291cmNlKHQpKXJldHVybiB2b2lkIGUuX2hhbmRsZUF1ZGlvTWl4aW5nTm9Tb3VyY2VFcnJvcihcIl9zZXRPbmVFZmZlY3RQb3NpdGlvblwiLHQscik7dmFyIG89e3NvdW5kSWQ6dC5zb3VuZElkLGZpbGVQYXRoOmkub3B0aW9ucy5maWxlUGF0aCxsb29wOmkub3B0aW9ucy5sb29wLGN5Y2xlOmkub3B0aW9ucy5jeWNsZSxwbGF5VGltZTpufSxhPWUuX3N0YXJ0QXVkaW9NaXhpbmdCdWZmZXJTb3VyY2Uobyk7aWYoIWEpe3ZhciBzPVwiQ1JFQVRFX0JVRkZFUlNPVVJDRV9GQUlMRURcIjtyZXR1cm4gciYmcihzKSx2b2lkIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gXCIpLHMpfWkuc291cmNlPWEsaS5zdGFydEF0PURhdGUubm93KCksaS5zdGFydE9mZnNldD1uLGkucmVzdW1lQXQ9bnVsbCxpLnJlc3VtZU9mZnNldD1udWxsLGkucGF1c2VPZmZzZXQ9bnVsbCxpLnBhdXNlQXQ9bnVsbH1lbHNle2lmKGkuc3RhdGUhPT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5QQVVTRUQpcmV0dXJuIHZvaWQgZS5faGFuZGxlQXVkaW9NaXhpbmdJbnZhbGlkU3RhdGVFcnJvcihcIl9zZXRPbmVFZmZlY3RQb3NpdGlvblwiLHQscik7aS5wYXVzZU9mZnNldD1ufXImJnIobnVsbCl9LGUuc3RhcnRBdWRpb01peGluZz1mdW5jdGlvbih0LG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gbiYmbih0KTtlLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJhdWRpb01peGluZ1BsYXllZFwifSksbiYmbihudWxsKX0sZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0uc3RhcnRBdWRpb01peGluZ1wiLG9wdGlvbnM6dH0pO09iamVjdChTLmNoZWNrVmFsaWRPYmplY3QpKHQsXCJvcHRpb25zXCIpO3ZhciBvPXQuZmlsZVBhdGgsYT10LmNhY2hlUmVzb3VyY2Uscz10LmN5Y2xlLGM9dC5sb29wLGQ9dC5wbGF5VGltZSx1PXQucmVwbGFjZTtPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShvLFwiZmlsZVBhdGhcIiwxLE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJGSUxFUEFUSF9MRU5NQVhcIiksITEpLE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKGQsXCJwbGF5VGltZVwiLDAsMWU4KSwhT2JqZWN0KFMuaXNFbXB0eSkocykmJk9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHMsXCJjeWNsZVwiKSwhT2JqZWN0KFMuaXNFbXB0eSkoYykmJk9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShjLFwibG9vcFwiKSwhT2JqZWN0KFMuaXNFbXB0eSkodSkmJk9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKSh1LFwicmVwbGFjZVwiKSwhT2JqZWN0KFMuaXNFbXB0eSkoYSkmJk9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShhLFwiY2FjaGVSZXNvdXJjZVwiKTt2YXIgcD1pKCkoe3NvdW5kSWQ6LTF9LHQpO2UuX3BsYXlPbmVFZmZlY3QocCxyKX0sZS5zdG9wQXVkaW9NaXhpbmc9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazp0LGdldFN0YXRlczplLl9nZXRPbmVFZmZlY3RTdGF0ZXMoe3NvdW5kSWQ6LTF9KSxuYW1lOlwiU3RyZWFtLnN0b3BBdWRpb01peGluZ1wifSk7ZS5fc3RvcE9uZUVmZmVjdCh7c291bmRJZDotMX0sbil9LGUucGF1c2VBdWRpb01peGluZz1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOnQsZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0ucGF1c2VBdWRpb01peGluZ1wifSk7cmV0dXJuIGUuX3BhdXNlT25lRWZmZWN0KHtzb3VuZElkOi0xfSxuKX0sZS5yZXN1bWVBdWRpb01peGluZz1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOmZ1bmN0aW9uKG4scil7aWYobilyZXR1cm4gdCYmdChuKTtlLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJhdWRpb01peGluZ1BsYXllZFwifSksdCYmdChudWxsKX0sZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0ucmVzdW1lQXVkaW9NaXhpbmdcIn0pO2UuX3Jlc3VtZU9uZUVmZmVjdCh7c291bmRJZDotMX0sbil9LGUuYWRqdXN0QXVkaW9NaXhpbmdWb2x1bWU9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtnZXRTdGF0ZXM6ZS5fZ2V0T25lRWZmZWN0U3RhdGVzKHtzb3VuZElkOi0xfSksbmFtZTpcIlN0cmVhbS5hZGp1c3RBdWRpb01peGluZ1ZvbHVtZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodCxcInZvbHVtZVwiLDAsMTAwKSxlLmF1ZGlvTWl4aW5nLnNvdW5kc1stMV0udm9sdW1lPXQsZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxuKCl9LGUuZ2V0QXVkaW9NaXhpbmdEdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Z2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0uZ2V0QXVkaW9NaXhpbmdEdXJhdGlvblwifSksbj1lLl9nZXRPbmVFZmZlY3REdXJhdGlvbih7c291bmRJZDotMX0pO3JldHVybiB0KG51bGwsbiksbn0sZS5nZXRBdWRpb01peGluZ0N1cnJlbnRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0PWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Z2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0uZ2V0QXVkaW9NaXhpbmdDdXJyZW50UG9zaXRpb25cIn0pLG49ZS5fZ2V0T25lRWZmZWN0Q3VycmVudFBvc2l0aW9uKHtzb3VuZElkOi0xfSwhMCk7cmV0dXJuIHQobnVsbCxuKSxufSxlLnNldEF1ZGlvTWl4aW5nUG9zaXRpb249ZnVuY3Rpb24odCxuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOm4sb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCIsZ2V0U3RhdGVzOmUuX2dldE9uZUVmZmVjdFN0YXRlcyh7c291bmRJZDotMX0pLG5hbWU6XCJTdHJlYW0uc2V0QXVkaW9NaXhpbmdQb3NpdGlvblwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodCxcInBvc2l0aW9uXCIsMCwxZTgpLGUuX3NldE9uZUVmZmVjdFBvc2l0aW9uKHtzb3VuZElkOi0xfSx0LHIpfSxlLnBsYXlFZmZlY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOmZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIG4mJm4odCk7ZS5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZWZmZWN0UGxheWVkXCJ9KSxuJiZuKG51bGwpfSxuYW1lOlwiU3RyZWFtLnBsYXlFZmZlY3RcIixvcHRpb25zOnR9KTtPYmplY3QoUy5jaGVja1ZhbGlkT2JqZWN0KSh0LFwib3B0aW9uc1wiKTt2YXIgaT10LnNvdW5kSWQsbz10LmZpbGVQYXRoLGE9dC5jeWNsZTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKShpLFwic291bmRJZFwiLDEsMWU0KSxPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShvLFwiZmlsZVBhdGhcIiwwLE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJGSUxFUEFUSF9MRU5NQVhcIiksITEpLCFPYmplY3QoUy5pc0VtcHR5KShhKSYmT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikoYSxcImN5Y2xlXCIpLGUuX3BsYXlPbmVFZmZlY3QodCxyKX0sZS5zdG9wRWZmZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpuLGdldFN0YXRlczplLl9nZXRPbmVFZmZlY3RTdGF0ZXMoe3NvdW5kSWQ6dH0pLG5hbWU6XCJTdHJlYW0uc3RvcEVmZmVjdFwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodCxcInNvdW5kSWRcIiwxLDFlNCksZS5fc3RvcE9uZUVmZmVjdCh7c291bmRJZDp0fSxyKX0sZS5zdG9wQWxsRWZmZWN0cz1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOnQsbmFtZTpcIlN0cmVhbS5zdG9wQWxsRWZmZWN0XCJ9KSxyPSExLGk9MCxvPTAsYT1mdW5jdGlvbihlKXtyfHwoZT8obihlKSxyPSEwKTppKz0xLGk9PT1vJiYobihudWxsKSxyPSEwKSl9O2Zvcih2YXIgcyBpbiBlLmF1ZGlvTWl4aW5nLnNvdW5kcyl7dmFyIGM9ZS5hdWRpb01peGluZy5zb3VuZHNbc107LTEhPT1jLnNvdW5kSWQmJihjLnN0YXRlIT09ZS5hdWRpb01peGluZy5zdGF0ZXMuQlVTWSYmYy5zdGF0ZSE9PWUuYXVkaW9NaXhpbmcuc3RhdGVzLlBBVVNFRHx8KG8rKyxlLl9zdG9wT25lRWZmZWN0KHtzb3VuZElkOnN9LGEpKSl9b3x8bihudWxsKX0sZS5wcmVsb2FkRWZmZWN0PWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse2NhbGxiYWNrOnIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCIsbmFtZTpcIlN0cmVhbS5wcmVsb2FkRWZmZWN0XCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwic291bmRJZFwiLDEsMWU0KSxPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShuLFwiZmlsZVBhdGhcIiwxLE9iamVjdChsLmdldFBhcmFtZXRlcikoXCJGSUxFUEFUSF9MRU5NQVhcIiksITEpLGUuX2luaXRTb3VuZElmTm90RXhpc3RzKHQsbiksZS5hdWRpb01peGluZy5idWZmZXJbbl0/aShudWxsKTplLmxvYWRBdWRpb0J1ZmZlcihuLG4saSl9LGUudW5sb2FkRWZmZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtjYWxsYmFjazpuLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLG5hbWU6XCJTdHJlYW0udW5sb2FkRWZmZWN0XCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwic291bmRJZFwiLDEsMWU0KTt2YXIgaT1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0XTtpZighaSl7dmFyIG89XCJTT1VORF9OT1RfRVhJU1RTXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihvLHQpLHZvaWQgcihvKX12YXIgYT1pLm9wdGlvbnM/aS5vcHRpb25zLmZpbGVQYXRoOmkuZmlsZVBhdGg7aWYoYSlkZWxldGUgZS5hdWRpb01peGluZy5idWZmZXJbYV0sZGVsZXRlIGUuYXVkaW9NaXhpbmcuc291bmRzW3RdLHIobnVsbCk7ZWxzZXt2YXIgcz1cIlNPVU5EX0JVRkZFUl9OT1RfRk9VTkRcIjtjLmRlZmF1bHQuZXJyb3Iocyx0KSxyKHMpfX0sZS5wYXVzZUVmZmVjdD1mdW5jdGlvbih0LG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6bixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixuYW1lOlwiU3RyZWFtLnBhdXNlRWZmZWN0XCJ9KTtyZXR1cm4gZS5fcGF1c2VPbmVFZmZlY3Qoe3NvdW5kSWQ6dH0scil9LGUucGF1c2VBbGxFZmZlY3RzPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6dCxuYW1lOlwiU3RyZWFtLnBhdXNlQWxsRWZmZWN0c1wifSkscj0hMSxpPTAsbz0wLGE9ZnVuY3Rpb24oZSl7cnx8KGU/KG4oZSkscj0hMCk6aSs9MSxpPT09byYmKG4obnVsbCkscj0hMCkpfTtmb3IodmFyIHMgaW4gZS5hdWRpb01peGluZy5zb3VuZHMpXCItMVwiIT09cyYmZS5hdWRpb01peGluZy5zb3VuZHNbc10uc3RhdGU9PT1lLmF1ZGlvTWl4aW5nLnN0YXRlcy5CVVNZJiYobysrLGUuX3BhdXNlT25lRWZmZWN0KHtzb3VuZElkOnN9LGEpKTtvfHxuKG51bGwpfSxlLnJlc3VtZUVmZmVjdD1mdW5jdGlvbih0LG4pe09iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQsXCJzb3VuZElkXCIsMSwxZTQpO3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6bixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixuYW1lOlwiU3RyZWFtLnJlc3VtZUVmZmVjdFwifSk7cmV0dXJuIGUuX3Jlc3VtZU9uZUVmZmVjdCh7c291bmRJZDp0fSxyKX0sZS5yZXN1bWVBbGxFZmZlY3RzPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7Y2FsbGJhY2s6dCxuYW1lOlwiU3RyZWFtLnJlc3VtZUFsbEVmZmVjdHNcIn0pLHI9ITEsaT0wLG89MCxhPWZ1bmN0aW9uKGUpe3J8fChlPyhuKGUpLHI9ITApOmkrPTEsaT09PW8mJihuKG51bGwpLHI9ITApKX07Zm9yKHZhciBzIGluIGUuYXVkaW9NaXhpbmcuc291bmRzKVwiLTFcIiE9PXMmJmUuYXVkaW9NaXhpbmcuc291bmRzW3NdLnN0YXRlPT09ZS5hdWRpb01peGluZy5zdGF0ZXMuUEFVU0VEJiYobysrLGUuX3Jlc3VtZU9uZUVmZmVjdCh7c291bmRJZDpzfSxhKSk7b3x8bihudWxsKX0sZS5nZXRFZmZlY3RzVm9sdW1lPWZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUuYXVkaW9NaXhpbmcuc291bmRzKXt2YXIgcj1lLmF1ZGlvTWl4aW5nLnNvdW5kc1tuXTtyJiZcIi0xXCIhPT1uJiZ0LnB1c2goe3NvdW5kSWQ6cGFyc2VJbnQobiksdm9sdW1lOnIudm9sdW1lfSl9cmV0dXJuIHR9LGUuc2V0RWZmZWN0c1ZvbHVtZT1mdW5jdGlvbih0LG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRFZmZlY3RzVm9sdW1lXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCIsY2FsbGJhY2s6bn0pO2Zvcih2YXIgaSBpbiBPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LFwidm9sdW1lXCIsMCwxMDApLGUuYXVkaW9NaXhpbmcuZGVmYXVsdFZvbHVtZT10LGUuYXVkaW9NaXhpbmcuc291bmRzKXt2YXIgbz1lLmF1ZGlvTWl4aW5nLnNvdW5kc1tpXTtcIi0xXCIhPT1pJiYoby52b2x1bWU9dCl9ZS5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoKSxyKG51bGwpfSxlLnNldFZvbHVtZU9mRWZmZWN0PWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0Vm9sdW1lT2ZFZmZlY3RcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixjYWxsYmFjazpyfSk7T2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodCxcInNvdW5kSWRcIiwwLDFlNCksT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikobixcInZvbHVtZVwiLDAsMTAwKSxlLl9pbml0U291bmRJZk5vdEV4aXN0cyh0KTt2YXIgbz1lLmF1ZGlvTWl4aW5nLnNvdW5kc1t0XTtvLnZvbHVtZT1uLGUuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzKCksaShudWxsKX19KHQpLHkuYS5hZGRWaWRlb0VmZmVjdENhcGFiaWxpdHkodCksZnVuY3Rpb24oZSx0KXtlLnZpZGVvQ29uc3RyYWludD17fSx0LmNhbWVyYUlkJiYoZS52aWRlb0NvbnN0cmFpbnQuZGV2aWNlSWQ9e2V4YWN0OnQuY2FtZXJhSWR9KSx0LmZhY2luZ01vZGUmJihlLnZpZGVvQ29uc3RyYWludC5mYWNpbmdNb2RlPXQuZmFjaW5nTW9kZSksZS52aWRlb1NpemUmJihlLnZpZGVvQ29uc3RyYWludC53aWR0aD1lLnZpZGVvU2l6ZVswXSxlLnZpZGVvQ29uc3RyYWludC5oZWlnaHQ9ZS52aWRlb1NpemVbMV0pLE9iamVjdChvLmlzTGVnYWN5Q2hyb21lKSgpfHwoZS52aWRlb0NvbnN0cmFpbnQuZnJhbWVSYXRlPTMwKSxlLmF1ZGlvQ29uc3RyYWludD17fSx0Lm1pY3JvcGhvbmVJZCYmKGUuYXVkaW9Db25zdHJhaW50LmRldmljZUlkPXtleGFjdDp0Lm1pY3JvcGhvbmVJZH0pLE9iamVjdChvLmlzTGVnYWN5Q2hyb21lKSgpfHxlLmF1ZGlvUHJvY2Vzc2luZyYmKHZvaWQgMCE9PWUuYXVkaW9Qcm9jZXNzaW5nLkFHQyYmKE9iamVjdChvLmlzRmlyZUZveCkoKT9lLmF1ZGlvQ29uc3RyYWludC5hdXRvR2FpbkNvbnRyb2w9ZS5hdWRpb1Byb2Nlc3NpbmcuQUdDOk9iamVjdChvLmlzQ2hyb21lKSgpJiYoZS5hdWRpb0NvbnN0cmFpbnQuZ29vZ0F1dG9HYWluQ29udHJvbD1lLmF1ZGlvUHJvY2Vzc2luZy5BR0MsZS5hdWRpb0NvbnN0cmFpbnQuZ29vZ0F1dG9HYWluQ29udHJvbDI9ZS5hdWRpb1Byb2Nlc3NpbmcuQUdDKSksdm9pZCAwIT09ZS5hdWRpb1Byb2Nlc3NpbmcuQUVDJiYoZS5hdWRpb0NvbnN0cmFpbnQuZWNob0NhbmNlbGxhdGlvbj1lLmF1ZGlvUHJvY2Vzc2luZy5BRUMpLHZvaWQgMCE9PWUuYXVkaW9Qcm9jZXNzaW5nLkFOUyYmKE9iamVjdChvLmlzRmlyZUZveCkoKT9lLmF1ZGlvQ29uc3RyYWludC5ub2lzZVN1cHByZXNzaW9uPWUuYXVkaW9Qcm9jZXNzaW5nLkFOUzpPYmplY3Qoby5pc0Nocm9tZSkoKSYmKGUuYXVkaW9Db25zdHJhaW50Lmdvb2dOb2lzZVN1cHByZXNzaW9uPWUuYXVkaW9Qcm9jZXNzaW5nLkFOUykpKSxlLnNjcmVlbkNvbnN0cmFpbnQ9e30sdC5zb3VyY2VJZCYmKGUuc2NyZWVuQ29uc3RyYWludC5zb3VyY2VJZD10LnNvdXJjZUlkKSx0LmV4dGVuc2lvbklkJiZPYmplY3Qoby5pc0Nocm9tZSkoKT8oZS5zY3JlZW5Db25zdHJhaW50LmV4dGVuc2lvbklkPXQuZXh0ZW5zaW9uSWQsZS5zY3JlZW5Db25zdHJhaW50Lm1hbmRhdG9yeT17Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsbWF4V2lkdGg6ZS5zY3JlZW5BdHRyaWJ1dGVzLndpZHRoLG1heEhlaWdodDplLnNjcmVlbkF0dHJpYnV0ZXMuaGVpZ2h0LG1heEZyYW1lUmF0ZTplLnNjcmVlbkF0dHJpYnV0ZXMubWF4RnIsbWluRnJhbWVSYXRlOmUuc2NyZWVuQXR0cmlidXRlcy5taW5Gcn0pOihlLnNjcmVlbkNvbnN0cmFpbnQubWVkaWFTb3VyY2U9XCJzY3JlZW5cIixlLnNjcmVlbkNvbnN0cmFpbnQud2lkdGg9ZS5zY3JlZW5BdHRyaWJ1dGVzLndpZHRoLGUuc2NyZWVuQ29uc3RyYWludC5oZWlnaHQ9ZS5zY3JlZW5BdHRyaWJ1dGVzLmhlaWdodCxlLnNjcmVlbkNvbnN0cmFpbnQuZnJhbWVSYXRlPXtpZGVhbDplLnNjcmVlbkF0dHJpYnV0ZXMubWF4RnIsbWF4OmUuc2NyZWVuQXR0cmlidXRlcy5tYXhGcn0pLHQubWVkaWFTb3VyY2UmJihlLnNjcmVlbkNvbnN0cmFpbnQubWVkaWFTb3VyY2U9dC5tZWRpYVNvdXJjZSksZS5zZXRWaWRlb1Jlc29sdXRpb249ZnVuY3Rpb24obil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvUmVzb2x1dGlvblwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoIShuIGluc3RhbmNlb2YgQXJyYXkpKXt2YXIgbz1JKG4rPVwiXCIpO3JldHVybiBvJiZvLnZpZGVvPyhlLnZpZGVvQ29uc3RyYWludD1pKCkoZS52aWRlb0NvbnN0cmFpbnQse3dpZHRoOntpZGVhbDpvLnZpZGVvLndpZHRofSxoZWlnaHQ6e2lkZWFsOm8udmlkZW8uaGVpZ2h0fX0pLHQuYXR0cmlidXRlcy5yZXNvbHV0aW9uPW8uYXR0cmlidXRlcy5yZXNvbHV0aW9uLChhPWUuc3RyZWFtJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcyYmZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSkmJmEuYXBwbHlDb25zdHJhaW50cz8oYy5kZWZhdWx0LmRlYnVnKFwic2V0VmlkZW9SZXNvbHV0aW9uIGFwcGx5Q29uc3RyYWludHNcIixlLnZpZGVvQ29uc3RyYWludCksYS5hcHBseUNvbnN0cmFpbnRzKGUudmlkZW9Db25zdHJhaW50KS50aGVuKHIpLmNhdGNoKHIpKTpyKCksITApOihyKFwiTk9fUFJPRklMRV9cIi5jb25jYXQobikpLCExKX12YXIgYSxzPW5bMF0sZD1uWzFdO2UudmlkZW9Db25zdHJhaW50PWkoKShlLnZpZGVvQ29uc3RyYWludCx7d2lkdGg6e2lkZWFsOnN9LGhlaWdodDp7aWRlYWw6ZH19KSx0LmF0dHJpYnV0ZXMucmVzb2x1dGlvbj1cIlwiLmNvbmNhdChzLFwieFwiKS5jb25jYXQoZCksKGE9ZS5zdHJlYW0mJmUuc3RyZWFtLmdldFZpZGVvVHJhY2tzJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKSYmYS5hcHBseUNvbnN0cmFpbnRzPyhjLmRlZmF1bHQuZGVidWcoXCJzZXRWaWRlb1Jlc29sdXRpb24gYXBwbHlDb25zdHJhaW50c1wiLGUudmlkZW9Db25zdHJhaW50KSx5LmEuZGlzYWJsZVZpZGVvRWZmZWN0KGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHlDb25zdHJhaW50cyhlLnZpZGVvQ29uc3RyYWludCkudGhlbihyKS5jYXRjaChyKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB5LmEucmVzdG9yZVZpZGVvRWZmZWN0KGUpfSkpKTpyKCl9LGUuc2V0VmlkZW9GcmFtZVJhdGU9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvRnJhbWVSYXRlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZihPYmplY3Qoby5pc0ZpcmVGb3gpKCkpcmV0dXJuIG4oXCJGSVJFRk9YX05PVF9TVVBQT1JURURcIiksITE7aWYoXCJvYmplY3RcIj09PVQoKSh0KSYmdCBpbnN0YW5jZW9mIEFycmF5JiZ0Lmxlbmd0aD4xKXtlLnZpZGVvQ29uc3RyYWludD1pKCkoZS52aWRlb0NvbnN0cmFpbnQse2ZyYW1lUmF0ZTp0WzBdfSksZS5hdHRyaWJ1dGVzLm1pbkZyYW1lUmF0ZT10WzBdLGUuYXR0cmlidXRlcy5tYXhGcmFtZVJhdGU9dFsxXTt2YXIgcj1lLnN0cmVhbSYmZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MmJmUuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07cmV0dXJuIHImJnIuYXBwbHlDb25zdHJhaW50cz8oYy5kZWZhdWx0LmRlYnVnKFwic2V0VmlkZW9GcmFtZVJhdGUgYXBwbHlDb25zdHJhaW50c1wiLGUudmlkZW9Db25zdHJhaW50KSxyLmFwcGx5Q29uc3RyYWludHMoZS52aWRlb0NvbnN0cmFpbnQpLnRoZW4obikuY2F0Y2gobikpOm4oKSwhMH1yZXR1cm4gbihcIklOVkFMSURfUEFSQU1fXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksITF9LGUuc2V0VmlkZW9CaXRSYXRlPWZ1bmN0aW9uKG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRWaWRlb0JpdFJhdGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVyblwib2JqZWN0XCI9PT1UKCkobikmJm4gaW5zdGFuY2VvZiBBcnJheSYmbi5sZW5ndGg+MT8odC5hdHRyaWJ1dGVzLm1pblZpZGVvQlc9blswXSx0LmF0dHJpYnV0ZXMubWF4VmlkZW9CVz1uWzFdLGUuY29ubmVjdGlvblNwZWMmJihlLmNvbm5lY3Rpb25TcGVjLm1pblZpZGVvQlc9blswXSxlLmNvbm5lY3Rpb25TcGVjLm1heFZpZGVvQlc9blsxXSksZS5wYyYmZS5wYy5yZW5lZ290aWF0ZSYmZS5wYy5yZW5lZ290aWF0ZSgpLHIoKSwhMCk6KHIoXCJJTlZBTElEX1BBUkFNX1wiLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpLCExKX0sZS5zZXRTY3JlZW5CaXRSYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRTY3JlZW5CaXRSYXRlXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm5cIm9iamVjdFwiPT09VCgpKHQpJiZ0IGluc3RhbmNlb2YgQXJyYXkmJnQubGVuZ3RoPjE/KGUuc2NyZWVuQXR0cmlidXRlcy5taW5WaWRlb0JXPXRbMF0sZS5zY3JlZW5BdHRyaWJ1dGVzLm1heFZpZGVvQlc9dFsxXSxuKCksITApOihuKFwiSU5WQUxJRF9QQVJBTV9cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9LGUuc2V0U2NyZWVuUHJvZmlsZT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0U2NyZWVuUHJvZmlsZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKHQsXCJwcm9maWxlXCIsW1wiNDgwcF8xXCIsXCI0ODBwXzJcIixcIjcyMHBfMVwiLFwiNzIwcF8yXCIsXCIxMDgwcF8xXCIsXCIxMDgwcF8yXCJdKTt2YXIgcj1JKHQpO3JldHVybiByJiZyLnNjcmVlbj8oZS5zY3JlZW5Db25zdHJhaW50Lm1hbmRhdG9yeT8oZS5zY3JlZW5Db25zdHJhaW50Lm1hbmRhdG9yeS5tYXhXaWR0aD1yLnNjcmVlbi53aWR0aCxlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5Lm1heEhlaWdodD1yLnNjcmVlbi5oZWlnaHQsci5zY3JlZW4uZnJhbWVSYXRlJiZyLnNjcmVlbi5mcmFtZVJhdGUubWluJiZyLnNjcmVlbi5mcmFtZVJhdGUubWF4JiYoZS5zY3JlZW5Db25zdHJhaW50Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9ci5zY3JlZW4uZnJhbWVSYXRlLm1pbixlLnNjcmVlbkNvbnN0cmFpbnQubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1yLnNjcmVlbi5mcmFtZVJhdGUubWF4KSk6ZS5zY3JlZW5Db25zdHJhaW50PWkoKShlLnNjcmVlbkNvbnN0cmFpbnQsci5zY3JlZW4pLGUuc2NyZWVuQXR0cmlidXRlcy53aWR0aD1yLnNjcmVlbi53aWR0aCxlLnNjcmVlbkF0dHJpYnV0ZXMuaGVpZ2h0PXIuc2NyZWVuLmhlaWdodCxlLnNjcmVlbkF0dHJpYnV0ZXMubWluRnI9ci5zY3JlZW4uZnJhbWVSYXRlLm1pbixlLnNjcmVlbkF0dHJpYnV0ZXMubWF4RnI9ci5zY3JlZW4uZnJhbWVSYXRlLm1heCxuKCksITApOihuKFwiTk9fU0NSRUVOX1BST0ZJTEVfXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksITEpfSxlLnNldFZpZGVvUHJvZmlsZUN1c3RvbT1mdW5jdGlvbih0KXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zaWQse25hbWU6XCJTdHJlYW0uc2V0VmlkZW9Qcm9maWxlQ3VzdG9tXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtlLnNldFZpZGVvUmVzb2x1dGlvbih0WzBdKSxlLnNldFZpZGVvRnJhbWVSYXRlKFt0WzFdLHRbMV1dKSxlLnNldFZpZGVvQml0UmF0ZShbdFsyXSx0WzJdXSksbigpfSxlLnNldFZpZGVvUHJvZmlsZUN1c3RvbVBsdXM9ZnVuY3Rpb24obil7dmFyIHI9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvUHJvZmlsZUN1c3RvbVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7ZS5zZXRWaWRlb1Jlc29sdXRpb24oW24ud2lkdGgsbi5oZWlnaHRdKSx0LmF0dHJpYnV0ZXMucmVzb2x1dGlvbj1cIlwiLmNvbmNhdChuLndpZHRoLFwieFwiKS5jb25jYXQobi5oZWlnaHQpLGUuc2V0VmlkZW9GcmFtZVJhdGUoW24uZnJhbWVyYXRlLG4uZnJhbWVyYXRlXSksZS5zZXRWaWRlb0JpdFJhdGUoW24uYml0cmF0ZSxuLmJpdHJhdGVdKSxyKCl9LGUuc2V0VmlkZW9Qcm9maWxlPWZ1bmN0aW9uKG4pe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpcIlN0cmVhbS5zZXRWaWRlb1Byb2ZpbGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLGE9SShuKTtpZighYSl7dmFyIHM9XCJJbnZhbGlkIFByb2ZpbGUgXCIuY29uY2F0KG4pO3Rocm93IG5ldyBFcnJvcihzKX1pZihlLnByb2ZpbGU9bixhJiZhLnZpZGVvKXtlLnByb2ZpbGU9YS5wcm9maWxlTmFtZSxlLnZpZGVvQ29uc3RyYWludD1pKCkoZS52aWRlb0NvbnN0cmFpbnQsYS52aWRlbyksZS5jb25uZWN0aW9uU3BlYyYmYS5hdHRyaWJ1dGVzLm1heFZpZGVvQlcmJihlLmNvbm5lY3Rpb25TcGVjLm1pblZpZGVvQlc9YS5hdHRyaWJ1dGVzLm1pblZpZGVvQlcsZS5jb25uZWN0aW9uU3BlYy5tYXhWaWRlb0JXPWEuYXR0cmlidXRlcy5tYXhWaWRlb0JXKSxPYmplY3Qoby5pc0VkZ2UpKCkmJihlLnZpZGVvQ29uc3RyYWludC5mcmFtZVJhdGUubWF4PTYwKSxPYmplY3Qoby5pc0ZpcmVGb3gpKCkmJihlLnZpZGVvQ29uc3RyYWludC5mcmFtZVJhdGU9MzApLHQuYXR0cmlidXRlcz1pKCkodC5hdHRyaWJ1dGVzLGEuYXR0cmlidXRlcyksZS5wYyYmZS5wYy5yZW5lZ290aWF0ZSYmZS5wYy5yZW5lZ290aWF0ZSgpO3ZhciBkPWUuc3RyZWFtJiZlLnN0cmVhbS5nZXRWaWRlb1RyYWNrcyYmZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtyZXR1cm4gZCYmZC5hcHBseUNvbnN0cmFpbnRzPyhjLmRlZmF1bHQuZGVidWcoXCJzZXRWaWRlb1Byb2ZpbGUgYXBwbHlDb25zdHJhaW50c1wiLGUudmlkZW9Db25zdHJhaW50KSx5LmEuZGlzYWJsZVZpZGVvRWZmZWN0KGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGQuYXBwbHlDb25zdHJhaW50cyhlLnZpZGVvQ29uc3RyYWludCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4geS5hLnJlc3RvcmVWaWRlb0VmZmVjdChlKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7cih0KSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChoLnZzUmVzSGFjaykoZS5zdHJlYW0sKGZ1bmN0aW9uKHQscil7ZS52aWRlb1dpZHRoPXQsZS52aWRlb0hlaWdodD1yLG4oKX0pLChmdW5jdGlvbih0KXtjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQoZS5zdHJlYW1JZCxcIl0gdnNSZXNIYWNrIGZhaWxlZDogXCIpLHQpLGkoKX0pKX0pLDI1MDApfSkpfSkpLmNhdGNoKHIpKTpyKCksITB9cmV0dXJuIHIoXCJJTlZBTElEX1ZJREVPX1BST0ZJTEVfXCIuY29uY2F0KG4pKSwhMX0sZS5zZXRBdWRpb1Byb2ZpbGU9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldEF1ZGlvUHJvZmlsZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKHQsXCJwcm9maWxlXCIsW1wic3BlZWNoX2xvd19xdWFsaXR5XCIsXCJzcGVlY2hfc3RhbmRhcmRcIixcIm11c2ljX3N0YW5kYXJkXCIsXCJzdGFuZGFyZF9zdGVyZW9cIixcImhpZ2hfcXVhbGl0eVwiLFwiaGlnaF9xdWFsaXR5X3N0ZXJlb1wiXSksZS5hdWRpb1Byb2ZpbGU9dDt2YXIgcj1BKHQpO3JldHVybiBlLmhpZ2hRdWFsaXR5PXIuaGlnaFF1YWxpdHksZS5zdGVyZW89ci5zdGVyZW8sZS5zcGVlY2g9ci5zcGVlY2gsZS5sb3dRdWFsaXR5PXIubG93UXVhbGl0eSxlLnN0ZXJlbyYmT2JqZWN0KG8uaXNDaHJvbWUpKCkmJihlLmF1ZGlvQ29uc3RyYWludC5nb29nQXV0b0dhaW5Db250cm9sPSExLGUuYXVkaW9Db25zdHJhaW50Lmdvb2dBdXRvR2FpbkNvbnRyb2wyPSExLGUuYXVkaW9Db25zdHJhaW50LmVjaG9DYW5jZWxsYXRpb249ITEsZS5hdWRpb0NvbnN0cmFpbnQuZ29vZ05vaXNlU3VwcHJlc3Npb249ITEpLG4oKSwhMH0sZS5zZXRWaWRlb0VuY29kZXJDb25maWd1cmF0aW9uPWZ1bmN0aW9uKHQpe09iamVjdChTLmNoZWNrVmFsaWRPYmplY3QpKHQsXCJjb25maWdcIik7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLnNldFZpZGVvRW5jb2RlckNvbmZpZ3VyYXRpb25cIixvcHRpb25zOnQsdGFnOlwidHJhY2VyXCJ9KTt0LnJlc29sdXRpb24mJihPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LnJlc29sdXRpb24ud2lkdGgsXCJjb25maWcucmVzb2x1dGlvbi53aWR0aFwiKSxPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LnJlc29sdXRpb24uaGVpZ2h0LFwiY29uZmlnLnJlc29sdXRpb24uaGVpZ2h0XCIpLGUuc2V0VmlkZW9SZXNvbHV0aW9uKFt0LnJlc29sdXRpb24ud2lkdGgsdC5yZXNvbHV0aW9uLmhlaWdodF0pKSx0LmZyYW1lUmF0ZSYmKE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQuZnJhbWVSYXRlLm1pbixcImNvbmZpZy5mcmFtZVJhdGUubWluXCIpLE9iamVjdChTLmNoZWNrVmFsaWROdW1iZXIpKHQuZnJhbWVSYXRlLm1heCxcImNvbmZpZy5mcmFtZVJhdGUubWF4XCIpLGUuc2V0VmlkZW9GcmFtZVJhdGUoW3QuZnJhbWVSYXRlLm1pbix0LmZyYW1lUmF0ZS5tYXhdKSksdC5iaXRyYXRlJiYoT2JqZWN0KFMuY2hlY2tWYWxpZE51bWJlcikodC5iaXRyYXRlLm1pbixcImNvbmZpZy5iaXRyYXRlLm1pblwiLDEsMWU3KSxPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKSh0LmJpdHJhdGUubWF4LFwiY29uZmlnLmJpdHJhdGUubWF4XCIsMSwxZTcpLGUuc2V0VmlkZW9CaXRSYXRlKFt0LmJpdHJhdGUubWluLHQuYml0cmF0ZS5tYXhdKSksbigpfSxlLmdldFN1cHBvcnRlZFByb2ZpbGU9ZnVuY3Rpb24odCl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOlwiU3RyZWFtLmdldFN1cHBvcnRlZFByb2ZpbGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixjYWxsYmFjazp0fSk7aWYoIWUubG9jYWwpe3ZhciByPVwiT05MWV9MT0NBTF9TVFJFQU1fU1VQUE9SVEVEXCI7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihyKSxuKHIpfWlmKCFlLnN0cmVhbSl7cj1cIlNUUkVBTV9OT1RfSU5JVFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IociksbihyKX1pZighZS5zdHJlYW0uZ2V0VmlkZW9UcmFja3Mpe3I9XCJUUkFDS19OT1RfU1VQUE9SVFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IociksbihyKX12YXIgaT1lLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO2lmKCFpKXtyPVwiTk9fVklERU9fVFJBQ0tfRk9VTkRcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKHIpLG4ocil9aWYoIWkuZ2V0Q2FwYWJpbGl0aWVzKXtyPVwiR0VUQ0FQQUJJTElUWV9OT1RfU1VQUE9SVFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IociksbihyKX12YXIgbz1pLmdldENhcGFiaWxpdGllcygpLGE9YihvKTtyZXR1cm4gbihudWxsLGEpfX0odCxlKSx0LmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RyZWFtSWR9LHQuZ2V0VXNlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHQudXNlcklkfSx0LmNoZWNrRHVhbFN0cmVhbUVuYWJsZWQ9ZnVuY3Rpb24oKXtpZihPYmplY3QobC5nZXRQYXJhbWV0ZXIpKFwiRFVBTFNUUkVBTV9PUEVSQVRJT05fQ0hFQ0tcIikmJnQuaXNEdWFsU3RyZWFtKXtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQ6IFwiLmNvbmNhdChcIkRVQUxfU1RSRUFNX0VOQUJMRURcIikpLFwiRFVBTF9TVFJFQU1fRU5BQkxFRFwifXJldHVybiExfSx0LnNldFVzZXJJZD1mdW5jdGlvbihlKXt2YXIgbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uc2V0VXNlcklkXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTt0LnVzZXJJZCYmYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbS51c2VySWQgXCIpLmNvbmNhdCh0LnVzZXJJZCxcIiA9PiBcIikuY29uY2F0KGUpKSx0LnVzZXJJZD1lLG4oKX0sdC5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2NyZWVuP3Quc2NyZWVuQXR0cmlidXRlczplLmF0dHJpYnV0ZXN9LHQuaGFzQXVkaW89ZnVuY3Rpb24oKXtyZXR1cm4hIXQuYXVkaW99LHQuaGFzVmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4hIXQudmlkZW99LHQuaGFzU2NyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuISF0LnNjcmVlbn0sdC5oYXNTY3JlZW5BdWRpbz1mdW5jdGlvbigpe3JldHVybiEhdC5zY3JlZW5BdWRpb30sdC5pc1ZpZGVvT249ZnVuY3Rpb24oKXtyZXR1cm4odC5oYXNWaWRlbygpfHx0Lmhhc1NjcmVlbigpKSYmIXQudXNlck11dGVWaWRlb30sdC5pc0F1ZGlvT249ZnVuY3Rpb24oKXtyZXR1cm4gdC5oYXNBdWRpbygpJiYhdC51c2VyTXV0ZUF1ZGlvfSx0LmluaXQ9ZnVuY3Rpb24ocixpKXt2YXIgbz1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gaSYmaShlKTtyJiZyKHQpfSxuYW1lOlwiU3RyZWFtLmluaXRcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLGE9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLGFyZ3VtZW50c1syXSk7aWYodm9pZCAwPT09YSYmKGE9MiksITA9PT10LmluaXRpYWxpemVkKXJldHVybiBvKHt0eXBlOlwid2FybmluZ1wiLG1zZzpcIlNUUkVBTV9BTFJFQURZX0lOSVRJQUxJWkVEXCJ9KTtpZighMCE9PXQubG9jYWwpcmV0dXJuIG8oe3R5cGU6XCJ3YXJuaW5nXCIsbXNnOlwiU1RSRUFNX05PVF9MT0NBTFwifSk7dmFyIHM9TWF0aC5yYW5kb20oKS50b1N0cmluZygpLnNsaWNlKDMpO3QuX3N0cmVhbUluaXRJRD1zLHQudmlkZW9Tb3VyY2U/dC52aWRlb05hbWU9XCJ2aWRlb1NvdXJjZVwiOnQudmlkZW8mJih0LnZpZGVvTmFtZT1FLmEuc2VhcmNoRGV2aWNlTmFtZUJ5SWQoZS5jYW1lcmFJZCl8fFwiZGVmYXVsdFwiKSx0LmF1ZGlvU291cmNlP3QuYXVkaW9OYW1lPVwiYXVkaW9Tb3VyY2VcIjp0LmF1ZGlvJiYodC5hdWRpb05hbWU9RS5hLnNlYXJjaERldmljZU5hbWVCeUlkKGUubWljcm9waG9uZUlkKXx8XCJkZWZhdWx0XCIpLHQuc2NyZWVuJiYodC5zY3JlZW5OYW1lPWUuZXh0ZW5zaW9uSWR8fFwiZGVmYXVsdFwiKTt0cnl7aWYoZS5hdWRpb3x8ZS52aWRlb3x8ZS5zY3JlZW58fGUuc2NyZWVuQXVkaW98fGUudmlkZW9Tb3VyY2V8fGUuYXVkaW9Tb3VyY2Upe2MuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gUmVxdWVzdGVkIGFjY2VzcyB0byBsb2NhbCBtZWRpYVwiKSk7dmFyIGQ9e3N0cmVhbUlkOnQuc3RyZWFtSWR9O2UudmlkZW9Tb3VyY2U/ZC52aWRlb1NvdXJjZT1lLnZpZGVvU291cmNlOmUuc2NyZWVuP2Quc2NyZWVuPXQuc2NyZWVuQ29uc3RyYWludDplLnZpZGVvJiYoZC52aWRlbz10LnZpZGVvQ29uc3RyYWludCksZS5hdWRpb1NvdXJjZT9kLmF1ZGlvU291cmNlPWUuYXVkaW9Tb3VyY2U6ZS5zY3JlZW5BdWRpbz9kLnNjcmVlbkF1ZGlvPWUuc2NyZWVuQXVkaW86ZS5hdWRpbyYmKGQuYXVkaW89dC5hdWRpb0NvbnN0cmFpbnQpLE9iamVjdChtLmIpKGQsKGZ1bmN0aW9uKHIpe2lmKGQuc2NyZWVuQXVkaW8mJiFyLmdldEF1ZGlvVHJhY2tzKClbMF0mJmMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBBdWRpbyBzaGFyaW5nIGlzIG5vdCBzZWxlY3RlZFwiKSksZC5zY3JlZW4mJmMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVXNlciBoYXMgZ3JhbnRlZCBhY2Nlc3MgdG8gc2NyZWVuIHNoYXJpbmdcIikpLChkLnZpZGVvfHxkLmF1ZGlvKSYmYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGhhcyBncmFudGVkIGFjY2VzcyB0byBsb2NhbCBtZWRpYVwiKSksbnVsbD09PXQuX3N0cmVhbUluaXRJRCl7ci5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0b3AoKX0pKTt2YXIgaT17dHlwZTpcImVycm9yXCIsbXNnOlwiU1RSRUFNX0lTX0NMT1NFRFwiLGluZm86XCJzdHJlYW0gaXMgY2xvc2VkIGFuZCBjYW5ub3QgYmUgaW5pdGlhbGl6ZWRcIn07cmV0dXJuIGMuZGVmYXVsdC5lcnJvcih0LnN0cmVhbUlkLGkuaW5mbyksdm9pZCBvKGkpfWlmKHQuX3N0cmVhbUluaXRJRCE9PXMpe3IuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdG9wKCl9KSk7aT17dHlwZTpcImVycm9yXCIsbXNnOlwiQUJPUlRfT1RIRVJfSU5JVFwiLGluZm86XCJzdHJlYW0gaW5pdGlhbGl6YXRpb24gaXMgYWJvcnRlZCBiZWNhdXNlIG9mIGFub3RoZXIgc3RyZWFtLmluaXRcIn07cmV0dXJuIGMuZGVmYXVsdC5lcnJvcih0LnN0cmVhbUlkLGkuaW5mbyksdm9pZCBvKGkpfXQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImFjY2Vzc0FsbG93ZWRcIn0pLHQuc3RyZWFtPXIsdC5pbml0aWFsaXplZD0hMCx0LnJlbG9hZERldmljZU5hbWUoKSx0Lmhhc1ZpZGVvKCkmJk9iamVjdChoLnZzUmVzSGFjaykociwoZnVuY3Rpb24oZSxuKXt0LnZpZGVvV2lkdGg9ZSx0LnZpZGVvSGVpZ2h0PW59KSwoZnVuY3Rpb24oZSl7Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIHZzUmVzSGFjayBmYWlsZWQ6IFwiKSxlKX0pKSxlLnNjcmVlbiYmdC5zdHJlYW0mJnQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0mJih0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLm9uZW5kZWQ9ZnVuY3Rpb24oKXt0LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdG9wU2NyZWVuU2hhcmluZ1wifSl9KSx0LnN0cmVhbSYmdC5zdHJlYW0uZ2V0VHJhY2tzJiZ0LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihyKXtyJiYhci5vbmVuZGVkJiYoci5vbmVuZGVkPW4pLFwidmlkZW9cIj09PXIua2luZCYmZS5vcHRpbWl6YXRpb25Nb2RlJiYoci5jb250ZW50SGludD1lLm9wdGltaXphdGlvbk1vZGUsci5jb250ZW50SGludD09PWUub3B0aW1pemF0aW9uTW9kZSYmYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBzZXQgY29udGVudCBoaW50IHRvXCIpLGUub3B0aW1pemF0aW9uTW9kZSkpfSkpLG8oKX0pLChmdW5jdGlvbihlKXt2YXIgbj17dHlwZTpcImVycm9yXCIsaW5mbzpudWxsfTtzd2l0Y2goZSYmKG4ubXNnPWUubmFtZXx8ZS5jb2RlfHxlLGUubWVzc2FnZSYmKG4uaW5mbz1lLm1lc3NhZ2UpLGUuY29kZSYmKG4uaW5mbz9uLmluZm8rPVwiLiBcIitlLmNvZGU6bi5pbmZvPVwiIFwiK2UuY29kZSksZS5jb25zdHJhaW50JiYobi5pbmZvP24uaW5mbys9XCIuIENvbnN0cmFpbnQ6IFwiK2UuY29uc3RyYWludDpuLmluZm89XCJjb25zdHJhaW50OiBcIitlLmNvbnN0cmFpbnQpKSxuLm1zZyl7Y2FzZVwiU3RhcnRpbmcgdmlkZW8gZmFpbGVkXCI6Y2FzZVwiVHJhY2tTdGFydEVycm9yXCI6aWYodC52aWRlb0NvbnN0cmFpbnQmJihkZWxldGUgdC52aWRlb0NvbnN0cmFpbnQud2lkdGgsZGVsZXRlIHQudmlkZW9Db25zdHJhaW50LmhlaWdodCksYT4wKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5pbml0KChmdW5jdGlvbihlKXtyZXR1cm4gbyhlKX0pLG8sYS0xKX0pLDEpO24ubXNnPVwiTUVESUFfT1BUSU9OX0lOVkFMSURcIjticmVhaztjYXNlXCJEZXZpY2VzTm90Rm91bmRFcnJvclwiOm4ubXNnPVwiREVWSUNFU19OT1RfRk9VTkRcIjticmVhaztjYXNlXCJOb3RTdXBwb3J0ZWRFcnJvclwiOm4ubXNnPVwiTk9UX1NVUFBPUlRFRFwiO2JyZWFrO2Nhc2VcIlBlcm1pc3Npb25EZW5pZWRFcnJvclwiOmNhc2VcIkludmFsaWRTdGF0ZUVycm9yXCI6bi5tc2c9XCJQRVJNSVNTSU9OX0RFTklFRFwiLHQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImFjY2Vzc0RlbmllZFwifSk7YnJlYWs7Y2FzZVwiUEVSTUlTU0lPTl9ERU5JRURcIjpjYXNlXCJOb3RBbGxvd2VkRXJyb3JcIjp0LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJhY2Nlc3NEZW5pZWRcIn0pO2JyZWFrO2Nhc2VcIkNvbnN0cmFpbnROb3RTYXRpc2ZpZWRFcnJvclwiOm4ubXNnPVwiQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEXCI7YnJlYWs7ZGVmYXVsdDpuLm1zZ3x8KG4ubXNnPVwiVU5ERUZJTkVEXCIpfXZhciByPVwiTWVkaWEgYWNjZXNzIFwiLmNvbmNhdChuLm1zZykuY29uY2F0KG4uaW5mbz9cIjogXCIrbi5pbmZvOlwiXCIpO2MuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gXCIpLHIpLG8obil9KSl9ZWxzZSBvKHt0eXBlOlwid2FybmluZ1wiLG1zZzpcIlNUUkVBTV9IQVNfTk9fTUVESUFfQVRUUklCVVRFU1wifSl9Y2F0Y2goZSl7Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBTdHJlYW0gaW5pdDogXCIpLGUpLG8oe3R5cGU6XCJlcnJvclwiLG1zZzplLm1lc3NhZ2V8fGV9KX19LHQucmVsb2FkRGV2aWNlTmFtZT1mdW5jdGlvbigpe2lmKHQuc3RyZWFtKXtpZih0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcyl7dmFyIGU9dC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtlJiZlLmxhYmVsJiYodC52aWRlb05hbWU9ZS5sYWJlbCl9aWYodC5zdHJlYW0uZ2V0QXVkaW9UcmFja3Mpe3ZhciBuPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07biYmbi5sYWJlbCYmKHQuYXVkaW9OYW1lPW4ubGFiZWwpfX19LHQuY2xvc2U9ZnVuY3Rpb24oKXt2YXIgZT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcIlN0cmVhbS5jbG9zZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYoYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBDbG9zZSBzdHJlYW0gd2l0aCBpZFwiKSx0LnN0cmVhbUlkKSx0Ll9vcmlnaW5TdHJlYW0pdHJ5e3QuX29yaWdpblN0cmVhbS5nZXRUcmFja3MoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3AoKX0pKX1jYXRjaChlKXt9aWYodm9pZCAwIT09dC5zdHJlYW0pe3ZhciBuPXQuc3RyZWFtLmdldFRyYWNrcygpO2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJihuW3JdLnN0b3AoKSxuW3JdLm9uZW5kZWQ9bnVsbCk7IXQuaXNMb3dTdHJlYW0mJnQubG9jYWw/eS5hLmRpc2FibGVWaWRlb0VmZmVjdCh0KS50aGVuKChmdW5jdGlvbigpe3Quc3RyZWFtPXZvaWQgMH0pKToodC5zdHJlYW0mJnQuc3RyZWFtLmNsZWFuJiZ0LnN0cmVhbS5jbGVhbigpLHQuc3RyZWFtPXZvaWQgMCl9aWYodC5fb3JpZ2luU3RyZWFtKXtjb25zb2xlLmxvZyhcImNsZWFyIF9vcmlnaW5TdHJlYW1cIik7bj10Ll9vcmlnaW5TdHJlYW0uZ2V0VHJhY2tzKCk7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl0uc3RvcCgpLG5bcl0ub25lbmRlZD1udWxsLGNvbnNvbGUubG9nKFwiY2xlYXIgb25lbmRlZFwiKSk7IXQuaXNMb3dTdHJlYW0mJnQubG9jYWw/eS5hLmRpc2FibGVWaWRlb0VmZmVjdCh0KS50aGVuKChmdW5jdGlvbigpe3QuX29yaWdpblN0cmVhbT12b2lkIDB9KSk6KHQuX29yaWdpblN0cmVhbSYmdC5fb3JpZ2luU3RyZWFtLmNsZWFuJiZ0Ll9vcmlnaW5TdHJlYW0uY2xlYW4oKSx0Ll9vcmlnaW5TdHJlYW09dm9pZCAwKX1pZihPYmplY3Qoby5pc1NhZmFyaSkoKSYmdC5wYyYmdC5wYy5wZWVyQ29ubmVjdGlvbiYmdC5wYy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayYmdC5wYy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKXt2YXIgaT10LnBjLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKTtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJihjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFJlbW92ZSBUcmFja1wiKSxlKSx0LnBjLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpKX0pKX10LmxvY2FsJiYodC5pbml0aWFsaXplZD0hMSksdC5fc3RyZWFtSW5pdElEPW51bGwsdC5fb25BdWRpb011dGU9dm9pZCAwLHQuX29uQXVkaW9Vbm11dGU9dm9pZCAwLHQuX29uVmlkZW9NdXRlPXZvaWQgMCx0Ll9vblZpZGVvVW5tdXRlPXZvaWQgMCx0Lmxvd1N0cmVhbSYmdC5sb3dTdHJlYW0uY2xvc2UoKSx0LnBsYXllciYmdC5wbGF5ZXIudmlkZW8mJnQucGxheWVyLnZpZGVvLnNyY09iamVjdCYmKHQucGxheWVyLnZpZGVvLnNyY09iamVjdD1udWxsKSx0LnBsYXllciYmdC5wbGF5ZXIuYXVkaW8mJnQucGxheWVyLmF1ZGlvLnNyY09iamVjdCYmKHQucGxheWVyLmF1ZGlvLnNyY09iamVjdD1udWxsKSxlKCl9LHQuZW5hYmxlQXVkaW89ZnVuY3Rpb24oKXt2YXIgZSxuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5lbmFibGVBdWRpb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuIGMuZGVmYXVsdC5kZXByZWNhdGUoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbS5lbmFibGVBdWRpbyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlIFN0cmVhbS51bm11dGVBdWRpbyBpbnN0ZWFkXCIpKSx0LnVzZXJNdXRlQXVkaW98fGMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGFscmVhZHkgZW5hYmxlQXVkaW9cIikpLHQudXNlck11dGVBdWRpbz0hMSxuKG51bGwsZT0hdC5wZWVyTXV0ZUF1ZGlvJiZ0Ll91bm11dGVBdWRpbygpKSxlfSx0LmRpc2FibGVBdWRpbz1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5kaXNhYmxlQXVkaW9cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2MuZGVmYXVsdC5kZXByZWNhdGUoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbS5kaXNhYmxlQXVkaW8gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFVzZSBTdHJlYW0ubXV0ZUF1ZGlvIGluc3RlYWRcIikpLHQudXNlck11dGVBdWRpbyYmYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSBkaXNhYmxlQXVkaW9cIikpLHQudXNlck11dGVBdWRpbz0hMDt2YXIgbj10Ll9tdXRlQXVkaW8oKTtyZXR1cm4gZShudWxsLG4pLG59LHQuZW5hYmxlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZSxuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5lbmFibGVWaWRlb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuIGMuZGVmYXVsdC5kZXByZWNhdGUoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFN0cmVhbS5lbmFibGVWaWRlbyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlIFN0cmVhbS51bm11dGVWaWRlbyBpbnN0ZWFkXCIpKSx0LnVzZXJNdXRlVmlkZW98fGMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGFscmVhZHkgZW5hYmxlVmlkZW9cIikpLHQudXNlck11dGVWaWRlbz0hMSx0Lmxvd1N0cmVhbSYmKHQubG93U3RyZWFtLnVzZXJNdXRlVmlkZW89ITEpLG4obnVsbCxlPSF0LnBlZXJNdXRlVmlkZW8mJnQuX3VubXV0ZVZpZGVvKCkpLGV9LHQuZGlzYWJsZVZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmRpc2FibGVWaWRlb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7Yy5kZWZhdWx0LmRlcHJlY2F0ZShcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLmRpc2FibGVWaWRlbyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlIFN0cmVhbS5tdXRlVmlkZW8gaW5zdGVhZFwiKSksdC51c2VyTXV0ZVZpZGVvJiZjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVXNlciBhbHJlYWR5IGRpc2FibGVWaWRlb1wiKSksdC51c2VyTXV0ZVZpZGVvPSEwLHQubG93U3RyZWFtJiYodC5sb3dTdHJlYW0udXNlck11dGVWaWRlbz0hMCk7dmFyIG49dC5fbXV0ZVZpZGVvKCk7cmV0dXJuIGUobnVsbCxuKSxufSx0LnVubXV0ZUF1ZGlvPWZ1bmN0aW9uKCl7dmFyIGUsbj1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0udW5tdXRlQXVkaW9cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVybiB0LnVzZXJNdXRlQXVkaW98fGMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGFscmVhZHkgdW5tdXRlQXVkaW9cIikpLHQudXNlck11dGVBdWRpbz0hMSxuKG51bGwsZT0hdC5wZWVyTXV0ZUF1ZGlvJiZ0Ll91bm11dGVBdWRpbygpKSxlfSx0Lm11dGVBdWRpbz1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5tdXRlQXVkaW9cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3QudXNlck11dGVBdWRpbyYmYy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSBtdXRlQXVkaW9cIikpLHQudXNlck11dGVBdWRpbz0hMDt2YXIgbj10Ll9tdXRlQXVkaW8oKTtyZXR1cm4gZShudWxsLG4pLG59LHQudW5tdXRlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZSxuPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS51bm11dGVWaWRlb1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7cmV0dXJuIHQudXNlck11dGVWaWRlb3x8Yy5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFVzZXIgYWxyZWFkeSB1bm11dGVWaWRlb1wiKSksdC51c2VyTXV0ZVZpZGVvPSExLHQubG93U3RyZWFtJiYodC5sb3dTdHJlYW0udXNlck11dGVWaWRlbz0hMSksbihudWxsLGU9IXQucGVlck11dGVWaWRlbyYmdC5fdW5tdXRlVmlkZW8oKSksZX0sdC5tdXRlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0ubXV0ZVZpZGVvXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTt0LnVzZXJNdXRlVmlkZW8mJmMuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBVc2VyIGFscmVhZHkgbXV0ZVZpZGVvXCIpKSx0LnVzZXJNdXRlVmlkZW89ITAsdC5sb3dTdHJlYW0mJih0Lmxvd1N0cmVhbS51c2VyTXV0ZVZpZGVvPSEwKTt2YXIgbj10Ll9tdXRlVmlkZW8oKTtyZXR1cm4gZShudWxsLG4pLG59LHQuX3VubXV0ZUF1ZGlvPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVW5tdXRlZCBhdWRpbyBzdHJlYW0gd2l0aCBpZCBcIiksdC5zdHJlYW1JZCksdC5fZmx1c2hBdWRpb01peGluZ011dGVTdGF0dXMoITEpLCEoIXQuaGFzQXVkaW8oKXx8IXQuaW5pdGlhbGl6ZWR8fHZvaWQgMD09PXQuc3RyZWFtfHwhMD09PXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCkmJih0Ll9vbkF1ZGlvVW5tdXRlJiZ0Ll9vbkF1ZGlvVW5tdXRlKCksdC5wYyYmKHQucGMuaXNBdWRpb011dGU9ITEpLHQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZD0hMCwhMCl9LHQuX2lzQXVkaW9NdXRlZD1mdW5jdGlvbigpe2lmKHQuc3RyZWFtJiZ0Lmhhc0F1ZGlvKCkpe3ZhciBlPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7cmV0dXJuIGUubGVuZ3RoPjAmJiFlWzBdLmVuYWJsZWR9cmV0dXJuITF9LHQuX2lzVmlkZW9NdXRlZD1mdW5jdGlvbigpe2lmKHQuc3RyZWFtJiZ0Lmhhc1ZpZGVvKCkpe3ZhciBlPXQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7cmV0dXJuIGUubGVuZ3RoPjAmJiFlWzBdLmVuYWJsZWR9cmV0dXJuITF9LHQuX211dGVBdWRpbz1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIE11dGVkIGF1ZGlvIHN0cmVhbSB3aXRoIGlkIFwiKSx0LnN0cmVhbUlkKSx0Ll9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cyghMCksISEodC5oYXNBdWRpbygpJiZ0LmluaXRpYWxpemVkJiZ2b2lkIDAhPT10LnN0cmVhbSYmdC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkKSYmKHQuX29uQXVkaW9NdXRlJiZ0Ll9vbkF1ZGlvTXV0ZSgpLHQucGMmJih0LnBjLmlzQXVkaW9NdXRlPSEwKSx0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQ9ITEsdC5zaWQmJmYucmVwb3J0LmF1ZGlvU2VuZGluZ1N0b3BwZWQodC5zaWQse3N1Y2M6ITAscmVhc29uOlwibXV0ZUF1ZGlvXCJ9KSwhMCl9LHQuX3VubXV0ZVZpZGVvPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVW5tdXRlZCB2aWRlbyBzdHJlYW0gd2l0aCBpZFwiKSx0LnN0cmVhbUlkKSwhKCF0LmluaXRpYWxpemVkfHx2b2lkIDA9PT10LnN0cmVhbXx8IXQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RofHwhMD09PXQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uZW5hYmxlZCkmJih0Ll9vblZpZGVvVW5tdXRlJiZ0Ll9vblZpZGVvVW5tdXRlKCksdC5wYyYmKHQucGMuaXNWaWRlb011dGU9ITEpLHQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uZW5hYmxlZD0hMCx0Lmxvd1N0cmVhbSYmdC5sb3dTdHJlYW0uX3VubXV0ZVZpZGVvKCksITApfSx0Ll9tdXRlVmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBNdXRlZCB2aWRlbyBzdHJlYW0gd2l0aCBpZFwiKSx0LnN0cmVhbUlkKSwhISh0LmluaXRpYWxpemVkJiZ2b2lkIDAhPT10LnN0cmVhbSYmdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgmJnQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0uZW5hYmxlZCkmJih0Ll9vblZpZGVvTXV0ZSYmdC5fb25WaWRlb011dGUoKSx0LnBjJiYodC5wYy5pc1ZpZGVvTXV0ZT0hMCksdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkPSExLHQubG93U3RyZWFtJiZ0Lmxvd1N0cmVhbS5fbXV0ZVZpZGVvKCksdC5zaWQmJmYucmVwb3J0LnZpZGVvU2VuZGluZ1N0b3BwZWQodC5zaWQse3N1Y2M6ITAscmVhc29uOlwibXV0ZVZpZGVvXCJ9KSwhMCl9LHQuYWRkVHJhY2s9ZnVuY3Rpb24ocil7aWYodC5hdWRpbyYmXCJhdWRpb1wiPT09ci5raW5kKWMuZGVmYXVsdC53YXJuaW5nKFwiYWxyZWFkeSBhZGRlZCBhdWRpbyB0cmFja1wiKTtlbHNlIGlmKHQudmlkZW8mJlwidmlkZW9cIj09PXIua2luZCljLmRlZmF1bHQud2FybmluZyhcImFscmVhZHkgYWRkZWQgdmlkZW8gdHJhY2tcIik7ZWxzZXt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uYWRkVHJhY2tcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQucGMmJnQucGMuYWRkVHJhY2socix0LnN0cmVhbSksXCJhdWRpb1wiPT1yLmtpbmQpe3QuX2NsZWFudXBBdWRpb01peGluZygpO3ZhciBvPW5ldyBNZWRpYVN0cmVhbTt0LnVzZXJNdXRlQXVkaW8mJihyLmVuYWJsZWQ9ITEpLG8uYWRkVHJhY2socik7dmFyIGE9dC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTthJiZvLmFkZFRyYWNrKGEpLHQuYXVkaW89ITAsZS5hdWRpbz0hMCx0LnN0cmVhbT1vLHQuYXVkaW9MZXZlbEhlbHBlcj1udWxsLHQucGxheWVyJiZ0LnBsYXllci52aWRlbyYmKHQucGxheWVyLnZpZGVvLnNyY09iamVjdD10LnN0cmVhbSl9ZWxzZSB0LnVzZXJNdXRlVmlkZW8mJihyLmVuYWJsZWQ9ITEpLHQuc3RyZWFtLmFkZFRyYWNrKHIpLHQudmlkZW89ITAsZS52aWRlbz0hMDtyLm9uZW5kZWR8fChyLm9uZW5kZWQ9biksaSgpfX0sdC5yZW1vdmVUcmFjaz1mdW5jdGlvbihuKXtpZihuKWlmKHQuYXVkaW98fFwiYXVkaW9cIiE9PW4ua2luZClpZih0LnZpZGVvfHxcInZpZGVvXCIhPT1uLmtpbmQpe3ZhciByPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5yZW1vdmVUcmFja1wiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7dC5wYyYmdC5wYy5yZW1vdmVUcmFjayhuLHQuc3RyZWFtKSx0LnN0cmVhbS5yZW1vdmVUcmFjayhuKSx0Ll9jbGVhbnVwQXVkaW9NaXhpbmcoKSxcImF1ZGlvXCI9PT1uLmtpbmQ/KHQuYXVkaW89ITEsZS5hdWRpbz0hMSk6KHQudmlkZW89ITEsZS52aWRlbz0hMSksdC5hdWRpb0xldmVsSGVscGVyPW51bGwsXCJsaXZlXCI9PW4ucmVhZHlTdGF0ZSYmKG4uc3RvcCgpLGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gVHJhY2sgXCIpLmNvbmNhdChuLmtpbmQsXCIgU3RvcHBlZFwiKSkpLHIoKX1lbHNlIGMuZGVmYXVsdC53YXJuaW5nKFwiYWxyZWFkeSByZW1vdmVkIHZpZGVvIHRyYWNrXCIpO2Vsc2UgYy5kZWZhdWx0Lndhcm5pbmcoXCJhbHJlYWR5IHJlbW92ZWQgYXVkaW8gdHJhY2tcIik7ZWxzZSBjLmRlZmF1bHQud2FybmluZyhcInRyYWNrIGRvZXNuJ3QgZXhpc3QuXCIpfSx0LnNldEF1ZGlvT3V0cHV0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gciYmcihlKTtuJiZuKHQpfSxuYW1lOlwiU3RyZWFtLnNldEF1ZGlvT3V0cHV0XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm4gT2JqZWN0KFMuaXNWYWxpZFN0cmluZykoZSwxLDI1NSk/KHQuYXVkaW9PdXRwdXQ9ZSx0LnBsYXllcj92b2lkIHQucGxheWVyLnNldEF1ZGlvT3V0cHV0KGUsKGZ1bmN0aW9uKCl7cmV0dXJuIGkoKX0pLGkpOmkoKSk6KGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gc2V0QXVkaW9PdXRwdXQgSW52YWxpZCBQYXJhbWV0ZXJcIiksZSksaSh1LmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpKX0sdC5wbGF5PWZ1bmN0aW9uKGUsbixyKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYocj1uLG49bnVsbCksYy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBwbGF5KCkuXCIpLGUsbik7dmFyIGk9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLnBsYXlcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIixjYWxsYmFjazpyfSk7aWYoT2JqZWN0KFMuY2hlY2tWYWxpZFN0cmluZykoZSxcImVsZW1lbnRJRFwiKSxPYmplY3QoUy5pc0VtcHR5KShuKXx8KE9iamVjdChTLmlzRW1wdHkpKG4uZml0KXx8T2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKG4uZml0LFwiZml0XCIsW1wiY292ZXJcIixcImNvbnRhaW5cIl0pLE9iamVjdChTLmlzRW1wdHkpKG4ubXV0ZWQpfHxPYmplY3QoUy5jaGVja1ZhbGlkQm9vbGVhbikobi5tdXRlZCxcIm11dGVkXCIpKSx0LnBsYXllciljLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gU3RyZWFtLnBsYXkoKTogU3RyZWFtIGlzIGFscmVhZHkgcGxheWluZy4gRmFsbGJhY2sgdG8gcmVzdW1lIHN0cmVhbVwiKSksdC5yZXN1bWUoKS50aGVuKChmdW5jdGlvbigpe2kobnVsbCl9KSkuY2F0Y2goaSk7ZWxzZXt0LmVsZW1lbnRJRD1lLHQucGxheU9wdGlvbnM9biwhdC5sb2NhbHx8dC52aWRlb3x8dC5zY3JlZW4/KHQucGxheWVyPW5ldyBnKHtpZDp0LmdldElkKCksc3RyZWFtOnQsZWxlbWVudElEOmUsb3B0aW9uczpufSksdC5sb2NhbCYmeS5hLmFwcGx5RWZmZWN0SW5QbGF5ZXIodCkpOnQuaGFzQXVkaW8oKSYmKHQucGxheWVyPW5ldyBnKHtpZDp0LmdldElkKCksc3RyZWFtOnQsZWxlbWVudElEOmUsb3B0aW9uczpufSkpO3ZhciBvPXt2aWRlbzpudWxsLGF1ZGlvOm51bGx9LGE9ZnVuY3Rpb24gZShuKXtpZihvW24ubWVkaWFUeXBlXT1uLG8udmlkZW8mJm8uYXVkaW8paWYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWVyLXN0YXR1cy1jaGFuZ2VcIixlKSxvLnZpZGVvLmlzRXJyb3JTdGF0ZXx8by5hdWRpby5pc0Vycm9yU3RhdGUpe3ZhciByPW8udmlkZW8uaXNFcnJvclN0YXRlP28udmlkZW86by5hdWRpbztpKHtpc0Vycm9yU3RhdGU6ITAsc3RhdHVzOnIuc3RhdHVzLHJlYXNvbjpyLnJlYXNvbix2aWRlbzpvLnZpZGVvLGF1ZGlvOm8uYXVkaW99KX1lbHNlXCJhYm9ydGVkXCI9PT1vLnZpZGVvLnN0YXR1cyYmXCJhYm9ydGVkXCI9PT1vLmF1ZGlvLnN0YXR1cz9pKHtzdGF0dXM6XCJhYm9ydGVkXCIscmVhc29uOlwic3RvcFwiLHZpZGVvOm8udmlkZW8sYXVkaW86by5hdWRpb30pOmkobnVsbCl9O3Qub24oXCJwbGF5ZXItc3RhdHVzLWNoYW5nZVwiLGEpLHQuYXVkaW9PdXRwdXQmJnQucGxheWVyLnNldEF1ZGlvT3V0cHV0KHQuYXVkaW9PdXRwdXQpLHZvaWQgMCE9PXQuYXVkaW9MZXZlbCYmdC5wbGF5ZXIuc2V0QXVkaW9Wb2x1bWUodC5hdWRpb0xldmVsKSx0Ll9mbHVzaEF1ZGlvTWl4aW5nTXV0ZVN0YXR1cyghMSl9fSx0LnN0b3A9ZnVuY3Rpb24oKXt2YXIgZT1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6XCJTdHJlYW0uc3RvcFwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBTdG9wIHN0cmVhbSBwbGF5ZXIgd2l0aCBpZCBcIiksdC5zdHJlYW1JZCksdC5wbGF5ZXI/KHkuYS5yZW1vdmVFZmZlY3RGcm9tTG9jYWxQbGF5ZXIodCksdC5wbGF5ZXIuZGVzdHJveSgpLGRlbGV0ZSB0LnBsYXllcik6Yy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBTdHJlYW0uc3RvcCgpOiBTdHJlYW0gaXMgbm90IHBsYXlpbmdcIikpLHQuX2ZsdXNoQXVkaW9NaXhpbmdNdXRlU3RhdHVzKCEwKSxlKCl9LHQuaXNQbGF5aW5nPWZ1bmN0aW9uKCl7cmV0dXJuISF0LnBsYXllcn0sdC5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiEhdC5wbGF5ZXImJighISh0LnBsYXllci52aWRlbyYmdC5wbGF5ZXIudmlkZW8ucGF1c2VkJiZ0LnBsYXllci5tZWRpYUVsZW1FeGlzdHModC5wbGF5ZXIudmlkZW8pKXx8ISEodC5wbGF5ZXIuYXVkaW8mJnQucGxheWVyLmF1ZGlvLnBhdXNlZCYmdC5wbGF5ZXIubWVkaWFFbGVtRXhpc3RzKHQucGxheWVyLmF1ZGlvKSkpfSx0LnJlc3VtZT1mdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIHQucGxheWVyPyh0LnBsYXllci52aWRlbyYmdC5wbGF5ZXIudmlkZW8ucGxheSYmKGU9dC5wbGF5ZXIudmlkZW8ucGxheSgpKSxlPWV8fFByb21pc2UucmVzb2x2ZSgpLHQucGxheWVyLmF1ZGlvJiZ0LnBsYXllci5hdWRpby5wbGF5JiYobj10LnBsYXllci5hdWRpby5wbGF5KCkpLG49bnx8UHJvbWlzZS5yZXNvbHZlKCksUHJvbWlzZS5hbGwoW2Usbl0pKTpQcm9taXNlLnJlamVjdChcIk5PX1BMQVlFUl9GT1VORFwiKX0sdC5nZXRWaWRlb1RyYWNrPWZ1bmN0aW9uKCl7dmFyIGU9Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLmdldFZpZGVvVHJhY2tcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcyl7dmFyIG49dC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtpZihuKXJldHVybiBjLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gZ2V0VmlkZW9UcmFja1wiKSxuKSxlKCksbn1jLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gZ2V0VmlkZW9UcmFjayBOb25lXCIpKSxlKG51bGwsXCJnZXRWaWRlb1RyYWNrIE5vbmVcIil9LHQuZ2V0QXVkaW9UcmFjaz1mdW5jdGlvbigpe3ZhciBlPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpcIlN0cmVhbS5nZXRBdWRpb1RyYWNrXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZih0LnN0cmVhbSYmdC5zdHJlYW0uZ2V0QXVkaW9UcmFja3Mpe3ZhciBuPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07aWYobilyZXR1cm4gYy5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIGdldEF1ZGlvVHJhY2tzXCIpLG4pLGUoKSxufWMuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBnZXRBdWRpb1RyYWNrcyBOb25lXCIpKSxlKG51bGwsXCJnZXRBdWRpb1RyYWNrcyBOb25lXCIpfSx0Ll9oYXNWaWRlb1RyYWNrcz1mdW5jdGlvbigpe3JldHVybiEhKHQuc3RyZWFtJiZ0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcyYmdC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSl9LHQuX2hhc0F1ZGlvVHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuISEodC5zdHJlYW0mJnQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzJiZ0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKX0sdC5fcmVwbGFjZU1lZGlhU3RyZWFtVHJhY2s9ZnVuY3Rpb24oZSxuLHIpe2lmKHQuc3RyZWFtKXtpZihcInZpZGVvXCI9PWUua2luZCl7aWYobz10LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKXJldHVybiB0LnVzZXJNdXRlVmlkZW8mJihlLmVuYWJsZWQ9ITEpLHQuc3RyZWFtLnJlbW92ZVRyYWNrKG8pLHQuc3RyZWFtLmFkZFRyYWNrKGUpLGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gX3JlcGxhY2VNZWRpYVN0cmVhbVRyYWNrIFwiKS5jb25jYXQoZS5raW5kLFwiIFNVQ0NFU1NcIikpLFwibGl2ZVwiPT1vLnJlYWR5U3RhdGUmJihvLnN0b3AoKSxjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFRyYWNrIFwiKS5jb25jYXQoby5raW5kLFwiIFN0b3BwZWRcIikpKSxuJiZuKCk7dmFyIGk9XCJNRURJQVNUUkVBTV9UUkFDS19OT1RfRk9VTkRcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBNRURJQVNUUkVBTV9UUkFDS19OT1RfRk9VTkQgXCIpLmNvbmNhdChlLmtpbmQpKSxyKGkpfWlmKFwiYXVkaW9cIj09ZS5raW5kKXt2YXIgbztpZihvPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pe3QudXNlck11dGVBdWRpbyYmKGUuZW5hYmxlZD0hMSk7dmFyIGE9bmV3IE1lZGlhU3RyZWFtO2EuYWRkVHJhY2soZSk7dmFyIHM9dC5zdHJlYW0mJnQuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07cmV0dXJuIHMmJmEuYWRkVHJhY2socyksdC5zdHJlYW09YSx0LmF1ZGlvTGV2ZWxIZWxwZXI9bnVsbCx0LnBsYXllciYmdC5wbGF5ZXIudmlkZW8mJih0LnBsYXllci52aWRlby5zcmNPYmplY3Q9dC5zdHJlYW0pLGMuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gX3JlcGxhY2VNZWRpYVN0cmVhbVRyYWNrIFNVQ0NFU1NcIikpLFwibGl2ZVwiPT1vLnJlYWR5U3RhdGUmJihvLnN0b3AoKSxjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFRyYWNrIFwiKS5jb25jYXQoby5raW5kLFwiIFN0b3BwZWRcIikpKSxuJiZuKCl9aT1cIk1FRElBU1RSRUFNX1RSQUNLX05PVF9GT1VORFwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIE1FRElBU1RSRUFNX1RSQUNLX05PVF9GT1VORCBcIikuY29uY2F0KGUua2luZCkpLHIoaSl9aT1cIklOVkFMSURfVFJBQ0tfVFlQRVwiO3JldHVybiBjLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIF9yZXBsYWNlTWVkaWFTdHJlYW1UcmFjayBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdChlLmtpbmQpKSxyJiZyKGkpfWk9XCJOT19TVFJFQU1fRk9VTkRcIjtyZXR1cm4gYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBfcmVwbGFjZU1lZGlhU3RyZWFtVHJhY2sgXCIpLmNvbmNhdChpKSksciYmcihpKX0sdC5yZXBsYWNlVHJhY2s9ZnVuY3Rpb24oZSxyLGkpe3ZhciBvPWYucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNpZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpJiZpKGUpO3ImJnIodCl9LG5hbWU6XCJTdHJlYW0ucmVwbGFjZVRyYWNrXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtyZXR1cm4gZSYmZS5raW5kPyh0Ll9jbGVhbnVwQXVkaW9NaXhpbmcoKSxlLm9uZW5kZWR8fChlLm9uZW5kZWQ9biksdC5wYyYmdC5wYy5oYXNTZW5kZXImJnQucGMuaGFzU2VuZGVyKGUua2luZCk/dm9pZCB0LnBjLnJlcGxhY2VUcmFjayhlLChmdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RyZWFtSWQsXCJdIFBlZXJDb25uZWN0aW9uLnJlcGxhY2VUcmFjayBcIikuY29uY2F0KGUua2luZCxcIiBTVUNDRVNTXCIpKSx0Ll9yZXBsYWNlTWVkaWFTdHJlYW1UcmFjayhlLChmdW5jdGlvbihlKXtyZXR1cm4gbyhudWxsLGUpfSksbyl9KSwoZnVuY3Rpb24obil7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gUGVlckNvbm5lY3Rpb24ucmVwbGFjZVRyYWNrIFwiKS5jb25jYXQoZS5raW5kLFwiIEZhaWxlZCBcIikuY29uY2F0KG4pKSxvKG4pfSkpOnQuX3JlcGxhY2VNZWRpYVN0cmVhbVRyYWNrKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBvKG51bGwsZSl9KSxvKSk6byhcIklOVkFMSURfVFJBQ0tcIil9LHQuc2V0QXVkaW9Wb2x1bWU9ZnVuY3Rpb24oZSl7dmFyIG49Zi5yZXBvcnQucmVwb3J0QXBpSW52b2tlKHQuc2lkLHtuYW1lOlwiU3RyZWFtLnNldEF1ZGlvVm9sdW1lXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoUy5jaGVja1ZhbGlkTnVtYmVyKShlLFwibGV2ZWxcIiwwLDEwMCksdC5hdWRpb0xldmVsPWUsdC5wbGF5ZXImJnQucGxheWVyLnNldEF1ZGlvVm9sdW1lKGUpLG4oKX0sdC5nZXRTdGF0cz1mdW5jdGlvbihlLG4scil7dmFyIGE9W107YS5wdXNoKHQuX2dldFBDU3RhdHMocikpLGEucHVzaChuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7dmFyIG49e307dC5wYyYmdC5wYy5pc1N1YnNjcmliZXI/bnVsbCE9PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKFwiRmlyZWZveFwiKSYmKE9iamVjdCh2LmIpKG4sXCJ2aWRlb1JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0XCIsdC52aWRlb0hlaWdodCksT2JqZWN0KHYuYikobixcInZpZGVvUmVjZWl2ZVJlc29sdXRpb25XaWR0aFwiLHQudmlkZW9XaWR0aCkpOnQucGMmJiF0LnBjLmlzU3Vic2NyaWJlciYmKChPYmplY3Qoby5pc1NhZmFyaSkoKXx8T2JqZWN0KG8uaXNGaXJlRm94KSgpKSYmKE9iamVjdCh2LmIpKG4sXCJ2aWRlb1NlbmRSZXNvbHV0aW9uSGVpZ2h0XCIsdC52aWRlb0hlaWdodCksT2JqZWN0KHYuYikobixcInZpZGVvU2VuZFJlc29sdXRpb25XaWR0aFwiLHQudmlkZW9XaWR0aCkpLChPYmplY3Qoby5pc1NhZmFyaSkoKXx8T2JqZWN0KG8uaXNGaXJlRm94KSgpKSYmdC51cGxpbmtTdGF0cyYmT2JqZWN0KHYuYikobixcInZpZGVvU2VuZFBhY2tldHNMb3N0XCIsdC51cGxpbmtTdGF0cy51cGxpbmtfY3VtdWxhdGl2ZV9sb3N0KSksZShuKX0pKSksYS5wdXNoKG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm4gdC50cmFmZmljX3N0YXRzJiZ0LnBjJiZ0LnBjLmlzU3Vic2NyaWJlcj8oT2JqZWN0KHYuYikobixcImFjY2Vzc0RlbGF5XCIsdC50cmFmZmljX3N0YXRzLmFjY2Vzc19kZWxheSksT2JqZWN0KHYuYikobixcImVuZFRvRW5kRGVsYXlcIix0LnRyYWZmaWNfc3RhdHMuZTJlX2RlbGF5KSxPYmplY3Qodi5iKShuLFwidmlkZW9SZWNlaXZlRGVsYXlcIix0LnRyYWZmaWNfc3RhdHMudmlkZW9fZGVsYXkpLE9iamVjdCh2LmIpKG4sXCJhdWRpb1JlY2VpdmVEZWxheVwiLHQudHJhZmZpY19zdGF0cy5hdWRpb19kZWxheSkpOnQudHJhZmZpY19zdGF0cyYmdC5wYyYmIXQucGMuaXNTdWJzY3JpYmVyJiZPYmplY3Qodi5iKShuLFwiYWNjZXNzRGVsYXlcIix0LnRyYWZmaWNfc3RhdHMuYWNjZXNzX2RlbGF5KSxlKG4pfSkpKSxQcm9taXNlLmFsbChhKS50aGVuKChmdW5jdGlvbihuKXtmb3IodmFyIHI9e30sbz1uLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgYT1uW29dO2koKShyLGEpfWUmJnNldFRpbWVvdXQoZS5iaW5kKHQsciksMCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24mJnNldFRpbWVvdXQobi5iaW5kKHQsZSksMCl9KSl9LHQuX2dldFBDU3RhdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2lmKCF0LnBjfHxcImVzdGFibGlzaGVkXCIhPT10LnBjLnN0YXRlfHwhdC5wYy5nZXRTdGF0cyl7cmV0dXJuIHIoXCJQRUVSX0NPTk5FQ1RJT05fTk9UX0VTVEFCTElTSEVEXCIpfXQucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKGUpe2lmKCF0LnBjfHxcImVzdGFibGlzaGVkXCIhPT10LnBjLnN0YXRlfHwhdC5wYy5nZXRTdGF0cyl7cmV0dXJuIHIoXCJQRUVSX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFXCIpfXZhciBpPXQucGMuaXNTdWJzY3JpYmVyP09iamVjdCh2LmMpKGUpOk9iamVjdCh2LmEpKGUpO3JldHVybiBuKGkpfSksZSl9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQucGMuaXNTdWJzY3JpYmVyPyhPYmplY3Qoby5pc0ZpcmVGb3gpKCl8fE9iamVjdChvLmlzU2FmYXJpKSgpKSYmKGUudmlkZW9SZWNlaXZlUmVzb2x1dGlvbkhlaWdodCYmXCIwXCIhPT1lLnZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHR8fGUudmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoJiZcIjBcIiE9PWUudmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRofHwoT2JqZWN0KHYuYikoZSxcInZpZGVvUmVjZWl2ZVJlc29sdXRpb25IZWlnaHRcIix0LnZpZGVvSGVpZ2h0KSxPYmplY3Qodi5iKShlLFwidmlkZW9SZWNlaXZlUmVzb2x1dGlvbldpZHRoXCIsdC52aWRlb1dpZHRoKSkpOigoT2JqZWN0KG8uaXNTYWZhcmkpKCl8fE9iamVjdChvLmlzRmlyZUZveCkoKSkmJihlLnZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHQmJlwiMFwiIT09ZS52aWRlb1NlbmRSZXNvbHV0aW9uSGVpZ2h0fHxlLnZpZGVvU2VuZFJlc29sdXRpb25XaWR0aCYmXCIwXCIhPT1lLnZpZGVvU2VuZFJlc29sdXRpb25XaWR0aHx8KE9iamVjdCh2LmIpKGUsXCJ2aWRlb1NlbmRSZXNvbHV0aW9uSGVpZ2h0XCIsdC52aWRlb0hlaWdodCksT2JqZWN0KHYuYikoZSxcInZpZGVvU2VuZFJlc29sdXRpb25XaWR0aFwiLHQudmlkZW9XaWR0aCkpKSwoT2JqZWN0KG8uaXNTYWZhcmkpKCl8fE9iamVjdChvLmlzRmlyZUZveCkoKSkmJnQudXBsaW5rU3RhdHMmJk9iamVjdCh2LmIpKGUsXCJ2aWRlb1NlbmRQYWNrZXRzTG9zdFwiLHQudXBsaW5rU3RhdHMudXBsaW5rX2N1bXVsYXRpdmVfbG9zdCkpLFByb21pc2UucmVzb2x2ZShlKX0pKX0sdC5nZXRBdWRpb0xldmVsPWZ1bmN0aW9uKCl7aWYodC5hdWRpb0xldmVsSGVscGVyKXJldHVybiB0LmF1ZGlvTGV2ZWxIZWxwZXIuZ2V0QXVkaW9MZXZlbCgpO2lmKHQuc3RyZWFtKXtpZigwIT09dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpcmV0dXJuIHQuYXVkaW9MZXZlbEhlbHBlcj1uZXcgaC5hdWRpb0xldmVsSGVscGVyKHQuc3RyZWFtKSx0LmF1ZGlvTGV2ZWxIZWxwZXIuZ2V0QXVkaW9MZXZlbCgpO2MuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBjYW4ndCBnZXQgYXVkaW9MZXZlbCBiZWFjdXNlIG5vIGF1ZGlvIHRyYWNlIGluIHN0cmVhbVwiKSl9ZWxzZSBjLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gY2FuJ3QgZ2V0IGF1ZGlvTGV2ZWwgYmVhY3VzZSBubyBzdHJlYW0gZXhpc3RcIikpfSx0LnNldFZpZGVvUHJvZmlsZShcIjQ4MHBfMVwiKSx0Ll9zd2l0Y2hWaWRlb0RldmljZT1mdW5jdGlvbihlLG4scil7aWYoZT09PXQuY2FtZXJhSWQpcmV0dXJuIG4mJm4oKTt2YXIgbz17dmlkZW86aSgpKHt9LHQudmlkZW9Db25zdHJhaW50LHtkZXZpY2VJZDp7ZXhhY3Q6ZX19KSxhdWRpbzohMX07Yy5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBcIikuY29uY2F0KG8pKSxPYmplY3QobS5iKShvLChmdW5jdGlvbihpKXt0cnl7dmFyIG89ZnVuY3Rpb24oKXt0LmlzUGxheWluZygpJiYodC5zdG9wKCksdC5lbGVtZW50SUQmJnQucGxheSh0LmVsZW1lbnRJRCx0LnBsYXlPcHRpb25zKSksdC5jYW1lcmFJZD1lLHQudmlkZW9Db25zdHJhaW50LmRldmljZUlkPXtleGFjdDplfSx0LnVzZXJNdXRlVmlkZW8mJih0LnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQ9ITEpLHkuYS5yZXN0b3JlVmlkZW9FZmZlY3QodCkudGhlbigoZnVuY3Rpb24oKXtuJiZuKCl9KSl9O3kuYS5kaXNhYmxlVmlkZW9FZmZlY3QodCkudGhlbigoZnVuY3Rpb24oKXt2YXIgZT0hMTt3aW5kb3cuUlRDUnRwU2VuZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjayYmKGU9ITApLGU/dC5yZXBsYWNlVHJhY2soaS5nZXRWaWRlb1RyYWNrcygpWzBdLG8scik6KHQucmVtb3ZlVHJhY2sodC5zdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSksdC5hZGRUcmFjayhpLmdldFZpZGVvVHJhY2tzKClbMF0pLG8oKSl9KSl9Y2F0Y2goZSl7cmV0dXJuIHImJnIoZSl9fSksKGZ1bmN0aW9uKGUpe3JldHVybiByJiZyKGUpfSkpfSx0Ll9zd2l0Y2hBdWRpb0RldmljZT1mdW5jdGlvbihlLG4scil7aWYoZT09PXQubWljcm9waG9uZUlkKXJldHVybiBuJiZuKCk7dmFyIG89e3ZpZGVvOiExLGF1ZGlvOmkoKSh7fSx0LmF1ZGlvQ29uc3RyYWludCx7ZGV2aWNlSWQ6e2V4YWN0OmV9fSl9O2MuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdHJlYW1JZCxcIl0gXCIpLG8pO3ZhciBhPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07YSYmYS5zdG9wKCksT2JqZWN0KG0uYikobywoZnVuY3Rpb24oaSl7dmFyIG89ZnVuY3Rpb24oKXt0Ll9jbGVhbnVwQXVkaW9NaXhpbmcoKSx0LnVzZXJNdXRlQXVkaW8mJih0LnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQ9ITEpLHQuaXNQbGF5aW5nKCkmJih0LnN0b3AoKSx0LmVsZW1lbnRJRCYmdC5wbGF5KHQuZWxlbWVudElELHQucGxheU9wdGlvbnMpKSx0Lm1pY3JvcGhvbmVJZD1lLHQuYXVkaW9Db25zdHJhaW50LmRldmljZUlkPXtleGFjdDplfSxuJiZuKCl9O3RyeXt2YXIgYT0hMTt3aW5kb3cuUlRDUnRwU2VuZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjayYmKGE9ITApLGE/dC5yZXBsYWNlVHJhY2soaS5nZXRBdWRpb1RyYWNrcygpWzBdLG8scik6KHQucmVtb3ZlVHJhY2sodC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSksdC5hZGRUcmFjayhpLmdldEF1ZGlvVHJhY2tzKClbMF0pLG8oKSl9Y2F0Y2goZSl7cmV0dXJuIHImJnIoZSl9fSksKGZ1bmN0aW9uKGUpe3JldHVybiByJiZyKGUpfSkpfSx0LnN3aXRjaERldmljZT1mdW5jdGlvbihlLG4scixpKXt2YXIgbz1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zaWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gaSYmaShlKTtyJiZyKHQpfSxuYW1lOlwiU3RyZWFtLnN3aXRjaERldmljZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7T2JqZWN0KFMuY2hlY2tWYWxpZFN0cmluZykobixcImRldmljZUlkXCIpO3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5Td2l0Y2hEZXZpY2U9ITEsbygpfSxzPWZ1bmN0aW9uKGUpe3QuaW5Td2l0Y2hEZXZpY2U9ITEsYy5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LnN0cmVhbUlkLFwiXSBcIiksZSksbyhlKX07aWYodC5pblN3aXRjaERldmljZSlyZXR1cm4gbyhcIkRldmljZSBzd2l0Y2ggaXMgaW4gcHJvY2Vzcy5cIik7aWYodC5pblN3aXRjaERldmljZT0hMCwhdC5sb2NhbClyZXR1cm4gcyhcIk9ubHkgdGhlIGxvY2FsIHN0cmVhbSBjYW4gc3dpdGNoIHRoZSBkZXZpY2UuXCIpO2lmKHQuc2NyZWVuJiZcInZpZGVvXCI9PT1lKXJldHVybiBzKFwiVGhlIGRldmljZSBjYW5ub3QgYmUgc3dpdGNoZWQgZHVyaW5nIHNjcmVlbi1zaGFyaW5nLlwiKTtpZighdC52aWRlbyYmXCJ2aWRlb1wiPT09ZSlyZXR1cm4gcyhcIlZpZGVvIHRyYWNrIG5vdCBleGlzdC5cIik7aWYoIXQuYXVkaW8mJlwiYXVkaW9cIj09PWUpcmV0dXJuIHMoXCJBdWRpbyB0cmFjayBub3QgZXhpc3QuXCIpO2lmKHQudmlkZW9Tb3VyY2V8fHQuYXVkaW9Tb3VyY2UpcmV0dXJuIHMoXCJUaGUgZGV2aWNlIGNhbm5vdCBiZSBzd2l0Y2hlZCB3aGVuIHVzaW5nIHZpZGVvU291cmNlIG9yIGF1ZGlvU291cmNlLlwiKTt2YXIgZD0hMTtmb3IodmFyIHUgaW4gdC5hdWRpb01peGluZy5zb3VuZHMpe3ZhciBsPXQuYXVkaW9NaXhpbmcuc291bmRzW3VdO2lmKGwuc3RhdGUhPT10LmF1ZGlvTWl4aW5nLnN0YXRlcy5JRExFKXtkPSEwO2JyZWFrfX12YXIgcD10LmF1ZGlvTWl4aW5nLmF1ZGlvQ29udGV4dEluaXRlZDtpZihwJiZkKXJldHVybiBzKFwiVGhlIGRldmljZSBjYW5ub3QgYmUgc3dpdGNoZWQgd2hlbiB1c2luZyBhdWRpbyBNaXhpbmcuXCIpO0UuYS5nZXREZXZpY2VCeUlkKG4sKGZ1bmN0aW9uKCl7aWYoXCJ2aWRlb1wiPT09ZSl0Ll9zd2l0Y2hWaWRlb0RldmljZShuLGEscyk7ZWxzZXtpZihcImF1ZGlvXCIhPT1lKXJldHVybiBzKFwiSW52YWxpZCB0eXBlLlwiKTt0Ll9zd2l0Y2hBdWRpb0RldmljZShuLGEscyl9fSksKGZ1bmN0aW9uKCl7cmV0dXJuIHMoXCJUaGUgZGV2aWNlIGRvZXMgbm90IGV4aXN0LlwiKX0pKX0sdH0sQz1mdW5jdGlvbihlKXt2YXIgdD1mLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImNyZWF0ZVN0cmVhbVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwiLGdldFN0YXRlczpmdW5jdGlvbigpe3JldHVybnthdWRpb1RyYWNrRW5hYmxlOmUmJmUuYXVkaW9Tb3VyY2U/ZS5hdWRpb1NvdXJjZS5lbmFibGVkOm51bGwsdmlkZW9UcmFja0VuYWJsZTplJiZlLnZpZGVvU291cmNlP2UudmlkZW9Tb3VyY2UuZW5hYmxlZDpudWxsfX19KTtPYmplY3QoUy5jaGVja1ZhbGlkT2JqZWN0KShlLFwiU3RyZWFtU3BlY1wiKTt2YXIgbj1lLnN0cmVhbUlELHI9ZS5hdWRpbyxpPWUudmlkZW8sbz1lLnNjcmVlbixhPWUuc2NyZWVuQXVkaW8scz0oZS5hdWRpb1NvdXJjZSxlLnZpZGVvU291cmNlLGUuY2FtZXJhSWQpLGQ9ZS5mYWNpbmdNb2RlLHU9ZS5taWNyb3Bob25lSWQsbD1lLm1pcnJvcixwPWUuZXh0ZW5zaW9uSWQsZz1lLm1lZGlhU291cmNlLG09ZS5hdWRpb1Byb2Nlc3Npbmcsdj1lLm9wdGltaXphdGlvbk1vZGU7aWYoIU9iamVjdChTLmlzRW1wdHkpKG4pJiYhT2JqZWN0KGguaXMzMlVpbnQpKG4pJiYhT2JqZWN0KFMuaXNWYWxpZFN0cmluZykobiwxLDI1NSkpdGhyb3cgbmV3IEVycm9yKFwiW1N0cmluZyBzdHJlYW1JRF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciBzdHJlYW1JRF0gVGhlIHZhbHVlIHJhbmdlIGlzIFVpbnQzMlwiKTtpZihPYmplY3QoUy5jaGVja1ZhbGlkQm9vbGVhbikocixcImF1ZGlvXCIpLE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShpLFwidmlkZW9cIiksT2JqZWN0KFMuaXNFbXB0eSkobyl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShvLFwic2NyZWVuXCIpLE9iamVjdChTLmlzRW1wdHkpKGEpfHxPYmplY3QoUy5jaGVja1ZhbGlkQm9vbGVhbikoYSxcInNjcmVlbkF1ZGlvXCIpLE9iamVjdChTLmlzRW1wdHkpKHMpfHxPYmplY3QoUy5jaGVja1ZhbGlkU3RyaW5nKShzLFwiY2FtZXJhSWRcIiwwLDI1NSwhMSksT2JqZWN0KFMuaXNFbXB0eSkoZCl8fE9iamVjdChTLmNoZWNrVmFsaWRFbnVtKShkLFwiZmFjaW5nTW9kZVwiLFtcInVzZXJcIixcImVudmlyb25tZW50XCIsXCJsZWZ0XCIsXCJyaWdodFwiXSksT2JqZWN0KFMuaXNFbXB0eSkodSl8fE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKHUsXCJtaWNyb3Bob25lSWRcIiwwLDI1NSwhMSksT2JqZWN0KFMuaXNFbXB0eSkocCl8fE9iamVjdChTLmNoZWNrVmFsaWRTdHJpbmcpKHAsXCJleHRlbnNpb25JZFwiKSxPYmplY3QoUy5pc0VtcHR5KShnKXx8T2JqZWN0KFMuY2hlY2tWYWxpZEVudW0pKGcsXCJtZWRpYVNvdXJjZVwiLFtcInNjcmVlblwiLFwiYXBwbGljYXRpb25cIixcIndpbmRvd1wiXSksT2JqZWN0KFMuaXNFbXB0eSkobCl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKShsLFwibWlycm9yXCIpLCFPYmplY3QoUy5pc0VtcHR5KShtKSl7dmFyIEU9bS5BR0MsXz1tLkFFQyx5PW0uQU5TO09iamVjdChTLmlzRW1wdHkpKEUpfHxPYmplY3QoUy5jaGVja1ZhbGlkQm9vbGVhbikoRSxcIkFHQ1wiKSxPYmplY3QoUy5pc0VtcHR5KShfKXx8T2JqZWN0KFMuY2hlY2tWYWxpZEJvb2xlYW4pKF8sXCJBRUNcIiksT2JqZWN0KFMuaXNFbXB0eSkoeSl8fE9iamVjdChTLmNoZWNrVmFsaWRCb29sZWFuKSh5LFwiQU5TXCIpfU9iamVjdChTLmlzRW1wdHkpKHYpfHxPYmplY3QoUy5jaGVja1ZhbGlkRW51bSkodixcIm9wdGltaXphdGlvbk1vZGVcIixbXCJkZXRhaWxcIixcIm1vdGlvblwiXSksYy5kZWZhdWx0LmRlYnVnKFwiQ3JlYXRlIHN0cmVhbVwiKSwhMD09PWEmJiEwPT09ciYmYy5kZWZhdWx0Lndhcm5pbmcoXCJEbyBub3Qgc2V0IGJvdGggJ3NjcmVlbkF1ZGlvJyBhbmQgJ2F1ZGlvJyB0byB0cnVlIGF0IHRoZSBzYW1lIHRpbWVcIiksZS5zY3JlZW4mJiF2JiYoZS5vcHRpbWl6YXRpb25Nb2RlPVwiZGV0YWlsXCIpO3ZhciBSPU8oZSk7cmV0dXJuIHQoKSxSfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24uZCh0LFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oNSksaT1uKDcpLG89bi5uKGkpLGE9bigxMikscz1uLm4oYSksYz1uKDE3KSxkPW4ubihjKSx1PW4oMCksbD1uKDE1KSxmPW4oMik7ZnVuY3Rpb24gcChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHxudWxsPT1lW1N5bWJvbC5pdGVyYXRvcl0pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBnKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO1wiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bilyZXR1cm4gQXJyYXkuZnJvbShuKTtpZihcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIGcoZSx0KX0oZSkpKXt2YXIgdD0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiB0Pj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVt0KytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixpLG89ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ZVtTeW1ib2wuaXRlcmF0b3JdKCl9LG46ZnVuY3Rpb24oKXt2YXIgZT1yLm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19fX1mdW5jdGlvbiBnKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIG09ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1sLlJUQ1BlZXJDb25uZWN0aW9uO3QudWlkPWUudWlkLHQuaXNWaWRlb011dGU9ZS5pc1ZpZGVvTXV0ZSx0LmlzQXVkaW9NdXRlPWUuaXNBdWRpb011dGUsdC5pc1N1YnNjcmliZXI9ZS5pc1N1YnNjcmliZXIsdC5jbGllbnRJZD1lLmNsaWVudElkLHQuZmlsdGVyU3RhdHNDYWNoZT1bXSx0Lm9yaWdpblN0YXRzQ2FjaGU9W10sdC5sYXN0VGltZUdldFN0YXRzPW51bGwsdC5wY19jb25maWc9e2ljZVNlcnZlcnM6W119O3ZhciBpPXtpZDpcIm91dGJvdW5kX2F1ZGlvX3NzcmNfc2VuZFwiLHR5cGU6XCJzc3JjXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTpcIm9wdXNcIixhZWNEaXZlcmdlbnRGaWx0ZXJGcmFjdGlvbjpcIjBcIixhdWRpb0lucHV0TGV2ZWw6XCIwXCIsYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zczpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudDpcIjBcIn0sYT17aWQ6XCJvdXRib3VuZF92aWRlb19zc3JjX3NlbmRcIix0eXBlOlwic3NyY1wiLG1lZGlhVHlwZTpcIlwiLGdvb2dDb2RlY05hbWU6ZS5jb2RlYz9lLmNvZGVjLnRvVXBwZXJDYXNlKCk6XCJcIixieXRlc1NlbnQ6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIscGFja2V0c1NlbnQ6XCIwXCIsZ29vZ0FkYXB0YXRpb25DaGFuZ2VzOlwiMFwiLGdvb2dBdmdFbmNvZGVNczpcIjBcIixnb29nRW5jb2RlVXNhZ2VQZXJjZW50OlwiMFwiLGdvb2dGaXJzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0U2VudDpcIjBcIixnb29nRnJhbWVIZWlnaHRJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlSW5wdXQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZVNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhTZW50OlwiMFwiLGdvb2dGcmFtZVdpZHRoSW5wdXQ6XCIwXCIsZ29vZ05hY2tzUmVjZWl2ZWQ6XCIwXCIsZ29vZ1BsaXNSZWNlaXZlZDpcIjBcIixnb29nUnR0OlwiMFwifSxjPXtpZDpcImluYm91bmRfYXVkaW9fc3NyY19yZWN2XCIsdHlwZTpcInNzcmNcIixtZWRpYVR5cGU6XCJcIixnb29nQ29kZWNOYW1lOlwib3B1c1wiLGF1ZGlvT3V0cHV0TGV2ZWw6XCIwXCIsYnl0ZXNSZWNlaXZlZDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0FjY2VsZXJhdGVSYXRlOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nRGVjb2RpbmdDTkc6XCIwXCIsZ29vZ0RlY29kaW5nQ1ROOlwiMFwiLGdvb2dEZWNvZGluZ0NUU0c6XCIwXCIsZ29vZ0RlY29kaW5nTm9ybWFsOlwiMFwiLGdvb2dEZWNvZGluZ1BMQzpcIjBcIixnb29nRGVjb2RpbmdQTENDTkc6XCIwXCIsZ29vZ0V4cGFuZFJhdGU6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpcIjBcIixnb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGU6XCIwXCIsZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZTpcIjBcIixnb29nU3BlZWNoRXhwYW5kUmF0ZTpcIjBcIn0sZz17aWQ6XCJpbmJvdW5kX3ZpZGVvX3NzcmNfcmVjdlwiLHR5cGU6XCJzc3JjXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ1RhcmdldERlbGF5TXM6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIsZ29vZ0RlY29kZU1zOlwiMFwiLGdvb2dNYXhEZWNvZGVNczpcIjBcIixnb29nUmVuZGVyRGVsYXlNczpcIjBcIixnb29nRnJhbWVXaWR0aFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVSYXRlRGVjb2RlZDpcIjBcIixnb29nRnJhbWVSYXRlT3V0cHV0OlwiMFwiLGdvb2dKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nQ3VycmVudERlbGF5TXM6XCIwXCIsZ29vZ01pblBsYXlvdXREZWxheU1zOlwiMFwiLGdvb2dOYWNrc1NlbnQ6XCIwXCIsZ29vZ1BsaXNTZW50OlwiMFwiLGdvb2dGaXJzU2VudDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lc0RlY29kZWQ6XCIwXCJ9LG09e2lkOlwiYndlZm9ydmlkZW9cIix0eXBlOlwiVmlkZW9Cd2VcIixnb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aDpcIjBcIixnb29nQXZhaWxhYmxlUmVjZWl2ZUJhbmR3aWR0aDpcIjBcIixnb29nQWN0dWFsRW5jQml0cmF0ZTpcIjBcIixnb29nUmV0cmFuc21pdEJpdHJhdGU6XCIwXCIsZ29vZ1RhcmdldEVuY0JpdHJhdGU6XCIwXCIsZ29vZ0J1Y2tldERlbGF5OlwiMFwiLGdvb2dUcmFuc21pdEJpdHJhdGU6XCIwXCJ9O3QuY29uPXtvcHRpb25hbDpbe0R0bHNTcnRwS2V5QWdyZWVtZW50OiEwfV19LGUuaWNlU2VydmVycyBpbnN0YW5jZW9mIEFycmF5P3QucGNfY29uZmlnLmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOihlLnN0dW5TZXJ2ZXJVcmwmJihlLnN0dW5TZXJ2ZXJVcmwgaW5zdGFuY2VvZiBBcnJheT9lLnN0dW5TZXJ2ZXJVcmwubWFwKChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWUmJnQucGNfY29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXJsOmV9KX0pKTpcInN0cmluZ1wiPT10eXBlb2YgZS5zdHVuU2VydmVyVXJsJiZcIlwiIT09ZS5zdHVuU2VydmVyVXJsJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplLnN0dW5TZXJ2ZXJVcmx9KSksZS50dXJuU2VydmVycyYmKGUudHVyblNlcnZlcnMgaW5zdGFuY2VvZiBBcnJheT9lLnR1cm5TZXJ2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7ZS51ZHBwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudWRwcG9ydCtcIj90cmFuc3BvcnQ9dWRwXCJ9KSxcInN0cmluZ1wiPT10eXBlb2YgZS50Y3Bwb3J0JiZcIlwiIT09ZS50Y3Bwb3J0JiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLmNyZWRlbnRpYWwsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6KGUudXNlVHVybnM/XCJ0dXJuczpcIjpcInR1cm46XCIpK2UudXJsK1wiOlwiK2UudGNwcG9ydCtcIj90cmFuc3BvcnQ9dGNwXCJ9KSwhMD09PWUuZm9yY2V0dXJuJiYodC5wY19jb25maWcuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSk6dS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB0dXJuU2VydmVycyBpcyBub3QgYSBhcnJheVwiKSkpKSx2b2lkIDA9PT1lLmF1ZGlvJiYoZS5hdWRpbz0hMCksdm9pZCAwPT09ZS52aWRlbyYmKGUudmlkZW89ITApLHQubWVkaWFDb25zdHJhaW50cz17bWFuZGF0b3J5OntPZmZlclRvUmVjZWl2ZVZpZGVvOmUudmlkZW8sT2ZmZXJUb1JlY2VpdmVBdWRpbzplLmF1ZGlvfX0sdC5yb2FwU2Vzc2lvbklkPTEwMzt0cnl7dC5wY19jb25maWcuc2RwU2VtYW50aWNzPU9iamVjdChmLmdldFBhcmFtZXRlcikoXCJQTEFOXCIpLHQucGVlckNvbm5lY3Rpb249bmV3IG4odC5wY19jb25maWcsdC5jb24pfWNhdGNoKGUpe2RlbGV0ZSB0LnBjX2NvbmZpZy5zZHBTZW1hbnRpY3MsdC5wZWVyQ29ubmVjdGlvbj1uZXcgbih0LnBjX2NvbmZpZyx0LmNvbik7dmFyIGg9dC5wZWVyQ29ubmVjdGlvbi5nZXRDb25maWd1cmF0aW9uKCk7aC5zZHBTZW1hbnRpY3MmJk9iamVjdChmLnNldFBhcmFtZXRlcikoXCJQTEFOXCIsaC5zZHBTZW1hbnRpY3MpfXQuaWNlQ2FuZGlkYXRlVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmljZUNhbmRpZGF0ZVRpbWVyPW51bGwsdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXUNhbmRpZGF0ZXMgY29sbGVjdGVkOiBcIikuY29uY2F0KHQuaWNlQ2FuZGlkYXRlQ291bnQpKSx0Lm1vcmVJY2VDb21pbmcmJih0Lm1vcmVJY2VDb21pbmc9ITEsdC5tYXJrQWN0aW9uTmVlZGVkKCkpfSksT2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIkNBTkRJREFURV9USU1FT1VUXCIpKSx0LnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvO3I9KG49dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCkubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzc3JmbHguK1xcclxcbi8pLGk9bi5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNob3N0LitcXHJcXG4vKSxvPW4ubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzcmVsYXkuK1xcclxcbi8pLG51bGw9PT1yJiZudWxsPT09aSYmbnVsbD09PW98fHZvaWQgMCE9PXQuaWNlfHwhdC5pY2VDYW5kaWRhdGVUaW1lcnx8KGNsZWFyVGltZW91dCh0LmljZUNhbmRpZGF0ZVRpbWVyKSx0LmljZUNhbmRpZGF0ZVRpbWVyPW51bGwsdC5pY2U9MCx0Lm1vcmVJY2VDb21pbmc9ITEsdC5tYXJrQWN0aW9uTmVlZGVkKCkpLHQuaWNlQ2FuZGlkYXRlQ291bnQ9dC5pY2VDYW5kaWRhdGVDb3VudCsxfTt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoXCJhPXgtZ29vZ2xlLWZsYWc6Y29uZmVyZW5jZVxcclxcblwiLFwiXCIpfSxFPWZ1bmN0aW9uKG4pe3ZhciByLGk7aWYoKHI9bi5tYXRjaCgvbT12aWRlby4qXFxyXFxuLykpJiZlLm1pblZpZGVvQlcmJmUubWF4VmlkZW9CVyl7aT1yWzBdK1wiYj1BUzpcIitlLm1heFZpZGVvQlcrXCJcXHJcXG5cIjt2YXIgbz0wLGE9MDtcImgyNjRcIj09PWUuY29kZWM/KG89bi5zZWFyY2goL2E9cnRwbWFwOihcXGQrKSBIMjY0XFwvOTAwMDBcXHJcXG4vKSxhPW4uc2VhcmNoKC9IMjY0XFwvOTAwMDBcXHJcXG4vKSk6XCJ2cDhcIj09PWUuY29kZWM/KG89bi5zZWFyY2goL2E9cnRwbWFwOihcXGQrKSBWUDhcXC85MDAwMFxcclxcbi8pLGE9bi5zZWFyY2goL1ZQOFxcLzkwMDAwXFxyXFxuLykpOlwidnA5XCI9PT1lLmNvZGVjJiYobz1uLnNlYXJjaCgvYT1ydHBtYXA6KFxcZCspIFZQOVxcLzkwMDAwXFxyXFxuLyksYT1uLnNlYXJjaCgvVlA5XFwvOTAwMDBcXHJcXG4vKSksLTEhPT1vJiYtMSE9PWEmJmEtbz4xMCYmKGk9aStcImE9Zm10cDpcIituLnNsaWNlKG8rOSxhLTEpK1wiIHgtZ29vZ2xlLW1pbi1iaXRyYXRlPVwiK2UubWluVmlkZW9CVytcIlxcclxcblwiKSxuPShuPW4ucmVwbGFjZShyWzBdLGkpKS5yZXBsYWNlKC80MjAwMWYvZyxcIjQyZTAxZlwiKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1TZXQgVmlkZW8gQml0cmF0ZSAtIG1pbjpcIitlLm1pblZpZGVvQlcrXCIgbWF4OlwiK2UubWF4VmlkZW9CVyl9cmV0dXJuKHI9bi5tYXRjaCgvbT1hdWRpby4qXFxyXFxuLykpJiZlLm1heEF1ZGlvQlcmJihpPXJbMF0rXCJiPUFTOlwiK2UubWF4QXVkaW9CVytcIlxcclxcblwiLG49bi5yZXBsYWNlKHJbMF0saSkpLG59O3QucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2U9ZnVuY3Rpb24obil7dmFyIHIsaT1KU09OLnBhcnNlKG4pO3QuaW5jb21pbmdNZXNzYWdlPWksXCJuZXdcIj09PXQuc3RhdGU/XCJPRkZFUlwiPT09aS5tZXNzYWdlVHlwZT8ocj17c2RwOmkuc2RwLHR5cGU6XCJvZmZlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24ocikpLmNhdGNoKChmdW5jdGlvbihlKXt9KSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkXCIsdC5tYXJrQWN0aW9uTmVlZGVkKCkpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK2kubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSk6XCJvZmZlci1zZW50XCI9PT10LnN0YXRlP1wiQU5TV0VSXCI9PT1pLm1lc3NhZ2VUeXBlPygocj17c2RwOmkuc2RwLHR5cGU6XCJhbnN3ZXJcIn0pLnNkcD12KHIuc2RwKSxyLnNkcD1FKHIuc2RwKSxlLnNjcmVlbiYmXCJkZXRhaWxcIj09PWUub3B0aW1pemF0aW9uTW9kZSYmKHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnQsXCJdIHJlbW92ZSBzY3JlZW4gc2hhcmUgYWJzIGV4dFwiKSksci5zZHA9ci5zZHAucmVwbGFjZSgvYT0uKmFicy1zZW5kLXRpbWVcXHJcXG4vZyxcIlwiKS5yZXBsYWNlKC9hPS4qZ29vZy1yZW1iXFxyXFxuL2csXCJcIikpLGUuaXNTdWJzY3JpYmVyJiYoci5zZHA9ci5zZHAucmVwbGFjZShcIm1pbnB0aW1lPTEwXCIsXCJtaW5wdGltZT0xMDtzdGVyZW89MTsgc3Byb3Atc3RlcmVvPTFcIikpLHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihyKSkuY2F0Y2goKGZ1bmN0aW9uKGUpe30pKSx0LnN0YXRlPVwiZXN0YWJsaXNoZWRcIik6XCJwci1hbnN3ZXJcIj09PWkubWVzc2FnZVR5cGU/KHI9e3NkcDppLnNkcCx0eXBlOlwicHItYW5zd2VyXCJ9LHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihyKSkuY2F0Y2goKGZ1bmN0aW9uKGUpe30pKSk6XCJvZmZlclwiPT09aS5tZXNzYWdlVHlwZT90LmVycm9yKFwiTm90IHdyaXR0ZW4geWV0XCIpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK2kubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSk6XCJlc3RhYmxpc2hlZFwiPT09dC5zdGF0ZSYmKFwiT0ZGRVJcIj09PWkubWVzc2FnZVR5cGU/KHI9e3NkcDppLnNkcCx0eXBlOlwib2ZmZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHIpKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZFwiLHQubWFya0FjdGlvbk5lZWRlZCgpKTpcIkFOU1dFUlwiPT09aS5tZXNzYWdlVHlwZT8oKHI9e3NkcDppLnNkcCx0eXBlOlwiYW5zd2VyXCJ9KS5zZHA9dihyLnNkcCksci5zZHA9RShyLnNkcCksdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHIpKS5jYXRjaCgoZnVuY3Rpb24oZSl7fSkpKTp0LmVycm9yKFwiSWxsZWdhbCBtZXNzYWdlIGZvciB0aGlzIHN0YXRlOiBcIitpLm1lc3NhZ2VUeXBlK1wiIGluIHN0YXRlIFwiK3Quc3RhdGUpKX0sdC5zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dmFyIGU9ZCgpKHMuYS5tYXJrKChmdW5jdGlvbiBlKG4pe3ZhciByLGksbztyZXR1cm4gcy5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHI9dC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCksY29uc29sZS5sb2coXCJzZW5kZXJzXCIsciksaT1yLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUudHJhY2sua2luZH0pKSl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUuYWJydXB0KFwicmV0dXJuXCIpO2Nhc2UgNTpyZXR1cm4obz1pLmdldFBhcmFtZXRlcnMoKSkuZGVncmFkYXRpb25QcmVmZXJlbmNlPW4sZS5wcmV2PTcsdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBzZXRQYXJhbWV0ZXJzXCIpLG8pLGUubmV4dD0xMSxpLnNldFBhcmFtZXRlcnMobyk7Y2FzZSAxMTplLm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzplLnByZXY9MTMsZS50MD1lLmNhdGNoKDcpLHUuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gc2V0UGFyYW1ldGVycyBmYWlsZWQsIGlnbm9yZVwiKSk7Y2FzZSAxNjpjYXNlXCJlbmRcIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbNywxM11dKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCk7dmFyIFM9MCxfPTA7cmV0dXJuIHQuZ2V0VmlkZW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24oZSl7dC5nZXRTdGF0cygoZnVuY3Rpb24obil7bi5mb3JFYWNoKChmdW5jdGlvbihuKXtpZih0LmlzU3Vic2NyaWJlcil7aWYoXCJ2aWRlb1wiPT09bi5tZWRpYVR5cGUmJm4uaWQmJn5uLmlkLmluZGV4T2YoXCJyZWN2XCIpKXtpZihyLmlzQ2hyb21lS2VybmVsKCkmJityLmdldEJyb3dzZXJWZXJzaW9uKCk+PTc2KXt2YXIgaT0rbi5nb29nRnJhbWVzUmVjZWl2ZWQtUyxvPStuLmdvb2dGcmFtZXNEZWNvZGVkLV87dC5fc2V0U3RhdChnLFwiZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkXCIsaSksdC5fc2V0U3RhdChnLFwiZ29vZ0ZyYW1lUmF0ZURlY29kZWRcIixvKSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVSYXRlT3V0cHV0XCIsbyksUz0rbi5nb29nRnJhbWVzUmVjZWl2ZWQsXz0rbi5nb29nRnJhbWVzRGVjb2RlZH1lJiZlKHttZWRpYVR5cGU6XCJ2aWRlb1wiLHBlZXJJZDp0LnVpZCxpc1ZpZGVvTXV0ZTp0LmlzVmlkZW9NdXRlLGZyYW1lUmF0ZVJlY2VpdmVkOm4uZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkLGZyYW1lUmF0ZURlY29kZWQ6bi5nb29nRnJhbWVSYXRlRGVjb2RlZCxieXRlc1JlY2VpdmVkOm4uYnl0ZXNSZWNlaXZlZCxwYWNrZXRzUmVjZWl2ZWQ6bi5wYWNrZXRzUmVjZWl2ZWQscGFja2V0c0xvc3Q6bi5wYWNrZXRzTG9zdH0pfX1lbHNlXCJ2aWRlb1wiPT09bi5tZWRpYVR5cGUmJm4uaWQmJn5uLmlkLmluZGV4T2YoXCJzZW5kXCIpJiZlJiZlKHttZWRpYVR5cGU6XCJ2aWRlb1wiLGlzVmlkZW9NdXRlOnQuaXNWaWRlb011dGUsZnJhbWVSYXRlSW5wdXQ6bi5nb29nRnJhbWVSYXRlSW5wdXQsZnJhbWVSYXRlU2VudDpuLmdvb2dGcmFtZVJhdGVTZW50LGdvb2dSdHQ6bi5nb29nUnR0fSl9KSl9KSl9LHQuZ2V0QXVkaW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24oZSl7dC5nZXRTdGF0cygoZnVuY3Rpb24obil7bi5mb3JFYWNoKChmdW5jdGlvbihuKXt0LmlzU3Vic2NyaWJlciYmXCJhdWRpb1wiPT09bi5tZWRpYVR5cGUmJm4uaWQmJn5uLmlkLmluZGV4T2YoXCJyZWN2XCIpJiZlJiZlKHttZWRpYVR5cGU6XCJhdWRpb1wiLHBlZXJJZDp0LnVpZCxpc0F1ZGlvTXV0ZTp0LmlzQXVkaW9NdXRlLGZyYW1lRHJvcHBlZDpwYXJzZUludChuLmdvb2dEZWNvZGluZ1BMQykrcGFyc2VJbnQobi5nb29nRGVjb2RpbmdQTENDTkcpK1wiXCIsZnJhbWVSZWNlaXZlZDpuLmdvb2dEZWNvZGluZ0NUTixnb29nSml0dGVyUmVjZWl2ZWQ6bi5nb29nSml0dGVyUmVjZWl2ZWQsYnl0ZXNSZWNlaXZlZDpuLmJ5dGVzUmVjZWl2ZWQscGFja2V0c1JlY2VpdmVkOm4ucGFja2V0c1JlY2VpdmVkLHBhY2tldHNMb3N0Om4ucGFja2V0c0xvc3R9KX0pKX0pKX0sdC5nZXRTdGF0c1JhdGU9ZnVuY3Rpb24oZSl7dC5nZXRTdGF0cygoZnVuY3Rpb24odCl7ZSh0KX0pKX0sdC5nZXRTdGF0cz1mdW5jdGlvbihlLG4pe249KG49bnx8NTAwKT41MDA/NTAwOm4sdC5sYXN0VGltZUdldFN0YXRzJiZEYXRlLm5vdygpLXQubGFzdFRpbWVHZXRTdGF0czxuP2UmJmUodC5maWx0ZXJTdGF0c0NhY2hlLHQub3JpZ2luU3RhdHNDYWNoZSk6KHQubGFzdFRpbWVHZXRTdGF0cz1EYXRlLm5vdygpLHRoaXMuX2dldFN0YXRzKChmdW5jdGlvbihuLHIpe3QuZmlsdGVyU3RhdHNDYWNoZT1uLHQub3JpZ2luU3RhdHNDYWNoZT1yLGUmJmUobixyKX0pKSl9LHQuX3NldFN0YXQ9ZnVuY3Rpb24oZSx0LG4pe2UuaGFzT3duUHJvcGVydHkodCkmJihudWxsIT1uJiZuIT09MS8wJiZuPT1ufHwobj0wKSxlW3RdPW4rXCJcIil9LHQuX3Byb2Nlc3NHZXRTdGF0c0FmdGVyQ2hyb21lNzY9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0Lmxhc3RTdGF0c3x8KHQubGFzdFN0YXRzPW5ldyBNYXApLHQucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbihyKXt2YXIgcyxkPVtdLHU9W10sbD1uZXcgTWFwLGY9bmV3IERhdGUsaD1wKHIudmFsdWVzKCkpO3RyeXtmb3IoaC5zKCk7IShzPWgubigpKS5kb25lOyl7dmFyIHY9cy52YWx1ZTtcImNvZGVjXCIhPXYudHlwZT9cImNhbmRpZGF0ZS1wYWlyXCIhPXYudHlwZT8oXCJpbmJvdW5kLXJ0cFwiPT09di50eXBlJiZcInZpZGVvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJpbmJvdW5kLXZpZGVvXCIsdiksXCJpbmJvdW5kLXJ0cFwiPT09di50eXBlJiZcImF1ZGlvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJpbmJvdW5kLWF1ZGlvXCIsdiksXCJvdXRib3VuZC1ydHBcIj09PXYudHlwZSYmXCJhdWRpb1wiPT09di5tZWRpYVR5cGUmJmwuc2V0KFwib3V0Ym91bmQtYXVkaW9cIix2KSxcIm91dGJvdW5kLXJ0cFwiPT09di50eXBlJiZcInZpZGVvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJvdXRib3VuZC12aWRlb1wiLHYpLFwidHJhY2tcIj09PXYudHlwZSYmXCJ2aWRlb1wiPT09di5raW5kJiZ2LnJlbW90ZVNvdXJjZSYmbC5zZXQoXCJyZW1vdGUtdmlkZW8tdHJhY2tcIix2KSxcInRyYWNrXCI9PT12LnR5cGUmJlwiYXVkaW9cIj09PXYua2luZCYmdi5yZW1vdGVTb3VyY2UmJmwuc2V0KFwicmVtb3RlLWF1ZGlvLXRyYWNrXCIsdiksXCJyZW1vdGUtaW5ib3VuZC1ydHBcIj09PXYudHlwZSYmXCJ2aWRlb1wiPT09di5tZWRpYVR5cGUmJmwuc2V0KFwicmVtb3RlLWluYm91bmQtdmlkZW9cIix2KSxcInJlbW90ZS1pbmJvdW5kLXJ0cFwiPT09di50eXBlJiZcImF1ZGlvXCI9PT12Lm1lZGlhVHlwZSYmbC5zZXQoXCJyZW1vdGUtaW5ib3VuZC1hdWRpb1wiLHYpLFwidHJhY2tcIiE9PXYudHlwZXx8XCJ2aWRlb1wiIT09di5raW5kfHx2LnJlbW90ZVNvdXJjZXx8bC5zZXQoXCJsb2NhbC12aWRlby10cmFja1wiLHYpLFwidHJhY2tcIiE9PXYudHlwZXx8XCJhdWRpb1wiIT09di5raW5kfHx2LnJlbW90ZVNvdXJjZXx8bC5zZXQoXCJsb2NhbC1hdWRpby10cmFja1wiLHYpLFwibWVkaWEtc291cmNlXCI9PT12LnR5cGUmJlwidmlkZW9cIj09PXYua2luZCYmbC5zZXQoXCJtZWRpYS1zb3VyY2UtdmlkZW9cIix2KSxcIm1lZGlhLXNvdXJjZVwiPT09di50eXBlJiZcImF1ZGlvXCI9PT12LmtpbmQmJmwuc2V0KFwibWVkaWEtc291cmNlLWF1ZGlvXCIsdikpOnUucHVzaCh2KTpkLnB1c2godil9fWNhdGNoKGUpe2guZShlKX1maW5hbGx5e2guZigpfWwuc2V0KFwiY29kZWNcIixkKSxsLnNldChcImNhbmRpZGF0ZVBhaXJzXCIsdSksbC5zZXQoXCJ0aW1lc3RhbXBcIiwrZik7dmFyIEU9bnVsbCxTPW51bGw7aWYoZy50aW1lc3RhbXA9ZixjLnRpbWVzdGFtcD1mLGkudGltZXN0YW1wPWYsaS50aW1lc3RhbXA9ZixtLnRpbWVzdGFtcD1mLG4uaXNTdWJzY3JpYmVyKShFPWwuZ2V0KFwiaW5ib3VuZC12aWRlb1wiKSkmJih0Ll9zZXRTdGF0KGcsXCJpZFwiLFwiaW5ib3VuZF92aWRlb19zc3JjX3JlY3ZcIiksdC5fc2V0U3RhdChnLFwibWVkaWFUeXBlXCIsRS5tZWRpYVR5cGUpLHQuX3NldFN0YXQoZyxcInBhY2tldHNMb3N0XCIsRS5wYWNrZXRzTG9zdCksdC5fc2V0U3RhdChnLFwiZ29vZ0RlY29kZU1zXCIsbnVsbCksdC5fc2V0U3RhdChnLFwiZ29vZ01heERlY29kZU1zXCIsbnVsbCksdC5fc2V0U3RhdChnLFwiZ29vZ1JlbmRlckRlbGF5TXNcIixudWxsKSx0Ll9zZXRTdGF0KGcsXCJnb29nTWluUGxheW91dERlbGF5TXNcIixudWxsKSx0Ll9zZXRTdGF0KGcsXCJnb29nTmFja3NTZW50XCIsRS5uYWNrQ291bnQpLHQuX3NldFN0YXQoZyxcImdvb2dQbGlzU2VudFwiLEUucGxpQ291bnQpLHQuX3NldFN0YXQoZyxcImdvb2dGaXJzU2VudFwiLEUuZmlyQ291bnQpLHQuX3NldFN0YXQoZyxcImJ5dGVzUmVjZWl2ZWRcIixFLmJ5dGVzUmVjZWl2ZWQpLHQuX3NldFN0YXQoZyxcInBhY2tldHNSZWNlaXZlZFwiLEUucGFja2V0c1JlY2VpdmVkKSksKEU9bC5nZXQoXCJpbmJvdW5kLWF1ZGlvXCIpKSYmKHQuX3NldFN0YXQoYyxcImlkXCIsXCJpbmJvdW5kX2F1ZGlvX3NzcmNfcmVjdlwiKSx0Ll9zZXRTdGF0KGMsXCJtZWRpYVR5cGVcIixFLm1lZGlhVHlwZSksdC5fc2V0U3RhdChjLFwiYnl0ZXNSZWNlaXZlZFwiLEUuYnl0ZXNSZWNlaXZlZCksdC5fc2V0U3RhdChjLFwicGFja2V0c0xvc3RcIixFLnBhY2tldHNMb3N0KSx0Ll9zZXRTdGF0KGMsXCJwYWNrZXRzUmVjZWl2ZWRcIixFLnBhY2tldHNSZWNlaXZlZCksdC5fc2V0U3RhdChjLFwiZ29vZ0FjY2VsZXJhdGVSYXRlXCIsRS5yZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbiksdC5fc2V0U3RhdChjLFwiZ29vZ0N1cnJlbnREZWxheU1zXCIsRS5qaXR0ZXJCdWZmZXJEZWxheSksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nQ05HXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nQ1ROXCIsbnVsbCksdC5fc2V0U3RhdChjLFwiZ29vZ0RlY29kaW5nQ1RTR1wiLG51bGwpLHQuX3NldFN0YXQoYyxcImdvb2dEZWNvZGluZ05vcm1hbFwiLG51bGwpLHQuX3NldFN0YXQoYyxcImdvb2dEZWNvZGluZ1BMQ1wiLG51bGwpLHQuX3NldFN0YXQoYyxcImdvb2dEZWNvZGluZ1BMQ0NOR1wiLG51bGwpLHQuX3NldFN0YXQoYyxcImdvb2dKaXR0ZXJSZWNlaXZlZFwiLEUuaml0dGVyKSx0Ll9zZXRTdGF0KGMsXCJnb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXNcIixudWxsKSx0Ll9zZXRTdGF0KGMsXCJnb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGVcIixudWxsKSksKEU9bC5nZXQoXCJyZW1vdGUtdmlkZW8tdHJhY2tcIikpJiYodC5fc2V0U3RhdChnLFwiZ29vZ1RhcmdldERlbGF5TXNcIixFLmppdHRlckJ1ZmZlckRlbGF5KSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVXaWR0aFJlY2VpdmVkXCIsRS5mcmFtZVdpZHRoKSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVIZWlnaHRSZWNlaXZlZFwiLEUuZnJhbWVIZWlnaHQpLHQuX3NldFN0YXQoZyxcImdvb2dKaXR0ZXJCdWZmZXJNc1wiLEUuaml0dGVyQnVmZmVyRGVsYXkvRS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQqMWUzKSx0Ll9zZXRTdGF0KGcsXCJnb29nQ3VycmVudERlbGF5TXNcIixFLmppdHRlckJ1ZmZlckRlbGF5KSx0Ll9zZXRTdGF0KGcsXCJnb29nRnJhbWVzRGVjb2RlZFwiLEUuZnJhbWVzRGVjb2RlZCksdC5fc2V0U3RhdChnLFwiZ29vZ0ZyYW1lc1JlY2VpdmVkXCIsRS5mcmFtZXNSZWNlaXZlZCkpLChFPWwuZ2V0KFwicmVtb3RlLWF1ZGlvLXRyYWNrXCIpKSYmKHQuX3NldFN0YXQoYyxcImF1ZGlvT3V0cHV0TGV2ZWxcIiwzMjc2NypFLmF1ZGlvTGV2ZWwpLHQuX3NldFN0YXQoYyxcImdvb2dKaXR0ZXJCdWZmZXJNc1wiLEUuaml0dGVyQnVmZmVyRGVsYXkvRS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQqMWUzKSx0Ll9zZXRTdGF0KGMsXCJnb29nRXhwYW5kUmF0ZVwiLEUuY29uY2VhbGVkU2FtcGxlcyksdC5fc2V0U3RhdChjLFwiZ29vZ1ByZWVtcHRpdmVFeHBhbmRSYXRlXCIsRS5pbnNlcnRlZFNhbXBsZXNGb3JEZWNlbGVyYXRpb24pLHQuX3NldFN0YXQoYyxcImdvb2dTcGVlY2hFeHBhbmRSYXRlXCIsRS5zaWxlbnRDb25jZWFsZWRTYW1wbGVzKSk7ZWxzZXt2YXIgXz10Lmxhc3RTdGF0cy5nZXQoXCJ0aW1lc3RhbXBcIikseT10Lmxhc3RTdGF0cy5nZXQoXCJvdXRib3VuZC12aWRlb1wiKTtpZigoRT1sLmdldChcIm91dGJvdW5kLWF1ZGlvXCIpKSYmKHQuX3NldFN0YXQoaSxcImlkXCIsXCJvdXRib3VuZF9hdWRpb19zc3JjX3NlbmRcIiksdC5fc2V0U3RhdChpLFwibWVkaWFUeXBlXCIsRS5tZWRpYVR5cGUpLHQuX3NldFN0YXQoaSxcImFlY0RpdmVyZ2VudEZpbHRlckZyYWN0aW9uXCIsbnVsbCksdC5fc2V0U3RhdChpLFwiYnl0ZXNTZW50XCIsRS5ieXRlc1NlbnQpLHQuX3NldFN0YXQoaSxcInBhY2tldHNTZW50XCIsRS5wYWNrZXRzU2VudCksUz1FLnRyYW5zcG9ydElkKSxFPWwuZ2V0KFwib3V0Ym91bmQtdmlkZW9cIikpe2lmKHQuX3NldFN0YXQoYSxcImlkXCIsXCJvdXRib3VuZF92aWRlb19zc3JjX3NlbmRcIiksdC5fc2V0U3RhdChhLFwibWVkaWFUeXBlXCIsRS5tZWRpYVR5cGUpLHQuX3NldFN0YXQoYSxcImJ5dGVzU2VudFwiLEUuYnl0ZXNTZW50KSx0Ll9zZXRTdGF0KGEsXCJwYWNrZXRzU2VudFwiLEUucGFja2V0c1NlbnQpLHQuX3NldFN0YXQoYSxcImdvb2dBZGFwdGF0aW9uQ2hhbmdlc1wiLEUucXVhbGl0eUxpbWl0YXRpb25EdXJhdGlvbnMpLHQuX3NldFN0YXQoYSxcImdvb2dBdmdFbmNvZGVNc1wiLG51bGwpLHQuX3NldFN0YXQoYSxcImdvb2dFbmNvZGVVc2FnZVBlcmNlbnRcIixudWxsKSxTPUUudHJhbnNwb3J0SWQsRS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCYmeSYmeS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCl7dmFyIFI9KEUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQteS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCkvKCtuZXcgRGF0ZS1fKTt0Ll9zZXRTdGF0KG0sXCJnb29nVGFyZ2V0RW5jQml0cmF0ZVwiLE1hdGguZmxvb3IoOCpSKjFlMykpfWlmKEUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCYmeSYmeS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KXt2YXIgVD0oRS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50LXkucmV0cmFuc21pdHRlZEJ5dGVzU2VudCkvKCtuZXcgRGF0ZS1fKTt0Ll9zZXRTdGF0KG0sXCJnb29nUmV0cmFuc21pdEJpdHJhdGVcIixNYXRoLmZsb29yKDgqVCoxZTMpKX1pZihFLmJ5dGVzU2VudCYmeSYmeS5ieXRlc1NlbnQpe3ZhciBJPShFLmJ5dGVzU2VudC15LmJ5dGVzU2VudCkvKCtuZXcgRGF0ZS1fKTt0Ll9zZXRTdGF0KG0sXCJnb29nVHJhbnNtaXRCaXRyYXRlXCIsTWF0aC5mbG9vcig4KkkqMWUzKSksdC5fc2V0U3RhdChtLFwiZ29vZ0FjdHVhbEVuY0JpdHJhdGVcIixNYXRoLmZsb29yKDgqSSoxZTMpKX1pZihFLnRvdGFsUGFja2V0U2VuZERlbGF5JiZ5JiZ5LnRvdGFsUGFja2V0U2VuZERlbGF5KXt2YXIgYj0oRS50b3RhbFBhY2tldFNlbmREZWxheS15LnRvdGFsUGFja2V0U2VuZERlbGF5KS8oK25ldyBEYXRlLV8pO3QuX3NldFN0YXQobSxcImdvb2dCdWNrZXREZWxheVwiLE1hdGguZmxvb3IoMWUzKmIpKX19aWYoKEU9bC5nZXQoXCJyZW1vdGUtaW5ib3VuZC12aWRlb1wiKSkmJih0Ll9zZXRTdGF0KGEsXCJwYWNrZXRzTG9zdFwiLEUucGFja2V0c0xvc3QpLHQuX3NldFN0YXQoYSxcImdvb2dSdHRcIixFLnJvdW5kVHJpcFRpbWUpKSwoRT1sLmdldChcImxvY2FsLXZpZGVvLXRyYWNrXCIpKSYmKHQuX3NldFN0YXQoYSxcImdvb2dGcmFtZUhlaWdodFNlbnRcIixFLmZyYW1lSGVpZ2h0KSx0Ll9zZXRTdGF0KGEsXCJnb29nRnJhbWVXaWR0aFNlbnRcIixFLmZyYW1lV2lkdGgpLHZvaWQgMCE9PUUuZnJhbWVzUGVyU2Vjb25kJiZ0Ll9zZXRTdGF0KGEsXCJnb29nRnJhbWVSYXRlU2VudFwiLEUuZnJhbWVzUGVyU2Vjb25kKSksKEU9bC5nZXQoXCJsb2NhbC1hdWRpby10cmFja1wiKSkmJih0Ll9zZXRTdGF0KGksXCJnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NcIixFLmVjaG9SZXR1cm5Mb3NzKSx0Ll9zZXRTdGF0KGksXCJnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudFwiLEUuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkpLChFPWwuZ2V0KFwibWVkaWEtc291cmNlLXZpZGVvXCIpKSYmKHQuX3NldFN0YXQoYSxcImdvb2dGcmFtZUhlaWdodElucHV0XCIsRS5oZWlnaHQpLHQuX3NldFN0YXQoYSxcImdvb2dGcmFtZVdpZHRoSW5wdXRcIixFLndpZHRoKSx0Ll9zZXRTdGF0KGEsXCJnb29nRnJhbWVSYXRlSW5wdXRcIixFLmZyYW1lc1BlclNlY29uZCkpLChFPWwuZ2V0KFwibWVkaWEtc291cmNlLWF1ZGlvXCIpKSYmdC5fc2V0U3RhdChpLFwiYXVkaW9JbnB1dExldmVsXCIsMzI3NjcqRS50b3RhbEF1ZGlvRW5lcmd5KSwoRT1sLmdldChcImluYm91bmQtdmlkZW9cIikpJiYodC5fc2V0U3RhdChhLFwiZ29vZ0ZpcnNSZWNlaXZlZFwiLEUuZmlyQ291bnQpLHQuX3NldFN0YXQoYSxcImdvb2dOYWNrc1JlY2VpdmVkXCIsRS5uYWNrQ291bnQpLHQuX3NldFN0YXQoYSxcImdvb2dQbGlzUmVjZWl2ZWRcIixFLnBsaUNvdW50KSksUylsLmdldChcImNhbmRpZGF0ZVBhaXJzXCIpLm1hcCgoZnVuY3Rpb24oZSl7Uz09ZS50cmFuc3BvcnRJZCYmdC5fc2V0U3RhdChtLFwiZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGhcIixlLmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZSl9KSk7ZWxzZXt2YXIgQT1sLmdldChcImNhbmRpZGF0ZVBhaXJzXCIpWzBdO0EmJnQuX3NldFN0YXQobSxcImdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoXCIsQS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUpfX10Lmxhc3RTdGF0cz1sO3ZhciBPPVtvKCkoe30sYSksbygpKHt9LGkpLG8oKSh7fSxnKSxvKCkoe30sYyksbygpKHt9LG0pXTtPLnB1c2goe2lkOlwidGltZVwiLHN0YXJ0VGltZTp0LmNvbm5lY3RlZFRpbWUsdGltZXN0YW1wOm5ldyBEYXRlfSksZShPKX0pKX0sdC5fcHJvY2Vzc0dldFN0YXRzQmVmb3JlQ2hyb21lNzY9ZnVuY3Rpb24oZSl7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygoZnVuY3Rpb24obil7dmFyIHI9W10scz1bXSxkPW51bGw7T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTt0JiYocy5wdXNoKHQpLGQ9dC50aW1lc3RhbXAsXCJWaWRlb0J3ZVwiPT09dC50eXBlP209dDp0LmlkLmluZGV4T2YoXCJfc2VuZFwiKT4tMSYmXCJ2aWRlb1wiPT09dC5tZWRpYVR5cGU/YT10OnQuaWQuaW5kZXhPZihcIl9zZW5kXCIpPi0xJiZcImF1ZGlvXCI9PT10Lm1lZGlhVHlwZT9pPXQ6dC5pZC5pbmRleE9mKFwiX3JlY3ZcIik+LTEmJlwidmlkZW9cIj09PXQubWVkaWFUeXBlP2c9dDp0LmlkLmluZGV4T2YoXCJfcmVjdlwiKT4tMSYmXCJhdWRpb1wiPT09dC5tZWRpYVR5cGUmJihjPXQpKX0pKSwocj1bbygpKHt9LGEpLG8oKSh7fSxpKSxvKCkoe30sZyksbygpKHt9LGMpLG8oKSh7fSxtKV0pLnB1c2goe2lkOlwidGltZVwiLHN0YXJ0VGltZTp0LmNvbm5lY3RlZFRpbWUsdGltZXN0YW1wOmR8fG5ldyBEYXRlfSksZShyLHMpfSkpfSx0Ll9nZXRTdGF0cz1mdW5jdGlvbihlKXtPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiQ0hST01FX05FV19TVEFUU1wiKSYmci5pc0Nocm9tZUtlcm5lbCgpJiYrci5nZXRCcm93c2VyVmVyc2lvbigpPj03Nj90Ll9wcm9jZXNzR2V0U3RhdHNBZnRlckNocm9tZTc2KGUpOnQuX3Byb2Nlc3NHZXRTdGF0c0JlZm9yZUNocm9tZTc2KGUpfSx0LmFkZFRyYWNrPWZ1bmN0aW9uKGUsbil7aWYoXCJ1bmlmaWVkLXBsYW5cIj09PU9iamVjdChmLmdldFBhcmFtZXRlcikoXCJQTEFOXCIpKXt2YXIgcj1cImF1ZGlvXCI9PT1lLmtpbmQ/dC5fYXVkaW9TZW5kZXI6dC5fdmlkZW9TZW5kZXI7aWYocil7dmFyIGk9dC5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZW5kZXI9PT1yfSkpO3IucmVwbGFjZVRyYWNrKGUpLnRoZW4oKGZ1bmN0aW9uKCl7aS5kaXJlY3Rpb249XCJzZW5kcmVjdlwiLHQucmVuZWdvdGlhdGUoKX0pKX1lbHNlIHI9dC5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhlLG4pLFwiYXVkaW9cIj09PWUua2luZD90Ll9hdWRpb1NlbmRlcj1yOnQuX3ZpZGVvU2VuZGVyPXJ9ZWxzZSB0LnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKGUsbil9LHQucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSxuKXtpZihcInVuaWZpZWQtcGxhblwiPT09T2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlBMQU5cIikpe3ZhciByPXQucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VuZGVyLnRyYWNrPT09ZX0pKTtyJiYoci5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLHQucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soci5zZW5kZXIpKX1lbHNlIHQucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sodC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2s9PWV9KSkpfSx0LmFkZFN0cmVhbT1mdW5jdGlvbihlKXtcInVuaWZpZWQtcGxhblwiPT09T2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlBMQU5cIik/ZS5nZXRUcmFja3MoKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj10LnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKG4sZSk7XCJhdWRpb1wiPT09bi5raW5kP3QuX2F1ZGlvU2VuZGVyPXI6dC5fdmlkZW9TZW5kZXI9cn0pKToodC5wZWVyQ29ubmVjdGlvbi5hZGRTdHJlYW0oZSksdC5tYXJrQWN0aW9uTmVlZGVkKCkpfSx0LnJlbW92ZVN0cmVhbT1mdW5jdGlvbigpe3QubWFya0FjdGlvbk5lZWRlZCgpfSx0LmNsb3NlPWZ1bmN0aW9uKCl7dC5zdGF0ZT1cImNsb3NlZFwiLHQucGVlckNvbm5lY3Rpb24uY2xvc2UoKX0sdC5tYXJrQWN0aW9uTmVlZGVkPWZ1bmN0aW9uKCl7dC5hY3Rpb25OZWVkZWQ9ITAsdC5kb0xhdGVyKChmdW5jdGlvbigpe3Qub25zdGFibGVzdGF0ZSgpfSkpfSx0LmRvTGF0ZXI9ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwxKX0sdC5vbnN0YWJsZXN0YXRlPWZ1bmN0aW9uKCl7dmFyIG47aWYodC5hY3Rpb25OZWVkZWQpe2lmKFwibmV3XCI9PT10LnN0YXRlfHxcImVzdGFibGlzaGVkXCI9PT10LnN0YXRlKXQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIodC5tZWRpYUNvbnN0cmFpbnRzKS50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gbj9uLnNkcCE9PXQucHJldk9mZmVyPyhlLmlzU3Vic2NyaWJlciYmKG4uc2RwPW4uc2RwLnJlcGxhY2UoXCJtaW5wdGltZT0xMFwiLFwibWlucHRpbWU9MTA7c3RlcmVvPTE7IHNwcm9wLXN0ZXJlbz0xXCIpKSx0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdC5zdGF0ZT1cInByZXBhcmluZy1vZmZlclwiLHZvaWQgdC5tYXJrQWN0aW9uTmVlZGVkKCkpOnZvaWQgdS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdTm90IHNlbmRpbmcgYSBuZXcgb2ZmZXJcIik6KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXNlc3Npb25EZXNjcmlwdGlvbiBpcyBudWxsXCIpLHZvaWQgdC5vbnNpZ25hbGluZ21lc3NhZ2UobnVsbCkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1wZWVyIGNvbm5lY3Rpb24gY3JlYXRlIG9mZmVyIGZhaWxlZCBcIixlKX0pKTtlbHNlIGlmKFwicHJlcGFyaW5nLW9mZmVyXCI9PT10LnN0YXRlKXtpZih0Lm1vcmVJY2VDb21pbmcpcmV0dXJuO3QucHJldk9mZmVyPXQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHAsdC5vZmZlckNhbmRpZGF0ZXM9dC5wcmV2T2ZmZXIubWF0Y2goL2E9Y2FuZGlkYXRlLitcXHJcXG4vZyl8fFtdLHQub2ZmZXJDYW5kaWRhdGVzLmxlbmd0aHx8KGUuaXNDbG91ZFByb3h5MyYmZS5vbk5vSWNlQ2FuZGlkYXRlJiZlLm9uTm9JY2VDYW5kaWRhdGUoKSx1LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1ObyBJY2UgQ2FuZGlkYXRlIGdlbmVyYXRlZFwiKSksT2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlNISU1fQ0FORElEQVRFXCIpPyh1LmRlZmF1bHQuZGVidWcoXCJTaGltbWluZyBmYWtlIGNhbmRpZGF0ZVwiKSx0LnByZXZPZmZlcis9XCJhPWNhbmRpZGF0ZToyMjQzMjU1NDM1IDEgdWRwIDIxMjIxOTQ2ODcgMTkyLjE2OC4wLjEgMzAwMDAgdHlwIGhvc3QgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMVxcclxcblwiKTp1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdTm9uZSBJY2UgQ2FuZGlkYXRlIG5vdCBhbGxvd2VkXCIpKSksdC5wcmV2T2ZmZXI9dC5wcmV2T2ZmZXIucmVwbGFjZSgvYT1jYW5kaWRhdGU6Lit0eXBcXHNob3N0LitcXHJcXG4vZyxcImE9Y2FuZGlkYXRlOjIyNDMyNTU0MzUgMSB1ZHAgMjEyMjE5NDY4NyAxOTIuMTY4LjAuMSAzMDAwMCB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAxXFxyXFxuXCIpLHQuc2VuZE1lc3NhZ2UoXCJPRkZFUlwiLHQucHJldk9mZmVyKSx0LnN0YXRlPVwib2ZmZXItc2VudFwifWVsc2UgaWYoXCJvZmZlci1yZWNlaXZlZFwiPT09dC5zdGF0ZSl0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigoZnVuY3Rpb24oZSl7aWYodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZC1wcmVwYXJpbmctYW5zd2VyXCIsdC5pY2VTdGFydGVkKXQubWFya0FjdGlvbk5lZWRlZCgpO2Vsc2V7dmFyIG49bmV3IERhdGU7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdXCIrbi5nZXRUaW1lKCkrXCI6IFN0YXJ0aW5nIElDRSBpbiByZXNwb25kZXJcIiksdC5pY2VTdGFydGVkPSEwfX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1wZWVyIGNvbm5lY3Rpb24gY3JlYXRlIGFuc3dlciBmYWlsZWQgXCIsZSl9KSx0Lm1lZGlhQ29uc3RyYWludHMpO2Vsc2UgaWYoXCJvZmZlci1yZWNlaXZlZC1wcmVwYXJpbmctYW5zd2VyXCI9PT10LnN0YXRlKXtpZih0Lm1vcmVJY2VDb21pbmcpcmV0dXJuO249dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCx0LnNlbmRNZXNzYWdlKFwiQU5TV0VSXCIsbiksdC5zdGF0ZT1cImVzdGFibGlzaGVkXCJ9ZWxzZSB1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIERhemVkIGFuZCBjb25mdXNlZCBpbiBzdGF0ZSBcIikuY29uY2F0KHQuc3RhdGUsXCIsIHN0b3BwaW5nIGhlcmUnXCIpKTt0LmFjdGlvbk5lZWRlZD0hMX19LHQuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSxuKXt2YXIgcj17fTtyLm1lc3NhZ2VUeXBlPWUsci5zZHA9bixcIk9GRkVSXCI9PT1lPyhyLm9mZmVyZXJTZXNzaW9uSWQ9dC5zZXNzaW9uSWQsci5hbnN3ZXJlclNlc3Npb25JZD10Lm90aGVyU2Vzc2lvbklkLHIuc2VxPXQuc2VxdWVuY2VOdW1iZXIrPTEsci50aWVicmVha2VyPU1hdGguZmxvb3IoNDI5NDk2NzIzKk1hdGgucmFuZG9tKCkrMSkpOihyLm9mZmVyZXJTZXNzaW9uSWQ9dC5pbmNvbWluZ01lc3NhZ2Uub2ZmZXJlclNlc3Npb25JZCxyLmFuc3dlcmVyU2Vzc2lvbklkPXQuc2Vzc2lvbklkLHIuc2VxPXQuaW5jb21pbmdNZXNzYWdlLnNlcSksdC5vbnNpZ25hbGluZ21lc3NhZ2UoSlNPTi5zdHJpbmdpZnkocikpfSx0Ll9nZXRTZW5kZXI9ZnVuY3Rpb24oZSl7aWYodC5wZWVyQ29ubmVjdGlvbiYmdC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKXt2YXIgbj10LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjay5raW5kPT1lfSkpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LHQuaGFzU2VuZGVyPWZ1bmN0aW9uKGUpe3JldHVybiEhdC5fZ2V0U2VuZGVyKGUpfSx0LnJlcGxhY2VUcmFjaz1mdW5jdGlvbihlLG4scil7dmFyIGk9dC5fZ2V0U2VuZGVyKGUua2luZCk7aWYoIWkpe3JldHVybiByKFwiTk9fU0VOREVSX0ZPVU5EXCIpfXRyeXtpLnJlcGxhY2VUcmFjayhlKX1jYXRjaChlKXtyZXR1cm4gciYmcihlKX1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBuJiZuKCl9KSw1MCl9LHQuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3dcIkVycm9yIGluIFJvYXBPbkpzZXA6IFwiK2V9LHQuc2Vzc2lvbklkPXQucm9hcFNlc3Npb25JZCs9MSx0LnNlcXVlbmNlTnVtYmVyPTAsdC5hY3Rpb25OZWVkZWQ9ITEsdC5pY2VTdGFydGVkPSExLHQubW9yZUljZUNvbWluZz0hMCx0LmljZUNhbmRpZGF0ZUNvdW50PTAsdC5vbnNpZ25hbGluZ21lc3NhZ2U9ZS5jYWxsYmFjayx0LnBlZXJDb25uZWN0aW9uLm9udHJhY2s9ZnVuY3Rpb24oZSl7dC5vbmFkZHN0cmVhbSYmKHQub25hZGRzdHJlYW0oZSxcIm9udHJhY2tcIiksdC5wZWVyQ29ubmVjdGlvbi5vbmFkZHN0cmVhbT1udWxsKX0sdC5wZWVyQ29ubmVjdGlvbi5vbmFkZHN0cmVhbT1mdW5jdGlvbihlKXt0Lm9uYWRkc3RyZWFtJiYodC5vbmFkZHN0cmVhbShlLFwib25hZGRzdHJlYW1cIiksdC5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGwpfSx0LnBlZXJDb25uZWN0aW9uLm9ucmVtb3Zlc3RyZWFtPWZ1bmN0aW9uKGUpe3Qub25yZW1vdmVzdHJlYW0mJnQub25yZW1vdmVzdHJlYW0oZSl9LHQucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSksY29uc29sZS5sb2codC5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpLFwiY29ubmVjdGVkXCI9PT1lLmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlJiYodC5jb25uZWN0ZWRUaW1lPW5ldyBEYXRlKSx0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGUuY3VycmVudFRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUpfSx0LnJlbmVnb3RpYXRlPWZ1bmN0aW9uKCl7dm9pZCAwIT09dC5wcmV2T2ZmZXImJnQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm5cInVuaWZpZWQtcGxhblwiIT09T2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlBMQU5cIikmJihlLnNkcD1lLnNkcC5yZXBsYWNlKC9hPXJlY3Zvbmx5XFxyXFxuL2csXCJhPWluYWN0aXZlXFxyXFxuXCIpKSxlLnNkcD12KGUuc2RwKSxlLnNkcD1FKGUuc2RwKSx0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt0Lm9ubmVnb3RpYXRpb25uZWVkZWQmJnQub25uZWdvdGlhdGlvbm5lZWRlZCh0LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJjcmVhdGVPZmZlciBlcnJvcjogXCIsZSl9KSl9LHQucGVlckNvbm5lY3Rpb24ub25uZWdvdGlhdGlvbm5lZWRlZD10LnJlbmVnb3RpYXRlLHQub25hZGRzdHJlYW09bnVsbCx0Lm9ucmVtb3Zlc3RyZWFtPW51bGwsdC5vbm5lZ290aWF0aW9ubmVlZGVkPW51bGwsdC5zdGF0ZT1cIm5ld1wiLHQubWFya0FjdGlvbk5lZWRlZCgpLHR9LGg9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1sLlJUQ1BlZXJDb25uZWN0aW9uO3QudWlkPWUudWlkLHQuaXNWaWRlb011dGU9ZS5pc1ZpZGVvTXV0ZSx0LmlzQXVkaW9NdXRlPWUuaXNBdWRpb011dGUsdC5pc1N1YnNjcmliZXI9ZS5pc1N1YnNjcmliZXIsdC5jbGllbnRJZD1lLmNsaWVudElkLHQuZmlsdGVyU3RhdHNDYWNoZT1bXSx0Lm9yaWdpblN0YXRzQ2FjaGU9W10sdC5sYXN0VGltZUdldFN0YXRzPW51bGwsdC5wY19jb25maWc9e2ljZVNlcnZlcnM6W10sYnVuZGxlUG9saWN5OlwibWF4LWJ1bmRsZVwifSx0LmNvbj17b3B0aW9uYWw6W3tEdGxzU3J0cEtleUFncmVlbWVudDohMH1dfSxlLmljZVNlcnZlcnMgaW5zdGFuY2VvZiBBcnJheT90LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczooZS5zdHVuU2VydmVyVXJsJiYoZS5zdHVuU2VydmVyVXJsIGluc3RhbmNlb2YgQXJyYXk/ZS5zdHVuU2VydmVyVXJsLm1hcCgoZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiXCIhPT1lJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplfSl9KSk6XCJzdHJpbmdcIj09dHlwZW9mIGUuc3R1blNlcnZlclVybCYmXCJcIiE9PWUuc3R1blNlcnZlclVybCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmw6ZS5zdHVuU2VydmVyVXJsfSkpLGUudHVyblNlcnZlcnMmJihlLnR1cm5TZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXk/ZS50dXJuU2VydmVycy5tYXAoKGZ1bmN0aW9uKGUpe2UudWRwcG9ydCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOihlLnVzZVR1cm5zP1widHVybnM6XCI6XCJ0dXJuOlwiKStlLnVybCtcIjpcIitlLnVkcHBvcnQrXCI/dHJhbnNwb3J0PXVkcFwifSksXCJzdHJpbmdcIj09dHlwZW9mIGUudGNwcG9ydCYmXCJcIiE9PWUudGNwcG9ydCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOihlLnVzZVR1cm5zP1widHVybnM6XCI6XCJ0dXJuOlwiKStlLnVybCtcIjpcIitlLnRjcHBvcnQrXCI/dHJhbnNwb3J0PXRjcFwifSksITA9PT1lLmZvcmNldHVybiYmKHQucGNfY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpOnUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gdHVyblNlcnZlcnMgaXMgbm90IGEgYXJyYXlcIikpKSksdm9pZCAwPT09ZS5hdWRpbyYmKGUuYXVkaW89ITApLHZvaWQgMD09PWUudmlkZW8mJihlLnZpZGVvPSEwKSx0Lm1lZGlhQ29uc3RyYWludHM9e21hbmRhdG9yeTp7T2ZmZXJUb1JlY2VpdmVWaWRlbzplLnZpZGVvLE9mZmVyVG9SZWNlaXZlQXVkaW86ZS5hdWRpb319LHQucm9hcFNlc3Npb25JZD0xMDM7dHJ5e3QucGNfY29uZmlnLnNkcFNlbWFudGljcz1PYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiUExBTlwiKSx0LnBlZXJDb25uZWN0aW9uPW5ldyBuKHQucGNfY29uZmlnLHQuY29uKX1jYXRjaChlKXtkZWxldGUgdC5wY19jb25maWcuc2RwU2VtYW50aWNzLHQucGVlckNvbm5lY3Rpb249bmV3IG4odC5wY19jb25maWcsdC5jb24pfXQuaWNlQ2FuZGlkYXRlVGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmljZUNhbmRpZGF0ZVRpbWVyPW51bGwsdC5tb3JlSWNlQ29taW5nJiYodC5tb3JlSWNlQ29taW5nPSExLHQubWFya0FjdGlvbk5lZWRlZCgpKX0pLE9iamVjdChmLmdldFBhcmFtZXRlcikoXCJDQU5ESURBVEVfVElNRU9VVFwiKSksdC5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXt2YXIgbixyLGksbztyPShuPXQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHApLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc3NyZmx4LitcXHJcXG4vKSxpPW4ubWF0Y2goL2E9Y2FuZGlkYXRlOi4rdHlwXFxzaG9zdC4rXFxyXFxuLyksbz1uLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc3JlbGF5LitcXHJcXG4vKSwwPT09dC5pY2VDYW5kaWRhdGVDb3VudCYmKHQudGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QubW9yZUljZUNvbWluZyYmKHQubW9yZUljZUNvbWluZz0hMSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSl9KSwxZTMpKSxudWxsPT09ciYmbnVsbD09PWkmJm51bGw9PT1vfHx2b2lkIDAhPT10LmljZXx8IXQuaWNlQ2FuZGlkYXRlVGltZXJ8fChjbGVhclRpbWVvdXQodC5pY2VDYW5kaWRhdGVUaW1lciksdC5pY2VDYW5kaWRhdGVUaW1lcj1udWxsLHQuaWNlPTAsdC5tb3JlSWNlQ29taW5nPSExLHQubWFya0FjdGlvbk5lZWRlZCgpKSx0LmljZUNhbmRpZGF0ZUNvdW50PXQuaWNlQ2FuZGlkYXRlQ291bnQrMX07dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIGUuc2NyZWVuJiYodD10LnJlcGxhY2UoXCJhPXgtZ29vZ2xlLWZsYWc6Y29uZmVyZW5jZVxcclxcblwiLFwiXCIpKSx0fSxpPWZ1bmN0aW9uKG4pe3ZhciByLGk7cmV0dXJuKHI9bi5tYXRjaCgvbT12aWRlby4qXFxyXFxuLykpJiZlLm1pblZpZGVvQlcmJmUubWF4VmlkZW9CVyYmKGk9clswXStcImI9QVM6XCIrZS5tYXhWaWRlb0JXK1wiXFxyXFxuXCIsbj1uLnJlcGxhY2UoclswXSxpKSx1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1TZXQgVmlkZW8gQml0cmF0ZSAtIG1pbjpcIitlLm1pblZpZGVvQlcrXCIgbWF4OlwiK2UubWF4VmlkZW9CVykpLChyPW4ubWF0Y2goL209YXVkaW8uKlxcclxcbi8pKSYmZS5tYXhBdWRpb0JXJiYoaT1yWzBdK1wiYj1BUzpcIitlLm1heEF1ZGlvQlcrXCJcXHJcXG5cIixuPW4ucmVwbGFjZShyWzBdLGkpKSxufTt0LnByb2Nlc3NTaWduYWxpbmdNZXNzYWdlPWZ1bmN0aW9uKG4pe3ZhciBvLGE9SlNPTi5wYXJzZShuKTt0LmluY29taW5nTWVzc2FnZT1hLFwibmV3XCI9PT10LnN0YXRlP1wiT0ZGRVJcIj09PWEubWVzc2FnZVR5cGU/KG89e3NkcDphLnNkcCx0eXBlOlwib2ZmZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG8pKSx0LnN0YXRlPVwib2ZmZXItcmVjZWl2ZWRcIix0Lm1hcmtBY3Rpb25OZWVkZWQoKSk6dC5lcnJvcihcIklsbGVnYWwgbWVzc2FnZSBmb3IgdGhpcyBzdGF0ZTogXCIrYS5tZXNzYWdlVHlwZStcIiBpbiBzdGF0ZSBcIit0LnN0YXRlKTpcIm9mZmVyLXNlbnRcIj09PXQuc3RhdGU/XCJBTlNXRVJcIj09PWEubWVzc2FnZVR5cGU/KChvPXtzZHA6YS5zZHAsdHlwZTpcImFuc3dlclwifSkuc2RwPXIoby5zZHApLG8uc2RwPWkoby5zZHApLG8uc2RwPW8uc2RwLnJlcGxhY2UoL2E9eC1nb29nbGUtZmxhZzpjb25mZXJlbmNlXFxyXFxuL2csXCJcIiksZS5zY3JlZW4mJlwiZGV0YWlsXCI9PT1lLm9wdGltaXphdGlvbk1vZGUmJih1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50LFwiXSByZW1vdmUgc2NyZWVuIHNoYXJlIGFicyBleHRcIikpLG8uc2RwPW8uc2RwLnJlcGxhY2UoL2E9LiphYnMtc2VuZC10aW1lXFxyXFxuL2csXCJcIikucmVwbGFjZSgvYT0uKmdvb2ctcmVtYlxcclxcbi9nLFwiXCIpKSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obykpLHQuc3RhdGU9XCJlc3RhYmxpc2hlZFwiKTpcInByLWFuc3dlclwiPT09YS5tZXNzYWdlVHlwZT8obz17c2RwOmEuc2RwLHR5cGU6XCJwci1hbnN3ZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG8pKSk6XCJvZmZlclwiPT09YS5tZXNzYWdlVHlwZT90LmVycm9yKFwiTm90IHdyaXR0ZW4geWV0XCIpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK2EubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSk6XCJlc3RhYmxpc2hlZFwiPT09dC5zdGF0ZSYmKFwiT0ZGRVJcIj09PWEubWVzc2FnZVR5cGU/KG89e3NkcDphLnNkcCx0eXBlOlwib2ZmZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG8pKSx0LnN0YXRlPVwib2ZmZXItcmVjZWl2ZWRcIix0Lm1hcmtBY3Rpb25OZWVkZWQoKSk6XCJBTlNXRVJcIj09PWEubWVzc2FnZVR5cGU/KChvPXtzZHA6YS5zZHAsdHlwZTpcImFuc3dlclwifSkuc2RwPXIoby5zZHApLG8uc2RwPWkoby5zZHApLHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihvKSkpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK2EubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSkpfSx0LnNldFJ0cFNlbmRlclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgZT1kKCkocy5hLm1hcmsoKGZ1bmN0aW9uIGUobil7cmV0dXJuIHMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0LmRlZ3JhZGF0aW9uPW47Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksdC5fc2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlPWQoKShzLmEubWFyaygoZnVuY3Rpb24gZShuKXt2YXIgcixpLG87cmV0dXJuIHMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLGk9ci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS50cmFjayYmXCJ2aWRlb1wiPT09ZS50cmFjay5raW5kfSkpKXtlLm5leHQ9NDticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA0OnJldHVybihvPWkuZ2V0UGFyYW1ldGVycygpKS5kZWdyYWRhdGlvblByZWZlcmVuY2U9bixlLnByZXY9Nix1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlcnNcIiksbyksZS5uZXh0PTEwLGkuc2V0UGFyYW1ldGVycyhvKTtjYXNlIDEwOmUubmV4dD0xNTticmVhaztjYXNlIDEyOmUucHJldj0xMixlLnQwPWUuY2F0Y2goNiksdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBzZXRQYXJhbWV0ZXJzIGZhaWxlZCwgaWdub3JlXCIpKTtjYXNlIDE1OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s2LDEyXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTt2YXIgbz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTpcIm9wdXNcIixhZWNEaXZlcmdlbnRGaWx0ZXJGcmFjdGlvbjpcIjBcIixhdWRpb0lucHV0TGV2ZWw6XCIwXCIsYnl0ZXNTZW50OlwiMFwiLHBhY2tldHNTZW50OlwiMFwiLGdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zczpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudDpcIjBcIn0sYT17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTplLmNvZGVjP2UuY29kZWMudG9VcHBlckNhc2UoKTpcIlwiLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nQWRhcHRhdGlvbkNoYW5nZXM6XCIwXCIsZ29vZ0F2Z0VuY29kZU1zOlwiMFwiLGdvb2dFbmNvZGVVc2FnZVBlcmNlbnQ6XCIwXCIsZ29vZ0ZpcnNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVIZWlnaHRTZW50OlwiMFwiLGdvb2dGcmFtZUhlaWdodElucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhJbnB1dDpcIjBcIixnb29nTmFja3NSZWNlaXZlZDpcIjBcIixnb29nUGxpc1JlY2VpdmVkOlwiMFwiLGdvb2dSdHQ6XCIwXCIsZ29vZ0ZyYW1lc0VuY29kZWQ6XCIwXCJ9LGM9e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGF1ZGlvT3V0cHV0TGV2ZWw6XCIwXCIsYnl0ZXNSZWNlaXZlZDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0FjY2VsZXJhdGVSYXRlOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nRGVjb2RpbmdDTkc6XCIwXCIsZ29vZ0RlY29kaW5nQ1ROOlwiMFwiLGdvb2dEZWNvZGluZ0NUU0c6XCIwXCIsZ29vZ0RlY29kaW5nTm9ybWFsOlwiMFwiLGdvb2dEZWNvZGluZ1BMQzpcIjBcIixnb29nRGVjb2RpbmdQTENDTkc6XCIwXCIsZ29vZ0V4cGFuZFJhdGU6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpcIjBcIixnb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGU6XCIwXCIsZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZTpcIjBcIixnb29nU3BlZWNoRXhwYW5kUmF0ZTpcIjBcIn0scD17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ1RhcmdldERlbGF5TXM6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIsZ29vZ0RlY29kZU1zOlwiMFwiLGdvb2dNYXhEZWNvZGVNczpcIjBcIixnb29nUmVuZGVyRGVsYXlNczpcIjBcIixnb29nRnJhbWVXaWR0aFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVSYXRlRGVjb2RlZDpcIjBcIixnb29nRnJhbWVSYXRlT3V0cHV0OlwiMFwiLGdvb2dGcmFtZXNEZWNvZGVkOlwiMFwiLGdvb2dGcmFtZVJlY2VpdmVkOlwiMFwiLGdvb2dKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nQ3VycmVudERlbGF5TXM6XCIwXCIsZ29vZ01pblBsYXlvdXREZWxheU1zOlwiMFwiLGdvb2dOYWNrc1NlbnQ6XCIwXCIsZ29vZ1BsaXNTZW50OlwiMFwiLGdvb2dGaXJzU2VudDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIn0sZz17aWQ6XCJid2Vmb3J2aWRlb1wiLHR5cGU6XCJWaWRlb0J3ZVwiLGdvb2dBdmFpbGFibGVTZW5kQmFuZHdpZHRoOlwiMFwiLGdvb2dBdmFpbGFibGVSZWNlaXZlQmFuZHdpZHRoOlwiMFwiLGdvb2dBY3R1YWxFbmNCaXRyYXRlOlwiMFwiLGdvb2dSZXRyYW5zbWl0Qml0cmF0ZTpcIjBcIixnb29nVGFyZ2V0RW5jQml0cmF0ZTpcIjBcIixnb29nQnVja2V0RGVsYXk6XCIwXCIsZ29vZ1RyYW5zbWl0Qml0cmF0ZTpcIjBcIn0sbT0wLGg9MCx2PTA7cmV0dXJuIHQuaXNSZW1vdGVWaWRlb1N0YXRzPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUuZnJhbWVIZWlnaHQmJmUuZnJhbWVXaWR0aCYmZS5yZW1vdGVTb3VyY2UpfSx0LmdldFZpZGVvUmVsYXRlZFN0YXRzPWZ1bmN0aW9uKG4pe3QucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbihyKXtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHQuaXNTdWJzY3JpYmVyKXt2YXIgaT17cGVlcklkOnQudWlkLG1lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6dC5pc1ZpZGVvTXV0ZX07aWYoXCJ0cmFja1wiPT09ci50eXBlJiYofnIuaWQuaW5kZXhPZihcInZpZGVvXCIpfHx+ci50cmFja0lkZW50aWZpZXIuaW5kZXhPZihcInZcIil8fHQuaXNSZW1vdGVWaWRlb1N0YXRzKHIpKSl7aWYoIXQubGFzdFJlcG9ydClyZXR1cm4gdm9pZCh0Lmxhc3RSZXBvcnQ9cik7aS5mcmFtZVJhdGVSZWNlaXZlZD1yLmZyYW1lc1JlY2VpdmVkLXQubGFzdFJlcG9ydC5mcmFtZXNSZWNlaXZlZCtcIlwiLGkuZnJhbWVSYXRlRGVjb2RlZD1yLmZyYW1lc0RlY29kZWQtdC5sYXN0UmVwb3J0LmZyYW1lc0RlY29kZWQrXCJcIix0Lmxhc3RSZXBvcnQ9cn1cImluYm91bmQtcnRwXCI9PT1yLnR5cGUmJn5yLmlkLmluZGV4T2YoXCJWaWRlb1wiKSYmKGkuYnl0ZXNSZWNlaXZlZD1yLmJ5dGVzUmVjZWl2ZWQrXCJcIixpLnBhY2tldHNSZWNlaXZlZD1yLnBhY2tldHNSZWNlaXZlZCtcIlwiLGkucGFja2V0c0xvc3Q9ci5wYWNrZXRzTG9zdCtcIlwiKSxuJiZuKGkpfWVsc2UgaWYoXCJvdXRib3VuZC1ydHBcIj09PXIudHlwZSYmfnIuaWQuaW5kZXhPZihcIlZpZGVvXCIpKXtpZighdC5sYXN0UmVwb3J0KXJldHVybiB2b2lkKHQubGFzdFJlcG9ydD1yKTtuJiZuKHttZWRpYVR5cGU6XCJ2aWRlb1wiLGlzVmlkZW9NdXRlOnQuaXNWaWRlb011dGUsZnJhbWVSYXRlSW5wdXQ6ZS5tYXhGcmFtZVJhdGUrXCJcIixmcmFtZVJhdGVTZW50OnIuZnJhbWVzRW5jb2RlZC10Lmxhc3RSZXBvcnQuZnJhbWVzRW5jb2RlZCtcIlwifSksdC5sYXN0UmVwb3J0PXJ9fSkpfSkpfSx0LmdldEF1ZGlvUmVsYXRlZFN0YXRzPWZ1bmN0aW9uKGUpe3QucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbihuKXtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QuaXNTdWJzY3JpYmVyJiZcImluYm91bmQtcnRwXCI9PT1uLnR5cGUmJn5uLmlkLmluZGV4T2YoXCJBdWRpb1wiKSYmZSYmZSh7cGVlcklkOnQudWlkLG1lZGlhVHlwZTpcImF1ZGlvXCIsaXNBdWRpb011dGU6dC5pc0F1ZGlvTXV0ZSxmcmFtZURyb3BwZWQ6bi5wYWNrZXRzTG9zdCtcIlwiLGZyYW1lUmVjZWl2ZWQ6bi5wYWNrZXRzUmVjZWl2ZWQrXCJcIixnb29nSml0dGVyUmVjZWl2ZWQ6bi5qaXR0ZXIrXCJcIixieXRlc1JlY2VpdmVkOm4uYnl0ZXNSZWNlaXZlZCtcIlwiLHBhY2tldHNSZWNlaXZlZDpuLnBhY2tldHNSZWNlaXZlZCtcIlwiLHBhY2tldHNMb3N0Om4ucGFja2V0c0xvc3QrXCJcIn0pfSkpfSkpfSx0LmdldFN0YXRzUmF0ZT1mdW5jdGlvbihlKXt0LmdldFN0YXRzKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wib3V0Ym91bmQtcnRwXCI9PT1lLnR5cGUmJlwidmlkZW9cIj09PWUubWVkaWFUeXBlJiZlLmdvb2dGcmFtZXNFbmNvZGVkJiYoZS5nb29nRnJhbWVSYXRlU2VudD1NYXRoLmNlaWwoKGUuZ29vZ0ZyYW1lc0VuY29kZWQtbSkvMykudG9TdHJpbmcoKSxtPWUuZ29vZ0ZyYW1lc0VuY29kZWQpLFwiaW5ib3VuZC1ydHBcIj09PWUudHlwZSYmLTEhPWUuaWQuaW5kZXhPZihcIjU1NTQzXCIpJiYoZS5nb29nRnJhbWVSYXRlUmVjZWl2ZWQmJihlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZD1NYXRoLmNlaWwoKGUuZ29vZ0ZyYW1lUmVjZWl2ZWQtdikvMykudG9TdHJpbmcoKSx2PWUuZ29vZ0ZyYW1lUmVjZWl2ZWQpLGUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQmJihlLmdvb2dGcmFtZVJhdGVEZWNvZGVkPU1hdGguY2VpbCgoZS5nb29nRnJhbWVzRGVjb2RlZC1oKS8zKS50b1N0cmluZygpLGg9ZS5nb29nRnJhbWVzRGVjb2RlZCkpfSkpLGUodCl9KSl9LHQuZ2V0U3RhdHM9ZnVuY3Rpb24oZSxuKXtuPShuPW58fDUwMCk+NTAwPzUwMDpuLHQubGFzdFRpbWVHZXRTdGF0cyYmRGF0ZS5ub3coKS10Lmxhc3RUaW1lR2V0U3RhdHM8bj9lJiZlKHQuZmlsdGVyU3RhdHNDYWNoZSx0Lm9yaWdpblN0YXRzQ2FjaGUpOnRoaXMuX2dldFN0YXRzKChmdW5jdGlvbihuLHIpe3QuZmlsdGVyU3RhdHNDYWNoZT1uLHQub3JpZ2luU3RhdHNDYWNoZT1yLHQubGFzdFRpbWVHZXRTdGF0cz1EYXRlLm5vdygpLGUmJmUobixyKX0pKX0sdC5fZ2V0U3RhdHM9ZnVuY3Rpb24obil7dmFyIHI9W107dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGkpe2kuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG47KHIucHVzaCh0KSxcIm91dGJvdW5kLXJ0cFwiPT09dC50eXBlJiZcImF1ZGlvXCI9PT10Lm1lZGlhVHlwZSYmKG8uaWQ9dC5pZCxvLnR5cGU9dC50eXBlLG8ubWVkaWFUeXBlPXQubWVkaWFUeXBlLG8uYnl0ZXNTZW50PXQuYnl0ZXNTZW50P3QuYnl0ZXNTZW50K1wiXCI6XCIwXCIsby5wYWNrZXRzU2VudD10LnBhY2tldHNTZW50P3QucGFja2V0c1NlbnQrXCJcIjpcIjBcIixlLmFnb3JhU3RyZWFtLmxvY2FsJiYoby5hdWRpb0lucHV0TGV2ZWw9TWF0aC5yb3VuZCgzMjc2NyplLmFnb3JhU3RyZWFtLmdldEF1ZGlvTGV2ZWwoKSkudG9TdHJpbmcoKSkpLFwib3V0Ym91bmQtcnRwXCI9PT10LnR5cGUmJlwidmlkZW9cIj09PXQubWVkaWFUeXBlKSYmKGEuaWQ9dC5pZCxhLnR5cGU9dC50eXBlLGEubWVkaWFUeXBlPXQubWVkaWFUeXBlLGEuYnl0ZXNTZW50PXQuYnl0ZXNTZW50P3QuYnl0ZXNTZW50K1wiXCI6XCIwXCIsYS5wYWNrZXRzU2VudD10LnBhY2tldHNTZW50P3QucGFja2V0c1NlbnQrXCJcIjpcIjBcIixhLmdvb2dQbGlzUmVjZWl2ZWQ9dC5wbGlDb3VudD90LnBsaUNvdW50K1wiXCI6XCIwXCIsYS5nb29nTmFja3NSZWNlaXZlZD10Lm5hY2tDb3VudD90Lm5hY2tDb3VudCtcIlwiOlwiMFwiLGEuZ29vZ0ZpcnNSZWNlaXZlZD10LmZpckNvdW50P3QuZmlyQ291bnQrXCJcIjpcIjBcIixhLmdvb2dGcmFtZXNFbmNvZGVkPXQuZnJhbWVzRW5jb2RlZD90LmZyYW1lc0VuY29kZWQrXCJcIjpcIjBcIiwobj1pLmdldCh0LnRyYWNrSWQpKSYmKGEuZ29vZ0ZyYW1lSGVpZ2h0U2VudD1uLmZyYW1lSGVpZ2h0JiZuLmZyYW1lSGVpZ2h0LnRvU3RyaW5nKCksYS5nb29nRnJhbWVXaWR0aFNlbnQ9bi5mcmFtZVdpZHRoJiZuLmZyYW1lV2lkdGgudG9TdHJpbmcoKSkpO1wiaW5ib3VuZC1ydHBcIiE9PXQudHlwZXx8LTE9PXQuaWQuaW5kZXhPZihcIjQ0NDQ0XCIpJiZcImF1ZGlvXCIhPT10Lm1lZGlhVHlwZXx8KGMuaWQ9dC5pZCxjLnR5cGU9dC50eXBlLGMubWVkaWFUeXBlPVwiYXVkaW9cIixjLnBhY2tldHNSZWNlaXZlZD10LnBhY2tldHNSZWNlaXZlZD90LnBhY2tldHNSZWNlaXZlZCtcIlwiOlwiMFwiLGMuYnl0ZXNSZWNlaXZlZD10LmJ5dGVzUmVjZWl2ZWQ/dC5ieXRlc1JlY2VpdmVkK1wiXCI6XCIwXCIsYy5wYWNrZXRzTG9zdD10LnBhY2tldHNMb3N0P3QucGFja2V0c0xvc3QrXCJcIjpcIjBcIixjLnBhY2tldHNSZWNlaXZlZD10LnBhY2tldHNSZWNlaXZlZD90LnBhY2tldHNSZWNlaXZlZCtcIlwiOlwiMFwiLGMuZ29vZ0ppdHRlclJlY2VpdmVkPXQuaml0dGVyP3Quaml0dGVyK1wiXCI6XCIwXCIsKG49aS5nZXQodC50cmFja0lkKSkmJihjLmF1ZGlvT3V0cHV0TGV2ZWw9bi5hdWRpb0xldmVsJiZNYXRoLnJvdW5kKDMyNzY3Km4uYXVkaW9MZXZlbCkudG9TdHJpbmcoKSksZS5hZ29yYVN0cmVhbS5sb2NhbHx8Yy5hdWRpb091dHB1dExldmVsfHwoYy5hdWRpb091dHB1dExldmVsPU1hdGgucm91bmQoMzI3NjcqZS5hZ29yYVN0cmVhbS5nZXRBdWRpb0xldmVsKCkpLnRvU3RyaW5nKCkpKTtcImluYm91bmQtcnRwXCIhPT10LnR5cGV8fC0xPT10LmlkLmluZGV4T2YoXCI1NTU0M1wiKSYmXCJ2aWRlb1wiIT09dC5tZWRpYVR5cGV8fChwLmlkPXQuaWQscC50eXBlPXQudHlwZSxwLm1lZGlhVHlwZT1cInZpZGVvXCIscC5wYWNrZXRzUmVjZWl2ZWQ9dC5wYWNrZXRzUmVjZWl2ZWQ/dC5wYWNrZXRzUmVjZWl2ZWQrXCJcIjpcIjBcIixwLmJ5dGVzUmVjZWl2ZWQ9dC5ieXRlc1JlY2VpdmVkP3QuYnl0ZXNSZWNlaXZlZCtcIlwiOlwiMFwiLHAucGFja2V0c0xvc3Q9dC5wYWNrZXRzTG9zdD90LnBhY2tldHNMb3N0K1wiXCI6XCIwXCIscC5nb29nSml0dGVyQnVmZmVyTXM9dC5qaXR0ZXI/dC5qaXR0ZXIrXCJcIjpcIjBcIixwLmdvb2dOYWNrc1NlbnQ9dC5uYWNrQ291bnQ/dC5uYWNrQ291bnQrXCJcIjpcIjBcIixwLmdvb2dQbGlzU2VudD10LnBsaUNvdW50P3QucGxpQ291bnQrXCJcIjpcIjBcIixwLmdvb2dGaXJzU2VudD10LmZpckNvdW50P3QuZmlyQ291bnQrXCJcIjpcIjBcIiwobj1pLmdldCh0LnRyYWNrSWQpKSYmKHAuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ9bi5mcmFtZUhlaWdodCYmbi5mcmFtZUhlaWdodC50b1N0cmluZygpLHAuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZD1uLmZyYW1lV2lkdGgmJm4uZnJhbWVXaWR0aC50b1N0cmluZygpLHAuZ29vZ0ZyYW1lUmVjZWl2ZWQ9bi5mcmFtZXNSZWNlaXZlZCYmbi5mcmFtZXNSZWNlaXZlZC50b1N0cmluZygpLHAuZ29vZ0ZyYW1lc0RlY29kZWQ9bi5mcmFtZXNEZWNvZGVkJiZuLmZyYW1lc0RlY29kZWQudG9TdHJpbmcoKSkpO1wiY2FuZGlkYXRlLXBhaXJcIj09PXQudHlwZSYmKDA9PXQuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlP2cuZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGg9dC5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUrXCJcIjpnLmdvb2dBdmFpbGFibGVSZWNlaXZlQmFuZHdpZHRoPXQuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlK1wiXCIpfSkpO3ZhciBzPVtnLG8sYSxjLHBdO3MucHVzaCh7aWQ6XCJ0aW1lXCIsc3RhcnRUaW1lOnQuY29ubmVjdGVkVGltZSx0aW1lc3RhbXA6bmV3IERhdGV9KSxuKHMscil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5lcnJvcihcIltcIit0LmNsaWVudElkK1wiXSBcIixlKX0pKX0sdC5hZGRUcmFjaz1mdW5jdGlvbihlLG4pe3QucGVlckNvbm5lY3Rpb24uYWRkVHJhY2soZSxuKX0sdC5yZW1vdmVUcmFjaz1mdW5jdGlvbihlLG4pe3ZhciByPXQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT1lfSkpO3IucmVwbGFjZVRyYWNrKG51bGwpLHQucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2socil9LHQuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJTYWZhcmlcIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpP2UuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZnVuY3Rpb24obil7cmV0dXJuIHQucGVlckNvbm5lY3Rpb24uYWRkVHJhY2sobixlKX0pKTp0LnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShlKSx0Lm1hcmtBY3Rpb25OZWVkZWQoKX0sdC5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oKXt0Lm1hcmtBY3Rpb25OZWVkZWQoKX0sdC5jbG9zZT1mdW5jdGlvbigpe3Quc3RhdGU9XCJjbG9zZWRcIix0LnBlZXJDb25uZWN0aW9uLmNsb3NlKCl9LHQubWFya0FjdGlvbk5lZWRlZD1mdW5jdGlvbigpe3QuYWN0aW9uTmVlZGVkPSEwLHQuZG9MYXRlcigoZnVuY3Rpb24oKXt0Lm9uc3RhYmxlc3RhdGUoKX0pKX0sdC5kb0xhdGVyPWZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMSl9LHQub25zdGFibGVzdGF0ZT1mdW5jdGlvbigpe3ZhciBuO2lmKHQuYWN0aW9uTmVlZGVkKXtpZihcIm5ld1wiPT09dC5zdGF0ZXx8XCJlc3RhYmxpc2hlZFwiPT09dC5zdGF0ZSl7aWYoZS5pc1N1YnNjcmliZXIpdC5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0LnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO3QucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIodC5tZWRpYUNvbnN0cmFpbnRzKS50aGVuKChmdW5jdGlvbihuKXtpZihuLnNkcD1pKG4uc2RwKSxlLmlzU3Vic2NyaWJlcnx8KG4uc2RwPW4uc2RwLnJlcGxhY2UoL2E9Lip2aWRlby1vcmllbnRhdGlvblxcclxcbi9nLFwiXCIpKSxuLnNkcCE9PXQucHJldk9mZmVyKXJldHVybiB0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdC5zdGF0ZT1cInByZXBhcmluZy1vZmZlclwiLHZvaWQgdC5tYXJrQWN0aW9uTmVlZGVkKCk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdTm90IHNlbmRpbmcgYSBuZXcgb2ZmZXJcIil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXBlZXIgY29ubmVjdGlvbiBjcmVhdGUgb2ZmZXIgZmFpbGVkIFwiLGUpfSkpfWVsc2UgaWYoXCJwcmVwYXJpbmctb2ZmZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47dC5wcmV2T2ZmZXI9dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcCx0Lm9mZmVyQ2FuZGlkYXRlcz10LnByZXZPZmZlci5tYXRjaCgvYT1jYW5kaWRhdGUuK1xcclxcbi9nKXx8W10sdC5vZmZlckNhbmRpZGF0ZXMubGVuZ3RofHwodS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdTm8gSWNlIENhbmRpZGF0ZSBnZW5lcmF0ZWRcIikpLGUuaXNDbG91ZFByb3h5MyYmZS5vbk5vSWNlQ2FuZGlkYXRlJiZlLm9uTm9JY2VDYW5kaWRhdGUoKSxPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiU0hJTV9DQU5ESURBVEVcIik/KHUuZGVmYXVsdC5kZWJ1ZyhcIlNoaW1taW5nIGZha2UgY2FuZGlkYXRlXCIpLHQucHJldk9mZmVyKz1cImE9Y2FuZGlkYXRlOjIyNDMyNTU0MzUgMSB1ZHAgMjEyMjE5NDY4NyAxOTIuMTY4LjAuMSAzMDAwMCB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAxXFxyXFxuXCIpOnUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1Ob25lIEljZSBDYW5kaWRhdGUgbm90IGFsbG93ZWRcIikpKSx0LnByZXZPZmZlcj10LnByZXZPZmZlci5yZXBsYWNlKC9hPWNhbmRpZGF0ZTouK3R5cFxcc2hvc3QuK1xcclxcbi9nLFwiYT1jYW5kaWRhdGU6MjI0MzI1NTQzNSAxIHVkcCAyMTIyMTk0Njg3IDE5Mi4xNjguMC4xIDMwMDAwIHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDFcXHJcXG5cIiksdC5zZW5kTWVzc2FnZShcIk9GRkVSXCIsdC5wcmV2T2ZmZXIpLHQuc3RhdGU9XCJvZmZlci1zZW50XCJ9ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkXCI9PT10LnN0YXRlKXQucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKChmdW5jdGlvbihlKXtpZih0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIix0LmljZVN0YXJ0ZWQpdC5tYXJrQWN0aW9uTmVlZGVkKCk7ZWxzZXt2YXIgbj1uZXcgRGF0ZTt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1cIituLmdldFRpbWUoKStcIjogU3RhcnRpbmcgSUNFIGluIHJlc3BvbmRlclwiKSx0LmljZVN0YXJ0ZWQ9ITB9fSksKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXBlZXIgY29ubmVjdGlvbiBjcmVhdGUgYW5zd2VyIGZhaWxlZCBcIixlKX0pLHQubWVkaWFDb25zdHJhaW50cyk7ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47bj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwLHQuc2VuZE1lc3NhZ2UoXCJBTlNXRVJcIixuKSx0LnN0YXRlPVwiZXN0YWJsaXNoZWRcIn1lbHNlIHQuZGVidWcoXCJEYXplZCBhbmQgY29uZnVzZWQgaW4gc3RhdGUgXCIrdC5zdGF0ZStcIiwgc3RvcHBpbmcgaGVyZVwiKTt0LmFjdGlvbk5lZWRlZD0hMX19LHQuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSxuKXt2YXIgcj17fTtyLm1lc3NhZ2VUeXBlPWUsci5zZHA9bixcIk9GRkVSXCI9PT1lPyhyLm9mZmVyZXJTZXNzaW9uSWQ9dC5zZXNzaW9uSWQsci5hbnN3ZXJlclNlc3Npb25JZD10Lm90aGVyU2Vzc2lvbklkLHIuc2VxPXQuc2VxdWVuY2VOdW1iZXIrPTEsci50aWVicmVha2VyPU1hdGguZmxvb3IoNDI5NDk2NzIzKk1hdGgucmFuZG9tKCkrMSkpOihyLm9mZmVyZXJTZXNzaW9uSWQ9dC5pbmNvbWluZ01lc3NhZ2Uub2ZmZXJlclNlc3Npb25JZCxyLmFuc3dlcmVyU2Vzc2lvbklkPXQuc2Vzc2lvbklkLHIuc2VxPXQuaW5jb21pbmdNZXNzYWdlLnNlcSksdC5vbnNpZ25hbGluZ21lc3NhZ2UoSlNPTi5zdHJpbmdpZnkocikpfSx0Ll9nZXRTZW5kZXI9ZnVuY3Rpb24oZSl7aWYodC5wZWVyQ29ubmVjdGlvbiYmdC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKXt2YXIgbj10LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFjay5raW5kPT1lfSkpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LHQuaGFzU2VuZGVyPWZ1bmN0aW9uKGUpe3JldHVybiEhdC5fZ2V0U2VuZGVyKGUpfSx0LnJlcGxhY2VUcmFjaz1mdW5jdGlvbihlLG4scil7dmFyIGk9dC5fZ2V0U2VuZGVyKGUua2luZCk7aWYoIWkpe3JldHVybiByKFwiTk9fU0VOREVSX0ZPVU5EXCIpfXRyeXtpLnJlcGxhY2VUcmFjayhlKX1jYXRjaChlKXtyZXR1cm4gciYmcihlKX1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBuJiZuKCl9KSw1MCl9LHQuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3dcIkVycm9yIGluIFJvYXBPbkpzZXA6IFwiK2V9LHQuc2Vzc2lvbklkPXQucm9hcFNlc3Npb25JZCs9MSx0LnNlcXVlbmNlTnVtYmVyPTAsdC5hY3Rpb25OZWVkZWQ9ITEsdC5pY2VTdGFydGVkPSExLHQubW9yZUljZUNvbWluZz0hMCx0LmljZUNhbmRpZGF0ZUNvdW50PTAsdC5vbnNpZ25hbGluZ21lc3NhZ2U9ZS5jYWxsYmFjayx0LnBlZXJDb25uZWN0aW9uLm9udHJhY2s9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCIhISEgb250cmFjaywgXCIsZS50cmFjay5raW5kLGUudHJhY2spLHQub25hZGRzdHJlYW0mJnQub25hZGRzdHJlYW0oZSxcIm9udHJhY2tcIil9LHQucGVlckNvbm5lY3Rpb24ub25yZW1vdmVzdHJlYW09ZnVuY3Rpb24oZSl7dC5vbnJlbW92ZXN0cmVhbSYmdC5vbnJlbW92ZXN0cmVhbShlKX0sdC5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImNvbm5lY3RlZFwiPT09ZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSYmKHQuY29ubmVjdGVkVGltZT1uZXcgRGF0ZSx0Ll9zZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKHQuZGVncmFkYXRpb24pKSx0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0Lm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGUuY3VycmVudFRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUpfSx0LnJlbmVnb3RpYXRlPWZ1bmN0aW9uKCl7dC5pc1N1YnNjcmliZXJ8fCh1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQudWlkLFwiXVwiKSxcInJlbmVnb3RpYXRpbmdcIiksdm9pZCAwIT09dC5wcmV2T2ZmZXImJnQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZHA9ZS5zZHAucmVwbGFjZSgvYT1yZWN2b25seVxcclxcbi9nLFwiYT1pbmFjdGl2ZVxcclxcblwiKSxlLnNkcD1yKGUuc2RwKSxlLnNkcD1pKGUuc2RwKSx0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KSkudGhlbigoZnVuY3Rpb24oKXt0Lm9ubmVnb3RpYXRpb25uZWVkZWQmJnQub25uZWdvdGlhdGlvbm5lZWRlZCh0LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJjcmVhdGVPZmZlciBlcnJvcjogXCIsZSl9KSkpfSx0LmlzU3Vic2NyaWJlcnx8KHQucGVlckNvbm5lY3Rpb24ub25uZWdvdGlhdGlvbm5lZWRlZD10LnJlbmVnb3RpYXRlKSx0Lm9uYWRkc3RyZWFtPW51bGwsdC5vbnJlbW92ZXN0cmVhbT1udWxsLHQuc3RhdGU9XCJuZXdcIix0Lm1hcmtBY3Rpb25OZWVkZWQoKSx0fTtmdW5jdGlvbiB2KGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIEUoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7XCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uKXJldHVybiBBcnJheS5mcm9tKG4pO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gRShlLHQpfShlKSkpe3ZhciB0PTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIHQ+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3QrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLGksbz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1lW1N5bWJvbC5pdGVyYXRvcl0oKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2E9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX19fWZ1bmN0aW9uIEUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgUz1mdW5jdGlvbihlKXt2YXIgdD17fSxuPShtb3pSVENQZWVyQ29ubmVjdGlvbixtb3pSVENTZXNzaW9uRGVzY3JpcHRpb24pLHI9ITE7dC51aWQ9ZS51aWQsdC5pc1ZpZGVvTXV0ZT1lLmlzVmlkZW9NdXRlLHQuaXNBdWRpb011dGU9ZS5pc0F1ZGlvTXV0ZSx0LmlzU3Vic2NyaWJlcj1lLmlzU3Vic2NyaWJlcix0LmNsaWVudElkPWUuY2xpZW50SWQsdC5maWx0ZXJTdGF0c0NhY2hlPVtdLHQub3JpZ2luU3RhdHNDYWNoZT1bXSx0Lmxhc3RUaW1lR2V0U3RhdHM9bnVsbCx0LnBjX2NvbmZpZz17aWNlU2VydmVyczpbXX0sZS5pY2VTZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXk/ZS5pY2VTZXJ2ZXJzLm1hcCgoZnVuY3Rpb24oZSl7MD09PWUudXJsLmluZGV4T2YoXCJzdHVuOlwiKSYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmw6ZS51cmx9KX0pKTooZS5zdHVuU2VydmVyVXJsJiYoZS5zdHVuU2VydmVyVXJsIGluc3RhbmNlb2YgQXJyYXk/ZS5zdHVuU2VydmVyVXJsLm1hcCgoZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiXCIhPT1lJiZ0LnBjX2NvbmZpZy5pY2VTZXJ2ZXJzLnB1c2goe3VybDplfSl9KSk6XCJzdHJpbmdcIj09dHlwZW9mIGUuc3R1blNlcnZlclVybCYmXCJcIiE9PWUuc3R1blNlcnZlclVybCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmw6ZS5zdHVuU2VydmVyVXJsfSkpLGUudHVyblNlcnZlcnMmJihlLnR1cm5TZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXk/ZS50dXJuU2VydmVycy5tYXAoKGZ1bmN0aW9uKGUpe2UudWRwcG9ydCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOihlLnVzZVR1cm5zP1widHVybnM6XCI6XCJ0dXJuOlwiKStlLnVybCtcIjpcIitlLnVkcHBvcnQrXCI/dHJhbnNwb3J0PXVkcFwifSksXCJzdHJpbmdcIj09dHlwZW9mIGUudGNwcG9ydCYmXCJcIiE9PWUudGNwcG9ydCYmdC5wY19jb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOihlLnVzZVR1cm5zP1widHVybnM6XCI6XCJ0dXJuOlwiKStlLnVybCtcIjpcIitlLnRjcHBvcnQrXCI/dHJhbnNwb3J0PXRjcFwifSksITA9PT1lLmZvcmNldHVybiYmKHQucGNfY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpOnUuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gdHVyblNlcnZlcnMgaXMgbm90IGEgYXJyYXlcIikpKSksdm9pZCAwPT09ZS5hdWRpbyYmKGUuYXVkaW89ITApLHZvaWQgMD09PWUudmlkZW8mJihlLnZpZGVvPSEwKSx0Lm1lZGlhQ29uc3RyYWludHM9e29mZmVyVG9SZWNlaXZlQXVkaW86ZS5hdWRpbyxvZmZlclRvUmVjZWl2ZVZpZGVvOmUudmlkZW8sbW96RG9udE9mZmVyRGF0YUNoYW5uZWw6ITB9LHQucm9hcFNlc3Npb25JZD0xMDMsdC5wZWVyQ29ubmVjdGlvbj1uZXcgbC5SVENQZWVyQ29ubmVjdGlvbih0LnBjX2NvbmZpZyksdC5pY2VDYW5kaWRhdGVUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuaWNlQ2FuZGlkYXRlVGltZXI9bnVsbCx1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdQ2FuZGlkYXRlcyBjb2xsZWN0ZWQ6IFwiKS5jb25jYXQodC5pY2VDYW5kaWRhdGVDb3VudCkpLHQubW9yZUljZUNvbWluZyYmKHQubW9yZUljZUNvbWluZz0hMSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSl9KSxPYmplY3QoZi5nZXRQYXJhbWV0ZXIpKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpLHQucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oZSl7dmFyIG4scixpLG87cj0obj10LnBlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24uc2RwKS5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNzcmZseC4rXFxyXFxuLyksaT1uLm1hdGNoKC9hPWNhbmRpZGF0ZTouK3R5cFxcc2hvc3QuK1xcclxcbi8pLG89bi5tYXRjaCgvYT1jYW5kaWRhdGU6Lit0eXBcXHNyZWxheS4rXFxyXFxuLyksbnVsbD09PXImJm51bGw9PT1pJiZudWxsPT09b3x8dm9pZCAwIT09dC5pY2V8fCF0LmljZUNhbmRpZGF0ZVRpbWVyfHwoY2xlYXJUaW1lb3V0KHQuaWNlQ2FuZGlkYXRlVGltZXIpLHQuaWNlQ2FuZGlkYXRlVGltZXI9bnVsbCx0LmljZT0wLHQubW9yZUljZUNvbWluZz0hMSx0Lm1hcmtBY3Rpb25OZWVkZWQoKSksdC5pY2VDYW5kaWRhdGVDb3VudD10LmljZUNhbmRpZGF0ZUNvdW50KzF9LHQuY2hlY2tNTGluZVJldmVyc2VJblNEUD1mdW5jdGlvbihlKXtyZXR1cm4hKCF+ZS5pbmRleE9mKFwibT1hdWRpb1wiKXx8IX5lLmluZGV4T2YoXCJtPXZpZGVvXCIpKSYmZS5pbmRleE9mKFwibT1hdWRpb1wiKT5lLmluZGV4T2YoXCJtPXZpZGVvXCIpfSx0LnJldmVyc2VNTGluZUluU0RQPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCJtPWF1ZGlvXCIpLG49dFsxXS5zcGxpdChcIm09dmlkZW9cIikscj1cIm09dmlkZW9cIituWzFdLGk9XCJtPWF1ZGlvXCIrblswXTtyZXR1cm4gZT10WzBdK3IraX0sdC5wcm9jZXNzU2lnbmFsaW5nTWVzc2FnZT1mdW5jdGlvbihyKXt2YXIgaSxvPUpTT04ucGFyc2Uocik7dC5pbmNvbWluZ01lc3NhZ2U9byxcIm5ld1wiPT09dC5zdGF0ZT9cIk9GRkVSXCI9PT1vLm1lc3NhZ2VUeXBlPyhvLnNkcD1oKG8uc2RwKSxpPXtzZHA6by5zZHAsdHlwZTpcIm9mZmVyXCJ9LHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG4oaSksKGZ1bmN0aW9uKCl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gc3VjY2VlZGVkXCIpfSksKGZ1bmN0aW9uKGUpe3UuZGVmYXVsdC5pbmZvKFwiW1wiK3QuY2xpZW50SWQrXCJdc2V0UmVtb3RlRGVzY3JpcHRpb24gZmFpbGVkOiBcIitlLm5hbWUpfSkpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZFwiLHQubWFya0FjdGlvbk5lZWRlZCgpKTp0LmVycm9yKFwiSWxsZWdhbCBtZXNzYWdlIGZvciB0aGlzIHN0YXRlOiBcIitvLm1lc3NhZ2VUeXBlK1wiIGluIHN0YXRlIFwiK3Quc3RhdGUpOlwib2ZmZXItc2VudFwiPT09dC5zdGF0ZT9cIkFOU1dFUlwiPT09by5tZXNzYWdlVHlwZT8oby5zZHA9aChvLnNkcCksby5zZHA9by5zZHAucmVwbGFjZSgvIGdlbmVyYXRpb24gMC9nLFwiXCIpLG8uc2RwPW8uc2RwLnJlcGxhY2UoLyB1ZHAgL2csXCIgVURQIFwiKSwtMSE9PW8uc2RwLmluZGV4T2YoXCJhPWdyb3VwOkJVTkRMRVwiKT8oby5zZHA9by5zZHAucmVwbGFjZSgvYT1ncm91cDpCVU5ETEUgYXVkaW8gdmlkZW8vLFwiYT1ncm91cDpCVU5ETEUgc2RwYXJ0YV8wIHNkcGFydGFfMVwiKSxvLnNkcD1vLnNkcC5yZXBsYWNlKC9hPW1pZDphdWRpby8sXCJhPW1pZDpzZHBhcnRhXzBcIiksby5zZHA9by5zZHAucmVwbGFjZSgvYT1taWQ6dmlkZW8vLFwiYT1taWQ6c2RwYXJ0YV8xXCIpKTooby5zZHA9by5zZHAucmVwbGFjZSgvYT1taWQ6YXVkaW8vLFwiYT1taWQ6c2RwYXJ0YV8wXCIpLG8uc2RwPW8uc2RwLnJlcGxhY2UoL2E9bWlkOnZpZGVvLyxcImE9bWlkOnNkcGFydGFfMFwiKSksaT17c2RwOm8uc2RwLHR5cGU6XCJhbnN3ZXJcIn0sZS5zY3JlZW4mJlwiZGV0YWlsXCI9PT1lLm9wdGltaXphdGlvbk1vZGUmJih1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50LFwiXSByZW1vdmUgc2NyZWVuIHNoYXJlIGFicyBleHRcIikpLG8uc2RwPUUoaS5zZHApKSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBuKGkpLChmdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIHN1Y2NlZWRlZFwiKX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuaW5mbyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIGZhaWxlZDogXCIrZSl9KSksdC5zdGF0ZT1cImVzdGFibGlzaGVkXCIpOlwicHItYW5zd2VyXCI9PT1vLm1lc3NhZ2VUeXBlPyhpPXtzZHA6by5zZHAsdHlwZTpcInByLWFuc3dlclwifSx0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBuKGkpLChmdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIHN1Y2NlZWRlZFwiKX0pLChmdW5jdGlvbihlKXt1LmRlZmF1bHQuaW5mbyhcIltcIit0LmNsaWVudElkK1wiXXNldFJlbW90ZURlc2NyaXB0aW9uIGZhaWxlZDogXCIrZS5uYW1lKX0pKSk6XCJvZmZlclwiPT09by5tZXNzYWdlVHlwZT90LmVycm9yKFwiTm90IHdyaXR0ZW4geWV0XCIpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK28ubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSk6XCJlc3RhYmxpc2hlZFwiPT09dC5zdGF0ZSYmKFwiT0ZGRVJcIj09PW8ubWVzc2FnZVR5cGU/KGk9e3NkcDpvLnNkcCx0eXBlOlwib2ZmZXJcIn0sdC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgbihpKSwoZnVuY3Rpb24oKXt1LmRlZmF1bHQuZGVidWcoXCJbXCIrdC5jbGllbnRJZCtcIl1zZXRSZW1vdGVEZXNjcmlwdGlvbiBzdWNjZWVkZWRcIil9KSwoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmluZm8oXCJbXCIrdC5jbGllbnRJZCtcIl1zZXRSZW1vdGVEZXNjcmlwdGlvbiBmYWlsZWQ6IFwiK2UubmFtZSl9KSksdC5zdGF0ZT1cIm9mZmVyLXJlY2VpdmVkXCIsdC5tYXJrQWN0aW9uTmVlZGVkKCkpOnQuZXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgZm9yIHRoaXMgc3RhdGU6IFwiK28ubWVzc2FnZVR5cGUrXCIgaW4gc3RhdGUgXCIrdC5zdGF0ZSkpfSx0LnNldFJ0cFNlbmRlclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgZT1kKCkocy5hLm1hcmsoKGZ1bmN0aW9uIGUobil7dmFyIHIsaSxvO3JldHVybiBzLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYocj10LnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKSxpPXIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT09ZS50cmFjay5raW5kfSkpKXtlLm5leHQ9NDticmVha31yZXR1cm4gZS5hYnJ1cHQoXCJyZXR1cm5cIik7Y2FzZSA0OnJldHVybihvPWkuZ2V0UGFyYW1ldGVycygpKS5kZWdyYWRhdGlvblByZWZlcmVuY2U9bixlLnByZXY9Nix1LmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlcnNcIiksbyksZS5uZXh0PTEwLGkuc2V0UGFyYW1ldGVycyhvKTtjYXNlIDEwOmUubmV4dD0xNTticmVhaztjYXNlIDEyOmUucHJldj0xMixlLnQwPWUuY2F0Y2goNiksdS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBzZXRQYXJhbWV0ZXJzIGZhaWxlZCwgaWdub3JlXCIpKTtjYXNlIDE1OmNhc2VcImVuZFwiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s2LDEyXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTt2YXIgaT17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwib3B1c1wiLGdvb2dDb2RlY05hbWU6XCJvcHVzXCIsYWVjRGl2ZXJnZW50RmlsdGVyRnJhY3Rpb246XCIwXCIsYXVkaW9JbnB1dExldmVsOlwiMFwiLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3M6XCIwXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzRW5oYW5jZW1lbnQ6XCIwXCJ9LG89e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGdvb2dDb2RlY05hbWU6ZS5jb2RlYz9lLmNvZGVjLnRvVXBwZXJDYXNlKCk6XCJcIixieXRlc1NlbnQ6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIscGFja2V0c1NlbnQ6XCIwXCIsZ29vZ0FkYXB0YXRpb25DaGFuZ2VzOlwiMFwiLGdvb2dBdmdFbmNvZGVNczpcIjBcIixnb29nRW5jb2RlVXNhZ2VQZXJjZW50OlwiMFwiLGdvb2dGaXJzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lSGVpZ2h0U2VudDpcIjBcIixnb29nRnJhbWVIZWlnaHRJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlSW5wdXQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZVNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhTZW50OlwiMFwiLGdvb2dGcmFtZVdpZHRoSW5wdXQ6XCIwXCIsZ29vZ05hY2tzUmVjZWl2ZWQ6XCIwXCIsZ29vZ1BsaXNSZWNlaXZlZDpcIjBcIixnb29nUnR0OlwiMFwifSxhPXtpZDpcIlwiLHR5cGU6XCJcIixtZWRpYVR5cGU6XCJcIixhdWRpb091dHB1dExldmVsOlwiMFwiLGJ5dGVzUmVjZWl2ZWQ6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIscGFja2V0c1JlY2VpdmVkOlwiMFwiLGdvb2dBY2NlbGVyYXRlUmF0ZTpcIjBcIixnb29nQ3VycmVudERlbGF5TXM6XCIwXCIsZ29vZ0RlY29kaW5nQ05HOlwiMFwiLGdvb2dEZWNvZGluZ0NUTjpcIjBcIixnb29nRGVjb2RpbmdDVFNHOlwiMFwiLGdvb2dEZWNvZGluZ05vcm1hbDpcIjBcIixnb29nRGVjb2RpbmdQTEM6XCIwXCIsZ29vZ0RlY29kaW5nUExDQ05HOlwiMFwiLGdvb2dFeHBhbmRSYXRlOlwiMFwiLGdvb2dKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nSml0dGVyUmVjZWl2ZWQ6XCIwXCIsZ29vZ1ByZWVtcHRpdmVFeHBhbmRSYXRlOlwiMFwiLGdvb2dQcmVmZXJyZWRKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGU6XCIwXCIsZ29vZ1NwZWVjaEV4cGFuZFJhdGU6XCIwXCJ9LGM9e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGdvb2dUYXJnZXREZWxheU1zOlwiMFwiLHBhY2tldHNMb3N0OlwiMFwiLGdvb2dEZWNvZGVNczpcIjBcIixnb29nTWF4RGVjb2RlTXM6XCIwXCIsZ29vZ1JlbmRlckRlbGF5TXM6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVIZWlnaHRSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVSYXRlUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZURlY29kZWQ6XCIwXCIsZ29vZ0ZyYW1lUmF0ZU91dHB1dDpcIjBcIixnb29nSml0dGVyQnVmZmVyTXM6XCIwXCIsZ29vZ0N1cnJlbnREZWxheU1zOlwiMFwiLGdvb2dNaW5QbGF5b3V0RGVsYXlNczpcIjBcIixnb29nTmFja3NTZW50OlwiMFwiLGdvb2dQbGlzU2VudDpcIjBcIixnb29nRmlyc1NlbnQ6XCIwXCIsYnl0ZXNSZWNlaXZlZDpcIjBcIixwYWNrZXRzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0ZyYW1lc0RlY29kZWQ6XCIwXCJ9LHA9MCxnPTAsbT0wO3QuZ2V0VmlkZW9SZWxhdGVkU3RhdHM9ZnVuY3Rpb24oZSl7dC5wZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciByLGk9dihuLnZhbHVlcygpKTt0cnl7Zm9yKGkucygpOyEocj1pLm4oKSkuZG9uZTspe3ZhciBvPXIudmFsdWU7aWYodC5pc1N1YnNjcmliZXIpe2lmKChcImluYm91bmQtcnRwXCI9PT1vLnR5cGV8fFwiaW5ib3VuZHJ0cFwiPT09by50eXBlKSYmXCJ2aWRlb1wiPT09by5tZWRpYVR5cGUpe2lmKCF0Lmxhc3RSZXBvcnQpcmV0dXJuIHZvaWQodC5sYXN0UmVwb3J0PW8pO2UmJmUoe2Jyb3dzZXI6XCJmaXJlZm94XCIsbWVkaWFUeXBlOlwidmlkZW9cIixwZWVySWQ6dC51aWQsaXNWaWRlb011dGU6dC5pc1ZpZGVvTXV0ZSxmcmFtZVJhdGVSZWNlaXZlZDpNYXRoLnJvdW5kKG8uZnJhbWVyYXRlTWVhbikrXCJcIixmcmFtZVJhdGVEZWNvZGVkOm8uZnJhbWVzRGVjb2RlZC10Lmxhc3RSZXBvcnQuZnJhbWVzRGVjb2RlZCtcIlwiLGJ5dGVzUmVjZWl2ZWQ6by5ieXRlc1JlY2VpdmVkK1wiXCIscGFja2V0c1JlY2VpdmVkOm8ucGFja2V0c1JlY2VpdmVkK1wiXCIscGFja2V0c0xvc3Q6by5wYWNrZXRzTG9zdCtcIlwifSksdC5sYXN0UmVwb3J0PW99fWVsc2UgaWYoKFwib3V0Ym91bmQtcnRwXCI9PT1vLnR5cGV8fFwib3V0Ym91bmRydHBcIj09PW8udHlwZSkmJlwidmlkZW9cIj09PW8ubWVkaWFUeXBlKXtpZighdC5sYXN0UmVwb3J0KXJldHVybiB2b2lkKHQubGFzdFJlcG9ydD1vKTtlJiZlKHttZWRpYVR5cGU6XCJ2aWRlb1wiLGlzVmlkZW9NdXRlOnQuaXNWaWRlb011dGUsZnJhbWVSYXRlSW5wdXQ6TWF0aC5yb3VuZChvLmZyYW1lcmF0ZU1lYW4pK1wiXCIsZnJhbWVSYXRlU2VudDpvLmZyYW1lc0VuY29kZWQtdC5sYXN0UmVwb3J0LmZyYW1lc0VuY29kZWQrXCJcIn0pLHQubGFzdFJlcG9ydD1vfX19Y2F0Y2goZSl7aS5lKGUpfWZpbmFsbHl7aS5mKCl9fSkpfSx0LmdldEF1ZGlvUmVsYXRlZFN0YXRzPWZ1bmN0aW9uKGUpe3QucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbihuKXt2YXIgcixpPXYobi52YWx1ZXMoKSk7dHJ5e2ZvcihpLnMoKTshKHI9aS5uKCkpLmRvbmU7KXt2YXIgbz1yLnZhbHVlO3QuaXNTdWJzY3JpYmVyJiYoXCJpbmJvdW5kLXJ0cFwiIT09by50eXBlJiZcImluYm91bmRydHBcIiE9PW8udHlwZXx8XCJhdWRpb1wiIT09by5tZWRpYVR5cGV8fGUmJmUoe2Jyb3dzZXI6XCJmaXJlZm94XCIsbWVkaWFUeXBlOlwiYXVkaW9cIixwZWVySWQ6dC51aWQsaXNBdWRpb011dGU6dC5pc0F1ZGlvTXV0ZSxmcmFtZURyb3BwZWQ6by5wYWNrZXRzTG9zdCtcIlwiLGZyYW1lUmVjZWl2ZWQ6by5wYWNrZXRzUmVjZWl2ZWQrXCJcIixnb29nSml0dGVyUmVjZWl2ZWQ6by5qaXR0ZXIrXCJcIixieXRlc1JlY2VpdmVkOm8uYnl0ZXNSZWNlaXZlZCtcIlwiLHBhY2tldHNSZWNlaXZlZDpvLnBhY2tldHNSZWNlaXZlZCtcIlwiLHBhY2tldHNMb3N0Om8ucGFja2V0c0xvc3QrXCJcIn0pKX19Y2F0Y2goZSl7aS5lKGUpfWZpbmFsbHl7aS5mKCl9fSkpfSx0LmdldFN0YXRzUmF0ZT1mdW5jdGlvbihlKXt0LmdldFN0YXRzKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe30pKSxlKHQpfSkpfSx0LmdldFN0YXRzPWZ1bmN0aW9uKGUsbil7bj0obj1ufHw1MDApPjUwMD81MDA6bix0Lmxhc3RUaW1lR2V0U3RhdHMmJkRhdGUubm93KCktdC5sYXN0VGltZUdldFN0YXRzPG4/ZSYmZSh0LmZpbHRlclN0YXRzQ2FjaGUsdC5vcmlnaW5TdGF0c0NhY2hlKTp0aGlzLl9nZXRTdGF0cygoZnVuY3Rpb24obixyKXt0LmZpbHRlclN0YXRzQ2FjaGU9bix0Lm9yaWdpblN0YXRzQ2FjaGU9cix0Lmxhc3RUaW1lR2V0U3RhdHM9RGF0ZS5ub3coKSxlJiZlKG4scil9KSl9LHQuX2dldFN0YXRzPWZ1bmN0aW9uKG4pe3QucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKChmdW5jdGlvbihyKXt2YXIgcyxkPVtdLHU9dihyLnZhbHVlcygpKTt0cnl7Zm9yKHUucygpOyEocz11Lm4oKSkuZG9uZTspe3ZhciBsPXMudmFsdWU7ZC5wdXNoKGwpLFwib3V0Ym91bmQtcnRwXCIhPT1sLnR5cGUmJlwib3V0Ym91bmRydHBcIiE9PWwudHlwZXx8XCJ2aWRlb1wiIT09bC5tZWRpYVR5cGV8fC0xIT09bC5pZC5pbmRleE9mKFwicnRjcFwiKXx8KG8uaWQ9bC5pZCxvLnR5cGU9bC50eXBlLG8ubWVkaWFUeXBlPWwubWVkaWFUeXBlLG8uYnl0ZXNTZW50PWwuYnl0ZXNTZW50P2wuYnl0ZXNTZW50K1wiXCI6XCIwXCIsby5wYWNrZXRzU2VudD1sLnBhY2tldHNTZW50P2wucGFja2V0c1NlbnQrXCJcIjpcIjBcIixvLmdvb2dQbGlzUmVjZWl2ZWQ9bC5wbGlDb3VudD9sLnBsaUNvdW50K1wiXCI6XCIwXCIsby5nb29nTmFja3NSZWNlaXZlZD1sLm5hY2tDb3VudD9sLm5hY2tDb3VudCtcIlwiOlwiMFwiLG8uZ29vZ0ZpcnNSZWNlaXZlZD1sLmZpckNvdW50P2wuZmlyQ291bnQrXCJcIjpcIjBcIixvLmdvb2dGcmFtZVJhdGVTZW50PWwuZnJhbWVyYXRlTWVhbj9NYXRoLnJvdW5kKGwuZnJhbWVyYXRlTWVhbikrXCJcIjpcIjBcIiksXCJvdXRib3VuZC1ydHBcIiE9PWwudHlwZSYmXCJvdXRib3VuZHJ0cFwiIT09bC50eXBlfHxcImF1ZGlvXCIhPT1sLm1lZGlhVHlwZXx8LTEhPT1sLmlkLmluZGV4T2YoXCJydGNwXCIpfHwoaS5pZD1sLmlkLGkudHlwZT1sLnR5cGUsaS5tZWRpYVR5cGU9bC5tZWRpYVR5cGUsaS5ieXRlc1NlbnQ9bC5ieXRlc1NlbnQ/bC5ieXRlc1NlbnQrXCJcIjpcIjBcIixpLnBhY2tldHNTZW50PWwucGFja2V0c1NlbnQ/bC5wYWNrZXRzU2VudCtcIlwiOlwiMFwiLGUuYWdvcmFTdHJlYW0ubG9jYWwmJihpLmF1ZGlvSW5wdXRMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KmUuYWdvcmFTdHJlYW0uZ2V0QXVkaW9MZXZlbCgpKS50b1N0cmluZygpKSksXCJpbmJvdW5kLXJ0cFwiIT09bC50eXBlJiZcImluYm91bmRydHBcIiE9PWwudHlwZXx8XCJhdWRpb1wiIT09bC5tZWRpYVR5cGV8fGwuaXNSZW1vdGV8fC0xIT09bC5pZC5pbmRleE9mKFwicnRjcFwiKXx8KGEuaWQ9bC5pZCxhLnR5cGU9bC50eXBlLGEubWVkaWFUeXBlPWwubWVkaWFUeXBlLGEuYnl0ZXNSZWNlaXZlZD1sLmJ5dGVzUmVjZWl2ZWQ/bC5ieXRlc1JlY2VpdmVkK1wiXCI6XCIwXCIsYS5wYWNrZXRzTG9zdD1sLnBhY2tldHNMb3N0P2wucGFja2V0c0xvc3QrXCJcIjpcIjBcIixhLnBhY2tldHNSZWNlaXZlZD1sLnBhY2tldHNSZWNlaXZlZD9sLnBhY2tldHNSZWNlaXZlZCtcIlwiOlwiMFwiLGEuZ29vZ0ppdHRlclJlY2VpdmVkPWwuaml0dGVyP2wuaml0dGVyK1wiXCI6XCIwXCIsZS5hZ29yYVN0cmVhbS5sb2NhbHx8KGEuYXVkaW9PdXRwdXRMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KmUuYWdvcmFTdHJlYW0uZ2V0QXVkaW9MZXZlbCgpKS50b1N0cmluZygpKSksXCJpbmJvdW5kLXJ0cFwiIT09bC50eXBlJiZcImluYm91bmRydHBcIiE9PWwudHlwZXx8XCJ2aWRlb1wiIT09bC5tZWRpYVR5cGV8fGwuaXNSZW1vdGV8fC0xIT09bC5pZC5pbmRleE9mKFwicnRjcFwiKXx8KGMuaWQ9bC5pZCxjLnR5cGU9bC50eXBlLGMubWVkaWFUeXBlPWwubWVkaWFUeXBlLGMuYnl0ZXNSZWNlaXZlZD1sLmJ5dGVzUmVjZWl2ZWQ/bC5ieXRlc1JlY2VpdmVkK1wiXCI6XCIwXCIsYy5nb29nRnJhbWVSYXRlUmVjZWl2ZWQ9bC5mcmFtZXJhdGVNZWFuP01hdGgucm91bmQobC5mcmFtZXJhdGVNZWFuKStcIlwiOlwiMFwiLGMuZ29vZ0ZyYW1lc0RlY29kZWQ9bC5mcmFtZXNEZWNvZGVkP2wuZnJhbWVzRGVjb2RlZCtcIlwiOlwiMFwiLERhdGUubm93KCktbT49MWUzPyhjLmdvb2dGcmFtZVJhdGVEZWNvZGVkPShsLmZyYW1lc0RlY29kZWQtcCkvKChEYXRlLm5vdygpLW0pLzFlMyksYy5nb29nRnJhbWVSYXRlRGVjb2RlZD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsYy5nb29nRnJhbWVSYXRlRGVjb2RlZCkpLG09RGF0ZS5ub3coKSxnPWMuZ29vZ0ZyYW1lUmF0ZURlY29kZWQscD1sLmZyYW1lc0RlY29kZWQsYy5nb29nRnJhbWVSYXRlRGVjb2RlZD1jLmdvb2dGcmFtZVJhdGVEZWNvZGVkLnRvU3RyaW5nKCkpOmMuZ29vZ0ZyYW1lUmF0ZURlY29kZWQ9Zy50b1N0cmluZygpLGMucGFja2V0c0xvc3Q9bC5wYWNrZXRzTG9zdD9sLnBhY2tldHNMb3N0K1wiXCI6XCIwXCIsYy5wYWNrZXRzUmVjZWl2ZWQ9bC5wYWNrZXRzUmVjZWl2ZWQ/bC5wYWNrZXRzUmVjZWl2ZWQrXCJcIjpcIjBcIixjLmdvb2dKaXR0ZXJCdWZmZXJNcz1sLmppdHRlcj9sLmppdHRlcitcIlwiOlwiMFwiLGMuZ29vZ05hY2tzU2VudD1sLm5hY2tDb3VudD9sLm5hY2tDb3VudCtcIlwiOlwiMFwiLGMuZ29vZ1BsaXNTZW50PWwucGxpQ291bnQ/bC5wbGlDb3VudCtcIlwiOlwiMFwiLGMuZ29vZ0ZpcnNTZW50PWwuZmlyQ291bnQ/bC5maXJDb3VudCtcIlwiOlwiMFwiKSwtMSE9PWwuaWQuaW5kZXhPZihcIm91dGJvdW5kX3J0Y3BfdmlkZW9cIikmJihvLnBhY2tldHNMb3N0PWwucGFja2V0c0xvc3Q/bC5wYWNrZXRzTG9zdCtcIlwiOlwiMFwiKX19Y2F0Y2goZSl7dS5lKGUpfWZpbmFsbHl7dS5mKCl9dmFyIGY9W28saSxhLGNdO2YucHVzaCh7aWQ6XCJ0aW1lXCIsc3RhcnRUaW1lOnQuY29ubmVjdGVkVGltZSx0aW1lc3RhbXA6bmV3IERhdGV9KSxuKGYsZCl9KSwoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmVycm9yKFwiW1wiK3QuY2xpZW50SWQrXCJdXCIrZSl9KSl9LHQuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3I9ITAsdC5wZWVyQ29ubmVjdGlvbi5hZGRTdHJlYW0oZSksdC5tYXJrQWN0aW9uTmVlZGVkKCl9LHQucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKCl7dC5tYXJrQWN0aW9uTmVlZGVkKCl9LHQuY2xvc2U9ZnVuY3Rpb24oKXt0LnN0YXRlPVwiY2xvc2VkXCIsdC5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpfSx0Lm1hcmtBY3Rpb25OZWVkZWQ9ZnVuY3Rpb24oKXt0LmFjdGlvbk5lZWRlZD0hMCx0LmRvTGF0ZXIoKGZ1bmN0aW9uKCl7dC5vbnN0YWJsZXN0YXRlKCl9KSl9LHQuZG9MYXRlcj1mdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDEpfSx0Lm9uc3RhYmxlc3RhdGU9ZnVuY3Rpb24oKXtpZih0LmFjdGlvbk5lZWRlZCl7aWYoXCJuZXdcIj09PXQuc3RhdGV8fFwiZXN0YWJsaXNoZWRcIj09PXQuc3RhdGUpe3ImJih0Lm1lZGlhQ29uc3RyYWludHM9dm9pZCAwKSx0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKChmdW5jdGlvbihlKXtpZihlLnNkcD1oKGUuc2RwKSxlLnNkcD1lLnNkcC5yZXBsYWNlKC9hPWV4dG1hcDoxIGh0dHA6XFwvXFwvd3d3LndlYnJ0Yy5vcmdcXC9leHBlcmltZW50c1xcL3J0cC1oZHJleHRcXC9hYnMtc2VuZC10aW1lLyxcImE9ZXh0bWFwOjMgaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwiKSxlLnNkcCE9PXQucHJldk9mZmVyKXJldHVybiB0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSksdC5zdGF0ZT1cInByZXBhcmluZy1vZmZlclwiLHZvaWQgdC5tYXJrQWN0aW9uTmVlZGVkKCk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdTm90IHNlbmRpbmcgYSBuZXcgb2ZmZXJcIil9KSwoZnVuY3Rpb24oZSl7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdVXBzISBjcmVhdGUgb2ZmZXIgZmFpbGVkIFwiLGUpfSksdC5tZWRpYUNvbnN0cmFpbnRzKX1lbHNlIGlmKFwicHJlcGFyaW5nLW9mZmVyXCI9PT10LnN0YXRlKXtpZih0Lm1vcmVJY2VDb21pbmcpcmV0dXJuO3QucHJldk9mZmVyPXQucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbi5zZHAsdC5vZmZlckNhbmRpZGF0ZXM9dC5wcmV2T2ZmZXIubWF0Y2goL2E9Y2FuZGlkYXRlLitcXHJcXG4vZyl8fFtdLHQub2ZmZXJDYW5kaWRhdGVzLmxlbmd0aHx8KGUuaXNDbG91ZFByb3h5MyYmZS5vbk5vSWNlQ2FuZGlkYXRlJiZlLm9uTm9JY2VDYW5kaWRhdGUoKSx1LmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl1ObyBJY2UgQ2FuZGlkYXRlIGdlbmVyYXRlZFwiKSksT2JqZWN0KGYuZ2V0UGFyYW1ldGVyKShcIlNISU1fQ0FORElEQVRFXCIpPyh1LmRlZmF1bHQuZGVidWcoXCJTaGltbWluZyBmYWtlIGNhbmRpZGF0ZVwiKSx0LnByZXZPZmZlcis9XCJhPWNhbmRpZGF0ZToyMjQzMjU1NDM1IDEgdWRwIDIxMjIxOTQ2ODcgMTkyLjE2OC4wLjEgMzAwMDAgdHlwIGhvc3QgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMVxcclxcblwiKTp1LmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdTm9uZSBJY2UgQ2FuZGlkYXRlIG5vdCBhbGxvd2VkXCIpKSksdC5wcmV2T2ZmZXI9dC5wcmV2T2ZmZXIucmVwbGFjZSgvYT1jYW5kaWRhdGU6Lit0eXBcXHNob3N0LitcXHJcXG4vZyxcImE9Y2FuZGlkYXRlOjIyNDMyNTU0MzUgMSB1ZHAgMjEyMjE5NDY4NyAxOTIuMTY4LjAuMSAzMDAwMCB0eXAgaG9zdCBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAxXFxyXFxuXCIpLHQuc2VuZE1lc3NhZ2UoXCJPRkZFUlwiLHQucHJldk9mZmVyKSx0LnN0YXRlPVwib2ZmZXItc2VudFwifWVsc2UgaWYoXCJvZmZlci1yZWNlaXZlZFwiPT09dC5zdGF0ZSl0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigoZnVuY3Rpb24oZSl7aWYodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLHQuc3RhdGU9XCJvZmZlci1yZWNlaXZlZC1wcmVwYXJpbmctYW5zd2VyXCIsdC5pY2VTdGFydGVkKXQubWFya0FjdGlvbk5lZWRlZCgpO2Vsc2V7dmFyIG49bmV3IERhdGU7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK3QuY2xpZW50SWQrXCJdXCIrbi5nZXRUaW1lKCkrXCI6IFN0YXJ0aW5nIElDRSBpbiByZXNwb25kZXJcIiksdC5pY2VTdGFydGVkPSEwfX0pLChmdW5jdGlvbigpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LmNsaWVudElkK1wiXVVwcyEgU29tZXRoaW5nIHdlbnQgd3JvbmdcIil9KSk7ZWxzZSBpZihcIm9mZmVyLXJlY2VpdmVkLXByZXBhcmluZy1hbnN3ZXJcIj09PXQuc3RhdGUpe2lmKHQubW9yZUljZUNvbWluZylyZXR1cm47dmFyIG49dC5wZWVyQ29ubmVjdGlvbi5sb2NhbERlc2NyaXB0aW9uLnNkcDt0LnNlbmRNZXNzYWdlKFwiQU5TV0VSXCIsbiksdC5zdGF0ZT1cImVzdGFibGlzaGVkXCJ9ZWxzZSB0LmRlYnVnKFwiRGF6ZWQgYW5kIGNvbmZ1c2VkIGluIHN0YXRlIFwiK3Quc3RhdGUrXCIsIHN0b3BwaW5nIGhlcmVcIik7dC5hY3Rpb25OZWVkZWQ9ITF9fSx0LnNlbmRNZXNzYWdlPWZ1bmN0aW9uKGUsbil7dmFyIHI9e307ci5tZXNzYWdlVHlwZT1lLHIuc2RwPW4sXCJPRkZFUlwiPT09ZT8oci5vZmZlcmVyU2Vzc2lvbklkPXQuc2Vzc2lvbklkLHIuYW5zd2VyZXJTZXNzaW9uSWQ9dC5vdGhlclNlc3Npb25JZCxyLnNlcT10LnNlcXVlbmNlTnVtYmVyKz0xLHIudGllYnJlYWtlcj1NYXRoLmZsb29yKDQyOTQ5NjcyMypNYXRoLnJhbmRvbSgpKzEpKTooci5vZmZlcmVyU2Vzc2lvbklkPXQuaW5jb21pbmdNZXNzYWdlLm9mZmVyZXJTZXNzaW9uSWQsci5hbnN3ZXJlclNlc3Npb25JZD10LnNlc3Npb25JZCxyLnNlcT10LmluY29taW5nTWVzc2FnZS5zZXEpLHQub25zaWduYWxpbmdtZXNzYWdlKEpTT04uc3RyaW5naWZ5KHIpKX0sdC5fZ2V0U2VuZGVyPWZ1bmN0aW9uKGUpe2lmKHQucGVlckNvbm5lY3Rpb24mJnQucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycyl7dmFyIG49dC5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhY2sua2luZD09ZX0pKTtpZihuKXJldHVybiBufXJldHVybiBudWxsfSx0Lmhhc1NlbmRlcj1mdW5jdGlvbihlKXtyZXR1cm4hIXQuX2dldFNlbmRlcihlKX0sdC5yZXBsYWNlVHJhY2s9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXQuX2dldFNlbmRlcihlLmtpbmQpO2lmKCFpKXtyZXR1cm4gcihcIk5PX1NFTkRFUl9GT1VORFwiKX10cnl7aS5yZXBsYWNlVHJhY2soZSl9Y2F0Y2goZSl7cmV0dXJuIHImJnIoZSl9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gbiYmbigpfSksNTApfSx0LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93XCJFcnJvciBpbiBSb2FwT25Kc2VwOiBcIitlfSx0LnNlc3Npb25JZD10LnJvYXBTZXNzaW9uSWQrPTEsdC5zZXF1ZW5jZU51bWJlcj0wLHQuYWN0aW9uTmVlZGVkPSExLHQuaWNlU3RhcnRlZD0hMSx0Lm1vcmVJY2VDb21pbmc9ITAsdC5pY2VDYW5kaWRhdGVDb3VudD0wLHQub25zaWduYWxpbmdtZXNzYWdlPWUuY2FsbGJhY2ssdC5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPWZ1bmN0aW9uKGUpe3Qub25hZGRzdHJlYW0mJnQub25hZGRzdHJlYW0oZSxcIm9udHJhY2tcIil9LHQucGVlckNvbm5lY3Rpb24ub25yZW1vdmVzdHJlYW09ZnVuY3Rpb24oZSl7dC5vbnJlbW92ZXN0cmVhbSYmdC5vbnJlbW92ZXN0cmVhbShlKX0sdC5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImNvbm5lY3RlZFwiPT09ZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSYmKHQuY29ubmVjdGVkVGltZT1uZXcgRGF0ZSksdC5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmdC5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZShlLmN1cnJlbnRUYXJnZXQuaWNlQ29ubmVjdGlvblN0YXRlKX07dmFyIGg9ZnVuY3Rpb24odCl7dmFyIG47aWYoZS52aWRlbyYmZS5tYXhWaWRlb0JXJiYobnVsbD09KG49dC5tYXRjaCgvbT12aWRlby4qXFxyXFxuLykpJiYobj10Lm1hdGNoKC9tPXZpZGVvLipcXG4vKSksbiYmbi5sZW5ndGg+MCkpe3ZhciByPW5bMF0rXCJiPVRJQVM6XCIrMWUzKmUubWF4VmlkZW9CVytcIlxcclxcblwiO3Q9dC5yZXBsYWNlKG5bMF0scil9aWYoZS5hdWRpbyYmZS5tYXhBdWRpb0JXJiYobnVsbD09KG49dC5tYXRjaCgvbT1hdWRpby4qXFxyXFxuLykpJiYobj10Lm1hdGNoKC9tPWF1ZGlvLipcXG4vKSksbiYmbi5sZW5ndGg+MCkpe3I9blswXStcImI9VElBUzpcIisxZTMqZS5tYXhBdWRpb0JXK1wiXFxyXFxuXCI7dD10LnJlcGxhY2UoblswXSxyKX1yZXR1cm4gdH0sRT1mdW5jdGlvbihlKXtyZXR1cm4oZT1lLnJlcGxhY2UoL2E9LiphYnMtc2VuZC10aW1lXFxyXFxuL2csXCJcIikpLnJlcGxhY2UoL2E9Lipnb29nLXJlbWJcXHJcXG4vZyxcIlwiKX07cmV0dXJuIHQub25hZGRzdHJlYW09bnVsbCx0Lm9ucmVtb3Zlc3RyZWFtPW51bGwsdC5zdGF0ZT1cIm5ld1wiLHQubWFya0FjdGlvbk5lZWRlZCgpLHR9LF89big1MCkseT1uLm4oXyksUj1uKDI2KSxUPShuKDQpLDEwMyksST1mdW5jdGlvbihlKXt2YXIgdD17fTtpZih0LmNsaWVudElkPWUuY2xpZW50SWQsZS5zZXNzaW9uX2lkPVQrPTEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5uYXZpZ2F0b3IpdGhyb3cgdS5kZWZhdWx0LmVycm9yKFwiW1wiK3Quc3RyZWFtSWQrXCJdW1wiK3QuY2xpZW50SWQrXCJdUHVibGlzaC9zdWJzY3JpYmUgdmlkZW8vYXVkaW8gc3RyZWFtcyBub3Qgc3VwcG9ydGVkIHlldFwiKSxuZXcgRXJyb3IoXCJOT05fQlJPV1NFUl9FTlZfREVURUNURURcIik7cmV0dXJuIG51bGwhPT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcIkZpcmVmb3hcIik/KHQuYnJvd3Nlcj1cIm1vemlsbGFcIix0PVMoZSkpOlwiaU9TXCI9PT1yLmdldEJyb3dzZXJPUygpfHxyLmlzU2FmYXJpKCk/KHUuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LnN0cmVhbUlkK1wiXVtcIit0LmNsaWVudElkK1wiXVNhZmFyaVwiKSwodD1oKGUpKS5icm93c2VyPVwic2FmYXJpXCIpOn53aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKT90PW5ldyB5LmEoZSk6KHQ9bShlKSkuYnJvd3Nlcj1cImNocm9tZS1zdGFibGVcIix0fSxiPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT17fTtpLmNvbmZpZz1lLGkuc3RyZWFtSWQ9ZS5zdHJlYW1JZCxkZWxldGUgZS5zdHJlYW1JZCxuYXZpZ2F0b3IuZ2V0TWVkaWE9bmF2aWdhdG9yLmdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1zR2V0VXNlck1lZGlhO3ZhciBvPTAsYT0xLHM9ITEsYz1udWxsLGQ9ZnVuY3Rpb24oZSl7aWYobysrLGMpaWYoYz09PWUpdS5kZWZhdWx0LmRlYnVnKFwiVXNpbmcgVmlkZW8gU291cmNlLyBBdWRpbyBTb3VyY2VcIik7ZWxzZXt2YXIgbj1jLmdldFZpZGVvVHJhY2tzKClbMF0scj1jLmdldEF1ZGlvVHJhY2tzKClbMF0saT1lLmdldFZpZGVvVHJhY2tzKClbMF0sZD1lLmdldEF1ZGlvVHJhY2tzKClbMF07aSYmKG4mJmMucmVtb3ZlVHJhY2sobiksYy5hZGRUcmFjayhpKSksZCYmKHImJmMucmVtb3ZlVHJhY2sociksYy5hZGRUcmFjayhkKSl9ZWxzZSBjPWU7byE9PWF8fHN8fChzPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChjKX0pLDApKX0sbD1mdW5jdGlvbihlKXt1LmRlZmF1bHQuZXJyb3IoXCJGYWlsZWQgdG8gR2V0VXNlck1lZGlhXCIsZS5uYW1lLGUuY29kZSxlLm1lc3NhZ2UsZSksbysrLHN8fChzPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7biYmbihlKX0pLDApKX0sZj1mdW5jdGlvbigpe3ZhciB0PXt2aWRlbzplLnZpZGVvLGF1ZGlvOmUuYXVkaW99O2lmKHUuZGVmYXVsdC5kZWJ1ZyhcIkdldFVzZXJNZWRpYVwiLEpTT04uc3RyaW5naWZ5KHQpKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSluYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh0KS50aGVuKGQpLmNhdGNoKGwpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLmdldE1lZGlhKW5hdmlnYXRvci5nZXRNZWRpYShlLGQsbCk7ZWxzZXt2YXIgcj17bmFtZTpcIk1FRElBX05PVF9TVVBQT1JUXCIsbWVzc2FnZTpcIlZpZGVvL2F1ZGlvIHN0cmVhbXMgbm90IHN1cHBvcnRlZCB5ZXRcIn07dS5kZWZhdWx0LmVycm9yKFwiW1wiK2kuc3RyZWFtSWQrXCJdXCIrci5tZXNzYWdlKSxuJiZuKHIpfX07aWYoKGUudmlkZW9Tb3VyY2V8fGUuYXVkaW9Tb3VyY2UpJiYoYz1uZXcgTWVkaWFTdHJlYW0sZS52aWRlb1NvdXJjZSYmYy5hZGRUcmFjayhlLnZpZGVvU291cmNlKSxlLmF1ZGlvU291cmNlJiZjLmFkZFRyYWNrKGUuYXVkaW9Tb3VyY2UpKSxlLnZpZGVvfHxlLmF1ZGlvfHxlLnNjcmVlbnx8ZS5zY3JlZW5BdWRpbyl7aWYoIWUuc2NyZWVuJiZlLnNjcmVlbkF1ZGlvKXJldHVybiBuJiZuKHtjb2RlOlwiU2V0IHNjcmVlbiB0byB0cnVlIGJlZm9yZSBzaGFyaW5nIHRoZSBhdWRpb1wifSk7aWYoZS5zY3JlZW4pe2lmKFIuYS5pc0VsZWN0cm9uKCkpcmV0dXJuIGUuc2NyZWVuLnNvdXJjZUlkP1IuYS5nZXRTY3JlZW5TdHJlYW0oZS5zY3JlZW4uc291cmNlSWQsZS5zY3JlZW4sKGZ1bmN0aW9uKHQsbil7dD9sKHQpOihlLmF1ZGlvJiYoYSsrLGYoKSksZChuKSl9KSk6Ui5hLnNoYXJlU2NyZWVuKGUuc2NyZWVuLChmdW5jdGlvbih0LG4pe3Q/bCh0KTooZS5hdWRpbyYmKGErKyxmKCkpLGQobikpfSkpO2lmKHIuaXNGaXJlRm94KCkpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIitpLnN0cmVhbUlkK1wiXVNjcmVlbiBhY2Nlc3MgcmVxdWVzdGVkXCIpO2lmKCF+W1wic2NyZWVuXCIsXCJ3aW5kb3dcIixcImFwcGxpY2F0aW9uXCJdLmluZGV4T2YoZS5zY3JlZW4ubWVkaWFTb3VyY2UpKXJldHVybiBuJiZuKHtjb2RlOlwiSW52YWxpZCBtZWRpYVNvdXJjZSwgbWVkaWFTb3VyY2Ugc2hvdWxkIGJlIG9uZSBvZiBbc2NyZWVuLCB3aW5kb3csIGFwcGxpY2F0aW9uXVwifSk7bmF2aWdhdG9yLmdldE1lZGlhKHt2aWRlbzplLnNjcmVlbn0sKGZ1bmN0aW9uKHQpe2UuYXVkaW8mJihhKyssZigpKSxkKHQpfSksbCl9ZWxzZSBpZihyLmlzQ2hyb21lS2VybmVsKCkmJmUuc2NyZWVuLmV4dGVuc2lvbklkKXtpZih3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyhbXFx3XFxXXSo/KVxcLi8pWzFdPDM0KXJldHVybiB2b2lkIG4oe2NvZGU6XCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wifSk7dS5kZWZhdWx0LmRlYnVnKFwiW1wiK2kuc3RyZWFtSWQrXCJdU2NyZWVuIGFjY2VzcyBvbiBjaHJvbWUgc3RhYmxlLCBsb29raW5nIGZvciBleHRlbnNpb25cIik7dHJ5e2Nocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKGUuc2NyZWVuLmV4dGVuc2lvbklkLHtnZXRTdHJlYW06ITB9LChmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXt1LmRlZmF1bHQuZXJyb3IoXCJbXCIraS5zdHJlYW1JZCtcIl1ObyByZXNwb25zZSBmcm9tIENocm9tZSBQbHVnaW4uIFBsdWdpbiBub3QgaW5zdGFsbGVkIHByb3Blcmx5XCIpO2woe25hbWU6XCJQbHVnaW5Ob3RJbnN0YWxsZWRQcm9wZXJseVwiLG1lc3NhZ2U6XCJObyByZXNwb25zZSBmcm9tIENocm9tZSBQbHVnaW4uIFBsdWdpbiBub3QgaW5zdGFsbGVkIHByb3Blcmx5LlwifSl9ZWxzZSBlLnNjcmVlbi5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2VJZD10LnN0cmVhbUlkLG5hdmlnYXRvci5nZXRNZWRpYSh7dmlkZW86ZS5zY3JlZW59LChmdW5jdGlvbih0KXtlLmF1ZGlvJiYoYSsrLGYoKSksZCh0KX0pLGwpfSkpfWNhdGNoKGUpe3UuZGVmYXVsdC5kZWJ1ZyhcIltcIitpLnN0cmVhbUlkK1wiXUFnb3JhUlRDIHNjcmVlbnNoYXJpbmcgcGx1Z2luIGlzIG5vdCBhY2Nlc3NpYmxlXCIpO3JldHVybiB2b2lkIG4oe2NvZGU6XCJub19wbHVnaW5fcHJlc2VudFwifSl9fWVsc2V7aWYod2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKXt2YXIgcD17fTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZS5zY3JlZW4ud2lkdGgmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnNjcmVlbi5oZWlnaHQ/cC52aWRlbz17d2lkdGg6e2lkZWFsOmUuc2NyZWVuLndpZHRofSxoZWlnaHQ6e2lkZWFsOmUuc2NyZWVuLmhlaWdodH19OnAudmlkZW89e3dpZHRoOmUuc2NyZWVuLndpZHRoLGhlaWdodDplLnNjcmVlbi5oZWlnaHR9LGUuc2NyZWVuLmZyYW1lUmF0ZSYmZS5zY3JlZW4uZnJhbWVSYXRlLm1pbj9wLnZpZGVvLmZyYW1lUmF0ZT17aWRlYWw6ZS5zY3JlZW4uZnJhbWVSYXRlLm1heCxtYXg6ZS5zY3JlZW4uZnJhbWVSYXRlLm1heH06cC52aWRlby5mcmFtZVJhdGU9ZS5zY3JlZW4uZnJhbWVSYXRlLGUuc2NyZWVuQXVkaW8mJihwLmF1ZGlvPWUuc2NyZWVuQXVkaW8pLHUuZGVmYXVsdC5kZWJ1ZyhcInVzZSBnZXREaXNwbGF5TWVkaWEsIGNvbnN0cmFpbnRzOlwiLHApLHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShwKS50aGVuKChmdW5jdGlvbih0KXshZS5zY3JlZW5BdWRpbyYmZS5hdWRpbyYmKGErKyxmKCkpLGQodCl9KSkuY2F0Y2gobCl9dS5kZWZhdWx0LmVycm9yKFwiW1wiK2kuc3RyZWFtSWQrXCJdVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuU2hhcmluZ1wiKSxuKHtjb2RlOlwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuIHNoYXJpbmdcIn0pfX1lbHNlIGYoKX1lbHNlIGQoYyl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9cihuKDApKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dm9pZCAwPT09dCYmKHQ9XCJcIiksdGhpcy5uYW1lPVwiQWdvcmFSVENFeGNlcHRpb25cIix0aGlzLmNvZGU9ZSx0aGlzLm1lc3NhZ2U9XCJBZ29yYVJUQ0Vycm9yIFwiK3RoaXMuY29kZStcIjogXCIrdCx0aGlzLmRhdGE9bn1yZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhP3RoaXMubWVzc2FnZStcIiBkYXRhOiBcIitKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpOnRoaXMubWVzc2FnZX0sZS5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oKXt0aHJvdyBpLmRlZmF1bHQuZXJyb3IodGhpcy50b1N0cmluZygpKSx0aGlzfSxlfSgpO3QuQWdvcmFSVENFcnJvcj1vLGZ1bmN0aW9uKGUpe2UuVU5FWFBFQ1RFRF9FUlJPUj1cIlVORVhQRUNURURfRVJST1JcIixlLlVORVhQRUNURURfUkVTUE9OU0U9XCJVTkVYUEVDVEVEX1JFU1BPTlNFXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuSU5WQUxJRF9QQVJBTVM9XCJJTlZBTElEX1BBUkFNU1wiLGUuTk9UX1NVUFBPUlQ9XCJOT1RfU1VQUE9SVFwiLGUuSU5WQUxJRF9PUEVSQVRJT049XCJJTlZBTElEX09QRVJBVElPTlwiLGUuT1BFUkFUSU9OX0FCT1JUPVwiT1BFUkFUSU9OX0FCT1JUXCIsZS5XRUJfU0VDVVJJVFlfUkVTVFJJQ1Q9XCJXRUJfU0VDVVJJVFlfUkVTVFJJQ1RcIixlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5ORVRXT1JLX1RJTUVPVVQ9XCJORVRXT1JLX1RJTUVPVVRcIixlLk5FVFdPUktfUkVTUE9OU0VfRVJST1I9XCJORVRXT1JLX1JFU1BPTlNFX0VSUk9SXCIsZS5BUElfSU5WT0tFX1RJTUVPVVQ9XCJBUElfSU5WT0tFX1RJTUVPVVRcIixlLkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRD1cIkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRFwiLGUuREVWSUNFX05PVF9GT1VORD1cIkRFVklDRV9OT1RfRk9VTkRcIixlLkVMRUNUUk9OX0lTX05VTEw9XCJFTEVDVFJPTl9JU19OVUxMXCIsZS5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SPVwiRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUlwiLGUuU1RSRUFNX0FMUkVBRFlfSU5JVElBTElaRUQ9XCJTVFJFQU1fQUxSRUFEWV9JTklUSUFMSVpFRFwiLGUuU1RSRUFNX0lTX0NMT1NFRD1cIlNUUkVBTV9JU19DTE9TRURcIixlLkFCT1JUX09USEVSX0lOSVQ9XCJBQk9SVF9PVEhFUl9JTklUXCIsZS5DSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFPVwiQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRVwiLGUuQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTD1cIkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTExcIixlLk1FRElBX09QVElPTl9JTlZBTElEPVwiTUVESUFfT1BUSU9OX0lOVkFMSURcIixlLlBFUk1JU1NJT05fREVOSUVEPVwiUEVSTUlTU0lPTl9ERU5JRURcIixlLkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRD1cIkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRFwiLGUuQ0FOX05PVF9BVVRPUExBWT1cIkNBTl9OT1RfQVVUT1BMQVlcIixlLkhJR0hfU1RSRUFNX05PX1ZJREVPX1RSQUNLPVwiSElHSF9TVFJFQU1fTk9fVklERU9fVFJBQ0tcIixlLlNDUkVFTl9TSEFSRV9DQU5fTk9UX0NSRUFURV9MT1dfU1RSRUFNPVwiU0NSRUVOX1NIQVJFX0NBTl9OT1RfQ1JFQVRFX0xPV19TVFJFQU1cIixlLlRSQUNLX0lTX0RJU0FCTEVEPVwiVFJBQ0tfSVNfRElTQUJMRURcIixlLlNIQVJFX0FVRElPX05PVF9BTExPV0VEPVwiU0hBUkVfQVVESU9fTk9UX0FMTE9XRURcIixlLlRPS0VOX0dFTkVSQVRPUl9GVU5DVElPTl9FUlJPUj1cIlRPS0VOX0dFTkVSQVRPUl9GVU5DVElPTl9FUlJPUlwiLGUuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQ9XCJJTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRFwiLGUuQ0FOX05PVF9HRVRfUFJPWFlfU0VSVkVSPVwiQ0FOX05PVF9HRVRfUFJPWFlfU0VSVkVSXCIsZS5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj1cIkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSXCIsZS5VSURfQ09ORkxJQ1Q9XCJVSURfQ09ORkxJQ1RcIixlLklOVkFMSURfTE9DQUxfVFJBQ0s9XCJJTlZBTElEX0xPQ0FMX1RSQUNLXCIsZS5JTlZBTElEX1RSQUNLPVwiSU5WQUxJRF9UUkFDS1wiLGUuU0VOREVSX05PVF9GT1VORD1cIlNFTkRFUl9OT1RfRk9VTkRcIixlLkNSRUFURV9PRkZFUl9GQUlMRUQ9XCJDUkVBVEVfT0ZGRVJfRkFJTEVEXCIsZS5TRVRfQU5TV0VSX0ZBSUxFRD1cIlNFVF9BTlNXRVJfRkFJTEVEXCIsZS5JQ0VfRkFJTEVEPVwiSUNFX0ZBSUxFRFwiLGUuUENfQ0xPU0VEPVwiUENfQ0xPU0VEXCIsZS5TRU5ERVJfUkVQTEFDRV9GQUlMRUQ9XCJTRU5ERVJfUkVQTEFDRV9GQUlMRURcIixlLkdBVEVXQVlfUDJQX0xPU1Q9XCJHQVRFV0FZX1AyUF9MT1NUXCIsZS5OT19JQ0VfQ0FORElEQVRFPVwiTk9fSUNFX0NBTkRJREFURVwiLGUuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUz1cIkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1NcIixlLklOVkFMSURfUkVNT1RFX1VTRVI9XCJJTlZBTElEX1JFTU9URV9VU0VSXCIsZS5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEPVwiUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRFwiLGUuU1VCU0NSSVBUSU9OX0lTX0lOX1BST0dSRVNTPVwiU1VCU0NSSVBUSU9OX0lTX0lOX1BST0dSRVNTXCIsZS5DVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEPVwiQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRFwiLGUuQ1VTVE9NX1JFUE9SVF9GUkVRVUVOQ1lfVE9PX0hJR0g9XCJDVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSFwiLGUuRkVUQ0hfQVVESU9fRklMRV9GQUlMRUQ9XCJGRVRDSF9BVURJT19GSUxFX0ZBSUxFRFwiLGUuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SPVwiUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SXCIsZS5ERUNPREVfQVVESU9fRklMRV9GQUlMRUQ9XCJERUNPREVfQVVESU9fRklMRV9GQUlMRURcIixlLkVGRkVDVF9JRF9DT05GTElDVEVEPVwiRUZGRUNUX0lEX0NPTkZMSUNURURcIixlLkVGRkVDVF9TT1VORF9JRF9OT1RfRk9VTkQ9XCJFRkZFQ1RfU09VTkRfSURfTk9UX0ZPVU5EXCIsZS5XU19BQk9SVD1cIldTX0FCT1JUXCIsZS5XU19ESVNDT05ORUNUPVwiV1NfRElTQ09OTkVDVFwiLGUuV1NfRVJSPVwiV1NfRVJSXCIsZS5DQU5fTk9UX0NPTk5FQ1RfVE9fTElWRV9TVFJFQU1JTkdfV09SS0VSPVwiQ0FOX05PVF9DT05ORUNUX1RPX0xJVkVfU1RSRUFNSU5HX1dPUktFUlwiLGUuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVD1cIkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1RcIixlLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlQ9XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5UXCIsZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1I9XCJMSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlLkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVEPVwiTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRURcIixlLkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JUPVwiTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRcIixlLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNPVwiTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVQ9XCJMSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVRcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0U9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1Q9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1RcIixlLldFQkdMX0lOVEVSTkFMX0VSUk9SPVwiV0VCR0xfSU5URVJOQUxfRVJST1JcIixlLkJFQVVUWV9QUk9DRVNTT1JfSU5URVJOQUxfRVJST1I9XCJCRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SXCIsZS5DUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SPVwiQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUlwiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TUkM9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NFQ1wiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUXCIsZS5DUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVFwiLGUuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0U9XCJDUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRVwiLGUuTUVUQURBVEFfT1VUX09GX1JBTkdFPVwiTUVUQURBVEFfT1VUX09GX1JBTkdFXCJ9KHQuQWdvcmFSVENFcnJvckNvZGV8fCh0LkFnb3JhUlRDRXJyb3JDb2RlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDApLGk9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCxvPW4oMiksYT1vLmdldFBhcmFtZXRlcixzPW8uc2V0UGFyYW1ldGVyLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYShcIkFVRElPX0NPTlRFWFRcIil8fChjb25zb2xlLmxvZyhcIkNyZWF0aW5nIEF1ZGlvIENvbnRleHRcIikscyhcIkFVRElPX0NPTlRFWFRcIixmdW5jdGlvbigpe2lmKGkpe3ZhciBlPW5ldyBpO3JldHVybiB3aW5kb3cuY3R4PWUsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2RvY3VtZW50LmJvZHk/ZSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGUpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24gdCgpe1wic3VzcGVuZGVkXCI9PWUuc3RhdGU/KHIuZGVmYXVsdC5kZWJ1ZyhcIkF1ZGlvQ29udGV4dCBpcyBzdXNwZW5kZWQsIGF1dG8gcmVzdW1lXCIpLGUucmVzdW1lKCkudGhlbigoZnVuY3Rpb24oKXtyLmRlZmF1bHQuZGVidWcoXCJBdWRpb0NvbnRleHQgcmVzdW1lIHN1Y2Nlc3NcIiksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0LCEwKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0LCEwKX0pKSk6KHIuZGVmYXVsdC5kZWJ1ZyhcIkF1ZGlvQ29udGV4dCBpcyBydW5uaW5nXCIpLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdCwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdCwhMCkpfTtyLmRlZmF1bHQuZGVidWcoXCI+Pj4gYWRkIGV2ZW50IGxpc3RlbmVyID4+Pj5cIiksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0LCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0LCEwKX0pKSxlfXRocm93IG5ldyBFcnJvcihcIkFVRElPX0NPTlRFWFRfTk9UX1NVUFBPUlRFRFwiKX0oKSkpLGEoXCJBVURJT19DT05URVhUXCIpfTtjKCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEpLGk9bnVsbDt2YXIgbz1mdW5jdGlvbigpe3RyeXtpPXdpbmRvdy5yZXF1aXJlKFwiZWxlY3Ryb25cIil9Y2F0Y2goZSl7fXJldHVybiBpfSxhPWZ1bmN0aW9uKGUpe3ZhciB0PXIucmVwb3J0LnJlcG9ydEFwaUludm9rZShudWxsLHtjYWxsYmFjazplLG5hbWU6XCJnZXRTY3JlZW5Tb3VyY2VzXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KSxuPW8oKTtpZighbilyZXR1cm4gdCYmdChcImVsZWN0cm9uIGlzIG51bGxcIik7dHJ5e3ZhciBpPW4uZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMoe3R5cGVzOltcIndpbmRvd1wiLFwic2NyZWVuXCJdfSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coZSl9aWYoaSBpbnN0YW5jZW9mIFByb21pc2UpY29uc29sZS5sb2coXCJlbGVjdHJvbi5kZXNrdG9wQ2FwdHVyZXIuZ2V0U291cmNlcyByZXR1cm4gdHlwZSBpcyBQcm9taXNlXCIpLGkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnQobnVsbCxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnQoZSl9KSk7ZWxzZSBpPW4uZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMoe3R5cGVzOltcIndpbmRvd1wiLFwic2NyZWVuXCJdfSwoZnVuY3Rpb24oZSxuKXtjb25zb2xlLmxvZyhcImVsZWN0cm9uLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzIHJldHVybiB0eXBlIGlzIGNhbGxiYWNrXCIpLHQmJnQobnVsbCxuKX0pKX0scz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC53aWR0aDt0PXthdWRpbzohMSx2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOmUsbWF4SGVpZ2h0OnQuaGVpZ2h0LG1heFdpZHRoOnIsbWF4RnJhbWVSYXRlOnQuZnJhbWVSYXRlJiZ0LmZyYW1lUmF0ZS5tYXgsbWluRnJhbWVSYXRlOnQuZnJhbWVSYXRlJiZ0LmZyYW1lUmF0ZS5taW59fX07bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSh0LChmdW5jdGlvbihlKXtuJiZuKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7biYmbihlKX0pKX07dC5hPXtpc0VsZWN0cm9uOmZ1bmN0aW9uKCl7cmV0dXJuISFvKCl9LGdldEVsZWN0cm9uSW5zdGFuY2U6byxnZXRTY3JlZW5Tb3VyY2VzOmEsZ2V0U2NyZWVuU3RyZWFtOnMsc2hhcmVTY3JlZW46ZnVuY3Rpb24oZSx0KXthKChmdW5jdGlvbihuLHIpe2lmKG4pcmV0dXJuIHQmJnQobik7IWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmlubmVyVGV4dD1cInNoYXJlIHNjcmVlblwiLG4uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInRleHQtYWxpZ246IGNlbnRlcjsgaGVpZ2h0OiAyNXB4OyBsaW5lLWhlaWdodDogMjVweDsgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7IGJhY2tncm91bmQ6ICNENEQyRDQ7IGJvcmRlci1ib3R0b206ICBzb2xpZCAxcHggI0I5QjhCOTtcIik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA1MDBweDsgcGFkZGluZzogMTVweCAyNXB4IDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLmlubmVyVGV4dD1cIkFnb3JhIFdlYiBTY3JlZW5zaGFyaW5nIHdhbnRzIHRvIHNoYXJlIHRoZSBjb250ZW50cyBvZiB5b3VyIHNjcmVlbiB3aXRoIHdlYmRlbW8uYWdvcmFiZWNrb24uY29tLiBDaG9vc2Ugd2hhdCB5b3UnZCBsaWtlIHRvIHNoYXJlLlwiLGkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImhlaWdodDogMTIlO1wiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDgwJTsgYmFja2dyb3VuZDogI0ZGRjsgYm9yZGVyOiAgc29saWQgMXB4ICNDQkNCQ0I7IGRpc3BsYXk6IGZsZXg7IGZsZXgtd3JhcDogd3JhcDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7IG92ZXJmbG93LXk6IHNjcm9sbDsgcGFkZGluZzogMCAxNXB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInRleHQtYWxpZ246IHJpZ2h0OyBwYWRkaW5nOiAxNnB4IDA7XCIpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cy5pbm5lckhUTUw9XCJjYW5jZWxcIixzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogODVweDtcIikscy5vbmNsaWNrPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjKSx0JiZ0KFwiTm90QWxsb3dlZEVycm9yXCIpfSxhLmFwcGVuZENoaWxkKHMpLHIuYXBwZW5kQ2hpbGQoaSksci5hcHBlbmRDaGlsZChvKSxyLmFwcGVuZENoaWxkKGEpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwicG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiA5OTk5OTk5OTsgdG9wOiA1MCU7IGxlZnQ6IDUwJTsgd2lkdGg6IDYyMHB4OyBoZWlnaHQ6IDUyNXB4OyBiYWNrZ3JvdW5kOiAjRUNFQ0VDOyBib3JkZXItcmFkaXVzOiA0cHg7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTtcIiksYy5hcHBlbmRDaGlsZChuKSxjLmFwcGVuZENoaWxkKHIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYyksZS5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUuaWQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDMwJTsgaGVpZ2h0OiAxNjBweDsgcGFkZGluZzogMjBweCAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ym94LXNpemluZzogY29udGVudC1ib3g7XCIpO3ZhciByPWUudGh1bWJuYWlsO3IuZ2V0U2l6ZSgpLndpZHRoPjE5MjAmJihyPXIucmVzaXplKHt3aWR0aDoxOTIwfSkpLG4uaW5uZXJIVE1MPSc8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMjBweDsgZGlzcGxheTogdGFibGUtY2VsbDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcIj48aW1nIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICMzMzMzMzM7IGJveC1zaGFkb3c6IDFweCAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMik7XCIgc3JjPScrci50b0RhdGFVUkwoKSsnIC8+PC9kaXY+PHNwYW4gc3R5bGU9XCJcXHRoZWlnaHQ6IDQwcHg7IGxpbmUtaGVpZ2h0OiA0MHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA3MCU7IHdvcmQtYnJlYWs6IGtlZXAtYWxsOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcIj4nK2UubmFtZS5yZXBsYWNlKC9bXFx1MDBBMC1cXHU5OTk5PD5cXCZdL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiJiNcIitlLmNoYXJDb2RlQXQoMCkrXCI7XCJ9KSkrXCI8L3NwYW4+XCIsbi5vbmNsaWNrPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjKSx0JiZ0KG51bGwsZS5pZCl9LG8uYXBwZW5kQ2hpbGQobil9fSkpfShyLChmdW5jdGlvbihuLHIpe2lmKG4pcmV0dXJuIHQmJnQobik7cyhyLGUsdCl9KSl9KSl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMyk7IWZ1bmN0aW9uKGUpe2UuVFJBTlNDT0RFPVwibWl4X3N0cmVhbWluZ1wiLGUuUkFXPVwicmF3X3N0cmVhbWluZ1wiLGUuSU5KRUNUPVwiaW5qZWN0X3N0cmVhbWluZ1wifSh0LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZXx8KHQuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlPXt9KSksdC5ERUZBVUxUX0xJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX1VTRVI9e2FscGhhOjEsaGVpZ2h0OjY0MCx3aWR0aDozNjAseDowLHk6MCx6T3JkZXI6MCxhdWRpb0NoYW5uZWw6MH0sdC5ERUZBVUxUX0xJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX1dBVEVSTUFSSz17eDowLHk6MCx3aWR0aDoxNjAsaGVpZ2h0OjE2MCx6T3JkZXI6MjU1LGFscGhhOjF9LHQuaXNMaXZlU3RyZWFtaW5nVHJhbnNjb2RpbmdDb25maWc9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuaXNFbXB0eShlLndpZHRoKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUud2lkdGgsXCJjb25maWcud2lkdGhcIiwwKSxyLmlzRW1wdHkoZS5oZWlnaHQpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5oZWlnaHQsXCJjb25maWcuaGVpZ2h0XCIsMCksci5pc0VtcHR5KGUudmlkZW9CaXRyYXRlKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUudmlkZW9CaXRyYXRlLFwiY29uZmlnLnZpZGVvQml0cmF0ZVwiLDEsMWU2KSxyLmlzRW1wdHkoZS52aWRlb0ZyYW1lcmF0ZSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnZpZGVvRnJhbWVyYXRlLFwiY29uZmlnLnZpZGVvRnJhbWVyYXRlXCIpLHIuaXNFbXB0eShlLmxvd0xhdGVuY3kpfHxyLmNoZWNrVmFsaWRCb29sZWFuKGUubG93TGF0ZW5jeSxcImNvbmZpZy5sb3dMYXRlbmN5XCIpLHIuaXNFbXB0eShlLmF1ZGlvU2FtcGxlUmF0ZSl8fHIuY2hlY2tWYWxpZEVudW0oZS5hdWRpb1NhbXBsZVJhdGUsXCJjb25maWcuYXVkaW9TYW1wbGVSYXRlXCIsWzMyZTMsNDQxMDAsNDhlM10pLHIuaXNFbXB0eShlLmF1ZGlvQml0cmF0ZSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmF1ZGlvQml0cmF0ZSxcImNvbmZpZy5hdWRpb0JpdHJhdGVcIiwxLDEyOCksci5pc0VtcHR5KGUuYXVkaW9DaGFubmVscyl8fHIuY2hlY2tWYWxpZEVudW0oZS5hdWRpb0NoYW5uZWxzLFwiY29uZmlnLmF1ZGlvQ2hhbm5lbHNcIixbMSwyLDMsNCw1XSksci5pc0VtcHR5KGUudmlkZW9Hb3ApfHxyLmNoZWNrVmFsaWROdW1iZXIoZS52aWRlb0dvcCxcImNvbmZpZy52aWRlb0dvcFwiKSxyLmlzRW1wdHkoZS52aWRlb0NvZGVjUHJvZmlsZSl8fHIuY2hlY2tWYWxpZEVudW0oZS52aWRlb0NvZGVjUHJvZmlsZSxcImNvbmZpZy52aWRlb0NvZGVjUHJvZmlsZVwiLFs2Niw3NywxMDBdKSxyLmlzRW1wdHkoZS51c2VyQ291bnQpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS51c2VyQ291bnQsXCJjb25maWcudXNlckNvdW50XCIsMCwxNyksci5pc0VtcHR5KGUuYmFja2dyb3VuZENvbG9yKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuYmFja2dyb3VuZENvbG9yLFwiY29uZmlnLmJhY2tncm91bmRDb2xvclwiLDAsMTY3NzcyMTUpLGUudHJhbnNjb2RpbmdVc2VycyYmIXIuaXNFbXB0eShlLnRyYW5zY29kaW5nVXNlcnMpJiYoci5jaGVja1ZhbGlkQXJyYXkoZS50cmFuc2NvZGluZ1VzZXJzLFwiY29uZmlnLnRyYW5zY29kaW5nVXNlcnNcIiksZS50cmFuc2NvZGluZ1VzZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ci5jaGVja1ZhbGlkVUlEKGUudWlkKSxyLmlzRW1wdHkoZS54KXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUueCxcInRyYW5zY29kaW5nVXNlcltcIit0K1wiXS54XCIsMCwxZTQpLHIuaXNFbXB0eShlLnkpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS55LFwidHJhbnNjb2RpbmdVc2VyW1wiK3QrXCJdLnlcIiwwLDFlNCksci5pc0VtcHR5KGUud2lkdGgpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS53aWR0aCxcInRyYW5zY29kaW5nVXNlcltcIit0K1wiXS53aWR0aFwiLDAsMWU0KSxyLmlzRW1wdHkoZS5oZWlnaHQpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5oZWlnaHQsXCJ0cmFuc2NvZGluZ1VzZXJbXCIrdCtcIl0uaGVpZ2h0XCIsMCwxZTQpLHIuaXNFbXB0eShlLnpPcmRlcil8fHIuY2hlY2tWYWxpZE51bWJlcihlLnpPcmRlci0xLFwidHJhbnNjb2RpbmdVc2VyW1wiK3QrXCJdLnpPcmRlclwiLDAsMTAwKSxyLmlzRW1wdHkoZS5hbHBoYSl8fHIuY2hlY2tWYWxpZEZsb2F0TnVtYmVyKGUuYWxwaGEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIrdCtcIl0uYWxwaGFcIiwwLDEpfSkpKSxlLmltYWdlcyYmIXIuaXNFbXB0eShlLmltYWdlcykmJihyLmNoZWNrVmFsaWRBcnJheShlLmltYWdlcyxcImNvbmZpZy5pbWFnZXNcIiksZS5pbWFnZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyLmNoZWNrVmFsaWRTdHJpbmcoZS51cmwsXCJpbWFnZXNbXCIrdCtcIl0udXJsXCIsMSwxZTMsITEpLHIuaXNFbXB0eShlLngpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS54LFwiaW1hZ2VzW1wiK3QrXCJdLnhcIiwwLDFlNCksci5pc0VtcHR5KGUueSl8fHIuY2hlY2tWYWxpZE51bWJlcihlLnksXCJpbWFnZXNbXCIrdCtcIl0ueVwiLDAsMWU0KSxyLmlzRW1wdHkoZS53aWR0aCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLndpZHRoLFwiaW1hZ2VzW1wiK3QrXCJdLndpZHRoXCIsMCwxZTQpLHIuaXNFbXB0eShlLmhlaWdodCl8fHIuY2hlY2tWYWxpZE51bWJlcihlLmhlaWdodCxcImltYWdlc1tcIit0K1wiXS5oZWlnaHRcIiwwLDFlNCksci5pc0VtcHR5KGUuek9yZGVyKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuek9yZGVyLFwiaW1hZ2VzW1wiK3QrXCJdLnpPcmRlclwiLDAsMjU1KSxyLmlzRW1wdHkoZS5hbHBoYSl8fHIuY2hlY2tWYWxpZEZsb2F0TnVtYmVyKGUuYWxwaGEsXCJpbWFnZXNbXCIrdCtcIl0uYWxwaGFcIiwwLDEpfSkpKSwhMH0sdC5ERUZBVUxUX1RSQU5TQ09ESU5HX0NPTkZJRz17YXVkaW9CaXRyYXRlOjQ4LGF1ZGlvQ2hhbm5lbHM6MSxhdWRpb1NhbXBsZVJhdGU6NDhlMyxiYWNrZ3JvdW5kQ29sb3I6MCxoZWlnaHQ6MzYwLGxvd0xhdGVuY3k6ITEsdmlkZW9CaXRyYXRlOjQwMCx2aWRlb0NvZGVjUHJvZmlsZToxMDAsdmlkZW9Db2RlY1R5cGU6MSx2aWRlb0ZyYW1lcmF0ZToxNSx2aWRlb0dvcDozMCx3aWR0aDo2NDAsaW1hZ2VzOltdLHVzZXJDb25maWdzOltdLHVzZXJDb25maWdFeHRyYUluZm86XCJcIn0sdC5pc0luamVjdFN0cmVhbUNvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gci5pc0VtcHR5KGUuYXVkaW9Wb2x1bWUpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5hdWRpb1ZvbHVtZSxcImNvbmZpZy5hdWRpb1ZvbHVtZVwiLDAsMWUzKSxyLmlzRW1wdHkoZS5hdWRpb0JpdHJhdGUpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS5hdWRpb0JpdHJhdGUsXCJjb25maWcuYXVkaW9CaXRyYXRlXCIsMSwxZTQpLHIuaXNFbXB0eShlLmF1ZGlvQ2hhbm5lbHMpfHxyLmNoZWNrVmFsaWRFbnVtKGUuYXVkaW9DaGFubmVscyxcImNvbmZpZy5hdWRpb0NoYW5uZWxzXCIsWzEsMl0pLHIuaXNFbXB0eShlLmF1ZGlvU2FtcGxlUmF0ZSl8fHIuY2hlY2tWYWxpZEVudW0oZS5hdWRpb1NhbXBsZVJhdGUsXCJjb25maWcuYXVkaW9TYW1wbGVSYXRlXCIsWzMyZTMsNDQxMDAsNDhlM10pLHIuaXNFbXB0eShlLndpZHRoKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUud2lkdGgsXCJjb25maWcud2lkdGhcIiwwLDFlNCksci5pc0VtcHR5KGUuaGVpZ2h0KXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUuaGVpZ2h0LFwiY29uZmlnLmhlaWdodFwiLDAsMWU0KSxyLmlzRW1wdHkoZS52aWRlb0JpdHJhdGUpfHxyLmNoZWNrVmFsaWROdW1iZXIoZS52aWRlb0JpdHJhdGUsXCJjb25maWcudmlkZW9CaXRyYXRlXCIsMSwxZTQpLHIuaXNFbXB0eShlLnZpZGVvRnJhbWVyYXRlKXx8ci5jaGVja1ZhbGlkTnVtYmVyKGUudmlkZW9GcmFtZXJhdGUsXCJjb25maWcudmlkZW9GcmFtZXJhdGVcIiwxLDFlNCksci5pc0VtcHR5KGUudmlkZW9Hb3ApfHxyLmNoZWNrVmFsaWROdW1iZXIoZS52aWRlb0dvcCxcImNvbmZpZy52aWRlb0dvcFwiLDEsMWU0KSwhMH0sdC5ERUZBVUxUX0lOSkVDVF9DT05GSUc9e2F1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjIsYXVkaW9Wb2x1bWU6MTAwLGF1ZGlvU2FtcGxlUmF0ZTo0OGUzLGhlaWdodDowLHdpZHRoOjAsdmlkZW9CaXRyYXRlOjQwMCx2aWRlb0ZyYW1lcmF0ZToxNSx2aWRlb0dvcDozMH0sZnVuY3Rpb24oZSl7ZS5XQVJOSU5HPVwiQGxpdmVfdWFwLXdhcm5pbmdcIixlLkVSUk9SPVwiQGxpbmVfdWFwLWVycm9yXCIsZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtcHVibGlzaC1zdGF0dXNcIixlLklOSkVDVF9TVFJFQU1fU1RBVFVTPVwiQGxpdmVfdWFwLWluamVjdC1zdGF0dXNcIixlLldPUktFUl9TVEFUVVM9XCJAbGl2ZV91YXAtd29ya2VyLXN0YXR1c1wiLGUuUkVRVUVTVF9ORVdfQUREUkVTUz1cIkBsaXZlX3VhcC1yZXF1ZXN0LWFkZHJlc3NcIn0odC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzfHwodC5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzPXt9KSksZnVuY3Rpb24oZSl7ZS5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1Q9XCJAbGl2ZV9yZXFfd29ya2VyX21hbmFnZXJcIn0odC5MaXZlU3RyZWFtaW5nSW50ZXJuYWxFdmVudHN8fCh0LkxpdmVTdHJlYW1pbmdJbnRlcm5hbEV2ZW50cz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEPTIwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTT00NTRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj00NTBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU09NDUxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU1cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SPTQwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1JcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVD00MDRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRD00NTZdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U9NDU3XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOPTQyOV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSD00NTJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0hcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRD00NTNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTT00NTVdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU1cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q9NTAxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUPTUwMl09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVD01MDNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVRcIixlW2UuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U9NTA0XT1cIkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOR05PUkVfTUVTU0FHRT01MDVdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5HTk9SRV9NRVNTQUdFXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRT0zMF09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0VcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVD0zMV09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g9MzJdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSFwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU49MzNdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOXCJ9KHQuTElWRV9TVFJFQU1fRVJST1JfQ09ERXx8KHQuTElWRV9TVFJFQU1fRVJST1JfQ09ERT17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OTkVDVEVEPVwid2Vic29ja2V0OmNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwid2Vic29ja2V0OnJlY29ubmVjdGluZ1wiLGUuV0lMTF9SRUNPTk5FQ1Q9XCJ3ZWJzb2NrZXQ6d2lsbF9yZWNvbm5lY3RcIixlLkNMT1NFRD1cIndlYnNvY2tldDpjbG9zZWRcIixlLkZBSUxFRD1cIndlYnNvY2tldDpmYWlsZWRcIixlLk9OX01FU1NBR0U9XCJ3ZWJzb2NrZXQ6b25fbWVzc2FnZVwiLGUuUkVRVUVTVF9ORVdfVVJMUz1cIndlYnNvY2tldDpyZXF1ZXN0X25ld191cmxzXCJ9KHQuV2ViU29ja2V0TWFuYWdlckV2ZW50c3x8KHQuV2ViU29ja2V0TWFuYWdlckV2ZW50cz17fSkpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1NyksaT1uKDU4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXQmJm58fDA7XCJzdHJpbmdcIj09dHlwZW9mIGUmJih0PVwiYmluYXJ5XCI9PT1lP25ldyBBcnJheSgxNik6bnVsbCxlPW51bGwpO3ZhciBhPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8cikoKTtpZihhWzZdPTE1JmFbNl18NjQsYVs4XT02MyZhWzhdfDEyOCx0KWZvcih2YXIgcz0wO3M8MTY7KytzKXRbbytzXT1hW3NdO3JldHVybiB0fHxpKGEpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByO2UuZXhwb3J0cz0ocj1uKDczKSxmdW5jdGlvbihlKXt2YXIgdD1yLG49dC5saWIsaT1uLldvcmRBcnJheSxvPW4uSGFzaGVyLGE9dC5hbGdvLHM9W10sYz1bXTshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgbj1lLnNxcnQodCkscj0yO3I8PW47cisrKWlmKCEodCVyKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBuKGUpe3JldHVybiA0Mjk0OTY3Mjk2KihlLSgwfGUpKXwwfWZvcih2YXIgcj0yLGk9MDtpPDY0Oyl0KHIpJiYoaTw4JiYoc1tpXT1uKGUucG93KHIsLjUpKSksY1tpXT1uKGUucG93KHIsMS8zKSksaSsrKSxyKyt9KCk7dmFyIGQ9W10sdT1hLlNIQTI1Nj1vLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQocy5zbGljZSgwKSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLl9oYXNoLndvcmRzLHI9blswXSxpPW5bMV0sbz1uWzJdLGE9blszXSxzPW5bNF0sdT1uWzVdLGw9bls2XSxmPW5bN10scD0wO3A8NjQ7cCsrKXtpZihwPDE2KWRbcF09MHxlW3QrcF07ZWxzZXt2YXIgZz1kW3AtMTVdLG09KGc8PDI1fGc+Pj43KV4oZzw8MTR8Zz4+PjE4KV5nPj4+MyxoPWRbcC0yXSx2PShoPDwxNXxoPj4+MTcpXihoPDwxM3xoPj4+MTkpXmg+Pj4xMDtkW3BdPW0rZFtwLTddK3YrZFtwLTE2XX12YXIgRT1yJmleciZvXmkmbyxTPShyPDwzMHxyPj4+MileKHI8PDE5fHI+Pj4xMyleKHI8PDEwfHI+Pj4yMiksXz1mKygoczw8MjZ8cz4+PjYpXihzPDwyMXxzPj4+MTEpXihzPDw3fHM+Pj4yNSkpKyhzJnVefnMmbCkrY1twXStkW3BdO2Y9bCxsPXUsdT1zLHM9YStffDAsYT1vLG89aSxpPXIscj1fKyhTK0UpfDB9blswXT1uWzBdK3J8MCxuWzFdPW5bMV0raXwwLG5bMl09blsyXStvfDAsblszXT1uWzNdK2F8MCxuWzRdPW5bNF0rc3wwLG5bNV09bls1XSt1fDAsbls2XT1uWzZdK2x8MCxuWzddPW5bN10rZnwwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsbj10LndvcmRzLHI9OCp0aGlzLl9uRGF0YUJ5dGVzLGk9OCp0LnNpZ0J5dGVzO3JldHVybiBuW2k+Pj41XXw9MTI4PDwyNC1pJTMyLG5bMTQrKGkrNjQ+Pj45PDw0KV09ZS5mbG9vcihyLzQyOTQ5NjcyOTYpLG5bMTUrKGkrNjQ+Pj45PDw0KV09cix0LnNpZ0J5dGVzPTQqbi5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9by5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxlfX0pO3QuU0hBMjU2PW8uX2NyZWF0ZUhlbHBlcih1KSx0LkhtYWNTSEEyNTY9by5fY3JlYXRlSG1hY0hlbHBlcih1KX0oTWF0aCksci5TSEEyNTYpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yYW5kb21TdHJpbmc9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9OCk7Zm9yKHZhciB0PVwiQUJDREVGR0hKS01OUFFSU1RXWFlaYWJjZGVmaGlqa21ucHJzdHd4eXoyMzQ1Njc4XCIsbj10Lmxlbmd0aCxyPVwiXCIsaT0wO2k8ZTtpKyspcis9dC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4pKTtyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG89dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sYT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDIpLGM9YShuKDM3KSksZD1uKDI0KSx1PWEobigwKSksbD1uKDEpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXt3aW5kb3cuc2V0VGltZW91dCh0LGUpfSkpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC50aW1lb3V0PXQudGltZW91dHx8cy5nZXRQYXJhbWV0ZXIoXCJIVFRQX0NPTk5FQ1RfVElNRU9VVFwiKSx0LnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsdC5kYXRhJiYodC5kYXRhPUpTT04uc3RyaW5naWZ5KHQuZGF0YSkpLHQuaGVhZGVycz10LmhlYWRlcnN8fHt9LHQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1cImFwcGxpY2F0aW9uL2pzb25cIix0Lm1ldGhvZD1cIlBPU1RcIix0LnVybD1lLGMuZGVmYXVsdC5yZXF1ZXN0KHQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oZS5kYXRhKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Yy5kZWZhdWx0LmlzQ2FuY2VsKGUpP3IobmV3IGQuQWdvcmFSVENFcnJvcihkLkFnb3JhUlRDRXJyb3JDb2RlLk9QRVJBVElPTl9BQk9SVCxcImNhbmNlbCB0b2tlbiBjYW5jZWxlZFwiKSk6XCJFQ09OTkFCT1JURURcIj09PWUuY29kZT9yKG5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5ORVRXT1JLX1RJTUVPVVQsZS5tZXNzYWdlKSk6ZS5yZXNwb25zZT9yKG5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGUucmVzcG9uc2Uuc3RhdHVzKSk6cihuZXcgZC5BZ29yYVJUQ0Vycm9yKGQuQWdvcmFSVENFcnJvckNvZGUuTkVUV09SS19FUlJPUixlLm1lc3NhZ2UpKX0pKX0pKX1mdW5jdGlvbiBnKGUsbixyLGEpe3ZhciBzPXRoaXMsYz1PYmplY3QuYXNzaWduKHt9LHQuREVGQVVMVF9SRVRSWV9DT05GSUcsYSksdT1jLnRpbWVvdXQsbD1mdW5jdGlvbigpe3JldHVybiBpKHMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGYodSldO2Nhc2UgMTpyZXR1cm4gZS5zZW50KCksdSo9Yy50aW1lb3V0RmFjdG9yLHU9TWF0aC5taW4oYy5tYXhSZXRyeVRpbWVvdXQsdSksWzJdfX0pKX0pKX0scD0hMSxnPW5ldyBQcm9taXNlKChmdW5jdGlvbih0LGEpe3JldHVybiBpKHMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxzLHU7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpuPW58fGZ1bmN0aW9uKCl7cmV0dXJuITF9LHI9cnx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0saT0wLG8ubGFiZWw9MTtjYXNlIDE6aWYoIShpPGMubWF4UmV0cnlDb3VudCkpcmV0dXJuWzMsMTJdO2lmKHApcmV0dXJuWzIsYShuZXcgZC5BZ29yYVJUQ0Vycm9yKGQuQWdvcmFSVENFcnJvckNvZGUuT1BFUkFUSU9OX0FCT1JUKSldO28ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG8udHJ5cy5wdXNoKFsyLDcsLDExXSksWzQsZSgpXTtjYXNlIDM6cmV0dXJuIHM9by5zZW50KCksbihzLGkpP2krMT09PWMubWF4UmV0cnlDb3VudD9bMix0KHMpXTpbNCxsKCldOlszLDVdO2Nhc2UgNDpyZXR1cm4gby5zZW50KCksWzMsNl07Y2FzZSA1OnJldHVyblsyLHQocyldO2Nhc2UgNjpyZXR1cm5bMywxMV07Y2FzZSA3OnJldHVybiB1PW8uc2VudCgpLHIodSxpKT9pKzE9PT1jLm1heFJldHJ5Q291bnQ/WzIsYSh1KV06WzQsbCgpXTpbMyw5XTtjYXNlIDg6cmV0dXJuIG8uc2VudCgpLFszLDEwXTtjYXNlIDk6cmV0dXJuWzIsYSh1KV07Y2FzZSAxMDpyZXR1cm5bMywxMV07Y2FzZSAxMTpyZXR1cm4gaSs9MSxbMywxXTtjYXNlIDEyOnJldHVyblsyXX19KSl9KSl9KSk7cmV0dXJuIGcuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHA9ITB9LGd9ZnVuY3Rpb24gbShlLHQpe3JldHVybnthZGRyZXNzTGlzdDplLnNlcnZlcnMubWFwKChmdW5jdGlvbihlLG4pe3JldHVyblwid3NzOi8vXCIrZS5hZGRyZXNzLnJlcGxhY2UoL1xcLi9nLFwiLVwiKStcIi5lZGdlLmFnb3JhLmlvOlwiK2Uud3NzK1wiP3NlcnZpY2VOYW1lPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KX0pKSx3b3JrZXJUb2tlbjplLndvcmtlclRva2VuLHZpZDplLnZpZH19dC53YWl0PWYsdC5wb3N0PXAsdC5ERUZBVUxUX1JFVFJZX0NPTkZJRz17dGltZW91dDo1MDAsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLzAsbWF4UmV0cnlUaW1lb3V0OjFlNH0sdC5nZXRSZXRyeVdhaXRUaW1lPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC50aW1lb3V0Kk1hdGgucG93KHQudGltZW91dEZhY3RvcixlKTtyZXR1cm4gTWF0aC5taW4odC5tYXhSZXRyeVRpbWVvdXQsbil9LHQucmV0cnlhYmxlPWcsdC5saXZlU3RyZWFtaW5nU2VydmVyUmVzcG9uc2VUb1Jlc3VsdD1tO3ZhciBoPTE7ZnVuY3Rpb24gdihlLG4sYSxjLGYpe3ZhciB2PXRoaXM7dm9pZCAwPT09ZiYmKGY9dC5ERUZBVUxUX1JFVFJZX0NPTkZJRyksaCs9MTt2YXIgRSxTLF89e3NpZDphLnNpZCxjb21tYW5kOlwiY29udmVyZ2VBbGxvY2F0ZUVkZ2VcIix1aWQ6XCI2NjZcIixhcHBJZDphLmFwcElkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHNlcTpoLHJlcXVlc3RJZDpoLHZlcnNpb246cy5WRVJTSU9OLGNuYW1lOmEuY25hbWV9LHk9e3NlcnZpY2VfbmFtZTpuLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeShfKX0sUj1lWzBdO3JldHVybiBnKChmdW5jdGlvbigpe3JldHVybiBpKHYsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSx0LGksYSxsO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cmV0dXJuIEU9RGF0ZS5ub3coKSxbNCxwKFIse2RhdGE6eSxjYW5jZWxUb2tlbjpjLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9fSldO2Nhc2UgMTppZihlPW8uc2VudCgpLFM9RGF0ZS5ub3coKS1FLDAhPT1lLmNvZGUpdGhyb3cgaT1uZXcgZC5BZ29yYVJUQ0Vycm9yKGQuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwIGVycm9yLCBjb2RlXCIrZS5jb2RlLHtyZXRyeTohMH0pLHUuZGVmYXVsdC5lcnJvcihpLnRvU3RyaW5nKCkpLGk7aWYoMjAwIT09KHQ9SlNPTi5wYXJzZShlLmpzb25fYm9keSkpLmNvZGUpdGhyb3cgaT1uZXcgZC5BZ29yYVJUQ0Vycm9yKGQuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZXJyb3IsIGNvZGU6IFwiK3QuY29kZStcIiwgcmVhc29uOiBcIit0LnJlYXNvbiksdS5kZWZhdWx0LmVycm9yKGkudG9TdHJpbmcoKSksaTtpZighdC5zZXJ2ZXJzfHwwPT09dC5zZXJ2ZXJzLmxlbmd0aCl0aHJvdyBpPW5ldyBkLkFnb3JhUlRDRXJyb3IoZC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXBwIGNlbnRlciBlbXB0eSBzZXJ2ZXJcIiksdS5kZWZhdWx0LmVycm9yKGkudG9TdHJpbmcoKSksaTtpZihhPW0odCxuKSxzLmdldFBhcmFtZXRlcihcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIikpdHJ5e2w9SlNPTi5wYXJzZShzLmdldFBhcmFtZXRlcihcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIikpLGEuYWRkcmVzc0xpc3Q9bH1jYXRjaChlKXthLmFkZHJlc3NMaXN0PVtzLmdldFBhcmFtZXRlcihcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIildfXJldHVyblsyLHIocih7fSxhKSx7cmVzcG9uc2VUaW1lOlN9KV19fSkpfSkpfSksKGZ1bmN0aW9uKHQscil7cmV0dXJuIGwucmVwb3J0LnJlcXVlc3RBcFdvcmtlckV2ZW50KGEuc2lkLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpuLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KHQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09cixyZXNwb25zZVRpbWU6UyxzZXJ2ZXJJcDplW3IlZS5sZW5ndGhdfSksITF9KSwoZnVuY3Rpb24odCxyKXtyZXR1cm4gbC5yZXBvcnQucmVxdWVzdEFwV29ya2VyRXZlbnQoYS5zaWQse3N1Y2Nlc3M6ITEsc2M6dC5kYXRhJiZ0LmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOm4scmVzcG9uc2VUaW1lOlMsc2VydmVySXA6ZVtyJWUubGVuZ3RoXX0pLCEhKHQuY29kZSE9PWQuQWdvcmFSVENFcnJvckNvZGUuT1BFUkFUSU9OX0FCT1JUJiZ0LmNvZGUhPT1kLkFnb3JhUlRDRXJyb3JDb2RlLlVORVhQRUNURURfUkVTUE9OU0V8fHQuZGF0YSYmdC5kYXRhLnJldHJ5KSYmKFI9ZVsocisxKSVlLmxlbmd0aF0sITApfSksZil9dC5yZXF1ZXN0TGl2ZVN0cmVhbWluZ1dvcmtlck1hbmFnZXI9dix0LmdldExpdmVTdHJlYW1pbmdXb3JrZXJNYW5nZXJSZXN1bHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6cj1zLmdldFBhcmFtZXRlcihcIlVBUF9BUFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIit0LnByb3h5U2VydmVyK1wiL2FwLz91cmw9XCIrZStcIi9hcGkvdjE/YWN0aW9uPXVhcFwiOlwiaHR0cHM6Ly9cIitlK1wiL2FwaS92MT9hY3Rpb249dWFwXCJ9KSksby5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gby50cnlzLnB1c2goWzEsMywsNF0pLFs0LHYocixlLHQsbildO2Nhc2UgMjpyZXR1cm5bMixvLnNlbnQoKV07Y2FzZSAzOnRocm93IGk9by5zZW50KCksbC5yZXBvcnQucmVxdWVzdEFwV29ya2VyRXZlbnQodC5zaWQse3N1Y2Nlc3M6ITEsc2M6aS5kYXRhJiZpLmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOmUscmVzcG9uc2VUaW1lOmkuZGF0YSYmaS5kYXRhLnJlc3BvbnNlVGltZX0pLGk7Y2FzZSA0OnJldHVyblsyXX19KSl9KSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big3MCksaT1uKDcxKSxvPW4oMzQpLGE9big3Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpfHxpKGUpfHxvKGUpfHxhKCl9fSxmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gcihlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShuKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/cihlLHQpOnZvaWQgMH19fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIHI9QXJyYXkoZSksaT0wO2Zvcih0PTA7dDxuO3QrKylmb3IodmFyIG89YXJndW1lbnRzW3RdLGE9MCxzPW8ubGVuZ3RoO2E8czthKyssaSsrKXJbaV09b1thXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigyNCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9ldmVudHM9e30sdGhpcy5hZGRMaXN0ZW5lcj10aGlzLm9ufXJldHVybiBlLnByb3RvdHlwZS5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5saXN0ZW5lcn0pKTpbXX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO3ZhciBuPXRoaXMuX2V2ZW50c1tlXTstMT09PXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLHQpJiZuLnB1c2goe2xpc3RlbmVyOnQsb25jZTohMX0pfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZXZlbnRzW2VdfHwodGhpcy5fZXZlbnRzW2VdPVtdKTt2YXIgbj10aGlzLl9ldmVudHNbZV07LTE9PT10aGlzLl9pbmRleE9mTGlzdGVuZXIobix0KSYmbi5wdXNoKHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fZXZlbnRzW2VdKXt2YXIgbj10aGlzLl9ldmVudHNbZV0scj10aGlzLl9pbmRleE9mTGlzdGVuZXIobix0KTstMSE9PXImJm4uc3BsaWNlKHIsMSksMD09PXRoaXMuX2V2ZW50c1tlXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9ldmVudHNbZV19fSxlLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7ZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO2Zvcih2YXIgcj10aGlzLl9ldmVudHNbZV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSxpPTA7aTxyLmxlbmd0aDtpKz0xKXt2YXIgbz1yW2ldO28ub25jZSYmdGhpcy5vZmYoZSxvLmxpc3RlbmVyKSxvLmxpc3RlbmVyLmFwcGx5KHRoaXMsdHx8W10pfX0sZS5wcm90b3R5cGUuX2luZGV4T2ZMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKGVbbl0ubGlzdGVuZXI9PT10KXJldHVybiBuO3JldHVybi0xfSxlfSgpO2Z1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49W10sbz0yO288YXJndW1lbnRzLmxlbmd0aDtvKyspbltvLTJdPWFyZ3VtZW50c1tvXTt2YXIgYT1udWxsLHM9bnVsbDtpZihlLmVtaXQuYXBwbHkoZSxyKFt0XSxuLFtmdW5jdGlvbihlKXthPWV9LGZ1bmN0aW9uKGUpe3M9ZX1dKSksbnVsbCE9PXMpdGhyb3cgcztpZihudWxsPT09YSl0aHJvdyBuZXcgaS5BZ29yYVJUQ0Vycm9yKGkuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9FUlJPUixcImhhbmRsZXIgaXMgbm90IHN5bmNcIik7cmV0dXJuIGF9dC5FdmVudEVtaXR0ZXI9byx0LmVtaXRBc1Byb21pc2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10sbz0yO288YXJndW1lbnRzLmxlbmd0aDtvKyspbltvLTJdPWFyZ3VtZW50c1tvXTtyZXR1cm4gMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aD9Qcm9taXNlLnJlamVjdChuZXcgaS5BZ29yYVJUQ0Vycm9yKGkuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZW1pdCBwcm9taXNlXCIpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXtlLmVtaXQuYXBwbHkoZSxyKFt0XSxuLFtpLG9dKSl9KSl9LHQuZW1pdEFzSW52b2tlck5vUmVzcG9uc2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4gMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aD9udWxsOmEuYXBwbHkodm9pZCAwLHIoW2UsdF0sbikpfSx0LmVtaXRBc0ludm9rZXI9YX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDc4KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbj1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybiBlLmFwcGx5KHQsbil9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lNDAvZ2ksXCJAXCIpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTIwL2csXCIrXCIpLnJlcGxhY2UoLyU1Qi9naSxcIltcIikucmVwbGFjZSgvJTVEL2dpLFwiXVwiKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybiBlO3ZhciBvO2lmKG4pbz1uKHQpO2Vsc2UgaWYoci5pc1VSTFNlYXJjaFBhcmFtcyh0KSlvPXQudG9TdHJpbmcoKTtlbHNle3ZhciBhPVtdO3IuZm9yRWFjaCh0LChmdW5jdGlvbihlLHQpe251bGwhPWUmJihyLmlzQXJyYXkoZSk/dCs9XCJbXVwiOmU9W2VdLHIuZm9yRWFjaChlLChmdW5jdGlvbihlKXtyLmlzRGF0ZShlKT9lPWUudG9JU09TdHJpbmcoKTpyLmlzT2JqZWN0KGUpJiYoZT1KU09OLnN0cmluZ2lmeShlKSksYS5wdXNoKGkodCkrXCI9XCIraShlKSl9KSkpfSkpLG89YS5qb2luKFwiJlwiKX1pZihvKXt2YXIgcz1lLmluZGV4T2YoXCIjXCIpOy0xIT09cyYmKGU9ZS5zbGljZSgwLHMpKSxlKz0oLTE9PT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStvfXJldHVybiBlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5fX0NBTkNFTF9fKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIHI9bigxOCksaT1uKDg0KSxvPXtcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJ9O2Z1bmN0aW9uIGEoZSx0KXshci5pc1VuZGVmaW5lZChlKSYmci5pc1VuZGVmaW5lZChlW1wiQ29udGVudC1UeXBlXCJdKSYmKGVbXCJDb250ZW50LVR5cGVcIl09dCl9dmFyIHMsYz17YWRhcHRlcjooKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdHx8dm9pZCAwIT09dCYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpJiYocz1uKDQyKSkscyksdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh0LFwiQWNjZXB0XCIpLGkodCxcIkNvbnRlbnQtVHlwZVwiKSxyLmlzRm9ybURhdGEoZSl8fHIuaXNBcnJheUJ1ZmZlcihlKXx8ci5pc0J1ZmZlcihlKXx8ci5pc1N0cmVhbShlKXx8ci5pc0ZpbGUoZSl8fHIuaXNCbG9iKGUpP2U6ci5pc0FycmF5QnVmZmVyVmlldyhlKT9lLmJ1ZmZlcjpyLmlzVVJMU2VhcmNoUGFyYW1zKGUpPyhhKHQsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxlLnRvU3RyaW5nKCkpOnIuaXNPYmplY3QoZSk/KGEodCxcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiKSxKU09OLnN0cmluZ2lmeShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0cnl7ZT1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe31yZXR1cm4gZX1dLHRpbWVvdXQ6MCx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLG1heENvbnRlbnRMZW5ndGg6LTEsdmFsaWRhdGVTdGF0dXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTIwMCYmZTwzMDB9fTtjLmhlYWRlcnM9e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9fSxyLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIl0sKGZ1bmN0aW9uKGUpe2MuaGVhZGVyc1tlXT17fX0pKSxyLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7Yy5oZWFkZXJzW2VdPXIubWVyZ2Uobyl9KSksZS5leHBvcnRzPWN9KS5jYWxsKHRoaXMsbig4MykpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCksaT1uKDg1KSxvPW4oMzkpLGE9big4Nykscz1uKDkwKSxjPW4oOTEpLGQ9big0Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCx1KXt2YXIgbD1lLmRhdGEsZj1lLmhlYWRlcnM7ci5pc0Zvcm1EYXRhKGwpJiZkZWxldGUgZltcIkNvbnRlbnQtVHlwZVwiXTt2YXIgcD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoZS5hdXRoKXt2YXIgZz1lLmF1dGgudXNlcm5hbWV8fFwiXCIsbT1lLmF1dGgucGFzc3dvcmR8fFwiXCI7Zi5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIrYnRvYShnK1wiOlwiK20pfXZhciBoPWEoZS5iYXNlVVJMLGUudXJsKTtpZihwLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxvKGgsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKSwhMCkscC50aW1lb3V0PWUudGltZW91dCxwLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKHAmJjQ9PT1wLnJlYWR5U3RhdGUmJigwIT09cC5zdGF0dXN8fHAucmVzcG9uc2VVUkwmJjA9PT1wLnJlc3BvbnNlVVJMLmluZGV4T2YoXCJmaWxlOlwiKSkpe3ZhciBuPVwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXCJpbiBwP3MocC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk6bnVsbCxyPXtkYXRhOmUucmVzcG9uc2VUeXBlJiZcInRleHRcIiE9PWUucmVzcG9uc2VUeXBlP3AucmVzcG9uc2U6cC5yZXNwb25zZVRleHQsc3RhdHVzOnAuc3RhdHVzLHN0YXR1c1RleHQ6cC5zdGF0dXNUZXh0LGhlYWRlcnM6bixjb25maWc6ZSxyZXF1ZXN0OnB9O2kodCx1LHIpLHA9bnVsbH19LHAub25hYm9ydD1mdW5jdGlvbigpe3AmJih1KGQoXCJSZXF1ZXN0IGFib3J0ZWRcIixlLFwiRUNPTk5BQk9SVEVEXCIscCkpLHA9bnVsbCl9LHAub25lcnJvcj1mdW5jdGlvbigpe3UoZChcIk5ldHdvcmsgRXJyb3JcIixlLG51bGwscCkpLHA9bnVsbH0scC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgdD1cInRpbWVvdXQgb2YgXCIrZS50aW1lb3V0K1wibXMgZXhjZWVkZWRcIjtlLnRpbWVvdXRFcnJvck1lc3NhZ2UmJih0PWUudGltZW91dEVycm9yTWVzc2FnZSksdShkKHQsZSxcIkVDT05OQUJPUlRFRFwiLHApKSxwPW51bGx9LHIuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSl7dmFyIHY9big5MiksRT0oZS53aXRoQ3JlZGVudGlhbHN8fGMoaCkpJiZlLnhzcmZDb29raWVOYW1lP3YucmVhZChlLnhzcmZDb29raWVOYW1lKTp2b2lkIDA7RSYmKGZbZS54c3JmSGVhZGVyTmFtZV09RSl9aWYoXCJzZXRSZXF1ZXN0SGVhZGVyXCJpbiBwJiZyLmZvckVhY2goZiwoZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1sJiZcImNvbnRlbnQtdHlwZVwiPT09dC50b0xvd2VyQ2FzZSgpP2RlbGV0ZSBmW3RdOnAuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLHIuaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwocC53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksZS5yZXNwb25zZVR5cGUpdHJ5e3AucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlfWNhdGNoKHQpe2lmKFwianNvblwiIT09ZS5yZXNwb25zZVR5cGUpdGhyb3cgdH1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRG93bmxvYWRQcm9ncmVzcyYmcC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uRG93bmxvYWRQcm9ncmVzcyksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzJiZwLnVwbG9hZCYmcC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZS5vblVwbG9hZFByb2dyZXNzKSxlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnByb21pc2UudGhlbigoZnVuY3Rpb24oZSl7cCYmKHAuYWJvcnQoKSx1KGUpLHA9bnVsbCl9KSksdm9pZCAwPT09bCYmKGw9bnVsbCkscC5zZW5kKGwpfSkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oODYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpLG8pe3ZhciBhPW5ldyBFcnJvcihlKTtyZXR1cm4gcihhLHQsbixpLG8pfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e30saT1bXCJ1cmxcIixcIm1ldGhvZFwiLFwicGFyYW1zXCIsXCJkYXRhXCJdLG89W1wiaGVhZGVyc1wiLFwiYXV0aFwiLFwicHJveHlcIl0sYT1bXCJiYXNlVVJMXCIsXCJ1cmxcIixcInRyYW5zZm9ybVJlcXVlc3RcIixcInRyYW5zZm9ybVJlc3BvbnNlXCIsXCJwYXJhbXNTZXJpYWxpemVyXCIsXCJ0aW1lb3V0XCIsXCJ3aXRoQ3JlZGVudGlhbHNcIixcImFkYXB0ZXJcIixcInJlc3BvbnNlVHlwZVwiLFwieHNyZkNvb2tpZU5hbWVcIixcInhzcmZIZWFkZXJOYW1lXCIsXCJvblVwbG9hZFByb2dyZXNzXCIsXCJvbkRvd25sb2FkUHJvZ3Jlc3NcIixcIm1heENvbnRlbnRMZW5ndGhcIixcInZhbGlkYXRlU3RhdHVzXCIsXCJtYXhSZWRpcmVjdHNcIixcImh0dHBBZ2VudFwiLFwiaHR0cHNBZ2VudFwiLFwiY2FuY2VsVG9rZW5cIixcInNvY2tldFBhdGhcIl07ci5mb3JFYWNoKGksKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PXRbZV0mJihuW2VdPXRbZV0pfSkpLHIuZm9yRWFjaChvLChmdW5jdGlvbihpKXtyLmlzT2JqZWN0KHRbaV0pP25baV09ci5kZWVwTWVyZ2UoZVtpXSx0W2ldKTp2b2lkIDAhPT10W2ldP25baV09dFtpXTpyLmlzT2JqZWN0KGVbaV0pP25baV09ci5kZWVwTWVyZ2UoZVtpXSk6dm9pZCAwIT09ZVtpXSYmKG5baV09ZVtpXSl9KSksci5mb3JFYWNoKGEsKGZ1bmN0aW9uKHIpe3ZvaWQgMCE9PXRbcl0/bltyXT10W3JdOnZvaWQgMCE9PWVbcl0mJihuW3JdPWVbcl0pfSkpO3ZhciBzPWkuY29uY2F0KG8pLmNvbmNhdChhKSxjPU9iamVjdC5rZXlzKHQpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1zLmluZGV4T2YoZSl9KSk7cmV0dXJuIHIuZm9yRWFjaChjLChmdW5jdGlvbihyKXt2b2lkIDAhPT10W3JdP25bcl09dFtyXTp2b2lkIDAhPT1lW3JdJiYobltyXT1lW3JdKX0pKSxufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7dGhpcy5tZXNzYWdlPWV9ci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkNhbmNlbFwiKyh0aGlzLm1lc3NhZ2U/XCI6IFwiK3RoaXMubWVzc2FnZTpcIlwiKX0sci5wcm90b3R5cGUuX19DQU5DRUxfXz0hMCxlLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24oaSxvKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9pKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0saT10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmaVswXSl0aHJvdyBpWzFdO3JldHVybiBpWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihpPTImb1swXT9yLnJldHVybjpvWzBdP3IudGhyb3d8fCgoaT1yLnJldHVybikmJmkuY2FsbChyKSwwKTpyLm5leHQpJiYhKGk9aS5jYWxsKHIsb1sxXSkpLmRvbmUpcmV0dXJuIGk7c3dpdGNoKHI9MCxpJiYobz1bMiZvWzBdLGkudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOmk9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGk9YS50cnlzLChpPWkubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pfHw2IT09b1swXSYmMiE9PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighaXx8b1sxXT5pWzBdJiZvWzFdPGlbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8aVsxXSl7YS5sYWJlbD1pWzFdLGk9bzticmVha31pZihpJiZhLmxhYmVsPGlbMl0pe2EubGFiZWw9aVsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfWlbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0scj0wfWZpbmFsbHl7bj1pPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fSxvPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LGE9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1vKG4oNTkpKSxjPWEobig2MikpLGQ9YShuKDYzKSksdT1vKG4oMCkpLGw9bigyKSxmPXMuZGVmYXVsdC5Sb290LmZyb21KU09OKGQpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5yZXF1ZXN0QXJyYXk9W10sdGhpcy5yZXRyeUJhY2tvZmZDb3VudD0wLHRoaXMuc3RhdGU9MH1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UHJveHk9ZnVuY3Rpb24oZSl7dGhpcy5wcm94eVNlcnZlcj1lfSxlLnByb3RvdHlwZS5zZW5kUmVwb3J0TGlzdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLl9kYXRhQ29udmVydChcIlByb3RvUmF3c1wiLHt2aWQ6dCxzZW5kVHM6TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMykscGF5bG9hZHM6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntpZDpjW2UudHlwZV0sbXNnOm4uX2RhdGFDb252ZXJ0KGUudHlwZSxlLmRhdGEpfX0pKX0pO3RoaXMuc2VuZChyKX0sZS5wcm90b3R5cGUuX2RhdGFDb252ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG47dHJ5e249Zi5sb29rdXBUeXBlKFwicHJvdG9idWYuXCIrZSl9Y2F0Y2godCl7dS5kZWZhdWx0LmVycm9yKFwiW3NlbmQtcHJvdG9dIGludmFsaWQgcHJvdG8gbmFtZSBcIitlKX12YXIgcj1uLmNyZWF0ZSh0KTtyZXR1cm4gbi5lbmNvZGUocikuZmluaXNoKCl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7MD09dGhpcy5zdGF0ZT90aGlzLl9zZW5kKGUpOnRoaXMucmVxdWVzdEFycmF5LnB1c2goZSl9LGUucHJvdG90eXBlLl9zZW5kPWZ1bmN0aW9uKGUpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwyLCw0XSksdGhpcy5zdGF0ZT0xLFs0LHRoaXMucmVxdWVzdChlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLnJldHJ5QmFja29mZkNvdW50PTAsMCE9PXRoaXMucmVxdWVzdEFycmF5Lmxlbmd0aD90aGlzLl9zZW5kKHRoaXMucmVxdWVzdEFycmF5LnNoaWZ0KCkpOnRoaXMuc3RhdGU9MCxbMyw0XTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFs0LGcodGhpcy5yZXRyeUJhY2tvZmZDb3VudCsrPDI/MjAwOjFlNCldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksdGhpcy5fc2VuZChlKSxbMyw0XTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnQ9dGhpcy5fZ2V0QWRkcmVzcygpLG49dGhpcy5fZ2V0QmFja3VwQWRkcmVzcygpLHIubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHIudHJ5cy5wdXNoKFsxLDMsLDVdKSxbNCx0aGlzLl9yZXF1ZXN0KHQsZSldO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksWzMsNV07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbNCx0aGlzLl9yZXF1ZXN0KG4sZSldO2Nhc2UgNDpyZXR1cm4gci5zZW50KCksWzMsNV07Y2FzZSA1OnJldHVyblsyXX19KSl9KSl9LGUucHJvdG90eXBlLl9yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3Bvc3QoZSx0KX0sZS5wcm90b3R5cGUuX3Bvc3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by50aW1lb3V0PWwuZ2V0UGFyYW1ldGVyKFwiSFRUUF9DT05ORUNUX1RJTUVPVVRcIiksby5vcGVuKFwiUE9TVFwiLGUsITApLG8uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpLG4ucHJveHlTZXJ2ZXJ8fChvLnNldFJlcXVlc3RIZWFkZXIoXCJDYWNoZS1Db250cm9sXCIsXCJuby1jYWNoZSwgbm8tc3RvcmVcIiksby5zZXRSZXF1ZXN0SGVhZGVyKFwiUHJhZ21hXCIsXCJuby1jYWNoZVwiKSxvLnNldFJlcXVlc3RIZWFkZXIoXCJFeHBpcmVzXCIsXCIwXCIpKSxvLm9ubG9hZD1mdW5jdGlvbihlKXtyKG8ucmVzcG9uc2VUZXh0KX0sby5vbmVycm9yPWZ1bmN0aW9uKGUpe2koZSl9LG8ub250aW1lb3V0PWZ1bmN0aW9uKGUpe2koZSl9LG8uc2VuZCh0KX0pKX0sZS5wcm90b3R5cGUuX2dldEFkZHJlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIrdGhpcy5wcm94eVNlcnZlcitcIi9ycy8/aD1cIitsLmdldFBhcmFtZXRlcihcIkVWRU5UX1JFUE9SVF9ET01BSU5cIikrXCImcD02NDQzJmQ9ZXZlbnRzL3Byb3RvLXJhd3NcIjpcImh0dHBzOi8vXCIrbC5nZXRQYXJhbWV0ZXIoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpK1wiOjY0NDMvZXZlbnRzL3Byb3RvLXJhd3NcIn0sZS5wcm90b3R5cGUuX2dldEJhY2t1cEFkZHJlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIrdGhpcy5wcm94eVNlcnZlcitcIi9ycy8/aD1cIitsLmdldFBhcmFtZXRlcihcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpK1wiJnA9NjQ0MyZkPWV2ZW50cy9wcm90by1yYXdzXCI6XCJodHRwczovL1wiK2wuZ2V0UGFyYW1ldGVyKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIikrXCI6NjQ0My9ldmVudHMvcHJvdG8tcmF3c1wifSxlfSgpO3QuZGVmYXVsdD1wO3ZhciBnPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdCYmbihlLnByb3RvdHlwZSx0KSxyJiZuKGUsciksZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGk9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYSxzPW8obigwKSksYz1uKDE1KTshZnVuY3Rpb24oZSl7ZS5ORVc9XCJuZXdcIixlLlBSRVBBUklOR19PRkZFUj1cInByZXBhcmluZy1vZmZlclwiLGUuT0ZGRVJfU0VOVD1cIm9mZmVyLXNlbnRcIixlLkVTVEFCTElTSEVEPVwiZXN0YWJsaXNoZWRcIixlLkNMT1NFRD1cImNsb3NlZFwifShhfHwoYT17fSkpO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNhbmRpZGF0ZT1udWxsLHRoaXMuc3RhdGU9YS5ORVcsdGhpcy5jb25maWc9ZSx0aGlzLmlzU3Vic2NyaWJlcj10aGlzLmNvbmZpZy5pc1N1YnNjcmliZXIsdGhpcy5wZWVyQ29ubmVjdGlvbj10aGlzLmluaXRQZWVjQ29ubmVjdGlvbihlKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPXRoaXMuX29uaWNlY2FuZGlkYXRlLmJpbmQodGhpcyksdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT10aGlzLl9vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZS5iaW5kKHRoaXMpLHRoaXMucGVlckNvbm5lY3Rpb24ub25hZGRzdHJlYW09dGhpcy5fb25hZGRzdHJlYW0uYmluZCh0aGlzKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9dGhpcy5fb250cmFjay5iaW5kKHRoaXMpLHRoaXMucHJvY2Vzc1NpZ25hbGluZ01lc3NhZ2U9dGhpcy5zZXRBbnN3ZXIuYmluZCh0aGlzKSx0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKHRoaXMuc2V0TG9jYWxTRFAuYmluZCh0aGlzKSksdGhpcy5zZW5kVmlkZW9TdGF0cz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ0NvZGVjTmFtZTp0aGlzLmNvbmZpZy5jb2RlYy50b1VwcGVyQ2FzZSgpLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nQWRhcHRhdGlvbkNoYW5nZXM6XCIwXCIsZ29vZ0F2Z0VuY29kZU1zOlwiMFwiLGdvb2dFbmNvZGVVc2FnZVBlcmNlbnQ6XCIwXCIsZ29vZ0ZpcnNSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVIZWlnaHRTZW50OlwiMFwiLGdvb2dGcmFtZUhlaWdodElucHV0OlwiMFwiLGdvb2dGcmFtZVJhdGVJbnB1dDpcIjBcIixnb29nRnJhbWVSYXRlU2VudDpcIjBcIixnb29nRnJhbWVXaWR0aFNlbnQ6XCIwXCIsZ29vZ0ZyYW1lV2lkdGhJbnB1dDpcIjBcIixnb29nTmFja3NSZWNlaXZlZDpcIjBcIixnb29nUGxpc1JlY2VpdmVkOlwiMFwiLGdvb2dSdHQ6XCIwXCIsZ29vZ0ZyYW1lc0VuY29kZWQ6XCIwXCJ9LHRoaXMuc2VuZEF1ZGlvU3RhdHM9e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGdvb2dDb2RlY05hbWU6XCJvcHVzXCIsYWVjRGl2ZXJnZW50RmlsdGVyRnJhY3Rpb246XCIwXCIsYXVkaW9JbnB1dExldmVsOlwiMFwiLGJ5dGVzU2VudDpcIjBcIixwYWNrZXRzU2VudDpcIjBcIixnb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3M6XCIwXCIsZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzRW5oYW5jZW1lbnQ6XCIwXCJ9LHRoaXMucmVjZWl2ZUF1ZGlvU3RhdHM9e2lkOlwiXCIsdHlwZTpcIlwiLG1lZGlhVHlwZTpcIlwiLGF1ZGlvT3V0cHV0TGV2ZWw6XCIwXCIsYnl0ZXNSZWNlaXZlZDpcIjBcIixwYWNrZXRzTG9zdDpcIjBcIixwYWNrZXRzUmVjZWl2ZWQ6XCIwXCIsZ29vZ0FjY2VsZXJhdGVSYXRlOlwiMFwiLGdvb2dDdXJyZW50RGVsYXlNczpcIjBcIixnb29nRGVjb2RpbmdDTkc6XCIwXCIsZ29vZ0RlY29kaW5nQ1ROOlwiMFwiLGdvb2dEZWNvZGluZ0NUU0c6XCIwXCIsZ29vZ0RlY29kaW5nTm9ybWFsOlwiMFwiLGdvb2dEZWNvZGluZ1BMQzpcIjBcIixnb29nRGVjb2RpbmdQTENDTkc6XCIwXCIsZ29vZ0V4cGFuZFJhdGU6XCIwXCIsZ29vZ0ppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dKaXR0ZXJSZWNlaXZlZDpcIjBcIixnb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGU6XCIwXCIsZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zOlwiMFwiLGdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZTpcIjBcIixnb29nU3BlZWNoRXhwYW5kUmF0ZTpcIjBcIn0sdGhpcy5yZWNlaXZlVmlkZW9TdGF0cz17aWQ6XCJcIix0eXBlOlwiXCIsbWVkaWFUeXBlOlwiXCIsZ29vZ1RhcmdldERlbGF5TXM6XCIwXCIscGFja2V0c0xvc3Q6XCIwXCIsZ29vZ0RlY29kZU1zOlwiMFwiLGdvb2dNYXhEZWNvZGVNczpcIjBcIixnb29nUmVuZGVyRGVsYXlNczpcIjBcIixnb29nRnJhbWVXaWR0aFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZUhlaWdodFJlY2VpdmVkOlwiMFwiLGdvb2dGcmFtZVJhdGVSZWNlaXZlZDpcIjBcIixnb29nRnJhbWVSYXRlRGVjb2RlZDpcIjBcIixnb29nRnJhbWVSYXRlT3V0cHV0OlwiMFwiLGdvb2dGcmFtZXNEZWNvZGVkOlwiMFwiLGdvb2dGcmFtZVJlY2VpdmVkOlwiMFwiLGdvb2dKaXR0ZXJCdWZmZXJNczpcIjBcIixnb29nQ3VycmVudERlbGF5TXM6XCIwXCIsZ29vZ01pblBsYXlvdXREZWxheU1zOlwiMFwiLGdvb2dOYWNrc1NlbnQ6XCIwXCIsZ29vZ1BsaXNTZW50OlwiMFwiLGdvb2dGaXJzU2VudDpcIjBcIixieXRlc1JlY2VpdmVkOlwiMFwiLHBhY2tldHNSZWNlaXZlZDpcIjBcIn19cmV0dXJuIGUucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFN0cmVhbShlKX0sZS5wcm90b3R5cGUuc2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbihlKXtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzJdfSkpfSkpfSxlLnByb3RvdHlwZS5zZXRBbnN3ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3NkcDp0LnNkcCx0eXBlOlwiYW5zd2VyXCJ9KSksdGhpcy5vbnNpZ25hbGluZ21lc3NhZ2UmJnRoaXMub25zaWduYWxpbmdtZXNzYWdlKFwiXCIpfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKX0sZS5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD01MDApLHQ9dD41MDA/NTAwOnQsRGF0ZS5ub3coKS10aGlzLmxhc3RUaW1lR2V0U3RhdHM8dCl7dmFyIG49W107dGhpcy5jb25maWcuaXNTdWJzY3JpYmVyPyhuLnB1c2godGhpcy5yZWNlaXZlVmlkZW9TdGF0cyksbi5wdXNoKHRoaXMucmVjZWl2ZUF1ZGlvU3RhdHMpKToobi5wdXNoKHRoaXMuc2VuZEF1ZGlvU3RhdHMpLG4ucHVzaCh0aGlzLnNlbmRWaWRlb1N0YXRzKSksbi5wdXNoKHtpZDpcInRpbWVcIixzdGFydFRpbWU6dGhpcy5jb25uZWN0ZWRUaW1lLHRpbWVzdGFtcDpEYXRlLm5vdygpfSksZSYmZShuKX1lbHNlIHRoaXMuX2dldFN0YXRzKGUpfSxlLnByb3RvdHlwZS5fZ2V0U3RhdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPVtdO3RoaXMucGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMobnVsbCkudGhlbigoZnVuY3Rpb24ocil7dC5sYXN0VGltZUdldFN0YXRzPURhdGUubm93KCksT2JqZWN0LmtleXMocikubWFwKChmdW5jdGlvbihlKXt2YXIgbj1yW2VdO3QuY29uZmlnLmlzU3Vic2NyaWJlcj9uLnR5cGUmJlwiaW5ib3VuZHJ0cFwiPT09bi50eXBlJiZuLm1lZGlhVHlwZSYmXCJhdWRpb1wiPT09bi5tZWRpYVR5cGU/KHQucmVjZWl2ZUF1ZGlvU3RhdHMuaWQ9bi5pZCtcInJlY3ZcIix0LnJlY2VpdmVBdWRpb1N0YXRzLnR5cGU9bi50eXBlK1wiXCIsdC5yZWNlaXZlQXVkaW9TdGF0cy5tZWRpYVR5cGU9bi5tZWRpYVR5cGUrXCJcIix0LnJlY2VpdmVBdWRpb1N0YXRzLnBhY2tldHNSZWNlaXZlZD1uLnBhY2tldHNSZWNlaXZlZCtcIlwiLHQucmVjZWl2ZUF1ZGlvU3RhdHMuYnl0ZXNSZWNlaXZlZD1uLmJ5dGVzUmVjZWl2ZWQrXCJcIix0LnJlY2VpdmVBdWRpb1N0YXRzLnBhY2tldHNMb3N0PW4ucGFja2V0c0xvc3QrXCJcIix0LnJlY2VpdmVBdWRpb1N0YXRzLmdvb2dKaXR0ZXJSZWNlaXZlZD1uLmppdHRlcitcIlwiKTpuLnR5cGUmJlwiaW5ib3VuZHJ0cFwiPT09bi50eXBlJiZuLm1lZGlhVHlwZSYmXCJ2aWRlb1wiPT09bi5tZWRpYVR5cGU/KHQucmVjZWl2ZVZpZGVvU3RhdHMuaWQ9bi5pZCtcInJlY3ZcIix0LnJlY2VpdmVWaWRlb1N0YXRzLnR5cGU9bi50eXBlK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5tZWRpYVR5cGU9bi5tZWRpYVR5cGUrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLnBhY2tldHNSZWNlaXZlZD1uLnBhY2tldHNSZWNlaXZlZCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuYnl0ZXNSZWNlaXZlZD1uLmJ5dGVzUmVjZWl2ZWQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLnBhY2tldHNMb3N0PW4ucGFja2V0c0xvc3QrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dKaXR0ZXJCdWZmZXJNcz1uLmppdHRlcitcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ1BsaXNTZW50PW4ucGxpQ291bnQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dGaXJzU2VudD1uLmZpckNvdW50K1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nTmFja3NTZW50PW4ubmFja0NvdW50K1wiXCIpOm4ucmVtb3RlU291cmNlJiZuLnR5cGUmJlwidHJhY2tcIj09PW4udHlwZSYmbi50cmFja0lkZW50aWZpZXImJi0xIT09bi50cmFja0lkZW50aWZpZXIuaW5kZXhPZihcInZcIik/KHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQ9bi5mcmFtZUhlaWdodCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZD1uLmZyYW1lV2lkdGgrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dGcmFtZVJhdGVEZWNvZGVkPW4uZnJhbWVzUGVyU2Vjb25kK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nRnJhbWVSYXRlT3V0cHV0PW4uZnJhbWVzUGVyU2Vjb25kK1wiXCIsdC5yZWNlaXZlVmlkZW9TdGF0cy5nb29nRnJhbWVSYXRlUmVjZWl2ZWQ9bi5mcmFtZXNQZXJTZWNvbmQrXCJcIix0LnJlY2VpdmVWaWRlb1N0YXRzLmdvb2dGcmFtZXNEZWNvZGVkPW4uZnJhbWVzRGVjb2RlZCtcIlwiLHQucmVjZWl2ZVZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmVjZWl2ZWQ9bi5mcmFtZXNSZWNlaXZlZCtcIlwiKTpuLnJlbW90ZVNvdXJjZSYmbi50eXBlJiZcInRyYWNrXCI9PT1uLnR5cGUmJm4udHJhY2tJZGVudGlmaWVyJiYtMSE9PW4udHJhY2tJZGVudGlmaWVyLmluZGV4T2YoXCJhXCIpJiYodC5yZWNlaXZlQXVkaW9TdGF0cy5hdWRpb091dHB1dExldmVsPW4uYXVkaW9MZXZlbCtcIlwiKTohbi5pc1JlbW90ZSYmbi50eXBlJiZcIm91dGJvdW5kcnRwXCI9PT1uLnR5cGUmJm4ubWVkaWFUeXBlJiZcImF1ZGlvXCI9PT1uLm1lZGlhVHlwZT8odC5zZW5kQXVkaW9TdGF0cy5pZD1uLmlkK1wic2VuZFwiLHQuc2VuZEF1ZGlvU3RhdHMudHlwZT1uLnR5cGUrXCJcIix0LnNlbmRBdWRpb1N0YXRzLm1lZGlhVHlwZT1uLm1lZGlhVHlwZStcIlwiLHQuc2VuZEF1ZGlvU3RhdHMucGFja2V0c1NlbnQ9bi5wYWNrZXRzU2VudCtcIlwiLHQuc2VuZEF1ZGlvU3RhdHMuYnl0ZXNTZW50PW4uYnl0ZXNTZW50K1wiXCIpOiFuLmlzUmVtb3RlJiZuLnR5cGUmJlwib3V0Ym91bmRydHBcIj09PW4udHlwZSYmbi5tZWRpYVR5cGUmJlwidmlkZW9cIj09PW4ubWVkaWFUeXBlPyh0LnNlbmRWaWRlb1N0YXRzLmlkPW4uaWQrXCJzZW5kXCIsdC5zZW5kVmlkZW9TdGF0cy50eXBlPW4udHlwZStcIlwiLHQuc2VuZFZpZGVvU3RhdHMubWVkaWFUeXBlPW4ubWVkaWFUeXBlK1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5wYWNrZXRzU2VudD1uLnBhY2tldHNTZW50K1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5ieXRlc1NlbnQ9bi5ieXRlc1NlbnQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dSdHQ9bi5yb3VuZFRyaXBUaW1lK1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5nb29nUGxpc1JlY2VpdmVkPW4ucGxpQ291bnQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGaXJzUmVjZWl2ZWQ9bi5maXJDb3VudCtcIlwiLHQuc2VuZFZpZGVvU3RhdHMuZ29vZ05hY2tzUmVjZWl2ZWQ9bi5uYWNrQ291bnQrXCJcIik6IW4ucmVtb3RlU291cmNlJiZuLnR5cGUmJlwidHJhY2tcIj09PW4udHlwZSYmbi5mcmFtZXNTZW50JiYwIT09bi5mcmFtZXNTZW50JiYodC5zZW5kVmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRTZW50PW4uZnJhbWVIZWlnaHQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodElucHV0PW4uZnJhbWVIZWlnaHQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZVdpZHRoU2VudD1uLmZyYW1lV2lkdGgrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZVdpZHRoSW5wdXQ9bi5mcmFtZVdpZHRoK1wiXCIsdC5zZW5kVmlkZW9TdGF0cy5nb29nRnJhbWVzRW5jb2RlZD1uLmZyYW1lc1NlbnQrXCJcIix0LnNlbmRWaWRlb1N0YXRzLmdvb2dGcmFtZVJhdGVTZW50PW4uZnJhbWVzUGVyU2Vjb25kK1wiXCIpfSkpLHQuY29uZmlnLmlzU3Vic2NyaWJlcj8obi5wdXNoKHQucmVjZWl2ZVZpZGVvU3RhdHMpLG4ucHVzaCh0LnJlY2VpdmVBdWRpb1N0YXRzKSk6KG4ucHVzaCh0LnNlbmRBdWRpb1N0YXRzKSxuLnB1c2godC5zZW5kVmlkZW9TdGF0cykpLG4ucHVzaCh7aWQ6XCJ0aW1lXCIsc3RhcnRUaW1lOnQuY29ubmVjdGVkVGltZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pLGUmJmUobil9KSl9LGUucHJvdG90eXBlLmdldFN0YXRzUmF0ZT1mdW5jdGlvbihlKXt0aGlzLmdldFN0YXRzKGUpfSxlLnByb3RvdHlwZS5pbml0UGVlY0Nvbm5lY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdHVuU2VydmVyVXJsLG49ZS50dXJuU2VydmVyLHI9ZS5pY2VTZXJ2ZXJzO3JldHVybiB0aGlzLnBjQ29uZmlnPXtpY2VTZXJ2ZXJzOltdfSxyIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5wY0NvbmZpZy5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczp0JiYodCBpbnN0YW5jZW9mIEFycmF5P3QubWFwKChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJcIiE9PWUmJnRoaXMucGNDb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmxzOmV9KX0pKTpcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJcIiE9PXQmJnRoaXMucGNDb25maWcuaWNlU2VydmVycy5wdXNoKHt1cmxzOnR9KSksbiYmKG4gaW5zdGFuY2VvZiBBcnJheT9uLm1hcCgoZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUudXJsJiZcIlwiIT09ZS51cmwmJnRoaXMucGNDb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5jcmVkZW50aWFsLHVybDplLnVybH0pfSkpOlwiYXV0b1wiIT09bi5tb2RlJiZcIm1hbnVhbFwiIT09bi5tb2RlfHwobi51ZHBwb3J0JiZ0aGlzLnBjQ29uZmlnLmljZVNlcnZlcnMucHVzaCh7dXNlcm5hbWU6bi51c2VybmFtZSxjcmVkZW50aWFsOm4uY3JlZGVudGlhbCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIrbi51cmwrXCI6XCIrbi51ZHBwb3J0K1wiP3RyYW5zcG9ydD11ZHBcIn0pLFwic3RyaW5nXCI9PXR5cGVvZiBuLnRjcHBvcnQmJlwiXCIhPT1uLnRjcHBvcnQmJnRoaXMucGNDb25maWcuaWNlU2VydmVycy5wdXNoKHt1c2VybmFtZTpuLnVzZXJuYW1lLGNyZWRlbnRpYWw6bi5jcmVkZW50aWFsLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIituLnVybCtcIjpcIituLnRjcHBvcnQrXCI/dHJhbnNwb3J0PXRjcFwifSksITA9PT1uLmZvcmNldHVybiYmKHRoaXMucGNDb25maWcuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIikpKSxuZXcgYy5SVENQZWVyQ29ubmVjdGlvbih0aGlzLnBjQ29uZmlnKX0sZS5wcm90b3R5cGUuX29udHJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5vbmFkZHN0cmVhbSYmdGhpcy5vbmFkZHN0cmVhbShlLFwib250cmFja1wiKX0sZS5wcm90b3R5cGUuX29uYWRkc3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMub25hZGRzdHJlYW0mJnRoaXMub25hZGRzdHJlYW0oZSxcIm9uYWRkc3RyZWFtXCIpfSxlLnByb3RvdHlwZS5fb25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7XCJjb25uZWN0ZWRcIj09PWUuY3VycmVudFRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUmJih0aGlzLnN0YXRlPWEuRVNUQUJMSVNIRUQsdGhpcy5jb25uZWN0ZWRUaW1lPURhdGUubm93KCkpLHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UmJnRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoZS5jdXJyZW50VGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSl9LGUucHJvdG90eXBlLl9vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihlKXshdGhpcy5jYW5kaWRhdGUmJmUmJih0aGlzLmNhbmRpZGF0ZT1lLmNhbmRpZGF0ZSx0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KS50aGVuKHRoaXMuZWRpdExvY2FsU0RQLmJpbmQodGhpcykpLnRoZW4odGhpcy5zZXRMb2NhbFNEUC5iaW5kKHRoaXMpKS50aGVuKHRoaXMuc2VuZE9mZmVyLmJpbmQodGhpcykpLmNhdGNoKCkpfSxlLnByb3RvdHlwZS5zZXRMb2NhbFNEUD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3NkcDplLnNkcCx0eXBlOlwib2ZmZXJcIn0pKSx0aGlzLnN0YXRlPWEuUFJFUEFSSU5HX09GRkVSLGV9LGUucHJvdG90eXBlLmVkaXRMb2NhbFNEUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zZHA9dGhpcy5zZXRCYW5kV2lkdGgoZS5zZHApLGUuc2RwPXRoaXMucmV2aXNlT3B1cyhlLnNkcCksZS5zZHA9dGhpcy5hZGRDYW5kaWRhdGUoZS5zZHApLGV9LGUucHJvdG90eXBlLnNldFNlbmRSZWN2PWZ1bmN0aW9uKGUpe3JldHVybiBlPShlPShlPWUucmVwbGFjZSgvYT1yZWN2b25seVxcclxcbi9nLFwiYT1zZW5kcmVjdlxcclxcblwiKSkucmVwbGFjZSgvYT1zZW5kb25seVxcclxcbi9nLFwiYT1zZW5kcmVjdlxcclxcblwiKSkucmVwbGFjZSgvYT1pbmFjdGl2ZVxcclxcbi9nLFwiYT1zZW5kcmVjdlxcclxcblwiKX0sZS5wcm90b3R5cGUuc2V0QmFuZFdpZHRoPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLmNvbmZpZyxpPXIuY29kZWMsbz1yLm1pblZpZGVvQlcsYT1yLm1heFZpZGVvQlcsYz1yLm1heEF1ZGlvQlcsZD1yLmNsaWVudElkO2lmKCh0PWUubWF0Y2goL209dmlkZW8uKlxcclxcbi8pKSYmbyYmYSl7bj10WzBdK1wiYj1BUzpcIithK1wiXFxyXFxuXCI7dmFyIHU9MCxsPTA7XCJoMjY0XCI9PT1pPyh1PWUuc2VhcmNoKC9hPXJ0cG1hcDooXFxkKykgSDI2NFxcLzkwMDAwXFxyXFxuLyksbD1lLnNlYXJjaCgvSDI2NFxcLzkwMDAwXFxyXFxuLykpOlwidnA4XCI9PT1pPyh1PWUuc2VhcmNoKC9hPXJ0cG1hcDooXFxkKykgVlA4XFwvOTAwMDBcXHJcXG4vKSxsPWUuc2VhcmNoKC9WUDhcXC85MDAwMFxcclxcbi8pKTpcInZwOVwiPT09aSYmKHU9ZS5zZWFyY2goL2E9cnRwbWFwOihcXGQrKSBWUDlcXC85MDAwMFxcclxcbi8pLGw9ZS5zZWFyY2goL1ZQOVxcLzkwMDAwXFxyXFxuLykpLC0xIT09dSYmLTEhPT1sJiZsLXU+MTAmJihuPW4rXCJhPWZtdHA6XCIrZS5zbGljZSh1KzksbC0xKStcIiB4LWdvb2dsZS1taW4tYml0cmF0ZT1cIitvK1wiXFxyXFxuXCIpLGU9ZS5yZXBsYWNlKHRbMF0sbikscy5kZWZhdWx0LmRlYnVnKFwiW1wiK2QrXCJdU2V0IFZpZGVvIEJpdHJhdGUgLSBtaW46XCIrbytcIiBtYXg6XCIrYSl9cmV0dXJuKHQ9ZS5tYXRjaCgvbT1hdWRpby4qXFxyXFxuLykpJiZjJiYobj10WzBdK1wiYj1BUzpcIitjK1wiXFxyXFxuXCIsZT1lLnJlcGxhY2UodFswXSxuKSksZX0sZS5wcm90b3R5cGUucmV2aXNlT3B1cz1mdW5jdGlvbihlKXtyZXR1cm4gZT0oZT1lLnJlcGxhY2UoL2E9cnRwbWFwOjEwMiBvcHVzXFwvNDgwMDBcXC8yL2csXCJhPXJ0cG1hcDoxMTEgb3B1cy80ODAwMC8yXCIpKS5yZXBsYWNlKC9tPWF1ZGlvIDkgVURQXFwvVExTXFwvUlRQXFwvU0FWUEYgMTAyIDAgOCA5NyAxMyAxMTggMTAxL2csXCJtPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTExIDAgOCA5NyAxMyAxMTggMTAxXCIpfSxlLnByb3RvdHlwZS5hZGRDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUrPVwiYT1jYW5kaWRhdGU6MjI0MzI1NTQzNSAxIHVkcCAyMTIyMTk0Njg3IDE5Mi4xNjguMC4xIDMwMDAwIHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDFcXHJcXG5cIn0sZS5wcm90b3R5cGUuc2VuZE9mZmVyPWZ1bmN0aW9uKGUpe3RoaXMuY29uZmlnLmNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHtzZHA6ZS5zZHAsbWVzc2FnZVR5cGU6XCJPRkZFUlwiLHRpZWJyZWFrZXI6TWF0aC5mbG9vcig0Mjk0OTY3MjMqTWF0aC5yYW5kb20oKSsxKX0pKSx0aGlzLnN0YXRlPWEuT0ZGRVJfU0VOVH0sZX0oKTt0LmRlZmF1bHQ9ZH0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big2Niksbz1uKDM0KSxhPW4oNjcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiByKGUpfHxpKGUsdCl8fG8oZSx0KXx8YSgpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbztpPXRoaXMsbz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLHQ9dGhpcztmdW5jdGlvbiBuKGUpe3QuY29uc29sZSYmKHQuY29uc29sZS5lcnJvcj90LmNvbnNvbGUuZXJyb3IoZSk6dC5jb25zb2xlLmxvZyYmdC5jb25zb2xlLmxvZyhlKSl9ZnVuY3Rpb24gcihlLHQscixpKXt2YXIgbz1pfHxuLGE9ZS5jcmVhdGVTaGFkZXIocik7cmV0dXJuIGUuc2hhZGVyU291cmNlKGEsdCksZS5jb21waWxlU2hhZGVyKGEpLGUuZ2V0U2hhZGVyUGFyYW1ldGVyKGEsZS5DT01QSUxFX1NUQVRVUyk/YToobyhcIioqKiBFcnJvciBjb21waWxpbmcgc2hhZGVyICdcIithK1wiJzpcIitlLmdldFNoYWRlckluZm9Mb2coYSkpLGUuZGVsZXRlU2hhZGVyKGEpLG51bGwpfWZ1bmN0aW9uIGkoZSx0LHIsaSxvKXt2YXIgYT1vfHxuLHM9ZS5jcmVhdGVQcm9ncmFtKCk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5hdHRhY2hTaGFkZXIocyx0KX0pKSxyJiZyLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7ZS5iaW5kQXR0cmliTG9jYXRpb24ocyxpP2lbbl06bix0KX0pKSxlLmxpbmtQcm9ncmFtKHMpLGUuZ2V0UHJvZ3JhbVBhcmFtZXRlcihzLGUuTElOS19TVEFUVVMpP3M6KGEoXCJFcnJvciBpbiBwcm9ncmFtIGxpbmtpbmc6XCIrZS5nZXRQcm9ncmFtSW5mb0xvZyhzKSksZS5kZWxldGVQcm9ncmFtKHMpLG51bGwpfShlPWV8fHQpPT09ZS50b3AmJihjb25zb2xlLmxvZyhcIiVjJXNcIixcImNvbG9yOmJsdWU7Zm9udC13ZWlnaHQ6Ym9sZDtcIixcImZvciBtb3JlIGFib3V0IHdlYmdsLXV0aWxzLmpzIHNlZTpcIiksY29uc29sZS5sb2coXCIlYyVzXCIsXCJjb2xvcjpibHVlO2ZvbnQtd2VpZ2h0OmJvbGQ7XCIsXCJodHRwOi8vd2ViZ2xmdW5kYW1lbnRhbHMub3JnL3dlYmdsL2xlc3NvbnMvd2ViZ2wtYm9pbGVycGxhdGUuaHRtbFwiKSk7dmFyIG8sYT1bXCJWRVJURVhfU0hBREVSXCIsXCJGUkFHTUVOVF9TSEFERVJcIl07cmV0dXJuIWRvY3VtZW50LmRvY3VtZW50TW9kZSYmISF3aW5kb3cuU3R5bGVNZWRpYSYmKEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0PShvPUhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0LGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLHQ9ZVswXTtyZXR1cm5cIndlYmdsXCI9PT10JiYoKGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpKVswXT1cImV4cGVyaW1lbnRhbC13ZWJnbFwiKSxvLmFwcGx5KHRoaXMsZSl9KSkse2NyZWF0ZVByb2dyYW06aSxjcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXM6ZnVuY3Rpb24oZSx0LG4sbyxzKXtmb3IodmFyIGM9W10sZD0wO2Q8dC5sZW5ndGg7KytkKWMucHVzaChyKGUsdFtkXSxlW2FbZF1dLHMpKTtyZXR1cm4gaShlLGMsbixvLHMpfX19LHZvaWQgMD09PShyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FsbChpKX0uYXBwbHkodCxbXSkpfHwoZS5leHBvcnRzPXIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsciYmKGk9MiZvWzBdP3IucmV0dXJuOm9bMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKysscj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT1hLnRyeXMsKGk9aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19LG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9big2OCkscz1uKDUpLGM9byhuKDApKTt0LmdldFN1cHBvcnRlZENvZGVjPWZ1bmN0aW9uKGUpe3JldHVybiByKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4scixvLHU7cmV0dXJuIGkodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD17dmlkZW86W10sYXVkaW86W119LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/WzMsMV06KFwiTk9UX0JST1dTRVJfRU5WXCIsYy5kZWZhdWx0LmVycm9yKFwiZ2V0U3VwcG9ydGVkQ29kZWM6IE5PVF9CUk9XU0VSX0VOVlwiKSxbMixQcm9taXNlLnJlamVjdChcIk5PVF9CUk9XU0VSX0VOVlwiKV0pO2Nhc2UgMTp0cnl7bj1hLmNyZWF0ZVJUQ1BlZXJDb25uZWN0aW9uKHtpY2VTZXJ2ZXJzOltdfSl9Y2F0Y2goZSl7cmV0dXJuIGMuZGVmYXVsdC5lcnJvcihcIkZhaWxlZCB0byBpbml0IFJUQ1BlZXJDb25uZWN0aW9uXCIsZSksWzIsUHJvbWlzZS5yZWplY3QoZSldfXJldHVybiBuP1szLDJdOihjLmRlZmF1bHQud2FybmluZyhcImdldFN1cHBvcnRlZENvZGVjOiBubyBSVENQZWVyQ29ubmVjdGlvbiBjb25zdHJ1Y3RvciBpcyBkZXRlY3RlZFwiKSxbMixQcm9taXNlLnJlc29sdmUodCldKTtjYXNlIDI6cmV0dXJuIGUmJmUuc3RyZWFtP1szLDddOihyPXttYW5kYXRvcnk6e09mZmVyVG9SZWNlaXZlQXVkaW86ITAsT2ZmZXJUb1JlY2VpdmVWaWRlbzohMH19LG89dm9pZCAwLChzLmlzU2FmYXJpKCl8fHMuaXNGaXJlRm94KCl8fHMuaXNXZUNoYXRCcm93c2VyKCkpJiZuLmFkZFRyYW5zY2VpdmVyPyhuLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksbi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIpLFs0LG4uY3JlYXRlT2ZmZXIoKV0pOlszLDRdKTtjYXNlIDM6cmV0dXJuIG89aS5zZW50KCksWzMsNl07Y2FzZSA0OnJldHVybls0LG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3ZhciBpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChcIkNSRUFURU9GRkVSX1RJTUVPVVRcIil9KSwzZTMpO24uY3JlYXRlT2ZmZXIoKGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChpKSxlKHQpfSksKGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChpKSx0KGUpfSkscil9KSldO2Nhc2UgNTpvPWkuc2VudCgpLGkubGFiZWw9NjtjYXNlIDY6cmV0dXJuIG4uY2xvc2UoKSx1PW8uc2RwLFsyLGQodSldO2Nhc2UgNzpyZXR1cm4gZS5zdHJlYW0uZ2V0VHJhY2tzJiZuLmFkZFRyYWNrP2Uuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe24uYWRkVHJhY2sodCxlLnN0cmVhbSl9KSk6bi5hZGRTdHJlYW0oZS5zdHJlYW0pLG89dm9pZCAwLHMuaXNTYWZhcmkoKXx8cy5pc0ZpcmVGb3goKT9bNCxuLmNyZWF0ZU9mZmVyKCldOlszLDldO2Nhc2UgODpyZXR1cm4gbz1pLnNlbnQoKSxbMywxMV07Y2FzZSA5OnJldHVybls0LG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe24uY3JlYXRlT2ZmZXIoZSx0KX0pKV07Y2FzZSAxMDpvPWkuc2VudCgpLGkubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm4gbi5jbG9zZSgpLHU9by5zZHAsWzIsZCh1KV19fSkpfSkpfTt2YXIgZD1mdW5jdGlvbihlKXt2YXIgdD17dmlkZW86W10sYXVkaW86W119O3JldHVybiBlLm1hdGNoKC8gVlA4L2kpJiZ0LnZpZGVvLnB1c2goXCJWUDhcIiksZS5tYXRjaCgvIFZQOS9pKSYmdC52aWRlby5wdXNoKFwiVlA5XCIpLGUubWF0Y2goLyBIMjY0L2kpJiZ0LnZpZGVvLnB1c2goXCJIMjY0XCIpLGUubWF0Y2goLyBvcHVzL2kpJiZ0LmF1ZGlvLnB1c2goXCJPUFVTXCIpLFByb21pc2UucmVzb2x2ZSh0KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGk9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxMCk7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9XCJcIixuPTA7bjxlLmxlbmd0aDtuKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSk7cmV0dXJuIHdpbmRvdy5idG9hKHQpfXQuZW5jcnlwdFJTQT1mdW5jdGlvbihlKXtyZXR1cm4gcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLHIscztyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PW8uYmFzZTY0VG9VaW50OEFycmF5KFwiTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FEQ01uWEFIa0tJR0FNK3g0TjIyZ0NJK1d5dVxcblNUTTl6dGtUM3VZc2xUVDJQdUttWmZQemhINmtWZE83UFRqR0NPWm5Bc3liM29UdFdhdDBLY3hRNGp4dnFRVitcXG5IdllsM2lJMVlkNHZsMmMzcVJNSlBMdFJEZk54YTJNY3hncTdlOWFFVWliemRkMHN0K09KQXkzdE9qL1kwYVZ5XFxueFFpWUR6M3ZxYTZiUDI5YWR3SURBUUFCXCIpLFs0LHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInNwa2lcIix0LHtuYW1lOlwiUlNBLU9BRVBcIixoYXNoOlwiU0hBLTI1NlwifSwhMCxbXCJlbmNyeXB0XCJdKV07Y2FzZSAxOnJldHVybiBuPWkuc2VudCgpLGM9ZSxyPShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShjKSxbNCx3aW5kb3cuY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOlwiUlNBLU9BRVBcIn0sbixyKV07Y2FzZSAyOnJldHVybiBzPWkuc2VudCgpLFsyLGEobmV3IFVpbnQ4QXJyYXkocykpXX12YXIgY30pKX0pKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGk9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1vKG4oMCkpLHM9big3NSksYz1uKDI0KSxkPW4oMSksdT1uKDI3KTt0LmFkZExpdmVTdHJlYW1pbmdDYXBhYmlsaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxvPWZ1bmN0aW9uKHQpe3ZhciBuPXQudHlwZTtpZighZS5qb2luSW5mbylyZXR1cm4gbmV3IGMuQWdvcmFSVENFcnJvcihjLkFnb3JhUlRDRXJyb3JDb2RlLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBjcmVhdGUgbGl2ZSBzdHJlYW1pbmcgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCk7c3dpdGNoKG4pe2Nhc2UgdS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUOnJldHVybiBlLl9pbmplY3RTdHJlYW1pbmdDbGllbnR8fChlLl9pbmplY3RTdHJlYW1pbmdDbGllbnQ9bmV3IHMuQWdvcmFSVENMaXZlU3RyZWFtaW5nQ2xpZW50KGUuam9pbkluZm8pLGUuX2luamVjdFN0cmVhbWluZ0NsaWVudC5vbkluamVjdFN0YXR1c0NoYW5nZT1mdW5jdGlvbih0LG4scil7ZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW1JbmplY3RlZFN0YXR1c1wiLHVybDpyLHN0YXR1czp0fSl9KSxlLl9pbmplY3RTdHJlYW1pbmdDbGllbnQ7Y2FzZSB1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5SQVc6cmV0dXJuIGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnR8fChlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PW5ldyBzLkFnb3JhUlRDTGl2ZVN0cmVhbWluZ0NsaWVudChlLmpvaW5JbmZvKSxlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LnNldEdhdGV3YXlDb25uZWN0aW9uU3RhdGUoZS5nZXRDb25uZWN0aW9uU3RhdGUoKSksZS5vbihcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsKGZ1bmN0aW9uKHQpe2UuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuc2V0R2F0ZXdheUNvbm5lY3Rpb25TdGF0ZSh0LmN1clN0YXRlKSxcIkNPTk5FQ1RJTkdcIj09PXQucHJldlN0YXRlJiZcIkNPTk5FQ1RFRFwiPT09dC5jdXJTdGF0ZSYmZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZXNldEFsbFRhc2soKX0pKSxlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50Lm9uTGl2ZVN0cmVhbUVycm9yPWZ1bmN0aW9uKHQsbil7YS5kZWZhdWx0LmVycm9yKFwiTElWRV9TVFJFQU1JTkdfRVJST1JcIixuLnRvU3RyaW5nKCkpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ0ZhaWxlZFwiLHVybDp0LHJlYXNvbjpuLmNvZGV9KX0sZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5vbkxpdmVTdHJlYW1XYXJuaW5nPWZ1bmN0aW9uKHQsbil7YS5kZWZhdWx0Lndhcm5pbmcoXCJMSVZFX1NUUkVBTUlOR19XQVJOSU5HXCIsbi50b1N0cmluZygpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdXYXJuaW5nXCIsdXJsOnQscmVhc29uOm4uY29kZX0pfSksZS5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudDtjYXNlIHUuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERTpyZXR1cm4gZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudHx8KGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQ9bmV3IHMuQWdvcmFSVENMaXZlU3RyZWFtaW5nQ2xpZW50KGUuam9pbkluZm8pLGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQuc2V0R2F0ZXdheUNvbm5lY3Rpb25TdGF0ZShlLmdldENvbm5lY3Rpb25TdGF0ZSgpKSxlLm9uKFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIiwoZnVuY3Rpb24odCl7ZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5zZXRHYXRld2F5Q29ubmVjdGlvblN0YXRlKHQuY3VyU3RhdGUpLFwiQ09OTkVDVElOR1wiPT09dC5wcmV2U3RhdGUmJlwiQ09OTkVDVEVEXCI9PT10LmN1clN0YXRlJiZlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiZlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50LnJlc2V0QWxsVGFzaygpfSkpLGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQub25MaXZlU3RyZWFtRXJyb3I9ZnVuY3Rpb24odCxuKXthLmRlZmF1bHQuZXJyb3IoXCJMSVZFX1NUUkVBTUlOR19FUlJPUlwiLG4udG9TdHJpbmcoKSksZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsaXZlU3RyZWFtaW5nRmFpbGVkXCIsdXJsOnQscmVhc29uOm4uY29kZX0pfSxlLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50Lm9uTGl2ZVN0cmVhbVdhcm5pbmc9ZnVuY3Rpb24odCxuKXthLmRlZmF1bHQud2FybmluZyhcIkxJVkVfU1RSRUFNSU5HX1dBUk5JTkdcIixuLnRvU3RyaW5nKCkpLGUuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibGl2ZVN0cmVhbWluZ1dhcm5pbmdcIix1cmw6dCxyZWFzb246bn0pfSksZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudH19O2UuZ2F0ZXdheUNsaWVudC5hZGRFdmVudExpc3RlbmVyKFwiam9pblwiLChmdW5jdGlvbih0KXtlLl9pbmplY3RTdHJlYW1pbmdDbGllbnQmJmUuX2luamVjdFN0cmVhbWluZ0NsaWVudC5yZXNldEFsbFRhc2soKX0pKSxlLmdhdGV3YXlDbGllbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN0cmVhbS11bnB1Ymxpc2hlZFwiLChmdW5jdGlvbih0KXt0Lm9wdGlvbnMmJjA9PT10Lm9wdGlvbnMuc3RyZWFtVHlwZSYmKGUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJmUuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQucmVzZXRBbGxUYXNrKCksZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmZS5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5yZXNldEFsbFRhc2soKSl9KSksZS5nYXRld2F5Q2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdHJlYW0tcHVibGlzaGVkXCIsKGZ1bmN0aW9uKGUpe30pKSxlLnN0YXJ0TGl2ZVN0cmVhbWluZz1mdW5jdGlvbihuLHIpe2EuZGVmYXVsdC5kZWJ1ZyhcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiKTt2YXIgaT1kLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc3RhcnRMaXZlU3RyZWFtaW5nXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZihlLmdhdGV3YXlDbGllbnQmJlwiYXVkaWVuY2VcIj09PWUuZ2F0ZXdheUNsaWVudC5yb2xlKXt2YXIgbz17Y29kZTo0MDMscmVhc29uOlwiQVVESUVOQ0VfU1RSRUFNSU5HX0ZPUkJJRERFTlwifTt0aHJvdyBpKG8pLG99dmFyIHM9ZS5fc3RhcnRMaXZlU3RyZWFtaW5nKG4scik7cmV0dXJuIHMudGhlbigoZnVuY3Rpb24oZSl7aShudWxsLGUpfSkpLmNhdGNoKChmdW5jdGlvbih0KXthLmRlZmF1bHQuZXJyb3IoXCJMSVZFX1NUUkVBTUlOR19FUlJPUlwiLHQudG9TdHJpbmcoKSksZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsaXZlU3RyZWFtaW5nRmFpbGVkXCIsdXJsOm4scmVhc29uOnQuY29kZX0pLGkodCl9KSksc30sZS5fc3RhcnRMaXZlU3RyZWFtaW5nPWZ1bmN0aW9uKHMsZCl7cmV0dXJuIHIobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGR8fChcInZwOFwiPT09dC5jb2RlYyYmYS5kZWZhdWx0Lndhcm5pbmcoXCJWUDggaXMgbm90IHN1cHBvcnRlZCBieSByYXdfc3RyZWFtaW5nLiBTdWJzY3JpYmVyIHNpZGUgd2lsbCBzdWZmZXJcIiksXCJ2cDlcIj09PXQuY29kZWMmJmEuZGVmYXVsdC53YXJuaW5nKFwiVlA5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgcmF3X3N0cmVhbWluZy4gU3Vic2NyaWJlciBzaWRlIHdpbGwgc3VmZmVyXCIpLFwicnRjXCI9PT10Lm1vZGUmJmEuZGVmYXVsdC53YXJuaW5nKFwiUlRDIG1vZGUgaXMgbm90IHN1cHBvcnRlZCBieSByYXdfc3RyZWFtaW5nLiBTdWJzY3JpYmVyIHNpZGUgd2lsbCBzdWZmZXJcIikpLChlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50JiZlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LmhhdmVVcmwocyl8fGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQmJmUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQuaGF2ZVVybChzKSkmJm5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUKS50aHJvdygpLG49ZD91LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREU6dS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuUkFXLFs0LG8oe3R5cGU6bn0pLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2socyxuKV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdTdGFydGVkXCIsdXJsOnN9KSxbMl19fSkpfSkpfSxlLnNldExpdmVUcmFuc2NvZGluZz1mdW5jdGlvbihuKXthLmRlZmF1bHQuZGVidWcoXCJzZXRMaXZlVHJhbnNjb2Rpbmc6IFwiK0pTT04uc3RyaW5naWZ5KG4pKTt2YXIgcj1kLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2V0TGl2ZVRyYW5zY29kaW5nXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KSxpPW8oe3R5cGU6dS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFfSk7cmV0dXJuIGkuc2V0VHJhbnNjb2RpbmdDb25maWcobikudGhlbigoZnVuY3Rpb24oKXtlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVUcmFuc2NvZGluZ1VwZGF0ZWRcIn0pLHIobnVsbCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2EuZGVmYXVsdC5lcnJvcihcIlNFVF9MSVZFX1RSQU5TQ09ESU5HX0VSUk9SXCIsdC50b1N0cmluZygpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdGYWlsZWRcIixyZWFzb246dC5jb2RlfSkscih0KX0pKX0sZS5zdG9wTGl2ZVN0cmVhbWluZz1mdW5jdGlvbihuKXt2YXIgcj1kLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc3RvcExpdmVTdHJlYW1pbmdcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pLGk9ZS5fc3RvcExpdmVTdHJlYW1pbmcobik7cmV0dXJuIGkudGhlbigoZnVuY3Rpb24oZSl7cihudWxsLGUpfSkpLmNhdGNoKChmdW5jdGlvbih0KXthLmRlZmF1bHQuZXJyb3IoXCJTVE9QX0xJVkVfU1RSRUFNSU5HX0VSUk9SXCIsdC50b1N0cmluZygpKSxlLmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxpdmVTdHJlYW1pbmdGYWlsZWRcIix1cmw6bixyZWFzb246dC5jb2RlfSkscih0KX0pKSxpfSxlLl9zdG9wTGl2ZVN0cmVhbWluZz1mdW5jdGlvbih0KXtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGkodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gYS5kZWZhdWx0LmRlYnVnKFwic3RvcExpdmVTdHJlYW1pbmc6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSxuPVtlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnRdLFs0LFByb21pc2UuYWxsKG4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5oYXZlVXJsKHQpJiZlLnN0b3BMaXZlU3RyZWFtaW5nVGFzayh0KX0pKSldO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksYS5kZWZhdWx0LmRlYnVnKFwic3RvcExpdmVTdHJlYW1pbmcgc3VjZXNzOiBcIitKU09OLnN0cmluZ2lmeSh0KSksZS5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsaXZlU3RyZWFtaW5nU3RvcHBlZFwiLHVybDp0fSksWzJdfX0pKX0pKX0sZS5hZGRJbmplY3RTdHJlYW1Vcmw9ZnVuY3Rpb24obixyKXt2YXIgaT1kLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UodC5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuYWRkSW5qZWN0U3RyZWFtVXJsXCIsb3B0aW9uczpbbixyXSx0YWc6XCJ0cmFjZXJcIn0pO2lmKFwiYXVkaWVuY2VcIj09PWUuZ2F0ZXdheUNsaWVudC5yb2xlKXt2YXIgbz17Y29kZTo0MDMscmVhc29uOlwiQVVESUVOQ0VfSU5KRUNUSU5HX0ZPUkJJRERFTlwifTt0aHJvdyBpKG8pLG99dmFyIHM9ZS5fYWRkSW5qZWN0U3RyZWFtVXJsKG4scik7cmV0dXJuIHMudGhlbigoZnVuY3Rpb24oZSl7aShudWxsLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthLmRlZmF1bHQuZXJyb3IoXCJBRERfSU5KRUNUX1NUUkVBTV9FUlJPUlwiLGUudG9TdHJpbmcoKSksaShlKX0pKSxzfSxlLl9hZGRJbmplY3RTdHJlYW1Vcmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcihuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGkodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4obj1vKHt0eXBlOnUuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVH0pKS5zZXRJbmplY3RTdHJlYW1Db25maWcodCwwKSxbNCxuLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx1LkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1QpXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyXX19KSl9KSl9LGUucmVtb3ZlSW5qZWN0U3RyZWFtVXJsPWZ1bmN0aW9uKG4pe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixvO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3JldHVybiByPWQucmVwb3J0LnJlcG9ydEFwaUludm9rZSh0LnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5yZW1vdmVJbmplY3RTdHJlYW1VcmxcIixvcHRpb25zOltuXSx0YWc6XCJ0cmFjZXJcIn0pLChvPWUuX3JlbW92ZUluamVjdFN0cmVhbVVybChuKSkudGhlbigoZnVuY3Rpb24oZSl7cihudWxsLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthLmRlZmF1bHQuZXJyb3IoXCJSRU1PVkVfSU5KRUNUX1NUUkVBTV9FUlJPUlwiLGUudG9TdHJpbmcoKSkscihlKX0pKSxbMixvXX0pKX0pKX0sZS5fcmVtb3ZlSW5qZWN0U3RyZWFtVXJsPWZ1bmN0aW9uKGUpe3JldHVybiByKG4sdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8oe3R5cGU6dS5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUfSkuc3RvcExpdmVTdHJlYW1pbmdUYXNrKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KSl9KSl9LGUuX3Rlcm1pbmF0ZUxpdmVTdHJlYW1pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gcihuLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcywoZnVuY3Rpb24odCl7cmV0dXJuW2UuX2luamVjdFN0cmVhbWluZ0NsaWVudCxlLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LGUuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJmUudGVybWluYXRlKCl9KSksWzJdfSkpfSkpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1yKG4oNCkpLG89cihuKDApKSxhPW4oMTApO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTV9KTt2YXIgbj10LndpZHRoLHI9dC5oZWlnaHQscz10LmZyYW1lcmF0ZSxjPWUuc3RyZWFtO2lmKCFjKXRocm93IGkuZGVmYXVsdC5JTlZBTElEX0xPQ0FMX1NUUkVBTTtpZighYy5nZXRWaWRlb1RyYWNrcygpWzBdKXRocm93IGkuZGVmYXVsdC5ISUdIX1NUUkVBTV9OT1RfVklERU9fVFJBQ0U7dmFyIGQ9Yy5nZXRWaWRlb1RyYWNrcygpWzBdO28uZGVmYXVsdC5kZWJ1ZyhcIlN0YXJ0IGdldExvd1N0cmVhbVwiKTt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSx1LnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksdS5tdXRlZD0hMCx1LnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksdS5hdXRvcGxheT0hMCx1LnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksbC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLGwuc2V0QXR0cmlidXRlKFwid2lkdGhcIixuLnRvU3RyaW5nKCkpLGwuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsci50b1N0cmluZygpKTt2YXIgZj1sLmdldENvbnRleHQoXCIyZFwiKTtpZighZil0aHJvdyBuZXcgRXJyb3IoXCJub3QgZ2V0IGNhbnZhcyBjb250ZXh0XCIpO3Uuc3JjT2JqZWN0PWMsZG9jdW1lbnQuYm9keS5hcHBlbmQodSksZG9jdW1lbnQuYm9keS5hcHBlbmQobCksdS5wbGF5KCksby5kZWZhdWx0LmRlYnVnKFwiU3RhcnQgcmVuZGVyIGxvd1N0cmVhbVwiKTt2YXIgcD1hLmF1ZGlvVGltZXJMb29wKChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2lmKHUucGF1c2VkJiZ1LnBsYXkoKSx1LnZpZGVvSGVpZ2h0PjImJnUudmlkZW9XaWR0aD4yKXt2YXIgdD11LnZpZGVvV2lkdGgsbj11LnZpZGVvSGVpZ2h0L3Qscj1sLndpZHRoKm47TWF0aC5hYnMoci1sLmhlaWdodCk+PTImJihvLmRlZmF1bHQuZGVidWcoXCJhZGp1c3QgbG93IHN0cmVhbSByZXNvbHV0aW9uXCIsbC53aWR0aCtcInhcIitsLmhlaWdodCtcIiAtPiBcIitsLndpZHRoK1wieFwiK3IpLGwuaGVpZ2h0PXIpfWYuZHJhd0ltYWdlKHUsMCwwLGwud2lkdGgsbC5oZWlnaHQpO3ZhciBpPWUuc3RyZWFtO2lmKGkpe3ZhciBhPWkuZ2V0VmlkZW9UcmFja3MoKVswXTtkIT09YSYmKG8uZGVmYXVsdC5kZWJ1ZyhcImFkanVzdCBsb3cgc3RyZWFtIHRyYWNrXCIpLHUuc3JjT2JqZWN0PWksZD1hKX19KCl9KSxzKSxnPWwuY2FwdHVyZVN0cmVhbShzKSxtPWcuZ2V0VmlkZW9UcmFja3MoKVswXTtyZXR1cm4gbS5yZXF1ZXN0RnJhbWUmJm0ucmVxdWVzdEZyYW1lKCksZy5jbGVhbj1mdW5jdGlvbigpe28uZGVmYXVsdC5kZWJ1ZyhcIlN0YXJ0IGNsZWFuIGxvd1N0cmVhbVwiKSxwKCksKHV8fHUucGFyZW50Tm9kZXx8dS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKSYmdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpLChsfHxsLnBhcmVudE5vZGV8fGwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCkmJmwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsKSxvLmRlZmF1bHQuZGVidWcoXCJDbGVhbiBsb3dTdHJlYW1cIil9LGd9fSxmdW5jdGlvbihlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbXNDcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtpZihuKXt2YXIgcj1uZXcgVWludDhBcnJheSgxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4ocikscn19ZWxzZXt2YXIgaT1uZXcgQXJyYXkoMTYpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7dDwxNjt0KyspMD09KDMmdCkmJihlPTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSksaVt0XT1lPj4+KCgzJnQpPDwzKSYyNTU7cmV0dXJuIGl9fX0sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8MjU2OysrciluW3JdPShyKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHwwLGk9bjtyZXR1cm5baVtlW3IrK11dLGlbZVtyKytdXSxpW2VbcisrXV0saVtlW3IrK11dLFwiLVwiLGlbZVtyKytdXSxpW2VbcisrXV0sXCItXCIsaVtlW3IrK11dLGlbZVtyKytdXSxcIi1cIixpW2VbcisrXV0saVtlW3IrK11dLFwiLVwiLGlbZVtyKytdXSxpW2VbcisrXV0saVtlW3IrK11dLGlbZVtyKytdXSxpW2VbcisrXV0saVtlW3IrK11dXS5qb2luKFwiXCIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCxtb2R1bGUpe3ZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1xuLyohXG4gKiBwcm90b2J1Zi5qcyB2Ni4xMC4wIChjKSAyMDE2LCBkYW5pZWwgd2lydHpcbiAqIGNvbXBpbGVkIHdlZCwgMTUganVsIDIwMjAgMjM6MzQ6MTMgdXRjXG4gKiBsaWNlbnNlZCB1bmRlciB0aGUgYnNkLTMtY2xhdXNlIGxpY2Vuc2VcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlaW8vcHJvdG9idWYuanMgZm9yIGRldGFpbHNcbiAqLyFmdW5jdGlvbih1bmRlZmluZWQpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24gbihyKXt2YXIgaT10W3JdO3JldHVybiBpfHxlW3JdWzBdLmNhbGwoaT10W3JdPXtleHBvcnRzOnt9fSxuLGksaS5leHBvcnRzKSxpLmV4cG9ydHN9KG5bMF0pO3IudXRpbC5nbG9iYWwucHJvdG9idWY9cixfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fPVtfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKV0sKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmlzTG9uZyYmKHIudXRpbC5Mb25nPWUsci5jb25maWd1cmUoKSkscn0uYXBwbHkoZXhwb3J0cyxfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSk9PT11bmRlZmluZWR8fChtb2R1bGUuZXhwb3J0cz1fX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyksbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXIpfSh7MTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLHI9MCxpPTIsbz0hMDtmb3IoO2k8YXJndW1lbnRzLmxlbmd0aDspbltyKytdPWFyZ3VtZW50c1tpKytdO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXtuW3JdPWZ1bmN0aW9uKGUpe2lmKG8paWYobz0hMSxlKWEoZSk7ZWxzZXtmb3IodmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksbj0wO248dC5sZW5ndGg7KXRbbisrXT1hcmd1bWVudHNbbl07aS5hcHBseShudWxsLHQpfX07dHJ5e2UuYXBwbHkodHx8bnVsbCxuKX1jYXRjaChlKXtvJiYobz0hMSxhKGUpKX19KSl9fSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPW47ci5sZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7Zm9yKHZhciBuPTA7LS10JTQ+MSYmXCI9XCI9PT1lLmNoYXJBdCh0KTspKytuO3JldHVybiBNYXRoLmNlaWwoMyplLmxlbmd0aCkvNC1ufTtmb3IodmFyIGk9bmV3IEFycmF5KDY0KSxvPW5ldyBBcnJheSgxMjMpLGE9MDthPDY0OylvW2lbYV09YTwyNj9hKzY1OmE8NTI/YSs3MTphPDYyP2EtNDphLTU5fDQzXT1hKys7ci5lbmNvZGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixvPW51bGwsYT1bXSxzPTAsYz0wO3Q8bjspe3ZhciBkPWVbdCsrXTtzd2l0Y2goYyl7Y2FzZSAwOmFbcysrXT1pW2Q+PjJdLHI9KDMmZCk8PDQsYz0xO2JyZWFrO2Nhc2UgMTphW3MrK109aVtyfGQ+PjRdLHI9KDE1JmQpPDwyLGM9MjticmVhaztjYXNlIDI6YVtzKytdPWlbcnxkPj42XSxhW3MrK109aVs2MyZkXSxjPTB9cz44MTkxJiYoKG98fChvPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxhKSkscz0wKX1yZXR1cm4gYyYmKGFbcysrXT1pW3JdLGFbcysrXT02MSwxPT09YyYmKGFbcysrXT02MSkpLG8/KHMmJm8ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxhLnNsaWNlKDAscykpKSxvLmpvaW4oXCJcIikpOlN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGEuc2xpY2UoMCxzKSl9O3IuZGVjb2RlPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaT1uLGE9MCxzPTA7czxlLmxlbmd0aDspe3ZhciBjPWUuY2hhckNvZGVBdChzKyspO2lmKDYxPT09YyYmYT4xKWJyZWFrO2lmKChjPW9bY10pPT09dW5kZWZpbmVkKXRocm93IEVycm9yKFwiaW52YWxpZCBlbmNvZGluZ1wiKTtzd2l0Y2goYSl7Y2FzZSAwOnI9YyxhPTE7YnJlYWs7Y2FzZSAxOnRbbisrXT1yPDwyfCg0OCZjKT4+NCxyPWMsYT0yO2JyZWFrO2Nhc2UgMjp0W24rK109KDE1JnIpPDw0fCg2MCZjKT4+MixyPWMsYT0zO2JyZWFrO2Nhc2UgMzp0W24rK109KDMmcik8PDZ8YyxhPTB9fWlmKDE9PT1hKXRocm93IEVycm9yKFwiaW52YWxpZCBlbmNvZGluZ1wiKTtyZXR1cm4gbi1pfSxyLnRlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvLnRlc3QoZSl9fSx7fV0sMzpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQ9ZSxlPXVuZGVmaW5lZCk7dmFyIG49W107ZnVuY3Rpb24gaShlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl7dmFyIHQ9bygpO2lmKHIudmVyYm9zZSYmY29uc29sZS5sb2coXCJjb2RlZ2VuOiBcIit0KSx0PVwicmV0dXJuIFwiK3QsZSl7Zm9yKHZhciBhPU9iamVjdC5rZXlzKGUpLHM9bmV3IEFycmF5KGEubGVuZ3RoKzEpLGM9bmV3IEFycmF5KGEubGVuZ3RoKSxkPTA7ZDxhLmxlbmd0aDspc1tkXT1hW2RdLGNbZF09ZVthW2QrK11dO3JldHVybiBzW2RdPXQsRnVuY3Rpb24uYXBwbHkobnVsbCxzKS5hcHBseShudWxsLGMpfXJldHVybiBGdW5jdGlvbih0KSgpfWZvcih2YXIgdT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxsPTA7bDx1Lmxlbmd0aDspdVtsXT1hcmd1bWVudHNbKytsXTtpZihsPTAsZT1lLnJlcGxhY2UoLyUoWyVkZmlqc10pL2csKGZ1bmN0aW9uKGUsdCl7dmFyIG49dVtsKytdO3N3aXRjaCh0KXtjYXNlXCJkXCI6Y2FzZVwiZlwiOnJldHVybiBTdHJpbmcoTnVtYmVyKG4pKTtjYXNlXCJpXCI6cmV0dXJuIFN0cmluZyhNYXRoLmZsb29yKG4pKTtjYXNlXCJqXCI6cmV0dXJuIEpTT04uc3RyaW5naWZ5KG4pO2Nhc2VcInNcIjpyZXR1cm4gU3RyaW5nKG4pfXJldHVyblwiJVwifSkpLGwhPT11Lmxlbmd0aCl0aHJvdyBFcnJvcihcInBhcmFtZXRlciBjb3VudCBtaXNtYXRjaFwiKTtyZXR1cm4gbi5wdXNoKGUpLGl9ZnVuY3Rpb24gbyhyKXtyZXR1cm5cImZ1bmN0aW9uIFwiKyhyfHx0fHxcIlwiKStcIihcIisoZSYmZS5qb2luKFwiLFwiKXx8XCJcIikrXCIpe1xcbiAgXCIrbi5qb2luKFwiXFxuICBcIikrXCJcXG59XCJ9cmV0dXJuIGkudG9TdHJpbmc9byxpfXQuZXhwb3J0cz1yLHIudmVyYm9zZT0hMX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dGhpcy5fbGlzdGVuZXJzPXt9fXQuZXhwb3J0cz1yLHIucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4odGhpcy5fbGlzdGVuZXJzW2VdfHwodGhpcy5fbGlzdGVuZXJzW2VdPVtdKSkucHVzaCh7Zm46dCxjdHg6bnx8dGhpc30pLHRoaXN9LHIucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe2lmKGU9PT11bmRlZmluZWQpdGhpcy5fbGlzdGVuZXJzPXt9O2Vsc2UgaWYodD09PXVuZGVmaW5lZCl0aGlzLl9saXN0ZW5lcnNbZV09W107ZWxzZSBmb3IodmFyIG49dGhpcy5fbGlzdGVuZXJzW2VdLHI9MDtyPG4ubGVuZ3RoOyluW3JdLmZuPT09dD9uLnNwbGljZShyLDEpOisrcjtyZXR1cm4gdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9saXN0ZW5lcnNbZV07aWYodCl7Zm9yKHZhciBuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7KW4ucHVzaChhcmd1bWVudHNbcisrXSk7Zm9yKHI9MDtyPHQubGVuZ3RoOyl0W3JdLmZuLmFwcGx5KHRbcisrXS5jdHgsbil9cmV0dXJuIHRoaXN9fSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1vO3ZhciByPWUoMSksaT1lKDcpKFwiZnNcIik7ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8obj10LHQ9e30pOnR8fCh0PXt9KSxuPyF0LnhociYmaSYmaS5yZWFkRmlsZT9pLnJlYWRGaWxlKGUsKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdD9vLnhocihlLHQsbik6cj9uKHIpOm4obnVsbCx0LmJpbmFyeT9pOmkudG9TdHJpbmcoXCJ1dGY4XCIpKX0pKTpvLnhocihlLHQsbik6cihvLHRoaXMsZSx0KX1vLnhocj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoNCE9PXIucmVhZHlTdGF0ZSlyZXR1cm4gdW5kZWZpbmVkO2lmKDAhPT1yLnN0YXR1cyYmMjAwIT09ci5zdGF0dXMpcmV0dXJuIG4oRXJyb3IoXCJzdGF0dXMgXCIrci5zdGF0dXMpKTtpZih0LmJpbmFyeSl7dmFyIGU9ci5yZXNwb25zZTtpZighZSl7ZT1bXTtmb3IodmFyIGk9MDtpPHIucmVzcG9uc2VUZXh0Lmxlbmd0aDsrK2kpZS5wdXNoKDI1NSZyLnJlc3BvbnNlVGV4dC5jaGFyQ29kZUF0KGkpKX1yZXR1cm4gbihudWxsLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P25ldyBVaW50OEFycmF5KGUpOmUpfXJldHVybiBuKG51bGwsci5yZXNwb25zZVRleHQpfSx0LmJpbmFyeSYmKFwib3ZlcnJpZGVNaW1lVHlwZVwiaW4gciYmci5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZFwiKSxyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpLHIub3BlbihcIkdFVFwiLGUpLHIuc2VuZCgpfX0sezE6MSw3Ojd9XSw2OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P2Z1bmN0aW9uKCl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheShbLTBdKSxuPW5ldyBVaW50OEFycmF5KHQuYnVmZmVyKSxyPTEyOD09PW5bM107ZnVuY3Rpb24gaShlLHIsaSl7dFswXT1lLHJbaV09blswXSxyW2krMV09blsxXSxyW2krMl09blsyXSxyW2krM109blszXX1mdW5jdGlvbiBvKGUscixpKXt0WzBdPWUscltpXT1uWzNdLHJbaSsxXT1uWzJdLHJbaSsyXT1uWzFdLHJbaSszXT1uWzBdfWZ1bmN0aW9uIGEoZSxyKXtyZXR1cm4gblswXT1lW3JdLG5bMV09ZVtyKzFdLG5bMl09ZVtyKzJdLG5bM109ZVtyKzNdLHRbMF19ZnVuY3Rpb24gcyhlLHIpe3JldHVybiBuWzNdPWVbcl0sblsyXT1lW3IrMV0sblsxXT1lW3IrMl0sblswXT1lW3IrM10sdFswXX1lLndyaXRlRmxvYXRMRT1yP2k6byxlLndyaXRlRmxvYXRCRT1yP286aSxlLnJlYWRGbG9hdExFPXI/YTpzLGUucmVhZEZsb2F0QkU9cj9zOmF9KCk6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsdCxuLHIpe3ZhciBpPXQ8MD8xOjA7aWYoaSYmKHQ9LXQpLDA9PT10KWUoMS90PjA/MDoyMTQ3NDgzNjQ4LG4scik7ZWxzZSBpZihpc05hTih0KSllKDIxNDMyODkzNDQsbixyKTtlbHNlIGlmKHQ+MzQwMjgyMzQ2NjM4NTI4ODZlMjIpZSgoaTw8MzF8MjEzOTA5NTA0MCk+Pj4wLG4scik7ZWxzZSBpZih0PDExNzU0OTQzNTA4MjIyODc1ZS01NCllKChpPDwzMXxNYXRoLnJvdW5kKHQvMTQwMTI5ODQ2NDMyNDgxN2UtNjApKT4+PjAsbixyKTtlbHNle3ZhciBvPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpO2UoKGk8PDMxfG8rMTI3PDwyM3w4Mzg4NjA3Jk1hdGgucm91bmQodCpNYXRoLnBvdygyLC1vKSo4Mzg4NjA4KSk+Pj4wLG4scil9fWZ1bmN0aW9uIG4oZSx0LG4pe3ZhciByPWUodCxuKSxpPTIqKHI+PjMxKSsxLG89cj4+PjIzJjI1NSxhPTgzODg2MDcmcjtyZXR1cm4gMjU1PT09bz9hP05hTjppKigxLzApOjA9PT1vPzE0MDEyOTg0NjQzMjQ4MTdlLTYwKmkqYTppKk1hdGgucG93KDIsby0xNTApKihhKzgzODg2MDgpfWUud3JpdGVGbG9hdExFPXQuYmluZChudWxsLGkpLGUud3JpdGVGbG9hdEJFPXQuYmluZChudWxsLG8pLGUucmVhZEZsb2F0TEU9bi5iaW5kKG51bGwsYSksZS5yZWFkRmxvYXRCRT1uLmJpbmQobnVsbCxzKX0oKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQ2NEFycmF5P2Z1bmN0aW9uKCl7dmFyIHQ9bmV3IEZsb2F0NjRBcnJheShbLTBdKSxuPW5ldyBVaW50OEFycmF5KHQuYnVmZmVyKSxyPTEyOD09PW5bN107ZnVuY3Rpb24gaShlLHIsaSl7dFswXT1lLHJbaV09blswXSxyW2krMV09blsxXSxyW2krMl09blsyXSxyW2krM109blszXSxyW2krNF09bls0XSxyW2krNV09bls1XSxyW2krNl09bls2XSxyW2krN109bls3XX1mdW5jdGlvbiBvKGUscixpKXt0WzBdPWUscltpXT1uWzddLHJbaSsxXT1uWzZdLHJbaSsyXT1uWzVdLHJbaSszXT1uWzRdLHJbaSs0XT1uWzNdLHJbaSs1XT1uWzJdLHJbaSs2XT1uWzFdLHJbaSs3XT1uWzBdfWZ1bmN0aW9uIGEoZSxyKXtyZXR1cm4gblswXT1lW3JdLG5bMV09ZVtyKzFdLG5bMl09ZVtyKzJdLG5bM109ZVtyKzNdLG5bNF09ZVtyKzRdLG5bNV09ZVtyKzVdLG5bNl09ZVtyKzZdLG5bN109ZVtyKzddLHRbMF19ZnVuY3Rpb24gcyhlLHIpe3JldHVybiBuWzddPWVbcl0sbls2XT1lW3IrMV0sbls1XT1lW3IrMl0sbls0XT1lW3IrM10sblszXT1lW3IrNF0sblsyXT1lW3IrNV0sblsxXT1lW3IrNl0sblswXT1lW3IrN10sdFswXX1lLndyaXRlRG91YmxlTEU9cj9pOm8sZS53cml0ZURvdWJsZUJFPXI/bzppLGUucmVhZERvdWJsZUxFPXI/YTpzLGUucmVhZERvdWJsZUJFPXI/czphfSgpOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQsbixyLGksbyl7dmFyIGE9cjwwPzE6MDtpZihhJiYocj0tciksMD09PXIpZSgwLGksbyt0KSxlKDEvcj4wPzA6MjE0NzQ4MzY0OCxpLG8rbik7ZWxzZSBpZihpc05hTihyKSllKDAsaSxvK3QpLGUoMjE0Njk1OTM2MCxpLG8rbik7ZWxzZSBpZihyPjE3OTc2OTMxMzQ4NjIzMTU3ZTI5MillKDAsaSxvK3QpLGUoKGE8PDMxfDIxNDY0MzUwNzIpPj4+MCxpLG8rbik7ZWxzZXt2YXIgcztpZihyPDIyMjUwNzM4NTg1MDcyMDE0ZS0zMjQpZSgocz1yLzVlLTMyNCk+Pj4wLGksbyt0KSxlKChhPDwzMXxzLzQyOTQ5NjcyOTYpPj4+MCxpLG8rbik7ZWxzZXt2YXIgYz1NYXRoLmZsb29yKE1hdGgubG9nKHIpL01hdGguTE4yKTsxMDI0PT09YyYmKGM9MTAyMyksZSg0NTAzNTk5NjI3MzcwNDk2KihzPXIqTWF0aC5wb3coMiwtYykpPj4+MCxpLG8rdCksZSgoYTw8MzF8YysxMDIzPDwyMHwxMDQ4NTc2KnMmMTA0ODU3NSk+Pj4wLGksbytuKX19fWZ1bmN0aW9uIG4oZSx0LG4scixpKXt2YXIgbz1lKHIsaSt0KSxhPWUocixpK24pLHM9MiooYT4+MzEpKzEsYz1hPj4+MjAmMjA0NyxkPTQyOTQ5NjcyOTYqKDEwNDg1NzUmYSkrbztyZXR1cm4gMjA0Nz09PWM/ZD9OYU46cyooMS8wKTowPT09Yz81ZS0zMjQqcypkOnMqTWF0aC5wb3coMixjLTEwNzUpKihkKzQ1MDM1OTk2MjczNzA0OTYpfWUud3JpdGVEb3VibGVMRT10LmJpbmQobnVsbCxpLDAsNCksZS53cml0ZURvdWJsZUJFPXQuYmluZChudWxsLG8sNCwwKSxlLnJlYWREb3VibGVMRT1uLmJpbmQobnVsbCxhLDAsNCksZS5yZWFkRG91YmxlQkU9bi5iaW5kKG51bGwscyw0LDApfSgpLGV9ZnVuY3Rpb24gaShlLHQsbil7dFtuXT0yNTUmZSx0W24rMV09ZT4+PjgmMjU1LHRbbisyXT1lPj4+MTYmMjU1LHRbbiszXT1lPj4+MjR9ZnVuY3Rpb24gbyhlLHQsbil7dFtuXT1lPj4+MjQsdFtuKzFdPWU+Pj4xNiYyNTUsdFtuKzJdPWU+Pj44JjI1NSx0W24rM109MjU1JmV9ZnVuY3Rpb24gYShlLHQpe3JldHVybihlW3RdfGVbdCsxXTw8OHxlW3QrMl08PDE2fGVbdCszXTw8MjQpPj4+MH1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuKGVbdF08PDI0fGVbdCsxXTw8MTZ8ZVt0KzJdPDw4fGVbdCszXSk+Pj4wfXQuZXhwb3J0cz1yKHIpfSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKXt0cnl7dmFyIG1vZD1ldmFsKFwicXVpcmVcIi5yZXBsYWNlKC9eLyxcInJlXCIpKShtb2R1bGVOYW1lKTtpZihtb2QmJihtb2QubGVuZ3RofHxPYmplY3Qua2V5cyhtb2QpLmxlbmd0aCkpcmV0dXJuIG1vZH1jYXRjaChlKXt9cmV0dXJuIG51bGx9bW9kdWxlLmV4cG9ydHM9aW5xdWlyZX0se31dLDg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLGk9ci5pc0Fic29sdXRlPWZ1bmN0aW9uKGUpe3JldHVybi9eKD86XFwvfFxcdys6KS8udGVzdChlKX0sbz1yLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD0oZT1lLnJlcGxhY2UoL1xcXFwvZyxcIi9cIikucmVwbGFjZSgvXFwvezIsfS9nLFwiL1wiKSkuc3BsaXQoXCIvXCIpLG49aShlKSxyPVwiXCI7biYmKHI9dC5zaGlmdCgpK1wiL1wiKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoOylcIi4uXCI9PT10W29dP28+MCYmXCIuLlwiIT09dFtvLTFdP3Quc3BsaWNlKC0tbywyKTpuP3Quc3BsaWNlKG8sMSk6KytvOlwiLlwiPT09dFtvXT90LnNwbGljZShvLDEpOisrbztyZXR1cm4gcit0LmpvaW4oXCIvXCIpfTtyLnJlc29sdmU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBufHwodD1vKHQpKSxpKHQpP3Q6KG58fChlPW8oZSkpLChlPWUucmVwbGFjZSgvKD86XFwvfF4pW14vXSskLyxcIlwiKSkubGVuZ3RoP28oZStcIi9cIit0KTp0KX19LHt9XSw5OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1ufHw4MTkyLGk9cj4+PjEsbz1udWxsLGE9cjtyZXR1cm4gZnVuY3Rpb24obil7aWYobjwxfHxuPmkpcmV0dXJuIGUobik7YStuPnImJihvPWUociksYT0wKTt2YXIgcz10LmNhbGwobyxhLGErPW4pO3JldHVybiA3JmEmJihhPTErKDd8YSkpLHN9fX0se31dLDEwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9bjtyLmxlbmd0aD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPTAscj0wO3I8ZS5sZW5ndGg7KytyKShuPWUuY2hhckNvZGVBdChyKSk8MTI4P3QrPTE6bjwyMDQ4P3QrPTI6NTUyOTY9PSg2NDUxMiZuKSYmNTYzMjA9PSg2NDUxMiZlLmNoYXJDb2RlQXQocisxKSk/KCsrcix0Kz00KTp0Kz0zO3JldHVybiB0fSxyLnJlYWQ9ZnVuY3Rpb24oZSx0LG4pe2lmKG4tdDwxKXJldHVyblwiXCI7Zm9yKHZhciByLGk9bnVsbCxvPVtdLGE9MDt0PG47KShyPWVbdCsrXSk8MTI4P29bYSsrXT1yOnI+MTkxJiZyPDIyND9vW2ErK109KDMxJnIpPDw2fDYzJmVbdCsrXTpyPjIzOSYmcjwzNjU/KHI9KCg3JnIpPDwxOHwoNjMmZVt0KytdKTw8MTJ8KDYzJmVbdCsrXSk8PDZ8NjMmZVt0KytdKS02NTUzNixvW2ErK109NTUyOTYrKHI+PjEwKSxvW2ErK109NTYzMjArKDEwMjMmcikpOm9bYSsrXT0oMTUmcik8PDEyfCg2MyZlW3QrK10pPDw2fDYzJmVbdCsrXSxhPjgxOTEmJigoaXx8KGk9W10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG8pKSxhPTApO3JldHVybiBpPyhhJiZpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsby5zbGljZSgwLGEpKSksaS5qb2luKFwiXCIpKTpTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxvLnNsaWNlKDAsYSkpfSxyLndyaXRlPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxvPW4sYT0wO2E8ZS5sZW5ndGg7KythKShyPWUuY2hhckNvZGVBdChhKSk8MTI4P3RbbisrXT1yOnI8MjA0OD8odFtuKytdPXI+PjZ8MTkyLHRbbisrXT02MyZyfDEyOCk6NTUyOTY9PSg2NDUxMiZyKSYmNTYzMjA9PSg2NDUxMiYoaT1lLmNoYXJDb2RlQXQoYSsxKSkpPyhyPTY1NTM2KygoMTAyMyZyKTw8MTApKygxMDIzJmkpLCsrYSx0W24rK109cj4+MTh8MjQwLHRbbisrXT1yPj4xMiY2M3wxMjgsdFtuKytdPXI+PjYmNjN8MTI4LHRbbisrXT02MyZyfDEyOCk6KHRbbisrXT1yPj4xMnwyMjQsdFtuKytdPXI+PjYmNjN8MTI4LHRbbisrXT02MyZyfDEyOCk7cmV0dXJuIG4tb319LHt9XSwxMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4saT1lKDE0KSxvPWUoMzMpO2Z1bmN0aW9uIGEoZSx0LG4scil7aWYodC5yZXNvbHZlZFR5cGUpaWYodC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpKXtlKFwic3dpdGNoKGQlcyl7XCIscik7Zm9yKHZhciBvPXQucmVzb2x2ZWRUeXBlLnZhbHVlcyxhPU9iamVjdC5rZXlzKG8pLHM9MDtzPGEubGVuZ3RoOysrcyl0LnJlcGVhdGVkJiZvW2Fbc11dPT09dC50eXBlRGVmYXVsdCYmZShcImRlZmF1bHQ6XCIpLGUoXCJjYXNlJWo6XCIsYVtzXSkoXCJjYXNlICVpOlwiLG9bYVtzXV0pKFwibSVzPSVqXCIscixvW2Fbc11dKShcImJyZWFrXCIpO2UoXCJ9XCIpfWVsc2UgZSgnaWYodHlwZW9mIGQlcyE9PVwib2JqZWN0XCIpJyxyKShcInRocm93IFR5cGVFcnJvciglailcIix0LmZ1bGxOYW1lK1wiOiBvYmplY3QgZXhwZWN0ZWRcIikoXCJtJXM9dHlwZXNbJWldLmZyb21PYmplY3QoZCVzKVwiLHIsbixyKTtlbHNle3ZhciBjPSExO3N3aXRjaCh0LnR5cGUpe2Nhc2VcImRvdWJsZVwiOmNhc2VcImZsb2F0XCI6ZShcIm0lcz1OdW1iZXIoZCVzKVwiLHIscik7YnJlYWs7Y2FzZVwidWludDMyXCI6Y2FzZVwiZml4ZWQzMlwiOmUoXCJtJXM9ZCVzPj4+MFwiLHIscik7YnJlYWs7Y2FzZVwiaW50MzJcIjpjYXNlXCJzaW50MzJcIjpjYXNlXCJzZml4ZWQzMlwiOmUoXCJtJXM9ZCVzfDBcIixyLHIpO2JyZWFrO2Nhc2VcInVpbnQ2NFwiOmM9ITA7Y2FzZVwiaW50NjRcIjpjYXNlXCJzaW50NjRcIjpjYXNlXCJmaXhlZDY0XCI6Y2FzZVwic2ZpeGVkNjRcIjplKFwiaWYodXRpbC5Mb25nKVwiKShcIihtJXM9dXRpbC5Mb25nLmZyb21WYWx1ZShkJXMpKS51bnNpZ25lZD0lalwiLHIscixjKSgnZWxzZSBpZih0eXBlb2YgZCVzPT09XCJzdHJpbmdcIiknLHIpKFwibSVzPXBhcnNlSW50KGQlcywxMClcIixyLHIpKCdlbHNlIGlmKHR5cGVvZiBkJXM9PT1cIm51bWJlclwiKScscikoXCJtJXM9ZCVzXCIscixyKSgnZWxzZSBpZih0eXBlb2YgZCVzPT09XCJvYmplY3RcIiknLHIpKFwibSVzPW5ldyB1dGlsLkxvbmdCaXRzKGQlcy5sb3c+Pj4wLGQlcy5oaWdoPj4+MCkudG9OdW1iZXIoJXMpXCIscixyLHIsYz9cInRydWVcIjpcIlwiKTticmVhaztjYXNlXCJieXRlc1wiOmUoJ2lmKHR5cGVvZiBkJXM9PT1cInN0cmluZ1wiKScscikoXCJ1dGlsLmJhc2U2NC5kZWNvZGUoZCVzLG0lcz11dGlsLm5ld0J1ZmZlcih1dGlsLmJhc2U2NC5sZW5ndGgoZCVzKSksMClcIixyLHIscikoXCJlbHNlIGlmKGQlcy5sZW5ndGgpXCIscikoXCJtJXM9ZCVzXCIscixyKTticmVhaztjYXNlXCJzdHJpbmdcIjplKFwibSVzPVN0cmluZyhkJXMpXCIscixyKTticmVhaztjYXNlXCJib29sXCI6ZShcIm0lcz1Cb29sZWFuKGQlcylcIixyLHIpfX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuLHIpe2lmKHQucmVzb2x2ZWRUeXBlKXQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgaT9lKFwiZCVzPW8uZW51bXM9PT1TdHJpbmc/dHlwZXNbJWldLnZhbHVlc1ttJXNdOm0lc1wiLHIsbixyLHIpOmUoXCJkJXM9dHlwZXNbJWldLnRvT2JqZWN0KG0lcyxvKVwiLHIsbixyKTtlbHNle3ZhciBvPSExO3N3aXRjaCh0LnR5cGUpe2Nhc2VcImRvdWJsZVwiOmNhc2VcImZsb2F0XCI6ZShcImQlcz1vLmpzb24mJiFpc0Zpbml0ZShtJXMpP1N0cmluZyhtJXMpOm0lc1wiLHIscixyLHIpO2JyZWFrO2Nhc2VcInVpbnQ2NFwiOm89ITA7Y2FzZVwiaW50NjRcIjpjYXNlXCJzaW50NjRcIjpjYXNlXCJmaXhlZDY0XCI6Y2FzZVwic2ZpeGVkNjRcIjplKCdpZih0eXBlb2YgbSVzPT09XCJudW1iZXJcIiknLHIpKFwiZCVzPW8ubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKG0lcyk6bSVzXCIscixyLHIpKFwiZWxzZVwiKShcImQlcz1vLmxvbmdzPT09U3RyaW5nP3V0aWwuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtJXMpOm8ubG9uZ3M9PT1OdW1iZXI/bmV3IHV0aWwuTG9uZ0JpdHMobSVzLmxvdz4+PjAsbSVzLmhpZ2g+Pj4wKS50b051bWJlciglcyk6bSVzXCIscixyLHIscixvP1widHJ1ZVwiOlwiXCIscik7YnJlYWs7Y2FzZVwiYnl0ZXNcIjplKFwiZCVzPW8uYnl0ZXM9PT1TdHJpbmc/dXRpbC5iYXNlNjQuZW5jb2RlKG0lcywwLG0lcy5sZW5ndGgpOm8uYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChtJXMpOm0lc1wiLHIscixyLHIscik7YnJlYWs7ZGVmYXVsdDplKFwiZCVzPW0lc1wiLHIscil9fXJldHVybiBlfXIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLmZpZWxkc0FycmF5LG49by5jb2RlZ2VuKFtcImRcIl0sZS5uYW1lK1wiJGZyb21PYmplY3RcIikoXCJpZihkIGluc3RhbmNlb2YgdGhpcy5jdG9yKVwiKShcInJldHVybiBkXCIpO2lmKCF0Lmxlbmd0aClyZXR1cm4gbihcInJldHVybiBuZXcgdGhpcy5jdG9yXCIpO24oXCJ2YXIgbT1uZXcgdGhpcy5jdG9yXCIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgcz10W3JdLnJlc29sdmUoKSxjPW8uc2FmZVByb3Aocy5uYW1lKTtzLm1hcD8obihcImlmKGQlcyl7XCIsYykoJ2lmKHR5cGVvZiBkJXMhPT1cIm9iamVjdFwiKScsYykoXCJ0aHJvdyBUeXBlRXJyb3IoJWopXCIscy5mdWxsTmFtZStcIjogb2JqZWN0IGV4cGVjdGVkXCIpKFwibSVzPXt9XCIsYykoXCJmb3IodmFyIGtzPU9iamVjdC5rZXlzKGQlcyksaT0wO2k8a3MubGVuZ3RoOysraSl7XCIsYyksYShuLHMscixjK1wiW2tzW2ldXVwiKShcIn1cIikoXCJ9XCIpKTpzLnJlcGVhdGVkPyhuKFwiaWYoZCVzKXtcIixjKShcImlmKCFBcnJheS5pc0FycmF5KGQlcykpXCIsYykoXCJ0aHJvdyBUeXBlRXJyb3IoJWopXCIscy5mdWxsTmFtZStcIjogYXJyYXkgZXhwZWN0ZWRcIikoXCJtJXM9W11cIixjKShcImZvcih2YXIgaT0wO2k8ZCVzLmxlbmd0aDsrK2kpe1wiLGMpLGEobixzLHIsYytcIltpXVwiKShcIn1cIikoXCJ9XCIpKToocy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpfHxuKFwiaWYoZCVzIT1udWxsKXtcIixjKSxhKG4scyxyLGMpLHMucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgaXx8bihcIn1cIikpfXJldHVybiBuKFwicmV0dXJuIG1cIil9LHIudG9PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWVsZHNBcnJheS5zbGljZSgpLnNvcnQoby5jb21wYXJlRmllbGRzQnlJZCk7aWYoIXQubGVuZ3RoKXJldHVybiBvLmNvZGVnZW4oKShcInJldHVybiB7fVwiKTtmb3IodmFyIG49by5jb2RlZ2VuKFtcIm1cIixcIm9cIl0sZS5uYW1lK1wiJHRvT2JqZWN0XCIpKFwiaWYoIW8pXCIpKFwibz17fVwiKShcInZhciBkPXt9XCIpLHI9W10sYT1bXSxjPVtdLGQ9MDtkPHQubGVuZ3RoOysrZCl0W2RdLnBhcnRPZnx8KHRbZF0ucmVzb2x2ZSgpLnJlcGVhdGVkP3I6dFtkXS5tYXA/YTpjKS5wdXNoKHRbZF0pO2lmKHIubGVuZ3RoKXtmb3IobihcImlmKG8uYXJyYXlzfHxvLmRlZmF1bHRzKXtcIiksZD0wO2Q8ci5sZW5ndGg7KytkKW4oXCJkJXM9W11cIixvLnNhZmVQcm9wKHJbZF0ubmFtZSkpO24oXCJ9XCIpfWlmKGEubGVuZ3RoKXtmb3IobihcImlmKG8ub2JqZWN0c3x8by5kZWZhdWx0cyl7XCIpLGQ9MDtkPGEubGVuZ3RoOysrZCluKFwiZCVzPXt9XCIsby5zYWZlUHJvcChhW2RdLm5hbWUpKTtuKFwifVwiKX1pZihjLmxlbmd0aCl7Zm9yKG4oXCJpZihvLmRlZmF1bHRzKXtcIiksZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgdT1jW2RdLGw9by5zYWZlUHJvcCh1Lm5hbWUpO2lmKHUucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgaSluKFwiZCVzPW8uZW51bXM9PT1TdHJpbmc/JWo6JWpcIixsLHUucmVzb2x2ZWRUeXBlLnZhbHVlc0J5SWRbdS50eXBlRGVmYXVsdF0sdS50eXBlRGVmYXVsdCk7ZWxzZSBpZih1LmxvbmcpbihcImlmKHV0aWwuTG9uZyl7XCIpKFwidmFyIG49bmV3IHV0aWwuTG9uZyglaSwlaSwlailcIix1LnR5cGVEZWZhdWx0Lmxvdyx1LnR5cGVEZWZhdWx0LmhpZ2gsdS50eXBlRGVmYXVsdC51bnNpZ25lZCkoXCJkJXM9by5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6by5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6blwiLGwpKFwifWVsc2VcIikoXCJkJXM9by5sb25ncz09PVN0cmluZz8lajolaVwiLGwsdS50eXBlRGVmYXVsdC50b1N0cmluZygpLHUudHlwZURlZmF1bHQudG9OdW1iZXIoKSk7ZWxzZSBpZih1LmJ5dGVzKXt2YXIgZj1cIltcIitBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh1LnR5cGVEZWZhdWx0KS5qb2luKFwiLFwiKStcIl1cIjtuKFwiaWYoby5ieXRlcz09PVN0cmluZylkJXM9JWpcIixsLFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHUudHlwZURlZmF1bHQpKShcImVsc2V7XCIpKFwiZCVzPSVzXCIsbCxmKShcImlmKG8uYnl0ZXMhPT1BcnJheSlkJXM9dXRpbC5uZXdCdWZmZXIoZCVzKVwiLGwsbCkoXCJ9XCIpfWVsc2UgbihcImQlcz0lalwiLGwsdS50eXBlRGVmYXVsdCl9bihcIn1cIil9dmFyIHA9ITE7Zm9yKGQ9MDtkPHQubGVuZ3RoOysrZCl7dT10W2RdO3ZhciBnPWUuX2ZpZWxkc0FycmF5LmluZGV4T2YodSk7bD1vLnNhZmVQcm9wKHUubmFtZSk7dS5tYXA/KHB8fChwPSEwLG4oXCJ2YXIga3MyXCIpKSxuKFwiaWYobSVzJiYoa3MyPU9iamVjdC5rZXlzKG0lcykpLmxlbmd0aCl7XCIsbCxsKShcImQlcz17fVwiLGwpKFwiZm9yKHZhciBqPTA7ajxrczIubGVuZ3RoOysrail7XCIpLHMobix1LGcsbCtcIltrczJbal1dXCIpKFwifVwiKSk6dS5yZXBlYXRlZD8obihcImlmKG0lcyYmbSVzLmxlbmd0aCl7XCIsbCxsKShcImQlcz1bXVwiLGwpKFwiZm9yKHZhciBqPTA7ajxtJXMubGVuZ3RoOysrail7XCIsbCkscyhuLHUsZyxsK1wiW2pdXCIpKFwifVwiKSk6KG4oXCJpZihtJXMhPW51bGwmJm0uaGFzT3duUHJvcGVydHkoJWopKXtcIixsLHUubmFtZSkscyhuLHUsZyxsKSx1LnBhcnRPZiYmbihcImlmKG8ub25lb2ZzKVwiKShcImQlcz0lalwiLG8uc2FmZVByb3AodS5wYXJ0T2YubmFtZSksdS5uYW1lKSksbihcIn1cIil9cmV0dXJuIG4oXCJyZXR1cm4gZFwiKX19LHsxNDoxNCwzMzozM31dLDEyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uY29kZWdlbihbXCJyXCIsXCJsXCJdLGUubmFtZStcIiRkZWNvZGVcIikoXCJpZighKHIgaW5zdGFuY2VvZiBSZWFkZXIpKVwiKShcInI9UmVhZGVyLmNyZWF0ZShyKVwiKShcInZhciBjPWw9PT11bmRlZmluZWQ/ci5sZW46ci5wb3MrbCxtPW5ldyB0aGlzLmN0b3JcIisoZS5maWVsZHNBcnJheS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcH0pKS5sZW5ndGg/XCIsayx2YWx1ZVwiOlwiXCIpKShcIndoaWxlKHIucG9zPGMpe1wiKShcInZhciB0PXIudWludDMyKClcIik7ZS5ncm91cCYmdChcImlmKCh0JjcpPT09NClcIikoXCJicmVha1wiKTt0KFwic3dpdGNoKHQ+Pj4zKXtcIik7Zm9yKHZhciBuPTA7bjxlLmZpZWxkc0FycmF5Lmxlbmd0aDsrK24pe3ZhciBzPWUuX2ZpZWxkc0FycmF5W25dLnJlc29sdmUoKSxjPXMucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2Ygcj9cImludDMyXCI6cy50eXBlLGQ9XCJtXCIrby5zYWZlUHJvcChzLm5hbWUpO3QoXCJjYXNlICVpOlwiLHMuaWQpLHMubWFwPyh0KFwiaWYoJXM9PT11dGlsLmVtcHR5T2JqZWN0KVwiLGQpKFwiJXM9e31cIixkKShcInZhciBjMiA9IHIudWludDMyKCkrci5wb3NcIiksaS5kZWZhdWx0c1tzLmtleVR5cGVdIT09dW5kZWZpbmVkP3QoXCJrPSVqXCIsaS5kZWZhdWx0c1tzLmtleVR5cGVdKTp0KFwiaz1udWxsXCIpLGkuZGVmYXVsdHNbY10hPT11bmRlZmluZWQ/dChcInZhbHVlPSVqXCIsaS5kZWZhdWx0c1tjXSk6dChcInZhbHVlPW51bGxcIiksdChcIndoaWxlKHIucG9zPGMyKXtcIikoXCJ2YXIgdGFnMj1yLnVpbnQzMigpXCIpKFwic3dpdGNoKHRhZzI+Pj4zKXtcIikoXCJjYXNlIDE6IGs9ci4lcygpOyBicmVha1wiLHMua2V5VHlwZSkoXCJjYXNlIDI6XCIpLGkuYmFzaWNbY109PT11bmRlZmluZWQ/dChcInZhbHVlPXR5cGVzWyVpXS5kZWNvZGUocixyLnVpbnQzMigpKVwiLG4pOnQoXCJ2YWx1ZT1yLiVzKClcIixjKSx0KFwiYnJlYWtcIikoXCJkZWZhdWx0OlwiKShcInIuc2tpcFR5cGUodGFnMiY3KVwiKShcImJyZWFrXCIpKFwifVwiKShcIn1cIiksaS5sb25nW3Mua2V5VHlwZV0hPT11bmRlZmluZWQ/dCgnJXNbdHlwZW9mIGs9PT1cIm9iamVjdFwiP3V0aWwubG9uZ1RvSGFzaChrKTprXT12YWx1ZScsZCk6dChcIiVzW2tdPXZhbHVlXCIsZCkpOnMucmVwZWF0ZWQ/KHQoXCJpZighKCVzJiYlcy5sZW5ndGgpKVwiLGQsZCkoXCIlcz1bXVwiLGQpLGkucGFja2VkW2NdIT09dW5kZWZpbmVkJiZ0KFwiaWYoKHQmNyk9PT0yKXtcIikoXCJ2YXIgYzI9ci51aW50MzIoKStyLnBvc1wiKShcIndoaWxlKHIucG9zPGMyKVwiKShcIiVzLnB1c2goci4lcygpKVwiLGQsYykoXCJ9ZWxzZVwiKSxpLmJhc2ljW2NdPT09dW5kZWZpbmVkP3Qocy5yZXNvbHZlZFR5cGUuZ3JvdXA/XCIlcy5wdXNoKHR5cGVzWyVpXS5kZWNvZGUocikpXCI6XCIlcy5wdXNoKHR5cGVzWyVpXS5kZWNvZGUocixyLnVpbnQzMigpKSlcIixkLG4pOnQoXCIlcy5wdXNoKHIuJXMoKSlcIixkLGMpKTppLmJhc2ljW2NdPT09dW5kZWZpbmVkP3Qocy5yZXNvbHZlZFR5cGUuZ3JvdXA/XCIlcz10eXBlc1slaV0uZGVjb2RlKHIpXCI6XCIlcz10eXBlc1slaV0uZGVjb2RlKHIsci51aW50MzIoKSlcIixkLG4pOnQoXCIlcz1yLiVzKClcIixkLGMpLHQoXCJicmVha1wiKX1mb3IodChcImRlZmF1bHQ6XCIpKFwici5za2lwVHlwZSh0JjcpXCIpKFwiYnJlYWtcIikoXCJ9XCIpKFwifVwiKSxuPTA7bjxlLl9maWVsZHNBcnJheS5sZW5ndGg7KytuKXt2YXIgdT1lLl9maWVsZHNBcnJheVtuXTt1LnJlcXVpcmVkJiZ0KFwiaWYoIW0uaGFzT3duUHJvcGVydHkoJWopKVwiLHUubmFtZSkoXCJ0aHJvdyB1dGlsLlByb3RvY29sRXJyb3IoJWose2luc3RhbmNlOm19KVwiLGEodSkpfXJldHVybiB0KFwicmV0dXJuIG1cIil9O3ZhciByPWUoMTQpLGk9ZSgzMiksbz1lKDMzKTtmdW5jdGlvbiBhKGUpe3JldHVyblwibWlzc2luZyByZXF1aXJlZCAnXCIrZS5uYW1lK1wiJ1wifX0sezE0OjE0LDMyOjMyLDMzOjMzfV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49by5jb2RlZ2VuKFtcIm1cIixcIndcIl0sZS5uYW1lK1wiJGVuY29kZVwiKShcImlmKCF3KVwiKShcInc9V3JpdGVyLmNyZWF0ZSgpXCIpLHM9ZS5maWVsZHNBcnJheS5zbGljZSgpLnNvcnQoby5jb21wYXJlRmllbGRzQnlJZCksYz0wO2M8cy5sZW5ndGg7KytjKXt2YXIgZD1zW2NdLnJlc29sdmUoKSx1PWUuX2ZpZWxkc0FycmF5LmluZGV4T2YoZCksbD1kLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIHI/XCJpbnQzMlwiOmQudHlwZSxmPWkuYmFzaWNbbF07dD1cIm1cIitvLnNhZmVQcm9wKGQubmFtZSksZC5tYXA/KG4oXCJpZiglcyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwlaikpe1wiLHQsZC5uYW1lKShcImZvcih2YXIga3M9T2JqZWN0LmtleXMoJXMpLGk9MDtpPGtzLmxlbmd0aDsrK2kpe1wiLHQpKFwidy51aW50MzIoJWkpLmZvcmsoKS51aW50MzIoJWkpLiVzKGtzW2ldKVwiLChkLmlkPDwzfDIpPj4+MCw4fGkubWFwS2V5W2Qua2V5VHlwZV0sZC5rZXlUeXBlKSxmPT09dW5kZWZpbmVkP24oXCJ0eXBlc1slaV0uZW5jb2RlKCVzW2tzW2ldXSx3LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKS5sZGVsaW0oKVwiLHUsdCk6bihcIi51aW50MzIoJWkpLiVzKCVzW2tzW2ldXSkubGRlbGltKClcIiwxNnxmLGwsdCksbihcIn1cIikoXCJ9XCIpKTpkLnJlcGVhdGVkPyhuKFwiaWYoJXMhPW51bGwmJiVzLmxlbmd0aCl7XCIsdCx0KSxkLnBhY2tlZCYmaS5wYWNrZWRbbF0hPT11bmRlZmluZWQ/bihcIncudWludDMyKCVpKS5mb3JrKClcIiwoZC5pZDw8M3wyKT4+PjApKFwiZm9yKHZhciBpPTA7aTwlcy5sZW5ndGg7KytpKVwiLHQpKFwidy4lcyglc1tpXSlcIixsLHQpKFwidy5sZGVsaW0oKVwiKToobihcImZvcih2YXIgaT0wO2k8JXMubGVuZ3RoOysraSlcIix0KSxmPT09dW5kZWZpbmVkP2EobixkLHUsdCtcIltpXVwiKTpuKFwidy51aW50MzIoJWkpLiVzKCVzW2ldKVwiLChkLmlkPDwzfGYpPj4+MCxsLHQpKSxuKFwifVwiKSk6KGQub3B0aW9uYWwmJm4oXCJpZiglcyE9bnVsbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobSwlaikpXCIsdCxkLm5hbWUpLGY9PT11bmRlZmluZWQ/YShuLGQsdSx0KTpuKFwidy51aW50MzIoJWkpLiVzKCVzKVwiLChkLmlkPDwzfGYpPj4+MCxsLHQpKX1yZXR1cm4gbihcInJldHVybiB3XCIpfTt2YXIgcj1lKDE0KSxpPWUoMzIpLG89ZSgzMyk7ZnVuY3Rpb24gYShlLHQsbixyKXtyZXR1cm4gdC5yZXNvbHZlZFR5cGUuZ3JvdXA/ZShcInR5cGVzWyVpXS5lbmNvZGUoJXMsdy51aW50MzIoJWkpKS51aW50MzIoJWkpXCIsbixyLCh0LmlkPDwzfDMpPj4+MCwodC5pZDw8M3w0KT4+PjApOmUoXCJ0eXBlc1slaV0uZW5jb2RlKCVzLHcudWludDMyKCVpKS5mb3JrKCkpLmxkZWxpbSgpXCIsbixyLCh0LmlkPDwzfDIpPj4+MCl9fSx7MTQ6MTQsMzI6MzIsMzM6MzN9XSwxNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1hO3ZhciByPWUoMjIpOygoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEpLmNsYXNzTmFtZT1cIkVudW1cIjt2YXIgaT1lKDIxKSxvPWUoMzMpO2Z1bmN0aW9uIGEoZSx0LG4saSxvKXtpZihyLmNhbGwodGhpcyxlLG4pLHQmJlwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcInZhbHVlcyBtdXN0IGJlIGFuIG9iamVjdFwiKTtpZih0aGlzLnZhbHVlc0J5SWQ9e30sdGhpcy52YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0aGlzLnZhbHVlc0J5SWQpLHRoaXMuY29tbWVudD1pLHRoaXMuY29tbWVudHM9b3x8e30sdGhpcy5yZXNlcnZlZD11bmRlZmluZWQsdClmb3IodmFyIGE9T2JqZWN0LmtleXModCkscz0wO3M8YS5sZW5ndGg7KytzKVwibnVtYmVyXCI9PXR5cGVvZiB0W2Fbc11dJiYodGhpcy52YWx1ZXNCeUlkW3RoaXMudmFsdWVzW2Fbc11dPXRbYVtzXV1dPWFbc10pfWEuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgYShlLHQudmFsdWVzLHQub3B0aW9ucyx0LmNvbW1lbnQsdC5jb21tZW50cyk7cmV0dXJuIG4ucmVzZXJ2ZWQ9dC5yZXNlcnZlZCxufSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gby50b09iamVjdChbXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwidmFsdWVzXCIsdGhpcy52YWx1ZXMsXCJyZXNlcnZlZFwiLHRoaXMucmVzZXJ2ZWQmJnRoaXMucmVzZXJ2ZWQubGVuZ3RoP3RoaXMucmVzZXJ2ZWQ6dW5kZWZpbmVkLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnVuZGVmaW5lZCxcImNvbW1lbnRzXCIsdD90aGlzLmNvbW1lbnRzOnVuZGVmaW5lZF0pfSxhLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LG4pe2lmKCFvLmlzU3RyaW5nKGUpKXRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighby5pc0ludGVnZXIodCkpdGhyb3cgVHlwZUVycm9yKFwiaWQgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO2lmKHRoaXMudmFsdWVzW2VdIT09dW5kZWZpbmVkKXRocm93IEVycm9yKFwiZHVwbGljYXRlIG5hbWUgJ1wiK2UrXCInIGluIFwiK3RoaXMpO2lmKHRoaXMuaXNSZXNlcnZlZElkKHQpKXRocm93IEVycm9yKFwiaWQgXCIrdCtcIiBpcyByZXNlcnZlZCBpbiBcIit0aGlzKTtpZih0aGlzLmlzUmVzZXJ2ZWROYW1lKGUpKXRocm93IEVycm9yKFwibmFtZSAnXCIrZStcIicgaXMgcmVzZXJ2ZWQgaW4gXCIrdGhpcyk7aWYodGhpcy52YWx1ZXNCeUlkW3RdIT09dW5kZWZpbmVkKXtpZighdGhpcy5vcHRpb25zfHwhdGhpcy5vcHRpb25zLmFsbG93X2FsaWFzKXRocm93IEVycm9yKFwiZHVwbGljYXRlIGlkIFwiK3QrXCIgaW4gXCIrdGhpcyk7dGhpcy52YWx1ZXNbZV09dH1lbHNlIHRoaXMudmFsdWVzQnlJZFt0aGlzLnZhbHVlc1tlXT10XT1lO3JldHVybiB0aGlzLmNvbW1lbnRzW2VdPW58fG51bGwsdGhpc30sYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCFvLmlzU3RyaW5nKGUpKXRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTt2YXIgdD10aGlzLnZhbHVlc1tlXTtpZihudWxsPT10KXRocm93IEVycm9yKFwibmFtZSAnXCIrZStcIicgZG9lcyBub3QgZXhpc3QgaW4gXCIrdGhpcyk7cmV0dXJuIGRlbGV0ZSB0aGlzLnZhbHVlc0J5SWRbdF0sZGVsZXRlIHRoaXMudmFsdWVzW2VdLGRlbGV0ZSB0aGlzLmNvbW1lbnRzW2VdLHRoaXN9LGEucHJvdG90eXBlLmlzUmVzZXJ2ZWRJZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5pc1Jlc2VydmVkSWQodGhpcy5yZXNlcnZlZCxlKX0sYS5wcm90b3R5cGUuaXNSZXNlcnZlZE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNSZXNlcnZlZE5hbWUodGhpcy5yZXNlcnZlZCxlKX19LHsyMToyMSwyMjoyMiwzMzozM31dLDE1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWQ7dmFyIHI9ZSgyMik7KChkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZCkuY2xhc3NOYW1lPVwiRmllbGRcIjt2YXIgaSxvPWUoMTQpLGE9ZSgzMikscz1lKDMzKSxjPS9ecmVxdWlyZWR8b3B0aW9uYWx8cmVwZWF0ZWQkLztmdW5jdGlvbiBkKGUsdCxuLGksbyxkLHUpe2lmKHMuaXNPYmplY3QoaSk/KHU9byxkPWksaT1vPXVuZGVmaW5lZCk6cy5pc09iamVjdChvKSYmKHU9ZCxkPW8sbz11bmRlZmluZWQpLHIuY2FsbCh0aGlzLGUsZCksIXMuaXNJbnRlZ2VyKHQpfHx0PDApdGhyb3cgVHlwZUVycm9yKFwiaWQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyXCIpO2lmKCFzLmlzU3RyaW5nKG4pKXRocm93IFR5cGVFcnJvcihcInR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihpIT09dW5kZWZpbmVkJiYhYy50ZXN0KGk9aS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpKXRocm93IFR5cGVFcnJvcihcInJ1bGUgbXVzdCBiZSBhIHN0cmluZyBydWxlXCIpO2lmKG8hPT11bmRlZmluZWQmJiFzLmlzU3RyaW5nKG8pKXRocm93IFR5cGVFcnJvcihcImV4dGVuZCBtdXN0IGJlIGEgc3RyaW5nXCIpO3RoaXMucnVsZT1pJiZcIm9wdGlvbmFsXCIhPT1pP2k6dW5kZWZpbmVkLHRoaXMudHlwZT1uLHRoaXMuaWQ9dCx0aGlzLmV4dGVuZD1vfHx1bmRlZmluZWQsdGhpcy5yZXF1aXJlZD1cInJlcXVpcmVkXCI9PT1pLHRoaXMub3B0aW9uYWw9IXRoaXMucmVxdWlyZWQsdGhpcy5yZXBlYXRlZD1cInJlcGVhdGVkXCI9PT1pLHRoaXMubWFwPSExLHRoaXMubWVzc2FnZT1udWxsLHRoaXMucGFydE9mPW51bGwsdGhpcy50eXBlRGVmYXVsdD1udWxsLHRoaXMuZGVmYXVsdFZhbHVlPW51bGwsdGhpcy5sb25nPSEhcy5Mb25nJiZhLmxvbmdbbl0hPT11bmRlZmluZWQsdGhpcy5ieXRlcz1cImJ5dGVzXCI9PT1uLHRoaXMucmVzb2x2ZWRUeXBlPW51bGwsdGhpcy5leHRlbnNpb25GaWVsZD1udWxsLHRoaXMuZGVjbGFyaW5nRmllbGQ9bnVsbCx0aGlzLl9wYWNrZWQ9bnVsbCx0aGlzLmNvbW1lbnQ9dX1kLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBkKGUsdC5pZCx0LnR5cGUsdC5ydWxlLHQuZXh0ZW5kLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJwYWNrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9wYWNrZWQmJih0aGlzLl9wYWNrZWQ9ITEhPT10aGlzLmdldE9wdGlvbihcInBhY2tlZFwiKSksdGhpcy5fcGFja2VkfX0pLGQucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuXCJwYWNrZWRcIj09PWUmJih0aGlzLl9wYWNrZWQ9bnVsbCksci5wcm90b3R5cGUuc2V0T3B0aW9uLmNhbGwodGhpcyxlLHQsbil9LGQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgdD0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBzLnRvT2JqZWN0KFtcInJ1bGVcIixcIm9wdGlvbmFsXCIhPT10aGlzLnJ1bGUmJnRoaXMucnVsZXx8dW5kZWZpbmVkLFwidHlwZVwiLHRoaXMudHlwZSxcImlkXCIsdGhpcy5pZCxcImV4dGVuZFwiLHRoaXMuZXh0ZW5kLFwib3B0aW9uc1wiLHRoaXMub3B0aW9ucyxcImNvbW1lbnRcIix0P3RoaXMuY29tbWVudDp1bmRlZmluZWRdKX0sZC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe2lmKHRoaXMucmVzb2x2ZWQpcmV0dXJuIHRoaXM7aWYoKHRoaXMudHlwZURlZmF1bHQ9YS5kZWZhdWx0c1t0aGlzLnR5cGVdKT09PXVuZGVmaW5lZCYmKHRoaXMucmVzb2x2ZWRUeXBlPSh0aGlzLmRlY2xhcmluZ0ZpZWxkP3RoaXMuZGVjbGFyaW5nRmllbGQucGFyZW50OnRoaXMucGFyZW50KS5sb29rdXBUeXBlT3JFbnVtKHRoaXMudHlwZSksdGhpcy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBpP3RoaXMudHlwZURlZmF1bHQ9bnVsbDp0aGlzLnR5cGVEZWZhdWx0PXRoaXMucmVzb2x2ZWRUeXBlLnZhbHVlc1tPYmplY3Qua2V5cyh0aGlzLnJlc29sdmVkVHlwZS52YWx1ZXMpWzBdXSksdGhpcy5vcHRpb25zJiZudWxsIT10aGlzLm9wdGlvbnMuZGVmYXVsdCYmKHRoaXMudHlwZURlZmF1bHQ9dGhpcy5vcHRpb25zLmRlZmF1bHQsdGhpcy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBvJiZcInN0cmluZ1wiPT10eXBlb2YgdGhpcy50eXBlRGVmYXVsdCYmKHRoaXMudHlwZURlZmF1bHQ9dGhpcy5yZXNvbHZlZFR5cGUudmFsdWVzW3RoaXMudHlwZURlZmF1bHRdKSksdGhpcy5vcHRpb25zJiYoITAhPT10aGlzLm9wdGlvbnMucGFja2VkJiYodGhpcy5vcHRpb25zLnBhY2tlZD09PXVuZGVmaW5lZHx8IXRoaXMucmVzb2x2ZWRUeXBlfHx0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIG8pfHxkZWxldGUgdGhpcy5vcHRpb25zLnBhY2tlZCxPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMpLmxlbmd0aHx8KHRoaXMub3B0aW9ucz11bmRlZmluZWQpKSx0aGlzLmxvbmcpdGhpcy50eXBlRGVmYXVsdD1zLkxvbmcuZnJvbU51bWJlcih0aGlzLnR5cGVEZWZhdWx0LFwidVwiPT09dGhpcy50eXBlLmNoYXJBdCgwKSksT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LmZyZWV6ZSh0aGlzLnR5cGVEZWZhdWx0KTtlbHNlIGlmKHRoaXMuYnl0ZXMmJlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnR5cGVEZWZhdWx0KXt2YXIgZTtzLmJhc2U2NC50ZXN0KHRoaXMudHlwZURlZmF1bHQpP3MuYmFzZTY0LmRlY29kZSh0aGlzLnR5cGVEZWZhdWx0LGU9cy5uZXdCdWZmZXIocy5iYXNlNjQubGVuZ3RoKHRoaXMudHlwZURlZmF1bHQpKSwwKTpzLnV0Zjgud3JpdGUodGhpcy50eXBlRGVmYXVsdCxlPXMubmV3QnVmZmVyKHMudXRmOC5sZW5ndGgodGhpcy50eXBlRGVmYXVsdCkpLDApLHRoaXMudHlwZURlZmF1bHQ9ZX1yZXR1cm4gdGhpcy5tYXA/dGhpcy5kZWZhdWx0VmFsdWU9cy5lbXB0eU9iamVjdDp0aGlzLnJlcGVhdGVkP3RoaXMuZGVmYXVsdFZhbHVlPXMuZW1wdHlBcnJheTp0aGlzLmRlZmF1bHRWYWx1ZT10aGlzLnR5cGVEZWZhdWx0LHRoaXMucGFyZW50IGluc3RhbmNlb2YgaSYmKHRoaXMucGFyZW50LmN0b3IucHJvdG90eXBlW3RoaXMubmFtZV09dGhpcy5kZWZhdWx0VmFsdWUpLHIucHJvdG90eXBlLnJlc29sdmUuY2FsbCh0aGlzKX0sZC5kPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dD1zLmRlY29yYXRlVHlwZSh0KS5uYW1lOnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYodD1zLmRlY29yYXRlRW51bSh0KS5uYW1lKSxmdW5jdGlvbihpLG8pe3MuZGVjb3JhdGVUeXBlKGkuY29uc3RydWN0b3IpLmFkZChuZXcgZChvLGUsdCxuLHtkZWZhdWx0OnJ9KSl9fSxkLl9jb25maWd1cmU9ZnVuY3Rpb24oZSl7aT1lfX0sezE0OjE0LDIyOjIyLDMyOjMyLDMzOjMzfV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj10LmV4cG9ydHM9ZSgxNyk7ci5idWlsZD1cImxpZ2h0XCIsci5sb2FkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhuPXQsdD1uZXcgci5Sb290KTp0fHwodD1uZXcgci5Sb290KSx0LmxvYWQoZSxuKX0sci5sb2FkU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1uZXcgci5Sb290KSx0LmxvYWRTeW5jKGUpfSxyLmVuY29kZXI9ZSgxMyksci5kZWNvZGVyPWUoMTIpLHIudmVyaWZpZXI9ZSgzNiksci5jb252ZXJ0ZXI9ZSgxMSksci5SZWZsZWN0aW9uT2JqZWN0PWUoMjIpLHIuTmFtZXNwYWNlPWUoMjEpLHIuUm9vdD1lKDI2KSxyLkVudW09ZSgxNCksci5UeXBlPWUoMzEpLHIuRmllbGQ9ZSgxNSksci5PbmVPZj1lKDIzKSxyLk1hcEZpZWxkPWUoMTgpLHIuU2VydmljZT1lKDMwKSxyLk1ldGhvZD1lKDIwKSxyLk1lc3NhZ2U9ZSgxOSksci53cmFwcGVycz1lKDM3KSxyLnR5cGVzPWUoMzIpLHIudXRpbD1lKDMzKSxyLlJlZmxlY3Rpb25PYmplY3QuX2NvbmZpZ3VyZShyLlJvb3QpLHIuTmFtZXNwYWNlLl9jb25maWd1cmUoci5UeXBlLHIuU2VydmljZSxyLkVudW0pLHIuUm9vdC5fY29uZmlndXJlKHIuVHlwZSksci5GaWVsZC5fY29uZmlndXJlKHIuVHlwZSl9LHsxMToxMSwxMjoxMiwxMzoxMywxNDoxNCwxNToxNSwxNzoxNywxODoxOCwxOToxOSwyMDoyMCwyMToyMSwyMjoyMiwyMzoyMywyNjoyNiwzMDozMCwzMTozMSwzMjozMiwzMzozMywzNjozNiwzNzozN31dLDE3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9bjtmdW5jdGlvbiBpKCl7ci51dGlsLl9jb25maWd1cmUoKSxyLldyaXRlci5fY29uZmlndXJlKHIuQnVmZmVyV3JpdGVyKSxyLlJlYWRlci5fY29uZmlndXJlKHIuQnVmZmVyUmVhZGVyKX1yLmJ1aWxkPVwibWluaW1hbFwiLHIuV3JpdGVyPWUoMzgpLHIuQnVmZmVyV3JpdGVyPWUoMzkpLHIuUmVhZGVyPWUoMjQpLHIuQnVmZmVyUmVhZGVyPWUoMjUpLHIudXRpbD1lKDM1KSxyLnJwYz1lKDI4KSxyLnJvb3RzPWUoMjcpLHIuY29uZmlndXJlPWksaSgpfSx7MjQ6MjQsMjU6MjUsMjc6MjcsMjg6MjgsMzU6MzUsMzg6MzgsMzk6Mzl9XSwxODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1hO3ZhciByPWUoMTUpOygoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEpLmNsYXNzTmFtZT1cIk1hcEZpZWxkXCI7dmFyIGk9ZSgzMiksbz1lKDMzKTtmdW5jdGlvbiBhKGUsdCxuLGksYSxzKXtpZihyLmNhbGwodGhpcyxlLHQsaSx1bmRlZmluZWQsdW5kZWZpbmVkLGEscyksIW8uaXNTdHJpbmcobikpdGhyb3cgVHlwZUVycm9yKFwia2V5VHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO3RoaXMua2V5VHlwZT1uLHRoaXMucmVzb2x2ZWRLZXlUeXBlPW51bGwsdGhpcy5tYXA9ITB9YS5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgYShlLHQuaWQsdC5rZXlUeXBlLHQudHlwZSx0Lm9wdGlvbnMsdC5jb21tZW50KX0sYS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIG8udG9PYmplY3QoW1wia2V5VHlwZVwiLHRoaXMua2V5VHlwZSxcInR5cGVcIix0aGlzLnR5cGUsXCJpZFwiLHRoaXMuaWQsXCJleHRlbmRcIix0aGlzLmV4dGVuZCxcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJjb21tZW50XCIsdD90aGlzLmNvbW1lbnQ6dW5kZWZpbmVkXSl9LGEucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oKXtpZih0aGlzLnJlc29sdmVkKXJldHVybiB0aGlzO2lmKGkubWFwS2V5W3RoaXMua2V5VHlwZV09PT11bmRlZmluZWQpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGtleSB0eXBlOiBcIit0aGlzLmtleVR5cGUpO3JldHVybiByLnByb3RvdHlwZS5yZXNvbHZlLmNhbGwodGhpcyl9LGEuZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uPW8uZGVjb3JhdGVUeXBlKG4pLm5hbWU6biYmXCJvYmplY3RcIj09dHlwZW9mIG4mJihuPW8uZGVjb3JhdGVFbnVtKG4pLm5hbWUpLGZ1bmN0aW9uKHIsaSl7by5kZWNvcmF0ZVR5cGUoci5jb25zdHJ1Y3RvcikuYWRkKG5ldyBhKGksZSx0LG4pKX19fSx7MTU6MTUsMzI6MzIsMzM6MzN9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1pO3ZhciByPWUoMzUpO2Z1bmN0aW9uIGkoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKXRoaXNbdFtuXV09ZVt0W25dXX1pLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdHlwZS5jcmVhdGUoZSl9LGkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJHR5cGUuZW5jb2RlKGUsdCl9LGkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJHR5cGUuZW5jb2RlRGVsaW1pdGVkKGUsdCl9LGkuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0eXBlLmRlY29kZShlKX0saS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHR5cGUuZGVjb2RlRGVsaW1pdGVkKGUpfSxpLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdHlwZS52ZXJpZnkoZSl9LGkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdHlwZS5mcm9tT2JqZWN0KGUpfSxpLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJHR5cGUudG9PYmplY3QoZSx0KX0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHR5cGUudG9PYmplY3QodGhpcyxyLnRvSlNPTk9wdGlvbnMpfX0sezM1OjM1fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9bzt2YXIgcj1lKDIyKTsoKG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vKS5jbGFzc05hbWU9XCJNZXRob2RcIjt2YXIgaT1lKDMzKTtmdW5jdGlvbiBvKGUsdCxuLG8sYSxzLGMsZCl7aWYoaS5pc09iamVjdChhKT8oYz1hLGE9cz11bmRlZmluZWQpOmkuaXNPYmplY3QocykmJihjPXMscz11bmRlZmluZWQpLHQhPT11bmRlZmluZWQmJiFpLmlzU3RyaW5nKHQpKXRocm93IFR5cGVFcnJvcihcInR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighaS5pc1N0cmluZyhuKSl0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0VHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCFpLmlzU3RyaW5nKG8pKXRocm93IFR5cGVFcnJvcihcInJlc3BvbnNlVHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO3IuY2FsbCh0aGlzLGUsYyksdGhpcy50eXBlPXR8fFwicnBjXCIsdGhpcy5yZXF1ZXN0VHlwZT1uLHRoaXMucmVxdWVzdFN0cmVhbT0hIWF8fHVuZGVmaW5lZCx0aGlzLnJlc3BvbnNlVHlwZT1vLHRoaXMucmVzcG9uc2VTdHJlYW09ISFzfHx1bmRlZmluZWQsdGhpcy5yZXNvbHZlZFJlcXVlc3RUeXBlPW51bGwsdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZT1udWxsLHRoaXMuY29tbWVudD1kfW8uZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG8oZSx0LnR5cGUsdC5yZXF1ZXN0VHlwZSx0LnJlc3BvbnNlVHlwZSx0LnJlcXVlc3RTdHJlYW0sdC5yZXNwb25zZVN0cmVhbSx0Lm9wdGlvbnMsdC5jb21tZW50KX0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIGkudG9PYmplY3QoW1widHlwZVwiLFwicnBjXCIhPT10aGlzLnR5cGUmJnRoaXMudHlwZXx8dW5kZWZpbmVkLFwicmVxdWVzdFR5cGVcIix0aGlzLnJlcXVlc3RUeXBlLFwicmVxdWVzdFN0cmVhbVwiLHRoaXMucmVxdWVzdFN0cmVhbSxcInJlc3BvbnNlVHlwZVwiLHRoaXMucmVzcG9uc2VUeXBlLFwicmVzcG9uc2VTdHJlYW1cIix0aGlzLnJlc3BvbnNlU3RyZWFtLFwib3B0aW9uc1wiLHRoaXMub3B0aW9ucyxcImNvbW1lbnRcIix0P3RoaXMuY29tbWVudDp1bmRlZmluZWRdKX0sby5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc29sdmVkP3RoaXM6KHRoaXMucmVzb2x2ZWRSZXF1ZXN0VHlwZT10aGlzLnBhcmVudC5sb29rdXBUeXBlKHRoaXMucmVxdWVzdFR5cGUpLHRoaXMucmVzb2x2ZWRSZXNwb25zZVR5cGU9dGhpcy5wYXJlbnQubG9va3VwVHlwZSh0aGlzLnJlc3BvbnNlVHlwZSksci5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpKX19LHsyMjoyMiwzMzozM31dLDIxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXU7dmFyIHI9ZSgyMik7KCh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dSkuY2xhc3NOYW1lPVwiTmFtZXNwYWNlXCI7dmFyIGksbyxhLHM9ZSgxNSksYz1lKDMzKTtmdW5jdGlvbiBkKGUsdCl7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gdW5kZWZpbmVkO2Zvcih2YXIgbj17fSxyPTA7cjxlLmxlbmd0aDsrK3IpbltlW3JdLm5hbWVdPWVbcl0udG9KU09OKHQpO3JldHVybiBufWZ1bmN0aW9uIHUoZSx0KXtyLmNhbGwodGhpcyxlLHQpLHRoaXMubmVzdGVkPXVuZGVmaW5lZCx0aGlzLl9uZXN0ZWRBcnJheT1udWxsfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGUuX25lc3RlZEFycmF5PW51bGwsZX11LmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB1KGUsdC5vcHRpb25zKS5hZGRKU09OKHQubmVzdGVkKX0sdS5hcnJheVRvSlNPTj1kLHUuaXNSZXNlcnZlZElkPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilpZihcInN0cmluZ1wiIT10eXBlb2YgZVtuXSYmZVtuXVswXTw9dCYmZVtuXVsxXT50KXJldHVybiEwO3JldHVybiExfSx1LmlzUmVzZXJ2ZWROYW1lPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLFwibmVzdGVkQXJyYXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lc3RlZEFycmF5fHwodGhpcy5fbmVzdGVkQXJyYXk9Yy50b0FycmF5KHRoaXMubmVzdGVkKSl9fSksdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3JldHVybiBjLnRvT2JqZWN0KFtcIm9wdGlvbnNcIix0aGlzLm9wdGlvbnMsXCJuZXN0ZWRcIixkKHRoaXMubmVzdGVkQXJyYXksZSldKX0sdS5wcm90b3R5cGUuYWRkSlNPTj1mdW5jdGlvbihlKXtpZihlKWZvcih2YXIgdCxuPU9iamVjdC5rZXlzKGUpLHI9MDtyPG4ubGVuZ3RoOysrcil0PWVbbltyXV0sdGhpcy5hZGQoKHQuZmllbGRzIT09dW5kZWZpbmVkP2kuZnJvbUpTT046dC52YWx1ZXMhPT11bmRlZmluZWQ/YS5mcm9tSlNPTjp0Lm1ldGhvZHMhPT11bmRlZmluZWQ/by5mcm9tSlNPTjp0LmlkIT09dW5kZWZpbmVkP3MuZnJvbUpTT046dS5mcm9tSlNPTikobltyXSx0KSk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uZXN0ZWQmJnRoaXMubmVzdGVkW2VdfHxudWxsfSx1LnByb3RvdHlwZS5nZXRFbnVtPWZ1bmN0aW9uKGUpe2lmKHRoaXMubmVzdGVkJiZ0aGlzLm5lc3RlZFtlXWluc3RhbmNlb2YgYSlyZXR1cm4gdGhpcy5uZXN0ZWRbZV0udmFsdWVzO3Rocm93IEVycm9yKFwibm8gc3VjaCBlbnVtOiBcIitlKX0sdS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIHMmJmUuZXh0ZW5kIT09dW5kZWZpbmVkfHxlIGluc3RhbmNlb2YgaXx8ZSBpbnN0YW5jZW9mIGF8fGUgaW5zdGFuY2VvZiBvfHxlIGluc3RhbmNlb2YgdSkpdGhyb3cgVHlwZUVycm9yKFwib2JqZWN0IG11c3QgYmUgYSB2YWxpZCBuZXN0ZWQgb2JqZWN0XCIpO2lmKHRoaXMubmVzdGVkKXt2YXIgdD10aGlzLmdldChlLm5hbWUpO2lmKHQpe2lmKCEodCBpbnN0YW5jZW9mIHUmJmUgaW5zdGFuY2VvZiB1KXx8dCBpbnN0YW5jZW9mIGl8fHQgaW5zdGFuY2VvZiBvKXRocm93IEVycm9yKFwiZHVwbGljYXRlIG5hbWUgJ1wiK2UubmFtZStcIicgaW4gXCIrdGhpcyk7Zm9yKHZhciBuPXQubmVzdGVkQXJyYXkscj0wO3I8bi5sZW5ndGg7KytyKWUuYWRkKG5bcl0pO3RoaXMucmVtb3ZlKHQpLHRoaXMubmVzdGVkfHwodGhpcy5uZXN0ZWQ9e30pLGUuc2V0T3B0aW9ucyh0Lm9wdGlvbnMsITApfX1lbHNlIHRoaXMubmVzdGVkPXt9O3JldHVybiB0aGlzLm5lc3RlZFtlLm5hbWVdPWUsZS5vbkFkZCh0aGlzKSxsKHRoaXMpfSx1LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgcikpdGhyb3cgVHlwZUVycm9yKFwib2JqZWN0IG11c3QgYmUgYSBSZWZsZWN0aW9uT2JqZWN0XCIpO2lmKGUucGFyZW50IT09dGhpcyl0aHJvdyBFcnJvcihlK1wiIGlzIG5vdCBhIG1lbWJlciBvZiBcIit0aGlzKTtyZXR1cm4gZGVsZXRlIHRoaXMubmVzdGVkW2UubmFtZV0sT2JqZWN0LmtleXModGhpcy5uZXN0ZWQpLmxlbmd0aHx8KHRoaXMubmVzdGVkPXVuZGVmaW5lZCksZS5vblJlbW92ZSh0aGlzKSxsKHRoaXMpfSx1LnByb3RvdHlwZS5kZWZpbmU9ZnVuY3Rpb24oZSx0KXtpZihjLmlzU3RyaW5nKGUpKWU9ZS5zcGxpdChcIi5cIik7ZWxzZSBpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBUeXBlRXJyb3IoXCJpbGxlZ2FsIHBhdGhcIik7aWYoZSYmZS5sZW5ndGgmJlwiXCI9PT1lWzBdKXRocm93IEVycm9yKFwicGF0aCBtdXN0IGJlIHJlbGF0aXZlXCIpO2Zvcih2YXIgbj10aGlzO2UubGVuZ3RoPjA7KXt2YXIgcj1lLnNoaWZ0KCk7aWYobi5uZXN0ZWQmJm4ubmVzdGVkW3JdKXtpZighKChuPW4ubmVzdGVkW3JdKWluc3RhbmNlb2YgdSkpdGhyb3cgRXJyb3IoXCJwYXRoIGNvbmZsaWN0cyB3aXRoIG5vbi1uYW1lc3BhY2Ugb2JqZWN0c1wiKX1lbHNlIG4uYWRkKG49bmV3IHUocikpfXJldHVybiB0JiZuLmFkZEpTT04odCksbn0sdS5wcm90b3R5cGUucmVzb2x2ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm5lc3RlZEFycmF5LHQ9MDt0PGUubGVuZ3RoOyllW3RdaW5zdGFuY2VvZiB1P2VbdCsrXS5yZXNvbHZlQWxsKCk6ZVt0KytdLnJlc29sdmUoKTtyZXR1cm4gdGhpcy5yZXNvbHZlKCl9LHUucHJvdG90eXBlLmxvb2t1cD1mdW5jdGlvbihlLHQsbil7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0PyhuPXQsdD11bmRlZmluZWQpOnQmJiFBcnJheS5pc0FycmF5KHQpJiYodD1bdF0pLGMuaXNTdHJpbmcoZSkmJmUubGVuZ3RoKXtpZihcIi5cIj09PWUpcmV0dXJuIHRoaXMucm9vdDtlPWUuc3BsaXQoXCIuXCIpfWVsc2UgaWYoIWUubGVuZ3RoKXJldHVybiB0aGlzO2lmKFwiXCI9PT1lWzBdKXJldHVybiB0aGlzLnJvb3QubG9va3VwKGUuc2xpY2UoMSksdCk7dmFyIHI9dGhpcy5nZXQoZVswXSk7aWYocil7aWYoMT09PWUubGVuZ3RoKXtpZighdHx8dC5pbmRleE9mKHIuY29uc3RydWN0b3IpPi0xKXJldHVybiByfWVsc2UgaWYociBpbnN0YW5jZW9mIHUmJihyPXIubG9va3VwKGUuc2xpY2UoMSksdCwhMCkpKXJldHVybiByfWVsc2UgZm9yKHZhciBpPTA7aTx0aGlzLm5lc3RlZEFycmF5Lmxlbmd0aDsrK2kpaWYodGhpcy5fbmVzdGVkQXJyYXlbaV1pbnN0YW5jZW9mIHUmJihyPXRoaXMuX25lc3RlZEFycmF5W2ldLmxvb2t1cChlLHQsITApKSlyZXR1cm4gcjtyZXR1cm4gbnVsbD09PXRoaXMucGFyZW50fHxuP251bGw6dGhpcy5wYXJlbnQubG9va3VwKGUsdCl9LHUucHJvdG90eXBlLmxvb2t1cFR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb29rdXAoZSxbaV0pO2lmKCF0KXRocm93IEVycm9yKFwibm8gc3VjaCB0eXBlOiBcIitlKTtyZXR1cm4gdH0sdS5wcm90b3R5cGUubG9va3VwRW51bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxvb2t1cChlLFthXSk7aWYoIXQpdGhyb3cgRXJyb3IoXCJubyBzdWNoIEVudW0gJ1wiK2UrXCInIGluIFwiK3RoaXMpO3JldHVybiB0fSx1LnByb3RvdHlwZS5sb29rdXBUeXBlT3JFbnVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubG9va3VwKGUsW2ksYV0pO2lmKCF0KXRocm93IEVycm9yKFwibm8gc3VjaCBUeXBlIG9yIEVudW0gJ1wiK2UrXCInIGluIFwiK3RoaXMpO3JldHVybiB0fSx1LnByb3RvdHlwZS5sb29rdXBTZXJ2aWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubG9va3VwKGUsW29dKTtpZighdCl0aHJvdyBFcnJvcihcIm5vIHN1Y2ggU2VydmljZSAnXCIrZStcIicgaW4gXCIrdGhpcyk7cmV0dXJuIHR9LHUuX2NvbmZpZ3VyZT1mdW5jdGlvbihlLHQsbil7aT1lLG89dCxhPW59fSx7MTU6MTUsMjI6MjIsMzM6MzN9XSwyMjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1vLG8uY2xhc3NOYW1lPVwiUmVmbGVjdGlvbk9iamVjdFwiO3ZhciByLGk9ZSgzMyk7ZnVuY3Rpb24gbyhlLHQpe2lmKCFpLmlzU3RyaW5nKGUpKXRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZih0JiYhaS5pc09iamVjdCh0KSl0aHJvdyBUeXBlRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIpO3RoaXMub3B0aW9ucz10LHRoaXMucGFyc2VkT3B0aW9ucz1udWxsLHRoaXMubmFtZT1lLHRoaXMucGFyZW50PW51bGwsdGhpcy5yZXNvbHZlZD0hMSx0aGlzLmNvbW1lbnQ9bnVsbCx0aGlzLmZpbGVuYW1lPW51bGx9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoby5wcm90b3R5cGUse3Jvb3Q6e2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzO251bGwhPT1lLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX19LGZ1bGxOYW1lOntnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W3RoaXMubmFtZV0sdD10aGlzLnBhcmVudDt0OyllLnVuc2hpZnQodC5uYW1lKSx0PXQucGFyZW50O3JldHVybiBlLmpvaW4oXCIuXCIpfX19KSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigpfSxvLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXt0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQhPT1lJiZ0aGlzLnBhcmVudC5yZW1vdmUodGhpcyksdGhpcy5wYXJlbnQ9ZSx0aGlzLnJlc29sdmVkPSExO3ZhciB0PWUucm9vdDt0IGluc3RhbmNlb2YgciYmdC5faGFuZGxlQWRkKHRoaXMpfSxvLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnJvb3Q7dCBpbnN0YW5jZW9mIHImJnQuX2hhbmRsZVJlbW92ZSh0aGlzKSx0aGlzLnBhcmVudD1udWxsLHRoaXMucmVzb2x2ZWQ9ITF9LG8ucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNvbHZlZHx8dGhpcy5yb290IGluc3RhbmNlb2YgciYmKHRoaXMucmVzb2x2ZWQ9ITApLHRoaXN9LG8ucHJvdG90eXBlLmdldE9wdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zP3RoaXMub3B0aW9uc1tlXTp1bmRlZmluZWR9LG8ucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4mJnRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zW2VdIT09dW5kZWZpbmVkfHwoKHRoaXMub3B0aW9uc3x8KHRoaXMub3B0aW9ucz17fSkpW2VdPXQpLHRoaXN9LG8ucHJvdG90eXBlLnNldFBhcnNlZE9wdGlvbj1mdW5jdGlvbihlLHQsbil7dGhpcy5wYXJzZWRPcHRpb25zfHwodGhpcy5wYXJzZWRPcHRpb25zPVtdKTt2YXIgcj10aGlzLnBhcnNlZE9wdGlvbnM7aWYobil7dmFyIG89ci5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9KSk7aWYobyl7dmFyIGE9b1tlXTtpLnNldFByb3BlcnR5KGEsbix0KX1lbHNlKG89e30pW2VdPWkuc2V0UHJvcGVydHkoe30sbix0KSxyLnB1c2gobyl9ZWxzZXt2YXIgcz17fTtzW2VdPXQsci5wdXNoKHMpfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKGUsdCl7aWYoZSlmb3IodmFyIG49T2JqZWN0LmtleXMoZSkscj0wO3I8bi5sZW5ndGg7KytyKXRoaXMuc2V0T3B0aW9uKG5bcl0sZVtuW3JdXSx0KTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSx0PXRoaXMuZnVsbE5hbWU7cmV0dXJuIHQubGVuZ3RoP2UrXCIgXCIrdDplfSxvLl9jb25maWd1cmU9ZnVuY3Rpb24oZSl7cj1lfX0sezMzOjMzfV0sMjM6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9YTt2YXIgcj1lKDIyKTsoKGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hKS5jbGFzc05hbWU9XCJPbmVPZlwiO3ZhciBpPWUoMTUpLG89ZSgzMyk7ZnVuY3Rpb24gYShlLHQsbixpKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj10LHQ9dW5kZWZpbmVkKSxyLmNhbGwodGhpcyxlLG4pLHQhPT11bmRlZmluZWQmJiFBcnJheS5pc0FycmF5KHQpKXRocm93IFR5cGVFcnJvcihcImZpZWxkTmFtZXMgbXVzdCBiZSBhbiBBcnJheVwiKTt0aGlzLm9uZW9mPXR8fFtdLHRoaXMuZmllbGRzQXJyYXk9W10sdGhpcy5jb21tZW50PWl9ZnVuY3Rpb24gcyhlKXtpZihlLnBhcmVudClmb3IodmFyIHQ9MDt0PGUuZmllbGRzQXJyYXkubGVuZ3RoOysrdCllLmZpZWxkc0FycmF5W3RdLnBhcmVudHx8ZS5wYXJlbnQuYWRkKGUuZmllbGRzQXJyYXlbdF0pfWEuZnJvbUpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGEoZSx0Lm9uZW9mLHQub3B0aW9ucyx0LmNvbW1lbnQpfSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlJiZCb29sZWFuKGUua2VlcENvbW1lbnRzKTtyZXR1cm4gby50b09iamVjdChbXCJvcHRpb25zXCIsdGhpcy5vcHRpb25zLFwib25lb2ZcIix0aGlzLm9uZW9mLFwiY29tbWVudFwiLHQ/dGhpcy5jb21tZW50OnVuZGVmaW5lZF0pfSxhLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgaSkpdGhyb3cgVHlwZUVycm9yKFwiZmllbGQgbXVzdCBiZSBhIEZpZWxkXCIpO3JldHVybiBlLnBhcmVudCYmZS5wYXJlbnQhPT10aGlzLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlKGUpLHRoaXMub25lb2YucHVzaChlLm5hbWUpLHRoaXMuZmllbGRzQXJyYXkucHVzaChlKSxlLnBhcnRPZj10aGlzLHModGhpcyksdGhpc30sYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIGkpKXRocm93IFR5cGVFcnJvcihcImZpZWxkIG11c3QgYmUgYSBGaWVsZFwiKTt2YXIgdD10aGlzLmZpZWxkc0FycmF5LmluZGV4T2YoZSk7aWYodDwwKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiB0aGlzLmZpZWxkc0FycmF5LnNwbGljZSh0LDEpLCh0PXRoaXMub25lb2YuaW5kZXhPZihlLm5hbWUpKT4tMSYmdGhpcy5vbmVvZi5zcGxpY2UodCwxKSxlLnBhcnRPZj1udWxsLHRoaXN9LGEucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3IucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcyxlKTtmb3IodmFyIHQ9MDt0PHRoaXMub25lb2YubGVuZ3RoOysrdCl7dmFyIG49ZS5nZXQodGhpcy5vbmVvZlt0XSk7biYmIW4ucGFydE9mJiYobi5wYXJ0T2Y9dGhpcyx0aGlzLmZpZWxkc0FycmF5LnB1c2gobikpfXModGhpcyl9LGEucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTA7bjx0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsrK24pKHQ9dGhpcy5maWVsZHNBcnJheVtuXSkucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCk7ci5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLGUpfSxhLmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7KWVbdF09YXJndW1lbnRzW3QrK107cmV0dXJuIGZ1bmN0aW9uKHQsbil7by5kZWNvcmF0ZVR5cGUodC5jb25zdHJ1Y3RvcikuYWRkKG5ldyBhKG4sZSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2dldDpvLm9uZU9mR2V0dGVyKGUpLHNldDpvLm9uZU9mU2V0dGVyKGUpfSl9fX0sezE1OjE1LDIyOjIyLDMzOjMzfV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9Yzt2YXIgcixpPWUoMzUpLG89aS5Mb25nQml0cyxhPWkudXRmODtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiK2UucG9zK1wiICsgXCIrKHR8fDEpK1wiID4gXCIrZS5sZW4pfWZ1bmN0aW9uIGMoZSl7dGhpcy5idWY9ZSx0aGlzLnBvcz0wLHRoaXMubGVuPWUubGVuZ3RofXZhciBkLHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG5ldyBjKGUpO3Rocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIil9LGw9ZnVuY3Rpb24oKXtyZXR1cm4gaS5CdWZmZXI/ZnVuY3Rpb24oZSl7cmV0dXJuKGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBpLkJ1ZmZlci5pc0J1ZmZlcihlKT9uZXcgcihlKTp1KGUpfSkoZSl9OnV9O2Z1bmN0aW9uIGYoKXt2YXIgZT1uZXcgbygwLDApLHQ9MDtpZighKHRoaXMubGVuLXRoaXMucG9zPjQpKXtmb3IoO3Q8MzsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBzKHRoaXMpO2lmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9cmV0dXJuIGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk8PDcqdCk+Pj4wLGV9Zm9yKDt0PDQ7Kyt0KWlmKGUubG89KGUubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYoZS5sbz0oZS5sb3woMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDI4KT4+PjAsZS5oaT0oZS5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk+PjQpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGU7aWYodD0wLHRoaXMubGVuLXRoaXMucG9zPjQpe2Zvcig7dDw1OysrdClpZihlLmhpPShlLmhpfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8Nyp0KzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGV9ZWxzZSBmb3IoO3Q8NTsrK3Qpe2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBzKHRoaXMpO2lmKGUuaGk9KGUuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KnQrMyk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZX10aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4oZVt0LTRdfGVbdC0zXTw8OHxlW3QtMl08PDE2fGVbdC0xXTw8MjQpPj4+MH1mdW5jdGlvbiBnKCl7aWYodGhpcy5wb3MrOD50aGlzLmxlbil0aHJvdyBzKHRoaXMsOCk7cmV0dXJuIG5ldyBvKHAodGhpcy5idWYsdGhpcy5wb3MrPTQpLHAodGhpcy5idWYsdGhpcy5wb3MrPTQpKX1jLmNyZWF0ZT1sKCksYy5wcm90b3R5cGUuX3NsaWNlPWkuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5fHxpLkFycmF5LnByb3RvdHlwZS5zbGljZSxjLnByb3RvdHlwZS51aW50MzI9KGQ9NDI5NDk2NzI5NSxmdW5jdGlvbigpe2lmKGQ9KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGQ7aWYoZD0oZHwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGQ7aWYoZD0oZHwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDE0KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBkO2lmKGQ9KGR8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyMSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtpZihkPShkfCgxNSZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyOCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOClyZXR1cm4gZDtpZigodGhpcy5wb3MrPTUpPnRoaXMubGVuKXRocm93IHRoaXMucG9zPXRoaXMubGVuLHModGhpcywxMCk7cmV0dXJuIGR9KSxjLnByb3RvdHlwZS5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfHRoaXMudWludDMyKCl9LGMucHJvdG90eXBlLnNpbnQzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMudWludDMyKCk7cmV0dXJuIGU+Pj4xXi0oMSZlKXwwfSxjLnByb3RvdHlwZS5ib29sPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnVpbnQzMigpfSxjLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBzKHRoaXMsNCk7cmV0dXJuIHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5zZml4ZWQzMj1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgcyh0aGlzLDQpO3JldHVybiAwfHAodGhpcy5idWYsdGhpcy5wb3MrPTQpfSxjLnByb3RvdHlwZS5mbG9hdD1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgcyh0aGlzLDQpO3ZhciBlPWkuZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxjLnByb3RvdHlwZS5kb3VibGU9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IHModGhpcyw0KTt2YXIgZT1pLmZsb2F0LnJlYWREb3VibGVMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz04LGV9LGMucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKSx0PXRoaXMucG9zLG49dGhpcy5wb3MrZTtpZihuPnRoaXMubGVuKXRocm93IHModGhpcyxlKTtyZXR1cm4gdGhpcy5wb3MrPWUsQXJyYXkuaXNBcnJheSh0aGlzLmJ1Zik/dGhpcy5idWYuc2xpY2UodCxuKTp0PT09bj9uZXcgdGhpcy5idWYuY29uc3RydWN0b3IoMCk6dGhpcy5fc2xpY2UuY2FsbCh0aGlzLmJ1Zix0LG4pfSxjLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ5dGVzKCk7cmV0dXJuIGEucmVhZChlLDAsZS5sZW5ndGgpfSxjLnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtpZih0aGlzLnBvcytlPnRoaXMubGVuKXRocm93IHModGhpcyxlKTt0aGlzLnBvcys9ZX1lbHNlIGRve2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBzKHRoaXMpfXdoaWxlKDEyOCZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnNraXBUeXBlPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy5za2lwKCk7YnJlYWs7Y2FzZSAxOnRoaXMuc2tpcCg4KTticmVhaztjYXNlIDI6dGhpcy5za2lwKHRoaXMudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmb3IoOzQhPShlPTcmdGhpcy51aW50MzIoKSk7KXRoaXMuc2tpcFR5cGUoZSk7YnJlYWs7Y2FzZSA1OnRoaXMuc2tpcCg0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiaW52YWxpZCB3aXJlIHR5cGUgXCIrZStcIiBhdCBvZmZzZXQgXCIrdGhpcy5wb3MpfXJldHVybiB0aGlzfSxjLl9jb25maWd1cmU9ZnVuY3Rpb24oZSl7cj1lLGMuY3JlYXRlPWwoKSxyLl9jb25maWd1cmUoKTt2YXIgdD1pLkxvbmc/XCJ0b0xvbmdcIjpcInRvTnVtYmVyXCI7aS5tZXJnZShjLnByb3RvdHlwZSx7aW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpW3RdKCExKX0sdWludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzKVt0XSghMCl9LHNpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBmLmNhbGwodGhpcykuenpEZWNvZGUoKVt0XSghMSl9LGZpeGVkNjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpW3RdKCEwKX0sc2ZpeGVkNjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpW3RdKCExKX19KX19LHszNTozNX1dLDI1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPW87dmFyIHI9ZSgyNCk7KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vO3ZhciBpPWUoMzUpO2Z1bmN0aW9uIG8oZSl7ci5jYWxsKHRoaXMsZSl9by5fY29uZmlndXJlPWZ1bmN0aW9uKCl7aS5CdWZmZXImJihvLnByb3RvdHlwZS5fc2xpY2U9aS5CdWZmZXIucHJvdG90eXBlLnNsaWNlKX0sby5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51aW50MzIoKTtyZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlP3RoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcyx0aGlzLnBvcz1NYXRoLm1pbih0aGlzLnBvcytlLHRoaXMubGVuKSk6dGhpcy5idWYudG9TdHJpbmcoXCJ1dGYtOFwiLHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2UsdGhpcy5sZW4pKX0sby5fY29uZmlndXJlKCl9LHsyNDoyNCwzNTozNX1dLDI2OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWw7dmFyIHI9ZSgyMSk7KChsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bCkuY2xhc3NOYW1lPVwiUm9vdFwiO3ZhciBpLG8sYSxzPWUoMTUpLGM9ZSgxNCksZD1lKDIzKSx1PWUoMzMpO2Z1bmN0aW9uIGwoZSl7ci5jYWxsKHRoaXMsXCJcIixlKSx0aGlzLmRlZmVycmVkPVtdLHRoaXMuZmlsZXM9W119ZnVuY3Rpb24gZigpe31sLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PW5ldyBsKSxlLm9wdGlvbnMmJnQuc2V0T3B0aW9ucyhlLm9wdGlvbnMpLHQuYWRkSlNPTihlLm5lc3RlZCl9LGwucHJvdG90eXBlLnJlc29sdmVQYXRoPXUucGF0aC5yZXNvbHZlLGwucHJvdG90eXBlLmZldGNoPXUuZmV0Y2gsbC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbiBlKHQsbixyKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYocj1uLG49dW5kZWZpbmVkKTt2YXIgaT10aGlzO2lmKCFyKXJldHVybiB1LmFzUHJvbWlzZShlLGksdCxuKTt2YXIgcz1yPT09ZjtmdW5jdGlvbiBjKGUsdCl7aWYocil7dmFyIG49cjtpZihyPW51bGwscyl0aHJvdyBlO24oZSx0KX19ZnVuY3Rpb24gZChlKXt2YXIgdD1lLmxhc3RJbmRleE9mKFwiZ29vZ2xlL3Byb3RvYnVmL1wiKTtpZih0Pi0xKXt2YXIgbj1lLnN1YnN0cmluZyh0KTtpZihuIGluIGEpcmV0dXJuIG59cmV0dXJuIG51bGx9ZnVuY3Rpb24gbChlLHQpe3RyeXtpZih1LmlzU3RyaW5nKHQpJiZcIntcIj09PXQuY2hhckF0KDApJiYodD1KU09OLnBhcnNlKHQpKSx1LmlzU3RyaW5nKHQpKXtvLmZpbGVuYW1lPWU7dmFyIHIsYT1vKHQsaSxuKSxsPTA7aWYoYS5pbXBvcnRzKWZvcig7bDxhLmltcG9ydHMubGVuZ3RoOysrbCkocj1kKGEuaW1wb3J0c1tsXSl8fGkucmVzb2x2ZVBhdGgoZSxhLmltcG9ydHNbbF0pKSYmcChyKTtpZihhLndlYWtJbXBvcnRzKWZvcihsPTA7bDxhLndlYWtJbXBvcnRzLmxlbmd0aDsrK2wpKHI9ZChhLndlYWtJbXBvcnRzW2xdKXx8aS5yZXNvbHZlUGF0aChlLGEud2Vha0ltcG9ydHNbbF0pKSYmcChyLCEwKX1lbHNlIGkuc2V0T3B0aW9ucyh0Lm9wdGlvbnMpLmFkZEpTT04odC5uZXN0ZWQpfWNhdGNoKGUpe2MoZSl9c3x8Z3x8YyhudWxsLGkpfWZ1bmN0aW9uIHAoZSx0KXtpZighKGkuZmlsZXMuaW5kZXhPZihlKT4tMSkpaWYoaS5maWxlcy5wdXNoKGUpLGUgaW4gYSlzP2woZSxhW2VdKTooKytnLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7LS1nLGwoZSxhW2VdKX0pKSk7ZWxzZSBpZihzKXt2YXIgbjt0cnl7bj11LmZzLnJlYWRGaWxlU3luYyhlKS50b1N0cmluZyhcInV0ZjhcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQodHx8YyhlKSl9bChlLG4pfWVsc2UrK2csaS5mZXRjaChlLChmdW5jdGlvbihuLG8pey0tZyxyJiYobj90P2d8fGMobnVsbCxpKTpjKG4pOmwoZSxvKSl9KSl9dmFyIGc9MDt1LmlzU3RyaW5nKHQpJiYodD1bdF0pO2Zvcih2YXIgbSxoPTA7aDx0Lmxlbmd0aDsrK2gpKG09aS5yZXNvbHZlUGF0aChcIlwiLHRbaF0pKSYmcChtKTtyZXR1cm4gcz9pOihnfHxjKG51bGwsaSksdW5kZWZpbmVkKX0sbC5wcm90b3R5cGUubG9hZFN5bmM9ZnVuY3Rpb24oZSx0KXtpZighdS5pc05vZGUpdGhyb3cgRXJyb3IoXCJub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB0aGlzLmxvYWQoZSx0LGYpfSxsLnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5kZWZlcnJlZC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJ1bnJlc29sdmFibGUgZXh0ZW5zaW9uczogXCIrdGhpcy5kZWZlcnJlZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiJ2V4dGVuZCBcIitlLmV4dGVuZCtcIicgaW4gXCIrZS5wYXJlbnQuZnVsbE5hbWV9KSkuam9pbihcIiwgXCIpKTtyZXR1cm4gci5wcm90b3R5cGUucmVzb2x2ZUFsbC5jYWxsKHRoaXMpfTt2YXIgcD0vXltBLVpdLztmdW5jdGlvbiBnKGUsdCl7dmFyIG49dC5wYXJlbnQubG9va3VwKHQuZXh0ZW5kKTtpZihuKXt2YXIgcj1uZXcgcyh0LmZ1bGxOYW1lLHQuaWQsdC50eXBlLHQucnVsZSx1bmRlZmluZWQsdC5vcHRpb25zKTtyZXR1cm4gci5kZWNsYXJpbmdGaWVsZD10LHQuZXh0ZW5zaW9uRmllbGQ9cixuLmFkZChyKSwhMH1yZXR1cm4hMX1sLnByb3RvdHlwZS5faGFuZGxlQWRkPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBzKWUuZXh0ZW5kPT09dW5kZWZpbmVkfHxlLmV4dGVuc2lvbkZpZWxkfHxnKDAsZSl8fHRoaXMuZGVmZXJyZWQucHVzaChlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBjKXAudGVzdChlLm5hbWUpJiYoZS5wYXJlbnRbZS5uYW1lXT1lLnZhbHVlcyk7ZWxzZSBpZighKGUgaW5zdGFuY2VvZiBkKSl7aWYoZSBpbnN0YW5jZW9mIGkpZm9yKHZhciB0PTA7dDx0aGlzLmRlZmVycmVkLmxlbmd0aDspZygwLHRoaXMuZGVmZXJyZWRbdF0pP3RoaXMuZGVmZXJyZWQuc3BsaWNlKHQsMSk6Kyt0O2Zvcih2YXIgbj0wO248ZS5uZXN0ZWRBcnJheS5sZW5ndGg7KytuKXRoaXMuX2hhbmRsZUFkZChlLl9uZXN0ZWRBcnJheVtuXSk7cC50ZXN0KGUubmFtZSkmJihlLnBhcmVudFtlLm5hbWVdPWUpfX0sbC5wcm90b3R5cGUuX2hhbmRsZVJlbW92ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2Ygcyl7aWYoZS5leHRlbmQhPT11bmRlZmluZWQpaWYoZS5leHRlbnNpb25GaWVsZCllLmV4dGVuc2lvbkZpZWxkLnBhcmVudC5yZW1vdmUoZS5leHRlbnNpb25GaWVsZCksZS5leHRlbnNpb25GaWVsZD1udWxsO2Vsc2V7dmFyIHQ9dGhpcy5kZWZlcnJlZC5pbmRleE9mKGUpO3Q+LTEmJnRoaXMuZGVmZXJyZWQuc3BsaWNlKHQsMSl9fWVsc2UgaWYoZSBpbnN0YW5jZW9mIGMpcC50ZXN0KGUubmFtZSkmJmRlbGV0ZSBlLnBhcmVudFtlLm5hbWVdO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHIpe2Zvcih2YXIgbj0wO248ZS5uZXN0ZWRBcnJheS5sZW5ndGg7KytuKXRoaXMuX2hhbmRsZVJlbW92ZShlLl9uZXN0ZWRBcnJheVtuXSk7cC50ZXN0KGUubmFtZSkmJmRlbGV0ZSBlLnBhcmVudFtlLm5hbWVdfX0sbC5fY29uZmlndXJlPWZ1bmN0aW9uKGUsdCxuKXtpPWUsbz10LGE9bn19LHsxNDoxNCwxNToxNSwyMToyMSwyMzoyMywzMzozM31dLDI3OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxuKXtuLlNlcnZpY2U9ZSgyOSl9LHsyOToyOX1dLDI5OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWk7dmFyIHI9ZSgzNSk7ZnVuY3Rpb24gaShlLHQsbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJycGNJbXBsIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpLHRoaXMucnBjSW1wbD1lLHRoaXMucmVxdWVzdERlbGltaXRlZD1Cb29sZWFuKHQpLHRoaXMucmVzcG9uc2VEZWxpbWl0ZWQ9Qm9vbGVhbihuKX0oaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnJwY0NhbGw9ZnVuY3Rpb24gZSh0LG4saSxvLGEpe2lmKCFvKXRocm93IFR5cGVFcnJvcihcInJlcXVlc3QgbXVzdCBiZSBzcGVjaWZpZWRcIik7dmFyIHM9dGhpcztpZighYSlyZXR1cm4gci5hc1Byb21pc2UoZSxzLHQsbixpLG8pO2lmKCFzLnJwY0ltcGwpcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YShFcnJvcihcImFscmVhZHkgZW5kZWRcIikpfSksMCksdW5kZWZpbmVkO3RyeXtyZXR1cm4gcy5ycGNJbXBsKHQsbltzLnJlcXVlc3REZWxpbWl0ZWQ/XCJlbmNvZGVEZWxpbWl0ZWRcIjpcImVuY29kZVwiXShvKS5maW5pc2goKSwoZnVuY3Rpb24oZSxuKXtpZihlKXJldHVybiBzLmVtaXQoXCJlcnJvclwiLGUsdCksYShlKTtpZihudWxsPT09bilyZXR1cm4gcy5lbmQoITApLHVuZGVmaW5lZDtpZighKG4gaW5zdGFuY2VvZiBpKSl0cnl7bj1pW3MucmVzcG9uc2VEZWxpbWl0ZWQ/XCJkZWNvZGVEZWxpbWl0ZWRcIjpcImRlY29kZVwiXShuKX1jYXRjaChlKXtyZXR1cm4gcy5lbWl0KFwiZXJyb3JcIixlLHQpLGEoZSl9cmV0dXJuIHMuZW1pdChcImRhdGFcIixuLHQpLGEobnVsbCxuKX0pKX1jYXRjaChlKXtyZXR1cm4gcy5lbWl0KFwiZXJyb3JcIixlLHQpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YShlKX0pLDApLHVuZGVmaW5lZH19LGkucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ycGNJbXBsJiYoZXx8dGhpcy5ycGNJbXBsKG51bGwsbnVsbCxudWxsKSx0aGlzLnJwY0ltcGw9bnVsbCx0aGlzLmVtaXQoXCJlbmRcIikub2ZmKCkpLHRoaXN9fSx7MzU6MzV9XSwzMDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1zO3ZhciByPWUoMjEpOygocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXMpLmNsYXNzTmFtZT1cIlNlcnZpY2VcIjt2YXIgaT1lKDIwKSxvPWUoMzMpLGE9ZSgyOCk7ZnVuY3Rpb24gcyhlLHQpe3IuY2FsbCh0aGlzLGUsdCksdGhpcy5tZXRob2RzPXt9LHRoaXMuX21ldGhvZHNBcnJheT1udWxsfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUuX21ldGhvZHNBcnJheT1udWxsLGV9cy5mcm9tSlNPTj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBzKGUsdC5vcHRpb25zKTtpZih0Lm1ldGhvZHMpZm9yKHZhciByPU9iamVjdC5rZXlzKHQubWV0aG9kcyksbz0wO288ci5sZW5ndGg7KytvKW4uYWRkKGkuZnJvbUpTT04ocltvXSx0Lm1ldGhvZHNbcltvXV0pKTtyZXR1cm4gdC5uZXN0ZWQmJm4uYWRkSlNPTih0Lm5lc3RlZCksbi5jb21tZW50PXQuY29tbWVudCxufSxzLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9ci5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKSxuPSEhZSYmQm9vbGVhbihlLmtlZXBDb21tZW50cyk7cmV0dXJuIG8udG9PYmplY3QoW1wib3B0aW9uc1wiLHQmJnQub3B0aW9uc3x8dW5kZWZpbmVkLFwibWV0aG9kc1wiLHIuYXJyYXlUb0pTT04odGhpcy5tZXRob2RzQXJyYXksZSl8fHt9LFwibmVzdGVkXCIsdCYmdC5uZXN0ZWR8fHVuZGVmaW5lZCxcImNvbW1lbnRcIixuP3RoaXMuY29tbWVudDp1bmRlZmluZWRdKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwibWV0aG9kc0FycmF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXRob2RzQXJyYXl8fCh0aGlzLl9tZXRob2RzQXJyYXk9by50b0FycmF5KHRoaXMubWV0aG9kcykpfX0pLHMucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tZXRob2RzW2VdfHxyLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGUpfSxzLnByb3RvdHlwZS5yZXNvbHZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMubWV0aG9kc0FycmF5LHQ9MDt0PGUubGVuZ3RoOysrdCllW3RdLnJlc29sdmUoKTtyZXR1cm4gci5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpfSxzLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXQoZS5uYW1lKSl0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIitlLm5hbWUrXCInIGluIFwiK3RoaXMpO3JldHVybiBlIGluc3RhbmNlb2YgaT8odGhpcy5tZXRob2RzW2UubmFtZV09ZSxlLnBhcmVudD10aGlzLGModGhpcykpOnIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsZSl9LHMucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaSl7aWYodGhpcy5tZXRob2RzW2UubmFtZV0hPT1lKXRocm93IEVycm9yKGUrXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiK3RoaXMpO3JldHVybiBkZWxldGUgdGhpcy5tZXRob2RzW2UubmFtZV0sZS5wYXJlbnQ9bnVsbCxjKHRoaXMpfXJldHVybiByLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLGUpfSxzLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpPW5ldyBhLlNlcnZpY2UoZSx0LG4pLHM9MDtzPHRoaXMubWV0aG9kc0FycmF5Lmxlbmd0aDsrK3Mpe3ZhciBjPW8ubGNGaXJzdCgocj10aGlzLl9tZXRob2RzQXJyYXlbc10pLnJlc29sdmUoKS5uYW1lKS5yZXBsYWNlKC9bXiRcXHdfXS9nLFwiXCIpO2lbY109by5jb2RlZ2VuKFtcInJcIixcImNcIl0sby5pc1Jlc2VydmVkKGMpP2MrXCJfXCI6YykoXCJyZXR1cm4gdGhpcy5ycGNDYWxsKG0scSxzLHIsYylcIikoe206cixxOnIucmVzb2x2ZWRSZXF1ZXN0VHlwZS5jdG9yLHM6ci5yZXNvbHZlZFJlc3BvbnNlVHlwZS5jdG9yfSl9cmV0dXJuIGl9fSx7MjA6MjAsMjE6MjEsMjg6MjgsMzM6MzN9XSwzMTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1FO3ZhciByPWUoMjEpOygoRS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUUpLmNsYXNzTmFtZT1cIlR5cGVcIjt2YXIgaT1lKDE0KSxvPWUoMjMpLGE9ZSgxNSkscz1lKDE4KSxjPWUoMzApLGQ9ZSgxOSksdT1lKDI0KSxsPWUoMzgpLGY9ZSgzMykscD1lKDEzKSxnPWUoMTIpLG09ZSgzNiksaD1lKDExKSx2PWUoMzcpO2Z1bmN0aW9uIEUoZSx0KXtyLmNhbGwodGhpcyxlLHQpLHRoaXMuZmllbGRzPXt9LHRoaXMub25lb2ZzPXVuZGVmaW5lZCx0aGlzLmV4dGVuc2lvbnM9dW5kZWZpbmVkLHRoaXMucmVzZXJ2ZWQ9dW5kZWZpbmVkLHRoaXMuZ3JvdXA9dW5kZWZpbmVkLHRoaXMuX2ZpZWxkc0J5SWQ9bnVsbCx0aGlzLl9maWVsZHNBcnJheT1udWxsLHRoaXMuX29uZW9mc0FycmF5PW51bGwsdGhpcy5fY3Rvcj1udWxsfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGUuX2ZpZWxkc0J5SWQ9ZS5fZmllbGRzQXJyYXk9ZS5fb25lb2ZzQXJyYXk9bnVsbCxkZWxldGUgZS5lbmNvZGUsZGVsZXRlIGUuZGVjb2RlLGRlbGV0ZSBlLnZlcmlmeSxlfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEUucHJvdG90eXBlLHtmaWVsZHNCeUlkOntnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9maWVsZHNCeUlkKXJldHVybiB0aGlzLl9maWVsZHNCeUlkO3RoaXMuX2ZpZWxkc0J5SWQ9e307Zm9yKHZhciBlPU9iamVjdC5rZXlzKHRoaXMuZmllbGRzKSx0PTA7dDxlLmxlbmd0aDsrK3Qpe3ZhciBuPXRoaXMuZmllbGRzW2VbdF1dLHI9bi5pZDtpZih0aGlzLl9maWVsZHNCeUlkW3JdKXRocm93IEVycm9yKFwiZHVwbGljYXRlIGlkIFwiK3IrXCIgaW4gXCIrdGhpcyk7dGhpcy5fZmllbGRzQnlJZFtyXT1ufXJldHVybiB0aGlzLl9maWVsZHNCeUlkfX0sZmllbGRzQXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZHNBcnJheXx8KHRoaXMuX2ZpZWxkc0FycmF5PWYudG9BcnJheSh0aGlzLmZpZWxkcykpfX0sb25lb2ZzQXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbmVvZnNBcnJheXx8KHRoaXMuX29uZW9mc0FycmF5PWYudG9BcnJheSh0aGlzLm9uZW9mcykpfX0sY3Rvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N0b3J8fCh0aGlzLmN0b3I9RS5nZW5lcmF0ZUNvbnN0cnVjdG9yKHRoaXMpKCkpfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm90b3R5cGU7dCBpbnN0YW5jZW9mIGR8fCgoZS5wcm90b3R5cGU9bmV3IGQpLmNvbnN0cnVjdG9yPWUsZi5tZXJnZShlLnByb3RvdHlwZSx0KSksZS4kdHlwZT1lLnByb3RvdHlwZS4kdHlwZT10aGlzLGYubWVyZ2UoZSxkLCEwKSx0aGlzLl9jdG9yPWU7Zm9yKHZhciBuPTA7bjx0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsrK24pdGhpcy5fZmllbGRzQXJyYXlbbl0ucmVzb2x2ZSgpO3ZhciByPXt9O2ZvcihuPTA7bjx0aGlzLm9uZW9mc0FycmF5Lmxlbmd0aDsrK24pclt0aGlzLl9vbmVvZnNBcnJheVtuXS5yZXNvbHZlKCkubmFtZV09e2dldDpmLm9uZU9mR2V0dGVyKHRoaXMuX29uZW9mc0FycmF5W25dLm9uZW9mKSxzZXQ6Zi5vbmVPZlNldHRlcih0aGlzLl9vbmVvZnNBcnJheVtuXS5vbmVvZil9O24mJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHIpfX19KSxFLmdlbmVyYXRlQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49Zi5jb2RlZ2VuKFtcInBcIl0sZS5uYW1lKSxyPTA7cjxlLmZpZWxkc0FycmF5Lmxlbmd0aDsrK3IpKHQ9ZS5fZmllbGRzQXJyYXlbcl0pLm1hcD9uKFwidGhpcyVzPXt9XCIsZi5zYWZlUHJvcCh0Lm5hbWUpKTp0LnJlcGVhdGVkJiZuKFwidGhpcyVzPVtdXCIsZi5zYWZlUHJvcCh0Lm5hbWUpKTtyZXR1cm4gbihcImlmKHApZm9yKHZhciBrcz1PYmplY3Qua2V5cyhwKSxpPTA7aTxrcy5sZW5ndGg7KytpKWlmKHBba3NbaV1dIT1udWxsKVwiKShcInRoaXNba3NbaV1dPXBba3NbaV1dXCIpfSxFLmZyb21KU09OPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IEUoZSx0Lm9wdGlvbnMpO24uZXh0ZW5zaW9ucz10LmV4dGVuc2lvbnMsbi5yZXNlcnZlZD10LnJlc2VydmVkO2Zvcih2YXIgZD1PYmplY3Qua2V5cyh0LmZpZWxkcyksdT0wO3U8ZC5sZW5ndGg7Kyt1KW4uYWRkKCh2b2lkIDAhPT10LmZpZWxkc1tkW3VdXS5rZXlUeXBlP3MuZnJvbUpTT046YS5mcm9tSlNPTikoZFt1XSx0LmZpZWxkc1tkW3VdXSkpO2lmKHQub25lb2ZzKWZvcihkPU9iamVjdC5rZXlzKHQub25lb2ZzKSx1PTA7dTxkLmxlbmd0aDsrK3Upbi5hZGQoby5mcm9tSlNPTihkW3VdLHQub25lb2ZzW2RbdV1dKSk7aWYodC5uZXN0ZWQpZm9yKGQ9T2JqZWN0LmtleXModC5uZXN0ZWQpLHU9MDt1PGQubGVuZ3RoOysrdSl7dmFyIGw9dC5uZXN0ZWRbZFt1XV07bi5hZGQoKGwuaWQhPT11bmRlZmluZWQ/YS5mcm9tSlNPTjpsLmZpZWxkcyE9PXVuZGVmaW5lZD9FLmZyb21KU09OOmwudmFsdWVzIT09dW5kZWZpbmVkP2kuZnJvbUpTT046bC5tZXRob2RzIT09dW5kZWZpbmVkP2MuZnJvbUpTT046ci5mcm9tSlNPTikoZFt1XSxsKSl9cmV0dXJuIHQuZXh0ZW5zaW9ucyYmdC5leHRlbnNpb25zLmxlbmd0aCYmKG4uZXh0ZW5zaW9ucz10LmV4dGVuc2lvbnMpLHQucmVzZXJ2ZWQmJnQucmVzZXJ2ZWQubGVuZ3RoJiYobi5yZXNlcnZlZD10LnJlc2VydmVkKSx0Lmdyb3VwJiYobi5ncm91cD0hMCksdC5jb21tZW50JiYobi5jb21tZW50PXQuY29tbWVudCksbn0sRS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3ZhciB0PXIucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSksbj0hIWUmJkJvb2xlYW4oZS5rZWVwQ29tbWVudHMpO3JldHVybiBmLnRvT2JqZWN0KFtcIm9wdGlvbnNcIix0JiZ0Lm9wdGlvbnN8fHVuZGVmaW5lZCxcIm9uZW9mc1wiLHIuYXJyYXlUb0pTT04odGhpcy5vbmVvZnNBcnJheSxlKSxcImZpZWxkc1wiLHIuYXJyYXlUb0pTT04odGhpcy5maWVsZHNBcnJheS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmRlY2xhcmluZ0ZpZWxkfSkpLGUpfHx7fSxcImV4dGVuc2lvbnNcIix0aGlzLmV4dGVuc2lvbnMmJnRoaXMuZXh0ZW5zaW9ucy5sZW5ndGg/dGhpcy5leHRlbnNpb25zOnVuZGVmaW5lZCxcInJlc2VydmVkXCIsdGhpcy5yZXNlcnZlZCYmdGhpcy5yZXNlcnZlZC5sZW5ndGg/dGhpcy5yZXNlcnZlZDp1bmRlZmluZWQsXCJncm91cFwiLHRoaXMuZ3JvdXB8fHVuZGVmaW5lZCxcIm5lc3RlZFwiLHQmJnQubmVzdGVkfHx1bmRlZmluZWQsXCJjb21tZW50XCIsbj90aGlzLmNvbW1lbnQ6dW5kZWZpbmVkXSl9LEUucHJvdG90eXBlLnJlc29sdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maWVsZHNBcnJheSx0PTA7dDxlLmxlbmd0aDspZVt0KytdLnJlc29sdmUoKTt2YXIgbj10aGlzLm9uZW9mc0FycmF5O2Zvcih0PTA7dDxuLmxlbmd0aDspblt0KytdLnJlc29sdmUoKTtyZXR1cm4gci5wcm90b3R5cGUucmVzb2x2ZUFsbC5jYWxsKHRoaXMpfSxFLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmllbGRzW2VdfHx0aGlzLm9uZW9mcyYmdGhpcy5vbmVvZnNbZV18fHRoaXMubmVzdGVkJiZ0aGlzLm5lc3RlZFtlXXx8bnVsbH0sRS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZ2V0KGUubmFtZSkpdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgbmFtZSAnXCIrZS5uYW1lK1wiJyBpbiBcIit0aGlzKTtpZihlIGluc3RhbmNlb2YgYSYmZS5leHRlbmQ9PT11bmRlZmluZWQpe2lmKHRoaXMuX2ZpZWxkc0J5SWQ/dGhpcy5fZmllbGRzQnlJZFtlLmlkXTp0aGlzLmZpZWxkc0J5SWRbZS5pZF0pdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgaWQgXCIrZS5pZCtcIiBpbiBcIit0aGlzKTtpZih0aGlzLmlzUmVzZXJ2ZWRJZChlLmlkKSl0aHJvdyBFcnJvcihcImlkIFwiK2UuaWQrXCIgaXMgcmVzZXJ2ZWQgaW4gXCIrdGhpcyk7aWYodGhpcy5pc1Jlc2VydmVkTmFtZShlLm5hbWUpKXRocm93IEVycm9yKFwibmFtZSAnXCIrZS5uYW1lK1wiJyBpcyByZXNlcnZlZCBpbiBcIit0aGlzKTtyZXR1cm4gZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZShlKSx0aGlzLmZpZWxkc1tlLm5hbWVdPWUsZS5tZXNzYWdlPXRoaXMsZS5vbkFkZCh0aGlzKSxTKHRoaXMpfXJldHVybiBlIGluc3RhbmNlb2Ygbz8odGhpcy5vbmVvZnN8fCh0aGlzLm9uZW9mcz17fSksdGhpcy5vbmVvZnNbZS5uYW1lXT1lLGUub25BZGQodGhpcyksUyh0aGlzKSk6ci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxlKX0sRS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBhJiZlLmV4dGVuZD09PXVuZGVmaW5lZCl7aWYoIXRoaXMuZmllbGRzfHx0aGlzLmZpZWxkc1tlLm5hbWVdIT09ZSl0aHJvdyBFcnJvcihlK1wiIGlzIG5vdCBhIG1lbWJlciBvZiBcIit0aGlzKTtyZXR1cm4gZGVsZXRlIHRoaXMuZmllbGRzW2UubmFtZV0sZS5wYXJlbnQ9bnVsbCxlLm9uUmVtb3ZlKHRoaXMpLFModGhpcyl9aWYoZSBpbnN0YW5jZW9mIG8pe2lmKCF0aGlzLm9uZW9mc3x8dGhpcy5vbmVvZnNbZS5uYW1lXSE9PWUpdGhyb3cgRXJyb3IoZStcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIrdGhpcyk7cmV0dXJuIGRlbGV0ZSB0aGlzLm9uZW9mc1tlLm5hbWVdLGUucGFyZW50PW51bGwsZS5vblJlbW92ZSh0aGlzKSxTKHRoaXMpfXJldHVybiByLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLGUpfSxFLnByb3RvdHlwZS5pc1Jlc2VydmVkSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuaXNSZXNlcnZlZElkKHRoaXMucmVzZXJ2ZWQsZSl9LEUucHJvdG90eXBlLmlzUmVzZXJ2ZWROYW1lPWZ1bmN0aW9uKGUpe3JldHVybiByLmlzUmVzZXJ2ZWROYW1lKHRoaXMucmVzZXJ2ZWQsZSl9LEUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY3RvcihlKX0sRS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5mdWxsTmFtZSx0PVtdLG49MDtuPHRoaXMuZmllbGRzQXJyYXkubGVuZ3RoOysrbil0LnB1c2godGhpcy5fZmllbGRzQXJyYXlbbl0ucmVzb2x2ZSgpLnJlc29sdmVkVHlwZSk7dGhpcy5lbmNvZGU9cCh0aGlzKSh7V3JpdGVyOmwsdHlwZXM6dCx1dGlsOmZ9KSx0aGlzLmRlY29kZT1nKHRoaXMpKHtSZWFkZXI6dSx0eXBlczp0LHV0aWw6Zn0pLHRoaXMudmVyaWZ5PW0odGhpcykoe3R5cGVzOnQsdXRpbDpmfSksdGhpcy5mcm9tT2JqZWN0PWguZnJvbU9iamVjdCh0aGlzKSh7dHlwZXM6dCx1dGlsOmZ9KSx0aGlzLnRvT2JqZWN0PWgudG9PYmplY3QodGhpcykoe3R5cGVzOnQsdXRpbDpmfSk7dmFyIHI9dltlXTtpZihyKXt2YXIgaT1PYmplY3QuY3JlYXRlKHRoaXMpO2kuZnJvbU9iamVjdD10aGlzLmZyb21PYmplY3QsdGhpcy5mcm9tT2JqZWN0PXIuZnJvbU9iamVjdC5iaW5kKGkpLGkudG9PYmplY3Q9dGhpcy50b09iamVjdCx0aGlzLnRvT2JqZWN0PXIudG9PYmplY3QuYmluZChpKX1yZXR1cm4gdGhpc30sRS5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0dXAoKS5lbmNvZGUoZSx0KX0sRS5wcm90b3R5cGUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCYmdC5sZW4/dC5mb3JrKCk6dCkubGRlbGltKCl9LEUucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldHVwKCkuZGVjb2RlKGUsdCl9LEUucHJvdG90eXBlLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHV8fChlPXUuY3JlYXRlKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxFLnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0dXAoKS52ZXJpZnkoZSl9LEUucHJvdG90eXBlLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0dXAoKS5mcm9tT2JqZWN0KGUpfSxFLnByb3RvdHlwZS50b09iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldHVwKCkudG9PYmplY3QoZSx0KX0sRS5kPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmLmRlY29yYXRlVHlwZSh0LGUpfX19LHsxMToxMSwxMjoxMiwxMzoxMywxNDoxNCwxNToxNSwxODoxOCwxOToxOSwyMToyMSwyMzoyMywyNDoyNCwzMDozMCwzMzozMywzNjozNiwzNzozNywzODozOH1dLDMyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9bixpPWUoMzMpLG89W1wiZG91YmxlXCIsXCJmbG9hdFwiLFwiaW50MzJcIixcInVpbnQzMlwiLFwic2ludDMyXCIsXCJmaXhlZDMyXCIsXCJzZml4ZWQzMlwiLFwiaW50NjRcIixcInVpbnQ2NFwiLFwic2ludDY0XCIsXCJmaXhlZDY0XCIsXCJzZml4ZWQ2NFwiLFwiYm9vbFwiLFwic3RyaW5nXCIsXCJieXRlc1wiXTtmdW5jdGlvbiBhKGUsdCl7dmFyIG49MCxyPXt9O2Zvcih0fD0wO248ZS5sZW5ndGg7KXJbb1tuK3RdXT1lW24rK107cmV0dXJuIHJ9ci5iYXNpYz1hKFsxLDUsMCwwLDAsNSw1LDAsMCwwLDEsMSwwLDIsMl0pLHIuZGVmYXVsdHM9YShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsITEsXCJcIixpLmVtcHR5QXJyYXksbnVsbF0pLHIubG9uZz1hKFswLDAsMCwxLDFdLDcpLHIubWFwS2V5PWEoWzAsMCwwLDUsNSwwLDAsMCwxLDEsMCwyXSwyKSxyLnBhY2tlZD1hKFsxLDUsMCwwLDAsNSw1LDAsMCwwLDEsMSwwXSl9LHszMzozM31dLDMzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQuZXhwb3J0cz1lKDM1KSxhPWUoMjcpO28uY29kZWdlbj1lKDMpLG8uZmV0Y2g9ZSg1KSxvLnBhdGg9ZSg4KSxvLmZzPW8uaW5xdWlyZShcImZzXCIpLG8udG9BcnJheT1mdW5jdGlvbihlKXtpZihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPHQubGVuZ3RoOyluW3JdPWVbdFtyKytdXTtyZXR1cm4gbn1yZXR1cm5bXX0sby50b09iamVjdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7KXt2YXIgcj1lW24rK10saT1lW24rK107aSE9PXVuZGVmaW5lZCYmKHRbcl09aSl9cmV0dXJuIHR9O3ZhciBzPS9cXFxcL2csYz0vXCIvZztvLmlzUmVzZXJ2ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuL14oPzpkb3xpZnxpbnxmb3J8bGV0fG5ld3x0cnl8dmFyfGNhc2V8ZWxzZXxlbnVtfGV2YWx8ZmFsc2V8bnVsbHx0aGlzfHRydWV8dm9pZHx3aXRofGJyZWFrfGNhdGNofGNsYXNzfGNvbnN0fHN1cGVyfHRocm93fHdoaWxlfHlpZWxkfGRlbGV0ZXxleHBvcnR8aW1wb3J0fHB1YmxpY3xyZXR1cm58c3RhdGljfHN3aXRjaHx0eXBlb2Z8ZGVmYXVsdHxleHRlbmRzfGZpbmFsbHl8cGFja2FnZXxwcml2YXRlfGNvbnRpbnVlfGRlYnVnZ2VyfGZ1bmN0aW9ufGFyZ3VtZW50c3xpbnRlcmZhY2V8cHJvdGVjdGVkfGltcGxlbWVudHN8aW5zdGFuY2VvZikkLy50ZXN0KGUpfSxvLnNhZmVQcm9wPWZ1bmN0aW9uKGUpe3JldHVybiEvXlskXFx3X10rJC8udGVzdChlKXx8by5pc1Jlc2VydmVkKGUpPydbXCInK2UucmVwbGFjZShzLFwiXFxcXFxcXFxcIikucmVwbGFjZShjLCdcXFxcXCInKSsnXCJdJzpcIi5cIitlfSxvLnVjRmlyc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHJpbmcoMSl9O3ZhciBkPS9fKFthLXpdKS9nO28uY2FtZWxDYXNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygwLDEpK2Uuc3Vic3RyaW5nKDEpLnJlcGxhY2UoZCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSkpfSxvLmNvbXBhcmVGaWVsZHNCeUlkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaWQtdC5pZH0sby5kZWNvcmF0ZVR5cGU9ZnVuY3Rpb24odCxuKXtpZih0LiR0eXBlKXJldHVybiBuJiZ0LiR0eXBlLm5hbWUhPT1uJiYoby5kZWNvcmF0ZVJvb3QucmVtb3ZlKHQuJHR5cGUpLHQuJHR5cGUubmFtZT1uLG8uZGVjb3JhdGVSb290LmFkZCh0LiR0eXBlKSksdC4kdHlwZTtyfHwocj1lKDMxKSk7dmFyIGk9bmV3IHIobnx8dC5uYW1lKTtyZXR1cm4gby5kZWNvcmF0ZVJvb3QuYWRkKGkpLGkuY3Rvcj10LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiJHR5cGVcIix7dmFsdWU6aSxlbnVtZXJhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiJHR5cGVcIix7dmFsdWU6aSxlbnVtZXJhYmxlOiExfSksaX07dmFyIHU9MDtvLmRlY29yYXRlRW51bT1mdW5jdGlvbih0KXtpZih0LiR0eXBlKXJldHVybiB0LiR0eXBlO2l8fChpPWUoMTQpKTt2YXIgbj1uZXcgaShcIkVudW1cIit1KyssdCk7cmV0dXJuIG8uZGVjb3JhdGVSb290LmFkZChuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIiR0eXBlXCIse3ZhbHVlOm4sZW51bWVyYWJsZTohMX0pLG59LG8uc2V0UHJvcGVydHk9ZnVuY3Rpb24oZSx0LG4pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcImRzdCBtdXN0IGJlIGFuIG9iamVjdFwiKTtpZighdCl0aHJvdyBUeXBlRXJyb3IoXCJwYXRoIG11c3QgYmUgc3BlY2lmaWVkXCIpO3JldHVybiBmdW5jdGlvbiBlKHQsbixyKXt2YXIgaT1uLnNoaWZ0KCk7aWYobi5sZW5ndGg+MCl0W2ldPWUodFtpXXx8e30sbixyKTtlbHNle3ZhciBvPXRbaV07byYmKHI9W10uY29uY2F0KG8pLmNvbmNhdChyKSksdFtpXT1yfXJldHVybiB0fShlLHQ9dC5zcGxpdChcIi5cIiksbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiZGVjb3JhdGVSb290XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhLmRlY29yYXRlZHx8KGEuZGVjb3JhdGVkPW5ldyhlKDI2KSkpfX0pfSx7MTQ6MTQsMjY6MjYsMjc6MjcsMzozLDMxOjMxLDM1OjM1LDU6NSw4Ojh9XSwzNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1pO3ZhciByPWUoMzUpO2Z1bmN0aW9uIGkoZSx0KXt0aGlzLmxvPWU+Pj4wLHRoaXMuaGk9dD4+PjB9dmFyIG89aS56ZXJvPW5ldyBpKDAsMCk7by50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiAwfSxvLnp6RW5jb2RlPW8uenpEZWNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sby5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gMX07dmFyIGE9aS56ZXJvSGFzaD1cIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiO2kuZnJvbU51bWJlcj1mdW5jdGlvbihlKXtpZigwPT09ZSlyZXR1cm4gbzt2YXIgdD1lPDA7dCYmKGU9LWUpO3ZhciBuPWU+Pj4wLHI9KGUtbikvNDI5NDk2NzI5Nj4+PjA7cmV0dXJuIHQmJihyPX5yPj4+MCxuPX5uPj4+MCwrK24+NDI5NDk2NzI5NSYmKG49MCwrK3I+NDI5NDk2NzI5NSYmKHI9MCkpKSxuZXcgaShuLHIpfSxpLmZyb209ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGkuZnJvbU51bWJlcihlKTtpZihyLmlzU3RyaW5nKGUpKXtpZighci5Mb25nKXJldHVybiBpLmZyb21OdW1iZXIocGFyc2VJbnQoZSwxMCkpO2U9ci5Mb25nLmZyb21TdHJpbmcoZSl9cmV0dXJuIGUubG93fHxlLmhpZ2g/bmV3IGkoZS5sb3c+Pj4wLGUuaGlnaD4+PjApOm99LGkucHJvdG90eXBlLnRvTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKCFlJiZ0aGlzLmhpPj4+MzEpe3ZhciB0PTErfnRoaXMubG8+Pj4wLG49fnRoaXMuaGk+Pj4wO3JldHVybiB0fHwobj1uKzE+Pj4wKSwtKHQrNDI5NDk2NzI5NipuKX1yZXR1cm4gdGhpcy5sbys0Mjk0OTY3Mjk2KnRoaXMuaGl9LGkucHJvdG90eXBlLnRvTG9uZz1mdW5jdGlvbihlKXtyZXR1cm4gci5Mb25nP25ldyByLkxvbmcoMHx0aGlzLmxvLDB8dGhpcy5oaSxCb29sZWFuKGUpKTp7bG93OjB8dGhpcy5sbyxoaWdoOjB8dGhpcy5oaSx1bnNpZ25lZDpCb29sZWFuKGUpfX07dmFyIHM9U3RyaW5nLnByb3RvdHlwZS5jaGFyQ29kZUF0O2kuZnJvbUhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hP286bmV3IGkoKHMuY2FsbChlLDApfHMuY2FsbChlLDEpPDw4fHMuY2FsbChlLDIpPDwxNnxzLmNhbGwoZSwzKTw8MjQpPj4+MCwocy5jYWxsKGUsNCl8cy5jYWxsKGUsNSk8PDh8cy5jYWxsKGUsNik8PDE2fHMuY2FsbChlLDcpPDwyNCk+Pj4wKX0saS5wcm90b3R5cGUudG9IYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JnRoaXMubG8sdGhpcy5sbz4+PjgmMjU1LHRoaXMubG8+Pj4xNiYyNTUsdGhpcy5sbz4+PjI0LDI1NSZ0aGlzLmhpLHRoaXMuaGk+Pj44JjI1NSx0aGlzLmhpPj4+MTYmMjU1LHRoaXMuaGk+Pj4yNCl9LGkucHJvdG90eXBlLnp6RW5jb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oaT4+MzE7cmV0dXJuIHRoaXMuaGk9KCh0aGlzLmhpPDwxfHRoaXMubG8+Pj4zMSleZSk+Pj4wLHRoaXMubG89KHRoaXMubG88PDFeZSk+Pj4wLHRoaXN9LGkucHJvdG90eXBlLnp6RGVjb2RlPWZ1bmN0aW9uKCl7dmFyIGU9LSgxJnRoaXMubG8pO3JldHVybiB0aGlzLmxvPSgodGhpcy5sbz4+PjF8dGhpcy5oaTw8MzEpXmUpPj4+MCx0aGlzLmhpPSh0aGlzLmhpPj4+MV5lKT4+PjAsdGhpc30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sbyx0PSh0aGlzLmxvPj4+Mjh8dGhpcy5oaTw8NCk+Pj4wLG49dGhpcy5oaT4+PjI0O3JldHVybiAwPT09bj8wPT09dD9lPDE2Mzg0P2U8MTI4PzE6MjplPDIwOTcxNTI/Mzo0OnQ8MTYzODQ/dDwxMjg/NTo2OnQ8MjA5NzE1Mj83Ojg6bjwxMjg/OToxMH19LHszNTozNX1dLDM1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9bjtmdW5jdGlvbiBpKGUsdCxuKXtmb3IodmFyIHI9T2JqZWN0LmtleXModCksaT0wO2k8ci5sZW5ndGg7KytpKWVbcltpXV0hPT11bmRlZmluZWQmJm58fChlW3JbaV1dPXRbcltpXV0pO3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7ZnVuY3Rpb24gdChlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChlLG4pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX19KSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHQpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhY2tcIix7dmFsdWU6KG5ldyBFcnJvcikuc3RhY2t8fFwiXCJ9KSxuJiZpKHRoaXMsbil9cmV0dXJuKHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dCxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlfX0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZStcIjogXCIrdGhpcy5tZXNzYWdlfSx0fXIuYXNQcm9taXNlPWUoMSksci5iYXNlNjQ9ZSgyKSxyLkV2ZW50RW1pdHRlcj1lKDQpLHIuZmxvYXQ9ZSg2KSxyLmlucXVpcmU9ZSg3KSxyLnV0Zjg9ZSgxMCksci5wb29sPWUoOSksci5Mb25nQml0cz1lKDM0KSxyLmlzTm9kZT1Cb29sZWFuKHZvaWQgMCE9PWdsb2JhbCYmZ2xvYmFsJiZnbG9iYWwucHJvY2VzcyYmZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMmJmdsb2JhbC5wcm9jZXNzLnZlcnNpb25zLm5vZGUpLHIuZ2xvYmFsPXIuaXNOb2RlJiZnbG9iYWx8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHRoaXMsci5lbXB0eUFycmF5PU9iamVjdC5mcmVlemU/T2JqZWN0LmZyZWV6ZShbXSk6W10sci5lbXB0eU9iamVjdD1PYmplY3QuZnJlZXplP09iamVjdC5mcmVlemUoe30pOnt9LHIuaXNJbnRlZ2VyPU51bWJlci5pc0ludGVnZXJ8fGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9LHIuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmd9LHIuaXNPYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfSxyLmlzc2V0PXIuaXNTZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lW3RdO3JldHVybiEobnVsbD09bnx8IWUuaGFzT3duUHJvcGVydHkodCkpJiYoXCJvYmplY3RcIiE9dHlwZW9mIG58fChBcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOk9iamVjdC5rZXlzKG4pLmxlbmd0aCk+MCl9LHIuQnVmZmVyPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIuaW5xdWlyZShcImJ1ZmZlclwiKS5CdWZmZXI7cmV0dXJuIGUucHJvdG90eXBlLnV0ZjhXcml0ZT9lOm51bGx9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSgpLHIuX0J1ZmZlcl9mcm9tPW51bGwsci5fQnVmZmVyX2FsbG9jVW5zYWZlPW51bGwsci5uZXdCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ci5CdWZmZXI/ci5fQnVmZmVyX2FsbG9jVW5zYWZlKGUpOm5ldyByLkFycmF5KGUpOnIuQnVmZmVyP3IuX0J1ZmZlcl9mcm9tKGUpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5P2U6bmV3IFVpbnQ4QXJyYXkoZSl9LHIuQXJyYXk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxyLkxvbmc9ci5nbG9iYWwuZGNvZGVJTyYmci5nbG9iYWwuZGNvZGVJTy5Mb25nfHxyLmdsb2JhbC5Mb25nfHxyLmlucXVpcmUoXCJsb25nXCIpLHIua2V5MlJlPS9edHJ1ZXxmYWxzZXwwfDEkLyxyLmtleTMyUmU9L14tPyg/OjB8WzEtOV1bMC05XSopJC8sci5rZXk2NFJlPS9eKD86W1xcXFx4MDAtXFxcXHhmZl17OH18LT8oPzowfFsxLTldWzAtOV0qKSkkLyxyLmxvbmdUb0hhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ci5Mb25nQml0cy5mcm9tKGUpLnRvSGFzaCgpOnIuTG9uZ0JpdHMuemVyb0hhc2h9LHIubG9uZ0Zyb21IYXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5Mb25nQml0cy5mcm9tSGFzaChlKTtyZXR1cm4gci5Mb25nP3IuTG9uZy5mcm9tQml0cyhuLmxvLG4uaGksdCk6bi50b051bWJlcihCb29sZWFuKHQpKX0sci5tZXJnZT1pLHIubGNGaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStlLnN1YnN0cmluZygxKX0sci5uZXdFcnJvcj1vLHIuUHJvdG9jb2xFcnJvcj1vKFwiUHJvdG9jb2xFcnJvclwiKSxyLm9uZU9mR2V0dGVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDsrK24pdFtlW25dXT0xO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0aGlzKSxuPWUubGVuZ3RoLTE7bj4tMTstLW4paWYoMT09PXRbZVtuXV0mJnRoaXNbZVtuXV0hPT11bmRlZmluZWQmJm51bGwhPT10aGlzW2Vbbl1dKXJldHVybiBlW25dfX0sci5vbmVPZlNldHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pZVtuXSE9PXQmJmRlbGV0ZSB0aGlzW2Vbbl1dfX0sci50b0pTT05PcHRpb25zPXtsb25nczpTdHJpbmcsZW51bXM6U3RyaW5nLGJ5dGVzOlN0cmluZyxqc29uOiEwfSxyLl9jb25maWd1cmU9ZnVuY3Rpb24oKXt2YXIgZT1yLkJ1ZmZlcjtlPyhyLl9CdWZmZXJfZnJvbT1lLmZyb20hPT1VaW50OEFycmF5LmZyb20mJmUuZnJvbXx8ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGUodCxuKX0sci5fQnVmZmVyX2FsbG9jVW5zYWZlPWUuYWxsb2NVbnNhZmV8fGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KX0pOnIuX0J1ZmZlcl9mcm9tPXIuX0J1ZmZlcl9hbGxvY1Vuc2FmZT1udWxsfX0sezE6MSwxMDoxMCwyOjIsMzQ6MzQsNDo0LDY6Niw3OjcsOTo5fV0sMzY6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb2RlZ2VuKFtcIm1cIl0sZS5uYW1lK1wiJHZlcmlmeVwiKSgnaWYodHlwZW9mIG0hPT1cIm9iamVjdFwifHxtPT09bnVsbCknKShcInJldHVybiVqXCIsXCJvYmplY3QgZXhwZWN0ZWRcIiksbj1lLm9uZW9mc0FycmF5LHI9e307bi5sZW5ndGgmJnQoXCJ2YXIgcD17fVwiKTtmb3IodmFyIGM9MDtjPGUuZmllbGRzQXJyYXkubGVuZ3RoOysrYyl7dmFyIGQ9ZS5fZmllbGRzQXJyYXlbY10ucmVzb2x2ZSgpLHU9XCJtXCIraS5zYWZlUHJvcChkLm5hbWUpO2lmKGQub3B0aW9uYWwmJnQoXCJpZiglcyE9bnVsbCYmbS5oYXNPd25Qcm9wZXJ0eSglaikpe1wiLHUsZC5uYW1lKSxkLm1hcCl0KFwiaWYoIXV0aWwuaXNPYmplY3QoJXMpKVwiLHUpKFwicmV0dXJuJWpcIixvKGQsXCJvYmplY3RcIikpKFwidmFyIGs9T2JqZWN0LmtleXMoJXMpXCIsdSkoXCJmb3IodmFyIGk9MDtpPGsubGVuZ3RoOysraSl7XCIpLHModCxkLFwia1tpXVwiKSxhKHQsZCxjLHUrXCJba1tpXV1cIikoXCJ9XCIpO2Vsc2UgaWYoZC5yZXBlYXRlZCl0KFwiaWYoIUFycmF5LmlzQXJyYXkoJXMpKVwiLHUpKFwicmV0dXJuJWpcIixvKGQsXCJhcnJheVwiKSkoXCJmb3IodmFyIGk9MDtpPCVzLmxlbmd0aDsrK2kpe1wiLHUpLGEodCxkLGMsdStcIltpXVwiKShcIn1cIik7ZWxzZXtpZihkLnBhcnRPZil7dmFyIGw9aS5zYWZlUHJvcChkLnBhcnRPZi5uYW1lKTsxPT09cltkLnBhcnRPZi5uYW1lXSYmdChcImlmKHAlcz09PTEpXCIsbCkoXCJyZXR1cm4lalwiLGQucGFydE9mLm5hbWUrXCI6IG11bHRpcGxlIHZhbHVlc1wiKSxyW2QucGFydE9mLm5hbWVdPTEsdChcInAlcz0xXCIsbCl9YSh0LGQsYyx1KX1kLm9wdGlvbmFsJiZ0KFwifVwiKX1yZXR1cm4gdChcInJldHVybiBudWxsXCIpfTt2YXIgcj1lKDE0KSxpPWUoMzMpO2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZS5uYW1lK1wiOiBcIit0KyhlLnJlcGVhdGVkJiZcImFycmF5XCIhPT10P1wiW11cIjplLm1hcCYmXCJvYmplY3RcIiE9PXQ/XCJ7azpcIitlLmtleVR5cGUrXCJ9XCI6XCJcIikrXCIgZXhwZWN0ZWRcIn1mdW5jdGlvbiBhKGUsdCxuLGkpe2lmKHQucmVzb2x2ZWRUeXBlKWlmKHQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2Ygcil7ZShcInN3aXRjaCglcyl7XCIsaSkoXCJkZWZhdWx0OlwiKShcInJldHVybiVqXCIsbyh0LFwiZW51bSB2YWx1ZVwiKSk7Zm9yKHZhciBhPU9iamVjdC5rZXlzKHQucmVzb2x2ZWRUeXBlLnZhbHVlcykscz0wO3M8YS5sZW5ndGg7KytzKWUoXCJjYXNlICVpOlwiLHQucmVzb2x2ZWRUeXBlLnZhbHVlc1thW3NdXSk7ZShcImJyZWFrXCIpKFwifVwiKX1lbHNlIGUoXCJ7XCIpKFwidmFyIGU9dHlwZXNbJWldLnZlcmlmeSglcyk7XCIsbixpKShcImlmKGUpXCIpKFwicmV0dXJuJWorZVwiLHQubmFtZStcIi5cIikoXCJ9XCIpO2Vsc2Ugc3dpdGNoKHQudHlwZSl7Y2FzZVwiaW50MzJcIjpjYXNlXCJ1aW50MzJcIjpjYXNlXCJzaW50MzJcIjpjYXNlXCJmaXhlZDMyXCI6Y2FzZVwic2ZpeGVkMzJcIjplKFwiaWYoIXV0aWwuaXNJbnRlZ2VyKCVzKSlcIixpKShcInJldHVybiVqXCIsbyh0LFwiaW50ZWdlclwiKSk7YnJlYWs7Y2FzZVwiaW50NjRcIjpjYXNlXCJ1aW50NjRcIjpjYXNlXCJzaW50NjRcIjpjYXNlXCJmaXhlZDY0XCI6Y2FzZVwic2ZpeGVkNjRcIjplKFwiaWYoIXV0aWwuaXNJbnRlZ2VyKCVzKSYmISglcyYmdXRpbC5pc0ludGVnZXIoJXMubG93KSYmdXRpbC5pc0ludGVnZXIoJXMuaGlnaCkpKVwiLGksaSxpLGkpKFwicmV0dXJuJWpcIixvKHQsXCJpbnRlZ2VyfExvbmdcIikpO2JyZWFrO2Nhc2VcImZsb2F0XCI6Y2FzZVwiZG91YmxlXCI6ZSgnaWYodHlwZW9mICVzIT09XCJudW1iZXJcIiknLGkpKFwicmV0dXJuJWpcIixvKHQsXCJudW1iZXJcIikpO2JyZWFrO2Nhc2VcImJvb2xcIjplKCdpZih0eXBlb2YgJXMhPT1cImJvb2xlYW5cIiknLGkpKFwicmV0dXJuJWpcIixvKHQsXCJib29sZWFuXCIpKTticmVhaztjYXNlXCJzdHJpbmdcIjplKFwiaWYoIXV0aWwuaXNTdHJpbmcoJXMpKVwiLGkpKFwicmV0dXJuJWpcIixvKHQsXCJzdHJpbmdcIikpO2JyZWFrO2Nhc2VcImJ5dGVzXCI6ZSgnaWYoISglcyYmdHlwZW9mICVzLmxlbmd0aD09PVwibnVtYmVyXCJ8fHV0aWwuaXNTdHJpbmcoJXMpKSknLGksaSxpKShcInJldHVybiVqXCIsbyh0LFwiYnVmZmVyXCIpKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuKXtzd2l0Y2godC5rZXlUeXBlKXtjYXNlXCJpbnQzMlwiOmNhc2VcInVpbnQzMlwiOmNhc2VcInNpbnQzMlwiOmNhc2VcImZpeGVkMzJcIjpjYXNlXCJzZml4ZWQzMlwiOmUoXCJpZighdXRpbC5rZXkzMlJlLnRlc3QoJXMpKVwiLG4pKFwicmV0dXJuJWpcIixvKHQsXCJpbnRlZ2VyIGtleVwiKSk7YnJlYWs7Y2FzZVwiaW50NjRcIjpjYXNlXCJ1aW50NjRcIjpjYXNlXCJzaW50NjRcIjpjYXNlXCJmaXhlZDY0XCI6Y2FzZVwic2ZpeGVkNjRcIjplKFwiaWYoIXV0aWwua2V5NjRSZS50ZXN0KCVzKSlcIixuKShcInJldHVybiVqXCIsbyh0LFwiaW50ZWdlcnxMb25nIGtleVwiKSk7YnJlYWs7Y2FzZVwiYm9vbFwiOmUoXCJpZighdXRpbC5rZXkyUmUudGVzdCglcykpXCIsbikoXCJyZXR1cm4lalwiLG8odCxcImJvb2xlYW4ga2V5XCIpKX1yZXR1cm4gZX19LHsxNDoxNCwzMzozM31dLDM3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9bixpPWUoMTkpO3JbXCIuZ29vZ2xlLnByb3RvYnVmLkFueVwiXT17ZnJvbU9iamVjdDpmdW5jdGlvbihlKXtpZihlJiZlW1wiQHR5cGVcIl0pe3ZhciB0PWVbXCJAdHlwZVwiXS5zdWJzdHJpbmcoZVtcIkB0eXBlXCJdLmxhc3RJbmRleE9mKFwiL1wiKSsxKSxuPXRoaXMubG9va3VwKHQpO2lmKG4pe3ZhciByPVwiLlwiPT09ZVtcIkB0eXBlXCJdLmNoYXJBdCgwKT9lW1wiQHR5cGVcIl0uc3Vic3RyKDEpOmVbXCJAdHlwZVwiXTtyZXR1cm4tMT09PXIuaW5kZXhPZihcIi9cIikmJihyPVwiL1wiK3IpLHRoaXMuY3JlYXRlKHt0eXBlX3VybDpyLHZhbHVlOm4uZW5jb2RlKG4uZnJvbU9iamVjdChlKSkuZmluaXNoKCl9KX19cmV0dXJuIHRoaXMuZnJvbU9iamVjdChlKX0sdG9PYmplY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1cIlwiLHI9XCJcIjtpZih0JiZ0Lmpzb24mJmUudHlwZV91cmwmJmUudmFsdWUpe3I9ZS50eXBlX3VybC5zdWJzdHJpbmcoZS50eXBlX3VybC5sYXN0SW5kZXhPZihcIi9cIikrMSksbj1lLnR5cGVfdXJsLnN1YnN0cmluZygwLGUudHlwZV91cmwubGFzdEluZGV4T2YoXCIvXCIpKzEpO3ZhciBvPXRoaXMubG9va3VwKHIpO28mJihlPW8uZGVjb2RlKGUudmFsdWUpKX1pZighKGUgaW5zdGFuY2VvZiB0aGlzLmN0b3IpJiZlIGluc3RhbmNlb2YgaSl7dmFyIGE9ZS4kdHlwZS50b09iamVjdChlLHQpO3JldHVyblwiXCI9PT1uJiYobj1cInR5cGUuZ29vZ2xlYXBpcy5jb20vXCIpLHI9bisoXCIuXCI9PT1lLiR0eXBlLmZ1bGxOYW1lWzBdP2UuJHR5cGUuZnVsbE5hbWUuc3Vic3RyKDEpOmUuJHR5cGUuZnVsbE5hbWUpLGFbXCJAdHlwZVwiXT1yLGF9cmV0dXJuIHRoaXMudG9PYmplY3QoZSx0KX19fSx7MTk6MTl9XSwzODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1sO3ZhciByLGk9ZSgzNSksbz1pLkxvbmdCaXRzLGE9aS5iYXNlNjQscz1pLnV0Zjg7ZnVuY3Rpb24gYyhlLHQsbil7dGhpcy5mbj1lLHRoaXMubGVuPXQsdGhpcy5uZXh0PXVuZGVmaW5lZCx0aGlzLnZhbD1ufWZ1bmN0aW9uIGQoKXt9ZnVuY3Rpb24gdShlKXt0aGlzLmhlYWQ9ZS5oZWFkLHRoaXMudGFpbD1lLnRhaWwsdGhpcy5sZW49ZS5sZW4sdGhpcy5uZXh0PWUuc3RhdGVzfWZ1bmN0aW9uIGwoKXt0aGlzLmxlbj0wLHRoaXMuaGVhZD1uZXcgYyhkLDAsMCksdGhpcy50YWlsPXRoaXMuaGVhZCx0aGlzLnN0YXRlcz1udWxsfXZhciBmPWZ1bmN0aW9uKCl7cmV0dXJuIGkuQnVmZmVyP2Z1bmN0aW9uKCl7cmV0dXJuKGwuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByfSkoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGx9fTtmdW5jdGlvbiBwKGUsdCxuKXt0W25dPTI1NSZlfWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmxlbj1lLHRoaXMubmV4dD11bmRlZmluZWQsdGhpcy52YWw9dH1mdW5jdGlvbiBtKGUsdCxuKXtmb3IoO2UuaGk7KXRbbisrXT0xMjcmZS5sb3wxMjgsZS5sbz0oZS5sbz4+Pjd8ZS5oaTw8MjUpPj4+MCxlLmhpPj4+PTc7Zm9yKDtlLmxvPjEyNzspdFtuKytdPTEyNyZlLmxvfDEyOCxlLmxvPWUubG8+Pj43O3RbbisrXT1lLmxvfWZ1bmN0aW9uIGgoZSx0LG4pe3Rbbl09MjU1JmUsdFtuKzFdPWU+Pj44JjI1NSx0W24rMl09ZT4+PjE2JjI1NSx0W24rM109ZT4+PjI0fWwuY3JlYXRlPWYoKSxsLmFsbG9jPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5BcnJheShlKX0saS5BcnJheSE9PUFycmF5JiYobC5hbGxvYz1pLnBvb2wobC5hbGxvYyxpLkFycmF5LnByb3RvdHlwZS5zdWJhcnJheSkpLGwucHJvdG90eXBlLl9wdXNoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy50YWlsPXRoaXMudGFpbC5uZXh0PW5ldyBjKGUsdCxuKSx0aGlzLmxlbis9dCx0aGlzfSxnLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxnLnByb3RvdHlwZS5mbj1mdW5jdGlvbihlLHQsbil7Zm9yKDtlPjEyNzspdFtuKytdPTEyNyZlfDEyOCxlPj4+PTc7dFtuXT1lfSxsLnByb3RvdHlwZS51aW50MzI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGVuKz0odGhpcy50YWlsPXRoaXMudGFpbC5uZXh0PW5ldyBnKChlPj4+PTApPDEyOD8xOmU8MTYzODQ/MjplPDIwOTcxNTI/MzplPDI2ODQzNTQ1Nj80OjUsZSkpLmxlbix0aGlzfSxsLnByb3RvdHlwZS5pbnQzMj1mdW5jdGlvbihlKXtyZXR1cm4gZTwwP3RoaXMuX3B1c2gobSwxMCxvLmZyb21OdW1iZXIoZSkpOnRoaXMudWludDMyKGUpfSxsLnByb3RvdHlwZS5zaW50MzI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudWludDMyKChlPDwxXmU+PjMxKT4+PjApfSxsLnByb3RvdHlwZS51aW50NjQ9ZnVuY3Rpb24oZSl7dmFyIHQ9by5mcm9tKGUpO3JldHVybiB0aGlzLl9wdXNoKG0sdC5sZW5ndGgoKSx0KX0sbC5wcm90b3R5cGUuaW50NjQ9bC5wcm90b3R5cGUudWludDY0LGwucHJvdG90eXBlLnNpbnQ2ND1mdW5jdGlvbihlKXt2YXIgdD1vLmZyb20oZSkuenpFbmNvZGUoKTtyZXR1cm4gdGhpcy5fcHVzaChtLHQubGVuZ3RoKCksdCl9LGwucHJvdG90eXBlLmJvb2w9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2gocCwxLGU/MTowKX0sbC5wcm90b3R5cGUuZml4ZWQzMj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHVzaChoLDQsZT4+PjApfSxsLnByb3RvdHlwZS5zZml4ZWQzMj1sLnByb3RvdHlwZS5maXhlZDMyLGwucHJvdG90eXBlLmZpeGVkNjQ9ZnVuY3Rpb24oZSl7dmFyIHQ9by5mcm9tKGUpO3JldHVybiB0aGlzLl9wdXNoKGgsNCx0LmxvKS5fcHVzaChoLDQsdC5oaSl9LGwucHJvdG90eXBlLnNmaXhlZDY0PWwucHJvdG90eXBlLmZpeGVkNjQsbC5wcm90b3R5cGUuZmxvYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3B1c2goaS5mbG9hdC53cml0ZUZsb2F0TEUsNCxlKX0sbC5wcm90b3R5cGUuZG91YmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wdXNoKGkuZmxvYXQud3JpdGVEb3VibGVMRSw4LGUpfTt2YXIgdj1pLkFycmF5LnByb3RvdHlwZS5zZXQ/ZnVuY3Rpb24oZSx0LG4pe3Quc2V0KGUsbil9OmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcil0W24rcl09ZVtyXX07bC5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg+Pj4wO2lmKCF0KXJldHVybiB0aGlzLl9wdXNoKHAsMSwwKTtpZihpLmlzU3RyaW5nKGUpKXt2YXIgbj1sLmFsbG9jKHQ9YS5sZW5ndGgoZSkpO2EuZGVjb2RlKGUsbiwwKSxlPW59cmV0dXJuIHRoaXMudWludDMyKHQpLl9wdXNoKHYsdCxlKX0sbC5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXMubGVuZ3RoKGUpO3JldHVybiB0P3RoaXMudWludDMyKHQpLl9wdXNoKHMud3JpdGUsdCxlKTp0aGlzLl9wdXNoKHAsMSwwKX0sbC5wcm90b3R5cGUuZm9yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlcz1uZXcgdSh0aGlzKSx0aGlzLmhlYWQ9dGhpcy50YWlsPW5ldyBjKGQsMCwwKSx0aGlzLmxlbj0wLHRoaXN9LGwucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzPyh0aGlzLmhlYWQ9dGhpcy5zdGF0ZXMuaGVhZCx0aGlzLnRhaWw9dGhpcy5zdGF0ZXMudGFpbCx0aGlzLmxlbj10aGlzLnN0YXRlcy5sZW4sdGhpcy5zdGF0ZXM9dGhpcy5zdGF0ZXMubmV4dCk6KHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGMoZCwwLDApLHRoaXMubGVuPTApLHRoaXN9LGwucHJvdG90eXBlLmxkZWxpbT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGVhZCx0PXRoaXMudGFpbCxuPXRoaXMubGVuO3JldHVybiB0aGlzLnJlc2V0KCkudWludDMyKG4pLG4mJih0aGlzLnRhaWwubmV4dD1lLm5leHQsdGhpcy50YWlsPXQsdGhpcy5sZW4rPW4pLHRoaXN9LGwucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmhlYWQubmV4dCx0PXRoaXMuY29uc3RydWN0b3IuYWxsb2ModGhpcy5sZW4pLG49MDtlOyllLmZuKGUudmFsLHQsbiksbis9ZS5sZW4sZT1lLm5leHQ7cmV0dXJuIHR9LGwuX2NvbmZpZ3VyZT1mdW5jdGlvbihlKXtyPWUsbC5jcmVhdGU9ZigpLHIuX2NvbmZpZ3VyZSgpfX0sezM1OjM1fV0sMzk6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9bzt2YXIgcj1lKDM4KTsoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIGk9ZSgzNSk7ZnVuY3Rpb24gbygpe3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBhKGUsdCxuKXtlLmxlbmd0aDw0MD9pLnV0Zjgud3JpdGUoZSx0LG4pOnQudXRmOFdyaXRlP3QudXRmOFdyaXRlKGUsbik6dC53cml0ZShlLG4pfW8uX2NvbmZpZ3VyZT1mdW5jdGlvbigpe28uYWxsb2M9aS5fQnVmZmVyX2FsbG9jVW5zYWZlLG8ud3JpdGVCeXRlc0J1ZmZlcj1pLkJ1ZmZlciYmaS5CdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSYmXCJzZXRcIj09PWkuQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZT9mdW5jdGlvbihlLHQsbil7dC5zZXQoZSxuKX06ZnVuY3Rpb24oZSx0LG4pe2lmKGUuY29weSllLmNvcHkodCxuLDAsZS5sZW5ndGgpO2Vsc2UgZm9yKHZhciByPTA7cjxlLmxlbmd0aDspdFtuKytdPWVbcisrXX19LG8ucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKGUpe2kuaXNTdHJpbmcoZSkmJihlPWkuX0J1ZmZlcl9mcm9tKGUsXCJiYXNlNjRcIikpO3ZhciB0PWUubGVuZ3RoPj4+MDtyZXR1cm4gdGhpcy51aW50MzIodCksdCYmdGhpcy5fcHVzaChvLndyaXRlQnl0ZXNCdWZmZXIsdCxlKSx0aGlzfSxvLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5CdWZmZXIuYnl0ZUxlbmd0aChlKTtyZXR1cm4gdGhpcy51aW50MzIodCksdCYmdGhpcy5fcHVzaChhLHQsZSksdGhpc30sby5fY29uZmlndXJlKCl9LHszNTozNSwzODozOH1dfSx7fSxbMTZdKX0oKX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKShtb2R1bGUpKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUud2VicGFja1BvbHlmaWxsfHwoZS5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LGUucGF0aHM9W10sZS5jaGlsZHJlbnx8KGUuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuaX19KSxlLndlYnBhY2tQb2x5ZmlsbD0xKSxlfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cjt2YXIgbj1udWxsO3RyeXtuPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDEzLDIsOTYsMCwxLDEyNyw5Niw0LDEyNywxMjcsMTI3LDEyNywxLDEyNywzLDcsNiwwLDEsMSwxLDEsMSw2LDYsMSwxMjcsMSw2NSwwLDExLDcsNTAsNiwzLDEwOSwxMTcsMTA4LDAsMSw1LDEwMCwxMDUsMTE4LDk1LDExNSwwLDIsNSwxMDAsMTA1LDExOCw5NSwxMTcsMCwzLDUsMTE0LDEwMSwxMDksOTUsMTE1LDAsNCw1LDExNCwxMDEsMTA5LDk1LDExNywwLDUsOCwxMDMsMTAxLDExNiw5NSwxMDQsMTA1LDEwMywxMDQsMCwwLDEwLDE5MSwxLDYsNCwwLDM1LDAsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTI2LDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyNywzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMjgsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTI5LDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEzMCwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMV0pKSx7fSkuZXhwb3J0c31jYXRjaChlKXt9ZnVuY3Rpb24gcihlLHQsbil7dGhpcy5sb3c9MHxlLHRoaXMuaGlnaD0wfHQsdGhpcy51bnNpZ25lZD0hIW59ZnVuY3Rpb24gaShlKXtyZXR1cm4hMD09PShlJiZlLl9faXNMb25nX18pfXIucHJvdG90eXBlLl9faXNMb25nX18sT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiX19pc0xvbmdfX1wiLHt2YWx1ZTohMH0pLHIuaXNMb25nPWk7dmFyIG89e30sYT17fTtmdW5jdGlvbiBzKGUsdCl7dmFyIG4scixpO3JldHVybiB0PyhpPTA8PShlPj4+PTApJiZlPDI1NikmJihyPWFbZV0pP3I6KG49ZChlLCgwfGUpPDA/LTE6MCwhMCksaSYmKGFbZV09biksbik6KGk9LTEyODw9KGV8PTApJiZlPDEyOCkmJihyPW9bZV0pP3I6KG49ZChlLGU8MD8tMTowLCExKSxpJiYob1tlXT1uKSxuKX1mdW5jdGlvbiBjKGUsdCl7aWYoaXNOYU4oZSkpcmV0dXJuIHQ/RTp2O2lmKHQpe2lmKGU8MClyZXR1cm4gRTtpZihlPj1nKXJldHVybiBUfWVsc2V7aWYoZTw9LW0pcmV0dXJuIEk7aWYoZSsxPj1tKXJldHVybiBSfXJldHVybiBlPDA/YygtZSx0KS5uZWcoKTpkKGUlcHwwLGUvcHwwLHQpfWZ1bmN0aW9uIGQoZSx0LG4pe3JldHVybiBuZXcgcihlLHQsbil9ci5mcm9tSW50PXMsci5mcm9tTnVtYmVyPWMsci5mcm9tQml0cz1kO3ZhciB1PU1hdGgucG93O2Z1bmN0aW9uIGwoZSx0LG4pe2lmKDA9PT1lLmxlbmd0aCl0aHJvdyBFcnJvcihcImVtcHR5IHN0cmluZ1wiKTtpZihcIk5hTlwiPT09ZXx8XCJJbmZpbml0eVwiPT09ZXx8XCIrSW5maW5pdHlcIj09PWV8fFwiLUluZmluaXR5XCI9PT1lKXJldHVybiB2O2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0PyhuPXQsdD0hMSk6dD0hIXQsKG49bnx8MTApPDJ8fDM2PG4pdGhyb3cgUmFuZ2VFcnJvcihcInJhZGl4XCIpO3ZhciByO2lmKChyPWUuaW5kZXhPZihcIi1cIikpPjApdGhyb3cgRXJyb3IoXCJpbnRlcmlvciBoeXBoZW5cIik7aWYoMD09PXIpcmV0dXJuIGwoZS5zdWJzdHJpbmcoMSksdCxuKS5uZWcoKTtmb3IodmFyIGk9Yyh1KG4sOCkpLG89dixhPTA7YTxlLmxlbmd0aDthKz04KXt2YXIgcz1NYXRoLm1pbig4LGUubGVuZ3RoLWEpLGQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoYSxhK3MpLG4pO2lmKHM8OCl7dmFyIGY9Yyh1KG4scykpO289by5tdWwoZikuYWRkKGMoZCkpfWVsc2Ugbz0obz1vLm11bChpKSkuYWRkKGMoZCkpfXJldHVybiBvLnVuc2lnbmVkPXQsb31mdW5jdGlvbiBmKGUsdCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/YyhlLHQpOlwic3RyaW5nXCI9PXR5cGVvZiBlP2woZSx0KTpkKGUubG93LGUuaGlnaCxcImJvb2xlYW5cIj09dHlwZW9mIHQ/dDplLnVuc2lnbmVkKX1yLmZyb21TdHJpbmc9bCxyLmZyb21WYWx1ZT1mO3ZhciBwPTQyOTQ5NjcyOTYsZz1wKnAsbT1nLzIsaD1zKDE8PDI0KSx2PXMoMCk7ci5aRVJPPXY7dmFyIEU9cygwLCEwKTtyLlVaRVJPPUU7dmFyIFM9cygxKTtyLk9ORT1TO3ZhciBfPXMoMSwhMCk7ci5VT05FPV87dmFyIHk9cygtMSk7ci5ORUdfT05FPXk7dmFyIFI9ZCgtMSwyMTQ3NDgzNjQ3LCExKTtyLk1BWF9WQUxVRT1SO3ZhciBUPWQoLTEsLTEsITApO3IuTUFYX1VOU0lHTkVEX1ZBTFVFPVQ7dmFyIEk9ZCgwLC0yMTQ3NDgzNjQ4LCExKTtyLk1JTl9WQUxVRT1JO3ZhciBiPXIucHJvdG90eXBlO2IudG9JbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LGIudG9OdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD8odGhpcy5oaWdoPj4+MCkqcCsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqcCsodGhpcy5sb3c+Pj4wKX0sYi50b1N0cmluZz1mdW5jdGlvbihlKXtpZigoZT1lfHwxMCk8Mnx8MzY8ZSl0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7aWYodGhpcy5pc1plcm8oKSlyZXR1cm5cIjBcIjtpZih0aGlzLmlzTmVnYXRpdmUoKSl7aWYodGhpcy5lcShJKSl7dmFyIHQ9YyhlKSxuPXRoaXMuZGl2KHQpLHI9bi5tdWwodCkuc3ViKHRoaXMpO3JldHVybiBuLnRvU3RyaW5nKGUpK3IudG9JbnQoKS50b1N0cmluZyhlKX1yZXR1cm5cIi1cIit0aGlzLm5lZygpLnRvU3RyaW5nKGUpfWZvcih2YXIgaT1jKHUoZSw2KSx0aGlzLnVuc2lnbmVkKSxvPXRoaXMsYT1cIlwiOzspe3ZhciBzPW8uZGl2KGkpLGQ9KG8uc3ViKHMubXVsKGkpKS50b0ludCgpPj4+MCkudG9TdHJpbmcoZSk7aWYoKG89cykuaXNaZXJvKCkpcmV0dXJuIGQrYTtmb3IoO2QubGVuZ3RoPDY7KWQ9XCIwXCIrZDthPVwiXCIrZCthfX0sYi5nZXRIaWdoQml0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2h9LGIuZ2V0SGlnaEJpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2g+Pj4wfSxiLmdldExvd0JpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LGIuZ2V0TG93Qml0c1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0sYi5nZXROdW1CaXRzQWJzPWZ1bmN0aW9uKCl7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZXEoSSk/NjQ6dGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7Zm9yKHZhciBlPTAhPXRoaXMuaGlnaD90aGlzLmhpZ2g6dGhpcy5sb3csdD0zMTt0PjAmJjA9PShlJjE8PHQpO3QtLSk7cmV0dXJuIDAhPXRoaXMuaGlnaD90KzMzOnQrMX0sYi5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuaGlnaCYmMD09PXRoaXMubG93fSxiLmVxej1iLmlzWmVybyxiLmlzTmVnYXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51bnNpZ25lZCYmdGhpcy5oaWdoPDB9LGIuaXNQb3NpdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkfHx0aGlzLmhpZ2g+PTB9LGIuaXNPZGQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5sb3cpfSxiLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0oMSZ0aGlzLmxvdyl9LGIuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1mKGUpKSwodGhpcy51bnNpZ25lZD09PWUudW5zaWduZWR8fHRoaXMuaGlnaD4+PjMxIT0xfHxlLmhpZ2g+Pj4zMSE9MSkmJih0aGlzLmhpZ2g9PT1lLmhpZ2gmJnRoaXMubG93PT09ZS5sb3cpfSxiLmVxPWIuZXF1YWxzLGIubm90RXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmVxKGUpfSxiLm5lcT1iLm5vdEVxdWFscyxiLm5lPWIubm90RXF1YWxzLGIubGVzc1RoYW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcChlKTwwfSxiLmx0PWIubGVzc1RoYW4sYi5sZXNzVGhhbk9yRXF1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcChlKTw9MH0sYi5sdGU9Yi5sZXNzVGhhbk9yRXF1YWwsYi5sZT1iLmxlc3NUaGFuT3JFcXVhbCxiLmdyZWF0ZXJUaGFuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXAoZSk+MH0sYi5ndD1iLmdyZWF0ZXJUaGFuLGIuZ3JlYXRlclRoYW5PckVxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXAoZSk+PTB9LGIuZ3RlPWIuZ3JlYXRlclRoYW5PckVxdWFsLGIuZ2U9Yi5ncmVhdGVyVGhhbk9yRXF1YWwsYi5jb21wYXJlPWZ1bmN0aW9uKGUpe2lmKGkoZSl8fChlPWYoZSkpLHRoaXMuZXEoZSkpcmV0dXJuIDA7dmFyIHQ9dGhpcy5pc05lZ2F0aXZlKCksbj1lLmlzTmVnYXRpdmUoKTtyZXR1cm4gdCYmIW4/LTE6IXQmJm4/MTp0aGlzLnVuc2lnbmVkP2UuaGlnaD4+PjA+dGhpcy5oaWdoPj4+MHx8ZS5oaWdoPT09dGhpcy5oaWdoJiZlLmxvdz4+PjA+dGhpcy5sb3c+Pj4wPy0xOjE6dGhpcy5zdWIoZSkuaXNOZWdhdGl2ZSgpPy0xOjF9LGIuY29tcD1iLmNvbXBhcmUsYi5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51bnNpZ25lZCYmdGhpcy5lcShJKT9JOnRoaXMubm90KCkuYWRkKFMpfSxiLm5lZz1iLm5lZ2F0ZSxiLmFkZD1mdW5jdGlvbihlKXtpKGUpfHwoZT1mKGUpKTt2YXIgdD10aGlzLmhpZ2g+Pj4xNixuPTY1NTM1JnRoaXMuaGlnaCxyPXRoaXMubG93Pj4+MTYsbz02NTUzNSZ0aGlzLmxvdyxhPWUuaGlnaD4+PjE2LHM9NjU1MzUmZS5oaWdoLGM9ZS5sb3c+Pj4xNix1PTAsbD0wLHA9MCxnPTA7cmV0dXJuIHArPShnKz1vKyg2NTUzNSZlLmxvdykpPj4+MTYsbCs9KHArPXIrYyk+Pj4xNix1Kz0obCs9bitzKT4+PjE2LHUrPXQrYSxkKChwJj02NTUzNSk8PDE2fChnJj02NTUzNSksKHUmPTY1NTM1KTw8MTZ8KGwmPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0sYi5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9ZihlKSksdGhpcy5hZGQoZS5uZWcoKSl9LGIuc3ViPWIuc3VidHJhY3QsYi5tdWx0aXBseT1mdW5jdGlvbihlKXtpZih0aGlzLmlzWmVybygpKXJldHVybiB2O2lmKGkoZSl8fChlPWYoZSkpLG4pcmV0dXJuIGQobi5tdWwodGhpcy5sb3csdGhpcy5oaWdoLGUubG93LGUuaGlnaCksbi5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpO2lmKGUuaXNaZXJvKCkpcmV0dXJuIHY7aWYodGhpcy5lcShJKSlyZXR1cm4gZS5pc09kZCgpP0k6djtpZihlLmVxKEkpKXJldHVybiB0aGlzLmlzT2RkKCk/STp2O2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiBlLmlzTmVnYXRpdmUoKT90aGlzLm5lZygpLm11bChlLm5lZygpKTp0aGlzLm5lZygpLm11bChlKS5uZWcoKTtpZihlLmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5tdWwoZS5uZWcoKSkubmVnKCk7aWYodGhpcy5sdChoKSYmZS5sdChoKSlyZXR1cm4gYyh0aGlzLnRvTnVtYmVyKCkqZS50b051bWJlcigpLHRoaXMudW5zaWduZWQpO3ZhciB0PXRoaXMuaGlnaD4+PjE2LHI9NjU1MzUmdGhpcy5oaWdoLG89dGhpcy5sb3c+Pj4xNixhPTY1NTM1JnRoaXMubG93LHM9ZS5oaWdoPj4+MTYsdT02NTUzNSZlLmhpZ2gsbD1lLmxvdz4+PjE2LHA9NjU1MzUmZS5sb3csZz0wLG09MCxFPTAsUz0wO3JldHVybiBFKz0oUys9YSpwKT4+PjE2LG0rPShFKz1vKnApPj4+MTYsRSY9NjU1MzUsbSs9KEUrPWEqbCk+Pj4xNixnKz0obSs9cipwKT4+PjE2LG0mPTY1NTM1LGcrPShtKz1vKmwpPj4+MTYsbSY9NjU1MzUsZys9KG0rPWEqdSk+Pj4xNixnKz10KnArcipsK28qdSthKnMsZCgoRSY9NjU1MzUpPDwxNnwoUyY9NjU1MzUpLChnJj02NTUzNSk8PDE2fChtJj02NTUzNSksdGhpcy51bnNpZ25lZCl9LGIubXVsPWIubXVsdGlwbHksYi5kaXZpZGU9ZnVuY3Rpb24oZSl7aWYoaShlKXx8KGU9ZihlKSksZS5pc1plcm8oKSl0aHJvdyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7dmFyIHQscixvO2lmKG4pcmV0dXJuIHRoaXMudW5zaWduZWR8fC0yMTQ3NDgzNjQ4IT09dGhpcy5oaWdofHwtMSE9PWUubG93fHwtMSE9PWUuaGlnaD9kKCh0aGlzLnVuc2lnbmVkP24uZGl2X3U6bi5kaXZfcykodGhpcy5sb3csdGhpcy5oaWdoLGUubG93LGUuaGlnaCksbi5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpOnRoaXM7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gdGhpcy51bnNpZ25lZD9FOnY7aWYodGhpcy51bnNpZ25lZCl7aWYoZS51bnNpZ25lZHx8KGU9ZS50b1Vuc2lnbmVkKCkpLGUuZ3QodGhpcykpcmV0dXJuIEU7aWYoZS5ndCh0aGlzLnNocnUoMSkpKXJldHVybiBfO289RX1lbHNle2lmKHRoaXMuZXEoSSkpcmV0dXJuIGUuZXEoUyl8fGUuZXEoeSk/STplLmVxKEkpP1M6KHQ9dGhpcy5zaHIoMSkuZGl2KGUpLnNobCgxKSkuZXEodik/ZS5pc05lZ2F0aXZlKCk/Uzp5OihyPXRoaXMuc3ViKGUubXVsKHQpKSxvPXQuYWRkKHIuZGl2KGUpKSk7aWYoZS5lcShJKSlyZXR1cm4gdGhpcy51bnNpZ25lZD9FOnY7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIGUuaXNOZWdhdGl2ZSgpP3RoaXMubmVnKCkuZGl2KGUubmVnKCkpOnRoaXMubmVnKCkuZGl2KGUpLm5lZygpO2lmKGUuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmRpdihlLm5lZygpKS5uZWcoKTtvPXZ9Zm9yKHI9dGhpcztyLmd0ZShlKTspe3Q9TWF0aC5tYXgoMSxNYXRoLmZsb29yKHIudG9OdW1iZXIoKS9lLnRvTnVtYmVyKCkpKTtmb3IodmFyIGE9TWF0aC5jZWlsKE1hdGgubG9nKHQpL01hdGguTE4yKSxzPWE8PTQ4PzE6dSgyLGEtNDgpLGw9Yyh0KSxwPWwubXVsKGUpO3AuaXNOZWdhdGl2ZSgpfHxwLmd0KHIpOylwPShsPWModC09cyx0aGlzLnVuc2lnbmVkKSkubXVsKGUpO2wuaXNaZXJvKCkmJihsPVMpLG89by5hZGQobCkscj1yLnN1YihwKX1yZXR1cm4gb30sYi5kaXY9Yi5kaXZpZGUsYi5tb2R1bG89ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fChlPWYoZSkpLG4/ZCgodGhpcy51bnNpZ25lZD9uLnJlbV91Om4ucmVtX3MpKHRoaXMubG93LHRoaXMuaGlnaCxlLmxvdyxlLmhpZ2gpLG4uZ2V0X2hpZ2goKSx0aGlzLnVuc2lnbmVkKTp0aGlzLnN1Yih0aGlzLmRpdihlKS5tdWwoZSkpfSxiLm1vZD1iLm1vZHVsbyxiLnJlbT1iLm1vZHVsbyxiLm5vdD1mdW5jdGlvbigpe3JldHVybiBkKH50aGlzLmxvdyx+dGhpcy5oaWdoLHRoaXMudW5zaWduZWQpfSxiLmFuZD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8KGU9ZihlKSksZCh0aGlzLmxvdyZlLmxvdyx0aGlzLmhpZ2gmZS5oaWdoLHRoaXMudW5zaWduZWQpfSxiLm9yPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1mKGUpKSxkKHRoaXMubG93fGUubG93LHRoaXMuaGlnaHxlLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIueG9yPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHwoZT1mKGUpKSxkKHRoaXMubG93XmUubG93LHRoaXMuaGlnaF5lLmhpZ2gsdGhpcy51bnNpZ25lZCl9LGIuc2hpZnRMZWZ0PWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpJiYoZT1lLnRvSW50KCkpLDA9PShlJj02Myk/dGhpczplPDMyP2QodGhpcy5sb3c8PGUsdGhpcy5oaWdoPDxlfHRoaXMubG93Pj4+MzItZSx0aGlzLnVuc2lnbmVkKTpkKDAsdGhpcy5sb3c8PGUtMzIsdGhpcy51bnNpZ25lZCl9LGIuc2hsPWIuc2hpZnRMZWZ0LGIuc2hpZnRSaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKSYmKGU9ZS50b0ludCgpKSwwPT0oZSY9NjMpP3RoaXM6ZTwzMj9kKHRoaXMubG93Pj4+ZXx0aGlzLmhpZ2g8PDMyLWUsdGhpcy5oaWdoPj5lLHRoaXMudW5zaWduZWQpOmQodGhpcy5oaWdoPj5lLTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMudW5zaWduZWQpfSxiLnNocj1iLnNoaWZ0UmlnaHQsYi5zaGlmdFJpZ2h0VW5zaWduZWQ9ZnVuY3Rpb24oZSl7aWYoaShlKSYmKGU9ZS50b0ludCgpKSwwPT09KGUmPTYzKSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLmhpZ2g7cmV0dXJuIGU8MzI/ZCh0aGlzLmxvdz4+PmV8dDw8MzItZSx0Pj4+ZSx0aGlzLnVuc2lnbmVkKTpkKDMyPT09ZT90OnQ+Pj5lLTMyLDAsdGhpcy51bnNpZ25lZCl9LGIuc2hydT1iLnNoaWZ0UmlnaHRVbnNpZ25lZCxiLnNocl91PWIuc2hpZnRSaWdodFVuc2lnbmVkLGIudG9TaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD9kKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30sYi50b1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpczpkKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LGIudG9CeXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLnRvQnl0ZXNMRSgpOnRoaXMudG9CeXRlc0JFKCl9LGIudG9CeXRlc0xFPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oaWdoLHQ9dGhpcy5sb3c7cmV0dXJuWzI1NSZ0LHQ+Pj44JjI1NSx0Pj4+MTYmMjU1LHQ+Pj4yNCwyNTUmZSxlPj4+OCYyNTUsZT4+PjE2JjI1NSxlPj4+MjRdfSxiLnRvQnl0ZXNCRT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGlnaCx0PXRoaXMubG93O3JldHVybltlPj4+MjQsZT4+PjE2JjI1NSxlPj4+OCYyNTUsMjU1JmUsdD4+PjI0LHQ+Pj4xNiYyNTUsdD4+PjgmMjU1LDI1NSZ0XX0sci5mcm9tQnl0ZXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuP3IuZnJvbUJ5dGVzTEUoZSx0KTpyLmZyb21CeXRlc0JFKGUsdCl9LHIuZnJvbUJ5dGVzTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHIoZVswXXxlWzFdPDw4fGVbMl08PDE2fGVbM108PDI0LGVbNF18ZVs1XTw8OHxlWzZdPDwxNnxlWzddPDwyNCx0KX0sci5mcm9tQnl0ZXNCRT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlWzRdPDwyNHxlWzVdPDwxNnxlWzZdPDw4fGVbN10sZVswXTw8MjR8ZVsxXTw8MTZ8ZVsyXTw8OHxlWzNdLHQpfX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcIlBlZXJQdWJsaXNoU3RhdHVzXCI6NDA4LFwiSm9pbkNoYW5uZWxUaW1lb3V0XCI6NDA3LFwiT25VcGRhdGVTdHJlYW1cIjozNTYsXCJPblJlbW92ZVN0cmVhbVwiOjM1NSxcIk9uQWRkVmlkZW9TdHJlYW1cIjozNTMsXCJPbkFkZEF1ZGlvU3RyZWFtXCI6MzUyLFwiRmlyc3RBdWRpb0RlY29kZVwiOjM1MSxcIkZpcnN0VmlkZW9EZWNvZGVcIjozNTAsXCJGaXJzdEF1ZGlvUmVjZWl2ZWRcIjozNDksXCJGaXJzdFZpZGVvUmVjZWl2ZWRcIjozNDgsXCJSZXFVc2VyQWNjb3VudFwiOjE5NixcIkFwaUludm9rZVwiOjQxLFwiUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiOjM2LFwiUmVxdWVzdFByb3h5QXBwQ2VudGVyXCI6MzUsXCJWaWRlb1NlbmRpbmdTdG9wcGVkXCI6MzQsXCJBdWRpb1NlbmRpbmdTdG9wcGVkXCI6MzMsXCJTdHJlYW1Td2l0Y2hcIjozMixcIkZpcnN0RnJhbWVcIjozMSxcIlB1Ymxpc2hcIjozMCxcIlN1YnNjcmliZVwiOjI5LFwiSm9pbkdhdGV3YXlcIjoyOCxcIkpvaW5DaG9vc2VTZXJ2ZXJcIjoyNyxcIlNlc3Npb25cIjoyNixcIkFQV29ya2VyRXZlbnRcIjoxNjAsXCJXb3JrZXJFdmVudFwiOjE1NixcIkpvaW5XZWJQcm94eUFQXCI6NzAwLFwiV2ViU29ja2V0UXVpdFwiOjY3MX0nKX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcIm5lc3RlZFwiOntcInByb3RvYnVmXCI6e1wibmVzdGVkXCI6e1wiU2Vzc2lvblwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjl9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEwfSxcInZlcnNpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwiYnJvd3NlclwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJhcHBpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJtb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE0fSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNX0sXCJwcm9jZXNzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE2fSxcImJ1aWxkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE3fSxcImlwdjZcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTh9LFwic291cmNlSG9zdFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxOX0sXCJzb3VyY2VQYXRoXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjIwfSxcImNvbGxlY3Rvckhvc3RcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MjF9LFwiY29sbGVjdG9yTmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyMn19fSxcIkpvaW5DaG9vc2VTZXJ2ZXJcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJjaG9vc2VTZXJ2ZXJBZGRyXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImNob29zZVNlcnZlckFkZHJMaXN0XCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE0fSxcImNob29zZVNlcnZlcklwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE1fX19LFwiSm9pbkdhdGV3YXlcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJnYXRld2F5QWRkclwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXZlbnRFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxM30sXCJmaXJzdFN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjE0fX19LFwiU3Vic2NyaWJlXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwibG9jYWxTZHBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwicmVtb3RlU2RwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTR9LFwiZXZlbnRFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxNX0sXCJ2aWRlb1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MTZ9LFwiYXVkaW9cIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjE3fSxcInN1YnNjcmliZVJlcXVlc3RpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE4fSxcInAycGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTl9fX0sXCJQdWJsaXNoXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwibG9jYWxTZHBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwicmVtb3RlU2RwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTR9LFwiZXZlbnRFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxNX0sXCJ2aWRlb05hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTZ9LFwiYXVkaW9OYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE3fSxcInNjcmVlbk5hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTh9LFwidmlkZW9cIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjE5fSxcImF1ZGlvXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjoyMH0sXCJwdWJsaXNoUmVxdWVzdGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MjF9LFwicDJwaWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoyMn0sXCJzY3JlZW5zaGFyZVwiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6MjN9fX0sXCJGaXJzdEZyYW1lXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwiZXh0ZW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJ3aWR0aFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjEzfSxcImhlaWdodFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE0fX19LFwiU3RyZWFtU3dpdGNoXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwiaXNEdWFsXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjoxMX19fSxcIkF1ZGlvU2VuZGluZ1N0b3BwZWRcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcInJlYXNvblwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9fX0sXCJWaWRlb1NlbmRpbmdTdG9wcGVkXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJyZWFzb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfX19LFwiUmVxdWVzdFByb3h5QXBwQ2VudGVyXCI6e1wiZmllbGRzXCI6e1wic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjF9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjozfSxcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OX0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwiQVBBZGRyXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcIndvcmtlck1hbmFnZXJMaXN0XCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJldmVudEVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE0fSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNX0sXCJyZXNwb25zZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxNn19fSxcIlJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXJcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImV2ZW50VHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJ3b3JrZXJNYW5hZ2VyQWRkclwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwiZXZlbnRFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxM30sXCJleHRlbmRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTR9LFwicmVzcG9uc2VcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTV9fX0sXCJBcGlJbnZva2VcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcImFwaU5hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6OX0sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwib3B0aW9uc1wiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJleGVjRWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTJ9LFwiZXhlY1N0YXRlc1wiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJleGVjUmVzdWx0XCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE0fSxcImludm9rZUlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTV9fX0sXCJSZXFVc2VyQWNjb3VudFwiOntcImZpZWxkc1wiOntcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcImlwXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjV9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjZXNzXCI6e1widHlwZVwiOlwiYm9vbFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwiZXZlbnRUeXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjl9LFwic2VydmVyQWRkcmVzc1wiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMH0sXCJzdHJpbmdVaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTF9LFwiZXJyb3JDb2RlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjEyfSxcImV4dGVuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM319fSxcIkZpcnN0VmlkZW9SZWNlaXZlZFwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjJ9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6M30sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NH0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJzdWJzY3JpYmVSZXF1ZXN0aWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjo5fSxcInAycGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTB9LFwic3Vic2NyaWJlRWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTF9fX0sXCJGaXJzdEF1ZGlvUmVjZWl2ZWRcIjp7XCJmaWVsZHNcIjp7XCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjN9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo3fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjh9LFwic3Vic2NyaWJlUmVxdWVzdGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6OX0sXCJwMnBpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjEwfSxcInN1YnNjcmliZUVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjExfX19LFwiRmlyc3RWaWRlb0RlY29kZVwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJ2aWRlb3dpZHRoXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6OX0sXCJ2aWRlb2hlaWdodFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjEwfSxcInN1YnNjcmliZVJlcXVlc3RpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjExfSxcInAycGlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTJ9LFwic3Vic2NyaWJlRWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MTN9fX0sXCJGaXJzdEF1ZGlvRGVjb2RlXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwidWlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJwZWVyXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInN1YnNjcmliZVJlcXVlc3RpZFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjl9LFwicDJwaWRcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMH0sXCJzdWJzY3JpYmVFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxMX19fSxcIk9uQWRkQXVkaW9TdHJlYW1cIjp7XCJmaWVsZHNcIjp7XCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjN9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo3fX19LFwiT25BZGRWaWRlb1N0cmVhbVwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9fX0sXCJPblJlbW92ZVN0cmVhbVwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9fX0sXCJPblVwZGF0ZVN0cmVhbVwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjd9LFwiYXVkaW9cIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjh9LFwidmlkZW9cIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjl9fX0sXCJKb2luQ2hhbm5lbFRpbWVvdXRcIjp7XCJmaWVsZHNcIjp7XCJsdHNcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjoxfSxcInNpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjN9LFwiY2lkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo1fSxcImVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwidGltZW91dFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjd9fX0sXCJQZWVyUHVibGlzaFN0YXR1c1wiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjV9LFwicGVlclwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6N30sXCJwZWVyUHVibGlzaER1cmF0aW9uXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJqb2luQ2hhbm5lbFN1Y2Nlc3NFbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcInN1YnNjcmliZUVsYXBzZVwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjEwfSxcImF1ZGlvdGFnXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTF9LFwidmlkZW90YWdcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMn0sXCJzY3JlZW5zaGFyZXRhZ1wiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjEzfSxcImZpcnN0dGltZXRhZ1wiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE0fX19LFwiV2ViU29ja2V0UXVpdFwiOntcImZpZWxkc1wiOntcImx0c1wiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjF9LFwic2lkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjJ9LFwiY25hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6M30sXCJjaWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo0fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjV9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6Nn0sXCJzdWNjXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6N30sXCJlcnJvckNvZGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6OH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo5fX19LFwiTWVzc2FnZVwiOntcImZpZWxkc1wiOntcImlkXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJtc2dcIjp7XCJ0eXBlXCI6XCJieXRlc1wiLFwiaWRcIjoyfX19LFwiUHJvdG9SYXdzXCI6e1wiZmllbGRzXCI6e1wic2VuZFRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJwYXlsb2Fkc1wiOntcInJ1bGVcIjpcInJlcGVhdGVkXCIsXCJ0eXBlXCI6XCJNZXNzYWdlXCIsXCJpZFwiOjJ9LFwidmlkXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6M319fSxcIkFQV29ya2VyRXZlbnRcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImVjXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTB9LFwic2NcIjp7XCJ0eXBlXCI6XCJpbnQzMlwiLFwiaWRcIjoxMX0sXCJzZXJ2ZXJJcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn0sXCJmaXJzdFN1Y2Nlc3NcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjEzfSxcInJlc3BvbnNlVGltZVwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE0fSxcInNlcnZpY2VOYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE1fSxcInJlc3BvbnNlRGV0YWlsXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjE2fX19LFwiV29ya2VyRXZlbnRcIjp7XCJmaWVsZHNcIjp7XCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MX0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjN9LFwibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6NH0sXCJpcFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjo1fSxcInVpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjZ9LFwic3VjY2Vzc1wiOntcInR5cGVcIjpcImJvb2xcIixcImlkXCI6N30sXCJlbGFwc2VcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo4fSxcInBlZXJcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo5fSxcImNvbW1hbmRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwiYWN0aW9uVHlwZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMX0sXCJ1cmxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTJ9LFwicGF5bG9hZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxM30sXCJzZXJ2ZXJDb2RlXCI6e1widHlwZVwiOlwiaW50MzJcIixcImlkXCI6MTR9LFwiY29kZVwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE1fSxcInRyYWNlSWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTZ9LFwid29ya2VyVHlwZVwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE3fSxcInJlc3BvbnNlVGltZVwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjE4fSxcInJlcXVlc3RJZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjE5fSxcInBhY2tJbmRleFwiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjIwfSxcInJlcXVlc3RCeVVzZXJcIjp7XCJ0eXBlXCI6XCJib29sXCIsXCJpZFwiOjIxfSxcInRpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoyMn19fSxcIkpvaW5XZWJQcm94eUFQXCI6e1wiZmllbGRzXCI6e1wibHRzXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6MX0sXCJzaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6Mn0sXCJjbmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjozfSxcImNpZFwiOntcInR5cGVcIjpcImludDY0XCIsXCJpZFwiOjR9LFwiaXBcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6NX0sXCJ1aWRcIjp7XCJ0eXBlXCI6XCJpbnQ2NFwiLFwiaWRcIjo2fSxcInN1Y2Vzc1wiOntcInR5cGVcIjpcImludDMyXCIsXCJpZFwiOjd9LFwiZWxhcHNlXCI6e1widHlwZVwiOlwiaW50NjRcIixcImlkXCI6OH0sXCJldmVudFR5cGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6OX0sXCJhcFNlcnZlckFkZHJcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImlkXCI6MTB9LFwidHVyblNlcnZlckFkZHJMaXN0XCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJpZFwiOjExfSxcImVycm9yQ29kZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiaWRcIjoxMn19fX19fX0nKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PU9iamVjdC5wcm90b3R5cGUsbj10Lmhhc093blByb3BlcnR5LHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxpPXIuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLG89ci5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLGE9ci50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gcyhlLHQsbixyKXt2YXIgaT10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIHU/dDp1LG89T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksYT1uZXcgUihyfHxbXSk7cmV0dXJuIG8uX2ludm9rZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9XCJzdXNwZW5kZWRTdGFydFwiO3JldHVybiBmdW5jdGlvbihpLG8pe2lmKFwiZXhlY3V0aW5nXCI9PT1yKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYoXCJjb21wbGV0ZWRcIj09PXIpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgbztyZXR1cm4gSSgpfWZvcihuLm1ldGhvZD1pLG4uYXJnPW87Oyl7dmFyIGE9bi5kZWxlZ2F0ZTtpZihhKXt2YXIgcz1TKGEsbik7aWYocyl7aWYocz09PWQpY29udGludWU7cmV0dXJuIHN9fWlmKFwibmV4dFwiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1uLm1ldGhvZCl7aWYoXCJzdXNwZW5kZWRTdGFydFwiPT09cil0aHJvdyByPVwiY29tcGxldGVkXCIsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZVwicmV0dXJuXCI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoXCJyZXR1cm5cIixuLmFyZyk7cj1cImV4ZWN1dGluZ1wiO3ZhciB1PWMoZSx0LG4pO2lmKFwibm9ybWFsXCI9PT11LnR5cGUpe2lmKHI9bi5kb25lP1wiY29tcGxldGVkXCI6XCJzdXNwZW5kZWRZaWVsZFwiLHUuYXJnPT09ZCljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpuLmRvbmV9fVwidGhyb3dcIj09PXUudHlwZSYmKHI9XCJjb21wbGV0ZWRcIixuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9dS5hcmcpfX19KGUsbixhKSxvfWZ1bmN0aW9uIGMoZSx0LG4pe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzplfX19ZS53cmFwPXM7dmFyIGQ9e307ZnVuY3Rpb24gdSgpe31mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIGYoKXt9dmFyIHA9e307cFtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsbT1nJiZnKGcoVChbXSkpKTttJiZtIT09dCYmbi5jYWxsKG0saSkmJihwPW0pO3ZhciBoPWYucHJvdG90eXBlPXUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocCk7ZnVuY3Rpb24gdihlKXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfX0pKX1mdW5jdGlvbiBFKGUsdCl7dmFyIHI7dGhpcy5faW52b2tlPWZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24ocixhKXshZnVuY3Rpb24gcihpLG8sYSxzKXt2YXIgZD1jKGVbaV0sZSxvKTtpZihcInRocm93XCIhPT1kLnR5cGUpe3ZhciB1PWQuYXJnLGw9dS52YWx1ZTtyZXR1cm4gbCYmXCJvYmplY3RcIj09dHlwZW9mIGwmJm4uY2FsbChsLFwiX19hd2FpdFwiKT90LnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtyKFwibmV4dFwiLGUsYSxzKX0pLChmdW5jdGlvbihlKXtyKFwidGhyb3dcIixlLGEscyl9KSk6dC5yZXNvbHZlKGwpLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxhKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKFwidGhyb3dcIixlLGEscyl9KSl9cyhkLmFyZyl9KGksbyxyLGEpfSkpfXJldHVybiByPXI/ci50aGVuKGEsYSk6YSgpfX1mdW5jdGlvbiBTKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYodm9pZCAwPT09bil7aWYodC5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXQubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPVwicmV0dXJuXCIsdC5hcmc9dm9pZCAwLFMoZSx0KSxcInRocm93XCI9PT10Lm1ldGhvZCkpcmV0dXJuIGQ7dC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpfXJldHVybiBkfXZhciByPWMobixlLml0ZXJhdG9yLHQuYXJnKTtpZihcInRocm93XCI9PT1yLnR5cGUpcmV0dXJuIHQubWV0aG9kPVwidGhyb3dcIix0LmFyZz1yLmFyZyx0LmRlbGVnYXRlPW51bGwsZDt2YXIgaT1yLmFyZztyZXR1cm4gaT9pLmRvbmU/KHRbZS5yZXN1bHROYW1lXT1pLnZhbHVlLHQubmV4dD1lLm5leHRMb2MsXCJyZXR1cm5cIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9XCJuZXh0XCIsdC5hcmc9dm9pZCAwKSx0LmRlbGVnYXRlPW51bGwsZCk6aToodC5tZXRob2Q9XCJ0aHJvd1wiLHQuYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSx0LmRlbGVnYXRlPW51bGwsZCl9ZnVuY3Rpb24gXyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiB5KGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPVwibm9ybWFsXCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIFIoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sZS5mb3JFYWNoKF8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gVChlKXtpZihlKXt2YXIgdD1lW2ldO2lmKHQpcmV0dXJuIHQuY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIHI9LTEsbz1mdW5jdGlvbiB0KCl7Zm9yKDsrK3I8ZS5sZW5ndGg7KWlmKG4uY2FsbChlLHIpKXJldHVybiB0LnZhbHVlPWVbcl0sdC5kb25lPSExLHQ7cmV0dXJuIHQudmFsdWU9dm9pZCAwLHQuZG9uZT0hMCx0fTtyZXR1cm4gby5uZXh0PW99fXJldHVybntuZXh0Okl9fWZ1bmN0aW9uIEkoKXtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fXJldHVybiBsLnByb3RvdHlwZT1oLmNvbnN0cnVjdG9yPWYsZi5jb25zdHJ1Y3Rvcj1sLGZbYV09bC5kaXNwbGF5TmFtZT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIsZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PWx8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sZS5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsZik6KGUuX19wcm90b19fPWYsYSBpbiBlfHwoZVthXT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGgpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LHYoRS5wcm90b3R5cGUpLEUucHJvdG90eXBlW29dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj1FLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsaSxvKXt2b2lkIDA9PT1vJiYobz1Qcm9taXNlKTt2YXIgYT1uZXcgRShzKHQsbixyLGkpLG8pO3JldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LHYoaCksaFthXT1cIkdlbmVyYXRvclwiLGhbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9LGUua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobik7cmV0dXJuIHQucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO3QubGVuZ3RoOyl7dmFyIHI9dC5wb3AoKTtpZihyIGluIGUpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSxlLnZhbHVlcz1ULFIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXZvaWQgMCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMuYXJnPXZvaWQgMCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaCh5KSwhZSlmb3IodmFyIHQgaW4gdGhpcylcInRcIj09PXQuY2hhckF0KDApJiZuLmNhbGwodGhpcyx0KSYmIWlzTmFOKCt0LnNsaWNlKDEpKSYmKHRoaXNbdF09dm9pZCAwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHQ9dGhpcztmdW5jdGlvbiByKG4scil7cmV0dXJuIGEudHlwZT1cInRocm93XCIsYS5hcmc9ZSx0Lm5leHQ9bixyJiYodC5tZXRob2Q9XCJuZXh0XCIsdC5hcmc9dm9pZCAwKSwhIXJ9Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIG89dGhpcy50cnlFbnRyaWVzW2ldLGE9by5jb21wbGV0aW9uO2lmKFwicm9vdFwiPT09by50cnlMb2MpcmV0dXJuIHIoXCJlbmRcIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIHM9bi5jYWxsKG8sXCJjYXRjaExvY1wiKSxjPW4uY2FsbChvLFwiZmluYWxseUxvY1wiKTtpZihzJiZjKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gcihvLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiByKG8uZmluYWxseUxvYyl9ZWxzZSBpZihzKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gcihvLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFjKXRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIHIoby5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW3JdO2lmKGkudHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChpLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PGkuZmluYWxseUxvYyl7dmFyIG89aTticmVha319byYmKFwiYnJlYWtcIj09PWV8fFwiY29udGludWVcIj09PWUpJiZvLnRyeUxvYzw9dCYmdDw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgYT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxvPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9by5maW5hbGx5TG9jLGQpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVyblwiYnJlYWtcIj09PWUudHlwZXx8XCJjb250aW51ZVwiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzpcInJldHVyblwiPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSxkfSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLHkobiksZH19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBpPXIuYXJnO3kobil9cmV0dXJuIGl9fXRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlQoZSkscmVzdWx0TmFtZTp0LG5leHRMb2M6bn0sXCJuZXh0XCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXZvaWQgMCksZH19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1yfWNhdGNoKGUpe0Z1bmN0aW9uKFwiclwiLFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShyKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpe3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24saT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24sbz1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb247dC5jcmVhdGVSVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1yfHxpfHxvO3JldHVybiB0P25ldyB0KGUpOm51bGx9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI7XG4vKiFcbiAqIEV2ZW50RW1pdHRlciB2NS4yLjkgLSBnaXQuaW8vZWVcbiAqIFVubGljZW5zZSAtIGh0dHA6Ly91bmxpY2Vuc2Uub3JnL1xuICogT2xpdmVyIENhbGR3ZWxsIC0gaHR0cHM6Ly9vbGkubWUudWsvXG4gKiBAcHJlc2VydmVcbiAqLyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7fXZhciBvPWkucHJvdG90eXBlLGE9dC5FdmVudEVtaXR0ZXI7ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKGVbbl0ubGlzdGVuZXI9PT10KXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1vLmdldExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5fZ2V0RXZlbnRzKCk7aWYoZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3IobiBpbiB0PXt9LHIpci5oYXNPd25Qcm9wZXJ0eShuKSYmZS50ZXN0KG4pJiYodFtuXT1yW25dKTtlbHNlIHQ9cltlXXx8KHJbZV09W10pO3JldHVybiB0fSxvLmZsYXR0ZW5MaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCs9MSluLnB1c2goZVt0XS5saXN0ZW5lcik7cmV0dXJuIG59LG8uZ2V0TGlzdGVuZXJzQXNPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmdldExpc3RlbmVycyhlKTtyZXR1cm4gbiBpbnN0YW5jZW9mIEFycmF5JiYoKHQ9e30pW2VdPW4pLHR8fG59LG8uYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtpZighZnVuY3Rpb24gZSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwfHwhKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCkmJmUodC5saXN0ZW5lcil9KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIG4scj10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpLGk9XCJvYmplY3RcIj09dHlwZW9mIHQ7Zm9yKG4gaW4gcilyLmhhc093blByb3BlcnR5KG4pJiYtMT09PXMocltuXSx0KSYmcltuXS5wdXNoKGk/dDp7bGlzdGVuZXI6dCxvbmNlOiExfSk7cmV0dXJuIHRoaXN9LG8ub249YyhcImFkZExpc3RlbmVyXCIpLG8uYWRkT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZSx7bGlzdGVuZXI6dCxvbmNlOiEwfSl9LG8ub25jZT1jKFwiYWRkT25jZUxpc3RlbmVyXCIpLG8uZGVmaW5lRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TGlzdGVuZXJzKGUpLHRoaXN9LG8uZGVmaW5lRXZlbnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl0aGlzLmRlZmluZUV2ZW50KGVbdF0pO3JldHVybiB0aGlzfSxvLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSk7Zm9yKHIgaW4gaSlpLmhhc093blByb3BlcnR5KHIpJiYtMSE9PShuPXMoaVtyXSx0KSkmJmlbcl0uc3BsaWNlKG4sMSk7cmV0dXJuIHRoaXN9LG8ub2ZmPWMoXCJyZW1vdmVMaXN0ZW5lclwiKSxvLmFkZExpc3RlbmVycz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsZSx0KX0sby5yZW1vdmVMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCEwLGUsdCl9LG8ubWFuaXB1bGF0ZUxpc3RlbmVycz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWU/dGhpcy5yZW1vdmVMaXN0ZW5lcjp0aGlzLmFkZExpc3RlbmVyLGE9ZT90aGlzLnJlbW92ZUxpc3RlbmVyczp0aGlzLmFkZExpc3RlbmVycztpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFJlZ0V4cClmb3Iocj1uLmxlbmd0aDtyLS07KW8uY2FsbCh0aGlzLHQsbltyXSk7ZWxzZSBmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihpPXRbcl0pJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgaT9vLmNhbGwodGhpcyxyLGkpOmEuY2FsbCh0aGlzLHIsaSkpO3JldHVybiB0aGlzfSxvLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG49dHlwZW9mIGUscj10aGlzLl9nZXRFdmVudHMoKTtpZihcInN0cmluZ1wiPT09bilkZWxldGUgcltlXTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBSZWdFeHApZm9yKHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiZlLnRlc3QodCkmJmRlbGV0ZSByW3RdO2Vsc2UgZGVsZXRlIHRoaXMuX2V2ZW50cztyZXR1cm4gdGhpc30sby5yZW1vdmVBbGxMaXN0ZW5lcnM9YyhcInJlbW92ZUV2ZW50XCIpLG8uZW1pdEV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYT10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpO2ZvcihvIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShvKSlmb3Iobj1hW29dLnNsaWNlKDApLGk9MDtpPG4ubGVuZ3RoO2krKykhMD09PShyPW5baV0pLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIoZSxyLmxpc3RlbmVyKSxyLmxpc3RlbmVyLmFwcGx5KHRoaXMsdHx8W10pPT09dGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkmJnRoaXMucmVtb3ZlTGlzdGVuZXIoZSxyLmxpc3RlbmVyKTtyZXR1cm4gdGhpc30sby50cmlnZ2VyPWMoXCJlbWl0RXZlbnRcIiksby5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQoZSx0KX0sby5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT1lLHRoaXN9LG8uX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc093blByb3BlcnR5KFwiX29uY2VSZXR1cm5WYWx1ZVwiKXx8dGhpcy5fb25jZVJldHVyblZhbHVlfSxvLl9nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KX0saS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuRXZlbnRFbWl0dGVyPWEsaX0sdm9pZCAwPT09KHI9ZnVuY3Rpb24oKXtyZXR1cm4gaX0uY2FsbCh0LG4sdCxlKSl8fChlLmV4cG9ydHM9cil9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXN8fHt9KX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzUpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiByKGUpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9fSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciByO2UuZXhwb3J0cz0ocj1yfHxmdW5jdGlvbihlLHIpe3ZhciBpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jcnlwdG8mJihpPXdpbmRvdy5jcnlwdG8pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNyeXB0byYmKGk9c2VsZi5jcnlwdG8pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLmNyeXB0byYmKGk9Z2xvYmFsVGhpcy5jcnlwdG8pLCFpJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubXNDcnlwdG8mJihpPXdpbmRvdy5tc0NyeXB0byksIWkmJnZvaWQgMCE9PXQmJnQuY3J5cHRvJiYoaT10LmNyeXB0byksIWkpdHJ5e2k9big3NCl9Y2F0Y2goZSl7fXZhciBvPWZ1bmN0aW9uKCl7aWYoaSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaS5nZXRSYW5kb21WYWx1ZXMpdHJ5e3JldHVybiBpLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdfWNhdGNoKGUpe31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLnJhbmRvbUJ5dGVzKXRyeXtyZXR1cm4gaS5yYW5kb21CeXRlcyg0KS5yZWFkSW50MzJMRSgpfWNhdGNoKGUpe319dGhyb3cgbmV3IEVycm9yKFwiTmF0aXZlIGNyeXB0byBtb2R1bGUgY291bGQgbm90IGJlIHVzZWQgdG8gZ2V0IHNlY3VyZSByYW5kb20gbnVtYmVyLlwiKX0sYT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBlLnByb3RvdHlwZT10LG49bmV3IGUsZS5wcm90b3R5cGU9bnVsbCxufX0oKSxzPXt9LGM9cy5saWI9e30sZD1jLkJhc2U9e2V4dGVuZDpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpO3JldHVybiBlJiZ0Lm1peEluKGUpLHQuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpJiZ0aGlzLmluaXQhPT10LmluaXR8fCh0LmluaXQ9ZnVuY3Rpb24oKXt0LiRzdXBlci5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQuaW5pdC5wcm90b3R5cGU9dCx0LiRzdXBlcj10aGlzLHR9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZXh0ZW5kKCk7cmV0dXJuIGUuaW5pdC5hcHBseShlLGFyZ3VtZW50cyksZX0saW5pdDpmdW5jdGlvbigpe30sbWl4SW46ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXNbdF09ZVt0XSk7ZS5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz1lLnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSx1PWMuV29yZEFycmF5PWQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7ZT10aGlzLndvcmRzPWV8fFtdLHRoaXMuc2lnQnl0ZXM9bnVsbCE9dD90OjQqZS5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybihlfHxmKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLndvcmRzLG49ZS53b3JkcyxyPXRoaXMuc2lnQnl0ZXMsaT1lLnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxyJTQpZm9yKHZhciBvPTA7bzxpO28rKyl7dmFyIGE9bltvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7dFtyK28+Pj4yXXw9YTw8MjQtKHIrbyklNCo4fWVsc2UgZm9yKHZhciBzPTA7czxpO3MrPTQpdFtyK3M+Pj4yXT1uW3M+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9aSx0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMud29yZHMsbj10aGlzLnNpZ0J5dGVzO3Rbbj4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1uJTQqOCx0Lmxlbmd0aD1lLmNlaWwobi80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1kLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxlfSxyYW5kb206ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGU7bis9NCl0LnB1c2gobygpKTtyZXR1cm4gbmV3IHUuaW5pdCh0LGUpfX0pLGw9cy5lbmM9e30sZj1sLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLndvcmRzLG49ZS5zaWdCeXRlcyxyPVtdLGk9MDtpPG47aSsrKXt2YXIgbz10W2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtyLnB1c2goKG8+Pj40KS50b1N0cmluZygxNikpLHIucHVzaCgoMTUmbykudG9TdHJpbmcoMTYpKX1yZXR1cm4gci5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj1bXSxyPTA7cjx0O3IrPTIpbltyPj4+M118PXBhcnNlSW50KGUuc3Vic3RyKHIsMiksMTYpPDwyNC1yJTgqNDtyZXR1cm4gbmV3IHUuaW5pdChuLHQvMil9fSxwPWwuTGF0aW4xPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUud29yZHMsbj1lLnNpZ0J5dGVzLHI9W10saT0wO2k8bjtpKyspe3ZhciBvPXRbaT4+PjJdPj4+MjQtaSU0KjgmMjU1O3IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG8pKX1yZXR1cm4gci5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj1bXSxyPTA7cjx0O3IrKyluW3I+Pj4yXXw9KDI1NSZlLmNoYXJDb2RlQXQocikpPDwyNC1yJTQqODtyZXR1cm4gbmV3IHUuaW5pdChuLHQpfX0sZz1sLlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUocC5zdHJpbmdpZnkoZSkpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgVVRGLTggZGF0YVwiKX19LHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBwLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkpfX0sbT1jLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09ZC5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgdS5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9Zy5wYXJzZShlKSksdGhpcy5fZGF0YS5jb25jYXQoZSksdGhpcy5fbkRhdGFCeXRlcys9ZS5zaWdCeXRlc30sX3Byb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIG4scj10aGlzLl9kYXRhLGk9ci53b3JkcyxvPXIuc2lnQnl0ZXMsYT10aGlzLmJsb2NrU2l6ZSxzPW8vKDQqYSksYz0ocz10P2UuY2VpbChzKTplLm1heCgoMHxzKS10aGlzLl9taW5CdWZmZXJTaXplLDApKSphLGQ9ZS5taW4oNCpjLG8pO2lmKGMpe2Zvcih2YXIgbD0wO2w8YztsKz1hKXRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGksbCk7bj1pLnNwbGljZSgwLGMpLHIuc2lnQnl0ZXMtPWR9cmV0dXJuIG5ldyB1LmluaXQobixkKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1kLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUuX2RhdGE9dGhpcy5fZGF0YS5jbG9uZSgpLGV9LF9taW5CdWZmZXJTaXplOjB9KSxoPShjLkhhc2hlcj1tLmV4dGVuZCh7Y2ZnOmQuZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihlKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQoZSksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe20ucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXBwZW5kKGUpLHRoaXMuX3Byb2Nlc3MoKSx0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5fYXBwZW5kKGUpLHRoaXMuX2RvRmluYWxpemUoKX0sYmxvY2tTaXplOjE2LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlLmluaXQobikuZmluYWxpemUodCl9fSxfY3JlYXRlSG1hY0hlbHBlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGguSE1BQy5pbml0KGUsbikuZmluYWxpemUodCl9fX0pLHMuYWxnbz17fSk7cmV0dXJuIHN9KE1hdGgpLHIpfSkuY2FsbCh0aGlzLG4oMzMpKX0sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LG89dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPWEudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPGlbMV0pe2EubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmYS5sYWJlbDxpWzJdKXthLmxhYmVsPWlbMl0sYS5vcHMucHVzaChvKTticmVha31pWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX0sYT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDc2KSxjPW4oMjcpLGQ9big5NSksdT1uKDIwKSxsPW4oMjQpLGY9bigzMSkscD1hKG4oMCkpLGc9YShuKDM3KSksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5yZXRyeVRpbWVvdXQ9MWU0LHRoaXMuc3RyZWFtaW5nVGFza3M9bmV3IE1hcCx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLHRoaXMudGFza011dGV4PW5ldyBkLlByb21pc2VNdXRleChcIkxTXCIpLHRoaXMuY2FuY2VsVG9rZW49Zy5kZWZhdWx0LkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuaW5qZWN0Q29uZmlnPXIoe30sYy5ERUZBVUxUX0lOSkVDVF9DT05GSUcpLHRoaXMuaW5qZWN0TG9vcFRpbWVzPTAsdGhpcy5sYXN0VGFza0lkPTEsdGhpcy5zdGF0dXNFcnJvcj1uZXcgTWFwLHRoaXMuc3BlYz1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc05lZWRSZXNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PTAsbj1BcnJheS5mcm9tKHRoaXMuc3RyZWFtaW5nVGFza3MudmFsdWVzKCkpO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2lmKHIubW9kZT09PWMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVClyZXR1cm4hMDtpZihyLm1vZGU9PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREUpaWYoKHRoaXMudHJhbnNjb2RpbmdDb25maWcmJih0aGlzLnRyYW5zY29kaW5nQ29uZmlnLnVzZXJDb25maWdzfHx0aGlzLnRyYW5zY29kaW5nQ29uZmlnLnRyYW5zY29kaW5nVXNlcnMpfHxbXSkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudWlkPT09ZS5zcGVjLnVpZH0pKSlyZXR1cm4hMH1yZXR1cm4hMX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRUcmFuc2NvZGluZ0NvbmZpZz1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbixpLGEscyxkPXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDoodD1yKHIoe30sYy5ERUZBVUxUX1RSQU5TQ09ESU5HX0NPTkZJRyksZSkpLnRyYW5zY29kaW5nVXNlcnN8fCh0LnRyYW5zY29kaW5nVXNlcnM9dC51c2VyQ29uZmlncyksNjYhPT10LnZpZGVvQ29kZWNQcm9maWxlJiY3NyE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjEwMCE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJihwLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5zcGVjLmNsaWVudElkK1wiXSBzZXQgdHJhbnNjb2RpbmcgY29uZmlnLCBmaXggdmlkZW8gY29kZWMgcHJvZmlsZTogXCIrdC52aWRlb0NvZGVjUHJvZmlsZStcIiAtPiAxMDBcIiksdC52aWRlb0NvZGVjUHJvZmlsZT0xMDApLHQudHJhbnNjb2RpbmdVc2VycyYmKHQudHJhbnNjb2RpbmdVc2Vycz10LnRyYW5zY29kaW5nVXNlcnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcihyKHIoe30sYy5ERUZBVUxUX0xJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX1VTRVIpLGUpLHt6T3JkZXI6ZS56T3JkZXI/ZS56T3JkZXIrMToxfSl9KSkpLHQuaW1hZ2VzJiYodC5pbWFnZXM9dC5pbWFnZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcihyKHt9LGMuREVGQVVMVF9MSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19XQVRFUk1BUkspLGUpfSkpKTt0cnl7Yy5pc0xpdmVTdHJlYW1pbmdUcmFuc2NvZGluZ0NvbmZpZyh0KX1jYXRjaChlKXt0aHJvdyBlfXJldHVybiB0LnRyYW5zY29kaW5nVXNlcnMmJih0LnVzZXJDb25maWdzPXQudHJhbnNjb2RpbmdVc2Vycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByKHt9LGUpfSkpLHQudXNlckNvdW50PXQudHJhbnNjb2RpbmdVc2Vycy5sZW5ndGgsZGVsZXRlIHQudHJhbnNjb2RpbmdVc2Vycyksbj0odC51c2VyQ29uZmlnc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUudWlkP1Byb21pc2UucmVzb2x2ZShlLnVpZCk6dS5nZXRVc2VyQWNjb3VudChkLnNwZWMsbnVsbCxlLnVpZCl9KSksWzQsdGhpcy50YXNrTXV0ZXgubG9jaygpXTtjYXNlIDE6cmV0dXJuIGk9by5zZW50KCksWzQsUHJvbWlzZS5hbGwobildO2Nhc2UgMjppZihvLnNlbnQoKS5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3QudXNlckNvbmZpZ3MmJnQudXNlckNvbmZpZ3Nbbl0mJih0LnVzZXJDb25maWdzW25dLnVpZD1lJiZlLnVpZHx8ZSl9KSksdGhpcy50cmFuc2NvZGluZ0NvbmZpZz10LCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuIGkoKSxbMl07by5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gby50cnlzLnB1c2goWzMsNSwsNl0pLFs0LHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiVXBkYXRlVHJhbnNjb2RpbmdcIix0cmFuc2NvZGluZ0NvbmZpZzp0aGlzLnRyYW5zY29kaW5nQ29uZmlnfX0sITEse2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHdvcmtlclR5cGU6MSxyZXF1ZXN0QnlVc2VyOiEwLHRpZDpBcnJheS5mcm9tKHRoaXMuc3RyZWFtaW5nVGFza3MudmFsdWVzKCkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFza0lkfSkpLmpvaW4oXCIjXCIpfSldO2Nhc2UgNDpyZXR1cm4gYT1vLnNlbnQoKSxpKCkscC5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuc3BlYy5jbGllbnRJZCtcIl0gdXBkYXRlIGxpdmUgdHJhbnNjb2RpbmcgY29uZmlnIHN1Y2Nlc3MsIGNvZGU6IFwiK2EuY29kZStcIiwgY29uZmlnOlwiLEpTT04uc3RyaW5naWZ5KHRoaXMudHJhbnNjb2RpbmdDb25maWcpKSxbMyw2XTtjYXNlIDU6aWYocz1vLnNlbnQoKSxpKCksIXMuZGF0YXx8IXMuZGF0YS5yZXRyeSl0aHJvdyBzO3JldHVybiBzLmRhdGEuY2hhbmdlQWRkcmVzcyYmdGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksdGhpcy5zdHJlYW1pbmdUYXNrcy5mb3JFYWNoKChmdW5jdGlvbihlKXtwLmRlZmF1bHQud2FybmluZyhcIltcIitkLnNwZWMuY2xpZW50SWQrXCJdIGxpdmUgc3RyZWFtaW5nIHJlY2VpdmUgZXJyb3JcIixzLnRvU3RyaW5nKCksXCJ0cnkgdG8gcmVwdWJsaXNoXCIsZS51cmwpLGQuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLnVybCxlLm1vZGUscykudGhlbigoZnVuY3Rpb24oKXtwLmRlZmF1bHQuZGVidWcoXCJbXCIrZC5zcGVjLmNsaWVudElkK1wiXSBsaXZlIHN0cmVhbWluZyByZXB1Ymxpc2ggXCIrZS51cmwrXCIgc3VjY2Vzc1wiKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cC5kZWZhdWx0LmVycm9yKFwiW1wiK2Quc3BlYy5jbGllbnRJZCtcIl0gbGl2ZSBzdHJlYW1pbmcgcmVwdWJsaXNoIGZhaWxlZFwiLGUudXJsLHQudG9TdHJpbmcoKSksZC5vbkxpdmVTdHJlYW1FcnJvciYmZC5vbkxpdmVTdHJlYW1FcnJvcihlLnVybCx0KX0pKX0pKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfX0pKX0pKX0sZS5wcm90b3R5cGUuc2V0SW5qZWN0U3RyZWFtQ29uZmlnPWZ1bmN0aW9uKGUsdCl7dGhpcy5pbmplY3RDb25maWc9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmluamVjdENvbmZpZyxlKSx0aGlzLmluamVjdExvb3BUaW1lcz10fSxlLnByb3RvdHlwZS5zdGFydExpdmVTdHJlYW1pbmdUYXNrPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksYSxzLGQsdSxnLG0saCx2PXRoaXM7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN0cmVhbWluZ1Rhc2tzLnZhbHVlcygpKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tb2RlPT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUfSkpJiZ0PT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUP1syLG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNULFwiaW5qZWN0IHN0cmVhbSBvdmVyIGxpbWl0XCIpLnRocm93KCldOihpPXtjb21tYW5kOlwiUHVibGlzaFN0cmVhbVwiLHRzOkRhdGUubm93KCksdXJsOmUsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSxhdXRvRGVzdHJveVRpbWU6MzB9LHAuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLnNwZWMuY2xpZW50SWQrXCJdIHN0YXJ0IGxpdmUgc3RyZWFtaW5nIFwiK2UrXCIsIG1vZGU6IFwiK3QpLFs0LHRoaXMudGFza011dGV4LmxvY2soKV0pO2Nhc2UgMTppZihhPW8uc2VudCgpLCF0aGlzLnRyYW5zY29kaW5nQ29uZmlnJiZ0PT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFKXRocm93IGEoKSxuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuSU5WQUxJRF9PUEVSQVRJT04sXCJbTGl2ZVN0cmVhbWluZ10gbm8gdHJhbnNjb2RpbmcgY29uZmlnIGZvdW5kLCBjYW4gbm90IHN0YXJ0IHRyYW5zY29kaW5nIHN0cmVhbWluZyB0YXNrXCIpO2lmKCF0aGlzLmNvbm5lY3Rpb24mJm4pcmV0dXJuIGEoKSxbMl07aWYodGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSkmJiFuKXJldHVybiBhKCksWzIsbmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpLnRocm93KCldO2lmKCF0aGlzLnRyYW5zY29kaW5nQ29uZmlnJiZ0PT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFKXRocm93IGEoKSxuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuSU5WQUxJRF9PUEVSQVRJT04sXCJbTGl2ZVN0cmVhbWluZ10gbm8gdHJhbnNjb2RpbmcgY29uZmlnIGZvdW5kLCBjYW4gbm90IHN0YXJ0IHRyYW5zY29kaW5nIHN0cmVhbWluZyB0YXNrXCIpO28ubGFiZWw9MjtjYXNlIDI6cmV0dXJuIG8udHJ5cy5wdXNoKFsyLDUsLDZdKSx0aGlzLmNvbm5lY3Rpb24/WzMsNF06KHM9dGhpcyxbNCx0aGlzLmNvbm5lY3QodCldKTtjYXNlIDM6cy5jb25uZWN0aW9uPW8uc2VudCgpLG8ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzMsNl07Y2FzZSA1OnRocm93IGQ9by5zZW50KCksYSgpLGQ7Y2FzZSA2OnN3aXRjaCh0KXtjYXNlIGMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERTppLnRyYW5zY29kaW5nQ29uZmlnPXIoe30sdGhpcy50cmFuc2NvZGluZ0NvbmZpZyk7YnJlYWs7Y2FzZSBjLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5SQVc6YnJlYWs7Y2FzZSBjLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1Q6aT17Y25hbWU6dGhpcy5zcGVjLmNuYW1lLGNvbW1hbmQ6XCJJbmplY3RTdHJlYW1cIixzaWQ6dGhpcy5zcGVjLnNpZCx0cmFuc2NvZGluZ0NvbmZpZzp0aGlzLmluamVjdENvbmZpZyx0czpEYXRlLm5vdygpLHVybDplLGxvb3BUaW1lczp0aGlzLmluamVjdExvb3BUaW1lc319dGhpcy51YXBSZXNwb25zZSYmdGhpcy51YXBSZXNwb25zZS52aWQmJihpLnZpZD10aGlzLnVhcFJlc3BvbnNlLnZpZCksdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMCx1PXRoaXMubGFzdFRhc2tJZCsrLG8ubGFiZWw9NztjYXNlIDc6cmV0dXJuIG8udHJ5cy5wdXNoKFs3LDksLDE0XSksZz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXtmLndhaXQodi5yZXRyeVRpbWVvdXQpLnRoZW4oKGZ1bmN0aW9uKCl7aWYobilyZXR1cm4gcihuKTt2YXIgdD12LnN0YXR1c0Vycm9yLmdldChlKTtyZXR1cm4gdD8odi5zdGF0dXNFcnJvci5kZWxldGUoZSkscih0KSk6dm9pZCAwfSkpfSkpLFs0LFByb21pc2UucmFjZShbdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6aX0sITAse3VybDplLGNvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTp0PT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiFuLHRpZDp1LnRvU3RyaW5nKCl9KSxnXSldO2Nhc2UgODpyZXR1cm4gbT1vLnNlbnQoKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLHAuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLnNwZWMuY2xpZW50SWQrXCJdIGxpdmUgc3RyZWFtaW5nIHN0YXJ0ZWQsIGNvZGU6IFwiK20uY29kZSksdGhpcy5zdHJlYW1pbmdUYXNrcy5zZXQoZSx7Y2xpZW50UmVxdWVzdDppLG1vZGU6dCx1cmw6ZSx0YXNrSWQ6dX0pLGEoKSxbMywxNF07Y2FzZSA5OmlmKGg9by5zZW50KCksYSgpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsIWguZGF0YXx8IWguZGF0YS5yZXRyeXx8bil0aHJvdyBoO3JldHVybiBoLmRhdGEuY2hhbmdlQWRkcmVzcz9bMywxMV06WzQsdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxoKV07Y2FzZSAxMDpyZXR1cm5bMixvLnNlbnQoKV07Y2FzZSAxMTpyZXR1cm4gdGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksWzQsdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxoKV07Y2FzZSAxMjpyZXR1cm5bMixvLnNlbnQoKV07Y2FzZSAxMzpyZXR1cm5bMywxNF07Y2FzZSAxNDpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdG9wTGl2ZVN0cmVhbWluZ1Rhc2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9dC5zdHJlYW1pbmdUYXNrcy5nZXQoZSk7aWYoIWl8fCF0LmNvbm5lY3Rpb24pcmV0dXJuIG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHN0cmVhbWluZyB0YXNrIHRvIHN0b3BcIikudGhyb3coKTt2YXIgbz1pLm1vZGU7aS5hYm9ydFRhc2s9ZnVuY3Rpb24oKXtwLmRlZmF1bHQuZGVidWcoXCJbXCIrdC5zcGVjLmNsaWVudElkK1wiXSBzdG9wIGxpdmUgc3RyZWFtaW5nIHN1Y2Nlc3Mod29ya2VyIGV4Y2VwdGlvbilcIiksdC5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksbigpfSxwLmRlZmF1bHQuZGVidWcoXCJzdG9wIGxpdmUgc3RyZWFtaW5nIHRhc2sgcmVxdWVzdDogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHQuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOm89PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5JTkpFQ1Q/XCJVbmluamVjdFN0cmVhbVwiOlwiVW5wdWJsaXNoU3RyZWFtXCIsdXJsOmkudXJsfX0sITEse3VybDplLGNvbW1hbmQ6XCJVblB1Ymxpc2hTdHJlYW1cIix3b3JrZXJUeXBlOm89PT1jLkxpdmVTdHJlYW1pbmdTZXJ2aWNlTW9kZS5UUkFOU0NPREU/MToyLHJlcXVlc3RCeVVzZXI6ITAsdGlkOih0Lmxhc3RUYXNrSWQrKykudG9TdHJpbmcoKX0pLnRoZW4oKGZ1bmN0aW9uKHIpe3AuZGVmYXVsdC5kZWJ1ZyhcIltcIit0LnNwZWMuY2xpZW50SWQrXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2VzcywgY29kZTogXCIrci5jb2RlKSx0LnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSwwPT09dC5zdHJlYW1pbmdUYXNrcy5zaXplJiZvIT09Yy5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUJiYodC5jb25uZWN0aW9uLmNsb3NlKCksdC5jb25uZWN0aW9uPXZvaWQgMCksbigpfSkpLmNhdGNoKHIpfSkpfSxlLnByb3RvdHlwZS5jb250cm9sSW5qZWN0U3RyZWFtPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmlmKCEoaT10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChlKSl8fCF0aGlzLmNvbm5lY3Rpb258fGkubW9kZSE9PWMuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLklOSkVDVCl0aHJvdyBuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGZpbmQgaW5qZWN0IHN0cmVhbSB0YXNrIHRvIGNvbnRyb2xcIik7cmV0dXJuWzQsdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJDb250cm9sU3RyZWFtXCIsdXJsOmUsY29udHJvbDp0LGF1ZGlvVm9sdW1lOm4scG9zaXRpb246cn19KV07Y2FzZSAxOnJldHVyblsyLG8uc2VudCgpLnNlcnZlclJlc3BvbnNlXX19KSl9KSl9LGUucHJvdG90eXBlLnJlc2V0QWxsVGFzaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1BcnJheS5mcm9tKHRoaXMuc3RyZWFtaW5nVGFza3MudmFsdWVzKCkpO3RoaXMudGVybWluYXRlKCk7Zm9yKHZhciBuPWZ1bmN0aW9uKHQpe3Iuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayh0LnVybCx0Lm1vZGUpLmNhdGNoKChmdW5jdGlvbihuKXtlLm9uTGl2ZVN0cmVhbUVycm9yJiZlLm9uTGl2ZVN0cmVhbUVycm9yKHQudXJsLG4pfSkpfSxyPXRoaXMsaT0wLG89dDtpPG8ubGVuZ3RoO2krKyl7bihvW2ldKX19LGUucHJvdG90eXBlLnNldEdhdGV3YXlDb25uZWN0aW9uU3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5jb25uZWN0aW9uJiYodGhpcy5jb25uZWN0aW9uLmdhdGV3YXlDb25uZWN0aW9uU3RhdGU9ZSl9LGUucHJvdG90eXBlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3RoaXMuY2FuY2VsVG9rZW4mJnRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5zdHJlYW1pbmdUYXNrcz1uZXcgTWFwLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsdGhpcy5zdGF0dXNFcnJvcj1uZXcgTWFwLHRoaXMuY2FuY2VsVG9rZW49Zy5kZWZhdWx0LkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMudWFwUmVzcG9uc2U9dm9pZCAwLHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy5jb25uZWN0aW9uPXZvaWQgMH0sZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzO3JldHVybiBvKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYodGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5VTkVYUEVDVEVEX0VSUk9SLFwibGl2ZSBzdHJlYW1pbmcgY29ubmVjdGlvbiBoYXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7cmV0dXJuWzQsZi5nZXRMaXZlU3RyZWFtaW5nV29ya2VyTWFuZ2VyUmVzdWx0KGUsdGhpcy5zcGVjLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4pXTtjYXNlIDE6cmV0dXJuIHQ9ci5zZW50KCksdGhpcy51YXBSZXNwb25zZT10LHRoaXMuY29ubmVjdGlvbj1uZXcgcy5BZ29yYUxpdmVTdHJlYW1pbmdVYXBTaWduYWwodC53b3JrZXJUb2tlbix0aGlzLnNwZWMsZSksdGhpcy5jb25uZWN0aW9uLm9uKGMuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLChmdW5jdGlvbihlLHQpe3JldHVybiBuLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJm4ub25MaXZlU3RyZWFtV2FybmluZyh0LGUpfSkpLHRoaXMuY29ubmVjdGlvbi5vbihjLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuUFVCTElTSF9TVFJFQU1fU1RBVFVTLChmdW5jdGlvbihlKXtyZXR1cm4gbi5oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyKGUpfSkpLHRoaXMuY29ubmVjdGlvbi5vbihjLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuSU5KRUNUX1NUUkVBTV9TVEFUVVMsKGZ1bmN0aW9uKGUpe3JldHVybiBuLmhhbmRsZUluamVjdFN0cmVhbVNlcnZlclN0YXR1cyhlKX0pKSx0aGlzLmNvbm5lY3Rpb24ub24oYy5MaXZlU3RyZWFtaW5nVWFwU2lnbmFsRXZlbnRzLlJFUVVFU1RfTkVXX0FERFJFU1MsKGZ1bmN0aW9uKHQscil7aWYoIW4uY29ubmVjdGlvbilyZXR1cm4gcihuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IG5ldyBsaXZlIHN0cmVhbWluZyBhZGRyZXNzIGxpc3RcIikpO2YuZ2V0TGl2ZVN0cmVhbWluZ1dvcmtlck1hbmdlclJlc3VsdChlLG4uc3BlYyxuLmNhbmNlbFRva2VuLnRva2VuKS50aGVuKChmdW5jdGlvbihlKXtuLnVhcFJlc3BvbnNlPWUsdChlLmFkZHJlc3NMaXN0KX0pKS5jYXRjaChyKX0pKSxbNCx0aGlzLmNvbm5lY3Rpb24uaW5pdCh0LmFkZHJlc3NMaXN0KV07Y2FzZSAyOnJldHVybiByLnNlbnQoKSxbMix0aGlzLmNvbm5lY3Rpb25dfX0pKX0pKX0sZS5wcm90b3R5cGUuaGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5zZXJ2ZXJTdGF0dXMmJmUuc2VydmVyU3RhdHVzLnVybDtpZighbil0aHJvdyBuZXcgbC5BZ29yYVJUQ0Vycm9yKGwuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZW1wdHkgdXJsXCIse2NvZGU6ZS5jb2RlfSk7dmFyIHI9dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQobik7c3dpdGNoKGUuY29kZSl7Y2FzZSBjLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOOmNhc2UgYy5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBjLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgYy5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g6dmFyIGk9bmV3IGwuQWdvcmFSVENFcnJvcihsLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pO2lmKHIpcmV0dXJuIHAuZGVmYXVsdC5lcnJvcihpLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IobixpKTtpZighdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaylyZXR1cm47dGhpcy5zdGF0dXNFcnJvci5zZXQobixpKTtjYXNlIGMuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVDpjYXNlIGMuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDppZighdGhpcy5jb25uZWN0aW9ufHwwPT09dGhpcy5zdHJlYW1pbmdUYXNrcy5zaXplKXJldHVybjt0aGlzLmNvbm5lY3Rpb24udHJ5TmV4dEFkZHJlc3MoKTtmb3IodmFyIG89QXJyYXkuZnJvbSh0aGlzLnN0cmVhbWluZ1Rhc2tzLnZhbHVlcygpKSxhPWZ1bmN0aW9uKG4pe2lmKG4uYWJvcnRUYXNrKXJldHVybiBuLmFib3J0VGFzaygpLFwiY29udGludWVcIjtwLmRlZmF1bHQud2FybmluZyhcIltcIitzLnNwZWMuY2xpZW50SWQrXCJdIHB1Ymxpc2ggc3RyZWFtIHN0YXR1cyBjb2RlXCIsZS5jb2RlLFwidHJ5IHRvIHJlcHVibGlzaFwiLG4udXJsKSxzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2sobi51cmwsbi5tb2RlLG5ldyBsLkFnb3JhUlRDRXJyb3IobC5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KSkudGhlbigoZnVuY3Rpb24oKXtwLmRlZmF1bHQuZGVidWcoXCJbXCIrdC5zcGVjLmNsaWVudElkK1wiXSByZXB1Ymxpc2ggbGl2ZSBzdHJlYW0gc3VjY2Vzc1wiLG4udXJsKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cC5kZWZhdWx0LmVycm9yKGUudG9TdHJpbmcoKSksdC5vbkxpdmVTdHJlYW1FcnJvciYmdC5vbkxpdmVTdHJlYW1FcnJvcihuLnVybCxlKX0pKX0scz10aGlzLGQ9MCx1PW87ZDx1Lmxlbmd0aDtkKyspe2EodVtkXSl9cmV0dXJufX0sZS5wcm90b3R5cGUuaGFuZGxlSW5qZWN0U3RyZWFtU2VydmVyU3RhdHVzPWZ1bmN0aW9uKGUpe3ZhciB0PU51bWJlcihlLnVpZCksbj1lLnNlcnZlclN0YXR1cyYmZS5zZXJ2ZXJTdGF0dXMudXJsO3N3aXRjaChlLmNvZGUpe2Nhc2UgMjAwOnJldHVybiB2b2lkKHRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoMCx0LG4pKTtjYXNlIDQ1MTpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSgxLHQsbiksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShuKTtjYXNlIDQ1MzpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSgyLHQsbiksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShuKTtjYXNlIDQ3MDpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSgxMCx0LG4pLHZvaWQgdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUobik7Y2FzZSA0OTk6cmV0dXJuIHRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoMyx0LG4pLHZvaWQgdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUobik7ZGVmYXVsdDpyZXR1cm4gdm9pZCBwLmRlZmF1bHQuZGVidWcoXCJpbmplY3Qgc3RyZWFtIHNlcnZlciBzdGF0dXNcIixlKX19LGUucHJvdG90eXBlLmhhdmVVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RyZWFtaW5nVGFza3MuaGFzKGUpfHx2b2lkIDB9LGV9KCk7dC5BZ29yYVJUQ0xpdmVTdHJlYW1pbmdDbGllbnQ9bX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pLG89dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4obz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgaSBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGE9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxzPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsciYmKGk9MiZvWzBdP3IucmV0dXJuOm9bMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKysscj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT1hLnRyeXMsKGk9aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19LGM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGQ9bigyNyksdT1uKDc3KSxsPW4oMzYpLGY9bigyNCkscD1uKDIpLGc9YyhuKDApKSxtPW4oMSksaD1uKDMxKSx2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fZ2F0ZXdheUNvbm5lY3Rpb25TdGF0ZT1cIkNPTk5FQ1RFRFwiLGkucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsaS5yZXFJZD0wLGkuY29tbWFuZFJlcUlkPTAsaS53YWl0aW5nUmVzcG9uc2VMaXN0PVtdLGkuaGFuZGxlV2ViU29ja2V0T3Blbj1mdW5jdGlvbigpe2kucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsaS5zdGFydFBpbmdQb25nKCl9LGkuaGFuZGxlV2ViU29ja2V0TWVzc2FnZT1mdW5jdGlvbihlKXtpZihlLmRhdGEpe3ZhciB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZih0LnJlcXVlc3RJZClpLmVtaXQoXCJAXCIrdC5yZXF1ZXN0SWQsdCk7ZWxzZSBpZihpLnNlcnZpY2VNb2RlPT09ZC5MaXZlU3RyZWFtaW5nU2VydmljZU1vZGUuSU5KRUNUKWkuZW1pdChkLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuSU5KRUNUX1NUUkVBTV9TVEFUVVMsdCk7ZWxzZXttLnJlcG9ydC5yZXF1ZXN0V29ya2VyRXZlbnQoaS5zcGVjLnNpZCx7YWN0aW9uVHlwZTpcInN0YXR1c1wiLHNlcnZlckNvZGU6dC5jb2RlLHdvcmtlclR5cGU6aS5zZXJ2aWNlTW9kZT09PWQuTGl2ZVN0cmVhbWluZ1NlcnZpY2VNb2RlLlRSQU5TQ09ERT8xOjJ9KTt2YXIgbj10LnNlcnZlclN0YXR1cyYmdC5zZXJ2ZXJTdGF0dXMudXJsO24mJmkud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmNsdWRlcyhuKSYmMjAwPT09dC5jb2RlJiZpLmVtaXQobiksaS5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsdCl9fX0saS5zcGVjPW4saS50b2tlbj10LGkuc2VydmljZU1vZGU9cixpLndlYnNvY2tldD1uZXcgdS5BZ29yYVdlYlNvY2tldE1hbmFnZXIoXCJsaXZlLXN0cmVhbWluZ1wiKSxpLndlYnNvY2tldC5vbihkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuQ09OTkVDVEVELGkuaGFuZGxlV2ViU29ja2V0T3BlbiksaS53ZWJzb2NrZXQub24oZC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLk9OX01FU1NBR0UsaS5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlKSxpLndlYnNvY2tldC5vbihkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuUkVRVUVTVF9ORVdfVVJMUywoZnVuY3Rpb24oZSx0KXtsLmVtaXRBc1Byb21pc2UoaSxkLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuUkVRVUVTVF9ORVdfQUREUkVTUykudGhlbihlKS5jYXRjaCh0KX0pKSxpLndlYnNvY2tldC5vbihkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuUkVDT05ORUNUSU5HLChmdW5jdGlvbigpe2kud2Vic29ja2V0LnJlY29ubmVjdE1vZGU9aS5yZWNvbm5lY3RNb2RlfSkpLGl9cmV0dXJuIGkodCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJnYXRld2F5Q29ubmVjdGlvblN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nYXRld2F5Q29ubmVjdGlvblN0YXRlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2F0ZXdheUNvbm5lY3Rpb25TdGF0ZT1lLFwiQ09OTkVDVEVEXCI9PT1lJiZ0aGlzLmVtaXQoXCJnYXRld2F5LWNvbm5lY3RlZFwiLGUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmluaXQoZSl9LHQucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLGEsYyx1LGwsZyx2LEUsUyxfLHk9dGhpcztyZXR1cm4gcyh0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMucmVxSWQrPTEsaT10aGlzLnJlcUlkLFwicmVxdWVzdFwiPT09ZSYmKHRoaXMuY29tbWFuZFJlcUlkKz0xKSxhPXRoaXMuY29tbWFuZFJlcUlkLCFpfHwhdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLlVORVhQRUNURURfRVJST1IpO2lmKGM9cC5WRVJTSU9OLFwiY2xvc2VkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSl0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuV1NfRElTQ09OTkVDVCk7cmV0dXJuIHU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXtcIkNPTk5FQ1RFRFwiPT09eS5nYXRld2F5Q29ubmVjdGlvblN0YXRlJiZcImNvbm5lY3RlZFwiPT09eS53ZWJzb2NrZXQuc3RhdGUmJih5Lm9mZihcImdhdGV3YXktY29ubmVjdGVkXCIsbikseS53ZWJzb2NrZXQub2ZmKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DT05ORUNURUQsbiksZSh2b2lkIDApKX07eS5vbihcImdhdGV3YXktY29ubmVjdGVkXCIsbikseS53ZWJzb2NrZXQub25jZShkLldlYlNvY2tldE1hbmFnZXJFdmVudHMuQ0xPU0VELChmdW5jdGlvbigpe3JldHVybiB0KG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5XU19BQk9SVCkpfSkpLHkud2Vic29ja2V0Lm9uKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DT05ORUNURUQsbil9KSl9LFwiY29ubmVjdGVkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSYmXCJDT05ORUNURURcIj09PXRoaXMuZ2F0ZXdheUNvbm5lY3Rpb25TdGF0ZT9bMywyXTpbNCx1KCldO2Nhc2UgMTpzLnNlbnQoKSxzLmxhYmVsPTI7Y2FzZSAyOmw9UHJvbWlzZS5yYWNlKFtuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbigpe3QobmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLldTX0FCT1JUKSl9O3kud2Vic29ja2V0Lm9uY2UoZC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLlJFQ09OTkVDVElORyxuKSx5LndlYnNvY2tldC5vbmNlKGQuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DTE9TRUQsbikseS5vbmNlKFwiQFwiK2ksKGZ1bmN0aW9uKHQpe2UodCl9KSl9KSksaC53YWl0KHAuZ2V0UGFyYW1ldGVyKFwiTElWRV9TVFJFQU1JTkdfVElNRU9VVFwiKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKV0pLChnPW8oe2NvbW1hbmQ6ZSxzZGtWZXJzaW9uOmMsc2VxOmkscmVxdWVzdElkOmksYWxsb2NhdGU6bixjbmFtZTp0aGlzLnNwZWMuY25hbWUsYXBwSWQ6dGhpcy5zcGVjLmFwcElkLHNpZDp0aGlzLnNwZWMuc2lkLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9LHQpKS5jbGllbnRSZXF1ZXN0JiYoZy5jbGllbnRSZXF1ZXN0LndvcmtlclRva2VuPXRoaXMudG9rZW4pLHImJm0ucmVwb3J0LnJlcXVlc3RXb3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLG8obyh7fSxyKSx7cmVxdWVzdElkOmEsYWN0aW9uVHlwZTpcInJlcXVlc3RcIixwYXlsb2FkOkpTT04uc3RyaW5naWZ5KHQuY2xpZW50UmVxdWVzdCksc2VydmVyQ29kZTowLGNvZGU6MH0pKSx2PURhdGUubm93KCksdGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoZyksRT1udWxsLHMubGFiZWw9MztjYXNlIDM6cmV0dXJuIHMudHJ5cy5wdXNoKFszLDUsLDhdKSxbNCxsXTtjYXNlIDQ6cmV0dXJuIEU9cy5zZW50KCksWzMsOF07Y2FzZSA1OmlmKFM9cy5zZW50KCksXCJjbG9zZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlKXRocm93IFM7cmV0dXJuWzQsdSgpXTtjYXNlIDY6cmV0dXJuIHMuc2VudCgpLFs0LHRoaXMucmVxdWVzdChlLHQsbixyKV07Y2FzZSA3OnJldHVyblsyLHMuc2VudCgpXTtjYXNlIDg6aWYoITE9PT1FKXRocm93IF89bmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLk5FVFdPUktfVElNRU9VVCwodCYmdC5jbGllbnRSZXF1ZXN0JiZ0LmNsaWVudFJlcXVlc3QuY29tbWFuZCkrXCIgdGltZW91dFwiLHtjaGFuZ2VBZGRyZXNzOiEwLHJldHJ5OiEwfSksdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLF8sciYmci51cmx8fFwidW5rbm93biB1cmxcIiksciYmbS5yZXBvcnQucmVxdWVzdFdvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsbyhvKHt9LHIpLHtyZXF1ZXN0SWQ6YSxhY3Rpb25UeXBlOlwicmVzcG9uc2VcIixwYXlsb2FkOlwiVElNRU9VVFwiLHNlcnZlckNvZGU6MCxzdWNjZXNzOjAscmVzcG9uc2VUaW1lOkRhdGUubm93KCktdn0pKSxfO3JldHVybiByJiZtLnJlcG9ydC5yZXF1ZXN0V29ya2VyRXZlbnQodGhpcy5zcGVjLnNpZCxvKG8oe30scikse3JlcXVlc3RJZDphLGFjdGlvblR5cGU6XCJyZXNwb25zZVwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkoRS5zZXJ2ZXJSZXNwb25zZSksc2VydmVyQ29kZTpFLmNvZGUsc3VjY2VzczoyMDA9PT1FLmNvZGUscmVzcG9uc2VUaW1lOkRhdGUubm93KCktdn0pKSwyMDA9PT1FLmNvZGU/WzMsMTBdOls0LHRoaXMuaGFuZGxlUmVzcG9uc2VFcnJvcihFKV07Y2FzZSA5OnMuc2VudCgpLHMubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm5bMixFXX19KSl9KSl9LHQucHJvdG90eXBlLnRyeU5leHRBZGRyZXNzPWZ1bmN0aW9uKCl7dGhpcy5yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChcInRyeU5leHRcIil9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGU9XCJfX1ZFUlNJT05fX1wiPT09cC5WRVJTSU9OP1wiMC4wLjFcIjpwLlZFUlNJT047dGhpcy5yZXFJZCs9MSxcImNvbm5lY3RlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGU/KHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHtjb21tYW5kOlwicmVxdWVzdFwiLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxjbmFtZTp0aGlzLnNwZWMuY25hbWUsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOmUsc2lkOnRoaXMuc3BlYy5zaWQsc2VxOnRoaXMucmVxSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMykscmVxdWVzdElkOnRoaXMucmVxSWQsY2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkRlc3Ryb3lXb3JrZXJcIn19KSx0aGlzLndlYnNvY2tldC5jbG9zZSghMSwhMCkpOnRoaXMud2Vic29ja2V0LmNsb3NlKCExKSx0aGlzLnBpbmdwb25nVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApfSx0LnByb3RvdHlwZS5oYW5kbGVSZXNwb25zZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBhKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvPXRoaXM7cmV0dXJuIHModGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGcuZGVmYXVsdC5kZWJ1ZyhcIltsaXZlLXN0cmVhbWluZ10gcmVjZWl2ZSByZXNwb25zZSBlcnJvciBcIitlLmNvZGUpLGUuY29kZSl7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNOnJldHVybiBnLmRlZmF1bHQud2FybmluZyhcImxpdmUgc3RyZWFtIHJlc3BvbnNlIGFscmVhZHkgZXhpc3RzIHN0cmVhbVwiKSx0PWUuc2VydmVyUmVzcG9uc2UudXJsLHRoaXMuZW1pdChkLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuV0FSTklORyxcImxpdmUgc3RyZWFtIHJlc3BvbnNlIGFscmVhZHkgZXhpc3RzIHN0cmVhbSwgY29kZSA0NTRcIix0KSx0aGlzLndhaXRpbmdSZXNwb25zZUxpc3QuaW5jbHVkZXModCl8fHRoaXMud2FpdGluZ1Jlc3BvbnNlTGlzdC5wdXNoKHQpLFsyLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe28ub25jZSh0LChmdW5jdGlvbigpe28ud2FpdGluZ1Jlc3BvbnNlTGlzdC5zcGxpY2Uoby53YWl0aW5nUmVzcG9uc2VMaXN0LmluZGV4T2YodCksMSksbigpfSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by53YWl0aW5nUmVzcG9uc2VMaXN0LnNwbGljZShvLndhaXRpbmdSZXNwb25zZUxpc3QuaW5kZXhPZih0KSwxKSxyKG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5USU1FT1VULFwibGl2ZSBzdHJlYW0gdGltZW91dCB3YWl0aW5nIDQ1NFwiLHtjb2RlOmUuY29kZX0pKX0pLDFlNCl9KSldO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUjpjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNOmNhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUjpyZXR1cm5bMixuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCldO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOR05PUkVfTUVTU0FHRTp0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVCxcIlwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVDppZihcIlVucHVibGlzaFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kfHxcIlVuaW5qZWN0U3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuWzJdO3Rocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ6cmV0dXJuWzIsbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVELFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6cmV0dXJuIG49bmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0UpLFsyLHRoaXMuZW1pdChkLkxpdmVTdHJlYW1pbmdVYXBTaWduYWxFdmVudHMuV0FSTklORyxuLGUuc2VydmVyUmVzcG9uc2UudXJsKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU46cmV0dXJuIG49bmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVCksWzIsdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLG4sZS5zZXJ2ZXJSZXNwb25zZS51cmwpXTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSDp0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzcG9uc2Ugd20gd29ya2VyIG5vdCBleGlzdFwiLHtyZXRyeTohMH0pO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ6cmV0dXJuWzIsbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JULFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKV07Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU06cmV0dXJuIG49bmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVCksWzIsdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLG4sZS5zZXJ2ZXJSZXNwb25zZS51cmwpXTtjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I6cmV0dXJuWzIsbmV3IGYuQWdvcmFSVENFcnJvcihmLkFnb3JhUlRDRXJyb3JDb2RlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCldO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUOnRocm93IG5ldyBmLkFnb3JhUlRDRXJyb3IoZi5BZ29yYVJUQ0Vycm9yQ29kZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNvdXJjZSBsaW1pdFwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBkLkxJVkVfU1RSRUFNX0VSUk9SX0NPREUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJVbmluamVjdFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVyblsyXTt0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiVW5pbmplY3RTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm5bMl07aWYoXCJVcGRhdGVUcmFuc2NvZGluZ1wiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kfHxcIkNvbnRyb2xTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZClyZXR1cm5bMixuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7Y29kZTplLmNvZGV9KS50aHJvdygpXTt0aHJvdyBuZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUOmNhc2UgZC5MSVZFX1NUUkVBTV9FUlJPUl9DT0RFLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRTpjYXNlIGQuTElWRV9TVFJFQU1fRVJST1JfQ09ERS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOnJldHVybiByPWUuc2VydmVyUmVzcG9uc2UudXJsLHRoaXMud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmNsdWRlcyhyKXx8dGhpcy53YWl0aW5nUmVzcG9uc2VMaXN0LnB1c2gociksaT1uZXcgZi5BZ29yYVJUQ0Vycm9yKGYuQWdvcmFSVENFcnJvckNvZGUuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSksdGhpcy5lbWl0KGQuTGl2ZVN0cmVhbWluZ1VhcFNpZ25hbEV2ZW50cy5XQVJOSU5HLGksciksWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7by5vbmNlKHIsKGZ1bmN0aW9uKCl7by53YWl0aW5nUmVzcG9uc2VMaXN0LnNwbGljZShvLndhaXRpbmdSZXNwb25zZUxpc3QuaW5kZXhPZihyKSwxKSxlKCl9KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtvLndhaXRpbmdSZXNwb25zZUxpc3Quc3BsaWNlKG8ud2FpdGluZ1Jlc3BvbnNlTGlzdC5pbmRleE9mKHIpLDEpLHQoaSl9KSwxZTQpfSkpXX1yZXR1cm5bMl19KSl9KSl9LHQucHJvdG90eXBlLnN0YXJ0UGluZ1Bvbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe1wiY29ubmVjdGVkXCI9PT1lLndlYnNvY2tldC5zdGF0ZSYmZS5yZXF1ZXN0KFwicGluZ1wiLHt9KS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSw2ZTMpfSx0fShsLkV2ZW50RW1pdHRlcik7dC5BZ29yYUxpdmVTdHJlYW1pbmdVYXBTaWduYWw9dn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pLG89dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxhPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsciYmKGk9MiZvWzBdP3IucmV0dXJuOm9bMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKysscj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT1hLnRyeXMsKGk9aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSl8fDYhPT1vWzBdJiYyIT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxpWzFdKXthLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJmEubGFiZWw8aVsyXSl7YS5sYWJlbD1pWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigyNCksZD1uKDM2KSx1PW4oMzEpLGw9bigyNyksZj1zKG4oMCkpLHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uY29ubmVjdGlvbklEPTAsbi5jdXJyZW50VVJMSW5kZXg9MCxuLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCIsbi5fc3RhdGU9XCJjbG9zZWRcIixuLnJldHJ5Q29uZmlnPXUuREVGQVVMVF9SRVRSWV9DT05GSUcsbi5yZWNvbm5lY3RDb3VudD0wLG4ubmFtZT10LG59cmV0dXJuIGkodCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1cmxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0P3RoaXMud2Vic29ja2V0LnVybDpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2UhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPWUsXCJyZWNvbm5lY3RpbmdcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuUkVDT05ORUNUSU5HLHRoaXMucmVjb25uZWN0TW9kZSk6XCJjb25uZWN0ZWRcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuQ09OTkVDVEVEKTpcImNsb3NlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5DTE9TRUQpOlwiZmFpbGVkXCI9PT10aGlzLl9zdGF0ZSYmdGhpcy5lbWl0KGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5GQUlMRUQpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3QudXJscz1lO3ZhciBpPXQudXJsc1t0LmN1cnJlbnRVUkxJbmRleF07dC5zdGF0ZT1cImNvbm5lY3RpbmdcIix0LmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oaSkudGhlbihuKS5jYXRjaChyKSx0Lm9uY2UobC5XZWJTb2NrZXRNYW5hZ2VyRXZlbnRzLkNMT1NFRCwoZnVuY3Rpb24oKXtyZXR1cm4gcihuZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuV1NfRElTQ09OTkVDVCkpfSkpLHQub25jZShsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuQ09OTkVDVEVELChmdW5jdGlvbigpe3JldHVybiBuKCl9KSl9KSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlY29ubmVjdENvdW50PTAsdGhpcy53ZWJzb2NrZXQpe3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5vbm9wZW49bnVsbCx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9bnVsbDt2YXIgbj10aGlzLndlYnNvY2tldDt0P3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvc2UoKX0pLDUwMCk6bi5jbG9zZSgpLHRoaXMud2Vic29ja2V0PXZvaWQgMH10aGlzLnN0YXRlPWU/XCJmYWlsZWRcIjpcImNsb3NlZFwifSx0LnByb3RvdHlwZS5yZWNvbm5lY3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy53ZWJzb2NrZXQpe3ZvaWQgMCE9PWUmJih0aGlzLnJlY29ubmVjdE1vZGU9ZSk7dmFyIHQ9dGhpcy53ZWJzb2NrZXQub25jbG9zZTt0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSx0JiZ0LmJpbmQodGhpcy53ZWJzb2NrZXQpKHtjb2RlOjk5OTl9KX1lbHNlIGYuZGVmYXVsdC53YXJuaW5nKFwiW1wiK3RoaXMubmFtZStcIl0gY2FuIG5vdCByZWNvbm5lY3QsIG5vIHdlYnNvY2tldFwiKX0sdC5wcm90b3R5cGUuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMud2Vic29ja2V0fHx0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4pdGhyb3cgbmV3IGMuQWdvcmFSVENFcnJvcihjLkFnb3JhUlRDRXJyb3JDb2RlLldTX0FCT1JULFwid2Vic29ja2V0IGlzIG5vdCByZWFkeVwiKTt2YXIgdD1KU09OLnN0cmluZ2lmeShlKTt0cnl7dGhpcy53ZWJzb2NrZXQuc2VuZCh0KX1jYXRjaChlKXt0aHJvdyBuZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuV1NfRVJSLFwic2VuZCB3ZWJzb2NrZXQgbWVzc2FnZSBlcnJvclwiK2UudG9TdHJpbmcoKSl9fSx0LnByb3RvdHlwZS5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMuY29ubmVjdGlvbklEKz0xLHQ9dGhpcy5jb25uZWN0aW9uSUQsWzIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7bi53ZWJzb2NrZXQmJihuLndlYnNvY2tldC5vbmNsb3NlPW51bGwsbi53ZWJzb2NrZXQuY2xvc2UoKSksZi5kZWZhdWx0LmRlYnVnKFwiW1wiK24ubmFtZStcIl0gc3RhcnQgY29ubmVjdCwgdXJsOiBcIitlKTt0cnl7bi53ZWJzb2NrZXQ9bmV3IFdlYlNvY2tldChlKSxuLndlYnNvY2tldC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIn1jYXRjaChlKXt2YXIgcz1uZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkISBFcnJvcjogXCIrZS50b1N0cmluZygpKTtyZXR1cm4gZi5kZWZhdWx0LmVycm9yKFwiW1wiK24ubmFtZStcIl1cIitzKSx2b2lkIGkocyl9dS53YWl0KDVlMykudGhlbigoZnVuY3Rpb24oKXt0PT09bi5jb25uZWN0aW9uSUQmJm4ud2Vic29ja2V0JiZuLndlYnNvY2tldC5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJm4ud2Vic29ja2V0JiZuLndlYnNvY2tldC5jbG9zZSgpfSkpLG4ud2Vic29ja2V0Lm9ub3Blbj1mdW5jdGlvbigpe2YuZGVmYXVsdC5kZWJ1ZyhcIltcIituLm5hbWUrXCJdIHdlYnNvY2tlY3Qgb3BlbmVkOlwiLGUpLG4ucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsbi5zdGF0ZT1cImNvbm5lY3RlZFwiLG4ucmVjb25uZWN0Q291bnQ9MCxyKCl9LG4ud2Vic29ja2V0Lm9uY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG8obix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG47cmV0dXJuIGEodGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZi5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMubmFtZStcIl0gd2Vic29ja2V0IGNsb3NlIFwiKyh0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsKStcIiwgY29kZTogXCIrZS5jb2RlK1wiLCByZWFzb246IFwiK2UucmVhc29uK1wiLCBjdXJyZW50IG1vZGU6IFwiK3RoaXMucmVjb25uZWN0TW9kZSksdGhpcy5yZWNvbm5lY3RDb3VudDx0aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQ/KFwiY29ubmVjdGVkXCI9PT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT1cInJlY29ubmVjdGluZ1wiKSx0PWQuZW1pdEFzSW52b2tlck5vUmVzcG9uc2UodGhpcyxsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuV0lMTF9SRUNPTk5FQ1QsdGhpcy5yZWNvbm5lY3RNb2RlKXx8dGhpcy5yZWNvbm5lY3RNb2RlLFs0LHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbih0KV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gbj1vLnNlbnQoKSxcImNsb3NlZFwiPT09dGhpcy5zdGF0ZT8oZi5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMuY29ubmVjdGlvbklEK1wiXSB3cyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpLFsyXSk6bj8ocigpLFszLDNdKTooaShuZXcgYy5BZ29yYVJUQ0Vycm9yKGMuQWdvcmFSVENFcnJvckNvZGUuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCByZWNvbm5lY3QgZmFpbGVkOiBcIitlLmNvZGUpKSx0aGlzLmNsb3NlKCEwKSxbMl0pO2Nhc2UgMjppKG5ldyBjLkFnb3JhUlRDRXJyb3IoYy5BZ29yYVJUQ0Vycm9yQ29kZS5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IGNsb3NlOiBcIitlLmNvZGUpKSx0aGlzLmNsb3NlKCksby5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxuLndlYnNvY2tldC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7bi5lbWl0KGwuV2ViU29ja2V0TWFuYWdlckV2ZW50cy5PTl9NRVNTQUdFLGUpfX0pKV19KSl9KSl9LHQucHJvdG90eXBlLnJlY29ubmVjdFdpdGhBY3Rpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4scixpLG87cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4hdCYmdGhpcy5yZWNvbm5lY3RDb3VudD49dGhpcy5yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50P1syLCExXTp0aGlzLnVybHM/XCJjbG9zZWRcIj09PXRoaXMuc3RhdGU/WzIsITFdOihuPXUuZ2V0UmV0cnlXYWl0VGltZSh0aGlzLnJlY29ubmVjdENvdW50LHRoaXMucmV0cnlDb25maWcpLGYuZGVmYXVsdC5kZWJ1ZyhcIltcIit0aGlzLm5hbWUrXCJdIHdhaXQgXCIrbitcIm1zIHRvIHJlY29ubmVjdCB3ZWJzb2NrZXQsIG1vZGU6IFwiK2UpLFs0LHUud2FpdChuKV0pOlsyLCExXTtjYXNlIDE6aWYoYS5zZW50KCksXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuWzIsITFdO3RoaXMucmVjb25uZWN0Q291bnQrPTEsYS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gYS50cnlzLnB1c2goWzIsMTIsLDE0XSksXCJyZXRyeVwiIT09ZT9bMyw0XTooaT10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLFs0LHRoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihpKV0pO2Nhc2UgMzpyZXR1cm4gYS5zZW50KCksWzMsMTFdO2Nhc2UgNDpyZXR1cm5cInRyeU5leHRcIiE9PWU/WzMsOF06KHRoaXMuY3VycmVudFVSTEluZGV4Kz0xLHRoaXMuY3VycmVudFVSTEluZGV4Pj10aGlzLnVybHMubGVuZ3RoP1s0LHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihcInJlY292ZXJcIildOlszLDZdKTtjYXNlIDU6cmV0dXJuWzIsYS5zZW50KCldO2Nhc2UgNjpyZXR1cm4gZi5kZWZhdWx0LmRlYnVnKFwiW1wiK3RoaXMubmFtZStcIl0gd2Vic29ja2V0IHVybCBsZW5ndGg6IFwiK3RoaXMudXJscy5sZW5ndGgrXCIgY3VycmVudCBpbmRleDogXCIrdGhpcy5jdXJyZW50VVJMSW5kZXgpLGk9dGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxbNCx0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oaSldO2Nhc2UgNzpyZXR1cm4gYS5zZW50KCksWzMsMTFdO2Nhc2UgODpyZXR1cm5cInJlY292ZXJcIiE9PWU/WzMsMTFdOihmLmRlZmF1bHQuZGVidWcoXCJbXCIrdGhpcy5uYW1lK1wiXSByZXF1ZXN0IG5ldyB1cmxzXCIpLHI9dGhpcyxbNCxkLmVtaXRBc1Byb21pc2UodGhpcyxsLldlYlNvY2tldE1hbmFnZXJFdmVudHMuUkVRVUVTVF9ORVdfVVJMUyldKTtjYXNlIDk6cmV0dXJuIHIudXJscz1hLnNlbnQoKSx0aGlzLmN1cnJlbnRVUkxJbmRleD0wLGk9dGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxbNCx0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oaSldO2Nhc2UgMTA6YS5zZW50KCksYS5sYWJlbD0xMTtjYXNlIDExOnJldHVyblsyLCEwXTtjYXNlIDEyOnJldHVybiBvPWEuc2VudCgpLGYuZGVmYXVsdC5lcnJvcihcIltcIit0aGlzLm5hbWUrXCJdIHJlY29ubmVjdCBmYWlsZWRcIixvLnRvU3RyaW5nKCkpLFs0LHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihlKV07Y2FzZSAxMzpyZXR1cm5bMixhLnNlbnQoKV07Y2FzZSAxNDpyZXR1cm5bMl19fSkpfSkpfSx0fShkLkV2ZW50RW1pdHRlcik7dC5BZ29yYVdlYlNvY2tldE1hbmFnZXI9cH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpLGk9bigzOCksbz1uKDc5KSxhPW4oNDQpO2Z1bmN0aW9uIHMoZSl7dmFyIHQ9bmV3IG8oZSksbj1pKG8ucHJvdG90eXBlLnJlcXVlc3QsdCk7cmV0dXJuIHIuZXh0ZW5kKG4sby5wcm90b3R5cGUsdCksci5leHRlbmQobix0KSxufXZhciBjPXMobig0MSkpO2MuQXhpb3M9byxjLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gcyhhKGMuZGVmYXVsdHMsZSkpfSxjLkNhbmNlbD1uKDQ1KSxjLkNhbmNlbFRva2VuPW4oOTMpLGMuaXNDYW5jZWw9big0MCksYy5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxjLnNwcmVhZD1uKDk0KSxlLmV4cG9ydHM9YyxlLmV4cG9ydHMuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCksaT1uKDM5KSxvPW4oODApLGE9big4MSkscz1uKDQ0KTtmdW5jdGlvbiBjKGUpe3RoaXMuZGVmYXVsdHM9ZSx0aGlzLmludGVyY2VwdG9ycz17cmVxdWVzdDpuZXcgbyxyZXNwb25zZTpuZXcgb319Yy5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZT8oZT1hcmd1bWVudHNbMV18fHt9KS51cmw9YXJndW1lbnRzWzBdOmU9ZXx8e30sKGU9cyh0aGlzLmRlZmF1bHRzLGUpKS5tZXRob2Q/ZS5tZXRob2Q9ZS5tZXRob2QudG9Mb3dlckNhc2UoKTp0aGlzLmRlZmF1bHRzLm1ldGhvZD9lLm1ldGhvZD10aGlzLmRlZmF1bHRzLm1ldGhvZC50b0xvd2VyQ2FzZSgpOmUubWV0aG9kPVwiZ2V0XCI7dmFyIHQ9W2Esdm9pZCAwXSxuPVByb21pc2UucmVzb2x2ZShlKTtmb3IodGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnVuc2hpZnQoZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSksdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpfSkpO3QubGVuZ3RoOyluPW4udGhlbih0LnNoaWZ0KCksdC5zaGlmdCgpKTtyZXR1cm4gbn0sYy5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe3JldHVybiBlPXModGhpcy5kZWZhdWx0cyxlKSxpKGUudXJsLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sXCJcIil9LHIuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwib3B0aW9uc1wiXSwoZnVuY3Rpb24oZSl7Yy5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KHIubWVyZ2Uobnx8e30se21ldGhvZDplLHVybDp0fSkpfX0pKSxyLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7Yy5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxuLGkpe3JldHVybiB0aGlzLnJlcXVlc3Qoci5tZXJnZShpfHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YTpufSkpfX0pKSxlLmV4cG9ydHM9Y30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpO2Z1bmN0aW9uIGkoKXt0aGlzLmhhbmRsZXJzPVtdfWkucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDplLHJlamVjdGVkOnR9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxpLnByb3RvdHlwZS5lamVjdD1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzW2VdJiYodGhpcy5oYW5kbGVyc1tlXT1udWxsKX0saS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtyLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9LGUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCksaT1uKDgyKSxvPW4oNDApLGE9big0MSk7ZnVuY3Rpb24gcyhlKXtlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSksZS5oZWFkZXJzPWUuaGVhZGVyc3x8e30sZS5kYXRhPWkoZS5kYXRhLGUuaGVhZGVycyxlLnRyYW5zZm9ybVJlcXVlc3QpLGUuaGVhZGVycz1yLm1lcmdlKGUuaGVhZGVycy5jb21tb258fHt9LGUuaGVhZGVyc1tlLm1ldGhvZF18fHt9LGUuaGVhZGVycyksci5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0sKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmhlYWRlcnNbdF19KSksKGUuYWRhcHRlcnx8YS5hZGFwdGVyKShlKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gcyhlKSx0LmRhdGE9aSh0LmRhdGEsdC5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpLHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG8odCl8fChzKGUpLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9aSh0LnJlc3BvbnNlLmRhdGEsdC5yZXNwb25zZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpKSksUHJvbWlzZS5yZWplY3QodCl9KSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gci5mb3JFYWNoKG4sKGZ1bmN0aW9uKG4pe2U9bihlLHQpfSkpLGV9fSxmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKGUpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBuKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2goZSl7bj1vfXRyeXtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaChlKXtyPWF9fSgpO3ZhciBjLGQ9W10sdT0hMSxsPS0xO2Z1bmN0aW9uIGYoKXt1JiZjJiYodT0hMSxjLmxlbmd0aD9kPWMuY29uY2F0KGQpOmw9LTEsZC5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCF1KXt2YXIgZT1zKGYpO3U9ITA7Zm9yKHZhciB0PWQubGVuZ3RoO3Q7KXtmb3IoYz1kLGQ9W107KytsPHQ7KWMmJmNbbF0ucnVuKCk7bD0tMSx0PWQubGVuZ3RofWM9bnVsbCx1PSExLGZ1bmN0aW9uKGUpe2lmKHI9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigocj09PWF8fCFyKSYmY2xlYXJUaW1lb3V0KXJldHVybiByPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3IoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBtKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtkLnB1c2gobmV3IGcoZSx0KSksMSE9PWQubGVuZ3RofHx1fHxzKHApfSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPVwiYnJvd3NlclwiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPVwiXCIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3IuZm9yRWFjaChlLChmdW5jdGlvbihuLHIpe3IhPT10JiZyLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPW4sZGVsZXRlIGVbcl0pfSkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNDMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9bi5jb25maWcudmFsaWRhdGVTdGF0dXM7IWl8fGkobi5zdGF0dXMpP2Uobik6dChyKFwiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIituLnN0YXR1cyxuLmNvbmZpZyxudWxsLG4ucmVxdWVzdCxuKSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGUuY29uZmlnPXQsbiYmKGUuY29kZT1uKSxlLnJlcXVlc3Q9cixlLnJlc3BvbnNlPWksZS5pc0F4aW9zRXJyb3I9ITAsZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6dGhpcy5jb25maWcsY29kZTp0aGlzLmNvZGV9fSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oODgpLGk9big4OSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJiFyKHQpP2koZSx0KTp0fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4vXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZS5yZXBsYWNlKC9cXC8rJC8sXCJcIikrXCIvXCIrdC5yZXBsYWNlKC9eXFwvKy8sXCJcIik6ZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KSxpPVtcImFnZVwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29udGVudC1sZW5ndGhcIixcImNvbnRlbnQtdHlwZVwiLFwiZXRhZ1wiLFwiZXhwaXJlc1wiLFwiZnJvbVwiLFwiaG9zdFwiLFwiaWYtbW9kaWZpZWQtc2luY2VcIixcImlmLXVubW9kaWZpZWQtc2luY2VcIixcImxhc3QtbW9kaWZpZWRcIixcImxvY2F0aW9uXCIsXCJtYXgtZm9yd2FyZHNcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcInJlZmVyZXJcIixcInJldHJ5LWFmdGVyXCIsXCJ1c2VyLWFnZW50XCJdO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLG8sYT17fTtyZXR1cm4gZT8oci5mb3JFYWNoKGUuc3BsaXQoXCJcXG5cIiksKGZ1bmN0aW9uKGUpe2lmKG89ZS5pbmRleE9mKFwiOlwiKSx0PXIudHJpbShlLnN1YnN0cigwLG8pKS50b0xvd2VyQ2FzZSgpLG49ci50cmltKGUuc3Vic3RyKG8rMSkpLHQpe2lmKGFbdF0mJmkuaW5kZXhPZih0KT49MClyZXR1cm47YVt0XT1cInNldC1jb29raWVcIj09PXQ/KGFbdF0/YVt0XTpbXSkuY29uY2F0KFtuXSk6YVt0XT9hW3RdK1wiLCBcIituOm59fSkpLGEpOmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCk7ZS5leHBvcnRzPXIuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKT9mdW5jdGlvbigpe3ZhciBlLHQ9Lyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2Z1bmN0aW9uIGkoZSl7dmFyIHI9ZTtyZXR1cm4gdCYmKG4uc2V0QXR0cmlidXRlKFwiaHJlZlwiLHIpLHI9bi5ocmVmKSxuLnNldEF0dHJpYnV0ZShcImhyZWZcIixyKSx7aHJlZjpuLmhyZWYscHJvdG9jb2w6bi5wcm90b2NvbD9uLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6bi5ob3N0LHNlYXJjaDpuLnNlYXJjaD9uLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6bi5oYXNoP24uaGFzaC5yZXBsYWNlKC9eIy8sXCJcIik6XCJcIixob3N0bmFtZTpuLmhvc3RuYW1lLHBvcnQ6bi5wb3J0LHBhdGhuYW1lOlwiL1wiPT09bi5wYXRobmFtZS5jaGFyQXQoMCk/bi5wYXRobmFtZTpcIi9cIituLnBhdGhuYW1lfX1yZXR1cm4gZT1pKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxmdW5jdGlvbih0KXt2YXIgbj1yLmlzU3RyaW5nKHQpP2kodCk6dDtyZXR1cm4gbi5wcm90b2NvbD09PWUucHJvdG9jb2wmJm4uaG9zdD09PWUuaG9zdH19KCk6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KTtlLmV4cG9ydHM9ci5pc1N0YW5kYXJkQnJvd3NlckVudigpP3t3cml0ZTpmdW5jdGlvbihlLHQsbixpLG8sYSl7dmFyIHM9W107cy5wdXNoKGUrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKSxyLmlzTnVtYmVyKG4pJiZzLnB1c2goXCJleHBpcmVzPVwiK25ldyBEYXRlKG4pLnRvR01UU3RyaW5nKCkpLHIuaXNTdHJpbmcoaSkmJnMucHVzaChcInBhdGg9XCIraSksci5pc1N0cmluZyhvKSYmcy5wdXNoKFwiZG9tYWluPVwiK28pLCEwPT09YSYmcy5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1zLmpvaW4oXCI7IFwiKX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDtcXFxccyopKFwiK2UrXCIpPShbXjtdKilcIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzNdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZShlLFwiXCIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQ1KTtmdW5jdGlvbiBpKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt0PWV9KSk7dmFyIG49dGhpcztlKChmdW5jdGlvbihlKXtuLnJlYXNvbnx8KG4ucmVhc29uPW5ldyByKGUpLHQobi5yZWFzb24pKX0pKX1pLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWFzb24pdGhyb3cgdGhpcy5yZWFzb259LGkuc291cmNlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJue3Rva2VuOm5ldyBpKChmdW5jdGlvbih0KXtlPXR9KSksY2FuY2VsOmV9fSxlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkobnVsbCx0KX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9cihuKDApKSxvPTEsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5sb2NraW5nUHJvbWlzZT1Qcm9taXNlLnJlc29sdmUoKSx0aGlzLmxvY2tzPTAsdGhpcy5uYW1lPVwiXCIsdGhpcy5sb2NrSWQ9bysrLGUmJih0aGlzLm5hbWU9ZSksaS5kZWZhdWx0LmRlYnVnKFwiW2xvY2stXCIrdGhpcy5uYW1lK1wiLVwiK3RoaXMubG9ja0lkK1wiXSBpcyBjcmVhdGVkLlwiKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNMb2NrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja3M+MH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzO3RoaXMubG9ja3MrPTEsaS5kZWZhdWx0LmRlYnVnKFwiW2xvY2stXCIrdGhpcy5uYW1lK1wiLVwiK3RoaXMubG9ja0lkK1wiXSBpcyBsb2NrZWQsIGN1cnJlbnQgcXVldWUgXCIrdGhpcy5sb2NrcytcIi5cIik7dmFyIG49bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2U9ZnVuY3Rpb24oKXt0LmxvY2tzLT0xLGkuZGVmYXVsdC5kZWJ1ZyhcIltsb2NrLVwiK3QubmFtZStcIi1cIit0LmxvY2tJZCtcIl0gaXMgbm90IGxvY2tlZCwgY3VycmVudCBxdWV1ZSBcIit0LmxvY2tzK1wiLlwiKSxuKCl9fSkpLHI9dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlfSkpO3JldHVybiB0aGlzLmxvY2tpbmdQcm9taXNlPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKSxyfSxlfSgpO3QuUHJvbWlzZU11dGV4PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCk7dmFyIHI9bigyKSxpPW4oMCksbz1uKDEpLGE9big4KSxzPW4oNSksYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7W1wiQmF0dGVyeUxldmVsXCJdLmluZGV4T2YoZSk+LTEmJih0aGlzW2VdPXQpfTt2YXIgZD1uZXcgZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QoYS5iKSgpO3JldHVybiBlLnN0YXRlcz17VU5JTklUOlwiVU5JTklUXCIsSU5JVElORzpcIklOSVRJTkdcIixJTklURUQ6XCJJTklURURcIn0sZS5zdGF0ZT1lLnN0YXRlcy5VTklOSVQsZS5iYXR0ZXJ5TWFuYWdlcj1udWxsLGUuX2luaXQ9ZnVuY3Rpb24odCxuKXtlLnN0YXRlPWUuc3RhdGVzLklOSVRJTkcsbmF2aWdhdG9yLmdldEJhdHRlcnk/bmF2aWdhdG9yLmdldEJhdHRlcnkoKS50aGVuKChmdW5jdGlvbihuKXtlLmJhdHRlcnlNYW5hZ2VyPW4sdCYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KCl9KSwwKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmRlYnVnKFwibmF2aWdhdG9yLmdldEJhdHRlcnkgaXMgZGlzYWJsZWRcIixlKSx0JiZ0KCl9KSk6KGUuc3RhdGU9ZS5zdGF0ZXMuSU5JVEVELHQmJnQoKSl9LGUuX2dldEJhdHRlcnlTdGF0cz1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBlLmJhdHRlcnlNYW5hZ2VyJiZlLmJhdHRlcnlNYW5hZ2VyLmxldmVsP3QuQmF0dGVyeUxldmVsPU1hdGguZmxvb3IoMTAwKmUuYmF0dGVyeU1hbmFnZXIubGV2ZWwpOnQuQmF0dGVyeUxldmVsPVwiVU5TVVBQT1JURURcIix0fSxlLmdldFN0YXRzPWZ1bmN0aW9uKHQsbil7dmFyIHI9bmV3IGMsaT1lLl9nZXRCYXR0ZXJ5U3RhdHMoKTtpJiZpLkJhdHRlcnlMZXZlbCYmci5zZXQoXCJCYXR0ZXJ5TGV2ZWxcIixpLkJhdHRlcnlMZXZlbCksdCYmdChyKX0sZS5faW5pdCgpLGV9LHU9bigyMiksbD1uKDE5KSxmPW4oMjYpLHA9big1MyksZz1uKDkpLG09W1wibGl2ZVwiLFwicnRjXCIsXCJ3ZWJcIixcImludGVyb3BcIixcImgyNjRfaW50ZXJvcFwiLFwid2ViLW9ubHlcIl0saD1bXCJ2cDhcIixcInZwOVwiLFwiaDI2NFwiXSx2PVtcImFlcy0xMjgtZ2NtXCIsXCJhZXMtMjU2LWdjbVwiLFwiYWVzLTEyOC14dHNcIixcImFlcy0yNTYteHRzXCIsXCJhZXMtMTI4LWVjYlwiLFwic200LTEyOC1lY2JcIixcImFlcy0yNTYtZ2NtMlwiLFwiYWVzLTEyOC1nY20yXCJdLEU9bigxMSksUz1uLm4oRSksXz1uKDcpLHk9bi5uKF8pLFI9bigxMyksVD1uKDQpLEk9bigxMCksYj1uKDIwKSxBPW4oNiksTz1uKDE0KSxDPXsxMDAxOlwiRlJBTUVSQVRFX0lOUFVUX1RPT19MT1dcIiwxMDAyOlwiRlJBTUVSQVRFX1NFTlRfVE9PX0xPV1wiLDEwMDM6XCJTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPV1wiLDEwMDU6XCJSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRURcIiwyMDAxOlwiQVVESU9fSU5QVVRfTEVWRUxfVE9PX0xPV1wiLDIwMDI6XCJBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPV1wiLDIwMDM6XCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV1wiLDIwMDU6XCJSRUNWX0FVRElPX0RFQ09ERV9GQUlMRURcIiwzMDAxOlwiRlJBTUVSQVRFX0lOUFVUX1RPT19MT1dfUkVDT1ZFUlwiLDMwMDI6XCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XX1JFQ09WRVJcIiwzMDAzOlwiU0VORF9WSURFT19CSVRSQVRFX1RPT19MT1dfUkVDT1ZFUlwiLDMwMDU6XCJSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRURfUkVDT1ZFUlwiLDQwMDE6XCJBVURJT19JTlBVVF9MRVZFTF9UT09fTE9XX1JFQ09WRVJcIiw0MDAyOlwiQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1dfUkVDT1ZFUlwiLDQwMDM6XCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV19SRUNPVkVSXCIsNDAwNTpcIlJFQ1ZfQVVESU9fREVDT0RFX0ZBSUxFRF9SRUNPVkVSXCJ9LE49e0ZyYW1lcmF0ZUlucHV0OjEwMDEsRnJhbWVyYXRlU2VudDoxMDAyLFNlbmRWaWRlb0JpdHJhdGU6MTAwMyxWaWRlb0RlY29kZToxMDA1LEF1ZGlvSW50cHV0TGV2ZWw6MjAwMSxBdWRpb091dHB1dExldmVsOjIwMDIsU2VuZEF1ZGlvQml0cmF0ZToyMDAzLEF1ZGlvRGVjb2RlOjIwMDV9LHc9ZnVuY3Rpb24oZSl7dmFyIHQ9e3JlbW90ZVN0cmVhbVN0b3JhZ2U6e30sbG9jYWxTdHJlYW1TdG9yYWdlOnt9fTtyZXR1cm4gdC5nYXRld2F5Q2xpZW50PWUsdC5jaGVja0F1ZGlvT3V0cHV0TGV2ZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIShlJiZwYXJzZUludChlLmF1ZGlvUmVjdkJ5dGVzRGVsdGEpPjAmJnBhcnNlSW50KGUuYXVkaW9EZWNvZGluZ05vcm1hbERlbHRhKT4wJiYwPT09cGFyc2VJbnQoZS5hdWRpb091dHB1dExldmVsKSl9LHQuY2hlY2tBdWRpb0ludHB1dExldmVsPWZ1bmN0aW9uKGUpe3JldHVybiFlfHwwIT09cGFyc2VJbnQoZS5hdWRpb0lucHV0TGV2ZWwpfSx0LmNoZWNrRnJhbWVyYXRlSW5wdXQ9ZnVuY3Rpb24oZSx0KXtpZighZXx8IXQuYXR0cmlidXRlcylyZXR1cm4hMDt2YXIgbj1wYXJzZUludCh0LmF0dHJpYnV0ZXMubWF4RnJhbWVSYXRlKSxyPXBhcnNlSW50KGUuZ29vZ0ZyYW1lUmF0ZUlucHV0KTtyZXR1cm4hbnx8IXJ8fCEobj4xMCYmcjw1fHxuPDEwJiZuPj01JiZyPD0xKX0sdC5jaGVja0ZyYW1lcmF0ZVNlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIShlJiZwYXJzZUludChlLmdvb2dGcmFtZVJhdGVJbnB1dCk+NSYmcGFyc2VJbnQoZS5nb29nRnJhbWVSYXRlU2VudCk8PTEpfSx0LmNoZWNrU2VuZFZpZGVvQml0cmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4hZXx8MCE9PXBhcnNlSW50KGUudmlkZW9TZW5kQnl0ZXNEZWx0YSl9LHQuY2hlY2tTZW5kQXVkaW9CaXRyYXRlPWZ1bmN0aW9uKGUpe3JldHVybiFlfHwwIT09cGFyc2VJbnQoZS5hdWRpb1NlbmRCeXRlc0RlbHRhKX0sdC5jaGVja1ZpZGVvRGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiFlfHwwPT09cGFyc2VJbnQoZS52aWRlb1JlY3ZCeXRlc0RlbHRhKXx8MCE9PXBhcnNlSW50KGUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQpfSx0LmNoZWNrQXVkaW9EZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDA9PT1wYXJzZUludChlLmF1ZGlvUmVjdkJ5dGVzRGVsdGEpfHwwIT09cGFyc2VJbnQoZS5hdWRpb0RlY29kaW5nTm9ybWFsRGVsdGEpfSx0LnJlY29yZD1mdW5jdGlvbihlLG4scixpLG8pe3JbZV18fChyW2VdPXtpc1ByZXZOb3JtYWw6ITAscmVjb3JkOltdfSk7dmFyIGE9cltlXSxzPXRbXCJjaGVja1wiK2VdKG4sbyk7aWYoYS5yZWNvcmQucHVzaChzKSxhLnJlY29yZC5sZW5ndGg+PTUpe2EuaXNDdXJOb3JtYWw9LTEhPT1hLnJlY29yZC5pbmRleE9mKCEwKTt2YXIgYz1OW2VdO2EuaXNQcmV2Tm9ybWFsJiYhYS5pc0N1ck5vcm1hbCYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJleGNlcHRpb25cIixjb2RlOmMsbXNnOkNbY10sdWlkOml9KSwhYS5pc1ByZXZOb3JtYWwmJmEuaXNDdXJOb3JtYWwmJnQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZXhjZXB0aW9uXCIsY29kZTpjKzJlMyxtc2c6Q1tjKzJlM10sdWlkOml9KSxhLmlzUHJldk5vcm1hbD1hLmlzQ3VyTm9ybWFsLGEucmVjb3JkPVtdfX0sdC5zZXRMb2NhbFN0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24ocil7dmFyIGk9ZVtyXSxvPXQuZ2F0ZXdheUNsaWVudC5sb2NhbFN0cmVhbXNbcGFyc2VJbnQocildLGE9dC5sb2NhbFN0cmVhbVN0b3JhZ2Vbcl18fHt9O28mJm8uaGFzVmlkZW8oKSYmKHQucmVjb3JkKFwiU2VuZFZpZGVvQml0cmF0ZVwiLGkudmlkZW9TdGF0cyxhLHIpLHQucmVjb3JkKFwiRnJhbWVyYXRlSW5wdXRcIixpLnZpZGVvU3RhdHMsYSxyLG8pLHQucmVjb3JkKFwiRnJhbWVyYXRlU2VudFwiLGkudmlkZW9TdGF0cyxhLHIpKSxvJiZvLmhhc0F1ZGlvKCkmJih0LnJlY29yZChcIkF1ZGlvSW50cHV0TGV2ZWxcIixpLmF1ZGlvU3RhdHMsYSxyKSx0LnJlY29yZChcIlNlbmRBdWRpb0JpdHJhdGVcIixpLmF1ZGlvU3RhdHMsYSxyKSksbltyXT1hfSkpLHQubG9jYWxTdHJlYW1TdG9yYWdlPW59LHQuc2V0UmVtb3RlU3RhdHM9ZnVuY3Rpb24obil7dmFyIHI9e307T2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihpKXt2YXIgbz1uW2ldLGE9ZS5yZW1vdGVTdHJlYW1zW2ldLHM9dC5yZW1vdGVTdHJlYW1TdG9yYWdlW2ldfHx7fTthJiZhLmhhc1ZpZGVvKCkmJmEuaXNQbGF5aW5nKCkmJnQucmVjb3JkKFwiVmlkZW9EZWNvZGVcIixvLnZpZGVvU3RhdHMscyxpKSxhJiZhLmhhc0F1ZGlvKCkmJmEuaXNQbGF5aW5nKCkmJih0LnJlY29yZChcIkF1ZGlvT3V0cHV0TGV2ZWxcIixvLmF1ZGlvU3RhdHMscyxpKSx0LnJlY29yZChcIkF1ZGlvRGVjb2RlXCIsby5hdWRpb1N0YXRzLHMsaSkpLHJbaV09c30pKSx0LnJlbW90ZVN0cmVhbVN0b3JhZ2U9cn0sdH07ZnVuY3Rpb24gTChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHxudWxsPT1lW1N5bWJvbC5pdGVyYXRvcl0pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBEKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO1wiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bilyZXR1cm4gQXJyYXkuZnJvbShuKTtpZihcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIEQoZSx0KX0oZSkpKXt2YXIgdD0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiB0Pj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVt0KytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixpLG89ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ZVtTeW1ib2wuaXRlcmF0b3JdKCl9LG46ZnVuY3Rpb24oKXt2YXIgZT1yLm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXthPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19fX1mdW5jdGlvbiBEKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGssTT1uKDMpLFA9bmV3IGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0KGEuYikoKTtyZXR1cm4gZS5zdGF0ZXM9e1VOSU5JVDpcIlVOSU5JVFwiLElOSVRJTkc6XCJJTklUSU5HXCIsSU5JVEVEOlwiSU5JVEVEXCJ9LGUuc3RhdGU9ZS5zdGF0ZXMuVU5JTklULGUudHlwZT1udWxsLGUubGFzdENvbm5lY3RlZEF0PW51bGwsZS5sYXN0RGlzY29ubmVjdGVkQXQ9bnVsbCxlLmxhc3RUeXBlQ2hhbmdlZEF0PW51bGwsZS5uZXR3b3JrQ2hhbmdlVGltZXI9bnVsbCxlLl9pbml0PWZ1bmN0aW9uKHQsbil7aWYoZS5zdGF0ZT1lLnN0YXRlcy5JTklUSU5HLG5hdmlnYXRvci5jb25uZWN0aW9uJiZuYXZpZ2F0b3IuY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKXt2YXIgcj1lLl9nZXROZXR3b3JrSW5mbygpO2UudHlwZT1yJiZyLnR5cGUsZS5zdGF0ZT1lLnN0YXRlcy5JTklURUQsdCYmdCgpfWVsc2UgZS5zdGF0ZT1lLnN0YXRlcy5VTklOSVQsbiYmbihcIkRPX05PVF9TVVBQT1JUXCIpfSxlLl9nZXROZXR3b3JrSW5mbz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IuY29ubmVjdGlvbn0sZS5fcmVsb2FkTmV0d29ya0luZm89ZnVuY3Rpb24oKXt2YXIgdD1lLl9nZXROZXR3b3JrSW5mbygpLG49dCYmdC50eXBlfHxcIlVOU1VQUE9SVEVEXCIscj1EYXRlLm5vdygpO2lmKG4hPT1lLnR5cGUpe2UubGFzdFR5cGVDaGFuZ2VkQXQ9cixcIm5vbmVcIj09bj9lLmxhc3REaXNjb25uZWN0ZWRBdD1yOlwibm9uZVwiPT1lLnR5cGUmJihlLmxhc3RDb25uZWN0ZWRBdD1yKSxlLnR5cGU9bjt2YXIgaT17dHlwZTpcIm5ldHdvcmtUeXBlQ2hhbmdlZFwiLG5ldHdvcmtUeXBlOm59O2UuZGlzcGF0Y2hFdmVudChpKX19LGUuZ2V0U3RhdHM9ZnVuY3Rpb24odCxuKXt2YXIgcj17fSxpPWUuX2dldE5ldHdvcmtJbmZvKCk7aSYmKHIuTmV0d29ya1R5cGU9aS50eXBlfHxcIlVOU1VQUE9SVEVEXCIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChyKX0pLDApfSxlLl9pbml0KChmdW5jdGlvbigpe25hdmlnYXRvci5jb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwoZnVuY3Rpb24oKXtlLl9yZWxvYWROZXR3b3JrSW5mbygpfSkpLGUubmV0d29ya0NoYW5nZVRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe2UuX3JlbG9hZE5ldHdvcmtJbmZvKCl9KSw1ZTMpfSksKGZ1bmN0aW9uKGUpe30pKSxlfSx4PW4oNTUpLFU9bigxNiksaj1uKDU2KSxWPW4ubihqKSxCPW4oMjEpLEY9ZnVuY3Rpb24oKXtyZXR1cm5cIkhUVFBTXCI9PT0oa3x8a3x8KGs9KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5zcGxpdChcIjpcIilbMF18fFwiXCIpLnRvVXBwZXJDYXNlKCkpKX0sVz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT13aW5kb3cuaXNTZWN1cmVDb250ZXh0fSxHPVwiaG9zdFwiLEg9ZnVuY3Rpb24oZSl7dmFyIHQ9e2tleTp2b2lkIDAsaGlnaFN0cmVhbTpudWxsLGxvd1N0cmVhbTpudWxsLGxvd1N0cmVhbVBhcmFtZXRlcjpudWxsLGlzRHVhbFN0cmVhbTohMSxoaWdoU3RyZWFtU3RhdGU6Mixsb3dTdHJlYW1TdGF0ZToyLHByb3h5U2VydmVyOm51bGwsdHVyblNlcnZlcnM6W10sdXNlUHJveHlTZXJ2ZXI6ITEsdXNlTG9jYWxBY2Nlc3NQb2ludDohMX07dC5tb2RlPWUubW9kZSx0LmNvZGVjPWUuY29kZWMsdC5jbGllbnRJZD1PYmplY3QoSS5nZW5lcmF0ZVNlc3Npb25JZCkoKS5zbGljZSgwLDUpLHQudWludFVpZD1udWxsLHQuY3VzdG9tUmVwb3J0Q291bnQ9MDtlPXkoKSh7fSxlKTtpZih0LmFlc3Bhc3N3b3JkPW51bGwsdC5hZXNtb2RlPVwibm9uZVwiLHQuaGFzUHVibGlzaGVkPSExLHQuZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc2Vzc2lvbklkfSx0LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHImJnIoZSk7ciYmcigpfSxuYW1lOlwiQ2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKCEobiBpbnN0YW5jZW9mIGcuQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uKSl0aHJvd1wiQ29uZmlncmF0aW9uIHNob3VsZCBiZSBpbnN0YW5jZSBvZiBbQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uXVwiO3ZhciBhPW4uZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLHM9bi5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mb3MoKTtpZihPYmplY3QoTS5pc0VtcHR5KShhKSl0aHJvd1wic3JjQ2hhbm5lbE1lZGlhSW5mbyBzaG91bGQgbm90IGJlIGVtcHR5XCI7aWYoT2JqZWN0KE0uaXNFbXB0eSkocyl8fDA9PT1zLmxlbmd0aCl0aHJvd1wiZGVzdENoYW5uZWxNZWRpYUluZm9zIHNob3VsZCBub3QgYmUgZW1wdHlcIjtpZighT2JqZWN0KEkuaXMzMlVpbnQpKGEudWlkKSl0aHJvd1wiSW52YWxpZCB1aWQgaW4gc3JjQ2hhbm5lbE1lZGlhSW5mb1wiO2lmKCFPYmplY3QoTS5pc1ZhbGlkQ2hhbm5lbE5hbWUpKGEuY2hhbm5lbE5hbWUpKXRocm93XCJJbnZhbGlkIGNoYW5uZWxOYW1lIGluIHNyY0NoYW5uZWxNZWRpYUluZm9cIjtpZihhLnRva2VuJiYhT2JqZWN0KE0uaXNWYWxpZFRva2VuKShhLnRva2VuKSl0aHJvd1wiSW52YWxpZCB0b2tlbiBpbiBzcmNDaGFubmVsTWVkaWFJbmZvXCI7aWYocy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighT2JqZWN0KEkuaXMzMlVpbnQpKGUudWlkKSl0aHJvd1wiSW52YWxpZCB1aWQgaW4gZGVzdENoYW5uZWxNZWRpYUluZm9cIjtpZighT2JqZWN0KE0uaXNWYWxpZENoYW5uZWxOYW1lKShlLmNoYW5uZWxOYW1lKSl0aHJvd1wiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBkZXN0Q2hhbm5lbE1lZGlhSW5mb1wiO2lmKGUudG9rZW4mJiFPYmplY3QoTS5pc1ZhbGlkVG9rZW4pKGUudG9rZW4pKXRocm93XCJJbnZhbGlkIHRva2VuIGluIGRlc3RDaGFubmVsTWVkaWFJbmZvXCJ9KSksdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkNPTk5FQ1RFRCl0aHJvd1wic3RhcnRDaGFubmVsTWVkaWFSZWxheSBzaG91bGQgYmUgdXNlZCBhZnRlciBqb2luXCI7dC5nYXRld2F5Q2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkobikudGhlbigoZnVuY3Rpb24oKXtpJiZpKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kmJmkoZSl9KSl9LHQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXk9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHImJnIoZSk7ciYmcigpfSxuYW1lOlwiQ2xpZW50LnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZighKG4gaW5zdGFuY2VvZiBnLkNoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbikpdGhyb3dcIkNvbmZpZ3JhdGlvbiBzaG91bGQgYmUgaW5zdGFuY2Ugb2YgW0NoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbl1cIjt2YXIgYT1uLmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSxzPW4uZ2V0RGVzdENoYW5uZWxNZWRpYUluZm9zKCk7aWYoT2JqZWN0KE0uaXNFbXB0eSkoYSkpdGhyb3dcInNyY0NoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiO2lmKE9iamVjdChNLmlzRW1wdHkpKHMpfHwwPT09cy5sZW5ndGgpdGhyb3dcImRlc3RDaGFubmVsTWVkaWFJbmZvcyBzaG91bGQgbm90IGJlIGVtcHR5XCI7aWYoIU9iamVjdChJLmlzMzJVaW50KShhLnVpZCkpdGhyb3dcIkludmFsaWQgdWlkIGluIHNyY0NoYW5uZWxNZWRpYUluZm9cIjtpZighT2JqZWN0KE0uaXNWYWxpZENoYW5uZWxOYW1lKShhLmNoYW5uZWxOYW1lKSl0aHJvd1wiSW52YWxpZCBjaGFubmVsTmFtZSBpbiBzcmNDaGFubmVsTWVkaWFJbmZvXCI7aWYoYS50b2tlbiYmIU9iamVjdChNLmlzVmFsaWRUb2tlbikoYS50b2tlbikpdGhyb3dcIkludmFsaWQgdG9rZW4gaW4gc3JjQ2hhbm5lbE1lZGlhSW5mb1wiO2lmKHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChJLmlzMzJVaW50KShlLnVpZCkpdGhyb3dcIkludmFsaWQgdWlkIGluIGRlc3RDaGFubmVsTWVkaWFJbmZvXCI7aWYoIU9iamVjdChNLmlzVmFsaWRDaGFubmVsTmFtZSkoZS5jaGFubmVsTmFtZSkpdGhyb3dcIkludmFsaWQgY2hhbm5lbE5hbWUgaW4gZGVzdENoYW5uZWxNZWRpYUluZm9cIjtpZihlLnRva2VuJiYhT2JqZWN0KE0uaXNWYWxpZFRva2VuKShlLnRva2VuKSl0aHJvd1wiSW52YWxpZCB0b2tlbiBpbiBkZXN0Q2hhbm5lbE1lZGlhSW5mb1wifSkpLHQuZ2F0ZXdheUNsaWVudC5zdGF0ZSE9PVIuYS5DT05ORUNURUQpdGhyb3dcInVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5IHNob3VsZCBiZSB1c2VkIGFmdGVyIGpvaW5cIjt0LmdhdGV3YXlDbGllbnQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkobikudGhlbigoZnVuY3Rpb24oKXtpJiZpKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kmJmkoZSl9KSl9LHQuc3RvcENoYW5uZWxNZWRpYVJlbGF5PWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gbiYmbihlKTtuJiZuKCl9LG5hbWU6XCJDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTt0LmdhdGV3YXlDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5KCkudGhlbigoZnVuY3Rpb24oKXtyJiZyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3ImJnIoZSl9KSl9LHQuZ2V0Q29ubmVjdGlvblN0YXRlPWZ1bmN0aW9uKCl7dmFyIG49by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LmdldENvbm5lY3Rpb25TdGF0ZVwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSkscj1SLmEuY29ubmV0aW9uU3RhdGVNYXBbdC5nYXRld2F5Q2xpZW50LnN0YXRlXTtyZXR1cm4gbigpLHJ9LHQuc2V0Q2xpZW50Um9sZT1mdW5jdGlvbihuLHIpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6cixuYW1lOlwiQ2xpZW50LnNldENsaWVudFJvbGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKE9iamVjdChNLmNoZWNrVmFsaWRFbnVtKShuLFwic2V0Q2xpZW50Um9sZVwiLFtHLFwiYXVkaWVuY2VcIl0pLFwicnRjXCI9PT10Lm1vZGUpe3ZhciBzPVwiUlRDIG1vZGUgY2FuIG5vdCB1c2Ugc2V0Q2xpZW50Um9sZVwiO3JldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gXCIpLmNvbmNhdChzKSksYSYmYShzKX10LmdhdGV3YXlDbGllbnQmJnQuZ2F0ZXdheUNsaWVudC5zdGF0ZT09PVIuYS5DT05ORUNURUQ/KFwiYXVkaWVuY2VcIj09PW4mJigwPT09dGhpcy5oaWdoU3RyZWFtU3RhdGU/dGhpcy5fdW5wdWJsaXNoKHRoaXMuaGlnaFN0cmVhbSwoZnVuY3Rpb24oKXthJiZhKG51bGwse3JvbGU6bn0pfSksKGZ1bmN0aW9uKGUpe2EmJmEoZSl9KSk6dC5nYXRld2F5Q2xpZW50LnNldENsaWVudFJvbGUoXCJhdWRpZW5jZVwiLGEpKSxuPT09RyYmdC5nYXRld2F5Q2xpZW50LnNldENsaWVudFJvbGUoRyxhKSk6KHQuZ2F0ZXdheUNsaWVudC5yb2xlPW4sYSYmYShudWxsLHtyb2xlOm59KSl9LHQuZ2V0R2F0ZXdheUluZm89ZnVuY3Rpb24oZSl7aWYodC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkNPTk5FQ1RFRCl7dmFyIG49XCJDbGllbnQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZVwiO3JldHVybiBpLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFwiKS5jb25jYXQobikpLHZvaWQgZShuKX10LmdhdGV3YXlDbGllbnQuZ2V0R2F0ZXdheUluZm8oKGZ1bmN0aW9uKHQpe2UobnVsbCx0KX0pLGUpfSx0LnJlbmV3VG9rZW49ZnVuY3Rpb24obixyLGEpe3ZhciBzPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpLmRlZmF1bHQuZXJyb3IoXCJGYWlsZWQgdG8gcmVuZXcgdG9rZW4gXCIuY29uY2F0KGUpLHQpLGEmJmEoZSk7ciYmcih0KX0sbmFtZTpcIkNsaWVudC5yZW5ld1Rva2VuXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZighT2JqZWN0KE0uaXNWYWxpZFRva2VuKShuKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRva2VuOiBUb2tlbiBpcyBvZiB0aGUgc3RyaW5nIHR5cGUgLkxlbmd0aCBvZiB0aGUgc3RyaW5nOiBbMSwyNTVdLiBBU0NJSSBjaGFyYWN0ZXJzIG9ubHkuXCIpO3JldHVybiB0LmdhdGV3YXlDbGllbnQ/dC5rZXk/KHQua2V5PW4sdm9pZCB0LmdhdGV3YXlDbGllbnQucmVuZXdUb2tlbihuLChmdW5jdGlvbihlKXtyZXR1cm4gcyhudWxsLGUpfSkscykpOihpLmRlZmF1bHQuZXJyb3IoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHVzZXIgam9pblwiKSkscyhULmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pKTooaS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSByZW5ld1Rva2VuIEZhaWxlZC4gR2F0ZXdheUNsaWVudCBub3QgRXhpc3RcIikpLHMoVC5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKSl9LHQuc2V0TG93U3RyZWFtUGFyYW1ldGVyPWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO09iamVjdChNLmNoZWNrVmFsaWRPYmplY3QpKG4sXCJwYXJhbVwiKTt2YXIgYT1uLndpZHRoLHM9bi5oZWlnaHQsYz1uLmZyYW1lcmF0ZSxkPW4uYml0cmF0ZTtPYmplY3QoTS5pc0VtcHR5KShhKXx8T2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikoYSxcIndpZHRoXCIpLE9iamVjdChNLmlzRW1wdHkpKHMpfHxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShzLFwiaGVpZ2h0XCIpLE9iamVjdChNLmlzRW1wdHkpKGMpfHxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShjLFwiZnJhbWVyYXRlXCIpLE9iamVjdChNLmlzRW1wdHkpKGQpfHxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShkLFwiYml0cmF0ZVwiLDEsMWU3KSwoIWEmJnN8fGEmJiFzKSYmaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFRoZSB3aWR0aCBhbmQgaGVpZ2h0IHBhcmFtZXRlcnMgdGFrZSBlZmZlY3Qgb25seSB3aGVuIGJvdGggYXJlIHNldFwiKSksdC5sb3dTdHJlYW1QYXJhbWV0ZXI9bixyKCl9LHQuaW5pdD1mdW5jdGlvbih0LG4scil7dmFyIGk9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHImJnIoZSk7biYmbih0KX0sbmFtZTpcIkNsaWVudC5pbml0XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKSh0KSxPYmplY3Qocy5pc0Nocm9tZUtlcm5lbCkoKSYmT2JqZWN0KHMuZ2V0Q2hyb21lS2VybmVsVmVyc2lvbikoKTw9NDg/cj9pKFQuZGVmYXVsdC5CQURfRU5WSVJPTk1FTlQpOk9iamVjdChJLnBvcEJhblRpcCkoKTooZS5hcHBJZD10LGUuc2Vzc2lvbklkPU9iamVjdChJLmdlbmVyYXRlU2Vzc2lvbklkKSgpLGkoKSl9LHQuc2V0VHVyblNlcnZlcj1mdW5jdGlvbihuKXt2YXIgcj1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2V0VHVyblNlcnZlclwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7aWYodC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuc3RhdGUhPT1SLmEuRElTQ09OTkVDVEVEKXRocm93IG5ldyBFcnJvcihcIlNldCB0dXJuIHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKHQudXNlUHJveHlTZXJ2ZXIpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpO2lmKHQudXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgbG9jYWwgcHJveHlcIik7biBpbnN0YW5jZW9mIEFycmF5fHwobj1bbl0pO3ZhciBhPVtdO24ubWFwKChmdW5jdGlvbihlLG4pe09iamVjdChNLmNoZWNrVmFsaWRPYmplY3QpKGUsXCJ0dXJuU2VydmVyXCIpO3ZhciByPWUudHVyblNlcnZlclVSTCxvPWUudXNlcm5hbWUscz1lLnBhc3N3b3JkLGM9ZS51ZHBwb3J0LGQ9ZS5mb3JjZXR1cm4sdT1lLnRjcHBvcnQ7aWYoT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykocixcInR1cm5TZXJ2ZXJVUkxcIiksT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykobyxcInVzZXJuYW1lXCIpLE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKHMsXCJwYXNzd29yZFwiKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShjLFwidWRwcG9ydFwiKSwwPT09cGFyc2VJbnQoYykpdGhyb3cgbmV3IEVycm9yKFwidWRwcG9ydCBzaG91bGQgbm90IGJlIFwiLmNvbmNhdChjKSk7T2JqZWN0KE0uaXNFbXB0eSkoZCl8fE9iamVjdChNLmNoZWNrVmFsaWRCb29sZWFuKShkLFwiZm9yY2V0dXJuXCIpO3ZhciBsPXttb2RlOlwibWFudWFsXCJ9O2lmKGwudXJsPXIsbC51ZHBwb3J0PWMsbC51c2VybmFtZT1vLGwuY3JlZGVudGlhbD1zLGwuZm9yY2V0dXJuPWR8fCExLCFPYmplY3QoTS5pc0VtcHR5KSh1KSl7aWYoT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykodSxcInRjcHBvcnRcIiksMD09PXBhcnNlSW50KHUpKXRocm93IG5ldyBFcnJvcihcInRjcHBvcnQgc2hvdWxkIG5vdCBiZSBcIi5jb25jYXQodSkpO2wudGNwcG9ydD11LGkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBTZXQgdHVybnNlcnZlcltcIikuY29uY2F0KG4sXCJdIHRjcHVybC4gXCIpLmNvbmNhdChsLnVybCxcIjpcIikuY29uY2F0KGwudGNwcG9ydCkpfWkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBTZXQgdHVybnNlcnZlcltcIikuY29uY2F0KG4sXCJdIHVkcHVybC4gXCIpLmNvbmNhdChsLnVybCxcIjpcIikuY29uY2F0KGwudWRwcG9ydCxcIix1c2VybmFtZTogXCIpLmNvbmNhdChsLnVzZXJuYW1lKSksYS5wdXNoKGwpfSkpLHQudHVyblNlcnZlcnM9YSxyKCl9LHQuc2V0UHJveHlTZXJ2ZXI9ZnVuY3Rpb24obil7dmFyIHI9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNldFByb3h5U2VydmVyXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZih0LmdhdGV3YXlDbGllbnQmJnQuZ2F0ZXdheUNsaWVudC5zdGF0ZSE9PVIuYS5ESVNDT05ORUNURUQpdGhyb3cgbmV3IEVycm9yKFwiU2V0IHByb3h5IHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkRvIG5vdCBzZXQgdGhlIHByb3h5U2VydmVyIHBhcmFtZXRlciBhcyBlbXB0eVwiKTtpZih0LnVzZVByb3h5U2VydmVyKXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKTtpZih0LnVzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIGxvY2FsIHByb3h5XCIpO09iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJwcm94eVNlcnZlclwiKSx0LnByb3h5U2VydmVyPW4sby5yZXBvcnQuc2V0UHJveHlTZXJ2ZXIobiksaS5kZWZhdWx0LnNldFByb3h5U2VydmVyKG4pLHIoKX0sdC5zdGFydFByb3h5U2VydmVyPWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zdGFydFByb3h5U2VydmVyXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtpZih0LmdhdGV3YXlDbGllbnQmJnQuZ2F0ZXdheUNsaWVudC5zdGF0ZSE9PVIuYS5ESVNDT05ORUNURUQpdGhyb3cgbmV3IEVycm9yKFwiU3RhcnQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYodC5wcm94eVNlcnZlcil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7aWYodC51c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBFcnJvcihcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBsb2NhbCBwcm94eVwiKTt0LnVzZVByb3h5U2VydmVyPSEwLHQucHJveHlTZXJ2ZXJUeXBlPW58fDEscigpfSx0LnN0b3BQcm94eVNlcnZlcj1mdW5jdGlvbigpe3ZhciBuPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zdG9wUHJveHlTZXJ2ZXJcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKHQuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LnN0YXRlIT09Ui5hLkRJU0NPTk5FQ1RFRCl0aHJvdyBuZXcgRXJyb3IoXCJTdG9wIHByb3h5IHNlcnZlciBhZnRlciBsZWF2ZSBjaGFubmVsXCIpO28ucmVwb3J0LnNldFByb3h5U2VydmVyKCksaS5kZWZhdWx0LnNldFByb3h5U2VydmVyKCksdC50dXJuU2VydmVycz1bXSx0LnByb3h5U2VydmVyPW51bGwsdC51c2VQcm94eVNlcnZlcj0hMSx0LnByb3h5U2VydmVyVHlwZT1udWxsLG4oKX0sdC5zZXRFbmNyeXB0aW9uU2VjcmV0PWZ1bmN0aW9uKG4pe3ZhciByPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRFbmNyeXB0aW9uU2VjcmV0XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShuLFwicGFzc3dvcmRcIik7dmFyIGk9bmV3IFJlZ0V4cChcIl4oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQCMkJV4mKl0pKD89Lns4LH0pXCIpO2kudGVzdChuKXx8Y29uc29sZS53YXJuKFwiVGhlIHNlY3JldCBpcyBub3Qgc3Ryb25nOlxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbG93ZXJjYXNlIGFscGhhYmV0aWNhbCBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSB1cHBlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIG51bWVyaWMgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgYmUgZWlnaHQgY2hhcmFjdGVycyBvciBsb25nZXIsXFxuICAgICAgXCIpLHQuYWVzcGFzc3dvcmQ9bixyKCl9LHQuc2V0RW5jcnlwdGlvbk1vZGU9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2V0RW5jcnlwdGlvbk1vZGVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2lmKE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKG4sXCJlbmNyeXB0aW9uTW9kZVwiKSwtMT09PXYuaW5kZXhPZihuKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5jcnlwdGlvbk1vZGU6IGVuY3J5cHRpb25Nb2RlIHNob3VsZCBiZSBcImFlcy0xMjgteHRzXCIgfCBcImFlcy0yNTYteHRzXCIgfCBcImFlcy0xMjgtZWNiXCIgfCBcInNtNC0xMjgtZWNiXCIgfCBcImFlcy0xMjgtZ2NtXCIgfCBcImFlcy0yNTYtZ2NtXCIgfCBcImFlcy0xMjgtZ2NtMlwiIHwgXCJhZXMtMjU2LWdjbTJcIicpO3ZhciBhPVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdO2lmKC0xIT09YS5pbmRleE9mKG4pKXtpZighcnx8IShyIGluc3RhbmNlb2YgVWludDhBcnJheSYmMzI9PT1yLmxlbmd0aCkpdGhyb3cgRXJyb3IoXCJzYWx0IG11c3QgYmUgYW4gVWludDhBcnJheSBhbmQgZXhhY3RseSBlcXVhbCB0byAzMiBieXRlc1wiKX1lbHNlIGlmKHIpdGhyb3cgbmV3IEVycm9yKFwiT25seSBcIi5jb25jYXQoXCJhZXMtMTI4LWdjbTJcIixcIiBhbmQgXCIpLmNvbmNhdChcImFlcy0yNTYtZ2NtMlwiLFwiIHN1cHBvcnQgdXNlIHNhbHRcIikpO3ImJih0LmFlc1NhbHQ9T2JqZWN0KEkudWludDhBcnJheVRvQmFzZTY0KShyKSksdC5hZXNtb2RlPW4saSgpfSx0LmNvbmZpZ1B1Ymxpc2hlcj1mdW5jdGlvbihuKXt2YXIgcj1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuY29uZmlnUHVibGlzaGVyXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoTS5jaGVja1ZhbGlkT2JqZWN0KShuLFwiY29uZmlnXCIpO3ZhciBpPW4ud2lkdGgsYT1uLmhlaWdodCxzPW4uZnJhbWVyYXRlLGM9bi5iaXRyYXRlLGQ9bi5wdWJsaXNoZXJVcmw7T2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikoaSxcIndpZHRoXCIpLE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKGEsXCJoZWlnaHRcIiksT2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikocyxcImZyYW1lcmF0ZVwiKSxPYmplY3QoTS5jaGVja1ZhbGlkTnVtYmVyKShjLFwiYml0cmF0ZVwiLDEsMWU3KSxkJiZPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShkLFwicHVibGlzaGVyVXJsXCIpLHQuZ2F0ZXdheUNsaWVudC5jb25maWdQdWJsaXNoZXIobikscigpfSx0LmVuYWJsZUR1YWxTdHJlYW09ZnVuY3Rpb24obixyKXt2YXIgYT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gciYmcihlKTtuJiZuKHQpfSxuYW1lOlwiQ2xpZW50LmVuYWJsZUR1YWxTdHJlYW1cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO3JldHVyblwiaU9TXCI9PT1PYmplY3Qocy5nZXRCcm93c2VyT1MpKCk/KG8ucmVwb3J0LnN0cmVhbVN3aXRjaChlLnNlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGlzZHVhbDohMCxzdWNjOiExfSksYShULmRlZmF1bHQuSU9TX05PVF9TVVBQT1JUKSk6T2JqZWN0KHMuaXNXZUNoYXRCcm93c2VyKSgpPyhvLnJlcG9ydC5zdHJlYW1Td2l0Y2goZS5zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxpc2R1YWw6ITAsc3VjYzohMX0pLGEoVC5kZWZhdWx0LldFQ0hBVF9OT1RfU1VQUE9SVCkpOihvLnJlcG9ydC5zdHJlYW1Td2l0Y2goZS5zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxpc2R1YWw6ITAsc3VjYzohMH0pLHQuaXNEdWFsU3RyZWFtPSEwLHQuaGlnaFN0cmVhbSYmKHQuaGlnaFN0cmVhbS5pc0R1YWxTdHJlYW09ITApLHZvaWQoMD09PXQuaGlnaFN0cmVhbVN0YXRlP3QuX3B1Ymxpc2hMb3dTdHJlYW0oKGZ1bmN0aW9uKGUpe3JldHVybiBhKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7aS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdXCIpLGUpLGEoVC5kZWZhdWx0LkVOQUJMRV9EVUFMU1RSRUFNX0ZBSUxFRCl9KSk6MT09PXQuaGlnaFN0cmVhbVN0YXRlP2EoVC5kZWZhdWx0LlNUSUxMX09OX1BVQkxJU0hJTkcpOmEobnVsbCkpKX0sdC5kaXNhYmxlRHVhbFN0cmVhbT1mdW5jdGlvbihuLHIpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByJiZyKGUpO24mJm4odCl9LG5hbWU6XCJDbGllbnQuZGlzYWJsZUR1YWxTdHJlYW1cIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO28ucmVwb3J0LnN0cmVhbVN3aXRjaChlLnNlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGlzZHVhbDohMSxzdWNjOiEwfSksdC5pc0R1YWxTdHJlYW09ITEsdC5oaWdoU3RyZWFtJiYodC5oaWdoU3RyZWFtLmlzRHVhbFN0cmVhbT0hMSksMD09PXQuaGlnaFN0cmVhbVN0YXRlP3QuX3VucHVibGlzaExvd1N0cmVhbSgoZnVuY3Rpb24oKXt0LmhpZ2hTdHJlYW0ubG93U3RyZWFtPW51bGwsYSgpfSksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXVwiKSxlKSxhKFQuZGVmYXVsdC5ESVNBQkxFX0RVQUxTVFJFQU1fRkFJTEVEKX0pKToxPT09dC5oaWdoU3RyZWFtU3RhdGU/YShULmRlZmF1bHQuU1RJTExfT05fUFVCTElTSElORyk6YSgpfSx0Ll9nZXRMb3dTdHJlYW09ZnVuY3Rpb24oZSxuKXt0Lmxvd1N0cmVhbT9lKHQubG93U3RyZWFtKTp0Ll9jcmVhdGVMb3dTdHJlYW0oKGZ1bmN0aW9uKG4pe3QubG93U3RyZWFtPW4sZSh0Lmxvd1N0cmVhbSl9KSxuKX0sdC5fY3JlYXRlTG93U3RyZWFtPWZ1bmN0aW9uKGUsbil7aWYodC5oaWdoU3RyZWFtJiZ0LmhpZ2hTdHJlYW0uc3RyZWFtKXt2YXIgcj15KCkoe30sdC5oaWdoU3RyZWFtLnBhcmFtcyk7aWYoci5zdHJlYW1JRCs9MSxyLmF1ZGlvPSExLHIudmlkZW8paWYodC5oaWdoU3RyZWFtLnN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKXt2YXIgaT1uZXcgdS5hKHIpO2kuaXNMb3dTdHJlYW09ITAsaS5zdHJlYW1JZD10LmhpZ2hTdHJlYW0uZ2V0SWQoKSsxO3ZhciBvPXt9O3QubG93U3RyZWFtUGFyYW1ldGVyJiYobz15KCkoe30sdC5sb3dTdHJlYW1QYXJhbWV0ZXIpKSxvLndpZHRoJiZvLmhlaWdodHx8KG8ud2lkdGg9MTYwLG8uaGVpZ2h0PTEyMCksby5mcmFtZXJhdGU9by5mcmFtZXJhdGV8fDE1LG8uYml0cmF0ZT1vLmJpdHJhdGV8fDUwLGkuc2V0VmlkZW9Qcm9maWxlQ3VzdG9tUGx1cyhvKTt0cnl7dmFyIGE9VigpKHQuaGlnaFN0cmVhbSx7d2lkdGg6aS52aWRlb0NvbnN0cmFpbnQud2lkdGguaWRlYWwsaGVpZ2h0OmkudmlkZW9Db25zdHJhaW50LmhlaWdodC5pZGVhbCxmcmFtZXJhdGU6aS52aWRlb0NvbnN0cmFpbnQuZnJhbWVSYXRlfSk7cmV0dXJuIGkuc3RyZWFtPWEsdC5oaWdoU3RyZWFtLmxvd1N0cmVhbT1pLHQuaGlnaFN0cmVhbS51c2VyTXV0ZVZpZGVvJiZpLm11dGVWaWRlbygpLGUmJmUoaSl9Y2F0Y2goZSl7cmV0dXJuIG4mJm4oZSl9fWVsc2UgbiYmbihULmRlZmF1bHQuSElHSF9TVFJFQU1fTk9UX1ZJREVPX1RSQUNFKTtlbHNlIG4mJm4oVC5kZWZhdWx0LkhJR0hfU1RSRUFNX05PVF9WSURFT19UUkFDRSl9ZWxzZSBuJiZuKFQuZGVmYXVsdC5ISUdIX1NUUkVBTV9OT1RfVklERU9fVFJBQ0UpfSx0Ll9wdWJsaXNoTG93U3RyZWFtPWZ1bmN0aW9uKGUsbil7cmV0dXJuIDIhPT10Lmxvd1N0cmVhbVN0YXRlP24mJm4oVC5kZWZhdWx0LkxPV19TVFJFQU1fQUxSRUFEWV9QVUJMSVNIRUQpOnQuaGlnaFN0cmVhbSYmdC5oaWdoU3RyZWFtLmhhc1NjcmVlbigpP24mJm4oVC5kZWZhdWx0LlNIQVJJTkdfU0NSRUVOX05PVF9TVVBQT1JUKTp2b2lkIHQuX2dldExvd1N0cmVhbSgoZnVuY3Rpb24ocil7dC5sb3dTdHJlYW1TdGF0ZT0xLHQuZ2F0ZXdheUNsaWVudC5wdWJsaXNoKHIse3N0cmVhbVR5cGU6MX0sKGZ1bmN0aW9uKCl7dC5sb3dTdHJlYW1TdGF0ZT0wLGUmJmUoKX0pLChmdW5jdGlvbihlKXsxPT09dC5sb3dTdHJlYW1TdGF0ZSYmKHQubG93U3RyZWFtU3RhdGU9MiksaS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBwdWJsaXNoIGxvdyBzdHJlYW0gZmFpbGVkXCIpKSxuJiZuKGUpfSkpfSksbil9LHQuX3VucHVibGlzaExvd1N0cmVhbT1mdW5jdGlvbihlLG4pe2lmKDAhPT10Lmxvd1N0cmVhbVN0YXRlKXJldHVybiBuJiZuKFQuZGVmYXVsdC5MT1dfU1RSRUFNX05PVF9ZRVRfUFVCTElTSEVEKTt0Lmxvd1N0cmVhbSYmKHQuZ2F0ZXdheUNsaWVudC51bnB1Ymxpc2godC5sb3dTdHJlYW0se3N0cmVhbVR5cGU6MX0sKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gdW5wdWJsaXNoIGxvdyBzdHJlYW0gZmFpbGVkXCIpKSxuJiZuKGUpfSkpLHQubG93U3RyZWFtLmNsb3NlKCksdC5sb3dTdHJlYW09bnVsbCx0Lmxvd1N0cmVhbVN0YXRlPTIsZSYmZSgpKX0sdC5qb2luPWZ1bmN0aW9uKG4scixhLHMsYyxkKXtzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYoZD1jLGM9cyxzPW51bGwpO3ZhciB1PUYoKSxsPVwiVGhlIHdlYnNpdGUgbXVzdCBiZSBydW5uaW5nIGluIGEgc2VjdXJlIGNvbnRleHQgKEFib3V0IHNlY3VyZSBjb250ZXh0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9TZWN1cmVfQ29udGV4dHMgKSwgb3RoZXJ3aXNlIHRoZSBtZWRpYSBjb2xsZWN0aW9uIHdpbGwgYmUgcmVzdHJpY3RlZCBieSB0aGUgYnJvd3NlclwiLGY9VygpP3dpbmRvdy5pc1NlY3VyZUNvbnRleHQ6XCJCcm93c2VyIE5vdCBTdXBwb3J0XCIscD1mdW5jdGlvbigpe2kuZGVmYXVsdC53YXJuaW5nKGwpfTtXKCk/d2luZG93LmlzU2VjdXJlQ29udGV4dHx8cCgpOnV8fHAoKTt2YXIgZz1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gZCYmZChlKTtjJiZjKHQpfSxuYW1lOlwiQ2xpZW50LmpvaW5cIixvcHRpb25zOmFyZ3VtZW50cyxnZXRTdGF0ZXM6ZnVuY3Rpb24oKXtyZXR1cm57aXNIdHRwczp1LGlzU2VjdXJlQ29udGV4dDpmfX0sdGFnOlwidHJhY2VyXCJ9KTtpZihuJiYhT2JqZWN0KE0uaXNWYWxpZFRva2VuKShuKSlyZXR1cm4gaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFBhcmFtIGNoYW5uZWxLZXkgc2hvdWxkIGJlIHN0cmluZ1wiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpO2lmKCFPYmplY3QoTS5pc1ZhbGlkQ2hhbm5lbE5hbWUpKHIpKXJldHVybiBpLmRlZmF1bHQuZXJyb3IoXCJJbnZhbGlkIENoYW5uZWwgTmFtZSBcIi5jb25jYXQocikpLGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBUaGUgbGVuZ3RoIG11c3QgYmUgd2l0aGluIDY0IGJ5dGVzLiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnM6IGEteixBLVosMC05LHNwYWNlLCEsICMsICQsICUsICYsICgsICksICssIC0sIDosIDssIDwsID0sIC4sID4sID8sIEAsIFssIF0sIF4sIF8sICB7LCB9LCB8LCB+LCAsXCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHImJlwiXCI9PT1yKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUGFyYW0gY2hhbm5lbCBzaG91bGQgbm90IGJlIGVtcHR5XCIpKSxnKFQuZGVmYXVsdC5JTlZBTElEX1BBUkFNRVRFUik7aWYocyYmIU9iamVjdChNLmlzVmFsaWRTdHJpbmcpKHMpKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gb3B0aW9uYWxJbmZvIHNob3VsZCBiZSBzdHJpbmdcIikpLGcoVC5kZWZhdWx0LklOVkFMSURfUEFSQU1FVEVSKTtpZihhJiYhT2JqZWN0KEkuaXMzMlVpbnQpKGEpJiYhT2JqZWN0KE0uaXNWYWxpZFN0cmluZykoYSwxLDI1NSkpcmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIkludmFsaWQgVUlEIFwiLmNvbmNhdChhLFwiIFwiKS5jb25jYXQoUygpKGEpKSksaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFtTdHJpbmcgdWlkXSBMZW5ndGggb2YgdGhlIHN0cmluZzogWzEsMjU1XS4gQVNDSUkgY2hhcmFjdGVycyBvbmx5LiBbTnVtYmVyIHVpZF0gVGhlIHZhbHVlIHJhbmdlIGlzIDMyVWludFwiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYwPT1hLmxlbmd0aClyZXR1cm4gaS5kZWZhdWx0Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFN0cmluZyB1aWQgc2hvdWxkIG5vdCBiZSBlbXB0eVwiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhLmxlbmd0aD4yNTYpcmV0dXJuIGkuZGVmYXVsdC53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBMZW5ndGggb2Ygc3RyaW5nIHVpZCBzaG91bGQgYmUgbGVzcyB0aGFuIDI1NVwiKSksZyhULmRlZmF1bHQuSU5WQUxJRF9QQVJBTUVURVIpO2kuZGVmYXVsdC5zdG9wV2FpdEpvaW4oKSx0LmhpZ2hTdHJlYW09bnVsbCx0Lmxvd1N0cmVhbT1udWxsLHQubG93U3RyZWFtUGFyYW1ldGVyPW51bGwsdC5pc0R1YWxTdHJlYW09ITEsdC5oaWdoU3RyZWFtU3RhdGU9Mix0Lmxvd1N0cmVhbVN0YXRlPTI7dmFyIG09RGF0ZS5ub3coKSxoPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYoMSE9dC5nYXRld2F5Q2xpZW50Lmhhc0pvaW5lZCl7aS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBUaGUgdGltZSB0byBqb2luIHRoZSBjaGFubmVsIGlzIGdyZWF0ZXIgdGhhbiA1IHNlY29uZHMgXCIpKTt2YXIgbj1EYXRlLm5vdygpO28ucmVwb3J0LmpvaW5DaGFubmVsVGltZU91dCh7bHRzOm4sc2lkOmUuc2Vzc2lvbklkLGNuYW1lOnIsY2lkOnYmJnYuY2lkLHVpZDp2LnVpZHx8KFwic3RyaW5nXCI9PXR5cGVvZiBhP3ZvaWQgMDphKSxlbGFwc2U6bi1tLHRpbWVvdXQ6NX0pfX0pLDVlMyksdj17Y2xpZW50SWQ6dC5jbGllbnRJZCxhcHBJZDplLmFwcElkLHNpZDplLnNlc3Npb25JZCxjbmFtZTpyLHVpZDphLHR1cm5TZXJ2ZXJzOnQudHVyblNlcnZlcnMuY29uY2F0KCkscHJveHlTZXJ2ZXI6dC5wcm94eVNlcnZlcix0b2tlbjpufHxlLmFwcElkLHVzZVByb3h5U2VydmVyOnQudXNlUHJveHlTZXJ2ZXIsdXNlTG9jYWxBY2Nlc3NQb2ludDp0LnVzZUxvY2FsQWNjZXNzUG9pbnQscHJveHlTZXJ2ZXJUeXBlOnQucHJveHlTZXJ2ZXJUeXBlLG9wdGlvbmFsSW5mbzpzfTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmKHYuc3RyaW5nVWlkPWEsdC51aW50VWlkPyh2LnVpZD10LnVpbnRVaWQsZGVsZXRlIHQudWludFVpZCk6di51aWQ9MCksdC5hZXNwYXNzd29yZCYmXCJub25lXCIhPT10LmFlc21vZGUmJnkoKSh2LHthZXNwYXNzd29yZDp0LmFlc3Bhc3N3b3JkLGFlc21vZGU6dC5hZXNtb2RlfSksdC5hZXNTYWx0JiYodi5hZXNfc2FsdD10LmFlc1NhbHQpLG8ucmVwb3J0LnNlc3Npb25Jbml0KGUuc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksY25hbWU6cixhcHBpZDplLmFwcElkLG1vZGU6ZS5tb2RlLHN1Y2M6ITB9KSx0Lm9uU3VjY2Vzcz1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoaCksdC5ydGNTdGF0c0NvbGxlY3Rvci5zdGFydE5ldHdvcmtRdWFsaXR5VGltZXIoKSx0Lm9uU3VjY2Vzcz1udWxsLGcobnVsbCxlKX0sdC5vbkZhaWx1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSl9LHQuY2hhbm5lbD1yLHQuZ2F0ZXdheUNsaWVudC5zdGF0ZSE9PVIuYS5ESVNDT05ORUNURUQpcmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpLGcoVC5kZWZhdWx0LklOVkFMSURfT1BFUkFUSU9OKSx2b2lkIG8ucmVwb3J0LmpvaW5HYXRld2F5KGUuc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOiExLGVjOlQuZGVmYXVsdC5JTlZBTElEX09QRVJBVElPTixhZGRyOm51bGx9KTt0LmdhdGV3YXlDbGllbnQuc3RhdGU9Ui5hLkNPTk5FQ1RJTkc7dmFyIEU9ZnVuY3Rpb24obyxhKXtpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gSm9pbmluZyBjaGFubmVsOiBcIikuY29uY2F0KHIpKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImNvbmZpZy1kaXN0cmlidXRlXCIsY29uZmlnOmEsam9pbkluZm86dn0pLHQua2V5PW58fGUuYXBwSWQsdi5jaWQ9by5jaWQsdi51aWR8fCh2LnVpZD1vLnVpZCksdi52aWQ9by52aWQsdi5jbGllbnRJZD10LmNsaWVudElkLHYuYXBSZXNwb25zZT1vLnJlcyxvLnVuaV9sYnNfaXAmJm8udW5pX2xic19pcFsxXSYmKHYudW5pX2xic19pcD1vLnVuaV9sYnNfaXBbMV0pLHYuZ2F0ZXdheUFkZHI9by5nYXRld2F5X2FkZHIsdC5qb2luSW5mbz12LHQuZ2F0ZXdheUNsaWVudC5qb2luKHYsdC5rZXksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBKb2luIGNoYW5uZWwgXCIpLmNvbmNhdChyLFwiIHN1Y2Nlc3MsIGpvaW4gd2l0aCB1aWQ6IFwiKS5jb25jYXQoZSxcIi5cIikpLHQub25TdWNjZXNzPW51bGwsdC5ydGNTdGF0c0NvbGxlY3Rvci5zdGFydE5ldHdvcmtRdWFsaXR5VGltZXIoKSxnKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSl9KSl9O3Yuc3RyaW5nVWlkJiYhdi51aWQ/KHQudXNlckFjY291bnRSZXEmJiF0LnVzZXJBY2NvdW50UmVxLmlzRmluaXNoZWQoKSYmdC51c2VyQWNjb3VudFJlcS5jYW5jZWwoKSx0LnVzZXJBY2NvdW50UmVxPU9iamVjdChiLmdldFVzZXJBY2NvdW50KSh2LHQuZ2F0ZXdheUNsaWVudCksdC51c2VyQWNjb3VudFJlcS50aGVuKChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZGVidWcoXCJnZXRVc2VyQWNjb3VudCBTdWNjZXNzIFwiLmNvbmNhdChlLnVybCxcIiBcIikuY29uY2F0KHYuc3RyaW5nVWlkLFwiID0+IFwiKS5jb25jYXQoZS51aWQpKSx2LnVpZD1lLnVpZCxPYmplY3QoYi5nZXRHYXRld2F5TGlzdCkodixFLChmdW5jdGlvbihlKXtyZXR1cm4gZyhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5kZWZhdWx0LmVycm9yKFwiZ2V0VXNlckFjY291bnQgcmVqZWN0ZWRcIixlKSxnKGUpfSkpKTpPYmplY3QoYi5nZXRHYXRld2F5TGlzdCkodixFLChmdW5jdGlvbihlKXtyZXR1cm4gZyhlKX0pKX0sdC5yZW5ld0NoYW5uZWxLZXk9ZnVuY3Rpb24obixyLGEpe3ZhciBzPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBhJiZhKGUpO3ImJnIodCl9LG5hbWU6XCJDbGllbnQucmVuZXdDaGFubmVsS2V5XCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KTtPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShuLFwia2V5XCIsMSwyMDQ3KSx2b2lkIDA9PT10LmtleT8oaS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSByZW5ld0NoYW5uZWxLZXkgc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHVzZXIgam9pblwiKSkscyhULmRlZmF1bHQuSU5WQUxJRF9PUEVSQVRJT04pKToodC5rZXk9bix0LmdhdGV3YXlDbGllbnQuam9pbkluZm8udG9rZW49bix0LmdhdGV3YXlDbGllbnQua2V5PW4sdC5nYXRld2F5Q2xpZW50LnJlY292ZXIoKSxzKCkpfSx0LmxlYXZlPWZ1bmN0aW9uKG4sYSl7dC5nYXRld2F5Q2xpZW50LmlzRmlyc3RTdWNjZXNzPSEwLHQuZ2F0ZXdheUNsaWVudC5oYXNJbnZva2VMZWF2ZT0hMDt2YXIgcz0hMSxjPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSxyKXtpZihlKXJldHVybiBhJiZhKGUpO3QuZ2F0ZXdheUNsaWVudC5yZWNvbm5lY3RpbmdDUz0hMSx0LmdhdGV3YXlDbGllbnQuc3RhdGU9Ui5hLkRJU0NPTk5FQ1RFRCxjbGVhclRpbWVvdXQoT2JqZWN0KGIuX2dldFJlY29ubmVjdENTVGltZXIpKHQuY2xpZW50SWQpKSx0Ll9yZW5ld1Nlc3Npb24oKSx0LnJ0Y1N0YXRzQ29sbGVjdG9yLmNsZWFyTmV0d29ya1F1YWxpdHlUaW1lcigpLG4mJm4ocil9LG5hbWU6XCJDbGllbnQubGVhdmVcIixvcHRpb25zOmFyZ3VtZW50cyx0YWc6XCJ0cmFjZXJcIn0pO2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWxcIikpLHQudXNlckFjY291bnRSZXEmJiF0LnVzZXJBY2NvdW50UmVxLmlzRmluaXNoZWQoKSYmKHQudXNlckFjY291bnRSZXEuY2FuY2VsKCksdC5nYXRld2F5Q2xpZW50LnN0YXRlPT09Ui5hLkNPTk5FQ1RJTkcmJih0LmdhdGV3YXlDbGllbnQuc3RhdGU9Ui5hLkRJU0NPTk5FQ1RFRCkpLHQuX3Rlcm1pbmF0ZUxpdmVTdHJlYW1pbmcoKSx0LmdhdGV3YXlDbGllbnQubGVhdmUoKGZ1bmN0aW9uKGUpe3M9ITAsYyhudWxsLGUpfSksYyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtzfHwodC5nYXRld2F5Q2xpZW50LnNvY2tldCYmKHQuZ2F0ZXdheUNsaWVudC5zb2NrZXQuY2xvc2UoKSx0LmdhdGV3YXlDbGllbnQuc29ja2V0PW51bGwpLHQuZ2F0ZXdheUNsaWVudC5zdGF0ZT1SLmEuRElTQ09OTkVDVEVELGMobnVsbCxcIkxFQVZFX01TR19USU1FT1VUXCIpKX0pLE9iamVjdChyLmdldFBhcmFtZXRlcikoXCJMRUFWRV9NU0dfVElNRU9VVFwiKSl9LHQuX3JlbmV3U2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBuPU9iamVjdChJLmdlbmVyYXRlU2Vzc2lvbklkKSgpO2lmKGkuZGVmYXVsdC5kZWJ1ZyhcInJlbmV3U2Vzc2lvbiBcIi5jb25jYXQoZS5zZXNzaW9uSWQsXCIgPT4gXCIpLmNvbmNhdChuKSksZS5zZXNzaW9uSWQ9bix0LmdhdGV3YXlDbGllbnQucGVlclB1Ymxpc2hEdXJhdGlvbk1hcC5jbGVhcigpLHQuam9pbkluZm8mJih0LmpvaW5JbmZvLnNpZD1uKSx0LmdhdGV3YXlDbGllbnQmJih0LmdhdGV3YXlDbGllbnQuam9pbkluZm8mJih0LmdhdGV3YXlDbGllbnQuam9pbkluZm8uc2lkPW4pLHQuZ2F0ZXdheUNsaWVudC5sb2NhbFN0cmVhbXMpKWZvcih2YXIgciBpbiB0LmdhdGV3YXlDbGllbnQubG9jYWxTdHJlYW1zKXt2YXIgbz10LmdhdGV3YXlDbGllbnQubG9jYWxTdHJlYW1zW3JdO28mJihvLnNpZD1uKX19LHQuX3B1Ymxpc2g9ZnVuY3Rpb24obixvLGEscyl7aWYoMiE9PXQuaGlnaFN0cmVhbVN0YXRlKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQ2FuJ3QgcHVibGlzaCBzdHJlYW0gd2hlbiBzdHJlYW0gYWxyZWFkeSBwdWJsaXNoIFwiKS5jb25jYXQobi5nZXRJZCgpKSksYSYmYShULmRlZmF1bHQuU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEKTtpZigwPT09dC50dXJuU2VydmVycy5sZW5ndGgmJk9iamVjdChyLmdldFBhcmFtZXRlcikoXCJGT1JDRV9UVVJOXCIpJiYhT2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIU9iamVjdChyLmdldFBhcmFtZXRlcikoXCJUVVJOX0VOQUJMRV9VRFBcIikpdGhyb3cgbmV3IEVycm9yKFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUHVibGlzaGluZyBzdHJlYW0sIHVpZCBcIikuY29uY2F0KG4uZ2V0SWQoKSkpLHQuaGlnaFN0cmVhbT1uLHQuaGlnaFN0cmVhbVN0YXRlPTEsdC5oaWdoU3RyZWFtLnN0cmVhbUlkPXQuam9pbkluZm8uc3RyaW5nVWlkfHx0LmpvaW5JbmZvLnVpZCx0Lmhhc1B1Ymxpc2hlZD0hMTt2YXIgYz1mdW5jdGlvbihuLHIsbyl7dC5nYXRld2F5Q2xpZW50LnB1Ymxpc2gobix7c3RyZWFtVHlwZTowfSwoZnVuY3Rpb24oKXtuLnNpZD1lLnNlc3Npb25JZCx0LmhpZ2hTdHJlYW1TdGF0ZT0wLGkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBQdWJsaXNoIHN1Y2Nlc3MsIHVpZDogXCIpLmNvbmNhdChuLmdldElkKCkpKSx0LmhpZ2hTdHJlYW0mJih0LmhpZ2hTdHJlYW0uaXNEdWFsU3RyZWFtPXQuaXNEdWFsU3RyZWFtKSx0LmlzRHVhbFN0cmVhbT90Ll9wdWJsaXNoTG93U3RyZWFtKChmdW5jdGlvbigpe3ImJnIoKX0pLChmdW5jdGlvbihlKXtpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gXCIpLGUpLFUuYS5yZXBsYWNlV2l0aENhbnZhc1RyYWNrKG4pLnRoZW4oKGZ1bmN0aW9uKCl7ciYmcigpfSkpfSkpOlUuYS5yZXBsYWNlV2l0aENhbnZhc1RyYWNrKG4pLnRoZW4oKGZ1bmN0aW9uKCl7ciYmcigpfSkpfSksbyl9O1wiYXVkaWVuY2VcIiE9PXQuZ2F0ZXdheUNsaWVudC5yb2xlfHxcImxpdmVcIiE9PXQubW9kZXx8cz9jKG4sbyxhKTp0LmdhdGV3YXlDbGllbnQuc2V0Q2xpZW50Um9sZShHLChmdW5jdGlvbihlKXtpZihlKXJldHVybiBhJiZhKGUpO2MobixvLGEpfSkpfSx0Ll91bnB1Ymxpc2g9ZnVuY3Rpb24oZSxuLHIsbyl7aWYoMCE9PXQuaGlnaFN0cmVhbVN0YXRlKXJldHVybiBpLmRlZmF1bHQud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQ2FuJ3QgdW5wdWJsaXNoIHN0cmVhbSB3aGVuIHN0cmVhbSBub3QgcHVibGlzaFwiKSksciYmcihULmRlZmF1bHQuU1RSRUFNX05PVF9ZRVRfUFVCTElTSEVEKTtpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHN0cmVhbSwgdWlkIFwiKS5jb25jYXQoZS5nZXRJZCgpKSk7dmFyIGE9ZnVuY3Rpb24oZSxuLHIpe3QuaXNEdWFsU3RyZWFtJiZ0Lmxvd1N0cmVhbSYmdC5fdW5wdWJsaXNoTG93U3RyZWFtKG51bGwsciksdC5nYXRld2F5Q2xpZW50LnVucHVibGlzaChlLHtzdHJlYW1UeXBlOjB9LChmdW5jdGlvbigpe3QuaGlnaFN0cmVhbVN0YXRlPTIsaS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFVucHVibGlzaCBzdHJlYW0gc3VjY2VzcywgdWlkOiBcIikuY29uY2F0KGUuZ2V0SWQoKSkpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXVucHVibGlzaGVkXCIsc3RyZWFtOmV9KSxuJiZuKCl9KSwoZnVuY3Rpb24obil7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFVucHVibGlzaCBzdHJlYW0gZmFpbCwgdWlkOiBcIikuY29uY2F0KGUuZ2V0SWQoKSkpLHImJnIobil9KSl9O3QuZ2F0ZXdheUNsaWVudC5yb2xlIT09R3x8XCJsaXZlXCIhPT10Lm1vZGV8fG8/YShlLG4scik6dC5nYXRld2F5Q2xpZW50LnNldENsaWVudFJvbGUoXCJhdWRpZW5jZVwiLChmdW5jdGlvbih0KXtpZih0KXJldHVybiByJiZyKHQpO2EoZSxuLHIpfSkpfSx0LnB1Ymxpc2g9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse2NhbGxiYWNrOmZ1bmN0aW9uKGUsbil7aWYoZSlyZXR1cm4gMT09PXQuaGlnaFN0cmVhbVN0YXRlJiZcIlJFUVVFU1RfQUJPUlRcIiE9PWUmJih0LmhpZ2hTdHJlYW1TdGF0ZT0yKSxyJiZyKGUpfSxuYW1lOlwiQ2xpZW50LnB1Ymxpc2hcIix0YWc6XCJ0cmFjZXJcIixvcHRpb25zOntzdHJlYW06XCJ0b28gbG9uZyB0byBzaG93XCIsb25GYWlsdXJlOiEhcn19KTsyPT09dC5oaWdoU3RyZWFtU3RhdGU/bi5faGFzVmlkZW9UcmFja3MoKXx8bi5faGFzQXVkaW9UcmFja3MoKT8odC5nYXRld2F5Q2xpZW50LnB1Ymxpc2hSZXF1ZXN0SWQ9T2JqZWN0KEkuZ2VuZXJhdGVJZCkoKSx0Ll9wdWJsaXNoKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBpKG51bGwsZSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkpOmkoVC5kZWZhdWx0Lk5PX1RSQUNLX0lOX1NUUkVBTSk6aShULmRlZmF1bHQuU1RSRUFNX0FMUkVBRFlfUFVCTElTSEVEKX0sdC51bnB1Ymxpc2g9ZnVuY3Rpb24obixyLGkpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByJiZyKGUpO2kmJmkodCl9LG5hbWU6XCJDbGllbnQudW5wdWJsaXNoXCIsdGFnOlwidHJhY2VyXCIsb3B0aW9uczp7c3RyZWFtOlwidG9vIGxvbmcgdG8gc2hvd1wiLG9uRmFpbHVyZTohIXJ9fSk7MD09PXQuaGlnaFN0cmVhbVN0YXRlPyh0LmdhdGV3YXlDbGllbnQucHVibGlzaFJlcXVlc3RJZD1udWxsLHQuX3VucHVibGlzaChuLChmdW5jdGlvbihlKXtyZXR1cm4gYShudWxsLGUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSkpKTphKFQuZGVmYXVsdC5TVFJFQU1fTk9UX1lFVF9QVUJMSVNIRUQpfSx0LnN1YnNjcmliZT1mdW5jdGlvbihuLHIsYSl7dmFyIGM9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtjYWxsYmFjazpmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIGEmJmEoZSl9LG5hbWU6XCJDbGllbnQuc3Vic2NyaWJlXCIsdGFnOlwidHJhY2VyXCIsb3B0aW9uczp7c3RyZWFtOlwidG9vIGxvbmcgdG8gc2hvd1wiLG9wdGlvbnM6cixvbkZhaWx1cmU6ISFhfX0pO1wiZnVuY3Rpb25cIj09dHlwZW9mIHImJihhPXIscj1udWxsKSxPYmplY3QoTS5jaGVja1ZhbGlkT2JqZWN0KShuLFwic3RyZWFtXCIpLE9iamVjdChNLmlzRW1wdHkpKHIpfHwoT2JqZWN0KE0uY2hlY2tWYWxpZE9iamVjdCkocixcIm9wdGlvbnNcIiksT2JqZWN0KE0uaXNFbXB0eSkoci52aWRlbyl8fE9iamVjdChNLmNoZWNrVmFsaWRCb29sZWFuKShyLnZpZGVvLFwib3B0aW9ucy52aWRlb1wiKSxPYmplY3QoTS5pc0VtcHR5KShyLmF1ZGlvKXx8T2JqZWN0KE0uY2hlY2tWYWxpZEJvb2xlYW4pKHIuYXVkaW8sXCJvcHRpb25zLmF1ZGlvXCIpKTt2YXIgZD17dmlkZW86ITAsYXVkaW86ITB9O2lmKCFPYmplY3QoTS5pc0VtcHR5KShyKSl7aWYoT2JqZWN0KHMuaXNTYWZhcmkpKCkmJighci52aWRlb3x8IXIuYXVkaW8pKXt2YXIgdT1cIlNBRkFSSV9OT1RfU1VQUE9SVEVEX0ZPUl9UUkFDS19TVUJTQ1JJUFRJT05cIjtyZXR1cm4gaS5kZWZhdWx0LmVycm9yKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBcIiksdSksdm9pZCBjKHUpfWlmKCFPYmplY3QoTS5pc0VtcHR5KShyLnZpZGVvKSYmIU9iamVjdChNLmlzVmFsaWRCb29sZWFuKShyLnZpZGVvKXx8IU9iamVjdChNLmlzRW1wdHkpKHIuYXVkaW8pJiYhT2JqZWN0KE0uaXNWYWxpZEJvb2xlYW4pKHIuYXVkaW8pfHwhMT09PXIuYXVkaW8mJiExPT09ci52aWRlbyl7dT1cIklOVkFMSURfUEFSQU1FVEVSIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyKSk7cmV0dXJuIGkuZGVmYXVsdC5lcnJvcihcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gXCIpLHUpLHZvaWQgYyh1KX19bi5zdWJzY3JpYmVPcHRpb25zPyh5KCkobi5zdWJzY3JpYmVPcHRpb25zLGQsciksdC5nYXRld2F5Q2xpZW50LnN1YnNjcmliZUNoYW5nZShuLChmdW5jdGlvbihlKXtyZXR1cm4gYyhudWxsLGUpfSksYykpOih0LmdhdGV3YXlDbGllbnQuc3Vic2NyaWJlUmVxdWVzdElkLnNldChuLmdldElkKCksT2JqZWN0KEkuZ2VuZXJhdGVJZCkoKSksbi5zdWJzY3JpYmVPcHRpb25zPXkoKSh7fSxkLHIpLHQuZ2F0ZXdheUNsaWVudC5zdWJzY3JpYmUobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGMobnVsbCxlKX0pLGMpKX0sdC51bnN1YnNjcmliZT1mdW5jdGlvbihuLHIpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7Y2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByJiZyKGUpfSxuYW1lOlwiQ2xpZW50LnVuc3Vic2NyaWJlXCIsdGFnOlwidHJhY2VyXCIsb3B0aW9uczp7c3RyZWFtOlwidG9vIGxvbmcgdG8gc2hvd1wiLG9uRmFpbHVyZTohIXJ9fSk7aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFVuc3Vic2NyaWJlIHN0cmVhbSwgdWlkOiBcIikuY29uY2F0KG4uZ2V0SWQoKSkpLHQuZ2F0ZXdheUNsaWVudC5zdWJzY3JpYmVSZXF1ZXN0SWQuZGVsZXRlKG4uZ2V0SWQoKSksdC5nYXRld2F5Q2xpZW50LnVuc3Vic2NyaWJlKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBhKG51bGwsZSl9KSxhKX0sdC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGU9ZnVuY3Rpb24obixyKXt2YXIgaT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoZS5zZXNzaW9uSWQse25hbWU6XCJDbGllbnQuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIsdGFnOlwidHJhY2VyXCIsb3B0aW9uczp7c3RyZWFtOlwidG9vIGxvbmcgdG8gc2hvd1wiLHN0cmVhbVR5cGU6cn19KTtPYmplY3QoTS5jaGVja1ZhbGlkRW51bSkocixcInN0cmVhbVR5cGVcIixbMCwxXSksdC5nYXRld2F5Q2xpZW50LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShuLHIpLGkoKX0sdC5zZXRTdHJlYW1GYWxsYmFja09wdGlvbj1mdW5jdGlvbihuLHIpe3ZhciBpPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRTdHJlYW1GYWxsYmFja09wdGlvblwiLHRhZzpcInRyYWNlclwiLG9wdGlvbnM6e3N0cmVhbTpcInRvbyBsb25nIHRvIHNob3dcIixmYWxsYmFja1R5cGU6cn19KTtPYmplY3QoTS5jaGVja1ZhbGlkRW51bSkocixcImZhbGxiYWNrVHlwZVwiLFswLDEsMl0pLHQuZ2F0ZXdheUNsaWVudC5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihuLHIpLGkoKX0sdC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvcj1mdW5jdGlvbihuLHIpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7bj1ufHwyZTMscj1yfHwzLE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKHIsXCJzbW9vdGhcIiwxLDEwMCksT2JqZWN0KE0uY2hlY2tWYWxpZE51bWJlcikobixcImludGVydmFsXCIsNTAsMWU1KSx0LmF1ZGlvVm9sdW1lSW5kaWNhdGlvbj10LmF1ZGlvVm9sdW1lSW5kaWNhdGlvbnx8e2VuYWJsZWQ6ITB9LHQuYXVkaW9Wb2x1bWVJbmRpY2F0aW9uLmludGVydmFsPW4sdC5hdWRpb1ZvbHVtZUluZGljYXRpb24uc21vb3RoPXIsdC5hdWRpb1ZvbHVtZUluZGljYXRpb249e2ludGVydmFsOm4sc21vb3RoOnJ9LGkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBlbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvciBpbnRlcnZhbCBcIikuY29uY2F0KG4sXCIgc21vb3RoIFwiKS5jb25jYXQocikpLHQuZ2F0ZXdheUNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvcihuLHIpLGEoKX0sdC5nZXROZXR3b3JrU3RhdHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gaS5kZWZhdWx0LmRlcHJlY2F0ZShcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gY2xpZW50LmdldE5ldHdvcmtTdGF0cyBpcyBkZXByZWNhdGVkLiBVc2UgY2xpZW50LmdldFRyYW5zcG9ydFN0YXRzIGluc3RlYWQuXCIpKSxQLmdldFN0YXRzKGUsbil9LHQuZ2V0U3lzdGVtU3RhdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZC5nZXRTdGF0cyhlLHQpfSx0LmdldFJlY29yZGluZ0RldmljZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbC5hLmdldFJlY29yZGluZ0RldmljZXMoZSx0KX0sdC5nZXRQbGF5b3V0RGV2aWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiBsLmEuZ2V0UGxheW91dERldmljZXMoZSx0KX0sdC5nZXRDYW1lcmFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwuYS5nZXRDYW1lcmFzKGUsdCl9LHQuZ2V0UmVtb3RlQXVkaW9TdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvU3RhdHMoZSxuKX0sdC5nZXRMb2NhbEF1ZGlvU3RhdHM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5ydGNTdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvU3RhdHMoZSxuKX0sdC5nZXRSZW1vdGVWaWRlb1N0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9TdGF0cyhlLG4pfSx0LmdldExvY2FsVmlkZW9TdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9TdGF0cyhlLG4pfSx0Ll9nZXRSZW1vdGVWaWRlb1F1YWxpdHlTdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvUXVhbGl0eVN0YXRzKGUsbil9LHQuX2dldFJlbW90ZUF1ZGlvUXVhbGl0eVN0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9RdWFsaXR5U3RhdHMoZSxuKX0sdC5nZXRUcmFuc3BvcnRTdGF0cz1mdW5jdGlvbihlLG4pe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLmdldFRyYW5zcG9ydFN0YXRzKChmdW5jdGlvbih0KXtyZXR1cm4gUC5nZXRTdGF0cygoZnVuY3Rpb24obil7dmFyIHI9eSgpKHt9LHQsbik7ZSYmZShyKX0pLG4pfSksbil9LHQuZ2V0U2Vzc2lvblN0YXRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQucnRjU3RhdHNDb2xsZWN0b3IuZ2V0U2Vzc2lvblN0YXRzKGUsbil9LHQub25OZXR3b3JrUXVhbGl0eT1mdW5jdGlvbigpe3JldHVybiB0LnJ0Y1N0YXRzQ29sbGVjdG9yLm9uTmV0d29ya1F1YWxpdHkob25TdWNjZXNzLG9uRmFpbHVyZSl9LHQuc2VuZE1ldGFkYXRhPWZ1bmN0aW9uKG4scil7dmFyIGk9by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGUuc2Vzc2lvbklkLHtuYW1lOlwiQ2xpZW50LnNlbmRNZXRhZGF0YVwiLHRhZzpcInRyYWNlclwiLGNhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHImJnIoZSk7ciYmcigpfX0pO3QuZ2F0ZXdheUNsaWVudC5zZW5kTWV0YWRhdGEobixpKX0sdC5zZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZT1mdW5jdGlvbihuLGEscyxjLGQsdSl7T2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkNSXCIpP3QuY3VzdG9tUmVwb3J0Q291bnQ+T2JqZWN0KHIuZ2V0UGFyYW1ldGVyKShcIkNSTFwiKT91JiZ1KFwiUkVQT1JUX0xJTUlURURcIik6KHQuZ2F0ZXdheUNsaWVudC5oYXNKb2luZWR8fChpLmRlZmF1bHQuV0FSTklORyhcIlNob3VsZCBpbnZva2UgQ2xpZW50LnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlIGFmdGVyIGpvaW5cIiksdSYmdShcIlJFUE9SVF9CRUZPUkVfSk9JTkVEXCIpKSx0LmN1c3RvbVJlcG9ydFRpbWVyfHwodC5jdXN0b21SZXBvcnRUaW1lcj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt0LmN1c3RvbVJlcG9ydENvdW50PTB9KSxPYmplY3Qoci5nZXRQYXJhbWV0ZXIpKFwiQ1JJXCIpKSksT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykobixcInJlcG9ydElkXCIsMCwxMDAsITEpLE9iamVjdChNLmNoZWNrVmFsaWRTdHJpbmcpKGEsXCJjYXRlZ29yeVwiLDAsMTAwLCExKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShzLFwiZXZlbnRcIiwwLDEwMCwhMSksT2JqZWN0KE0uY2hlY2tWYWxpZFN0cmluZykoYyxcImxhYmVsXCIsMCwxMDAsITEpLE9iamVjdChNLmNoZWNrVmFsaWROdW1iZXIpKGQsXCJ2YWx1ZVwiLE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSx0LmN1c3RvbVJlcG9ydENvdW50Kyssby5yZXBvcnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UoZS5zZXNzaW9uSWQse3JlcG9ydElkOm4sY2F0ZWdvcnk6YSxldmVudDpzLGxhYmVsOmMsdmFsdWU6ZCxsdHM6RGF0ZS5ub3coKX0sKGZ1bmN0aW9uKGUpe2U/dSYmdShcIlJFUE9SVF9GQUlMRURcIik6dSYmdSgpfSkpKTp1JiZ1KFwiUkVQT1JUX0ZPUkJJRERFTlwiKX0sdC5zZXRMb2NhbEFjY2Vzc1BvaW50cz1mdW5jdGlvbihuLGkpe3ZhciBhPW8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcIkNsaWVudC5zZXRMb2NhbEFjY2Vzc1BvaW50c1wiLHRhZzpcInRyYWNlclwifSk7aWYoT2JqZWN0KE0uY2hlY2tWYWxpZEFycmF5KShuLFwic2VydmVyTGlzdFwiKSxPYmplY3QoTS5jaGVja1ZhbGlkU3RyaW5nKShpLFwiZG9tYWluXCIpLHQudXNlUHJveHlTZXJ2ZXIpdGhyb3cgbmV3IEVycm9yKFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpO3ZhciBzPS9eKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC87bj1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMudGVzdChlKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGkpOmV9KSksdC51c2VMb2NhbEFjY2Vzc1BvaW50PSEwLE9iamVjdChyLnNldFBhcmFtZXRlcikoXCJXRUJDU19ET01BSU5cIixuKSxPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsbiksT2JqZWN0KHIuc2V0UGFyYW1ldGVyKShcIkdBVEVXQVlfRE9NQUlOU1wiLFtpXSksT2JqZWN0KHIuc2V0UGFyYW1ldGVyKShcIkVWRU5UX1JFUE9SVF9ET01BSU5cIixuW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpuLmxlbmd0aCldKSxPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixuW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpuLmxlbmd0aCldKSxPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChuW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpuLmxlbmd0aCldLFwiOjY0NDRcIikpLGEoKX0sZS5jbGllbnRJZD10LmNsaWVudElkLHQuZ2F0ZXdheUNsaWVudD1PYmplY3QoUi5hKShlKSx0Lmxpc3RlbmVyTG9nZ2VyVGltZXI9bnVsbCx0Lmxpc3RlbmVyTG9nZ2VyQ2FjaGU9W10sdC5vbj1mdW5jdGlvbihlLG4pe3QuZ2F0ZXdheUNsaWVudC5vbihlLG4pLHQubGlzdGVuZXJMb2dnZXJDYWNoZS5wdXNoKFwiXCIuY29uY2F0KGUpLmNvbmNhdChuLm5hbWU/XCI6XCIrbi5uYW1lOlwiXCIpKSx0Lmxpc3RlbmVyTG9nZ2VyVGltZXI/Y2xlYXJUaW1lb3V0KHQubGlzdGVuZXJMb2dnZXJUaW1lcik6aS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIEFkZGluZyBldmVudCBoYW5kbGVyIG9uIFwiKS5jb25jYXQoZSkpLHQubGlzdGVuZXJMb2dnZXJUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QubGlzdGVuZXJMb2dnZXJDYWNoZS5sZW5ndGgmJih0Lmxpc3RlbmVyTG9nZ2VyVGltZXI9bnVsbCxpLmRlZmF1bHQuaW5mbyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQWRkZWQgZXZlbnQgaGFuZGxlciBvbiBcIikuY29uY2F0KHQubGlzdGVuZXJMb2dnZXJDYWNoZS5qb2luKFwiLCBcIikpKSx0Lmxpc3RlbmVyTG9nZ2VyQ2FjaGU9W10pfSksMCl9LHQub2ZmPWZ1bmN0aW9uKGUsbil7aS5kZWZhdWx0LmluZm8oXCJyZW1vdmUgZXZlbnQgaGFuZGxlciBmcm9tIFtcIi5jb25jYXQoZSxcIl1cIikpLHQuZ2F0ZXdheUNsaWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9LHQucnRjU3RhdHNDb2xsZWN0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuYikoKTtyZXR1cm4gdC5nYXRld2F5Q2xpZW50PWUsdC5leGNlcHRpb25Nb25pdG9yPW5ldyB3KGUpLHQubG9jYWxTdGF0cz17fSx0LnJlbW90ZVN0YXRzPXt9LHQuc2Vzc2lvbj17c2VuZEJ5dGVzOjAscmVjdkJ5dGVzOjAsV1NTZW5kQnl0ZXM6MCxXU1NlbmRCeXRlc0RlbHRhOjAsV1NSZWN2Qnl0ZXM6MCxXU1JlY3ZCeXRlc0RlbHRhOjAsSFRUUFNlbmRCeXRlczowLEhUVFBTZW5kQnl0ZXNEZWx0YTowLEhUVFBSZWN2Qnl0ZXM6MCxIVFRQUmVjdkJ5dGVzRGVsdGE6MH0sdC5nZXRSZW1vdGVBdWRpb1N0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2F0ZXdheUNsaWVudC50cmFmZmljX3N0YXRzLHI9e307Zm9yKHZhciBpIGluIHQucmVtb3RlU3RhdHMpe3ZhciBvPXt9LGE9dC5yZW1vdGVTdGF0c1tpXTtpZihPYmplY3QoQS5iKShvLFwiRW5kMkVuZERlbGF5XCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkuYXVkaW9fZGVsYXkpLE9iamVjdChBLmIpKG8sXCJUcmFuc3BvcnREZWxheVwiLGEucGVlcl9kZWxheSYmYS5wZWVyX2RlbGF5LmUyZV9kZWxheSksT2JqZWN0KEEuYikobyxcIlBhY2tldExvc3NSYXRlXCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkuZTJlX2F1ZGlvX2xvc3RfcmF0aW9fNDAwbXMpLE9iamVjdChBLmIpKG8sXCJSZWN2TGV2ZWxcIixhLmF1ZGlvU3RhdHMmJmEuYXVkaW9TdGF0cy5hdWRpb091dHB1dExldmVsKSxPYmplY3QoQS5iKShvLFwiUmVjdkJpdHJhdGVcIixhLmF1ZGlvUmVjdkJpdHJhdGUpLE9iamVjdChBLmIpKG8sXCJDb2RlY1R5cGVcIixhLmF1ZGlvU3RhdHMmJmEuYXVkaW9TdGF0cy5nb29nQ29kZWNOYW1lKSxPYmplY3QoQS5iKShvLFwiTXV0ZVN0YXRlXCIsYS5hdWRpb0Rpc2FibGVkKSxPYmplY3QoQS5iKShvLFwiVG90YWxGcmVlemVUaW1lXCIsYS5hdWRpb1N0YXRzJiZhLmF1ZGlvU3RhdHMuYXVkaW9Ub3RhbEZyZWV6ZVRpbWUpLE9iamVjdChBLmIpKG8sXCJUb3RhbFBsYXlEdXJhdGlvblwiLGEuYXVkaW9TdGF0cyYmYS5hdWRpb1N0YXRzLmF1ZGlvVG90YWxQbGF5RHVyYXRpb24pLG4mJm4ucGVlcl9kZWxheSl7dmFyIHM9bi5wZWVyX2RlbGF5LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBlZXJfdWlkPT1pfSkpO2lmKHMpe3ZhciBjPXMucGVlcl9wdWJsaXNoX2F1ZGlvX2R1cmF0aW9uKyhEYXRlLm5vdygpLW4udGltZXN0YW1wKTtPYmplY3QoQS5iKShvLFwiQXVkaW9QdWJsaXNoRHVyYXRpb25cIixjKX1lbHNlIE9iamVjdChBLmIpKG8sXCJBdWRpb1B1Ymxpc2hEdXJhdGlvblwiLC0xKX1yW2ldPW99ZSYmZShyKX0sdC5nZXRMb2NhbEF1ZGlvU3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQubG9jYWxTdGF0cyl7dmFyIGk9e30sbz10LmxvY2FsU3RhdHNbcl07T2JqZWN0KEEuYikoaSxcIlJlY29yZGluZ0xldmVsXCIsby5hdWRpb1N0YXRzJiZvLmF1ZGlvU3RhdHMuYXVkaW9JbnB1dExldmVsKSxPYmplY3QoQS5iKShpLFwiU2VuZExldmVsXCIsby5hdWRpb1N0YXRzJiZvLmF1ZGlvU3RhdHMudG90YWxBdWRpb0VuZXJneSksT2JqZWN0KEEuYikoaSxcIlNhbXBsaW5nUmF0ZVwiLG8uYXVkaW9TdGF0cyYmby5hdWRpb1N0YXRzLnRvdGFsU2FtcGxlc0R1cmF0aW9uKSxPYmplY3QoQS5iKShpLFwiU2VuZEJpdHJhdGVcIixvLmF1ZGlvU2VuZEJpdHJhdGUpLE9iamVjdChBLmIpKGksXCJDb2RlY1R5cGVcIixvLmF1ZGlvU3RhdHMmJm8uYXVkaW9TdGF0cy5nb29nQ29kZWNOYW1lKSxPYmplY3QoQS5iKShpLFwiTXV0ZVN0YXRlXCIsby5hdWRpb0Rpc2FibGVkKSxPYmplY3QoQS5iKShpLFwiYXVkaW9TZW5kUGFja2V0c0xvc3RcIixvLmF1ZGlvU3RhdHMmJm8uYXVkaW9TdGF0cy5wYWNrZXRzTG9zdCk7dmFyIGE9dC5nYXRld2F5Q2xpZW50LmxvY2FsU3RyZWFtc1tyXTthJiZhLmlzUGxheWluZygpJiZPYmplY3QoQS5iKShpLFwiTXV0ZVN0YXRlXCIsYS51c2VyTXV0ZUF1ZGlvP1wiMVwiOlwiMFwiKSxuW3JdPWl9ZSYmZShuKX0sdC5nZXRSZW1vdGVWaWRlb1N0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2F0ZXdheUNsaWVudC50cmFmZmljX3N0YXRzLHI9e307Zm9yKHZhciBpIGluIHQucmVtb3RlU3RhdHMpe3ZhciBvPXt9LGE9dC5yZW1vdGVTdGF0c1tpXTtpZihPYmplY3QoQS5iKShvLFwiRW5kMkVuZERlbGF5XCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkudmlkZW9fZGVsYXkpLE9iamVjdChBLmIpKG8sXCJUcmFuc3BvcnREZWxheVwiLGEucGVlcl9kZWxheSYmYS5wZWVyX2RlbGF5LmUyZV9kZWxheSksT2JqZWN0KEEuYikobyxcIlBhY2tldExvc3NSYXRlXCIsYS5wZWVyX2RlbGF5JiZhLnBlZXJfZGVsYXkuZTJlX3ZpZGVvX2xvc3RfcmF0aW9fNDAwbXMpLE9iamVjdChBLmIpKG8sXCJSZWN2Qml0cmF0ZVwiLGEudmlkZW9SZWN2Qml0cmF0ZSksT2JqZWN0KEEuYikobyxcIlJlY3ZSZXNvbHV0aW9uV2lkdGhcIixhLnZpZGVvU3RhdHMmJmEudmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxPYmplY3QoQS5iKShvLFwiUmVjdlJlc29sdXRpb25IZWlnaHRcIixhLnZpZGVvU3RhdHMmJmEudmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksT2JqZWN0KEEuYikobyxcIlJlbmRlclJlc29sdXRpb25XaWR0aFwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLnJlbmRlclJlbW90ZVdpZHRoKSxPYmplY3QoQS5iKShvLFwiUmVuZGVyUmVzb2x1dGlvbkhlaWdodFwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLnJlbmRlclJlbW90ZUhlaWdodCksT2JqZWN0KEEuYikobyxcIlJlbmRlckZyYW1lUmF0ZVwiLGEudmlkZW9TdGF0cyYmYS52aWRlb1N0YXRzLmdvb2dGcmFtZVJhdGVPdXRwdXQpLE9iamVjdChBLmIpKG8sXCJNdXRlU3RhdGVcIixhLnZpZGVvRGlzYWJsZWQpLE9iamVjdChBLmIpKG8sXCJUb3RhbEZyZWV6ZVRpbWVcIixhLnZpZGVvU3RhdHMmJmEudmlkZW9TdGF0cy52aWRlb1RvdGFsRnJlZXplVGltZSksT2JqZWN0KEEuYikobyxcIlRvdGFsUGxheUR1cmF0aW9uXCIsYS52aWRlb1N0YXRzJiZhLnZpZGVvU3RhdHMudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbiksbiYmbi5wZWVyX2RlbGF5KXt2YXIgcz1uLnBlZXJfZGVsYXkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGVlcl91aWQ9PWl9KSk7aWYocyl7dmFyIGM9cy5wZWVyX3B1Ymxpc2hfdmlkZW9fZHVyYXRpb24rKERhdGUubm93KCktbi50aW1lc3RhbXApO09iamVjdChBLmIpKG8sXCJWaWRlb1B1Ymxpc2hEdXJhdGlvblwiLGMpfWVsc2UgT2JqZWN0KEEuYikobyxcIlZpZGVvUHVibGlzaER1cmF0aW9uXCIsLTEpfXJbaV09b31lJiZlKHIpfSx0LmdldExvY2FsVmlkZW9TdGF0cz1mdW5jdGlvbihlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdC5sb2NhbFN0YXRzKXt2YXIgaT17fSxvPXQubG9jYWxTdGF0c1tyXTtPYmplY3QoQS5iKShpLFwiVGFyZ2V0U2VuZEJpdHJhdGVcIixvLnZpZGVvVGFyZ2V0U2VuZEJpdHJhdGUpLE9iamVjdChBLmIpKGksXCJTZW5kRnJhbWVSYXRlXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmF0ZVNlbnQpLE9iamVjdChBLmIpKGksXCJTZW5kQml0cmF0ZVwiLG8udmlkZW9TZW5kQml0cmF0ZSksT2JqZWN0KEEuYikoaSxcIlNlbmRSZXNvbHV0aW9uV2lkdGhcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5nb29nRnJhbWVXaWR0aFNlbnQpLE9iamVjdChBLmIpKGksXCJTZW5kUmVzb2x1dGlvbkhlaWdodFwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodFNlbnQpLE9iamVjdChBLmIpKGksXCJDYXB0dXJlUmVzb2x1dGlvbldpZHRoXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhJbnB1dCksT2JqZWN0KEEuYikoaSxcIkNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0XCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQpLE9iamVjdChBLmIpKGksXCJFbmNvZGVEZWxheVwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLmdvb2dBdmdFbmNvZGVNcyksT2JqZWN0KEEuYikoaSxcIk11dGVTdGF0ZVwiLG8udmlkZW9EaXNhYmxlZCksT2JqZWN0KEEuYikoaSxcIlRvdGFsRnJlZXplVGltZVwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnZpZGVvVG90YWxGcmVlemVUaW1lKSxPYmplY3QoQS5iKShpLFwiVG90YWxEdXJhdGlvblwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnZpZGVvVG90YWxQbGF5RHVyYXRpb24pLE9iamVjdChBLmIpKGksXCJDYXB0dXJlRnJhbWVSYXRlXCIsby52aWRlb1N0YXRzJiZvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lUmF0ZVNlbnQpLE9iamVjdChBLmIpKGksXCJ2aWRlb1NlbmRQYWNrZXRzTG9zdFwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnBhY2tldHNMb3N0KSxvLnZpZGVvU3RhdHMmJiFvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhJbnB1dCYmT2JqZWN0KEEuYikoaSxcIkNhcHR1cmVSZXNvbHV0aW9uV2lkdGhcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy5yZW5kZXJMb2NhbFdpZHRoKSxvLnZpZGVvU3RhdHMmJiFvLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQmJk9iamVjdChBLmIpKGksXCJDYXB0dXJlUmVzb2x1dGlvbkhlaWdodFwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnJlbmRlckxvY2FsSGVpZ2h0KSxuW3JdPWl9ZSYmZShuKX0sdC5nZXRSZW1vdGVWaWRlb1F1YWxpdHlTdGF0cz1mdW5jdGlvbihlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdC5yZW1vdGVTdGF0cyl7dmFyIGk9e30sbz10LnJlbW90ZVN0YXRzW3JdO09iamVjdChBLmIpKGksXCJ2aWRlb1JlY2VpdmVEZWxheVwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLmdvb2dDdXJyZW50RGVsYXlNcyksT2JqZWN0KEEuYikoaSxcIlZpZGVvRnJlZXplUmF0ZVwiLG8udmlkZW9TdGF0cyYmby52aWRlb1N0YXRzLnZpZGVvRnJlZXplUmF0ZSksT2JqZWN0KEEuYikoaSxcIkZpcnN0RnJhbWVUaW1lXCIsby5maXJzdEZyYW1lVGltZSksbltyXT1pfWUmJmUobil9LHQuZ2V0UmVtb3RlQXVkaW9RdWFsaXR5U3RhdHM9ZnVuY3Rpb24oZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQucmVtb3RlU3RhdHMpe3ZhciBpPXt9LG89dC5yZW1vdGVTdGF0c1tyXTtPYmplY3QoQS5iKShpLFwiYXVkaW9SZWNlaXZlRGVsYXlcIixvLmF1ZGlvU3RhdHMmJm8uYXVkaW9TdGF0cy5nb29nQ3VycmVudERlbGF5TXMpLE9iamVjdChBLmIpKGksXCJBdWRpb0ZyZWV6ZVJhdGVcIixvLnZpZGVvU3RhdHMmJm8udmlkZW9TdGF0cy52aWRlb0ZyZWV6ZVJhdGUpLG5bcl09aX1lJiZlKG4pfSx0LmdldFRyYW5zcG9ydFN0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXt9LHI9e30saT10LmdhdGV3YXlDbGllbnQudHJhZmZpY19zdGF0cyxvPWkucGVlcl9kZWxheTtpZihPYmplY3QoQS5iKShuLFwiT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGhcIix0LmdhdGV3YXlDbGllbnQuT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGgvMWUzKSxPYmplY3QoQS5iKShuLFwiUlRUXCIsaSYmMippLmFjY2Vzc19kZWxheSksbyl7dmFyIGEscz1MKG8pO3RyeXtmb3Iocy5zKCk7IShhPXMubigpKS5kb25lOyl7dmFyIGM9YS52YWx1ZTtjLmRvd25saW5rX2VzdGltYXRlX2JhbmR3aWR0aCYmKHJbYy5wZWVyX3VpZF09Yy5kb3dubGlua19lc3RpbWF0ZV9iYW5kd2lkdGgvMWUzK1wiXCIpfX1jYXRjaChlKXtzLmUoZSl9ZmluYWxseXtzLmYoKX19bi5JbmNvbWluZ0F2YWlsYWJsZUJhbmR3aWR0aD1yLGUmJmUobil9LHQuZ2V0U2Vzc2lvblN0YXRzPWZ1bmN0aW9uKGUpe3ZhciBuPXt9LHI9dC5nYXRld2F5Q2xpZW50LnRyYWZmaWNfc3RhdHMsaT10LmdhdGV3YXlDbGllbnQuc29ja2V0LG89MCxhPTA7Zm9yKHZhciBzIGluIHQucmVtb3RlU3RhdHMpeyhjPXQucmVtb3RlU3RhdHNbc10pJiZjLnZpZGVvU3RhdHMmJmMudmlkZW9TdGF0cy52aWRlb1JlY3ZCeXRlc0RlbHRhJiYoYSs9cGFyc2VJbnQoYy52aWRlb1N0YXRzLnZpZGVvUmVjdkJ5dGVzRGVsdGEpKSxjJiZjLmF1ZGlvU3RhdHMmJmMuYXVkaW9TdGF0cy5hdWRpb1JlY3ZCeXRlc0RlbHRhJiYoYSs9cGFyc2VJbnQoYy5hdWRpb1N0YXRzLmF1ZGlvUmVjdkJ5dGVzRGVsdGEpKX1mb3IodmFyIHMgaW4gdC5sb2NhbFN0YXRzKXt2YXIgYzsoYz10LmxvY2FsU3RhdHNbc10pJiZjLnZpZGVvU3RhdHMmJmMudmlkZW9TdGF0cy52aWRlb1NlbmRCeXRlc0RlbHRhJiYobys9cGFyc2VJbnQoYy52aWRlb1N0YXRzLnZpZGVvU2VuZEJ5dGVzRGVsdGEpKSxjJiZjLmF1ZGlvU3RhdHMmJmMuYXVkaW9TdGF0cy5hdWRpb1NlbmRCeXRlc0RlbHRhJiYobys9cGFyc2VJbnQoYy5hdWRpb1N0YXRzLmF1ZGlvU2VuZEJ5dGVzRGVsdGEpKX12YXIgZD1vK3Quc2Vzc2lvbi5XU1NlbmRCeXRlc0RlbHRhK3Quc2Vzc2lvbi5IVFRQU2VuZEJ5dGVzRGVsdGEsdT1hK3Quc2Vzc2lvbi5XU1JlY3ZCeXRlc0RlbHRhK3Quc2Vzc2lvbi5IVFRQUmVjdkJ5dGVzRGVsdGEsbD10LnNlc3Npb24uc2VuZEJ5dGVzK09iamVjdChPLmdldEhUVFBTZW5kQnl0ZXMpKCksZj10LnNlc3Npb24ucmVjdkJ5dGVzK09iamVjdChPLmdldEhUVFBSZWN2Qnl0ZXMpKCk7dC5nYXRld2F5Q2xpZW50LnNvY2tldCYmdC5nYXRld2F5Q2xpZW50LnNvY2tldC5zdGF0ZT09PXQuZ2F0ZXdheUNsaWVudC5DT05ORUNURUQmJihsKz1pLmdldFNlbmRCeXRlcygpLGYrPWkuZ2V0UmVjdkJ5dGVzKCkpO3ZhciBwPTE7ci5wZWVyX2RlbGF5JiYocD1yLnBlZXJfZGVsYXkubGVuZ3RoLHArPTEpLGk/T2JqZWN0KEEuYikobixcIkR1cmF0aW9uXCIsaS5nZXREdXJhdGlvbigpKTpPYmplY3QoQS5iKShuLFwiRHVyYXRpb25cIiwwKSxPYmplY3QoQS5iKShuLFwiVXNlckNvdW50XCIscCksT2JqZWN0KEEuYikobixcIlNlbmRCeXRlc1wiLGwpLE9iamVjdChBLmIpKG4sXCJSZWN2Qnl0ZXNcIixmKSxPYmplY3QoQS5iKShuLFwiU2VuZEJpdHJhdGVcIiw4KmQvMWUzKSxPYmplY3QoQS5iKShuLFwiUmVjdkJpdHJhdGVcIiw4KnUvMWUzKSxlJiZlKG4pfSx0LmlzTG9jYWxWaWRlb0ZyZWV6ZT1mdW5jdGlvbihlLHQpe3ZhciBuPTAscj0wO2lmKCFlfHwhdClyZXR1cm4hMTtpZihPYmplY3Qocy5pc0Nocm9tZSkoKXx8T2JqZWN0KHMuaXNPcGVyYSkoKSluPWUuZ29vZ0ZyYW1lUmF0ZUlucHV0LHI9ZS5nb29nRnJhbWVSYXRlU2VudDtlbHNlIGlmKE9iamVjdChzLmlzU2FmYXJpKSgpKW49cGFyc2VJbnQoZS5mcmFtZXJhdGVNZWFuKSxyPXBhcnNlSW50KGUuZnJhbWVzRW5jb2RlZCktcGFyc2VJbnQodC5mcmFtZXNFbmNvZGVkKTtlbHNle2lmKCFPYmplY3Qocy5pc0ZpcmVGb3gpKCkpcmV0dXJuITE7bj1wYXJzZUludChlLmZyYW1lcmF0ZU1lYW4pLHI9cGFyc2VJbnQoZS5mcmFtZXNFbmNvZGVkKS1wYXJzZUludCh0LmZyYW1lc0VuY29kZWQpfXJldHVybiBuPjUmJnI8M30sdC5pc1JlbW90ZVZpZGVvRnJlZXplPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPTA7aWYoIWV8fCF0KXJldHVybiExO2lmKE9iamVjdChzLmlzQ2hyb21lKSgpfHxPYmplY3Qocy5pc09wZXJhKSgpKW49ZS5nb29nRnJhbWVSYXRlUmVjZWl2ZWQscj1lLmdvb2dGcmFtZVJhdGVEZWNvZGVkO2Vsc2UgaWYoT2JqZWN0KHMuaXNTYWZhcmkpKCkpbj1lLmZyYW1lcmF0ZU1lYW4scj1wYXJzZUludChlLmZyYW1lc0RlY29kZWQpLXBhcnNlSW50KHQuZnJhbWVzRGVjb2RlZCk7ZWxzZXtpZighT2JqZWN0KHMuaXNGaXJlRm94KSgpKXJldHVybiExO249cGFyc2VJbnQoZS5mcmFtZXNSZWNlaXZlZCktcGFyc2VJbnQodC5mcmFtZXNSZWNlaXZlZCkscj1wYXJzZUludChlLmZyYW1lc0RlY29kZWQpLXBhcnNlSW50KHQuZnJhbWVzRGVjb2RlZCl9cmV0dXJuIG4+NSYmbjwxMCYmcjwzfHwobj4xMCYmbjwyMCYmcjw0fHxuPjIwJiZyPDUpfSx0LmlzQXVkaW9GcmVlemU9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KHMuaXNDaHJvbWUpKCkmJmUpe2lmKGUuZ29vZ0RlY29kaW5nUExDJiZlLmdvb2dEZWNvZGluZ1BMQ0NORyYmZS5nb29nRGVjb2RpbmdDVE4pcmV0dXJuKHBhcnNlSW50KGUuZ29vZ0RlY29kaW5nUExDKStwYXJzZUludChlLmdvb2dEZWNvZGluZ1BMQ0NORykpL3BhcnNlSW50KGUuZ29vZ0RlY29kaW5nQ1ROKT4uMn1lbHNlIGlmKChPYmplY3Qocy5pc1NhZmFyaSkoKXx8T2JqZWN0KHMuaXNGaXJlRm94KSgpKSYmZS5wYWNrZXRzTG9zdCYmZS5wYWNrZXRzUmVjZWl2ZWQpcmV0dXJuIHBhcnNlSW50KGUucGFja2V0c0xvc3QpLyhwYXJzZUludChlLnBhY2tldHNMb3N0KStwYXJzZUludChlLnBhY2tldHNSZWNlaXZlZCkpPi4yO3JldHVybiExfSx0LmlzQXVkaW9EZWNvZGVGYWlsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISEoKE9iamVjdChzLmlzQ2hyb21lKSgpfHxPYmplY3Qocy5pc09wZXJhKSgpKSYmZSYmcGFyc2VJbnQoZS5ieXRlc1JlY2VpdmVkKT4wJiYwPT09cGFyc2VJbnQoZS5nb29nRGVjb2RpbmdOb3JtYWwpKX0sdC5zdGFydE5ldHdvcmtRdWFsaXR5VGltZXI9ZnVuY3Rpb24oKXt0LmNsZWFyTmV0d29ya1F1YWxpdHlUaW1lcigpLHQubmV0d29ya1F1YWxpdHlUaW1lcj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZih0LmdhdGV3YXlDbGllbnQuc3RhdGU9PT1SLmEuQ09OTkVDVEVEJiZuYXZpZ2F0b3Iub25MaW5lKXt2YXIgZT10LmdhdGV3YXlDbGllbnQudHJhZmZpY19zdGF0czt0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm5ldHdvcmstcXVhbGl0eVwiLHVwbGlua05ldHdvcmtRdWFsaXR5OnQubmV0d29ya1F1YWxpdHlUcmFucyhlLnVwbGlua19uZXR3b3JrX3F1YWxpdHkpLGRvd25saW5rTmV0d29ya1F1YWxpdHk6dC5uZXR3b3JrUXVhbGl0eVRyYW5zKGUuZG93bmxpbmtfbmV0d29ya19xdWFsaXR5KX0pfWVsc2UgdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJuZXR3b3JrLXF1YWxpdHlcIix1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MH0pfSksMmUzKX0sdC5jbGVhck5ldHdvcmtRdWFsaXR5VGltZXI9ZnVuY3Rpb24oKXt0Lm5ldHdvcmtRdWFsaXR5VGltZXImJmNsZWFySW50ZXJ2YWwodC5uZXR3b3JrUXVhbGl0eVRpbWVyKX0sdC5uZXR3b3JrUXVhbGl0eVRyYW5zPWZ1bmN0aW9uKGUpe3JldHVybiBlPj0wJiZlPC4xNz8xOmU+PS4xNyYmZTwuMzY/MjplPj0uMzYmJmU8LjU5PzM6ZT49LjU5JiZlPD0xPzQ6ZT4xPzU6MH0sdC5nZXRTdGF0c1RpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe3ZhciBlPXQuZ2F0ZXdheUNsaWVudC50cmFmZmljX3N0YXRzLG49RGF0ZS5ub3coKTt0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIl90ZXN0RXhjZXB0aW9uXCJ9KSxPYmplY3Qua2V5cyh0LmxvY2FsU3RhdHMpLmxlbmd0aCYmdC5leGNlcHRpb25Nb25pdG9yLnNldExvY2FsU3RhdHModC5sb2NhbFN0YXRzKSxPYmplY3Qua2V5cyh0LnJlbW90ZVN0YXRzKS5sZW5ndGgmJnQuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVTdGF0cyh0LnJlbW90ZVN0YXRzKTt2YXIgcj17fTtPYmplY3Qua2V5cyh0LmdhdGV3YXlDbGllbnQucmVtb3RlU3RyZWFtcykuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIG89dC5nYXRld2F5Q2xpZW50LnJlbW90ZVN0cmVhbXNbaV0sYT10LnJlbW90ZVN0YXRzW2ldLHM9e2lkOmksdXBkYXRlZEF0Om59O3JbaV09cyxzLmZpcnN0RnJhbWVUaW1lPW8uZmlyc3RGcmFtZVRpbWUsYT8ocy5hdWRpb1RvdGFsUGxheUR1cmF0aW9uPWEuYXVkaW9Ub3RhbFBsYXlEdXJhdGlvbisxLHMuYXVkaW9Ub3RhbEZyZWV6ZVRpbWU9YS5hdWRpb1RvdGFsRnJlZXplVGltZSxzLmlzQXVkaW9GcmVlemU9ITEscy5pc0F1ZGlvRGVjb2RlRmFpbGVkPSExLHMudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbj1hLnZpZGVvVG90YWxQbGF5RHVyYXRpb24rMSxzLnZpZGVvVG90YWxGcmVlemVUaW1lPWEudmlkZW9Ub3RhbEZyZWV6ZVRpbWUscy5pc1ZpZGVvRnJlZXplPSExKToocy5hdWRpb1RvdGFsUGxheUR1cmF0aW9uPTEscy5hdWRpb1RvdGFsRnJlZXplVGltZT0wLHMudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbj0xLHMudmlkZW9Ub3RhbEZyZWV6ZVRpbWU9MCk7dmFyIGM9ZSYmZS5wZWVyX2RlbGF5JiZlLnBlZXJfZGVsYXkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGVlcl91aWQ9PWl9KSk7YyYmKHMucGVlcl9kZWxheT1jKSxvJiYoby5pc1BsYXlpbmcoKSYmKHMuYXVkaW9EaXNhYmxlZD1vLnVzZXJNdXRlQXVkaW98fG8ucGVlck11dGVBdWRpbz9cIjFcIjpcIjBcIixzLnZpZGVvRGlzYWJsZWQ9by51c2VyTXV0ZVZpZGVvfHxvLnBlZXJNdXRlVmlkZW8/XCIxXCI6XCIwXCIpLGEmJmEucGVlcl9kZWxheSYmYyYmYS5wZWVyX2RlbGF5LnN0cmVhbV90eXBlIT09Yy5zdHJlYW1fdHlwZSYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW1UeXBlQ2hhbmdlXCIsdWlkOmksc3RyZWFtVHlwZTpjLnN0cmVhbV90eXBlfSksby5wYyYmXCJlc3RhYmxpc2hlZFwiPT1vLnBjLnN0YXRlJiZvLnBjLmdldFN0YXRzKChmdW5jdGlvbihlKXtpZihzLnBjU3RhdHM9ZSxzLmF1ZGlvU3RhdHM9ZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PWUubWVkaWFUeXBlJiYoZS5pZC5pbmRleE9mKFwiX3JlY3ZcIik+LTF8fGUuaWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaW5ib3VuZFwiKT4tMSl9KSkscy52aWRlb1N0YXRzPWUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb1wiPT1lLm1lZGlhVHlwZSYmKGUuaWQuaW5kZXhPZihcIl9yZWN2XCIpPi0xfHxlLmlkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImluYm91bmRcIik+LTEpfSkpLGEmJmEuYXVkaW9TdGF0cyYmcy5hdWRpb1N0YXRzKXt2YXIgbj1wYXJzZUludChzLmF1ZGlvU3RhdHMuYnl0ZXNSZWNlaXZlZCktcGFyc2VJbnQoYS5hdWRpb1N0YXRzLmJ5dGVzUmVjZWl2ZWQpLHI9cGFyc2VJbnQocy5hdWRpb1N0YXRzLmdvb2dEZWNvZGluZ05vcm1hbCktcGFyc2VJbnQoYS5hdWRpb1N0YXRzLmdvb2dEZWNvZGluZ05vcm1hbCk7aWYocy5hdWRpb1N0YXRzLmF1ZGlvUmVjdkJ5dGVzRGVsdGE9bixzLmF1ZGlvU3RhdHMuYXVkaW9EZWNvZGluZ05vcm1hbERlbHRhPXIsdC5zZXNzaW9uLnJlY3ZCeXRlcys9bixpc0Zpbml0ZShuKSYmcy5hdWRpb1N0YXRzLnRpbWVzdGFtcCl7dmFyIGk9cy5hdWRpb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCktYS5hdWRpb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCk7cy5hdWRpb1JlY3ZCaXRyYXRlPU1hdGguZmxvb3IoOCpuL2kpfXQuaXNBdWRpb0ZyZWV6ZShzLmF1ZGlvU3RhdHMpJiZzLmF1ZGlvVG90YWxQbGF5RHVyYXRpb24+MTAmJihzLmF1ZGlvVG90YWxGcmVlemVUaW1lKysscy5pc0F1ZGlvRnJlZXplPSEwKSx0LmlzQXVkaW9EZWNvZGVGYWlsZWQocy5hdWRpb1N0YXRzKSYmcy5hdWRpb1RvdGFsUGxheUR1cmF0aW9uPjEwJiYocy5pc0F1ZGlvRGVjb2RlRmFpbGVkPSEwKSxzLmF1ZGlvU3RhdHMuYXVkaW9Ub3RhbEZyZWV6ZVRpbWU9cy5hdWRpb1RvdGFsRnJlZXplVGltZSxzLmF1ZGlvU3RhdHMuYXVkaW9Ub3RhbFBsYXlEdXJhdGlvbj1zLmF1ZGlvVG90YWxQbGF5RHVyYXRpb24scy5hdWRpb1N0YXRzLmF1ZGlvRnJlZXplUmF0ZT1NYXRoLmNlaWwoMTAwKnMuYXVkaW9Ub3RhbEZyZWV6ZVRpbWUvcy5hdWRpb1RvdGFsUGxheUR1cmF0aW9uKX1pZihhJiZhLnZpZGVvU3RhdHMmJnMudmlkZW9TdGF0cyl7dmFyIGM9cGFyc2VJbnQocy52aWRlb1N0YXRzLmJ5dGVzUmVjZWl2ZWQpLXBhcnNlSW50KGEudmlkZW9TdGF0cy5ieXRlc1JlY2VpdmVkKTtpZihzLnZpZGVvU3RhdHMudmlkZW9SZWN2Qnl0ZXNEZWx0YT1jLHQuc2Vzc2lvbi5yZWN2Qnl0ZXMrPWMsaXNGaW5pdGUoYykmJnMudmlkZW9TdGF0cy50aW1lc3RhbXApe2k9cy52aWRlb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCktYS52aWRlb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCk7cy52aWRlb1JlY3ZCaXRyYXRlPU1hdGguZmxvb3IoOCpjL2kpfXQuaXNSZW1vdGVWaWRlb0ZyZWV6ZShzLnZpZGVvU3RhdHMsYS52aWRlb1N0YXRzKSYmKHMudmlkZW9Ub3RhbEZyZWV6ZVRpbWUrKyxzLmlzVmlkZW9GcmVlemU9ITApLHMudmlkZW9TdGF0cy52aWRlb1RvdGFsRnJlZXplVGltZT1zLnZpZGVvVG90YWxGcmVlemVUaW1lLHMudmlkZW9TdGF0cy52aWRlb1RvdGFsUGxheUR1cmF0aW9uPXMudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbixzLnZpZGVvU3RhdHMudmlkZW9GcmVlemVSYXRlPU1hdGguY2VpbCgxMDAqcy52aWRlb1RvdGFsRnJlZXplVGltZS9zLnZpZGVvVG90YWxQbGF5RHVyYXRpb24pLG8ucGxheWVyJiZvLnBsYXllci52aWRlbyYmby5wbGF5ZXIudmlkZW8udmlkZW9XaWR0aCYmby5wbGF5ZXIudmlkZW8udmlkZW9IZWlnaHQ/KHMudmlkZW9TdGF0cy5yZW5kZXJSZW1vdGVXaWR0aD1vLnBsYXllci52aWRlby52aWRlb1dpZHRoLHMudmlkZW9TdGF0cy5yZW5kZXJSZW1vdGVIZWlnaHQ9by5wbGF5ZXIudmlkZW8udmlkZW9IZWlnaHQpOihzLnZpZGVvU3RhdHMucmVuZGVyUmVtb3RlV2lkdGg9by52aWRlb1dpZHRofHxzLnZpZGVvU3RhdHMuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCxzLnZpZGVvU3RhdHMucmVuZGVyUmVtb3RlSGVpZ2h0PW8udmlkZW9IZWlnaHR8fHMudmlkZW9TdGF0cy5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCl9fSkpKX0pKSx0LnJlbW90ZVN0YXRzPXI7dmFyIGk9e307aWYoT2JqZWN0LmtleXModC5nYXRld2F5Q2xpZW50LmxvY2FsU3RyZWFtcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9dC5nYXRld2F5Q2xpZW50LmxvY2FsU3RyZWFtc1tlXSxvPXQubG9jYWxTdGF0c1tlXSxhPXtpZDplLHVwZGF0ZWRBdDpufTtpW2VdPWEsbz8oYS52aWRlb1RvdGFsUGxheUR1cmF0aW9uPW8udmlkZW9Ub3RhbFBsYXlEdXJhdGlvbisxLGEudmlkZW9Ub3RhbEZyZWV6ZVRpbWU9by52aWRlb1RvdGFsRnJlZXplVGltZSxhLmlzVmlkZW9GcmVlemU9ITEpOihhLnZpZGVvVG90YWxQbGF5RHVyYXRpb249MSxhLnZpZGVvVG90YWxGcmVlemVUaW1lPTApLHImJihyLmlzUGxheWluZygpJiYoYS5hdWRpb0Rpc2FibGVkPXIudXNlck11dGVBdWRpbz9cIjFcIjpcIjBcIixhLnZpZGVvRGlzYWJsZWQ9ci51c2VyTXV0ZVZpZGVvP1wiMVwiOlwiMFwiKSxyLnZpZGVvJiZyLmF0dHJpYnV0ZXMubWF4VmlkZW9CVz9hLnZpZGVvVGFyZ2V0U2VuZEJpdHJhdGU9ci5hdHRyaWJ1dGVzLm1heFZpZGVvQlc6ci52aWRlbyYmci5zY3JlZW5BdHRyaWJ1dGVzJiYoYS52aWRlb1RhcmdldFNlbmRCaXRyYXRlPXIuc2NyZWVuQXR0cmlidXRlcy5tYXhWaWRlb0JXKSxyLnBjJiZcImVzdGFibGlzaGVkXCI9PXIucGMuc3RhdGUmJnIucGMuZ2V0U3RhdHMoKGZ1bmN0aW9uKGUpe2lmKGEucGNTdGF0cz1lLnJldmVyc2UoKSxhLmF1ZGlvU3RhdHM9ZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PWUubWVkaWFUeXBlJiYoZS5pZC5pbmRleE9mKFwiX3NlbmRcIik+LTF8fGUuaWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwib3V0Ym91bmRcIik+LTEpfSkpLGEudmlkZW9TdGF0cz1lLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09ZS5tZWRpYVR5cGUmJihlLmlkLmluZGV4T2YoXCJfc2VuZFwiKT4tMXx8ZS5pZC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJvdXRib3VuZFwiKT4tMSl9KSksYS5hdWRpb1N0YXRzJiZvJiZvLmF1ZGlvU3RhdHMpe3ZhciBuPXBhcnNlSW50KGEuYXVkaW9TdGF0cy5ieXRlc1NlbnQpLXBhcnNlSW50KG8uYXVkaW9TdGF0cy5ieXRlc1NlbnQpO2lmKGEuYXVkaW9TdGF0cy5hdWRpb1NlbmRCeXRlc0RlbHRhPW4sdC5zZXNzaW9uLnNlbmRCeXRlcys9bixpc0Zpbml0ZShuKSYmYS5hdWRpb1N0YXRzLnRpbWVzdGFtcCl7dmFyIGk9YS5hdWRpb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCktby5hdWRpb1N0YXRzLnRpbWVzdGFtcC5nZXRUaW1lKCk7YS5hdWRpb1NlbmRCaXRyYXRlPU1hdGguZmxvb3IoOCpuL2kpfX1pZihhLnZpZGVvU3RhdHMmJm8mJm8udmlkZW9TdGF0cyl7dmFyIHM9cGFyc2VJbnQoYS52aWRlb1N0YXRzLmJ5dGVzU2VudCktcGFyc2VJbnQoby52aWRlb1N0YXRzLmJ5dGVzU2VudCk7aWYoYS52aWRlb1N0YXRzLnZpZGVvU2VuZEJ5dGVzRGVsdGE9cyx0LnNlc3Npb24uc2VuZEJ5dGVzKz1zLGlzRmluaXRlKHMpJiZhLnZpZGVvU3RhdHMudGltZXN0YW1wKXtpPWEudmlkZW9TdGF0cy50aW1lc3RhbXAuZ2V0VGltZSgpLW8udmlkZW9TdGF0cy50aW1lc3RhbXAuZ2V0VGltZSgpO2EudmlkZW9TZW5kQml0cmF0ZT1NYXRoLmZsb29yKDgqcy9pKX10LmlzTG9jYWxWaWRlb0ZyZWV6ZShhLnZpZGVvU3RhdHMsby52aWRlb1N0YXRzKSYmKGEudmlkZW9Ub3RhbEZyZWV6ZVRpbWUrKyxhLmlzVmlkZW9GcmVlemU9ITApLGEudmlkZW9TdGF0cy52aWRlb1RvdGFsRnJlZXplVGltZT1hLnZpZGVvVG90YWxGcmVlemVUaW1lLGEudmlkZW9TdGF0cy52aWRlb1RvdGFsUGxheUR1cmF0aW9uPWEudmlkZW9Ub3RhbFBsYXlEdXJhdGlvbixhLnZpZGVvU3RhdHMudmlkZW9GcmVlemVSYXRlPU1hdGguY2VpbCgxMDAqYS52aWRlb1RvdGFsRnJlZXplVGltZS9hLnZpZGVvVG90YWxQbGF5RHVyYXRpb24pLGEudmlkZW9TdGF0cy5yZW5kZXJMb2NhbFdpZHRoPXIudmlkZW9XaWR0aHx8YS52aWRlb1N0YXRzLmdvb2dGcmFtZVdpZHRoU2VudCxhLnZpZGVvU3RhdHMucmVuZGVyTG9jYWxIZWlnaHQ9ci52aWRlb0hlaWdodHx8YS52aWRlb1N0YXRzLmdvb2dGcmFtZUhlaWdodFNlbnR9fSkpKX0pKSx0LmxvY2FsU3RhdHM9aSx0LnNlc3Npb24uSFRUUFNlbmRCeXRlc0RlbHRhPU9iamVjdChPLmdldEhUVFBTZW5kQnl0ZXMpKCktdC5zZXNzaW9uLkhUVFBTZW5kQnl0ZXMsdC5zZXNzaW9uLkhUVFBTZW5kQnl0ZXM9T2JqZWN0KE8uZ2V0SFRUUFNlbmRCeXRlcykoKSx0LnNlc3Npb24uSFRUUFJlY3ZCeXRlc0RlbHRhPU9iamVjdChPLmdldEhUVFBSZWN2Qnl0ZXMpKCktdC5zZXNzaW9uLkhUVFBSZWN2Qnl0ZXMsdC5zZXNzaW9uLkhUVFBSZWN2Qnl0ZXM9T2JqZWN0KE8uZ2V0SFRUUFJlY3ZCeXRlcykoKSx0LmdhdGV3YXlDbGllbnQuc29ja2V0JiZ0LmdhdGV3YXlDbGllbnQuc29ja2V0LnN0YXRlPT09dC5nYXRld2F5Q2xpZW50LkNPTk5FQ1RFRCl7dmFyIG89dC5nYXRld2F5Q2xpZW50LnNvY2tldDt0LnNlc3Npb24uV1NTZW5kQnl0ZXNEZWx0YT1vLmdldFNlbmRCeXRlcygpLXQuc2Vzc2lvbi5XU1NlbmRCeXRlcyx0LnNlc3Npb24uV1NTZW5kQnl0ZXM9by5nZXRTZW5kQnl0ZXMoKSx0LnNlc3Npb24uV1NSZWN2Qnl0ZXNEZWx0YT1vLmdldFJlY3ZCeXRlcygpLXQuc2Vzc2lvbi5XU1JlY3ZCeXRlcyx0LnNlc3Npb24uV1NSZWN2Qnl0ZXM9by5nZXRSZWN2Qnl0ZXMoKX19KSwxZTMpLHQuZ2F0ZXdheUNsaWVudC5vbihcImpvaW5cIiwoZnVuY3Rpb24oKXt0LnNlc3Npb249e3NlbmRCeXRlczowLHJlY3ZCeXRlczowLFdTU2VuZEJ5dGVzOjAsV1NTZW5kQnl0ZXNEZWx0YTowLFdTUmVjdkJ5dGVzOjAsV1NSZWN2Qnl0ZXNEZWx0YTowLEhUVFBTZW5kQnl0ZXM6MCxIVFRQU2VuZEJ5dGVzRGVsdGE6MCxIVFRQUmVjdkJ5dGVzOjAsSFRUUFJlY3ZCeXRlc0RlbHRhOjB9fSkpLHR9KHQuZ2F0ZXdheUNsaWVudCksdC5jb25maWdEaXN0cmlidXRNYW5hZ2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LmNsaWVudD1lLHQuY2xpZW50LmdhdGV3YXlDbGllbnQmJnQuY2xpZW50LmdhdGV3YXlDbGllbnQub24oXCJjb25maWctZGlzdHJpYnV0ZVwiLChmdW5jdGlvbihuKXt2YXIgYT1uLmpvaW5JbmZvLHM9bi5jb25maWc7aWYocyl7T2JqZWN0KE0uaXNFbXB0eSkocy51cGxvYWRMb2cpfHwoT2JqZWN0KHIuc2V0UGFyYW1ldGVyKShcIlVQTE9BRF9MT0dcIixzLnVwbG9hZExvZyksby5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGEuc2lkLHtuYW1lOlwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIixvcHRpb25zOntmZWF0dXJlOlwidXBsb2FkTG9nXCIsdmFsdWU6cy51cGxvYWRMb2d9fSkoKSksT2JqZWN0KE0uaXNFbXB0eSkocy5kdWFsU3RyZWFtKXx8KGUuaXNEdWFsU3RyZWFtPXMuZHVhbFN0cmVhbSxvLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UoYS5zaWQse25hbWU6XCJfY29uZmlnRGlzdHJpYnV0ZVwiLG9wdGlvbnM6e2ZlYXR1cmU6XCJkdWFsU3RyZWFtXCIsdmFsdWU6cy5kdWFsU3RyZWFtfX0pKCkpLE9iamVjdChNLmlzRW1wdHkpKHMuc3RyZWFtRmFsbGJhY2tPcHRpb24pfHx0LmNsaWVudC5nYXRld2F5Q2xpZW50JiZ0LmNsaWVudC5nYXRld2F5Q2xpZW50Lm9uKFwic3RyZWFtLXN1YnNjcmliZWRcIiwoZnVuY3Rpb24oZSl7dmFyIG49ZS5zdHJlYW07bj8odC5jbGllbnQuZ2F0ZXdheUNsaWVudC5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihuLHMuc3RyZWFtRmFsbGJhY2tPcHRpb24pLG8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShhLnNpZCx7bmFtZTpcIl9jb25maWdEaXN0cmlidXRlXCIsb3B0aW9uczp7ZmVhdHVyZTpcInN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsdmFsdWU6cy5zdHJlYW1GYWxsYmFja09wdGlvbixzdHJlYW1JZDpuLmdldElkKCl9fSkoKSk6by5yZXBvcnQucmVwb3J0QXBpSW52b2tlKGEuc2lkLHtuYW1lOlwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIixvcHRpb25zOntmZWF0dXJlOlwic3RyZWFtRmFsbGJhY2tPcHRpb25cIix2YWx1ZTpzLnN0cmVhbUZhbGxiYWNrT3B0aW9uLHN0cmVhbUlkOm4uZ2V0SWQoKSxlcnI6XCJpbnZhbGlkIHN0cmVhbVwifX0pKCl9KSk7dHJ5e2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gc2V0UGFyYW1ldGVyIGluIGRpc3RyaWJ1dGlvbjogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShzKSkpLE9iamVjdC5rZXlzKHMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLnNldFBhcmFtZXRlcikoZSxzW2VdKX0pKX1jYXRjaCh0KXtpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIHNldFBhcmFtZXRlciBpbiBkaXN0cmlidXRpb24gZmFpbGVkOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHMpKSl9fX0pKSx0fSh0KSxPYmplY3QoeC5hZGRMaXZlU3RyZWFtaW5nQ2FwYWJpbGl0eSkodCxlKSxlLmFyZWFDb2RlKXt2YXIgbj1lLGM9bi5hcmVhQ29kZSxmPW4uZXhjbHVkZWRBcmVhLHA9T2JqZWN0KEIuZ2V0QXJlYUNvZGVCeUNvbmZpZykoe2FyZWFDb2RlOmMsZXhjbHVkZWRBcmVhOmZ9KTtPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKFwiQVJFQV9TRVRUSU5HXCIscCk7dmFyIG09T2JqZWN0KEIuZ2V0QXJlYURvbWFpbkNvbmZpZykocCk7T2JqZWN0LmtleXMobSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1tW2VdO1wiTE9HX1VQTE9BRF9TRVJWRVJcIj09ZXx8XCJFVkVOVF9SRVBPUlRfRE9NQUlOXCI9PWV8fFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIj09ZXx8XCJOR0lOWFwiPT1lP09iamVjdChyLnNldFBhcmFtZXRlcikoZSx0WzBdKTpPYmplY3Qoci5zZXRQYXJhbWV0ZXIpKGUsdCl9KSl9cmV0dXJuIE9iamVjdChNLmlzRW1wdHkpKGUudHVyblNlcnZlcil8fHQuc2V0VHVyblNlcnZlcihlLnR1cm5TZXJ2ZXIpLE9iamVjdChNLmlzRW1wdHkpKGUucHJveHlTZXJ2ZXIpfHx0LnNldFByb3h5U2VydmVyKGUucHJveHlTZXJ2ZXIpLFwibGl2ZVwiPT09dC5tb2RlJiYodC5nYXRld2F5Q2xpZW50LnJvbGU9XCJhdWRpZW5jZVwiKSxcInJ0Y1wiPT09dC5tb2RlJiYodC5nYXRld2F5Q2xpZW50LnJvbGU9RyksdC5nYXRld2F5Q2xpZW50Lm9uKFwib25NdWx0aUlQXCIsKGZ1bmN0aW9uKGUpe3QuZ2F0ZXdheUNsaWVudC5jbG9zZUdhdGV3YXkoKSx0LmdhdGV3YXlDbGllbnQuc29ja2V0PXZvaWQgMCx0LmdhdGV3YXlDbGllbnQuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCx0LmpvaW5JbmZvLm11bHRpSVA9ZS5vcHRpb24sdC5nYXRld2F5Q2xpZW50LnN0YXRlPVIuYS5DT05ORUNUSU5HO3ZhciBuPWZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBKb2luaW5nIGNoYW5uZWw6IFwiKS5jb25jYXQodC5jaGFubmVsKSksdC5qb2luSW5mby5jaWQ9ZS5jaWQsdC5qb2luSW5mby51aWR8fCh0LmpvaW5JbmZvLnVpZD1lLnVpZCksdC5qb2luSW5mby51bmlfbGJzX2lwPWUudW5pX2xic19pcCx0LmpvaW5JbmZvLmdhdGV3YXlBZGRyPWUuZ2F0ZXdheV9hZGRyLHQub25TdWNjZXNzP3QuZ2F0ZXdheUNsaWVudC5qb2luKHQuam9pbkluZm8sdC5rZXksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBKb2luIGNoYW5uZWwgXCIpLmNvbmNhdCh0LmNoYW5uZWwsXCIgc3VjY2Vzc1wiKSk7dmFyIG49dC5vblN1Y2Nlc3M7dC5vblN1Y2Nlc3M9bnVsbCx0Lm9uRmFpbHVyZT1udWxsLG4oZSl9KSx0Lm9uRmFpbHVyZSk6KHQuZ2F0ZXdheUNsaWVudC5qb2luSW5mbz15KCkoe30sdC5qb2luSW5mbyksdC5nYXRld2F5Q2xpZW50LnJlam9pbigpKX07dC5qb2luSW5mby5zdHJpbmdVaWQmJiF0LmpvaW5JbmZvLnVpZD8odC51c2VyQWNjb3VudFJlcSYmIXQudXNlckFjY291bnRSZXEuaXNGaW5pc2hlZCgpJiZ0LnVzZXJBY2NvdW50UmVxLmNhbmNlbCgpLHQudXNlckFjY291bnRSZXE9T2JqZWN0KGIuZ2V0VXNlckFjY291bnQpKGpvaW5JbmZvLHQuZ2F0ZXdheUNsaWVudCksdC51c2VyQWNjb3VudFJlcS50aGVuKChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZXJyb3IoXCJnZXRVc2VyQWNjb3VudCBTdWNjZXNzIFwiLmNvbmNhdChlLnVybCxcIiBcIikuY29uY2F0KGpvaW5JbmZvLnN0cmluZ1VpZCxcIiA9PiBcIikuY29uY2F0KGUudWlkKSksdC5qb2luSW5mby51aWQ9ZS51aWQsT2JqZWN0KGIuZ2V0R2F0ZXdheUxpc3QpKHQuam9pbkluZm8sbix0Lm9uRmFpbHVyZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5lcnJvcihcImdldFVzZXJBY2NvdW50IHJlamVjdGVkXCIsZSksdC5vbkZhaWx1cmUoZSl9KSkpOk9iamVjdChiLmdldEdhdGV3YXlMaXN0KSh0LmpvaW5JbmZvLG4sdC5vbkZhaWx1cmUpfSkpLHQuZ2F0ZXdheUNsaWVudC5vbihcInJlam9pbi1zdGFydFwiLChmdW5jdGlvbigpe3QuX3JlbmV3U2Vzc2lvbigpLG8ucmVwb3J0LnNlc3Npb25Jbml0KGUuc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksZXh0ZW5kOntyZWpvaW46ITB9LGNuYW1lOnQuY2hhbm5lbCxhcHBpZDplLmFwcElkLG1vZGU6ZS5tb2RlLHN1Y2M6ITB9KX0pKSx0LmdhdGV3YXlDbGllbnQub24oXCJyZWNvdmVyXCIsKGZ1bmN0aW9uKCl7dC5fcmVuZXdTZXNzaW9uKCksY29uc29sZS5sb2coXCJyZWNvdmVyXCIsZS5zZXNzaW9uSWQpLG8ucmVwb3J0LnNlc3Npb25Jbml0KGUuc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksZXh0ZW5kOntyZWNvdmVyOiEwfSxjbmFtZTp0LmNoYW5uZWwsYXBwaWQ6ZS5hcHBJZCxtb2RlOmUubW9kZSxzdWNjOiEwfSl9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwicmVqb2luXCIsKGZ1bmN0aW9uKCl7dmFyIGU9dC5oaWdoU3RyZWFtU3RhdGU7aWYoaS5kZWZhdWx0LmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDbGllbnQgbG9jYWwgc3RyZWFtIHByZVN0YXRlOiBcIikuY29uY2F0KGUpKSx0Lm9uU3VjY2Vzcyl7dmFyIG49dC5vblN1Y2Nlc3M7dC5vblN1Y2Nlc3M9bnVsbCx0Lm9uRmFpbHVyZT1udWxsLG4odC5qb2luSW5mby51aWQpfSF0LmhpZ2hTdHJlYW18fDAhPT1lJiYxIT09ZXx8KGkuZGVmYXVsdC5pbmZvKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBwdWJsaXNoIGFmdGVyIHJlam9pblwiKSksdC5oaWdoU3RyZWFtU3RhdGU9Mix0Lmxvd1N0cmVhbVN0YXRlPTIsdC5wdWJsaXNoKHQuaGlnaFN0cmVhbSwoZnVuY3Rpb24oZSl7ZSYmaS5kZWZhdWx0LmluZm8oXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFwiKSxlKX0pKSl9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwic3RyZWFtUHVibGlzaGVkXCIsKGZ1bmN0aW9uKGUpe3QuaGFzUHVibGlzaGVkfHwodC5oYXNQdWJsaXNoZWQ9ITAsdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW0tcHVibGlzaGVkXCIsc3RyZWFtOmUuc3RyZWFtLHByb3h5OmUucHJveHl9KSl9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwicHViUDJQTG9zdFwiLChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFN0YXJ0IHJlY29ubmVjdCBsb2NhbCBwZWVyQ29ubmVjdGlvbjogXCIpLmNvbmNhdCh0LmhpZ2hTdHJlYW0uZ2V0SWQoKSkpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1zdGFydFwiLHVpZDp0LmhpZ2hTdHJlYW0uZ2V0SWQoKX0pLDE9PT10LmhpZ2hTdHJlYW1TdGF0ZSYmKHQuaGlnaFN0cmVhbVN0YXRlPTAsdC5sb3dTdHJlYW1TdGF0ZT0wKSx0Ll91bnB1Ymxpc2godC5oaWdoU3RyZWFtLChmdW5jdGlvbigpe3QuX3B1Ymxpc2godC5oaWdoU3RyZWFtLChmdW5jdGlvbigpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IGxvY2FsIHBlZXJDb25uZWN0aW9uIHN1Y2Nlc3M6IFwiKS5jb25jYXQodC5oaWdoU3RyZWFtLmdldElkKCkpKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3QtZW5kXCIsdWlkOnQuaGlnaFN0cmVhbS5nZXRJZCgpLHN1Y2Nlc3M6ITAscmVhc29uOlwiXCJ9KX0pLChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFJlY29ubmVjdCBsb2NhbCBwZWVyQ29ubmVjdGlvbiBmYWlsZWQ6IFwiKS5jb25jYXQoZSkpLHQuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic3RyZWFtLXJlY29ubmVjdC1lbmRcIix1aWQ6dC5oaWdoU3RyZWFtLmdldElkKCksc3VjY2VzczohMSxyZWFzb246ZX0pfSksITApfSksKGZ1bmN0aW9uKGUpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IGxvY2FsIHBlZXJDb25uZWN0aW9uIGZhaWxlZDogXCIpLmNvbmNhdChlKSksdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzdHJlYW0tcmVjb25uZWN0LWVuZFwiLHVpZDp0LmhpZ2hTdHJlYW0uZ2V0SWQoKSxzdWNjZXNzOiExLHJlYXNvbjplfSl9KSwhMCl9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwic3ViUDJQTG9zdFwiLChmdW5jdGlvbihlKXtpLmRlZmF1bHQuZGVidWcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIFN0YXJ0IHJlY29ubmVjdCByZW1vdGUgcGVlckNvbm5lY3Rpb246IFwiKS5jb25jYXQoZS5zdHJlYW0uZ2V0SWQoKSxcIiBcIikuY29uY2F0KGUuc3RyZWFtLnN1YnNjcmliZU9wdGlvbnMpKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3Qtc3RhcnRcIix1aWQ6ZS5zdHJlYW0uZ2V0SWQoKX0pO3ZhciBuPWUuc3RyZWFtLnN1YnNjcmliZU9wdGlvbnM7Y29uc29sZS5sb2coXCJSZS1zdWJzY3JpYmUgc3RyZWFtXCIsbixlLnN0cmVhbSksdC5nYXRld2F5Q2xpZW50LnVuc3Vic2NyaWJlKGUuc3RyZWFtLChmdW5jdGlvbigpe2Uuc3RyZWFtLnN1YnNjcmliZU9wdGlvbnM9bix0LmdhdGV3YXlDbGllbnQuc3Vic2NyaWJlKGUuc3RyZWFtLChmdW5jdGlvbigpe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IHJlbW90ZSBwZWVyQ29ubmVjdGlvbiBzdWNjZXNzOiBcIikuY29uY2F0KGUuc3RyZWFtLmdldElkKCkpKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3QtZW5kXCIsdWlkOmUuc3RyZWFtLmdldElkKCksc3VjY2VzczohMCxyZWFzb246XCJcIn0pfSksKGZ1bmN0aW9uKG4pe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IHJlbW90ZSBwZWVyQ29ubmVjdGlvbiBmYWlsZWQ6IFwiKSxuKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3QtZW5kXCIsdWlkOmUuc3RyZWFtLmdldElkKCksc3VjY2VzczohMSxyZWFzb246bn0pfSkpfSksKGZ1bmN0aW9uKG4pe2kuZGVmYXVsdC5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gUmVjb25uZWN0IHJlbW90ZSBwZWVyQ29ubmVjdGlvbiBmYWlsZWQ6IFwiKSxuKSx0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInN0cmVhbS1yZWNvbm5lY3QtZW5kXCIsdWlkOmUuc3RyZWFtLmdldElkKCksc3VjY2VzczohMSxyZWFzb246bn0pfSkpfSkpLFAub24oXCJuZXR3b3JrVHlwZUNoYW5nZWRcIiwoZnVuY3Rpb24oZSl7dC5nYXRld2F5Q2xpZW50JiZ0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChlKTt2YXIgbj15KCkoe30sZSx7dHlwZTpcIm5ldHdvcmstdHlwZS1jaGFuZ2VkXCJ9KTt0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChuKX0pKSxsLmEub24oXCJyZWNvcmRpbmdEZXZpY2VDaGFuZ2VkXCIsKGZ1bmN0aW9uKGUpe3QuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoZSk7dmFyIG49eSgpKHt9LGUse3R5cGU6XCJyZWNvcmRpbmctZGV2aWNlLWNoYW5nZWRcIn0pO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KG4pfSkpLGwuYS5vbihcInBsYXlvdXREZXZpY2VDaGFuZ2VkXCIsKGZ1bmN0aW9uKGUpe3QuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoZSk7dmFyIG49eSgpKHt9LGUse3R5cGU6XCJwbGF5b3V0LWRldmljZS1jaGFuZ2VkXCJ9KTt0LmdhdGV3YXlDbGllbnQuZGlzcGF0Y2hFdmVudChuKX0pKSxsLmEub24oXCJjYW1lcmFDaGFuZ2VkXCIsKGZ1bmN0aW9uKGUpe3QuZ2F0ZXdheUNsaWVudCYmdC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQoZSk7dmFyIG49eSgpKHt9LGUse3R5cGU6XCJjYW1lcmEtY2hhbmdlZFwifSk7dC5nYXRld2F5Q2xpZW50LmRpc3BhdGNoRXZlbnQobil9KSksdC5nYXRld2F5Q2xpZW50Lm9uKFwic3RyZWFtVHlwZUNoYW5nZVwiLChmdW5jdGlvbihuKXt2YXIgcj15KCkoe30sbix7dHlwZTpcInN0cmVhbS10eXBlLWNoYW5nZWRcIn0pO3QuZ2F0ZXdheUNsaWVudC5kaXNwYXRjaEV2ZW50KHIpLG8ucmVwb3J0LnJlcG9ydEFwaUludm9rZShlLnNlc3Npb25JZCx7bmFtZTpcInN0cmVhbVR5cGVDaGFuZ2VcIn0pKG51bGwsSlNPTi5zdHJpbmdpZnkobikpfSkpLHR9LHE9e3dpZHRoOjY0MCxoZWlnaHQ6MzYwLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9GcmFtZXJhdGU6MTUsbG93TGF0ZW5jeTohMSxhdWRpb1NhbXBsZVJhdGU6NDhlMyxhdWRpb0JpdHJhdGU6NDgsYXVkaW9DaGFubmVsczoxLHZpZGVvR29wOjMwLHZpZGVvQ29kZWNQcm9maWxlOjEwMCx1c2VyQ291bnQ6MCx1c2VyQ29uZmlnRXh0cmFJbmZvOnt9LGJhY2tncm91bmRDb2xvcjowLHRyYW5zY29kaW5nVXNlcnM6W119LEo9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcImgyNjRfaW50ZXJvcFwiOnJldHVyblwiaDI2NFwiO2RlZmF1bHQ6cmV0dXJuXCJ2cDhcIn19LFk9ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1tLmluZGV4T2YoZS5tb2RlKT9ULmRlZmF1bHQuSU5WQUxJRF9DTElFTlRfTU9ERTotMT09PWguaW5kZXhPZihlLmNvZGVjKT9ULmRlZmF1bHQuSU5WQUxJRF9DTElFTlRfQ09ERUM6XCJoMjY0X2ludGVyb3BcIj09ZS5tb2RlJiZcImgyNjRcIiE9PWUuY29kZWMmJlQuZGVmYXVsdC5DTElFTlRfTU9ERV9DT0RFQ19NSVNNQVRDSH0sSz1mdW5jdGlvbihlKXtzd2l0Y2goZS5tb2RlKXtjYXNlXCJpbnRlcm9wXCI6Y2FzZVwiaDI2NF9pbnRlcm9wXCI6ZS5tb2RlPVwibGl2ZVwiO2JyZWFrO2Nhc2VcIndlYi1vbmx5XCI6ZS5tb2RlPVwicnRjXCJ9fSx6PWwuYS5nZXREZXZpY2VzLFg9Zi5hLmdldFNjcmVlblNvdXJjZXMsUT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIuU1VQUE9SVF9SRVNPTFVUSU9OX0xJU1QpKTt0LmRlZmF1bHQ9e1RyYW5zY29kaW5nVXNlcjp7dWlkOjAseDowLHk6MCx3aWR0aDowLGhlaWdodDowLHpPcmRlcjowLGFscGhhOjF9LExpdmVUcmFuc2NvZGluZzpxLGNyZWF0ZUNsaWVudDpmdW5jdGlvbihlKXt2YXIgdD1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImNyZWF0ZUNsaWVudFwiLG9wdGlvbnM6YXJndW1lbnRzLHRhZzpcInRyYWNlclwifSk7KGU9eSgpKHt9LGV8fHt9KSkuY29kZWN8fChlLmNvZGVjPUooZS5tb2RlKSk7dmFyIG49WShlKTtpZihuKXRocm93IGkuZGVmYXVsdC5lcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIHNldHRpbmcgTU9ERTogXCIuY29uY2F0KGUubW9kZSxcIiBDT0RFQzogXCIpLmNvbmNhdChlLmNvZGVjLFwiIEVSUk9SIFwiKS5jb25jYXQobikpLHQobiksbmV3IEVycm9yKG4pO3JldHVybiBpLmRlZmF1bHQuaW5mbyhcIkNyZWF0aW5nIGNsaWVudCwgTU9ERTogXCIuY29uY2F0KGUubW9kZSxcIiBDT0RFQzogXCIpLmNvbmNhdChlLmNvZGVjKSksSyhlKSx0KG51bGwsZSksSChlKX0sY3JlYXRlU3RyZWFtOnUuYixMb2dnZXI6aS5kZWZhdWx0LHJlcG9ydDpvLnJlcG9ydCxnZXREZXZpY2VzOnosZ2V0U2NyZWVuU291cmNlczpYLGdldFBhcmFtZXRlcjpyLmdldFBhcmFtZXRlcixzZXRQYXJhbWV0ZXI6ci5zZXRQYXJhbWV0ZXIsY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM6ZnVuY3Rpb24oKXt2YXIgZT1vLnJlcG9ydC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzXCIsb3B0aW9uczphcmd1bWVudHMsdGFnOlwidHJhY2VyXCJ9KSx0PXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8d2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9ufHx3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24sbj1uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLHI9d2luZG93LldlYlNvY2tldCxhPSEhdCYmISFuJiYhIXIsYz0hMTtzLmlzQ2hyb21lKCkmJnMuZ2V0QnJvd3NlclZlcnNpb24oKT49NTgmJlwiaU9TXCIhPT1zLmdldEJyb3dzZXJPUygpJiYoYz0hMCkscy5pc0ZpcmVGb3goKSYmcy5nZXRCcm93c2VyVmVyc2lvbigpPj01NiYmKGM9ITApLHMuaXNPcGVyYSgpJiZzLmdldEJyb3dzZXJWZXJzaW9uKCk+PTQ1JiYoYz0hMCkscy5pc1NhZmFyaSgpJiZzLmdldEJyb3dzZXJWZXJzaW9uKCk+PTExJiYoYz0hMCkscy5pc0VkZ2UoKSYmKGM9ITApLChzLmlzV2VDaGF0QnJvd3NlcigpfHxzLmlzUVFCcm93c2VyKCkpJiZcImlPU1wiIT09cy5nZXRCcm93c2VyT1MoKSYmKGM9ITApLHMuaXNTdXBwb3J0ZWRQQygpfHxzLmlzU3VwcG9ydGVkTW9iaWxlKCl8fChjPSExKSxpLmRlZmF1bHQuZGVidWcocy5nZXRCcm93c2VySW5mbygpLFwiaXNBUElTdXBwb3J0OiBcIithK1wiLCBpc1ZlbmRvckFuZFZlcnNpb25TdXBwb3J0OiBcIitjKTt2YXIgZD1hJiZjO3JldHVybiBlKG51bGwsZCksZH0sZ2V0U3VwcG9ydGVkQ29kZWM6cC5nZXRTdXBwb3J0ZWRDb2RlYyxDaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb246Zy5DaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb24sVkVSU0lPTjpyLlZFUlNJT04sQlVJTEQ6ci5CVUlMRCxQUk9GSUxFX1RBQkxFOlEsQVVESU9fU0FNUExFX1JBVEVfMzIwMDA6MzJlMyxBVURJT19TQU1QTEVfUkFURV80NDEwMDo0NDEwMCxBVURJT19TQU1QTEVfUkFURV80ODAwMDo0OGUzLFZJREVPX0NPREVDX1BST0ZJTEVfQkFTRUxJTkU6NjYsVklERU9fQ09ERUNfUFJPRklMRV9NQUlOOjc3LFZJREVPX0NPREVDX1BST0ZJTEVfSElHSDoxMDAsUkVNT1RFX1ZJREVPX1NUUkVBTV9ISUdIOjAsUkVNT1RFX1ZJREVPX1NUUkVBTV9MT1c6MSxSRU1PVEVfVklERU9fU1RSRUFNX01FRElVTToyLEFSRUFTOkIuQVJFQVMsQVJFQV9WRVJTSU9OOlwiZ2xvYmFsXCJ9fV0pLmRlZmF1bHR9KSk7IiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjYuMFxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDIxLTAzLTAyVDE3OjA4WlxuICovXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2Bcblx0XHQvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxuXHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0Ly8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mby5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XG5cdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRmdW5jdGlvbiggdyApIHtcblx0XHRcdFx0aWYgKCAhdy5kb2N1bWVudCApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkoIHcgKTtcblx0XHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0ZmFjdG9yeSggZ2xvYmFsICk7XG5cdH1cblxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcbn0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXG4vLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcbi8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cbi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhcnIgPSBbXTtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnIuZmxhdC5jYWxsKCBhcnJheSApO1xufSA6IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5jb25jYXQuYXBwbHkoIFtdLCBhcnJheSApO1xufTtcblxuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MlxuXHRcdC8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50c1xuXHRcdC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG5cdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLlxuXHRcdC8vIFN1cHBvcnQ6IFF0V2ViIDw9My44LjUsIFdlYktpdCA8PTUzNC4zNCwgd2todG1sdG9wZGYgdG9vbCA8PTAuMTIuNVxuXHRcdC8vIFBsdXMgZm9yIG9sZCBXZWJLaXQsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCBjb2xsZWN0aW9uc1xuXHRcdC8vIChlLmcuLCBgdHlwZW9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpID09PSBcImZ1bmN0aW9uXCJgKS4gKGdoLTQ3NTYpXG5cdFx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSBcIm51bWJlclwiICYmXG5cdFx0XHR0eXBlb2Ygb2JqLml0ZW0gIT09IFwiZnVuY3Rpb25cIjtcblx0fTtcblxuXG52YXIgaXNXaW5kb3cgPSBmdW5jdGlvbiBpc1dpbmRvdyggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH07XG5cblxudmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXG5cblxuXHR2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHtcblx0XHR0eXBlOiB0cnVlLFxuXHRcdHNyYzogdHJ1ZSxcblx0XHRub25jZTogdHJ1ZSxcblx0XHRub01vZHVsZTogdHJ1ZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIG5vZGUsIGRvYyApIHtcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cblx0XHR2YXIgaSwgdmFsLFxuXHRcdFx0c2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuXHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRpZiAoIG5vZGUgKSB7XG5cdFx0XHRmb3IgKCBpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrXG5cdFx0XHRcdC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgXCJub25jZVwiIHByb3BlcnR5IG9uIHNjcmlwdHMuXG5cdFx0XHRcdC8vIE9uIHRoZSBvdGhlciBoYW5kLCBqdXN0IHVzaW5nIGBnZXRBdHRyaWJ1dGVgIGlzIG5vdCBlbm91Z2ggYXNcblx0XHRcdFx0Ly8gdGhlIGBub25jZWAgYXR0cmlidXRlIGlzIHJlc2V0IHRvIGFuIGVtcHR5IHN0cmluZyB3aGVuZXZlciBpdFxuXHRcdFx0XHQvLyBiZWNvbWVzIGJyb3dzaW5nLWNvbnRleHQgY29ubmVjdGVkLlxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9odG1sL2lzc3Vlcy8yMzY5XG5cdFx0XHRcdC8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNub25jZS1hdHRyaWJ1dGVzXG5cdFx0XHRcdC8vIFRoZSBgbm9kZS5nZXRBdHRyaWJ1dGVgIGNoZWNrIHdhcyBhZGRlZCBmb3IgdGhlIHNha2Ugb2Zcblx0XHRcdFx0Ly8gYGpRdWVyeS5nbG9iYWxFdmFsYCBzbyB0aGF0IGl0IGNhbiBmYWtlIGEgbm9uY2UtY29udGFpbmluZyBub2RlXG5cdFx0XHRcdC8vIHZpYSBhbiBvYmplY3QuXG5cdFx0XHRcdHZhbCA9IG5vZGVbIGkgXSB8fCBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZSggaSApO1xuXHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKCBpLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdH1cblxuXG5mdW5jdGlvbiB0b1R5cGUoIG9iaiApIHtcblx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0dHlwZW9mIG9iajtcbn1cbi8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG4vLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuXG5cblxudmFyXG5cdHZlcnNpb24gPSBcIjMuNi4wXCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXG5cdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdGlmICggbnVtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRldmVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCBpICsgMSApICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRvZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBpICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb25cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIG5hbWUgPT09IFwiX19wcm90b19fXCIgfHwgdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheSggc3JjICkgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICFjb3B5SXNBcnJheSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBwcm90bywgQ3RvcjtcblxuXHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblxuXHRcdC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cblx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXCJjb25zdHJ1Y3RvclwiICkgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZVxuXHQvLyBpZiBub3Qgc3BlY2lmaWVkLlxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSwgb3B0aW9ucywgZG9jICkge1xuXHRcdERPTUV2YWwoIGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9LCBkb2MgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBmbGF0KCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHRcdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHQvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG5cdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSB0b1R5cGUoIG9iaiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggb2JqICkgfHwgaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjZcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcy5mb3VuZGF0aW9uL1xuICpcbiAqIERhdGU6IDIwMjEtMDItMTZcbiAqL1xuKCBmdW5jdGlvbiggd2luZG93ICkge1xudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKCB7fSApLmhhc093blByb3BlcnR5LFxuXHRhcnIgPSBbXSxcblx0cG9wID0gYXJyLnBvcCxcblx0cHVzaE5hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFsgaSBdID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58XCIgK1xuXHRcdFwiaXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXG5cdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lkZW50LXRva2VuLWRpYWdyYW1cblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiP3xcXFxcXFxcXFteXFxcXHJcXFxcblxcXFxmXXxbXFxcXHctXXxbXlxcMC1cXFxceDdmXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cblx0XHQvLyBcIkF0dHJpYnV0ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV1cblx0XHQvLyBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArXG5cdFx0d2hpdGVzcGFjZSArIFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXG5cdFx0Ly8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXG5cdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIipcIiApLFxuXHRyZGVzY2VuZCA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcInw+XCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaHRtbCA9IC9IVE1MJC9pLFxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXG5cdC8vIENTUyBlc2NhcGVzXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3xcXFxcXFxcXChbXlxcXFxyXFxcXG5cXFxcZl0pXCIsIFwiZ1wiICksXG5cdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBlc2NhcGUsIG5vbkhleCApIHtcblx0XHR2YXIgaGlnaCA9IFwiMHhcIiArIGVzY2FwZS5zbGljZSggMSApIC0gMHgxMDAwMDtcblxuXHRcdHJldHVybiBub25IZXggP1xuXG5cdFx0XHQvLyBTdHJpcCB0aGUgYmFja3NsYXNoIHByZWZpeCBmcm9tIGEgbm9uLWhleCBlc2NhcGUgc2VxdWVuY2Vcblx0XHRcdG5vbkhleCA6XG5cblx0XHRcdC8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTErXG5cdFx0XHQvLyBGb3IgdmFsdWVzIG91dHNpZGUgdGhlIEJhc2ljIE11bHRpbGluZ3VhbCBQbGFuZSAoQk1QKSwgbWFudWFsbHkgY29uc3RydWN0IGFcblx0XHRcdC8vIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxuXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcblx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXG5cdFx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFwiXFxcXFwiICtcblx0XHRcdFx0Y2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgXCIgXCI7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuXHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGluRGlzYWJsZWRGaWVsZHNldCA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiZmllbGRzZXRcIjtcblx0XHR9LFxuXHRcdHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9XG5cdCk7XG5cbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXG50cnkge1xuXHRwdXNoLmFwcGx5KFxuXHRcdCggYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSApLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG59IGNhdGNoICggZSApIHtcblx0cHVzaCA9IHsgYXBwbHk6IGFyci5sZW5ndGggP1xuXG5cdFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHRwdXNoTmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoIGVscyApICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxuXHRcdFx0d2hpbGUgKCAoIHRhcmdldFsgaisrIF0gPSBlbHNbIGkrKyBdICkgKSB7fVxuXHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IGogLSAxO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKCBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSApICkge1xuXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXG5cdFx0XHRcdGlmICggKCBtID0gbWF0Y2hbIDEgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmICggZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbIDIgXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKCBtID0gbWF0Y2hbIDMgXSApICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkgKSAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDggb25seVxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHQoIG5vZGVUeXBlICE9PSAxIHx8IGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApICkge1xuXG5cdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXG5cdFx0XHRcdC8vIHFTQSBjb25zaWRlcnMgZWxlbWVudHMgb3V0c2lkZSBhIHNjb3Bpbmcgcm9vdCB3aGVuIGV2YWx1YXRpbmcgY2hpbGQgb3Jcblx0XHRcdFx0Ly8gZGVzY2VuZGFudCBjb21iaW5hdG9ycywgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudC5cblx0XHRcdFx0Ly8gSW4gc3VjaCBjYXNlcywgd2Ugd29yayBhcm91bmQgdGhlIGJlaGF2aW9yIGJ5IHByZWZpeGluZyBldmVyeSBzZWxlY3RvciBpbiB0aGVcblx0XHRcdFx0Ly8gbGlzdCB3aXRoIGFuIElEIHNlbGVjdG9yIHJlZmVyZW5jaW5nIHRoZSBzY29wZSBjb250ZXh0LlxuXHRcdFx0XHQvLyBUaGUgdGVjaG5pcXVlIGhhcyB0byBiZSB1c2VkIGFzIHdlbGwgd2hlbiBhIGxlYWRpbmcgY29tYmluYXRvciBpcyB1c2VkXG5cdFx0XHRcdC8vIGFzIHN1Y2ggc2VsZWN0b3JzIGFyZSBub3QgcmVjb2duaXplZCBieSBxdWVyeVNlbGVjdG9yQWxsLlxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB0ZWNobmlxdWUuXG5cdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIHJkZXNjZW5kLnRlc3QoIHNlbGVjdG9yICkgfHwgcmNvbWJpbmF0b3JzLnRlc3QoIHNlbGVjdG9yICkgKSApIHtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblxuXHRcdFx0XHRcdC8vIFdlIGNhbiB1c2UgOnNjb3BlIGluc3RlYWQgb2YgdGhlIElEIGhhY2sgaWYgdGhlIGJyb3dzZXJcblx0XHRcdFx0XHQvLyBzdXBwb3J0cyBpdCAmIGlmIHdlJ3JlIG5vdCBjaGFuZ2luZyB0aGUgY29udGV4dC5cblx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgIT09IGNvbnRleHQgfHwgIXN1cHBvcnQuc2NvcGUgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0XHRpZiAoICggbmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApICkgKSB7XG5cdFx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAoIG5pZCA9IGV4cGFuZG8gKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuXHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0Z3JvdXBzWyBpIF0gPSAoIG5pZCA/IFwiI1wiICsgbmlkIDogXCI6c2NvcGVcIiApICsgXCIgXCIgK1xuXHRcdFx0XHRcdFx0XHR0b1NlbGVjdG9yKCBncm91cHNbIGkgXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblxuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKCBjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlICk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZmllbGRzZXRcIiApO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSBmaW5hbGx5IHtcblxuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZWwucGFyZW50Tm9kZSApIHtcblx0XHRcdGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsICk7XG5cdFx0fVxuXG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KCBcInxcIiApLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyWyBpIF0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0YS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXIubmV4dFNpYmxpbmcgKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAoIG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiICkgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblxuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcblx0XHRpZiAoIFwiZm9ybVwiIGluIGVsZW0gKSB7XG5cblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcblx0XHRcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuXHRcdFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuXHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0aW5EaXNhYmxlZEZpZWxkc2V0KCBlbGVtICkgPT09IGRpc2FibGVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cblx0XHQvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG5cdFx0Ly8gU29tZSB2aWN0aW1zIGdldCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQgc2hvdWxkbid0XG5cdFx0Ly8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuXG5cdFx0fSBlbHNlIGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdHZhciBqLFxuXHRcdFx0XHRtYXRjaEluZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLFxuXHRcdFx0XHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcblxuXHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCBzZWVkWyAoIGogPSBtYXRjaEluZGV4ZXNbIGkgXSApIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFsgaiBdID0gISggbWF0Y2hlc1sgaiBdID0gc2VlZFsgaiBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0gKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHZhciBuYW1lc3BhY2UgPSBlbGVtICYmIGVsZW0ubmFtZXNwYWNlVVJJLFxuXHRcdGRvY0VsZW0gPSBlbGVtICYmICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdC8vIEFzc3VtZSBIVE1MIHdoZW4gZG9jdW1lbnRFbGVtZW50IGRvZXNuJ3QgeWV0IGV4aXN0LCBzdWNoIGFzIGluc2lkZSBsb2FkaW5nIGlmcmFtZXNcblx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzQ4MzNcblx0cmV0dXJuICFyaHRtbC50ZXN0KCBuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8IFwiSFRNTFwiICk7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fVxuXG5cdC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jdW1lbnQgKTtcblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG5cdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNilcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiZcblx0XHQoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDExKywgRWRnZSAxMiAtIDE4KywgQ2hyb21lIDw9MTYgLSAyNSBvbmx5LCBGaXJlZm94IDw9My42IC0gMzEgb25seSxcblx0Ly8gU2FmYXJpIDQgLSA1IG9ubHksIE9wZXJhIDw9MTEuNiAtIDEyLnggb25seVxuXHQvLyBJRS9FZGdlICYgb2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgOnNjb3BlIHBzZXVkby1jbGFzcy5cblx0Ly8gU3VwcG9ydDogU2FmYXJpIDYuMCBvbmx5XG5cdC8vIFNhZmFyaSA2LjAgc3VwcG9ydHMgOnNjb3BlIGJ1dCBpdCdzIGFuIGFsaWFzIG9mIDpyb290IHRoZXJlLlxuXHRzdXBwb3J0LnNjb3BlID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHQhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6c2NvcGUgZmllbGRzZXQgZGl2XCIgKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvKiBBdHRyaWJ1dGVzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NOYW1lXCIgKTtcblx0fSApO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KCBcIlwiICkgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcIipcIiApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvLyBJRCBmaWx0ZXIgYW5kIGZpbmRcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maWx0ZXJbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJpZFwiICkgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmRbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRFeHByLmZpbHRlclsgXCJJRFwiIF0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggXCJpZFwiICk7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0RXhwci5maW5kWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBub2RlLCBpLCBlbGVtcyxcblx0XHRcdFx0XHRlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHQvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxuXHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kWyBcIlRBR1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFsgXCJDTEFTU1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKCBzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApICkgKSB7XG5cblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0XHRcdHZhciBpbnB1dDtcblxuXHRcdFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XCIgK1xuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltzZWxlY3RlZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJ+PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdFx0Ly8gSUUgMTEvRWRnZSBkb24ndCBmaW5kIGVsZW1lbnRzIG9uIGEgYFtuYW1lPScnXWAgcXVlcnkgaW4gc29tZSBjYXNlcy5cblx0XHRcdC8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzXG5cdFx0XHQvLyBhcm91bmQgdGhlIGlzc3VlLlxuXHRcdFx0Ly8gSW50ZXJlc3RpbmdseSwgSUUgMTAgJiBvbGRlciBkb24ndCBzZWVtIHRvIGhhdmUgdGhlIGlzc3VlLlxuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbbmFtZT0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIipuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqPVwiICtcblx0XHRcdFx0XHR3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6Y2hlY2tlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6Y2hlY2tlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIuIy4rWyt+XVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD0zLjYgLSA1IG9ubHlcblx0XHRcdC8vIE9sZCBGaXJlZm94IGRvZXNuJ3QgdGhyb3cgb24gYSBiYWRseS1lc2NhcGVkIGlkZW50aWZpZXIuXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIlxcXFxcXGZcIiApO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiW1xcXFxyXFxcXG5cXFxcZl1cIiApO1xuXHRcdH0gKTtcblxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW25hbWU9ZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCI6ZW5hYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmRpc2FibGVkXCIgKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogT3BlcmEgMTAgLSAxMSBvbmx5XG5cdFx0XHQvLyBPcGVyYSAxMC0xMSBkb2VzIG5vdCB0aHJvdyBvbiBwb3N0LWNvbW1hIGludmFsaWQgcHNldWRvc1xuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbCggXCIqLDp4XCIgKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKCBcIiwuKjpcIiApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmICggKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKCBtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IgKSApICkgKSB7XG5cblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZWwsIFwiKlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcblx0XHRcdHJidWdneU1hdGNoZXMucHVzaCggXCIhPVwiLCBwc2V1ZG9zICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbiggXCJ8XCIgKSApO1xuXHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCBcInxcIiApICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpICk7XG5cdFx0fSA6XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRpZiAoIGIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBiID0gYi5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xuXHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG5cdFx0XHQxO1xuXG5cdFx0Ly8gRGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0KCAhc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlICkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdGlmICggYSA9PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGEgKSApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0aWYgKCBiID09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcblx0XHRcdFx0Y29udGFpbnMoIHByZWZlcnJlZERvYywgYiApICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXJcblx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xuXHR9IDpcblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0cmV0dXJuIGEgPT0gZG9jdW1lbnQgPyAtMSA6XG5cdFx0XHRcdGIgPT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyLnBhcmVudE5vZGUgKSApIHtcblx0XHRcdGJwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblxuXHRcdC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XG5cdFx0d2hpbGUgKCBhcFsgaSBdID09PSBicFsgaSBdICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblxuXHRcdFx0Ly8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yXG5cdFx0XHRzaWJsaW5nQ2hlY2soIGFwWyBpIF0sIGJwWyBpIF0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0YXBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFsgaSBdID09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdHNldERvY3VtZW50KCBlbGVtICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cblx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggZXhwciwgdHJ1ZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0fVxuXHRyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTtcbn07XG5cblNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXG5cdFx0Ly8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKGpRdWVyeSAjMTM4MDcpXG5cdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0Zm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcblx0XHRcdHVuZGVmaW5lZDtcblxuXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xuXHRcdHZhbCA6XG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDpcblx0XHRcdCggdmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkgKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKCBzZWwgKyBcIlwiICkucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xufTtcblxuU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHtcblx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzXG4gKi9cblNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7XG5cdHZhciBlbGVtLFxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRqID0gMCxcblx0XHRpID0gMDtcblxuXHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG5cdGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7XG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblxuXHRcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG5cdFx0d2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkge1xuXG5cdFx0XHQvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuXHRcdFx0cmV0ICs9IGdldFRleHQoIG5vZGUgKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblxuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cblx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0cmV0dXJuIHJldDtcbn07XG5cbkV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0ge1xuXG5cdC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuXHRjYWNoZUxlbmd0aDogNTAsXG5cblx0Y3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG5cblx0bWF0Y2g6IG1hdGNoRXhwcixcblxuXHRhdHRySGFuZGxlOiB7fSxcblxuXHRmaW5kOiB7fSxcblxuXHRyZWxhdGl2ZToge1xuXHRcdFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCIgXCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiB9LFxuXHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuXHR9LFxuXG5cdHByZUZpbHRlcjoge1xuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbIDMgXSA9ICggbWF0Y2hbIDMgXSB8fCBtYXRjaFsgNCBdIHx8XG5cdFx0XHRcdG1hdGNoWyA1IF0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDIgXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFsgMyBdID0gXCIgXCIgKyBtYXRjaFsgMyBdICsgXCIgXCI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblxuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWyAxIF0gPSBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDEgXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFsgMCBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFsgNCBdID0gKyggbWF0Y2hbIDQgXSA/XG5cdFx0XHRcdFx0bWF0Y2hbIDUgXSArICggbWF0Y2hbIDYgXSB8fCAxICkgOlxuXHRcdFx0XHRcdDIgKiAoIG1hdGNoWyAzIF0gPT09IFwiZXZlblwiIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFsgNSBdID0gKyggKCBtYXRjaFsgNyBdICsgbWF0Y2hbIDggXSApIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWyA2IF0gJiYgbWF0Y2hbIDIgXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbIFwiQ0hJTERcIiBdLnRlc3QoIG1hdGNoWyAwIF0gKSApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG5cdFx0XHRpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdG1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdCggZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkgKSAmJlxuXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCApICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWyAwIF0gPSBtYXRjaFsgMCBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbIDIgXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVOYW1lO1xuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdCggcGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XHRcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSApICYmIGNsYXNzQ2FjaGUoXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8XG5cdFx0XHRcdFx0XHRcdFx0XCJcIlxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgX2FyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcblx0XHRcdHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKCAwLCAzICkgIT09IFwibnRoXCIsXG5cdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0b2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG5cblx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblxuXHRcdFx0XHQvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0fSA6XG5cblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9IG5vZGVbIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4O1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKVxuXHRcdFx0XHRcdFx0XHQvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG5cdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICggKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0KytkaWZmICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblxuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFsgaSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XCJub3RcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0Ly8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cblx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpIF0gPSAhKCBtYXRjaGVzWyBpIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFsgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cblx0XHRcdFx0XHQvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRcdGlucHV0WyAwIF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImhhc1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KCBsYW5nIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwieG1sOmxhbmdcIiApIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCBcImxhbmdcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiZcblx0XHRcdFx0KCAhZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSApICYmXG5cdFx0XHRcdCEhKCBlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4ICk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZmFsc2UgKSxcblx0XHRcImRpc2FibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQgKSB8fFxuXHRcdFx0XHQoIG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCApO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zWyBcImVtcHR5XCIgXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoICggYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICkgPT0gbnVsbCB8fFxuXHRcdFx0XHRcdGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSApLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSApLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9ICksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/XG5cdFx0XHRcdGFyZ3VtZW50ICsgbGVuZ3RoIDpcblx0XHRcdFx0YXJndW1lbnQgPiBsZW5ndGggP1xuXHRcdFx0XHRcdGxlbmd0aCA6XG5cdFx0XHRcdFx0YXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9IClcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zWyBcIm50aFwiIF0gPSBFeHByLnBzZXVkb3NbIFwiZXFcIiBdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbIDAgXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAoIHRva2VucyA9IFtdICkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKCBtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFsgMCBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9ICk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAoIG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSApICYmICggIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQoIG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApICkgKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zWyBpIF0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblxuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcblx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKCBlbGVtWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAoIG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdICkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKCBuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbIGkgXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1sgMCBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzWyBpIF0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdHByZU1hcCA9IFtdLFxuXHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKFxuXHRcdFx0XHRzZWxlY3RvciB8fCBcIipcIixcblx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCxcblx0XHRcdFx0W11cblx0XHRcdCksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cblx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0bWF0Y2hlckluO1xuXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRpZiAoIG1hdGNoZXIgKSB7XG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKCBlbGVtID0gdGVtcFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFsgaSBdIF0gPSAhKCBtYXRjaGVySW5bIHBvc3RNYXBbIGkgXSBdID0gZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAoIG1hdGNoZXJJblsgaSBdID0gZWxlbSApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsICggbWF0Y2hlck91dCA9IFtdICksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICYmXG5cdFx0XHRcdFx0XHQoIHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwWyBpIF0gKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkWyB0ZW1wIF0gPSAhKCByZXN1bHRzWyB0ZW1wIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xuXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAwIF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVsgXCIgXCIgXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KCBjaGVja0NvbnRleHQgPSBjb250ZXh0ICkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblxuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGkgXS50eXBlIF0gKSApIHtcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKCBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlciApIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zWyBpIF0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbIGkgXS5tYXRjaGVzICk7XG5cblx0XHRcdC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG5cdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGogXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3RvcihcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0dG9rZW5zXG5cdFx0XHRcdFx0XHQuc2xpY2UoIDAsIGkgLSAxIClcblx0XHRcdFx0XHRcdC5jb25jYXQoIHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9IClcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbIFwiVEFHXCIgXSggXCIqXCIsIG91dGVybW9zdCApLFxuXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoIGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xICksXG5cdFx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRcdFx0aWYgKCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtICkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBzZXRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEoIHVubWF0Y2hlZFsgaSBdIHx8IHNldE1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbIGkgXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoWyBpIF0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApXG5cdFx0KTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKCBzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yICkgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCApO1xuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKCB0b2tlbiA9IHRva2Vuc1sgMCBdICkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMSBdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kWyBcIklEXCIgXSggdG9rZW4ubWF0Y2hlc1sgMCBdXG5cdFx0XHRcdC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLCBjb250ZXh0ICkgfHwgW10gKVsgMCBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwclsgXCJuZWVkc0NvbnRleHRcIiBdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zWyBpIF07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKCB0eXBlID0gdG9rZW4udHlwZSApIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoIGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSApICkge1xuXG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoICggc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWyAwIF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHQpICkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoIFwiXCIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCBcIlwiICkgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICkgKSAmIDE7XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwiaHJlZlwiICkgPT09IFwiI1wiO1xufSApICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSApO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBfbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9ICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCBcImRpc2FibGVkXCIgKSA9PSBudWxsO1xufSApICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHQoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSApO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59ICkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuXHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufVxudmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pICk7XG5cblxuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gU2luZ2xlIGVsZW1lbnRcblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEZpbHRlcmVkIGRpcmVjdGx5IGZvciBib3RoIHNpbXBsZSBhbmQgY29tcGxleCBzZWxlY3RvcnNcblx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0aWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzWyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcblx0fTtcblxuLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG5cbi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2VcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XG5cblxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxuXG5cdC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG5cdGd1YXJhbnRlZWRVbmlxdWUgPSB7XG5cdFx0Y2hpbGRyZW46IHRydWUsXG5cdFx0Y29udGVudHM6IHRydWUsXG5cdFx0bmV4dDogdHJ1ZSxcblx0XHRwcmV2OiB0cnVlXG5cdH07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdHZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSxcblx0XHRcdGwgPSB0YXJnZXRzLmxlbmd0aDtcblxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRjbG9zZXN0OiBmdW5jdGlvbiggc2VsZWN0b3JzLCBjb250ZXh0ICkge1xuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB0aGlzLmxlbmd0aCxcblx0XHRcdG1hdGNoZWQgPSBbXSxcblx0XHRcdHRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiICYmIGpRdWVyeSggc2VsZWN0b3JzICk7XG5cblx0XHQvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0XG5cdFx0aWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdC8vIEFsd2F5cyBza2lwIGRvY3VtZW50IGZyYWdtZW50c1xuXHRcdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKCB0YXJnZXRzID9cblx0XHRcdFx0XHRcdHRhcmdldHMuaW5kZXgoIGN1ciApID4gLTEgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcblx0XHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGN1ciwgc2VsZWN0b3JzICkgKSApIHtcblxuXHRcdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTtcblx0fSxcblxuXHQvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXRcblx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuXHRcdH1cblxuXHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXG5cdFx0aWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHR9XG5cblx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxuXG5cdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdHdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge31cblx0cmV0dXJuIGN1cjtcbn1cblxualF1ZXJ5LmVhY2goIHtcblx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdH0sXG5cdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiICk7XG5cdH0sXG5cdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdH0sXG5cdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHR9LFxuXHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0aWYgKCBlbGVtLmNvbnRlbnREb2N1bWVudCAhPSBudWxsICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExK1xuXHRcdFx0Ly8gPG9iamVjdD4gZWxlbWVudHMgd2l0aCBubyBgZGF0YWAgYXR0cmlidXRlIGhhcyBhbiBvYmplY3Rcblx0XHRcdC8vIGBjb250ZW50RG9jdW1lbnRgIHdpdGggYSBgbnVsbGAgcHJvdG90eXBlLlxuXHRcdFx0Z2V0UHJvdG8oIGVsZW0uY29udGVudERvY3VtZW50ICkgKSB7XG5cblx0XHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcblx0XHQvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXRcblx0XHQvLyBkb24ndCBzdXBwb3J0IGl0LlxuXHRcdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGVtcGxhdGVcIiApICkge1xuXHRcdFx0ZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcblx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xuXHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuXHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdGlmICggbG9ja2VkICkge1xuXG5cdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblxuXHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIHRvVHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG5cdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG5cblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG5cdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcblx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG5cdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmVcblx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRyZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHR0aHJvdyBleDtcbn1cblxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHtcblx0dmFyIG1ldGhvZDtcblxuXHR0cnkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3VtZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50ZWdlcjpcblx0XHRcdC8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZhbHVlIClcblx0XHRcdC8vICogdHJ1ZTogWyB2YWx1ZSBdLnNsaWNlKCAxICkgPT4gcmVzb2x2ZSgpXG5cdFx0XHRyZXNvbHZlLmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXS5zbGljZSggbm9WYWx1ZSApICk7XG5cdFx0fVxuXG5cdC8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9uc1xuXHQvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluXG5cdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG5cdH0gY2F0Y2ggKCB2YWx1ZSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0cmVqZWN0LmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggX2ksIHR1cGxlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBpc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhlbiApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heERlcHRoKys7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IElkZW50aXR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgcmV0dXJuZWQgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCApKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MgPSBzcGVjaWFsID9cblx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTYxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyBlIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjFcblx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTdcblx0XHRcdFx0XHRcdFx0Ly8gUmUtcmVzb2x2ZSBwcm9taXNlcyBpbW1lZGlhdGVseSB0byBkb2RnZSBmYWxzZSByZWplY3Rpb24gZnJvbVxuXHRcdFx0XHRcdFx0XHQvLyBzdWJzZXF1ZW50IGVycm9yc1xuXHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIHN0YWNrLCBpbiBjYXNlIG9mIGV4Y2VwdGlvblxuXHRcdFx0XHRcdFx0XHRcdC8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luY1xuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSA9IGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25SZWplY3RlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUmVqZWN0ZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0VGhyb3dlclxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZFxuXHRcdFx0XHQvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0XG5cdFx0XHRcdHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVmZXJyZWQgPSB7fTtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDUgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZS5wcm9ncmVzcyA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmRvbmUgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKFxuXHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVzb2x2ZWRcIiAoaS5lLiwgZnVsZmlsbGVkKVxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlamVjdGVkXCJcblx0XHRcdFx0XHRcdHN0YXRlID0gc3RhdGVTdHJpbmc7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdC8vIHJlamVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAyIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMyBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9jayxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmxvY2tcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHR2YXJcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdGkgPSByZW1haW5pbmcsXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cblx0XHRcdC8vIHRoZSBwcmltYXJ5IERlZmVycmVkXG5cdFx0XHRwcmltYXJ5ID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdHByaW1hcnkucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIHByaW1hcnkuZG9uZSggdXBkYXRlRnVuYyggaSApICkucmVzb2x2ZSwgcHJpbWFyeS5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBwcmltYXJ5LnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG5cdFx0XHRcdGlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xuXG5cdFx0XHRcdHJldHVybiBwcmltYXJ5LnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIHByaW1hcnkucmVqZWN0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByaW1hcnkucHJvbWlzZSgpO1xuXHR9XG59ICk7XG5cblxuLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xuXHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0fVxufTtcblxuXG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cblx0cmVhZHlMaXN0XG5cdFx0LnRoZW4oIGZuIClcblxuXHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxuXHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggdG9UeXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBfa2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHRcdHZhbHVlLmNhbGwoIGVsZW1zWyBpIF0sIGksIGZuKCBlbGVtc1sgaSBdLCBrZXkgKSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBjaGFpbmFibGUgKSB7XG5cdFx0cmV0dXJuIGVsZW1zO1xuXHR9XG5cblx0Ly8gR2V0c1xuXHRpZiAoIGJ1bGsgKSB7XG5cdFx0cmV0dXJuIGZuLmNhbGwoIGVsZW1zICk7XG5cdH1cblxuXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xuXG5cbi8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xudmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZztcblxuLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5mdW5jdGlvbiBmY2FtZWxDYXNlKCBfYWxsLCBsZXR0ZXIgKSB7XG5cdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbn1cblxuLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuZnVuY3Rpb24gY2FtZWxDYXNlKCBzdHJpbmcgKSB7XG5cdHJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCBcIm1zLVwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xufVxudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIERhdGEoKSB7XG5cdHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbn1cblxuRGF0YS51aWQgPSAxO1xuXG5EYXRhLnByb3RvdHlwZSA9IHtcblxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0Ly8gSWYgbm90LCBjcmVhdGUgb25lXG5cdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHR2YWx1ZSA9IHt9O1xuXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0XHQvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cblx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8gYmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyXG5cdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG5cdFx0XHRcdC8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cgdGhlIHByb3BlcnR5IHRvIGJlXG5cdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdHZhciBwcm9wLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlKCBvd25lciApO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGNhbWVsQ2FzZSgga2V5ICkgXTtcblx0fSxcblx0YWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0Ly8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG5cdFx0Ly9cblx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHQvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0Ly8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuXHRcdC8vXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHQoICgga2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHQvL1xuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXG5cdFx0Ly8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHR2YXIgaSxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuXHRcdFx0XHRrZXkgPSBrZXkubWFwKCBjYW1lbENhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSA9IGNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBBcnJheS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBkYXRhUHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFQcml2LmFjY2VzcyggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHNldHRlciA9IDI7XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0c2V0dGVyLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWyAwIF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0fSxcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0gKTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXNvbHZlKCk7XG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApO1xuXHR9XG59ICk7XG52YXIgcG51bSA9ICggL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8gKS5zb3VyY2U7XG5cbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblxuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG5cdHZhciBpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0XHR9LFxuXHRcdGNvbXBvc2VkID0geyBjb21wb3NlZDogdHJ1ZSB9O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCssIGlPUyAxMC4wIC0gMTAuMiBvbmx5XG5cdC8vIENoZWNrIGF0dGFjaG1lbnQgYWNyb3NzIHNoYWRvdyBET00gYm91bmRhcmllcyB3aGVuIHBvc3NpYmxlIChnaC0zNTA0KVxuXHQvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHlcblx0Ly8gRWFybHkgaU9TIDEwIHZlcnNpb25zIHN1cHBvcnQgYGF0dGFjaFNoYWRvd2AgYnV0IG5vdCBgZ2V0Um9vdE5vZGVgLFxuXHQvLyBsZWFkaW5nIHRvIGVycm9ycy4gV2UgbmVlZCB0byBjaGVjayBmb3IgYGdldFJvb3ROb2RlYC5cblx0aWYgKCBkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUgKSB7XG5cdFx0aXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRSb290Tm9kZSggY29tcG9zZWQgKSA9PT0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdH07XG5cdH1cbnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblxuXHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuXHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRpc0F0dGFjaGVkKCBlbGVtICkgJiZcblxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdH07XG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsIHNjYWxlLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdH0sXG5cdFx0aW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLFxuXHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0aW5pdGlhbEluVW5pdCA9IGVsZW0ubm9kZVR5cGUgJiZcblx0XHRcdCggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXG5cdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0XHQvLyBIYWx2ZSB0aGUgaXRlcmF0aW9uIHRhcmdldCB2YWx1ZSB0byBwcmV2ZW50IGludGVyZmVyZW5jZSBmcm9tIENTUyB1cHBlciBib3VuZHMgKGdoLTIxNDQpXG5cdFx0aW5pdGlhbCA9IGluaXRpYWwgLyAyO1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHR3aGlsZSAoIG1heEl0ZXJhdGlvbnMtLSApIHtcblxuXHRcdFx0Ly8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS5cblx0XHRcdC8vIEZpbmlzaCBpZiB0aGUgc2NhbGUgZXF1YWxzIG9yIGNyb3NzZXMgMSAobWFraW5nIHRoZSBvbGQqbmV3IHByb2R1Y3Qgbm9uLXBvc2l0aXZlKS5cblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XHRcdGlmICggKCAxIC0gc2NhbGUgKSAqICggMSAtICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41ICkgKSA8PSAwICkge1xuXHRcdFx0XHRtYXhJdGVyYXRpb25zID0gMDtcblx0XHRcdH1cblx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cblx0XHR9XG5cblx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7XG5cdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuXHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIElFIDw9OSByZXBsYWNlcyA8b3B0aW9uPiB0YWdzIHdpdGggdGhlaXIgY29udGVudHMgd2hlbiBpbnNlcnRlZCBvdXRzaWRlIG9mXG5cdC8vIHRoZSBzZWxlY3QgZWxlbWVudC5cblx0ZGl2LmlubmVySFRNTCA9IFwiPG9wdGlvbj48L29wdGlvbj5cIjtcblx0c3VwcG9ydC5vcHRpb24gPSAhIWRpdi5sYXN0Q2hpbGQ7XG59ICkoKTtcblxuXG4vLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxudmFyIHdyYXBNYXAgPSB7XG5cblx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHQvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG5cdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0X2RlZmF1bHQ6IFsgMCwgXCJcIiwgXCJcIiBdXG59O1xuXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5pZiAoICFzdXBwb3J0Lm9wdGlvbiApIHtcblx0d3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uID0gWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdO1xufVxuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGF0dGFjaGVkLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggdG9UeXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRhdHRhY2hlZCA9IGlzQXR0YWNoZWQoIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggYXR0YWNoZWQgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbnZhciBydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMStcbi8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzLCBleGNlcHQgd2hlbiB0aGV5IGFyZSBuby1vcC5cbi8vIFNvIGV4cGVjdCBmb2N1cyB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgYWN0aXZlLFxuLy8gYW5kIGJsdXIgdG8gYmUgc3luY2hyb25vdXMgd2hlbiB0aGUgZWxlbWVudCBpcyBub3QgYWxyZWFkeSBhY3RpdmUuXG4vLyAoZm9jdXMgYW5kIGJsdXIgYXJlIGFsd2F5cyBzeW5jaHJvbm91cyBpbiBvdGhlciBzdXBwb3J0ZWQgYnJvd3NlcnMsXG4vLyB0aGlzIGp1c3QgZGVmaW5lcyB3aGVuIHdlIGNhbiBjb3VudCBvbiBpdCkuXG5mdW5jdGlvbiBleHBlY3RTeW5jKCBlbGVtLCB0eXBlICkge1xuXHRyZXR1cm4gKCBlbGVtID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICkgPT09ICggdHlwZSA9PT0gXCJmb2N1c1wiICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBBY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBjYW4gdGhyb3cgdW5leHBlY3RlZGx5XG4vLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzOTNcbmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHR9IGNhdGNoICggZXJyICkgeyB9XG59XG5cbmZ1bmN0aW9uIG9uKCBlbGVtLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUgKSB7XG5cdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0Ly8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG5cdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhIClcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0fVxuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblxuXHRcdC8vICggdHlwZXMsIGZuIClcblx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgc2VsZWN0b3IsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggb25lID09PSAxICkge1xuXHRcdG9yaWdGbiA9IGZuO1xuXHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cblx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xuXHR9XG5cdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTtcblx0fSApO1xufVxuXG4vKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAqL1xualF1ZXJ5LmV2ZW50ID0ge1xuXG5cdGdsb2JhbDoge30sXG5cblx0YWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkge1xuXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0Ly8gT25seSBhdHRhY2ggZXZlbnRzIHRvIG9iamVjdHMgdGhhdCBhY2NlcHQgZGF0YVxuXHRcdGlmICggIWFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcblx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuXHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHR9XG5cblx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG5cdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSBPYmplY3QuY3JlYXRlKCBudWxsICk7XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxuXHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsXG5cdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXG5cblx0XHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApLFxuXG5cdFx0XHRoYW5kbGVycyA9IChcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwgT2JqZWN0LmNyZWF0ZSggbnVsbCApXG5cdFx0XHQpWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgbmFtZXNwYWNlZCwgdGhlbiBlYWNoIGhhbmRsZXIgaXMgb25seSBpbnZva2VkIGlmIGl0IGlzXG5cdFx0XHRcdC8vIHNwZWNpYWxseSB1bml2ZXJzYWwgb3IgaXRzIG5hbWVzcGFjZXMgYXJlIGEgc3VwZXJzZXQgb2YgdGhlIGV2ZW50J3MuXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgaGFuZGxlT2JqLm5hbWVzcGFjZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0XHRldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHtcblxuXHRcdFx0XHRcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcblx0XHRcdFx0XHRldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XG5cblx0XHRcdFx0XHRyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZXZlbnQucmVzdWx0ID0gcmV0ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXG5cdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHRoYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycyxcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OVxuXHRcdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKHRyYWMtMTMxODApXG5cdFx0XHRjdXIubm9kZVR5cGUgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0XHQvLyBTdXBwcmVzcyBzcGVjLXZpb2xhdGluZyBjbGlja3MgaW5kaWNhdGluZyBhIG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uICh0cmFjLTM4NjEpXG5cdFx0XHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHQvLyAuLi5idXQgbm90IGFycm93IGtleSBcImNsaWNrc1wiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpXG5cdFx0XHQhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnQuYnV0dG9uID49IDEgKSApIHtcblxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxuXHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgY3VyLmRpc2FibGVkID09PSB0cnVlICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzID0gW107XG5cdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9ycyA9IHt9O1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkSGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlZEhhbmRsZXJzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0Y3VyID0gdGhpcztcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdGFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblxuXHRcdFx0Z2V0OiBpc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZSBmb3IgY2hlY2thYmxlIGlucHV0c1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkge1xuXG5cdFx0XHRcdC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuXHRcdFx0XHQvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuXHRcdFx0XHR2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG5cblx0XHRcdFx0Ly8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0Ly8gZGF0YVByaXYuc2V0KCBlbCwgXCJjbGlja1wiLCAuLi4gKVxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiLCByZXR1cm5UcnVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9LFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlcmluZyBhIGNsaWNrXG5cdFx0XHRcdGlmICggcmNoZWNrYWJsZVR5cGUudGVzdCggZWwudHlwZSApICYmXG5cdFx0XHRcdFx0ZWwuY2xpY2sgJiYgbm9kZU5hbWUoIGVsLCBcImlucHV0XCIgKSApIHtcblxuXHRcdFx0XHRcdGxldmVyYWdlTmF0aXZlKCBlbCwgXCJjbGlja1wiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIHN1cHByZXNzIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0Ly8gQWxzbyBwcmV2ZW50IGl0IGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGUgYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHRcdFx0XHRyZXR1cm4gcmNoZWNrYWJsZVR5cGUudGVzdCggdGFyZ2V0LnR5cGUgKSAmJlxuXHRcdFx0XHRcdHRhcmdldC5jbGljayAmJiBub2RlTmFtZSggdGFyZ2V0LCBcImlucHV0XCIgKSAmJlxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGFyZ2V0LCBcImNsaWNrXCIgKSB8fFxuXHRcdFx0XHRcdG5vZGVOYW1lKCB0YXJnZXQsIFwiYVwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJlZm9yZXVubG9hZDoge1xuXHRcdFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcblx0XHRcdFx0Ly8gRmlyZWZveCBkb2Vzbid0IGFsZXJ0IGlmIHRoZSByZXR1cm5WYWx1ZSBmaWVsZCBpcyBub3Qgc2V0LlxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gRW5zdXJlIHRoZSBwcmVzZW5jZSBvZiBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGhhbmRsZXMgbWFudWFsbHktdHJpZ2dlcmVkXG4vLyBzeW50aGV0aWMgZXZlbnRzIGJ5IGludGVycnVwdGluZyBwcm9ncmVzcyB1bnRpbCByZWludm9rZWQgaW4gcmVzcG9uc2UgdG9cbi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZVxuLy8gYWxyZWFkeSBvY2N1cnJlZCBiZWZvcmUgb3RoZXIgbGlzdGVuZXJzIGFyZSBpbnZva2VkLlxuZnVuY3Rpb24gbGV2ZXJhZ2VOYXRpdmUoIGVsLCB0eXBlLCBleHBlY3RTeW5jICkge1xuXG5cdC8vIE1pc3NpbmcgZXhwZWN0U3luYyBpbmRpY2F0ZXMgYSB0cmlnZ2VyIGNhbGwsIHdoaWNoIG11c3QgZm9yY2Ugc2V0dXAgdGhyb3VnaCBqUXVlcnkuZXZlbnQuYWRkXG5cdGlmICggIWV4cGVjdFN5bmMgKSB7XG5cdFx0aWYgKCBkYXRhUHJpdi5nZXQoIGVsLCB0eXBlICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCByZXR1cm5UcnVlICk7XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlZ2lzdGVyIHRoZSBjb250cm9sbGVyIGFzIGEgc3BlY2lhbCB1bml2ZXJzYWwgaGFuZGxlciBmb3IgYWxsIGV2ZW50IG5hbWVzcGFjZXNcblx0ZGF0YVByaXYuc2V0KCBlbCwgdHlwZSwgZmFsc2UgKTtcblx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHtcblx0XHRuYW1lc3BhY2U6IGZhbHNlLFxuXHRcdGhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBub3RBc3luYywgcmVzdWx0LFxuXHRcdFx0XHRzYXZlZCA9IGRhdGFQcml2LmdldCggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRpZiAoICggZXZlbnQuaXNUcmlnZ2VyICYgMSApICYmIHRoaXNbIHR5cGUgXSApIHtcblxuXHRcdFx0XHQvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudFxuXHRcdFx0XHQvLyBTYXZlZCBkYXRhIHNob3VsZCBiZSBmYWxzZSBpbiBzdWNoIGNhc2VzLCBidXQgbWlnaHQgYmUgYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdFxuXHRcdFx0XHQvLyBmcm9tIGFuIGFzeW5jIG5hdGl2ZSBoYW5kbGVyIChnaC00MzUwKVxuXHRcdFx0XHRpZiAoICFzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBhcmd1bWVudHMgZm9yIHVzZSB3aGVuIGhhbmRsaW5nIHRoZSBpbm5lciBuYXRpdmUgZXZlbnRcblx0XHRcdFx0XHQvLyBUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgYXJndW1lbnQgKGFuIGV2ZW50IG9iamVjdCksIHNvIHRoaXMgYXJyYXlcblx0XHRcdFx0XHQvLyB3aWxsIG5vdCBiZSBjb25mdXNlZCB3aXRoIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3QuXG5cdFx0XHRcdFx0c2F2ZWQgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHNhdmVkICk7XG5cblx0XHRcdFx0XHQvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdFxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdC8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzXG5cdFx0XHRcdFx0bm90QXN5bmMgPSBleHBlY3RTeW5jKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0dGhpc1sgdHlwZSBdKCk7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0IHx8IG5vdEFzeW5jICkge1xuXHRcdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBmYWxzZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0ICkge1xuXG5cdFx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudFxuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgODYrXG5cdFx0XHRcdFx0XHQvLyBJbiBDaHJvbWUsIGlmIGFuIGVsZW1lbnQgaGF2aW5nIGEgZm9jdXNvdXQgaGFuZGxlciBpcyBibHVycmVkIGJ5XG5cdFx0XHRcdFx0XHQvLyBjbGlja2luZyBvdXRzaWRlIG9mIGl0LCBpdCBpbnZva2VzIHRoZSBoYW5kbGVyIHN5bmNocm9ub3VzbHkuIElmXG5cdFx0XHRcdFx0XHQvLyB0aGF0IGhhbmRsZXIgY2FsbHMgYC5yZW1vdmUoKWAgb24gdGhlIGVsZW1lbnQsIHRoZSBkYXRhIGlzIGNsZWFyZWQsXG5cdFx0XHRcdFx0XHQvLyBsZWF2aW5nIGByZXN1bHRgIHVuZGVmaW5lZC4gV2UgbmVlZCB0byBndWFyZCBhZ2FpbnN0IHRoaXMuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0ICYmIHJlc3VsdC52YWx1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGVcblx0XHRcdFx0Ly8gKGZvY3VzIG9yIGJsdXIpLCBhc3N1bWUgdGhhdCB0aGUgc3Vycm9nYXRlIGFscmVhZHkgcHJvcGFnYXRlZCBmcm9tIHRyaWdnZXJpbmcgdGhlXG5cdFx0XHRcdC8vIG5hdGl2ZSBldmVudCBhbmQgcHJldmVudCB0aGF0IGZyb20gaGFwcGVuaW5nIGFnYWluIGhlcmUuXG5cdFx0XHRcdC8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlXG5cdFx0XHRcdC8vIGJ1YmJsaW5nIHN1cnJvZ2F0ZSBwcm9wYWdhdGVzICphZnRlciogdGhlIG5vbi1idWJibGluZyBiYXNlKSwgYnV0IHRoYXQgc2VlbXNcblx0XHRcdFx0Ly8gbGVzcyBiYWQgdGhhbiBkdXBsaWNhdGlvbi5cblx0XHRcdFx0fSBlbHNlIGlmICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9ICkuZGVsZWdhdGVUeXBlICkge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBuYXRpdmUgZXZlbnQgdHJpZ2dlcmVkIGFib3ZlLCBldmVyeXRoaW5nIGlzIG5vdyBpbiBvcmRlclxuXHRcdFx0Ly8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBzYXZlZC5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gLi4uYW5kIGNhcHR1cmUgdGhlIHJlc3VsdFxuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIHtcblx0XHRcdFx0XHR2YWx1ZTogalF1ZXJ5LmV2ZW50LnRyaWdnZXIoXG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuXHRcdFx0XHRcdFx0Ly8gRXh0ZW5kIHdpdGggdGhlIHByb3RvdHlwZSB0byByZXNldCB0aGUgYWJvdmUgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblx0XHRcdFx0XHRcdGpRdWVyeS5leHRlbmQoIHNhdmVkWyAwIF0sIGpRdWVyeS5FdmVudC5wcm90b3R5cGUgKSxcblx0XHRcdFx0XHRcdHNhdmVkLnNsaWNlKCAxICksXG5cdFx0XHRcdFx0XHR0aGlzXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcbn1cblxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblxuXHQvLyBUaGlzIFwiaWZcIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHNcblx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcblx0fVxufTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdFx0Ly8gQ3JlYXRlIHRhcmdldCBwcm9wZXJ0aWVzXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxuXHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG5cdFx0XHRzcmMudGFyZ2V0O1xuXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblx0d2hpY2g6IHRydWVcbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbmpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCB0eXBlLCBkZWxlZ2F0ZVR5cGUgKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gPSB7XG5cblx0XHQvLyBVdGlsaXplIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiZm9jdXNcIiwgLi4uIClcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJibHVyXCIsIC4uLiApXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSwgZXhwZWN0U3luYyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSApO1xuXG5cdFx0XHQvLyBSZXR1cm4gbm9uLWZhbHNlIHRvIGFsbG93IG5vcm1hbCBldmVudC1wYXRoIHByb3BhZ2F0aW9uXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gU3VwcHJlc3MgbmF0aXZlIGZvY3VzIG9yIGJsdXIgYXMgaXQncyBhbHJlYWR5IGJlaW5nIGZpcmVkXG5cdFx0Ly8gaW4gbGV2ZXJhZ2VOYXRpdmUuXG5cdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlXG5cdH07XG59ICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTMgb25seVxuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cbi8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93c1xuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdG5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xuXG5cdFx0cmV0dXJuIGpRdWVyeSggZWxlbSApLmNoaWxkcmVuKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0aWYgKCAoIGVsZW0udHlwZSB8fCBcIlwiICkuc2xpY2UoIDAsIDUgKSA9PT0gXCJ0cnVlL1wiICkge1xuXHRcdGVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSggNSApO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoIHNyYyApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkZXN0LCBcImhhbmRsZSBldmVudHNcIiApO1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gZmxhdCggYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdG5vZGUgPSBmcmFnbWVudDtcblxuXHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cblx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0Ly8gUmVlbmFibGUgc2NyaXB0c1xuXHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XG5cblx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0IWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBub2RlLnNyYyAmJiAoIG5vZGUudHlwZSB8fCBcIlwiICkudG9Mb3dlckNhc2UoKSAgIT09IFwibW9kdWxlXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgJiYgIW5vZGUubm9Nb2R1bGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYywge1xuXHRcdFx0XHRcdFx0XHRcdFx0bm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoIFwibm9uY2VcIiApXG5cdFx0XHRcdFx0XHRcdFx0fSwgZG9jICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIG5vZGUsIGRvYyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHtcblx0dmFyIG5vZGUsXG5cdFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxuXHRcdGkgPSAwO1xuXG5cdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICgga2VlcERhdGEgJiYgaXNBdHRhY2hlZCggbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWw7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGlzQXR0YWNoZWQoIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0gKTtcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2sgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5jYWxsKCBlbGVtICk7XG5cblx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59O1xuXG5cbnZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKCBjc3NFeHBhbmQuam9pbiggXCJ8XCIgKSwgXCJpXCIgKTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O1wiICtcblx0XHRcdFwibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowXCI7XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXHRcdFx0XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwid2lkdGg6NjAlO3RvcDoxJVwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApO1xuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDRcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLm1hcmdpbkxlZnQgKSA9PT0gMTI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBTYWZhcmkgPD05LjEgLSAxMC4xLCBpT1MgPD03LjAgLSA5LjNcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUucmlnaHQgPSBcIjYwJVwiO1xuXHRcdHBpeGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5yaWdodCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG1pc3JlcG9ydGluZyBvZiBjb250ZW50IGRpbWVuc2lvbnMgZm9yIGJveC1zaXppbmc6Ym9yZGVyLWJveCBlbGVtZW50c1xuXHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS53aWR0aCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdC8vIERldGVjdCBvdmVyZmxvdzpzY3JvbGwgc2NyZXdpbmVzcyAoZ2gtMzY5OSlcblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD02NFxuXHRcdC8vIERvbid0IGdldCB0cmlja2VkIHdoZW4gem9vbSBhZmZlY3RzIG9mZnNldFdpZHRoIChnaC00MDI5KVxuXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXYub2Zmc2V0V2lkdGggLyAzICkgPT09IDEyO1xuXG5cdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcblx0XHQvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJvdW5kUGl4ZWxNZWFzdXJlcyggbWVhc3VyZSApIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCggcGFyc2VGbG9hdCggbWVhc3VyZSApICk7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHNjcm9sbGJveFNpemVWYWwsIHBpeGVsQm94U3R5bGVzVmFsLFxuXHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcblx0XHR9LFxuXHRcdHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7XG5cdFx0fSxcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBzY3JvbGxib3hTaXplVmFsO1xuXHRcdH0sXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcblx0XHQvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cblx0XHQvLyBCZWhhdmlvciBpbiBJRSA5IGlzIG1vcmUgc3VidGxlIHRoYW4gaW4gbmV3ZXIgdmVyc2lvbnMgJiBpdCBwYXNzZXNcblx0XHQvLyBzb21lIHZlcnNpb25zIG9mIHRoaXMgdGVzdDsgbWFrZSBzdXJlIG5vdCB0byBtYWtlIGl0IHBhc3MgdGhlcmUhXG5cdFx0Ly9cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDcwK1xuXHRcdC8vIE9ubHkgRmlyZWZveCBpbmNsdWRlcyBib3JkZXIgd2lkdGhzXG5cdFx0Ly8gaW4gY29tcHV0ZWQgZGltZW5zaW9ucy4gKGdoLTQ1MjkpXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHRhYmxlLCB0ciwgdHJDaGlsZCwgdHJTdHlsZTtcblx0XHRcdGlmICggcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRhYmxlXCIgKTtcblx0XHRcdFx0dHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRyXCIgKTtcblx0XHRcdFx0dHJDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHRcdFx0XHR0YWJsZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZVwiO1xuXHRcdFx0XHR0ci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MXB4IHNvbGlkXCI7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDg2K1xuXHRcdFx0XHQvLyBIZWlnaHQgc2V0IHRocm91Z2ggY3NzVGV4dCBkb2VzIG5vdCBnZXQgYXBwbGllZC5cblx0XHRcdFx0Ly8gQ29tcHV0ZWQgaGVpZ2h0IHRoZW4gY29tZXMgYmFjayBhcyAwLlxuXHRcdFx0XHR0ci5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuXHRcdFx0XHR0ckNoaWxkLnN0eWxlLmhlaWdodCA9IFwiOXB4XCI7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA4IENocm9tZSA4Nitcblx0XHRcdFx0Ly8gSW4gb3VyIGJvZHlCYWNrZ3JvdW5kLmh0bWwgaWZyYW1lLFxuXHRcdFx0XHQvLyBkaXNwbGF5IGZvciBhbGwgZGl2IGVsZW1lbnRzIGlzIHNldCB0byBcImlubGluZVwiLFxuXHRcdFx0XHQvLyB3aGljaCBjYXVzZXMgYSBwcm9ibGVtIG9ubHkgaW4gQW5kcm9pZCA4IENocm9tZSA4Ni5cblx0XHRcdFx0Ly8gRW5zdXJpbmcgdGhlIGRpdiBpcyBkaXNwbGF5OiBibG9ja1xuXHRcdFx0XHQvLyBnZXRzIGFyb3VuZCB0aGlzIGlzc3VlLlxuXHRcdFx0XHR0ckNoaWxkLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHRcdFx0ZG9jdW1lbnRFbGVtZW50XG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0YWJsZSApXG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0ciApXG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0ckNoaWxkICk7XG5cblx0XHRcdFx0dHJTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCB0ciApO1xuXHRcdFx0XHRyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9ICggcGFyc2VJbnQoIHRyU3R5bGUuaGVpZ2h0LCAxMCApICtcblx0XHRcdFx0XHRwYXJzZUludCggdHJTdHlsZS5ib3JkZXJUb3BXaWR0aCwgMTAgKSArXG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRyU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgsIDEwICkgKSA9PT0gdHIub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggdGFibGUgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFpc0F0dGFjaGVkKCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG5cdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJib3hTdHlsZS50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhciBjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGUsXG5cdHZlbmRvclByb3BzID0ge307XG5cbi8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWRcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0dmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSxcblx0XHRpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcblx0XHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH1cblx0fVxufVxuXG4vLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gZmluYWxQcm9wTmFtZSggbmFtZSApIHtcblx0dmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF0gfHwgdmVuZG9yUHJvcHNbIG5hbWUgXTtcblxuXHRpZiAoIGZpbmFsICkge1xuXHRcdHJldHVybiBmaW5hbDtcblx0fVxuXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRyZXR1cm4gbmFtZTtcblx0fVxuXHRyZXR1cm4gdmVuZG9yUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fTtcblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkge1xuXHR2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cdFx0ZXh0cmEgPSAwLFxuXHRcdGRlbHRhID0gMDtcblxuXHQvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5XG5cdGlmICggYm94ID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW5cblx0XHRpZiAoIGJveCA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG5cdFx0aWYgKCAhaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2Vcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG5cdFx0Ly8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuXHRcdFx0aWYgKCBib3ggPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG5cdGlmICggIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDAgKSB7XG5cblx0XHQvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG5cdFx0Ly8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuXHRcdGRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoXG5cdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0Y29tcHV0ZWRWYWwgLVxuXHRcdFx0ZGVsdGEgLVxuXHRcdFx0ZXh0cmEgLVxuXHRcdFx0MC41XG5cblx0XHQvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlclxuXHRcdC8vIFVzZSBhbiBleHBsaWNpdCB6ZXJvIHRvIGF2b2lkIE5hTiAoZ2gtMzk2NClcblx0XHQpICkgfHwgMDtcblx0fVxuXG5cdHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG5cdHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTQzMjIpLlxuXHRcdC8vIEZha2UgY29udGVudC1ib3ggdW50aWwgd2Uga25vdyBpdCdzIG5lZWRlZCB0byBrbm93IHRoZSB0cnVlIHZhbHVlLlxuXHRcdGJveFNpemluZ05lZWRlZCA9ICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgZXh0cmEsXG5cdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LFxuXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBkaW1lbnNpb24sIHN0eWxlcyApLFxuXHRcdG9mZnNldFByb3AgPSBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApO1xuXG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHQvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0aWYgKCAhZXh0cmEgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblx0XHR2YWwgPSBcImF1dG9cIjtcblx0fVxuXG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuXG5cdC8vIEluIHRob3NlIGNhc2VzLCB0aGUgY29tcHV0ZWQgdmFsdWUgY2FuIGJlIHRydXN0ZWQgdG8gYmUgYm9yZGVyLWJveC5cblx0aWYgKCAoICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgJiYgaXNCb3JkZXJCb3ggfHxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDEwIC0gMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcblx0XHQvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cblx0XHQvLyBJbnRlcmVzdGluZ2x5LCBpbiBzb21lIGNhc2VzIElFIDkgZG9lc24ndCBzdWZmZXIgZnJvbSB0aGlzIGlzc3VlLlxuXHRcdCFzdXBwb3J0LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkgJiYgbm9kZU5hbWUoIGVsZW0sIFwidHJcIiApIHx8XG5cblx0XHQvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcblx0XHQvLyBUaGlzIGhhcHBlbnMgZm9yIGlubGluZSBlbGVtZW50cyB3aXRoIG5vIGV4cGxpY2l0IHNldHRpbmcgKGdoLTM1NzEpXG5cdFx0dmFsID09PSBcImF1dG9cIiB8fFxuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSAtIDQuMyBvbmx5XG5cdFx0Ly8gQWxzbyB1c2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciBtaXNyZXBvcnRlZCBpbmxpbmUgZGltZW5zaW9ucyAoZ2gtMzYwMilcblx0XHQhcGFyc2VGbG9hdCggdmFsICkgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJpbmxpbmVcIiApICYmXG5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZFxuXHRcdGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0XHQvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuXG5cdFx0Ly8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZVxuXHRcdC8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi5cblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtO1xuXHRcdGlmICggdmFsdWVJc0JvcmRlckJveCApIHtcblx0XHRcdHZhbCA9IGVsZW1bIG9mZnNldFByb3AgXTtcblx0XHR9XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiBhbmQgYXV0b1xuXHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXG5cdC8vIEFkanVzdCBmb3IgdGhlIGVsZW1lbnQncyBib3ggbW9kZWxcblx0cmV0dXJuICggdmFsICtcblx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlcyxcblxuXHRcdFx0Ly8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSlcblx0XHRcdHZhbFxuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwiZ3JpZEFyZWFcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5cIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5FbmRcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5TdGFydFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1wiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd0VuZFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1N0YXJ0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge30sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHQvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kXG5cdFx0XHQvLyBcInB4XCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHRcdHN0eWxlLnNldFByb3BlcnR5KCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBfaSwgZGltZW5zaW9uICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIGRpbWVuc2lvbiBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXG5cdFx0XHRcdC8vIE9ubHkgcmVhZCBzdHlsZXMucG9zaXRpb24gaWYgdGhlIHRlc3QgaGFzIGEgY2hhbmNlIHRvIGZhaWxcblx0XHRcdFx0Ly8gdG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdy5cblx0XHRcdFx0c2Nyb2xsYm94U2l6ZUJ1Z2d5ID0gIXN1cHBvcnQuc2Nyb2xsYm94U2l6ZSgpICYmXG5cdFx0XHRcdFx0c3R5bGVzLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIsXG5cblx0XHRcdFx0Ly8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSlcblx0XHRcdFx0Ym94U2l6aW5nTmVlZGVkID0gc2Nyb2xsYm94U2l6ZUJ1Z2d5IHx8IGV4dHJhLFxuXHRcdFx0XHRpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgP1xuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRcdGlzQm9yZGVyQm94LFxuXHRcdFx0XHRcdFx0c3R5bGVzXG5cdFx0XHRcdFx0KSA6XG5cdFx0XHRcdFx0MDtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kXG5cdFx0XHQvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KVxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCAmJiBzY3JvbGxib3hTaXplQnVnZ3kgKSB7XG5cdFx0XHRcdHN1YnRyYWN0IC09IE1hdGguY2VpbChcblx0XHRcdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0XHRcdHBhcnNlRmxvYXQoIHN0eWxlc1sgZGltZW5zaW9uIF0gKSAtXG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIFwiYm9yZGVyXCIsIGZhbHNlLCBzdHlsZXMgKSAtXG5cdFx0XHRcdFx0MC41XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkXG5cdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXG5cdFx0XHRcdCggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApICE9PSBcInB4XCIgKSB7XG5cblx0XHRcdFx0ZWxlbS5zdHlsZVsgZGltZW5zaW9uIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCBwcmVmaXggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZXMsIGxlbixcblx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSB8fFxuXHRcdFx0XHRcdHR3ZWVuLmVsZW0uc3R5bGVbIGZpbmFsUHJvcE5hbWUoIHR3ZWVuLnByb3AgKSBdICE9IG51bGwgKSApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG5Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG5cdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAmJiB0d2Vlbi5lbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZWFzaW5nID0ge1xuXHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwO1xuXHR9LFxuXHRzd2luZzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDAuNSAtIE1hdGguY29zKCBwICogTWF0aC5QSSApIC8gMjtcblx0fSxcblx0X2RlZmF1bHQ6IFwic3dpbmdcIlxufTtcblxualF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG5cbi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50XG5qUXVlcnkuZnguc3RlcCA9IHt9O1xuXG5cblxuXG52YXJcblx0ZnhOb3csIGluUHJvZ3Jlc3MsXG5cdHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxuXHRycnVuID0gL3F1ZXVlSG9va3MkLztcblxuZnVuY3Rpb24gc2NoZWR1bGUoKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRpZiAoIGRvY3VtZW50LmhpZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSApIHtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHNjaGVkdWxlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBzY2hlZHVsZSwgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdFx0fVxuXG5cdFx0alF1ZXJ5LmZ4LnRpY2soKTtcblx0fVxufVxuXG4vLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5XG5mdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdGZ4Tm93ID0gdW5kZWZpbmVkO1xuXHR9ICk7XG5cdHJldHVybiAoIGZ4Tm93ID0gRGF0ZS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0dmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LFxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdGlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WSBhbmQgRWRnZSBqdXN0IG1pcnJvcnNcblx0XHQvLyB0aGUgb3ZlcmZsb3dYIHZhbHVlIHRoZXJlLlxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdH1cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0ZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRpZiAoIHRvZ2dsZSApIHtcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0XHQvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhaGlkZGVuICkge1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXHRcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xuXHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuXHRcdFx0aWYgKCAhbGVuZ3RoICkge1xuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdGlmICggZ290b0VuZCApIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fSApLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdHJlc3VsdC5zdG9wLmJpbmQoIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdGFuaW1hdGlvblxuXHRcdC5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0cmV0dXJuIGFuaW1hdGlvbjtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRpc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuXHRcdGR1cmF0aW9uOiBzcGVlZCxcblx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuXHRpZiAoIGpRdWVyeS5meC5vZmYgKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdGlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRvcHQucXVldWUgPSBcImZ4XCI7XG5cdH1cblxuXHQvLyBRdWV1ZWluZ1xuXHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG5cdG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IERhdGUubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcbmpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aW5Qcm9ncmVzcyA9IHRydWU7XG5cdHNjaGVkdWxlKCk7XG59O1xuXG5qUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRpblByb2dyZXNzID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSxcblx0XHRcdGkgPSAwLFxuXG5cdFx0XHQvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXG5cdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cblx0XHRpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0d2hpbGUgKCAoIG5hbWUgPSBhdHRyTmFtZXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbmJvb2xIb29rID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcblx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cbn07XG5cbmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1xcdysvZyApLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2Vcblx0ZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7XG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKCBcIiBcIiApO1xuXHR9XG5cblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkge1xuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRjbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzZXMubGVuZ3RoICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUsXG5cdFx0XHRpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggaXNWYWxpZFZhbHVlICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyBcIiBcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCwgbGFzdEVsZW1lbnQsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0bGFzdEVsZW1lbnQgPSBjdXI7XG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IE9iamVjdC5jcmVhdGUoIG51bGwgKSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBpc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG4vLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBIYW5kbGU6IHJlZ3VsYXIgbm9kZXMgKHZpYSBgdGhpcy5vd25lckRvY3VtZW50YCksIHdpbmRvd1xuXHRcdFx0XHQvLyAodmlhIGB0aGlzLmRvY3VtZW50YCkgJiBkb2N1bWVudCAodmlhIGB0aGlzYCkuXG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxudmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuXG52YXIgbm9uY2UgPSB7IGd1aWQ6IERhdGUubm93KCkgfTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sLCBwYXJzZXJFcnJvckVsZW07XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cblx0dHJ5IHtcblx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHR9IGNhdGNoICggZSApIHt9XG5cblx0cGFyc2VyRXJyb3JFbGVtID0geG1sICYmIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiIClbIDAgXTtcblx0aWYgKCAheG1sIHx8IHBhcnNlckVycm9yRWxlbSApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgKFxuXHRcdFx0cGFyc2VyRXJyb3JFbGVtID9cblx0XHRcdFx0alF1ZXJ5Lm1hcCggcGFyc2VyRXJyb3JFbGVtLmNoaWxkTm9kZXMsIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWwudGV4dENvbnRlbnQ7XG5cdFx0XHRcdH0gKS5qb2luKCBcIlxcblwiICkgOlxuXHRcdFx0XHRkYXRhXG5cdFx0KSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0cHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiICkgKyBcIl1cIixcblx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdGFkZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgdG9UeXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cblx0XHRcdC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgdXNlIGl0cyByZXR1cm4gdmFsdWVcblx0XHRcdHZhciB2YWx1ZSA9IGlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID9cblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb247XG5cblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHR9O1xuXG5cdGlmICggYSA9PSBudWxsICkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9ICkubWFwKCBmdW5jdGlvbiggX2ksIGVsZW0gKSB7XG5cdFx0XHR2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7XG5cblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG52YXJcblx0cjIwID0gLyUyMC9nLFxuXHRyaGFzaCA9IC8jLiokLyxcblx0cmFudGlDYWNoZSA9IC8oWz8mXSlfPVteJl0qLyxcblx0cmhlYWRlcnMgPSAvXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL21nLFxuXG5cdC8vICM3NjUzLCAjODEyNSwgIzgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvblxuXHRybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLFxuXHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcblx0cnByb3RvY29sID0gL15cXC9cXC8vLFxuXG5cdC8qIFByZWZpbHRlcnNcblx0ICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcblx0ICogMikgVGhlc2UgYXJlIGNhbGxlZDpcblx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHQgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG5cdCAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0cHJlZmlsdGVycyA9IHt9LFxuXG5cdC8qIFRyYW5zcG9ydHMgYmluZGluZ3Ncblx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0dHJhbnNwb3J0cyA9IHt9LFxuXG5cdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoIFwiKlwiICksXG5cblx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cbm9yaWdpbkFuY2hvci5ocmVmID0gbG9jYXRpb24uaHJlZjtcblxuLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7XG5cblx0Ly8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuXHRyZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHtcblxuXHRcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XG5cdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHR9XG5cblx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGRhdGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBrZXksIGRlZXAsXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWyAwIF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFVybCBjbGVhbnVwIHZhclxuXHRcdFx0dXJsQW5jaG9yLFxuXG5cdFx0XHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG5cdFx0XHRjb21wbGV0ZWQsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cblx0XHRcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuXHRcdFx0dW5jYWNoZWQsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gPVxuXHRcdFx0XHRcdFx0XHRcdFx0KCByZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gfHwgW10gKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuY29uY2F0KCBtYXRjaFsgMiBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSArIFwiIFwiIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oIFwiLCBcIiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXG5cdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG5cdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cblx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9XG5cblx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXG5cdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG5cdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgJiYgKCBzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgKSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgXCIkMVwiICk7XG5cdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UuZ3VpZCsrICkgK1xuXHRcdFx0XHRcdHVuY2FjaGVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpXG5cdFx0XHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG5cblx0XHQvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OClcblx0XHR9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuXHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgKSB7XG5cdFx0XHRzLmRhdGEgPSBzLmRhdGEucmVwbGFjZSggcjIwLCBcIitcIiApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxuXHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcIkFjY2VwdFwiLFxuXHRcdFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XG5cdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHQoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxuXHRcdFx0XHRzLmFjY2VwdHNbIFwiKlwiIF1cblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXG5cdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBzLmhlYWRlcnNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcblx0XHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxuXHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG5cdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdGNvbXBsZXRlRGVmZXJyZWQuYWRkKCBzLmNvbXBsZXRlICk7XG5cdFx0anFYSFIuZG9uZSggcy5zdWNjZXNzICk7XG5cdFx0anFYSFIuZmFpbCggcy5lcnJvciApO1xuXG5cdFx0Ly8gR2V0IHRyYW5zcG9ydFxuXHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XG5cdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0ZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cblx0XHRcdC8vIFNlbmQgZ2xvYmFsIGV2ZW50XG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4U2VuZFwiLCBbIGpxWEhSLCBzIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRpbWVvdXRcblx0XHRcdGlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkge1xuXHRcdFx0XHR0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0anFYSFIuYWJvcnQoIFwidGltZW91dFwiICk7XG5cdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb21wbGV0ZWQgPSBmYWxzZTtcblx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcblx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcblx0XHRmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHtcblx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuXG5cdFx0XHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb21wbGV0ZWQgPSB0cnVlO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuXG5cdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBVc2UgYSBub29wIGNvbnZlcnRlciBmb3IgbWlzc2luZyBzY3JpcHQgYnV0IG5vdCBpZiBqc29ucFxuXHRcdFx0aWYgKCAhaXNTdWNjZXNzICYmXG5cdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBcInNjcmlwdFwiLCBzLmRhdGFUeXBlcyApID4gLTEgJiZcblx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIFwianNvblwiLCBzLmRhdGFUeXBlcyApIDwgMCApIHtcblx0XHRcdFx0cy5jb252ZXJ0ZXJzWyBcInRleHQgc2NyaXB0XCIgXSA9IGZ1bmN0aW9uKCkge307XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIF9pLCBtZXRob2QgKSB7XG5cdGpRdWVyeVsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSApIHtcblxuXHRcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0dmFyIGk7XG5cdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdGlmICggaS50b0xvd2VyQ2FzZSgpID09PSBcImNvbnRlbnQtdHlwZVwiICkge1xuXHRcdFx0cy5jb250ZW50VHlwZSA9IHMuaGVhZGVyc1sgaSBdIHx8IFwiXCI7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCwgb3B0aW9ucywgZG9jICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cblx0XHQvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KVxuXHRcdC8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkXG5cdFx0Ly8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuXG5cdFx0Y29udmVydGVyczoge1xuXHRcdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbigpIHt9XG5cdFx0fSxcblx0XHRkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggcmVzcG9uc2UsIG9wdGlvbnMsIGRvYyApO1xuXHRcdH1cblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG5cdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xuXHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMgKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBzLnNjcmlwdEF0dHJzIHx8IHt9IClcblx0XHRcdFx0XHQucHJvcCggeyBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsIHNyYzogcy51cmwgfSApXG5cdFx0XHRcdFx0Lm9uKCBcImxvYWQgZXJyb3JcIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlLmd1aWQrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0gKTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbi8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XG5cdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbn0gKSgpO1xuXG5cbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblxuXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXG5cdGlmICggIWNvbnRleHQgKSB7XG5cblx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuXHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cblx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG5cdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XG5cdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8qKlxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICovXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXG5cdFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcblx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0Y3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xuXHRcdFx0Y3VyTGVmdCA9IHBhcnNlRmxvYXQoIGN1ckNTU0xlZnQgKSB8fCAwO1xuXHRcdH1cblxuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdC8vIG9mZnNldCgpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIGJvcmRlciBib3ggdG8gdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIHJlY3QsIHdpbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcblx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUlxuXHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCxcblx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldFxuXHRcdH07XG5cdH0sXG5cblx0Ly8gcG9zaXRpb24oKSByZWxhdGVzIGFuIGVsZW1lbnQncyBtYXJnaW4gYm94IHRvIGl0cyBvZmZzZXQgcGFyZW50J3MgcGFkZGluZyBib3hcblx0Ly8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuXHRcdC8vIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB0aGUgdmlld3BvcnQsIHdoaWNoIGl0c2VsZiBhbHdheXMgaGFzIHplcm8gb2Zmc2V0XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBBc3N1bWUgcG9zaXRpb246Zml4ZWQgaW1wbGllcyBhdmFpbGFiaWxpdHkgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50XG5cdFx0XHQvLyB3aGVuIGEgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnQgaXMgaWRlbnRpZmllZFxuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0b2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmXG5cdFx0XHRcdCggb2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgKSAmJlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW5cblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0galF1ZXJ5KCBvZmZzZXRQYXJlbnQgKS5vZmZzZXQoKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtO1xuXHRcdFx0fSBlbHNlIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0d2luID0gZWxlbS5kZWZhdWx0Vmlldztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIF9pLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0cGFkZGluZzogXCJpbm5lclwiICsgbmFtZSxcblx0XHRjb250ZW50OiB0eXBlLFxuXHRcdFwiXCI6IFwib3V0ZXJcIiArIG5hbWVcblx0fSwgZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggX2ksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblxuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHR0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDpcblx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHR9LFxuXG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaChcblx0KCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG5cdFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiICkuc3BsaXQoIFwiIFwiICksXG5cdGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblxuXHRcdC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0XHR0aGlzLm9uKCBuYW1lLCBudWxsLCBkYXRhLCBmbiApIDpcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdFx0fTtcblx0fVxuKTtcblxuXG5cblxuLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG4vLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1BcbnZhciBydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxuLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4vLyBhcmd1bWVudHMuXG4vLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4vLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdGNvbnRleHQgPSBmbjtcblx0XHRmbiA9IHRtcDtcblx0fVxuXG5cdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdGlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFNpbXVsYXRlZCBiaW5kXG5cdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0fTtcblxuXHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0cmV0dXJuIHByb3h5O1xufTtcblxualF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkge1xuXHRpZiAoIGhvbGQgKSB7XG5cdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHR9XG59O1xualF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5qUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xualF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbmpRdWVyeS50eXBlID0gdG9UeXBlO1xuXG5qUXVlcnkubm93ID0gRGF0ZS5ub3c7XG5cbmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkge1xuXG5cdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xufTtcblxualF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHtcblx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XCJcIiA6XG5cdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG59O1xuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9ICk7XG59XG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBcInVuZGVmaW5lZFwiICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iLCIvKiFcbiAqIE1hdGVyaWFsaXplIHYxLjAuMCAoaHR0cDovL21hdGVyaWFsaXplY3NzLmNvbSlcbiAqIENvcHlyaWdodCAyMDE0LTIwMTcgTWF0ZXJpYWxpemVcbiAqIE1JVCBMaWNlbnNlIChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRG9nZmFsby9tYXRlcmlhbGl6ZS9tYXN0ZXIvTElDRU5TRSlcbiAqL1xudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qISBjYXNoLWRvbSAxLjMuNSwgaHR0cHM6Ly9naXRodWIuY29tL2tlbndoZWVsZXIvY2FzaCBAbGljZW5zZSBNSVQgKi9cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICB3aW5kb3cuY2FzaCA9IGZhY3RvcnkoKTtcbn0pKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgd2luID0gd2luZG93LFxuICAgICAgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgIHNsaWNlID0gQXJyYXlQcm90by5zbGljZSxcbiAgICAgIGZpbHRlciA9IEFycmF5UHJvdG8uZmlsdGVyLFxuICAgICAgcHVzaCA9IEFycmF5UHJvdG8ucHVzaDtcblxuICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgLy8gQHNlZSBodHRwczovL2NyYnVnLmNvbS81Njg0NDhcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09IHR5cGVvZiBub29wICYmIGl0ZW0uY2FsbDtcbiAgfSxcbiAgICAgIGlzU3RyaW5nID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09IHR5cGVvZiBcIlwiO1xuICB9O1xuXG4gIHZhciBpZE1hdGNoID0gL14jW1xcdy1dKiQvLFxuICAgICAgY2xhc3NNYXRjaCA9IC9eXFwuW1xcdy1dKiQvLFxuICAgICAgaHRtbE1hdGNoID0gLzwuKz4vLFxuICAgICAgc2luZ2xldCA9IC9eXFx3KyQvO1xuXG4gIGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2M7XG4gICAgdmFyIGVsZW1zID0gY2xhc3NNYXRjaC50ZXN0KHNlbGVjdG9yKSA/IGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShzZWxlY3Rvci5zbGljZSgxKSkgOiBzaW5nbGV0LnRlc3Qoc2VsZWN0b3IpID8gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3RvcikgOiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIHJldHVybiBlbGVtcztcbiAgfVxuXG4gIHZhciBmcmFnO1xuICBmdW5jdGlvbiBwYXJzZUhUTUwoc3RyKSB7XG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICBmcmFnID0gZG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChudWxsKTtcbiAgICAgIHZhciBiYXNlID0gZnJhZy5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKTtcbiAgICAgIGJhc2UuaHJlZiA9IGRvYy5sb2NhdGlvbi5ocmVmO1xuICAgICAgZnJhZy5oZWFkLmFwcGVuZENoaWxkKGJhc2UpO1xuICAgIH1cblxuICAgIGZyYWcuYm9keS5pbm5lckhUTUwgPSBzdHI7XG5cbiAgICByZXR1cm4gZnJhZy5ib2R5LmNoaWxkTm9kZXM7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlYWR5KGZuKSB7XG4gICAgaWYgKGRvYy5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuICAgICAgZm4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBJbml0KHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gSWYgYWxyZWFkeSBhIGNhc2ggY29sbGVjdGlvbiwgZG9uJ3QgZG8gYW55IGZ1cnRoZXIgcHJvY2Vzc2luZ1xuICAgIGlmIChzZWxlY3Rvci5jYXNoICYmIHNlbGVjdG9yICE9PSB3aW4pIHtcbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbXMgPSBzZWxlY3RvcixcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGxlbmd0aDtcblxuICAgIGlmIChpc1N0cmluZyhzZWxlY3RvcikpIHtcbiAgICAgIGVsZW1zID0gaWRNYXRjaC50ZXN0KHNlbGVjdG9yKSA/XG4gICAgICAvLyBJZiBhbiBJRCB1c2UgdGhlIGZhc3RlciBnZXRFbGVtZW50QnlJZCBjaGVja1xuICAgICAgZG9jLmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yLnNsaWNlKDEpKSA6IGh0bWxNYXRjaC50ZXN0KHNlbGVjdG9yKSA/XG4gICAgICAvLyBJZiBIVE1MLCBwYXJzZSBpdCBpbnRvIHJlYWwgZWxlbWVudHNcbiAgICAgIHBhcnNlSFRNTChzZWxlY3RvcikgOlxuICAgICAgLy8gZWxzZSB1c2UgYGZpbmRgXG4gICAgICBmaW5kKHNlbGVjdG9yLCBjb250ZXh0KTtcblxuICAgICAgLy8gSWYgZnVuY3Rpb24sIHVzZSBhcyBzaG9ydGN1dCBmb3IgRE9NIHJlYWR5XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgICAgb25SZWFkeShzZWxlY3Rvcik7cmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKCFlbGVtcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBzaW5nbGUgRE9NIGVsZW1lbnQgaXMgcGFzc2VkIGluIG9yIHJlY2VpdmVkIHZpYSBJRCwgcmV0dXJuIHRoZSBzaW5nbGUgZWxlbWVudFxuICAgIGlmIChlbGVtcy5ub2RlVHlwZSB8fCBlbGVtcyA9PT0gd2luKSB7XG4gICAgICB0aGlzWzBdID0gZWxlbXM7XG4gICAgICB0aGlzLmxlbmd0aCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyZWF0IGxpa2UgYW4gYXJyYXkgYW5kIGxvb3AgdGhyb3VnaCBlYWNoIGl0ZW0uXG4gICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcbiAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpc1tpXSA9IGVsZW1zW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FzaChzZWxlY3RvciwgY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgSW5pdChzZWxlY3RvciwgY29udGV4dCk7XG4gIH1cblxuICB2YXIgZm4gPSBjYXNoLmZuID0gY2FzaC5wcm90b3R5cGUgPSBJbml0LnByb3RvdHlwZSA9IHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgY2FzaDogdHJ1ZSxcbiAgICBsZW5ndGg6IDAsXG4gICAgcHVzaDogcHVzaCxcbiAgICBzcGxpY2U6IEFycmF5UHJvdG8uc3BsaWNlLFxuICAgIG1hcDogQXJyYXlQcm90by5tYXAsXG4gICAgaW5pdDogSW5pdFxuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBjYXNoIH0pO1xuXG4gIGNhc2gucGFyc2VIVE1MID0gcGFyc2VIVE1MO1xuICBjYXNoLm5vb3AgPSBub29wO1xuICBjYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICBjYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbiAgY2FzaC5leHRlbmQgPSBmbi5leHRlbmQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IHt9O1xuXG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICBpID0gMTtcblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGFyZ2V0ID0gdGhpcztcbiAgICAgIGkgPSAwO1xuICAgIH1cblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghYXJnc1tpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBhcmdzW2ldKSB7XG4gICAgICAgIGlmIChhcmdzW2ldLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IGFyZ3NbaV1ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgZnVuY3Rpb24gZWFjaChjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciBsID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgIGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKGNvbGxlY3Rpb25baV0sIGNvbGxlY3Rpb25baV0sIGksIGNvbGxlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXRjaGVzKGVsLCBzZWxlY3Rvcikge1xuICAgIHZhciBtID0gZWwgJiYgKGVsLm1hdGNoZXMgfHwgZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbC5tc01hdGNoZXNTZWxlY3RvciB8fCBlbC5vTWF0Y2hlc1NlbGVjdG9yKTtcbiAgICByZXR1cm4gISFtICYmIG0uY2FsbChlbCwgc2VsZWN0b3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcGFyZUZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qIFVzZSBicm93c2VyJ3MgYG1hdGNoZXNgIGZ1bmN0aW9uIGlmIHN0cmluZyAqL1xuICAgICAgaXNTdHJpbmcoc2VsZWN0b3IpID8gbWF0Y2hlcyA6XG4gICAgICAvKiBNYXRjaCBhIGNhc2ggZWxlbWVudCAqL1xuICAgICAgc2VsZWN0b3IuY2FzaCA/IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IuaXMoZWwpO1xuICAgICAgfSA6XG4gICAgICAvKiBEaXJlY3QgY29tcGFyaXNvbiAqL1xuICAgICAgZnVuY3Rpb24gKGVsLCBzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWwgPT09IHNlbGVjdG9yO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiB1bmlxdWUoY29sbGVjdGlvbikge1xuICAgIHJldHVybiBjYXNoKHNsaWNlLmNhbGwoY29sbGVjdGlvbikuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgc2VsZikge1xuICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gaW5kZXg7XG4gICAgfSkpO1xuICB9XG5cbiAgY2FzaC5leHRlbmQoe1xuICAgIG1lcmdlOiBmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgdmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuICAgICAgICAgIGkgPSBmaXJzdC5sZW5ndGgsXG4gICAgICAgICAgaiA9IDA7XG5cbiAgICAgIGZvciAoOyBqIDwgbGVuOyBpKyssIGorKykge1xuICAgICAgICBmaXJzdFtpXSA9IHNlY29uZFtqXTtcbiAgICAgIH1cblxuICAgICAgZmlyc3QubGVuZ3RoID0gaTtcbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9LFxuXG4gICAgZWFjaDogZWFjaCxcbiAgICBtYXRjaGVzOiBtYXRjaGVzLFxuICAgIHVuaXF1ZTogdW5pcXVlLFxuICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXksXG4gICAgaXNOdW1lcmljOiBmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdmFyIHVpZCA9IGNhc2gudWlkID0gXCJfY2FzaFwiICsgRGF0ZS5ub3coKTtcblxuICBmdW5jdGlvbiBnZXREYXRhQ2FjaGUobm9kZSkge1xuICAgIHJldHVybiBub2RlW3VpZF0gPSBub2RlW3VpZF0gfHwge307XG4gIH1cblxuICBmdW5jdGlvbiBzZXREYXRhKG5vZGUsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZ2V0RGF0YUNhY2hlKG5vZGUpW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERhdGEobm9kZSwga2V5KSB7XG4gICAgdmFyIGMgPSBnZXREYXRhQ2FjaGUobm9kZSk7XG4gICAgaWYgKGNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjW2tleV0gPSBub2RlLmRhdGFzZXQgPyBub2RlLmRhdGFzZXRba2V5XSA6IGNhc2gobm9kZSkuYXR0cihcImRhdGEtXCIgKyBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gY1trZXldO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRGF0YShub2RlLCBrZXkpIHtcbiAgICB2YXIgYyA9IGdldERhdGFDYWNoZShub2RlKTtcbiAgICBpZiAoYykge1xuICAgICAgZGVsZXRlIGNba2V5XTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuZGF0YXNldCkge1xuICAgICAgZGVsZXRlIG5vZGUuZGF0YXNldFtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXNoKG5vZGUpLnJlbW92ZUF0dHIoXCJkYXRhLVwiICsgbmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBkYXRhOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IGdldERhdGEodGhpc1swXSwgbmFtZSkgOiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICByZXR1cm4gc2V0RGF0YSh2LCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xuICAgICAgICB0aGlzLmRhdGEoa2V5LCBuYW1lW2tleV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRGF0YSh2LCBrZXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHZhciBub3RXaGl0ZU1hdGNoID0gL1xcUysvZztcblxuICBmdW5jdGlvbiBnZXRDbGFzc2VzKGMpIHtcbiAgICByZXR1cm4gaXNTdHJpbmcoYykgJiYgYy5tYXRjaChub3RXaGl0ZU1hdGNoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NsYXNzKHYsIGMpIHtcbiAgICByZXR1cm4gdi5jbGFzc0xpc3QgPyB2LmNsYXNzTGlzdC5jb250YWlucyhjKSA6IG5ldyBSZWdFeHAoXCIoXnwgKVwiICsgYyArIFwiKCB8JClcIiwgXCJnaVwiKS50ZXN0KHYuY2xhc3NOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKHYsIGMsIHNwYWNlZE5hbWUpIHtcbiAgICBpZiAodi5jbGFzc0xpc3QpIHtcbiAgICAgIHYuY2xhc3NMaXN0LmFkZChjKTtcbiAgICB9IGVsc2UgaWYgKHNwYWNlZE5hbWUuaW5kZXhPZihcIiBcIiArIGMgKyBcIiBcIikpIHtcbiAgICAgIHYuY2xhc3NOYW1lICs9IFwiIFwiICsgYztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyh2LCBjKSB7XG4gICAgaWYgKHYuY2xhc3NMaXN0KSB7XG4gICAgICB2LmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHYuY2xhc3NOYW1lID0gdi5jbGFzc05hbWUucmVwbGFjZShjLCBcIlwiKTtcbiAgICB9XG4gIH1cblxuICBmbi5leHRlbmQoe1xuICAgIGFkZENsYXNzOiBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIGNsYXNzZXMgPSBnZXRDbGFzc2VzKGMpO1xuXG4gICAgICByZXR1cm4gY2xhc3NlcyA/IHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgc3BhY2VkTmFtZSA9IFwiIFwiICsgdi5jbGFzc05hbWUgKyBcIiBcIjtcbiAgICAgICAgZWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGFkZENsYXNzKHYsIGMsIHNwYWNlZE5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pIDogdGhpcztcbiAgICB9LFxuXG4gICAgYXR0cjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmdldEF0dHJpYnV0ZSA/IHRoaXNbMF0uZ2V0QXR0cmlidXRlKG5hbWUpIDogdGhpc1swXVtuYW1lXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBpZiAodi5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHYuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdltuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXR0cihrZXksIG5hbWVba2V5XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBoYXNDbGFzczogZnVuY3Rpb24gKGMpIHtcbiAgICAgIHZhciBjaGVjayA9IGZhbHNlLFxuICAgICAgICAgIGNsYXNzZXMgPSBnZXRDbGFzc2VzKGMpO1xuICAgICAgaWYgKGNsYXNzZXMgJiYgY2xhc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgY2hlY2sgPSBoYXNDbGFzcyh2LCBjbGFzc2VzWzBdKTtcbiAgICAgICAgICByZXR1cm4gIWNoZWNrO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVjaztcbiAgICB9LFxuXG4gICAgcHJvcDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB0aGlzWzBdW25hbWVdIDogdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdltuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHtcbiAgICAgICAgdGhpcy5wcm9wKGtleSwgbmFtZVtrZXldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGlmICh2LnJlbW92ZUF0dHJpYnV0ZSkge1xuICAgICAgICAgIHYucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2W25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsIFwiXCIpO1xuICAgICAgfVxuICAgICAgdmFyIGNsYXNzZXMgPSBnZXRDbGFzc2VzKGMpO1xuICAgICAgcmV0dXJuIGNsYXNzZXMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgZWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHJlbW92ZUNsYXNzKHYsIGMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pIDogdGhpcztcbiAgICB9LFxuXG4gICAgcmVtb3ZlUHJvcDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgZGVsZXRlIHZbbmFtZV07XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIChjLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbc3RhdGUgPyBcImFkZENsYXNzXCIgOiBcInJlbW92ZUNsYXNzXCJdKGMpO1xuICAgICAgfVxuICAgICAgdmFyIGNsYXNzZXMgPSBnZXRDbGFzc2VzKGMpO1xuICAgICAgcmV0dXJuIGNsYXNzZXMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIHNwYWNlZE5hbWUgPSBcIiBcIiArIHYuY2xhc3NOYW1lICsgXCIgXCI7XG4gICAgICAgIGVhY2goY2xhc3NlcywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBpZiAoaGFzQ2xhc3ModiwgYykpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHYsIGMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRDbGFzcyh2LCBjLCBzcGFjZWROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSkgOiB0aGlzO1xuICAgIH0gfSk7XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBhZGQ6IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHVuaXF1ZShjYXNoLm1lcmdlKHRoaXMsIGNhc2goc2VsZWN0b3IsIGNvbnRleHQpKSk7XG4gICAgfSxcblxuICAgIGVhY2g6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgZWFjaCh0aGlzLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgZXE6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgcmV0dXJuIGNhc2godGhpcy5nZXQoaW5kZXgpKTtcbiAgICB9LFxuXG4gICAgZmlsdGVyOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21wYXJhdG9yID0gaXNGdW5jdGlvbihzZWxlY3RvcikgPyBzZWxlY3RvciA6IGdldENvbXBhcmVGdW5jdGlvbihzZWxlY3Rvcik7XG5cbiAgICAgIHJldHVybiBjYXNoKGZpbHRlci5jYWxsKHRoaXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGUsIHNlbGVjdG9yKTtcbiAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgZmlyc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVxKDApO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNsaWNlLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdGhpc1tpbmRleCArIHRoaXMubGVuZ3RoXSA6IHRoaXNbaW5kZXhdO1xuICAgIH0sXG5cbiAgICBpbmRleDogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBjaGlsZCA9IGVsZW0gPyBjYXNoKGVsZW0pWzBdIDogdGhpc1swXSxcbiAgICAgICAgICBjb2xsZWN0aW9uID0gZWxlbSA/IHRoaXMgOiBjYXNoKGNoaWxkKS5wYXJlbnQoKS5jaGlsZHJlbigpO1xuICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoY29sbGVjdGlvbikuaW5kZXhPZihjaGlsZCk7XG4gICAgfSxcblxuICAgIGxhc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVxKC0xKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdmFyIGNhbWVsQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FtZWxSZWdleCA9IC8oPzpeXFx3fFtBLVpdfFxcYlxcdykvZyxcbiAgICAgICAgd2hpdGVTcGFjZSA9IC9bXFxzLV9dKy9nO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxSZWdleCwgZnVuY3Rpb24gKGxldHRlciwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxldHRlcltpbmRleCA9PT0gMCA/IFwidG9Mb3dlckNhc2VcIiA6IFwidG9VcHBlckNhc2VcIl0oKTtcbiAgICAgIH0pLnJlcGxhY2Uod2hpdGVTcGFjZSwgXCJcIik7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBnZXRQcmVmaXhlZFByb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhY2hlID0ge30sXG4gICAgICAgIGRvYyA9IGRvY3VtZW50LFxuICAgICAgICBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgc3R5bGUgPSBkaXYuc3R5bGU7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIHByb3AgPSBjYW1lbENhc2UocHJvcCk7XG4gICAgICBpZiAoY2FjaGVbcHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgfVxuXG4gICAgICB2YXIgdWNQcm9wID0gcHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3Auc2xpY2UoMSksXG4gICAgICAgICAgcHJlZml4ZXMgPSBbXCJ3ZWJraXRcIiwgXCJtb3pcIiwgXCJtc1wiLCBcIm9cIl0sXG4gICAgICAgICAgcHJvcHMgPSAocHJvcCArIFwiIFwiICsgcHJlZml4ZXMuam9pbih1Y1Byb3AgKyBcIiBcIikgKyB1Y1Byb3ApLnNwbGl0KFwiIFwiKTtcblxuICAgICAgZWFjaChwcm9wcywgZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKHAgaW4gc3R5bGUpIHtcbiAgICAgICAgICBjYWNoZVtwXSA9IHByb3AgPSBjYWNoZVtwcm9wXSA9IHA7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgIH07XG4gIH0oKTtcblxuICBjYXNoLnByZWZpeGVkUHJvcCA9IGdldFByZWZpeGVkUHJvcDtcbiAgY2FzaC5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBjc3M6IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgaWYgKGlzU3RyaW5nKHByb3ApKSB7XG4gICAgICAgIHByb3AgPSBnZXRQcmVmaXhlZFByb3AocHJvcCk7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0pIDogd2luLmdldENvbXB1dGVkU3R5bGUodGhpc1swXSlbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wKSB7XG4gICAgICAgIHRoaXMuY3NzKGtleSwgcHJvcFtrZXldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGUoZWwsIHByb3ApIHtcbiAgICByZXR1cm4gcGFyc2VJbnQod2luLmdldENvbXB1dGVkU3R5bGUoZWxbMF0sIG51bGwpW3Byb3BdLCAxMCkgfHwgMDtcbiAgfVxuXG4gIGVhY2goW1wiV2lkdGhcIiwgXCJIZWlnaHRcIl0sIGZ1bmN0aW9uICh2KSB7XG4gICAgdmFyIGxvd2VyID0gdi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgZm5bbG93ZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbbG93ZXJdO1xuICAgIH07XG5cbiAgICBmbltcImlubmVyXCIgKyB2XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzWzBdW1wiY2xpZW50XCIgKyB2XTtcbiAgICB9O1xuXG4gICAgZm5bXCJvdXRlclwiICsgdl0gPSBmdW5jdGlvbiAobWFyZ2lucykge1xuICAgICAgcmV0dXJuIHRoaXNbMF1bXCJvZmZzZXRcIiArIHZdICsgKG1hcmdpbnMgPyBjb21wdXRlKHRoaXMsIFwibWFyZ2luXCIgKyAodiA9PT0gXCJXaWR0aFwiID8gXCJMZWZ0XCIgOiBcIlRvcFwiKSkgKyBjb21wdXRlKHRoaXMsIFwibWFyZ2luXCIgKyAodiA9PT0gXCJXaWR0aFwiID8gXCJSaWdodFwiIDogXCJCb3R0b21cIikpIDogMCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudChub2RlLCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGV2ZW50Q2FjaGUgPSBnZXREYXRhKG5vZGUsIFwiX2Nhc2hFdmVudHNcIikgfHwgc2V0RGF0YShub2RlLCBcIl9jYXNoRXZlbnRzXCIsIHt9KTtcbiAgICBldmVudENhY2hlW2V2ZW50TmFtZV0gPSBldmVudENhY2hlW2V2ZW50TmFtZV0gfHwgW107XG4gICAgZXZlbnRDYWNoZVtldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5vZGUsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXZlbnRzID0gZ2V0RGF0YShub2RlLCBcIl9jYXNoRXZlbnRzXCIpLFxuICAgICAgICBldmVudENhY2hlID0gZXZlbnRzICYmIGV2ZW50c1tldmVudE5hbWVdLFxuICAgICAgICBpbmRleDtcblxuICAgIGlmICghZXZlbnRDYWNoZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgaW5kZXggPSBldmVudENhY2hlLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgZXZlbnRDYWNoZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlYWNoKGV2ZW50Q2FjaGUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudCk7XG4gICAgICB9KTtcbiAgICAgIGV2ZW50Q2FjaGUgPSBbXTtcbiAgICB9XG4gIH1cblxuICBmbi5leHRlbmQoe1xuICAgIG9mZjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUV2ZW50KHYsIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBkZWxlZ2F0ZSwgY2FsbGJhY2ssIHJ1bk9uY2UpIHtcbiAgICAgIC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2s7XG4gICAgICBpZiAoIWlzU3RyaW5nKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGV2ZW50TmFtZSkge1xuICAgICAgICAgIHRoaXMub24oa2V5LCBkZWxlZ2F0ZSwgZXZlbnROYW1lW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihkZWxlZ2F0ZSkpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBkZWxlZ2F0ZTtcbiAgICAgICAgZGVsZWdhdGUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnROYW1lID09PSBcInJlYWR5XCIpIHtcbiAgICAgICAgb25SZWFkeShjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgb3JpZ2luYWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIHQgPSBlLnRhcmdldDtcbiAgICAgICAgICB3aGlsZSAoIW1hdGNoZXModCwgZGVsZWdhdGUpKSB7XG4gICAgICAgICAgICBpZiAodCA9PT0gdGhpcyB8fCB0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsQ2FsbGJhY2suY2FsbCh0LCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIGZpbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHJ1bk9uY2UpIHtcbiAgICAgICAgICBmaW5hbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHYsIGV2ZW50TmFtZSwgZmluYWxDYWxsYmFjayk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlckV2ZW50KHYsIGV2ZW50TmFtZSwgZmluYWxDYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgb25lOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBkZWxlZ2F0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLm9uKGV2ZW50TmFtZSwgZGVsZWdhdGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgcmVhZHk6IG9uUmVhZHksXG5cbiAgICAvKipcbiAgICAgKiBNb2RpZmllZFxuICAgICAqIFRyaWdnZXJzIGJyb3dzZXIgZXZlbnRcbiAgICAgKiBAcGFyYW0gU3RyaW5nIGV2ZW50TmFtZVxuICAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIEFkZCBwcm9wZXJ0aWVzIHRvIGV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIHRyaWdnZXI6IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcbiAgICAgICAgZXZ0LmluaXRFdmVudChldmVudE5hbWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgZXZ0ID0gdGhpcy5leHRlbmQoZXZ0LCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2LmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZShuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiBcIiZcIiArIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKC8lMjAvZywgXCIrXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0TXVsdGlwbGVfKGVsKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGVhY2goZWwub3B0aW9ucywgZnVuY3Rpb24gKG8pIHtcbiAgICAgIGlmIChvLnNlbGVjdGVkKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKG8udmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdFNpbmdsZV8oZWwpIHtcbiAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IGVsLnNlbGVjdGVkSW5kZXg7XG4gICAgcmV0dXJuIHNlbGVjdGVkSW5kZXggPj0gMCA/IGVsLm9wdGlvbnNbc2VsZWN0ZWRJbmRleF0udmFsdWUgOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgICB2YXIgdHlwZSA9IGVsLnR5cGU7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgXCJzZWxlY3Qtb25lXCI6XG4gICAgICAgIHJldHVybiBnZXRTZWxlY3RTaW5nbGVfKGVsKTtcbiAgICAgIGNhc2UgXCJzZWxlY3QtbXVsdGlwbGVcIjpcbiAgICAgICAgcmV0dXJuIGdldFNlbGVjdE11bHRpcGxlXyhlbCk7XG4gICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgcmV0dXJuIGVsLmNoZWNrZWQgPyBlbC52YWx1ZSA6IG51bGw7XG4gICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgcmV0dXJuIGVsLmNoZWNrZWQgPyBlbC52YWx1ZSA6IG51bGw7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZWwudmFsdWUgPyBlbC52YWx1ZSA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBxdWVyeSA9IFwiXCI7XG5cbiAgICAgIGVhY2godGhpc1swXS5lbGVtZW50cyB8fCB0aGlzLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgaWYgKGVsLmRpc2FibGVkIHx8IGVsLnRhZ05hbWUgPT09IFwiRklFTERTRVRcIikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IGVsLm5hbWU7XG4gICAgICAgIHN3aXRjaCAoZWwudHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgICBjYXNlIFwic3VibWl0XCI6XG4gICAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNlbGVjdC1tdWx0aXBsZVwiOlxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldFZhbHVlKGVsKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZWFjaCh2YWx1ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IGVuY29kZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBxdWVyeSArPSBlbmNvZGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHF1ZXJ5LnN1YnN0cigxKTtcbiAgICB9LFxuXG4gICAgdmFsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBnZXRWYWx1ZSh0aGlzWzBdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGluc2VydEVsZW1lbnQoZWwsIGNoaWxkLCBwcmVwZW5kKSB7XG4gICAgaWYgKHByZXBlbmQpIHtcbiAgICAgIHZhciBmaXJzdCA9IGVsLmNoaWxkTm9kZXNbMF07XG4gICAgICBlbC5pbnNlcnRCZWZvcmUoY2hpbGQsIGZpcnN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydENvbnRlbnQocGFyZW50LCBjaGlsZCwgcHJlcGVuZCkge1xuICAgIHZhciBzdHIgPSBpc1N0cmluZyhjaGlsZCk7XG5cbiAgICBpZiAoIXN0ciAmJiBjaGlsZC5sZW5ndGgpIHtcbiAgICAgIGVhY2goY2hpbGQsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRDb250ZW50KHBhcmVudCwgdiwgcHJlcGVuZCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlYWNoKHBhcmVudCwgc3RyID8gZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiB2Lmluc2VydEFkamFjZW50SFRNTChwcmVwZW5kID8gXCJhZnRlcmJlZ2luXCIgOiBcImJlZm9yZWVuZFwiLCBjaGlsZCk7XG4gICAgfSA6IGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICByZXR1cm4gaW5zZXJ0RWxlbWVudCh2LCBpID09PSAwID8gY2hpbGQgOiBjaGlsZC5jbG9uZU5vZGUodHJ1ZSksIHByZXBlbmQpO1xuICAgIH0pO1xuICB9XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBhZnRlcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICBjYXNoKHNlbGVjdG9yKS5pbnNlcnRBZnRlcih0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBhcHBlbmQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICBpbnNlcnRDb250ZW50KHRoaXMsIGNvbnRlbnQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGFwcGVuZFRvOiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICBpbnNlcnRDb250ZW50KGNhc2gocGFyZW50KSwgdGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgYmVmb3JlOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGNhc2goc2VsZWN0b3IpLmluc2VydEJlZm9yZSh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhc2godGhpcy5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHYuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgfSkpO1xuICAgIH0sXG5cbiAgICBlbXB0eTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5odG1sKFwiXCIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGh0bWw6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdLmlubmVySFRNTDtcbiAgICAgIH1cbiAgICAgIHZhciBzb3VyY2UgPSBjb250ZW50Lm5vZGVUeXBlID8gY29udGVudFswXS5vdXRlckhUTUwgOiBjb250ZW50O1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi5pbm5lckhUTUwgPSBzb3VyY2U7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgY2FzaChzZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGUsXG4gICAgICAgICAgICBzaWJsaW5nID0gZWwubmV4dFNpYmxpbmc7XG4gICAgICAgIF90aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGkgPT09IDAgPyB2IDogdi5jbG9uZU5vZGUodHJ1ZSksIHNpYmxpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgY2FzaChzZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICAgIF90aGlzMi5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpID09PSAwID8gdiA6IHYuY2xvbmVOb2RlKHRydWUpLCBlbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcHJlcGVuZDogZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgIGluc2VydENvbnRlbnQodGhpcywgY29udGVudCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcHJlcGVuZFRvOiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICBpbnNlcnRDb250ZW50KGNhc2gocGFyZW50KSwgdGhpcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGlmICghIXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHJldHVybiB2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICB0ZXh0OiBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpc1swXS50ZXh0Q29udGVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHYudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHZhciBkb2NFbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgZm4uZXh0ZW5kKHtcbiAgICBwb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGVsLm9mZnNldExlZnQsXG4gICAgICAgIHRvcDogZWwub2Zmc2V0VG9wXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBvZmZzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWN0ID0gdGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbC5jbGllbnRUb3AsXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsLmNsaWVudExlZnRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIG9mZnNldFBhcmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhc2godGhpc1swXS5vZmZzZXRQYXJlbnQpO1xuICAgIH1cblxuICB9KTtcblxuICBmbi5leHRlbmQoe1xuICAgIGNoaWxkcmVuOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIHZhciBlbGVtcyA9IFtdO1xuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBwdXNoLmFwcGx5KGVsZW1zLCBlbC5jaGlsZHJlbik7XG4gICAgICB9KTtcbiAgICAgIGVsZW1zID0gdW5pcXVlKGVsZW1zKTtcblxuICAgICAgcmV0dXJuICFzZWxlY3RvciA/IGVsZW1zIDogZWxlbXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzKHYsIHNlbGVjdG9yKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjbG9zZXN0OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICghc2VsZWN0b3IgfHwgdGhpcy5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiBjYXNoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnBhcmVudCgpLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIH0sXG5cbiAgICBpczogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1hdGNoID0gZmFsc2UsXG4gICAgICAgICAgY29tcGFyYXRvciA9IGdldENvbXBhcmVGdW5jdGlvbihzZWxlY3Rvcik7XG5cbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgbWF0Y2ggPSBjb21wYXJhdG9yKGVsLCBzZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiAhbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0sXG5cbiAgICBmaW5kOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3Iubm9kZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNhc2goc2VsZWN0b3IgJiYgdGhpcy5oYXMoc2VsZWN0b3IpLmxlbmd0aCA/IHNlbGVjdG9yIDogbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtcyA9IFtdO1xuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBwdXNoLmFwcGx5KGVsZW1zLCBmaW5kKHNlbGVjdG9yLCBlbCkpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1bmlxdWUoZWxlbXMpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBpc1N0cmluZyhzZWxlY3RvcikgPyBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgcmV0dXJuIGZpbmQoc2VsZWN0b3IsIGVsKS5sZW5ndGggIT09IDA7XG4gICAgICB9IDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5jb250YWlucyhzZWxlY3Rvcik7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoY29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjYXNoKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICB9LFxuXG4gICAgbm90OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21wYXJhdG9yID0gZ2V0Q29tcGFyZUZ1bmN0aW9uKHNlbGVjdG9yKTtcblxuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICByZXR1cm4gIWNvbXBhcmF0b3IoZWwsIHNlbGVjdG9yKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBwYXJlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtICYmIGl0ZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0ucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdW5pcXVlKHJlc3VsdCk7XG4gICAgfSxcblxuICAgIHBhcmVudHM6IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgdmFyIGxhc3QsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBsYXN0ID0gaXRlbTtcblxuICAgICAgICB3aGlsZSAobGFzdCAmJiBsYXN0LnBhcmVudE5vZGUgJiYgbGFzdCAhPT0gZG9jLmJvZHkucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGxhc3QgPSBsYXN0LnBhcmVudE5vZGU7XG5cbiAgICAgICAgICBpZiAoIXNlbGVjdG9yIHx8IHNlbGVjdG9yICYmIG1hdGNoZXMobGFzdCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChsYXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdW5pcXVlKHJlc3VsdCk7XG4gICAgfSxcblxuICAgIHByZXY6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjYXNoKHRoaXNbMF0ucHJldmlvdXNFbGVtZW50U2libGluZyk7XG4gICAgfSxcblxuICAgIHNpYmxpbmdzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5wYXJlbnQoKS5jaGlsZHJlbihzZWxlY3RvciksXG4gICAgICAgICAgZWwgPSB0aGlzWzBdO1xuXG4gICAgICByZXR1cm4gY29sbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkgIT09IGVsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHJldHVybiBjYXNoO1xufSk7XG47XG52YXIgQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogR2VuZXJpYyBjb25zdHJ1Y3RvciBmb3IgYWxsIGNvbXBvbmVudHNcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIENvbXBvbmVudChjbGFzc0RlZiwgZWwsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50KTtcblxuICAgIC8vIERpc3BsYXkgZXJyb3IgaWYgZWwgaXMgdmFsaWQgSFRNTCBFbGVtZW50XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgY29uc29sZS5lcnJvcihFcnJvcihlbCArICcgaXMgbm90IGFuIEhUTUwgRWxlbWVudCcpKTtcbiAgICB9XG5cbiAgICAvLyBJZiBleGlzdHMsIGRlc3Ryb3kgYW5kIHJlaW5pdGlhbGl6ZSBpbiBjaGlsZFxuICAgIHZhciBpbnMgPSBjbGFzc0RlZi5nZXRJbnN0YW5jZShlbCk7XG4gICAgaWYgKCEhaW5zKSB7XG4gICAgICBpbnMuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLiRlbCA9IGNhc2goZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHtjbGFzc30gY2xhc3NEZWZcbiAgICogQHBhcmFtIHtFbGVtZW50IHwgTm9kZUxpc3QgfCBqUXVlcnl9IGVsc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDb21wb25lbnQsIG51bGwsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChjbGFzc0RlZiwgZWxzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgaW5zdGFuY2VzID0gbnVsbDtcbiAgICAgIGlmIChlbHMgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIGluc3RhbmNlcyA9IG5ldyBjbGFzc0RlZihlbHMsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmICghIWVscyAmJiAoZWxzLmpxdWVyeSB8fCBlbHMuY2FzaCB8fCBlbHMgaW5zdGFuY2VvZiBOb2RlTGlzdCkpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlc0FyciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGluc3RhbmNlc0Fyci5wdXNoKG5ldyBjbGFzc0RlZihlbHNbaV0sIG9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZXMgPSBpbnN0YW5jZXNBcnI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn0oKTtcblxuOyAvLyBSZXF1aXJlZCBmb3IgTWV0ZW9yIHBhY2thZ2UsIHRoZSB1c2Ugb2Ygd2luZG93IHByZXZlbnRzIGV4cG9ydCBieSBNZXRlb3JcbihmdW5jdGlvbiAod2luZG93KSB7XG4gIGlmICh3aW5kb3cuUGFja2FnZSkge1xuICAgIE0gPSB7fTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuTSA9IHt9O1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGpRdWVyeVxuICBNLmpRdWVyeUxvYWRlZCA9ICEhd2luZG93LmpRdWVyeTtcbn0pKHdpbmRvdyk7XG5cbi8vIEFNRFxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoJ00nLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNO1xuICB9KTtcblxuICAvLyBDb21tb24gSlNcbn0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmICFleHBvcnRzLm5vZGVUeXBlKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gTTtcbiAgfVxuICBleHBvcnRzLmRlZmF1bHQgPSBNO1xufVxuXG5NLnZlcnNpb24gPSAnMS4wLjAnO1xuXG5NLmtleXMgPSB7XG4gIFRBQjogOSxcbiAgRU5URVI6IDEzLFxuICBFU0M6IDI3LFxuICBBUlJPV19VUDogMzgsXG4gIEFSUk9XX0RPV046IDQwXG59O1xuXG4vKipcbiAqIFRhYlByZXNzIEtleWRvd24gaGFuZGxlclxuICovXG5NLnRhYlByZXNzZWQgPSBmYWxzZTtcbk0ua2V5RG93biA9IGZhbHNlO1xudmFyIGRvY0hhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICBNLmtleURvd24gPSB0cnVlO1xuICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApIHtcbiAgICBNLnRhYlByZXNzZWQgPSB0cnVlO1xuICB9XG59O1xudmFyIGRvY0hhbmRsZUtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgTS5rZXlEb3duID0gZmFsc2U7XG4gIGlmIChlLndoaWNoID09PSBNLmtleXMuVEFCIHx8IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOIHx8IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19VUCkge1xuICAgIE0udGFiUHJlc3NlZCA9IGZhbHNlO1xuICB9XG59O1xudmFyIGRvY0hhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKE0ua2V5RG93bikge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgna2V5Ym9hcmQtZm9jdXNlZCcpO1xuICB9XG59O1xudmFyIGRvY0hhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2tleWJvYXJkLWZvY3VzZWQnKTtcbn07XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZG9jSGFuZGxlS2V5ZG93biwgdHJ1ZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGRvY0hhbmRsZUtleXVwLCB0cnVlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZG9jSGFuZGxlRm9jdXMsIHRydWUpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGRvY0hhbmRsZUJsdXIsIHRydWUpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgalF1ZXJ5IHdyYXBwZXIgZm9yIHBsdWdpblxuICogQHBhcmFtIHtDbGFzc30gcGx1Z2luICBqYXZhc2NyaXB0IGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAgalF1ZXJ5IHBsdWdpbiBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NSZWYgIENsYXNzIHJlZmVyZW5jZSBuYW1lXG4gKi9cbk0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIgPSBmdW5jdGlvbiAocGx1Z2luLCBwbHVnaW5OYW1lLCBjbGFzc1JlZikge1xuICBqUXVlcnkuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbiAobWV0aG9kT3JPcHRpb25zKSB7XG4gICAgLy8gQ2FsbCBwbHVnaW4gbWV0aG9kIGlmIHZhbGlkIG1ldGhvZCBuYW1lIGlzIHBhc3NlZCBpblxuICAgIGlmIChwbHVnaW4ucHJvdG90eXBlW21ldGhvZE9yT3B0aW9uc10pIHtcbiAgICAgIHZhciBwYXJhbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgICAvLyBHZXR0ZXIgbWV0aG9kc1xuICAgICAgaWYgKG1ldGhvZE9yT3B0aW9ucy5zbGljZSgwLCAzKSA9PT0gJ2dldCcpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5maXJzdCgpWzBdW2NsYXNzUmVmXTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZE9yT3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZvaWQgbWV0aG9kc1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXNbY2xhc3NSZWZdO1xuICAgICAgICBpbnN0YW5jZVttZXRob2RPck9wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgcGx1Z2luIGlmIG9wdGlvbnMgb3Igbm8gYXJndW1lbnQgaXMgcGFzc2VkIGluXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kT3JPcHRpb25zID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kT3JPcHRpb25zKSB7XG4gICAgICBwbHVnaW4uaW5pdCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGVycm9yIGlmIGFuIHVucmVjb2duaXplZCAgbWV0aG9kIG5hbWUgaXMgcGFzc2VkIGluXG4gICAgalF1ZXJ5LmVycm9yKFwiTWV0aG9kIFwiICsgbWV0aG9kT3JPcHRpb25zICsgXCIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LlwiICsgcGx1Z2luTmFtZSk7XG4gIH07XG59O1xuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgaW5pdGlhbGl6ZSBjb21wb25lbnRzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHQgIERPTSBFbGVtZW50IHRvIHNlYXJjaCB3aXRoaW4gZm9yIGNvbXBvbmVudHNcbiAqL1xuTS5BdXRvSW5pdCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gIC8vIFVzZSBkb2N1bWVudC5ib2R5IGlmIG5vIGNvbnRleHQgaXMgZ2l2ZW5cbiAgdmFyIHJvb3QgPSAhIWNvbnRleHQgPyBjb250ZXh0IDogZG9jdW1lbnQuYm9keTtcblxuICB2YXIgcmVnaXN0cnkgPSB7XG4gICAgQXV0b2NvbXBsZXRlOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRvY29tcGxldGU6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBDYXJvdXNlbDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWw6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBDaGlwczogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hpcHM6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBDb2xsYXBzaWJsZTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGFwc2libGU6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBEYXRlcGlja2VyOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXRlcGlja2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRHJvcGRvd246IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duLXRyaWdnZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBNYXRlcmlhbGJveDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubWF0ZXJpYWxib3hlZDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIE1vZGFsOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFBhcmFsbGF4OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJhbGxheDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFB1c2hwaW46IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnB1c2hwaW46bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBTY3JvbGxTcHk6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnNjcm9sbHNweTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIEZvcm1TZWxlY3Q6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnc2VsZWN0Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgU2lkZW5hdjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2lkZW5hdjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRhYnM6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRhYnM6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBUYXBUYXJnZXQ6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRhcC10YXJnZXQ6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBUaW1lcGlja2VyOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aW1lcGlja2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgVG9vbHRpcDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcHBlZDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIEZsb2F0aW5nQWN0aW9uQnV0dG9uOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maXhlZC1hY3Rpb24tYnRuOm5vdCgubm8tYXV0b2luaXQpJylcbiAgfTtcblxuICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIHJlZ2lzdHJ5KSB7XG4gICAgdmFyIHBsdWdpbiA9IE1bcGx1Z2luTmFtZV07XG4gICAgcGx1Z2luLmluaXQocmVnaXN0cnlbcGx1Z2luTmFtZV0pO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGFwcHJveGltYXRlZCBzZWxlY3RvciBzdHJpbmcgZm9yIGEgalF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtqUXVlcnl9IG9iaiAgalF1ZXJ5IG9iamVjdCB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk0ub2JqZWN0U2VsZWN0b3JTdHJpbmcgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciB0YWdTdHIgPSBvYmoucHJvcCgndGFnTmFtZScpIHx8ICcnO1xuICB2YXIgaWRTdHIgPSBvYmouYXR0cignaWQnKSB8fCAnJztcbiAgdmFyIGNsYXNzU3RyID0gb2JqLmF0dHIoJ2NsYXNzJykgfHwgJyc7XG4gIHJldHVybiAodGFnU3RyICsgaWRTdHIgKyBjbGFzc1N0cikucmVwbGFjZSgvXFxzL2csICcnKTtcbn07XG5cbi8vIFVuaXF1ZSBSYW5kb20gSURcbk0uZ3VpZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gczQoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XG4gIH07XG59KCk7XG5cbi8qKlxuICogRXNjYXBlcyBoYXNoIGZyb20gc3BlY2lhbCBjaGFyYWN0ZXJzXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCAgU3RyaW5nIHJldHVybmVkIGZyb20gdGhpcy5oYXNoXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5NLmVzY2FwZUhhc2ggPSBmdW5jdGlvbiAoaGFzaCkge1xuICByZXR1cm4gaGFzaC5yZXBsYWNlKC8oOnxcXC58XFxbfFxcXXwsfD18XFwvKS9nLCAnXFxcXCQxJyk7XG59O1xuXG5NLmVsZW1lbnRPclBhcmVudElzRml4ZWQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICB2YXIgJGNoZWNrRWxlbWVudHMgPSAkZWxlbWVudC5hZGQoJGVsZW1lbnQucGFyZW50cygpKTtcbiAgdmFyIGlzRml4ZWQgPSBmYWxzZTtcbiAgJGNoZWNrRWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQodGhpcykuY3NzKCdwb3NpdGlvbicpID09PSAnZml4ZWQnKSB7XG4gICAgICBpc0ZpeGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaXNGaXhlZDtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRWRnZXNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdG9wICBJZiB0aGUgdG9wIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHJpZ2h0ICBJZiB0aGUgcmlnaHQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYm90dG9tICBJZiB0aGUgYm90dG9tIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGxlZnQgIElmIHRoZSBsZWZ0IGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCb3VuZGluZ1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGxlZnQgIGxlZnQgb2Zmc2V0IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB0b3AgIHRvcCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge051bWJlcn0gaGVpZ2h0XG4gKi9cblxuLyoqXG4gKiBFc2NhcGVzIGhhc2ggZnJvbSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyICBDb250YWluZXIgZWxlbWVudCB0aGF0IGFjdHMgYXMgdGhlIGJvdW5kYXJ5XG4gKiBAcGFyYW0ge0JvdW5kaW5nfSBib3VuZGluZyAgZWxlbWVudCBib3VuZGluZyB0aGF0IGlzIGJlaW5nIGNoZWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgIG9mZnNldCBmcm9tIGVkZ2UgdGhhdCBjb3VudHMgYXMgZXhjZWVkaW5nXG4gKiBAcmV0dXJucyB7RWRnZXN9XG4gKi9cbk0uY2hlY2tXaXRoaW5Db250YWluZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBib3VuZGluZywgb2Zmc2V0KSB7XG4gIHZhciBlZGdlcyA9IHtcbiAgICB0b3A6IGZhbHNlLFxuICAgIHJpZ2h0OiBmYWxzZSxcbiAgICBib3R0b206IGZhbHNlLFxuICAgIGxlZnQ6IGZhbHNlXG4gIH07XG5cbiAgdmFyIGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIC8vIElmIGJvZHkgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdmlld3BvcnQsIHVzZSB2aWV3cG9ydCBoZWlnaHQgaW5zdGVhZC5cbiAgdmFyIGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSA/IE1hdGgubWF4KGNvbnRhaW5lclJlY3QuYm90dG9tLCB3aW5kb3cuaW5uZXJIZWlnaHQpIDogY29udGFpbmVyUmVjdC5ib3R0b207XG5cbiAgdmFyIHNjcm9sbExlZnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgdmFyIHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG5cbiAgdmFyIHNjcm9sbGVkWCA9IGJvdW5kaW5nLmxlZnQgLSBzY3JvbGxMZWZ0O1xuICB2YXIgc2Nyb2xsZWRZID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xuXG4gIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBlYWNoIGVkZ2VcbiAgaWYgKHNjcm9sbGVkWCA8IGNvbnRhaW5lclJlY3QubGVmdCArIG9mZnNldCB8fCBzY3JvbGxlZFggPCBvZmZzZXQpIHtcbiAgICBlZGdlcy5sZWZ0ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCA+IGNvbnRhaW5lclJlY3QucmlnaHQgLSBvZmZzZXQgfHwgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIG9mZnNldCkge1xuICAgIGVkZ2VzLnJpZ2h0ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzY3JvbGxlZFkgPCBjb250YWluZXJSZWN0LnRvcCArIG9mZnNldCB8fCBzY3JvbGxlZFkgPCBvZmZzZXQpIHtcbiAgICBlZGdlcy50b3AgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHNjcm9sbGVkWSArIGJvdW5kaW5nLmhlaWdodCA+IGNvbnRhaW5lckJvdHRvbSAtIG9mZnNldCB8fCBzY3JvbGxlZFkgKyBib3VuZGluZy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSBvZmZzZXQpIHtcbiAgICBlZGdlcy5ib3R0b20gPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGVkZ2VzO1xufTtcblxuTS5jaGVja1Bvc3NpYmxlQWxpZ25tZW50cyA9IGZ1bmN0aW9uIChlbCwgY29udGFpbmVyLCBib3VuZGluZywgb2Zmc2V0KSB7XG4gIHZhciBjYW5BbGlnbiA9IHtcbiAgICB0b3A6IHRydWUsXG4gICAgcmlnaHQ6IHRydWUsXG4gICAgYm90dG9tOiB0cnVlLFxuICAgIGxlZnQ6IHRydWUsXG4gICAgc3BhY2VPblRvcDogbnVsbCxcbiAgICBzcGFjZU9uUmlnaHQ6IG51bGwsXG4gICAgc3BhY2VPbkJvdHRvbTogbnVsbCxcbiAgICBzcGFjZU9uTGVmdDogbnVsbFxuICB9O1xuXG4gIHZhciBjb250YWluZXJBbGxvd3NPdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS5vdmVyZmxvdyA9PT0gJ3Zpc2libGUnO1xuICB2YXIgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIGNvbnRhaW5lckhlaWdodCA9IE1hdGgubWluKGNvbnRhaW5lclJlY3QuaGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICB2YXIgY29udGFpbmVyV2lkdGggPSBNYXRoLm1pbihjb250YWluZXJSZWN0LndpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gIHZhciBlbE9mZnNldFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB2YXIgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICB2YXIgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICB2YXIgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XG4gIHZhciBzY3JvbGxlZFlUb3BFZGdlID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xuICB2YXIgc2Nyb2xsZWRZQm90dG9tRWRnZSA9IGJvdW5kaW5nLnRvcCArIGVsT2Zmc2V0UmVjdC5oZWlnaHQgLSBzY3JvbGxUb3A7XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGxlZnRcbiAgY2FuQWxpZ24uc3BhY2VPblJpZ2h0ID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93ID8gY29udGFpbmVyV2lkdGggLSAoc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGgpIDogd2luZG93LmlubmVyV2lkdGggLSAoZWxPZmZzZXRSZWN0LmxlZnQgKyBib3VuZGluZy53aWR0aCk7XG4gIGlmIChjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPCAwKSB7XG4gICAgY2FuQWxpZ24ubGVmdCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIFJpZ2h0XG4gIGNhbkFsaWduLnNwYWNlT25MZWZ0ID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93ID8gc2Nyb2xsZWRYIC0gYm91bmRpbmcud2lkdGggKyBlbE9mZnNldFJlY3Qud2lkdGggOiBlbE9mZnNldFJlY3QucmlnaHQgLSBib3VuZGluZy53aWR0aDtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25MZWZ0IDwgMCkge1xuICAgIGNhbkFsaWduLnJpZ2h0ID0gZmFsc2U7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgVG9wXG4gIGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPyBjb250YWluZXJIZWlnaHQgLSAoc2Nyb2xsZWRZVG9wRWRnZSArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCkgOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAoZWxPZmZzZXRSZWN0LnRvcCArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCk7XG4gIGlmIChjYW5BbGlnbi5zcGFjZU9uQm90dG9tIDwgMCkge1xuICAgIGNhbkFsaWduLnRvcCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIEJvdHRvbVxuICBjYW5BbGlnbi5zcGFjZU9uVG9wID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93ID8gc2Nyb2xsZWRZQm90dG9tRWRnZSAtIChib3VuZGluZy5oZWlnaHQgLSBvZmZzZXQpIDogZWxPZmZzZXRSZWN0LmJvdHRvbSAtIChib3VuZGluZy5oZWlnaHQgKyBvZmZzZXQpO1xuICBpZiAoY2FuQWxpZ24uc3BhY2VPblRvcCA8IDApIHtcbiAgICBjYW5BbGlnbi5ib3R0b20gPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBjYW5BbGlnbjtcbn07XG5cbk0uZ2V0T3ZlcmZsb3dQYXJlbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoZWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLm92ZXJmbG93ICE9PSAndmlzaWJsZScpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBNLmdldE92ZXJmbG93UGFyZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG59O1xuXG4vKipcbiAqIEdldHMgaWQgb2YgY29tcG9uZW50IGZyb20gYSB0cmlnZ2VyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRyaWdnZXIgIHRyaWdnZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk0uZ2V0SWRGcm9tVHJpZ2dlciA9IGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gIHZhciBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuICBpZiAoIWlkKSB7XG4gICAgaWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIGlmIChpZCkge1xuICAgICAgaWQgPSBpZC5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWQgPSAnJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkO1xufTtcblxuLyoqXG4gKiBNdWx0aSBicm93c2VyIHN1cHBvcnQgZm9yIGRvY3VtZW50IHNjcm9sbCB0b3BcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbk0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xufTtcblxuLyoqXG4gKiBNdWx0aSBicm93c2VyIHN1cHBvcnQgZm9yIGRvY3VtZW50IHNjcm9sbCBsZWZ0XG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5NLmdldERvY3VtZW50U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRWRnZXNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdG9wICBJZiB0aGUgdG9wIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHJpZ2h0ICBJZiB0aGUgcmlnaHQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYm90dG9tICBJZiB0aGUgYm90dG9tIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGxlZnQgIElmIHRoZSBsZWZ0IGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCb3VuZGluZ1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGxlZnQgIGxlZnQgb2Zmc2V0IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB0b3AgIHRvcCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge051bWJlcn0gaGVpZ2h0XG4gKi9cblxuLyoqXG4gKiBHZXQgdGltZSBpbiBtc1xuICogQGxpY2Vuc2UgaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9tYXN0ZXIvTElDRU5TRVxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG52YXIgZ2V0VGltZSA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAqIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICogYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICogYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAqIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9tYXN0ZXIvTElDRU5TRVxuICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1xuICogQHBhcmFtIHtudW1iZXJ9IHdhaXRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5NLnRocm90dGxlID0gZnVuY3Rpb24gKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGNvbnRleHQgPSB2b2lkIDAsXG4gICAgICBhcmdzID0gdm9pZCAwLFxuICAgICAgcmVzdWx0ID0gdm9pZCAwO1xuICB2YXIgdGltZW91dCA9IG51bGw7XG4gIHZhciBwcmV2aW91cyA9IDA7XG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIHZhciBsYXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogZ2V0VGltZSgpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub3cgPSBnZXRUaW1lKCk7XG4gICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgY29udGV4dCA9IHRoaXM7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcbjsgLypcbiAgdjIuMi4wXG4gIDIwMTcgSnVsaWFuIEdhcm5pZXJcbiAgUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gICovXG52YXIgJGpzY29tcCA9IHsgc2NvcGU6IHt9IH07JGpzY29tcC5kZWZpbmVQcm9wZXJ0eSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiAoZSwgciwgcCkge1xuICBpZiAocC5nZXQgfHwgcC5zZXQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFUzMgZG9lcyBub3Qgc3VwcG9ydCBnZXR0ZXJzIGFuZCBzZXR0ZXJzLlwiKTtlICE9IEFycmF5LnByb3RvdHlwZSAmJiBlICE9IE9iamVjdC5wcm90b3R5cGUgJiYgKGVbcl0gPSBwLnZhbHVlKTtcbn07JGpzY29tcC5nZXRHbG9iYWwgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyA9PT0gZSA/IGUgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnbG9iYWwgJiYgbnVsbCAhPSBnbG9iYWwgPyBnbG9iYWwgOiBlO1xufTskanNjb21wLmdsb2JhbCA9ICRqc2NvbXAuZ2V0R2xvYmFsKHRoaXMpOyRqc2NvbXAuU1lNQk9MX1BSRUZJWCA9IFwianNjb21wX3N5bWJvbF9cIjtcbiRqc2NvbXAuaW5pdFN5bWJvbCA9IGZ1bmN0aW9uICgpIHtcbiAgJGpzY29tcC5pbml0U3ltYm9sID0gZnVuY3Rpb24gKCkge307JGpzY29tcC5nbG9iYWwuU3ltYm9sIHx8ICgkanNjb21wLmdsb2JhbC5TeW1ib2wgPSAkanNjb21wLlN5bWJvbCk7XG59OyRqc2NvbXAuc3ltYm9sQ291bnRlcl8gPSAwOyRqc2NvbXAuU3ltYm9sID0gZnVuY3Rpb24gKGUpIHtcbiAgcmV0dXJuICRqc2NvbXAuU1lNQk9MX1BSRUZJWCArIChlIHx8IFwiXCIpICsgJGpzY29tcC5zeW1ib2xDb3VudGVyXysrO1xufTtcbiRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAkanNjb21wLmluaXRTeW1ib2woKTt2YXIgZSA9ICRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcjtlIHx8IChlID0gJGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yID0gJGpzY29tcC5nbG9iYWwuU3ltYm9sKFwiaXRlcmF0b3JcIikpO1wiZnVuY3Rpb25cIiAhPSB0eXBlb2YgQXJyYXkucHJvdG90eXBlW2VdICYmICRqc2NvbXAuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBlLCB7IGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkanNjb21wLmFycmF5SXRlcmF0b3IodGhpcyk7XG4gICAgfSB9KTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHt9O1xufTskanNjb21wLmFycmF5SXRlcmF0b3IgPSBmdW5jdGlvbiAoZSkge1xuICB2YXIgciA9IDA7cmV0dXJuICRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByIDwgZS5sZW5ndGggPyB7IGRvbmU6ICExLCB2YWx1ZTogZVtyKytdIH0gOiB7IGRvbmU6ICEwIH07XG4gIH0pO1xufTtcbiRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAoZSkge1xuICAkanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpO2UgPSB7IG5leHQ6IGUgfTtlWyRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07cmV0dXJuIGU7XG59OyRqc2NvbXAuYXJyYXkgPSAkanNjb21wLmFycmF5IHx8IHt9OyRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkgPSBmdW5jdGlvbiAoZSwgcikge1xuICAkanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcigpO2UgaW5zdGFuY2VvZiBTdHJpbmcgJiYgKGUgKz0gXCJcIik7dmFyIHAgPSAwLFxuICAgICAgbSA9IHsgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHAgPCBlLmxlbmd0aCkge1xuICAgICAgICB2YXIgdSA9IHArKztyZXR1cm4geyB2YWx1ZTogcih1LCBlW3VdKSwgZG9uZTogITEgfTtcbiAgICAgIH1tLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IGRvbmU6ICEwLCB2YWx1ZTogdm9pZCAwIH07XG4gICAgICB9O3JldHVybiBtLm5leHQoKTtcbiAgICB9IH07bVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBtO1xuICB9O3JldHVybiBtO1xufTtcbiRqc2NvbXAucG9seWZpbGwgPSBmdW5jdGlvbiAoZSwgciwgcCwgbSkge1xuICBpZiAocikge1xuICAgIHAgPSAkanNjb21wLmdsb2JhbDtlID0gZS5zcGxpdChcIi5cIik7Zm9yIChtID0gMDsgbSA8IGUubGVuZ3RoIC0gMTsgbSsrKSB7XG4gICAgICB2YXIgdSA9IGVbbV07dSBpbiBwIHx8IChwW3VdID0ge30pO3AgPSBwW3VdO1xuICAgIH1lID0gZVtlLmxlbmd0aCAtIDFdO20gPSBwW2VdO3IgPSByKG0pO3IgIT0gbSAmJiBudWxsICE9IHIgJiYgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShwLCBlLCB7IGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IHIgfSk7XG4gIH1cbn07JGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5rZXlzXCIsIGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBlID8gZSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvckZyb21BcnJheSh0aGlzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfSk7XG4gIH07XG59LCBcImVzNi1pbXBsXCIsIFwiZXMzXCIpO3ZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuKGZ1bmN0aW9uIChyKSB7XG4gIE0uYW5pbWUgPSByKCk7XG59KShmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGUoYSkge1xuICAgIGlmICghaC5jb2woYSkpIHRyeSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhKTtcbiAgICB9IGNhdGNoIChjKSB7fVxuICB9ZnVuY3Rpb24gcihhLCBjKSB7XG4gICAgZm9yICh2YXIgZCA9IGEubGVuZ3RoLCBiID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gYXJndW1lbnRzWzFdIDogdm9pZCAwLCBmID0gW10sIG4gPSAwOyBuIDwgZDsgbisrKSB7XG4gICAgICBpZiAobiBpbiBhKSB7XG4gICAgICAgIHZhciBrID0gYVtuXTtjLmNhbGwoYiwgaywgbiwgYSkgJiYgZi5wdXNoKGspO1xuICAgICAgfVxuICAgIH1yZXR1cm4gZjtcbiAgfWZ1bmN0aW9uIHAoYSkge1xuICAgIHJldHVybiBhLnJlZHVjZShmdW5jdGlvbiAoYSwgZCkge1xuICAgICAgcmV0dXJuIGEuY29uY2F0KGguYXJyKGQpID8gcChkKSA6IGQpO1xuICAgIH0sIFtdKTtcbiAgfWZ1bmN0aW9uIG0oYSkge1xuICAgIGlmIChoLmFycihhKSkgcmV0dXJuIGE7XG4gICAgaC5zdHIoYSkgJiYgKGEgPSBlKGEpIHx8IGEpO3JldHVybiBhIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgYSBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uID8gW10uc2xpY2UuY2FsbChhKSA6IFthXTtcbiAgfWZ1bmN0aW9uIHUoYSwgYykge1xuICAgIHJldHVybiBhLnNvbWUoZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBhID09PSBjO1xuICAgIH0pO1xuICB9ZnVuY3Rpb24gQyhhKSB7XG4gICAgdmFyIGMgPSB7fSxcbiAgICAgICAgZDtmb3IgKGQgaW4gYSkge1xuICAgICAgY1tkXSA9IGFbZF07XG4gICAgfXJldHVybiBjO1xuICB9ZnVuY3Rpb24gRChhLCBjKSB7XG4gICAgdmFyIGQgPSBDKGEpLFxuICAgICAgICBiO2ZvciAoYiBpbiBhKSB7XG4gICAgICBkW2JdID0gYy5oYXNPd25Qcm9wZXJ0eShiKSA/IGNbYl0gOiBhW2JdO1xuICAgIH1yZXR1cm4gZDtcbiAgfWZ1bmN0aW9uIHooYSwgYykge1xuICAgIHZhciBkID0gQyhhKSxcbiAgICAgICAgYjtmb3IgKGIgaW4gYykge1xuICAgICAgZFtiXSA9IGgudW5kKGFbYl0pID8gY1tiXSA6IGFbYl07XG4gICAgfXJldHVybiBkO1xuICB9ZnVuY3Rpb24gVChhKSB7XG4gICAgYSA9IGEucmVwbGFjZSgvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLCBmdW5jdGlvbiAoYSwgYywgZCwgaykge1xuICAgICAgcmV0dXJuIGMgKyBjICsgZCArIGQgKyBrICsgaztcbiAgICB9KTt2YXIgYyA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhhKTtcbiAgICBhID0gcGFyc2VJbnQoY1sxXSwgMTYpO3ZhciBkID0gcGFyc2VJbnQoY1syXSwgMTYpLFxuICAgICAgICBjID0gcGFyc2VJbnQoY1szXSwgMTYpO3JldHVybiBcInJnYmEoXCIgKyBhICsgXCIsXCIgKyBkICsgXCIsXCIgKyBjICsgXCIsMSlcIjtcbiAgfWZ1bmN0aW9uIFUoYSkge1xuICAgIGZ1bmN0aW9uIGMoYSwgYywgYikge1xuICAgICAgMCA+IGIgJiYgKGIgKz0gMSk7MSA8IGIgJiYgLS1iO3JldHVybiBiIDwgMSAvIDYgPyBhICsgNiAqIChjIC0gYSkgKiBiIDogLjUgPiBiID8gYyA6IGIgPCAyIC8gMyA/IGEgKyAoYyAtIGEpICogKDIgLyAzIC0gYikgKiA2IDogYTtcbiAgICB9dmFyIGQgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhhKSB8fCAvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhhKTthID0gcGFyc2VJbnQoZFsxXSkgLyAzNjA7dmFyIGIgPSBwYXJzZUludChkWzJdKSAvIDEwMCxcbiAgICAgICAgZiA9IHBhcnNlSW50KGRbM10pIC8gMTAwLFxuICAgICAgICBkID0gZFs0XSB8fCAxO2lmICgwID09IGIpIGYgPSBiID0gYSA9IGY7ZWxzZSB7XG4gICAgICB2YXIgbiA9IC41ID4gZiA/IGYgKiAoMSArIGIpIDogZiArIGIgLSBmICogYixcbiAgICAgICAgICBrID0gMiAqIGYgLSBuLFxuICAgICAgICAgIGYgPSBjKGssIG4sIGEgKyAxIC8gMyksXG4gICAgICAgICAgYiA9IGMoaywgbiwgYSk7YSA9IGMoaywgbiwgYSAtIDEgLyAzKTtcbiAgICB9cmV0dXJuIFwicmdiYShcIiArIDI1NSAqIGYgKyBcIixcIiArIDI1NSAqIGIgKyBcIixcIiArIDI1NSAqIGEgKyBcIixcIiArIGQgKyBcIilcIjtcbiAgfWZ1bmN0aW9uIHkoYSkge1xuICAgIGlmIChhID0gLyhbXFwrXFwtXT9bMC05I1xcLl0rKSglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKGEpKSByZXR1cm4gYVsyXTtcbiAgfWZ1bmN0aW9uIFYoYSkge1xuICAgIGlmICgtMSA8IGEuaW5kZXhPZihcInRyYW5zbGF0ZVwiKSB8fCBcInBlcnNwZWN0aXZlXCIgPT09IGEpIHJldHVybiBcInB4XCI7aWYgKC0xIDwgYS5pbmRleE9mKFwicm90YXRlXCIpIHx8IC0xIDwgYS5pbmRleE9mKFwic2tld1wiKSkgcmV0dXJuIFwiZGVnXCI7XG4gIH1mdW5jdGlvbiBJKGEsIGMpIHtcbiAgICByZXR1cm4gaC5mbmMoYSkgPyBhKGMudGFyZ2V0LCBjLmlkLCBjLnRvdGFsKSA6IGE7XG4gIH1mdW5jdGlvbiBFKGEsIGMpIHtcbiAgICBpZiAoYyBpbiBhLnN0eWxlKSByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShhKS5nZXRQcm9wZXJ0eVZhbHVlKGMucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpKSB8fCBcIjBcIjtcbiAgfWZ1bmN0aW9uIEooYSwgYykge1xuICAgIGlmIChoLmRvbShhKSAmJiB1KFcsIGMpKSByZXR1cm4gXCJ0cmFuc2Zvcm1cIjtpZiAoaC5kb20oYSkgJiYgKGEuZ2V0QXR0cmlidXRlKGMpIHx8IGguc3ZnKGEpICYmIGFbY10pKSByZXR1cm4gXCJhdHRyaWJ1dGVcIjtpZiAoaC5kb20oYSkgJiYgXCJ0cmFuc2Zvcm1cIiAhPT0gYyAmJiBFKGEsIGMpKSByZXR1cm4gXCJjc3NcIjtpZiAobnVsbCAhPSBhW2NdKSByZXR1cm4gXCJvYmplY3RcIjtcbiAgfWZ1bmN0aW9uIFgoYSwgYykge1xuICAgIHZhciBkID0gVihjKSxcbiAgICAgICAgZCA9IC0xIDwgYy5pbmRleE9mKFwic2NhbGVcIikgPyAxIDogMCArIGQ7YSA9IGEuc3R5bGUudHJhbnNmb3JtO2lmICghYSkgcmV0dXJuIGQ7Zm9yICh2YXIgYiA9IFtdLCBmID0gW10sIG4gPSBbXSwgayA9IC8oXFx3KylcXCgoLis/KVxcKS9nOyBiID0gay5leGVjKGEpOykge1xuICAgICAgZi5wdXNoKGJbMV0pLCBuLnB1c2goYlsyXSk7XG4gICAgfWEgPSByKG4sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZltiXSA9PT0gYztcbiAgICB9KTtyZXR1cm4gYS5sZW5ndGggPyBhWzBdIDogZDtcbiAgfWZ1bmN0aW9uIEsoYSwgYykge1xuICAgIHN3aXRjaCAoSihhLCBjKSkge2Nhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgcmV0dXJuIFgoYSwgYyk7Y2FzZSBcImNzc1wiOlxuICAgICAgICByZXR1cm4gRShhLCBjKTtjYXNlIFwiYXR0cmlidXRlXCI6XG4gICAgICAgIHJldHVybiBhLmdldEF0dHJpYnV0ZShjKTt9cmV0dXJuIGFbY10gfHwgMDtcbiAgfWZ1bmN0aW9uIEwoYSwgYykge1xuICAgIHZhciBkID0gL14oXFwqPXxcXCs9fC09KS8uZXhlYyhhKTtpZiAoIWQpIHJldHVybiBhO3ZhciBiID0geShhKSB8fCAwO2MgPSBwYXJzZUZsb2F0KGMpO2EgPSBwYXJzZUZsb2F0KGEucmVwbGFjZShkWzBdLCBcIlwiKSk7c3dpdGNoIChkWzBdWzBdKSB7Y2FzZSBcIitcIjpcbiAgICAgICAgcmV0dXJuIGMgKyBhICsgYjtjYXNlIFwiLVwiOlxuICAgICAgICByZXR1cm4gYyAtIGEgKyBiO2Nhc2UgXCIqXCI6XG4gICAgICAgIHJldHVybiBjICogYSArIGI7fVxuICB9ZnVuY3Rpb24gRihhLCBjKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhjLnggLSBhLngsIDIpICsgTWF0aC5wb3coYy55IC0gYS55LCAyKSk7XG4gIH1mdW5jdGlvbiBNKGEpIHtcbiAgICBhID0gYS5wb2ludHM7Zm9yICh2YXIgYyA9IDAsIGQsIGIgPSAwOyBiIDwgYS5udW1iZXJPZkl0ZW1zOyBiKyspIHtcbiAgICAgIHZhciBmID0gYS5nZXRJdGVtKGIpOzAgPCBiICYmIChjICs9IEYoZCwgZikpO2QgPSBmO1xuICAgIH1yZXR1cm4gYztcbiAgfWZ1bmN0aW9uIE4oYSkge1xuICAgIGlmIChhLmdldFRvdGFsTGVuZ3RoKSByZXR1cm4gYS5nZXRUb3RhbExlbmd0aCgpO3N3aXRjaCAoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtjYXNlIFwiY2lyY2xlXCI6XG4gICAgICAgIHJldHVybiAyICogTWF0aC5QSSAqIGEuZ2V0QXR0cmlidXRlKFwiclwiKTtjYXNlIFwicmVjdFwiOlxuICAgICAgICByZXR1cm4gMiAqIGEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgKyAyICogYS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7Y2FzZSBcImxpbmVcIjpcbiAgICAgICAgcmV0dXJuIEYoeyB4OiBhLmdldEF0dHJpYnV0ZShcIngxXCIpLCB5OiBhLmdldEF0dHJpYnV0ZShcInkxXCIpIH0sIHsgeDogYS5nZXRBdHRyaWJ1dGUoXCJ4MlwiKSwgeTogYS5nZXRBdHRyaWJ1dGUoXCJ5MlwiKSB9KTtjYXNlIFwicG9seWxpbmVcIjpcbiAgICAgICAgcmV0dXJuIE0oYSk7Y2FzZSBcInBvbHlnb25cIjpcbiAgICAgICAgdmFyIGMgPSBhLnBvaW50cztyZXR1cm4gTShhKSArIEYoYy5nZXRJdGVtKGMubnVtYmVyT2ZJdGVtcyAtIDEpLCBjLmdldEl0ZW0oMCkpO31cbiAgfWZ1bmN0aW9uIFkoYSwgYykge1xuICAgIGZ1bmN0aW9uIGQoYikge1xuICAgICAgYiA9IHZvaWQgMCA9PT0gYiA/IDAgOiBiO3JldHVybiBhLmVsLmdldFBvaW50QXRMZW5ndGgoMSA8PSBjICsgYiA/IGMgKyBiIDogMCk7XG4gICAgfXZhciBiID0gZCgpLFxuICAgICAgICBmID0gZCgtMSksXG4gICAgICAgIG4gPSBkKDEpO3N3aXRjaCAoYS5wcm9wZXJ0eSkge2Nhc2UgXCJ4XCI6XG4gICAgICAgIHJldHVybiBiLng7Y2FzZSBcInlcIjpcbiAgICAgICAgcmV0dXJuIGIueTtcbiAgICAgIGNhc2UgXCJhbmdsZVwiOlxuICAgICAgICByZXR1cm4gMTgwICogTWF0aC5hdGFuMihuLnkgLSBmLnksIG4ueCAtIGYueCkgLyBNYXRoLlBJO31cbiAgfWZ1bmN0aW9uIE8oYSwgYykge1xuICAgIHZhciBkID0gLy0/XFxkKlxcLj9cXGQrL2csXG4gICAgICAgIGI7YiA9IGgucHRoKGEpID8gYS50b3RhbExlbmd0aCA6IGE7aWYgKGguY29sKGIpKSB7XG4gICAgICBpZiAoaC5yZ2IoYikpIHtcbiAgICAgICAgdmFyIGYgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMoYik7YiA9IGYgPyBcInJnYmEoXCIgKyBmWzFdICsgXCIsMSlcIiA6IGI7XG4gICAgICB9IGVsc2UgYiA9IGguaGV4KGIpID8gVChiKSA6IGguaHNsKGIpID8gVShiKSA6IHZvaWQgMDtcbiAgICB9IGVsc2UgZiA9IChmID0geShiKSkgPyBiLnN1YnN0cigwLCBiLmxlbmd0aCAtIGYubGVuZ3RoKSA6IGIsIGIgPSBjICYmICEvXFxzL2cudGVzdChiKSA/IGYgKyBjIDogZjtiICs9IFwiXCI7cmV0dXJuIHsgb3JpZ2luYWw6IGIsIG51bWJlcnM6IGIubWF0Y2goZCkgPyBiLm1hdGNoKGQpLm1hcChOdW1iZXIpIDogWzBdLCBzdHJpbmdzOiBoLnN0cihhKSB8fCBjID8gYi5zcGxpdChkKSA6IFtdIH07XG4gIH1mdW5jdGlvbiBQKGEpIHtcbiAgICBhID0gYSA/IHAoaC5hcnIoYSkgPyBhLm1hcChtKSA6IG0oYSkpIDogW107cmV0dXJuIHIoYSwgZnVuY3Rpb24gKGEsIGQsIGIpIHtcbiAgICAgIHJldHVybiBiLmluZGV4T2YoYSkgPT09IGQ7XG4gICAgfSk7XG4gIH1mdW5jdGlvbiBaKGEpIHtcbiAgICB2YXIgYyA9IFAoYSk7cmV0dXJuIGMubWFwKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4geyB0YXJnZXQ6IGEsIGlkOiBiLCB0b3RhbDogYy5sZW5ndGggfTtcbiAgICB9KTtcbiAgfWZ1bmN0aW9uIGFhKGEsIGMpIHtcbiAgICB2YXIgZCA9IEMoYyk7aWYgKGguYXJyKGEpKSB7XG4gICAgICB2YXIgYiA9IGEubGVuZ3RoOzIgIT09IGIgfHwgaC5vYmooYVswXSkgPyBoLmZuYyhjLmR1cmF0aW9uKSB8fCAoZC5kdXJhdGlvbiA9IGMuZHVyYXRpb24gLyBiKSA6IGEgPSB7IHZhbHVlOiBhIH07XG4gICAgfXJldHVybiBtKGEpLm1hcChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgYiA9IGIgPyAwIDogYy5kZWxheTthID0gaC5vYmooYSkgJiYgIWgucHRoKGEpID8gYSA6IHsgdmFsdWU6IGEgfTtoLnVuZChhLmRlbGF5KSAmJiAoYS5kZWxheSA9IGIpO3JldHVybiBhO1xuICAgIH0pLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHooYSwgZCk7XG4gICAgfSk7XG4gIH1mdW5jdGlvbiBiYShhLCBjKSB7XG4gICAgdmFyIGQgPSB7fSxcbiAgICAgICAgYjtmb3IgKGIgaW4gYSkge1xuICAgICAgdmFyIGYgPSBJKGFbYl0sIGMpO2guYXJyKGYpICYmIChmID0gZi5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIEkoYSwgYyk7XG4gICAgICB9KSwgMSA9PT0gZi5sZW5ndGggJiYgKGYgPSBmWzBdKSk7ZFtiXSA9IGY7XG4gICAgfWQuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGQuZHVyYXRpb24pO2QuZGVsYXkgPSBwYXJzZUZsb2F0KGQuZGVsYXkpO3JldHVybiBkO1xuICB9ZnVuY3Rpb24gY2EoYSkge1xuICAgIHJldHVybiBoLmFycihhKSA/IEEuYXBwbHkodGhpcywgYSkgOiBRW2FdO1xuICB9ZnVuY3Rpb24gZGEoYSwgYykge1xuICAgIHZhciBkO3JldHVybiBhLnR3ZWVucy5tYXAoZnVuY3Rpb24gKGIpIHtcbiAgICAgIGIgPSBiYShiLCBjKTt2YXIgZiA9IGIudmFsdWUsXG4gICAgICAgICAgZSA9IEsoYy50YXJnZXQsIGEubmFtZSksXG4gICAgICAgICAgayA9IGQgPyBkLnRvLm9yaWdpbmFsIDogZSxcbiAgICAgICAgICBrID0gaC5hcnIoZikgPyBmWzBdIDogayxcbiAgICAgICAgICB3ID0gTChoLmFycihmKSA/IGZbMV0gOiBmLCBrKSxcbiAgICAgICAgICBlID0geSh3KSB8fCB5KGspIHx8IHkoZSk7Yi5mcm9tID0gTyhrLCBlKTtiLnRvID0gTyh3LCBlKTtiLnN0YXJ0ID0gZCA/IGQuZW5kIDogYS5vZmZzZXQ7Yi5lbmQgPSBiLnN0YXJ0ICsgYi5kZWxheSArIGIuZHVyYXRpb247Yi5lYXNpbmcgPSBjYShiLmVhc2luZyk7Yi5lbGFzdGljaXR5ID0gKDFFMyAtIE1hdGgubWluKE1hdGgubWF4KGIuZWxhc3RpY2l0eSwgMSksIDk5OSkpIC8gMUUzO2IuaXNQYXRoID0gaC5wdGgoZik7Yi5pc0NvbG9yID0gaC5jb2woYi5mcm9tLm9yaWdpbmFsKTtiLmlzQ29sb3IgJiYgKGIucm91bmQgPSAxKTtyZXR1cm4gZCA9IGI7XG4gICAgfSk7XG4gIH1mdW5jdGlvbiBlYShhLCBjKSB7XG4gICAgcmV0dXJuIHIocChhLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGMubWFwKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIHZhciBjID0gSihhLnRhcmdldCwgYi5uYW1lKTtpZiAoYykge1xuICAgICAgICAgIHZhciBkID0gZGEoYiwgYSk7YiA9IHsgdHlwZTogYywgcHJvcGVydHk6IGIubmFtZSwgYW5pbWF0YWJsZTogYSwgdHdlZW5zOiBkLCBkdXJhdGlvbjogZFtkLmxlbmd0aCAtIDFdLmVuZCwgZGVsYXk6IGRbMF0uZGVsYXkgfTtcbiAgICAgICAgfSBlbHNlIGIgPSB2b2lkIDA7cmV0dXJuIGI7XG4gICAgICB9KTtcbiAgICB9KSksIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gIWgudW5kKGEpO1xuICAgIH0pO1xuICB9ZnVuY3Rpb24gUihhLCBjLCBkLCBiKSB7XG4gICAgdmFyIGYgPSBcImRlbGF5XCIgPT09IGE7cmV0dXJuIGMubGVuZ3RoID8gKGYgPyBNYXRoLm1pbiA6IE1hdGgubWF4KS5hcHBseShNYXRoLCBjLm1hcChmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGJbYV07XG4gICAgfSkpIDogZiA/IGIuZGVsYXkgOiBkLm9mZnNldCArIGIuZGVsYXkgKyBiLmR1cmF0aW9uO1xuICB9ZnVuY3Rpb24gZmEoYSkge1xuICAgIHZhciBjID0gRChnYSwgYSksXG4gICAgICAgIGQgPSBEKFMsIGEpLFxuICAgICAgICBiID0gWihhLnRhcmdldHMpLFxuICAgICAgICBmID0gW10sXG4gICAgICAgIGUgPSB6KGMsIGQpLFxuICAgICAgICBrO2ZvciAoayBpbiBhKSB7XG4gICAgICBlLmhhc093blByb3BlcnR5KGspIHx8IFwidGFyZ2V0c1wiID09PSBrIHx8IGYucHVzaCh7IG5hbWU6IGssIG9mZnNldDogZS5vZmZzZXQsIHR3ZWVuczogYWEoYVtrXSwgZCkgfSk7XG4gICAgfWEgPSBlYShiLCBmKTtyZXR1cm4geihjLCB7IGNoaWxkcmVuOiBbXSwgYW5pbWF0YWJsZXM6IGIsIGFuaW1hdGlvbnM6IGEsIGR1cmF0aW9uOiBSKFwiZHVyYXRpb25cIiwgYSwgYywgZCksIGRlbGF5OiBSKFwiZGVsYXlcIiwgYSwgYywgZCkgfSk7XG4gIH1mdW5jdGlvbiBxKGEpIHtcbiAgICBmdW5jdGlvbiBjKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5Qcm9taXNlICYmIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBwID0gYTtcbiAgICAgIH0pO1xuICAgIH1mdW5jdGlvbiBkKGEpIHtcbiAgICAgIHJldHVybiBnLnJldmVyc2VkID8gZy5kdXJhdGlvbiAtIGEgOiBhO1xuICAgIH1mdW5jdGlvbiBiKGEpIHtcbiAgICAgIGZvciAodmFyIGIgPSAwLCBjID0ge30sIGQgPSBnLmFuaW1hdGlvbnMsIGYgPSBkLmxlbmd0aDsgYiA8IGY7KSB7XG4gICAgICAgIHZhciBlID0gZFtiXSxcbiAgICAgICAgICAgIGsgPSBlLmFuaW1hdGFibGUsXG4gICAgICAgICAgICBoID0gZS50d2VlbnMsXG4gICAgICAgICAgICBuID0gaC5sZW5ndGggLSAxLFxuICAgICAgICAgICAgbCA9IGhbbl07biAmJiAobCA9IHIoaCwgZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgICByZXR1cm4gYSA8IGIuZW5kO1xuICAgICAgICB9KVswXSB8fCBsKTtmb3IgKHZhciBoID0gTWF0aC5taW4oTWF0aC5tYXgoYSAtIGwuc3RhcnQgLSBsLmRlbGF5LCAwKSwgbC5kdXJhdGlvbikgLyBsLmR1cmF0aW9uLCB3ID0gaXNOYU4oaCkgPyAxIDogbC5lYXNpbmcoaCwgbC5lbGFzdGljaXR5KSwgaCA9IGwudG8uc3RyaW5ncywgcCA9IGwucm91bmQsIG4gPSBbXSwgbSA9IHZvaWQgMCwgbSA9IGwudG8ubnVtYmVycy5sZW5ndGgsIHQgPSAwOyB0IDwgbTsgdCsrKSB7XG4gICAgICAgICAgdmFyIHggPSB2b2lkIDAsXG4gICAgICAgICAgICAgIHggPSBsLnRvLm51bWJlcnNbdF0sXG4gICAgICAgICAgICAgIHEgPSBsLmZyb20ubnVtYmVyc1t0XSxcbiAgICAgICAgICAgICAgeCA9IGwuaXNQYXRoID8gWShsLnZhbHVlLCB3ICogeCkgOiBxICsgdyAqICh4IC0gcSk7cCAmJiAobC5pc0NvbG9yICYmIDIgPCB0IHx8ICh4ID0gTWF0aC5yb3VuZCh4ICogcCkgLyBwKSk7bi5wdXNoKHgpO1xuICAgICAgICB9aWYgKGwgPSBoLmxlbmd0aCkgZm9yIChtID0gaFswXSwgdyA9IDA7IHcgPCBsOyB3KyspIHtcbiAgICAgICAgICBwID0gaFt3ICsgMV0sIHQgPSBuW3ddLCBpc05hTih0KSB8fCAobSA9IHAgPyBtICsgKHQgKyBwKSA6IG0gKyAodCArIFwiIFwiKSk7XG4gICAgICAgIH0gZWxzZSBtID0gblswXTtoYVtlLnR5cGVdKGsudGFyZ2V0LCBlLnByb3BlcnR5LCBtLCBjLCBrLmlkKTtlLmN1cnJlbnRWYWx1ZSA9IG07YisrO1xuICAgICAgfWlmIChiID0gT2JqZWN0LmtleXMoYykubGVuZ3RoKSBmb3IgKGQgPSAwOyBkIDwgYjsgZCsrKSB7XG4gICAgICAgIEggfHwgKEggPSBFKGRvY3VtZW50LmJvZHksIFwidHJhbnNmb3JtXCIpID8gXCJ0cmFuc2Zvcm1cIiA6IFwiLXdlYmtpdC10cmFuc2Zvcm1cIiksIGcuYW5pbWF0YWJsZXNbZF0udGFyZ2V0LnN0eWxlW0hdID0gY1tkXS5qb2luKFwiIFwiKTtcbiAgICAgIH1nLmN1cnJlbnRUaW1lID0gYTtnLnByb2dyZXNzID0gYSAvIGcuZHVyYXRpb24gKiAxMDA7XG4gICAgfWZ1bmN0aW9uIGYoYSkge1xuICAgICAgaWYgKGdbYV0pIGdbYV0oZyk7XG4gICAgfWZ1bmN0aW9uIGUoKSB7XG4gICAgICBnLnJlbWFpbmluZyAmJiAhMCAhPT0gZy5yZW1haW5pbmcgJiYgZy5yZW1haW5pbmctLTtcbiAgICB9ZnVuY3Rpb24gayhhKSB7XG4gICAgICB2YXIgayA9IGcuZHVyYXRpb24sXG4gICAgICAgICAgbiA9IGcub2Zmc2V0LFxuICAgICAgICAgIHcgPSBuICsgZy5kZWxheSxcbiAgICAgICAgICByID0gZy5jdXJyZW50VGltZSxcbiAgICAgICAgICB4ID0gZy5yZXZlcnNlZCxcbiAgICAgICAgICBxID0gZChhKTtpZiAoZy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHUgPSBnLmNoaWxkcmVuLFxuICAgICAgICAgICAgdiA9IHUubGVuZ3RoO1xuICAgICAgICBpZiAocSA+PSBnLmN1cnJlbnRUaW1lKSBmb3IgKHZhciBHID0gMDsgRyA8IHY7IEcrKykge1xuICAgICAgICAgIHVbR10uc2VlayhxKTtcbiAgICAgICAgfSBlbHNlIGZvciAoOyB2LS07KSB7XG4gICAgICAgICAgdVt2XS5zZWVrKHEpO1xuICAgICAgICB9XG4gICAgICB9aWYgKHEgPj0gdyB8fCAhaykgZy5iZWdhbiB8fCAoZy5iZWdhbiA9ICEwLCBmKFwiYmVnaW5cIikpLCBmKFwicnVuXCIpO2lmIChxID4gbiAmJiBxIDwgaykgYihxKTtlbHNlIGlmIChxIDw9IG4gJiYgMCAhPT0gciAmJiAoYigwKSwgeCAmJiBlKCkpLCBxID49IGsgJiYgciAhPT0gayB8fCAhaykgYihrKSwgeCB8fCBlKCk7ZihcInVwZGF0ZVwiKTthID49IGsgJiYgKGcucmVtYWluaW5nID8gKHQgPSBoLCBcImFsdGVybmF0ZVwiID09PSBnLmRpcmVjdGlvbiAmJiAoZy5yZXZlcnNlZCA9ICFnLnJldmVyc2VkKSkgOiAoZy5wYXVzZSgpLCBnLmNvbXBsZXRlZCB8fCAoZy5jb21wbGV0ZWQgPSAhMCwgZihcImNvbXBsZXRlXCIpLCBcIlByb21pc2VcIiBpbiB3aW5kb3cgJiYgKHAoKSwgbSA9IGMoKSkpKSwgbCA9IDApO1xuICAgIH1hID0gdm9pZCAwID09PSBhID8ge30gOiBhO3ZhciBoLFxuICAgICAgICB0LFxuICAgICAgICBsID0gMCxcbiAgICAgICAgcCA9IG51bGwsXG4gICAgICAgIG0gPSBjKCksXG4gICAgICAgIGcgPSBmYShhKTtnLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGEgPSBnLmRpcmVjdGlvbixcbiAgICAgICAgICBjID0gZy5sb29wO2cuY3VycmVudFRpbWUgPSAwO2cucHJvZ3Jlc3MgPSAwO2cucGF1c2VkID0gITA7Zy5iZWdhbiA9ICExO2cuY29tcGxldGVkID0gITE7Zy5yZXZlcnNlZCA9IFwicmV2ZXJzZVwiID09PSBhO2cucmVtYWluaW5nID0gXCJhbHRlcm5hdGVcIiA9PT0gYSAmJiAxID09PSBjID8gMiA6IGM7YigwKTtmb3IgKGEgPSBnLmNoaWxkcmVuLmxlbmd0aDsgYS0tOykge1xuICAgICAgICBnLmNoaWxkcmVuW2FdLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfTtnLnRpY2sgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgaCA9IGE7dCB8fCAodCA9IGgpO2soKGwgKyBoIC0gdCkgKiBxLnNwZWVkKTtcbiAgICB9O2cuc2VlayA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICBrKGQoYSkpO1xuICAgIH07Zy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhID0gdi5pbmRleE9mKGcpOy0xIDwgYSAmJiB2LnNwbGljZShhLCAxKTtnLnBhdXNlZCA9ICEwO1xuICAgIH07Zy5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZy5wYXVzZWQgJiYgKGcucGF1c2VkID0gITEsIHQgPSAwLCBsID0gZChnLmN1cnJlbnRUaW1lKSwgdi5wdXNoKGcpLCBCIHx8IGlhKCkpO1xuICAgIH07Zy5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgZy5yZXZlcnNlZCA9ICFnLnJldmVyc2VkO3QgPSAwO2wgPSBkKGcuY3VycmVudFRpbWUpO1xuICAgIH07Zy5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZy5wYXVzZSgpO1xuICAgICAgZy5yZXNldCgpO2cucGxheSgpO1xuICAgIH07Zy5maW5pc2hlZCA9IG07Zy5yZXNldCgpO2cuYXV0b3BsYXkgJiYgZy5wbGF5KCk7cmV0dXJuIGc7XG4gIH12YXIgZ2EgPSB7IHVwZGF0ZTogdm9pZCAwLCBiZWdpbjogdm9pZCAwLCBydW46IHZvaWQgMCwgY29tcGxldGU6IHZvaWQgMCwgbG9vcDogMSwgZGlyZWN0aW9uOiBcIm5vcm1hbFwiLCBhdXRvcGxheTogITAsIG9mZnNldDogMCB9LFxuICAgICAgUyA9IHsgZHVyYXRpb246IDFFMywgZGVsYXk6IDAsIGVhc2luZzogXCJlYXNlT3V0RWxhc3RpY1wiLCBlbGFzdGljaXR5OiA1MDAsIHJvdW5kOiAwIH0sXG4gICAgICBXID0gXCJ0cmFuc2xhdGVYIHRyYW5zbGF0ZVkgdHJhbnNsYXRlWiByb3RhdGUgcm90YXRlWCByb3RhdGVZIHJvdGF0ZVogc2NhbGUgc2NhbGVYIHNjYWxlWSBzY2FsZVogc2tld1ggc2tld1kgcGVyc3BlY3RpdmVcIi5zcGxpdChcIiBcIiksXG4gICAgICBILFxuICAgICAgaCA9IHsgYXJyOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7XG4gICAgfSwgb2JqOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIC0xIDwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLmluZGV4T2YoXCJPYmplY3RcIik7XG4gICAgfSxcbiAgICBwdGg6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gaC5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eShcInRvdGFsTGVuZ3RoXCIpO1xuICAgIH0sIHN2ZzogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICB9LCBkb206IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gYS5ub2RlVHlwZSB8fCBoLnN2ZyhhKTtcbiAgICB9LCBzdHI6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGE7XG4gICAgfSwgZm5jOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGE7XG4gICAgfSwgdW5kOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBhO1xuICAgIH0sIGhleDogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiAoLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSlcbiAgICAgICk7XG4gICAgfSwgcmdiOiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuICgvXnJnYi8udGVzdChhKVxuICAgICAgKTtcbiAgICB9LCBoc2w6IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gKC9eaHNsLy50ZXN0KGEpXG4gICAgICApO1xuICAgIH0sIGNvbDogZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBoLmhleChhKSB8fCBoLnJnYihhKSB8fCBoLmhzbChhKTtcbiAgICB9IH0sXG4gICAgICBBID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGEoYSwgZCwgYikge1xuICAgICAgcmV0dXJuICgoKDEgLSAzICogYiArIDMgKiBkKSAqIGEgKyAoMyAqIGIgLSA2ICogZCkpICogYSArIDMgKiBkKSAqIGE7XG4gICAgfXJldHVybiBmdW5jdGlvbiAoYywgZCwgYiwgZikge1xuICAgICAgaWYgKDAgPD0gYyAmJiAxID49IGMgJiYgMCA8PSBiICYmIDEgPj0gYikge1xuICAgICAgICB2YXIgZSA9IG5ldyBGbG9hdDMyQXJyYXkoMTEpO2lmIChjICE9PSBkIHx8IGIgIT09IGYpIGZvciAodmFyIGsgPSAwOyAxMSA+IGs7ICsraykge1xuICAgICAgICAgIGVba10gPSBhKC4xICogaywgYywgYik7XG4gICAgICAgIH1yZXR1cm4gZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICBpZiAoYyA9PT0gZCAmJiBiID09PSBmKSByZXR1cm4gaztpZiAoMCA9PT0gaykgcmV0dXJuIDA7aWYgKDEgPT09IGspIHJldHVybiAxO2ZvciAodmFyIGggPSAwLCBsID0gMTsgMTAgIT09IGwgJiYgZVtsXSA8PSBrOyArK2wpIHtcbiAgICAgICAgICAgIGggKz0gLjE7XG4gICAgICAgICAgfS0tbDt2YXIgbCA9IGggKyAoayAtIGVbbF0pIC8gKGVbbCArIDFdIC0gZVtsXSkgKiAuMSxcbiAgICAgICAgICAgICAgbiA9IDMgKiAoMSAtIDMgKiBiICsgMyAqIGMpICogbCAqIGwgKyAyICogKDMgKiBiIC0gNiAqIGMpICogbCArIDMgKiBjO2lmICguMDAxIDw9IG4pIHtcbiAgICAgICAgICAgIGZvciAoaCA9IDA7IDQgPiBoOyArK2gpIHtcbiAgICAgICAgICAgICAgbiA9IDMgKiAoMSAtIDMgKiBiICsgMyAqIGMpICogbCAqIGwgKyAyICogKDMgKiBiIC0gNiAqIGMpICogbCArIDMgKiBjO2lmICgwID09PSBuKSBicmVhazt2YXIgbSA9IGEobCwgYywgYikgLSBrLFxuICAgICAgICAgICAgICAgICAgbCA9IGwgLSBtIC8gbjtcbiAgICAgICAgICAgIH1rID0gbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IG4pIGsgPSBsO2Vsc2Uge1xuICAgICAgICAgICAgdmFyIGwgPSBoLFxuICAgICAgICAgICAgICAgIGggPSBoICsgLjEsXG4gICAgICAgICAgICAgICAgZyA9IDA7ZG8ge1xuICAgICAgICAgICAgICBtID0gbCArIChoIC0gbCkgLyAyLCBuID0gYShtLCBjLCBiKSAtIGssIDAgPCBuID8gaCA9IG0gOiBsID0gbTtcbiAgICAgICAgICAgIH0gd2hpbGUgKDFlLTcgPCBNYXRoLmFicyhuKSAmJiAxMCA+ICsrZyk7ayA9IG07XG4gICAgICAgICAgfXJldHVybiBhKGssIGQsIGYpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0oKSxcbiAgICAgIFEgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYShhLCBiKSB7XG4gICAgICByZXR1cm4gMCA9PT0gYSB8fCAxID09PSBhID8gYSA6IC1NYXRoLnBvdygyLCAxMCAqIChhIC0gMSkpICogTWF0aC5zaW4oMiAqIChhIC0gMSAtIGIgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEpKSAqIE1hdGguUEkgLyBiKTtcbiAgICB9dmFyIGMgPSBcIlF1YWQgQ3ViaWMgUXVhcnQgUXVpbnQgU2luZSBFeHBvIENpcmMgQmFjayBFbGFzdGljXCIuc3BsaXQoXCIgXCIpLFxuICAgICAgICBkID0geyBJbjogW1suNTUsIC4wODUsIC42OCwgLjUzXSwgWy41NSwgLjA1NSwgLjY3NSwgLjE5XSwgWy44OTUsIC4wMywgLjY4NSwgLjIyXSwgWy43NTUsIC4wNSwgLjg1NSwgLjA2XSwgWy40NywgMCwgLjc0NSwgLjcxNV0sIFsuOTUsIC4wNSwgLjc5NSwgLjAzNV0sIFsuNiwgLjA0LCAuOTgsIC4zMzVdLCBbLjYsIC0uMjgsIC43MzUsIC4wNDVdLCBhXSwgT3V0OiBbWy4yNSwgLjQ2LCAuNDUsIC45NF0sIFsuMjE1LCAuNjEsIC4zNTUsIDFdLCBbLjE2NSwgLjg0LCAuNDQsIDFdLCBbLjIzLCAxLCAuMzIsIDFdLCBbLjM5LCAuNTc1LCAuNTY1LCAxXSwgWy4xOSwgMSwgLjIyLCAxXSwgWy4wNzUsIC44MiwgLjE2NSwgMV0sIFsuMTc1LCAuODg1LCAuMzIsIDEuMjc1XSwgZnVuY3Rpb24gKGIsIGMpIHtcbiAgICAgICAgcmV0dXJuIDEgLSBhKDEgLSBiLCBjKTtcbiAgICAgIH1dLCBJbk91dDogW1suNDU1LCAuMDMsIC41MTUsIC45NTVdLCBbLjY0NSwgLjA0NSwgLjM1NSwgMV0sIFsuNzcsIDAsIC4xNzUsIDFdLCBbLjg2LCAwLCAuMDcsIDFdLCBbLjQ0NSwgLjA1LCAuNTUsIC45NV0sIFsxLCAwLCAwLCAxXSwgWy43ODUsIC4xMzUsIC4xNSwgLjg2XSwgWy42OCwgLS41NSwgLjI2NSwgMS41NV0sIGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICAgIHJldHVybiAuNSA+IGIgPyBhKDIgKiBiLCBjKSAvIDIgOiAxIC0gYSgtMiAqIGIgKyAyLCBjKSAvIDI7XG4gICAgICB9XSB9LFxuICAgICAgICBiID0geyBsaW5lYXI6IEEoLjI1LCAuMjUsIC43NSwgLjc1KSB9LFxuICAgICAgICBmID0ge30sXG4gICAgICAgIGU7Zm9yIChlIGluIGQpIHtcbiAgICAgIGYudHlwZSA9IGUsIGRbZi50eXBlXS5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZCwgZikge1xuICAgICAgICAgIGJbXCJlYXNlXCIgKyBhLnR5cGUgKyBjW2ZdXSA9IGguZm5jKGQpID8gZCA6IEEuYXBwbHkoJGpzY29tcCR0aGlzLCBkKTtcbiAgICAgICAgfTtcbiAgICAgIH0oZikpLCBmID0geyB0eXBlOiBmLnR5cGUgfTtcbiAgICB9cmV0dXJuIGI7XG4gIH0oKSxcbiAgICAgIGhhID0geyBjc3M6IGZ1bmN0aW9uIChhLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYS5zdHlsZVtjXSA9IGQ7XG4gICAgfSwgYXR0cmlidXRlOiBmdW5jdGlvbiAoYSwgYywgZCkge1xuICAgICAgcmV0dXJuIGEuc2V0QXR0cmlidXRlKGMsIGQpO1xuICAgIH0sIG9iamVjdDogZnVuY3Rpb24gKGEsIGMsIGQpIHtcbiAgICAgIHJldHVybiBhW2NdID0gZDtcbiAgICB9LCB0cmFuc2Zvcm06IGZ1bmN0aW9uIChhLCBjLCBkLCBiLCBmKSB7XG4gICAgICBiW2ZdIHx8IChiW2ZdID0gW10pO2JbZl0ucHVzaChjICsgXCIoXCIgKyBkICsgXCIpXCIpO1xuICAgIH0gfSxcbiAgICAgIHYgPSBbXSxcbiAgICAgIEIgPSAwLFxuICAgICAgaWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYSgpIHtcbiAgICAgIEIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYyk7XG4gICAgfWZ1bmN0aW9uIGMoYykge1xuICAgICAgdmFyIGIgPSB2Lmxlbmd0aDtpZiAoYikge1xuICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGI7KSB7XG4gICAgICAgICAgdltkXSAmJiB2W2RdLnRpY2soYyksIGQrKztcbiAgICAgICAgfWEoKTtcbiAgICAgIH0gZWxzZSBjYW5jZWxBbmltYXRpb25GcmFtZShCKSwgQiA9IDA7XG4gICAgfXJldHVybiBhO1xuICB9KCk7cS52ZXJzaW9uID0gXCIyLjIuMFwiO3Euc3BlZWQgPSAxO3EucnVubmluZyA9IHY7cS5yZW1vdmUgPSBmdW5jdGlvbiAoYSkge1xuICAgIGEgPSBQKGEpO2ZvciAodmFyIGMgPSB2Lmxlbmd0aDsgYy0tOykge1xuICAgICAgZm9yICh2YXIgZCA9IHZbY10sIGIgPSBkLmFuaW1hdGlvbnMsIGYgPSBiLmxlbmd0aDsgZi0tOykge1xuICAgICAgICB1KGEsIGJbZl0uYW5pbWF0YWJsZS50YXJnZXQpICYmIChiLnNwbGljZShmLCAxKSwgYi5sZW5ndGggfHwgZC5wYXVzZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07cS5nZXRWYWx1ZSA9IEs7cS5wYXRoID0gZnVuY3Rpb24gKGEsIGMpIHtcbiAgICB2YXIgZCA9IGguc3RyKGEpID8gZShhKVswXSA6IGEsXG4gICAgICAgIGIgPSBjIHx8IDEwMDtyZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB7IGVsOiBkLCBwcm9wZXJ0eTogYSwgdG90YWxMZW5ndGg6IE4oZCkgKiAoYiAvIDEwMCkgfTtcbiAgICB9O1xuICB9O3Euc2V0RGFzaG9mZnNldCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGMgPSBOKGEpO2Euc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLCBjKTtyZXR1cm4gYztcbiAgfTtxLmJlemllciA9IEE7cS5lYXNpbmdzID0gUTtxLnRpbWVsaW5lID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYyA9IHEoYSk7Yy5wYXVzZSgpO2MuZHVyYXRpb24gPSAwO2MuYWRkID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgIGMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgICBhLmJlZ2FuID0gITA7YS5jb21wbGV0ZWQgPSAhMDtcbiAgICAgIH0pO20oZCkuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuICAgICAgICB2YXIgZCA9IHooYiwgRChTLCBhIHx8IHt9KSk7ZC50YXJnZXRzID0gZC50YXJnZXRzIHx8IGEudGFyZ2V0cztiID0gYy5kdXJhdGlvbjt2YXIgZSA9IGQub2Zmc2V0O2QuYXV0b3BsYXkgPSAhMTtkLmRpcmVjdGlvbiA9IGMuZGlyZWN0aW9uO2Qub2Zmc2V0ID0gaC51bmQoZSkgPyBiIDogTChlLCBiKTtjLmJlZ2FuID0gITA7Yy5jb21wbGV0ZWQgPSAhMDtjLnNlZWsoZC5vZmZzZXQpO2QgPSBxKGQpO2QuYmVnYW4gPSAhMDtkLmNvbXBsZXRlZCA9ICEwO2QuZHVyYXRpb24gPiBiICYmIChjLmR1cmF0aW9uID0gZC5kdXJhdGlvbik7Yy5jaGlsZHJlbi5wdXNoKGQpO1xuICAgICAgfSk7Yy5zZWVrKDApO2MucmVzZXQoKTtjLmF1dG9wbGF5ICYmIGMucmVzdGFydCgpO3JldHVybiBjO1xuICAgIH07cmV0dXJuIGM7XG4gIH07cS5yYW5kb20gPSBmdW5jdGlvbiAoYSwgYykge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoYyAtIGEgKyAxKSkgKyBhO1xuICB9O3JldHVybiBxO1xufSk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGFjY29yZGlvbjogdHJ1ZSxcbiAgICBvbk9wZW5TdGFydDogdW5kZWZpbmVkLFxuICAgIG9uT3BlbkVuZDogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2VTdGFydDogdW5kZWZpbmVkLFxuICAgIG9uQ2xvc2VFbmQ6IHVuZGVmaW5lZCxcbiAgICBpbkR1cmF0aW9uOiAzMDAsXG4gICAgb3V0RHVyYXRpb246IDMwMFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIENvbGxhcHNpYmxlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ29sbGFwc2libGUsIF9Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IENvbGxhcHNpYmxlIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29sbGFwc2libGUoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xsYXBzaWJsZSk7XG5cbiAgICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sbGFwc2libGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xsYXBzaWJsZSkpLmNhbGwodGhpcywgQ29sbGFwc2libGUsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMy5lbC5NX0NvbGxhcHNpYmxlID0gX3RoaXMzO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBjb2xsYXBzaWJsZVxuICAgICAgICogQG1lbWJlciBDb2xsYXBzaWJsZSNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2FjY29yZGlvbj1mYWxzZV0gLSBUeXBlIG9mIHRoZSBjb2xsYXBzaWJsZVxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5TdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgY29sbGFwc2libGUgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlbkVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBjb2xsYXBzaWJsZSBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZVN0YXJ0IC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBjb2xsYXBzaWJsZSBpcyBjbG9zZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZUVuZCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBjb2xsYXBzaWJsZSBpcyBjbG9zZWRcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IGluRHVyYXRpb24gLSBUcmFuc2l0aW9uIGluIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IG91dER1cmF0aW9uIC0gVHJhbnNpdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgKi9cbiAgICAgIF90aGlzMy5vcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNpYmxlLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gU2V0dXAgdGFiIGluZGljZXNcbiAgICAgIF90aGlzMy4kaGVhZGVycyA9IF90aGlzMy4kZWwuY2hpbGRyZW4oJ2xpJykuY2hpbGRyZW4oJy5jb2xsYXBzaWJsZS1oZWFkZXInKTtcbiAgICAgIF90aGlzMy4kaGVhZGVycy5hdHRyKCd0YWJpbmRleCcsIDApO1xuXG4gICAgICBfdGhpczMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICAvLyBPcGVuIGZpcnN0IGFjdGl2ZVxuICAgICAgdmFyICRhY3RpdmVCb2RpZXMgPSBfdGhpczMuJGVsLmNoaWxkcmVuKCdsaS5hY3RpdmUnKS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWJvZHknKTtcbiAgICAgIGlmIChfdGhpczMub3B0aW9ucy5hY2NvcmRpb24pIHtcbiAgICAgICAgLy8gSGFuZGxlIEFjY29yZGlvblxuICAgICAgICAkYWN0aXZlQm9kaWVzLmZpcnN0KCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYW5kbGUgRXhwYW5kYWJsZXNcbiAgICAgICAgJGFjdGl2ZUJvZGllcy5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbGxhcHNpYmxlLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fQ29sbGFwc2libGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrQm91bmQpO1xuICAgICAgICB0aGlzLiRoZWFkZXJzLmVhY2goZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICAgIGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgX3RoaXM0Ll9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd25Cb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuJGhlYWRlcnMuZWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgaGVhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfdGhpczUuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENvbGxhcHNpYmxlIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ29sbGFwc2libGVDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrKGUpIHtcbiAgICAgICAgdmFyICRoZWFkZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY29sbGFwc2libGUtaGVhZGVyJyk7XG4gICAgICAgIGlmIChlLnRhcmdldCAmJiAkaGVhZGVyLmxlbmd0aCkge1xuICAgICAgICAgIHZhciAkY29sbGFwc2libGUgPSAkaGVhZGVyLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgICAgIGlmICgkY29sbGFwc2libGVbMF0gPT09IHRoaXMuZWwpIHtcbiAgICAgICAgICAgIHZhciAkY29sbGFwc2libGVMaSA9ICRoZWFkZXIuY2xvc2VzdCgnbGknKTtcbiAgICAgICAgICAgIHZhciAkY29sbGFwc2libGVMaXMgPSAkY29sbGFwc2libGUuY2hpbGRyZW4oJ2xpJyk7XG4gICAgICAgICAgICB2YXIgaXNBY3RpdmUgPSAkY29sbGFwc2libGVMaVswXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJGNvbGxhcHNpYmxlTGlzLmluZGV4KCRjb2xsYXBzaWJsZUxpKTtcblxuICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoaW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5vcGVuKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ29sbGFwc2libGUgS2V5ZG93blxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZChlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgaW4gY29sbGFwc2libGUgc2xpZGVcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIDB0aCBpbmRleCBvZiBzbGlkZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlSW4oaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgdmFyICRjb2xsYXBzaWJsZUxpID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpJykuZXEoaW5kZXgpO1xuICAgICAgICBpZiAoJGNvbGxhcHNpYmxlTGkubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyICRib2R5ID0gJGNvbGxhcHNpYmxlTGkuY2hpbGRyZW4oJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG5cbiAgICAgICAgICBhbmltLnJlbW92ZSgkYm9keVswXSk7XG4gICAgICAgICAgJGJvZHkuY3NzKHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBwYWRkaW5nVG9wOiAnJyxcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206ICcnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgcFRvcCA9ICRib2R5LmNzcygncGFkZGluZy10b3AnKTtcbiAgICAgICAgICB2YXIgcEJvdHRvbSA9ICRib2R5LmNzcygncGFkZGluZy1ib3R0b20nKTtcbiAgICAgICAgICB2YXIgZmluYWxIZWlnaHQgPSAkYm9keVswXS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgJGJvZHkuY3NzKHtcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAwXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6ICRib2R5WzBdLFxuICAgICAgICAgICAgaGVpZ2h0OiBmaW5hbEhlaWdodCxcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IHBUb3AsXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBwQm90dG9tLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgICAgICAgICRib2R5LmNzcyh7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6ICcnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206ICcnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXM2Lm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM2Lm9wdGlvbnMub25PcGVuRW5kLmNhbGwoX3RoaXM2LCAkY29sbGFwc2libGVMaVswXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGUgb3V0IGNvbGxhcHNpYmxlIHNsaWRlXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSAwdGggaW5kZXggb2Ygc2xpZGUgdG8gb3BlblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dChpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICB2YXIgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICAgIGlmICgkY29sbGFwc2libGVMaS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgJGJvZHkgPSAkY29sbGFwc2libGVMaS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWJvZHknKTtcbiAgICAgICAgICBhbmltLnJlbW92ZSgkYm9keVswXSk7XG4gICAgICAgICAgJGJvZHkuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6ICRib2R5WzBdLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgJGJvZHkuY3NzKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnJ1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXM3Lm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIF90aGlzNy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczcsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBDb2xsYXBzaWJsZVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gMHRoIGluZGV4IG9mIHNsaWRlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbihpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICB2YXIgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICAgIGlmICgkY29sbGFwc2libGVMaS5sZW5ndGggJiYgISRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCAkY29sbGFwc2libGVMaVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGFuZGxlIGFjY29yZGlvbiBiZWhhdmlvclxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWNjb3JkaW9uKSB7XG4gICAgICAgICAgICB2YXIgJGNvbGxhcHNpYmxlTGlzID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpJyk7XG4gICAgICAgICAgICB2YXIgJGFjdGl2ZUxpcyA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaS5hY3RpdmUnKTtcbiAgICAgICAgICAgICRhY3RpdmVMaXMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJGNvbGxhcHNpYmxlTGlzLmluZGV4KCQoZWwpKTtcbiAgICAgICAgICAgICAgX3RoaXM4LmNsb3NlKGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFuaW1hdGUgaW5cbiAgICAgICAgICAkY29sbGFwc2libGVMaVswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlSW4oaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xvc2UgQ29sbGFwc2libGVcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIDB0aCBpbmRleCBvZiBzbGlkZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZShpbmRleCkge1xuICAgICAgICB2YXIgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICAgIGlmICgkY29sbGFwc2libGVMaS5sZW5ndGggJiYgJGNvbGxhcHNpYmxlTGlbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBbmltYXRlIG91dFxuICAgICAgICAgICRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KENvbGxhcHNpYmxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29sbGFwc2libGUpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Db2xsYXBzaWJsZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xsYXBzaWJsZTtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uQ29sbGFwc2libGUgPSBDb2xsYXBzaWJsZTtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENvbGxhcHNpYmxlLCAnY29sbGFwc2libGUnLCAnTV9Db2xsYXBzaWJsZScpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgYWxpZ25tZW50OiAnbGVmdCcsXG4gICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgIGNvbnN0cmFpbldpZHRoOiB0cnVlLFxuICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICBjb3ZlclRyaWdnZXI6IHRydWUsXG4gICAgY2xvc2VPbkNsaWNrOiB0cnVlLFxuICAgIGhvdmVyOiBmYWxzZSxcbiAgICBpbkR1cmF0aW9uOiAxNTAsXG4gICAgb3V0RHVyYXRpb246IDI1MCxcbiAgICBvbk9wZW5TdGFydDogbnVsbCxcbiAgICBvbk9wZW5FbmQ6IG51bGwsXG4gICAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICAgIG9uQ2xvc2VFbmQ6IG51bGwsXG4gICAgb25JdGVtQ2xpY2s6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqL1xuXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChfQ29tcG9uZW50Mikge1xuICAgIF9pbmhlcml0cyhEcm9wZG93biwgX0NvbXBvbmVudDIpO1xuXG4gICAgZnVuY3Rpb24gRHJvcGRvd24oZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcm9wZG93bik7XG5cbiAgICAgIHZhciBfdGhpczkgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJvcGRvd24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEcm9wZG93bikpLmNhbGwodGhpcywgRHJvcGRvd24sIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzOS5lbC5NX0Ryb3Bkb3duID0gX3RoaXM5O1xuICAgICAgRHJvcGRvd24uX2Ryb3Bkb3ducy5wdXNoKF90aGlzOSk7XG5cbiAgICAgIF90aGlzOS5pZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcihlbCk7XG4gICAgICBfdGhpczkuZHJvcGRvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzOS5pZCk7XG4gICAgICBfdGhpczkuJGRyb3Bkb3duRWwgPSAkKF90aGlzOS5kcm9wZG93bkVsKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgZHJvcGRvd25cbiAgICAgICAqIEBtZW1iZXIgRHJvcGRvd24jb3B0aW9uc1xuICAgICAgICogQHByb3Age1N0cmluZ30gW2FsaWdubWVudD0nbGVmdCddIC0gRWRnZSB3aGljaCB0aGUgZHJvcGRvd24gaXMgYWxpZ25lZCB0b1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFthdXRvRm9jdXM9dHJ1ZV0gLSBBdXRvbWF0aWNhbGx5IGZvY3VzIGRyb3Bkb3duIGVsIGZvciBrZXlib2FyZFxuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtjb25zdHJhaW5XaWR0aD10cnVlXSAtIENvbnN0cmFpbiB3aWR0aCB0byB3aWR0aCBvZiB0aGUgYnV0dG9uXG4gICAgICAgKiBAcHJvcCB7RWxlbWVudH0gY29udGFpbmVyIC0gQ29udGFpbmVyIGVsZW1lbnQgdG8gYXR0YWNoIGRyb3Bkb3duIHRvIChvcHRpb25hbClcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbY292ZXJUcmlnZ2VyPXRydWVdIC0gUGxhY2UgZHJvcGRvd24gb3ZlciB0cmlnZ2VyXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2Nsb3NlT25DbGljaz10cnVlXSAtIENsb3NlIG9uIGNsaWNrIG9mIGRyb3Bkb3duIGl0ZW1cbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbaG92ZXI9ZmFsc2VdIC0gT3BlbiBkcm9wZG93biBvbiBob3ZlclxuICAgICAgICogQHByb3Age051bWJlcn0gW2luRHVyYXRpb249MTUwXSAtIER1cmF0aW9uIG9mIG9wZW4gYW5pbWF0aW9uIGluIG1zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3V0RHVyYXRpb249MjUwXSAtIER1cmF0aW9uIG9mIGNsb3NlIGFuaW1hdGlvbiBpbiBtc1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5TdGFydCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRyb3Bkb3duIHN0YXJ0cyBvcGVuaW5nXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlbkVuZCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRyb3Bkb3duIGZpbmlzaGVzIG9wZW5pbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZVN0YXJ0IC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gc3RhcnRzIGNsb3NpbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZUVuZCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRyb3Bkb3duIGZpbmlzaGVzIGNsb3NpbmdcbiAgICAgICAqL1xuICAgICAgX3RoaXM5Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRHJvcGRvd24uZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBvcGVuL2Nsb3NlIHN0YXRlIG9mIGRyb3Bkb3duXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXM5LmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBpZiBkcm9wZG93biBjb250ZW50IGlzIHNjcm9sbGFibGVcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczkuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIGlmIHRvdWNoIG1vdmluZyBvbiBkcm9wZG93biBjb250ZW50XG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXM5LmlzVG91Y2hNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgX3RoaXM5LmZvY3VzZWRJbmRleCA9IC0xO1xuICAgICAgX3RoaXM5LmZpbHRlclF1ZXJ5ID0gW107XG5cbiAgICAgIC8vIE1vdmUgZHJvcGRvd24tY29udGVudCBhZnRlciBkcm9wZG93bi10cmlnZ2VyXG4gICAgICBpZiAoISFfdGhpczkub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgJChfdGhpczkub3B0aW9ucy5jb250YWluZXIpLmFwcGVuZChfdGhpczkuZHJvcGRvd25FbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczkuJGVsLmFmdGVyKF90aGlzOS5kcm9wZG93bkVsKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXM5Ll9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKTtcbiAgICAgIF90aGlzOS5fcmVzZXRGaWx0ZXJRdWVyeUJvdW5kID0gX3RoaXM5Ll9yZXNldEZpbHRlclF1ZXJ5LmJpbmQoX3RoaXM5KTtcbiAgICAgIF90aGlzOS5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kID0gX3RoaXM5Ll9oYW5kbGVEb2N1bWVudENsaWNrLmJpbmQoX3RoaXM5KTtcbiAgICAgIF90aGlzOS5faGFuZGxlRG9jdW1lbnRUb3VjaG1vdmVCb3VuZCA9IF90aGlzOS5faGFuZGxlRG9jdW1lbnRUb3VjaG1vdmUuYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQgPSBfdGhpczkuX2hhbmRsZURyb3Bkb3duQ2xpY2suYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9oYW5kbGVEcm9wZG93bktleWRvd25Cb3VuZCA9IF90aGlzOS5faGFuZGxlRHJvcGRvd25LZXlkb3duLmJpbmQoX3RoaXM5KTtcbiAgICAgIF90aGlzOS5faGFuZGxlVHJpZ2dlcktleWRvd25Cb3VuZCA9IF90aGlzOS5faGFuZGxlVHJpZ2dlcktleWRvd24uYmluZChfdGhpczkpO1xuICAgICAgX3RoaXM5Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIERyb3Bkb3duLl9kcm9wZG93bnMuc3BsaWNlKERyb3Bkb3duLl9kcm9wZG93bnMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgIHRoaXMuZWwuTV9Ecm9wZG93biA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIC8vIFRyaWdnZXIga2V5ZG93biBoYW5kbGVyXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQpO1xuXG4gICAgICAgIC8vIEl0ZW0gY2xpY2sgaGFuZGxlclxuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQpO1xuXG4gICAgICAgIC8vIEhvdmVyIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXIpIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlLmJpbmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG5cbiAgICAgICAgICAvLyBDbGljayBldmVudCBoYW5kbGVyc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0JvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlVHJpZ2dlcktleWRvd25Cb3VuZCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCk7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cFRlbXBvcmFyeUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICAvLyBVc2UgY2FwdHVyZSBwaGFzZSBldmVudCBoYW5kbGVyIHRvIHByZXZlbnQgY2xpY2tcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQpO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bkJvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZVRlbXBvcmFyeUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgLy8gVXNlIGNhcHR1cmUgcGhhc2UgZXZlbnQgaGFuZGxlciB0byBwcmV2ZW50IGNsaWNrXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd25Cb3VuZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDbGljayhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVNb3VzZUVudGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTW91c2VMZWF2ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNb3VzZUxlYXZlKGUpIHtcbiAgICAgICAgdmFyIHRvRWwgPSBlLnRvRWxlbWVudCB8fCBlLnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgIHZhciBsZWF2ZVRvRHJvcGRvd25Db250ZW50ID0gISEkKHRvRWwpLmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykubGVuZ3RoO1xuICAgICAgICB2YXIgbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciAkY2xvc2VzdFRyaWdnZXIgPSAkKHRvRWwpLmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJyk7XG4gICAgICAgIGlmICgkY2xvc2VzdFRyaWdnZXIubGVuZ3RoICYmICEhJGNsb3Nlc3RUcmlnZ2VyWzBdLk1fRHJvcGRvd24gJiYgJGNsb3Nlc3RUcmlnZ2VyWzBdLk1fRHJvcGRvd24uaXNPcGVuKSB7XG4gICAgICAgICAgbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSBob3ZlciBkcm9wZG93biBpZiBtb3VzZSBkaWQgbm90IGxlYXZlIHRvIGVpdGhlciBhY3RpdmUgZHJvcGRvd24tdHJpZ2dlciBvciBkcm9wZG93bi1jb250ZW50XG4gICAgICAgIGlmICghbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciAmJiAhbGVhdmVUb0Ryb3Bkb3duQ29udGVudCkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRG9jdW1lbnRDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEb2N1bWVudENsaWNrKGUpIHtcbiAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrICYmICR0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKS5sZW5ndGggJiYgIXRoaXMuaXNUb3VjaE1vdmluZykge1xuICAgICAgICAgIC8vIGlzVG91Y2hNb3ZpbmcgdG8gY2hlY2sgaWYgc2Nyb2xsaW5nIG9uIG1vYmlsZS5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMTAuY2xvc2UoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSBlbHNlIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJykubGVuZ3RoIHx8ICEkdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykubGVuZ3RoKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczEwLmNsb3NlKCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1RvdWNoTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVUcmlnZ2VyS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVUcmlnZ2VyS2V5ZG93bihlKSB7XG4gICAgICAgIC8vIEFSUk9XIERPV04gT1IgRU5URVIgV0hFTiBTRUxFQ1QgSVMgQ0xPU0VEIC0gb3BlbiBEcm9wZG93blxuICAgICAgICBpZiAoKGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOIHx8IGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikgJiYgIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIERvY3VtZW50IFRvdWNobW92ZVxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlKGUpIHtcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKCR0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIERyb3Bkb3duIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlRHJvcGRvd25DbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEcm9wZG93bkNsaWNrKGUpIHtcbiAgICAgICAgLy8gb25JdGVtQ2xpY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgaXRlbUVsID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKVswXTtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2suY2FsbCh0aGlzLCBpdGVtRWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIERyb3Bkb3duIEtleWRvd25cbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEcm9wZG93bktleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRHJvcGRvd25LZXlkb3duKGUpIHtcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgICAgLy8gTmF2aWdhdGUgZG93biBkcm9wZG93biBsaXN0XG4gICAgICAgIH0gZWxzZSBpZiAoKGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOIHx8IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19VUCkgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOID8gMSA6IC0xO1xuICAgICAgICAgIHZhciBuZXdGb2N1c2VkSW5kZXggPSB0aGlzLmZvY3VzZWRJbmRleDtcbiAgICAgICAgICB2YXIgZm91bmROZXdJbmRleCA9IGZhbHNlO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIG5ld0ZvY3VzZWRJbmRleCA9IG5ld0ZvY3VzZWRJbmRleCArIGRpcmVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKCEhdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW25ld0ZvY3VzZWRJbmRleF0gJiYgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW25ld0ZvY3VzZWRJbmRleF0udGFiSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIGZvdW5kTmV3SW5kZXggPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChuZXdGb2N1c2VkSW5kZXggPCB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4ubGVuZ3RoICYmIG5ld0ZvY3VzZWRJbmRleCA+PSAwKTtcblxuICAgICAgICAgIGlmIChmb3VuZE5ld0luZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IG5ld0ZvY3VzZWRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzRm9jdXNlZEl0ZW0oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBFTlRFUiBzZWxlY3RzIGNob2ljZSBvbiBmb2N1c2VkIGl0ZW1cbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSBNLmtleXMuRU5URVIgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAvLyBTZWFyY2ggZm9yIDxhPiBhbmQgPGJ1dHRvbj5cbiAgICAgICAgICB2YXIgZm9jdXNlZEVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdO1xuICAgICAgICAgIHZhciAkYWN0aXZhdGFibGVFbGVtZW50ID0gJChmb2N1c2VkRWxlbWVudCkuZmluZCgnYSwgYnV0dG9uJykuZmlyc3QoKTtcblxuICAgICAgICAgIC8vIENsaWNrIGEgb3IgYnV0dG9uIHRhZyBpZiBleGlzdHMsIG90aGVyd2lzZSBjbGljayBsaSB0YWdcbiAgICAgICAgICBpZiAoISEkYWN0aXZhdGFibGVFbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgJGFjdGl2YXRhYmxlRWxlbWVudFswXS5jbGljaygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISFmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICAgICAgZm9jdXNlZEVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDbG9zZSBkcm9wZG93biBvbiBFU0NcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSBNLmtleXMuRVNDICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENBU0UgV0hFTiBVU0VSIFRZUEUgTEVUVEVSU1xuICAgICAgICB2YXIgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgbm9uTGV0dGVycyA9IFs5LCAxMywgMjcsIDM4LCA0MF07XG4gICAgICAgIGlmIChsZXR0ZXIgJiYgbm9uTGV0dGVycy5pbmRleE9mKGUud2hpY2gpID09PSAtMSkge1xuICAgICAgICAgIHRoaXMuZmlsdGVyUXVlcnkucHVzaChsZXR0ZXIpO1xuXG4gICAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMuZmlsdGVyUXVlcnkuam9pbignJyksXG4gICAgICAgICAgICAgIG5ld09wdGlvbkVsID0gJCh0aGlzLmRyb3Bkb3duRWwpLmZpbmQoJ2xpJykuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgcmV0dXJuICQoZWwpLnRleHQoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RyaW5nKSA9PT0gMDtcbiAgICAgICAgICB9KVswXTtcblxuICAgICAgICAgIGlmIChuZXdPcHRpb25FbCkge1xuICAgICAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAkKG5ld09wdGlvbkVsKS5pbmRleCgpO1xuICAgICAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlsdGVyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXRGaWx0ZXJRdWVyeUJvdW5kLCAxMDAwKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3Jlc2V0RmlsdGVyUXVlcnlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRGaWx0ZXJRdWVyeSgpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJRdWVyeSA9IFtdO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVzZXREcm9wZG93blN0eWxlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldERyb3Bkb3duU3R5bGVzKCkge1xuICAgICAgICB0aGlzLiRkcm9wZG93bkVsLmNzcyh7XG4gICAgICAgICAgZGlzcGxheTogJycsXG4gICAgICAgICAgd2lkdGg6ICcnLFxuICAgICAgICAgIGhlaWdodDogJycsXG4gICAgICAgICAgbGVmdDogJycsXG4gICAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6ICcnLFxuICAgICAgICAgIHRyYW5zZm9ybTogJycsXG4gICAgICAgICAgb3BhY2l0eTogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9tYWtlRHJvcGRvd25Gb2N1c2FibGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFrZURyb3Bkb3duRm9jdXNhYmxlKCkge1xuICAgICAgICAvLyBOZWVkZWQgZm9yIGFycm93IGtleSBuYXZpZ2F0aW9uXG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC50YWJJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gT25seSBzZXQgdGFiaW5kZXggaWYgaXQgaGFzbid0IGJlZW4gc2V0IGJ5IHVzZXJcbiAgICAgICAgJCh0aGlzLmRyb3Bkb3duRWwpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBpZiAoIWVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9mb2N1c0ZvY3VzZWRJdGVtXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZvY3VzRm9jdXNlZEl0ZW0oKSB7XG4gICAgICAgIGlmICh0aGlzLmZvY3VzZWRJbmRleCA+PSAwICYmIHRoaXMuZm9jdXNlZEluZGV4IDwgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuLmxlbmd0aCAmJiB0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICAgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9nZXREcm9wZG93blBvc2l0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldERyb3Bkb3duUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRCUmVjdCA9IHRoaXMuZWwub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgdHJpZ2dlckJSZWN0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGRyb3Bkb3duQlJlY3QgPSB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIGlkZWFsSGVpZ2h0ID0gZHJvcGRvd25CUmVjdC5oZWlnaHQ7XG4gICAgICAgIHZhciBpZGVhbFdpZHRoID0gZHJvcGRvd25CUmVjdC53aWR0aDtcbiAgICAgICAgdmFyIGlkZWFsWFBvcyA9IHRyaWdnZXJCUmVjdC5sZWZ0IC0gZHJvcGRvd25CUmVjdC5sZWZ0O1xuICAgICAgICB2YXIgaWRlYWxZUG9zID0gdHJpZ2dlckJSZWN0LnRvcCAtIGRyb3Bkb3duQlJlY3QudG9wO1xuXG4gICAgICAgIHZhciBkcm9wZG93bkJvdW5kcyA9IHtcbiAgICAgICAgICBsZWZ0OiBpZGVhbFhQb3MsXG4gICAgICAgICAgdG9wOiBpZGVhbFlQb3MsXG4gICAgICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgICAgICB3aWR0aDogaWRlYWxXaWR0aFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENvdW50YWluZXIgaGVyZSB3aWxsIGJlIGNsb3Nlc3QgYW5jZXN0b3Igd2l0aCBvdmVyZmxvdzogaGlkZGVuXG4gICAgICAgIHZhciBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQgPSAhIXRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnQgPyB0aGlzLmRyb3Bkb3duRWwub2Zmc2V0UGFyZW50IDogdGhpcy5kcm9wZG93bkVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgdmFyIGFsaWdubWVudHMgPSBNLmNoZWNrUG9zc2libGVBbGlnbm1lbnRzKHRoaXMuZWwsIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCwgZHJvcGRvd25Cb3VuZHMsIHRoaXMub3B0aW9ucy5jb3ZlclRyaWdnZXIgPyAwIDogdHJpZ2dlckJSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2FsQWxpZ25tZW50ID0gJ3RvcCc7XG4gICAgICAgIHZhciBob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5vcHRpb25zLmFsaWdubWVudDtcbiAgICAgICAgaWRlYWxZUG9zICs9IHRoaXMub3B0aW9ucy5jb3ZlclRyaWdnZXIgPyAwIDogdHJpZ2dlckJSZWN0LmhlaWdodDtcblxuICAgICAgICAvLyBSZXNldCBpc1Njcm9sbGFibGVcbiAgICAgICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWFsaWdubWVudHMudG9wKSB7XG4gICAgICAgICAgaWYgKGFsaWdubWVudHMuYm90dG9tKSB7XG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaWRlIGhhcyBtb3N0IHNwYWNlIGFuZCBjdXRvZmYgYXQgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25Ub3AgPiBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b20pIHtcbiAgICAgICAgICAgICAgdmVydGljYWxBbGlnbm1lbnQgPSAnYm90dG9tJztcbiAgICAgICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uVG9wO1xuICAgICAgICAgICAgICBpZGVhbFlQb3MgLT0gYWxpZ25tZW50cy5zcGFjZU9uVG9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uQm90dG9tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHByZWZlcnJlZCBob3Jpem9udGFsIGFsaWdubWVudCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIWFsaWdubWVudHNbaG9yaXpvbnRhbEFsaWdubWVudF0pIHtcbiAgICAgICAgICB2YXIgb3Bwb3NpdGVBbGlnbm1lbnQgPSBob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAgIGlmIChhbGlnbm1lbnRzW29wcG9zaXRlQWxpZ25tZW50XSkge1xuICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9IG9wcG9zaXRlQWxpZ25tZW50O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc2lkZSBoYXMgbW9zdCBzcGFjZSBhbmQgY3V0b2ZmIGF0IGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgICAgICBpZiAoYWxpZ25tZW50cy5zcGFjZU9uTGVmdCA+IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0KSB7XG4gICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAncmlnaHQnO1xuICAgICAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgICAgICAgIGlkZWFsWFBvcyAtPSBhbGlnbm1lbnRzLnNwYWNlT25MZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgaWRlYWxXaWR0aCArPSBhbGlnbm1lbnRzLnNwYWNlT25SaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmVydGljYWxBbGlnbm1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgaWRlYWxZUG9zID0gaWRlYWxZUG9zIC0gZHJvcGRvd25CUmVjdC5oZWlnaHQgKyAodGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IHRyaWdnZXJCUmVjdC5oZWlnaHQgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGlkZWFsWFBvcyA9IGlkZWFsWFBvcyAtIGRyb3Bkb3duQlJlY3Qud2lkdGggKyB0cmlnZ2VyQlJlY3Qud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBpZGVhbFhQb3MsXG4gICAgICAgICAgeTogaWRlYWxZUG9zLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiB2ZXJ0aWNhbEFsaWdubWVudCxcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50OiBob3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgICAgIGhlaWdodDogaWRlYWxIZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGlkZWFsV2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGluIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbigpIHtcbiAgICAgICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgICB2YWx1ZTogWzAsIDFdLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY2FsZVg6IFswLjMsIDFdLFxuICAgICAgICAgIHNjYWxlWTogWzAuMywgMV0sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMxMS5vcHRpb25zLmF1dG9Gb2N1cykge1xuICAgICAgICAgICAgICBfdGhpczExLmRyb3Bkb3duRWwuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMTEub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxMS5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKF90aGlzMTEsIF90aGlzMTEuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQW5pbWF0ZSBvdXQgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlT3V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVPdXQoKSB7XG4gICAgICAgIHZhciBfdGhpczEyID0gdGhpcztcblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmRyb3Bkb3duRWwpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLmRyb3Bkb3duRWwsXG4gICAgICAgICAgb3BhY2l0eToge1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY2FsZVg6IDAuMyxcbiAgICAgICAgICBzY2FsZVk6IDAuMyxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgICAgICBfdGhpczEyLl9yZXNldERyb3Bkb3duU3R5bGVzKCk7XG5cbiAgICAgICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMxMi5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxMi5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczEyLCBfdGhpczEyLmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcGxhY2VEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wbGFjZURyb3Bkb3duKCkge1xuICAgICAgICAvLyBTZXQgd2lkdGggYmVmb3JlIGNhbGN1bGF0aW5nIHBvc2l0aW9uSW5mb1xuICAgICAgICB2YXIgaWRlYWxXaWR0aCA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5XaWR0aCA/IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggOiB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IGlkZWFsV2lkdGggKyAncHgnO1xuXG4gICAgICAgIHZhciBwb3NpdGlvbkluZm8gPSB0aGlzLl9nZXREcm9wZG93blBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5sZWZ0ID0gcG9zaXRpb25JbmZvLnggKyAncHgnO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudG9wID0gcG9zaXRpb25JbmZvLnkgKyAncHgnO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuaGVpZ2h0ID0gcG9zaXRpb25JbmZvLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IHBvc2l0aW9uSW5mby53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAocG9zaXRpb25JbmZvLmhvcml6b250YWxBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICcwJyA6ICcxMDAlJykgKyBcIiBcIiArIChwb3NpdGlvbkluZm8udmVydGljYWxBbGlnbm1lbnQgPT09ICd0b3AnID8gJzAnIDogJzEwMCUnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBPcGVuIERyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzZXQgc3R5bGVzXG4gICAgICAgIHRoaXMuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIHRoaXMuX3BsYWNlRHJvcGRvd24oKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICAgIHRoaXMuX3NldHVwVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIERyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gLTE7XG5cbiAgICAgICAgLy8gb25DbG9zZVN0YXJ0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVjYWxjdWxhdGUgZGltZW5zaW9uc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVjYWxjdWxhdGVEaW1lbnNpb25zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVjYWxjdWxhdGVEaW1lbnNpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLiRkcm9wZG93bkVsLmNzcyh7XG4gICAgICAgICAgICB3aWR0aDogJycsXG4gICAgICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICAgICAgbGVmdDogJycsXG4gICAgICAgICAgICB0b3A6ICcnLFxuICAgICAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX3BsYWNlRHJvcGRvd24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChEcm9wZG93bi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERyb3Bkb3duKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fRHJvcGRvd247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRHJvcGRvd247XG4gIH0oQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgRHJvcGRvd25cbiAgICovXG5cblxuICBEcm9wZG93bi5fZHJvcGRvd25zID0gW107XG5cbiAgTS5Ecm9wZG93biA9IERyb3Bkb3duO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoRHJvcGRvd24sICdkcm9wZG93bicsICdNX0Ryb3Bkb3duJyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgaW5EdXJhdGlvbjogMjUwLFxuICAgIG91dER1cmF0aW9uOiAyNTAsXG4gICAgb25PcGVuU3RhcnQ6IG51bGwsXG4gICAgb25PcGVuRW5kOiBudWxsLFxuICAgIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgICBvbkNsb3NlRW5kOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHRydWUsXG4gICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgc3RhcnRpbmdUb3A6ICc0JScsXG4gICAgZW5kaW5nVG9wOiAnMTAlJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQzKSB7XG4gICAgX2luaGVyaXRzKE1vZGFsLCBfQ29tcG9uZW50Myk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgTW9kYWwgaW5zdGFuY2UgYW5kIHNldCB1cCBvdmVybGF5XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gTW9kYWwoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICAgIHZhciBfdGhpczEzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWwpKS5jYWxsKHRoaXMsIE1vZGFsLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczEzLmVsLk1fTW9kYWwgPSBfdGhpczEzO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBNb2RhbCNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3BhY2l0eT0wLjVdIC0gT3BhY2l0eSBvZiB0aGUgbW9kYWwgb3ZlcmxheVxuICAgICAgICogQHByb3Age051bWJlcn0gW2luRHVyYXRpb249MjUwXSAtIExlbmd0aCBpbiBtcyBvZiBlbnRlciB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3V0RHVyYXRpb249MjUwXSAtIExlbmd0aCBpbiBtcyBvZiBleGl0IHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1vZGFsIGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5FbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VTdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VFbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2Rpc21pc3NpYmxlPXRydWVdIC0gQWxsb3cgbW9kYWwgdG8gYmUgZGlzbWlzc2VkIGJ5IGtleWJvYXJkIG9yIG92ZXJsYXkgY2xpY2tcbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFtzdGFydGluZ1RvcD0nNCUnXSAtIHN0YXJ0aW5nVG9wXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBbZW5kaW5nVG9wPScxMCUnXSAtIGVuZGluZ1RvcFxuICAgICAgICovXG4gICAgICBfdGhpczEzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBvcGVuL2Nsb3NlIHN0YXRlIG9mIG1vZGFsXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXMxMy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgX3RoaXMxMy5pZCA9IF90aGlzMTMuJGVsLmF0dHIoJ2lkJyk7XG4gICAgICBfdGhpczEzLl9vcGVuaW5nVHJpZ2dlciA9IHVuZGVmaW5lZDtcbiAgICAgIF90aGlzMTMuJG92ZXJsYXkgPSAkKCc8ZGl2IGNsYXNzPVwibW9kYWwtb3ZlcmxheVwiPjwvZGl2PicpO1xuICAgICAgX3RoaXMxMy5lbC50YWJJbmRleCA9IDA7XG4gICAgICBfdGhpczEzLl9udGhNb2RhbE9wZW5lZCA9IDA7XG5cbiAgICAgIE1vZGFsLl9jb3VudCsrO1xuICAgICAgX3RoaXMxMy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXMxMztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBNb2RhbC5fY291bnQtLTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5lbC5NX01vZGFsID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAoTW9kYWwuX2NvdW50ID09PSAxKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kb3ZlcmxheVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU1vZGFsQ2xvc2VDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGlmIChNb2RhbC5fY291bnQgPT09IDApIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRvdmVybGF5WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBUcmlnZ2VyIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlVHJpZ2dlckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICAgIHZhciAkdHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tb2RhbC10cmlnZ2VyJyk7XG4gICAgICAgIGlmICgkdHJpZ2dlci5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbW9kYWxJZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcigkdHJpZ2dlclswXSk7XG4gICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RhbElkKS5NX01vZGFsO1xuICAgICAgICAgIGlmIChtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLm9wZW4oJHRyaWdnZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgT3ZlcmxheSBDbGlja1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU92ZXJsYXlDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVPdmVybGF5Q2xpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgTW9kYWwgQ2xvc2UgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW9kYWxDbG9zZUNsaWNrKGUpIHtcbiAgICAgICAgdmFyICRjbG9zZVRyaWdnZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubW9kYWwtY2xvc2UnKTtcbiAgICAgICAgaWYgKCRjbG9zZVRyaWdnZXIubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIEtleWRvd25cbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUtleWRvd24oZSkge1xuICAgICAgICAvLyBFU0Mga2V5XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3ICYmIHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBGb2N1c1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUZvY3VzKGUpIHtcbiAgICAgICAgLy8gT25seSB0cmFwIGZvY3VzIGlmIHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgbW9kZWwgb3BlbmVkIChwcmV2ZW50cyBsb29wcyBpbiBuZXN0ZWQgbW9kYWxzKS5cbiAgICAgICAgaWYgKCF0aGlzLmVsLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiB0aGlzLl9udGhNb2RhbE9wZW5lZCA9PT0gTW9kYWwuX21vZGFsc09wZW4pIHtcbiAgICAgICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGluIG1vZGFsXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbigpIHtcbiAgICAgICAgdmFyIF90aGlzMTQgPSB0aGlzO1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0eWxlc1xuICAgICAgICAkLmV4dGVuZCh0aGlzLmVsLnN0eWxlLCB7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pO1xuICAgICAgICAkLmV4dGVuZCh0aGlzLiRvdmVybGF5WzBdLnN0eWxlLCB7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgb3ZlcmxheVxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVmaW5lIG1vZGFsIGFuaW1hdGlvbiBvcHRpb25zXG4gICAgICAgIHZhciBlbnRlckFuaW1PcHRpb25zID0ge1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAgICAgLy8gSGFuZGxlIG1vZGFsIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMTQub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxNC5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKF90aGlzMTQsIF90aGlzMTQuZWwsIF90aGlzMTQuX29wZW5pbmdUcmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQm90dG9tIHNoZWV0IGFuaW1hdGlvblxuICAgICAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICAgICAgJC5leHRlbmQoZW50ZXJBbmltT3B0aW9ucywge1xuICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFuaW0oZW50ZXJBbmltT3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBOb3JtYWwgbW9kYWwgYW5pbWF0aW9uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJC5leHRlbmQoZW50ZXJBbmltT3B0aW9ucywge1xuICAgICAgICAgICAgdG9wOiBbdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wLCB0aGlzLm9wdGlvbnMuZW5kaW5nVG9wXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBzY2FsZVg6IFswLjgsIDFdLFxuICAgICAgICAgICAgc2NhbGVZOiBbMC44LCAxXVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFuaW0oZW50ZXJBbmltT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIG91dCBtb2RhbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dCgpIHtcbiAgICAgICAgdmFyIF90aGlzMTUgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgb3ZlcmxheVxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlZmluZSBtb2RhbCBhbmltYXRpb24gb3B0aW9uc1xuICAgICAgICB2YXIgZXhpdEFuaW1PcHRpb25zID0ge1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnLFxuICAgICAgICAgIC8vIEhhbmRsZSBtb2RhbCByZWFkeSBjYWxsYmFja1xuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczE1LmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBfdGhpczE1LiRvdmVybGF5LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAvLyBDYWxsIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMxNS5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMxNS5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczE1LCBfdGhpczE1LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQm90dG9tIHNoZWV0IGFuaW1hdGlvblxuICAgICAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICAgICAgJC5leHRlbmQoZXhpdEFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgICBib3R0b206ICctMTAwJScsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5pbShleGl0QW5pbU9wdGlvbnMpO1xuXG4gICAgICAgICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQuZXh0ZW5kKGV4aXRBbmltT3B0aW9ucywge1xuICAgICAgICAgICAgdG9wOiBbdGhpcy5vcHRpb25zLmVuZGluZ1RvcCwgdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBzY2FsZVg6IDAuOCxcbiAgICAgICAgICAgIHNjYWxlWTogMC44XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5pbShleGl0QW5pbU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBNb2RhbFxuICAgICAgICogQHBhcmFtIHtjYXNofSBbJHRyaWdnZXJdXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigkdHJpZ2dlcikge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIE1vZGFsLl9tb2RhbHNPcGVuKys7XG4gICAgICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gTW9kYWwuX21vZGFsc09wZW47XG5cbiAgICAgICAgLy8gU2V0IFotSW5kZXggYmFzZWQgb24gbnVtYmVyIG9mIGN1cnJlbnRseSBvcGVuIG1vZGFsc1xuICAgICAgICB0aGlzLiRvdmVybGF5WzBdLnN0eWxlLnpJbmRleCA9IDEwMDAgKyBNb2RhbC5fbW9kYWxzT3BlbiAqIDI7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuekluZGV4ID0gMTAwMCArIE1vZGFsLl9tb2RhbHNPcGVuICogMiArIDE7XG5cbiAgICAgICAgLy8gU2V0IG9wZW5pbmcgdHJpZ2dlciwgdW5kZWZpbmVkIGluZGljYXRlcyBtb2RhbCB3YXMgb3BlbmVkIGJ5IGphdmFzY3JpcHRcbiAgICAgICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSAhISR0cmlnZ2VyID8gJHRyaWdnZXJbMF0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLl9vcGVuaW5nVHJpZ2dlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRTY3JvbGxpbmcpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgdGhpcy5lbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUtleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlRm9jdXMuYmluZCh0aGlzKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJG92ZXJsYXlbMF0pO1xuICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcblxuICAgICAgICAvLyBGb2N1cyBtb2RhbFxuICAgICAgICB0aGlzLmVsLmZvY3VzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xvc2UgTW9kYWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBNb2RhbC5fbW9kYWxzT3Blbi0tO1xuICAgICAgICB0aGlzLl9udGhNb2RhbE9wZW5lZCA9IDA7XG5cbiAgICAgICAgLy8gQ2FsbCBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG5cbiAgICAgICAgLy8gRW5hYmxlIGJvZHkgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlcmUgYXJlIG5vIG1vcmUgbW9kYWxzIG9wZW4uXG4gICAgICAgIGlmIChNb2RhbC5fbW9kYWxzT3BlbiA9PT0gMCkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJG92ZXJsYXlbMF0pO1xuICAgICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1vZGFsKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fTW9kYWw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgTW9kYWxcbiAgICovXG5cblxuICBNb2RhbC5fbW9kYWxzT3BlbiA9IDA7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIE1vZGFsXG4gICAqL1xuICBNb2RhbC5fY291bnQgPSAwO1xuXG4gIE0uTW9kYWwgPSBNb2RhbDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKE1vZGFsLCAnbW9kYWwnLCAnTV9Nb2RhbCcpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgaW5EdXJhdGlvbjogMjc1LFxuICAgIG91dER1cmF0aW9uOiAyMDAsXG4gICAgb25PcGVuU3RhcnQ6IG51bGwsXG4gICAgb25PcGVuRW5kOiBudWxsLFxuICAgIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgICBvbkNsb3NlRW5kOiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgTWF0ZXJpYWxib3ggPSBmdW5jdGlvbiAoX0NvbXBvbmVudDQpIHtcbiAgICBfaW5oZXJpdHMoTWF0ZXJpYWxib3gsIF9Db21wb25lbnQ0KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBNYXRlcmlhbGJveCBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdGVyaWFsYm94KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0ZXJpYWxib3gpO1xuXG4gICAgICB2YXIgX3RoaXMxNiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNYXRlcmlhbGJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1hdGVyaWFsYm94KSkuY2FsbCh0aGlzLCBNYXRlcmlhbGJveCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMxNi5lbC5NX01hdGVyaWFsYm94ID0gX3RoaXMxNjtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgbW9kYWxcbiAgICAgICAqIEBtZW1iZXIgTWF0ZXJpYWxib3gjb3B0aW9uc1xuICAgICAgICogQHByb3Age051bWJlcn0gW2luRHVyYXRpb249Mjc1XSAtIExlbmd0aCBpbiBtcyBvZiBlbnRlciB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3V0RHVyYXRpb249MjAwXSAtIExlbmd0aCBpbiBtcyBvZiBleGl0IHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1hdGVyaWFsYm94IGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5FbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbWF0ZXJpYWxib3ggaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VTdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbWF0ZXJpYWxib3ggaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VFbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbWF0ZXJpYWxib3ggaXMgY2xvc2VkXG4gICAgICAgKi9cbiAgICAgIF90aGlzMTYub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNYXRlcmlhbGJveC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzMTYub3ZlcmxheUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgX3RoaXMxNi5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIF90aGlzMTYucGxhY2Vob2xkZXIgPSAkKCc8ZGl2PjwvZGl2PicpLmFkZENsYXNzKCdtYXRlcmlhbC1wbGFjZWhvbGRlcicpO1xuICAgICAgX3RoaXMxNi5vcmlnaW5hbFdpZHRoID0gMDtcbiAgICAgIF90aGlzMTYub3JpZ2luYWxIZWlnaHQgPSAwO1xuICAgICAgX3RoaXMxNi5vcmlnaW5JbmxpbmVTdHlsZXMgPSBfdGhpczE2LiRlbC5hdHRyKCdzdHlsZScpO1xuICAgICAgX3RoaXMxNi5jYXB0aW9uID0gX3RoaXMxNi5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FwdGlvbicpIHx8ICcnO1xuXG4gICAgICAvLyBXcmFwXG4gICAgICBfdGhpczE2LiRlbC5iZWZvcmUoX3RoaXMxNi5wbGFjZWhvbGRlcik7XG4gICAgICBfdGhpczE2LnBsYWNlaG9sZGVyLmFwcGVuZChfdGhpczE2LiRlbCk7XG5cbiAgICAgIF90aGlzMTYuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzMTY7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdGVyaWFsYm94LCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fTWF0ZXJpYWxib3ggPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVW53cmFwIGltYWdlXG4gICAgICAgICQodGhpcy5wbGFjZWhvbGRlcikuYWZ0ZXIodGhpcy5lbCkucmVtb3ZlKCk7XG5cbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgTWF0ZXJpYWxib3ggQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVNYXRlcmlhbGJveENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2soZSkge1xuICAgICAgICAvLyBJZiBhbHJlYWR5IG1vZGFsLCByZXR1cm4gdG8gb3JpZ2luYWxcbiAgICAgICAgaWYgKHRoaXMuZG9uZUFuaW1hdGluZyA9PT0gZmFsc2UgfHwgdGhpcy5vdmVybGF5QWN0aXZlICYmIHRoaXMuZG9uZUFuaW1hdGluZykge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBXaW5kb3cgU2Nyb2xsXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlV2luZG93U2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVdpbmRvd1Njcm9sbCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBXaW5kb3cgUmVzaXplXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlV2luZG93UmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBXaW5kb3cgUmVzaXplXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlV2luZG93RXNjYXBlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVdpbmRvd0VzY2FwZShlKSB7XG4gICAgICAgIC8vIEVTQyBrZXlcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcgJiYgdGhpcy5kb25lQW5pbWF0aW5nICYmIHRoaXMub3ZlcmxheUFjdGl2ZSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEZpbmQgYW5jZXN0b3JzIHdpdGggb3ZlcmZsb3c6IGhpZGRlbjsgYW5kIG1ha2UgdmlzaWJsZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX21ha2VBbmNlc3RvcnNPdmVyZmxvd1Zpc2libGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpIHtcbiAgICAgICAgdGhpcy5hbmNlc3RvcnNDaGFuZ2VkID0gJCgpO1xuICAgICAgICB2YXIgYW5jZXN0b3IgPSB0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGU7XG4gICAgICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiAhJChhbmNlc3RvcikuaXMoZG9jdW1lbnQpKSB7XG4gICAgICAgICAgdmFyIGN1cnIgPSAkKGFuY2VzdG9yKTtcbiAgICAgICAgICBpZiAoY3Vyci5jc3MoJ292ZXJmbG93JykgIT09ICd2aXNpYmxlJykge1xuICAgICAgICAgICAgY3Vyci5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2VzdG9yc0NoYW5nZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB0aGlzLmFuY2VzdG9yc0NoYW5nZWQgPSBjdXJyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hbmNlc3RvcnNDaGFuZ2VkID0gdGhpcy5hbmNlc3RvcnNDaGFuZ2VkLmFkZChjdXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQW5pbWF0ZSBpbWFnZSBpblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJbWFnZUluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbWFnZUluKCkge1xuICAgICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGFuaW1PcHRpb25zID0ge1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgaGVpZ2h0OiBbdGhpcy5vcmlnaW5hbEhlaWdodCwgdGhpcy5uZXdIZWlnaHRdLFxuICAgICAgICAgIHdpZHRoOiBbdGhpcy5vcmlnaW5hbFdpZHRoLCB0aGlzLm5ld1dpZHRoXSxcbiAgICAgICAgICBsZWZ0OiBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpICsgdGhpcy53aW5kb3dXaWR0aCAvIDIgLSB0aGlzLnBsYWNlaG9sZGVyLm9mZnNldCgpLmxlZnQgLSB0aGlzLm5ld1dpZHRoIC8gMixcbiAgICAgICAgICB0b3A6IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSArIHRoaXMud2luZG93SGVpZ2h0IC8gMiAtIHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkudG9wIC0gdGhpcy5uZXdIZWlnaHQgLyAyLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMTcuZG9uZUFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczE3Lm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIF90aGlzMTcub3B0aW9ucy5vbk9wZW5FbmQuY2FsbChfdGhpczE3LCBfdGhpczE3LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgbWF4LXdpZHRoIG9yIG1heC1oZWlnaHQgaWYgbmVlZGVkXG4gICAgICAgIHRoaXMubWF4V2lkdGggPSB0aGlzLiRlbC5jc3MoJ21heC13aWR0aCcpO1xuICAgICAgICB0aGlzLm1heEhlaWdodCA9IHRoaXMuJGVsLmNzcygnbWF4LWhlaWdodCcpO1xuICAgICAgICBpZiAodGhpcy5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgYW5pbU9wdGlvbnMubWF4V2lkdGggPSB0aGlzLm5ld1dpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1heEhlaWdodCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgYW5pbU9wdGlvbnMubWF4SGVpZ2h0ID0gdGhpcy5uZXdIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGltYWdlIG91dFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVJbWFnZU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlSW1hZ2VPdXQoKSB7XG4gICAgICAgIHZhciBfdGhpczE4ID0gdGhpcztcblxuICAgICAgICB2YXIgYW5pbU9wdGlvbnMgPSB7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICB3aWR0aDogdGhpcy5vcmlnaW5hbFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogdGhpcy5vcmlnaW5hbEhlaWdodCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMxOC5wbGFjZWhvbGRlci5jc3Moe1xuICAgICAgICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICAgICAgICB3aWR0aDogJycsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnJyxcbiAgICAgICAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgICAgICAgbGVmdDogJydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBSZXZlcnQgdG8gd2lkdGggb3IgaGVpZ2h0IGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKF90aGlzMTguYXR0cldpZHRoKSB7XG4gICAgICAgICAgICAgIF90aGlzMTguJGVsLmF0dHIoJ3dpZHRoJywgX3RoaXMxOC5hdHRyV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzMTguYXR0ckhlaWdodCkge1xuICAgICAgICAgICAgICBfdGhpczE4LiRlbC5hdHRyKCdoZWlnaHQnLCBfdGhpczE4LmF0dHJIZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczE4LiRlbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgX3RoaXMxOC5vcmlnaW5JbmxpbmVTdHlsZXMgJiYgX3RoaXMxOC4kZWwuYXR0cignc3R5bGUnLCBfdGhpczE4Lm9yaWdpbklubGluZVN0eWxlcyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzc1xuICAgICAgICAgICAgX3RoaXMxOC4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgX3RoaXMxOC5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIG92ZXJmbG93IG92ZXJyaWRlcyBvbiBhbmNlc3RvcnNcbiAgICAgICAgICAgIGlmIChfdGhpczE4LmFuY2VzdG9yc0NoYW5nZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIF90aGlzMTguYW5jZXN0b3JzQ2hhbmdlZC5jc3MoJ292ZXJmbG93JywgJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMTgub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIF90aGlzMTgub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwoX3RoaXMxOCwgX3RoaXMxOC5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFVwZGF0ZSBvcGVuIGFuZCBjbG9zZSB2YXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlVmFyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVWYXJzKCkge1xuICAgICAgICB0aGlzLndpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMud2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB0aGlzLmNhcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJykgfHwgJyc7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBNYXRlcmlhbGJveFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIHZhciBfdGhpczE5ID0gdGhpcztcblxuICAgICAgICB0aGlzLl91cGRhdGVWYXJzKCk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxXaWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHRoaXMub3JpZ2luYWxIZWlnaHQgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgICAgICAvLyBTZXQgc3RhdGVzXG4gICAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMub3ZlcmxheUFjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgLy8gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBwb3NpdGlvbmluZyBmb3IgcGxhY2Vob2xkZXJcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5jc3Moe1xuICAgICAgICAgIHdpZHRoOiB0aGlzLnBsYWNlaG9sZGVyWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JyxcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMucGxhY2Vob2xkZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9tYWtlQW5jZXN0b3JzT3ZlcmZsb3dWaXNpYmxlKCk7XG5cbiAgICAgICAgLy8gU2V0IGNzcyBvbiBvcmlnaW5cbiAgICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAnei1pbmRleCc6IDEwMDAsXG4gICAgICAgICAgJ3dpbGwtY2hhbmdlJzogJ2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hhbmdlIGZyb20gd2lkdGggb3IgaGVpZ2h0IGF0dHJpYnV0ZSB0byBjc3NcbiAgICAgICAgdGhpcy5hdHRyV2lkdGggPSB0aGlzLiRlbC5hdHRyKCd3aWR0aCcpO1xuICAgICAgICB0aGlzLmF0dHJIZWlnaHQgPSB0aGlzLiRlbC5hdHRyKCdoZWlnaHQnKTtcbiAgICAgICAgaWYgKHRoaXMuYXR0cldpZHRoKSB7XG4gICAgICAgICAgdGhpcy4kZWwuY3NzKCd3aWR0aCcsIHRoaXMuYXR0cldpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignd2lkdGgnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRySGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy4kZWwuY3NzKCd3aWR0aCcsIHRoaXMuYXR0ckhlaWdodCArICdweCcpO1xuICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ2hlaWdodCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG92ZXJsYXlcbiAgICAgICAgdGhpcy4kb3ZlcmxheSA9ICQoJzxkaXYgaWQ9XCJtYXRlcmlhbGJveC1vdmVybGF5XCI+PC9kaXY+JykuY3NzKHtcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pLm9uZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMTkuZG9uZUFuaW1hdGluZykge1xuICAgICAgICAgICAgX3RoaXMxOS5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHV0IGJlZm9yZSBpbiBvcmlnaW4gaW1hZ2UgdG8gcHJlc2VydmUgei1pbmRleCBsYXllcmluZy5cbiAgICAgICAgdGhpcy4kZWwuYmVmb3JlKHRoaXMuJG92ZXJsYXkpO1xuXG4gICAgICAgIC8vIFNldCBkaW1lbnNpb25zIGlmIG5lZWRlZFxuICAgICAgICB2YXIgb3ZlcmxheU9mZnNldCA9IHRoaXMuJG92ZXJsYXlbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuJG92ZXJsYXkuY3NzKHtcbiAgICAgICAgICB3aWR0aDogdGhpcy53aW5kb3dXaWR0aCArICdweCcsXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLndpbmRvd0hlaWdodCArICdweCcsXG4gICAgICAgICAgbGVmdDogLTEgKiBvdmVybGF5T2Zmc2V0LmxlZnQgKyAncHgnLFxuICAgICAgICAgIHRvcDogLTEgKiBvdmVybGF5T2Zmc2V0LnRvcCArICdweCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJG92ZXJsYXlbMF0pO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgT3ZlcmxheVxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgYW5kIGFuaW1hdGUgY2FwdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICBpZiAodGhpcy4kcGhvdG9jYXB0aW9uKSB7XG4gICAgICAgICAgICBhbmltLnJlbW92ZSh0aGlzLiRwaG90b0NhcHRpb25bMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLiRwaG90b0NhcHRpb24gPSAkKCc8ZGl2IGNsYXNzPVwibWF0ZXJpYWxib3gtY2FwdGlvblwiPjwvZGl2PicpO1xuICAgICAgICAgIHRoaXMuJHBob3RvQ2FwdGlvbi50ZXh0KHRoaXMuY2FwdGlvbik7XG4gICAgICAgICAgJCgnYm9keScpLmFwcGVuZCh0aGlzLiRwaG90b0NhcHRpb24pO1xuICAgICAgICAgIHRoaXMuJHBob3RvQ2FwdGlvbi5jc3MoeyBkaXNwbGF5OiAnaW5saW5lJyB9KTtcblxuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy4kcGhvdG9DYXB0aW9uWzBdLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzaXplIEltYWdlXG4gICAgICAgIHZhciByYXRpbyA9IDA7XG4gICAgICAgIHZhciB3aWR0aFBlcmNlbnQgPSB0aGlzLm9yaWdpbmFsV2lkdGggLyB0aGlzLndpbmRvd1dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0UGVyY2VudCA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLndpbmRvd0hlaWdodDtcbiAgICAgICAgdGhpcy5uZXdXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gMDtcblxuICAgICAgICBpZiAod2lkdGhQZXJjZW50ID4gaGVpZ2h0UGVyY2VudCkge1xuICAgICAgICAgIHJhdGlvID0gdGhpcy5vcmlnaW5hbEhlaWdodCAvIHRoaXMub3JpZ2luYWxXaWR0aDtcbiAgICAgICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOTtcbiAgICAgICAgICB0aGlzLm5ld0hlaWdodCA9IHRoaXMud2luZG93V2lkdGggKiAwLjkgKiByYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRpbyA9IHRoaXMub3JpZ2luYWxXaWR0aCAvIHRoaXMub3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45ICogcmF0aW87XG4gICAgICAgICAgdGhpcy5uZXdIZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodCAqIDAuOTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbWFnZUluKCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIEV4aXQgdHJpZ2dlcnNcbiAgICAgICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUuYmluZCh0aGlzKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xvc2UgTWF0ZXJpYWxib3hcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHZhciBfdGhpczIwID0gdGhpcztcblxuICAgICAgICB0aGlzLl91cGRhdGVWYXJzKCk7XG4gICAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICBhbmltLnJlbW92ZSh0aGlzLiRwaG90b0NhcHRpb25bMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzYWJsZSBleGl0IGhhbmRsZXJzXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZVdpbmRvd0VzY2FwZUJvdW5kKTtcblxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMjAub3ZlcmxheUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMyMC4kb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbWFnZU91dCgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBDYXB0aW9uICsgcmVzZXQgY3NzIHNldHRpbmdzIG9uIGltYWdlXG4gICAgICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRwaG90b0NhcHRpb25bMF0sXG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzMjAuJHBob3RvQ2FwdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChNYXRlcmlhbGJveC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1hdGVyaWFsYm94KSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fTWF0ZXJpYWxib3g7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0ZXJpYWxib3g7XG4gIH0oQ29tcG9uZW50KTtcblxuICBNLk1hdGVyaWFsYm94ID0gTWF0ZXJpYWxib3g7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihNYXRlcmlhbGJveCwgJ21hdGVyaWFsYm94JywgJ01fTWF0ZXJpYWxib3gnKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IDAgLy8gYnJlYWtwb2ludCBmb3Igc3dpcGVhYmxlXG4gIH07XG5cbiAgdmFyIFBhcmFsbGF4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQ1KSB7XG4gICAgX2luaGVyaXRzKFBhcmFsbGF4LCBfQ29tcG9uZW50NSk7XG5cbiAgICBmdW5jdGlvbiBQYXJhbGxheChlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcmFsbGF4KTtcblxuICAgICAgdmFyIF90aGlzMjEgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGFyYWxsYXguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXJhbGxheCkpLmNhbGwodGhpcywgUGFyYWxsYXgsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMjEuZWwuTV9QYXJhbGxheCA9IF90aGlzMjE7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIFBhcmFsbGF4XG4gICAgICAgKiBAbWVtYmVyIFBhcmFsbGF4I29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IHJlc3BvbnNpdmVUaHJlc2hvbGRcbiAgICAgICAqL1xuICAgICAgX3RoaXMyMS5vcHRpb25zID0gJC5leHRlbmQoe30sIFBhcmFsbGF4LmRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgIF90aGlzMjEuX2VuYWJsZWQgPSB3aW5kb3cuaW5uZXJXaWR0aCA+IF90aGlzMjEub3B0aW9ucy5yZXNwb25zaXZlVGhyZXNob2xkO1xuXG4gICAgICBfdGhpczIxLiRpbWcgPSBfdGhpczIxLiRlbC5maW5kKCdpbWcnKS5maXJzdCgpO1xuICAgICAgX3RoaXMyMS4kaW1nLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgICBpZiAoZWwuY29tcGxldGUpICQoZWwpLnRyaWdnZXIoJ2xvYWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpczIxLl91cGRhdGVQYXJhbGxheCgpO1xuICAgICAgX3RoaXMyMS5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICBfdGhpczIxLl9zZXR1cFN0eWxlcygpO1xuXG4gICAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5wdXNoKF90aGlzMjEpO1xuICAgICAgcmV0dXJuIF90aGlzMjE7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBhcmFsbGF4LCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMuc3BsaWNlKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgICB0aGlzLiRpbWdbMF0uc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgICB0aGlzLiRlbFswXS5NX1BhcmFsbGF4ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VMb2FkQm91bmQgPSB0aGlzLl9oYW5kbGVJbWFnZUxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy4kaW1nWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9oYW5kbGVJbWFnZUxvYWRCb3VuZCk7XG5cbiAgICAgICAgaWYgKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQgPSBNLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGwsIDUpO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkKTtcblxuICAgICAgICAgIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQgPSBNLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemUsIDUpO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLiRpbWdbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kKTtcblxuICAgICAgICBpZiAoUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBTdHlsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBTdHlsZXMoKSB7XG4gICAgICAgIHRoaXMuJGltZ1swXS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUltYWdlTG9hZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbWFnZUxvYWQoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBhcmFsbGF4KCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl91cGRhdGVQYXJhbGxheFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVQYXJhbGxheCgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuJGVsLmhlaWdodCgpID4gMCA/IHRoaXMuZWwucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQgOiA1MDA7XG4gICAgICAgIHZhciBpbWdIZWlnaHQgPSB0aGlzLiRpbWdbMF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgcGFyYWxsYXhEaXN0ID0gaW1nSGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICB2YXIgYm90dG9tID0gdGhpcy4kZWwub2Zmc2V0KCkudG9wICsgY29udGFpbmVySGVpZ2h0O1xuICAgICAgICB2YXIgdG9wID0gdGhpcy4kZWwub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB2YXIgd2luZG93Qm90dG9tID0gc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0O1xuICAgICAgICB2YXIgcGVyY2VudFNjcm9sbGVkID0gKHdpbmRvd0JvdHRvbSAtIHRvcCkgLyAoY29udGFpbmVySGVpZ2h0ICsgd2luZG93SGVpZ2h0KTtcbiAgICAgICAgdmFyIHBhcmFsbGF4ID0gcGFyYWxsYXhEaXN0ICogcGVyY2VudFNjcm9sbGVkO1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuJGltZ1swXS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgfSBlbHNlIGlmIChib3R0b20gPiBzY3JvbGxUb3AgJiYgdG9wIDwgc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM0QoLTUwJSwgXCIgKyBwYXJhbGxheCArIFwicHgsIDApXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoUGFyYWxsYXguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXJhbGxheCksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1BhcmFsbGF4O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlU2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNjcm9sbCgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fdXBkYXRlUGFyYWxsYXguY2FsbChwYXJhbGxheEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlV2luZG93UmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fZW5hYmxlZCA9IHdpbmRvdy5pbm5lcldpZHRoID4gcGFyYWxsYXhJbnN0YW5jZS5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQYXJhbGxheDtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQYXJhbGxheFxuICAgKi9cblxuXG4gIFBhcmFsbGF4Ll9wYXJhbGxheGVzID0gW107XG5cbiAgTS5QYXJhbGxheCA9IFBhcmFsbGF4O1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUGFyYWxsYXgsICdwYXJhbGxheCcsICdNX1BhcmFsbGF4Jyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkdXJhdGlvbjogMzAwLFxuICAgIG9uU2hvdzogbnVsbCxcbiAgICBzd2lwZWFibGU6IGZhbHNlLFxuICAgIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IEluZmluaXR5IC8vIGJyZWFrcG9pbnQgZm9yIHN3aXBlYWJsZVxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFRhYnMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDYpIHtcbiAgICBfaW5oZXJpdHMoVGFicywgX0NvbXBvbmVudDYpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IFRhYnMgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUYWJzKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFicyk7XG5cbiAgICAgIHZhciBfdGhpczIyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRhYnMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJzKSkuY2FsbCh0aGlzLCBUYWJzLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczIyLmVsLk1fVGFicyA9IF90aGlzMjI7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIFRhYnNcbiAgICAgICAqIEBtZW1iZXIgVGFicyNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBkdXJhdGlvblxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvblNob3dcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBzd2lwZWFibGVcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IHJlc3BvbnNpdmVUaHJlc2hvbGRcbiAgICAgICAqL1xuICAgICAgX3RoaXMyMi5vcHRpb25zID0gJC5leHRlbmQoe30sIFRhYnMuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBTZXR1cFxuICAgICAgX3RoaXMyMi4kdGFiTGlua3MgPSBfdGhpczIyLiRlbC5jaGlsZHJlbignbGkudGFiJykuY2hpbGRyZW4oJ2EnKTtcbiAgICAgIF90aGlzMjIuaW5kZXggPSAwO1xuICAgICAgX3RoaXMyMi5fc2V0dXBBY3RpdmVUYWJMaW5rKCk7XG5cbiAgICAgIC8vIFNldHVwIHRhYnMgY29udGVudFxuICAgICAgaWYgKF90aGlzMjIub3B0aW9ucy5zd2lwZWFibGUpIHtcbiAgICAgICAgX3RoaXMyMi5fc2V0dXBTd2lwZWFibGVUYWJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczIyLl9zZXR1cE5vcm1hbFRhYnMoKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgdGFicyBpbmRpY2F0b3IgYWZ0ZXIgY29udGVudCB0byBlbnN1cmUgYWNjdXJhdGUgd2lkdGhzXG4gICAgICBfdGhpczIyLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICAgIF90aGlzMjIuX2NyZWF0ZUluZGljYXRvcigpO1xuXG4gICAgICBfdGhpczIyLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczIyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUYWJzLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9pbmRpY2F0b3IpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XG4gICAgICAgICAgdGhpcy5fdGVhcmRvd25Td2lwZWFibGVUYWJzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fdGVhcmRvd25Ob3JtYWxUYWJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbFswXS5NX1RhYnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZVRhYkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVUYWJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2tCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIHdpbmRvdyBSZXNpemVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dSZXNpemVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcblxuICAgICAgICBpZiAodGhpcy50YWJXaWR0aCAhPT0gMCAmJiB0aGlzLnRhYnNXaWR0aCAhPT0gMCkge1xuICAgICAgICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5sZWZ0ID0gdGhpcy5fY2FsY0xlZnRQb3ModGhpcy4kYWN0aXZlVGFiTGluaykgKyAncHgnO1xuICAgICAgICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5yaWdodCA9IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLiRhY3RpdmVUYWJMaW5rKSArICdweCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgdGFiIGNsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlVGFiQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVGFiQ2xpY2soZSkge1xuICAgICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRhYiA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpLnRhYicpO1xuICAgICAgICB2YXIgdGFiTGluayA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2EnKTtcblxuICAgICAgICAvLyBIYW5kbGUgY2xpY2sgb24gdGFiIGxpbmsgb25seVxuICAgICAgICBpZiAoIXRhYkxpbmsubGVuZ3RoIHx8ICF0YWJMaW5rLnBhcmVudCgpLmhhc0NsYXNzKCd0YWInKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YWIuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0IGFzIHJlZ3VsYXIgbGluayBpZiB0YXJnZXQgYXR0cmlidXRlIGlzIHNwZWNpZmllZC5cbiAgICAgICAgaWYgKCEhdGFiTGluay5hdHRyKCd0YXJnZXQnKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2UgdGhlIG9sZCB0YWIgaW5hY3RpdmUuXG4gICAgICAgIHRoaXMuJGFjdGl2ZVRhYkxpbmsucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB2YXIgJG9sZENvbnRlbnQgPSB0aGlzLiRjb250ZW50O1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFyaWFibGVzIHdpdGggdGhlIG5ldyBsaW5rIGFuZCBjb250ZW50XG4gICAgICAgIHRoaXMuJGFjdGl2ZVRhYkxpbmsgPSB0YWJMaW5rO1xuICAgICAgICB0aGlzLiRjb250ZW50ID0gJChNLmVzY2FwZUhhc2godGFiTGlua1swXS5oYXNoKSk7XG4gICAgICAgIHRoaXMuJHRhYkxpbmtzID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpLnRhYicpLmNoaWxkcmVuKCdhJyk7XG5cbiAgICAgICAgLy8gTWFrZSB0aGUgdGFiIGFjdGl2ZS5cbiAgICAgICAgdGhpcy4kYWN0aXZlVGFiTGluay5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLmluZGV4ID0gTWF0aC5tYXgodGhpcy4kdGFiTGlua3MuaW5kZXgodGFiTGluayksIDApO1xuXG4gICAgICAgIC8vIFN3YXAgY29udGVudFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICAgIGlmICh0aGlzLl90YWJzQ2Fyb3VzZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5zZXQodGhpcy5pbmRleCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMjMub3B0aW9ucy5vblNob3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIzLm9wdGlvbnMub25TaG93LmNhbGwoX3RoaXMyMywgX3RoaXMyMy4kY29udGVudFswXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy4kY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRlbnRbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB0aGlzLiRjb250ZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy4kY29udGVudFswXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkb2xkQ29udGVudC5sZW5ndGggJiYgISRvbGRDb250ZW50LmlzKHRoaXMuJGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICRvbGRDb250ZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICRvbGRDb250ZW50LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgd2lkdGhzIGFmdGVyIGNvbnRlbnQgaXMgc3dhcHBlZCAoc2Nyb2xsYmFyIGJ1Z2ZpeClcbiAgICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGluZGljYXRvclxuICAgICAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG5cbiAgICAgICAgLy8gUHJldmVudCB0aGUgYW5jaG9yJ3MgZGVmYXVsdCBjbGljayBhY3Rpb25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdlbmVyYXRlIGVsZW1lbnRzIGZvciB0YWIgaW5kaWNhdG9yLlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NyZWF0ZUluZGljYXRvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVJbmRpY2F0b3IoKSB7XG4gICAgICAgIHZhciBfdGhpczI0ID0gdGhpcztcblxuICAgICAgICB2YXIgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvcicpO1xuXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yID0gaW5kaWNhdG9yO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMjQuX2luZGljYXRvci5zdHlsZS5sZWZ0ID0gX3RoaXMyNC5fY2FsY0xlZnRQb3MoX3RoaXMyNC4kYWN0aXZlVGFiTGluaykgKyAncHgnO1xuICAgICAgICAgIF90aGlzMjQuX2luZGljYXRvci5zdHlsZS5yaWdodCA9IF90aGlzMjQuX2NhbGNSaWdodFBvcyhfdGhpczI0LiRhY3RpdmVUYWJMaW5rKSArICdweCc7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIGZpcnN0IGFjdGl2ZSB0YWIgbGluay5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEFjdGl2ZVRhYkxpbmtcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBBY3RpdmVUYWJMaW5rKCkge1xuICAgICAgICAvLyBJZiB0aGUgbG9jYXRpb24uaGFzaCBtYXRjaGVzIG9uZSBvZiB0aGUgbGlua3MsIHVzZSB0aGF0IGFzIHRoZSBhY3RpdmUgdGFiLlxuICAgICAgICB0aGlzLiRhY3RpdmVUYWJMaW5rID0gJCh0aGlzLiR0YWJMaW5rcy5maWx0ZXIoJ1tocmVmPVwiJyArIGxvY2F0aW9uLmhhc2ggKyAnXCJdJykpO1xuXG4gICAgICAgIC8vIElmIG5vIG1hdGNoIGlzIGZvdW5kLCB1c2UgdGhlIGZpcnN0IGxpbmsgb3IgYW55IHdpdGggY2xhc3MgJ2FjdGl2ZScgYXMgdGhlIGluaXRpYWwgYWN0aXZlIHRhYi5cbiAgICAgICAgaWYgKHRoaXMuJGFjdGl2ZVRhYkxpbmsubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy4kYWN0aXZlVGFiTGluayA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaS50YWInKS5jaGlsZHJlbignYS5hY3RpdmUnKS5maXJzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRhY3RpdmVUYWJMaW5rLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuJGFjdGl2ZVRhYkxpbmsgPSB0aGlzLiRlbC5jaGlsZHJlbignbGkudGFiJykuY2hpbGRyZW4oJ2EnKS5maXJzdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kdGFiTGlua3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLiRhY3RpdmVUYWJMaW5rWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICAgIHRoaXMuaW5kZXggPSBNYXRoLm1heCh0aGlzLiR0YWJMaW5rcy5pbmRleCh0aGlzLiRhY3RpdmVUYWJMaW5rKSwgMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuJGFjdGl2ZVRhYkxpbmsubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kY29udGVudCA9ICQoTS5lc2NhcGVIYXNoKHRoaXMuJGFjdGl2ZVRhYkxpbmtbMF0uaGFzaCkpO1xuICAgICAgICAgIHRoaXMuJGNvbnRlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgc3dpcGVhYmxlIHRhYnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cFN3aXBlYWJsZVRhYnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBTd2lwZWFibGVUYWJzKCkge1xuICAgICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHN3aXBlYWJsZSBhY2NvcmRpbmcgdG8gcmVzcG9uc2l2ZSB0aHJlc2hvbGRcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuc3dpcGVhYmxlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJHRhYnNDb250ZW50ID0gJCgpO1xuICAgICAgICB0aGlzLiR0YWJMaW5rcy5lYWNoKGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgdmFyICRjdXJyQ29udGVudCA9ICQoTS5lc2NhcGVIYXNoKGxpbmsuaGFzaCkpO1xuICAgICAgICAgICRjdXJyQ29udGVudC5hZGRDbGFzcygnY2Fyb3VzZWwtaXRlbScpO1xuICAgICAgICAgICR0YWJzQ29udGVudCA9ICR0YWJzQ29udGVudC5hZGQoJGN1cnJDb250ZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyICR0YWJzV3JhcHBlciA9ICQoJzxkaXYgY2xhc3M9XCJ0YWJzLWNvbnRlbnQgY2Fyb3VzZWwgY2Fyb3VzZWwtc2xpZGVyXCI+PC9kaXY+Jyk7XG4gICAgICAgICR0YWJzQ29udGVudC5maXJzdCgpLmJlZm9yZSgkdGFic1dyYXBwZXIpO1xuICAgICAgICAkdGFic1dyYXBwZXIuYXBwZW5kKCR0YWJzQ29udGVudCk7XG4gICAgICAgICR0YWJzQ29udGVudFswXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cbiAgICAgICAgLy8gS2VlcCBhY3RpdmUgdGFiIGluZGV4IHRvIHNldCBpbml0aWFsIGNhcm91c2VsIHNsaWRlXG4gICAgICAgIHZhciBhY3RpdmVUYWJJbmRleCA9IHRoaXMuJGFjdGl2ZVRhYkxpbmsuY2xvc2VzdCgnLnRhYicpLmluZGV4KCk7XG5cbiAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsID0gTS5DYXJvdXNlbC5pbml0KCR0YWJzV3JhcHBlclswXSwge1xuICAgICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgICAgb25DeWNsZVRvOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IF90aGlzMjUuaW5kZXg7XG4gICAgICAgICAgICBfdGhpczI1LmluZGV4ID0gJChpdGVtKS5pbmRleCgpO1xuICAgICAgICAgICAgX3RoaXMyNS4kYWN0aXZlVGFiTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBfdGhpczI1LiRhY3RpdmVUYWJMaW5rID0gX3RoaXMyNS4kdGFiTGlua3MuZXEoX3RoaXMyNS5pbmRleCk7XG4gICAgICAgICAgICBfdGhpczI1LiRhY3RpdmVUYWJMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIF90aGlzMjUuX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyNS5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczI1Lm9wdGlvbnMub25TaG93LmNhbGwoX3RoaXMyNSwgX3RoaXMyNS4kY29udGVudFswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZSB0byBhY3RpdmUgdGFiXG4gICAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5zZXQoYWN0aXZlVGFiSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIG5vcm1hbCB0YWJzLlxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3RlYXJkb3duU3dpcGVhYmxlVGFic1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90ZWFyZG93blN3aXBlYWJsZVRhYnMoKSB7XG4gICAgICAgIHZhciAkdGFic1dyYXBwZXIgPSB0aGlzLl90YWJzQ2Fyb3VzZWwuJGVsO1xuICAgICAgICB0aGlzLl90YWJzQ2Fyb3VzZWwuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIFVud3JhcFxuICAgICAgICAkdGFic1dyYXBwZXIuYWZ0ZXIoJHRhYnNXcmFwcGVyLmNoaWxkcmVuKCkpO1xuICAgICAgICAkdGFic1dyYXBwZXIucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgbm9ybWFsIHRhYnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBOb3JtYWxUYWJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwTm9ybWFsVGFicygpIHtcbiAgICAgICAgLy8gSGlkZSBUYWJzIENvbnRlbnRcbiAgICAgICAgdGhpcy4kdGFiTGlua3Mubm90KHRoaXMuJGFjdGl2ZVRhYkxpbmspLmVhY2goZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICBpZiAoISFsaW5rLmhhc2gpIHtcbiAgICAgICAgICAgIHZhciAkY3VyckNvbnRlbnQgPSAkKE0uZXNjYXBlSGFzaChsaW5rLmhhc2gpKTtcbiAgICAgICAgICAgIGlmICgkY3VyckNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRjdXJyQ29udGVudFswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gbm9ybWFsIHRhYnMuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdGVhcmRvd25Ob3JtYWxUYWJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3RlYXJkb3duTm9ybWFsVGFicygpIHtcbiAgICAgICAgLy8gc2hvdyBUYWJzIENvbnRlbnRcbiAgICAgICAgdGhpcy4kdGFiTGlua3MuZWFjaChmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgIGlmICghIWxpbmsuaGFzaCkge1xuICAgICAgICAgICAgdmFyICRjdXJyQ29udGVudCA9ICQoTS5lc2NhcGVIYXNoKGxpbmsuaGFzaCkpO1xuICAgICAgICAgICAgaWYgKCRjdXJyQ29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgJGN1cnJDb250ZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIHNldCB0YWJzIGFuZCB0YWIgd2lkdGhcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRUYWJzQW5kVGFiV2lkdGhcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0VGFic0FuZFRhYldpZHRoKCkge1xuICAgICAgICB0aGlzLnRhYnNXaWR0aCA9IHRoaXMuJGVsLndpZHRoKCk7XG4gICAgICAgIHRoaXMudGFiV2lkdGggPSBNYXRoLm1heCh0aGlzLnRhYnNXaWR0aCwgdGhpcy5lbC5zY3JvbGxXaWR0aCkgLyB0aGlzLiR0YWJMaW5rcy5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRmluZHMgcmlnaHQgYXR0cmlidXRlIGZvciBpbmRpY2F0b3IgYmFzZWQgb24gYWN0aXZlIHRhYi5cbiAgICAgICAqIEBwYXJhbSB7Y2FzaH0gZWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jYWxjUmlnaHRQb3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY2FsY1JpZ2h0UG9zKGVsKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50YWJzV2lkdGggLSBlbC5wb3NpdGlvbigpLmxlZnQgLSBlbFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRmluZHMgbGVmdCBhdHRyaWJ1dGUgZm9yIGluZGljYXRvciBiYXNlZCBvbiBhY3RpdmUgdGFiLlxuICAgICAgICogQHBhcmFtIHtjYXNofSBlbFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NhbGNMZWZ0UG9zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGNMZWZ0UG9zKGVsKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGVsLnBvc2l0aW9uKCkubGVmdCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZVRhYkluZGljYXRvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYkluZGljYXRvcigpIHtcbiAgICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IodGhpcy5pbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQW5pbWF0ZXMgSW5kaWNhdG9yIHRvIGFjdGl2ZSB0YWIuXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJldkluZGV4XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluZGljYXRvclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCkge1xuICAgICAgICB2YXIgbGVmdERlbGF5ID0gMCxcbiAgICAgICAgICAgIHJpZ2h0RGVsYXkgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmluZGV4IC0gcHJldkluZGV4ID49IDApIHtcbiAgICAgICAgICBsZWZ0RGVsYXkgPSA5MDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByaWdodERlbGF5ID0gOTA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbmltYXRlXG4gICAgICAgIHZhciBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLl9pbmRpY2F0b3IsXG4gICAgICAgICAgbGVmdDoge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuJGFjdGl2ZVRhYkxpbmspLFxuICAgICAgICAgICAgZGVsYXk6IGxlZnREZWxheVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy4kYWN0aXZlVGFiTGluayksXG4gICAgICAgICAgICBkZWxheTogcmlnaHREZWxheVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5faW5kaWNhdG9yKTtcbiAgICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0IHRhYi5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YWJJZFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2VsZWN0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0KHRhYklkKSB7XG4gICAgICAgIHZhciB0YWIgPSB0aGlzLiR0YWJMaW5rcy5maWx0ZXIoJ1tocmVmPVwiIycgKyB0YWJJZCArICdcIl0nKTtcbiAgICAgICAgaWYgKHRhYi5sZW5ndGgpIHtcbiAgICAgICAgICB0YWIudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChUYWJzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFicyksIFwiaW5pdFwiLCB0aGlzKS5jYWxsKHRoaXMsIHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IEluc3RhbmNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJbnN0YW5jZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1RhYnM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFicztcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uVGFicyA9IFRhYnM7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUYWJzLCAndGFicycsICdNX1RhYnMnKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkLCBhbmltKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGV4aXREZWxheTogMjAwLFxuICAgIGVudGVyRGVsYXk6IDAsXG4gICAgaHRtbDogbnVsbCxcbiAgICBtYXJnaW46IDUsXG4gICAgaW5EdXJhdGlvbjogMjUwLFxuICAgIG91dER1cmF0aW9uOiAyMDAsXG4gICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgIHRyYW5zaXRpb25Nb3ZlbWVudDogMTBcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKF9Db21wb25lbnQ3KSB7XG4gICAgX2luaGVyaXRzKFRvb2x0aXAsIF9Db21wb25lbnQ3KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBUb29sdGlwIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gVG9vbHRpcChlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb2x0aXApO1xuXG4gICAgICB2YXIgX3RoaXMyNiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUb29sdGlwLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9vbHRpcCkpLmNhbGwodGhpcywgVG9vbHRpcCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMyNi5lbC5NX1Rvb2x0aXAgPSBfdGhpczI2O1xuICAgICAgX3RoaXMyNi5vcHRpb25zID0gJC5leHRlbmQoe30sIFRvb2x0aXAuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICBfdGhpczI2LmlzT3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXMyNi5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzMjYuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICBfdGhpczI2Ll9hcHBlbmRUb29sdGlwRWwoKTtcbiAgICAgIF90aGlzMjYuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzMjY7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRvb2x0aXAsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAkKHRoaXMudG9vbHRpcEVsKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLmVsLk1fVG9vbHRpcCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FwcGVuZFRvb2x0aXBFbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmRUb29sdGlwRWwoKSB7XG4gICAgICAgIHZhciB0b29sdGlwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXRvb2x0aXAnKTtcbiAgICAgICAgdGhpcy50b29sdGlwRWwgPSB0b29sdGlwRWw7XG5cbiAgICAgICAgdmFyIHRvb2x0aXBDb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9vbHRpcENvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKCd0b29sdGlwLWNvbnRlbnQnKTtcbiAgICAgICAgdG9vbHRpcENvbnRlbnRFbC5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuaHRtbDtcbiAgICAgICAgdG9vbHRpcEVsLmFwcGVuZENoaWxkKHRvb2x0aXBDb250ZW50RWwpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvb2x0aXBFbCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl91cGRhdGVUb29sdGlwQ29udGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVUb29sdGlwQ29udGVudCgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwRWwucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtY29udGVudCcpLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5odG1sO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kID0gdGhpcy5faGFuZGxlTW91c2VFbnRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVCbHVyQm91bmQgPSB0aGlzLl9oYW5kbGVCbHVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ckJvdW5kLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQsIHRydWUpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyQm91bmQsIHRydWUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbihpc01hbnVhbCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaXNNYW51YWwgPSBpc01hbnVhbCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHVuZGVmaW5lZDsgLy8gRGVmYXVsdCB2YWx1ZSB0cnVlXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgY29udGVudCB3aXRoIEhUTUwgYXR0cmlidXRlIG9wdGlvbnNcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgdGhpcy5fZ2V0QXR0cmlidXRlT3B0aW9ucygpKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVG9vbHRpcENvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5fc2V0RW50ZXJEZWxheVRpbWVvdXQoaXNNYW51YWwpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2V0RXhpdERlbGF5VGltZW91dCgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSB0aW1lb3V0IHdoaWNoIGRlbGF5cyB3aGVuIHRoZSB0b29sdGlwIGNsb3Nlc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldEV4aXREZWxheVRpbWVvdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RXhpdERlbGF5VGltZW91dCgpIHtcbiAgICAgICAgdmFyIF90aGlzMjcgPSB0aGlzO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9leGl0RGVsYXlUaW1lb3V0KTtcblxuICAgICAgICB0aGlzLl9leGl0RGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzMjcuaXNIb3ZlcmVkIHx8IF90aGlzMjcuaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyNy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZXhpdERlbGF5KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGUgdGltZW91dCB3aGljaCBkZWxheXMgd2hlbiB0aGUgdG9hc3QgY2xvc2VzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0RW50ZXJEZWxheVRpbWVvdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RW50ZXJEZWxheVRpbWVvdXQoaXNNYW51YWwpIHtcbiAgICAgICAgdmFyIF90aGlzMjggPSB0aGlzO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbnRlckRlbGF5VGltZW91dCk7XG5cbiAgICAgICAgdGhpcy5fZW50ZXJEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIV90aGlzMjguaXNIb3ZlcmVkICYmICFfdGhpczI4LmlzRm9jdXNlZCAmJiAhaXNNYW51YWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczI4Ll9hbmltYXRlSW4oKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmVudGVyRGVsYXkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcG9zaXRpb25Ub29sdGlwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Bvc2l0aW9uVG9vbHRpcCgpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXMuZWwsXG4gICAgICAgICAgICB0b29sdGlwID0gdGhpcy50b29sdGlwRWwsXG4gICAgICAgICAgICBvcmlnaW5IZWlnaHQgPSBvcmlnaW4ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgb3JpZ2luV2lkdGggPSBvcmlnaW4ub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICB0b29sdGlwSGVpZ2h0ID0gdG9vbHRpcC5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICB0b29sdGlwV2lkdGggPSB0b29sdGlwLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSB2b2lkIDAsXG4gICAgICAgICAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMubWFyZ2luLFxuICAgICAgICAgICAgdGFyZ2V0VG9wID0gdm9pZCAwLFxuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IHZvaWQgMDtcblxuICAgICAgICB0aGlzLnhNb3ZlbWVudCA9IDAsIHRoaXMueU1vdmVtZW50ID0gMDtcblxuICAgICAgICB0YXJnZXRUb3AgPSBvcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgICB0YXJnZXRMZWZ0ID0gb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgdGFyZ2V0VG9wICs9IC10b29sdGlwSGVpZ2h0IC0gbWFyZ2luO1xuICAgICAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgICAgICB0aGlzLnlNb3ZlbWVudCA9IC10aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCArIG1hcmdpbjtcbiAgICAgICAgICB0aGlzLnhNb3ZlbWVudCA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0IC8gMiAtIHRvb2x0aXBIZWlnaHQgLyAyO1xuICAgICAgICAgIHRhcmdldExlZnQgKz0gLXRvb2x0aXBXaWR0aCAtIG1hcmdpbjtcbiAgICAgICAgICB0aGlzLnhNb3ZlbWVudCA9IC10aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgKyBtYXJnaW47XG4gICAgICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgICAgIHRoaXMueU1vdmVtZW50ID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5fcmVwb3NpdGlvbldpdGhpblNjcmVlbih0YXJnZXRMZWZ0LCB0YXJnZXRUb3AsIHRvb2x0aXBXaWR0aCwgdG9vbHRpcEhlaWdodCk7XG4gICAgICAgICQodG9vbHRpcCkuY3NzKHtcbiAgICAgICAgICB0b3A6IG5ld0Nvb3JkaW5hdGVzLnkgKyAncHgnLFxuICAgICAgICAgIGxlZnQ6IG5ld0Nvb3JkaW5hdGVzLnggKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVwb3NpdGlvbldpdGhpblNjcmVlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgbmV3WCA9IHggLSBzY3JvbGxMZWZ0O1xuICAgICAgICB2YXIgbmV3WSA9IHkgLSBzY3JvbGxUb3A7XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nID0ge1xuICAgICAgICAgIGxlZnQ6IG5ld1gsXG4gICAgICAgICAgdG9wOiBuZXdZLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLm9wdGlvbnMubWFyZ2luICsgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgICAgdmFyIGVkZ2VzID0gTS5jaGVja1dpdGhpbkNvbnRhaW5lcihkb2N1bWVudC5ib2R5LCBib3VuZGluZywgb2Zmc2V0KTtcblxuICAgICAgICBpZiAoZWRnZXMubGVmdCkge1xuICAgICAgICAgIG5ld1ggPSBvZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZWRnZXMucmlnaHQpIHtcbiAgICAgICAgICBuZXdYIC09IG5ld1ggKyB3aWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVkZ2VzLnRvcCkge1xuICAgICAgICAgIG5ld1kgPSBvZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgICAgICAgbmV3WSAtPSBuZXdZICsgaGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBuZXdYICsgc2Nyb2xsTGVmdCxcbiAgICAgICAgICB5OiBuZXdZICsgc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluKCkge1xuICAgICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgdGhpcy50b29sdGlwRWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50b29sdGlwRWwpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IHRoaXMueE1vdmVtZW50LFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IHRoaXMueU1vdmVtZW50LFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU91dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlT3V0KCkge1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMudG9vbHRpcEVsLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1vdXNlRW50ZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW91c2VFbnRlcigpIHtcbiAgICAgICAgdGhpcy5pc0hvdmVyZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cbiAgICAgICAgdGhpcy5vcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU1vdXNlTGVhdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgdGhpcy5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gQWxsb3dzIGNsb3NlIG9mIHRvb2x0aXAgd2hlbiBvcGVuZWQgYnkgZm9jdXMuXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUZvY3VzKCkge1xuICAgICAgICBpZiAoTS50YWJQcmVzc2VkKSB7XG4gICAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUJsdXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQmx1cigpIHtcbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfZ2V0QXR0cmlidXRlT3B0aW9uc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRBdHRyaWJ1dGVPcHRpb25zKCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlT3B0aW9ucyA9IHt9O1xuICAgICAgICB2YXIgdG9vbHRpcFRleHRPcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJyk7XG4gICAgICAgIHZhciBwb3NpdGlvbk9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJyk7XG5cbiAgICAgICAgaWYgKHRvb2x0aXBUZXh0T3B0aW9uKSB7XG4gICAgICAgICAgYXR0cmlidXRlT3B0aW9ucy5odG1sID0gdG9vbHRpcFRleHRPcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb25PcHRpb24pIHtcbiAgICAgICAgICBhdHRyaWJ1dGVPcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb25PcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZU9wdGlvbnM7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KFRvb2x0aXAuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUb29sdGlwKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fVG9vbHRpcDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUb29sdGlwO1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5Ub29sdGlwID0gVG9vbHRpcDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRvb2x0aXAsICd0b29sdGlwJywgJ01fVG9vbHRpcCcpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsgLyohXG4gICogV2F2ZXMgdjAuNi40XG4gICogaHR0cDovL2ZpYW4ubXkuaWQvV2F2ZXNcbiAgKlxuICAqIENvcHlyaWdodCAyMDE0IEFsZmlhbmEgRS4gU2lidWVhIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZmlhbnMvV2F2ZXMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICAqL1xuXG47KGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBXYXZlcyA9IFdhdmVzIHx8IHt9O1xuICB2YXIgJCQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLmJpbmQoZG9jdW1lbnQpO1xuXG4gIC8vIEZpbmQgZXhhY3QgcG9zaXRpb24gb2YgZWxlbWVudFxuICBmdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFdpbmRvdyhlbGVtKSB7XG4gICAgcmV0dXJuIGlzV2luZG93KGVsZW0pID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0VmlldztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mZnNldChlbGVtKSB7XG4gICAgdmFyIGRvY0VsZW0sXG4gICAgICAgIHdpbixcbiAgICAgICAgYm94ID0geyB0b3A6IDAsIGxlZnQ6IDAgfSxcbiAgICAgICAgZG9jID0gZWxlbSAmJiBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cbiAgICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICAgIGlmICh0eXBlb2YgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IHR5cGVvZiB1bmRlZmluZWQpIHtcbiAgICAgIGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHdpbiA9IGdldFdpbmRvdyhkb2MpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGJveC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRTdHlsZShvYmopIHtcbiAgICB2YXIgc3R5bGUgPSAnJztcblxuICAgIGZvciAodmFyIGEgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGEpKSB7XG4gICAgICAgIHN0eWxlICs9IGEgKyAnOicgKyBvYmpbYV0gKyAnOyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgdmFyIEVmZmVjdCA9IHtcblxuICAgIC8vIEVmZmVjdCBkZWxheVxuICAgIGR1cmF0aW9uOiA3NTAsXG5cbiAgICBzaG93OiBmdW5jdGlvbiAoZSwgZWxlbWVudCkge1xuXG4gICAgICAvLyBEaXNhYmxlIHJpZ2h0IGNsaWNrXG4gICAgICBpZiAoZS5idXR0b24gPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBlbGVtZW50IHx8IHRoaXM7XG5cbiAgICAgIC8vIENyZWF0ZSByaXBwbGVcbiAgICAgIHZhciByaXBwbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHJpcHBsZS5jbGFzc05hbWUgPSAnd2F2ZXMtcmlwcGxlJztcbiAgICAgIGVsLmFwcGVuZENoaWxkKHJpcHBsZSk7XG5cbiAgICAgIC8vIEdldCBjbGljayBjb29yZGluYXRlIGFuZCBlbGVtZW50IHdpdGRoXG4gICAgICB2YXIgcG9zID0gb2Zmc2V0KGVsKTtcbiAgICAgIHZhciByZWxhdGl2ZVkgPSBlLnBhZ2VZIC0gcG9zLnRvcDtcbiAgICAgIHZhciByZWxhdGl2ZVggPSBlLnBhZ2VYIC0gcG9zLmxlZnQ7XG4gICAgICB2YXIgc2NhbGUgPSAnc2NhbGUoJyArIGVsLmNsaWVudFdpZHRoIC8gMTAwICogMTAgKyAnKSc7XG5cbiAgICAgIC8vIFN1cHBvcnQgZm9yIHRvdWNoIGRldmljZXNcbiAgICAgIGlmICgndG91Y2hlcycgaW4gZSkge1xuICAgICAgICByZWxhdGl2ZVkgPSBlLnRvdWNoZXNbMF0ucGFnZVkgLSBwb3MudG9wO1xuICAgICAgICByZWxhdGl2ZVggPSBlLnRvdWNoZXNbMF0ucGFnZVggLSBwb3MubGVmdDtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0YWNoIGRhdGEgdG8gZWxlbWVudFxuICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnZGF0YS1ob2xkJywgRGF0ZS5ub3coKSk7XG4gICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJywgc2NhbGUpO1xuICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnZGF0YS14JywgcmVsYXRpdmVYKTtcbiAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEteScsIHJlbGF0aXZlWSk7XG5cbiAgICAgIC8vIFNldCByaXBwbGUgcG9zaXRpb25cbiAgICAgIHZhciByaXBwbGVTdHlsZSA9IHtcbiAgICAgICAgJ3RvcCc6IHJlbGF0aXZlWSArICdweCcsXG4gICAgICAgICdsZWZ0JzogcmVsYXRpdmVYICsgJ3B4J1xuICAgICAgfTtcblxuICAgICAgcmlwcGxlLmNsYXNzTmFtZSA9IHJpcHBsZS5jbGFzc05hbWUgKyAnIHdhdmVzLW5vdHJhbnNpdGlvbic7XG4gICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShyaXBwbGVTdHlsZSkpO1xuICAgICAgcmlwcGxlLmNsYXNzTmFtZSA9IHJpcHBsZS5jbGFzc05hbWUucmVwbGFjZSgnd2F2ZXMtbm90cmFuc2l0aW9uJywgJycpO1xuXG4gICAgICAvLyBTY2FsZSB0aGUgcmlwcGxlXG4gICAgICByaXBwbGVTdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXSA9IHNjYWxlO1xuICAgICAgcmlwcGxlU3R5bGVbJy1tb3otdHJhbnNmb3JtJ10gPSBzY2FsZTtcbiAgICAgIHJpcHBsZVN0eWxlWyctbXMtdHJhbnNmb3JtJ10gPSBzY2FsZTtcbiAgICAgIHJpcHBsZVN0eWxlWyctby10cmFuc2Zvcm0nXSA9IHNjYWxlO1xuICAgICAgcmlwcGxlU3R5bGUudHJhbnNmb3JtID0gc2NhbGU7XG4gICAgICByaXBwbGVTdHlsZS5vcGFjaXR5ID0gJzEnO1xuXG4gICAgICByaXBwbGVTdHlsZVsnLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uJ10gPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xuICAgICAgcmlwcGxlU3R5bGVbJy1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbiddID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcbiAgICAgIHJpcHBsZVN0eWxlWyctby10cmFuc2l0aW9uLWR1cmF0aW9uJ10gPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xuICAgICAgcmlwcGxlU3R5bGVbJ3RyYW5zaXRpb24tZHVyYXRpb24nXSA9IEVmZmVjdC5kdXJhdGlvbiArICdtcyc7XG5cbiAgICAgIHJpcHBsZVN0eWxlWyctd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XG4gICAgICByaXBwbGVTdHlsZVsnLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiddID0gJ2N1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCknO1xuICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XG4gICAgICByaXBwbGVTdHlsZVsndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcblxuICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjb252ZXJ0U3R5bGUocmlwcGxlU3R5bGUpKTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIFRvdWNoSGFuZGxlci50b3VjaHVwKGUpO1xuXG4gICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgdmFyIHdpZHRoID0gZWwuY2xpZW50V2lkdGggKiAxLjQ7XG5cbiAgICAgIC8vIEdldCBmaXJzdCByaXBwbGVcbiAgICAgIHZhciByaXBwbGUgPSBudWxsO1xuICAgICAgdmFyIHJpcHBsZXMgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3YXZlcy1yaXBwbGUnKTtcbiAgICAgIGlmIChyaXBwbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmlwcGxlID0gcmlwcGxlc1tyaXBwbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRpdmVYID0gcmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XG4gICAgICB2YXIgcmVsYXRpdmVZID0gcmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XG4gICAgICB2YXIgc2NhbGUgPSByaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJyk7XG5cbiAgICAgIC8vIEdldCBkZWxheSBiZWV0d2VlbiBtb3VzZWRvd24gYW5kIG1vdXNlIGxlYXZlXG4gICAgICB2YXIgZGlmZiA9IERhdGUubm93KCkgLSBOdW1iZXIocmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS1ob2xkJykpO1xuICAgICAgdmFyIGRlbGF5ID0gMzUwIC0gZGlmZjtcblxuICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICBkZWxheSA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEZhZGUgb3V0IHJpcHBsZSBhZnRlciBkZWxheVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgICAndG9wJzogcmVsYXRpdmVZICsgJ3B4JyxcbiAgICAgICAgICAnbGVmdCc6IHJlbGF0aXZlWCArICdweCcsXG4gICAgICAgICAgJ29wYWNpdHknOiAnMCcsXG5cbiAgICAgICAgICAvLyBEdXJhdGlvblxuICAgICAgICAgICctd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxuICAgICAgICAgICctbW96LXRyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxuICAgICAgICAgICctby10cmFuc2l0aW9uLWR1cmF0aW9uJzogRWZmZWN0LmR1cmF0aW9uICsgJ21zJyxcbiAgICAgICAgICAndHJhbnNpdGlvbi1kdXJhdGlvbic6IEVmZmVjdC5kdXJhdGlvbiArICdtcycsXG4gICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogc2NhbGUsXG4gICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogc2NhbGUsXG4gICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiBzY2FsZSxcbiAgICAgICAgICAnLW8tdHJhbnNmb3JtJzogc2NhbGUsXG4gICAgICAgICAgJ3RyYW5zZm9ybSc6IHNjYWxlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjb252ZXJ0U3R5bGUoc3R5bGUpKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQocmlwcGxlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBFZmZlY3QuZHVyYXRpb24pO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0sXG5cbiAgICAvLyBMaXR0bGUgaGFjayB0byBtYWtlIDxpbnB1dD4gY2FuIHBlcmZvcm0gd2F2ZXMgZWZmZWN0XG4gICAgd3JhcElucHV0OiBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgZWxlbWVudHMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdmFyIGVsID0gZWxlbWVudHNbYV07XG5cbiAgICAgICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgLy8gSWYgaW5wdXQgYWxyZWFkeSBoYXZlIHBhcmVudCBqdXN0IHBhc3MgdGhyb3VnaFxuICAgICAgICAgIGlmIChwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaScgJiYgcGFyZW50LmNsYXNzTmFtZS5pbmRleE9mKCd3YXZlcy1lZmZlY3QnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFB1dCBlbGVtZW50IGNsYXNzIGFuZCBzdHlsZSB0byB0aGUgc3BlY2lmaWVkIHBhcmVudFxuICAgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgJyB3YXZlcy1pbnB1dC13cmFwcGVyJztcblxuICAgICAgICAgIHZhciBlbGVtZW50U3R5bGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgICAgICAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgICAgICAgZWxlbWVudFN0eWxlID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgZWxlbWVudFN0eWxlKTtcblxuICAgICAgICAgIGVsLmNsYXNzTmFtZSA9ICd3YXZlcy1idXR0b24taW5wdXQnO1xuICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICAgICAgICAgIC8vIFB1dCBlbGVtZW50IGFzIGNoaWxkXG4gICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbCk7XG4gICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2FibGUgbW91c2Vkb3duIGV2ZW50IGZvciA1MDBtcyBkdXJpbmcgYW5kIGFmdGVyIHRvdWNoXG4gICAqL1xuICB2YXIgVG91Y2hIYW5kbGVyID0ge1xuICAgIC8qIHVzZXMgYW4gaW50ZWdlciByYXRoZXIgdGhhbiBib29sIHNvIHRoZXJlJ3Mgbm8gaXNzdWVzIHdpdGhcbiAgICAgKiBuZWVkaW5nIHRvIGNsZWFyIHRpbWVvdXRzIGlmIGFub3RoZXIgdG91Y2ggZXZlbnQgb2NjdXJyZWRcbiAgICAgKiB3aXRoaW4gdGhlIDUwMG1zLiBDYW5ub3QgbW91c2V1cCBiZXR3ZWVuIHRvdWNoc3RhcnQgYW5kXG4gICAgICogdG91Y2hlbmQsIG5vciBpbiB0aGUgNTAwbXMgYWZ0ZXIgdG91Y2hlbmQuICovXG4gICAgdG91Y2hlczogMCxcbiAgICBhbGxvd0V2ZW50OiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGFsbG93ID0gdHJ1ZTtcblxuICAgICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgIFRvdWNoSGFuZGxlci50b3VjaGVzICs9IDE7IC8vcHVzaFxuICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICd0b3VjaGVuZCcgfHwgZS50eXBlID09PSAndG91Y2hjYW5jZWwnKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChUb3VjaEhhbmRsZXIudG91Y2hlcyA+IDApIHtcbiAgICAgICAgICAgIFRvdWNoSGFuZGxlci50b3VjaGVzIC09IDE7IC8vcG9wIGFmdGVyIDUwMG1zXG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApO1xuICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nICYmIFRvdWNoSGFuZGxlci50b3VjaGVzID4gMCkge1xuICAgICAgICBhbGxvdyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxsb3c7XG4gICAgfSxcbiAgICB0b3VjaHVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgVG91Y2hIYW5kbGVyLmFsbG93RXZlbnQoZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZWQgY2xpY2sgaGFuZGxlciBmb3IgLndhdmVzLWVmZmVjdCBlbGVtZW50LlxuICAgKiByZXR1cm5zIG51bGwgd2hlbiAud2F2ZXMtZWZmZWN0IGVsZW1lbnQgbm90IGluIFwiY2xpY2sgdHJlZVwiXG4gICAqL1xuICBmdW5jdGlvbiBnZXRXYXZlc0VmZmVjdEVsZW1lbnQoZSkge1xuICAgIGlmIChUb3VjaEhhbmRsZXIuYWxsb3dFdmVudChlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0gbnVsbDtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG4gICAgd2hpbGUgKHRhcmdldC5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSAmJiB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ3dhdmVzLWVmZmVjdCcpICE9PSAtMSkge1xuICAgICAgICBlbGVtZW50ID0gdGFyZ2V0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWJibGUgdGhlIGNsaWNrIGFuZCBzaG93IGVmZmVjdCBpZiAud2F2ZXMtZWZmZWN0IGVsZW0gd2FzIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBzaG93RWZmZWN0KGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGdldFdhdmVzRWZmZWN0RWxlbWVudChlKTtcblxuICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICBFZmZlY3Quc2hvdyhlLCBlbGVtZW50KTtcblxuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBFZmZlY3QuaGlkZSwgZmFsc2UpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBXYXZlcy5kaXNwbGF5RWZmZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmICgnZHVyYXRpb24nIGluIG9wdGlvbnMpIHtcbiAgICAgIEVmZmVjdC5kdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy9XcmFwIGlucHV0IGluc2lkZSA8aT4gdGFnXG4gICAgRWZmZWN0LndyYXBJbnB1dCgkJCgnLndhdmVzLWVmZmVjdCcpKTtcblxuICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNob3dFZmZlY3QsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNob3dFZmZlY3QsIGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogQXR0YWNoIFdhdmVzIHRvIGFuIGlucHV0IGVsZW1lbnQgKG9yIGFueSBlbGVtZW50IHdoaWNoIGRvZXNuJ3RcbiAgICogYnViYmxlIG1vdXNldXAvbW91c2Vkb3duIGV2ZW50cykuXG4gICAqICAgSW50ZW5kZWQgdG8gYmUgdXNlZCB3aXRoIGR5bmFtaWNhbGx5IGxvYWRlZCBmb3Jtcy9pbnB1dHMsIG9yXG4gICAqIHdoZXJlIHRoZSB1c2VyIGRvZXNuJ3Qgd2FudCBhIGRlbGVnYXRlZCBjbGljayBoYW5kbGVyLlxuICAgKi9cbiAgV2F2ZXMuYXR0YWNoID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAvL0ZVVFVSRTogYXV0b21hdGljYWxseSBhZGQgd2F2ZXMgY2xhc3NlcyBhbmQgYWxsb3cgdXNlcnNcbiAgICAvLyB0byBzcGVjaWZ5IHRoZW0gd2l0aCBhbiBvcHRpb25zIHBhcmFtPyBFZy4gbGlnaHQvY2xhc3NpYy9idXR0b25cbiAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpIHtcbiAgICAgIEVmZmVjdC53cmFwSW5wdXQoW2VsZW1lbnRdKTtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2hvd0VmZmVjdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2hvd0VmZmVjdCwgZmFsc2UpO1xuICB9O1xuXG4gIHdpbmRvdy5XYXZlcyA9IFdhdmVzO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgV2F2ZXMuZGlzcGxheUVmZmVjdCgpO1xuICB9LCBmYWxzZSk7XG59KSh3aW5kb3cpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBodG1sOiAnJyxcbiAgICBkaXNwbGF5TGVuZ3RoOiA0MDAwLFxuICAgIGluRHVyYXRpb246IDMwMCxcbiAgICBvdXREdXJhdGlvbjogMzc1LFxuICAgIGNsYXNzZXM6ICcnLFxuICAgIGNvbXBsZXRlQ2FsbGJhY2s6IG51bGwsXG4gICAgYWN0aXZhdGlvblBlcmNlbnQ6IDAuOFxuICB9O1xuXG4gIHZhciBUb2FzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2FzdChvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9hc3QpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSB0b2FzdFxuICAgICAgICogQG1lbWJlciBUb2FzdCNvcHRpb25zXG4gICAgICAgKi9cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUb2FzdC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMuaHRtbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgY3VycmVudCBwYW4gc3RhdGUgdG9hc3RcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICB0aGlzLnBhbm5pbmcgPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaW1lIHJlbWFpbmluZyB1bnRpbCB0b2FzdCBpcyByZW1vdmVkXG4gICAgICAgKi9cbiAgICAgIHRoaXMudGltZVJlbWFpbmluZyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5TGVuZ3RoO1xuXG4gICAgICBpZiAoVG9hc3QuX3RvYXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgVG9hc3QuX2NyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgbmV3IHRvYXN0XG4gICAgICBUb2FzdC5fdG9hc3RzLnB1c2godGhpcyk7XG4gICAgICB2YXIgdG9hc3RFbGVtZW50ID0gdGhpcy5fY3JlYXRlVG9hc3QoKTtcbiAgICAgIHRvYXN0RWxlbWVudC5NX1RvYXN0ID0gdGhpcztcbiAgICAgIHRoaXMuZWwgPSB0b2FzdEVsZW1lbnQ7XG4gICAgICB0aGlzLiRlbCA9ICQodG9hc3RFbGVtZW50KTtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgdGhpcy5fc2V0VGltZXIoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVG9hc3QsIFt7XG4gICAgICBrZXk6IFwiX2NyZWF0ZVRvYXN0XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGUgdG9hc3QgYW5kIGFwcGVuZCBpdCB0byB0b2FzdCBjb250YWluZXJcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVUb2FzdCgpIHtcbiAgICAgICAgdmFyIHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRvYXN0LmNsYXNzTGlzdC5hZGQoJ3RvYXN0Jyk7XG5cbiAgICAgICAgLy8gQWRkIGN1c3RvbSBjbGFzc2VzIG9udG8gdG9hc3RcbiAgICAgICAgaWYgKCEhdGhpcy5vcHRpb25zLmNsYXNzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgJCh0b2FzdCkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGNvbnRlbnRcbiAgICAgICAgaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCcgPyB0aGlzLm1lc3NhZ2UgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IHRoaXMubWVzc2FnZSAmJiB0eXBlb2YgdGhpcy5tZXNzYWdlID09PSAnb2JqZWN0JyAmJiB0aGlzLm1lc3NhZ2UgIT09IG51bGwgJiYgdGhpcy5tZXNzYWdlLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiB0aGlzLm1lc3NhZ2Uubm9kZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdG9hc3QuYXBwZW5kQ2hpbGQodGhpcy5tZXNzYWdlKTtcblxuICAgICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGpRdWVyeSBvYmplY3RcbiAgICAgICAgfSBlbHNlIGlmICghIXRoaXMubWVzc2FnZS5qcXVlcnkpIHtcbiAgICAgICAgICAkKHRvYXN0KS5hcHBlbmQodGhpcy5tZXNzYWdlWzBdKTtcblxuICAgICAgICAgIC8vIEluc2VydCBhcyBodG1sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0LmlubmVySFRNTCA9IHRoaXMubWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCB0b2FzZnRcbiAgICAgICAgVG9hc3QuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2FzdCk7XG4gICAgICAgIHJldHVybiB0b2FzdDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGluIHRvYXN0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbigpIHtcbiAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBpblxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSBzZXRJbnRlcnZhbCB3aGljaCBhdXRvbWF0aWNhbGx5IHJlbW92ZXMgdG9hc3Qgd2hlbiB0aW1lUmVtYWluaW5nID49IDBcbiAgICAgICAqIGhhcyBiZWVuIHJlYWNoZWRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRUaW1lclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRUaW1lcigpIHtcbiAgICAgICAgdmFyIF90aGlzMjkgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgdGhpcy5jb3VudGVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBJZiB0b2FzdCBpcyBub3QgYmVpbmcgZHJhZ2dlZCwgZGVjcmVhc2UgaXRzIHRpbWUgcmVtYWluaW5nXG4gICAgICAgICAgICBpZiAoIV90aGlzMjkucGFubmluZykge1xuICAgICAgICAgICAgICBfdGhpczI5LnRpbWVSZW1haW5pbmcgLT0gMjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFuaW1hdGUgdG9hc3Qgb3V0XG4gICAgICAgICAgICBpZiAoX3RoaXMyOS50aW1lUmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICAgICAgX3RoaXMyOS5kaXNtaXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGlzbWlzcyB0b2FzdCB3aXRoIGFuaW1hdGlvblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGlzbWlzc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc21pc3MoKSB7XG4gICAgICAgIHZhciBfdGhpczMwID0gdGhpcztcblxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZXJJbnRlcnZhbCk7XG4gICAgICAgIHZhciBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0aGlzLmVsLm9mZnNldFdpZHRoICogdGhpcy5vcHRpb25zLmFjdGl2YXRpb25QZXJjZW50O1xuXG4gICAgICAgIGlmICh0aGlzLndhc1N3aXBlZCkge1xuICAgICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjA1cywgb3BhY2l0eSAuMDVzJztcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIiArIGFjdGl2YXRpb25EaXN0YW5jZSArIFwicHgpXCI7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBtYXJnaW5Ub3A6IC00MCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMzMC5vcHRpb25zLmNvbXBsZXRlQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMzMC5vcHRpb25zLmNvbXBsZXRlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0b2FzdCBmcm9tIERPTVxuICAgICAgICAgICAgX3RoaXMzMC4kZWwucmVtb3ZlKCk7XG4gICAgICAgICAgICBUb2FzdC5fdG9hc3RzLnNwbGljZShUb2FzdC5fdG9hc3RzLmluZGV4T2YoX3RoaXMzMCksIDEpO1xuICAgICAgICAgICAgaWYgKFRvYXN0Ll90b2FzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIFRvYXN0Ll9yZW1vdmVDb250YWluZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICAgIHZhciBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgICByZXR1cm4gZG9tRWxlbS5NX1RvYXN0O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFwcGVuZCB0b2FzdCBjb250YWluZXIgYW5kIGFkZCBldmVudCBoYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NyZWF0ZUNvbnRhaW5lclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9hc3QtY29udGFpbmVyJyk7XG5cbiAgICAgICAgLy8gQWRkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBUb2FzdC5fb25EcmFnRW5kKTtcblxuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgVG9hc3QuX29uRHJhZ1N0YXJ0KTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgVG9hc3QuX29uRHJhZ0VuZCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICBUb2FzdC5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSB0b2FzdCBjb250YWluZXIgYW5kIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlQ29udGFpbmVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgLy8gQWRkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgVG9hc3QuX29uRHJhZ0VuZCk7XG5cbiAgICAgICAgJChUb2FzdC5fY29udGFpbmVyKS5yZW1vdmUoKTtcbiAgICAgICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQmVnaW4gZHJhZyBoYW5kbGVyXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfb25EcmFnU3RhcnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfb25EcmFnU3RhcnQoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgJiYgJChlLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0JykubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyICR0b2FzdCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy50b2FzdCcpO1xuICAgICAgICAgIHZhciB0b2FzdCA9ICR0b2FzdFswXS5NX1RvYXN0O1xuICAgICAgICAgIHRvYXN0LnBhbm5pbmcgPSB0cnVlO1xuICAgICAgICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSB0b2FzdDtcbiAgICAgICAgICB0b2FzdC5lbC5jbGFzc0xpc3QuYWRkKCdwYW5uaW5nJyk7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgICAgICAgIHRvYXN0LnN0YXJ0aW5nWFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xuICAgICAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIHRvYXN0LnhQb3MgPSBUb2FzdC5feFBvcyhlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIERyYWcgbW92ZSBoYW5kbGVyXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfb25EcmFnTW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkRyYWdNb3ZlKGUpIHtcbiAgICAgICAgaWYgKCEhVG9hc3QuX2RyYWdnZWRUb2FzdCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgICAgIHRvYXN0LmRlbHRhWCA9IE1hdGguYWJzKHRvYXN0LnhQb3MgLSBUb2FzdC5feFBvcyhlKSk7XG4gICAgICAgICAgdG9hc3QueFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xuICAgICAgICAgIHRvYXN0LnZlbG9jaXR5WCA9IHRvYXN0LmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdG9hc3QudGltZSk7XG4gICAgICAgICAgdG9hc3QudGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICB2YXIgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgICAgIHZhciBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0b2FzdC5lbC5vZmZzZXRXaWR0aCAqIHRvYXN0Lm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgdG90YWxEZWx0YVggKyBcInB4KVwiO1xuICAgICAgICAgIHRvYXN0LmVsLnN0eWxlLm9wYWNpdHkgPSAxIC0gTWF0aC5hYnModG90YWxEZWx0YVggLyBhY3RpdmF0aW9uRGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRW5kIGRyYWcgaGFuZGxlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX29uRHJhZ0VuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkRyYWdFbmQoKSB7XG4gICAgICAgIGlmICghIVRvYXN0Ll9kcmFnZ2VkVG9hc3QpIHtcbiAgICAgICAgICB2YXIgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgICAgIHRvYXN0LnBhbm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICB0b2FzdC5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwYW5uaW5nJyk7XG5cbiAgICAgICAgICB2YXIgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgICAgIHZhciBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0b2FzdC5lbC5vZmZzZXRXaWR0aCAqIHRvYXN0Lm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG4gICAgICAgICAgdmFyIHNob3VsZEJlRGlzbWlzc2VkID0gTWF0aC5hYnModG90YWxEZWx0YVgpID4gYWN0aXZhdGlvbkRpc3RhbmNlIHx8IHRvYXN0LnZlbG9jaXR5WCA+IDE7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdG9hc3RcbiAgICAgICAgICBpZiAoc2hvdWxkQmVEaXNtaXNzZWQpIHtcbiAgICAgICAgICAgIHRvYXN0Lndhc1N3aXBlZCA9IHRydWU7XG4gICAgICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XG5cbiAgICAgICAgICAgIC8vIEFuaW1hdGUgdG9hc3QgYmFjayB0byBvcmlnaW5hbCBwb3NpdGlvblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMnMsIG9wYWNpdHkgLjJzJztcbiAgICAgICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBUb2FzdC5fZHJhZ2dlZFRvYXN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCB4IHBvc2l0aW9uIG9mIG1vdXNlIG9yIHRvdWNoIGV2ZW50XG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfeFBvc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF94UG9zKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgICAgcmV0dXJuIGUuY2xpZW50WDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgYWxsIHRvYXN0c1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGlzbWlzc0FsbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc21pc3NBbGwoKSB7XG4gICAgICAgIGZvciAodmFyIHRvYXN0SW5kZXggaW4gVG9hc3QuX3RvYXN0cykge1xuICAgICAgICAgIFRvYXN0Ll90b2FzdHNbdG9hc3RJbmRleF0uZGlzbWlzcygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVG9hc3Q7XG4gIH0oKTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgVG9hc3RcbiAgICogQHR5cGUge0FycmF5LjxUb2FzdD59XG4gICAqL1xuXG5cbiAgVG9hc3QuX3RvYXN0cyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBUb2FzdFxuICAgKi9cbiAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFRvYXN0XG4gICAqIEB0eXBlIHtUb2FzdH1cbiAgICovXG4gIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSBudWxsO1xuXG4gIE0uVG9hc3QgPSBUb2FzdDtcbiAgTS50b2FzdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUb2FzdChvcHRpb25zKTtcbiAgfTtcbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBlZGdlOiAnbGVmdCcsXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIGluRHVyYXRpb246IDI1MCxcbiAgICBvdXREdXJhdGlvbjogMjAwLFxuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbCxcbiAgICBwcmV2ZW50U2Nyb2xsaW5nOiB0cnVlXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKi9cblxuICB2YXIgU2lkZW5hdiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50OCkge1xuICAgIF9pbmhlcml0cyhTaWRlbmF2LCBfQ29tcG9uZW50OCk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgU2lkZW5hdiBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaWRlbmF2KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lkZW5hdik7XG5cbiAgICAgIHZhciBfdGhpczMxID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpZGVuYXYuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTaWRlbmF2KSkuY2FsbCh0aGlzLCBTaWRlbmF2LCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczMxLmVsLk1fU2lkZW5hdiA9IF90aGlzMzE7XG4gICAgICBfdGhpczMxLmlkID0gX3RoaXMzMS4kZWwuYXR0cignaWQnKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgU2lkZW5hdlxuICAgICAgICogQG1lbWJlciBTaWRlbmF2I29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFtlZGdlPSdsZWZ0J10gLSBTaWRlIG9mIHNjcmVlbiBvbiB3aGljaCBTaWRlbmF2IGFwcGVhcnNcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbZHJhZ2dhYmxlPXRydWVdIC0gQWxsb3cgc3dpcGUgZ2VzdHVyZXMgdG8gb3Blbi9jbG9zZSBTaWRlbmF2XG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW5EdXJhdGlvbj0yNTBdIC0gTGVuZ3RoIGluIG1zIG9mIGVudGVyIHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvdXREdXJhdGlvbj0yMDBdIC0gTGVuZ3RoIGluIG1zIG9mIGV4aXQgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5TdGFydCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHNpZGVuYXYgc3RhcnRzIGVudGVyaW5nXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlbkVuZCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHNpZGVuYXYgZmluaXNoZXMgZW50ZXJpbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZVN0YXJ0IC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBzdGFydHMgZXhpdGluZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBmaW5pc2hlcyBleGl0aW5nXG4gICAgICAgKi9cbiAgICAgIF90aGlzMzEub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBTaWRlbmF2LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgb3Blbi9jbG9zZSBzdGF0ZSBvZiBTaWRlbmF2XG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgX3RoaXMzMS5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgaWYgU2lkZW5hdiBpcyBmaXhlZFxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIF90aGlzMzEuaXNGaXhlZCA9IF90aGlzMzEuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaWRlbmF2LWZpeGVkJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIGlmIFNpZGVuYXYgaXMgYmVpbmcgZHJhZ2dlZWRcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICBfdGhpczMxLmlzRHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBXaW5kb3cgc2l6ZSB2YXJpYWJsZXMgZm9yIHdpbmRvdyByZXNpemUgY2hlY2tzXG4gICAgICBfdGhpczMxLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgX3RoaXMzMS5sYXN0V2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICBfdGhpczMxLl9jcmVhdGVPdmVybGF5KCk7XG4gICAgICBfdGhpczMxLl9jcmVhdGVEcmFnVGFyZ2V0KCk7XG4gICAgICBfdGhpczMxLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIF90aGlzMzEuX3NldHVwQ2xhc3NlcygpO1xuICAgICAgX3RoaXMzMS5fc2V0dXBGaXhlZCgpO1xuXG4gICAgICBTaWRlbmF2Ll9zaWRlbmF2cy5wdXNoKF90aGlzMzEpO1xuICAgICAgcmV0dXJuIF90aGlzMzE7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNpZGVuYXYsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX2VuYWJsZUJvZHlTY3JvbGxpbmcoKTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX292ZXJsYXkpO1xuICAgICAgICB0aGlzLmRyYWdUYXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRyYWdUYXJnZXQpO1xuICAgICAgICB0aGlzLmVsLk1fU2lkZW5hdiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcblxuICAgICAgICB2YXIgaW5kZXggPSBTaWRlbmF2Ll9zaWRlbmF2cy5pbmRleE9mKHRoaXMpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIFNpZGVuYXYuX3NpZGVuYXZzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2NyZWF0ZU92ZXJsYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlT3ZlcmxheSgpIHtcbiAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fY2xvc2VCb3VuZCA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzaWRlbmF2LW92ZXJsYXknKTtcblxuICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VCb3VuZCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZ0JvdW5kID0gdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWcuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCA9IHRoaXMuX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kID0gdGhpcy5faGFuZGxlQ2xvc2VEcmFnLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlUmVsZWFzZUJvdW5kID0gdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZHJhZ1RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZ0JvdW5kKTtcbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNsb3NlUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQpO1xuXG4gICAgICAgIC8vIEFkZCByZXNpemUgZm9yIHNpZGUgbmF2IGZpeGVkXG4gICAgICAgIGlmICh0aGlzLmlzRml4ZWQpIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgaWYgKFNpZGVuYXYuX3NpZGVuYXZzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmRyYWdUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICAgICAgaWYgKHRoaXMuaXNGaXhlZCkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgVHJpZ2dlciBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVRyaWdnZXJDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVUcmlnZ2VyQ2xpY2soZSkge1xuICAgICAgICB2YXIgJHRyaWdnZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2lkZW5hdi10cmlnZ2VyJyk7XG4gICAgICAgIGlmIChlLnRhcmdldCAmJiAkdHJpZ2dlci5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc2lkZW5hdklkID0gTS5nZXRJZEZyb21UcmlnZ2VyKCR0cmlnZ2VyWzBdKTtcblxuICAgICAgICAgIHZhciBzaWRlbmF2SW5zdGFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzaWRlbmF2SWQpLk1fU2lkZW5hdjtcbiAgICAgICAgICBpZiAoc2lkZW5hdkluc3RhbmNlKSB7XG4gICAgICAgICAgICBzaWRlbmF2SW5zdGFuY2Uub3BlbigkdHJpZ2dlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCB2YXJpYWJsZXMgbmVlZGVkIGF0IHRoZSBiZWdnaW5pbmcgb2YgZHJhZ1xuICAgICAgICogYW5kIHN0b3AgYW55IGN1cnJlbnQgdHJhbnNpdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zdGFydERyYWdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnREcmFnKGUpIHtcbiAgICAgICAgdmFyIGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgdGhpcy5pc0RyYWdnZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zdGFydGluZ1hwb3MgPSBjbGllbnRYO1xuICAgICAgICB0aGlzLl94UG9zID0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLl9pbml0aWFsU2Nyb2xsVG9wID0gdGhpcy5pc09wZW4gPyB0aGlzLmVsLnNjcm9sbFRvcCA6IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgZWFjaCBkcmFnIG1vdmUgdXBkYXRlIHRpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9kcmFnTW92ZVVwZGF0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmFnTW92ZVVwZGF0ZShlKSB7XG4gICAgICAgIHZhciBjbGllbnRYID0gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgIHZhciBjdXJyZW50U2Nyb2xsVG9wID0gdGhpcy5pc09wZW4gPyB0aGlzLmVsLnNjcm9sbFRvcCA6IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICAgICAgdGhpcy5kZWx0YVggPSBNYXRoLmFicyh0aGlzLl94UG9zIC0gY2xpZW50WCk7XG4gICAgICAgIHRoaXMuX3hQb3MgPSBjbGllbnRYO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WCA9IHRoaXMuZGVsdGFYIC8gKERhdGUubm93KCkgLSB0aGlzLl90aW1lKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGlmICh0aGlzLl9pbml0aWFsU2Nyb2xsVG9wICE9PSBjdXJyZW50U2Nyb2xsVG9wKSB7XG4gICAgICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGVzIERyYWdnaW5nIG9mIFNpZGVuYXZcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEcmFnVGFyZ2V0RHJhZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEcmFnVGFyZ2V0RHJhZyhlKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpIHx8IHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBub3QgYmVpbmcgZHJhZ2dlZCwgc2V0IGluaXRpYWwgZHJhZyBzdGFydCB2YXJpYWJsZXNcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0b3VjaG1vdmUgdXBkYXRlc1xuICAgICAgICB0aGlzLl9kcmFnTW92ZVVwZGF0ZShlKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcmF3IGRlbHRhWFxuICAgICAgICB2YXIgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuXG4gICAgICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXG4gICAgICAgIHZhciBkcmFnRGlyZWN0aW9uID0gdG90YWxEZWx0YVggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcblxuICAgICAgICAvLyBEb24ndCBhbGxvdyB0b3RhbERlbHRhWCB0byBleGNlZWQgU2lkZW5hdiB3aWR0aCBvciBiZSBkcmFnZ2VkIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25cbiAgICAgICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgICAgdG90YWxEZWx0YVggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybVggaXMgdGhlIGRyYWcgZGlzcGxhY2VtZW50XG4gICAgICAgICAqIHRyYW5zZm9ybVByZWZpeCBpcyB0aGUgaW5pdGlhbCB0cmFuc2Zvcm0gcGxhY2VtZW50XG4gICAgICAgICAqIEludmVydCB2YWx1ZXMgaWYgU2lkZW5hdiBpcyByaWdodCBlZGdlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdHJhbnNmb3JtWCA9IHRvdGFsRGVsdGFYO1xuICAgICAgICB2YXIgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoLTEwMCUpJztcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoMTAwJSknO1xuICAgICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvcGVuL2Nsb3NlIHBlcmNlbnRhZ2Ugb2Ygc2lkZW5hdiwgd2l0aCBvcGVuID0gMSBhbmQgY2xvc2UgPSAwXG4gICAgICAgIHRoaXMucGVyY2VudE9wZW4gPSBNYXRoLm1pbigxLCB0b3RhbERlbHRhWCAvIHRoaXMuX3dpZHRoKTtcblxuICAgICAgICAvLyBTZXQgdHJhbnNmb3JtIGFuZCBvcGFjaXR5IHN0eWxlc1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVByZWZpeCArIFwiIHRyYW5zbGF0ZVgoXCIgKyB0cmFuc2Zvcm1YICsgXCJweClcIjtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRHJhZyBUYXJnZXQgUmVsZWFzZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5wZXJjZW50T3BlbiA+IDAuMikge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDbG9zZSBEcmFnXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2xvc2VEcmFnXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsb3NlRHJhZyhlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxuICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRyYWdnYWJsZSB8fCB0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkgfHwgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSdW4gdG91Y2htb3ZlIHVwZGF0ZXNcbiAgICAgICAgICB0aGlzLl9kcmFnTW92ZVVwZGF0ZShlKTtcblxuICAgICAgICAgIC8vIENhbGN1bGF0ZSByYXcgZGVsdGFYXG4gICAgICAgICAgdmFyIHRvdGFsRGVsdGFYID0gdGhpcy5feFBvcyAtIHRoaXMuX3N0YXJ0aW5nWHBvcztcblxuICAgICAgICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXG4gICAgICAgICAgdmFyIGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuXG4gICAgICAgICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgICAgICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgIT09IGRyYWdEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdHJhbnNmb3JtWCA9IC10b3RhbERlbHRhWDtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDYWxjdWxhdGUgb3Blbi9jbG9zZSBwZXJjZW50YWdlIG9mIHNpZGVuYXYsIHdpdGggb3BlbiA9IDEgYW5kIGNsb3NlID0gMFxuICAgICAgICAgIHRoaXMucGVyY2VudE9wZW4gPSBNYXRoLm1pbigxLCAxIC0gdG90YWxEZWx0YVggLyB0aGlzLl93aWR0aCk7XG5cbiAgICAgICAgICAvLyBTZXQgdHJhbnNmb3JtIGFuZCBvcGFjaXR5IHN0eWxlc1xuICAgICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgdHJhbnNmb3JtWCArIFwicHgpXCI7XG4gICAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDbG9zZSBSZWxlYXNlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2xvc2VSZWxlYXNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsb3NlUmVsZWFzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGVyY2VudE9wZW4gPiAwLjgpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGVzIGNsb3Npbmcgb2YgU2lkZW5hdiB3aGVuIGVsZW1lbnQgd2l0aCBjbGFzcyAuc2lkZW5hdi1jbG9zZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICAgICAgdmFyICRjbG9zZVRyaWdnZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2lkZW5hdi1jbG9zZScpO1xuICAgICAgICBpZiAoJGNsb3NlVHJpZ2dlci5sZW5ndGggJiYgIXRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBXaW5kb3cgUmVzaXplXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlV2luZG93UmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgLy8gT25seSBoYW5kbGUgaG9yaXpvbnRhbCByZXNpemVzXG4gICAgICAgIGlmICh0aGlzLmxhc3RXaW5kb3dXaWR0aCAhPT0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA5OTIpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5sYXN0V2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBDbGFzc2VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwQ2xhc3NlcygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlQ2xhc3Nlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVDbGFzc2VzKCkge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRml4ZWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBGaXhlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9pc0N1cnJlbnRseUZpeGVkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzQ3VycmVudGx5Rml4ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRml4ZWQgJiYgd2luZG93LmlubmVyV2lkdGggPiA5OTI7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jcmVhdGVEcmFnVGFyZ2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZURyYWdUYXJnZXQoKSB7XG4gICAgICAgIHZhciBkcmFnVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJhZy10YXJnZXQnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmFnVGFyZ2V0KTtcbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0ID0gZHJhZ1RhcmdldDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3ByZXZlbnRCb2R5U2Nyb2xsaW5nXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXZlbnRCb2R5U2Nyb2xsaW5nKCkge1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2VuYWJsZUJvZHlTY3JvbGxpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5hYmxlQm9keVNjcm9sbGluZygpIHtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gUnVuIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgIC8vIEhhbmRsZSBub24tZml4ZWQgU2lkZW5hdlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xuICAgICAgICAgICAgdGhpcy5fcHJldmVudEJvZHlTY3JvbGxpbmcoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2VkIHx8IHRoaXMucGVyY2VudE9wZW4gIT0gMSkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFJ1biBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGZpeGVkIFNpZGVuYXZcbiAgICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICAgIHZhciB0cmFuc2Zvcm1YID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/ICctMTA1JScgOiAnMTA1JSc7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIgKyB0cmFuc2Zvcm1YICsgXCIpXCI7XG5cbiAgICAgICAgICAvLyBIYW5kbGUgbm9uLWZpeGVkIFNpZGVuYXZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XG5cbiAgICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2VkIHx8IHRoaXMucGVyY2VudE9wZW4gIT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZUluKCkge1xuICAgICAgICB0aGlzLl9hbmltYXRlU2lkZW5hdkluKCk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5SW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVTaWRlbmF2SW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZVNpZGVuYXZJbigpIHtcbiAgICAgICAgdmFyIF90aGlzMzIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzbGlkZU91dFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICBzbGlkZU91dFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gc2xpZGVPdXRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlbiA6IHNsaWRlT3V0UGVyY2VudCAtIHRoaXMucGVyY2VudE9wZW47XG4gICAgICAgIH1cblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICB0cmFuc2xhdGVYOiBbc2xpZGVPdXRQZXJjZW50ICogMTAwICsgXCIlXCIsIDBdLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMzMi5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczMyLm9wdGlvbnMub25PcGVuRW5kLmNhbGwoX3RoaXMzMiwgX3RoaXMzMi5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdmVybGF5SW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU92ZXJsYXlJbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgICAgc3RhcnQgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcy5fb3ZlcmxheSkuY3NzKHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgICAgIG9wYWNpdHk6IFtzdGFydCwgMV0sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU91dCgpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZVNpZGVuYXZPdXQoKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU92ZXJsYXlPdXQoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVTaWRlbmF2T3V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVTaWRlbmF2T3V0KCkge1xuICAgICAgICB2YXIgX3RoaXMzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGVuZFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgICAgICB2YXIgc2xpZGVPdXRQZXJjZW50ID0gMDtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgICAgc2xpZGVPdXRQZXJjZW50ID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/IGVuZFBlcmNlbnQgKyB0aGlzLnBlcmNlbnRPcGVuIDogZW5kUGVyY2VudCAtIHRoaXMucGVyY2VudE9wZW47XG4gICAgICAgIH1cblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICB0cmFuc2xhdGVYOiBbc2xpZGVPdXRQZXJjZW50ICogMTAwICsgXCIlXCIsIGVuZFBlcmNlbnQgKiAxMDUgKyBcIiVcIl0sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMzMy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXMzMy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczMzLCBfdGhpczMzLmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZU92ZXJsYXlPdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYW5pbWF0ZU92ZXJsYXlPdXQoKSB7XG4gICAgICAgIHZhciBfdGhpczM0ID0gdGhpcztcblxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKF90aGlzMzQuX292ZXJsYXkpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoU2lkZW5hdi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZGVuYXYpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9TaWRlbmF2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNpZGVuYXY7XG4gIH0oQ29tcG9uZW50KTtcblxuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgU2lkZW5hdlxuICAgKiBAdHlwZSB7QXJyYXkuPFNpZGVuYXY+fVxuICAgKi9cblxuXG4gIFNpZGVuYXYuX3NpZGVuYXZzID0gW107XG5cbiAgTS5TaWRlbmF2ID0gU2lkZW5hdjtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNpZGVuYXYsICdzaWRlbmF2JywgJ01fU2lkZW5hdicpO1xuICB9XG59KShjYXNoLCBNLmFuaW1lKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgdGhyb3R0bGU6IDEwMCxcbiAgICBzY3JvbGxPZmZzZXQ6IDIwMCwgLy8gb2Zmc2V0IC0gMjAwIGFsbG93cyBlbGVtZW50cyBuZWFyIGJvdHRvbSBvZiBwYWdlIHRvIHNjcm9sbFxuICAgIGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcbiAgICBnZXRBY3RpdmVFbGVtZW50OiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHJldHVybiAnYVtocmVmPVwiIycgKyBpZCArICdcIl0nO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBTY3JvbGxTcHkgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDkpIHtcbiAgICBfaW5oZXJpdHMoU2Nyb2xsU3B5LCBfQ29tcG9uZW50OSk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgU2Nyb2xsU3B5IGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsU3B5KTtcblxuICAgICAgdmFyIF90aGlzMzUgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2Nyb2xsU3B5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2Nyb2xsU3B5KSkuY2FsbCh0aGlzLCBTY3JvbGxTcHksIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzMzUuZWwuTV9TY3JvbGxTcHkgPSBfdGhpczM1O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBNb2RhbCNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbdGhyb3R0bGU9MTAwXSAtIFRocm90dGxlIG9mIHNjcm9sbCBoYW5kbGVyXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbc2Nyb2xsT2Zmc2V0PTIwMF0gLSBPZmZzZXQgZm9yIGNlbnRlcmluZyBlbGVtZW50IHdoZW4gc2Nyb2xsZWQgdG9cbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFthY3RpdmVDbGFzcz0nYWN0aXZlJ10gLSBDbGFzcyBhcHBsaWVkIHRvIGFjdGl2ZSBlbGVtZW50c1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBbZ2V0QWN0aXZlRWxlbWVudF0gLSBVc2VkIHRvIGZpbmQgYWN0aXZlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgX3RoaXMzNS5vcHRpb25zID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIHNldHVwXG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzLnB1c2goX3RoaXMzNSk7XG4gICAgICBTY3JvbGxTcHkuX2NvdW50Kys7XG4gICAgICBTY3JvbGxTcHkuX2luY3JlbWVudCsrO1xuICAgICAgX3RoaXMzNS50aWNrSWQgPSAtMTtcbiAgICAgIF90aGlzMzUuaWQgPSBTY3JvbGxTcHkuX2luY3JlbWVudDtcbiAgICAgIF90aGlzMzUuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgX3RoaXMzNS5faGFuZGxlV2luZG93U2Nyb2xsKCk7XG4gICAgICByZXR1cm4gX3RoaXMzNTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2Nyb2xsU3B5LCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgU2Nyb2xsU3B5Ll9lbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll9lbGVtZW50cy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5zcGxpY2UoU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmluZGV4T2YodGhpcy4kZWwpLCAxKTtcbiAgICAgICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICQodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQodGhpcy4kZWwuYXR0cignaWQnKSkpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICAgIHRoaXMuZWwuTV9TY3JvbGxTcHkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB2YXIgdGhyb3R0bGVkUmVzaXplID0gTS50aHJvdHRsZSh0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwsIDIwMCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kID0gdGhyb3R0bGVkUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAxKSB7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBpZiAoU2Nyb2xsU3B5Ll9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBUcmlnZ2VyIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlVHJpZ2dlckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICAgIHZhciAkdHJpZ2dlciA9ICQoZS50YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpID0gU2Nyb2xsU3B5Ll9lbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xuICAgICAgICAgIGlmICgkdHJpZ2dlci5pcygnYVtocmVmPVwiIycgKyBzY3JvbGxzcHkuJGVsLmF0dHIoJ2lkJykgKyAnXCJdJykpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGxzcHkuJGVsLm9mZnNldCgpLnRvcCArIDE7XG5cbiAgICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgICB0YXJnZXRzOiBbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSxcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXQgLSBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFdpbmRvdyBTY3JvbGxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVXaW5kb3dTY3JvbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlV2luZG93U2Nyb2xsKCkge1xuICAgICAgICAvLyB1bmlxdWUgdGljayBpZFxuICAgICAgICBTY3JvbGxTcHkuX3RpY2tzKys7XG5cbiAgICAgICAgLy8gdmlld3BvcnQgcmVjdGFuZ2xlXG4gICAgICAgIHZhciB0b3AgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBsZWZ0ID0gTS5nZXREb2N1bWVudFNjcm9sbExlZnQoKSxcbiAgICAgICAgICAgIHJpZ2h0ID0gbGVmdCArIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgYm90dG9tID0gdG9wICsgd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIC8vIGRldGVybWluZSB3aGljaCBlbGVtZW50cyBhcmUgaW4gdmlld1xuICAgICAgICB2YXIgaW50ZXJzZWN0aW9ucyA9IFNjcm9sbFNweS5fZmluZEVsZW1lbnRzKHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzY3JvbGxzcHkgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgICAgICAgIHZhciBsYXN0VGljayA9IHNjcm9sbHNweS50aWNrSWQ7XG4gICAgICAgICAgaWYgKGxhc3RUaWNrIDwgMCkge1xuICAgICAgICAgICAgLy8gZW50ZXJlZCBpbnRvIHZpZXdcbiAgICAgICAgICAgIHNjcm9sbHNweS5fZW50ZXIoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1cGRhdGUgdGljayBpZFxuICAgICAgICAgIHNjcm9sbHNweS50aWNrSWQgPSBTY3JvbGxTcHkuX3RpY2tzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIF9zY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3W19pXTtcbiAgICAgICAgICB2YXIgX2xhc3RUaWNrID0gX3Njcm9sbHNweS50aWNrSWQ7XG4gICAgICAgICAgaWYgKF9sYXN0VGljayA+PSAwICYmIF9sYXN0VGljayAhPT0gU2Nyb2xsU3B5Ll90aWNrcykge1xuICAgICAgICAgICAgLy8gZXhpdGVkIGZyb20gdmlld1xuICAgICAgICAgICAgX3Njcm9sbHNweS5fZXhpdCgpO1xuICAgICAgICAgICAgX3Njcm9sbHNweS50aWNrSWQgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1lbWJlciBlbGVtZW50cyBpbiB2aWV3IGZvciBuZXh0IHRpY2tcbiAgICAgICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldyA9IGludGVyc2VjdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRmluZCBlbGVtZW50cyB0aGF0IGFyZSB3aXRoaW4gdGhlIGJvdW5kYXJ5XG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gcmlnaHRcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b21cbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0XG4gICAgICAgKiBAcmV0dXJuIHtBcnJheS48U2Nyb2xsU3B5Pn0gICBBIGNvbGxlY3Rpb24gb2YgZWxlbWVudHNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9lbnRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9lbnRlcigpIHtcbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmhlaWdodCgpICE9IDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgICAgICQodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uYXR0cignaWQnKSkpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdWzBdLk1fU2Nyb2xsU3B5ICYmIHRoaXMuaWQgPCBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXVswXS5NX1Njcm9sbFNweS5pZCkge1xuICAgICAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMudW5zaGlmdCh0aGlzLiRlbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLnB1c2godGhpcy4kZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5wdXNoKHRoaXMuJGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uYXR0cignaWQnKSkpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9leGl0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2V4aXQoKSB7XG4gICAgICAgIHZhciBfdGhpczM2ID0gdGhpcztcblxuICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuaGVpZ2h0KCkgIT0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XG4gICAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsLmF0dHIoJ2lkJykgIT0gX3RoaXMzNi4kZWwuYXR0cignaWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGVtcHR5XG4gICAgICAgICAgICAkKHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmF0dHIoJ2lkJykpKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChTY3JvbGxTcHkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTY3JvbGxTcHkpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9TY3JvbGxTcHk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9maW5kRWxlbWVudHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZEVsZW1lbnRzKHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCkge1xuICAgICAgICB2YXIgaGl0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFNjcm9sbFNweS5fZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c1tpXTtcbiAgICAgICAgICB2YXIgY3VyclRvcCA9IHRvcCArIHNjcm9sbHNweS5vcHRpb25zLnNjcm9sbE9mZnNldCB8fCAyMDA7XG5cbiAgICAgICAgICBpZiAoc2Nyb2xsc3B5LiRlbC5oZWlnaHQoKSA+IDApIHtcbiAgICAgICAgICAgIHZhciBlbFRvcCA9IHNjcm9sbHNweS4kZWwub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIGVsTGVmdCA9IHNjcm9sbHNweS4kZWwub2Zmc2V0KCkubGVmdCxcbiAgICAgICAgICAgICAgICBlbFJpZ2h0ID0gZWxMZWZ0ICsgc2Nyb2xsc3B5LiRlbC53aWR0aCgpLFxuICAgICAgICAgICAgICAgIGVsQm90dG9tID0gZWxUb3AgKyBzY3JvbGxzcHkuJGVsLmhlaWdodCgpO1xuXG4gICAgICAgICAgICB2YXIgaXNJbnRlcnNlY3QgPSAhKGVsTGVmdCA+IHJpZ2h0IHx8IGVsUmlnaHQgPCBsZWZ0IHx8IGVsVG9wID4gYm90dG9tIHx8IGVsQm90dG9tIDwgY3VyclRvcCk7XG5cbiAgICAgICAgICAgIGlmIChpc0ludGVyc2VjdCkge1xuICAgICAgICAgICAgICBoaXRzLnB1c2goc2Nyb2xsc3B5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdHM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2Nyb2xsU3B5O1xuICB9KENvbXBvbmVudCk7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKiBAdHlwZSB7QXJyYXkuPFNjcm9sbFNweT59XG4gICAqL1xuXG5cbiAgU2Nyb2xsU3B5Ll9lbGVtZW50cyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBTY3JvbGxTcHlcbiAgICogQHR5cGUge0FycmF5LjxTY3JvbGxTcHk+fVxuICAgKi9cbiAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBTY3JvbGxTcHlcbiAgICogQHR5cGUge0FycmF5LjxjYXNoPn1cbiAgICovXG4gIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gW107XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKi9cbiAgU2Nyb2xsU3B5Ll9jb3VudCA9IDA7XG5cbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgKi9cbiAgU2Nyb2xsU3B5Ll9pbmNyZW1lbnQgPSAwO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBTY3JvbGxTcHlcbiAgICovXG4gIFNjcm9sbFNweS5fdGlja3MgPSAwO1xuXG4gIE0uU2Nyb2xsU3B5ID0gU2Nyb2xsU3B5O1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoU2Nyb2xsU3B5LCAnc2Nyb2xsU3B5JywgJ01fU2Nyb2xsU3B5Jyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkYXRhOiB7fSwgLy8gQXV0b2NvbXBsZXRlIGRhdGEgc2V0XG4gICAgbGltaXQ6IEluZmluaXR5LCAvLyBMaW1pdCBvZiByZXN1bHRzIHRoZSBhdXRvY29tcGxldGUgc2hvd3NcbiAgICBvbkF1dG9jb21wbGV0ZTogbnVsbCwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYXV0b2NvbXBsZXRlZFxuICAgIG1pbkxlbmd0aDogMSwgLy8gTWluIGNoYXJhY3RlcnMgYmVmb3JlIGF1dG9jb21wbGV0ZSBzdGFydHNcbiAgICBzb3J0RnVuY3Rpb246IGZ1bmN0aW9uIChhLCBiLCBpbnB1dFN0cmluZykge1xuICAgICAgLy8gU29ydCBmdW5jdGlvbiBmb3Igc29ydGluZyBhdXRvY29tcGxldGUgcmVzdWx0c1xuICAgICAgcmV0dXJuIGEuaW5kZXhPZihpbnB1dFN0cmluZykgLSBiLmluZGV4T2YoaW5wdXRTdHJpbmcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBBdXRvY29tcGxldGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDEwKSB7XG4gICAgX2luaGVyaXRzKEF1dG9jb21wbGV0ZSwgX0NvbXBvbmVudDEwKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBBdXRvY29tcGxldGUgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBdXRvY29tcGxldGUoZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRvY29tcGxldGUpO1xuXG4gICAgICB2YXIgX3RoaXMzNyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBdXRvY29tcGxldGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBdXRvY29tcGxldGUpKS5jYWxsKHRoaXMsIEF1dG9jb21wbGV0ZSwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXMzNy5lbC5NX0F1dG9jb21wbGV0ZSA9IF90aGlzMzc7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIGF1dG9jb21wbGV0ZVxuICAgICAgICogQG1lbWJlciBBdXRvY29tcGxldGUjb3B0aW9uc1xuICAgICAgICogQHByb3Age051bWJlcn0gZHVyYXRpb25cbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IGRpc3RcbiAgICAgICAqIEBwcm9wIHtudW1iZXJ9IHNoaWZ0XG4gICAgICAgKiBAcHJvcCB7bnVtYmVyfSBwYWRkaW5nXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZnVsbFdpZHRoXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gaW5kaWNhdG9yc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IG5vV3JhcFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkN5Y2xlVG9cbiAgICAgICAqL1xuICAgICAgX3RoaXMzNy5vcHRpb25zID0gJC5leHRlbmQoe30sIEF1dG9jb21wbGV0ZS5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICBfdGhpczM3LmlzT3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXMzNy5jb3VudCA9IDA7XG4gICAgICBfdGhpczM3LmFjdGl2ZUluZGV4ID0gLTE7XG4gICAgICBfdGhpczM3Lm9sZFZhbDtcbiAgICAgIF90aGlzMzcuJGlucHV0RmllbGQgPSBfdGhpczM3LiRlbC5jbG9zZXN0KCcuaW5wdXQtZmllbGQnKTtcbiAgICAgIF90aGlzMzcuJGFjdGl2ZSA9ICQoKTtcbiAgICAgIF90aGlzMzcuX21vdXNlZG93biA9IGZhbHNlO1xuICAgICAgX3RoaXMzNy5fc2V0dXBEcm9wZG93bigpO1xuXG4gICAgICBfdGhpczM3Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczM3O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBdXRvY29tcGxldGUsIFt7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZURyb3Bkb3duKCk7XG4gICAgICAgIHRoaXMuZWwuTV9BdXRvY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Qmx1ci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZCA9IHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQgPSB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cERyb3Bkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRHJvcGRvd24oKSB7XG4gICAgICAgIHZhciBfdGhpczM4ID0gdGhpcztcblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gXCJhdXRvY29tcGxldGUtb3B0aW9ucy1cIiArIE0uZ3VpZCgpO1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5hZGRDbGFzcygnYXV0b2NvbXBsZXRlLWNvbnRlbnQgZHJvcGRvd24tY29udGVudCcpO1xuICAgICAgICB0aGlzLiRpbnB1dEZpZWxkLmFwcGVuZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcsIHRoaXMuY29udGFpbmVyLmlkKTtcblxuICAgICAgICB0aGlzLmRyb3Bkb3duID0gTS5Ecm9wZG93bi5pbml0KHRoaXMuZWwsIHtcbiAgICAgICAgICBhdXRvRm9jdXM6IGZhbHNlLFxuICAgICAgICAgIGNsb3NlT25DbGljazogZmFsc2UsXG4gICAgICAgICAgY292ZXJUcmlnZ2VyOiBmYWxzZSxcbiAgICAgICAgICBvbkl0ZW1DbGljazogZnVuY3Rpb24gKGl0ZW1FbCkge1xuICAgICAgICAgICAgX3RoaXMzOC5zZWxlY3RPcHRpb24oJChpdGVtRWwpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNrZXRjaHkgcmVtb3ZhbCBvZiBkcm9wZG93biBjbGljayBoYW5kbGVyXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRyb3Bkb3duLl9oYW5kbGVDbGlja0JvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgZHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IEJsdXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEJsdXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRCbHVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21vdXNlZG93bikge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IEtleXVwIGFuZCBGb2N1c1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMoZSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICAgICAgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZWwudmFsdWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAvLyBEb24ndCBjYXB0dXJlIGVudGVyIG9yIGFycm93IGtleSB1c2FnZS5cbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMgfHwgZS5rZXlDb2RlID09PSAzOCB8fCBlLmtleUNvZGUgPT09IDQwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGlucHV0IGlzbid0IGVtcHR5XG4gICAgICAgIC8vIENoZWNrIGlmIGZvY3VzIHRyaWdnZXJlZCBieSB0YWJcbiAgICAgICAgaWYgKHRoaXMub2xkVmFsICE9PSB2YWwgJiYgKE0udGFiUHJlc3NlZCB8fCBlLnR5cGUgIT09ICdmb2N1cycpKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb2xkVmFsXG4gICAgICAgIHRoaXMub2xkVmFsID0gdmFsO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBJbnB1dCBLZXlkb3duXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRLZXlkb3duXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUlucHV0S2V5ZG93bihlKSB7XG4gICAgICAgIEF1dG9jb21wbGV0ZS5fa2V5ZG93biA9IHRydWU7XG5cbiAgICAgICAgLy8gQXJyb3cga2V5cyBhbmQgZW50ZXIga2V5IHVzYWdlXG4gICAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlLFxuICAgICAgICAgICAgbGlFbGVtZW50ID0gdm9pZCAwLFxuICAgICAgICAgICAgbnVtSXRlbXMgPSAkKHRoaXMuY29udGFpbmVyKS5jaGlsZHJlbignbGknKS5sZW5ndGg7XG5cbiAgICAgICAgLy8gc2VsZWN0IGVsZW1lbnQgb24gRW50ZXJcbiAgICAgICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5FTlRFUiAmJiB0aGlzLmFjdGl2ZUluZGV4ID49IDApIHtcbiAgICAgICAgICBsaUVsZW1lbnQgPSAkKHRoaXMuY29udGFpbmVyKS5jaGlsZHJlbignbGknKS5lcSh0aGlzLmFjdGl2ZUluZGV4KTtcbiAgICAgICAgICBpZiAobGlFbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24obGlFbGVtZW50KTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FwdHVyZSB1cCBhbmQgZG93biBrZXlcbiAgICAgICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19VUCB8fCBrZXlDb2RlID09PSBNLmtleXMuQVJST1dfRE9XTikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuQVJST1dfVVAgJiYgdGhpcy5hY3RpdmVJbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXgtLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0gTS5rZXlzLkFSUk9XX0RPV04gJiYgdGhpcy5hY3RpdmVJbmRleCA8IG51bUl0ZW1zIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCsrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy4kYWN0aXZlID0gJCh0aGlzLmNvbnRhaW5lcikuY2hpbGRyZW4oJ2xpJykuZXEodGhpcy5hY3RpdmVJbmRleCk7XG4gICAgICAgICAgICB0aGlzLiRhY3RpdmUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBJbnB1dCBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRDbGljayhlKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDb250YWluZXIgTW91c2Vkb3duIGFuZCBUb3VjaHN0YXJ0XG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0KGUpIHtcbiAgICAgICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ29udGFpbmVyIE1vdXNldXAgYW5kIFRvdWNoZW5kXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZChlKSB7XG4gICAgICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhpZ2hsaWdodCBwYXJ0aWFsIG1hdGNoXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGlnaGxpZ2h0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hpZ2hsaWdodChzdHJpbmcsICRlbCkge1xuICAgICAgICB2YXIgaW1nID0gJGVsLmZpbmQoJ2ltZycpO1xuICAgICAgICB2YXIgbWF0Y2hTdGFydCA9ICRlbC50ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCcnICsgc3RyaW5nLnRvTG93ZXJDYXNlKCkgKyAnJyksXG4gICAgICAgICAgICBtYXRjaEVuZCA9IG1hdGNoU3RhcnQgKyBzdHJpbmcubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIGJlZm9yZU1hdGNoID0gJGVsLnRleHQoKS5zbGljZSgwLCBtYXRjaFN0YXJ0KSxcbiAgICAgICAgICAgIG1hdGNoVGV4dCA9ICRlbC50ZXh0KCkuc2xpY2UobWF0Y2hTdGFydCwgbWF0Y2hFbmQgKyAxKSxcbiAgICAgICAgICAgIGFmdGVyTWF0Y2ggPSAkZWwudGV4dCgpLnNsaWNlKG1hdGNoRW5kICsgMSk7XG4gICAgICAgICRlbC5odG1sKFwiPHNwYW4+XCIgKyBiZWZvcmVNYXRjaCArIFwiPHNwYW4gY2xhc3M9J2hpZ2hsaWdodCc+XCIgKyBtYXRjaFRleHQgKyBcIjwvc3Bhbj5cIiArIGFmdGVyTWF0Y2ggKyBcIjwvc3Bhbj5cIik7XG4gICAgICAgIGlmIChpbWcubGVuZ3RoKSB7XG4gICAgICAgICAgJGVsLnByZXBlbmQoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc2V0IGN1cnJlbnQgZWxlbWVudCBwb3NpdGlvblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3Jlc2V0Q3VycmVudEVsZW1lbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRDdXJyZW50RWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLiRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc2V0IGF1dG9jb21wbGV0ZSBlbGVtZW50c1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3Jlc2V0QXV0b2NvbXBsZXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0QXV0b2NvbXBsZXRlKCkge1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5lbXB0eSgpO1xuICAgICAgICB0aGlzLl9yZXNldEN1cnJlbnRFbGVtZW50KCk7XG4gICAgICAgIHRoaXMub2xkVmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0IGF1dG9jb21wbGV0ZSBvcHRpb25cbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgIEF1dG9jb21wbGV0ZSBvcHRpb24gbGlzdCBpdGVtIGVsZW1lbnRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNlbGVjdE9wdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdE9wdGlvbihlbCkge1xuICAgICAgICB2YXIgdGV4dCA9IGVsLnRleHQoKS50cmltKCk7XG4gICAgICAgIHRoaXMuZWwudmFsdWUgPSB0ZXh0O1xuICAgICAgICB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBvbkF1dG9jb21wbGV0ZSBjYWxsYmFjay5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUuY2FsbCh0aGlzLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbmRlciBkcm9wZG93biBjb250ZW50XG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAgZGF0YSBzZXRcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWwgIGN1cnJlbnQgaW5wdXQgdmFsdWVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW5kZXJEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJEcm9wZG93bihkYXRhLCB2YWwpIHtcbiAgICAgICAgdmFyIF90aGlzMzkgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG5cbiAgICAgICAgdmFyIG1hdGNoaW5nRGF0YSA9IFtdO1xuXG4gICAgICAgIC8vIEdhdGhlciBhbGwgbWF0Y2hpbmcgZGF0YVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5LnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2YWwpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gQnJlYWsgaWYgcGFzdCBsaW1pdFxuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPj0gdGhpcy5vcHRpb25zLmxpbWl0KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgICAgICAgIGRhdGE6IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtYXRjaGluZ0RhdGEucHVzaChlbnRyeSk7XG5cbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb3J0XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc29ydEZ1bmN0aW9uKSB7XG4gICAgICAgICAgdmFyIHNvcnRGdW5jdGlvbkJvdW5kID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczM5Lm9wdGlvbnMuc29ydEZ1bmN0aW9uKGEua2V5LnRvTG93ZXJDYXNlKCksIGIua2V5LnRvTG93ZXJDYXNlKCksIHZhbC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG1hdGNoaW5nRGF0YS5zb3J0KHNvcnRGdW5jdGlvbkJvdW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoaW5nRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBfZW50cnkgPSBtYXRjaGluZ0RhdGFbaV07XG4gICAgICAgICAgdmFyICRhdXRvY29tcGxldGVPcHRpb24gPSAkKCc8bGk+PC9saT4nKTtcbiAgICAgICAgICBpZiAoISFfZW50cnkuZGF0YSkge1xuICAgICAgICAgICAgJGF1dG9jb21wbGV0ZU9wdGlvbi5hcHBlbmQoXCI8aW1nIHNyYz1cXFwiXCIgKyBfZW50cnkuZGF0YSArIFwiXFxcIiBjbGFzcz1cXFwicmlnaHQgY2lyY2xlXFxcIj48c3Bhbj5cIiArIF9lbnRyeS5rZXkgKyBcIjwvc3Bhbj5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRhdXRvY29tcGxldGVPcHRpb24uYXBwZW5kKCc8c3Bhbj4nICsgX2VudHJ5LmtleSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJCh0aGlzLmNvbnRhaW5lcikuYXBwZW5kKCRhdXRvY29tcGxldGVPcHRpb24pO1xuICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodCh2YWwsICRhdXRvY29tcGxldGVPcHRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBBdXRvY29tcGxldGUgRHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICB2YXIgdmFsID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG5cbiAgICAgICAgaWYgKHZhbC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXJEcm9wZG93bih0aGlzLm9wdGlvbnMuZGF0YSwgdmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgaWYgKCF0aGlzLmRyb3Bkb3duLmlzT3Blbikge1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24ub3BlbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIGRyb3Bkb3duIHdoZW4gaXRzIGFscmVhZHkgb3BlblxuICAgICAgICAgIHRoaXMuZHJvcGRvd24ucmVjYWxjdWxhdGVEaW1lbnNpb25zKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBBdXRvY29tcGxldGUgRHJvcGRvd25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd24uY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBVcGRhdGUgRGF0YVxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZURhdGFcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEYXRhKGRhdGEpIHtcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZWwudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHRoaXMuX3JlbmRlckRyb3Bkb3duKGRhdGEsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoQXV0b2NvbXBsZXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXV0b2NvbXBsZXRlKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fQXV0b2NvbXBsZXRlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEF1dG9jb21wbGV0ZTtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBBdXRvY29tcGxldGVcbiAgICovXG5cblxuICBBdXRvY29tcGxldGUuX2tleWRvd24gPSBmYWxzZTtcblxuICBNLkF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZTtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEF1dG9jb21wbGV0ZSwgJ2F1dG9jb21wbGV0ZScsICdNX0F1dG9jb21wbGV0ZScpO1xuICB9XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIGxhYmVscyBvZiB0ZXh0IGZpZWxkc1xuICBNLnVwZGF0ZVRleHRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlucHV0X3NlbGVjdG9yID0gJ2lucHV0W3R5cGU9dGV4dF0sIGlucHV0W3R5cGU9cGFzc3dvcmRdLCBpbnB1dFt0eXBlPWVtYWlsXSwgaW5wdXRbdHlwZT11cmxdLCBpbnB1dFt0eXBlPXRlbF0sIGlucHV0W3R5cGU9bnVtYmVyXSwgaW5wdXRbdHlwZT1zZWFyY2hdLCBpbnB1dFt0eXBlPWRhdGVdLCBpbnB1dFt0eXBlPXRpbWVdLCB0ZXh0YXJlYSc7XG4gICAgJChpbnB1dF9zZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICBpZiAoZWxlbWVudC52YWx1ZS5sZW5ndGggPiAwIHx8ICQoZWxlbWVudCkuaXMoJzpmb2N1cycpIHx8IGVsZW1lbnQuYXV0b2ZvY3VzIHx8ICR0aGlzLmF0dHIoJ3BsYWNlaG9sZGVyJykgIT09IG51bGwpIHtcbiAgICAgICAgJHRoaXMuc2libGluZ3MoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnZhbGlkaXR5KSB7XG4gICAgICAgICR0aGlzLnNpYmxpbmdzKCdsYWJlbCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCBlbGVtZW50LnZhbGlkaXR5LmJhZElucHV0ID09PSB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR0aGlzLnNpYmxpbmdzKCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBNLnZhbGlkYXRlX2ZpZWxkID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHZhciBoYXNMZW5ndGggPSBvYmplY3QuYXR0cignZGF0YS1sZW5ndGgnKSAhPT0gbnVsbDtcbiAgICB2YXIgbGVuQXR0ciA9IHBhcnNlSW50KG9iamVjdC5hdHRyKCdkYXRhLWxlbmd0aCcpKTtcbiAgICB2YXIgbGVuID0gb2JqZWN0WzBdLnZhbHVlLmxlbmd0aDtcblxuICAgIGlmIChsZW4gPT09IDAgJiYgb2JqZWN0WzBdLnZhbGlkaXR5LmJhZElucHV0ID09PSBmYWxzZSAmJiAhb2JqZWN0LmlzKCc6cmVxdWlyZWQnKSkge1xuICAgICAgaWYgKG9iamVjdC5oYXNDbGFzcygndmFsaWRhdGUnKSkge1xuICAgICAgICBvYmplY3QucmVtb3ZlQ2xhc3MoJ3ZhbGlkJyk7XG4gICAgICAgIG9iamVjdC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob2JqZWN0Lmhhc0NsYXNzKCd2YWxpZGF0ZScpKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFyYWN0ZXIgY291bnRlciBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChvYmplY3QuaXMoJzp2YWxpZCcpICYmIGhhc0xlbmd0aCAmJiBsZW4gPD0gbGVuQXR0ciB8fCBvYmplY3QuaXMoJzp2YWxpZCcpICYmICFoYXNMZW5ndGgpIHtcbiAgICAgICAgICBvYmplY3QucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgICBvYmplY3QuYWRkQ2xhc3MoJ3ZhbGlkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqZWN0LnJlbW92ZUNsYXNzKCd2YWxpZCcpO1xuICAgICAgICAgIG9iamVjdC5hZGRDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIE0udGV4dGFyZWFBdXRvUmVzaXplID0gZnVuY3Rpb24gKCR0ZXh0YXJlYSkge1xuICAgIC8vIFdyYXAgaWYgbmF0aXZlIGVsZW1lbnRcbiAgICBpZiAoJHRleHRhcmVhIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgJHRleHRhcmVhID0gJCgkdGV4dGFyZWEpO1xuICAgIH1cblxuICAgIGlmICghJHRleHRhcmVhLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5lcnJvcignTm8gdGV4dGFyZWEgZWxlbWVudCBmb3VuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRleHRhcmVhIEF1dG8gUmVzaXplXG4gICAgdmFyIGhpZGRlbkRpdiA9ICQoJy5oaWRkZW5kaXYnKS5maXJzdCgpO1xuICAgIGlmICghaGlkZGVuRGl2Lmxlbmd0aCkge1xuICAgICAgaGlkZGVuRGl2ID0gJCgnPGRpdiBjbGFzcz1cImhpZGRlbmRpdiBjb21tb25cIj48L2Rpdj4nKTtcbiAgICAgICQoJ2JvZHknKS5hcHBlbmQoaGlkZGVuRGl2KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgZm9udCBwcm9wZXJ0aWVzIG9mIGhpZGRlbkRpdlxuICAgIHZhciBmb250RmFtaWx5ID0gJHRleHRhcmVhLmNzcygnZm9udC1mYW1pbHknKTtcbiAgICB2YXIgZm9udFNpemUgPSAkdGV4dGFyZWEuY3NzKCdmb250LXNpemUnKTtcbiAgICB2YXIgbGluZUhlaWdodCA9ICR0ZXh0YXJlYS5jc3MoJ2xpbmUtaGVpZ2h0Jyk7XG5cbiAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSBwYWRkaW5nIHNob3J0aGFuZC5cbiAgICB2YXIgcGFkZGluZ1RvcCA9ICR0ZXh0YXJlYS5jc3MoJ3BhZGRpbmctdG9wJyk7XG4gICAgdmFyIHBhZGRpbmdSaWdodCA9ICR0ZXh0YXJlYS5jc3MoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9ICR0ZXh0YXJlYS5jc3MoJ3BhZGRpbmctYm90dG9tJyk7XG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gJHRleHRhcmVhLmNzcygncGFkZGluZy1sZWZ0Jyk7XG5cbiAgICBpZiAoZm9udFNpemUpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKTtcbiAgICB9XG4gICAgaWYgKGZvbnRGYW1pbHkpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ2ZvbnQtZmFtaWx5JywgZm9udEZhbWlseSk7XG4gICAgfVxuICAgIGlmIChsaW5lSGVpZ2h0KSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdsaW5lLWhlaWdodCcsIGxpbmVIZWlnaHQpO1xuICAgIH1cbiAgICBpZiAocGFkZGluZ1RvcCkge1xuICAgICAgaGlkZGVuRGl2LmNzcygncGFkZGluZy10b3AnLCBwYWRkaW5nVG9wKTtcbiAgICB9XG4gICAgaWYgKHBhZGRpbmdSaWdodCkge1xuICAgICAgaGlkZGVuRGl2LmNzcygncGFkZGluZy1yaWdodCcsIHBhZGRpbmdSaWdodCk7XG4gICAgfVxuICAgIGlmIChwYWRkaW5nQm90dG9tKSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdwYWRkaW5nLWJvdHRvbScsIHBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgICBpZiAocGFkZGluZ0xlZnQpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3BhZGRpbmctbGVmdCcsIHBhZGRpbmdMZWZ0KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgb3JpZ2luYWwtaGVpZ2h0LCBpZiBub25lXG4gICAgaWYgKCEkdGV4dGFyZWEuZGF0YSgnb3JpZ2luYWwtaGVpZ2h0JykpIHtcbiAgICAgICR0ZXh0YXJlYS5kYXRhKCdvcmlnaW5hbC1oZWlnaHQnLCAkdGV4dGFyZWEuaGVpZ2h0KCkpO1xuICAgIH1cblxuICAgIGlmICgkdGV4dGFyZWEuYXR0cignd3JhcCcpID09PSAnb2ZmJykge1xuICAgICAgaGlkZGVuRGl2LmNzcygnb3ZlcmZsb3ctd3JhcCcsICdub3JtYWwnKS5jc3MoJ3doaXRlLXNwYWNlJywgJ3ByZScpO1xuICAgIH1cblxuICAgIGhpZGRlbkRpdi50ZXh0KCR0ZXh0YXJlYVswXS52YWx1ZSArICdcXG4nKTtcbiAgICB2YXIgY29udGVudCA9IGhpZGRlbkRpdi5odG1sKCkucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG4gICAgaGlkZGVuRGl2Lmh0bWwoY29udGVudCk7XG5cbiAgICAvLyBXaGVuIHRleHRhcmVhIGlzIGhpZGRlbiwgd2lkdGggZ29lcyBjcmF6eS5cbiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGhhbGYgb2Ygd2luZG93IHNpemVcblxuICAgIGlmICgkdGV4dGFyZWFbMF0ub2Zmc2V0V2lkdGggPiAwICYmICR0ZXh0YXJlYVswXS5vZmZzZXRIZWlnaHQgPiAwKSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCd3aWR0aCcsICR0ZXh0YXJlYS53aWR0aCgpICsgJ3B4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3dpZHRoJywgd2luZG93LmlubmVyV2lkdGggLyAyICsgJ3B4Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIGlmIHRoZSBuZXcgaGVpZ2h0IGlzIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiBvcmlnaW5hbCBoZWlnaHQgb2YgdGhlIHRleHRhcmVhXG4gICAgICovXG4gICAgaWYgKCR0ZXh0YXJlYS5kYXRhKCdvcmlnaW5hbC1oZWlnaHQnKSA8PSBoaWRkZW5EaXYuaW5uZXJIZWlnaHQoKSkge1xuICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywgaGlkZGVuRGl2LmlubmVySGVpZ2h0KCkgKyAncHgnKTtcbiAgICB9IGVsc2UgaWYgKCR0ZXh0YXJlYVswXS52YWx1ZS5sZW5ndGggPCAkdGV4dGFyZWEuZGF0YSgncHJldmlvdXMtbGVuZ3RoJykpIHtcbiAgICAgIC8qKlxuICAgICAgICogSW4gY2FzZSB0aGUgbmV3IGhlaWdodCBpcyBsZXNzIHRoYW4gb3JpZ2luYWwgaGVpZ2h0LCBpdFxuICAgICAgICogbWVhbnMgdGhlIHRleHRhcmVhIGhhcyBsZXNzIHRleHQgdGhhbiBiZWZvcmVcbiAgICAgICAqIFNvIHdlIHNldCB0aGUgaGVpZ2h0IHRvIHRoZSBvcmlnaW5hbCBvbmVcbiAgICAgICAqL1xuICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywgJHRleHRhcmVhLmRhdGEoJ29yaWdpbmFsLWhlaWdodCcpICsgJ3B4Jyk7XG4gICAgfVxuICAgICR0ZXh0YXJlYS5kYXRhKCdwcmV2aW91cy1sZW5ndGgnLCAkdGV4dGFyZWFbMF0udmFsdWUubGVuZ3RoKTtcbiAgfTtcblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGV4dCBiYXNlZCBpbnB1dHNcbiAgICB2YXIgaW5wdXRfc2VsZWN0b3IgPSAnaW5wdXRbdHlwZT10ZXh0XSwgaW5wdXRbdHlwZT1wYXNzd29yZF0sIGlucHV0W3R5cGU9ZW1haWxdLCBpbnB1dFt0eXBlPXVybF0sIGlucHV0W3R5cGU9dGVsXSwgaW5wdXRbdHlwZT1udW1iZXJdLCBpbnB1dFt0eXBlPXNlYXJjaF0sIGlucHV0W3R5cGU9ZGF0ZV0sIGlucHV0W3R5cGU9dGltZV0sIHRleHRhcmVhJztcblxuICAgIC8vIEFkZCBhY3RpdmUgaWYgZm9ybSBhdXRvIGNvbXBsZXRlXG4gICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsIGlucHV0X3NlbGVjdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggIT09IDAgfHwgJCh0aGlzKS5hdHRyKCdwbGFjZWhvbGRlcicpICE9PSBudWxsKSB7XG4gICAgICAgICQodGhpcykuc2libGluZ3MoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgTS52YWxpZGF0ZV9maWVsZCgkKHRoaXMpKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBhY3RpdmUgaWYgaW5wdXQgZWxlbWVudCBoYXMgYmVlbiBwcmUtcG9wdWxhdGVkIG9uIGRvY3VtZW50IHJlYWR5XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgTS51cGRhdGVUZXh0RmllbGRzKCk7XG4gICAgfSk7XG5cbiAgICAvLyBIVE1MIERPTSBGT1JNIFJFU0VUIGhhbmRsaW5nXG4gICAgJChkb2N1bWVudCkub24oJ3Jlc2V0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBmb3JtUmVzZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgIGlmIChmb3JtUmVzZXQuaXMoJ2Zvcm0nKSkge1xuICAgICAgICBmb3JtUmVzZXQuZmluZChpbnB1dF9zZWxlY3RvcikucmVtb3ZlQ2xhc3MoJ3ZhbGlkJykucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgZm9ybVJlc2V0LmZpbmQoaW5wdXRfc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVzZXQgc2VsZWN0IChhZnRlciBuYXRpdmUgcmVzZXQpXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcm1SZXNldC5maW5kKCdzZWxlY3QnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGluaXRpYWxpemVkXG4gICAgICAgICAgICBpZiAodGhpcy5NX0Zvcm1TZWxlY3QpIHtcbiAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYWN0aXZlIHdoZW4gZWxlbWVudCBoYXMgZm9jdXNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKGlucHV0X3NlbGVjdG9yKSkge1xuICAgICAgICAkKGUudGFyZ2V0KS5zaWJsaW5ncygnbGFiZWwsIC5wcmVmaXgnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWN0aXZlIHdoZW4gZWxlbWVudCBpcyBibHVycmVkXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRpbnB1dEVsZW1lbnQgPSAkKGUudGFyZ2V0KTtcbiAgICAgIGlmICgkaW5wdXRFbGVtZW50LmlzKGlucHV0X3NlbGVjdG9yKSkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnLnByZWZpeCc7XG5cbiAgICAgICAgaWYgKCRpbnB1dEVsZW1lbnRbMF0udmFsdWUubGVuZ3RoID09PSAwICYmICRpbnB1dEVsZW1lbnRbMF0udmFsaWRpdHkuYmFkSW5wdXQgIT09IHRydWUgJiYgJGlucHV0RWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0b3IgKz0gJywgbGFiZWwnO1xuICAgICAgICB9XG4gICAgICAgICRpbnB1dEVsZW1lbnQuc2libGluZ3Moc2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgTS52YWxpZGF0ZV9maWVsZCgkaW5wdXRFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcblxuICAgIC8vIFJhZGlvIGFuZCBDaGVja2JveCBmb2N1cyBjbGFzc1xuICAgIHZhciByYWRpb19jaGVja2JveCA9ICdpbnB1dFt0eXBlPXJhZGlvXSwgaW5wdXRbdHlwZT1jaGVja2JveF0nO1xuICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIHJhZGlvX2NoZWNrYm94LCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gVEFCLCBjaGVjayBpZiB0YWJiaW5nIHRvIHJhZGlvIG9yIGNoZWNrYm94LlxuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygndGFiYmVkJyk7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICR0aGlzLm9uZSgnYmx1cicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndGFiYmVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdGV4dF9hcmVhX3NlbGVjdG9yID0gJy5tYXRlcmlhbGl6ZS10ZXh0YXJlYSc7XG4gICAgJCh0ZXh0X2FyZWFfc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0ZXh0YXJlYSA9ICQodGhpcyk7XG4gICAgICAvKipcbiAgICAgICAqIFJlc2l6ZSB0ZXh0YXJlYSBvbiBkb2N1bWVudCBsb2FkIGFmdGVyIHN0b3JpbmdcbiAgICAgICAqIHRoZSBvcmlnaW5hbCBoZWlnaHQgYW5kIHRoZSBvcmlnaW5hbCBsZW5ndGhcbiAgICAgICAqL1xuICAgICAgJHRleHRhcmVhLmRhdGEoJ29yaWdpbmFsLWhlaWdodCcsICR0ZXh0YXJlYS5oZWlnaHQoKSk7XG4gICAgICAkdGV4dGFyZWEuZGF0YSgncHJldmlvdXMtbGVuZ3RoJywgdGhpcy52YWx1ZS5sZW5ndGgpO1xuICAgICAgTS50ZXh0YXJlYUF1dG9SZXNpemUoJHRleHRhcmVhKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIHRleHRfYXJlYV9zZWxlY3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgTS50ZXh0YXJlYUF1dG9SZXNpemUoJCh0aGlzKSk7XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCB0ZXh0X2FyZWFfc2VsZWN0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgIE0udGV4dGFyZWFBdXRvUmVzaXplKCQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgLy8gRmlsZSBJbnB1dCBQYXRoXG4gICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuZmlsZS1maWVsZCBpbnB1dFt0eXBlPVwiZmlsZVwiXScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmaWxlX2ZpZWxkID0gJCh0aGlzKS5jbG9zZXN0KCcuZmlsZS1maWVsZCcpO1xuICAgICAgdmFyIHBhdGhfaW5wdXQgPSBmaWxlX2ZpZWxkLmZpbmQoJ2lucHV0LmZpbGUtcGF0aCcpO1xuICAgICAgdmFyIGZpbGVzID0gJCh0aGlzKVswXS5maWxlcztcbiAgICAgIHZhciBmaWxlX25hbWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpbGVfbmFtZXMucHVzaChmaWxlc1tpXS5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHBhdGhfaW5wdXRbMF0udmFsdWUgPSBmaWxlX25hbWVzLmpvaW4oJywgJyk7XG4gICAgICBwYXRoX2lucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgIH0pO1xuICB9KTsgLy8gRW5kIG9mICQoZG9jdW1lbnQpLnJlYWR5XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgaW5kaWNhdG9yczogdHJ1ZSxcbiAgICBoZWlnaHQ6IDQwMCxcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGludGVydmFsOiA2MDAwXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgU2xpZGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQxMSkge1xuICAgIF9pbmhlcml0cyhTbGlkZXIsIF9Db21wb25lbnQxMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgU2xpZGVyIGluc3RhbmNlIGFuZCBzZXQgdXAgb3ZlcmxheVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNsaWRlcihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaWRlcik7XG5cbiAgICAgIHZhciBfdGhpczQwID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNsaWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNsaWRlcikpLmNhbGwodGhpcywgU2xpZGVyLCBlbCwgb3B0aW9ucykpO1xuXG4gICAgICBfdGhpczQwLmVsLk1fU2xpZGVyID0gX3RoaXM0MDtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgbW9kYWxcbiAgICAgICAqIEBtZW1iZXIgU2xpZGVyI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbaW5kaWNhdG9ycz10cnVlXSAtIFNob3cgaW5kaWNhdG9yc1xuICAgICAgICogQHByb3Age051bWJlcn0gW2hlaWdodD00MDBdIC0gaGVpZ2h0IG9mIHNsaWRlclxuICAgICAgICogQHByb3Age051bWJlcn0gW2R1cmF0aW9uPTUwMF0gLSBMZW5ndGggaW4gbXMgb2Ygc2xpZGUgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age051bWJlcn0gW2ludGVydmFsPTYwMDBdIC0gTGVuZ3RoIGluIG1zIG9mIHNsaWRlIGludGVydmFsXG4gICAgICAgKi9cbiAgICAgIF90aGlzNDAub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBTbGlkZXIuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBzZXR1cFxuICAgICAgX3RoaXM0MC4kc2xpZGVyID0gX3RoaXM0MC4kZWwuZmluZCgnLnNsaWRlcycpO1xuICAgICAgX3RoaXM0MC4kc2xpZGVzID0gX3RoaXM0MC4kc2xpZGVyLmNoaWxkcmVuKCdsaScpO1xuICAgICAgX3RoaXM0MC5hY3RpdmVJbmRleCA9IF90aGlzNDAuJHNsaWRlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICQoaXRlbSkuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSkuZmlyc3QoKS5pbmRleCgpO1xuICAgICAgaWYgKF90aGlzNDAuYWN0aXZlSW5kZXggIT0gLTEpIHtcbiAgICAgICAgX3RoaXM0MC4kYWN0aXZlID0gX3RoaXM0MC4kc2xpZGVzLmVxKF90aGlzNDAuYWN0aXZlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpczQwLl9zZXRTbGlkZXJIZWlnaHQoKTtcblxuICAgICAgLy8gU2V0IGluaXRpYWwgcG9zaXRpb25zIG9mIGNhcHRpb25zXG4gICAgICBfdGhpczQwLiRzbGlkZXMuZmluZCgnLmNhcHRpb24nKS5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBfdGhpczQwLl9hbmltYXRlQ2FwdGlvbkluKGVsLCAwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb3ZlIGltZyBzcmMgaW50byBiYWNrZ3JvdW5kLWltYWdlXG4gICAgICBfdGhpczQwLiRzbGlkZXMuZmluZCgnaW1nJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyQmFzZTY0ID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFCQVAvLy93QUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nO1xuICAgICAgICBpZiAoJChlbCkuYXR0cignc3JjJykgIT09IHBsYWNlaG9sZGVyQmFzZTY0KSB7XG4gICAgICAgICAgJChlbCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChcIicgKyAkKGVsKS5hdHRyKCdzcmMnKSArICdcIiknKTtcbiAgICAgICAgICAkKGVsKS5hdHRyKCdzcmMnLCBwbGFjZWhvbGRlckJhc2U2NCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBfdGhpczQwLl9zZXR1cEluZGljYXRvcnMoKTtcblxuICAgICAgLy8gU2hvdyBhY3RpdmUgc2xpZGVcbiAgICAgIGlmIChfdGhpczQwLiRhY3RpdmUpIHtcbiAgICAgICAgX3RoaXM0MC4kYWN0aXZlLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXM0MC4kc2xpZGVzLmZpcnN0KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiBfdGhpczQwLiRzbGlkZXMuZmlyc3QoKVswXSxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiBfdGhpczQwLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzNDAuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICBfdGhpczQwLiRhY3RpdmUgPSBfdGhpczQwLiRzbGlkZXMuZXEoX3RoaXM0MC5hY3RpdmVJbmRleCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGluZGljYXRvcnNcbiAgICAgICAgaWYgKF90aGlzNDAub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgX3RoaXM0MC4kaW5kaWNhdG9ycy5lcShfdGhpczQwLmFjdGl2ZUluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IGhlaWdodCB0byBjdXJyZW50IHNsaWRlXG4gICAgICBfdGhpczQwLiRhY3RpdmUuZmluZCgnaW1nJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogX3RoaXM0MC4kYWN0aXZlLmZpbmQoJy5jYXB0aW9uJylbMF0sXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IF90aGlzNDAub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXM0MC5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG5cbiAgICAgIC8vIGF1dG8gc2Nyb2xsXG4gICAgICBfdGhpczQwLnN0YXJ0KCk7XG4gICAgICByZXR1cm4gX3RoaXM0MDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2xpZGVyLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLl9yZW1vdmVJbmRpY2F0b3JzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5lbC5NX1NsaWRlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpczQxID0gdGhpcztcblxuICAgICAgICB0aGlzLl9oYW5kbGVJbnRlcnZhbEJvdW5kID0gdGhpcy5faGFuZGxlSW50ZXJ2YWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczQxLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNDIgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM0Mi5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgaW5kaWNhdG9yIGNsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5kaWNhdG9yQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5kaWNhdG9yQ2xpY2soZSkge1xuICAgICAgICB2YXIgY3VyckluZGV4ID0gJChlLnRhcmdldCkuaW5kZXgoKTtcbiAgICAgICAgdGhpcy5zZXQoY3VyckluZGV4KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW50ZXJ2YWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnRlcnZhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnRlcnZhbCgpIHtcbiAgICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gdGhpcy4kc2xpZGVyLmZpbmQoJy5hY3RpdmUnKS5pbmRleCgpO1xuICAgICAgICBpZiAodGhpcy4kc2xpZGVzLmxlbmd0aCA9PT0gbmV3QWN0aXZlSW5kZXggKyAxKSBuZXdBY3RpdmVJbmRleCA9IDA7XG4gICAgICAgIC8vIGxvb3AgdG8gc3RhcnRcbiAgICAgICAgZWxzZSBuZXdBY3RpdmVJbmRleCArPSAxO1xuXG4gICAgICAgIHRoaXMuc2V0KG5ld0FjdGl2ZUluZGV4KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBbmltYXRlIGluIGNhcHRpb25cbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gY2FwdGlvblxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUNhcHRpb25JblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hbmltYXRlQ2FwdGlvbkluKGNhcHRpb24sIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgICB0YXJnZXRzOiBjYXB0aW9uLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKGNhcHRpb24pLmhhc0NsYXNzKCdjZW50ZXItYWxpZ24nKSkge1xuICAgICAgICAgIGFuaW1PcHRpb25zLnRyYW5zbGF0ZVkgPSAtMTAwO1xuICAgICAgICB9IGVsc2UgaWYgKCQoY2FwdGlvbikuaGFzQ2xhc3MoJ3JpZ2h0LWFsaWduJykpIHtcbiAgICAgICAgICBhbmltT3B0aW9ucy50cmFuc2xhdGVYID0gMTAwO1xuICAgICAgICB9IGVsc2UgaWYgKCQoY2FwdGlvbikuaGFzQ2xhc3MoJ2xlZnQtYWxpZ24nKSkge1xuICAgICAgICAgIGFuaW1PcHRpb25zLnRyYW5zbGF0ZVggPSAtMTAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGhlaWdodCBvZiBzbGlkZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRTbGlkZXJIZWlnaHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0U2xpZGVySGVpZ2h0KCkge1xuICAgICAgICAvLyBJZiBmdWxsc2NyZWVuLCBkbyBub3RoaW5nXG4gICAgICAgIGlmICghdGhpcy4kZWwuaGFzQ2xhc3MoJ2Z1bGxzY3JlZW4nKSkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICAgICAgLy8gQWRkIGhlaWdodCBpZiBpbmRpY2F0b3JzIGFyZSBwcmVzZW50XG4gICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyA0MCArICdweCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyAncHgnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy4kc2xpZGVyLmNzcygnaGVpZ2h0JywgdGhpcy5vcHRpb25zLmhlaWdodCArICdweCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgaW5kaWNhdG9yc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwSW5kaWNhdG9yc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEluZGljYXRvcnMoKSB7XG4gICAgICAgIHZhciBfdGhpczQzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzID0gJCgnPHVsIGNsYXNzPVwiaW5kaWNhdG9yc1wiPjwvdWw+Jyk7XG4gICAgICAgICAgdGhpcy4kc2xpZGVzLmVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyICRpbmRpY2F0b3IgPSAkKCc8bGkgY2xhc3M9XCJpbmRpY2F0b3ItaXRlbVwiPjwvbGk+Jyk7XG4gICAgICAgICAgICBfdGhpczQzLiRpbmRpY2F0b3JzLmFwcGVuZCgkaW5kaWNhdG9yWzBdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy4kaW5kaWNhdG9yc1swXSk7XG4gICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oJ2xpLmluZGljYXRvci1pdGVtJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgaW5kaWNhdG9yc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUluZGljYXRvcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlSW5kaWNhdG9ycygpIHtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgndWwuaW5kaWNhdG9ycycpLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEN5Y2xlIHRvIG50aCBpdGVtXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXM0NCA9IHRoaXM7XG5cbiAgICAgICAgLy8gV3JhcCBhcm91bmQgaW5kaWNlcy5cbiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuJHNsaWRlcy5sZW5ndGgpIGluZGV4ID0gMDtlbHNlIGlmIChpbmRleCA8IDApIGluZGV4ID0gdGhpcy4kc2xpZGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgLy8gT25seSBkbyBpZiBpbmRleCBjaGFuZ2VzXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgdGhpcy4kYWN0aXZlID0gdGhpcy4kc2xpZGVzLmVxKHRoaXMuYWN0aXZlSW5kZXgpO1xuICAgICAgICAgIHZhciAkY2FwdGlvbiA9IHRoaXMuJGFjdGl2ZS5maW5kKCcuY2FwdGlvbicpO1xuICAgICAgICAgIHRoaXMuJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuJGFjdGl2ZVswXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXM0NC4kc2xpZGVzLm5vdCgnLmFjdGl2ZScpLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZUNhcHRpb25JbigkY2FwdGlvblswXSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmVxKHRoaXMuYWN0aXZlSW5kZXgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMuZXEoaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuJHNsaWRlcy5lcShpbmRleClbMF0sXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRzbGlkZXMuZXEoaW5kZXgpLmZpbmQoJy5jYXB0aW9uJylbMF0sXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgZGVsYXk6IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdGhpcy4kc2xpZGVzLmVxKGluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4O1xuXG4gICAgICAgICAgLy8gUmVzZXQgaW50ZXJ2YWxcbiAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBQYXVzZSBzbGlkZXIgaW50ZXJ2YWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInBhdXNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU3RhcnQgc2xpZGVyIGludGVydmFsXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdGFydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5faGFuZGxlSW50ZXJ2YWxCb3VuZCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICsgdGhpcy5vcHRpb25zLmludGVydmFsKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBNb3ZlIHRvIG5leHQgc2xpZGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm5leHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB2YXIgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ICsgMTtcblxuICAgICAgICAvLyBXcmFwIGFyb3VuZCBpbmRpY2VzLlxuICAgICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO2Vsc2UgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSB0aGlzLiRzbGlkZXMubGVuZ3RoIC0gMTtcblxuICAgICAgICB0aGlzLnNldChuZXdJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogTW92ZSB0byBwcmV2aW91cyBzbGlkZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicHJldlwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggLSAxO1xuXG4gICAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICAgIGlmIChuZXdJbmRleCA+PSB0aGlzLiRzbGlkZXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7ZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuJHNsaWRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIHRoaXMuc2V0KG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoU2xpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2xpZGVyKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fU2xpZGVyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNsaWRlcjtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uU2xpZGVyID0gU2xpZGVyO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoU2xpZGVyLCAnc2xpZGVyJywgJ01fU2xpZGVyJyk7XG4gIH1cbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmNhcmQnLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkKHRoaXMpLmNoaWxkcmVuKCcuY2FyZC1yZXZlYWwnKS5sZW5ndGgpIHtcbiAgICAgIHZhciAkY2FyZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jYXJkJyk7XG4gICAgICBpZiAoJGNhcmQuZGF0YSgnaW5pdGlhbE92ZXJmbG93JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAkY2FyZC5kYXRhKCdpbml0aWFsT3ZlcmZsb3cnLCAkY2FyZC5jc3MoJ292ZXJmbG93JykgPT09IHVuZGVmaW5lZCA/ICcnIDogJGNhcmQuY3NzKCdvdmVyZmxvdycpKTtcbiAgICAgIH1cbiAgICAgIHZhciAkY2FyZFJldmVhbCA9ICQodGhpcykuZmluZCgnLmNhcmQtcmV2ZWFsJyk7XG4gICAgICBpZiAoJChlLnRhcmdldCkuaXMoJCgnLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJykpIHx8ICQoZS50YXJnZXQpLmlzKCQoJy5jYXJkLXJldmVhbCAuY2FyZC10aXRsZSBpJykpKSB7XG4gICAgICAgIC8vIE1ha2UgUmV2ZWFsIGFuaW1hdGUgZG93biBhbmQgZGlzcGxheSBub25lXG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6ICRjYXJkUmV2ZWFsWzBdLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IDIyNSxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICAgIHZhciBlbCA9IGFuaW0uYW5pbWF0YWJsZXNbMF0udGFyZ2V0O1xuICAgICAgICAgICAgJChlbCkuY3NzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xuICAgICAgICAgICAgJGNhcmQuY3NzKCdvdmVyZmxvdycsICRjYXJkLmRhdGEoJ2luaXRpYWxPdmVyZmxvdycpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgkKGUudGFyZ2V0KS5pcygkKCcuY2FyZCAuYWN0aXZhdG9yJykpIHx8ICQoZS50YXJnZXQpLmlzKCQoJy5jYXJkIC5hY3RpdmF0b3IgaScpKSkge1xuICAgICAgICAkY2FyZC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICAkY2FyZFJldmVhbC5jc3MoeyBkaXNwbGF5OiAnYmxvY2snIH0pO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiAkY2FyZFJldmVhbFswXSxcbiAgICAgICAgICB0cmFuc2xhdGVZOiAnLTEwMCUnLFxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pKGNhc2gsIE0uYW5pbWUpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkYXRhOiBbXSxcbiAgICBwbGFjZWhvbGRlcjogJycsXG4gICAgc2Vjb25kYXJ5UGxhY2Vob2xkZXI6ICcnLFxuICAgIGF1dG9jb21wbGV0ZU9wdGlvbnM6IHt9LFxuICAgIGxpbWl0OiBJbmZpbml0eSxcbiAgICBvbkNoaXBBZGQ6IG51bGwsXG4gICAgb25DaGlwU2VsZWN0OiBudWxsLFxuICAgIG9uQ2hpcERlbGV0ZTogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBjaGlwXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0YWcgIGNoaXAgdGFnIHN0cmluZ1xuICAgKiBAcHJvcGVydHkge1N0cmluZ30gW2ltYWdlXSAgY2hpcCBhdmF0YXIgaW1hZ2Ugc3RyaW5nXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIENoaXBzID0gZnVuY3Rpb24gKF9Db21wb25lbnQxMikge1xuICAgIF9pbmhlcml0cyhDaGlwcywgX0NvbXBvbmVudDEyKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBDaGlwcyBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaGlwcyhlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoaXBzKTtcblxuICAgICAgdmFyIF90aGlzNDUgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2hpcHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaGlwcykpLmNhbGwodGhpcywgQ2hpcHMsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNDUuZWwuTV9DaGlwcyA9IF90aGlzNDU7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG1vZGFsXG4gICAgICAgKiBAbWVtYmVyIENoaXBzI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtBcnJheX0gZGF0YVxuICAgICAgICogQHByb3Age1N0cmluZ30gcGxhY2Vob2xkZXJcbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IHNlY29uZGFyeVBsYWNlaG9sZGVyXG4gICAgICAgKiBAcHJvcCB7T2JqZWN0fSBhdXRvY29tcGxldGVPcHRpb25zXG4gICAgICAgKi9cbiAgICAgIF90aGlzNDUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDaGlwcy5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNDUuJGVsLmFkZENsYXNzKCdjaGlwcyBpbnB1dC1maWVsZCcpO1xuICAgICAgX3RoaXM0NS5jaGlwc0RhdGEgPSBbXTtcbiAgICAgIF90aGlzNDUuJGNoaXBzID0gJCgpO1xuICAgICAgX3RoaXM0NS5fc2V0dXBJbnB1dCgpO1xuICAgICAgX3RoaXM0NS5oYXNBdXRvY29tcGxldGUgPSBPYmplY3Qua2V5cyhfdGhpczQ1Lm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucykubGVuZ3RoID4gMDtcblxuICAgICAgLy8gU2V0IGlucHV0IGlkXG4gICAgICBpZiAoIV90aGlzNDUuJGlucHV0LmF0dHIoJ2lkJykpIHtcbiAgICAgICAgX3RoaXM0NS4kaW5wdXQuYXR0cignaWQnLCBNLmd1aWQoKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbmRlciBpbml0aWFsIGNoaXBzXG4gICAgICBpZiAoX3RoaXM0NS5vcHRpb25zLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzNDUuY2hpcHNEYXRhID0gX3RoaXM0NS5vcHRpb25zLmRhdGE7XG4gICAgICAgIF90aGlzNDUuX3JlbmRlckNoaXBzKF90aGlzNDUuY2hpcHNEYXRhKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgYXV0b2NvbXBsZXRlIGlmIG5lZWRlZFxuICAgICAgaWYgKF90aGlzNDUuaGFzQXV0b2NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzNDUuX3NldHVwQXV0b2NvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzNDUuX3NldFBsYWNlaG9sZGVyKCk7XG4gICAgICBfdGhpczQ1Ll9zZXR1cExhYmVsKCk7XG4gICAgICBfdGhpczQ1Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczQ1O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDaGlwcywgW3tcbiAgICAgIGtleTogXCJnZXREYXRhXCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgQ2hpcHMgRGF0YVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpcHNEYXRhO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy4kY2hpcHMucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZWwuTV9DaGlwcyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNoaXBDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ2hpcENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEJsdXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5ZG93bik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICAgICAgdGhpcy4kaW5wdXRbMF0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEZvY3VzQm91bmQpO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQpO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNoaXBDbGlja0JvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIENoaXBzLl9oYW5kbGVDaGlwc0tleXVwKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgQ2hpcHMuX2hhbmRsZUNoaXBzQmx1ciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuJGlucHV0WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy4kaW5wdXRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICAgICAgdGhpcy4kaW5wdXRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ2hpcCBDbGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNoaXBDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGlwQ2xpY2soZSkge1xuICAgICAgICB2YXIgJGNoaXAgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcCcpO1xuICAgICAgICB2YXIgY2xpY2tlZENsb3NlID0gJChlLnRhcmdldCkuaXMoJy5jbG9zZScpO1xuICAgICAgICBpZiAoJGNoaXAubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gJGNoaXAuaW5kZXgoKTtcbiAgICAgICAgICBpZiAoY2xpY2tlZENsb3NlKSB7XG4gICAgICAgICAgICAvLyBkZWxldGUgY2hpcFxuICAgICAgICAgICAgdGhpcy5kZWxldGVDaGlwKGluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0WzBdLmZvY3VzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNlbGVjdCBjaGlwXG4gICAgICAgICAgICB0aGlzLnNlbGVjdENoaXAoaW5kZXgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERlZmF1bHQgaGFuZGxlIGNsaWNrIHRvIGZvY3VzIG9uIGlucHV0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDaGlwcyBLZXlkb3duXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRGb2N1c1wiLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IEZvY3VzXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRGb2N1cygpIHtcbiAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2ZvY3VzJyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIElucHV0IEJsdXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEJsdXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRCbHVyKCkge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZm9jdXMnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgS2V5ZG93blxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0S2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbnB1dEtleWRvd24oZSkge1xuICAgICAgICBDaGlwcy5fa2V5ZG93biA9IHRydWU7XG5cbiAgICAgICAgLy8gZW50ZXJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAvLyBPdmVycmlkZSBlbnRlciBpZiBhdXRvY29tcGxldGluZy5cbiAgICAgICAgICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUuaXNPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuYWRkQ2hpcCh7XG4gICAgICAgICAgICB0YWc6IHRoaXMuJGlucHV0WzBdLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy4kaW5wdXRbMF0udmFsdWUgPSAnJztcblxuICAgICAgICAgIC8vIGRlbGV0ZSBvciBsZWZ0XG4gICAgICAgIH0gZWxzZSBpZiAoKGUua2V5Q29kZSA9PT0gOCB8fCBlLmtleUNvZGUgPT09IDM3KSAmJiB0aGlzLiRpbnB1dFswXS52YWx1ZSA9PT0gJycgJiYgdGhpcy5jaGlwc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hpcCh0aGlzLmNoaXBzRGF0YS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbmRlciBDaGlwXG4gICAgICAgKiBAcGFyYW0ge2NoaXB9IGNoaXBcbiAgICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVuZGVyQ2hpcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJDaGlwKGNoaXApIHtcbiAgICAgICAgaWYgKCFjaGlwLnRhZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJlZENoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgcmVuZGVyZWRDaGlwLmNsYXNzTGlzdC5hZGQoJ2NoaXAnKTtcbiAgICAgICAgcmVuZGVyZWRDaGlwLnRleHRDb250ZW50ID0gY2hpcC50YWc7XG4gICAgICAgIHJlbmRlcmVkQ2hpcC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG4gICAgICAgICQoY2xvc2VJY29uKS5hZGRDbGFzcygnbWF0ZXJpYWwtaWNvbnMgY2xvc2UnKTtcbiAgICAgICAgY2xvc2VJY29uLnRleHRDb250ZW50ID0gJ2Nsb3NlJztcblxuICAgICAgICAvLyBhdHRhY2ggaW1hZ2UgaWYgbmVlZGVkXG4gICAgICAgIGlmIChjaGlwLmltYWdlKSB7XG4gICAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGNoaXAuaW1hZ2UpO1xuICAgICAgICAgIHJlbmRlcmVkQ2hpcC5pbnNlcnRCZWZvcmUoaW1nLCByZW5kZXJlZENoaXAuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlZENoaXAuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkQ2hpcDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW5kZXIgQ2hpcHNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW5kZXJDaGlwc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJDaGlwcygpIHtcbiAgICAgICAgdGhpcy4kY2hpcHMucmVtb3ZlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlwc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2hpcEVsID0gdGhpcy5fcmVuZGVyQ2hpcCh0aGlzLmNoaXBzRGF0YVtpXSk7XG4gICAgICAgICAgdGhpcy4kZWwuYXBwZW5kKGNoaXBFbCk7XG4gICAgICAgICAgdGhpcy4kY2hpcHMuYWRkKGNoaXBFbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlIGlucHV0IHRvIGVuZFxuICAgICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy4kaW5wdXRbMF0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEF1dG9jb21wbGV0ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwQXV0b2NvbXBsZXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwQXV0b2NvbXBsZXRlKCkge1xuICAgICAgICB2YXIgX3RoaXM0NiA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9wdGlvbnMub25BdXRvY29tcGxldGUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgX3RoaXM0Ni5hZGRDaGlwKHtcbiAgICAgICAgICAgIHRhZzogdmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX3RoaXM0Ni4kaW5wdXRbMF0udmFsdWUgPSAnJztcbiAgICAgICAgICBfdGhpczQ2LiRpbnB1dFswXS5mb2N1cygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlID0gTS5BdXRvY29tcGxldGUuaW5pdCh0aGlzLiRpbnB1dFswXSwgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIElucHV0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBJbnB1dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cElucHV0KCkge1xuICAgICAgICB0aGlzLiRpbnB1dCA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgIGlmICghdGhpcy4kaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCc8aW5wdXQ+PC9pbnB1dD4nKTtcbiAgICAgICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy4kaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kaW5wdXQuYWRkQ2xhc3MoJ2lucHV0Jyk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgTGFiZWxcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cExhYmVsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwTGFiZWwoKSB7XG4gICAgICAgIHRoaXMuJGxhYmVsID0gdGhpcy4kZWwuZmluZCgnbGFiZWwnKTtcbiAgICAgICAgaWYgKHRoaXMuJGxhYmVsLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGhpcy4kaW5wdXQuYXR0cignaWQnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgcGxhY2Vob2xkZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRQbGFjZWhvbGRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpcHNEYXRhICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuY2hpcHNEYXRhLmxlbmd0aCAmJiB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAkKHRoaXMuJGlucHV0KS5wcm9wKCdwbGFjZWhvbGRlcicsIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcik7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuY2hpcHNEYXRhID09PSB1bmRlZmluZWQgfHwgISF0aGlzLmNoaXBzRGF0YS5sZW5ndGgpICYmIHRoaXMub3B0aW9ucy5zZWNvbmRhcnlQbGFjZWhvbGRlcikge1xuICAgICAgICAgICQodGhpcy4kaW5wdXQpLnByb3AoJ3BsYWNlaG9sZGVyJywgdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIGlmIGNoaXAgaXMgdmFsaWRcbiAgICAgICAqIEBwYXJhbSB7Y2hpcH0gY2hpcFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2lzVmFsaWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNWYWxpZChjaGlwKSB7XG4gICAgICAgIGlmIChjaGlwLmhhc093blByb3BlcnR5KCd0YWcnKSAmJiBjaGlwLnRhZyAhPT0gJycpIHtcbiAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaXBzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpcHNEYXRhW2ldLnRhZyA9PT0gY2hpcC50YWcpIHtcbiAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhZXhpc3RzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBjaGlwXG4gICAgICAgKiBAcGFyYW0ge2NoaXB9IGNoaXBcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZENoaXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDaGlwKGNoaXApIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkKGNoaXApIHx8IHRoaXMuY2hpcHNEYXRhLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubGltaXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVuZGVyZWRDaGlwID0gdGhpcy5fcmVuZGVyQ2hpcChjaGlwKTtcbiAgICAgICAgdGhpcy4kY2hpcHMuYWRkKHJlbmRlcmVkQ2hpcCk7XG4gICAgICAgIHRoaXMuY2hpcHNEYXRhLnB1c2goY2hpcCk7XG4gICAgICAgICQodGhpcy4kaW5wdXQpLmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgICAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xuXG4gICAgICAgIC8vIGZpcmUgY2hpcEFkZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DaGlwQWRkLmNhbGwodGhpcywgdGhpcy4kZWwsIHJlbmRlcmVkQ2hpcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBEZWxldGUgY2hpcFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoaXBcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImRlbGV0ZUNoaXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDaGlwKGNoaXBJbmRleCkge1xuICAgICAgICB2YXIgJGNoaXAgPSB0aGlzLiRjaGlwcy5lcShjaGlwSW5kZXgpO1xuICAgICAgICB0aGlzLiRjaGlwcy5lcShjaGlwSW5kZXgpLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLiRjaGlwcyA9IHRoaXMuJGNoaXBzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gJChlbCkuaW5kZXgoKSA+PSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGlwc0RhdGEuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XG5cbiAgICAgICAgLy8gZmlyZSBjaGlwRGVsZXRlIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBEZWxldGUuY2FsbCh0aGlzLCB0aGlzLiRlbCwgJGNoaXBbMF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2VsZWN0IGNoaXBcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGlwXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzZWxlY3RDaGlwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0Q2hpcChjaGlwSW5kZXgpIHtcbiAgICAgICAgdmFyICRjaGlwID0gdGhpcy4kY2hpcHMuZXEoY2hpcEluZGV4KTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRDaGlwID0gJGNoaXA7XG4gICAgICAgICRjaGlwWzBdLmZvY3VzKCk7XG5cbiAgICAgICAgLy8gZmlyZSBjaGlwU2VsZWN0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcFNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBTZWxlY3QuY2FsbCh0aGlzLCB0aGlzLiRlbCwgJGNoaXBbMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KENoaXBzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hpcHMpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9DaGlwcztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNoaXBzS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGlwc0tleWRvd24oZSkge1xuICAgICAgICBDaGlwcy5fa2V5ZG93biA9IHRydWU7XG5cbiAgICAgICAgdmFyICRjaGlwcyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgICB2YXIgY2hpcHNLZXlkb3duID0gZS50YXJnZXQgJiYgJGNoaXBzLmxlbmd0aDtcblxuICAgICAgICAvLyBEb24ndCBoYW5kbGUga2V5ZG93biBpbnB1dHMgb24gaW5wdXQgYW5kIHRleHRhcmVhXG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcygnaW5wdXQsIHRleHRhcmVhJykgfHwgIWNoaXBzS2V5ZG93bikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyQ2hpcHMgPSAkY2hpcHNbMF0uTV9DaGlwcztcblxuICAgICAgICAvLyBiYWNrc3BhY2UgYW5kIGRlbGV0ZVxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4IHx8IGUua2V5Q29kZSA9PT0gNDYpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICB2YXIgc2VsZWN0SW5kZXggPSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aDtcbiAgICAgICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwLmluZGV4KCk7XG4gICAgICAgICAgICBjdXJyQ2hpcHMuZGVsZXRlQ2hpcChpbmRleCk7XG4gICAgICAgICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzZWxlY3RJbmRleCBkb2Vzbid0IGdvIG5lZ2F0aXZlXG4gICAgICAgICAgICBzZWxlY3RJbmRleCA9IE1hdGgubWF4KGluZGV4IC0gMSwgMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBjdXJyQ2hpcHMuc2VsZWN0Q2hpcChzZWxlY3RJbmRleCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbGVmdCBhcnJvdyBrZXlcbiAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG4gICAgICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XG4gICAgICAgICAgICB2YXIgX3NlbGVjdEluZGV4ID0gY3VyckNoaXBzLl9zZWxlY3RlZENoaXAuaW5kZXgoKSAtIDE7XG4gICAgICAgICAgICBpZiAoX3NlbGVjdEluZGV4IDwgMCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyQ2hpcHMuc2VsZWN0Q2hpcChfc2VsZWN0SW5kZXgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJpZ2h0IGFycm93IGtleVxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgICAgIHZhciBfc2VsZWN0SW5kZXgyID0gY3VyckNoaXBzLl9zZWxlY3RlZENoaXAuaW5kZXgoKSArIDE7XG5cbiAgICAgICAgICAgIGlmIChfc2VsZWN0SW5kZXgyID49IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGN1cnJDaGlwcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKF9zZWxlY3RJbmRleDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDaGlwcyBLZXl1cFxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNoaXBzS2V5dXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2hpcHNLZXl1cChlKSB7XG4gICAgICAgIENoaXBzLl9rZXlkb3duID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENoaXBzIEJsdXJcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDaGlwc0JsdXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2hpcHNCbHVyKGUpIHtcbiAgICAgICAgaWYgKCFDaGlwcy5fa2V5ZG93bikge1xuICAgICAgICAgIHZhciAkY2hpcHMgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgICAgICB2YXIgY3VyckNoaXBzID0gJGNoaXBzWzBdLk1fQ2hpcHM7XG5cbiAgICAgICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDaGlwcztcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBDaGlwc1xuICAgKi9cblxuXG4gIENoaXBzLl9rZXlkb3duID0gZmFsc2U7XG5cbiAgTS5DaGlwcyA9IENoaXBzO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ2hpcHMsICdjaGlwcycsICdNX0NoaXBzJyk7XG4gIH1cblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgLy8gSGFuZGxlIHJlbW92YWwgb2Ygc3RhdGljIGNoaXBzLlxuICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2NsaWNrJywgJy5jaGlwIC5jbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2hpcHMgPSAkKHRoaXMpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgaWYgKCRjaGlwcy5sZW5ndGggJiYgJGNoaXBzWzBdLk1fQ2hpcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuY2hpcCcpLnJlbW92ZSgpO1xuICAgIH0pO1xuICB9KTtcbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiBJbmZpbml0eSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgb25Qb3NpdGlvbkNoYW5nZTogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIFB1c2hwaW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudDEzKSB7XG4gICAgX2luaGVyaXRzKFB1c2hwaW4sIF9Db21wb25lbnQxMyk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgUHVzaHBpbiBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFB1c2hwaW4oZWwsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdXNocGluKTtcblxuICAgICAgdmFyIF90aGlzNDcgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHVzaHBpbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFB1c2hwaW4pKS5jYWxsKHRoaXMsIFB1c2hwaW4sIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNDcuZWwuTV9QdXNocGluID0gX3RoaXM0NztcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgbW9kYWxcbiAgICAgICAqIEBtZW1iZXIgUHVzaHBpbiNvcHRpb25zXG4gICAgICAgKi9cbiAgICAgIF90aGlzNDcub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBQdXNocGluLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM0Ny5vcmlnaW5hbE9mZnNldCA9IF90aGlzNDcuZWwub2Zmc2V0VG9wO1xuICAgICAgUHVzaHBpbi5fcHVzaHBpbnMucHVzaChfdGhpczQ3KTtcbiAgICAgIF90aGlzNDcuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgX3RoaXM0Ny5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICAgIHJldHVybiBfdGhpczQ3O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQdXNocGluLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgICAvLyBSZW1vdmUgcHVzaHBpbiBJbnN0XG4gICAgICAgIHZhciBpbmRleCA9IFB1c2hwaW4uX3B1c2hwaW5zLmluZGV4T2YodGhpcyk7XG4gICAgICAgIFB1c2hwaW4uX3B1c2hwaW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQdXNocGluLl91cGRhdGVFbGVtZW50cyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZVBvc2l0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsZWQgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wIDw9IHNjcm9sbGVkICYmIHRoaXMub3B0aW9ucy5ib3R0b20gPj0gc2Nyb2xsZWQgJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW5uZWQnKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBcInB4XCI7XG4gICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcblxuICAgICAgICAgIC8vIG9uUG9zaXRpb25DaGFuZ2UgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW5uZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGluLXRvcCAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBhYm92ZSB0b3ApXG4gICAgICAgIGlmIChzY3JvbGxlZCA8IHRoaXMub3B0aW9ucy50b3AgJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tdG9wJykpIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSAwO1xuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLXRvcCcpO1xuXG4gICAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbi10b3AnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGluLWJvdHRvbSAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBiZWxvdyBib3R0b20pXG4gICAgICAgIGlmIChzY3JvbGxlZCA+IHRoaXMub3B0aW9ucy5ib3R0b20gJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tYm90dG9tJykpIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tYm90dG9tJyk7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0aGlzLm9wdGlvbnMuYm90dG9tIC0gdGhpcy5vcmlnaW5hbE9mZnNldCArIFwicHhcIjtcblxuICAgICAgICAgIC8vIG9uUG9zaXRpb25DaGFuZ2UgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tYm90dG9tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVQaW5DbGFzc2VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVBpbkNsYXNzZXMoKSB7XG4gICAgICAgIC8vIElFIDExIGJ1ZyAoY2FuJ3QgcmVtb3ZlIG11bHRpcGxlIGNsYXNzZXMgaW4gb25lIGxpbmUpXG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLXRvcCcpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbm5lZCcpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbi1ib3R0b20nKTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoUHVzaHBpbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFB1c2hwaW4pLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9QdXNocGluO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlRWxlbWVudHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGZvciAodmFyIGVsSW5kZXggaW4gUHVzaHBpbi5fcHVzaHBpbnMpIHtcbiAgICAgICAgICB2YXIgcEluc3RhbmNlID0gUHVzaHBpbi5fcHVzaHBpbnNbZWxJbmRleF07XG4gICAgICAgICAgcEluc3RhbmNlLl91cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUHVzaHBpbjtcbiAgfShDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQdXNocGluXG4gICAqL1xuXG5cbiAgUHVzaHBpbi5fcHVzaHBpbnMgPSBbXTtcblxuICBNLlB1c2hwaW4gPSBQdXNocGluO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUHVzaHBpbiwgJ3B1c2hwaW4nLCAnTV9QdXNocGluJyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCwgYW5pbSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkaXJlY3Rpb246ICd0b3AnLFxuICAgIGhvdmVyRW5hYmxlZDogdHJ1ZSxcbiAgICB0b29sYmFyRW5hYmxlZDogZmFsc2VcbiAgfTtcblxuICAkLmZuLnJldmVyc2UgPSBbXS5yZXZlcnNlO1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG5cbiAgdmFyIEZsb2F0aW5nQWN0aW9uQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQxNCkge1xuICAgIF9pbmhlcml0cyhGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgX0NvbXBvbmVudDE0KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBGbG9hdGluZ0FjdGlvbkJ1dHRvbiBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZsb2F0aW5nQWN0aW9uQnV0dG9uKGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmxvYXRpbmdBY3Rpb25CdXR0b24pO1xuXG4gICAgICB2YXIgX3RoaXM0OCA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGbG9hdGluZ0FjdGlvbkJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZsb2F0aW5nQWN0aW9uQnV0dG9uKSkuY2FsbCh0aGlzLCBGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM0OC5lbC5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gX3RoaXM0ODtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgZmFiXG4gICAgICAgKiBAbWVtYmVyIEZsb2F0aW5nQWN0aW9uQnV0dG9uI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbZGlyZWN0aW9uXSAtIERpcmVjdGlvbiBmYWIgbWVudSBvcGVuc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtob3ZlckVuYWJsZWQ9dHJ1ZV0gLSBFbmFibGUgaG92ZXIgdnMgY2xpY2tcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbdG9vbGJhckVuYWJsZWQ9ZmFsc2VdIC0gRW5hYmxlIHRvb2xiYXIgdHJhbnNpdGlvblxuICAgICAgICovXG4gICAgICBfdGhpczQ4Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRmxvYXRpbmdBY3Rpb25CdXR0b24uZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICBfdGhpczQ4LmlzT3BlbiA9IGZhbHNlO1xuICAgICAgX3RoaXM0OC4kYW5jaG9yID0gX3RoaXM0OC4kZWwuY2hpbGRyZW4oJ2EnKS5maXJzdCgpO1xuICAgICAgX3RoaXM0OC4kbWVudSA9IF90aGlzNDguJGVsLmNoaWxkcmVuKCd1bCcpLmZpcnN0KCk7XG4gICAgICBfdGhpczQ4LiRmbG9hdGluZ0J0bnMgPSBfdGhpczQ4LiRlbC5maW5kKCd1bCAuYnRuLWZsb2F0aW5nJyk7XG4gICAgICBfdGhpczQ4LiRmbG9hdGluZ0J0bnNSZXZlcnNlID0gX3RoaXM0OC4kZWwuZmluZCgndWwgLmJ0bi1mbG9hdGluZycpLnJldmVyc2UoKTtcbiAgICAgIF90aGlzNDgub2Zmc2V0WSA9IDA7XG4gICAgICBfdGhpczQ4Lm9mZnNldFggPSAwO1xuXG4gICAgICBfdGhpczQ4LiRlbC5hZGRDbGFzcyhcImRpcmVjdGlvbi1cIiArIF90aGlzNDgub3B0aW9ucy5kaXJlY3Rpb24pO1xuICAgICAgaWYgKF90aGlzNDgub3B0aW9ucy5kaXJlY3Rpb24gPT09ICd0b3AnKSB7XG4gICAgICAgIF90aGlzNDgub2Zmc2V0WSA9IDQwO1xuICAgICAgfSBlbHNlIGlmIChfdGhpczQ4Lm9wdGlvbnMuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgIF90aGlzNDgub2Zmc2V0WCA9IC00MDtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXM0OC5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgX3RoaXM0OC5vZmZzZXRZID0gLTQwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXM0OC5vZmZzZXRYID0gNDA7XG4gICAgICB9XG4gICAgICBfdGhpczQ4Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczQ4O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5lbC5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlRkFCQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUZBQkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU9wZW5Cb3VuZCA9IHRoaXMub3Blbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZUJvdW5kID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXJFbmFibGVkICYmICF0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVPcGVuQm91bmQpO1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVGQUJDbGlja0JvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3ZlckVuYWJsZWQgJiYgIXRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU9wZW5Cb3VuZCk7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIEZBQiBDbGlja1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUZBQkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUZBQkNsaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgRG9jdW1lbnQgQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEb2N1bWVudENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURvY3VtZW50Q2xpY2soZSkge1xuICAgICAgICBpZiAoISQoZS50YXJnZXQpLmNsb3Nlc3QodGhpcy4kbWVudSkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBGQUJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZUluVG9vbGJhcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbkZBQigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBGQUJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQsIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVPdXRUb29sYmFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dEZBQigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xhc3NpYyBGQUIgTWVudSBvcGVuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYW5pbWF0ZUluRkFCXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJbkZBQigpIHtcbiAgICAgICAgdmFyIF90aGlzNDkgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICB2YXIgdGltZSA9IDA7XG4gICAgICAgIHRoaXMuJGZsb2F0aW5nQnRuc1JldmVyc2UuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGVsLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHNjYWxlOiBbMC40LCAxXSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFtfdGhpczQ5Lm9mZnNldFksIDBdLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogW190aGlzNDkub2Zmc2V0WCwgMF0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMjc1LFxuICAgICAgICAgICAgZGVsYXk6IHRpbWUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRpbWUgKz0gNDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsYXNzaWMgRkFCIE1lbnUgY2xvc2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlT3V0RkFCXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVPdXRGQUIoKSB7XG4gICAgICAgIHZhciBfdGhpczUwID0gdGhpcztcblxuICAgICAgICB0aGlzLiRmbG9hdGluZ0J0bnNSZXZlcnNlLmVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgYW5pbS5yZW1vdmUoZWwpO1xuICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgc2NhbGU6IDAuNCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IF90aGlzNTAub2Zmc2V0WSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6IF90aGlzNTAub2Zmc2V0WCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxNzUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczUwLiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRvb2xiYXIgdHJhbnNpdGlvbiBNZW51IG9wZW5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hbmltYXRlSW5Ub29sYmFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVJblRvb2xiYXIoKSB7XG4gICAgICAgIHZhciBfdGhpczUxID0gdGhpcztcblxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB2YXIgYnRuUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJmYWItYmFja2Ryb3BcIj48L2Rpdj4nKTtcbiAgICAgICAgdmFyIGZhYkNvbG9yID0gdGhpcy4kYW5jaG9yLmNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgICAgICB0aGlzLiRhbmNob3IuYXBwZW5kKGJhY2tkcm9wKTtcblxuICAgICAgICB0aGlzLm9mZnNldFggPSBidG5SZWN0LmxlZnQgLSB3aW5kb3dXaWR0aCAvIDIgKyBidG5SZWN0LndpZHRoIC8gMjtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gd2luZG93SGVpZ2h0IC0gYnRuUmVjdC5ib3R0b207XG4gICAgICAgIHNjYWxlRmFjdG9yID0gd2luZG93V2lkdGggLyBiYWNrZHJvcFswXS5jbGllbnRXaWR0aDtcbiAgICAgICAgdGhpcy5idG5Cb3R0b20gPSBidG5SZWN0LmJvdHRvbTtcbiAgICAgICAgdGhpcy5idG5MZWZ0ID0gYnRuUmVjdC5sZWZ0O1xuICAgICAgICB0aGlzLmJ0bldpZHRoID0gYnRuUmVjdC53aWR0aDtcblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZVxuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgJ3RleHQtYWxpZ24nOiAnY2VudGVyJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoJyArIHRoaXMub2Zmc2V0WCArICdweCknLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgnICsgLXRoaXMub2Zmc2V0WSArICdweCknLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgICB9KTtcbiAgICAgICAgYmFja2Ryb3AuY3NzKHtcbiAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGZhYkNvbG9yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNTEuJGVsLmNzcyh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICcnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwKSwgYmFja2dyb3VuZC1jb2xvciAwcyBsaW5lYXIgLjJzJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzNTEuJGFuY2hvci5jc3Moe1xuICAgICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJycsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycydcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1MS4kZWwuY3NzKHtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGZhYkNvbG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhY2tkcm9wLmNzcyh7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKCcgKyBzY2FsZUZhY3RvciArICcpJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXM1MS4kbWVudS5jaGlsZHJlbignbGknKS5jaGlsZHJlbignYScpLmNzcyh7XG4gICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gY2xvc2UuXG4gICAgICAgICAgICBfdGhpczUxLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQgPSBfdGhpczUxLl9oYW5kbGVEb2N1bWVudENsaWNrLmJpbmQoX3RoaXM1MSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXM1MS5faGFuZGxlQ2xvc2VCb3VuZCwgdHJ1ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM1MS5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUb29sYmFyIHRyYW5zaXRpb24gTWVudSBjbG9zZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FuaW1hdGVPdXRUb29sYmFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FuaW1hdGVPdXRUb29sYmFyKCkge1xuICAgICAgICB2YXIgX3RoaXM1MiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciBiYWNrZHJvcCA9IHRoaXMuJGVsLmZpbmQoJy5mYWItYmFja2Ryb3AnKTtcbiAgICAgICAgdmFyIGZhYkNvbG9yID0gdGhpcy4kYW5jaG9yLmNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IHRoaXMuYnRuTGVmdCAtIHdpbmRvd1dpZHRoIC8gMiArIHRoaXMuYnRuV2lkdGggLyAyO1xuICAgICAgICB0aGlzLm9mZnNldFkgPSB3aW5kb3dIZWlnaHQgLSB0aGlzLmJ0bkJvdHRvbTtcblxuICAgICAgICAvLyBIaWRlIGJhY2tkcm9wXG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRhbmNob3IuY3NzKHtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZSdcbiAgICAgICAgfSk7XG4gICAgICAgIGJhY2tkcm9wLmNzcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMCknLFxuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogZmFiQ29sb3JcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJG1lbnUuY2hpbGRyZW4oJ2xpJykuY2hpbGRyZW4oJ2EnKS5jc3Moe1xuICAgICAgICAgIG9wYWNpdHk6ICcnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGJhY2tkcm9wLnJlbW92ZSgpO1xuXG4gICAgICAgICAgLy8gU2V0IGluaXRpYWwgc3RhdGUuXG4gICAgICAgICAgX3RoaXM1Mi4kZWwuY3NzKHtcbiAgICAgICAgICAgICd0ZXh0LWFsaWduJzogJycsXG4gICAgICAgICAgICB3aWR0aDogJycsXG4gICAgICAgICAgICBib3R0b206ICcnLFxuICAgICAgICAgICAgbGVmdDogJycsXG4gICAgICAgICAgICBvdmVyZmxvdzogJycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcnLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIC1fdGhpczUyLm9mZnNldFggKyAncHgsMCwwKSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfdGhpczUyLiRhbmNob3IuY3NzKHtcbiAgICAgICAgICAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsJyArIF90aGlzNTIub2Zmc2V0WSArICdweCwwKSdcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1Mi4kZWwuY3NzKHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzNTIuJGFuY2hvci5jc3Moe1xuICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMjApO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiBcImluaXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX2dldChGbG9hdGluZ0FjdGlvbkJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZsb2F0aW5nQWN0aW9uQnV0dG9uKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fRmxvYXRpbmdBY3Rpb25CdXR0b247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRlZmF1bHRzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRmxvYXRpbmdBY3Rpb25CdXR0b247XG4gIH0oQ29tcG9uZW50KTtcblxuICBNLkZsb2F0aW5nQWN0aW9uQnV0dG9uID0gRmxvYXRpbmdBY3Rpb25CdXR0b247XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgJ2Zsb2F0aW5nQWN0aW9uQnV0dG9uJywgJ01fRmxvYXRpbmdBY3Rpb25CdXR0b24nKTtcbiAgfVxufSkoY2FzaCwgTS5hbmltZSk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIC8vIENsb3NlIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICAgIGF1dG9DbG9zZTogZmFsc2UsXG5cbiAgICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciB0aGUgaW5wdXQgZmllbGQgdmFsdWVcbiAgICBmb3JtYXQ6ICdtbW0gZGQsIHl5eXknLFxuXG4gICAgLy8gVXNlZCB0byBjcmVhdGUgZGF0ZSBvYmplY3QgZnJvbSBjdXJyZW50IGlucHV0IHN0cmluZ1xuICAgIHBhcnNlOiBudWxsLFxuXG4gICAgLy8gVGhlIGluaXRpYWwgZGF0ZSB0byB2aWV3IHdoZW4gZmlyc3Qgb3BlbmVkXG4gICAgZGVmYXVsdERhdGU6IG51bGwsXG5cbiAgICAvLyBNYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gICAgc2V0RGVmYXVsdERhdGU6IGZhbHNlLFxuXG4gICAgZGlzYWJsZVdlZWtlbmRzOiBmYWxzZSxcblxuICAgIGRpc2FibGVEYXlGbjogbnVsbCxcblxuICAgIC8vIEZpcnN0IGRheSBvZiB3ZWVrICgwOiBTdW5kYXksIDE6IE1vbmRheSBldGMpXG4gICAgZmlyc3REYXk6IDAsXG5cbiAgICAvLyBUaGUgZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgIG1pbkRhdGU6IG51bGwsXG4gICAgLy8gVGhlbGF0ZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICBtYXhEYXRlOiBudWxsLFxuXG4gICAgLy8gTnVtYmVyIG9mIHllYXJzIGVpdGhlciBzaWRlLCBvciBhcnJheSBvZiB1cHBlci9sb3dlciByYW5nZVxuICAgIHllYXJSYW5nZTogMTAsXG5cbiAgICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICAgIG1pblllYXI6IDAsXG4gICAgbWF4WWVhcjogOTk5OSxcbiAgICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICAgIG1heE1vbnRoOiB1bmRlZmluZWQsXG5cbiAgICBzdGFydFJhbmdlOiBudWxsLFxuICAgIGVuZFJhbmdlOiBudWxsLFxuXG4gICAgaXNSVEw6IGZhbHNlLFxuXG4gICAgLy8gUmVuZGVyIHRoZSBtb250aCBhZnRlciB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICAgIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG5cbiAgICAvLyBSZW5kZXIgZGF5cyBvZiB0aGUgY2FsZW5kYXIgZ3JpZCB0aGF0IGZhbGwgaW4gdGhlIG5leHQgb3IgcHJldmlvdXMgbW9udGhcbiAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBmYWxzZSxcblxuICAgIC8vIFNwZWNpZnkgYSBET00gZWxlbWVudCB0byByZW5kZXIgdGhlIGNhbGVuZGFyIGluXG4gICAgY29udGFpbmVyOiBudWxsLFxuXG4gICAgLy8gU2hvdyBjbGVhciBidXR0b25cbiAgICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuXG4gICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICBpMThuOiB7XG4gICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgY2xlYXI6ICdDbGVhcicsXG4gICAgICBkb25lOiAnT2snLFxuICAgICAgcHJldmlvdXNNb250aDogJ+KAuScsXG4gICAgICBuZXh0TW9udGg6ICfigLonLFxuICAgICAgbW9udGhzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXSxcbiAgICAgIG1vbnRoc1Nob3J0OiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ10sXG4gICAgICB3ZWVrZGF5czogWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddLFxuICAgICAgd2Vla2RheXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgICAgIHdlZWtkYXlzQWJicmV2OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXVxuICAgIH0sXG5cbiAgICAvLyBldmVudHMgYXJyYXlcbiAgICBldmVudHM6IFtdLFxuXG4gICAgLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICBvblNlbGVjdDogbnVsbCxcbiAgICBvbk9wZW46IG51bGwsXG4gICAgb25DbG9zZTogbnVsbCxcbiAgICBvbkRyYXc6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBEYXRlcGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQxNSkge1xuICAgIF9pbmhlcml0cyhEYXRlcGlja2VyLCBfQ29tcG9uZW50MTUpO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IERhdGVwaWNrZXIgaW5zdGFuY2UgYW5kIHNldCB1cCBvdmVybGF5XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGF0ZXBpY2tlcihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGVwaWNrZXIpO1xuXG4gICAgICB2YXIgX3RoaXM1MyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXRlcGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0ZXBpY2tlcikpLmNhbGwodGhpcywgRGF0ZXBpY2tlciwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM1My5lbC5NX0RhdGVwaWNrZXIgPSBfdGhpczUzO1xuXG4gICAgICBfdGhpczUzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRGF0ZXBpY2tlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSBpMThuIGRlZmF1bHRzIGFyZSBub3QgbG9zdCB3aGVuIG9ubHkgZmV3IGkxOG4gb3B0aW9uIHByb3BlcnRpZXMgYXJlIHBhc3NlZFxuICAgICAgaWYgKCEhb3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdpMThuJykgJiYgdHlwZW9mIG9wdGlvbnMuaTE4biA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgX3RoaXM1My5vcHRpb25zLmkxOG4gPSAkLmV4dGVuZCh7fSwgRGF0ZXBpY2tlci5kZWZhdWx0cy5pMThuLCBvcHRpb25zLmkxOG4pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGltZSBjb21wb25lbnQgZnJvbSBtaW5EYXRlIGFuZCBtYXhEYXRlIG9wdGlvbnNcbiAgICAgIGlmIChfdGhpczUzLm9wdGlvbnMubWluRGF0ZSkgX3RoaXM1My5vcHRpb25zLm1pbkRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICBpZiAoX3RoaXM1My5vcHRpb25zLm1heERhdGUpIF90aGlzNTMub3B0aW9ucy5tYXhEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICBfdGhpczUzLmlkID0gTS5ndWlkKCk7XG5cbiAgICAgIF90aGlzNTMuX3NldHVwVmFyaWFibGVzKCk7XG4gICAgICBfdGhpczUzLl9pbnNlcnRIVE1MSW50b0RPTSgpO1xuICAgICAgX3RoaXM1My5fc2V0dXBNb2RhbCgpO1xuXG4gICAgICBfdGhpczUzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgaWYgKCFfdGhpczUzLm9wdGlvbnMuZGVmYXVsdERhdGUpIHtcbiAgICAgICAgX3RoaXM1My5vcHRpb25zLmRlZmF1bHREYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShfdGhpczUzLmVsLnZhbHVlKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZEYXRlID0gX3RoaXM1My5vcHRpb25zLmRlZmF1bHREYXRlO1xuICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkZWZEYXRlKSkge1xuICAgICAgICBpZiAoX3RoaXM1My5vcHRpb25zLnNldERlZmF1bHREYXRlKSB7XG4gICAgICAgICAgX3RoaXM1My5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICAgIF90aGlzNTMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzNTMuZ290b0RhdGUoZGVmRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzNTMuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgZGF0ZXBpY2tlclxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIF90aGlzNTMuaXNPcGVuID0gZmFsc2U7XG4gICAgICByZXR1cm4gX3RoaXM1MztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRGF0ZXBpY2tlciwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgICAgICQodGhpcy5tb2RhbEVsKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xuICAgICAgICB0aGlzLmVsLk1fRGF0ZXBpY2tlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVzdHJveVNlbGVjdHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95U2VsZWN0cygpIHtcbiAgICAgICAgdmFyIG9sZFllYXJTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LXllYXInKTtcbiAgICAgICAgaWYgKG9sZFllYXJTZWxlY3QpIHtcbiAgICAgICAgICBNLkZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkWWVhclNlbGVjdCkuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvbGRNb250aFNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QtbW9udGgnKTtcbiAgICAgICAgaWYgKG9sZE1vbnRoU2VsZWN0KSB7XG4gICAgICAgICAgTS5Gb3JtU2VsZWN0LmdldEluc3RhbmNlKG9sZE1vbnRoU2VsZWN0KS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2luc2VydEhUTUxJbnRvRE9NXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgICAgICQodGhpcy5jbGVhckJ0bikuY3NzKHsgdmlzaWJpbGl0eTogJycgfSk7XG4gICAgICAgICAgdGhpcy5jbGVhckJ0bi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuaTE4bi5jbGVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZG9uZUJ0bi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuaTE4bi5kb25lO1xuICAgICAgICB0aGlzLmNhbmNlbEJ0bi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuaTE4bi5jYW5jZWw7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICB0aGlzLiRtb2RhbEVsLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJG1vZGFsRWwuaW5zZXJ0QmVmb3JlKHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cE1vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwTW9kYWwoKSB7XG4gICAgICAgIHZhciBfdGhpczU0ID0gdGhpcztcblxuICAgICAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG4gICAgICAgIHRoaXMubW9kYWwgPSBNLk1vZGFsLmluaXQodGhpcy5tb2RhbEVsLCB7XG4gICAgICAgICAgb25DbG9zZUVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1NC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKGZvcm1hdCkge1xuICAgICAgICB2YXIgX3RoaXM1NSA9IHRoaXM7XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMub3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZm9ybWF0QXJyYXkgPSBmb3JtYXQuc3BsaXQoLyhkezEsNH18bXsxLDR9fHl7NH18eXl8IS4pL2cpO1xuICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdEFycmF5Lm1hcChmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgICBpZiAoX3RoaXM1NS5mb3JtYXRzW2xhYmVsXSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTUuZm9ybWF0c1tsYWJlbF0oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgIH0pLmpvaW4oJycpO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0RGF0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGUoZGF0ZSwgcHJldmVudE9uU2VsZWN0KSB7XG4gICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgIHRoaXMuZGF0ZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKGRhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW4gPSB0aGlzLm9wdGlvbnMubWluRGF0ZSxcbiAgICAgICAgICAgIG1heCA9IHRoaXMub3B0aW9ucy5tYXhEYXRlO1xuXG4gICAgICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUobWluKSAmJiBkYXRlIDwgbWluKSB7XG4gICAgICAgICAgZGF0ZSA9IG1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChEYXRlcGlja2VyLl9pc0RhdGUobWF4KSAmJiBkYXRlID4gbWF4KSB7XG4gICAgICAgICAgZGF0ZSA9IG1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xuXG4gICAgICAgIERhdGVwaWNrZXIuX3NldFRvU3RhcnRPZkRheSh0aGlzLmRhdGUpO1xuICAgICAgICB0aGlzLmdvdG9EYXRlKHRoaXMuZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFwcmV2ZW50T25TZWxlY3QgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5vblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0SW5wdXRWYWx1ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElucHV0VmFsdWUoKSB7XG4gICAgICAgIHRoaXMuZWwudmFsdWUgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuJGVsLnRyaWdnZXIoJ2NoYW5nZScsIHsgZmlyZWRCeTogdGhpcyB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbmRlckRhdGVEaXNwbGF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlckRhdGVEaXNwbGF5KCkge1xuICAgICAgICB2YXIgZGlzcGxheURhdGUgPSBEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKSA/IHRoaXMuZGF0ZSA6IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBpMThuID0gdGhpcy5vcHRpb25zLmkxOG47XG4gICAgICAgIHZhciBkYXkgPSBpMThuLndlZWtkYXlzU2hvcnRbZGlzcGxheURhdGUuZ2V0RGF5KCldO1xuICAgICAgICB2YXIgbW9udGggPSBpMThuLm1vbnRoc1Nob3J0W2Rpc3BsYXlEYXRlLmdldE1vbnRoKCldO1xuICAgICAgICB2YXIgZGF0ZSA9IGRpc3BsYXlEYXRlLmdldERhdGUoKTtcbiAgICAgICAgdGhpcy55ZWFyVGV4dEVsLmlubmVySFRNTCA9IGRpc3BsYXlEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0ZVRleHRFbC5pbm5lckhUTUwgPSBkYXkgKyBcIiwgXCIgKyBtb250aCArIFwiIFwiICsgZGF0ZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGRhdGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdvdG9EYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ290b0RhdGUoZGF0ZSkge1xuICAgICAgICB2YXIgbmV3Q2FsZW5kYXIgPSB0cnVlO1xuXG4gICAgICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FsZW5kYXJzKSB7XG4gICAgICAgICAgdmFyIGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXG4gICAgICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aCAtIDFdLnllYXIsIHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aCAtIDFdLm1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgdmlzaWJsZURhdGUgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcbiAgICAgICAgICBsYXN0VmlzaWJsZURhdGUuc2V0TW9udGgobGFzdFZpc2libGVEYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgICBsYXN0VmlzaWJsZURhdGUuc2V0RGF0ZShsYXN0VmlzaWJsZURhdGUuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgICAgbmV3Q2FsZW5kYXIgPSB2aXNpYmxlRGF0ZSA8IGZpcnN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIHx8IGxhc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgPCB2aXNpYmxlRGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdDYWxlbmRhcikge1xuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzID0gW3tcbiAgICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICB9XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkanVzdENhbGVuZGFyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkanVzdENhbGVuZGFycygpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0gPSB0aGlzLmFkanVzdENhbGVuZGFyKHRoaXMuY2FsZW5kYXJzWzBdKTtcbiAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkanVzdENhbGVuZGFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Q2FsZW5kYXIoY2FsZW5kYXIpIHtcbiAgICAgICAgaWYgKGNhbGVuZGFyLm1vbnRoIDwgMCkge1xuICAgICAgICAgIGNhbGVuZGFyLnllYXIgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKSAvIDEyKTtcbiAgICAgICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPiAxMSkge1xuICAgICAgICAgIGNhbGVuZGFyLnllYXIgKz0gTWF0aC5mbG9vcihNYXRoLmFicyhjYWxlbmRhci5tb250aCkgLyAxMik7XG4gICAgICAgICAgY2FsZW5kYXIubW9udGggLT0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGVuZGFyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJuZXh0TW9udGhcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0TW9udGgoKSB7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKys7XG4gICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInByZXZNb250aFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZNb250aCgpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLTtcbiAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKHllYXIsIG1vbnRoLCByYW5kSWQpIHtcbiAgICAgICAgdmFyIG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZGF5cyA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSxcbiAgICAgICAgICAgIGJlZm9yZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKSxcbiAgICAgICAgICAgIGRhdGEgPSBbXSxcbiAgICAgICAgICAgIHJvdyA9IFtdO1xuICAgICAgICBEYXRlcGlja2VyLl9zZXRUb1N0YXJ0T2ZEYXkobm93KTtcbiAgICAgICAgaWYgKG9wdHMuZmlyc3REYXkgPiAwKSB7XG4gICAgICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XG4gICAgICAgICAgaWYgKGJlZm9yZSA8IDApIHtcbiAgICAgICAgICAgIGJlZm9yZSArPSA3O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8gMTEgOiBtb250aCAtIDEsXG4gICAgICAgICAgICBuZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyAwIDogbW9udGggKyAxLFxuICAgICAgICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxuICAgICAgICAgICAgeWVhck9mTmV4dE1vbnRoID0gbW9udGggPT09IDExID8geWVhciArIDEgOiB5ZWFyLFxuICAgICAgICAgICAgZGF5c0luUHJldmlvdXNNb250aCA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXJPZlByZXZpb3VzTW9udGgsIHByZXZpb3VzTW9udGgpO1xuICAgICAgICB2YXIgY2VsbHMgPSBkYXlzICsgYmVmb3JlLFxuICAgICAgICAgICAgYWZ0ZXIgPSBjZWxscztcbiAgICAgICAgd2hpbGUgKGFmdGVyID4gNykge1xuICAgICAgICAgIGFmdGVyIC09IDc7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbHMgKz0gNyAtIGFmdGVyO1xuICAgICAgICB2YXIgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHIgPSAwOyBpIDwgY2VsbHM7IGkrKykge1xuICAgICAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSArIChpIC0gYmVmb3JlKSksXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKSA/IERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhkYXksIHRoaXMuZGF0ZSkgOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNUb2RheSA9IERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhkYXksIG5vdyksXG4gICAgICAgICAgICAgIGhhc0V2ZW50ID0gb3B0cy5ldmVudHMuaW5kZXhPZihkYXkudG9EYXRlU3RyaW5nKCkpICE9PSAtMSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgaXNFbXB0eSA9IGkgPCBiZWZvcmUgfHwgaSA+PSBkYXlzICsgYmVmb3JlLFxuICAgICAgICAgICAgICBkYXlOdW1iZXIgPSAxICsgKGkgLSBiZWZvcmUpLFxuICAgICAgICAgICAgICBtb250aE51bWJlciA9IG1vbnRoLFxuICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhcixcbiAgICAgICAgICAgICAgaXNTdGFydFJhbmdlID0gb3B0cy5zdGFydFJhbmdlICYmIERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhvcHRzLnN0YXJ0UmFuZ2UsIGRheSksXG4gICAgICAgICAgICAgIGlzRW5kUmFuZ2UgPSBvcHRzLmVuZFJhbmdlICYmIERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhvcHRzLmVuZFJhbmdlLCBkYXkpLFxuICAgICAgICAgICAgICBpc0luUmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgb3B0cy5lbmRSYW5nZSAmJiBvcHRzLnN0YXJ0UmFuZ2UgPCBkYXkgJiYgZGF5IDwgb3B0cy5lbmRSYW5nZSxcbiAgICAgICAgICAgICAgaXNEaXNhYmxlZCA9IG9wdHMubWluRGF0ZSAmJiBkYXkgPCBvcHRzLm1pbkRhdGUgfHwgb3B0cy5tYXhEYXRlICYmIGRheSA+IG9wdHMubWF4RGF0ZSB8fCBvcHRzLmRpc2FibGVXZWVrZW5kcyAmJiBEYXRlcGlja2VyLl9pc1dlZWtlbmQoZGF5KSB8fCBvcHRzLmRpc2FibGVEYXlGbiAmJiBvcHRzLmRpc2FibGVEYXlGbihkYXkpO1xuXG4gICAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChpIDwgYmVmb3JlKSB7XG4gICAgICAgICAgICAgIGRheU51bWJlciA9IGRheXNJblByZXZpb3VzTW9udGggKyBkYXlOdW1iZXI7XG4gICAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gcHJldmlvdXNNb250aDtcbiAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZlByZXZpb3VzTW9udGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXlOdW1iZXIgPSBkYXlOdW1iZXIgLSBkYXlzO1xuICAgICAgICAgICAgICBtb250aE51bWJlciA9IG5leHRNb250aDtcbiAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZk5leHRNb250aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGF5Q29uZmlnID0ge1xuICAgICAgICAgICAgZGF5OiBkYXlOdW1iZXIsXG4gICAgICAgICAgICBtb250aDogbW9udGhOdW1iZXIsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyTnVtYmVyLFxuICAgICAgICAgICAgaGFzRXZlbnQ6IGhhc0V2ZW50LFxuICAgICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcbiAgICAgICAgICAgIGlzU3RhcnRSYW5nZTogaXNTdGFydFJhbmdlLFxuICAgICAgICAgICAgaXNFbmRSYW5nZTogaXNFbmRSYW5nZSxcbiAgICAgICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxuICAgICAgICAgICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJvdy5wdXNoKHRoaXMucmVuZGVyRGF5KGRheUNvbmZpZykpO1xuXG4gICAgICAgICAgaWYgKCsrciA9PT0gNykge1xuICAgICAgICAgICAgZGF0YS5wdXNoKHRoaXMucmVuZGVyUm93KHJvdywgb3B0cy5pc1JUTCwgaXNXZWVrU2VsZWN0ZWQpKTtcbiAgICAgICAgICAgIHJvdyA9IFtdO1xuICAgICAgICAgICAgciA9IDA7XG4gICAgICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJEYXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEYXkob3B0cykge1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIHZhciBhcmlhU2VsZWN0ZWQgPSAnZmFsc2UnO1xuICAgICAgICBpZiAob3B0cy5pc0VtcHR5KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRocykge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLW91dHNpZGUtY3VycmVudC1tb250aCcpO1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLWRpc2FibGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5pc1RvZGF5KSB7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLXRvZGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNTZWxlY3RlZCkge1xuICAgICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgIGFyaWFTZWxlY3RlZCA9ICd0cnVlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5oYXNFdmVudCkge1xuICAgICAgICAgIGFyci5wdXNoKCdoYXMtZXZlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0luUmFuZ2UpIHtcbiAgICAgICAgICBhcnIucHVzaCgnaXMtaW5yYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgICAgIGFyci5wdXNoKCdpcy1zdGFydHJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNFbmRSYW5nZSkge1xuICAgICAgICAgIGFyci5wdXNoKCdpcy1lbmRyYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIjx0ZCBkYXRhLWRheT1cXFwiXCIgKyBvcHRzLmRheSArIFwiXFxcIiBjbGFzcz1cXFwiXCIgKyBhcnIuam9pbignICcpICsgXCJcXFwiIGFyaWEtc2VsZWN0ZWQ9XFxcIlwiICsgYXJpYVNlbGVjdGVkICsgXCJcXFwiPlwiICsgKFwiPGJ1dHRvbiBjbGFzcz1cXFwiZGF0ZXBpY2tlci1kYXktYnV0dG9uXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGRhdGEteWVhcj1cXFwiXCIgKyBvcHRzLnllYXIgKyBcIlxcXCIgZGF0YS1tb250aD1cXFwiXCIgKyBvcHRzLm1vbnRoICsgXCJcXFwiIGRhdGEtZGF5PVxcXCJcIiArIG9wdHMuZGF5ICsgXCJcXFwiPlwiICsgb3B0cy5kYXkgKyBcIjwvYnV0dG9uPlwiKSArICc8L3RkPic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlclJvd1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclJvdyhkYXlzLCBpc1JUTCwgaXNSb3dTZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gJzx0ciBjbGFzcz1cImRhdGVwaWNrZXItcm93JyArIChpc1Jvd1NlbGVjdGVkID8gJyBpcy1zZWxlY3RlZCcgOiAnJykgKyAnXCI+JyArIChpc1JUTCA/IGRheXMucmV2ZXJzZSgpIDogZGF5cykuam9pbignJykgKyAnPC90cj4nO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJUYWJsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlLXdyYXBwZXJcIj48dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICsgcmFuZElkICsgJ1wiPicgKyB0aGlzLnJlbmRlckhlYWQob3B0cykgKyB0aGlzLnJlbmRlckJvZHkoZGF0YSkgKyAnPC90YWJsZT48L2Rpdj4nO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJIZWFkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySGVhZChvcHRzKSB7XG4gICAgICAgIHZhciBpID0gdm9pZCAwLFxuICAgICAgICAgICAgYXJyID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaChcIjx0aCBzY29wZT1cXFwiY29sXFxcIj48YWJiciB0aXRsZT1cXFwiXCIgKyB0aGlzLnJlbmRlckRheU5hbWUob3B0cywgaSkgKyBcIlxcXCI+XCIgKyB0aGlzLnJlbmRlckRheU5hbWUob3B0cywgaSwgdHJ1ZSkgKyBcIjwvYWJicj48L3RoPlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzx0aGVhZD48dHI+JyArIChvcHRzLmlzUlRMID8gYXJyLnJldmVyc2UoKSA6IGFycikuam9pbignJykgKyAnPC90cj48L3RoZWFkPic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlckJvZHlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCb2R5KHJvd3MpIHtcbiAgICAgICAgcmV0dXJuICc8dGJvZHk+JyArIHJvd3Muam9pbignJykgKyAnPC90Ym9keT4nO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJUaXRsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRpdGxlKGluc3RhbmNlLCBjLCB5ZWFyLCBtb250aCwgcmVmWWVhciwgcmFuZElkKSB7XG4gICAgICAgIHZhciBpID0gdm9pZCAwLFxuICAgICAgICAgICAgaiA9IHZvaWQgMCxcbiAgICAgICAgICAgIGFyciA9IHZvaWQgMCxcbiAgICAgICAgICAgIG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICBodG1sID0gJzxkaXYgaWQ9XCInICsgcmFuZElkICsgJ1wiIGNsYXNzPVwiZGF0ZXBpY2tlci1jb250cm9sc1wiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcbiAgICAgICAgICAgIG1vbnRoSHRtbCA9IHZvaWQgMCxcbiAgICAgICAgICAgIHllYXJIdG1sID0gdm9pZCAwLFxuICAgICAgICAgICAgcHJldiA9IHRydWUsXG4gICAgICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGFyciA9IFtdLCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICBhcnIucHVzaCgnPG9wdGlvbiB2YWx1ZT1cIicgKyAoeWVhciA9PT0gcmVmWWVhciA/IGkgLSBjIDogMTIgKyBpIC0gYykgKyAnXCInICsgKGkgPT09IG1vbnRoID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJycpICsgKGlzTWluWWVhciAmJiBpIDwgb3B0cy5taW5Nb250aCB8fCBpc01heFllYXIgJiYgaSA+IG9wdHMubWF4TW9udGggPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnKSArICc+JyArIG9wdHMuaTE4bi5tb250aHNbaV0gKyAnPC9vcHRpb24+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBtb250aEh0bWwgPSAnPHNlbGVjdCBjbGFzcz1cImRhdGVwaWNrZXItc2VsZWN0IG9yaWctc2VsZWN0LW1vbnRoXCIgdGFiaW5kZXg9XCItMVwiPicgKyBhcnIuam9pbignJykgKyAnPC9zZWxlY3Q+JztcblxuICAgICAgICBpZiAoJC5pc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICAgIGkgPSBvcHRzLnllYXJSYW5nZVswXTtcbiAgICAgICAgICBqID0gb3B0cy55ZWFyUmFuZ2VbMV0gKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgaiA9IDEgKyB5ZWFyICsgb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGFyciA9IFtdOyBpIDwgaiAmJiBpIDw9IG9wdHMubWF4WWVhcjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGkgPj0gb3B0cy5taW5ZZWFyKSB7XG4gICAgICAgICAgICBhcnIucHVzaChcIjxvcHRpb24gdmFsdWU9XFxcIlwiICsgaSArIFwiXFxcIiBcIiArIChpID09PSB5ZWFyID8gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJykgKyBcIj5cIiArIGkgKyBcIjwvb3B0aW9uPlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB5ZWFySHRtbCA9IFwiPHNlbGVjdCBjbGFzcz1cXFwiZGF0ZXBpY2tlci1zZWxlY3Qgb3JpZy1zZWxlY3QteWVhclxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cIiArIGFyci5qb2luKCcnKSArIFwiPC9zZWxlY3Q+XCI7XG5cbiAgICAgICAgdmFyIGxlZnRBcnJvdyA9ICc8c3ZnIGZpbGw9XCIjMDAwMDAwXCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjQxIDE2LjA5bC00LjU4LTQuNTkgNC41OC00LjU5TDE0IDUuNWwtNiA2IDYgNnpcIi8+PHBhdGggZD1cIk0wLS41aDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+JztcbiAgICAgICAgaHRtbCArPSBcIjxidXR0b24gY2xhc3M9XFxcIm1vbnRoLXByZXZcIiArIChwcmV2ID8gJycgOiAnIGlzLWRpc2FibGVkJykgKyBcIlxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj5cIiArIGxlZnRBcnJvdyArIFwiPC9idXR0b24+XCI7XG5cbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInNlbGVjdHMtY29udGFpbmVyXCI+JztcbiAgICAgICAgaWYgKG9wdHMuc2hvd01vbnRoQWZ0ZXJZZWFyKSB7XG4gICAgICAgICAgaHRtbCArPSB5ZWFySHRtbCArIG1vbnRoSHRtbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgICAgICB9XG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgICAgICBwcmV2ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNYXhZZWFyICYmIChtb250aCA9PT0gMTEgfHwgb3B0cy5tYXhNb250aCA8PSBtb250aCkpIHtcbiAgICAgICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmlnaHRBcnJvdyA9ICc8c3ZnIGZpbGw9XCIjMDAwMDAwXCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTguNTkgMTYuMzRsNC41OC00LjU5LTQuNTgtNC41OUwxMCA1Ljc1bDYgNi02IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uMjVoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nO1xuICAgICAgICBodG1sICs9IFwiPGJ1dHRvbiBjbGFzcz1cXFwibW9udGgtbmV4dFwiICsgKG5leHQgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArIFwiXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPlwiICsgcmlnaHRBcnJvdyArIFwiPC9idXR0b24+XCI7XG5cbiAgICAgICAgcmV0dXJuIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogcmVmcmVzaCB0aGUgSFRNTFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZHJhd1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoZm9yY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbiAmJiAhZm9yY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBtaW5ZZWFyID0gb3B0cy5taW5ZZWFyLFxuICAgICAgICAgICAgbWF4WWVhciA9IG9wdHMubWF4WWVhcixcbiAgICAgICAgICAgIG1pbk1vbnRoID0gb3B0cy5taW5Nb250aCxcbiAgICAgICAgICAgIG1heE1vbnRoID0gb3B0cy5tYXhNb250aCxcbiAgICAgICAgICAgIGh0bWwgPSAnJyxcbiAgICAgICAgICAgIHJhbmRJZCA9IHZvaWQgMDtcblxuICAgICAgICBpZiAodGhpcy5feSA8PSBtaW5ZZWFyKSB7XG4gICAgICAgICAgdGhpcy5feSA9IG1pblllYXI7XG4gICAgICAgICAgaWYgKCFpc05hTihtaW5Nb250aCkgJiYgdGhpcy5fbSA8IG1pbk1vbnRoKSB7XG4gICAgICAgICAgICB0aGlzLl9tID0gbWluTW9udGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl95ID49IG1heFllYXIpIHtcbiAgICAgICAgICB0aGlzLl95ID0gbWF4WWVhcjtcbiAgICAgICAgICBpZiAoIWlzTmFOKG1heE1vbnRoKSAmJiB0aGlzLl9tID4gbWF4TW9udGgpIHtcbiAgICAgICAgICAgIHRoaXMuX20gPSBtYXhNb250aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByYW5kSWQgPSAnZGF0ZXBpY2tlci10aXRsZS0nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikucmVwbGFjZSgvW15hLXpdKy9nLCAnJykuc3Vic3RyKDAsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgMTsgYysrKSB7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgICAgICBodG1sICs9IHRoaXMucmVuZGVyVGl0bGUodGhpcywgYywgdGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHJhbmRJZCkgKyB0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgcmFuZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVzdHJveVNlbGVjdHMoKTtcblxuICAgICAgICB0aGlzLmNhbGVuZGFyRWwuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICAvLyBJbml0IE1hdGVyaWFsaXplIFNlbGVjdFxuICAgICAgICB2YXIgeWVhclNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QteWVhcicpO1xuICAgICAgICB2YXIgbW9udGhTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LW1vbnRoJyk7XG4gICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KHllYXJTZWxlY3QsIHtcbiAgICAgICAgICBjbGFzc2VzOiAnc2VsZWN0LXllYXInLFxuICAgICAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XG4gICAgICAgIH0pO1xuICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChtb250aFNlbGVjdCwge1xuICAgICAgICAgIGNsYXNzZXM6ICdzZWxlY3QtbW9udGgnLFxuICAgICAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjaGFuZ2UgaGFuZGxlcnMgZm9yIHNlbGVjdFxuICAgICAgICB5ZWFyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVllYXJDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1vbnRoU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZU1vbnRoQ2hhbmdlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkRyYXcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2VCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZmluaXNoU2VsZWN0aW9uQm91bmQgPSB0aGlzLl9maW5pc2hTZWxlY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UgPSB0aGlzLl9oYW5kbGVNb250aENoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jbG9zZUJvdW5kID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2VCb3VuZCk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZG9uZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbkJvdW5kKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUJvdW5kKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xlYXJDbGlja0JvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBWYXJpYWJsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBWYXJpYWJsZXMoKSB7XG4gICAgICAgIHZhciBfdGhpczU2ID0gdGhpcztcblxuICAgICAgICB0aGlzLiRtb2RhbEVsID0gJChEYXRlcGlja2VyLl90ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMubW9kYWxFbCA9IHRoaXMuJG1vZGFsRWxbMF07XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhckVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNhbGVuZGFyJyk7XG5cbiAgICAgICAgdGhpcy55ZWFyVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy55ZWFyLXRleHQnKTtcbiAgICAgICAgdGhpcy5kYXRlVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlLXRleHQnKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgICAgICB0aGlzLmNsZWFyQnRuID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNsZWFyJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb25lQnRuID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWRvbmUnKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2FuY2VsJyk7XG5cbiAgICAgICAgdGhpcy5mb3JtYXRzID0ge1xuICAgICAgICAgIGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczU2LmRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkID0gX3RoaXM1Ni5kYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiAoZCA8IDEwID8gJzAnIDogJycpICsgZDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRkZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYub3B0aW9ucy5pMThuLndlZWtkYXlzU2hvcnRbX3RoaXM1Ni5kYXRlLmdldERheSgpXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRkZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczU2Lm9wdGlvbnMuaTE4bi53ZWVrZGF5c1tfdGhpczU2LmRhdGUuZ2V0RGF5KCldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1tOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbSA9IF90aGlzNTYuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICAgIHJldHVybiAobSA8IDEwID8gJzAnIDogJycpICsgbTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1tbTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNTYub3B0aW9ucy5pMThuLm1vbnRoc1Nob3J0W190aGlzNTYuZGF0ZS5nZXRNb250aCgpXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1tbW06IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczU2Lm9wdGlvbnMuaTE4bi5tb250aHNbX3RoaXM1Ni5kYXRlLmdldE1vbnRoKCldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoJycgKyBfdGhpczU2LmRhdGUuZ2V0RnVsbFllYXIoKSkuc2xpY2UoMik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB5eXl5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Ni5kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZUJvdW5kKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEtleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2FsZW5kYXJDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDYWxlbmRhckNsaWNrKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnaXMtZGlzYWJsZWQnKSkge1xuICAgICAgICAgIGlmICgkdGFyZ2V0Lmhhc0NsYXNzKCdkYXRlcGlja2VyLWRheS1idXR0b24nKSAmJiAhJHRhcmdldC5oYXNDbGFzcygnaXMtZW1wdHknKSAmJiAhJHRhcmdldC5wYXJlbnQoKS5oYXNDbGFzcygnaXMtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRlKG5ldyBEYXRlKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15ZWFyJyksIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1tb250aCcpLCBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF5JykpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoJHRhcmdldC5jbG9zZXN0KCcubW9udGgtcHJldicpLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2TW9udGgoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuY2xvc2VzdCgnLm1vbnRoLW5leHQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dE1vbnRoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDbGVhckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsZWFyQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVNb250aENoYW5nZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNb250aENoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuZ290b01vbnRoKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVllYXJDaGFuZ2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlWWVhckNoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuZ290b1llYXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgbW9udGggKHplcm8taW5kZXgsIGUuZy4gMDogSmFudWFyeSlcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdvdG9Nb250aFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvdG9Nb250aChtb250aCkge1xuICAgICAgICBpZiAoIWlzTmFOKG1vbnRoKSkge1xuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBmdWxsIHllYXIgKGUuZy4gXCIyMDEyXCIpXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnb3RvWWVhclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvdG9ZZWFyKHllYXIpIHtcbiAgICAgICAgaWYgKCFpc05hTih5ZWFyKSkge1xuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5wdXRDaGFuZ2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRDaGFuZ2UoZSkge1xuICAgICAgICB2YXIgZGF0ZSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBQcmV2ZW50IGNoYW5nZSBldmVudCBmcm9tIGJlaW5nIGZpcmVkIHdoZW4gdHJpZ2dlcmVkIGJ5IHRoZSBwbHVnaW5cbiAgICAgICAgaWYgKGUuZmlyZWRCeSA9PT0gdGhpcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBhcnNlKSB7XG4gICAgICAgICAgZGF0ZSA9IHRoaXMub3B0aW9ucy5wYXJzZSh0aGlzLmVsLnZhbHVlLCB0aGlzLm9wdGlvbnMuZm9ybWF0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLmVsLnZhbHVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgdGhpcy5zZXREYXRlKGRhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbmRlckRheU5hbWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJEYXlOYW1lKG9wdHMsIGRheSwgYWJicikge1xuICAgICAgICBkYXkgKz0gb3B0cy5maXJzdERheTtcbiAgICAgICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICAgICAgZGF5IC09IDc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFiYnIgPyBvcHRzLmkxOG4ud2Vla2RheXNBYmJyZXZbZGF5XSA6IG9wdHMuaTE4bi53ZWVrZGF5c1tkYXldO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBpbnB1dCB2YWx1ZSB0byB0aGUgc2VsZWN0ZWQgZGF0ZSBhbmQgY2xvc2UgRGF0ZXBpY2tlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2ZpbmlzaFNlbGVjdGlvblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5pc2hTZWxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBEYXRlcGlja2VyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIHRoaXMubW9kYWwub3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbG9zZSBEYXRlcGlja2VyXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoRGF0ZXBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVwaWNrZXIpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaXNEYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzRGF0ZShvYmopIHtcbiAgICAgICAgcmV0dXJuICgvRGF0ZS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgJiYgIWlzTmFOKG9iai5nZXRUaW1lKCkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9pc1dlZWtlbmRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNXZWVrZW5kKGRhdGUpIHtcbiAgICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICAgIHJldHVybiBkYXkgPT09IDAgfHwgZGF5ID09PSA2O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0VG9TdGFydE9mRGF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFRvU3RhcnRPZkRheShkYXRlKSB7XG4gICAgICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9nZXREYXlzSW5Nb250aFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICByZXR1cm4gWzMxLCBEYXRlcGlja2VyLl9pc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdW21vbnRoXTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2lzTGVhcFllYXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIC8vIHNvbHV0aW9uIGJ5IE1hdHRpIFZpcmtrdW5lbjogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDg4MTk1MVxuICAgICAgICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCB8fCB5ZWFyICUgNDAwID09PSAwO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY29tcGFyZURhdGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbXBhcmVEYXRlcyhhLCBiKSB7XG4gICAgICAgIC8vIHdlYWsgZGF0ZSBjb21wYXJpc29uICh1c2Ugc2V0VG9TdGFydE9mRGF5KGRhdGUpIHRvIGVuc3VyZSBjb3JyZWN0IHJlc3VsdClcbiAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldFRvU3RhcnRPZkRheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkge1xuICAgICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9EYXRlcGlja2VyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERhdGVwaWNrZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBEYXRlcGlja2VyLl90ZW1wbGF0ZSA9IFsnPGRpdiBjbGFzcz0gXCJtb2RhbCBkYXRlcGlja2VyLW1vZGFsXCI+JywgJzxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IGRhdGVwaWNrZXItY29udGFpbmVyXCI+JywgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWRhdGUtZGlzcGxheVwiPicsICc8c3BhbiBjbGFzcz1cInllYXItdGV4dFwiPjwvc3Bhbj4nLCAnPHNwYW4gY2xhc3M9XCJkYXRlLXRleHRcIj48L3NwYW4+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1jYWxlbmRhci1jb250YWluZXJcIj4nLCAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY2FsZW5kYXJcIj48L2Rpdj4nLCAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZm9vdGVyXCI+JywgJzxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWNsZWFyIHdhdmVzLWVmZmVjdFwiIHN0eWxlPVwidmlzaWJpbGl0eTogaGlkZGVuO1wiIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nLCAnPGRpdiBjbGFzcz1cImNvbmZpcm1hdGlvbi1idG5zXCI+JywgJzxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWNhbmNlbCB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+JywgJzxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWRvbmUgd2F2ZXMtZWZmZWN0XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicsICc8L2Rpdj4nLCAnPC9kaXY+JywgJzwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+J10uam9pbignJyk7XG5cbiAgTS5EYXRlcGlja2VyID0gRGF0ZXBpY2tlcjtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKERhdGVwaWNrZXIsICdkYXRlcGlja2VyJywgJ01fRGF0ZXBpY2tlcicpO1xuICB9XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgZGlhbFJhZGl1czogMTM1LFxuICAgIG91dGVyUmFkaXVzOiAxMDUsXG4gICAgaW5uZXJSYWRpdXM6IDcwLFxuICAgIHRpY2tSYWRpdXM6IDIwLFxuICAgIGR1cmF0aW9uOiAzNTAsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGRlZmF1bHRUaW1lOiAnbm93JywgLy8gZGVmYXVsdCB0aW1lLCAnbm93JyBvciAnMTM6MTQnIGUuZy5cbiAgICBmcm9tTm93OiAwLCAvLyBNaWxsaXNlY29uZCBvZmZzZXQgZnJvbSB0aGUgZGVmYXVsdFRpbWVcbiAgICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuXG4gICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICBpMThuOiB7XG4gICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgY2xlYXI6ICdDbGVhcicsXG4gICAgICBkb25lOiAnT2snXG4gICAgfSxcblxuICAgIGF1dG9DbG9zZTogZmFsc2UsIC8vIGF1dG8gY2xvc2Ugd2hlbiBtaW51dGUgaXMgc2VsZWN0ZWRcbiAgICB0d2VsdmVIb3VyOiB0cnVlLCAvLyBjaGFuZ2UgdG8gMTIgaG91ciBBTS9QTSBjbG9jayBmcm9tIDI0IGhvdXJcbiAgICB2aWJyYXRlOiB0cnVlLCAvLyB2aWJyYXRlIHRoZSBkZXZpY2Ugd2hlbiBkcmFnZ2luZyBjbG9jayBoYW5kXG5cbiAgICAvLyBDYWxsYmFja3NcbiAgICBvbk9wZW5TdGFydDogbnVsbCxcbiAgICBvbk9wZW5FbmQ6IG51bGwsXG4gICAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICAgIG9uQ2xvc2VFbmQ6IG51bGwsXG4gICAgb25TZWxlY3Q6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBUaW1lcGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQxNikge1xuICAgIF9pbmhlcml0cyhUaW1lcGlja2VyLCBfQ29tcG9uZW50MTYpO1xuXG4gICAgZnVuY3Rpb24gVGltZXBpY2tlcihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVwaWNrZXIpO1xuXG4gICAgICB2YXIgX3RoaXM1NyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaW1lcGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGltZXBpY2tlcikpLmNhbGwodGhpcywgVGltZXBpY2tlciwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM1Ny5lbC5NX1RpbWVwaWNrZXIgPSBfdGhpczU3O1xuXG4gICAgICBfdGhpczU3Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGltZXBpY2tlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNTcuaWQgPSBNLmd1aWQoKTtcbiAgICAgIF90aGlzNTcuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgICBfdGhpczU3Ll9zZXR1cE1vZGFsKCk7XG4gICAgICBfdGhpczU3Ll9zZXR1cFZhcmlhYmxlcygpO1xuICAgICAgX3RoaXM1Ny5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG5cbiAgICAgIF90aGlzNTcuX2Nsb2NrU2V0dXAoKTtcbiAgICAgIF90aGlzNTcuX3BpY2tlclNldHVwKCk7XG4gICAgICByZXR1cm4gX3RoaXM1NztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGltZXBpY2tlciwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgICAgICQodGhpcy5tb2RhbEVsKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5lbC5NX1RpbWVwaWNrZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydEJvdW5kID0gdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgICAgdGhpcy5wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbG9ja0NsaWNrU3RhcnRCb3VuZCk7XG4gICAgICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydEJvdW5kKTtcblxuICAgICAgICAkKHRoaXMuc3BhbkhvdXJzKS5vbignY2xpY2snLCB0aGlzLnNob3dWaWV3LmJpbmQodGhpcywgJ2hvdXJzJykpO1xuICAgICAgICAkKHRoaXMuc3Bhbk1pbnV0ZXMpLm9uKCdjbGljaycsIHRoaXMuc2hvd1ZpZXcuYmluZCh0aGlzLCAnbWludXRlcycpKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUlucHV0Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dEtleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlQ2xvY2tDbGlja1N0YXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsb2NrQ2xpY2tTdGFydChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGNsb2NrUGxhdGVCUiA9IHRoaXMucGxhdGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSB7IHg6IGNsb2NrUGxhdGVCUi5sZWZ0LCB5OiBjbG9ja1BsYXRlQlIudG9wIH07XG5cbiAgICAgICAgdGhpcy54MCA9IG9mZnNldC54ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgICAgIHRoaXMueTAgPSBvZmZzZXQueSArIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xuICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICAgICAgdGhpcy5keCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgICAgICB0aGlzLmR5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG5cbiAgICAgICAgLy8gU2V0IGNsb2NrIGhhbmRzXG4gICAgICAgIHRoaXMuc2V0SGFuZCh0aGlzLmR4LCB0aGlzLmR5LCBmYWxzZSk7XG5cbiAgICAgICAgLy8gTW91c2Vtb3ZlIG9uIGRvY3VtZW50XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcblxuICAgICAgICAvLyBNb3VzZXVwIG9uIGRvY3VtZW50XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVEb2N1bWVudENsaWNrTW92ZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgICAgICB2YXIgeCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgICAgICB2YXIgeSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRIYW5kKHgsIHksIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRG9jdW1lbnRDbGlja0VuZChlKSB7XG4gICAgICAgIHZhciBfdGhpczU4ID0gdGhpcztcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgICAgIHZhciBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICAgICAgdmFyIHggPSBjbGlja1Bvcy54IC0gdGhpcy54MDtcbiAgICAgICAgdmFyIHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcbiAgICAgICAgaWYgKHRoaXMubW92ZWQgJiYgeCA9PT0gdGhpcy5keCAmJiB5ID09PSB0aGlzLmR5KSB7XG4gICAgICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycpIHtcbiAgICAgICAgICB0aGlzLnNob3dWaWV3KCdtaW51dGVzJywgdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gMik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgICAgICQodGhpcy5taW51dGVzVmlldykuYWRkQ2xhc3MoJ3RpbWVwaWNrZXItZGlhbC1vdXQnKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNTguZG9uZSgpO1xuICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25TZWxlY3QuY2FsbCh0aGlzLCB0aGlzLmhvdXJzLCB0aGlzLm1pbnV0ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5iaW5kIG1vdXNlbW92ZSBldmVudFxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9pbnNlcnRIVE1MSW50b0RPTVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pbnNlcnRIVE1MSW50b0RPTSgpIHtcbiAgICAgICAgdGhpcy4kbW9kYWxFbCA9ICQoVGltZXBpY2tlci5fdGVtcGxhdGUpO1xuICAgICAgICB0aGlzLm1vZGFsRWwgPSB0aGlzLiRtb2RhbEVsWzBdO1xuICAgICAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG5cbiAgICAgICAgLy8gQXBwZW5kIHBvcG92ZXIgdG8gaW5wdXQgYnkgZGVmYXVsdFxuICAgICAgICB2YXIgY29udGFpbmVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lciAmJiAhIWNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgdGhpcy4kbW9kYWxFbC5hcHBlbmRUbyhjb250YWluZXJFbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kbW9kYWxFbC5pbnNlcnRCZWZvcmUodGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwTW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBNb2RhbCgpIHtcbiAgICAgICAgdmFyIF90aGlzNTkgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMubW9kYWwgPSBNLk1vZGFsLmluaXQodGhpcy5tb2RhbEVsLCB7XG4gICAgICAgICAgb25PcGVuU3RhcnQ6IHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCxcbiAgICAgICAgICBvbk9wZW5FbmQ6IHRoaXMub3B0aW9ucy5vbk9wZW5FbmQsXG4gICAgICAgICAgb25DbG9zZVN0YXJ0OiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LFxuICAgICAgICAgIG9uQ2xvc2VFbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXM1OS5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgX3RoaXM1OS5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbChfdGhpczU5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzNTkuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwVmFyaWFibGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwVmFyaWFibGVzKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ2hvdXJzJztcbiAgICAgICAgdGhpcy52aWJyYXRlID0gbmF2aWdhdG9yLnZpYnJhdGUgPyAndmlicmF0ZScgOiBuYXZpZ2F0b3Iud2Via2l0VmlicmF0ZSA/ICd3ZWJraXRWaWJyYXRlJyA6IG51bGw7XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWNhbnZhcycpO1xuICAgICAgICB0aGlzLnBsYXRlID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXBsYXRlJyk7XG5cbiAgICAgICAgdGhpcy5ob3Vyc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItaG91cnMnKTtcbiAgICAgICAgdGhpcy5taW51dGVzVmlldyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1taW51dGVzJyk7XG4gICAgICAgIHRoaXMuc3BhbkhvdXJzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4taG91cnMnKTtcbiAgICAgICAgdGhpcy5zcGFuTWludXRlcyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1zcGFuLW1pbnV0ZXMnKTtcbiAgICAgICAgdGhpcy5zcGFuQW1QbSA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1zcGFuLWFtLXBtJyk7XG4gICAgICAgIHRoaXMuZm9vdGVyID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWZvb3RlcicpO1xuICAgICAgICB0aGlzLmFtT3JQbSA9ICdQTSc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9waWNrZXJTZXR1cFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9waWNrZXJTZXR1cCgpIHtcbiAgICAgICAgdmFyICRjbGVhckJ0biA9ICQoXCI8YnV0dG9uIGNsYXNzPVxcXCJidG4tZmxhdCB0aW1lcGlja2VyLWNsZWFyIHdhdmVzLWVmZmVjdFxcXCIgc3R5bGU9XFxcInZpc2liaWxpdHk6IGhpZGRlbjtcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgdGFiaW5kZXg9XFxcIlwiICsgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyID8gJzMnIDogJzEnKSArIFwiXFxcIj5cIiArIHRoaXMub3B0aW9ucy5pMThuLmNsZWFyICsgXCI8L2J1dHRvbj5cIikuYXBwZW5kVG8odGhpcy5mb290ZXIpLm9uKCdjbGljaycsIHRoaXMuY2xlYXIuYmluZCh0aGlzKSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgICAgJGNsZWFyQnRuLmNzcyh7IHZpc2liaWxpdHk6ICcnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwiY29uZmlybWF0aW9uLWJ0bnNcIj48L2Rpdj4nKTtcbiAgICAgICAgJCgnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IHRpbWVwaWNrZXItY2xvc2Ugd2F2ZXMtZWZmZWN0XCIgdHlwZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiJyArICh0aGlzLm9wdGlvbnMudHdlbHZlSG91ciA/ICczJyA6ICcxJykgKyAnXCI+JyArIHRoaXMub3B0aW9ucy5pMThuLmNhbmNlbCArICc8L2J1dHRvbj4nKS5hcHBlbmRUbyhjb25maXJtYXRpb25CdG5zQ29udGFpbmVyKS5vbignY2xpY2snLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgICAgICAkKCc8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgdGltZXBpY2tlci1jbG9zZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCInICsgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyID8gJzMnIDogJzEnKSArICdcIj4nICsgdGhpcy5vcHRpb25zLmkxOG4uZG9uZSArICc8L2J1dHRvbj4nKS5hcHBlbmRUbyhjb25maXJtYXRpb25CdG5zQ29udGFpbmVyKS5vbignY2xpY2snLCB0aGlzLmRvbmUuYmluZCh0aGlzKSk7XG4gICAgICAgIGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIuYXBwZW5kVG8odGhpcy5mb290ZXIpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY2xvY2tTZXR1cFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbG9ja1NldHVwKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgICB0aGlzLiRhbUJ0biA9ICQoJzxkaXYgY2xhc3M9XCJhbS1idG5cIj5BTTwvZGl2PicpO1xuICAgICAgICAgIHRoaXMuJHBtQnRuID0gJCgnPGRpdiBjbGFzcz1cInBtLWJ0blwiPlBNPC9kaXY+Jyk7XG4gICAgICAgICAgdGhpcy4kYW1CdG4ub24oJ2NsaWNrJywgdGhpcy5faGFuZGxlQW1QbUNsaWNrLmJpbmQodGhpcykpLmFwcGVuZFRvKHRoaXMuc3BhbkFtUG0pO1xuICAgICAgICAgIHRoaXMuJHBtQnRuLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUFtUG1DbGljay5iaW5kKHRoaXMpKS5hcHBlbmRUbyh0aGlzLnNwYW5BbVBtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1aWxkSG91cnNWaWV3KCk7XG4gICAgICAgIHRoaXMuX2J1aWxkTWludXRlc1ZpZXcoKTtcbiAgICAgICAgdGhpcy5fYnVpbGRTVkdDbG9jaygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYnVpbGRTVkdDbG9ja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZFNWR0Nsb2NrKCkge1xuICAgICAgICAvLyBEcmF3IGNsb2NrIGhhbmRzIGFuZCBvdGhlcnNcbiAgICAgICAgdmFyIGRpYWxSYWRpdXMgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcbiAgICAgICAgdmFyIHRpY2tSYWRpdXMgPSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cztcbiAgICAgICAgdmFyIGRpYW1ldGVyID0gZGlhbFJhZGl1cyAqIDI7XG5cbiAgICAgICAgdmFyIHN2ZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdzdmcnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1zdmcnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBkaWFtZXRlcik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGRpYW1ldGVyKTtcbiAgICAgICAgdmFyIGcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnZycpO1xuICAgICAgICBnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgZGlhbFJhZGl1cyArICcsJyArIGRpYWxSYWRpdXMgKyAnKScpO1xuICAgICAgICB2YXIgYmVhcmluZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdjaXJjbGUnKTtcbiAgICAgICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItY2FudmFzLWJlYXJpbmcnKTtcbiAgICAgICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N4JywgMCk7XG4gICAgICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjeScsIDApO1xuICAgICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgncicsIDQpO1xuICAgICAgICB2YXIgaGFuZCA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdsaW5lJyk7XG4gICAgICAgIGhhbmQuc2V0QXR0cmlidXRlKCd4MScsIDApO1xuICAgICAgICBoYW5kLnNldEF0dHJpYnV0ZSgneTEnLCAwKTtcbiAgICAgICAgdmFyIGJnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2NpcmNsZScpO1xuICAgICAgICBiZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItY2FudmFzLWJnJyk7XG4gICAgICAgIGJnLnNldEF0dHJpYnV0ZSgncicsIHRpY2tSYWRpdXMpO1xuICAgICAgICBnLmFwcGVuZENoaWxkKGhhbmQpO1xuICAgICAgICBnLmFwcGVuZENoaWxkKGJnKTtcbiAgICAgICAgZy5hcHBlbmRDaGlsZChiZWFyaW5nKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGcpO1xuICAgICAgICB0aGlzLl9jYW52YXMuYXBwZW5kQ2hpbGQoc3ZnKTtcblxuICAgICAgICB0aGlzLmhhbmQgPSBoYW5kO1xuICAgICAgICB0aGlzLmJnID0gYmc7XG4gICAgICAgIHRoaXMuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgICAgIHRoaXMuZyA9IGc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9idWlsZEhvdXJzVmlld1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZEhvdXJzVmlldygpIHtcbiAgICAgICAgdmFyICR0aWNrID0gJCgnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItdGlja1wiPjwvZGl2PicpO1xuICAgICAgICAvLyBIb3VycyB2aWV3XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMTM7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIHRpY2sgPSAkdGljay5jbG9uZSgpO1xuICAgICAgICAgICAgdmFyIHJhZGlhbiA9IGkgLyA2ICogTWF0aC5QSTtcbiAgICAgICAgICAgIHZhciByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICAgICAgICB0aWNrLmNzcyh7XG4gICAgICAgICAgICAgIGxlZnQ6IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzICsgTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JyxcbiAgICAgICAgICAgICAgdG9wOiB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtIE1hdGguY29zKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGljay5odG1sKGkgPT09IDAgPyAnMDAnIDogaSk7XG4gICAgICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrWzBdKTtcbiAgICAgICAgICAgIC8vIHRpY2sub24obW91c2Vkb3duRXZlbnQsIG1vdXNlZG93bik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IDI0OyBfaTIgKz0gMSkge1xuICAgICAgICAgICAgdmFyIF90aWNrID0gJHRpY2suY2xvbmUoKTtcbiAgICAgICAgICAgIHZhciBfcmFkaWFuID0gX2kyIC8gNiAqIE1hdGguUEk7XG4gICAgICAgICAgICB2YXIgaW5uZXIgPSBfaTIgPiAwICYmIF9pMiA8IDEzO1xuICAgICAgICAgICAgdmFyIF9yYWRpdXMgPSBpbm5lciA/IHRoaXMub3B0aW9ucy5pbm5lclJhZGl1cyA6IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgICAgIF90aWNrLmNzcyh7XG4gICAgICAgICAgICAgIGxlZnQ6IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzICsgTWF0aC5zaW4oX3JhZGlhbikgKiBfcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnLFxuICAgICAgICAgICAgICB0b3A6IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MoX3JhZGlhbikgKiBfcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aWNrLmh0bWwoX2kyID09PSAwID8gJzAwJyA6IF9pMik7XG4gICAgICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZChfdGlja1swXSk7XG4gICAgICAgICAgICAvLyB0aWNrLm9uKG1vdXNlZG93bkV2ZW50LCBtb3VzZWRvd24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYnVpbGRNaW51dGVzVmlld1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9idWlsZE1pbnV0ZXNWaWV3KCkge1xuICAgICAgICB2YXIgJHRpY2sgPSAkKCc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10aWNrXCI+PC9kaXY+Jyk7XG4gICAgICAgIC8vIE1pbnV0ZXMgdmlld1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDYwOyBpICs9IDUpIHtcbiAgICAgICAgICB2YXIgdGljayA9ICR0aWNrLmNsb25lKCk7XG4gICAgICAgICAgdmFyIHJhZGlhbiA9IGkgLyAzMCAqIE1hdGguUEk7XG4gICAgICAgICAgdGljay5jc3Moe1xuICAgICAgICAgICAgbGVmdDogdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihyYWRpYW4pICogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnLFxuICAgICAgICAgICAgdG9wOiB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtIE1hdGguY29zKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aWNrLmh0bWwoVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8oaSkpO1xuICAgICAgICAgIHRoaXMubWludXRlc1ZpZXcuYXBwZW5kQ2hpbGQodGlja1swXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUFtUG1DbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVBbVBtQ2xpY2soZSkge1xuICAgICAgICB2YXIgJGJ0bkNsaWNrZWQgPSAkKGUudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5hbU9yUG0gPSAkYnRuQ2xpY2tlZC5oYXNDbGFzcygnYW0tYnRuJykgPyAnQU0nIDogJ1BNJztcbiAgICAgICAgdGhpcy5fdXBkYXRlQW1QbVZpZXcoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZUFtUG1WaWV3XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUFtUG1WaWV3KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgICB0aGlzLiRhbUJ0bi50b2dnbGVDbGFzcygndGV4dC1wcmltYXJ5JywgdGhpcy5hbU9yUG0gPT09ICdBTScpO1xuICAgICAgICAgIHRoaXMuJHBtQnRuLnRvZ2dsZUNsYXNzKCd0ZXh0LXByaW1hcnknLCB0aGlzLmFtT3JQbSA9PT0gJ1BNJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZVRpbWVGcm9tSW5wdXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlVGltZUZyb21JbnB1dCgpIHtcbiAgICAgICAgLy8gR2V0IHRoZSB0aW1lXG4gICAgICAgIHZhciB2YWx1ZSA9ICgodGhpcy5lbC52YWx1ZSB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdFRpbWUgfHwgJycpICsgJycpLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91ciAmJiAhKHR5cGVvZiB2YWx1ZVsxXSA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlWzFdLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignQU0nKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYW1PclBtID0gJ0FNJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbU9yUG0gPSAnUE0nO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZVsxXSA9IHZhbHVlWzFdLnJlcGxhY2UoJ0FNJywgJycpLnJlcGxhY2UoJ1BNJywgJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZVswXSA9PT0gJ25vdycpIHtcbiAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoK25ldyBEYXRlKCkgKyB0aGlzLm9wdGlvbnMuZnJvbU5vdyk7XG4gICAgICAgICAgdmFsdWUgPSBbbm93LmdldEhvdXJzKCksIG5vdy5nZXRNaW51dGVzKCldO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgICAgdGhpcy5hbU9yUG0gPSB2YWx1ZVswXSA+PSAxMiAmJiB2YWx1ZVswXSA8IDI0ID8gJ1BNJyA6ICdBTSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG91cnMgPSArdmFsdWVbMF0gfHwgMDtcbiAgICAgICAgdGhpcy5taW51dGVzID0gK3ZhbHVlWzFdIHx8IDA7XG4gICAgICAgIHRoaXMuc3BhbkhvdXJzLmlubmVySFRNTCA9IHRoaXMuaG91cnM7XG4gICAgICAgIHRoaXMuc3Bhbk1pbnV0ZXMuaW5uZXJIVE1MID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVBbVBtVmlldygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzaG93Vmlld1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dWaWV3KHZpZXcsIGRlbGF5KSB7XG4gICAgICAgIGlmICh2aWV3ID09PSAnbWludXRlcycgJiYgJCh0aGlzLmhvdXJzVmlldykuY3NzKCd2aXNpYmlsaXR5JykgPT09ICd2aXNpYmxlJykge1xuICAgICAgICAgIC8vIHJhaXNlQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUhvdXJTZWxlY3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0hvdXJzID0gdmlldyA9PT0gJ2hvdXJzJyxcbiAgICAgICAgICAgIG5leHRWaWV3ID0gaXNIb3VycyA/IHRoaXMuaG91cnNWaWV3IDogdGhpcy5taW51dGVzVmlldyxcbiAgICAgICAgICAgIGhpZGVWaWV3ID0gaXNIb3VycyA/IHRoaXMubWludXRlc1ZpZXcgOiB0aGlzLmhvdXJzVmlldztcbiAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICAgICAgJCh0aGlzLnNwYW5Ib3VycykudG9nZ2xlQ2xhc3MoJ3RleHQtcHJpbWFyeScsIGlzSG91cnMpO1xuICAgICAgICAkKHRoaXMuc3Bhbk1pbnV0ZXMpLnRvZ2dsZUNsYXNzKCd0ZXh0LXByaW1hcnknLCAhaXNIb3Vycyk7XG5cbiAgICAgICAgLy8gVHJhbnNpdGlvbiB2aWV3XG4gICAgICAgIGhpZGVWaWV3LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItZGlhbC1vdXQnKTtcbiAgICAgICAgJChuZXh0VmlldykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKS5yZW1vdmVDbGFzcygndGltZXBpY2tlci1kaWFsLW91dCcpO1xuXG4gICAgICAgIC8vIFJlc2V0IGNsb2NrIGhhbmRcbiAgICAgICAgdGhpcy5yZXNldENsb2NrKGRlbGF5KTtcblxuICAgICAgICAvLyBBZnRlciB0cmFuc2l0aW9ucyBlbmRlZFxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50b2dnbGVWaWV3VGltZXIpO1xuICAgICAgICB0aGlzLnRvZ2dsZVZpZXdUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQoaGlkZVZpZXcpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVzZXRDbG9ja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Q2xvY2soZGVsYXkpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3LFxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzW3ZpZXddLFxuICAgICAgICAgICAgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXG4gICAgICAgICAgICB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzID8gNiA6IDMwKSxcbiAgICAgICAgICAgIHJhZGlhbiA9IHZhbHVlICogdW5pdCxcbiAgICAgICAgICAgIHJhZGl1cyA9IGlzSG91cnMgJiYgdmFsdWUgPiAwICYmIHZhbHVlIDwgMTMgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMsXG4gICAgICAgICAgICB4ID0gTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIHkgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgICQodGhpcy5jYW52YXMpLmFkZENsYXNzKCd0aW1lcGlja2VyLWNhbnZhcy1vdXQnKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoc2VsZi5jYW52YXMpLnJlbW92ZUNsYXNzKCd0aW1lcGlja2VyLWNhbnZhcy1vdXQnKTtcbiAgICAgICAgICAgIHNlbGYuc2V0SGFuZCh4LCB5KTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNldEhhbmRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIYW5kKHgsIHksIHJvdW5kQnk1KSB7XG4gICAgICAgIHZhciBfdGhpczYwID0gdGhpcztcblxuICAgICAgICB2YXIgcmFkaWFuID0gTWF0aC5hdGFuMih4LCAteSksXG4gICAgICAgICAgICBpc0hvdXJzID0gdGhpcy5jdXJyZW50VmlldyA9PT0gJ2hvdXJzJyxcbiAgICAgICAgICAgIHVuaXQgPSBNYXRoLlBJIC8gKGlzSG91cnMgfHwgcm91bmRCeTUgPyA2IDogMzApLFxuICAgICAgICAgICAgeiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSxcbiAgICAgICAgICAgIGlubmVyID0gaXNIb3VycyAmJiB6IDwgKHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cyArIHRoaXMub3B0aW9ucy5pbm5lclJhZGl1cykgLyAyLFxuICAgICAgICAgICAgcmFkaXVzID0gaW5uZXIgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgcmFkaXVzID0gdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmFkaWFuIHNob3VsZCBpbiByYW5nZSBbMCwgMlBJXVxuICAgICAgICBpZiAocmFkaWFuIDwgMCkge1xuICAgICAgICAgIHJhZGlhbiA9IE1hdGguUEkgKiAyICsgcmFkaWFuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSByb3VuZCB2YWx1ZVxuICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnJvdW5kKHJhZGlhbiAvIHVuaXQpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgcm91bmQgcmFkaWFuXG4gICAgICAgIHJhZGlhbiA9IHZhbHVlICogdW5pdDtcblxuICAgICAgICAvLyBDb3JyZWN0IHRoZSBob3VycyBvciBtaW51dGVzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IDApIHZhbHVlID0gMTI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyb3VuZEJ5NSkgdmFsdWUgKj0gNTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gNjApIHZhbHVlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBpbm5lciA/IHZhbHVlID09PSAwID8gMTIgOiB2YWx1ZSA6IHZhbHVlID09PSAwID8gMCA6IHZhbHVlICsgMTI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyb3VuZEJ5NSkge1xuICAgICAgICAgICAgICB2YWx1ZSAqPSA1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSA2MCkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25jZSBob3VycyBvciBtaW51dGVzIGNoYW5nZWQsIHZpYnJhdGUgdGhlIGRldmljZVxuICAgICAgICBpZiAodGhpc1t0aGlzLmN1cnJlbnRWaWV3XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBpZiAodGhpcy52aWJyYXRlICYmIHRoaXMub3B0aW9ucy52aWJyYXRlKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgdmlicmF0ZSB0b28gZnJlcXVlbnRseVxuICAgICAgICAgICAgaWYgKCF0aGlzLnZpYnJhdGVUaW1lcikge1xuICAgICAgICAgICAgICBuYXZpZ2F0b3JbdGhpcy52aWJyYXRlXSgxMCk7XG4gICAgICAgICAgICAgIHRoaXMudmlicmF0ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM2MC52aWJyYXRlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNbdGhpcy5jdXJyZW50Vmlld10gPSB2YWx1ZTtcbiAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICB0aGlzWydzcGFuSG91cnMnXS5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzWydzcGFuTWludXRlcyddLmlubmVySFRNTCA9IFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBjbG9jayBoYW5kIGFuZCBvdGhlcnMnIHBvc2l0aW9uXG4gICAgICAgIHZhciBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgICAgICAgIGN5MSA9IC1NYXRoLmNvcyhyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgICAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcbiAgICAgICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEpO1xuICAgICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MSk7XG4gICAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeCcsIGN4Mik7XG4gICAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVRpbWVGcm9tSW5wdXQoKTtcbiAgICAgICAgdGhpcy5zaG93VmlldygnaG91cnMnKTtcblxuICAgICAgICB0aGlzLm1vZGFsLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kYWwuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBGaW5pc2ggdGltZXBpY2tlciBzZWxlY3Rpb24uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkb25lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZG9uZShlLCBjbGVhclZhbHVlKSB7XG4gICAgICAgIC8vIFNldCBpbnB1dCB2YWx1ZVxuICAgICAgICB2YXIgbGFzdCA9IHRoaXMuZWwudmFsdWU7XG4gICAgICAgIHZhciB2YWx1ZSA9IGNsZWFyVmFsdWUgPyAnJyA6IFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMuaG91cnMpICsgJzonICsgVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcbiAgICAgICAgdGhpcy50aW1lID0gdmFsdWU7XG4gICAgICAgIGlmICghY2xlYXJWYWx1ZSAmJiB0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBcIiBcIiArIHRoaXMuYW1PclBtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWwudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxuICAgICAgICBpZiAodmFsdWUgIT09IGxhc3QpIHtcbiAgICAgICAgICB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbGVhclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmRvbmUobnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KFRpbWVwaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaW1lcGlja2VyKSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FkZExlYWRpbmdaZXJvXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZExlYWRpbmdaZXJvKG51bSkge1xuICAgICAgICByZXR1cm4gKG51bSA8IDEwID8gJzAnIDogJycpICsgbnVtO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY3JlYXRlU1ZHRWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlU1ZHRWwobmFtZSkge1xuICAgICAgICB2YXIgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBuYW1lKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQb2ludFxuICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHggVGhlIFggQ29vcmRpbmF0ZVxuICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHkgVGhlIFkgQ29vcmRpbmF0ZVxuICAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHggcG9zaXRpb24gb2YgbW91c2Ugb3IgdG91Y2ggZXZlbnRcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqIEByZXR1cm4ge1BvaW50fSB4IGFuZCB5IGxvY2F0aW9uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfUG9zXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX1BvcyhlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgICAgcmV0dXJuIHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fVGltZXBpY2tlcjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaW1lcGlja2VyO1xuICB9KENvbXBvbmVudCk7XG5cbiAgVGltZXBpY2tlci5fdGVtcGxhdGUgPSBbJzxkaXYgY2xhc3M9IFwibW9kYWwgdGltZXBpY2tlci1tb2RhbFwiPicsICc8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudCB0aW1lcGlja2VyLWNvbnRhaW5lclwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWdpdGFsLWRpc3BsYXlcIj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItdGV4dC1jb250YWluZXJcIj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW5cIj4nLCAnPHNwYW4gY2xhc3M9XCJ0aW1lcGlja2VyLXNwYW4taG91cnMgdGV4dC1wcmltYXJ5XCI+PC9zcGFuPicsICc6JywgJzxzcGFuIGNsYXNzPVwidGltZXBpY2tlci1zcGFuLW1pbnV0ZXNcIj48L3NwYW4+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbiB0aW1lcGlja2VyLWRpc3BsYXktYW0tcG1cIj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItc3Bhbi1hbS1wbVwiPjwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1hbmFsb2ctZGlzcGxheVwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1wbGF0ZVwiPicsICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1jYW52YXNcIj48L2Rpdj4nLCAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlhbCB0aW1lcGlja2VyLWhvdXJzXCI+PC9kaXY+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpYWwgdGltZXBpY2tlci1taW51dGVzIHRpbWVwaWNrZXItZGlhbC1vdXRcIj48L2Rpdj4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWZvb3RlclwiPjwvZGl2PicsICc8L2Rpdj4nLCAnPC9kaXY+JywgJzwvZGl2PiddLmpvaW4oJycpO1xuXG4gIE0uVGltZXBpY2tlciA9IFRpbWVwaWNrZXI7XG5cbiAgaWYgKE0ualF1ZXJ5TG9hZGVkKSB7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUaW1lcGlja2VyLCAndGltZXBpY2tlcicsICdNX1RpbWVwaWNrZXInKTtcbiAgfVxufSkoY2FzaCk7XG47KGZ1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX2RlZmF1bHRzID0ge307XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgQ2hhcmFjdGVyQ291bnRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MTcpIHtcbiAgICBfaW5oZXJpdHMoQ2hhcmFjdGVyQ291bnRlciwgX0NvbXBvbmVudDE3KTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBDaGFyYWN0ZXJDb3VudGVyIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hhcmFjdGVyQ291bnRlcihlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYXJhY3RlckNvdW50ZXIpO1xuXG4gICAgICB2YXIgX3RoaXM2MSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDaGFyYWN0ZXJDb3VudGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hhcmFjdGVyQ291bnRlcikpLmNhbGwodGhpcywgQ2hhcmFjdGVyQ291bnRlciwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgX3RoaXM2MS5lbC5NX0NoYXJhY3RlckNvdW50ZXIgPSBfdGhpczYxO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBjaGFyYWN0ZXIgY291bnRlclxuICAgICAgICovXG4gICAgICBfdGhpczYxLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2hhcmFjdGVyQ291bnRlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNjEuaXNJbnZhbGlkID0gZmFsc2U7XG4gICAgICBfdGhpczYxLmlzVmFsaWRMZW5ndGggPSBmYWxzZTtcbiAgICAgIF90aGlzNjEuX3NldHVwQ291bnRlcigpO1xuICAgICAgX3RoaXM2MS5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICByZXR1cm4gX3RoaXM2MTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2hhcmFjdGVyQ291bnRlciwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5lbC5DaGFyYWN0ZXJDb3VudGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9yZW1vdmVDb3VudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQgPSB0aGlzLnVwZGF0ZUNvdW50ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgY291bnRlciBlbGVtZW50XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBDb3VudGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwQ291bnRlcigpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICQodGhpcy5jb3VudGVyRWwpLmFkZENsYXNzKCdjaGFyYWN0ZXItY291bnRlcicpLmNzcyh7XG4gICAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4JyxcbiAgICAgICAgICBoZWlnaHQ6IDFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kZWwucGFyZW50KCkuYXBwZW5kKHRoaXMuY291bnRlckVsKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgY291bnRlciBlbGVtZW50XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlQ291bnRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVDb3VudGVyKCkge1xuICAgICAgICAkKHRoaXMuY291bnRlckVsKS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBVcGRhdGUgY291bnRlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlQ291bnRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXIoKSB7XG4gICAgICAgIHZhciBtYXhMZW5ndGggPSArdGhpcy4kZWwuYXR0cignZGF0YS1sZW5ndGgnKSxcbiAgICAgICAgICAgIGFjdHVhbExlbmd0aCA9IHRoaXMuZWwudmFsdWUubGVuZ3RoO1xuICAgICAgICB0aGlzLmlzVmFsaWRMZW5ndGggPSBhY3R1YWxMZW5ndGggPD0gbWF4TGVuZ3RoO1xuICAgICAgICB2YXIgY291bnRlclN0cmluZyA9IGFjdHVhbExlbmd0aDtcblxuICAgICAgICBpZiAobWF4TGVuZ3RoKSB7XG4gICAgICAgICAgY291bnRlclN0cmluZyArPSAnLycgKyBtYXhMZW5ndGg7XG4gICAgICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh0aGlzLmNvdW50ZXJFbCkuaHRtbChjb3VudGVyU3RyaW5nKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgdmFsaWRhdGlvbiBjbGFzc2VzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdmFsaWRhdGVJbnB1dFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF92YWxpZGF0ZUlucHV0KCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkTGVuZ3RoICYmIHRoaXMuaXNJbnZhbGlkKSB7XG4gICAgICAgICAgdGhpcy5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzVmFsaWRMZW5ndGggJiYgIXRoaXMuaXNJbnZhbGlkKSB7XG4gICAgICAgICAgdGhpcy5pc0ludmFsaWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCd2YWxpZCcpO1xuICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoQ2hhcmFjdGVyQ291bnRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENoYXJhY3RlckNvdW50ZXIpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9DaGFyYWN0ZXJDb3VudGVyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENoYXJhY3RlckNvdW50ZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBNLkNoYXJhY3RlckNvdW50ZXIgPSBDaGFyYWN0ZXJDb3VudGVyO1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ2hhcmFjdGVyQ291bnRlciwgJ2NoYXJhY3RlckNvdW50ZXInLCAnTV9DaGFyYWN0ZXJDb3VudGVyJyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBkdXJhdGlvbjogMjAwLCAvLyBtc1xuICAgIGRpc3Q6IC0xMDAsIC8vIHpvb20gc2NhbGUgVE9ETzogbWFrZSB0aGlzIG1vcmUgaW50dWl0aXZlIGFzIGFuIG9wdGlvblxuICAgIHNoaWZ0OiAwLCAvLyBzcGFjaW5nIGZvciBjZW50ZXIgaW1hZ2VcbiAgICBwYWRkaW5nOiAwLCAvLyBQYWRkaW5nIGJldHdlZW4gbm9uIGNlbnRlciBpdGVtc1xuICAgIG51bVZpc2libGU6IDUsIC8vIE51bWJlciBvZiB2aXNpYmxlIGl0ZW1zIGluIGNhcm91c2VsXG4gICAgZnVsbFdpZHRoOiBmYWxzZSwgLy8gQ2hhbmdlIHRvIGZ1bGwgd2lkdGggc3R5bGVzXG4gICAgaW5kaWNhdG9yczogZmFsc2UsIC8vIFRvZ2dsZSBpbmRpY2F0b3JzXG4gICAgbm9XcmFwOiBmYWxzZSwgLy8gRG9uJ3Qgd3JhcCBhcm91bmQgYW5kIGN5Y2xlIHRocm91Z2ggaXRlbXMuXG4gICAgb25DeWNsZVRvOiBudWxsIC8vIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHNsaWRlIGlzIGN5Y2xlZCB0by5cbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MTgpIHtcbiAgICBfaW5oZXJpdHMoQ2Fyb3VzZWwsIF9Db21wb25lbnQxOCk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgQ2Fyb3VzZWwgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYXJvdXNlbChlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcm91c2VsKTtcblxuICAgICAgdmFyIF90aGlzNjIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2Fyb3VzZWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYXJvdXNlbCkpLmNhbGwodGhpcywgQ2Fyb3VzZWwsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNjIuZWwuTV9DYXJvdXNlbCA9IF90aGlzNjI7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIGNhcm91c2VsXG4gICAgICAgKiBAbWVtYmVyIENhcm91c2VsI29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IGR1cmF0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBkaXN0XG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBzaGlmdFxuICAgICAgICogQHByb3Age051bWJlcn0gcGFkZGluZ1xuICAgICAgICogQHByb3Age051bWJlcn0gbnVtVmlzaWJsZVxuICAgICAgICogQHByb3Age0Jvb2xlYW59IGZ1bGxXaWR0aFxuICAgICAgICogQHByb3Age0Jvb2xlYW59IGluZGljYXRvcnNcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBub1dyYXBcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DeWNsZVRvXG4gICAgICAgKi9cbiAgICAgIF90aGlzNjIub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICBfdGhpczYyLmhhc011bHRpcGxlU2xpZGVzID0gX3RoaXM2Mi4kZWwuZmluZCgnLmNhcm91c2VsLWl0ZW0nKS5sZW5ndGggPiAxO1xuICAgICAgX3RoaXM2Mi5zaG93SW5kaWNhdG9ycyA9IF90aGlzNjIub3B0aW9ucy5pbmRpY2F0b3JzICYmIF90aGlzNjIuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgICBfdGhpczYyLm5vV3JhcCA9IF90aGlzNjIub3B0aW9ucy5ub1dyYXAgfHwgIV90aGlzNjIuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgICBfdGhpczYyLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzNjIuZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgX3RoaXM2Mi5vZmZzZXQgPSBfdGhpczYyLnRhcmdldCA9IDA7XG4gICAgICBfdGhpczYyLmltYWdlcyA9IFtdO1xuICAgICAgX3RoaXM2Mi5pdGVtV2lkdGggPSBfdGhpczYyLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmZpcnN0KCkuaW5uZXJXaWR0aCgpO1xuICAgICAgX3RoaXM2Mi5pdGVtSGVpZ2h0ID0gX3RoaXM2Mi4kZWwuZmluZCgnLmNhcm91c2VsLWl0ZW0nKS5maXJzdCgpLmlubmVySGVpZ2h0KCk7XG4gICAgICBfdGhpczYyLmRpbSA9IF90aGlzNjIuaXRlbVdpZHRoICogMiArIF90aGlzNjIub3B0aW9ucy5wYWRkaW5nIHx8IDE7IC8vIE1ha2Ugc3VyZSBkaW0gaXMgbm9uIHplcm8gZm9yIGRpdmlzaW9ucy5cbiAgICAgIF90aGlzNjIuX2F1dG9TY3JvbGxCb3VuZCA9IF90aGlzNjIuX2F1dG9TY3JvbGwuYmluZChfdGhpczYyKTtcbiAgICAgIF90aGlzNjIuX3RyYWNrQm91bmQgPSBfdGhpczYyLl90cmFjay5iaW5kKF90aGlzNjIpO1xuXG4gICAgICAvLyBGdWxsIFdpZHRoIGNhcm91c2VsIHNldHVwXG4gICAgICBpZiAoX3RoaXM2Mi5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICBfdGhpczYyLm9wdGlvbnMuZGlzdCA9IDA7XG4gICAgICAgIF90aGlzNjIuX3NldENhcm91c2VsSGVpZ2h0KCk7XG5cbiAgICAgICAgLy8gT2Zmc2V0IGZpeGVkIGl0ZW1zIHdoZW4gaW5kaWNhdG9ycy5cbiAgICAgICAgaWYgKF90aGlzNjIuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgICBfdGhpczYyLiRlbC5maW5kKCcuY2Fyb3VzZWwtZml4ZWQtaXRlbScpLmFkZENsYXNzKCd3aXRoLWluZGljYXRvcnMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJdGVyYXRlIHRocm91Z2ggc2xpZGVzXG4gICAgICBfdGhpczYyLiRpbmRpY2F0b3JzID0gJCgnPHVsIGNsYXNzPVwiaW5kaWNhdG9yc1wiPjwvdWw+Jyk7XG4gICAgICBfdGhpczYyLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmVhY2goZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgIF90aGlzNjIuaW1hZ2VzLnB1c2goZWwpO1xuICAgICAgICBpZiAoX3RoaXM2Mi5zaG93SW5kaWNhdG9ycykge1xuICAgICAgICAgIHZhciAkaW5kaWNhdG9yID0gJCgnPGxpIGNsYXNzPVwiaW5kaWNhdG9yLWl0ZW1cIj48L2xpPicpO1xuXG4gICAgICAgICAgLy8gQWRkIGFjdGl2ZSB0byBmaXJzdCBieSBkZWZhdWx0LlxuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAkaW5kaWNhdG9yWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzNjIuJGluZGljYXRvcnMuYXBwZW5kKCRpbmRpY2F0b3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChfdGhpczYyLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgIF90aGlzNjIuJGVsLmFwcGVuZChfdGhpczYyLiRpbmRpY2F0b3JzKTtcbiAgICAgIH1cbiAgICAgIF90aGlzNjIuY291bnQgPSBfdGhpczYyLmltYWdlcy5sZW5ndGg7XG5cbiAgICAgIC8vIENhcCBudW1WaXNpYmxlIGF0IGNvdW50XG4gICAgICBfdGhpczYyLm9wdGlvbnMubnVtVmlzaWJsZSA9IE1hdGgubWluKF90aGlzNjIuY291bnQsIF90aGlzNjIub3B0aW9ucy5udW1WaXNpYmxlKTtcblxuICAgICAgLy8gU2V0dXAgY3Jvc3MgYnJvd3NlciBzdHJpbmdcbiAgICAgIF90aGlzNjIueGZvcm0gPSAndHJhbnNmb3JtJztcbiAgICAgIFsnd2Via2l0JywgJ01veicsICdPJywgJ21zJ10uZXZlcnkoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICB2YXIgZSA9IHByZWZpeCArICdUcmFuc2Zvcm0nO1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGVbZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgX3RoaXM2Mi54Zm9ybSA9IGU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzNjIuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgX3RoaXM2Mi5fc2Nyb2xsKF90aGlzNjIub2Zmc2V0KTtcbiAgICAgIHJldHVybiBfdGhpczYyO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDYXJvdXNlbCwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5lbC5NX0Nhcm91c2VsID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBFdmVudEhhbmRsZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNjMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQpO1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZ0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrQm91bmQpO1xuXG4gICAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzICYmIHRoaXMuJGluZGljYXRvcnMpIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5pbmRpY2F0b3ItaXRlbScpLmVhY2goZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzNjMuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzaXplXG4gICAgICAgIHZhciB0aHJvdHRsZWRSZXNpemUgPSBNLnRocm90dGxlKHRoaXMuX2hhbmRsZVJlc2l6ZSwgMjAwKTtcbiAgICAgICAgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQgPSB0aHJvdHRsZWRSZXNpemUuYmluZCh0aGlzKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNjQgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kKTtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZ0JvdW5kKTtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMgJiYgdGhpcy4kaW5kaWNhdG9ycykge1xuICAgICAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmluZGljYXRvci1pdGVtJykuZWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM2NC5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDYXJvdXNlbCBUYXBcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDYXJvdXNlbFRhcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDYXJvdXNlbFRhcChlKSB7XG4gICAgICAgIC8vIEZpeGVzIGZpcmVmb3ggZHJhZ2dhYmxlIGltYWdlIGJ1Z1xuICAgICAgICBpZiAoZS50eXBlID09PSAnbW91c2Vkb3duJyAmJiAkKGUudGFyZ2V0KS5pcygnaW1nJykpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmVydGljYWxEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlID0gdGhpcy5feHBvcyhlKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VZID0gdGhpcy5feXBvcyhlKTtcblxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5hbXBsaXR1ZGUgPSAwO1xuICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XG4gICAgICAgIHRoaXMudGlja2VyID0gc2V0SW50ZXJ2YWwodGhpcy5fdHJhY2tCb3VuZCwgMTAwKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgQ2Fyb3VzZWwgRHJhZ1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNhcm91c2VsRHJhZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDYXJvdXNlbERyYWcoZSkge1xuICAgICAgICB2YXIgeCA9IHZvaWQgMCxcbiAgICAgICAgICAgIHkgPSB2b2lkIDAsXG4gICAgICAgICAgICBkZWx0YSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGRlbHRhWSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgICAgIHggPSB0aGlzLl94cG9zKGUpO1xuICAgICAgICAgIHkgPSB0aGlzLl95cG9zKGUpO1xuICAgICAgICAgIGRlbHRhID0gdGhpcy5yZWZlcmVuY2UgLSB4O1xuICAgICAgICAgIGRlbHRhWSA9IE1hdGguYWJzKHRoaXMucmVmZXJlbmNlWSAtIHkpO1xuICAgICAgICAgIGlmIChkZWx0YVkgPCAzMCAmJiAhdGhpcy52ZXJ0aWNhbERyYWdnZWQpIHtcbiAgICAgICAgICAgIC8vIElmIHZlcnRpY2FsIHNjcm9sbGluZyBkb24ndCBhbGxvdyBkcmFnZ2luZy5cbiAgICAgICAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xuICAgICAgICAgICAgICB0aGlzLmRyYWdnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHg7XG4gICAgICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLm9mZnNldCArIGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAgICAgLy8gSWYgZHJhZ2dpbmcgZG9uJ3QgYWxsb3cgdmVydGljYWwgc2Nyb2xsLlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVmVydGljYWwgc2Nyb2xsaW5nLlxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgICAvLyBJZiBkcmFnZ2luZyBkb24ndCBhbGxvdyB2ZXJ0aWNhbCBzY3JvbGwuXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIENhcm91c2VsIFJlbGVhc2VcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aWNrZXIpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0O1xuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eSA+IDEwIHx8IHRoaXMudmVsb2NpdHkgPCAtMTApIHtcbiAgICAgICAgICB0aGlzLmFtcGxpdHVkZSA9IDAuOSAqIHRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldCArIHRoaXMuYW1wbGl0dWRlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gTWF0aC5yb3VuZCh0aGlzLnRhcmdldCAvIHRoaXMuZGltKSAqIHRoaXMuZGltO1xuXG4gICAgICAgIC8vIE5vIHdyYXAgb2YgaXRlbXMuXG4gICAgICAgIGlmICh0aGlzLm5vV3JhcCkge1xuICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA+PSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSkpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5kaW0gKiAodGhpcy5jb3VudCAtIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbEJvdW5kKTtcblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBDYXJvdXNlbCBDTGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUNhcm91c2VsQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQ2Fyb3VzZWxDbGljayhlKSB7XG4gICAgICAgIC8vIERpc2FibGUgY2xpY2tzIGlmIGNhcm91c2VsIHdhcyBkcmFnZ2VkLlxuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgdmFyIGNsaWNrZWRJbmRleCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jYXJvdXNlbC1pdGVtJykuaW5kZXgoKTtcbiAgICAgICAgICB2YXIgZGlmZiA9IHRoaXMuX3dyYXAodGhpcy5jZW50ZXIpIC0gY2xpY2tlZEluZGV4O1xuXG4gICAgICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIHNoaWZ0ZWQgYnkgY2xpY2tcbiAgICAgICAgICBpZiAoZGlmZiAhPT0gMCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fY3ljbGVUbyhjbGlja2VkSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIEluZGljYXRvciBDTGlja1xuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZUluZGljYXRvckNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUluZGljYXRvckNsaWNrKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICB2YXIgaW5kaWNhdG9yID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmluZGljYXRvci1pdGVtJyk7XG4gICAgICAgIGlmIChpbmRpY2F0b3IubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fY3ljbGVUbyhpbmRpY2F0b3IuaW5kZXgoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgVGhyb3R0bGUgUmVzaXplXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlUmVzaXplXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVJlc2l6ZShlKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmZpcnN0KCkuaW5uZXJXaWR0aCgpO1xuICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKS5oZWlnaHQoKTtcbiAgICAgICAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5jZW50ZXIgKiAyICogdGhpcy5pdGVtV2lkdGg7XG4gICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgICB0aGlzLl9zZXRDYXJvdXNlbEhlaWdodCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9zY3JvbGwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBjYXJvdXNlbCBoZWlnaHQgYmFzZWQgb24gZmlyc3Qgc2xpZGVcbiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbX0gaW1hZ2VPbmx5IC0gdHJ1ZSBmb3IgaW1hZ2Ugc2xpZGVzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0Q2Fyb3VzZWxIZWlnaHRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0Q2Fyb3VzZWxIZWlnaHQoaW1hZ2VPbmx5KSB7XG4gICAgICAgIHZhciBfdGhpczY1ID0gdGhpcztcblxuICAgICAgICB2YXIgZmlyc3RTbGlkZSA9IHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpLmxlbmd0aCA/IHRoaXMuJGVsLmZpbmQoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpLmZpcnN0KCkgOiB0aGlzLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLmZpcnN0KCk7XG4gICAgICAgIHZhciBmaXJzdEltYWdlID0gZmlyc3RTbGlkZS5maW5kKCdpbWcnKS5maXJzdCgpO1xuICAgICAgICBpZiAoZmlyc3RJbWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZmlyc3RJbWFnZVswXS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgLy8gSWYgaW1hZ2Ugd29uJ3QgdHJpZ2dlciB0aGUgbG9hZCBldmVudFxuICAgICAgICAgICAgdmFyIGltYWdlSGVpZ2h0ID0gZmlyc3RJbWFnZS5oZWlnaHQoKTtcbiAgICAgICAgICAgIGlmIChpbWFnZUhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKCdoZWlnaHQnLCBpbWFnZUhlaWdodCArICdweCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWYgaW1hZ2Ugc3RpbGwgaGFzIG5vIGhlaWdodCwgdXNlIHRoZSBuYXR1cmFsIGRpbWVuc2lvbnMgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBmaXJzdEltYWdlWzBdLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgICAgdmFyIG5hdHVyYWxIZWlnaHQgPSBmaXJzdEltYWdlWzBdLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICAgIHZhciBhZGp1c3RlZEhlaWdodCA9IHRoaXMuJGVsLndpZHRoKCkgLyBuYXR1cmFsV2lkdGggKiBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIGFkanVzdGVkSGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdldCBoZWlnaHQgd2hlbiBpbWFnZSBpcyBsb2FkZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIGZpcnN0SW1hZ2Uub25lKCdsb2FkJywgZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgICAgICAgICAgIF90aGlzNjUuJGVsLmNzcygnaGVpZ2h0JywgZWwub2Zmc2V0SGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWltYWdlT25seSkge1xuICAgICAgICAgIHZhciBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUuaGVpZ2h0KCk7XG4gICAgICAgICAgdGhpcy4kZWwuY3NzKCdoZWlnaHQnLCBzbGlkZUhlaWdodCArICdweCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHggcG9zaXRpb24gZnJvbSBldmVudFxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3hwb3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfeHBvcyhlKSB7XG4gICAgICAgIC8vIHRvdWNoIGV2ZW50XG4gICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgICAgcmV0dXJuIGUuY2xpZW50WDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgeSBwb3NpdGlvbiBmcm9tIGV2ZW50XG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfeXBvc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF95cG9zKGUpIHtcbiAgICAgICAgLy8gdG91Y2ggZXZlbnRcbiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgICByZXR1cm4gZS5jbGllbnRZO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFdyYXAgaW5kZXhcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfd3JhcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF93cmFwKHgpIHtcbiAgICAgICAgcmV0dXJuIHggPj0gdGhpcy5jb3VudCA/IHggJSB0aGlzLmNvdW50IDogeCA8IDAgPyB0aGlzLl93cmFwKHRoaXMuY291bnQgKyB4ICUgdGhpcy5jb3VudCkgOiB4O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRyYWNrcyBzY3JvbGxpbmcgaW5mb3JtYXRpb25cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl90cmFja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90cmFjaygpIHtcbiAgICAgICAgdmFyIG5vdyA9IHZvaWQgMCxcbiAgICAgICAgICAgIGVsYXBzZWQgPSB2b2lkIDAsXG4gICAgICAgICAgICBkZWx0YSA9IHZvaWQgMCxcbiAgICAgICAgICAgIHYgPSB2b2lkIDA7XG5cbiAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZWxhcHNlZCA9IG5vdyAtIHRoaXMudGltZXN0YW1wO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IG5vdztcbiAgICAgICAgZGVsdGEgPSB0aGlzLm9mZnNldCAtIHRoaXMuZnJhbWU7XG4gICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcblxuICAgICAgICB2ID0gMTAwMCAqIGRlbHRhIC8gKDEgKyBlbGFwc2VkKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDAuOCAqIHYgKyAwLjIgKiB0aGlzLnZlbG9jaXR5O1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEF1dG8gc2Nyb2xscyB0byBuZWFyZXN0IGNhcm91c2VsIGl0ZW0uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYXV0b1Njcm9sbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hdXRvU2Nyb2xsKCkge1xuICAgICAgICB2YXIgZWxhcHNlZCA9IHZvaWQgMCxcbiAgICAgICAgICAgIGRlbHRhID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFtcGxpdHVkZSkge1xuICAgICAgICAgIGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGhpcy50aW1lc3RhbXA7XG4gICAgICAgICAgZGVsdGEgPSB0aGlzLmFtcGxpdHVkZSAqIE1hdGguZXhwKC1lbGFwc2VkIC8gdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgICAgICBpZiAoZGVsdGEgPiAyIHx8IGRlbHRhIDwgLTIpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLnRhcmdldCAtIGRlbHRhKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsQm91bmQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy50YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCB0byB0YXJnZXRcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Njcm9sbCh4KSB7XG4gICAgICAgIHZhciBfdGhpczY2ID0gdGhpcztcblxuICAgICAgICAvLyBUcmFjayBzY3JvbGxpbmcgc3RhdGVcbiAgICAgICAgaWYgKCF0aGlzLiRlbC5oYXNDbGFzcygnc2Nyb2xsaW5nJykpIHtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjcm9sbGluZ1RpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zY3JvbGxpbmdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbGluZ1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM2Ni4kZWwucmVtb3ZlQ2xhc3MoJ3Njcm9sbGluZycpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuXG4gICAgICAgIC8vIFN0YXJ0IGFjdHVhbCBzY3JvbGxcbiAgICAgICAgdmFyIGkgPSB2b2lkIDAsXG4gICAgICAgICAgICBoYWxmID0gdm9pZCAwLFxuICAgICAgICAgICAgZGVsdGEgPSB2b2lkIDAsXG4gICAgICAgICAgICBkaXIgPSB2b2lkIDAsXG4gICAgICAgICAgICB0d2VlbiA9IHZvaWQgMCxcbiAgICAgICAgICAgIGVsID0gdm9pZCAwLFxuICAgICAgICAgICAgYWxpZ25tZW50ID0gdm9pZCAwLFxuICAgICAgICAgICAgelRyYW5zbGF0aW9uID0gdm9pZCAwLFxuICAgICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSB2b2lkIDAsXG4gICAgICAgICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGxhc3RDZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgdmFyIG51bVZpc2libGVPZmZzZXQgPSAxIC8gdGhpcy5vcHRpb25zLm51bVZpc2libGU7XG5cbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0eXBlb2YgeCA9PT0gJ251bWJlcicgPyB4IDogdGhpcy5vZmZzZXQ7XG4gICAgICAgIHRoaXMuY2VudGVyID0gTWF0aC5mbG9vcigodGhpcy5vZmZzZXQgKyB0aGlzLmRpbSAvIDIpIC8gdGhpcy5kaW0pO1xuICAgICAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5jZW50ZXIgKiB0aGlzLmRpbTtcbiAgICAgICAgZGlyID0gZGVsdGEgPCAwID8gMSA6IC0xO1xuICAgICAgICB0d2VlbiA9IC1kaXIgKiBkZWx0YSAqIDIgLyB0aGlzLmRpbTtcbiAgICAgICAgaGFsZiA9IHRoaXMuY291bnQgPj4gMTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxpZ25tZW50ID0gJ3RyYW5zbGF0ZVgoJyArICh0aGlzLmVsLmNsaWVudFdpZHRoIC0gdGhpcy5pdGVtV2lkdGgpIC8gMiArICdweCkgJztcbiAgICAgICAgICBhbGlnbm1lbnQgKz0gJ3RyYW5zbGF0ZVkoJyArICh0aGlzLmVsLmNsaWVudEhlaWdodCAtIHRoaXMuaXRlbUhlaWdodCkgLyAyICsgJ3B4KSc7XG4gICAgICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIHR3ZWVuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGluZGljYXRvciBhY3RpdmVcbiAgICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgICB2YXIgZGlmZiA9IHRoaXMuY2VudGVyICUgdGhpcy5jb3VudDtcbiAgICAgICAgICB2YXIgYWN0aXZlSW5kaWNhdG9yID0gdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuaW5kaWNhdG9yLWl0ZW0uYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUluZGljYXRvci5pbmRleCgpICE9PSBkaWZmKSB7XG4gICAgICAgICAgICBhY3RpdmVJbmRpY2F0b3IucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuaW5kaWNhdG9yLWl0ZW0nKS5lcShkaWZmKVswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjZW50ZXJcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgICAgICBpZiAoIXRoaXMubm9XcmFwIHx8IHRoaXMuY2VudGVyID49IDAgJiYgdGhpcy5jZW50ZXIgPCB0aGlzLmNvdW50KSB7XG4gICAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG5cbiAgICAgICAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIGNlbnRlciBpdGVtLlxuICAgICAgICAgIGlmICghJChlbCkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuY2Fyb3VzZWwtaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdHJhbnNmb3JtU3RyaW5nID0gYWxpZ25tZW50ICsgXCIgdHJhbnNsYXRlWChcIiArIC1kZWx0YSAvIDIgKyBcInB4KSB0cmFuc2xhdGVYKFwiICsgZGlyICogdGhpcy5vcHRpb25zLnNoaWZ0ICogdHdlZW4gKiBpICsgXCJweCkgdHJhbnNsYXRlWihcIiArIHRoaXMub3B0aW9ucy5kaXN0ICogdHdlZW4gKyBcInB4KVwiO1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgY2VudGVyVHdlZW5lZE9wYWNpdHksIDAsIHRyYW5zZm9ybVN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IGhhbGY7ICsraSkge1xuICAgICAgICAgIC8vIHJpZ2h0IHNpZGVcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IGkgPT09IGhhbGYgJiYgZGVsdGEgPCAwID8gMSAtIHR3ZWVuIDogMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XG4gICAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogKGkgKiAyICsgdHdlZW4gKiBkaXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCB0aGlzLmNlbnRlciArIGkgPCB0aGlzLmNvdW50KSB7XG4gICAgICAgICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIgKyBpKV07XG4gICAgICAgICAgICB2YXIgX3RyYW5zZm9ybVN0cmluZyA9IGFsaWdubWVudCArIFwiIHRyYW5zbGF0ZVgoXCIgKyAodGhpcy5vcHRpb25zLnNoaWZ0ICsgKHRoaXMuZGltICogaSAtIGRlbHRhKSAvIDIpICsgXCJweCkgdHJhbnNsYXRlWihcIiArIHpUcmFuc2xhdGlvbiArIFwicHgpXCI7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIHR3ZWVuZWRPcGFjaXR5LCAtaSwgX3RyYW5zZm9ybVN0cmluZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbGVmdCBzaWRlXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgICAgIHpUcmFuc2xhdGlvbiA9IHRoaXMub3B0aW9ucy5kaXN0O1xuICAgICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhID4gMCA/IDEgLSB0d2VlbiA6IDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHpUcmFuc2xhdGlvbiA9IHRoaXMub3B0aW9ucy5kaXN0ICogKGkgKiAyIC0gdHdlZW4gKiBkaXIpO1xuICAgICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgICAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgLSBpID49IDApIHtcbiAgICAgICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciAtIGkpXTtcbiAgICAgICAgICAgIHZhciBfdHJhbnNmb3JtU3RyaW5nMiA9IGFsaWdubWVudCArIFwiIHRyYW5zbGF0ZVgoXCIgKyAoLXRoaXMub3B0aW9ucy5zaGlmdCArICgtdGhpcy5kaW0gKiBpIC0gZGVsdGEpIC8gMikgKyBcInB4KSB0cmFuc2xhdGVaKFwiICsgelRyYW5zbGF0aW9uICsgXCJweClcIjtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgdHdlZW5lZE9wYWNpdHksIC1pLCBfdHJhbnNmb3JtU3RyaW5nMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2VudGVyXG4gICAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCB0aGlzLmNlbnRlciA+PSAwICYmIHRoaXMuY2VudGVyIDwgdGhpcy5jb3VudCkge1xuICAgICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuICAgICAgICAgIHZhciBfdHJhbnNmb3JtU3RyaW5nMyA9IGFsaWdubWVudCArIFwiIHRyYW5zbGF0ZVgoXCIgKyAtZGVsdGEgLyAyICsgXCJweCkgdHJhbnNsYXRlWChcIiArIGRpciAqIHRoaXMub3B0aW9ucy5zaGlmdCAqIHR3ZWVuICsgXCJweCkgdHJhbnNsYXRlWihcIiArIHRoaXMub3B0aW9ucy5kaXN0ICogdHdlZW4gKyBcInB4KVwiO1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgY2VudGVyVHdlZW5lZE9wYWNpdHksIDAsIF90cmFuc2Zvcm1TdHJpbmczKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9uQ3ljbGVUbyBjYWxsYmFja1xuICAgICAgICB2YXIgJGN1cnJJdGVtID0gdGhpcy4kZWwuZmluZCgnLmNhcm91c2VsLWl0ZW0nKS5lcSh0aGlzLl93cmFwKHRoaXMuY2VudGVyKSk7XG4gICAgICAgIGlmIChsYXN0Q2VudGVyICE9PSB0aGlzLmNlbnRlciAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ3ljbGVUbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkN5Y2xlVG8uY2FsbCh0aGlzLCAkY3Vyckl0ZW1bMF0sIHRoaXMuZHJhZ2dlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmUgdGltZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub25lVGltZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vbmVUaW1lQ2FsbGJhY2suY2FsbCh0aGlzLCAkY3Vyckl0ZW1bMF0sIHRoaXMuZHJhZ2dlZCk7XG4gICAgICAgICAgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3ljbGUgdG8gdGFyZ2V0XG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gb3BhY2l0eVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHpJbmRleFxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zZm9ybVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZUl0ZW1TdHlsZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVJdGVtU3R5bGUoZWwsIG9wYWNpdHksIHpJbmRleCwgdHJhbnNmb3JtKSB7XG4gICAgICAgIGVsLnN0eWxlW3RoaXMueGZvcm1dID0gdHJhbnNmb3JtO1xuICAgICAgICBlbC5zdHlsZS56SW5kZXggPSB6SW5kZXg7XG4gICAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEN5Y2xlIHRvIHRhcmdldFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY3ljbGVUb1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jeWNsZVRvKG4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkaWZmID0gdGhpcy5jZW50ZXIgJSB0aGlzLmNvdW50IC0gbjtcblxuICAgICAgICAvLyBBY2NvdW50IGZvciB3cmFwYXJvdW5kLlxuICAgICAgICBpZiAoIXRoaXMubm9XcmFwKSB7XG4gICAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZiArIHRoaXMuY291bnQpIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgICAgICAgZGlmZiArPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaWZmIC0gdGhpcy5jb3VudCkgPCBkaWZmKSB7XG4gICAgICAgICAgICAgIGRpZmYgLT0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGltICogTWF0aC5yb3VuZCh0aGlzLm9mZnNldCAvIHRoaXMuZGltKTtcbiAgICAgICAgLy8gTmV4dFxuICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCArPSB0aGlzLmRpbSAqIE1hdGguYWJzKGRpZmYpO1xuXG4gICAgICAgICAgLy8gUHJldlxuICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgdGhpcy50YXJnZXQgLT0gdGhpcy5kaW0gKiBkaWZmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IG9uZSB0aW1lIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2Nyb2xsXG4gICAgICAgIGlmICh0aGlzLm9mZnNldCAhPT0gdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICB0aGlzLmFtcGxpdHVkZSA9IHRoaXMudGFyZ2V0IC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsQm91bmQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3ljbGUgdG8gbmV4dCBpdGVtXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gW25dXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJuZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dChuKSB7XG4gICAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgICBuID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2VudGVyICsgbjtcbiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuY291bnQgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMubm9XcmFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5kZXggPSB0aGlzLl93cmFwKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDeWNsZSB0byBwcmV2aW91cyBpdGVtXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gW25dXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJwcmV2XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJldihuKSB7XG4gICAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgICBuID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2VudGVyIC0gbjtcbiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuY291bnQgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMubm9XcmFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5kZXggPSB0aGlzLl93cmFwKGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2N5Y2xlVG8oaW5kZXgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEN5Y2xlIHRvIG50aCBpdGVtXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gW25dXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KG4sIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgICBuID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuID4gdGhpcy5jb3VudCB8fCBuIDwgMCkge1xuICAgICAgICAgIGlmICh0aGlzLm5vV3JhcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG4gPSB0aGlzLl93cmFwKG4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3ljbGVUbyhuLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KENhcm91c2VsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2Fyb3VzZWwpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9DYXJvdXNlbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYXJvdXNlbDtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uQ2Fyb3VzZWwgPSBDYXJvdXNlbDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENhcm91c2VsLCAnY2Fyb3VzZWwnLCAnTV9DYXJvdXNlbCcpO1xuICB9XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7XG4gICAgb25PcGVuOiB1bmRlZmluZWQsXG4gICAgb25DbG9zZTogdW5kZWZpbmVkXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgVGFwVGFyZ2V0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQxOSkge1xuICAgIF9pbmhlcml0cyhUYXBUYXJnZXQsIF9Db21wb25lbnQxOSk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgVGFwVGFyZ2V0IGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGFwVGFyZ2V0KGVsLCBvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFwVGFyZ2V0KTtcblxuICAgICAgdmFyIF90aGlzNjcgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFwVGFyZ2V0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFwVGFyZ2V0KSkuY2FsbCh0aGlzLCBUYXBUYXJnZXQsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNjcuZWwuTV9UYXBUYXJnZXQgPSBfdGhpczY3O1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBzZWxlY3RcbiAgICAgICAqIEBtZW1iZXIgVGFwVGFyZ2V0I29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuIC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gZmVhdHVyZSBkaXNjb3ZlcnkgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2UgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiBmZWF0dXJlIGRpc2NvdmVyeSBpcyBjbG9zZWRcbiAgICAgICAqL1xuICAgICAgX3RoaXM2Ny5vcHRpb25zID0gJC5leHRlbmQoe30sIFRhcFRhcmdldC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNjcuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgIC8vIHNldHVwXG4gICAgICBfdGhpczY3LiRvcmlnaW4gPSAkKCcjJyArIF90aGlzNjcuJGVsLmF0dHIoJ2RhdGEtdGFyZ2V0JykpO1xuICAgICAgX3RoaXM2Ny5fc2V0dXAoKTtcblxuICAgICAgX3RoaXM2Ny5fY2FsY3VsYXRlUG9zaXRpb25pbmcoKTtcbiAgICAgIF90aGlzNjcuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzNjc7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhcFRhcmdldCwgW3tcbiAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5lbC5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVRhcmdldENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVUYXJnZXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVPcmlnaW5DbGlja0JvdW5kID0gdGhpcy5faGFuZGxlT3JpZ2luQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMub3JpZ2luRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPcmlnaW5DbGlja0JvdW5kKTtcblxuICAgICAgICAvLyBSZXNpemVcbiAgICAgICAgdmFyIHRocm90dGxlZFJlc2l6ZSA9IE0udGhyb3R0bGUodGhpcy5faGFuZGxlUmVzaXplLCAyMDApO1xuICAgICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCA9IHRocm90dGxlZFJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCk7XG4gICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPcmlnaW5DbGlja0JvdW5kKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgVGFyZ2V0IENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlVGFyZ2V0Q2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVGFyZ2V0Q2xpY2soZSkge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgT3JpZ2luIENsaWNrXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlT3JpZ2luQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlT3JpZ2luQ2xpY2soZSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFJlc2l6ZVxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVJlc2l6ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVSZXNpemUoZSkge1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVQb3NpdGlvbmluZygpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBSZXNpemVcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVEb2N1bWVudENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURvY3VtZW50Q2xpY2soZSkge1xuICAgICAgICBpZiAoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy50YXAtdGFyZ2V0LXdyYXBwZXInKS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBUYXAgVGFyZ2V0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXAoKSB7XG4gICAgICAgIC8vIENyZWF0aW5nIHRhcCB0YXJnZXRcbiAgICAgICAgdGhpcy53cmFwcGVyID0gdGhpcy4kZWwucGFyZW50KClbMF07XG4gICAgICAgIHRoaXMud2F2ZUVsID0gJCh0aGlzLndyYXBwZXIpLmZpbmQoJy50YXAtdGFyZ2V0LXdhdmUnKVswXTtcbiAgICAgICAgdGhpcy5vcmlnaW5FbCA9ICQodGhpcy53cmFwcGVyKS5maW5kKCcudGFwLXRhcmdldC1vcmlnaW4nKVswXTtcbiAgICAgICAgdGhpcy5jb250ZW50RWwgPSB0aGlzLiRlbC5maW5kKCcudGFwLXRhcmdldC1jb250ZW50JylbMF07XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgd3JhcHBlclxuICAgICAgICBpZiAoISQodGhpcy53cmFwcGVyKS5oYXNDbGFzcygnLnRhcC10YXJnZXQtd3JhcHBlcicpKSB7XG4gICAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtd3JhcHBlcicpO1xuICAgICAgICAgIHRoaXMuJGVsLmJlZm9yZSgkKHRoaXMud3JhcHBlcikpO1xuICAgICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGluZyBjb250ZW50XG4gICAgICAgIGlmICghdGhpcy5jb250ZW50RWwpIHtcbiAgICAgICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHRoaXMuY29udGVudEVsLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtY29udGVudCcpO1xuICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLmNvbnRlbnRFbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGluZyBmb3JlZ3JvdW5kIHdhdmVcbiAgICAgICAgaWYgKCF0aGlzLndhdmVFbCkge1xuICAgICAgICAgIHRoaXMud2F2ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdGhpcy53YXZlRWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC13YXZlJyk7XG5cbiAgICAgICAgICAvLyBDcmVhdGluZyBvcmlnaW5cbiAgICAgICAgICBpZiAoIXRoaXMub3JpZ2luRWwpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luRWwgPSB0aGlzLiRvcmlnaW4uY2xvbmUodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbkVsLmFkZENsYXNzKCd0YXAtdGFyZ2V0LW9yaWdpbicpO1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVBdHRyKCdpZCcpO1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5FbCA9IHRoaXMub3JpZ2luRWxbMF07XG4gICAgICAgICAgICB0aGlzLndhdmVFbC5hcHBlbmQodGhpcy5vcmlnaW5FbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLndhdmVFbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxjdWxhdGUgcG9zaXRpb25pbmdcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9jYWxjdWxhdGVQb3NpdGlvbmluZ1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYWxjdWxhdGVQb3NpdGlvbmluZygpIHtcbiAgICAgICAgLy8gRWxlbWVudCBvciBwYXJlbnQgaXMgZml4ZWQgcG9zaXRpb24/XG4gICAgICAgIHZhciBpc0ZpeGVkID0gdGhpcy4kb3JpZ2luLmNzcygncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJztcbiAgICAgICAgaWYgKCFpc0ZpeGVkKSB7XG4gICAgICAgICAgdmFyIHBhcmVudHMgPSB0aGlzLiRvcmlnaW4ucGFyZW50cygpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXNGaXhlZCA9ICQocGFyZW50c1tpXSkuY3NzKCdwb3NpdGlvbicpID09ICdmaXhlZCc7XG4gICAgICAgICAgICBpZiAoaXNGaXhlZCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGluZyBvcmlnaW5cbiAgICAgICAgdmFyIG9yaWdpbldpZHRoID0gdGhpcy4kb3JpZ2luLm91dGVyV2lkdGgoKTtcbiAgICAgICAgdmFyIG9yaWdpbkhlaWdodCA9IHRoaXMuJG9yaWdpbi5vdXRlckhlaWdodCgpO1xuICAgICAgICB2YXIgb3JpZ2luVG9wID0gaXNGaXhlZCA/IHRoaXMuJG9yaWdpbi5vZmZzZXQoKS50b3AgLSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgOiB0aGlzLiRvcmlnaW4ub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgb3JpZ2luTGVmdCA9IGlzRml4ZWQgPyB0aGlzLiRvcmlnaW4ub2Zmc2V0KCkubGVmdCAtIE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCkgOiB0aGlzLiRvcmlnaW4ub2Zmc2V0KCkubGVmdDtcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyBzY3JlZW5cbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciBjZW50ZXJYID0gd2luZG93V2lkdGggLyAyO1xuICAgICAgICB2YXIgY2VudGVyWSA9IHdpbmRvd0hlaWdodCAvIDI7XG4gICAgICAgIHZhciBpc0xlZnQgPSBvcmlnaW5MZWZ0IDw9IGNlbnRlclg7XG4gICAgICAgIHZhciBpc1JpZ2h0ID0gb3JpZ2luTGVmdCA+IGNlbnRlclg7XG4gICAgICAgIHZhciBpc1RvcCA9IG9yaWdpblRvcCA8PSBjZW50ZXJZO1xuICAgICAgICB2YXIgaXNCb3R0b20gPSBvcmlnaW5Ub3AgPiBjZW50ZXJZO1xuICAgICAgICB2YXIgaXNDZW50ZXJYID0gb3JpZ2luTGVmdCA+PSB3aW5kb3dXaWR0aCAqIDAuMjUgJiYgb3JpZ2luTGVmdCA8PSB3aW5kb3dXaWR0aCAqIDAuNzU7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgdGFwIHRhcmdldFxuICAgICAgICB2YXIgdGFwVGFyZ2V0V2lkdGggPSB0aGlzLiRlbC5vdXRlcldpZHRoKCk7XG4gICAgICAgIHZhciB0YXBUYXJnZXRIZWlnaHQgPSB0aGlzLiRlbC5vdXRlckhlaWdodCgpO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0VG9wID0gb3JpZ2luVG9wICsgb3JpZ2luSGVpZ2h0IC8gMiAtIHRhcFRhcmdldEhlaWdodCAvIDI7XG4gICAgICAgIHZhciB0YXBUYXJnZXRMZWZ0ID0gb3JpZ2luTGVmdCArIG9yaWdpbldpZHRoIC8gMiAtIHRhcFRhcmdldFdpZHRoIC8gMjtcbiAgICAgICAgdmFyIHRhcFRhcmdldFBvc2l0aW9uID0gaXNGaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnO1xuXG4gICAgICAgIC8vIENhbGN1bGF0aW5nIGNvbnRlbnRcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRXaWR0aCA9IGlzQ2VudGVyWCA/IHRhcFRhcmdldFdpZHRoIDogdGFwVGFyZ2V0V2lkdGggLyAyICsgb3JpZ2luV2lkdGg7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUZXh0SGVpZ2h0ID0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRUb3AgPSBpc1RvcCA/IHRhcFRhcmdldEhlaWdodCAvIDIgOiAwO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0VGV4dEJvdHRvbSA9IDA7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUZXh0TGVmdCA9IGlzTGVmdCAmJiAhaXNDZW50ZXJYID8gdGFwVGFyZ2V0V2lkdGggLyAyIC0gb3JpZ2luV2lkdGggOiAwO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0VGV4dFJpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRhcFRhcmdldFRleHRQYWRkaW5nID0gb3JpZ2luV2lkdGg7XG4gICAgICAgIHZhciB0YXBUYXJnZXRUZXh0QWxpZ24gPSBpc0JvdHRvbSA/ICdib3R0b20nIDogJ3RvcCc7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpbmcgd2F2ZVxuICAgICAgICB2YXIgdGFwVGFyZ2V0V2F2ZVdpZHRoID0gb3JpZ2luV2lkdGggPiBvcmlnaW5IZWlnaHQgPyBvcmlnaW5XaWR0aCAqIDIgOiBvcmlnaW5XaWR0aCAqIDI7XG4gICAgICAgIHZhciB0YXBUYXJnZXRXYXZlSGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZVdpZHRoO1xuICAgICAgICB2YXIgdGFwVGFyZ2V0V2F2ZVRvcCA9IHRhcFRhcmdldEhlaWdodCAvIDIgLSB0YXBUYXJnZXRXYXZlSGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIHRhcFRhcmdldFdhdmVMZWZ0ID0gdGFwVGFyZ2V0V2lkdGggLyAyIC0gdGFwVGFyZ2V0V2F2ZVdpZHRoIC8gMjtcblxuICAgICAgICAvLyBTZXR0aW5nIHRhcCB0YXJnZXRcbiAgICAgICAgdmFyIHRhcFRhcmdldFdyYXBwZXJDc3NPYmogPSB7fTtcbiAgICAgICAgdGFwVGFyZ2V0V3JhcHBlckNzc09iai50b3AgPSBpc1RvcCA/IHRhcFRhcmdldFRvcCArICdweCcgOiAnJztcbiAgICAgICAgdGFwVGFyZ2V0V3JhcHBlckNzc09iai5yaWdodCA9IGlzUmlnaHQgPyB3aW5kb3dXaWR0aCAtIHRhcFRhcmdldExlZnQgLSB0YXBUYXJnZXRXaWR0aCArICdweCcgOiAnJztcbiAgICAgICAgdGFwVGFyZ2V0V3JhcHBlckNzc09iai5ib3R0b20gPSBpc0JvdHRvbSA/IHdpbmRvd0hlaWdodCAtIHRhcFRhcmdldFRvcCAtIHRhcFRhcmdldEhlaWdodCArICdweCcgOiAnJztcbiAgICAgICAgdGFwVGFyZ2V0V3JhcHBlckNzc09iai5sZWZ0ID0gaXNMZWZ0ID8gdGFwVGFyZ2V0TGVmdCArICdweCcgOiAnJztcbiAgICAgICAgdGFwVGFyZ2V0V3JhcHBlckNzc09iai5wb3NpdGlvbiA9IHRhcFRhcmdldFBvc2l0aW9uO1xuICAgICAgICAkKHRoaXMud3JhcHBlcikuY3NzKHRhcFRhcmdldFdyYXBwZXJDc3NPYmopO1xuXG4gICAgICAgIC8vIFNldHRpbmcgY29udGVudFxuICAgICAgICAkKHRoaXMuY29udGVudEVsKS5jc3Moe1xuICAgICAgICAgIHdpZHRoOiB0YXBUYXJnZXRUZXh0V2lkdGggKyAncHgnLFxuICAgICAgICAgIGhlaWdodDogdGFwVGFyZ2V0VGV4dEhlaWdodCArICdweCcsXG4gICAgICAgICAgdG9wOiB0YXBUYXJnZXRUZXh0VG9wICsgJ3B4JyxcbiAgICAgICAgICByaWdodDogdGFwVGFyZ2V0VGV4dFJpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICBib3R0b206IHRhcFRhcmdldFRleHRCb3R0b20gKyAncHgnLFxuICAgICAgICAgIGxlZnQ6IHRhcFRhcmdldFRleHRMZWZ0ICsgJ3B4JyxcbiAgICAgICAgICBwYWRkaW5nOiB0YXBUYXJnZXRUZXh0UGFkZGluZyArICdweCcsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogdGFwVGFyZ2V0VGV4dEFsaWduXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldHRpbmcgd2F2ZVxuICAgICAgICAkKHRoaXMud2F2ZUVsKS5jc3Moe1xuICAgICAgICAgIHRvcDogdGFwVGFyZ2V0V2F2ZVRvcCArICdweCcsXG4gICAgICAgICAgbGVmdDogdGFwVGFyZ2V0V2F2ZUxlZnQgKyAncHgnLFxuICAgICAgICAgIHdpZHRoOiB0YXBUYXJnZXRXYXZlV2lkdGggKyAncHgnLFxuICAgICAgICAgIGhlaWdodDogdGFwVGFyZ2V0V2F2ZUhlaWdodCArICdweCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogT3BlbiBUYXBUYXJnZXRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIm9wZW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbk9wZW4gY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3Blbi5jYWxsKHRoaXMsIHRoaXMuJG9yaWdpblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENsb3NlIFRhcCBUYXJnZXRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsb3NlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbkNsb3NlIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMsIHRoaXMuJG9yaWdpblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQoVGFwVGFyZ2V0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFwVGFyZ2V0KSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fVGFwVGFyZ2V0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0c1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRhcFRhcmdldDtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uVGFwVGFyZ2V0ID0gVGFwVGFyZ2V0O1xuXG4gIGlmIChNLmpRdWVyeUxvYWRlZCkge1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVGFwVGFyZ2V0LCAndGFwVGFyZ2V0JywgJ01fVGFwVGFyZ2V0Jyk7XG4gIH1cbn0pKGNhc2gpO1xuOyhmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF9kZWZhdWx0cyA9IHtcbiAgICBjbGFzc2VzOiAnJyxcbiAgICBkcm9wZG93bk9wdGlvbnM6IHt9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cblxuICB2YXIgRm9ybVNlbGVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MjApIHtcbiAgICBfaW5oZXJpdHMoRm9ybVNlbGVjdCwgX0NvbXBvbmVudDIwKTtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBGb3JtU2VsZWN0IGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gRm9ybVNlbGVjdChlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1TZWxlY3QpO1xuXG4gICAgICAvLyBEb24ndCBpbml0IGlmIGJyb3dzZXIgZGVmYXVsdCB2ZXJzaW9uXG4gICAgICB2YXIgX3RoaXM2OCA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGb3JtU2VsZWN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9ybVNlbGVjdCkpLmNhbGwodGhpcywgRm9ybVNlbGVjdCwgZWwsIG9wdGlvbnMpKTtcblxuICAgICAgaWYgKF90aGlzNjguJGVsLmhhc0NsYXNzKCdicm93c2VyLWRlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXM2OCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzNjguZWwuTV9Gb3JtU2VsZWN0ID0gX3RoaXM2ODtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgc2VsZWN0XG4gICAgICAgKiBAbWVtYmVyIEZvcm1TZWxlY3Qjb3B0aW9uc1xuICAgICAgICovXG4gICAgICBfdGhpczY4Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRm9ybVNlbGVjdC5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIF90aGlzNjguaXNNdWx0aXBsZSA9IF90aGlzNjguJGVsLnByb3AoJ211bHRpcGxlJyk7XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICBfdGhpczY4LmVsLnRhYkluZGV4ID0gLTE7XG4gICAgICBfdGhpczY4Ll9rZXlzU2VsZWN0ZWQgPSB7fTtcbiAgICAgIF90aGlzNjguX3ZhbHVlRGljdCA9IHt9OyAvLyBNYXBzIGtleSB0byBvcmlnaW5hbCBhbmQgZ2VuZXJhdGVkIG9wdGlvbiBlbGVtZW50LlxuICAgICAgX3RoaXM2OC5fc2V0dXBEcm9wZG93bigpO1xuXG4gICAgICBfdGhpczY4Ll9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHJldHVybiBfdGhpczY4O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhGb3JtU2VsZWN0LCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICAgICB0aGlzLmVsLk1fRm9ybVNlbGVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAgIHZhciBfdGhpczY5ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2VCb3VuZCA9IHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVPcHRpb25DbGlja0JvdW5kID0gdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmZpbmQoJ2xpOm5vdCgub3B0Z3JvdXApJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzNjkuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2VCb3VuZCk7XG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZUV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgdmFyIF90aGlzNzAgPSB0aGlzO1xuXG4gICAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmZpbmQoJ2xpOm5vdCgub3B0Z3JvdXApJykuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzNzAuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2VCb3VuZCk7XG4gICAgICAgIHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBTZWxlY3QgQ2hhbmdlXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlU2VsZWN0Q2hhbmdlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNlbGVjdENoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEhhbmRsZSBPcHRpb24gQ2xpY2tcbiAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVPcHRpb25DbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVPcHRpb25DbGljayhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG9wdGlvbiA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJylbMF07XG4gICAgICAgIHZhciBrZXkgPSBvcHRpb24uaWQ7XG4gICAgICAgIGlmICghJChvcHRpb24pLmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICEkKG9wdGlvbikuaGFzQ2xhc3MoJ29wdGdyb3VwJykgJiYga2V5Lmxlbmd0aCkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICAvLyBEZXNlbGVjdCBwbGFjZWhvbGRlciBvcHRpb24gaWYgc3RpbGwgc2VsZWN0ZWQuXG4gICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXJPcHRpb24gPSAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5maW5kKCdsaS5kaXNhYmxlZC5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyT3B0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICBwbGFjZWhvbGRlck9wdGlvbi5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXJPcHRpb24uZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRW50cnlGcm9tQXJyYXkocGxhY2Vob2xkZXJPcHRpb25bMF0uaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0ZWQgPSB0aGlzLl90b2dnbGVFbnRyeUZyb21BcnJheShrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgJChvcHRpb24pLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcsIHNlbGVjdGVkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZXQgc2VsZWN0ZWQgb24gb3JpZ2luYWwgc2VsZWN0IG9wdGlvblxuICAgICAgICAgIC8vIE9ubHkgdHJpZ2dlciBpZiBzZWxlY3RlZCBzdGF0ZSBjaGFuZ2VkXG4gICAgICAgICAgdmFyIHByZXZTZWxlY3RlZCA9ICQodGhpcy5fdmFsdWVEaWN0W2tleV0uZWwpLnByb3AoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgaWYgKHByZXZTZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICQodGhpcy5fdmFsdWVEaWN0W2tleV0uZWwpLnByb3AoJ3NlbGVjdGVkJywgc2VsZWN0ZWQpO1xuICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgSW5wdXQgQ2xpY2tcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVJbnB1dENsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUlucHV0Q2xpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmRyb3Bkb3duICYmIHRoaXMuZHJvcGRvd24uaXNPcGVuKSB7XG4gICAgICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG4gICAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0ZXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0dXBEcm9wZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cERyb3Bkb3duKCkge1xuICAgICAgICB2YXIgX3RoaXM3MSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICQodGhpcy53cmFwcGVyKS5hZGRDbGFzcygnc2VsZWN0LXdyYXBwZXIgJyArIHRoaXMub3B0aW9ucy5jbGFzc2VzKTtcbiAgICAgICAgdGhpcy4kZWwuYmVmb3JlKCQodGhpcy53cmFwcGVyKSk7XG4gICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcblxuICAgICAgICBpZiAodGhpcy5lbC5kaXNhYmxlZCkge1xuICAgICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGRyb3Bkb3duXG4gICAgICAgIHRoaXMuJHNlbGVjdE9wdGlvbnMgPSB0aGlzLiRlbC5jaGlsZHJlbignb3B0aW9uLCBvcHRncm91cCcpO1xuICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLmlkID0gXCJzZWxlY3Qtb3B0aW9ucy1cIiArIE0uZ3VpZCgpO1xuICAgICAgICAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5hZGRDbGFzcygnZHJvcGRvd24tY29udGVudCBzZWxlY3QtZHJvcGRvd24gJyArICh0aGlzLmlzTXVsdGlwbGUgPyAnbXVsdGlwbGUtc2VsZWN0LWRyb3Bkb3duJyA6ICcnKSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGRyb3Bkb3duIHN0cnVjdHVyZS5cbiAgICAgICAgaWYgKHRoaXMuJHNlbGVjdE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kc2VsZWN0T3B0aW9ucy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKCQoZWwpLmlzKCdvcHRpb24nKSkge1xuICAgICAgICAgICAgICAvLyBEaXJlY3QgZGVzY2VuZGFudCBvcHRpb24uXG4gICAgICAgICAgICAgIHZhciBvcHRpb25FbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgaWYgKF90aGlzNzEuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbkVsID0gX3RoaXM3MS5fYXBwZW5kT3B0aW9uV2l0aEljb24oX3RoaXM3MS4kZWwsIGVsLCAnbXVsdGlwbGUnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25FbCA9IF90aGlzNzEuX2FwcGVuZE9wdGlvbldpdGhJY29uKF90aGlzNzEuJGVsLCBlbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpczcxLl9hZGRPcHRpb25Ub1ZhbHVlRGljdChlbCwgb3B0aW9uRWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkKGVsKS5pcygnb3B0Z3JvdXAnKSkge1xuICAgICAgICAgICAgICAvLyBPcHRncm91cC5cbiAgICAgICAgICAgICAgdmFyIHNlbGVjdE9wdGlvbnMgPSAkKGVsKS5jaGlsZHJlbignb3B0aW9uJyk7XG4gICAgICAgICAgICAgICQoX3RoaXM3MS5kcm9wZG93bk9wdGlvbnMpLmFwcGVuZCgkKCc8bGkgY2xhc3M9XCJvcHRncm91cFwiPjxzcGFuPicgKyBlbC5nZXRBdHRyaWJ1dGUoJ2xhYmVsJykgKyAnPC9zcGFuPjwvbGk+JylbMF0pO1xuXG4gICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWwgPSBfdGhpczcxLl9hcHBlbmRPcHRpb25XaXRoSWNvbihfdGhpczcxLiRlbCwgZWwsICdvcHRncm91cC1vcHRpb24nKTtcbiAgICAgICAgICAgICAgICBfdGhpczcxLl9hZGRPcHRpb25Ub1ZhbHVlRGljdChlbCwgb3B0aW9uRWwpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGVsLmFmdGVyKHRoaXMuZHJvcGRvd25PcHRpb25zKTtcblxuICAgICAgICAvLyBBZGQgaW5wdXQgZHJvcGRvd25cbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICQodGhpcy5pbnB1dCkuYWRkQ2xhc3MoJ3NlbGVjdC1kcm9wZG93biBkcm9wZG93bi10cmlnZ2VyJyk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JywgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgICAgICBpZiAodGhpcy5lbC5kaXNhYmxlZCkge1xuICAgICAgICAgICQodGhpcy5pbnB1dCkucHJvcCgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kZWwuYmVmb3JlKHRoaXMuaW5wdXQpO1xuICAgICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcblxuICAgICAgICAvLyBBZGQgY2FyZXRcbiAgICAgICAgdmFyIGRyb3Bkb3duSWNvbiA9ICQoJzxzdmcgY2xhc3M9XCJjYXJldFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDEwbDUgNSA1LTV6XCIvPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+Jyk7XG4gICAgICAgIHRoaXMuJGVsLmJlZm9yZShkcm9wZG93bkljb25bMF0pO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICAgICAgaWYgKCF0aGlzLmVsLmRpc2FibGVkKSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMuZHJvcGRvd25PcHRpb25zKTtcblxuICAgICAgICAgIC8vIEFkZCBjYWxsYmFjayBmb3IgY2VudGVyaW5nIHNlbGVjdGVkIG9wdGlvbiB3aGVuIGRyb3Bkb3duIGNvbnRlbnQgaXMgc2Nyb2xsYWJsZVxuICAgICAgICAgIGRyb3Bkb3duT3B0aW9ucy5vbk9wZW5FbmQgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9ICQoX3RoaXM3MS5kcm9wZG93bk9wdGlvbnMpLmZpbmQoJy5zZWxlY3RlZCcpLmZpcnN0KCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gRm9jdXMgc2VsZWN0ZWQgb3B0aW9uIGluIGRyb3Bkb3duXG4gICAgICAgICAgICAgIE0ua2V5RG93biA9IHRydWU7XG4gICAgICAgICAgICAgIF90aGlzNzEuZHJvcGRvd24uZm9jdXNlZEluZGV4ID0gc2VsZWN0ZWRPcHRpb24uaW5kZXgoKTtcbiAgICAgICAgICAgICAgX3RoaXM3MS5kcm9wZG93bi5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICAgICAgICBNLmtleURvd24gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAvLyBIYW5kbGUgc2Nyb2xsaW5nIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgICBpZiAoX3RoaXM3MS5kcm9wZG93bi5pc1Njcm9sbGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gc2VsZWN0ZWRPcHRpb25bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gX3RoaXM3MS5kcm9wZG93bk9wdGlvbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOyAvLyBzY3JvbGwgdG8gc2VsZWN0ZWQgb3B0aW9uXG4gICAgICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0IC09IF90aGlzNzEuZHJvcGRvd25PcHRpb25zLmNsaWVudEhlaWdodCAvIDI7IC8vIGNlbnRlciBpbiBkcm9wZG93blxuICAgICAgICAgICAgICAgIF90aGlzNzEuZHJvcGRvd25PcHRpb25zLnNjcm9sbFRvcCA9IHNjcm9sbE9mZnNldDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICBkcm9wZG93bk9wdGlvbnMuY2xvc2VPbkNsaWNrID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5pbnB1dCwgZHJvcGRvd25PcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBpbml0aWFsIHNlbGVjdGlvbnNcbiAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0ZXMoKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgb3B0aW9uIHRvIHZhbHVlIGRpY3RcbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgIG9yaWdpbmFsIG9wdGlvbiBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG9wdGlvbkVsICBnZW5lcmF0ZWQgb3B0aW9uIGVsZW1lbnRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9hZGRPcHRpb25Ub1ZhbHVlRGljdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRPcHRpb25Ub1ZhbHVlRGljdChlbCwgb3B0aW9uRWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gT2JqZWN0LmtleXModGhpcy5fdmFsdWVEaWN0KS5sZW5ndGg7XG4gICAgICAgIHZhciBrZXkgPSB0aGlzLmRyb3Bkb3duT3B0aW9ucy5pZCArIGluZGV4O1xuICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgIG9wdGlvbkVsLmlkID0ga2V5O1xuXG4gICAgICAgIG9iai5lbCA9IGVsO1xuICAgICAgICBvYmoub3B0aW9uRWwgPSBvcHRpb25FbDtcbiAgICAgICAgdGhpcy5fdmFsdWVEaWN0W2tleV0gPSBvYmo7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIGRyb3Bkb3duXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRHJvcGRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlRHJvcGRvd24oKSB7XG4gICAgICAgICQodGhpcy53cmFwcGVyKS5maW5kKCcuY2FyZXQnKS5yZW1vdmUoKTtcbiAgICAgICAgJCh0aGlzLmlucHV0KS5yZW1vdmUoKTtcbiAgICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucykucmVtb3ZlKCk7XG4gICAgICAgICQodGhpcy53cmFwcGVyKS5iZWZvcmUodGhpcy4kZWwpO1xuICAgICAgICAkKHRoaXMud3JhcHBlcikucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgZHJvcGRvd25cbiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gc2VsZWN0ICBzZWxlY3QgZWxlbWVudFxuICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBvcHRpb24gIG9wdGlvbiBlbGVtZW50IGZyb20gc2VsZWN0XG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAgICogQHJldHVybiB7RWxlbWVudH0gIG9wdGlvbiBlbGVtZW50IGFkZGVkXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYXBwZW5kT3B0aW9uV2l0aEljb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kT3B0aW9uV2l0aEljb24oc2VsZWN0LCBvcHRpb24sIHR5cGUpIHtcbiAgICAgICAgLy8gQWRkIGRpc2FibGVkIGF0dHIgaWYgZGlzYWJsZWRcbiAgICAgICAgdmFyIGRpc2FibGVkQ2xhc3MgPSBvcHRpb24uZGlzYWJsZWQgPyAnZGlzYWJsZWQgJyA6ICcnO1xuICAgICAgICB2YXIgb3B0Z3JvdXBDbGFzcyA9IHR5cGUgPT09ICdvcHRncm91cC1vcHRpb24nID8gJ29wdGdyb3VwLW9wdGlvbiAnIDogJyc7XG4gICAgICAgIHZhciBtdWx0aXBsZUNoZWNrYm94ID0gdGhpcy5pc011bHRpcGxlID8gXCI8bGFiZWw+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIlwiICsgZGlzYWJsZWRDbGFzcyArIFwiXFxcIi8+PHNwYW4+XCIgKyBvcHRpb24uaW5uZXJIVE1MICsgXCI8L3NwYW4+PC9sYWJlbD5cIiA6IG9wdGlvbi5pbm5lckhUTUw7XG4gICAgICAgIHZhciBsaUVsID0gJCgnPGxpPjwvbGk+Jyk7XG4gICAgICAgIHZhciBzcGFuRWwgPSAkKCc8c3Bhbj48L3NwYW4+Jyk7XG4gICAgICAgIHNwYW5FbC5odG1sKG11bHRpcGxlQ2hlY2tib3gpO1xuICAgICAgICBsaUVsLmFkZENsYXNzKGRpc2FibGVkQ2xhc3MgKyBcIiBcIiArIG9wdGdyb3VwQ2xhc3MpO1xuICAgICAgICBsaUVsLmFwcGVuZChzcGFuRWwpO1xuXG4gICAgICAgIC8vIGFkZCBpY29uc1xuICAgICAgICB2YXIgaWNvblVybCA9IG9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWNvbicpO1xuICAgICAgICBpZiAoISFpY29uVXJsKSB7XG4gICAgICAgICAgdmFyIGltZ0VsID0gJChcIjxpbWcgYWx0PVxcXCJcXFwiIHNyYz1cXFwiXCIgKyBpY29uVXJsICsgXCJcXFwiPlwiKTtcbiAgICAgICAgICBsaUVsLnByZXBlbmQoaW1nRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHR5cGUuXG4gICAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmFwcGVuZChsaUVsWzBdKTtcbiAgICAgICAgcmV0dXJuIGxpRWxbMF07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVG9nZ2xlIGVudHJ5IGZyb20gb3B0aW9uXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5ICBPcHRpb24ga2V5XG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgaWYgZW50cnkgd2FzIGFkZGVkIG9yIHJlbW92ZWRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl90b2dnbGVFbnRyeUZyb21BcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF90b2dnbGVFbnRyeUZyb21BcnJheShrZXkpIHtcbiAgICAgICAgdmFyIG5vdEFkZGVkID0gIXRoaXMuX2tleXNTZWxlY3RlZC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgICB2YXIgJG9wdGlvbkxpID0gJCh0aGlzLl92YWx1ZURpY3Rba2V5XS5vcHRpb25FbCk7XG5cbiAgICAgICAgaWYgKG5vdEFkZGVkKSB7XG4gICAgICAgICAgdGhpcy5fa2V5c1NlbGVjdGVkW2tleV0gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLl9rZXlzU2VsZWN0ZWRba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgICRvcHRpb25MaS50b2dnbGVDbGFzcygnc2VsZWN0ZWQnLCBub3RBZGRlZCk7XG5cbiAgICAgICAgLy8gU2V0IGNoZWNrYm94IGNoZWNrZWQgdmFsdWVcbiAgICAgICAgJG9wdGlvbkxpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnLCBub3RBZGRlZCk7XG5cbiAgICAgICAgLy8gdXNlIG5vdEFkZGVkIGluc3RlYWQgb2YgdHJ1ZSAodG8gZGV0ZWN0IGlmIHRoZSBvcHRpb24gaXMgc2VsZWN0ZWQgb3Igbm90KVxuICAgICAgICAkb3B0aW9uTGkucHJvcCgnc2VsZWN0ZWQnLCBub3RBZGRlZCk7XG5cbiAgICAgICAgcmV0dXJuIG5vdEFkZGVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCB0ZXh0IHZhbHVlIHRvIGlucHV0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2V0VmFsdWVUb0lucHV0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFZhbHVlVG9JbnB1dCgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJGVsLmZpbmQoJ29wdGlvbicpO1xuXG4gICAgICAgIG9wdGlvbnMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICBpZiAoJChlbCkucHJvcCgnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSAkKGVsKS50ZXh0KCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh0ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBmaXJzdERpc2FibGVkID0gdGhpcy4kZWwuZmluZCgnb3B0aW9uOmRpc2FibGVkJykuZXEoMCk7XG4gICAgICAgICAgaWYgKGZpcnN0RGlzYWJsZWQubGVuZ3RoICYmIGZpcnN0RGlzYWJsZWRbMF0udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChmaXJzdERpc2FibGVkLnRleHQoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IHZhbHVlcy5qb2luKCcsICcpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBzZWxlY3RlZCBzdGF0ZSBvZiBkcm9wZG93biB0byBtYXRjaCBhY3R1YWwgc2VsZWN0IGVsZW1lbnRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXRTZWxlY3RlZFN0YXRlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTZWxlY3RlZFN0YXRlcygpIHtcbiAgICAgICAgdGhpcy5fa2V5c1NlbGVjdGVkID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX3ZhbHVlRGljdCkge1xuICAgICAgICAgIHZhciBvcHRpb24gPSB0aGlzLl92YWx1ZURpY3Rba2V5XTtcbiAgICAgICAgICB2YXIgb3B0aW9uSXNTZWxlY3RlZCA9ICQob3B0aW9uLmVsKS5wcm9wKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICQob3B0aW9uLm9wdGlvbkVsKS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJywgb3B0aW9uSXNTZWxlY3RlZCk7XG4gICAgICAgICAgaWYgKG9wdGlvbklzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlT3B0aW9uKCQodGhpcy5kcm9wZG93bk9wdGlvbnMpLCAkKG9wdGlvbi5vcHRpb25FbCkpO1xuICAgICAgICAgICAgdGhpcy5fa2V5c1NlbGVjdGVkW2tleV0gPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKG9wdGlvbi5vcHRpb25FbCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZSBvcHRpb24gYXMgc2VsZWN0ZWQgYW5kIHNjcm9sbCB0byBzZWxlY3RlZCBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtqUXVlcnl9IGNvbGxlY3Rpb24gIFNlbGVjdCBvcHRpb25zIGpRdWVyeSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5ld09wdGlvbiAgZWxlbWVudCBvZiB0aGUgbmV3IG9wdGlvblxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2FjdGl2YXRlT3B0aW9uXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FjdGl2YXRlT3B0aW9uKGNvbGxlY3Rpb24sIG5ld09wdGlvbikge1xuICAgICAgICBpZiAobmV3T3B0aW9uKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uZmluZCgnbGkuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9wdGlvbiA9ICQobmV3T3B0aW9uKTtcbiAgICAgICAgICBvcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgU2VsZWN0ZWQgVmFsdWVzXG4gICAgICAgKiBAcmV0dXJuIHtBcnJheX0gIEFycmF5IG9mIHNlbGVjdGVkIHZhbHVlc1xuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0U2VsZWN0ZWRWYWx1ZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZFZhbHVlcygpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLl9rZXlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKHRoaXMuX3ZhbHVlRGljdFtrZXldLmVsLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRWYWx1ZXM7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KEZvcm1TZWxlY3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb3JtU2VsZWN0KSwgXCJpbml0XCIsIHRoaXMpLmNhbGwodGhpcywgdGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEluc3RhbmNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgICAgdmFyIGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICAgIHJldHVybiBkb21FbGVtLk1fRm9ybVNlbGVjdDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBGb3JtU2VsZWN0O1xuICB9KENvbXBvbmVudCk7XG5cbiAgTS5Gb3JtU2VsZWN0ID0gRm9ybVNlbGVjdDtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEZvcm1TZWxlY3QsICdmb3JtU2VsZWN0JywgJ01fRm9ybVNlbGVjdCcpO1xuICB9XG59KShjYXNoKTtcbjsoZnVuY3Rpb24gKCQsIGFuaW0pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBfZGVmYXVsdHMgPSB7fTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuXG4gIHZhciBSYW5nZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50MjEpIHtcbiAgICBfaW5oZXJpdHMoUmFuZ2UsIF9Db21wb25lbnQyMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgUmFuZ2UgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSYW5nZShlbCwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmdlKTtcblxuICAgICAgdmFyIF90aGlzNzIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmFuZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSYW5nZSkpLmNhbGwodGhpcywgUmFuZ2UsIGVsLCBvcHRpb25zKSk7XG5cbiAgICAgIF90aGlzNzIuZWwuTV9SYW5nZSA9IF90aGlzNzI7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIHJhbmdlXG4gICAgICAgKiBAbWVtYmVyIFJhbmdlI29wdGlvbnNcbiAgICAgICAqL1xuICAgICAgX3RoaXM3Mi5vcHRpb25zID0gJC5leHRlbmQoe30sIFJhbmdlLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgX3RoaXM3Mi5fbW91c2Vkb3duID0gZmFsc2U7XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICBfdGhpczcyLl9zZXR1cFRodW1iKCk7XG5cbiAgICAgIF90aGlzNzIuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgcmV0dXJuIF90aGlzNzI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFJhbmdlLCBbe1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLl9yZW1vdmVUaHVtYigpO1xuICAgICAgICB0aGlzLmVsLk1fUmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zZXR1cEV2ZW50SGFuZGxlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZUJvdW5kID0gdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kID0gdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kID0gdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVJhbmdlQ2hhbmdlQm91bmQpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfcmVtb3ZlRXZlbnRIYW5kbGVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVJhbmdlQ2hhbmdlQm91bmQpO1xuXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnRCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG5cbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFJhbmdlIENoYW5nZVxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVJhbmdlQ2hhbmdlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVJhbmdlQ2hhbmdlKCkge1xuICAgICAgICAkKHRoaXMudmFsdWUpLmh0bWwodGhpcy4kZWwudmFsKCkpO1xuXG4gICAgICAgIGlmICghJCh0aGlzLnRodW1iKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICAgICQodGhpcy50aHVtYikuYWRkQ2xhc3MoJ2FjdGl2ZScpLmNzcygnbGVmdCcsIG9mZnNldExlZnQgKyAncHgnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmFuZ2UgTW91c2Vkb3duIGFuZCBUb3VjaHN0YXJ0XG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydChlKSB7XG4gICAgICAgIC8vIFNldCBpbmRpY2F0b3IgdmFsdWVcbiAgICAgICAgJCh0aGlzLnZhbHVlKS5odG1sKHRoaXMuJGVsLnZhbCgpKTtcblxuICAgICAgICB0aGlzLl9tb3VzZWRvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgaWYgKCEkKHRoaXMudGh1bWIpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPT0gJ2lucHV0Jykge1xuICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygnYWN0aXZlJykuY3NzKCdsZWZ0Jywgb2Zmc2V0TGVmdCArICdweCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSGFuZGxlIFJhbmdlIElucHV0LCBNb3VzZW1vdmUgYW5kIFRvdWNobW92ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdXNlZG93bikge1xuICAgICAgICAgIGlmICghJCh0aGlzLnRodW1iKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygnYWN0aXZlJykuY3NzKCdsZWZ0Jywgb2Zmc2V0TGVmdCArICdweCcpO1xuICAgICAgICAgICQodGhpcy52YWx1ZSkuaHRtbCh0aGlzLiRlbC52YWwoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmFuZ2UgTW91c2V1cCBhbmQgVG91Y2hlbmRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCgpIHtcbiAgICAgICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIYW5kbGUgUmFuZ2UgQmx1ciwgTW91c2VvdXQgYW5kIFRvdWNobGVhdmVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21vdXNlZG93bikge1xuICAgICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KHRoaXMuJGVsLmNzcygncGFkZGluZy1sZWZ0JykpO1xuICAgICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gNyArIHBhZGRpbmdMZWZ0ICsgJ3B4JztcblxuICAgICAgICAgIGlmICgkKHRoaXMudGh1bWIpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy50aHVtYixcbiAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgdG9wOiAxMCxcbiAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxuICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJCh0aGlzLnRodW1iKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBTZXR1cCBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3NldHVwVGh1bWJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBUaHVtYigpIHtcbiAgICAgICAgdGhpcy50aHVtYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgJCh0aGlzLnRodW1iKS5hZGRDbGFzcygndGh1bWInKTtcbiAgICAgICAgJCh0aGlzLnZhbHVlKS5hZGRDbGFzcygndmFsdWUnKTtcbiAgICAgICAgJCh0aGlzLnRodW1iKS5hcHBlbmQodGhpcy52YWx1ZSk7XG4gICAgICAgIHRoaXMuJGVsLmFmdGVyKHRoaXMudGh1bWIpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBkcm9wZG93blxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZVRodW1iXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVRodW1iKCkge1xuICAgICAgICAkKHRoaXMudGh1bWIpLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIG1vcnBoIHRodW1iIGludG8gYnViYmxlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfc2hvd1JhbmdlQnViYmxlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dSYW5nZUJ1YmJsZSgpIHtcbiAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQoJCh0aGlzLnRodW1iKS5wYXJlbnQoKS5jc3MoJ3BhZGRpbmctbGVmdCcpKTtcbiAgICAgICAgdmFyIG1hcmdpbkxlZnQgPSAtNyArIHBhZGRpbmdMZWZ0ICsgJ3B4JzsgLy8gVE9ETzogZml4IG1hZ2ljIG51bWJlcj9cbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMudGh1bWIsXG4gICAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgICB3aWR0aDogMzAsXG4gICAgICAgICAgdG9wOiAtMzAsXG4gICAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcbiAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsY3VsYXRlIHRoZSBvZmZzZXQgb2YgdGhlIHRodW1iXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICBvZmZzZXQgaW4gcGl4ZWxzXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfY2FsY1JhbmdlT2Zmc2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGNSYW5nZU9mZnNldCgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy4kZWwud2lkdGgoKSAtIDE1O1xuICAgICAgICB2YXIgbWF4ID0gcGFyc2VGbG9hdCh0aGlzLiRlbC5hdHRyKCdtYXgnKSkgfHwgMTAwOyAvLyBSYW5nZSBkZWZhdWx0IG1heFxuICAgICAgICB2YXIgbWluID0gcGFyc2VGbG9hdCh0aGlzLiRlbC5hdHRyKCdtaW4nKSkgfHwgMDsgLy8gUmFuZ2UgZGVmYXVsdCBtaW5cbiAgICAgICAgdmFyIHBlcmNlbnQgPSAocGFyc2VGbG9hdCh0aGlzLiRlbC52YWwoKSkgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgICAgIHJldHVybiBwZXJjZW50ICogd2lkdGg7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiaW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfZ2V0KFJhbmdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmFuZ2UpLCBcImluaXRcIiwgdGhpcykuY2FsbCh0aGlzLCB0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICB2YXIgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW0uTV9SYW5nZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSYW5nZTtcbiAgfShDb21wb25lbnQpO1xuXG4gIE0uUmFuZ2UgPSBSYW5nZTtcblxuICBpZiAoTS5qUXVlcnlMb2FkZWQpIHtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFJhbmdlLCAncmFuZ2UnLCAnTV9SYW5nZScpO1xuICB9XG5cbiAgUmFuZ2UuaW5pdCgkKCdpbnB1dFt0eXBlPXJhbmdlXScpKTtcbn0pKGNhc2gsIE0uYW5pbWUpO1xuIiwiaW1wb3J0IEFnb3JhUlRDIGZyb20gJ2Fnb3JhLXJ0Yy1zZGsnXG5pbXBvcnQge1RvYXN0LCBhZGRWaWV3LCByZW1vdmVWaWV3fSBmcm9tICcuL2NvbW1vbidcblxuY29uc29sZS5sb2coJ2Fnb3JhIHNkayB2ZXJzaW9uOiAnICsgQWdvcmFSVEMuVkVSU0lPTiArICcgY29tcGF0aWJsZTogJyArIEFnb3JhUlRDLmNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzKCkpXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJUQ0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLl9jbGllbnQgPSBudWxsXG4gICAgdGhpcy5fam9pbmVkID0gZmFsc2VcbiAgICB0aGlzLl9wdWJsaXNoZWQgPSBmYWxzZVxuICAgIHRoaXMuX2xvY2FsU3RyZWFtID0gbnVsbFxuICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMgPSBbXVxuICAgIHRoaXMuX3BhcmFtcyA9IHt9XG5cbiAgICB0aGlzLl9zaG93UHJvZmlsZSA9IGZhbHNlXG4gIH1cblxuICBoYW5kbGVFdmVudHMoKSB7XG4gICAgdGhpcy5fY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9KVxuICAgIC8vIE9jY3VycyB3aGVuIHRoZSBwZWVyIHVzZXIgbGVhdmVzIHRoZSBjaGFubmVsOyBmb3IgZXhhbXBsZSwgdGhlIHBlZXIgdXNlciBjYWxscyBDbGllbnQubGVhdmUuXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdwZWVyLWxlYXZlJywgKGV2dCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBldnQudWlkXG4gICAgICBsZXQgc3RyZWFtcyA9IHRoaXMuX3JlbW90ZVN0cmVhbXMuZmlsdGVyKGUgPT4gaWQgIT09IGUuZ2V0SWQoKSlcbiAgICAgIGxldCBwZWVyU3RyZWFtID0gdGhpcy5fcmVtb3RlU3RyZWFtcy5maW5kKGUgPT4gaWQgPT09IGUuZ2V0SWQoKSlcbiAgICAgIHBlZXJTdHJlYW0gJiYgcGVlclN0cmVhbS5zdG9wKClcbiAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMgPSBzdHJlYW1zXG4gICAgICBpZiAoaWQgIT09IHRoaXMuX3BhcmFtcy51aWQpIHtcbiAgICAgICAgcmVtb3ZlVmlldyhpZClcbiAgICAgIH1cbiAgICAgIFRvYXN0Lm5vdGljZSgncGVlciBsZWF2ZScpXG4gICAgICBjb25zb2xlLmxvZygncGVlci1sZWF2ZScsIGlkKVxuICAgIH0pXG4gICAgLy8gT2NjdXJzIHdoZW4gdGhlIGxvY2FsIHN0cmVhbSBpcyBfcHVibGlzaGVkLlxuICAgIHRoaXMuX2NsaWVudC5vbignc3RyZWFtLXB1Ymxpc2hlZCcsICgpID0+IHtcbiAgICAgIFRvYXN0Lm5vdGljZSgnc3RyZWFtIHB1Ymxpc2hlZCBzdWNjZXNzJylcbiAgICAgIGNvbnNvbGUubG9nKCdzdHJlYW0tcHVibGlzaGVkJylcbiAgICB9KVxuICAgIC8vIE9jY3VycyB3aGVuIHRoZSByZW1vdGUgc3RyZWFtIGlzIGFkZGVkLlxuICAgIHRoaXMuX2NsaWVudC5vbignc3RyZWFtLWFkZGVkJywgKGV2dCkgPT4geyAgXG4gICAgICBjb25zdCByZW1vdGVTdHJlYW0gPSBldnQuc3RyZWFtXG4gICAgICBjb25zdCBpZCA9IHJlbW90ZVN0cmVhbS5nZXRJZCgpXG4gICAgICBUb2FzdC5pbmZvKCdzdHJlYW0tYWRkZWQgdWlkOiAnICsgaWQpXG4gICAgICBpZiAoaWQgIT09IHRoaXMuX3BhcmFtcy51aWQpIHtcbiAgICAgICAgLy8gdGhpcy5fY2xpZW50LnN1YnNjcmliZShyZW1vdGVTdHJlYW0sIChlcnIpID0+IHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZygnc3RyZWFtIHN1YnNjcmliZSBmYWlsZWQnLCBlcnIpXG4gICAgICAgIC8vIH0pXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnc3RyZWFtLWFkZGVkIHJlbW90ZS11aWQ6ICcsIGlkKVxuICAgIH0pXG4gICAgLy8gT2NjdXJzIHdoZW4gYSB1c2VyIHN1YnNjcmliZXMgdG8gYSByZW1vdGUgc3RyZWFtLlxuICAgIHRoaXMuX2NsaWVudC5vbignc3RyZWFtLXN1YnNjcmliZWQnLCAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCByZW1vdGVTdHJlYW0gPSBldnQuc3RyZWFtXG4gICAgICBjb25zdCBpZCA9IHJlbW90ZVN0cmVhbS5nZXRJZCgpXG4gICAgICB0aGlzLl9yZW1vdGVTdHJlYW1zLnB1c2gocmVtb3RlU3RyZWFtKVxuICAgICAgYWRkVmlldyhpZCwgdGhpcy5fc2hvd1Byb2ZpbGUpXG4gICAgICByZW1vdGVTdHJlYW0ucGxheSgncmVtb3RlX3ZpZGVvXycgKyBpZCwge2ZpdDogJ2NvdmVyJ30pXG4gICAgICBUb2FzdC5pbmZvKCdzdHJlYW0tc3Vic2NyaWJlZCByZW1vdGUtdWlkOiAnICsgaWQpXG4gICAgICBjb25zb2xlLmxvZygnc3RyZWFtLXN1YnNjcmliZWQgcmVtb3RlLXVpZDogJywgaWQpXG4gICAgfSlcbiAgICAvLyBPY2N1cnMgd2hlbiB0aGUgcmVtb3RlIHN0cmVhbSBpcyByZW1vdmVkOyBmb3IgZXhhbXBsZSwgYSBwZWVyIHVzZXIgY2FsbHMgQ2xpZW50LnVucHVibGlzaC5cbiAgICB0aGlzLl9jbGllbnQub24oJ3N0cmVhbS1yZW1vdmVkJywgKGV2dCkgPT4ge1xuICAgICAgY29uc3QgcmVtb3RlU3RyZWFtID0gZXZ0LnN0cmVhbVxuICAgICAgY29uc3QgaWQgPSByZW1vdGVTdHJlYW0uZ2V0SWQoKVxuICAgICAgVG9hc3QuaW5mbygnc3RyZWFtLXJlbW92ZWQgdWlkOiAnICsgaWQpXG4gICAgICByZW1vdGVTdHJlYW0uc3RvcCgpXG4gICAgICB0aGlzLl9yZW1vdGVTdHJlYW1zID0gdGhpcy5fcmVtb3RlU3RyZWFtcy5maWx0ZXIoKHN0cmVhbSkgPT4ge1xuICAgICAgICByZXR1cm4gc3RyZWFtLmdldElkKCkgIT09IGlkXG4gICAgICB9KVxuICAgICAgcmVtb3ZlVmlldyhpZClcbiAgICAgIGNvbnNvbGUubG9nKCdzdHJlYW0tcmVtb3ZlZCByZW1vdGUtdWlkOiAnLCBpZClcbiAgICB9KVxuICAgIHRoaXMuX2NsaWVudC5vbignb25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmUnLCAoKSA9PiB7XG4gICAgICAvLyBBZnRlciByZXF1ZXN0aW5nIGEgbmV3IHRva2VuXG4gICAgICAvLyB0aGlzLl9jbGllbnQucmVuZXdUb2tlbih0b2tlbik7XG4gICAgICBUb2FzdC5pbmZvKCdvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZScpXG4gICAgICBjb25zb2xlLmxvZygnb25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmUnKVxuICAgIH0pXG4gICAgdGhpcy5fY2xpZW50Lm9uKCdvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlJywgKCkgPT4ge1xuICAgICAgLy8gQWZ0ZXIgcmVxdWVzdGluZyBhIG5ldyB0b2tlblxuICAgICAgLy8gY2xpZW50LnJlbmV3VG9rZW4odG9rZW4pO1xuICAgICAgVG9hc3QuaW5mbygnb25Ub2tlblByaXZpbGVnZURpZEV4cGlyZScpXG4gICAgICBjb25zb2xlLmxvZygnb25Ub2tlblByaXZpbGVnZURpZEV4cGlyZScpXG4gICAgfSlcbiAgfVxuXG4gIGpvaW4gKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsgICAgXG4gICAgICBpZiAodGhpcy5fam9pbmVkKSB7XG4gICAgICAgIFRvYXN0LmVycm9yKCdZb3VyIGFscmVhZHkgam9pbmVkJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgXG4gICAgICAvKipcbiAgICAgICAqIEEgY2xhc3MgZGVmaW5pbmcgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGNvbmZpZyBwYXJhbWV0ZXIgaW4gdGhlIGNyZWF0ZUNsaWVudCBtZXRob2QuXG4gICAgICAgKiBOb3RlOlxuICAgICAgICogICAgRW5zdXJlIHRoYXQgeW91IGRvIG5vdCBsZWF2ZSBtb2RlIGFuZCBjb2RlYyBhcyBlbXB0eS5cbiAgICAgICAqICAgIEVuc3VyZSB0aGF0IHlvdSBzZXQgdGhlc2UgcHJvcGVydGllcyBiZWZvcmUgY2FsbGluZyBDbGllbnQuam9pbi5cbiAgICAgICAqICBZb3UgY291bGQgZmluZCBtb3JlIGRldGFpbCBoZXJlLiBodHRwczovL2RvY3MuYWdvcmEuaW8vZW4vVmlkZW8vQVBJJTIwUmVmZXJlbmNlL3dlYi9pbnRlcmZhY2VzL2Fnb3JhcnRjLmNsaWVudGNvbmZpZy5odG1sXG4gICAgICAqKi9cbiAgICAgIHRoaXMuX2NsaWVudCA9IEFnb3JhUlRDLmNyZWF0ZUNsaWVudCh7bW9kZTogZGF0YS5tb2RlLCBjb2RlYzogZGF0YS5jb2RlY30pXG4gICAgXG4gICAgICB0aGlzLl9wYXJhbXMgPSBkYXRhXG4gICAgXG4gICAgICAvLyBoYW5kbGUgQWdvcmFSVEMgY2xpZW50IGV2ZW50XG4gICAgICB0aGlzLmhhbmRsZUV2ZW50cygpXG4gICAgXG4gICAgICAvLyBpbml0IGNsaWVudFxuICAgICAgdGhpcy5fY2xpZW50LmluaXQoZGF0YS5hcHBJRCwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCBzdWNjZXNzJylcbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEpvaW5zIGFuIEFnb3JhUlRDIENoYW5uZWxcbiAgICAgICAgICogVGhpcyBtZXRob2Qgam9pbnMgYW4gQWdvcmFSVEMgY2hhbm5lbC5cbiAgICAgICAgICogUGFyYW1ldGVyc1xuICAgICAgICAgKiB0b2tlbk9yS2V5OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAqICAgIExvdyBzZWN1cml0eSByZXF1aXJlbWVudHM6IFBhc3MgbnVsbCBhcyB0aGUgcGFyYW1ldGVyIHZhbHVlLlxuICAgICAgICAgKiAgICBIaWdoIHNlY3VyaXR5IHJlcXVpcmVtZW50czogUGFzcyB0aGUgc3RyaW5nIG9mIHRoZSBUb2tlbiBvciBDaGFubmVsIEtleSBhcyB0aGUgcGFyYW1ldGVyIHZhbHVlLiBTZWUgVXNlIFNlY3VyaXR5IEtleXMgZm9yIGRldGFpbHMuXG4gICAgICAgICAqICBjaGFubmVsOiBzdHJpbmdcbiAgICAgICAgICogICAgQSBzdHJpbmcgdGhhdCBwcm92aWRlcyBhIHVuaXF1ZSBjaGFubmVsIG5hbWUgZm9yIHRoZSBBZ29yYSBzZXNzaW9uLiBUaGUgbGVuZ3RoIG11c3QgYmUgd2l0aGluIDY0IGJ5dGVzLiBTdXBwb3J0ZWQgY2hhcmFjdGVyIHNjb3BlczpcbiAgICAgICAgICogICAgMjYgbG93ZXJjYXNlIEVuZ2xpc2ggbGV0dGVycyBhLXpcbiAgICAgICAgICogICAgMjYgdXBwZXJjYXNlIEVuZ2xpc2ggbGV0dGVycyBBLVpcbiAgICAgICAgICogICAgMTAgbnVtYmVycyAwLTlcbiAgICAgICAgICogICAgU3BhY2VcbiAgICAgICAgICogICAgXCIhXCIsIFwiI1wiLCBcIiRcIiwgXCIlXCIsIFwiJlwiLCBcIihcIiwgXCIpXCIsIFwiK1wiLCBcIi1cIiwgXCI6XCIsIFwiO1wiLCBcIjxcIiwgXCI9XCIsIFwiLlwiLCBcIj5cIiwgXCI/XCIsIFwiQFwiLCBcIltcIiwgXCJdXCIsIFwiXlwiLCBcIl9cIiwgXCJ7XCIsIFwifVwiLCBcInxcIiwgXCJ+XCIsIFwiLFwiXG4gICAgICAgICAqICB1aWQ6IG51bWJlciB8IG51bGxcbiAgICAgICAgICogICAgVGhlIHVzZXIgSUQsIGFuIGludGVnZXIuIEVuc3VyZSB0aGlzIElEIGlzIHVuaXF1ZS4gSWYgeW91IHNldCB0aGUgdWlkIHRvIG51bGwsIHRoZSBzZXJ2ZXIgYXNzaWducyBvbmUgYW5kIHJldHVybnMgaXQgaW4gdGhlIG9uU3VjY2VzcyBjYWxsYmFjay5cbiAgICAgICAgICogICBOb3RlOlxuICAgICAgICAgKiAgICAgIEFsbCB1c2VycyBpbiB0aGUgc2FtZSBjaGFubmVsIHNob3VsZCBoYXZlIHRoZSBzYW1lIHR5cGUgKG51bWJlcikgb2YgdWlkLlxuICAgICAgICAgKiAgICAgIElmIHlvdSB1c2UgYSBudW1iZXIgYXMgdGhlIHVzZXIgSUQsIGl0IHNob3VsZCBiZSBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHdpdGggYSB2YWx1ZSByYW5naW5nIGZyb20gMCB0byAoMjMyLTEpLlxuICAgICAgICAqKi9cbiAgICAgICAgdGhpcy5fY2xpZW50LmpvaW4oZGF0YS50b2tlbiA/IGRhdGEudG9rZW4gOiBudWxsLCBkYXRhLmNoYW5uZWwsIGRhdGEudWlkID8gK2RhdGEudWlkIDogbnVsbCwgKHVpZCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3BhcmFtcy51aWQgPSB1aWRcbiAgICAgICAgICBUb2FzdC5ub3RpY2UoJ2pvaW4gY2hhbm5lbDogJyArIGRhdGEuY2hhbm5lbCArICcgc3VjY2VzcywgdWlkOiAnICsgdWlkKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdqb2luIGNoYW5uZWw6ICcgKyBkYXRhLmNoYW5uZWwgKyAnIHN1Y2Nlc3MsIHVpZDogJyArIHVpZClcbiAgICAgICAgICB0aGlzLl9qb2luZWQgPSB0cnVlXG4gICAgXG4gICAgICAgICAgLy8gc3RhcnQgc3RyZWFtIGludGVydmFsIHN0YXRzXG4gICAgICAgICAgLy8gaWYgeW91IGRvbid0IG5lZWQgc2hvdyBzdHJlYW0gcHJvZmlsZSB5b3UgY2FuIGNvbW1lbnQgdGhpc1xuICAgICAgICAgIGlmICghdGhpcy5faW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWaWRlb0luZm8oKVxuICAgICAgICAgICAgfSwgMClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gY3JlYXRlIGxvY2FsIHN0cmVhbVxuICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtID0gQWdvcmFSVEMuY3JlYXRlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0cmVhbUlEOiB0aGlzLl9wYXJhbXMudWlkLFxuICAgICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgICAgdmlkZW86IHRydWUsXG4gICAgICAgICAgICBzY3JlZW46IGZhbHNlLFxuICAgICAgICAgICAgLy8gbWljcm9waG9uZUlkOiBkYXRhLm1pY3JvcGhvbmVJZCxcbiAgICAgICAgICAgIGNhbWVyYUlkOiBkYXRhLmNhbWVyYUlkXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtLm9uKCdwbGF5ZXItc3RhdHVzLWNoYW5nZScsIChldnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXIgc3RhdHVzIGNoYW5nZScsIGV2dClcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKGRhdGEuY2FtZXJhUmVzb2x1dGlvbiAmJiBkYXRhLmNhbWVyYVJlc29sdXRpb24gIT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAvLyBzZXQgbG9jYWwgdmlkZW8gcmVzb2x1dGlvblxuICAgICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW0uc2V0VmlkZW9Qcm9maWxlKGRhdGEuY2FtZXJhUmVzb2x1dGlvbilcbiAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgLy8gaW5pdCBsb2NhbCBzdHJlYW1cbiAgICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbS5pbml0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0IGxvY2FsIHN0cmVhbSBzdWNjZXNzJylcbiAgICAgICAgICAgIC8vIHBsYXkgc3RyZWFtIHdpdGggaHRtbCBlbGVtZW50IGlkIFwibG9jYWxfc3RyZWFtXCJcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtLnBsYXkoJ2xvY2FsX3N0cmVhbScsIHtmaXQ6ICdjb3Zlcid9KVxuICAgIFxuICAgICAgICAgICAgLy8gcnVuIGNhbGxiYWNrXG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICB9LCAoZXJyKSA9PiAge1xuICAgICAgICAgICAgVG9hc3QuZXJyb3IoJ3N0cmVhbSBpbml0IGZhaWxlZCwgcGxlYXNlIG9wZW4gY29uc29sZSBzZWUgbW9yZSBkZXRhaWwnKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgVG9hc3QuZXJyb3IoJ2NsaWVudCBqb2luIGZhaWxlZCwgcGxlYXNlIG9wZW4gY29uc29sZSBzZWUgbW9yZSBkZXRhaWwnKVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgICB9KVxuICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICBUb2FzdC5lcnJvcignY2xpZW50IGluaXQgZmFpbGVkLCBwbGVhc2Ugb3BlbiBjb25zb2xlIHNlZSBtb3JlIGRldGFpbCcpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcHVibGlzaCAoKSB7XG4gICAgaWYgKCF0aGlzLl9jbGllbnQpIHtcbiAgICAgIFRvYXN0LmVycm9yKCdQbGVhc2UgSm9pbiBGaXJzdCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuX3B1Ymxpc2hlZCkge1xuICAgICAgVG9hc3QuZXJyb3IoJ1lvdXIgYWxyZWFkeSBwdWJsaXNoZWQnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IG9sZFN0YXRlID0gdGhpcy5fcHVibGlzaGVkXG4gIFxuICAgIC8vIHB1Ymxpc2ggbG9jYWxTdHJlYW1cbiAgICB0aGlzLl9jbGllbnQucHVibGlzaCh0aGlzLl9sb2NhbFN0cmVhbSwgKGVycikgPT4ge1xuICAgICAgdGhpcy5fcHVibGlzaGVkID0gb2xkU3RhdGVcbiAgICAgIGNvbnNvbGUubG9nKCdwdWJsaXNoIGZhaWxlZCcpXG4gICAgICBUb2FzdC5lcnJvcigncHVibGlzaCBmYWlsZWQnKVxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgfSlcbiAgICBUb2FzdC5pbmZvKCdwdWJsaXNoJylcbiAgICB0aGlzLl9wdWJsaXNoZWQgPSB0cnVlXG4gIH1cblxuICB1bnB1Ymxpc2ggKCkge1xuICAgIGlmICghdGhpcy5fY2xpZW50KSB7XG4gICAgICBUb2FzdC5lcnJvcignUGxlYXNlIEpvaW4gRmlyc3QnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghdGhpcy5fcHVibGlzaGVkKSB7XG4gICAgICBUb2FzdC5lcnJvcignWW91ciBkaWRuXFwndCBwdWJsaXNoJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMuX3B1Ymxpc2hlZFxuICAgIHRoaXMuX2NsaWVudC51bnB1Ymxpc2godGhpcy5fbG9jYWxTdHJlYW0sIChlcnIpID0+IHtcbiAgICAgIHRoaXMuX3B1Ymxpc2hlZCA9IG9sZFN0YXRlXG4gICAgICBjb25zb2xlLmxvZygndW5wdWJsaXNoIGZhaWxlZCcpXG4gICAgICBUb2FzdC5lcnJvcigndW5wdWJsaXNoIGZhaWxlZCcpXG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9KVxuICAgIFRvYXN0LmluZm8oJ3VucHVibGlzaCcpXG4gICAgdGhpcy5fcHVibGlzaGVkID0gZmFsc2VcbiAgfVxuXG4gIGxlYXZlICgpIHtcbiAgICBpZiAoIXRoaXMuX2NsaWVudCkge1xuICAgICAgVG9hc3QuZXJyb3IoJ1BsZWFzZSBKb2luIEZpcnN0IScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9qb2luZWQpIHtcbiAgICAgIFRvYXN0LmVycm9yKCdZb3UgYXJlIG5vdCBpbiBjaGFubmVsJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBsZWF2ZSBjaGFubmVsXG4gICAgdGhpcy5fY2xpZW50LmxlYXZlKCgpID0+IHtcbiAgICAgIC8vIGNsb3NlIHN0cmVhbVxuICAgICAgdGhpcy5fbG9jYWxTdHJlYW0uY2xvc2UoKVxuXG4gICAgICAkKCcjbG9jYWxfdmlkZW9faW5mbycpLmFkZENsYXNzKCdoaWRlJylcbiAgICAgIC8vIHN0b3Agc3RyZWFtXG4gICAgICB0aGlzLl9sb2NhbFN0cmVhbS5zdG9wKClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcmVtb3RlU3RyZWFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9yZW1vdGVTdHJlYW1zLnNoaWZ0KClcbiAgICAgICAgY29uc3QgaWQgPSBzdHJlYW0uZ2V0SWQoKVxuICAgICAgICBzdHJlYW0uc3RvcCgpXG4gICAgICAgIHJlbW92ZVZpZXcoaWQpXG4gICAgICB9XG4gICAgICB0aGlzLl9sb2NhbFN0cmVhbSA9IG51bGxcbiAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMgPSBbXVxuICAgICAgdGhpcy5fY2xpZW50ID0gbnVsbFxuICAgICAgY29uc29sZS5sb2coJ2NsaWVudCBsZWF2ZXMgY2hhbm5lbCBzdWNjZXNzJylcbiAgICAgIHRoaXMuX3B1Ymxpc2hlZCA9IGZhbHNlXG4gICAgICB0aGlzLl9qb2luZWQgPSBmYWxzZVxuICAgICAgVG9hc3Qubm90aWNlKCdsZWF2ZSBzdWNjZXNzJylcbiAgICB9LCAoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnY2hhbm5lbCBsZWF2ZSBmYWlsZWQnKVxuICAgICAgVG9hc3QuZXJyb3IoJ2xlYXZlIHN1Y2Nlc3MnKVxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgfSlcbiAgfVxuXG4gIF9nZXRMb3N0UmF0ZSAobG9zdFBhY2tldHMsIGFycml2ZWRQYWNrZXRzKSB7XG4gICAgbGV0IGxvc3QgPSBsb3N0UGFja2V0cyA/ICtsb3N0UGFja2V0cyA6IDBcbiAgICBsZXQgYXJyaXZlZCA9IGFycml2ZWRQYWNrZXRzID8gK2Fycml2ZWRQYWNrZXRzIDogMFxuICAgIGlmIChhcnJpdmVkID09IDApIHJldHVybiAwXG4gICAgY29uc3QgcmVzdWx0ID0gKGxvc3QgLyAobG9zdCArIGFycml2ZWQpKS50b0ZpeGVkKDIpICogMTAwXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgX3VwZGF0ZVZpZGVvSW5mbyAoKSB7XG4gICAgdGhpcy5fbG9jYWxTdHJlYW0gJiYgdGhpcy5fbG9jYWxTdHJlYW0uZ2V0U3RhdHMoKHN0YXRzKSA9PiB7XG4gICAgICBjb25zdCBsb2NhbFN0cmVhbVByb2ZpbGUgPSBbXG4gICAgICAgIFsnVWlkOiAnLCB0aGlzLl9sb2NhbFN0cmVhbSAmJiB0aGlzLl9sb2NhbFN0cmVhbS5nZXRJZCgpXS5qb2luKCcnKSxcbiAgICAgICAgWydTRE4gYWNjZXNzIGRlbGF5OiAnLCBzdGF0cy5hY2Nlc3NEZWxheSwgJ21zJ10uam9pbignJyksXG4gICAgICAgIFsnVmlkZW8gc2VuZDogJywgc3RhdHMudmlkZW9TZW5kRnJhbWVSYXRlLCAnZnBzICcsIHN0YXRzLnZpZGVvU2VuZFJlc29sdXRpb25XaWR0aCArICd4JyArIHN0YXRzLnZpZGVvU2VuZFJlc29sdXRpb25IZWlnaHRdLmpvaW4oJycpLFxuICAgICAgXS5qb2luKCc8YnIvPicpXG4gICAgICAkKCcjbG9jYWxfdmlkZW9faW5mbycpWzBdLmlubmVySFRNTCA9IGxvY2FsU3RyZWFtUHJvZmlsZVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5fcmVtb3RlU3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCByZW1vdGVTdHJlYW0gb2YgdGhpcy5fcmVtb3RlU3RyZWFtcykge1xuICAgICAgICByZW1vdGVTdHJlYW0uZ2V0U3RhdHMoKHN0YXRzKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVtb3RlU3RyZWFtUHJvZmlsZSA9IFtcbiAgICAgICAgICAgIFsnVWlkOiAnLCByZW1vdGVTdHJlYW0uZ2V0SWQoKV0uam9pbignJyksXG4gICAgICAgICAgICBbJ1NETiBhY2Nlc3MgZGVsYXk6ICcsIHN0YXRzLmFjY2Vzc0RlbGF5LCAnbXMnXS5qb2luKCcnKSxcbiAgICAgICAgICAgIFsnRW5kIHRvIGVuZCBkZWxheTogJywgc3RhdHMuZW5kVG9FbmREZWxheSwgJ21zJ10uam9pbignJyksXG4gICAgICAgICAgICBbJ1ZpZGVvIHJlY3Y6ICcsIHN0YXRzLnZpZGVvUmVjZWl2ZUZyYW1lUmF0ZSwgJ2ZwcyAnLCBzdGF0cy52aWRlb1JlY2VpdmVSZXNvbHV0aW9uV2lkdGggKyAneCcgKyBzdGF0cy52aWRlb1JlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0XS5qb2luKCcnKSxcbiAgICAgICAgICBdLmpvaW4oJzxici8+JylcbiAgICAgICAgICBpZiAoJCgnI3JlbW90ZV92aWRlb19pbmZvXycrcmVtb3RlU3RyZWFtLmdldElkKCkpWzBdKSB7XG4gICAgICAgICAgICAkKCcjcmVtb3RlX3ZpZGVvX2luZm9fJytyZW1vdGVTdHJlYW0uZ2V0SWQoKSlbMF0uaW5uZXJIVE1MID0gcmVtb3RlU3RyZWFtUHJvZmlsZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXROZXR3b3JrUXVhbGl0eUFuZFN0cmVhbVN0YXRzIChlbmFibGUpIHtcbiAgICB0aGlzLl9zaG93UHJvZmlsZSA9IGVuYWJsZVxuICAgIHRoaXMuX3Nob3dQcm9maWxlID8gJCgnLnZpZGVvLXByb2ZpbGUnKS5yZW1vdmVDbGFzcygnaGlkZScpIDogJCgnLnZpZGVvLXByb2ZpbGUnKS5hZGRDbGFzcygnaGlkZScpXG4gIH1cbn1cblxuIiwiaW1wb3J0IFJUQ0NsaWVudCBmcm9tICcuL3J0Yy1jbGllbnQnXG5pbXBvcnQge3JlcXVlc3RQZXJtaXNzaW9uLCBnZXREZXZpY2VzLCBUb2FzdCwgc2VyaWFsaXplRm9ybURhdGEsIHZhbGlkYXRvciwgcmVzb2x1dGlvbnN9IGZyb20gJy4vY29tbW9uJ1xuaW1wb3J0ICcuL2Fzc2V0cy9zdHlsZS5jc3MnXG5pbXBvcnQgKiBhcyBNIGZyb20gJ21hdGVyaWFsaXplLWNzcydcbi8vIGltcG9ydCB7c2V0Rm9ybURhdGEsIHBhcnNlRnJvbVNlYXJjaH0gZnJvbSAnLi9zZWFyY2hQYXJhbSc7XG5cbiQoKCkgPT4ge1xuICByZXF1ZXN0UGVybWlzc2lvbihmdW5jdGlvbiAoaGFzUGVybWlzc2lvbikge1xuICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgVG9hc3QuZXJyb3IoJ25vIGNhbWVyYSBvciBtaWNyb3Bob25lIHBlcm1pc3Npb24hJylcbiAgICB9XG4gICAgZ2V0RGV2aWNlcyhmdW5jdGlvbiAoZGV2aWNlcykge1xuICAgIC8vICAgZGV2aWNlcy5hdWRpb3MuZm9yRWFjaChmdW5jdGlvbiAoYXVkaW8pIHtcbiAgICAvLyAgICAgJCgnPG9wdGlvbi8+Jywge1xuICAgIC8vICAgICAgIHZhbHVlOiBhdWRpby52YWx1ZSxcbiAgICAvLyAgICAgICB0ZXh0OiBhdWRpby5uYW1lLFxuICAgIC8vICAgICB9KS5hcHBlbmRUbygnI21pY3JvcGhvbmVJZCcpXG4gICAgLy8gICB9KVxuICAgICAgZGV2aWNlcy52aWRlb3MuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8pIHtcbiAgICAgICAgJCgnPG9wdGlvbi8+Jywge1xuICAgICAgICAgIHZhbHVlOiB2aWRlby52YWx1ZSxcbiAgICAgICAgICB0ZXh0OiB2aWRlby5uYW1lLFxuICAgICAgICB9KS5hcHBlbmRUbygnI2NhbWVyYUlkJylcbiAgICAgIH0pXG4gICAgICByZXNvbHV0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICQoJzxvcHRpb24vPicsIHtcbiAgICAgICAgICB2YWx1ZTogcmVzb2x1dGlvbi52YWx1ZSxcbiAgICAgICAgICB0ZXh0OiByZXNvbHV0aW9uLm5hbWVcbiAgICAgICAgfSkuYXBwZW5kVG8oJyNjYW1lcmFSZXNvbHV0aW9uJylcbiAgICAgIH0pXG4gICAgICBNLkF1dG9Jbml0KClcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IGZpZWxkcyA9IFsnYXBwSUQnLCAnY2hhbm5lbCddXG5cbiAgbGV0IHJ0YyA9IG5ldyBSVENDbGllbnQoKVxuXG4gICQoJy5hdXRvcGxheS1mYWxsYmFjaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgaWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJykuc3BsaXQoJ3ZpZGVvX2F1dG9wbGF5XycpWzFdXG4gICAgY29uc29sZS5sb2coJ2F1dG9wbGF5IGZhbGxiYWNrJylcbiAgICBpZiAoaWQgPT09ICdsb2NhbCcpIHtcbiAgICAgIHJ0Yy5fbG9jYWxTdHJlYW0ucmVzdW1lKCkudGhlbigoKSA9PiB7XG4gICAgICAgIFRvYXN0Lm5vdGljZSgnbG9jYWwgcmVzdW1lJylcbiAgICAgICAgJChlLnRhcmdldCkuYWRkQ2xhc3MoJ2hpZGUnKVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBUb2FzdC5lcnJvcigncmVzdW1lIGZhaWxlZCwgcGxlYXNlIG9wZW4gY29uc29sZSBzZWUgbW9yZSBkZXRhaWxzJylcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHJlbW90ZVN0cmVhbSA9IHJ0Yy5fcmVtb3RlU3RyZWFtcy5maW5kKChpdGVtKSA9PiBgJHtpdGVtLmdldElkKCl9YCA9PSBpZClcbiAgICBpZiAocmVtb3RlU3RyZWFtKSB7XG4gICAgICByZW1vdGVTdHJlYW0ucmVzdW1lKCkudGhlbigoKSA9PiB7XG4gICAgICAgIFRvYXN0Lm5vdGljZSgncmVtb3RlIHJlc3VtZScpXG4gICAgICAgICQoZS50YXJnZXQpLmFkZENsYXNzKCdoaWRlJylcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgVG9hc3QuZXJyb3IoJ3Jlc3VtZSBmYWlsZWQsIHBsZWFzZSBvcGVuIGNvbnNvbGUgc2VlIG1vcmUgZGV0YWlscycpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgJCgnI3Nob3dfcHJvZmlsZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHJ0Yy5zZXROZXR3b3JrUXVhbGl0eUFuZFN0cmVhbVN0YXRzKHRoaXMuY2hlY2tlZClcbiAgfSlcblxuICAkKCcjam9pbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coJ2pvaW4nKVxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZUZvcm1EYXRhKClcbiAgICBpZiAodmFsaWRhdG9yKHBhcmFtcywgZmllbGRzKSkge1xuICAgICAgcnRjLmpvaW4ocGFyYW1zKS50aGVuKCgpID0+IHtcbiAgICAgICAgcnRjLnB1Ymxpc2goKVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgJCgnI3B1Ymxpc2gnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKCdzdGFydExpdmVTdHJlYW1pbmcnKVxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZUZvcm1EYXRhKClcbiAgICBpZiAodmFsaWRhdG9yKHBhcmFtcywgZmllbGRzKSkge1xuICAgICAgcnRjLnB1Ymxpc2goKVxuICAgIH1cbiAgfSlcblxuICAkKCcjdW5wdWJsaXNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZygnc3RvcExpdmVTdHJlYW1pbmcnKVxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZUZvcm1EYXRhKClcbiAgICBpZiAodmFsaWRhdG9yKHBhcmFtcywgZmllbGRzKSkge1xuICAgICAgcnRjLnVucHVibGlzaCgpXG4gICAgfVxuICB9KVxuXG4gICQoJyNsZWF2ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coJ2xlYXZlJylcbiAgICBjb25zdCBwYXJhbXMgPSBzZXJpYWxpemVGb3JtRGF0YSgpXG4gICAgaWYgKHZhbGlkYXRvcihwYXJhbXMsIGZpZWxkcykpIHtcbiAgICAgIHJ0Yy5sZWF2ZSgpXG4gICAgfVxuICB9KVxufSkiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9